/*! For license information please see 9202.c27086da.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_rocket_chat_meteor=self.webpackChunk_rocket_chat_meteor||[]).push([[9202],{"./app/emoji/client/emojiParser.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{G:function(){return emojiParser}});var _client_lib_utils_isIE11__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./client/lib/utils/isIE11.ts"),_lib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/emoji/client/lib.ts");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var emojiParser=function emojiParser(_ref){var html=_ref.html;html=(html=(html=html.trim()).replace(/&#39;/g,"'")).replace(/<br>/g," <br> "),html=Object.entries(_lib__WEBPACK_IMPORTED_MODULE_1__.Z.packages).reverse().reduce((function(value,_ref2){return _slicedToArray(_ref2,2)[1].render(value)}),html);var checkEmojiOnly=document.createElement("div");checkEmojiOnly.innerHTML=html;var emojis=Array.from(checkEmojiOnly.querySelectorAll(".emoji:not(:empty), .emojione:not(:empty)")),hasText=!1;if(!_client_lib_utils_isIE11__WEBPACK_IMPORTED_MODULE_0__.l){for(var walker=document.createTreeWalker(checkEmojiOnly,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,(function filter(node){return node.nodeType===Node.ELEMENT_NODE&&(node.classList.contains("emojione")||node.classList.contains("emoji"))?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}));walker.nextNode();)if(walker.currentNode.nodeType===Node.TEXT_NODE&&""!==walker.currentNode.nodeValue.trim()){hasText=!0;break}if(emojis.length&&!hasText){for(var i=0,len=emojis.length;i<len;i++){emojis[i].classList.add("big")}html=checkEmojiOnly.innerHTML}}return{html:html=(html=html.replace(/\'/g,"&#39;")).replace(/ <br> /g,"<br>")}}},"./app/emoji/client/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Zg:function(){return lib.Z}});__webpack_require__("./node_modules/@rocket.chat/string-helpers/dist/esm/index.js");var lib=__webpack_require__("./app/emoji/client/lib.ts")},"./app/emoji/client/lib.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return emoji}});var emojione__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/emojione/lib/js/emojione.js"),emoji={packages:{base:{emojiCategories:[{key:"recent",i18n:"Frequently_Used"}],categoryIndex:0,emojisByCategory:{recent:[]},toneList:{},render:__webpack_require__.n(emojione__WEBPACK_IMPORTED_MODULE_0__)().toImage,renderPicker:function renderPicker(emojiToRender){var _emoji$packages$corre,correctPackage=emoji.list[emojiToRender].emojiPackage;if(correctPackage)return null===(_emoji$packages$corre=emoji.packages[correctPackage])||void 0===_emoji$packages$corre?void 0:_emoji$packages$corre.renderPicker(emojiToRender)}}},list:{}}},"./app/markdown/lib/markdown.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{AM:function(){return filterMarkdown}});var esm=__webpack_require__("./node_modules/@rocket.chat/string-helpers/dist/esm/index.js"),meteor=__webpack_require__("./.storybook/mocks/meteor.js"),highlight=__webpack_require__("./node_modules/hljs9/lib/highlight.js"),highlight_default=__webpack_require__.n(highlight),clean=__webpack_require__("./node_modules/hljs9/lib/languages/clean.js"),clean_default=__webpack_require__.n(clean),javascript=__webpack_require__("./node_modules/hljs9/lib/languages/javascript.js"),javascript_default=__webpack_require__.n(javascript),markdown=__webpack_require__("./node_modules/hljs9/lib/languages/markdown.js"),markdown_default=__webpack_require__.n(markdown);function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}highlight_default().registerLanguage("markdown",markdown_default()),highlight_default().registerLanguage("clean",clean_default()),highlight_default().registerLanguage("javascript",javascript_default());var register=function(){var _ref=function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(lang){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:_context.t0=lang,_context.next="onec"===_context.t0?3:"abnf"===_context.t0?8:"accesslog"===_context.t0?13:"actionscript"===_context.t0?18:"ada"===_context.t0?23:"apache"===_context.t0?28:"applescript"===_context.t0?33:"arduino"===_context.t0?38:"armasm"===_context.t0?43:"asciidoc"===_context.t0?48:"aspectj"===_context.t0?53:"autohotkey"===_context.t0?58:"autoit"===_context.t0?63:"avrasm"===_context.t0?68:"awk"===_context.t0?73:"axapta"===_context.t0?78:"bash"===_context.t0?83:"basic"===_context.t0?88:"bnf"===_context.t0?93:"brainfuck"===_context.t0?98:"cal"===_context.t0?103:"capnproto"===_context.t0?108:"ceylon"===_context.t0?113:"clean"===_context.t0?118:"clojure"===_context.t0?123:"clojure-repl"===_context.t0?128:"cmake"===_context.t0?133:"coffeescript"===_context.t0?138:"coq"===_context.t0?143:"cos"===_context.t0?148:"cpp"===_context.t0?153:"crmsh"===_context.t0?158:"crystal"===_context.t0?163:"cs"===_context.t0?168:"csp"===_context.t0?173:"css"===_context.t0?178:"d"===_context.t0?183:"dart"===_context.t0?188:"delphi"===_context.t0?193:"diff"===_context.t0?198:"django"===_context.t0?203:"dns"===_context.t0?208:"dockerfile"===_context.t0?213:"dos"===_context.t0?218:"dsconfig"===_context.t0?223:"dts"===_context.t0?228:"dust"===_context.t0?233:"ebnf"===_context.t0?238:"elixir"===_context.t0?243:"elm"===_context.t0?248:"erb"===_context.t0?253:"erlang"===_context.t0?258:"excel"===_context.t0?263:"fix"===_context.t0?268:"flix"===_context.t0?273:"fortran"===_context.t0?278:"fsharp"===_context.t0?283:"gams"===_context.t0?288:"gauss"===_context.t0?293:"gcode"===_context.t0?298:"gherkin"===_context.t0?303:"glsl"===_context.t0?308:"go"===_context.t0?313:"golo"===_context.t0?318:"gradle"===_context.t0?323:"groovy"===_context.t0?328:"haml"===_context.t0?333:"handlebars"===_context.t0?338:"haskell"===_context.t0?343:"haxe"===_context.t0?348:"hsp"===_context.t0?353:"htmlbars"===_context.t0?358:"http"===_context.t0?363:"hy"===_context.t0?368:"inform7"===_context.t0?373:"ini"===_context.t0?378:"irpf90"===_context.t0?383:"java"===_context.t0?388:"javascript"===_context.t0?393:"jboss-cli"===_context.t0?398:"json"===_context.t0?403:"julia"===_context.t0?408:"julia-repl"===_context.t0?413:"kotlin"===_context.t0?418:"lasso"===_context.t0?423:"ldif"===_context.t0?428:"leaf"===_context.t0?433:"less"===_context.t0?438:"lisp"===_context.t0?443:"livecodeserver"===_context.t0?448:"livescript"===_context.t0?453:"llvm"===_context.t0?458:"lsl"===_context.t0?463:"lua"===_context.t0?468:"makefile"===_context.t0?473:"markdown"===_context.t0?478:"mathematica"===_context.t0?483:"matlab"===_context.t0?488:"maxima"===_context.t0?493:"mel"===_context.t0?498:"mercury"===_context.t0?503:"mipsasm"===_context.t0?508:"mizar"===_context.t0?513:"perl"===_context.t0?518:"mojolicious"===_context.t0?523:"monkey"===_context.t0?528:"moonscript"===_context.t0?533:"n1ql"===_context.t0?538:"nginx"===_context.t0?543:"nimrod"===_context.t0?548:"nix"===_context.t0?553:"nsis"===_context.t0?558:"objectivec"===_context.t0?563:"ocaml"===_context.t0?568:"openscad"===_context.t0?573:"oxygene"===_context.t0?578:"parser3"===_context.t0?583:"pf"===_context.t0?588:"php"===_context.t0?593:"pony"===_context.t0?598:"powershell"===_context.t0?603:"processing"===_context.t0?608:"profile"===_context.t0?613:"prolog"===_context.t0?618:"protobuf"===_context.t0?623:"puppet"===_context.t0?628:"purebasic"===_context.t0?633:"python"===_context.t0?638:"q"===_context.t0?643:"qml"===_context.t0?648:"r"===_context.t0?653:"rib"===_context.t0?658:"roboconf"===_context.t0?663:"rsl"===_context.t0?668:"ruleslanguage"===_context.t0?673:"rust"===_context.t0?678:"scala"===_context.t0?683:"scheme"===_context.t0?688:"scilab"===_context.t0?693:"scss"===_context.t0?698:"shell"===_context.t0?703:"smali"===_context.t0?708:"smalltalk"===_context.t0?713:"sml"===_context.t0?718:"sqf"===_context.t0?723:"sql"===_context.t0?728:"stan"===_context.t0?733:"stata"===_context.t0?738:"step21"===_context.t0?743:"stylus"===_context.t0?748:"subunit"===_context.t0?753:"swift"===_context.t0?758:"taggerscript"===_context.t0?763:"yaml"===_context.t0?768:"tap"===_context.t0?773:"tcl"===_context.t0?778:"tex"===_context.t0?783:"thrift"===_context.t0?788:"tp"===_context.t0?793:"twig"===_context.t0?798:"typescript"===_context.t0?803:"vala"===_context.t0?808:"vbnet"===_context.t0?813:"vbscript"===_context.t0?818:"vbscript-html"===_context.t0?823:"verilog"===_context.t0?828:"vhdl"===_context.t0?833:"vim"===_context.t0?838:"x86asm"===_context.t0?843:"xl"===_context.t0?848:"xquery"===_context.t0?853:"zephir"===_context.t0?858:863;break;case 3:return _context.t1=highlight_default(),_context.next=6,__webpack_require__.e(2965).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/1c.js",23));case 6:return _context.t2=_context.sent.default,_context.abrupt("return",_context.t1.registerLanguage.call(_context.t1,"onec",_context.t2));case 8:return _context.t3=highlight_default(),_context.next=11,__webpack_require__.e(1926).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/abnf.js",23));case 11:return _context.t4=_context.sent.default,_context.abrupt("return",_context.t3.registerLanguage.call(_context.t3,"abnf",_context.t4));case 13:return _context.t5=highlight_default(),_context.next=16,__webpack_require__.e(5341).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/accesslog.js",23));case 16:return _context.t6=_context.sent.default,_context.abrupt("return",_context.t5.registerLanguage.call(_context.t5,"accesslog",_context.t6));case 18:return _context.t7=highlight_default(),_context.next=21,__webpack_require__.e(4292).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/actionscript.js",23));case 21:return _context.t8=_context.sent.default,_context.abrupt("return",_context.t7.registerLanguage.call(_context.t7,"actionscript",_context.t8));case 23:return _context.t9=highlight_default(),_context.next=26,__webpack_require__.e(3233).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/ada.js",23));case 26:return _context.t10=_context.sent.default,_context.abrupt("return",_context.t9.registerLanguage.call(_context.t9,"ada",_context.t10));case 28:return _context.t11=highlight_default(),_context.next=31,__webpack_require__.e(5635).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/apache.js",23));case 31:return _context.t12=_context.sent.default,_context.abrupt("return",_context.t11.registerLanguage.call(_context.t11,"apache",_context.t12));case 33:return _context.t13=highlight_default(),_context.next=36,__webpack_require__.e(5250).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/applescript.js",23));case 36:return _context.t14=_context.sent.default,_context.abrupt("return",_context.t13.registerLanguage.call(_context.t13,"applescript",_context.t14));case 38:return _context.t15=highlight_default(),_context.next=41,__webpack_require__.e(6617).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/arduino.js",23));case 41:return _context.t16=_context.sent.default,_context.abrupt("return",_context.t15.registerLanguage.call(_context.t15,"arduino",_context.t16));case 43:return _context.t17=highlight_default(),_context.next=46,__webpack_require__.e(8044).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/armasm.js",23));case 46:return _context.t18=_context.sent.default,_context.abrupt("return",_context.t17.registerLanguage.call(_context.t17,"armasm",_context.t18));case 48:return _context.t19=highlight_default(),_context.next=51,__webpack_require__.e(9798).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/asciidoc.js",23));case 51:return _context.t20=_context.sent.default,_context.abrupt("return",_context.t19.registerLanguage.call(_context.t19,"asciidoc",_context.t20));case 53:return _context.t21=highlight_default(),_context.next=56,__webpack_require__.e(9291).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/aspectj.js",23));case 56:return _context.t22=_context.sent.default,_context.abrupt("return",_context.t21.registerLanguage.call(_context.t21,"aspectj",_context.t22));case 58:return _context.t23=highlight_default(),_context.next=61,__webpack_require__.e(316).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/autohotkey.js",23));case 61:return _context.t24=_context.sent.default,_context.abrupt("return",_context.t23.registerLanguage.call(_context.t23,"autohotkey",_context.t24));case 63:return _context.t25=highlight_default(),_context.next=66,__webpack_require__.e(9331).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/autoit.js",23));case 66:return _context.t26=_context.sent.default,_context.abrupt("return",_context.t25.registerLanguage.call(_context.t25,"autoit",_context.t26));case 68:return _context.t27=highlight_default(),_context.next=71,__webpack_require__.e(5027).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/avrasm.js",23));case 71:return _context.t28=_context.sent.default,_context.abrupt("return",_context.t27.registerLanguage.call(_context.t27,"avrasm",_context.t28));case 73:return _context.t29=highlight_default(),_context.next=76,__webpack_require__.e(8804).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/awk.js",23));case 76:return _context.t30=_context.sent.default,_context.abrupt("return",_context.t29.registerLanguage.call(_context.t29,"awk",_context.t30));case 78:return _context.t31=highlight_default(),_context.next=81,__webpack_require__.e(3582).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/axapta.js",23));case 81:return _context.t32=_context.sent.default,_context.abrupt("return",_context.t31.registerLanguage.call(_context.t31,"axapta",_context.t32));case 83:return _context.t33=highlight_default(),_context.next=86,__webpack_require__.e(9731).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/bash.js",23));case 86:return _context.t34=_context.sent.default,_context.abrupt("return",_context.t33.registerLanguage.call(_context.t33,"bash",_context.t34));case 88:return _context.t35=highlight_default(),_context.next=91,__webpack_require__.e(5139).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/basic.js",23));case 91:return _context.t36=_context.sent.default,_context.abrupt("return",_context.t35.registerLanguage.call(_context.t35,"basic",_context.t36));case 93:return _context.t37=highlight_default(),_context.next=96,__webpack_require__.e(6695).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/bnf.js",23));case 96:return _context.t38=_context.sent.default,_context.abrupt("return",_context.t37.registerLanguage.call(_context.t37,"bnf",_context.t38));case 98:return _context.t39=highlight_default(),_context.next=101,__webpack_require__.e(9634).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/brainfuck.js",23));case 101:return _context.t40=_context.sent.default,_context.abrupt("return",_context.t39.registerLanguage.call(_context.t39,"brainfuck",_context.t40));case 103:return _context.t41=highlight_default(),_context.next=106,__webpack_require__.e(1349).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/cal.js",23));case 106:return _context.t42=_context.sent.default,_context.abrupt("return",_context.t41.registerLanguage.call(_context.t41,"cal",_context.t42));case 108:return _context.t43=highlight_default(),_context.next=111,__webpack_require__.e(8793).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/capnproto.js",23));case 111:return _context.t44=_context.sent.default,_context.abrupt("return",_context.t43.registerLanguage.call(_context.t43,"capnproto",_context.t44));case 113:return _context.t45=highlight_default(),_context.next=116,__webpack_require__.e(6337).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/ceylon.js",23));case 116:return _context.t46=_context.sent.default,_context.abrupt("return",_context.t45.registerLanguage.call(_context.t45,"ceylon",_context.t46));case 118:return _context.t47=highlight_default(),_context.next=121,Promise.resolve().then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/clean.js",23));case 121:return _context.t48=_context.sent.default,_context.abrupt("return",_context.t47.registerLanguage.call(_context.t47,"clean",_context.t48));case 123:return _context.t49=highlight_default(),_context.next=126,__webpack_require__.e(7969).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/clojure.js",23));case 126:return _context.t50=_context.sent.default,_context.abrupt("return",_context.t49.registerLanguage.call(_context.t49,"clojure",_context.t50));case 128:return _context.t51=highlight_default(),_context.next=131,__webpack_require__.e(8927).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/clojure-repl.js",23));case 131:return _context.t52=_context.sent.default,_context.abrupt("return",_context.t51.registerLanguage.call(_context.t51,"clojure-repl",_context.t52));case 133:return _context.t53=highlight_default(),_context.next=136,__webpack_require__.e(3430).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/cmake.js",23));case 136:return _context.t54=_context.sent.default,_context.abrupt("return",_context.t53.registerLanguage.call(_context.t53,"cmake",_context.t54));case 138:return _context.t55=highlight_default(),_context.next=141,__webpack_require__.e(6826).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/coffeescript.js",23));case 141:return _context.t56=_context.sent.default,_context.abrupt("return",_context.t55.registerLanguage.call(_context.t55,"coffeescript",_context.t56));case 143:return _context.t57=highlight_default(),_context.next=146,__webpack_require__.e(6040).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/coq.js",23));case 146:return _context.t58=_context.sent.default,_context.abrupt("return",_context.t57.registerLanguage.call(_context.t57,"coq",_context.t58));case 148:return _context.t59=highlight_default(),_context.next=151,__webpack_require__.e(1330).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/cos.js",23));case 151:return _context.t60=_context.sent.default,_context.abrupt("return",_context.t59.registerLanguage.call(_context.t59,"cos",_context.t60));case 153:return _context.t61=highlight_default(),_context.next=156,__webpack_require__.e(5554).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/cpp.js",23));case 156:return _context.t62=_context.sent.default,_context.abrupt("return",_context.t61.registerLanguage.call(_context.t61,"cpp",_context.t62));case 158:return _context.t63=highlight_default(),_context.next=161,__webpack_require__.e(9902).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/crmsh.js",23));case 161:return _context.t64=_context.sent.default,_context.abrupt("return",_context.t63.registerLanguage.call(_context.t63,"crmsh",_context.t64));case 163:return _context.t65=highlight_default(),_context.next=166,__webpack_require__.e(6511).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/crystal.js",23));case 166:return _context.t66=_context.sent.default,_context.abrupt("return",_context.t65.registerLanguage.call(_context.t65,"crystal",_context.t66));case 168:return _context.t67=highlight_default(),_context.next=171,__webpack_require__.e(699).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/cs.js",23));case 171:return _context.t68=_context.sent.default,_context.abrupt("return",_context.t67.registerLanguage.call(_context.t67,"cs",_context.t68));case 173:return _context.t69=highlight_default(),_context.next=176,__webpack_require__.e(5195).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/csp.js",23));case 176:return _context.t70=_context.sent.default,_context.abrupt("return",_context.t69.registerLanguage.call(_context.t69,"csp",_context.t70));case 178:return _context.t71=highlight_default(),_context.next=181,__webpack_require__.e(3982).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/css.js",23));case 181:return _context.t72=_context.sent.default,_context.abrupt("return",_context.t71.registerLanguage.call(_context.t71,"css",_context.t72));case 183:return _context.t73=highlight_default(),_context.next=186,__webpack_require__.e(9233).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/d.js",23));case 186:return _context.t74=_context.sent.default,_context.abrupt("return",_context.t73.registerLanguage.call(_context.t73,"d",_context.t74));case 188:return _context.t75=highlight_default(),_context.next=191,__webpack_require__.e(3816).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/dart.js",23));case 191:return _context.t76=_context.sent.default,_context.abrupt("return",_context.t75.registerLanguage.call(_context.t75,"dart",_context.t76));case 193:return _context.t77=highlight_default(),_context.next=196,__webpack_require__.e(7421).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/delphi.js",23));case 196:return _context.t78=_context.sent.default,_context.abrupt("return",_context.t77.registerLanguage.call(_context.t77,"delphi",_context.t78));case 198:return _context.t79=highlight_default(),_context.next=201,__webpack_require__.e(110).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/diff.js",23));case 201:return _context.t80=_context.sent.default,_context.abrupt("return",_context.t79.registerLanguage.call(_context.t79,"diff",_context.t80));case 203:return _context.t81=highlight_default(),_context.next=206,__webpack_require__.e(4882).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/django.js",23));case 206:return _context.t82=_context.sent.default,_context.abrupt("return",_context.t81.registerLanguage.call(_context.t81,"django",_context.t82));case 208:return _context.t83=highlight_default(),_context.next=211,__webpack_require__.e(8946).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/dns.js",23));case 211:return _context.t84=_context.sent.default,_context.abrupt("return",_context.t83.registerLanguage.call(_context.t83,"dns",_context.t84));case 213:return _context.t85=highlight_default(),_context.next=216,__webpack_require__.e(1387).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/dockerfile.js",23));case 216:return _context.t86=_context.sent.default,_context.abrupt("return",_context.t85.registerLanguage.call(_context.t85,"dockerfile",_context.t86));case 218:return _context.t87=highlight_default(),_context.next=221,__webpack_require__.e(4495).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/dos.js",23));case 221:return _context.t88=_context.sent.default,_context.abrupt("return",_context.t87.registerLanguage.call(_context.t87,"dos",_context.t88));case 223:return _context.t89=highlight_default(),_context.next=226,__webpack_require__.e(4038).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/dsconfig.js",23));case 226:return _context.t90=_context.sent.default,_context.abrupt("return",_context.t89.registerLanguage.call(_context.t89,"dsconfig",_context.t90));case 228:return _context.t91=highlight_default(),_context.next=231,__webpack_require__.e(4548).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/dts.js",23));case 231:return _context.t92=_context.sent.default,_context.abrupt("return",_context.t91.registerLanguage.call(_context.t91,"dts",_context.t92));case 233:return _context.t93=highlight_default(),_context.next=236,__webpack_require__.e(8081).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/dust.js",23));case 236:return _context.t94=_context.sent.default,_context.abrupt("return",_context.t93.registerLanguage.call(_context.t93,"dust",_context.t94));case 238:return _context.t95=highlight_default(),_context.next=241,__webpack_require__.e(1842).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/ebnf.js",23));case 241:return _context.t96=_context.sent.default,_context.abrupt("return",_context.t95.registerLanguage.call(_context.t95,"ebnf",_context.t96));case 243:return _context.t97=highlight_default(),_context.next=246,__webpack_require__.e(5638).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/elixir.js",23));case 246:return _context.t98=_context.sent.default,_context.abrupt("return",_context.t97.registerLanguage.call(_context.t97,"elixir",_context.t98));case 248:return _context.t99=highlight_default(),_context.next=251,__webpack_require__.e(4833).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/elm.js",23));case 251:return _context.t100=_context.sent.default,_context.abrupt("return",_context.t99.registerLanguage.call(_context.t99,"elm",_context.t100));case 253:return _context.t101=highlight_default(),_context.next=256,__webpack_require__.e(178).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/erb.js",23));case 256:return _context.t102=_context.sent.default,_context.abrupt("return",_context.t101.registerLanguage.call(_context.t101,"erb",_context.t102));case 258:return _context.t103=highlight_default(),_context.next=261,__webpack_require__.e(6994).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/erlang.js",23));case 261:return _context.t104=_context.sent.default,_context.abrupt("return",_context.t103.registerLanguage.call(_context.t103,"erlang",_context.t104));case 263:return _context.t105=highlight_default(),_context.next=266,__webpack_require__.e(9842).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/excel.js",23));case 266:return _context.t106=_context.sent.default,_context.abrupt("return",_context.t105.registerLanguage.call(_context.t105,"excel",_context.t106));case 268:return _context.t107=highlight_default(),_context.next=271,__webpack_require__.e(1090).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/fix.js",23));case 271:return _context.t108=_context.sent.default,_context.abrupt("return",_context.t107.registerLanguage.call(_context.t107,"fix",_context.t108));case 273:return _context.t109=highlight_default(),_context.next=276,__webpack_require__.e(7022).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/flix.js",23));case 276:return _context.t110=_context.sent.default,_context.abrupt("return",_context.t109.registerLanguage.call(_context.t109,"flix",_context.t110));case 278:return _context.t111=highlight_default(),_context.next=281,__webpack_require__.e(8007).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/fortran.js",23));case 281:return _context.t112=_context.sent.default,_context.abrupt("return",_context.t111.registerLanguage.call(_context.t111,"fortran",_context.t112));case 283:return _context.t113=highlight_default(),_context.next=286,__webpack_require__.e(7507).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/fsharp.js",23));case 286:return _context.t114=_context.sent.default,_context.abrupt("return",_context.t113.registerLanguage.call(_context.t113,"fsharp",_context.t114));case 288:return _context.t115=highlight_default(),_context.next=291,__webpack_require__.e(4254).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/gams.js",23));case 291:return _context.t116=_context.sent.default,_context.abrupt("return",_context.t115.registerLanguage.call(_context.t115,"gams",_context.t116));case 293:return _context.t117=highlight_default(),_context.next=296,__webpack_require__.e(6620).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/gauss.js",23));case 296:return _context.t118=_context.sent.default,_context.abrupt("return",_context.t117.registerLanguage.call(_context.t117,"gauss",_context.t118));case 298:return _context.t119=highlight_default(),_context.next=301,__webpack_require__.e(3157).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/gcode.js",23));case 301:return _context.t120=_context.sent.default,_context.abrupt("return",_context.t119.registerLanguage.call(_context.t119,"gcode",_context.t120));case 303:return _context.t121=highlight_default(),_context.next=306,__webpack_require__.e(9327).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/gherkin.js",23));case 306:return _context.t122=_context.sent.default,_context.abrupt("return",_context.t121.registerLanguage.call(_context.t121,"gherkin",_context.t122));case 308:return _context.t123=highlight_default(),_context.next=311,__webpack_require__.e(9770).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/glsl.js",23));case 311:return _context.t124=_context.sent.default,_context.abrupt("return",_context.t123.registerLanguage.call(_context.t123,"glsl",_context.t124));case 313:return _context.t125=highlight_default(),_context.next=316,__webpack_require__.e(1627).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/go.js",23));case 316:return _context.t126=_context.sent.default,_context.abrupt("return",_context.t125.registerLanguage.call(_context.t125,"go",_context.t126));case 318:return _context.t127=highlight_default(),_context.next=321,__webpack_require__.e(4454).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/golo.js",23));case 321:return _context.t128=_context.sent.default,_context.abrupt("return",_context.t127.registerLanguage.call(_context.t127,"golo",_context.t128));case 323:return _context.t129=highlight_default(),_context.next=326,__webpack_require__.e(7338).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/gradle.js",23));case 326:return _context.t130=_context.sent.default,_context.abrupt("return",_context.t129.registerLanguage.call(_context.t129,"gradle",_context.t130));case 328:return _context.t131=highlight_default(),_context.next=331,__webpack_require__.e(7387).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/groovy.js",23));case 331:return _context.t132=_context.sent.default,_context.abrupt("return",_context.t131.registerLanguage.call(_context.t131,"groovy",_context.t132));case 333:return _context.t133=highlight_default(),_context.next=336,__webpack_require__.e(8695).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/haml.js",23));case 336:return _context.t134=_context.sent.default,_context.abrupt("return",_context.t133.registerLanguage.call(_context.t133,"haml",_context.t134));case 338:return _context.t135=highlight_default(),_context.next=341,__webpack_require__.e(2661).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/handlebars.js",23));case 341:return _context.t136=_context.sent.default,_context.abrupt("return",_context.t135.registerLanguage.call(_context.t135,"handlebars",_context.t136));case 343:return _context.t137=highlight_default(),_context.next=346,__webpack_require__.e(209).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/haskell.js",23));case 346:return _context.t138=_context.sent.default,_context.abrupt("return",_context.t137.registerLanguage.call(_context.t137,"haskell",_context.t138));case 348:return _context.t139=highlight_default(),_context.next=351,__webpack_require__.e(629).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/haxe.js",23));case 351:return _context.t140=_context.sent.default,_context.abrupt("return",_context.t139.registerLanguage.call(_context.t139,"haxe",_context.t140));case 353:return _context.t141=highlight_default(),_context.next=356,__webpack_require__.e(354).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/hsp.js",23));case 356:return _context.t142=_context.sent.default,_context.abrupt("return",_context.t141.registerLanguage.call(_context.t141,"hsp",_context.t142));case 358:return _context.t143=highlight_default(),_context.next=361,__webpack_require__.e(78).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/htmlbars.js",23));case 361:return _context.t144=_context.sent.default,_context.abrupt("return",_context.t143.registerLanguage.call(_context.t143,"htmlbars",_context.t144));case 363:return _context.t145=highlight_default(),_context.next=366,__webpack_require__.e(8377).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/http.js",23));case 366:return _context.t146=_context.sent.default,_context.abrupt("return",_context.t145.registerLanguage.call(_context.t145,"http",_context.t146));case 368:return _context.t147=highlight_default(),_context.next=371,__webpack_require__.e(8450).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/hy.js",23));case 371:return _context.t148=_context.sent.default,_context.abrupt("return",_context.t147.registerLanguage.call(_context.t147,"hy",_context.t148));case 373:return _context.t149=highlight_default(),_context.next=376,__webpack_require__.e(7939).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/inform7.js",23));case 376:return _context.t150=_context.sent.default,_context.abrupt("return",_context.t149.registerLanguage.call(_context.t149,"inform7",_context.t150));case 378:return _context.t151=highlight_default(),_context.next=381,__webpack_require__.e(399).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/ini.js",23));case 381:return _context.t152=_context.sent.default,_context.abrupt("return",_context.t151.registerLanguage.call(_context.t151,"ini",_context.t152));case 383:return _context.t153=highlight_default(),_context.next=386,__webpack_require__.e(9829).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/irpf90.js",23));case 386:return _context.t154=_context.sent.default,_context.abrupt("return",_context.t153.registerLanguage.call(_context.t153,"irpf90",_context.t154));case 388:return _context.t155=highlight_default(),_context.next=391,__webpack_require__.e(1297).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/java.js",23));case 391:return _context.t156=_context.sent.default,_context.abrupt("return",_context.t155.registerLanguage.call(_context.t155,"java",_context.t156));case 393:return _context.t157=highlight_default(),_context.next=396,Promise.resolve().then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/javascript.js",23));case 396:return _context.t158=_context.sent.default,_context.abrupt("return",_context.t157.registerLanguage.call(_context.t157,"javascript",_context.t158));case 398:return _context.t159=highlight_default(),_context.next=401,__webpack_require__.e(3301).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/jboss-cli.js",23));case 401:return _context.t160=_context.sent.default,_context.abrupt("return",_context.t159.registerLanguage.call(_context.t159,"jboss-cli",_context.t160));case 403:return _context.t161=highlight_default(),_context.next=406,__webpack_require__.e(4927).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/json.js",23));case 406:return _context.t162=_context.sent.default,_context.abrupt("return",_context.t161.registerLanguage.call(_context.t161,"json",_context.t162));case 408:return _context.t163=highlight_default(),_context.next=411,__webpack_require__.e(732).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/julia.js",23));case 411:return _context.t164=_context.sent.default,_context.abrupt("return",_context.t163.registerLanguage.call(_context.t163,"julia",_context.t164));case 413:return _context.t165=highlight_default(),_context.next=416,__webpack_require__.e(8628).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/julia-repl.js",23));case 416:return _context.t166=_context.sent.default,_context.abrupt("return",_context.t165.registerLanguage.call(_context.t165,"julia-repl",_context.t166));case 418:return _context.t167=highlight_default(),_context.next=421,__webpack_require__.e(4644).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/kotlin.js",23));case 421:return _context.t168=_context.sent.default,_context.abrupt("return",_context.t167.registerLanguage.call(_context.t167,"kotlin",_context.t168));case 423:return _context.t169=highlight_default(),_context.next=426,__webpack_require__.e(4139).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/lasso.js",23));case 426:return _context.t170=_context.sent.default,_context.abrupt("return",_context.t169.registerLanguage.call(_context.t169,"lasso",_context.t170));case 428:return _context.t171=highlight_default(),_context.next=431,__webpack_require__.e(7930).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/ldif.js",23));case 431:return _context.t172=_context.sent.default,_context.abrupt("return",_context.t171.registerLanguage.call(_context.t171,"ldif",_context.t172));case 433:return _context.t173=highlight_default(),_context.next=436,__webpack_require__.e(7277).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/leaf.js",23));case 436:return _context.t174=_context.sent.default,_context.abrupt("return",_context.t173.registerLanguage.call(_context.t173,"leaf",_context.t174));case 438:return _context.t175=highlight_default(),_context.next=441,__webpack_require__.e(1964).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/less.js",23));case 441:return _context.t176=_context.sent.default,_context.abrupt("return",_context.t175.registerLanguage.call(_context.t175,"less",_context.t176));case 443:return _context.t177=highlight_default(),_context.next=446,__webpack_require__.e(8841).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/lisp.js",23));case 446:return _context.t178=_context.sent.default,_context.abrupt("return",_context.t177.registerLanguage.call(_context.t177,"lisp",_context.t178));case 448:return _context.t179=highlight_default(),_context.next=451,__webpack_require__.e(6313).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/livecodeserver.js",23));case 451:return _context.t180=_context.sent.default,_context.abrupt("return",_context.t179.registerLanguage.call(_context.t179,"livecodeserver",_context.t180));case 453:return _context.t181=highlight_default(),_context.next=456,__webpack_require__.e(3388).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/livescript.js",23));case 456:return _context.t182=_context.sent.default,_context.abrupt("return",_context.t181.registerLanguage.call(_context.t181,"livescript",_context.t182));case 458:return _context.t183=highlight_default(),_context.next=461,__webpack_require__.e(68).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/llvm.js",23));case 461:return _context.t184=_context.sent.default,_context.abrupt("return",_context.t183.registerLanguage.call(_context.t183,"llvm",_context.t184));case 463:return _context.t185=highlight_default(),_context.next=466,__webpack_require__.e(1570).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/lsl.js",23));case 466:return _context.t186=_context.sent.default,_context.abrupt("return",_context.t185.registerLanguage.call(_context.t185,"lsl",_context.t186));case 468:return _context.t187=highlight_default(),_context.next=471,__webpack_require__.e(3671).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/lua.js",23));case 471:return _context.t188=_context.sent.default,_context.abrupt("return",_context.t187.registerLanguage.call(_context.t187,"lua",_context.t188));case 473:return _context.t189=highlight_default(),_context.next=476,__webpack_require__.e(9637).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/makefile.js",23));case 476:return _context.t190=_context.sent.default,_context.abrupt("return",_context.t189.registerLanguage.call(_context.t189,"makefile",_context.t190));case 478:return _context.t191=highlight_default(),_context.next=481,Promise.resolve().then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/markdown.js",23));case 481:return _context.t192=_context.sent.default,_context.abrupt("return",_context.t191.registerLanguage.call(_context.t191,"markdown",_context.t192));case 483:return _context.t193=highlight_default(),_context.next=486,__webpack_require__.e(4169).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/mathematica.js",23));case 486:return _context.t194=_context.sent.default,_context.abrupt("return",_context.t193.registerLanguage.call(_context.t193,"mathematica",_context.t194));case 488:return _context.t195=highlight_default(),_context.next=491,__webpack_require__.e(7456).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/matlab.js",23));case 491:return _context.t196=_context.sent.default,_context.abrupt("return",_context.t195.registerLanguage.call(_context.t195,"matlab",_context.t196));case 493:return _context.t197=highlight_default(),_context.next=496,__webpack_require__.e(954).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/maxima.js",23));case 496:return _context.t198=_context.sent.default,_context.abrupt("return",_context.t197.registerLanguage.call(_context.t197,"maxima",_context.t198));case 498:return _context.t199=highlight_default(),_context.next=501,__webpack_require__.e(2831).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/mel.js",23));case 501:return _context.t200=_context.sent.default,_context.abrupt("return",_context.t199.registerLanguage.call(_context.t199,"mel",_context.t200));case 503:return _context.t201=highlight_default(),_context.next=506,__webpack_require__.e(3432).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/mercury.js",23));case 506:return _context.t202=_context.sent.default,_context.abrupt("return",_context.t201.registerLanguage.call(_context.t201,"mercury",_context.t202));case 508:return _context.t203=highlight_default(),_context.next=511,__webpack_require__.e(5963).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/mipsasm.js",23));case 511:return _context.t204=_context.sent.default,_context.abrupt("return",_context.t203.registerLanguage.call(_context.t203,"mipsasm",_context.t204));case 513:return _context.t205=highlight_default(),_context.next=516,__webpack_require__.e(6342).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/mizar.js",23));case 516:return _context.t206=_context.sent.default,_context.abrupt("return",_context.t205.registerLanguage.call(_context.t205,"mizar",_context.t206));case 518:return _context.t207=highlight_default(),_context.next=521,__webpack_require__.e(976).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/perl.js",23));case 521:return _context.t208=_context.sent.default,_context.abrupt("return",_context.t207.registerLanguage.call(_context.t207,"perl",_context.t208));case 523:return _context.t209=highlight_default(),_context.next=526,__webpack_require__.e(6220).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/mojolicious.js",23));case 526:return _context.t210=_context.sent.default,_context.abrupt("return",_context.t209.registerLanguage.call(_context.t209,"mojolicious",_context.t210));case 528:return _context.t211=highlight_default(),_context.next=531,__webpack_require__.e(8144).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/monkey.js",23));case 531:return _context.t212=_context.sent.default,_context.abrupt("return",_context.t211.registerLanguage.call(_context.t211,"monkey",_context.t212));case 533:return _context.t213=highlight_default(),_context.next=536,__webpack_require__.e(3091).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/moonscript.js",23));case 536:return _context.t214=_context.sent.default,_context.abrupt("return",_context.t213.registerLanguage.call(_context.t213,"moonscript",_context.t214));case 538:return _context.t215=highlight_default(),_context.next=541,__webpack_require__.e(6161).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/n1ql.js",23));case 541:return _context.t216=_context.sent.default,_context.abrupt("return",_context.t215.registerLanguage.call(_context.t215,"n1ql",_context.t216));case 543:return _context.t217=highlight_default(),_context.next=546,__webpack_require__.e(8541).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/nginx.js",23));case 546:return _context.t218=_context.sent.default,_context.abrupt("return",_context.t217.registerLanguage.call(_context.t217,"nginx",_context.t218));case 548:return _context.t219=highlight_default(),_context.next=551,__webpack_require__.e(1512).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/nimrod.js",23));case 551:return _context.t220=_context.sent.default,_context.abrupt("return",_context.t219.registerLanguage.call(_context.t219,"nimrod",_context.t220));case 553:return _context.t221=highlight_default(),_context.next=556,__webpack_require__.e(266).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/nix.js",23));case 556:return _context.t222=_context.sent.default,_context.abrupt("return",_context.t221.registerLanguage.call(_context.t221,"nix",_context.t222));case 558:return _context.t223=highlight_default(),_context.next=561,__webpack_require__.e(6418).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/nsis.js",23));case 561:return _context.t224=_context.sent.default,_context.abrupt("return",_context.t223.registerLanguage.call(_context.t223,"nsis",_context.t224));case 563:return _context.t225=highlight_default(),_context.next=566,__webpack_require__.e(6961).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/objectivec.js",23));case 566:return _context.t226=_context.sent.default,_context.abrupt("return",_context.t225.registerLanguage.call(_context.t225,"objectivec",_context.t226));case 568:return _context.t227=highlight_default(),_context.next=571,__webpack_require__.e(3098).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/ocaml.js",23));case 571:return _context.t228=_context.sent.default,_context.abrupt("return",_context.t227.registerLanguage.call(_context.t227,"ocaml",_context.t228));case 573:return _context.t229=highlight_default(),_context.next=576,__webpack_require__.e(1658).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/openscad.js",23));case 576:return _context.t230=_context.sent.default,_context.abrupt("return",_context.t229.registerLanguage.call(_context.t229,"openscad",_context.t230));case 578:return _context.t231=highlight_default(),_context.next=581,__webpack_require__.e(926).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/oxygene.js",23));case 581:return _context.t232=_context.sent.default,_context.abrupt("return",_context.t231.registerLanguage.call(_context.t231,"oxygene",_context.t232));case 583:return _context.t233=highlight_default(),_context.next=586,__webpack_require__.e(5793).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/parser3.js",23));case 586:return _context.t234=_context.sent.default,_context.abrupt("return",_context.t233.registerLanguage.call(_context.t233,"parser3",_context.t234));case 588:return _context.t235=highlight_default(),_context.next=591,__webpack_require__.e(2715).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/pf.js",23));case 591:return _context.t236=_context.sent.default,_context.abrupt("return",_context.t235.registerLanguage.call(_context.t235,"pf",_context.t236));case 593:return _context.t237=highlight_default(),_context.next=596,__webpack_require__.e(6741).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/php.js",23));case 596:return _context.t238=_context.sent.default,_context.abrupt("return",_context.t237.registerLanguage.call(_context.t237,"php",_context.t238));case 598:return _context.t239=highlight_default(),_context.next=601,__webpack_require__.e(4417).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/pony.js",23));case 601:return _context.t240=_context.sent.default,_context.abrupt("return",_context.t239.registerLanguage.call(_context.t239,"pony",_context.t240));case 603:return _context.t241=highlight_default(),_context.next=606,__webpack_require__.e(9664).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/powershell.js",23));case 606:return _context.t242=_context.sent.default,_context.abrupt("return",_context.t241.registerLanguage.call(_context.t241,"powershell",_context.t242));case 608:return _context.t243=highlight_default(),_context.next=611,__webpack_require__.e(7102).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/processing.js",23));case 611:return _context.t244=_context.sent.default,_context.abrupt("return",_context.t243.registerLanguage.call(_context.t243,"processing",_context.t244));case 613:return _context.t245=highlight_default(),_context.next=616,__webpack_require__.e(5608).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/profile.js",23));case 616:return _context.t246=_context.sent.default,_context.abrupt("return",_context.t245.registerLanguage.call(_context.t245,"profile",_context.t246));case 618:return _context.t247=highlight_default(),_context.next=621,__webpack_require__.e(7938).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/prolog.js",23));case 621:return _context.t248=_context.sent.default,_context.abrupt("return",_context.t247.registerLanguage.call(_context.t247,"prolog",_context.t248));case 623:return _context.t249=highlight_default(),_context.next=626,__webpack_require__.e(3797).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/protobuf.js",23));case 626:return _context.t250=_context.sent.default,_context.abrupt("return",_context.t249.registerLanguage.call(_context.t249,"protobuf",_context.t250));case 628:return _context.t251=highlight_default(),_context.next=631,__webpack_require__.e(6163).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/puppet.js",23));case 631:return _context.t252=_context.sent.default,_context.abrupt("return",_context.t251.registerLanguage.call(_context.t251,"puppet",_context.t252));case 633:return _context.t253=highlight_default(),_context.next=636,__webpack_require__.e(5001).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/purebasic.js",23));case 636:return _context.t254=_context.sent.default,_context.abrupt("return",_context.t253.registerLanguage.call(_context.t253,"purebasic",_context.t254));case 638:return _context.t255=highlight_default(),_context.next=641,__webpack_require__.e(7575).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/python.js",23));case 641:return _context.t256=_context.sent.default,_context.abrupt("return",_context.t255.registerLanguage.call(_context.t255,"python",_context.t256));case 643:return _context.t257=highlight_default(),_context.next=646,__webpack_require__.e(6574).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/q.js",23));case 646:return _context.t258=_context.sent.default,_context.abrupt("return",_context.t257.registerLanguage.call(_context.t257,"q",_context.t258));case 648:return _context.t259=highlight_default(),_context.next=651,__webpack_require__.e(1419).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/qml.js",23));case 651:return _context.t260=_context.sent.default,_context.abrupt("return",_context.t259.registerLanguage.call(_context.t259,"qml",_context.t260));case 653:return _context.t261=highlight_default(),_context.next=656,__webpack_require__.e(7787).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/r.js",23));case 656:return _context.t262=_context.sent.default,_context.abrupt("return",_context.t261.registerLanguage.call(_context.t261,"r",_context.t262));case 658:return _context.t263=highlight_default(),_context.next=661,__webpack_require__.e(3052).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/rib.js",23));case 661:return _context.t264=_context.sent.default,_context.abrupt("return",_context.t263.registerLanguage.call(_context.t263,"rib",_context.t264));case 663:return _context.t265=highlight_default(),_context.next=666,__webpack_require__.e(7783).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/roboconf.js",23));case 666:return _context.t266=_context.sent.default,_context.abrupt("return",_context.t265.registerLanguage.call(_context.t265,"roboconf",_context.t266));case 668:return _context.t267=highlight_default(),_context.next=671,__webpack_require__.e(1336).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/rsl.js",23));case 671:return _context.t268=_context.sent.default,_context.abrupt("return",_context.t267.registerLanguage.call(_context.t267,"rsl",_context.t268));case 673:return _context.t269=highlight_default(),_context.next=676,__webpack_require__.e(60).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/ruleslanguage.js",23));case 676:return _context.t270=_context.sent.default,_context.abrupt("return",_context.t269.registerLanguage.call(_context.t269,"ruleslanguage",_context.t270));case 678:return _context.t271=highlight_default(),_context.next=681,__webpack_require__.e(2395).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/rust.js",23));case 681:return _context.t272=_context.sent.default,_context.abrupt("return",_context.t271.registerLanguage.call(_context.t271,"rust",_context.t272));case 683:return _context.t273=highlight_default(),_context.next=686,__webpack_require__.e(2455).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/scala.js",23));case 686:return _context.t274=_context.sent.default,_context.abrupt("return",_context.t273.registerLanguage.call(_context.t273,"scala",_context.t274));case 688:return _context.t275=highlight_default(),_context.next=691,__webpack_require__.e(486).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/scheme.js",23));case 691:return _context.t276=_context.sent.default,_context.abrupt("return",_context.t275.registerLanguage.call(_context.t275,"scheme",_context.t276));case 693:return _context.t277=highlight_default(),_context.next=696,__webpack_require__.e(4441).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/scilab.js",23));case 696:return _context.t278=_context.sent.default,_context.abrupt("return",_context.t277.registerLanguage.call(_context.t277,"scilab",_context.t278));case 698:return _context.t279=highlight_default(),_context.next=701,__webpack_require__.e(4533).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/scss.js",23));case 701:return _context.t280=_context.sent.default,_context.abrupt("return",_context.t279.registerLanguage.call(_context.t279,"scss",_context.t280));case 703:return _context.t281=highlight_default(),_context.next=706,__webpack_require__.e(9095).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/shell.js",23));case 706:return _context.t282=_context.sent.default,_context.abrupt("return",_context.t281.registerLanguage.call(_context.t281,"shell",_context.t282));case 708:return _context.t283=highlight_default(),_context.next=711,__webpack_require__.e(5401).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/smali.js",23));case 711:return _context.t284=_context.sent.default,_context.abrupt("return",_context.t283.registerLanguage.call(_context.t283,"smali",_context.t284));case 713:return _context.t285=highlight_default(),_context.next=716,__webpack_require__.e(8332).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/smalltalk.js",23));case 716:return _context.t286=_context.sent.default,_context.abrupt("return",_context.t285.registerLanguage.call(_context.t285,"smalltalk",_context.t286));case 718:return _context.t287=highlight_default(),_context.next=721,__webpack_require__.e(225).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/sml.js",23));case 721:return _context.t288=_context.sent.default,_context.abrupt("return",_context.t287.registerLanguage.call(_context.t287,"sml",_context.t288));case 723:return _context.t289=highlight_default(),_context.next=726,__webpack_require__.e(1451).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/sqf.js",23));case 726:return _context.t290=_context.sent.default,_context.abrupt("return",_context.t289.registerLanguage.call(_context.t289,"sqf",_context.t290));case 728:return _context.t291=highlight_default(),_context.next=731,__webpack_require__.e(5525).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/sql.js",23));case 731:return _context.t292=_context.sent.default,_context.abrupt("return",_context.t291.registerLanguage.call(_context.t291,"sql",_context.t292));case 733:return _context.t293=highlight_default(),_context.next=736,__webpack_require__.e(4189).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/stan.js",23));case 736:return _context.t294=_context.sent.default,_context.abrupt("return",_context.t293.registerLanguage.call(_context.t293,"stan",_context.t294));case 738:return _context.t295=highlight_default(),_context.next=741,__webpack_require__.e(5663).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/stata.js",23));case 741:return _context.t296=_context.sent.default,_context.abrupt("return",_context.t295.registerLanguage.call(_context.t295,"stata",_context.t296));case 743:return _context.t297=highlight_default(),_context.next=746,__webpack_require__.e(9189).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/step21.js",23));case 746:return _context.t298=_context.sent.default,_context.abrupt("return",_context.t297.registerLanguage.call(_context.t297,"step21",_context.t298));case 748:return _context.t299=highlight_default(),_context.next=751,__webpack_require__.e(9583).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/stylus.js",23));case 751:return _context.t300=_context.sent.default,_context.abrupt("return",_context.t299.registerLanguage.call(_context.t299,"stylus",_context.t300));case 753:return _context.t301=highlight_default(),_context.next=756,__webpack_require__.e(3429).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/subunit.js",23));case 756:return _context.t302=_context.sent.default,_context.abrupt("return",_context.t301.registerLanguage.call(_context.t301,"subunit",_context.t302));case 758:return _context.t303=highlight_default(),_context.next=761,__webpack_require__.e(7082).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/swift.js",23));case 761:return _context.t304=_context.sent.default,_context.abrupt("return",_context.t303.registerLanguage.call(_context.t303,"swift",_context.t304));case 763:return _context.t305=highlight_default(),_context.next=766,__webpack_require__.e(2976).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/taggerscript.js",23));case 766:return _context.t306=_context.sent.default,_context.abrupt("return",_context.t305.registerLanguage.call(_context.t305,"taggerscript",_context.t306));case 768:return _context.t307=highlight_default(),_context.next=771,__webpack_require__.e(4278).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/yaml.js",23));case 771:return _context.t308=_context.sent.default,_context.abrupt("return",_context.t307.registerLanguage.call(_context.t307,"yaml",_context.t308));case 773:return _context.t309=highlight_default(),_context.next=776,__webpack_require__.e(6671).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/tap.js",23));case 776:return _context.t310=_context.sent.default,_context.abrupt("return",_context.t309.registerLanguage.call(_context.t309,"tap",_context.t310));case 778:return _context.t311=highlight_default(),_context.next=781,__webpack_require__.e(3578).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/tcl.js",23));case 781:return _context.t312=_context.sent.default,_context.abrupt("return",_context.t311.registerLanguage.call(_context.t311,"tcl",_context.t312));case 783:return _context.t313=highlight_default(),_context.next=786,__webpack_require__.e(1296).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/tex.js",23));case 786:return _context.t314=_context.sent.default,_context.abrupt("return",_context.t313.registerLanguage.call(_context.t313,"tex",_context.t314));case 788:return _context.t315=highlight_default(),_context.next=791,__webpack_require__.e(834).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/thrift.js",23));case 791:return _context.t316=_context.sent.default,_context.abrupt("return",_context.t315.registerLanguage.call(_context.t315,"thrift",_context.t316));case 793:return _context.t317=highlight_default(),_context.next=796,__webpack_require__.e(1437).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/tp.js",23));case 796:return _context.t318=_context.sent.default,_context.abrupt("return",_context.t317.registerLanguage.call(_context.t317,"tp",_context.t318));case 798:return _context.t319=highlight_default(),_context.next=801,__webpack_require__.e(1576).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/twig.js",23));case 801:return _context.t320=_context.sent.default,_context.abrupt("return",_context.t319.registerLanguage.call(_context.t319,"twig",_context.t320));case 803:return _context.t321=highlight_default(),_context.next=806,__webpack_require__.e(8542).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/typescript.js",23));case 806:return _context.t322=_context.sent.default,_context.abrupt("return",_context.t321.registerLanguage.call(_context.t321,"typescript",_context.t322));case 808:return _context.t323=highlight_default(),_context.next=811,__webpack_require__.e(9707).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/vala.js",23));case 811:return _context.t324=_context.sent.default,_context.abrupt("return",_context.t323.registerLanguage.call(_context.t323,"vala",_context.t324));case 813:return _context.t325=highlight_default(),_context.next=816,__webpack_require__.e(2682).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/vbnet.js",23));case 816:return _context.t326=_context.sent.default,_context.abrupt("return",_context.t325.registerLanguage.call(_context.t325,"vbnet",_context.t326));case 818:return _context.t327=highlight_default(),_context.next=821,__webpack_require__.e(358).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/vbscript.js",23));case 821:return _context.t328=_context.sent.default,_context.abrupt("return",_context.t327.registerLanguage.call(_context.t327,"vbscript",_context.t328));case 823:return _context.t329=highlight_default(),_context.next=826,__webpack_require__.e(8806).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/vbscript-html.js",23));case 826:return _context.t330=_context.sent.default,_context.abrupt("return",_context.t329.registerLanguage.call(_context.t329,"vbscript-html(",_context.t330));case 828:return _context.t331=highlight_default(),_context.next=831,__webpack_require__.e(287).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/verilog.js",23));case 831:return _context.t332=_context.sent.default,_context.abrupt("return",_context.t331.registerLanguage.call(_context.t331,"verilog",_context.t332));case 833:return _context.t333=highlight_default(),_context.next=836,__webpack_require__.e(5919).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/vhdl.js",23));case 836:return _context.t334=_context.sent.default,_context.abrupt("return",_context.t333.registerLanguage.call(_context.t333,"vhdl",_context.t334));case 838:return _context.t335=highlight_default(),_context.next=841,__webpack_require__.e(6429).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/vim.js",23));case 841:return _context.t336=_context.sent.default,_context.abrupt("return",_context.t335.registerLanguage.call(_context.t335,"vim",_context.t336));case 843:return _context.t337=highlight_default(),_context.next=846,__webpack_require__.e(391).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/x86asm.js",23));case 846:return _context.t338=_context.sent.default,_context.abrupt("return",_context.t337.registerLanguage.call(_context.t337,"x86asm",_context.t338));case 848:return _context.t339=highlight_default(),_context.next=851,__webpack_require__.e(5917).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/xl.js",23));case 851:return _context.t340=_context.sent.default,_context.abrupt("return",_context.t339.registerLanguage.call(_context.t339,"xl",_context.t340));case 853:return _context.t341=highlight_default(),_context.next=856,__webpack_require__.e(8273).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/xquery.js",23));case 856:return _context.t342=_context.sent.default,_context.abrupt("return",_context.t341.registerLanguage.call(_context.t341,"xquery",_context.t342));case 858:return _context.t343=highlight_default(),_context.next=861,__webpack_require__.e(4211).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/zephir.js",23));case 861:return _context.t344=_context.sent.default,_context.abrupt("return",_context.t343.registerLanguage.call(_context.t343,"zephir",_context.t344));case 863:return _context.t345=highlight_default(),_context.next=866,__webpack_require__.e(7778).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/hljs9/lib/languages/plaintext.js",23));case 866:return _context.t346=_context.sent.default,_context.abrupt("return",_context.t345.registerLanguage.call(_context.t345,"plaintext",_context.t346));case 868:case"end":return _context.stop()}}),_callee)})));return function register(_x){return _ref.apply(this,arguments)}}(),hljs=highlight_default(),main_client=__webpack_require__("../../packages/random/dist/main.client.js");function token_typeof(o){return token_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},token_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=token_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=token_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==token_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var addAsToken=function addAsToken(message,html,type,extra){message.tokens||(message.tokens=[]);var token="=!=".concat(main_client.o.id(),"=!=");return message.tokens.push(_objectSpread({token:token,type:type,text:html},extra&&_objectSpread({},extra))),token},isToken=function isToken(msg){return/=!=[.a-z0-9]{17}=!=/gim.test(msg.trim())},validateAllowedTokens=function validateAllowedTokens(message,id,desiredTokens){var _message$tokens,tokens=id.match(/=!=[.a-z0-9]{17}=!=/gim)||[],tokensFound=(null===(_message$tokens=message.tokens)||void 0===_message$tokens?void 0:_message$tokens.filter((function(_ref){var token=_ref.token;return tokens.includes(token)})))||[];return 0===tokensFound.length||tokensFound.every((function(token){return token.type&&desiredTokens.includes(token.type)}))},code_code=function code(message){var _message$html;return null!==(_message$html=message.html)&&void 0!==_message$html&&_message$html.trim()&&(function codeblocks(message){var count=(message.html.match(/```/gm)||[]).length;if(count){count%2>0&&(message.html="".concat(message.html,"\n```"),message.msg="".concat(message.msg,"\n```"));for(var msgParts=message.html.split(/(^.*)(```(?:[a-zA-Z]+)?(?:(?:.|\r|\n)*?)```)(.*\n?)$/gm),_loop=function _loop(){var part=msgParts[index],codeMatch=part.match(/^```[\r\n]*(.*[\r\n\ ]?)[\r\n]*([\s\S]*?)```+?$/);if(codeMatch){var singleLine=-1===codeMatch[0].indexOf("\n"),lang=!singleLine&&Array.from(hljs.listLanguages()).includes(codeMatch[1].trim())?codeMatch[1].trim():"",emptyLanguage=""===lang?(0,esm.kn)(codeMatch[1]+codeMatch[2]):(0,esm.kn)(codeMatch[2]),_code=singleLine?(0,esm.kn)(codeMatch[1]):emptyLanguage,result=function(){if(lang)try{return register(lang),hljs.highlight(lang,_code)}catch(error){console.error(error)}return hljs.highlightAuto(lang+_code)}(),token=addAsToken(message,"<pre><code class='code-colors hljs ".concat(result.language,"'><span class='copyonly'>```<br></span>").concat(result.value,"<span class='copyonly'><br>```</span></code></pre>"),"code",{noHtml:codeMatch[0],highlight:!0});msgParts[index]=token}else msgParts[index]=part},index=0;index<msgParts.length;index++)_loop();message.html=msgParts.join("")}}(message),function inlinecode(message){message.html=message.html.replace(/\`([^`\r\n]+)\`([<_*~]|\B|\b|$)/gm,(function(match,p1,p2){return addAsToken(message,'<span class="copyonly">`</span><span><code class="code-colors inline">'.concat(p1,'</code></span><span class="copyonly">`</span>').concat(p2),"inlinecode",{noHtml:match})}))}(message)),message},validateUrl=function validateUrl(url,message){var _message$tokens;if(null!=message&&null!==(_message$tokens=message.tokens)&&void 0!==_message$tokens&&_message$tokens.some((function(token){return url.includes(token.token)})))return!1;if(/\s/.test(url.trim()))return!1;try{return new URL(url),!0}catch(e){return!1}},endsWithWhitespace=function endsWithWhitespace(text){return text.substring(text.length-1).match(/\s/)},getParseableMarkersCount=function getParseableMarkersCount(start,end){var usableMarkers=start.length>1?2:1;return end.length-usableMarkers>=0?usableMarkers:1},getRegexReplacer=function getRegexReplacer(replaceFunction,getRegex){return function(marker,tagName){var wrapper=function getTextWrapper(marker,tagName){return function(textPrepend,wrappedText,textAppend){return"".concat(textPrepend,'<span class="copyonly">').concat(marker,"</span><").concat(tagName,">").concat(wrappedText,"</").concat(tagName,'><span class="copyonly">').concat(marker,"</span>").concat(textAppend)}}(marker,tagName);return function(msg){return msg.replace(getRegex(marker),(function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return replaceFunction.apply(void 0,[wrapper].concat(args))}))}}},getParserWithCustomMarker=getRegexReplacer((function(wrapper,match,p1,p2,p3){if(endsWithWhitespace(p2))return match;var finalMarkerCount=getParseableMarkersCount(p1,p3);return wrapper(p1.substring(finalMarkerCount),p2,p3.substring(finalMarkerCount))}),(function(marker){return new RegExp("(\\".concat(marker,"+(?!\\s))([^\\").concat(marker,"\\r\\n]+)(\\").concat(marker,"+)"),"gm")})),parseBold=getParserWithCustomMarker("*","strong"),parseStrike=getParserWithCustomMarker("~","strike"),parseItalic=getRegexReplacer((function(wrapper,match,p1,p2,p3,p4,p5){if(p1||p5||endsWithWhitespace(p3))return match;var finalMarkerCount=getParseableMarkersCount(p2,p4);return wrapper(p2.substring(finalMarkerCount),p3,p4.substring(finalMarkerCount))}),(function(){return new RegExp("([^\\r\\n\\s~*_]){0,1}(\\_+(?!\\s))([^\\_\\r\\n]+)(\\_+)([^\\r\\n\\s]){0,1}","gm")}))("_","em"),markdown_markdown=function markdown(message,options){return message.html=function parseNotEscaped(message,_ref){var supportSchemesForLink=_ref.supportSchemesForLink,headers=_ref.headers,rootUrl=_ref.rootUrl,msg=message.html;message.tokens||(message.tokens=[]);var schemes=(supportSchemesForLink||"").split(",").join("|");return headers&&(msg=(msg=(msg=(msg=msg.replace(/^# (([\S\w\d-_\/\*\.,\\][ \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]?)+)/gm,"<h1>$1</h1>")).replace(/^## (([\S\w\d-_\/\*\.,\\][ \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]?)+)/gm,"<h2>$1</h2>")).replace(/^### (([\S\w\d-_\/\*\.,\\][ \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]?)+)/gm,"<h3>$1</h3>")).replace(/^#### (([\S\w\d-_\/\*\.,\\][ \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]?)+)/gm,"<h4>$1</h4>")),msg=parseBold(msg),msg=parseItalic(msg),(msg=(msg=(msg=(msg=(msg=(msg=(msg=(msg=parseStrike(msg)).replace(/(?:&gt;){3}\n+([\s\S]*?)\n+(?:&lt;){3}/g,'<blockquote class="background-transparent-darker-before"><span class="copyonly">&gt;&gt;&gt;</span>$1<span class="copyonly">&lt;&lt;&lt;</span></blockquote>')).replace(/^&gt;(.*)$/gm,'<blockquote class="background-transparent-darker-before"><span class="copyonly">&gt;</span>$1</blockquote>')).replace(/\s*<blockquote class="background-transparent-darker-before">/gm,'<blockquote class="background-transparent-darker-before">')).replace(/<\/blockquote>\s*/gm,"</blockquote>")).replace(/<\/blockquote>\n<blockquote/gm,"</blockquote><blockquote")).replace(new RegExp("!\\[([^\\]]+)\\]\\(((?:".concat(schemes,"):\\/\\/[^\\s]+)\\)"),"gm"),(function(match,title,url){if(!validateUrl(url,message))return match;if(isToken(title)&&!validateAllowedTokens(message,title,["bold","italic","strike"]))return match;var target=0===(url=encodeURI(url)).indexOf(rootUrl)?"":"_blank";return addAsToken(message,'<a data-title="'.concat(url,'" href="').concat(url,'" title="').concat(title,'" target="').concat(target,'" rel="noopener noreferrer"><div class="inline-image" style="background-image: url(').concat(url,');"></div></a>'),"link")}))).replace(new RegExp("\\[([^\\]]+)\\]\\(((?:".concat(schemes,"):\\/\\/[^\\s]+)\\)"),"gm"),(function(match,title,url){if(!validateUrl(url,message))return match;if(isToken(title)&&!validateAllowedTokens(message,title,["bold","italic","strike"]))return match;var target=0===url.indexOf(rootUrl)?"":"_blank";title=title.replace(/&amp;/g,"&");var escapedUrl=encodeURI(url);return addAsToken(message,'<a data-title="'.concat(escapedUrl,'" href="').concat(escapedUrl,'" target="').concat(target,'" rel="noopener noreferrer">').concat(title,"</a>"),"link")}))).replace(new RegExp("(?:<|&lt;)((?:".concat(schemes,"):\\/\\/[^\\|]+)\\|(.+?)(?=>|&gt;)(?:>|&gt;)"),"gm"),(function(match,url,title){if(!validateUrl(url,message))return match;if(isToken(title)&&!validateAllowedTokens(message,title,["bold","italic","strike"]))return match;var target=0===(url=encodeURI(url)).indexOf(rootUrl)?"":"_blank";return addAsToken(message,'<a data-title="'.concat(url,'" href="').concat(url,'" target="').concat(target,'" rel="noopener noreferrer">').concat(title,"</a>"),"link")}))}(message,options),message};function markdown_typeof(o){return markdown_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},markdown_typeof(o)}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,markdown_toPropertyKey(o.key),o)}}function markdown_toPropertyKey(t){var i=function markdown_toPrimitive(t,r){if("object"!=markdown_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=markdown_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==markdown_typeof(i)?i:i+""}var parsers={original:function original(message){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{supportSchemesForLink:"http,https",headers:!0};return message=code_code(message),(message=markdown_markdown(message,options)).html=message.html.replace(/\n/gm,"<br>"),message},filtered:function filtered(message){var schemes=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{supportSchemesForLink:"http,https"}).supportSchemesForLink.split(",").join("|");return message=(message=(message=(message=(message=(message=(message=(message=(message=(message=message.replace(/```/g,"")).replace(new RegExp(/`([^`\r\n]+)\`/gm),(function(match){return match.substr(1,match.length-2)}))).replace(new RegExp("!?\\[([^\\]]+)\\]\\((?:".concat(schemes,"):\\/\\/[^\\)]+\\)"),"gm"),(function(match,title){return title}))).replace(new RegExp("(?:<|&lt;)(?:".concat(schemes,"):\\/\\/[^\\|]+\\|(.+?)(?=>|&gt;)(?:>|&gt;)"),"gm"),(function(match,title){return title}))).replace(/(^#{1,4}) (([\S\w\d-_\/\*\.,\\][ \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]?)+)/gm,"$2")).replace(/(^|>|[ >_~`])\*{1,2}([^\*\r\n]+)\*{1,2}([<_~`]|\B|\b|$)/gm,"$1$2$3")).replace(/(^|>|[ >*~`])\_{1,2}([^\_\r\n]+)\_{1,2}([<*~`]|\B|\b|$)/gm,"$1$2$3")).replace(/(^|>|[ >_*`])\~{1,2}([^~\r\n]+)\~{1,2}([<_*`]|\B|\b|$)/gm,"$1$2$3")).replace(/(?:>){3}\n+([\s\S]*?)\n+(?:<){3}/g,"$1")).replace(/^>(.*)$/gm,"$1")}},MarkdownClass=function(){function MarkdownClass(){!function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,MarkdownClass)}return function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(MarkdownClass,[{key:"parse",value:function parse(text){var message={html:(0,esm.Zn)(text)};return this.mountTokensBack(this.parseMessageNotEscaped(message)).html}},{key:"parseNotEscaped",value:function parseNotEscaped(text){var message={html:text};return this.mountTokensBack(this.parseMessageNotEscaped(message)).html}},{key:"parseMessageNotEscaped",value:function parseMessageNotEscaped(message){var options={rootUrl:meteor.fj.absoluteUrl()};return parsers.original(message,options)}},{key:"mountTokensBackRecursively",value:function mountTokensBackRecursively(message,tokenList){var useHtml=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],missingTokens=[];if(tokenList.length>0){var _step,_iterator=_createForOfIteratorHelper(tokenList);try{var _loop=function _loop(){var _step$value=_step.value,token=_step$value.token,text=_step$value.text,noHtml=_step$value.noHtml;message.html.indexOf(token)>=0?message.html=message.html.replace(token,(function(){return useHtml?text:noHtml})):missingTokens.push({token:token,text:text,noHtml:noHtml})};for(_iterator.s();!(_step=_iterator.n()).done;)_loop()}catch(err){_iterator.e(err)}finally{_iterator.f()}}missingTokens.length>0&&missingTokens.length<tokenList.length&&this.mountTokensBackRecursively(message,missingTokens,useHtml)}},{key:"mountTokensBack",value:function mountTokensBack(message){var useHtml=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return message.tokens&&this.mountTokensBackRecursively(message,message.tokens,useHtml),message}},{key:"code",value:function code(){return code_code.apply(void 0,arguments)}},{key:"filterMarkdownFromMessage",value:function filterMarkdownFromMessage(message){return parsers.filtered(message)}}]),MarkdownClass}(),Markdown=new MarkdownClass,filterMarkdown=function filterMarkdown(message){return Markdown.filterMarkdownFromMessage(message)}},"./app/ui-utils/client/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{IframeLogin:function(){return IframeLogin.C},LegacyRoomManager:function(){return LegacyRoomManager.c},MessageAction:function(){return MessageAction.q},MessageType:function(){return MessageTypes.MessageType},MessageTypes:function(){return MessageTypes.l},RoomHistoryManager:function(){return RoomHistoryManager.PV},mainReady:function(){return mainReady.z},messageBox:function(){return messageBox},upsertMessage:function(){return RoomHistoryManager.l4}});var dist=__webpack_require__("../../packages/core-typings/dist/index.js"),meteor=__webpack_require__("./.storybook/mocks/meteor.js"),moment=__webpack_require__("./node_modules/moment/moment.js"),moment_default=__webpack_require__.n(moment),getPermaLink=__webpack_require__("./client/lib/getPermaLink.ts"),imperativeModal=__webpack_require__("./client/lib/imperativeModal.tsx"),roomCoordinator=__webpack_require__("./client/lib/rooms/roomCoordinator.tsx"),toast=__webpack_require__("./client/lib/toast.ts"),messageArgs=__webpack_require__("./client/lib/utils/messageArgs.ts"),RouterProvider=__webpack_require__("./client/providers/RouterProvider.tsx"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),ui_contexts_dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),lib=__webpack_require__("../../node_modules/@tanstack/react-query/build/lib/index.js"),react=__webpack_require__("./node_modules/react/index.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),esm=__webpack_require__("./node_modules/@rocket.chat/string-helpers/dist/esm/index.js"),ui_avatar_dist=__webpack_require__("../../packages/ui-avatar/dist/index.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["value","onChange"],_excluded2=["selected","onRemove"],_excluded3=["value","label"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var UserAndRoomAutoCompleteMultiple=function UserAndRoomAutoCompleteMultiple(_ref){var value=_ref.value,onChange=_ref.onChange,props=_objectWithoutProperties(_ref,_excluded),user=(0,ui_contexts_dist.useUser)(),_useState2=_slicedToArray((0,react.useState)(""),2),filter=_useState2[0],setFilter=_useState2[1],debouncedFilter=(0,index_module.useDebouncedValue)(filter,1e3),rooms=(0,ui_contexts_dist.useUserSubscriptions)((0,react.useMemo)((function(){return{open:{$ne:!1},$or:[{lowerCaseFName:new RegExp((0,esm.Nt)(debouncedFilter),"i")},{lowerCaseName:new RegExp((0,esm.Nt)(debouncedFilter),"i")}]}}),[debouncedFilter])).filter((function(room){if(user&&(!(0,dist.isDirectMessageRoom)(room)||!room.blocked&&!room.blocker))return!roomCoordinator.roomCoordinator.readOnly(room.rid,user)})),options=(0,react.useMemo)((function(){return rooms.map((function(_ref2){var rid=_ref2.rid,fname=_ref2.fname,name=_ref2.name;return{value:rid,label:{name:fname||name,avatarETag:_ref2.avatarETag,type:_ref2.t}}}))}),[rooms]);return react.createElement(fuselage.AutoComplete,_extends({},props,{value:value,onChange:onChange,filter:filter,setFilter:setFilter,multiple:!0,renderSelected:function renderSelected(_ref3){var _ref3$selected=_ref3.selected,value=_ref3$selected.value,label=_ref3$selected.label,onRemove=_ref3.onRemove,props=_objectWithoutProperties(_ref3,_excluded2);return react.createElement(fuselage.Chip,_extends({},props,{height:"x20",value:value,onClick:onRemove,mie:4}),"d"===label.t?react.createElement(ui_avatar_dist.H8,{size:"x20",username:value}):react.createElement(ui_avatar_dist.dD,{size:"x20",room:_objectSpread({type:null==label?void 0:label.type,_id:value},label)}),react.createElement(fuselage.Box,{is:"span",margin:"none",mis:4},label.name))},renderItem:function renderItem(_ref4){var value=_ref4.value,label=_ref4.label,props=_objectWithoutProperties(_ref4,_excluded3);return react.createElement(fuselage.Option,_extends({key:value},props),react.createElement(fuselage.OptionAvatar,null,"d"===label.t?react.createElement(ui_avatar_dist.H8,{size:"x20",username:value}):react.createElement(ui_avatar_dist.dD,{size:"x20",room:_objectSpread({type:null==label?void 0:label.type,_id:value},label)})),react.createElement(fuselage.OptionContent,null,label.name))},options:options}))},UserAndRoomAutoCompleteMultiple_UserAndRoomAutoCompleteMultiple=(0,react.memo)(UserAndRoomAutoCompleteMultiple);UserAndRoomAutoCompleteMultiple.__docgenInfo={description:"",methods:[],displayName:"UserAndRoomAutoCompleteMultiple"};var QuoteAttachment=__webpack_require__("./client/components/message/content/attachments/QuoteAttachment.tsx"),useUserDisplayName=__webpack_require__("./client/hooks/useUserDisplayName.ts"),prependReplies=__webpack_require__("./client/lib/utils/prependReplies.ts");function ForwardMessageModal_typeof(o){return ForwardMessageModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ForwardMessageModal_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==ForwardMessageModal_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(ForwardMessageModal_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}var ForwardMessageModal=function ForwardMessageModal(_ref){var _mutationFn,onClose=_ref.onClose,permalink=_ref.permalink,message=_ref.message,t=(0,ui_contexts_dist.useTranslation)(),getUserAvatarPath=(0,ui_contexts_dist.useUserAvatarPath)(),dispatchToastMessage=(0,ui_contexts_dist.useToastMessageDispatch)(),_useClipboard=(0,index_module.useClipboard)(permalink),copy=_useClipboard.copy,hasCopied=_useClipboard.hasCopied,usersAndRoomsField=(0,index_module.useUniqueId)(),_useForm=(0,index_esm.mN)({defaultValues:{rooms:[]}}),control=_useForm.control,rooms=(0,_useForm.watch)("rooms"),sendMessage=(0,ui_contexts_dist.useEndpoint)("POST","/v1/chat.postMessage"),sendMessageMutation=(0,lib.useMutation)({mutationFn:(_mutationFn=function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(){var curMsg,sendPayload;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=3,(0,prependReplies.j)("",[message]);case 3:return curMsg=_context.sent,sendPayload={roomId:rooms,text:curMsg},_context.abrupt("return",sendMessage(sendPayload));case 6:case"end":return _context.stop()}}),_callee)}))),function mutationFn(){return _mutationFn.apply(this,arguments)}),onSuccess:function onSuccess(){dispatchToastMessage({type:"success",message:t("Message_has_been_forwarded")})},onError:function onError(error){dispatchToastMessage({type:"error",message:error})},onSettled:function onSettled(){onClose()}}),avatarUrl=getUserAvatarPath(message.u.username),displayName=(0,useUserDisplayName.y)(message.u),attachment={author_name:String(displayName),author_link:"",author_icon:avatarUrl,message_link:"",text:message.msg,attachments:message.attachments,md:message.md};return react.createElement(fuselage.Modal,null,react.createElement(fuselage.Modal.Header,null,react.createElement(fuselage.Modal.Title,null,t("Forward_message")),react.createElement(fuselage.Modal.Close,{onClick:onClose,title:t("Close")})),react.createElement(fuselage.Modal.Content,null,react.createElement(fuselage.FieldGroup,null,react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,{htmlFor:usersAndRoomsField},t("Person_Or_Channel")),react.createElement(fuselage.FieldRow,null,react.createElement(index_esm.xI,{name:"rooms",control:control,render:function render(_ref2){var _ref2$field=_ref2.field,name=_ref2$field.name,value=_ref2$field.value,onChange=_ref2$field.onChange;return react.createElement(UserAndRoomAutoCompleteMultiple_UserAndRoomAutoCompleteMultiple,{id:usersAndRoomsField,"aria-describedby":"".concat(usersAndRoomsField,"-hint"),name:name,value:value,onChange:onChange})}})),!rooms.length&&react.createElement(fuselage.FieldHint,{id:"".concat(usersAndRoomsField,"-hint")},t("Select_atleast_one_channel_to_forward_the_messsage_to"))),react.createElement(fuselage.Field,null,react.createElement(QuoteAttachment.k,{attachment:attachment})))),react.createElement(fuselage.Modal.Footer,null,react.createElement(fuselage.ButtonGroup,null,react.createElement(fuselage.Button,{onClick:function handleCopy(){hasCopied||copy()},disabled:hasCopied},t(hasCopied?"Copied":"Copy_Link")),react.createElement(fuselage.Button,{disabled:!rooms.length,loading:sendMessageMutation.isLoading,onClick:function onClick(){return sendMessageMutation.mutate()},primary:!0},t("Forward")))))},ForwardMessageModal_ForwardMessageModal=(0,react.memo)(ForwardMessageModal);ForwardMessageModal.__docgenInfo={description:"",methods:[],displayName:"ForwardMessageModal",props:{onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},permalink:{required:!0,tsType:{name:"string"},description:""},message:{required:!0,tsType:{name:"IMessage"},description:""}}};var GenericModal=__webpack_require__("./client/components/GenericModal/index.ts"),Emoji=__webpack_require__("./client/components/Emoji.tsx"),ReactionUserTag=function ReactionUserTag(_ref){var displayName=_ref.displayName;return react.createElement(fuselage.Box,{mie:4,mbe:4},react.createElement(fuselage.Tag,{variant:"primary"},displayName))},ReactionListModal_ReactionUserTag=ReactionUserTag;function Reactions_slicedToArray(r,e){return function Reactions_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function Reactions_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function Reactions_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return Reactions_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Reactions_arrayLikeToArray(r,a):void 0}}(r,e)||function Reactions_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Reactions_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}ReactionUserTag.__docgenInfo={description:"",methods:[],displayName:"ReactionUserTag",props:{displayName:{required:!0,tsType:{name:"string"},description:""}}};var Reactions=function Reactions(_ref){var reactions=_ref.reactions,useRealName=(0,ui_contexts_dist.useSetting)("UI_Use_Real_Name");return react.createElement(fuselage.Box,{display:"flex",flexDirection:"column"},Object.entries(reactions).map((function(_ref2){var _ref3=Reactions_slicedToArray(_ref2,2),reaction=_ref3[0],_ref3$=_ref3[1],_ref3$$names=_ref3$.names,names=void 0===_ref3$$names?[]:_ref3$$names,usernames=_ref3$.usernames;return react.createElement(fuselage.Box,{key:reaction,display:"flex",alignItems:"center",flexDirection:"row",overflowX:"hidden",mb:8},react.createElement(Emoji.A,{emojiHandle:reaction}),react.createElement(fuselage.Box,{display:"flex",flexWrap:"wrap",paddingBlock:4,mis:4},usernames.map((function(username,i){return react.createElement(ReactionListModal_ReactionUserTag,{key:username,displayName:useRealName&&names[i]||username})}))))})))},ReactionListModal_Reactions=Reactions;Reactions.__docgenInfo={description:"",methods:[],displayName:"Reactions",props:{reactions:{required:!0,tsType:{name:"Required['reactions']",raw:"Required<IMessage>['reactions']"},description:""}}};var ReactionListModal=function ReactionListModal(_ref){var reactions=_ref.reactions,onClose=_ref.onClose,t=(0,ui_contexts_dist.useTranslation)();return react.createElement(GenericModal.A,{variant:"info",title:t("Users_reacted"),onClose:onClose,onConfirm:onClose,confirmText:t("Close")},react.createElement(ReactionListModal_Reactions,{reactions:reactions}))},ReactionListModal_ReactionListModal=ReactionListModal;ReactionListModal.__docgenInfo={description:"",methods:[],displayName:"ReactionListModal",props:{reactions:{required:!0,tsType:{name:"Required['reactions']",raw:"Required<IMessage>['reactions']"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var _templateObject,dist_index_module=__webpack_require__("./node_modules/@rocket.chat/css-in-js/dist/index.module.js"),MarkdownText=__webpack_require__("./client/components/MarkdownText.tsx"),MessageContentBody=__webpack_require__("./client/components/message/MessageContentBody.tsx");function ReportMessageModal_typeof(o){return ReportMessageModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ReportMessageModal_typeof(o)}function ReportMessageModal_extends(){return ReportMessageModal_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ReportMessageModal_extends.apply(null,arguments)}function ReportMessageModal_regeneratorRuntime(){ReportMessageModal_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==ReportMessageModal_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(ReportMessageModal_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function ReportMessageModal_asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}var wordBreak=(0,dist_index_module.css)(_templateObject||(_templateObject=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\tword-break: break-word;\n"]))),ReportMessageModal=function ReportMessageModal(_ref){var message=_ref.message,onClose=_ref.onClose,t=(0,ui_contexts_dist.useTranslation)(),_useForm=(0,index_esm.mN)(),register=_useForm.register,errors=_useForm.formState.errors,handleSubmit=_useForm.handleSubmit,dispatchToastMessage=(0,ui_contexts_dist.useToastMessageDispatch)(),reportMessage=(0,ui_contexts_dist.useEndpoint)("POST","/v1/chat.reportMessage"),_id=message._id,handleReportMessage=function(){var _ref3=function ReportMessageModal_asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){ReportMessageModal_asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){ReportMessageModal_asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(ReportMessageModal_regeneratorRuntime().mark((function _callee(_ref2){var description;return ReportMessageModal_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return description=_ref2.description,_context.prev=1,_context.next=4,reportMessage({messageId:_id,description:description});case 4:dispatchToastMessage({type:"success",message:t("Report_has_been_sent")}),_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(1),dispatchToastMessage({type:"error",message:_context.t0});case 10:return _context.prev=10,onClose(),_context.finish(10);case 13:case"end":return _context.stop()}}),_callee,null,[[1,7,10,13]])})));return function handleReportMessage(_x){return _ref3.apply(this,arguments)}}();return react.createElement(GenericModal.A,{wrapperFunction:function wrapperFunction(props){return react.createElement(fuselage.Box,ReportMessageModal_extends({is:"form",onSubmit:handleSubmit(handleReportMessage)},props))},variant:"danger",title:t("Report_this_message_question_mark"),onClose:onClose,onCancel:onClose,confirmText:t("Report_exclamation_mark")},react.createElement(fuselage.Box,{mbe:24,className:wordBreak},message.md?react.createElement(MessageContentBody.A,{md:message.md}):react.createElement(MarkdownText.A,{variant:"inline",parseEmoji:!0,content:message.msg})),react.createElement(fuselage.FieldGroup,null,react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.TextAreaInput,ReportMessageModal_extends({},register("description",{required:!0}),{placeholder:t("Why_do_you_want_to_report_question_mark")}))),errors.description&&react.createElement(fuselage.FieldError,null,t("You_need_to_write_something")))))},ReportMessageModal_ReportMessageModal=ReportMessageModal;ReportMessageModal.__docgenInfo={description:"",methods:[],displayName:"ReportMessageModal",props:{onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},message:{required:!0,tsType:{name:"IMessage"},description:""}}};var client=__webpack_require__("./app/authorization/client/index.ts"),models_client=__webpack_require__("./app/models/client/index.ts"),i18n=__webpack_require__("./app/utils/lib/i18n.ts"),MessageAction=__webpack_require__("./app/ui-utils/client/lib/MessageAction.ts");function messageActionDefault_typeof(o){return messageActionDefault_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},messageActionDefault_typeof(o)}function messageActionDefault_regeneratorRuntime(){messageActionDefault_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==messageActionDefault_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(messageActionDefault_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function messageActionDefault_asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function messageActionDefault_asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){messageActionDefault_asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){messageActionDefault_asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}function messageActionDefault_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function messageActionDefault_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?messageActionDefault_ownKeys(Object(t),!0).forEach((function(r){messageActionDefault_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):messageActionDefault_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function messageActionDefault_defineProperty(e,r,t){return(r=function messageActionDefault_toPropertyKey(t){var i=function messageActionDefault_toPrimitive(t,r){if("object"!=messageActionDefault_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=messageActionDefault_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==messageActionDefault_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var getMainMessageText=function getMainMessageText(message){var _newMessage$attachmen,_newMessage$attachmen2,_newMessage$attachmen3,newMessage=messageActionDefault_objectSpread({},message);return newMessage.msg=newMessage.msg||(null===(_newMessage$attachmen=newMessage.attachments)||void 0===_newMessage$attachmen||null===(_newMessage$attachmen=_newMessage$attachmen[0])||void 0===_newMessage$attachmen?void 0:_newMessage$attachmen.description)||(null===(_newMessage$attachmen2=newMessage.attachments)||void 0===_newMessage$attachmen2||null===(_newMessage$attachmen2=_newMessage$attachmen2[0])||void 0===_newMessage$attachmen2?void 0:_newMessage$attachmen2.title)||"",newMessage.md=newMessage.md||(null===(_newMessage$attachmen3=newMessage.attachments)||void 0===_newMessage$attachmen3||null===(_newMessage$attachmen3=_newMessage$attachmen3[0])||void 0===_newMessage$attachmen3?void 0:_newMessage$attachmen3.descriptionMd)||void 0,messageActionDefault_objectSpread({},newMessage)};function messageBox_typeof(o){return messageBox_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},messageBox_typeof(o)}function messageBox_slicedToArray(r,e){return function messageBox_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function messageBox_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||messageBox_unsupportedIterableToArray(r,e)||function messageBox_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return messageBox_arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||messageBox_unsupportedIterableToArray(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function messageBox_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return messageBox_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?messageBox_arrayLikeToArray(r,a):void 0}}function messageBox_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function messageBox_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function messageBox_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?messageBox_ownKeys(Object(t),!0).forEach((function(r){messageBox_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):messageBox_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,messageBox_toPropertyKey(o.key),o)}}function messageBox_defineProperty(e,r,t){return(r=messageBox_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function messageBox_toPropertyKey(t){var i=function messageBox_toPrimitive(t,r){if("object"!=messageBox_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=messageBox_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==messageBox_typeof(i)?i:i+""}meteor.fj.startup(messageActionDefault_asyncToGenerator(messageActionDefault_regeneratorRuntime().mark((function _callee7(){return messageActionDefault_regeneratorRuntime().wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:MessageAction.q.addButton({id:"reply-directly",icon:"reply-directly",label:"Reply_in_direct_message",context:["message","message-mobile","threads","federated"],role:"link",type:"communication",action:function action(_,props){var _props$message=props.message,message=void 0===_props$message?(0,messageArgs.R)(this).msg:_props$message;roomCoordinator.roomCoordinator.openRouteLink("d",{name:message.u.username},messageActionDefault_objectSpread(messageActionDefault_objectSpread({},RouterProvider.Q.getSearchParameters()),{},{reply:message._id}))},condition:function condition(_ref2){var subscription=_ref2.subscription,room=_ref2.room,message=_ref2.message,user=_ref2.user;if(null==subscription)return!1;if("d"===room.t||"l"===room.t)return!1;if(user&&user._id!==message.u._id&&!(0,client._m)("create-d")){var dmRoom=models_client.ChatRoom.findOne({_id:[user._id,message.u._id].sort().join("")});if(!dmRoom||!models_client.Subscriptions.findOne({rid:dmRoom._id,"u._id":user._id}))return!1}return!0},order:0,group:"menu",disabled:function disabled(_ref3){var message=_ref3.message;return(0,dist.isE2EEMessage)(message)}}),MessageAction.q.addButton({id:"forward-message",icon:"arrow-forward",label:"Forward_message",context:["message","message-mobile","threads"],type:"communication",action:function action(_,props){var _this=this;return messageActionDefault_asyncToGenerator(messageActionDefault_regeneratorRuntime().mark((function _callee(){var _props$message2,message,permalink;return messageActionDefault_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _props$message2=props.message,message=void 0===_props$message2?(0,messageArgs.R)(_this).msg:_props$message2,_context.next=3,(0,getPermaLink._)(message._id);case 3:permalink=_context.sent,imperativeModal.K.open({component:ForwardMessageModal_ForwardMessageModal,props:{message:message,permalink:permalink,onClose:function onClose(){imperativeModal.K.close()}}});case 5:case"end":return _context.stop()}}),_callee)})))()},order:0,group:"message",disabled:function disabled(_ref4){var message=_ref4.message;return(0,dist.isE2EEMessage)(message)}}),MessageAction.q.addButton({id:"quote-message",icon:"quote",label:"Quote",context:["message","message-mobile","threads","federated"],action:function action(_,props){var _this2=this;return messageActionDefault_asyncToGenerator(messageActionDefault_regeneratorRuntime().mark((function _callee2(){var _chat$composer,_props$message3,message,chat,autoTranslateOptions;return messageActionDefault_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _props$message3=props.message,message=void 0===_props$message3?(0,messageArgs.R)(_this2).msg:_props$message3,chat=props.chat,autoTranslateOptions=props.autoTranslateOptions,message&&null!=autoTranslateOptions&&autoTranslateOptions.autoTranslateEnabled&&autoTranslateOptions.showAutoTranslate(message)&&(message.msg=message.translations&&autoTranslateOptions.autoTranslateLanguage?message.translations[autoTranslateOptions.autoTranslateLanguage]:message.msg),_context2.next=4,null==chat||null===(_chat$composer=chat.composer)||void 0===_chat$composer?void 0:_chat$composer.quoteMessage(message);case 4:case"end":return _context2.stop()}}),_callee2)})))()},condition:function condition(_ref5){return null!=_ref5.subscription},order:-2,group:"message"}),MessageAction.q.addButton({id:"permalink",icon:"permalink",label:"Copy_link",context:["message","message-mobile","threads","federated","videoconf","videoconf-threads"],type:"duplication",action:function action(_,props){var _this3=this;return messageActionDefault_asyncToGenerator(messageActionDefault_regeneratorRuntime().mark((function _callee3(){var _props$message4,message,permalink;return messageActionDefault_regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_props$message4=props.message,message=void 0===_props$message4?(0,messageArgs.R)(_this3).msg:_props$message4,_context3.next=4,(0,getPermaLink._)(message._id);case 4:return permalink=_context3.sent,_context3.next=7,navigator.clipboard.writeText(permalink);case 7:(0,toast.b)({type:"success",message:(0,i18n.t)("Copied")}),_context3.next=13;break;case 10:_context3.prev=10,_context3.t0=_context3.catch(0),(0,toast.b)({type:"error",message:_context3.t0});case 13:case"end":return _context3.stop()}}),_callee3,null,[[0,10]])})))()},condition:function condition(_ref6){return!!_ref6.subscription},order:5,group:"menu",disabled:function disabled(_ref7){var message=_ref7.message;return(0,dist.isE2EEMessage)(message)}}),MessageAction.q.addButton({id:"copy",icon:"copy",label:"Copy_text",context:["message","message-mobile","threads","federated"],type:"duplication",action:function action(_,props){var _this4=this;return messageActionDefault_asyncToGenerator(messageActionDefault_regeneratorRuntime().mark((function _callee4(){var _props$message5,message,msgText;return messageActionDefault_regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _props$message5=props.message,message=void 0===_props$message5?(0,messageArgs.R)(_this4).msg:_props$message5,msgText=getMainMessageText(message).msg,_context4.next=4,navigator.clipboard.writeText(msgText);case 4:(0,toast.b)({type:"success",message:(0,i18n.t)("Copied")});case 5:case"end":return _context4.stop()}}),_callee4)})))()},condition:function condition(_ref8){return!!_ref8.subscription},order:6,group:"menu"}),MessageAction.q.addButton({id:"edit-message",icon:"edit",label:"Edit",context:["message","message-mobile","threads","federated"],type:"management",action:function action(_,props){var _this5=this;return messageActionDefault_asyncToGenerator(messageActionDefault_regeneratorRuntime().mark((function _callee5(){var _props$message6,message,chat;return messageActionDefault_regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _props$message6=props.message,message=void 0===_props$message6?(0,messageArgs.R)(_this5).msg:_props$message6,chat=props.chat,_context5.next=3,null==chat?void 0:chat.messageEditing.editMessage(message);case 3:case"end":return _context5.stop()}}),_callee5)})))()},condition:function condition(_ref9){var message=_ref9.message,subscription=_ref9.subscription,settings=_ref9.settings,room=_ref9.room,user=_ref9.user;if(null==subscription)return!1;if((0,dist.isRoomFederated)(room))return message.u._id===(null==user?void 0:user._id);var canEditMessage=(0,client.WX)("edit-message",message.rid),isEditAllowed=settings.Message_AllowEditing,editOwn=message.u&&message.u._id===(null==user?void 0:user._id);if(!(canEditMessage||isEditAllowed&&editOwn))return!1;var msgTs,currentTsDiff,blockEditInMinutes=settings.Message_AllowEditing_BlockEditInMinutes;return!(!(0,client._m)("bypass-time-limit-edit-and-delete",message.rid)&&blockEditInMinutes)||(null!=message.ts&&(msgTs=moment_default()(message.ts)),null!=msgTs&&(currentTsDiff=moment_default()().diff(msgTs,"minutes")),(!!currentTsDiff||0===currentTsDiff)&&currentTsDiff<blockEditInMinutes)},order:8,group:"menu"}),MessageAction.q.addButton({id:"delete-message",icon:"trash",label:"Delete",context:["message","message-mobile","threads","federated","videoconf","videoconf-threads"],color:"alert",type:"management",action:function action(_,_ref10){var _this6=this;return messageActionDefault_asyncToGenerator(messageActionDefault_regeneratorRuntime().mark((function _callee6(){var _ref10$message,message,chat;return messageActionDefault_regeneratorRuntime().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _ref10$message=_ref10.message,message=void 0===_ref10$message?(0,messageArgs.R)(_this6).msg:_ref10$message,chat=_ref10.chat,_context6.next=3,null==chat?void 0:chat.flows.requestMessageDeletion(message);case 3:case"end":return _context6.stop()}}),_callee6)})))()},condition:function condition(_ref11){var _chat$data$canDeleteM,message=_ref11.message,subscription=_ref11.subscription,room=_ref11.room,chat=_ref11.chat,user=_ref11.user;return!!subscription&&((0,dist.isRoomFederated)(room)?message.u._id===(null==user?void 0:user._id):!roomCoordinator.roomCoordinator.isLivechatRoom(room.t)&&(null!==(_chat$data$canDeleteM=null==chat?void 0:chat.data.canDeleteMessage(message))&&void 0!==_chat$data$canDeleteM&&_chat$data$canDeleteM))},order:10,group:"menu"}),MessageAction.q.addButton({id:"report-message",icon:"report",label:"Report",context:["message","message-mobile","threads","federated","videoconf","videoconf-threads"],color:"alert",type:"management",action:function action(_,_ref12){var _ref12$message=_ref12.message,message=void 0===_ref12$message?(0,messageArgs.R)(this).msg:_ref12$message;imperativeModal.K.open({component:ReportMessageModal_ReportMessageModal,props:{message:getMainMessageText(message),onClose:imperativeModal.K.close}})},condition:function condition(_ref13){var subscription=_ref13.subscription,room=_ref13.room,message=_ref13.message,user=_ref13.user;return!roomCoordinator.roomCoordinator.isLivechatRoom(room.t)&&message.u._id!==(null==user?void 0:user._id)&&Boolean(subscription)},order:9,group:"menu"}),MessageAction.q.addButton({id:"reaction-list",icon:"emoji",label:"Reactions",context:["message","message-mobile","threads","videoconf","videoconf-threads"],type:"interaction",action:function action(_,_ref14){var _ref14$message=_ref14.message,_ref14$message2$react=(void 0===_ref14$message?(0,messageArgs.R)(this).msg:_ref14$message).reactions,reactions=void 0===_ref14$message2$react?{}:_ref14$message2$react;imperativeModal.K.open({component:ReactionListModal_ReactionListModal,props:{reactions:reactions,onClose:imperativeModal.K.close}})},condition:function condition(_ref15){return!!_ref15.message.reactions},order:9,group:"menu"});case 9:case"end":return _context7.stop()}}),_callee7)}))));var messageBox={actions:new(function(){function MessageBoxActions(){!function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,MessageBoxActions),messageBox_defineProperty(this,"actions",new Map)}return function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(MessageBoxActions,[{key:"add",value:function add(group,label,config){var _this$actions$get,_this$actions$get2;(group||label||config)&&(this.actions.has(group)||this.actions.set(group,[]),(null===(_this$actions$get=this.actions.get(group))||void 0===_this$actions$get?void 0:_this$actions$get.find((function(action){return action.label===label})))||null===(_this$actions$get2=this.actions.get(group))||void 0===_this$actions$get2||_this$actions$get2.push(messageBox_objectSpread(messageBox_objectSpread({},config),{},{label:label})))}},{key:"remove",value:function remove(group,expression){var _this$actions$get3;return!(!group||!this.actions.get(group))&&(this.actions.set(group,(null===(_this$actions$get3=this.actions.get(group))||void 0===_this$actions$get3?void 0:_this$actions$get3.filter((function(action){return!expression.test(action.id)})))||[]),this.actions.get(group))}},{key:"get",value:function get(group){var _this$actions$get4;return group?null===(_this$actions$get4=this.actions.get(group))||void 0===_this$actions$get4?void 0:_this$actions$get4.filter((function(action){return!action.condition||action.condition()})):_toConsumableArray(this.actions.entries()).reduce((function(ret,_ref){var _ref2=messageBox_slicedToArray(_ref,2),group=_ref2[0],filteredActions=_ref2[1].filter((function(action){return!action.condition||action.condition()}));return filteredActions.length&&(ret[group]=filteredActions),ret}),{})}},{key:"getById",value:function getById(id){return Object.values(this.actions).flat().filter((function(action){return action.id===id}))}}]),MessageBoxActions}())},LegacyRoomManager=__webpack_require__("./app/ui-utils/client/lib/LegacyRoomManager.ts"),RoomHistoryManager=__webpack_require__("./app/ui-utils/client/lib/RoomHistoryManager.ts"),mainReady=__webpack_require__("./app/ui-utils/client/lib/mainReady.ts"),IframeLogin=__webpack_require__("./app/ui-utils/client/lib/IframeLogin.ts"),MessageTypes=__webpack_require__("./app/ui-utils/lib/MessageTypes.ts")},"./app/ui-utils/client/lib/IframeLogin.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:function(){return IframeLogin},q:function(){return iframeLogin}});var meteor_accounts_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./.storybook/mocks/meteor.js"),_settings_client__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/settings/client/index.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}var IframeLogin=function(){function IframeLogin(){var _this=this;!function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,IframeLogin),_defineProperty(this,"enabled",!1),_defineProperty(this,"reactiveEnabled",new meteor_accounts_base__WEBPACK_IMPORTED_MODULE_0__.Hw(!1)),_defineProperty(this,"reactiveIframeUrl",new meteor_accounts_base__WEBPACK_IMPORTED_MODULE_0__.Hw(void 0)),_defineProperty(this,"iframeUrl",void 0),_defineProperty(this,"apiUrl",void 0),_defineProperty(this,"apiMethod",void 0),meteor_accounts_base__WEBPACK_IMPORTED_MODULE_0__.JD.autorun((function(c){if(_this.enabled=_settings_client__WEBPACK_IMPORTED_MODULE_1__.W.get("Accounts_iframe_enabled"),_this.reactiveEnabled.set(_this.enabled),_this.iframeUrl=_settings_client__WEBPACK_IMPORTED_MODULE_1__.W.get("Accounts_iframe_url"),_this.apiUrl=_settings_client__WEBPACK_IMPORTED_MODULE_1__.W.get("Accounts_Iframe_api_url"),_this.apiMethod=_settings_client__WEBPACK_IMPORTED_MODULE_1__.W.get("Accounts_Iframe_api_method"),!1===_this.enabled)return c.stop();!0===_this.enabled&&_this.iframeUrl&&_this.apiUrl&&_this.apiMethod&&(c.stop(),meteor_accounts_base__WEBPACK_IMPORTED_MODULE_0__.bX._storedLoginToken()||_this.tryLogin())}))}return function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(IframeLogin,[{key:"tryLogin",value:function tryLogin(callback){var _this2=this;if(this.enabled&&this.iframeUrl&&this.apiUrl&&this.apiMethod){console.log("tryLogin");var iframeUrl=this.iframeUrl,separator="?";iframeUrl.indexOf("?")>-1&&(separator="&"),navigator.userAgent.indexOf("Electron")>-1&&(iframeUrl+="".concat(separator,"client=electron")),meteor_accounts_base__WEBPACK_IMPORTED_MODULE_0__.HTTP.call(this.apiMethod,this.apiUrl,{beforeSend:function beforeSend(xhr){xhr.withCredentials=!0}},(function(error,result){console.log(error,result),null!=result&&result.data&&(result.data.token||result.data.loginToken)?_this2.loginWithToken(result.data,(function(error){error?_this2.reactiveIframeUrl.set(iframeUrl):_this2.reactiveIframeUrl.set(void 0),null==callback||callback(error,result)})):(_this2.reactiveIframeUrl.set(iframeUrl),null==callback||callback(error,result))}))}}},{key:"loginWithToken",value:function loginWithToken(tokenData,callback){if(this.enabled){if(meteor_accounts_base__WEBPACK_IMPORTED_MODULE_0__.Match.test(tokenData,String)&&(tokenData={token:tokenData}),console.log("loginWithToken"),"loginToken"in tokenData)return meteor_accounts_base__WEBPACK_IMPORTED_MODULE_0__.fj.loginWithToken(tokenData.loginToken,callback);meteor_accounts_base__WEBPACK_IMPORTED_MODULE_0__.bX.callLoginMethod({methodArguments:[{iframe:!0,token:tokenData.token}],userCallback:callback})}}}]),IframeLogin}(),iframeLogin=new IframeLogin},"./app/ui-utils/client/lib/LegacyRoomManager.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return LegacyRoomManager}});var _getConfig,meteor_reactive_var__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./.storybook/mocks/meteor.js"),_client_lib_RoomManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./client/lib/RoomManager.ts"),_client_lib_rooms_roomCoordinator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/lib/rooms/roomCoordinator.tsx"),_client_lib_utils_fireGlobalEvent__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/lib/utils/fireGlobalEvent.ts"),_client_lib_utils_getConfig__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./client/lib/utils/getConfig.ts"),_lib_callbacks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./lib/callbacks.ts"),_models_client__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./app/models/client/index.ts"),_utils_client_lib_SDKClient__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./app/utils/client/lib/SDKClient.ts"),_RoomHistoryManager__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./app/ui-utils/client/lib/RoomHistoryManager.ts"),_mainReady__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./app/ui-utils/client/lib/mainReady.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}function _asyncIterator(r){var n,t,o,e=2;for("undefined"!=typeof Symbol&&(t=Symbol.asyncIterator,o=Symbol.iterator);e--;){if(t&&null!=(n=r[t]))return n.call(r);if(o&&null!=(n=r[o]))return new AsyncFromSyncIterator(n.call(r));t="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(r){function AsyncFromSyncIteratorContinuation(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var n=r.done;return Promise.resolve(r.value).then((function(r){return{value:r,done:n}}))}return AsyncFromSyncIterator=function AsyncFromSyncIterator(r){this.s=r,this.n=r.next},AsyncFromSyncIterator.prototype={s:null,n:null,next:function next(){return AsyncFromSyncIteratorContinuation(this.n.apply(this.s,arguments))},return:function _return(r){var n=this.s.return;return void 0===n?Promise.resolve({value:r,done:!0}):AsyncFromSyncIteratorContinuation(n.apply(this.s,arguments))},throw:function _throw(r){var n=this.s.return;return void 0===n?Promise.reject(r):AsyncFromSyncIteratorContinuation(n.apply(this.s,arguments))}},new AsyncFromSyncIterator(r)}var maxRoomsOpen=parseInt(null!==(_getConfig=(0,_client_lib_utils_getConfig__WEBPACK_IMPORTED_MODULE_4__.z)("maxRoomsOpen"))&&void 0!==_getConfig?_getConfig:"5")||5,openedRooms={},openedRoomsDependency=new meteor_reactive_var__WEBPACK_IMPORTED_MODULE_0__.JD.Dependency;function close(typeName){if(openedRooms[typeName]){openedRooms[typeName].rid&&(_utils_client_lib_SDKClient__WEBPACK_IMPORTED_MODULE_7__.sdk.stop("room-messages",openedRooms[typeName].rid),_utils_client_lib_SDKClient__WEBPACK_IMPORTED_MODULE_7__.sdk.stop("notify-room","".concat(openedRooms[typeName].rid,"/deleteMessage")),_utils_client_lib_SDKClient__WEBPACK_IMPORTED_MODULE_7__.sdk.stop("notify-room","".concat(openedRooms[typeName].rid,"/deleteMessageBulk"))),openedRooms[typeName].ready=!1,openedRooms[typeName].active=!1,delete openedRooms[typeName].dom;var rid=openedRooms[typeName].rid;if(delete openedRooms[typeName],rid)return _client_lib_RoomManager__WEBPACK_IMPORTED_MODULE_1__.RoomManager.close(rid),_RoomHistoryManager__WEBPACK_IMPORTED_MODULE_8__.PV.clear(rid)}}function _closeAllRooms(){return(_closeAllRooms=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var _iteratorAbruptCompletion,_didIteratorError,_iteratorError,_iterator,_step,_openedRoom;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:_iteratorAbruptCompletion=!1,_didIteratorError=!1,_context3.prev=2,_iterator=_asyncIterator(Object.values(openedRooms));case 4:return _context3.next=6,_iterator.next();case 6:if(!(_iteratorAbruptCompletion=!(_step=_context3.sent).done)){_context3.next=13;break}return _openedRoom=_step.value,_context3.next=10,close(_openedRoom.typeName);case 10:_iteratorAbruptCompletion=!1,_context3.next=4;break;case 13:_context3.next=19;break;case 15:_context3.prev=15,_context3.t0=_context3.catch(2),_didIteratorError=!0,_iteratorError=_context3.t0;case 19:if(_context3.prev=19,_context3.prev=20,!_iteratorAbruptCompletion||null==_iterator.return){_context3.next=24;break}return _context3.next=24,_iterator.return();case 24:if(_context3.prev=24,!_didIteratorError){_context3.next=27;break}throw _iteratorError;case 27:return _context3.finish(24);case 28:return _context3.finish(19);case 29:case"end":return _context3.stop()}}),_callee3,null,[[2,15,19,29],[20,,24,28]])})))).apply(this,arguments)}var computation=meteor_reactive_var__WEBPACK_IMPORTED_MODULE_0__.JD.autorun((function(){!0===(_models_client__WEBPACK_IMPORTED_MODULE_6__.CachedChatRoom.ready.get()&&_mainReady__WEBPACK_IMPORTED_MODULE_9__.z.get())&&(meteor_reactive_var__WEBPACK_IMPORTED_MODULE_0__.JD.nonreactive((function(){return Object.entries(openedRooms).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),typeName=_ref2[0],record=_ref2[1];if(!0===record.active&&!0!==record.ready){var type=typeName.slice(0,1),name=typeName.slice(1),room=_client_lib_rooms_roomCoordinator__WEBPACK_IMPORTED_MODULE_2__.roomCoordinator.getRoomDirectives(type).findRoom(name);_RoomHistoryManager__WEBPACK_IMPORTED_MODULE_8__.PV.getMoreIfIsEmpty(record.rid),room&&!0!==record.streamActive&&(_utils_client_lib_SDKClient__WEBPACK_IMPORTED_MODULE_7__.sdk.stream("room-messages",[record.rid],function(){var _ref3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(msg){var subscription,isNew;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if("command"===msg.t){_context.next=8;break}return subscription=_models_client__WEBPACK_IMPORTED_MODULE_6__.ChatSubscription.findOne({rid:record.rid},{reactive:!1}),isNew=!_models_client__WEBPACK_IMPORTED_MODULE_6__.ChatMessage.findOne({_id:msg._id,temp:{$ne:!0}}),_context.next=5,(0,_RoomHistoryManager__WEBPACK_IMPORTED_MODULE_8__.l4)({msg:msg,subscription:subscription});case 5:if(!isNew){_context.next=8;break}return _context.next=8,_lib_callbacks__WEBPACK_IMPORTED_MODULE_5__.l.run("streamNewMessage",msg);case 8:return _context.next=10,_lib_callbacks__WEBPACK_IMPORTED_MODULE_5__.l.run("streamMessage",_objectSpread(_objectSpread({},msg),{},{name:room.name||""}));case 10:(0,_client_lib_utils_fireGlobalEvent__WEBPACK_IMPORTED_MODULE_3__.fireGlobalEvent)("new-message",_objectSpread(_objectSpread({},msg),{},{name:room.name||"",room:{type:type,name:name}}));case 11:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref3.apply(this,arguments)}}()).ready().then((function(){record.streamActive=!0,openedRoomsDependency.changed()})),_utils_client_lib_SDKClient__WEBPACK_IMPORTED_MODULE_7__.sdk.stream("notify-room",["".concat(record.rid,"/messagesImported")],_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_RoomHistoryManager__WEBPACK_IMPORTED_MODULE_8__.PV.clear(record.rid);case 2:return _context2.next=4,_RoomHistoryManager__WEBPACK_IMPORTED_MODULE_8__.PV.getMore(record.rid);case 4:case"end":return _context2.stop()}}),_callee2)})))),_utils_client_lib_SDKClient__WEBPACK_IMPORTED_MODULE_7__.sdk.stream("notify-room",["".concat(record.rid,"/deleteMessage")],(function(msg){_models_client__WEBPACK_IMPORTED_MODULE_6__.ChatMessage.remove({_id:msg._id}),_models_client__WEBPACK_IMPORTED_MODULE_6__.ChatMessage.update({tmid:msg._id},{$unset:{tmid:1}},{multi:!0})})),_utils_client_lib_SDKClient__WEBPACK_IMPORTED_MODULE_7__.sdk.stream("notify-room",["".concat(record.rid,"/deleteMessageBulk")],(function(_ref5){var rid=_ref5.rid,ts=_ref5.ts,excludePinned=_ref5.excludePinned,ignoreDiscussion=_ref5.ignoreDiscussion,users=_ref5.users,ids=_ref5.ids,showDeletedStatus=_ref5.showDeletedStatus,query={rid:rid};return ids?query._id={$in:ids}:query.ts=ts,excludePinned&&(query.pinned={$ne:!0}),ignoreDiscussion&&(query.drid={$exists:!1}),null!=users&&users.length&&(query["u.username"]={$in:users}),showDeletedStatus?_models_client__WEBPACK_IMPORTED_MODULE_6__.ChatMessage.update(query,{$set:{t:"rm",msg:"",urls:[],mentions:[],attachments:[],reactions:{}}},{multi:!0}):_models_client__WEBPACK_IMPORTED_MODULE_6__.ChatMessage.remove(query)})),_utils_client_lib_SDKClient__WEBPACK_IMPORTED_MODULE_7__.sdk.stream("notify-room",["".concat(record.rid,"/messagesRead")],(function(_ref6){var tmid=_ref6.tmid,until=_ref6.until;if(tmid)return _models_client__WEBPACK_IMPORTED_MODULE_6__.ChatMessage.update({tmid:tmid,unread:!0},{$unset:{unread:1}},{multi:!0});_models_client__WEBPACK_IMPORTED_MODULE_6__.ChatMessage.update({rid:record.rid,unread:!0,ts:{$lt:until},$or:[{tmid:{$exists:!1}},{tshow:!0}]},{$unset:{unread:1}},{multi:!0})}))),record.ready=!0}}))})),openedRoomsDependency.changed())}));var openedRoom=void 0,LegacyRoomManager={get openedRoom(){return openedRoom},set openedRoom(rid){openedRoom=rid},get openedRooms(){return openedRooms},getOpenedRoomByRid:function getOpenedRoomByRid(rid){return openedRoomsDependency.depend(),Object.keys(openedRooms).map((function(typeName){return openedRooms[typeName]})).find((function(openedRoom){return openedRoom.rid===rid}))},close:close,closeAllRooms:function closeAllRooms(){return _closeAllRooms.apply(this,arguments)},get computation(){return computation},open:function open(_ref7){var typeName=_ref7.typeName,rid=_ref7.rid;return openedRooms[typeName]||(openedRooms[typeName]={typeName:typeName,rid:rid,active:!1,ready:!1,unreadSince:new meteor_reactive_var__WEBPACK_IMPORTED_MODULE_0__.Hw(void 0),lastSeen:new Date}),openedRooms[typeName].lastSeen=new Date,openedRooms[typeName].ready&&function closeOlderRooms(){if(!(Object.keys(openedRooms).length<=maxRoomsOpen)){var roomsToClose=Object.values(openedRooms).sort((function(a,b){return b.lastSeen.getTime()-a.lastSeen.getTime()})).slice(maxRoomsOpen);return Array.from(roomsToClose).map((function(roomToClose){return close(roomToClose.typeName)}))}}(),!0===_models_client__WEBPACK_IMPORTED_MODULE_6__.CachedChatSubscription.ready.get()&&!0!==openedRooms[typeName].active&&(openedRooms[typeName].active=!0,computation&&computation.invalidate()),{ready:function ready(){return openedRoomsDependency.depend(),openedRooms[typeName].ready}}}}},"./app/ui-utils/client/lib/MessageAction.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return instance}});var mem__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mem/dist/index.js"),mem__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(mem__WEBPACK_IMPORTED_MODULE_0__);function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}var MessageAction=function(){function MessageAction(){!function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,MessageAction),_defineProperty(this,"buttons",{})}var _getAll;return function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(MessageAction,[{key:"addButton",value:function addButton(config){null!=config&&config.id&&(config.group||(config.group="menu"),config.condition&&(config.condition=mem__WEBPACK_IMPORTED_MODULE_0___default()(config.condition,{maxAge:1e3,cacheKey:JSON.stringify})),this.buttons[config.id]=config)}},{key:"removeButton",value:function removeButton(id){delete this.buttons[id]}},{key:"getAll",value:(_getAll=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(props,context,group){return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Promise.all(Object.values(this.buttons).sort((function(a,b){var _a$order,_b$order;return(null!==(_a$order=a.order)&&void 0!==_a$order?_a$order:0)-(null!==(_b$order=b.order)&&void 0!==_b$order?_b$order:0)})).filter((function(button){return!button.group||(Array.isArray(button.group)?button.group.includes(group):button.group===group)})).filter((function(button){return!button.context||button.context.includes(context)})).map(function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(button){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.t0=button,_context.t1=!button.condition,_context.t1){_context.next=6;break}return _context.next=5,button.condition(_objectSpread(_objectSpread({},props),{},{context:context}));case 5:_context.t1=_context.sent;case 6:return _context.t2=_context.t1,_context.abrupt("return",[_context.t0,_context.t2]);case 8:case"end":return _context.stop()}}),_callee)})));return function(_x4){return _ref.apply(this,arguments)}}()));case 2:return _context2.abrupt("return",_context2.sent.filter((function(_ref2){return _slicedToArray(_ref2,2)[1]})).map((function(_ref4){return _slicedToArray(_ref4,1)[0]})));case 3:case"end":return _context2.stop()}}),_callee2,this)}))),function getAll(_x,_x2,_x3){return _getAll.apply(this,arguments)})}]),MessageAction}(),instance=new MessageAction},"./app/ui-utils/client/lib/mainReady.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return mainReady}});var mainReady=new(__webpack_require__("./.storybook/mocks/meteor.js").Hw)(!1)},"./app/ui-utils/lib/MessageTypes.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}__webpack_require__.d(__webpack_exports__,{l:function(){return instance}});var instance=new(function(){function MessageTypes(){!function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,MessageTypes),function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}(this,"types",new Map)}return function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(MessageTypes,[{key:"registerType",value:function registerType(options){return"render"in options&&console.warn("MessageType.render is deprecated. Use MessageType.message instead.",options.id),"template"in options&&console.warn("MessageType.template is deprecated. Use MessageType.message instead.",options.id),this.types.set(options.id,options),options}},{key:"getType",value:function getType(message){return message.t&&this.types.get(message.t)}},{key:"isSystemMessage",value:function isSystemMessage(message){var type=this.getType(message);return Boolean(null==type?void 0:type.system)}}]),MessageTypes}())},"./client/components/Emoji.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _templateObject,_rocket_chat_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/styled/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_lib_utils_renderEmoji__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/lib/utils/renderEmoji.ts"),_excluded=["fillContainer"],_excluded2=["className","image"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var EmojiComponent=(0,_rocket_chat_styled__WEBPACK_IMPORTED_MODULE_0__.A)("span",(function(_ref){_ref.fillContainer;return _objectWithoutProperties(_ref,_excluded)}))(_templateObject||(_templateObject=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\t","\n"])),(function(_ref2){return _ref2.fillContainer?"\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tmargin: 0;":""}));function Emoji(_ref3){var emojiHandle=_ref3.emojiHandle,_ref3$className=_ref3.className,className=void 0===_ref3$className?void 0:_ref3$className,fillContainer=_ref3.fillContainer,_getEmojiClassNameAnd=(0,_lib_utils_renderEmoji__WEBPACK_IMPORTED_MODULE_2__.P)(emojiHandle),emojiClassName=_getEmojiClassNameAnd.className,image=_getEmojiClassNameAnd.image,props=_objectWithoutProperties(_getEmojiClassNameAnd,_excluded2);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(EmojiComponent,_extends({className:[emojiClassName,className].filter(Boolean).join(" "),style:null!=image&&image.length?{backgroundImage:image}:void 0,fillContainer:fillContainer},props))}__webpack_exports__.A=Emoji,Emoji.__docgenInfo={description:"",methods:[],displayName:"Emoji",props:{emojiHandle:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"undefined",computed:!0}},fillContainer:{required:!1,tsType:{name:"boolean"},description:""}}}},"./client/components/GazzodownText.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return components_GazzodownText}});var index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),dist=__webpack_require__("../../packages/gazzodown/dist/index.js"),esm=__webpack_require__("./node_modules/@rocket.chat/string-helpers/dist/esm/index.js"),ui_client_dist=__webpack_require__("../../packages/ui-client/dist/index.js"),ui_contexts_dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),client=__webpack_require__("./app/emoji/client/index.ts"),detectEmoji=function detectEmoji(text){var html=Object.values(client.Zg.packages).reverse().reduce((function(html,_ref){return(0,_ref.render)(html)}),text),div=document.createElement("div");return div.innerHTML=html,Array.from(div.querySelectorAll("span")).map((function(span){return{name:span.title,className:span.className,image:span.style.backgroundImage||void 0,content:span.innerText}}))},fireGlobalEvent=__webpack_require__("./client/lib/utils/fireGlobalEvent.ts"),UserCardContext=__webpack_require__("./client/views/room/contexts/UserCardContext.ts"),useGoToRoom=__webpack_require__("./client/views/room/hooks/useGoToRoom.ts"),MessageListContext=__webpack_require__("./client/components/message/list/MessageListContext.tsx");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var GazzodownText=function GazzodownText(_ref){var mentions=_ref.mentions,channels=_ref.channels,searchText=_ref.searchText,children=_ref.children,enableTimestamp=(0,ui_client_dist.go)("enable-timestamp-message-parser"),userLanguage=_slicedToArray((0,index_module.useLocalStorage)("userLanguage","en"),1)[0],highlights=(0,MessageListContext.mb)(),_useUserCard=(0,UserCardContext.P)(),triggerProps=_useUserCard.triggerProps,openUserCard=_useUserCard.openUserCard,highlightRegex=(0,react.useMemo)((function(){if(null!=highlights&&highlights.length){var alternatives=highlights.map((function(_ref2){var highlight=_ref2.highlight;return(0,esm.Nt)(highlight)})).join("|"),expression="(?=^|\\b|[\\s\\n\\r\\t.,،'\\\"\\+!?:-])(".concat(alternatives,")(?=$|\\b|[\\s\\n\\r\\t.,،'\\\"\\+!?:-])");return function(){return new RegExp(expression,"gmi")}}}),[highlights]),markRegex=(0,react.useMemo)((function(){if(searchText)return function(){return new RegExp("(".concat(searchText,")(?![^<]*>)"),"gi")}}),[searchText]),convertAsciiToEmoji=(0,ui_contexts_dist.useUserPreference)("convertAsciiEmoji",!0),useEmoji=Boolean((0,ui_contexts_dist.useUserPreference)("useEmojis")),useRealName=Boolean((0,ui_contexts_dist.useSetting)("UI_Use_Real_Name")),ownUserId=(0,ui_contexts_dist.useUserId)(),showMentionSymbol=Boolean((0,ui_contexts_dist.useUserPreference)("mentionsWithSymbol")),resolveUserMention=(0,react.useCallback)((function(mention){if("all"!==mention&&"here"!==mention){var filterUser=function filterUser(_ref3){var username=_ref3.username,type=_ref3.type;return(!type||"user"===type)&&username===mention},filterTeam=function filterTeam(_ref4){var name=_ref4.name;return"team"===_ref4.type&&name===mention};return null==mentions?void 0:mentions.find((function(mention){return filterUser(mention)||filterTeam(mention)}))}}),[mentions]),onUserMentionClick=(0,react.useCallback)((function(_ref5){var username=_ref5.username;if(username)return function(event){event.stopPropagation(),openUserCard(event,username)}}),[openUserCard]),goToRoom=(0,useGoToRoom.q)(),_useLayout=(0,ui_contexts_dist.useLayout)(),isEmbedded=_useLayout.isEmbedded,isMobile=_useLayout.isMobile,resolveChannelMention=(0,react.useCallback)((function(mention){return null==channels?void 0:channels.find((function(_ref6){return _ref6.name===mention}))}),[channels]),router=(0,ui_contexts_dist.useRouter)(),onChannelMentionClick=(0,react.useCallback)((function(_ref7){var rid=_ref7._id;return function(event){isEmbedded&&(0,fireGlobalEvent.fireGlobalEvent)("click-mention-link",{path:router.buildRoutePath({pattern:"/channel/:name/:tab?/:context?",params:{name:rid}}),channel:rid}),event.stopPropagation(),goToRoom(rid)}}),[router,isEmbedded,goToRoom]);return react.createElement(dist.oO.Provider,{value:{detectEmoji:detectEmoji,highlightRegex:highlightRegex,markRegex:markRegex,resolveUserMention:resolveUserMention,onUserMentionClick:onUserMentionClick,resolveChannelMention:resolveChannelMention,onChannelMentionClick:onChannelMentionClick,convertAsciiToEmoji:convertAsciiToEmoji,useEmoji:useEmoji,useRealName:useRealName,isMobile:isMobile,ownUserId:ownUserId,showMentionSymbol:showMentionSymbol,triggerProps:triggerProps,enableTimestamp:enableTimestamp,language:userLanguage}},children)},components_GazzodownText=(0,react.memo)(GazzodownText);GazzodownText.__docgenInfo={description:"",methods:[],displayName:"GazzodownText",props:{children:{required:!0,tsType:{name:"JSX.Element"},description:""},mentions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n\ttype?: 'user' | 'team';\n\t_id: string;\n\tusername?: string;\n\tname?: string;\n}",signature:{properties:[{key:"type",value:{name:"union",raw:"'user' | 'team'",elements:[{name:"literal",value:"'user'"},{name:"literal",value:"'team'"}],required:!1}},{key:"_id",value:{name:"string",required:!0}},{key:"username",value:{name:"string",required:!1}},{key:"name",value:{name:"string",required:!1}}]}}],raw:"{\n\ttype?: 'user' | 'team';\n\t_id: string;\n\tusername?: string;\n\tname?: string;\n}[]"},description:""},channels:{required:!1,tsType:{name:"Array",elements:[{name:"Pick",elements:[{name:"IRoom"},{name:"union",raw:"'_id' | 'name'",elements:[{name:"literal",value:"'_id'"},{name:"literal",value:"'name'"}]}],raw:"Pick<IRoom, '_id' | 'name'>"}],raw:"Pick<IRoom, '_id' | 'name'>[]"},description:""},searchText:{required:!1,tsType:{name:"string"},description:""}}}},"./client/components/GenericModal/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return _GenericModal__WEBPACK_IMPORTED_MODULE_0__.A},y:function(){return _GenericModal__WEBPACK_IMPORTED_MODULE_0__.y}});var _GenericModal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./client/components/GenericModal/GenericModal.tsx")},"./client/components/MarkdownText.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return components_MarkdownText}});var fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),dist=__webpack_require__("../../packages/ui-client/dist/index.js"),ui_contexts_dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),purify=__webpack_require__("./node_modules/dompurify/dist/purify.js"),purify_default=__webpack_require__.n(purify),marked_esm=__webpack_require__("./node_modules/marked/lib/marked.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),emojiParser=__webpack_require__("./app/emoji/client/emojiParser.js"),_excluded=["content","variant","withTruncatedText","preserveHtml","parseEmoji"];function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var documentRenderer=new marked_esm.xI.Renderer,inlineRenderer=new marked_esm.xI.Renderer,inlineWithoutBreaks=new marked_esm.xI.Renderer;marked_esm.xI.use({walkTokens:function walkTokens(token){/^\*[^*]+\*$|^\*\*[^*]+\*\*$/.test(token.raw)&&"em"===token.type?token.type="strong":/^__(?=\S)([\s\S]*?\S)__(?!_)|^_(?=\S)([\s\S]*?\S)_(?!_)/.test(token.raw)&&"strong"===token.type&&(token.type="em")}});var linkMarked=function linkMarked(href,_title,text){return'<a href="'.concat(href,'" rel="nofollow noopener noreferrer">').concat(text,"</a> ")},paragraphMarked=function paragraphMarked(text){return text},brMarked=function brMarked(){return" "},listItemMarked=function listItemMarked(text){var cleanText=text.replace(/<p.*?>|<\/p>/gi,"");return"<li>".concat(cleanText,"</li>")},horizontalRuleMarked=function horizontalRuleMarked(){return""};documentRenderer.link=linkMarked,documentRenderer.listitem=listItemMarked,inlineRenderer.link=linkMarked,inlineRenderer.paragraph=paragraphMarked,inlineRenderer.listitem=listItemMarked,inlineRenderer.hr=horizontalRuleMarked,inlineWithoutBreaks.link=linkMarked,inlineWithoutBreaks.paragraph=paragraphMarked,inlineWithoutBreaks.br=brMarked,inlineWithoutBreaks.image=brMarked,inlineWithoutBreaks.code=paragraphMarked,inlineWithoutBreaks.codespan=paragraphMarked,inlineWithoutBreaks.listitem=listItemMarked,inlineWithoutBreaks.hr=horizontalRuleMarked;var defaultOptions={gfm:!0,headerIds:!1},options=_objectSpread(_objectSpread({},defaultOptions),{},{renderer:documentRenderer}),inlineOptions=_objectSpread(_objectSpread({},defaultOptions),{},{renderer:inlineRenderer}),inlineWithoutBreaksOptions=_objectSpread(_objectSpread({},defaultOptions),{},{renderer:inlineWithoutBreaks}),getRegexp=function getRegexp(schemeSetting){var schemes=schemeSetting?schemeSetting.split(",").join("|"):"";return new RegExp("^(".concat(schemes,"):"),"gim")},MarkdownText=function MarkdownText(_ref){var markedOptions,content=_ref.content,_ref$variant=_ref.variant,variant=void 0===_ref$variant?"document":_ref$variant,_ref$withTruncatedTex=_ref.withTruncatedText,withTruncatedText=void 0!==_ref$withTruncatedTex&&_ref$withTruncatedTex,_ref$preserveHtml=_ref.preserveHtml,preserveHtml=void 0!==_ref$preserveHtml&&_ref$preserveHtml,_ref$parseEmoji=_ref.parseEmoji,parseEmoji=void 0!==_ref$parseEmoji&&_ref$parseEmoji,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),sanitizer=purify_default().sanitize,t=(0,ui_contexts_dist.useTranslation)();switch(variant){case"inline":markedOptions=inlineOptions;break;case"inlineWithoutBreaks":markedOptions=inlineWithoutBreaksOptions;break;default:markedOptions=options}var __html=(0,react.useMemo)((function(){var html=function(){if(content&&"string"==typeof content){var markedHtml=/inline/.test(variant)?marked_esm.xI.parseInline(new Option(content).innerHTML,markedOptions):marked_esm.xI.parse(new Option(content).innerHTML,markedOptions);return parseEmoji?function renderMessageEmoji(_ref){var html=_ref.html;return(0,emojiParser.G)({html:html}).html}({html:markedHtml}):markedHtml}}();return purify_default().addHook("afterSanitizeAttributes",(function(node){if("target"in node){var href=node.getAttribute("href")||"";node.setAttribute("title","".concat(t("Go_to_href",{href:href.replace((0,dist.aw)(),"")}))),node.setAttribute("rel","nofollow noopener noreferrer"),(0,dist.ge)(node.getAttribute("href")||"")&&(node.setAttribute("target","_blank"),node.setAttribute("title",href))}})),preserveHtml?html:html&&sanitizer(html,{ADD_ATTR:["target"],ALLOWED_URI_REGEXP:getRegexp("http,https,notes,ftp,ftps,tel,mailto,sms,cid")})}),[preserveHtml,sanitizer,content,variant,markedOptions,parseEmoji,t]);return __html?react.createElement(fuselage.Box,_extends({dangerouslySetInnerHTML:{__html:__html},withTruncatedText:withTruncatedText,withRichContent:"inlineWithoutBreaks"!==variant||"inlineWithoutBreaks"},props)):null},components_MarkdownText=MarkdownText;MarkdownText.__docgenInfo={description:"",methods:[],displayName:"MarkdownText",props:{variant:{defaultValue:{value:"'document'",computed:!1},required:!1},withTruncatedText:{defaultValue:{value:"false",computed:!1},required:!1},preserveHtml:{defaultValue:{value:"false",computed:!1},required:!1},parseEmoji:{defaultValue:{value:"false",computed:!1},required:!1}}}},"./client/components/RoomIcon/OmnichannelRoomIcon/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{p:function(){return OmnichannelRoomIcon}});var dist=__webpack_require__("../../packages/core-typings/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),AsyncStatePhase=__webpack_require__("./client/lib/asyncState/AsyncStatePhase.ts"),shim=__webpack_require__("./node_modules/use-sync-external-store/shim/index.js");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var OmnichannelRoomIconContext=(0,react.createContext)({queryIcon:function queryIcon(){return[function(){return function(){}},function(){return{phase:AsyncStatePhase.Z.LOADING,value:void 0,error:void 0}}]}}),OmnichannelAppSourceRoomIcon=function OmnichannelAppSourceRoomIcon(_ref){var source=_ref.source,color=_ref.color,size=_ref.size,icon="sidebar"===_ref.placement&&source.sidebarIcon||source.defaultIcon,_useOmnichannelRoomIc=function useOmnichannelRoomIcon(app,icon){var queryIcon=(0,react.useContext)(OmnichannelRoomIconContext).queryIcon,_useMemo2=_slicedToArray((0,react.useMemo)((function(){return queryIcon(app,icon)}),[app,queryIcon,icon]),2),subscribe=_useMemo2[0],getSnapshot=_useMemo2[1];return(0,shim.useSyncExternalStore)(subscribe,getSnapshot)}(source.id,icon||""),phase=_useOmnichannelRoomIc.phase,value=_useOmnichannelRoomIc.value;return[AsyncStatePhase.Z.REJECTED,AsyncStatePhase.Z.LOADING].includes(phase)?react.createElement(fuselage.Icon,{name:"headset",size:size,color:color}):react.createElement(fuselage.Box,{size:size,color:color},react.createElement(fuselage.Box,{is:"svg",size:size,"aria-hidden":"true"},react.createElement(fuselage.Box,{is:"use",href:"#".concat(value)})))};OmnichannelAppSourceRoomIcon.__docgenInfo={description:"",methods:[],displayName:"OmnichannelAppSourceRoomIcon",props:{source:{required:!0,tsType:{name:"IOmnichannelSourceFromApp"},description:""},color:{required:!0,tsType:{name:"ComponentProps['color']",raw:"ComponentProps<typeof Box>['color']"},description:""},size:{required:!0,tsType:{name:"ComponentProps['size']",raw:"ComponentProps<typeof Icon>['size']"},description:""},placement:{required:!0,tsType:{name:"union",raw:"'sidebar' | 'default'",elements:[{name:"literal",value:"'sidebar'"},{name:"literal",value:"'default'"}]},description:""}}};var iconMap={widget:"livechat",email:"mail",sms:"sms",app:"headset",api:"headset",other:"headset"},OmnichannelCoreSourceRoomIcon=function OmnichannelCoreSourceRoomIcon(_ref){var source=_ref.source,color=_ref.color,size=_ref.size,icon=iconMap[(null==source?void 0:source.type)||"other"]||"headset";return react.createElement(fuselage.Icon,{name:icon,size:size,color:color})};OmnichannelCoreSourceRoomIcon.__docgenInfo={description:"",methods:[],displayName:"OmnichannelCoreSourceRoomIcon",props:{source:{required:!0,tsType:{name:"IOmnichannelSource"},description:""},color:{required:!0,tsType:{name:"ComponentProps['color']",raw:"ComponentProps<typeof Icon>['color']"},description:""},size:{required:!0,tsType:{name:"ComponentProps['size']",raw:"ComponentProps<typeof Icon>['size']"},description:""}}};var colors={busy:"status-font-on-danger",away:"status-font-on-warning",online:"status-font-on-success",offline:"annotation",disabled:"annotation"},OmnichannelRoomIcon=function OmnichannelRoomIcon(_ref){var source=_ref.source,color=_ref.color,status=_ref.status,_ref$size=_ref.size,size=void 0===_ref$size?"x16":_ref$size,_ref$placement=_ref.placement,placement=void 0===_ref$placement?"default":_ref$placement,iconColor=null!=color?color:colors[status||dist.UserStatus.OFFLINE];return(0,dist.isOmnichannelSourceFromApp)(source)?react.createElement(OmnichannelAppSourceRoomIcon,{source:source,placement:placement,color:iconColor,size:size}):react.createElement(OmnichannelCoreSourceRoomIcon,{source:source,color:iconColor,size:size})};OmnichannelRoomIcon.__docgenInfo={description:"",methods:[],displayName:"OmnichannelRoomIcon",props:{source:{required:!0,tsType:{name:"IOmnichannelSource"},description:""},color:{required:!1,tsType:{name:"ComponentProps['color']",raw:"ComponentProps<typeof Icon>['color']"},description:""},status:{required:!1,tsType:{name:"UserStatus"},description:""},size:{required:!1,tsType:{name:"ComponentProps['size']",raw:"ComponentProps<typeof Icon>['size']"},description:"",defaultValue:{value:"'x16'",computed:!1}},placement:{required:!1,tsType:{name:"union",raw:"'sidebar' | 'default'",elements:[{name:"literal",value:"'sidebar'"},{name:"literal",value:"'default'"}]},description:"",defaultValue:{value:"'default'",computed:!1}}}}},"./client/components/RoomIcon/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{R:function(){return RoomIcon}});var dist=__webpack_require__("../../packages/core-typings/dist/index.js"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react=__webpack_require__("./node_modules/react/index.js"),useRoomIcon=__webpack_require__("./client/hooks/useRoomIcon.tsx"),OmnichannelRoomIcon=__webpack_require__("./client/components/RoomIcon/OmnichannelRoomIcon/index.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var RoomIcon=function RoomIcon(_ref){var _room$v,room=_ref.room,_ref$size=_ref.size,size=void 0===_ref$size?"x16":_ref$size,isIncomingCall=_ref.isIncomingCall,_ref$placement=_ref.placement,placement=void 0===_ref$placement?"default":_ref$placement,iconPropsOrReactNode=(0,useRoomIcon.c)(room);return isIncomingCall?react.createElement(fuselage.Icon,{name:"phone",size:size}):(0,dist.isOmnichannelRoom)(room)?react.createElement(OmnichannelRoomIcon.p,{placement:placement,source:room.source,status:null===(_room$v=room.v)||void 0===_room$v?void 0:_room$v.status,size:size}):(0,react.isValidElement)(iconPropsOrReactNode)?iconPropsOrReactNode:iconPropsOrReactNode?react.createElement(fuselage.Icon,_extends({},iconPropsOrReactNode,{size:size})):null};RoomIcon.__docgenInfo={description:"",methods:[],displayName:"RoomIcon",props:{room:{required:!0,tsType:{name:"Pick",elements:[{name:"IRoom"},{name:"union",raw:"'t' | 'prid' | 'teamMain' | 'uids' | 'u'",elements:[{name:"literal",value:"'t'"},{name:"literal",value:"'prid'"},{name:"literal",value:"'teamMain'"},{name:"literal",value:"'uids'"},{name:"literal",value:"'u'"}]}],raw:"Pick<IRoom, 't' | 'prid' | 'teamMain' | 'uids' | 'u'>"},description:""},size:{required:!1,tsType:{name:"ComponentProps['size']",raw:"ComponentProps<typeof Icon>['size']"},description:"",defaultValue:{value:"'x16'",computed:!1}},isIncomingCall:{required:!1,tsType:{name:"boolean"},description:""},placement:{required:!1,tsType:{name:"union",raw:"'sidebar' | 'default'",elements:[{name:"literal",value:"'sidebar'"},{name:"literal",value:"'default'"}]},description:"",defaultValue:{value:"'default'",computed:!1}}}}},"./client/components/WarningModal.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_excluded=["text","confirmText","close","cancel","cancelText","confirm"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var WarningModal=function WarningModal(_ref){var text=_ref.text,confirmText=_ref.confirmText,close=_ref.close,cancel=_ref.cancel,cancelText=_ref.cancelText,confirm=_ref.confirm,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),t=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useTranslation)();return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Modal,_extends({open:!0},props),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Modal.Header,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Modal.Icon,{color:"danger",name:"modal-warning"}),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Modal.Title,null,t("Are_you_sure")),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Modal.Close,{onClick:close})),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Modal.Content,{fontScale:"p2"},text),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Modal.Footer,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Modal.FooterControllers,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Button,{secondary:!0,onClick:cancel||close},cancelText||t("Cancel")),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Button,{danger:!0,onClick:confirm},confirmText))))};__webpack_exports__.A=WarningModal,WarningModal.__docgenInfo={description:"",methods:[],displayName:"WarningModal",props:{text:{required:!0,tsType:{name:"ReactNode"},description:""},confirmText:{required:!0,tsType:{name:"ReactNode"},description:""},cancelText:{required:!1,tsType:{name:"ReactNode"},description:""},confirm:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},cancel:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./client/components/message/MessageCollapsible.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return message_MessageCollapsible}});var fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),Action=__webpack_require__("./client/components/message/content/Action.tsx"),_excluded=["title","href","disabled"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var AttachmentDownloadBase=function AttachmentDownloadBase(_ref){var title=_ref.title,href=_ref.href,disabled=_ref.disabled,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),t=(0,dist.useTranslation)();return react.createElement(Action.A,_extends({icon:"cloud-arrow-down",href:"".concat(href,"?download"),title:t(disabled?"Download_Disabled":"Download"),is:"a",target:"_blank",rel:"noopener noreferrer",download:title,disabled:disabled},props))},structure_AttachmentDownloadBase=AttachmentDownloadBase;AttachmentDownloadBase.__docgenInfo={description:"",methods:[],displayName:"AttachmentDownloadBase",props:{title:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},href:{required:!0,tsType:{name:"string"},description:""}}};var useDownloadFromServiceWorker=__webpack_require__("./client/hooks/useDownloadFromServiceWorker.ts"),AttachmentEncryptedDownload_excluded=["title","href"];function AttachmentEncryptedDownload_extends(){return AttachmentEncryptedDownload_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AttachmentEncryptedDownload_extends.apply(null,arguments)}var AttachmentEncryptedDownload=function AttachmentEncryptedDownload(_ref){var title=_ref.title,href=_ref.href,props=function AttachmentEncryptedDownload_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function AttachmentEncryptedDownload_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,AttachmentEncryptedDownload_excluded),encryptedAnchorProps=(0,useDownloadFromServiceWorker.HD)(href,title);return react.createElement(structure_AttachmentDownloadBase,AttachmentEncryptedDownload_extends({},props,encryptedAnchorProps,{title:title,href:href}))},structure_AttachmentEncryptedDownload=AttachmentEncryptedDownload;AttachmentEncryptedDownload.__docgenInfo={description:"",methods:[],displayName:"AttachmentEncryptedDownload"};var AttachmentDownload_excluded=["title","href"];function AttachmentDownload_extends(){return AttachmentDownload_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AttachmentDownload_extends.apply(null,arguments)}var AttachmentDownload=function AttachmentDownload(_ref){var title=_ref.title,href=_ref.href,props=function AttachmentDownload_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function AttachmentDownload_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,AttachmentDownload_excluded);return href.includes("/file-decrypt/")?react.createElement(structure_AttachmentEncryptedDownload,AttachmentDownload_extends({title:title,href:href},props)):react.createElement(structure_AttachmentDownloadBase,AttachmentDownload_extends({title:title,href:href},props))},structure_AttachmentDownload=AttachmentDownload;AttachmentDownload.__docgenInfo={description:"",methods:[],displayName:"AttachmentDownload",props:{title:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},href:{required:!0,tsType:{name:"string"},description:""}}};var AttachmentSize=__webpack_require__("./client/components/message/content/attachments/structure/AttachmentSize.tsx"),useCollapse=__webpack_require__("./client/components/message/hooks/useCollapse.tsx");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var MessageCollapsible=function MessageCollapsible(_ref){var children=_ref.children,title=_ref.title,hasDownload=_ref.hasDownload,link=_ref.link,size=_ref.size,isCollapsed=_ref.isCollapsed,_useCollapse2=_slicedToArray((0,useCollapse.n)(isCollapsed),2),collapsed=_useCollapse2[0],collapse=_useCollapse2[1];return react.createElement(react.Fragment,null,react.createElement(fuselage.Box,{display:"flex",flexDirection:"row",color:"hint",fontScale:"c1",alignItems:"center"},react.createElement(fuselage.Box,{withTruncatedText:!0,title:title},title),size&&react.createElement(AttachmentSize.A,{size:size})," ",collapse,hasDownload&&link&&react.createElement(structure_AttachmentDownload,{title:title,href:link})),!collapsed&&children)},message_MessageCollapsible=MessageCollapsible;MessageCollapsible.__docgenInfo={description:"",methods:[],displayName:"MessageCollapsible",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},title:{required:!1,tsType:{name:"string"},description:""},hasDownload:{required:!1,tsType:{name:"boolean"},description:""},link:{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"number"},description:""},isCollapsed:{required:!1,tsType:{name:"boolean"},description:""}}}},"./client/components/message/MessageContentBody.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_gazzodown__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/gazzodown/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_GazzodownText__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/components/GazzodownText.tsx"),_excluded=["mentions","channels","md","searchText"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var MessageContentBody=function MessageContentBody(_ref){var mentions=_ref.mentions,channels=_ref.channels,md=_ref.md,searchText=_ref.searchText,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.MessageBody,_extends({"data-qa-type":"message-body",dir:"auto"},props),react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Suspense,{fallback:react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Skeleton,null)},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_GazzodownText__WEBPACK_IMPORTED_MODULE_3__.A,{channels:channels,mentions:mentions,searchText:searchText},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_gazzodown__WEBPACK_IMPORTED_MODULE_1__.VK,{tokens:md}))))};__webpack_exports__.A=MessageContentBody,MessageContentBody.__docgenInfo={description:"",methods:[],displayName:"MessageContentBody",props:{searchText:{required:!1,tsType:{name:"string"},description:""}}}},"./client/components/message/content/Action.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Action=function Action(props){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.IconButton,_extends({mi:2,mini:!0},props))};__webpack_exports__.A=Action,Action.__docgenInfo={description:"",methods:[],displayName:"Action",props:{icon:{required:!0,tsType:{name:"string"},description:""}}}},"./client/components/message/content/Attachments.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return content_Attachments}});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("../../packages/core-typings/dist/index.js"),MarkdownText=__webpack_require__("./client/components/MarkdownText.tsx"),useCollapse=__webpack_require__("./client/components/message/hooks/useCollapse.tsx"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),useExternalLink=__webpack_require__("./client/hooks/useExternalLink.ts"),ui_contexts_dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),lib=__webpack_require__("../../node_modules/@tanstack/react-query/build/lib/index.js"),ChatContext=__webpack_require__("./client/views/room/contexts/ChatContext.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}var usePerformActionMutation=function usePerformActionMutation(options){var chat=(0,ChatContext.Y)();return(0,lib.useMutation)(function(){var _ref2=function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(_ref){var _chat$composer,_chat$composer2,processingType,msg,mid,message;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(processingType=_ref.processingType,msg=_ref.msg,mid=_ref.mid,chat){_context.next=3;break}return _context.abrupt("return");case 3:_context.t0=processingType,_context.next="sendMessage"===_context.t0?6:"respondWithMessage"===_context.t0?11:"respondWithQuotedMessage"===_context.t0?16:23;break;case 6:if(msg){_context.next=8;break}return _context.abrupt("return");case 8:return _context.next=10,chat.flows.sendMessage({text:msg});case 10:case 15:return _context.abrupt("return");case 11:if(msg){_context.next=13;break}return _context.abrupt("return");case 13:return _context.next=15,null===(_chat$composer=chat.composer)||void 0===_chat$composer?void 0:_chat$composer.replyWith(msg);case 16:if(mid){_context.next=18;break}return _context.abrupt("return");case 18:return _context.next=20,chat.data.getMessageByID(mid);case 20:return message=_context.sent,_context.next=23,null===(_chat$composer2=chat.composer)||void 0===_chat$composer2?void 0:_chat$composer2.quoteMessage(message);case 23:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref2.apply(this,arguments)}}(),options)},ActionAttachmentButton=function ActionAttachmentButton(_ref){var children=_ref.children,processingType=_ref.processingType,msg=_ref.msg,mid=_ref.mid,dispatchToastMessage=(0,ui_contexts_dist.useToastMessageDispatch)(),performActionMutation=usePerformActionMutation({onError:function onError(error){dispatchToastMessage({type:"error",message:error})}});return react.createElement(fuselage.Button,{small:!0,value:msg,id:mid,disabled:performActionMutation.isLoading,onClick:function onClick(event){event.preventDefault(),performActionMutation.mutate({processingType:processingType,msg:msg,mid:mid})}},children)},default_ActionAttachmentButton=ActionAttachmentButton;ActionAttachmentButton.__docgenInfo={description:"",methods:[],displayName:"ActionAttachmentButton",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},mid:{required:!1,tsType:{name:"IMessage['_id']",raw:"IMessage['_id']"},description:""},msg:{required:!1,tsType:{name:"string"},description:""},processingType:{required:!0,tsType:{name:"Exclude",elements:[{name:"MessageAttachmentAction['actions'][number]['msg_processing_type']",raw:"MessageAttachmentAction['actions'][number]['msg_processing_type']"},{name:"undefined"}],raw:"Exclude<MessageAttachmentAction['actions'][number]['msg_processing_type'], undefined>"},description:""}}};var ActionAttachment=function ActionAttachment(_ref){var actions=_ref.actions,handleLinkClick=(0,useExternalLink.v)();return react.createElement(fuselage.Box,{mb:4},react.createElement(fuselage.ButtonGroup,{small:!0},actions.filter((function(_ref2){var type=_ref2.type,msgInChatWindow=_ref2.msg_in_chat_window,url=_ref2.url,image=_ref2.image_url,text=_ref2.text;return"button"===type&&(image||text)&&(url||msgInChatWindow)})).map((function(_ref3,index){var text=_ref3.text,url=_ref3.url,msgId=_ref3.msgId,msg=_ref3.msg,_ref3$msg_processing_=_ref3.msg_processing_type,processingType=void 0===_ref3$msg_processing_?"sendMessage":_ref3$msg_processing_,image=_ref3.image_url,content=image?react.createElement(fuselage.Box,{is:"img",src:image,maxHeight:200}):text;return url?react.createElement(fuselage.Button,{role:"link",onClick:function onClick(){return handleLinkClick(url)},key:index,small:!0},content):react.createElement(default_ActionAttachmentButton,{key:index,processingType:processingType,msg:msg,mid:msgId},content)}))))};ActionAttachment.__docgenInfo={description:"",methods:[],displayName:"ActionAttachment"};var _excluded=["title","value"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Field=function Field(_ref){var title=_ref.title,value=_ref.value,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return react.createElement(fuselage.Box,_extends({mb:4,pi:4,width:"full",flexBasis:100,flexShrink:0,color:"default"},props),react.createElement(fuselage.Box,{fontScale:"p2m"},title),value)},default_Field=Field;function ShortField_extends(){return ShortField_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ShortField_extends.apply(null,arguments)}Field.__docgenInfo={description:"",methods:[],displayName:"Field",props:{short:{required:!1,tsType:{name:"boolean"},description:""},title:{required:!0,tsType:{name:"ReactNode"},description:""},value:{required:!0,tsType:{name:"ReactNode"},description:""}}};var ShortField=function ShortField(props){return react.createElement(default_Field,ShortField_extends({},props,{flexGrow:1,width:"50%",flexBasis:1}))},default_ShortField=ShortField;function FieldsAttachment_extends(){return FieldsAttachment_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},FieldsAttachment_extends.apply(null,arguments)}ShortField.__docgenInfo={description:"",methods:[],displayName:"ShortField"};var FieldsAttachment=function FieldsAttachment(_ref){var fields=_ref.fields;return react.createElement(fuselage.Box,{flexWrap:"wrap",display:"flex",mb:4,mi:-4},fields.map((function(field,index){return field.short?react.createElement(default_ShortField,FieldsAttachment_extends({},field,{key:index})):react.createElement(default_Field,FieldsAttachment_extends({},field,{key:index}))})))},default_FieldsAttachment=FieldsAttachment;FieldsAttachment.__docgenInfo={description:"",methods:[],displayName:"FieldsAttachment",props:{fields:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n\tshort?: boolean;\n\ttitle: ReactNode;\n\tvalue: ReactNode;\n}",signature:{properties:[{key:"short",value:{name:"boolean",required:!1}},{key:"title",value:{name:"ReactNode",required:!0}},{key:"value",value:{name:"ReactNode",required:!0}}]}}],raw:"{\n\tshort?: boolean;\n\ttitle: ReactNode;\n\tvalue: ReactNode;\n}[]"},description:""}}};var _templateObject,AttachmentAuthor=__webpack_require__("./client/components/message/content/attachments/structure/AttachmentAuthor.tsx"),AttachmentAuthorAvatar=__webpack_require__("./client/components/message/content/attachments/structure/AttachmentAuthorAvatar.tsx"),AttachmentAuthorName=__webpack_require__("./client/components/message/content/attachments/structure/AttachmentAuthorName.tsx"),index_module=__webpack_require__("./node_modules/@rocket.chat/css-in-js/dist/index.module.js");function Attachment_extends(){return Attachment_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Attachment_extends.apply(null,arguments)}var className=(0,index_module.css)(_templateObject||(_templateObject=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\twhite-space: normal;\n"]))),Attachment=function Attachment(props){var width=(0,ui_contexts_dist.useAttachmentDimensions)().width;return react.createElement(fuselage.Box,Attachment_extends({"rcx-message-attachment":!0,mb:4,maxWidth:width,width:"full",display:"flex",overflow:"hidden",flexDirection:"column",className:className},props))},structure_Attachment=Attachment;Attachment.__docgenInfo={description:"",methods:[],displayName:"Attachment"};var AttachmentBlock=function AttachmentBlock(_ref){var pre=_ref.pre,_ref$color=_ref.color,color=void 0===_ref$color?"annotation":_ref$color,children=_ref.children;return react.createElement(structure_Attachment,null,pre,react.createElement(fuselage.Box,{display:"flex",flexDirection:"row",pis:16,borderRadius:2,borderInlineStartStyle:"solid",borderInlineStartWidth:"default",borderInlineStartColor:color,children:children}))},structure_AttachmentBlock=AttachmentBlock;AttachmentBlock.__docgenInfo={description:"",methods:[],displayName:"AttachmentBlock",props:{pre:{required:!1,tsType:{name:"ReactNode"},description:""},color:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"",defaultValue:{value:"'annotation'",computed:!1}},children:{required:!1,tsType:{name:"ReactNode"},description:""}}};var AttachmentContent=__webpack_require__("./client/components/message/content/attachments/structure/AttachmentContent.tsx");function ImageBox_extends(){return ImageBox_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ImageBox_extends.apply(null,arguments)}var Load_templateObject,ImageBox=function ImageBox(props){return react.createElement(fuselage.Box,ImageBox_extends({display:"flex",maxWidth:"full",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",borderRadius:2,borderWidth:"default",borderStyle:"solid",borderColor:"extra-light",position:"relative"},props))},image_ImageBox=ImageBox;ImageBox.__docgenInfo={description:"",methods:[],displayName:"ImageBox"};var Load_excluded=["load"];function Load_extends(){return Load_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Load_extends.apply(null,arguments)}var Retry_templateObject,Load=function Load(_ref){var load=_ref.load,props=function Load_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function Load_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,Load_excluded),t=(0,ui_contexts_dist.useTranslation)(),clickable=(0,index_module.css)(Load_templateObject||(Load_templateObject=function Load_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\t\tcursor: pointer;\n\t\tbackground: ",";\n\n\t\t&:hover,\n\t\t&:focus {\n\t\t\tbackground: ",";\n\t\t}\n\t"])),fuselage.Palette.surface["surface-tint"],fuselage.Palette.surface["surface-hover"]);return react.createElement(image_ImageBox,Load_extends({className:clickable},props,{onClick:load}),react.createElement(fuselage.Icon,{name:"image",color:"hint",size:"x64"}),react.createElement(fuselage.Box,{fontScale:"h2",color:"default"},t("Click_to_load")))},image_Load=Load;Load.__docgenInfo={description:"",methods:[],displayName:"Load",props:{load:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var Retry=function Retry(_ref){var retry=_ref.retry,t=(0,ui_contexts_dist.useTranslation)(),clickable=(0,index_module.css)(Retry_templateObject||(Retry_templateObject=function Retry_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\t\tcursor: pointer;\n\t\tbackground: ",";\n\n\t\t&:hover,\n\t\t&:focus {\n\t\t\tbackground: ",";\n\t\t}\n\t"])),fuselage.Palette.surface["surface-tint"],fuselage.Palette.surface["surface-hover"]);return react.createElement(image_ImageBox,{className:clickable,onClick:retry,size:"x160"},react.createElement(fuselage.Icon,{name:"refresh",color:"hint",size:"x64"}),react.createElement(fuselage.Box,{fontScale:"h3",color:"default",textAlign:"center"},t("Retry")))},image_Retry=Retry;function AttachmentImage_typeof(o){return AttachmentImage_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},AttachmentImage_typeof(o)}Retry.__docgenInfo={description:"",methods:[],displayName:"Retry",props:{retry:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var AttachmentImage_excluded=["id","previewUrl","dataSrc","loadImage","setLoadImage","src"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=AttachmentImage_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=AttachmentImage_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==AttachmentImage_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var AttachmentImage=function AttachmentImage(_ref){var id=_ref.id,previewUrl=_ref.previewUrl,dataSrc=_ref.dataSrc,_ref$loadImage=_ref.loadImage,loadImage=void 0===_ref$loadImage||_ref$loadImage,setLoadImage=_ref.setLoadImage,src=_ref.src,size=function AttachmentImage_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function AttachmentImage_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,AttachmentImage_excluded),limits=(0,ui_contexts_dist.useAttachmentDimensions)(),_useState2=_slicedToArray((0,react.useState)(!1),2),error=_useState2[0],setError=_useState2[1],_size$width=size.width,width=void 0===_size$width?limits.width:_size$width,_size$height=size.height,height=void 0===_size$height?limits.height:_size$height,setHasNoError=(0,react.useMemo)((function(){return{setHasNoError:function setHasNoError(){return setError(!1)}}}),[]).setHasNoError,dimensions=function getDimensions(originalWidth,originalHeight,limits){if(originalWidth/limits.width>originalHeight/limits.height){var _width=Math.min(originalWidth,limits.width),_height=_width/originalWidth*originalHeight;return{width:_width,height:_height,ratio:_height/_width*100}}var height=Math.min(originalHeight,limits.height),width=height/originalHeight*originalWidth;return{width:width,height:height,ratio:height/width*100}}(width,height,limits),background=previewUrl&&"url(".concat(previewUrl,") center center / cover no-repeat fixed");return loadImage?error?react.createElement(image_Retry,{retry:setHasNoError}):react.createElement(fuselage.Box,{width:dimensions.width,maxWidth:"full",position:"relative"},react.createElement(fuselage.Box,{pbs:"".concat(dimensions.ratio,"%"),position:"relative"},react.createElement(image_ImageBox,{is:"picture",position:"absolute",onError:function onError(){return setError(!0)},style:_objectSpread(_objectSpread({},previewUrl&&{background:background,boxSizing:"content-box"}),{},{top:0,left:0,bottom:0,right:0})},react.createElement("img",{"data-id":id,className:"gallery-item","data-src":dataSrc||src,src:src,alt:"",width:dimensions.width,height:dimensions.height,loading:"lazy"})))):react.createElement(image_Load,{width:dimensions.width||limits.width,height:dimensions.height||limits.height,load:setLoadImage})},structure_AttachmentImage=(0,react.memo)(AttachmentImage);function AttachmentRow_extends(){return AttachmentRow_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AttachmentRow_extends.apply(null,arguments)}AttachmentImage.__docgenInfo={description:"",methods:[],displayName:"AttachmentImage",props:{previewUrl:{required:!1,tsType:{name:"string"},description:""},dataSrc:{required:!1,tsType:{name:"string"},description:""},src:{required:!0,tsType:{name:"string"},description:""},loadImage:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},setLoadImage:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},id:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}};var AttachmentRow=function AttachmentRow(props){return react.createElement(fuselage.Box,AttachmentRow_extends({mi:-2,mbe:2,"rcx-message-attachment":!0,display:"flex",alignItems:"center"},props))},structure_AttachmentRow=AttachmentRow;function AttachmentText_extends(){return AttachmentText_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AttachmentText_extends.apply(null,arguments)}AttachmentRow.__docgenInfo={description:"",methods:[],displayName:"AttachmentRow"};var AttachmentText=function AttachmentText(props){return react.createElement(fuselage.Box,AttachmentText_extends({mbe:4,mi:2,fontScale:"p2",color:"default"},props))},structure_AttachmentText=AttachmentText;AttachmentText.__docgenInfo={description:"",methods:[],displayName:"AttachmentText"};var AttachmentThumb=function AttachmentThumb(_ref){var url=_ref.url;return react.createElement(fuselage.Box,{mis:8},react.createElement(fuselage.Avatar,{url:url,size:"x48"}))},structure_AttachmentThumb=(0,react.memo)(AttachmentThumb);AttachmentThumb.__docgenInfo={description:"",methods:[],displayName:"AttachmentThumb",props:{url:{required:!0,tsType:{name:"string"},description:""}}};var AttachmentTitle=__webpack_require__("./client/components/message/content/attachments/structure/AttachmentTitle.tsx");function DefaultAttachment_typeof(o){return DefaultAttachment_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DefaultAttachment_typeof(o)}var DefaultAttachment_excluded=["value","title"];function DefaultAttachment_extends(){return DefaultAttachment_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},DefaultAttachment_extends.apply(null,arguments)}function DefaultAttachment_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function DefaultAttachment_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?DefaultAttachment_ownKeys(Object(t),!0).forEach((function(r){DefaultAttachment_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):DefaultAttachment_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function DefaultAttachment_defineProperty(e,r,t){return(r=function DefaultAttachment_toPropertyKey(t){var i=function DefaultAttachment_toPrimitive(t,r){if("object"!=DefaultAttachment_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=DefaultAttachment_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==DefaultAttachment_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function DefaultAttachment_slicedToArray(r,e){return function DefaultAttachment_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function DefaultAttachment_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function DefaultAttachment_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return DefaultAttachment_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?DefaultAttachment_arrayLikeToArray(r,a):void 0}}(r,e)||function DefaultAttachment_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DefaultAttachment_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var applyMarkdownIfRequires=function applyMarkdownIfRequires(){var list=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["text","pretext"],key=arguments.length>1?arguments[1]:void 0,text=arguments.length>2?arguments[2]:void 0,variant=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"inline";return null!=list&&list.includes(key)?react.createElement(MarkdownText.A,{parseEmoji:!0,variant:variant,content:text}):text},DefaultAttachment=function DefaultAttachment(attachment){var _useCollapse2=DefaultAttachment_slicedToArray((0,useCollapse.n)(!!attachment.collapsed),2),collapsed=_useCollapse2[0],collapse=_useCollapse2[1];return react.createElement(structure_AttachmentBlock,{color:attachment.color,pre:attachment.pretext&&react.createElement(structure_AttachmentText,null,applyMarkdownIfRequires(attachment.mrkdwn_in,"pretext",attachment.pretext))},react.createElement(AttachmentContent.A,null,attachment.author_name&&react.createElement(AttachmentAuthor.A,null,attachment.author_icon&&react.createElement(AttachmentAuthorAvatar.A,{url:attachment.author_icon}),react.createElement(AttachmentAuthorName.A,attachment.author_link&&{is:"a",href:attachment.author_link,target:"_blank",color:void 0},attachment.author_name)),attachment.title&&react.createElement(structure_AttachmentRow,null,react.createElement(AttachmentTitle.A,attachment.title_link&&{is:"a",href:attachment.title_link,target:"_blank",color:void 0},attachment.title)," ",collapse),!collapsed&&react.createElement(react.Fragment,null,attachment.text&&react.createElement(structure_AttachmentText,null,applyMarkdownIfRequires(attachment.mrkdwn_in,"text",attachment.text,"document")),attachment.fields&&react.createElement(default_FieldsAttachment,{fields:attachment.fields.map((function(field){if(!field.value)return field;var value=field.value,title=field.title;return DefaultAttachment_objectSpread(DefaultAttachment_objectSpread({},function DefaultAttachment_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function DefaultAttachment_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(field,DefaultAttachment_excluded)),{},{title:react.createElement(MarkdownText.A,{variant:"inline",parseEmoji:!0,content:title.replace(/(.*)/g,(function(line){return"".concat(line,"  ")}))}),value:react.createElement(MarkdownText.A,{variant:"inline",parseEmoji:!0,content:value.replace(/(.*)/g,(function(line){return"".concat(line,"  ")}))})})}))}),attachment.image_url&&react.createElement(structure_AttachmentImage,DefaultAttachment_extends({},attachment.image_dimensions,{src:attachment.image_url})),(0,dist.isActionAttachment)(attachment)&&react.createElement(ActionAttachment,attachment))),attachment.thumb_url&&react.createElement(structure_AttachmentThumb,{url:attachment.thumb_url}))},attachments_DefaultAttachment=DefaultAttachment;DefaultAttachment.__docgenInfo={description:"",methods:[],displayName:"DefaultAttachment"};var MessageCollapsible=__webpack_require__("./client/components/message/MessageCollapsible.tsx"),MessageContentBody=__webpack_require__("./client/components/message/MessageContentBody.tsx"),AudioAttachment=function AudioAttachment(_ref){var title=_ref.title,url=_ref.audio_url,type=_ref.audio_type,size=_ref.audio_size,description=_ref.description,descriptionMd=_ref.descriptionMd,link=_ref.title_link,hasDownload=_ref.title_link_download,collapsed=_ref.collapsed,getURL=(0,ui_contexts_dist.useMediaUrl)();return react.createElement(react.Fragment,null,descriptionMd?react.createElement(MessageContentBody.A,{md:descriptionMd}):react.createElement(MarkdownText.A,{parseEmoji:!0,content:description}),react.createElement(MessageCollapsible.A,{title:title,hasDownload:hasDownload,link:getURL(link||url),size:size,isCollapsed:collapsed},react.createElement(fuselage.AudioPlayer,{src:getURL(url),type:type})))},file_AudioAttachment=AudioAttachment;AudioAttachment.__docgenInfo={description:"",methods:[],displayName:"AudioAttachment"};var _window$RocketChatDes,dist_index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),getFileExtension=__webpack_require__("./lib/utils/getFileExtension.ts"),useDownloadFromServiceWorker=__webpack_require__("./client/hooks/useDownloadFromServiceWorker.ts"),AttachmentSize=__webpack_require__("./client/components/message/content/attachments/structure/AttachmentSize.tsx"),openDocumentViewer=null===(_window$RocketChatDes=window.RocketChatDesktop)||void 0===_window$RocketChatDes?void 0:_window$RocketChatDes.openDocumentViewer,GenericFileAttachment=function GenericFileAttachment(_ref){var title=_ref.title,description=_ref.description,descriptionMd=_ref.descriptionMd,link=_ref.title_link,hasDownload=_ref.title_link_download,size=_ref.size,format=_ref.format,collapsed=_ref.collapsed,getURL=(0,ui_contexts_dist.useMediaUrl)(),uid=(0,dist_index_module.useUniqueId)(),t=(0,es.Bd)().t;return react.createElement(react.Fragment,null,descriptionMd?react.createElement(MessageContentBody.A,{md:descriptionMd}):react.createElement(MarkdownText.A,{parseEmoji:!0,content:description}),react.createElement(MessageCollapsible.A,{title:title,hasDownload:hasDownload,link:link,isCollapsed:collapsed},react.createElement(fuselage.MessageGenericPreview,{style:{maxWidth:368,width:"100%"}},react.createElement(fuselage.MessageGenericPreviewContent,{thumb:react.createElement(fuselage.MessageGenericPreviewIcon,{name:"attachment-file",type:format||(0,getFileExtension.Q)(title)})},react.createElement(fuselage.MessageGenericPreviewTitle,{download:!!openDocumentViewer,externalUrl:function getExternalUrl(){if(hasDownload&&link){if(openDocumentViewer){var url=new URL(getURL(link),window.location.origin);return url.searchParams.set("download",""),url.toString()}return getURL(link)}}(),onClick:function handleTitleClick(event){if(link){if(openDocumentViewer&&"PDF"===format){event.preventDefault();var url=new URL(getURL(link),window.location.origin);return url.searchParams.set("contentDisposition","inline"),void openDocumentViewer(url.toString(),format,"")}link.includes("/file-decrypt/")&&(event.preventDefault(),(0,useDownloadFromServiceWorker.nk)(uid,t,title),(0,useDownloadFromServiceWorker.tO)(uid,link))}},"data-qa-type":"attachment-title-link"},title),size&&react.createElement(fuselage.MessageGenericPreviewDescription,null,react.createElement(AttachmentSize.A,{size:size,wrapper:!1}))))))},file_GenericFileAttachment=GenericFileAttachment;function useLoadImage_slicedToArray(r,e){return function useLoadImage_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function useLoadImage_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function useLoadImage_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return useLoadImage_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?useLoadImage_arrayLikeToArray(r,a):void 0}}(r,e)||function useLoadImage_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useLoadImage_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}GenericFileAttachment.__docgenInfo={description:"",methods:[],displayName:"GenericFileAttachment"};function ImageAttachment_extends(){return ImageAttachment_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ImageAttachment_extends.apply(null,arguments)}function ImageAttachment_slicedToArray(r,e){return function ImageAttachment_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function ImageAttachment_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function ImageAttachment_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return ImageAttachment_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ImageAttachment_arrayLikeToArray(r,a):void 0}}(r,e)||function ImageAttachment_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ImageAttachment_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var ImageAttachment=function ImageAttachment(_ref){var id=_ref.id,title=_ref.title,url=_ref.image_url,imagePreview=_ref.image_preview,size=_ref.image_size,_ref$image_dimensions=_ref.image_dimensions,imageDimensions=void 0===_ref$image_dimensions?{width:368,height:368}:_ref$image_dimensions,description=_ref.description,descriptionMd=_ref.descriptionMd,link=_ref.title_link,hasDownload=_ref.title_link_download,collapsed=_ref.collapsed,_useLoadImage=function useLoadImage(){var _useState2=useLoadImage_slicedToArray((0,react.useState)((0,ui_contexts_dist.useAttachmentAutoLoadEmbedMedia)()),2),loadImage=_useState2[0],setLoadImage=_useState2[1];return[loadImage,(0,react.useCallback)((function(){return setLoadImage(!0)}),[])]}(),_useLoadImage2=ImageAttachment_slicedToArray(_useLoadImage,2),loadImage=_useLoadImage2[0],setLoadImage=_useLoadImage2[1],getURL=(0,ui_contexts_dist.useMediaUrl)();return react.createElement(react.Fragment,null,descriptionMd?react.createElement(MessageContentBody.A,{md:descriptionMd}):react.createElement(MarkdownText.A,{parseEmoji:!0,content:description}),react.createElement(MessageCollapsible.A,{title:title,hasDownload:hasDownload,link:getURL(link||url),size:size,isCollapsed:collapsed},react.createElement(structure_AttachmentImage,ImageAttachment_extends({},imageDimensions,{loadImage:loadImage,setLoadImage:setLoadImage,dataSrc:getURL(link||url),src:getURL(url),previewUrl:"data:image/png;base64,".concat(imagePreview),id:id}))))},file_ImageAttachment=ImageAttachment;ImageAttachment.__docgenInfo={description:"",methods:[],displayName:"ImageAttachment",props:{image_dimensions:{defaultValue:{value:"{\n\twidth: 368,\n\theight: 368,\n}",computed:!1},required:!1}}};var userAgentMIMETypeFallback=__webpack_require__("./client/lib/utils/userAgentMIMETypeFallback.ts"),VideoAttachment=function VideoAttachment(_ref){var title=_ref.title,url=_ref.video_url,type=_ref.video_type,size=_ref.video_size,description=_ref.description,descriptionMd=_ref.descriptionMd,link=_ref.title_link,hasDownload=_ref.title_link_download,collapsed=_ref.collapsed,getURL=(0,ui_contexts_dist.useMediaUrl)();return react.createElement(react.Fragment,null,descriptionMd?react.createElement(MessageContentBody.A,{md:descriptionMd}):react.createElement(MarkdownText.A,{parseEmoji:!0,content:description}),react.createElement(MessageCollapsible.A,{title:title,hasDownload:hasDownload,link:getURL(link||url),size:size,isCollapsed:collapsed},react.createElement(fuselage.MessageGenericPreview,{style:{maxWidth:368,width:"100%"}},react.createElement(fuselage.Box,{is:"video",controls:!0,preload:"metadata"},react.createElement("source",{src:getURL(url),type:(0,userAgentMIMETypeFallback.z)(type)})))))},file_VideoAttachment=VideoAttachment;VideoAttachment.__docgenInfo={description:"",methods:[],displayName:"VideoAttachment"};var FileAttachment=function FileAttachment(attachment){return(0,dist.isFileImageAttachment)(attachment)?react.createElement(file_ImageAttachment,attachment):(0,dist.isFileAudioAttachment)(attachment)?react.createElement(file_AudioAttachment,attachment):(0,dist.isFileVideoAttachment)(attachment)?react.createElement(file_VideoAttachment,attachment):react.createElement(file_GenericFileAttachment,attachment)},attachments_FileAttachment=FileAttachment;FileAttachment.__docgenInfo={description:"",methods:[],displayName:"FileAttachment"};var QuoteAttachment=__webpack_require__("./client/components/message/content/attachments/QuoteAttachment.tsx");function AttachmentsItem_extends(){return AttachmentsItem_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AttachmentsItem_extends.apply(null,arguments)}var AttachmentsItem=function AttachmentsItem(_ref){var attachment=_ref.attachment,id=_ref.id;return(0,dist.isFileAttachment)(attachment)?react.createElement(attachments_FileAttachment,AttachmentsItem_extends({id:id},attachment)):(0,dist.isQuoteAttachment)(attachment)?react.createElement(QuoteAttachment.k,{attachment:attachment}):react.createElement(attachments_DefaultAttachment,attachment)},attachments_AttachmentsItem=(0,react.memo)(AttachmentsItem);function Attachments_typeof(o){return Attachments_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Attachments_typeof(o)}function Attachments_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function Attachments_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Attachments_ownKeys(Object(t),!0).forEach((function(r){Attachments_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Attachments_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Attachments_defineProperty(e,r,t){return(r=function Attachments_toPropertyKey(t){var i=function Attachments_toPrimitive(t,r){if("object"!=Attachments_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=Attachments_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==Attachments_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}AttachmentsItem.__docgenInfo={description:"",methods:[],displayName:"AttachmentsItem",props:{attachment:{required:!0,tsType:{name:"MessageAttachmentBase"},description:""},id:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}};var Attachments=function Attachments(_ref){var attachments=_ref.attachments,id=_ref.id;return react.createElement(react.Fragment,null,null==attachments?void 0:attachments.map((function(attachment,index){return react.createElement(attachments_AttachmentsItem,{key:index,id:id,attachment:Attachments_objectSpread({},attachment)})})))},content_Attachments=Attachments;Attachments.__docgenInfo={description:"",methods:[],displayName:"Attachments",props:{attachments:{required:!0,tsType:{name:"Array",elements:[{name:"MessageAttachmentBase"}],raw:"MessageAttachmentBase[]"},description:""},id:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}}},"./client/components/message/content/attachments/QuoteAttachment.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return QuoteAttachment}});var index_module=__webpack_require__("./node_modules/@rocket.chat/css-in-js/dist/index.module.js"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),useTimeAgo=__webpack_require__("./client/hooks/useTimeAgo.ts"),MessageContentBody=__webpack_require__("./client/components/message/MessageContentBody.tsx"),Attachments=__webpack_require__("./client/components/message/content/Attachments.tsx"),AttachmentAuthor=__webpack_require__("./client/components/message/content/attachments/structure/AttachmentAuthor.tsx"),AttachmentAuthorAvatar=__webpack_require__("./client/components/message/content/attachments/structure/AttachmentAuthorAvatar.tsx"),AttachmentAuthorName=__webpack_require__("./client/components/message/content/attachments/structure/AttachmentAuthorName.tsx"),AttachmentContent=__webpack_require__("./client/components/message/content/attachments/structure/AttachmentContent.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var AttachmentDetails=function AttachmentDetails(props){return react.createElement(fuselage.Box,_extends({"rcx-attachment__details":!0,fontScale:"p2",color:"hint",bg:"surface-tint",padding:16},props))},structure_AttachmentDetails=AttachmentDetails;AttachmentDetails.__docgenInfo={description:"",methods:[],displayName:"AttachmentDetails"};var _templateObject,AttachmentInner=function AttachmentInner(props){return react.createElement(fuselage.Box,props)},structure_AttachmentInner=AttachmentInner;function QuoteAttachment_extends(){return QuoteAttachment_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},QuoteAttachment_extends.apply(null,arguments)}AttachmentInner.__docgenInfo={description:"",methods:[],displayName:"AttachmentInner"};var quoteStyles=(0,index_module.css)(_templateObject||(_templateObject=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\t.rcx-attachment__details {\n\t\t.rcx-message-body {\n\t\t\tcolor: ",";\n\t\t}\n\t}\n\t&:hover,\n\t&:focus {\n\t\t.rcx-attachment__details {\n\t\t\tbackground: ",";\n\t\t\tborder-color: ",";\n\t\t\tborder-inline-start-color: ",";\n\t\t}\n\t}\n"])),fuselage.Palette.text["font-hint"],fuselage.Palette.surface["surface-hover"],fuselage.Palette.stroke["stroke-light"],fuselage.Palette.stroke["stroke-medium"]),QuoteAttachment=function QuoteAttachment(_ref){var _attachment$attachmen,attachment=_ref.attachment,formatTime=(0,useTimeAgo.u)(),displayAvatarPreference=(0,dist.useUserPreference)("displayAvatars");return react.createElement(react.Fragment,null,react.createElement(AttachmentContent.A,{className:quoteStyles,width:"full"},react.createElement(structure_AttachmentDetails,{is:"blockquote",borderRadius:"x2",borderWidth:"default",borderStyle:"solid",borderColor:"extra-light",borderInlineStartColor:"light"},react.createElement(AttachmentAuthor.A,null,displayAvatarPreference&&react.createElement(AttachmentAuthorAvatar.A,{url:attachment.author_icon}),react.createElement(AttachmentAuthorName.A,attachment.author_link&&{is:"a",href:attachment.author_link,target:"_blank",color:"hint"},attachment.author_name),attachment.ts&&react.createElement(fuselage.Box,QuoteAttachment_extends({fontScale:"c1"},attachment.message_link?{is:"a",href:attachment.message_link,color:"hint"}:{color:"hint"}),formatTime(attachment.ts))),attachment.attachments&&react.createElement(structure_AttachmentInner,null,react.createElement(Attachments.A,{attachments:attachment.attachments,id:null===(_attachment$attachmen=attachment.attachments[0])||void 0===_attachment$attachmen?void 0:_attachment$attachmen.title_link})),attachment.md?react.createElement(MessageContentBody.A,{md:attachment.md}):attachment.text.substring(attachment.text.indexOf("\n")+1))))};QuoteAttachment.__docgenInfo={description:"",methods:[],displayName:"QuoteAttachment",props:{attachment:{required:!0,tsType:{name:"MessageQuoteAttachment"},description:""}}}},"./client/components/message/content/attachments/structure/AttachmentAuthor.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var AttachmentAuthor=function AttachmentAuthor(props){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Box,_extends({display:"flex",flexDirection:"row",alignItems:"center",mbe:4},props))};__webpack_exports__.A=AttachmentAuthor,AttachmentAuthor.__docgenInfo={description:"",methods:[],displayName:"AttachmentAuthor"}},"./client/components/message/content/attachments/structure/AttachmentAuthorAvatar.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_ui_avatar__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-avatar/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),AttachmentAuthorAvatar=function AttachmentAuthorAvatar(_ref){var url=_ref.url;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_ui_avatar__WEBPACK_IMPORTED_MODULE_0__.f1,{url:url,size:"x24"})};__webpack_exports__.A=AttachmentAuthorAvatar,AttachmentAuthorAvatar.__docgenInfo={description:"",methods:[],displayName:"AttachmentAuthorAvatar",props:{url:{required:!0,tsType:{name:"string"},description:""}}}},"./client/components/message/content/attachments/structure/AttachmentAuthorName.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var AttachmentAuthorName=function AttachmentAuthorName(props){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Box,_extends({withTruncatedText:!0,fontScale:"p2m",mi:8},props))};__webpack_exports__.A=AttachmentAuthorName,AttachmentAuthorName.__docgenInfo={description:"",methods:[],displayName:"AttachmentAuthorName"}},"./client/components/message/content/attachments/structure/AttachmentContent.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var AttachmentContent=function AttachmentContent(props){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Box,_extends({"rcx-attachment__content":!0,width:"full",mb:4},props))};__webpack_exports__.A=AttachmentContent,AttachmentContent.__docgenInfo={description:"",methods:[],displayName:"AttachmentContent"}},"./client/components/message/content/attachments/structure/AttachmentSize.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_hooks_useFormatMemorySize__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./client/hooks/useFormatMemorySize.ts"),_AttachmentTitle__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/components/message/content/attachments/structure/AttachmentTitle.tsx"),_excluded=["size","wrapper"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var AttachmentSize=function AttachmentSize(_ref){var size=_ref.size,_ref$wrapper=_ref.wrapper,wrapper=void 0===_ref$wrapper||_ref$wrapper,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),format=(0,_hooks_useFormatMemorySize__WEBPACK_IMPORTED_MODULE_1__.v)(),formattedSize=wrapper?"(".concat(format(size),")"):format(size);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_AttachmentTitle__WEBPACK_IMPORTED_MODULE_2__.A,_extends({flexShrink:0},props),formattedSize)};__webpack_exports__.A=AttachmentSize,AttachmentSize.__docgenInfo={description:"",methods:[],displayName:"AttachmentSize",props:{size:{required:!0,tsType:{name:"number"},description:""},wrapper:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}}},"./client/components/message/content/attachments/structure/AttachmentTitle.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var AttachmentTitle=function AttachmentTitle(props){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Box,_extends({withTruncatedText:!0,mi:2,fontScale:"c1",color:"hint"},props))};__webpack_exports__.A=AttachmentTitle,AttachmentTitle.__docgenInfo={description:"",methods:[],displayName:"AttachmentTitle"}},"./client/components/message/hooks/useCollapse.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{n:function(){return useCollapse}});var index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),Action=__webpack_require__("./client/components/message/content/Action.tsx"),_excluded=["collapsed"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var CollapsibleContent=function CollapsibleContent(_ref){var _ref$collapsed=_ref.collapsed,collapsed=void 0!==_ref$collapsed&&_ref$collapsed,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),t=(0,dist.useTranslation)();return react.createElement(Action.A,_extends({title:t(collapsed?"Uncollapse":"Collapse"),icon:collapsed?"chevron-left":"chevron-down"},props))},collapsible_CollapsibleContent=CollapsibleContent;function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}CollapsibleContent.__docgenInfo={description:"",methods:[],displayName:"CollapsibleContent",props:{collapsed:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};var useCollapse=function useCollapse(attachmentCollapsed){var collpaseByDefault=(0,dist.useAttachmentIsCollapsedByDefault)(),_useToggle2=_slicedToArray((0,index_module.useToggle)(collpaseByDefault||attachmentCollapsed),2),collapsed=_useToggle2[0],toogleCollapsed=_useToggle2[1];return[collapsed,react.createElement(collapsible_CollapsibleContent,{collapsed:collapsed,onClick:toogleCollapsed,key:"collapsible-content-action"})]}},"./client/components/message/list/MessageListContext.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A8:function(){return useMessageListJumpToMessageParam},AH:function(){return useOpenEmojiPicker},Mx:function(){return useShowFollowing},N5:function(){return MessageListContext},OH:function(){return useMessageListShowUsername},Rl:function(){return useMessageListShowRoles},T$:function(){return useUserHasReacted},Uv:function(){return useMessageListRef},k9:function(){return useShowStarred},ls:function(){return useMessageListShowRealName},mb:function(){return useMessageListHighlights},pZ:function(){return useMessageDateFormatter},pl:function(){return useShowTranslated}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),MessageListContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({useShowTranslated:function useShowTranslated(){return!1},useShowStarred:function useShowStarred(){return!1},useShowFollowing:function useShowFollowing(){return!1},useUserHasReacted:function useUserHasReacted(){return function(){return!1}},useMessageDateFormatter:function useMessageDateFormatter(){return function(date){return date.toString()}},useOpenEmojiPicker:function useOpenEmojiPicker(){return function(){}},showRoles:!1,showRealName:!1,showUsername:!1,showColors:!1,username:void 0,messageListRef:{current:null}}),useShowTranslated=function useShowTranslated(){var _useContext;return(_useContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageListContext)).useShowTranslated.apply(_useContext,arguments)},useShowStarred=function useShowStarred(){var _useContext2;return(_useContext2=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageListContext)).useShowStarred.apply(_useContext2,arguments)},useShowFollowing=function useShowFollowing(){var _useContext3;return(_useContext3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageListContext)).useShowFollowing.apply(_useContext3,arguments)},useMessageDateFormatter=function useMessageDateFormatter(){var _useContext4;return(_useContext4=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageListContext)).useMessageDateFormatter.apply(_useContext4,arguments)},useMessageListShowRoles=function useMessageListShowRoles(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageListContext).showRoles},useMessageListShowRealName=function useMessageListShowRealName(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageListContext).showRealName},useMessageListShowUsername=function useMessageListShowUsername(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageListContext).showUsername},useMessageListHighlights=function useMessageListHighlights(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageListContext).highlights},useMessageListJumpToMessageParam=function useMessageListJumpToMessageParam(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageListContext).jumpToMessageParam},useUserHasReacted=function useUserHasReacted(message){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageListContext).useUserHasReacted(message)},useOpenEmojiPicker=function useOpenEmojiPicker(){var _useContext5;return(_useContext5=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageListContext)).useOpenEmojiPicker.apply(_useContext5,arguments)},useMessageListRef=function useMessageListRef(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageListContext).messageListRef}},"./client/hooks/omnichannel/useIsOverMacLimit.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y:function(){return useIsOverMacLimit}});var _useOmnichannel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./client/hooks/omnichannel/useOmnichannel.ts"),useIsOverMacLimit=function useIsOverMacLimit(){return(0,_useOmnichannel__WEBPACK_IMPORTED_MODULE_0__.q)().isOverMacLimit}},"./client/hooks/omnichannel/useIsRoomOverMacLimit.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return useIsRoomOverMacLimit}});var _rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/core-typings/dist/index.js"),_useIsOverMacLimit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./client/hooks/omnichannel/useIsOverMacLimit.tsx"),useIsRoomOverMacLimit=function useIsRoomOverMacLimit(room){var isOverMacLimit=(0,_useIsOverMacLimit__WEBPACK_IMPORTED_MODULE_1__.y)();if(!(0,_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.isOmnichannelRoom)(room)&&!(0,_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.isVoipRoom)(room))return!1;if(room.closedAt)return!1;var _ref$v=room.v,_ref$v2$activity=(void 0===_ref$v?{}:_ref$v).activity,activity=void 0===_ref$v2$activity?[]:_ref$v2$activity,currentPeriod=function getPeriod(date){return"".concat(date.getFullYear(),"-").concat(String(date.getMonth()+1).padStart(2,"0"))}(new Date);return isOverMacLimit&&!activity.includes(currentPeriod)}},"./client/hooks/omnichannel/useOmnichannel.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return useOmnichannel}});var react=__webpack_require__("./node_modules/react/index.js"),OmnichannelContext=(0,react.createContext)({inquiries:{enabled:!1},enabled:!1,isEnterprise:!1,agentAvailable:!1,showOmnichannelQueueLink:!1,isOverMacLimit:!1,livechatPriorities:{data:[],isLoading:!1,isError:!1,enabled:!1}}),useOmnichannel=function useOmnichannel(){return(0,react.useContext)(OmnichannelContext)}},"./client/hooks/useDontAskAgain.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m:function(){return useDontAskAgain}});var _rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),useDontAskAgain=function useDontAskAgain(action){var dontAskAgainList=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useUserPreference)("dontAskAgainList");return!(null==dontAskAgainList||!dontAskAgainList.filter((function(_ref){var currentAction=_ref.action;return action===currentAction})).length)}},"./client/hooks/useDownloadFromServiceWorker.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{HD:function(){return useDownloadFromServiceWorker},nk:function(){return registerDownloadForUid},tO:function(){return forAttachmentDownload}});var _rocket_chat_emitter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/emitter/dist/index.module.js"),_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_lib_download__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./client/lib/download.ts"),ee=new _rocket_chat_emitter__WEBPACK_IMPORTED_MODULE_0__.v;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(function(event){if("attachment-download-result"===event.data.type){var result=event.data.result;ee.emit(event.data.id,{result:result,id:event.data.id})}}));var registerDownloadForUid=function registerDownloadForUid(uid,t,title){ee.once(uid,(function(_ref2){var result=_ref2.result;(0,_lib_download__WEBPACK_IMPORTED_MODULE_4__.dq)({data:[new Blob([result])]},null!=title?title:t("Download"))}))},forAttachmentDownload=function forAttachmentDownload(uid,href,controller){var _controller,_navigator;controller||(controller=null===(_navigator=navigator)||void 0===_navigator||null===(_navigator=_navigator.serviceWorker)||void 0===_navigator?void 0:_navigator.controller);controller&&(null===(_controller=controller)||void 0===_controller||_controller.postMessage({type:"attachment-download",url:href,id:uid}))},useDownloadFromServiceWorker=function useDownloadFromServiceWorker(href,title){var _navigator2,controller=((null===(_navigator2=navigator)||void 0===_navigator2?void 0:_navigator2.serviceWorker)||{}).controller,uid=(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.useUniqueId)(),t=(0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.Bd)().t;return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){return registerDownloadForUid(uid,t,title)}),[title,t,uid]),{disabled:!controller,onContextMenu:(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(e){return e.preventDefault()}),[]),onClick:(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(e){e.preventDefault(),forAttachmentDownload(uid,href,controller)}),[href,uid,controller])}}},"./client/hooks/useExternalLink.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return useExternalLink}});var react=__webpack_require__("./node_modules/react/index.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(this,e)}}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var InvalidUrlError=function(_RocketChatError){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}(InvalidUrlError,_RocketChatError);var _super=_createSuper(InvalidUrlError);function InvalidUrlError(){var message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid url",details=arguments.length>1?arguments[1]:void 0;return function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,InvalidUrlError),_super.call(this,"invalid-url",message,details)}return function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(InvalidUrlError)}(__webpack_require__("./client/lib/errors/RocketChatError.ts").H),useExternalLink=function useExternalLink(){return(0,react.useCallback)((function(url){if(!url)throw new InvalidUrlError;window.open(url,"_blank","noopener noreferrer")}),[])}},"./client/hooks/useFormatMemorySize.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return useFormatMemorySize}});var _lib_utils_stringUtils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./lib/utils/stringUtils.ts"),formatMemorySize=function formatMemorySize(memorySize){if("number"!=typeof memorySize)return null;var order,units=["bytes","kB","MB","GB"];for(order=0;order<units.length-1;++order){if(memorySize<Math.pow(1024,order+1))break}var divider=Math.pow(1024,order),decimalDigits=0===order?0:2;return"".concat((0,_lib_utils_stringUtils__WEBPACK_IMPORTED_MODULE_0__.jq)(memorySize/divider,decimalDigits)," ").concat(units[order])},useFormatMemorySize=function useFormatMemorySize(){return formatMemorySize}},"./client/hooks/useRoomIcon.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return useRoomIcon}});var _rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/core-typings/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_components_UserStatus__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/components/UserStatus/index.ts"),useRoomIcon=function useRoomIcon(room){if((0,_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.isRoomFederated)(room))return{name:"globe"};if(room.prid)return{name:"baloons"};if(room.teamMain)return{name:"p"===room.t?"team-lock":"team"};if((0,_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.isDirectMessageRoom)(room)){if(room.uids&&room.uids.length>2)return{name:"balloon"};if(room.uids&&room.uids.length>0){var _room$u2,uid=room.uids.find((function(uid){var _room$u;return uid!==(null==room||null===(_room$u=room.u)||void 0===_room$u?void 0:_room$u._id)}))||(null==room||null===(_room$u2=room.u)||void 0===_room$u2?void 0:_room$u2._id);return uid?react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_UserStatus__WEBPACK_IMPORTED_MODULE_2__.LO,{uid:uid}):null}return{name:"at"}}switch(room.t){case"p":return{name:"hashtag-lock"};case"c":return{name:"hash"};default:return null}};useRoomIcon.__docgenInfo={description:"",methods:[],displayName:"useRoomIcon"}},"./client/hooks/useRoomInfoEndpoint.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return useRoomInfoEndpoint}});var _rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@tanstack/react-query/build/lib/index.js"),date_fns__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/date-fns/esm/minutesToMilliseconds/index.js"),useRoomInfoEndpoint=function useRoomInfoEndpoint(rid){var getRoomInfo=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useEndpoint)("GET","/v1/rooms.info"),uid=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useUserId)();return(0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_1__.useQuery)(["/v1/rooms.info",rid],(function(){return getRoomInfo({roomId:rid})}),{cacheTime:(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.A)(15),staleTime:(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.A)(5),retry:function retry(count,error){return!(count>2||"not-allowed"===error.error)},enabled:!!uid})}},"./client/hooks/useSidePanelNavigation.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return useSidePanelNavigation},a:function(){return useSidePanelNavigationScreenSize}});var _rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),_rocket_chat_ui_client__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-client/dist/index.js"),useSidePanelNavigation=function useSidePanelNavigation(){var isSidepanelFeatureEnabled=(0,_rocket_chat_ui_client__WEBPACK_IMPORTED_MODULE_1__.go)("sidepanelNavigation");return useSidePanelNavigationScreenSize()&&isSidepanelFeatureEnabled},useSidePanelNavigationScreenSize=function useSidePanelNavigationScreenSize(){return(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_0__.useBreakpoints)().includes("lg")}},"./client/hooks/useTimeAgo.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return useShortTimeAgo},u:function(){return useTimeAgo}});var _rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),moment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/moment/moment.js"),moment__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_app_utils_lib_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/utils/lib/i18n.ts"),dayFormat=["h:mm A","H:mm"],useTimeAgo=function useTimeAgo(){var clockMode=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useUserPreference)("clockMode"),timeFormat=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useSetting)("Message_TimeFormat","LT"),format=void 0!==clockMode?dayFormat[clockMode-1]:timeFormat;return(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(time){return moment__WEBPACK_IMPORTED_MODULE_1___default()(time).calendar(null,{sameDay:format,lastDay:moment__WEBPACK_IMPORTED_MODULE_1___default()(time).calendar("lastDay").replace("LT",format),lastWeek:"dddd ".concat(format),sameElse:"LL"})}),[format])},useShortTimeAgo=function useShortTimeAgo(){var clockMode=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useUserPreference)("clockMode"),timeFormat=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useSetting)("Message_TimeFormat"),format=void 0!==clockMode?dayFormat[clockMode-1]:timeFormat;return(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(time){return moment__WEBPACK_IMPORTED_MODULE_1___default()(time).calendar(null,{sameDay:format,lastDay:"[".concat((0,_app_utils_lib_i18n__WEBPACK_IMPORTED_MODULE_3__.t)("Yesterday"),"]"),lastWeek:"dddd",sameElse:function sameElse(now){return this.isBefore(now,"year")?"LL":"MMM Do"}})}),[format])}},"./client/hooks/useUserDisplayName.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y:function(){return useUserDisplayName}});var _rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),_lib_getUserDisplayName__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./lib/getUserDisplayName.ts"),useUserDisplayName=function useUserDisplayName(_ref){var name=_ref.name,username=_ref.username,useRealName=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useSetting)("UI_Use_Real_Name");return(0,_lib_getUserDisplayName__WEBPACK_IMPORTED_MODULE_1__.N)(name,username,!!useRealName)}},"./client/lib/appLayout.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return appLayout}});var _rocket_chat_emitter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/emitter/dist/index.module.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,e)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}var ConnectionStatusBar=(0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)((function(){return __webpack_require__.e(5768).then(__webpack_require__.bind(__webpack_require__,"./client/components/connectionStatus/ConnectionStatusBar.tsx"))})),BannerRegion=(0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)((function(){return Promise.all([__webpack_require__.e(3528),__webpack_require__.e(4609),__webpack_require__.e(5159),__webpack_require__.e(8680)]).then(__webpack_require__.bind(__webpack_require__,"./client/views/banners/BannerRegion.tsx"))})),PortalsWrapper=(0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)((function(){return __webpack_require__.e(6178).then(__webpack_require__.bind(__webpack_require__,"./client/views/root/PortalsWrapper.tsx"))})),ModalRegion=(0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)((function(){return __webpack_require__.e(5598).then(__webpack_require__.bind(__webpack_require__,"./client/views/modal/ModalRegion.tsx"))})),ActionManagerBusyState=(0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)((function(){return __webpack_require__.e(8533).then(__webpack_require__.bind(__webpack_require__,"./client/components/ActionManagerBusyState.tsx"))})),CloudAnnouncementsRegion=(0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)((function(){return __webpack_require__.e(918).then(__webpack_require__.bind(__webpack_require__,"./client/views/cloud/CloudAnnouncementsRegion.tsx"))})),AppLayoutSubscription=function(_Emitter){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}(AppLayoutSubscription,_Emitter);var _super=_createSuper(AppLayoutSubscription);function AppLayoutSubscription(){var _this;!function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,AppLayoutSubscription);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"descriptor",null),_defineProperty(_assertThisInitialized(_this),"getSnapshot",(function(){return _this.descriptor})),_defineProperty(_assertThisInitialized(_this),"subscribe",(function(onStoreChange){return _this.on("update",onStoreChange)})),_this}return function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(AppLayoutSubscription,[{key:"setCurrentValue",value:function setCurrentValue(descriptor){this.descriptor=descriptor,this.emit("update")}},{key:"render",value:function render(element){this.setCurrentValue(element)}},{key:"wrap",value:function wrap(element){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(ConnectionStatusBar,null),react__WEBPACK_IMPORTED_MODULE_1__.createElement(ActionManagerBusyState,null),react__WEBPACK_IMPORTED_MODULE_1__.createElement(CloudAnnouncementsRegion,null),react__WEBPACK_IMPORTED_MODULE_1__.createElement(BannerRegion,null),element,react__WEBPACK_IMPORTED_MODULE_1__.createElement(PortalsWrapper,null),react__WEBPACK_IMPORTED_MODULE_1__.createElement(ModalRegion,null))}}]),AppLayoutSubscription}(_rocket_chat_emitter__WEBPACK_IMPORTED_MODULE_0__.v),appLayout=new AppLayoutSubscription},"./client/lib/asyncState/AsyncStatePhase.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return AsyncStatePhase}});var AsyncStatePhase=function(AsyncStatePhase){return AsyncStatePhase.LOADING="loading",AsyncStatePhase.RESOLVED="resolved",AsyncStatePhase.REJECTED="rejected",AsyncStatePhase.UPDATING="updating",AsyncStatePhase}({})},"./client/lib/download.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{RG:function(){return download},Xk:function(){return downloadCsvAs},dq:function(){return downloadAs}});var _excluded=["data"];var download=function download(href,filename){var anchorElement=document.createElement("a");anchorElement.download=filename,anchorElement.href=href,anchorElement.target="_blank",document.body.appendChild(anchorElement),anchorElement.click(),document.body.removeChild(anchorElement)},downloadAs=function downloadAs(_ref,filename){var _window$webkitURL,data=_ref.data,options=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),blob=new Blob(data,options);if(function hasMsSaveOrOpenBlob(navigator){return"msSaveOrOpenBlob"in navigator}(navigator))navigator.msSaveOrOpenBlob(blob);else{var URL=null!==(_window$webkitURL=window.webkitURL)&&void 0!==_window$webkitURL?_window$webkitURL:window.URL,blobUrl=URL.createObjectURL(blob);download(blobUrl,filename),URL.revokeObjectURL(blobUrl)}},downloadCsvAs=function downloadCsvAs(csvData,basename){var escapeCell=function escapeCell(cell){return'"'.concat(String(cell).replace(/"/g,'""'),'"')},content=csvData.reduce((function(content,row){return"".concat(content+row.map(escapeCell).join(";"),"\n")}),"");downloadAs({data:[decodeURIComponent(encodeURI(content))],type:"text/csv;charset=utf-8",endings:"native"},"".concat(basename,".csv"))}},"./client/lib/errorHandling.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{u:function(){return getErrorMessage}});var _app_utils_lib_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/utils/lib/i18n.ts");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var isObject=function isObject(obj){return("object"===_typeof(obj)||"function"==typeof obj)&&null!==obj},hasProperty=function hasProperty(obj,property){return isObject(obj)&&property in obj},hasXHR=function hasXHR(error){return hasProperty(error,"xhr")&&hasProperty(error.xhr,"responseJSON")};function getErrorMessage(error,defaultMessage){var _ref,_ref2,_ref3;if("string"==typeof error)return(0,_app_utils_lib_i18n__WEBPACK_IMPORTED_MODULE_0__.t)(error);if(!isObject(error)){if(defaultMessage)return getErrorMessage(defaultMessage);throw new TypeError("no default error message specified")}if(hasXHR(error))return getErrorMessage(error.xhr.responseJSON,defaultMessage);var message=null!==(_ref=null!==(_ref2=null!==(_ref3=hasProperty(error,"reason")&&"string"==typeof error.reason?error.reason:void 0)&&void 0!==_ref3?_ref3:hasProperty(error,"error")&&"string"==typeof error.error?error.error:void 0)&&void 0!==_ref2?_ref2:hasProperty(error,"message")&&"string"==typeof error.message?error.message:void 0)&&void 0!==_ref?_ref:defaultMessage,details=hasProperty(error,"details")&&isObject(error.details)?error.details:void 0;return message?(0,_app_utils_lib_i18n__WEBPACK_IMPORTED_MODULE_0__.t)(message,Object.fromEntries(Object.entries(null!=details?details:{}).map((function(_ref4){var _ref5=_slicedToArray(_ref4,2),key=_ref5[0],value=_ref5[1];return[key,(0,_app_utils_lib_i18n__WEBPACK_IMPORTED_MODULE_0__.t)(value)]})))):getErrorMessage(defaultMessage)}},"./client/lib/getPermaLink.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return getPermaLink}});var meteor_meteor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./.storybook/mocks/meteor.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}var getMessage=function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(msgId){var _yield$import,sdk,_yield$sdk$rest$get,message;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./app/utils/client/lib/SDKClient.ts"));case 3:return _yield$import=_context.sent,sdk=_yield$import.sdk,_context.next=7,sdk.rest.get("/v1/chat.getMessage",{msgId:msgId});case 7:return _yield$sdk$rest$get=_context.sent,message=_yield$sdk$rest$get.message,_context.abrupt("return",message);case 12:return _context.prev=12,_context.t0=_context.catch(0),_context.abrupt("return",null);case 15:case"end":return _context.stop()}}),_callee,null,[[0,12]])})));return function getMessage(_x){return _ref.apply(this,arguments)}}(),getPermaLink=function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(msgId){var _yield$import2,ChatMessage,ChatRoom,ChatSubscription,msg,roomData,subData,_yield$import3,roomCoordinator,roomURL;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(msgId){_context2.next=2;break}throw new Error("invalid-parameter");case 2:return _context2.next=4,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./app/models/client/index.ts"));case 4:if(_yield$import2=_context2.sent,ChatMessage=_yield$import2.ChatMessage,ChatRoom=_yield$import2.ChatRoom,ChatSubscription=_yield$import2.ChatSubscription,_context2.t0=ChatMessage.findOne(msgId),_context2.t0){_context2.next=13;break}return _context2.next=12,getMessage(msgId);case 12:_context2.t0=_context2.sent;case 13:if(msg=_context2.t0){_context2.next=16;break}throw new Error("message-not-found");case 16:if(roomData=ChatRoom.findOne({_id:msg.rid})){_context2.next=19;break}throw new Error("room-not-found");case 19:return subData=ChatSubscription.findOne({rid:roomData._id,"u._id":meteor_meteor__WEBPACK_IMPORTED_MODULE_0__.fj.userId()}),_context2.next=22,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./client/lib/rooms/roomCoordinator.tsx"));case 22:return _yield$import3=_context2.sent,roomCoordinator=_yield$import3.roomCoordinator,roomURL=roomCoordinator.getURL(roomData.t,_objectSpread(_objectSpread({},subData||roomData),{},{tab:""})),_context2.abrupt("return","".concat(roomURL,"?msg=").concat(msgId));case 26:case"end":return _context2.stop()}}),_callee2)})));return function getPermaLink(_x2){return _ref2.apply(this,arguments)}}()},"./client/lib/queryClient.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return queryClient}});var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@tanstack/react-query/build/lib/index.js"),process=__webpack_require__("./node_modules/process/browser.js"),queryClient=new _tanstack_react_query__WEBPACK_IMPORTED_MODULE_0__.QueryClient({defaultOptions:{queries:{onError:console.warn,refetchOnWindowFocus:!1,retry:"true"===process.env.TEST_MODE},mutations:{onError:console.warn}}})},"./client/lib/rooms/roomCoordinator.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{roomCoordinator:function(){return roomCoordinator}});var dist=__webpack_require__("../../packages/core-typings/dist/index.js"),meteor=__webpack_require__("./.storybook/mocks/meteor.js"),react=__webpack_require__("./node_modules/react/index.js"),client=__webpack_require__("./app/authorization/client/index.ts"),models_client=__webpack_require__("./app/models/client/index.ts"),settings_client=__webpack_require__("./app/settings/client/index.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}var RoomCoordinator=function(){function RoomCoordinator(){!function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,RoomCoordinator),function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}(this,"roomTypes",{})}return function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(RoomCoordinator,[{key:"validateRoomConfig",value:function validateRoomConfig(roomConfig){var identifier=roomConfig.identifier;if("string"!=typeof identifier||0===identifier.length)throw new Error("The identifier must be a string.")}},{key:"addRoomType",value:function addRoomType(roomConfig,directives){this.validateRoomConfig(roomConfig),this.roomTypes[roomConfig.identifier]||(this.roomTypes[roomConfig.identifier]={config:roomConfig,directives:directives})}},{key:"getRoomTypeConfig",value:function getRoomTypeConfig(identifier){if(!this.roomTypes[identifier])throw new Error("Room type with identifier ".concat(identifier," does not exist."));return this.roomTypes[identifier].config}},{key:"getRouteLink",value:function getRouteLink(roomType,subData){var config=this.getRoomTypeConfig(roomType);if(null==config||!config.route)return!1;var routeData=this.getRouteData(roomType,subData);if(!routeData)return!1;if(!config.route.path)return console.warn("The route for the room type ".concat(roomType," does not have a path")),!1;var pathDef=config.route.path,fields=routeData,path=pathDef.replace(/(:[\w\(\)\\\+\*\.\?]+)+/g,(function(key){var firstRegexpChar=key.indexOf("(");return key=(key=key.substring(1,firstRegexpChar>0?firstRegexpChar:void 0)).replace(/[\+\*\?]+/g,""),fields[key]||""}));return path=(path=path.replace(/\/\/+/g,"/")).match(/^\/{1}$/)?path:path.replace(/\/$/,"")}},{key:"getRouteData",value:function getRouteData(roomType,subData){var _config$route;!subData.rid&&subData._id&&(console.warn("Deprecated: RoomCoordinator.getRouteData received a room object"),subData.rid=subData._id);var config=this.getRoomTypeConfig(roomType);if(!config)return!1;var routeData={};return null!==(_config$route=config.route)&&void 0!==_config$route&&_config$route.link?routeData=config.route.link(subData):null!=subData&&subData.name&&(routeData={rid:subData.rid,name:subData.name}),routeData}}]),RoomCoordinator}(),RouterProvider=__webpack_require__("./client/providers/RouterProvider.tsx"),ui_contexts_dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),ui_client_dist=__webpack_require__("../../packages/ui-client/dist/index.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),useSidePanelNavigation=__webpack_require__("./client/hooks/useSidePanelNavigation.ts"),FeaturePreviewSidePanelNavigation=function FeaturePreviewSidePanelNavigation(_ref){var children=_ref.children,disabled=!(0,useSidePanelNavigation.a)();return react.createElement(ui_client_dist.TW,{feature:"sidepanelNavigation",disabled:disabled,children:children})};FeaturePreviewSidePanelNavigation.__docgenInfo={description:"",methods:[],displayName:"FeaturePreviewSidePanelNavigation",props:{children:{required:!0,tsType:{name:"Array",elements:[{name:"ReactElement"}],raw:"ReactElement[]"},description:""}}};var Header=__webpack_require__("./client/components/Header/index.ts"),errorHandling=__webpack_require__("./client/lib/errorHandling.ts"),RocketChatError=__webpack_require__("./client/lib/errors/RocketChatError.ts");function NotAuthorizedError_typeof(o){return NotAuthorizedError_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},NotAuthorizedError_typeof(o)}function NotAuthorizedError_defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,NotAuthorizedError_toPropertyKey(o.key),o)}}function NotAuthorizedError_toPropertyKey(t){var i=function NotAuthorizedError_toPrimitive(t,r){if("object"!=NotAuthorizedError_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=NotAuthorizedError_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==NotAuthorizedError_typeof(i)?i:i+""}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return function _possibleConstructorReturn(t,e){if(e&&("object"==NotAuthorizedError_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(this,e)}}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var NotAuthorizedError=function(_RocketChatError){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}(NotAuthorizedError,_RocketChatError);var _super=_createSuper(NotAuthorizedError);function NotAuthorizedError(){var message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Not authorized",details=arguments.length>1?arguments[1]:void 0;return function NotAuthorizedError_classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,NotAuthorizedError),_super.call(this,"not-authorized",message,details)}return function NotAuthorizedError_createClass(e,r,t){return r&&NotAuthorizedError_defineProperties(e.prototype,r),t&&NotAuthorizedError_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(NotAuthorizedError)}(RocketChatError.H);function OldUrlRoomError_typeof(o){return OldUrlRoomError_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},OldUrlRoomError_typeof(o)}function OldUrlRoomError_defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,OldUrlRoomError_toPropertyKey(o.key),o)}}function OldUrlRoomError_toPropertyKey(t){var i=function OldUrlRoomError_toPrimitive(t,r){if("object"!=OldUrlRoomError_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=OldUrlRoomError_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==OldUrlRoomError_typeof(i)?i:i+""}function OldUrlRoomError_setPrototypeOf(t,e){return OldUrlRoomError_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},OldUrlRoomError_setPrototypeOf(t,e)}function OldUrlRoomError_createSuper(t){var r=OldUrlRoomError_isNativeReflectConstruct();return function(){var e,o=OldUrlRoomError_getPrototypeOf(t);if(r){var s=OldUrlRoomError_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return function OldUrlRoomError_possibleConstructorReturn(t,e){if(e&&("object"==OldUrlRoomError_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function OldUrlRoomError_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(this,e)}}function OldUrlRoomError_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(OldUrlRoomError_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function OldUrlRoomError_getPrototypeOf(t){return OldUrlRoomError_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},OldUrlRoomError_getPrototypeOf(t)}var OldUrlRoomError=function(_RocketChatError){!function OldUrlRoomError_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OldUrlRoomError_setPrototypeOf(t,e)}(OldUrlRoomError,_RocketChatError);var _super=OldUrlRoomError_createSuper(OldUrlRoomError);function OldUrlRoomError(){var message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Old Url Format",details=arguments.length>1?arguments[1]:void 0;return function OldUrlRoomError_classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,OldUrlRoomError),_super.call(this,"old-url-format",message,details)}return function OldUrlRoomError_createClass(e,r,t){return r&&OldUrlRoomError_defineProperties(e.prototype,r),t&&OldUrlRoomError_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(OldUrlRoomError)}(RocketChatError.H);function RoomNotFoundError_typeof(o){return RoomNotFoundError_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},RoomNotFoundError_typeof(o)}function RoomNotFoundError_defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,RoomNotFoundError_toPropertyKey(o.key),o)}}function RoomNotFoundError_toPropertyKey(t){var i=function RoomNotFoundError_toPrimitive(t,r){if("object"!=RoomNotFoundError_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=RoomNotFoundError_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==RoomNotFoundError_typeof(i)?i:i+""}function RoomNotFoundError_setPrototypeOf(t,e){return RoomNotFoundError_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},RoomNotFoundError_setPrototypeOf(t,e)}function RoomNotFoundError_createSuper(t){var r=RoomNotFoundError_isNativeReflectConstruct();return function(){var e,o=RoomNotFoundError_getPrototypeOf(t);if(r){var s=RoomNotFoundError_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return function RoomNotFoundError_possibleConstructorReturn(t,e){if(e&&("object"==RoomNotFoundError_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function RoomNotFoundError_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(this,e)}}function RoomNotFoundError_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(RoomNotFoundError_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function RoomNotFoundError_getPrototypeOf(t){return RoomNotFoundError_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},RoomNotFoundError_getPrototypeOf(t)}var RoomNotFoundError=function(_RocketChatError){!function RoomNotFoundError_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RoomNotFoundError_setPrototypeOf(t,e)}(RoomNotFoundError,_RocketChatError);var _super=RoomNotFoundError_createSuper(RoomNotFoundError);function RoomNotFoundError(){var message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Room not found",details=arguments.length>1?arguments[1]:void 0;return function RoomNotFoundError_classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,RoomNotFoundError),_super.call(this,"room-not-found",message,details)}return function RoomNotFoundError_createClass(e,r,t){return r&&RoomNotFoundError_defineProperties(e.prototype,r),t&&RoomNotFoundError_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(RoomNotFoundError)}(RocketChatError.H),RoomSkeleton=__webpack_require__("./client/views/room/RoomSkeleton.tsx"),react_virtuoso_dist=__webpack_require__("./node_modules/react-virtuoso/dist/index.mjs"),CustomScrollbars=__webpack_require__("./client/components/CustomScrollbars/index.ts"),useRoomInfoEndpoint=__webpack_require__("./client/hooks/useRoomInfoEndpoint.ts"),RoomManager=__webpack_require__("./client/lib/RoomManager.ts"),index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),useSidebarListNavigation=__webpack_require__("./client/sidebar/RoomList/useSidebarListNavigation.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var RoomSidepanelListWrapper=(0,react.forwardRef)((function RoomListWrapper(props,ref){var t=(0,ui_contexts_dist.useTranslation)(),sidebarListRef=(0,useSidebarListNavigation.S)().sidebarListRef,mergedRefs=(0,index_module.useMergedRefs)(ref,sidebarListRef);return react.createElement(fuselage.SidepanelList,_extends({"aria-label":t("Channels"),ref:mergedRefs},props))})),Sidepanel_RoomSidepanelListWrapper=RoomSidepanelListWrapper;RoomSidepanelListWrapper.__docgenInfo={description:"",methods:[],displayName:"RoomSidepanelListWrapper"};var RoomSidepanelLoading=function RoomSidepanelLoading(){return react.createElement(fuselage.Sidepanel,null,react.createElement(fuselage.SidepanelList,null,react.createElement(fuselage.SidebarV2Item,null,react.createElement(fuselage.Skeleton,{w:"full"})),react.createElement(fuselage.SidebarV2Item,null,react.createElement(fuselage.Skeleton,{w:"full"})),react.createElement(fuselage.SidebarV2Item,null,react.createElement(fuselage.Skeleton,{w:"full"}))))},Sidepanel_RoomSidepanelLoading=RoomSidepanelLoading;RoomSidepanelLoading.__docgenInfo={description:"",methods:[],displayName:"RoomSidepanelLoading"};var goToRoomById=__webpack_require__("./client/lib/utils/goToRoomById.ts"),useTemplateByViewMode=__webpack_require__("./client/sidebarv2/hooks/useTemplateByViewMode.ts"),RoomIcon=__webpack_require__("./client/components/RoomIcon/index.tsx"),SidebarItemTemplateWithData=__webpack_require__("./client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx"),useAvatarTemplate=__webpack_require__("./client/sidebarv2/hooks/useAvatarTemplate.tsx");function RoomSidepanelItem_typeof(o){return RoomSidepanelItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},RoomSidepanelItem_typeof(o)}function RoomSidepanelItem_extends(){return RoomSidepanelItem_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},RoomSidepanelItem_extends.apply(null,arguments)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){RoomSidepanelItem_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function RoomSidepanelItem_defineProperty(e,r,t){return(r=function RoomSidepanelItem_toPropertyKey(t){var i=function RoomSidepanelItem_toPrimitive(t,r){if("object"!=RoomSidepanelItem_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=RoomSidepanelItem_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==RoomSidepanelItem_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var RoomSidepanelItem=function RoomSidepanelItem(_ref){var room=_ref.room,openedRoom=_ref.openedRoom,viewMode=_ref.viewMode,SidepanelItem=(0,useTemplateByViewMode.d)(),subscription=(0,ui_contexts_dist.useUserSubscription)(room._id),itemData=function useItemData(room,_ref){var _room$lastMessage,_room$tunread,_room$tunreadUser,_room$tunread2,_room$tunreadUser2,_room$tunread4,openedRoom=_ref.openedRoom,viewMode=_ref.viewMode,t=(0,ui_contexts_dist.useTranslation)(),AvatarTemplate=(0,useAvatarTemplate.h)(),highlighted=Boolean(!room.hideUnreadStatus&&(room.alert||room.unread)),icon=(0,react.useMemo)((function(){return react.createElement(fuselage.SidebarV2ItemIcon,{highlighted:highlighted,icon:react.createElement(RoomIcon.R,{room:room,placement:"sidebar",size:"x20"})})}),[highlighted,room]),time="lastMessage"in room?null===(_room$lastMessage=room.lastMessage)||void 0===_room$lastMessage?void 0:_room$lastMessage.ts:void 0,message="extended"===viewMode&&(0,SidebarItemTemplateWithData.I4)(room,room.lastMessage,t),threadUnread=Number(null===(_room$tunread=room.tunread)||void 0===_room$tunread?void 0:_room$tunread.length)>0,isUnread=room.unread>0||threadUnread,showBadge=!room.hideUnreadStatus||!room.hideMentionStatus&&(Boolean(room.userMentions)||Number(null===(_room$tunreadUser=room.tunreadUser)||void 0===_room$tunreadUser?void 0:_room$tunreadUser.length)>0),badgeTitle=(0,SidebarItemTemplateWithData.iC)(room.userMentions,Number(null===(_room$tunread2=room.tunread)||void 0===_room$tunread2?void 0:_room$tunread2.length),room.groupMentions,room.unread,t),variant=(room.userMentions||(null===(_room$tunreadUser2=room.tunreadUser)||void 0===_room$tunreadUser2?void 0:_room$tunreadUser2.length)?"danger":threadUnread&&"primary")||room.groupMentions&&"warning"||"secondary",badges=(0,react.useMemo)((function(){var _room$tunread3;return react.createElement(react.Fragment,null,showBadge&&isUnread&&react.createElement(fuselage.SidebarV2ItemBadge,{variant:variant,title:badgeTitle},room.unread+((null===(_room$tunread3=room.tunread)||void 0===_room$tunread3?void 0:_room$tunread3.length)||0)))}),[badgeTitle,isUnread,null===(_room$tunread4=room.tunread)||void 0===_room$tunread4?void 0:_room$tunread4.length,room.unread,showBadge,variant]);return(0,react.useMemo)((function(){return{unread:highlighted,selected:room.rid===openedRoom,t:t,href:roomCoordinator.getRouteLink(room.t,room)||"",title:roomCoordinator.getRoomName(room.t,room)||"",icon:icon,time:time,badges:badges,avatar:AvatarTemplate&&react.createElement(AvatarTemplate,room),subtitle:message}}),[AvatarTemplate,badges,highlighted,icon,message,openedRoom,room,t,time])}(_objectSpread(_objectSpread({},room),subscription),{viewMode:viewMode,openedRoom:openedRoom});return subscription?react.createElement(SidepanelItem,RoomSidepanelItem_extends({onClick:goToRoomById.P},itemData)):react.createElement(SidepanelItem,RoomSidepanelItem_extends({onClick:goToRoomById.P,is:"a"},itemData))},SidepanelItem_RoomSidepanelItem=(0,react.memo)(RoomSidepanelItem);RoomSidepanelItem.__docgenInfo={description:"",methods:[],displayName:"RoomSidepanelItem",props:{openedRoom:{required:!1,tsType:{name:"string"},description:""},room:{required:!0,tsType:{name:"IRoom"},description:""},parentRid:{required:!0,tsType:{name:"string"},description:""},viewMode:{required:!1,tsType:{name:"union",raw:"'extended' | 'medium' | 'condensed'",elements:[{name:"literal",value:"'extended'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'condensed'"}]},description:""}}};var lib=__webpack_require__("../../node_modules/@tanstack/react-query/build/lib/index.js"),RoomSidepanel=function RoomSidepanel(){var _useSecondLevelOpened,parentRid=(0,RoomManager.useOpenedRoom)(),secondLevelOpenedRoom=null!==(_useSecondLevelOpened=(0,RoomManager.useSecondLevelOpenedRoom)())&&void 0!==_useSecondLevelOpened?_useSecondLevelOpened:parentRid;return parentRid&&secondLevelOpenedRoom?react.createElement(RoomSidepanelWithData,{parentRid:parentRid,openedRoom:secondLevelOpenedRoom}):null},RoomSidepanelWithData=function RoomSidepanelWithData(_ref){var _roomInfo$data,_roomInfo$data2,_roomInfo$data$room,_roomInfo$data$room2,_roomInfo$data$parent,parentRid=_ref.parentRid,openedRoom=_ref.openedRoom,sidebarViewMode=(0,ui_contexts_dist.useUserPreference)("sidebarViewMode"),roomInfo=(0,useRoomInfoEndpoint.s)(parentRid),sidepanelItems=(null===(_roomInfo$data=roomInfo.data)||void 0===_roomInfo$data||null===(_roomInfo$data=_roomInfo$data.room)||void 0===_roomInfo$data||null===(_roomInfo$data=_roomInfo$data.sidepanel)||void 0===_roomInfo$data?void 0:_roomInfo$data.items)||(null===(_roomInfo$data2=roomInfo.data)||void 0===_roomInfo$data2||null===(_roomInfo$data2=_roomInfo$data2.parent)||void 0===_roomInfo$data2||null===(_roomInfo$data2=_roomInfo$data2.sidepanel)||void 0===_roomInfo$data2?void 0:_roomInfo$data2.items),result=function useTeamsListChildrenUpdate(parentRid,teamId,sidepanelItems){var query=(0,react.useMemo)((function(){var query={$or:[{_id:parentRid}]};return sidepanelItems&&"discussions"!==sidepanelItems||!query.$or||query.$or.push({prid:parentRid}),sidepanelItems&&"channels"!==sidepanelItems||!teamId||!query.$or||query.$or.push({teamId:teamId}),query}),[parentRid,teamId,sidepanelItems]),result=(0,lib.useQuery)({queryKey:["sidepanel","list",parentRid,sidepanelItems],queryFn:function queryFn(){return models_client.ChatRoom.find(query,{sort:{lm:-1}}).fetch()},enabled:null!==sidepanelItems&&null!==teamId,refetchInterval:3e5,keepPreviousData:!0}),refetch=result.refetch;return(0,react.useEffect)((function(){var liveQueryHandle=models_client.ChatRoom.find(query).observe({added:function added(){return queueMicrotask((function(){return refetch({exact:!1})}))},changed:function changed(){return queueMicrotask((function(){return refetch({exact:!1})}))},removed:function removed(){return queueMicrotask((function(){return refetch({exact:!1})}))}});return function(){liveQueryHandle.stop()}}),[query,refetch]),result}(parentRid,roomInfo.data?null===(_roomInfo$data$room=roomInfo.data.room)||void 0===_roomInfo$data$room?void 0:_roomInfo$data$room.teamId:null,sidepanelItems?1===(null==sidepanelItems?void 0:sidepanelItems.length)?sidepanelItems[0]:void 0:null);return!roomInfo.isSuccess||null!==(_roomInfo$data$room2=roomInfo.data.room)&&void 0!==_roomInfo$data$room2&&_roomInfo$data$room2.sidepanel||null!==(_roomInfo$data$parent=roomInfo.data.parent)&&void 0!==_roomInfo$data$parent&&_roomInfo$data$parent.sidepanel?roomInfo.isLoading||roomInfo.isSuccess&&result.isLoading?react.createElement(Sidepanel_RoomSidepanelLoading,null):result.isSuccess&&roomInfo.isSuccess?react.createElement(fuselage.Sidepanel,null,react.createElement(fuselage.Box,{pb:8,h:"full"},react.createElement(react_virtuoso_dist.Virtuoso,{totalCount:result.data.length,data:result.data,components:{Item:fuselage.SidepanelListItem,List:Sidepanel_RoomSidepanelListWrapper,Scroller:CustomScrollbars.Z},itemContent:function itemContent(_,data){return react.createElement(SidepanelItem_RoomSidepanelItem,{openedRoom:openedRoom,room:data,parentRid:parentRid,viewMode:sidebarViewMode})}}))):null:null},Sidepanel_RoomSidepanel=(0,react.memo)(RoomSidepanel);RoomSidepanel.__docgenInfo={description:"",methods:[],displayName:"RoomSidepanel"};var roomFields={_id:1,name:1,fname:1,t:1,cl:1,u:1,lm:1,teamId:1,teamMain:1,topic:1,announcement:1,announcementDetails:1,muted:1,unmuted:1,_updatedAt:1,archived:1,description:1,default:1,customFields:1,lastMessage:1,retention:1,prid:1,avatarETag:1,usersCount:1,msgs:1,sidepanel:1,tags:1,sms:1,code:1,joinCodeRequired:1,open:1,label:1,ro:1,reactWhenReadOnly:1,sysMes:1,sentiment:1,broadcast:1,encrypted:1,e2eKeyId:1,livechatData:1,priorityId:1,priorityWeight:1,slaId:1,estimatedWaitingTimeQueue:1,v:1,departmentId:1,servedBy:1,source:1,transcriptRequest:1,onHold:1,metrics:1,ts:1,waitingResponse:1,queuedAt:1,federated:1,usernames:1,uids:1,queue:1,callDuration:1,callTotalHoldTime:1,callWaitingTime:1,usersWaitingForE2EKeys:1};function omit_typeof(o){return omit_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},omit_typeof(o)}function omit_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function omit_defineProperty(e,r,t){return(r=function omit_toPropertyKey(t){var i=function omit_toPrimitive(t,r){if("object"!=omit_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=omit_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==omit_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function omit(obj){for(var result=function omit_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?omit_ownKeys(Object(t),!0).forEach((function(r){omit_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):omit_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},obj),_len=arguments.length,keys=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)keys[_key-1]=arguments[_key];return keys.forEach((function(key){delete result[key]})),result}var queryClient=__webpack_require__("./client/lib/queryClient.ts");function useOpenRoom_typeof(o){return useOpenRoom_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useOpenRoom_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==useOpenRoom_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(useOpenRoom_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}var RoomProvider=(0,react.lazy)((function(){return Promise.all([__webpack_require__.e(8020),__webpack_require__.e(8446),__webpack_require__.e(8038),__webpack_require__.e(463),__webpack_require__.e(3268),__webpack_require__.e(9524),__webpack_require__.e(1873),__webpack_require__.e(7669),__webpack_require__.e(3609),__webpack_require__.e(8012),__webpack_require__.e(2542)]).then(__webpack_require__.bind(__webpack_require__,"./client/views/room/providers/RoomProvider.tsx"))})),RoomNotFound=(0,react.lazy)((function(){return __webpack_require__.e(8371).then(__webpack_require__.bind(__webpack_require__,"./client/views/room/RoomNotFound.tsx"))})),Room=(0,react.lazy)((function(){return Promise.all([__webpack_require__.e(3832),__webpack_require__.e(1697),__webpack_require__.e(3528),__webpack_require__.e(8020),__webpack_require__.e(4609),__webpack_require__.e(5159),__webpack_require__.e(1515),__webpack_require__.e(8455),__webpack_require__.e(5146),__webpack_require__.e(8411),__webpack_require__.e(1873),__webpack_require__.e(6395),__webpack_require__.e(7669),__webpack_require__.e(4707),__webpack_require__.e(3609),__webpack_require__.e(1139),__webpack_require__.e(2542)]).then(__webpack_require__.bind(__webpack_require__,"./client/views/room/Room.tsx"))})),RoomLayout=(0,react.lazy)((function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./client/views/room/layout/RoomLayout.tsx"))})),NotAuthorizedPage=(0,react.lazy)((function(){return __webpack_require__.e(7389).then(__webpack_require__.bind(__webpack_require__,"./client/views/notAuthorized/NotAuthorizedPage.tsx"))})),RoomOpener=function RoomOpener(_ref){var type=_ref.type,_useOpenRoom=function useOpenRoom(_ref){var _useSetting,_onError,type=_ref.type,reference=_ref.reference,user=(0,ui_contexts_dist.useUser)(),allowAnonymousRead=null===(_useSetting=(0,ui_contexts_dist.useSetting)("Accounts_AllowAnonymousRead"))||void 0===_useSetting||_useSetting,getRoomByTypeAndName=(0,ui_contexts_dist.useMethod)("getRoomByTypeAndName"),createDirectMessage=(0,ui_contexts_dist.useMethod)("createDirectMessage"),openRoom=(0,ui_contexts_dist.useMethod)("openRoom"),directRoute=(0,ui_contexts_dist.useRoute)("direct"),unsubscribeFromRoomOpenedEvent=(0,react.useRef)((function(){}));return(0,lib.useQuery)(["rooms",{reference:reference,type:type},{uid:null==user?void 0:user._id,username:null==user?void 0:user.username}],_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var roomData,_yield$createDirectMe,rid,_yield$import,_ChatSubscription,_yield$import2,waitUntilFind,$set,$unset,_i,_Object$keys,key,_yield$import3,ChatRoom,ChatSubscription,room,_yield$import4,LegacyRoomManager,_yield$import5,RoomManager,_yield$import6,fireGlobalEvent,sub;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if((!user||user.username)&&(user||allowAnonymousRead)){_context.next=2;break}throw new NotAuthorizedError;case 2:return _context.prev=2,_context.next=5,getRoomByTypeAndName(type,reference);case 5:roomData=_context.sent,_context.next=34;break;case 8:if(_context.prev=8,_context.t0=_context.catch(2),"d"===type){_context.next=12;break}throw new RoomNotFoundError(void 0,{type:type,reference:reference});case 12:return _context.prev=12,_context.next=15,createDirectMessage.apply(void 0,_toConsumableArray(reference.split(", ")));case 15:return _yield$createDirectMe=_context.sent,rid=_yield$createDirectMe.rid,_context.next=19,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./app/models/client/index.ts"));case 19:return _yield$import=_context.sent,_ChatSubscription=_yield$import.ChatSubscription,_context.next=23,__webpack_require__.e(6768).then(__webpack_require__.bind(__webpack_require__,"./client/lib/utils/waitUntilFind.ts"));case 23:return _yield$import2=_context.sent,waitUntilFind=_yield$import2.waitUntilFind,_context.next=27,waitUntilFind((function(){return _ChatSubscription.findOne({rid:rid})}));case 27:directRoute.push({rid:rid},(function(prev){return prev})),_context.next=33;break;case 30:throw _context.prev=30,_context.t1=_context.catch(12),new RoomNotFoundError(void 0,{type:type,reference:reference});case 33:throw new OldUrlRoomError(void 0,{type:type,reference:reference});case 34:if(roomData._id){_context.next=36;break}throw new RoomNotFoundError(void 0,{type:type,reference:reference});case 36:for($set={},$unset={},_i=0,_Object$keys=Object.keys(roomFields);_i<_Object$keys.length;_i++)(key=_Object$keys[_i])in roomData?$set[key]=roomData[key]:$unset[key]="";return _context.next=41,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./app/models/client/index.ts"));case 41:if(_yield$import3=_context.sent,ChatRoom=_yield$import3.ChatRoom,ChatSubscription=_yield$import3.ChatSubscription,ChatRoom.upsert({_id:roomData._id},{$set:$set,$unset:$unset}),room=ChatRoom.findOne({_id:roomData._id})){_context.next=48;break}throw new TypeError("room is undefined");case 48:return _context.next=50,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./app/ui-utils/client/index.ts"));case 50:if(_yield$import4=_context.sent,LegacyRoomManager=_yield$import4.LegacyRoomManager,void 0===reference||room._id===reference||"d"!==type){_context.next=57;break}return _context.next=55,LegacyRoomManager.close(type+reference);case 55:throw directRoute.push({rid:room._id},(function(prev){return prev})),new OldUrlRoomError(void 0,{rid:room._id});case 57:return _context.next=59,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./client/lib/RoomManager.ts"));case 59:return _yield$import5=_context.sent,RoomManager=_yield$import5.RoomManager,_context.next=63,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./client/lib/utils/fireGlobalEvent.ts"));case 63:if(_yield$import6=_context.sent,fireGlobalEvent=_yield$import6.fireGlobalEvent,unsubscribeFromRoomOpenedEvent.current(),unsubscribeFromRoomOpenedEvent.current=RoomManager.once("opened",(function(){return fireGlobalEvent("room-opened",omit(room,"usernames"))})),LegacyRoomManager.open({typeName:type+reference,rid:room._id}),room._id!==RoomManager.opened){_context.next=70;break}return _context.abrupt("return",{rid:room._id});case 70:if(!(sub=ChatSubscription.findOne({rid:room._id}))||sub.open){_context.next=74;break}return _context.next=74,openRoom(room._id);case 74:return _context.abrupt("return",{rid:room._id});case 75:case"end":return _context.stop()}}),_callee,null,[[2,8],[12,30]])}))),{retry:0,onError:(_onError=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(error){return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!(["l","v"].includes(type)&&error instanceof RoomNotFoundError)){_context2.next=8;break}return _context2.next=3,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./app/models/client/index.ts"));case 3:_context2.sent.ChatRoom.remove(reference),queryClient.q.removeQueries(["rooms",reference]),queryClient.q.removeQueries(["/v1/rooms.info",reference]);case 8:case"end":return _context2.stop()}}),_callee2)}))),function onError(_x){return _onError.apply(this,arguments)})})}({type:type,reference:_ref.reference}),data=_useOpenRoom.data,error=_useOpenRoom.error,isSuccess=_useOpenRoom.isSuccess,isError=_useOpenRoom.isError,isLoading=_useOpenRoom.isLoading,t=(0,es.Bd)().t;return react.createElement(fuselage.Box,{display:"flex",w:"full",h:"full"},!function isDirectOrOmnichannelRoom(type){return"d"===type||"l"===type}(type)&&react.createElement(FeaturePreviewSidePanelNavigation,null,react.createElement(ui_client_dist.sl,null,null),react.createElement(ui_client_dist.Uq,null,react.createElement(Sidepanel_RoomSidepanel,null))),react.createElement(react.Suspense,{fallback:react.createElement(RoomSkeleton.A,null)},isLoading&&react.createElement(RoomSkeleton.A,null),isSuccess&&react.createElement(RoomProvider,{rid:data.rid},react.createElement(Room,null)),isError&&(error instanceof OldUrlRoomError?react.createElement(RoomSkeleton.A,null):error instanceof RoomNotFoundError?react.createElement(RoomNotFound,null):error instanceof NotAuthorizedError?react.createElement(NotAuthorizedPage,null):react.createElement(RoomLayout,{header:react.createElement(Header.Y9,null),body:react.createElement(fuselage.States,null,react.createElement(fuselage.StatesIcon,{name:"circle-exclamation",variation:"danger"}),react.createElement(fuselage.StatesTitle,null,t("core.Error")),react.createElement(fuselage.StatesSubtitle,null,(0,errorHandling.u)(error)))}))))},room_RoomOpener=RoomOpener;function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function RoomRoute_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return RoomRoute_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?RoomRoute_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RoomRoute_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}RoomOpener.__docgenInfo={description:"",methods:[],displayName:"RoomOpener",props:{type:{required:!0,tsType:{name:"RoomType"},description:""},reference:{required:!0,tsType:{name:"string"},description:""}}};var RoomRoute=function RoomRoute(_ref){var extractOpenRoomParams=_ref.extractOpenRoomParams,router=(0,ui_contexts_dist.useRouter)(),_useState2=_slicedToArray((0,react.useState)((function(){return extractOpenRoomParams(router.getRouteParameters())})),2),params=_useState2[0],setParams=_useState2[1];return(0,react.useLayoutEffect)((function(){return router.subscribeToRouteChange((function(){setParams(extractOpenRoomParams(router.getRouteParameters()))}))}),[extractOpenRoomParams,router]),react.createElement(room_RoomOpener,params)},room_RoomRoute=RoomRoute;RoomRoute.__docgenInfo={description:"",methods:[],displayName:"RoomRoute",props:{extractOpenRoomParams:{required:!0,tsType:{name:"signature",type:"function",raw:"(routeParams: Record<string, string | null | undefined>) => {\n\ttype: RoomType;\n\treference: string;\n}",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]}],raw:"Record<string, string | null | undefined>"},name:"routeParams"}],return:{name:"signature",type:"object",raw:"{\n\ttype: RoomType;\n\treference: string;\n}",signature:{properties:[{key:"type",value:{name:"RoomType",required:!0}},{key:"reference",value:{name:"string",required:!0}}]}}}},description:""}}};var root_MainLayout=(0,react.lazy)((function(){return Promise.all([__webpack_require__.e(3832),__webpack_require__.e(3949),__webpack_require__.e(463),__webpack_require__.e(7746),__webpack_require__.e(1515),__webpack_require__.e(1873),__webpack_require__.e(8555),__webpack_require__.e(2150),__webpack_require__.e(5122),__webpack_require__.e(1773),__webpack_require__.e(1237),__webpack_require__.e(6472),__webpack_require__.e(744)]).then(__webpack_require__.bind(__webpack_require__,"./client/views/root/MainLayout/MainLayout.tsx"))})),appLayout=__webpack_require__("./client/lib/appLayout.tsx");function roomCoordinator_typeof(o){return roomCoordinator_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},roomCoordinator_typeof(o)}function roomCoordinator_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function roomCoordinator_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?roomCoordinator_ownKeys(Object(t),!0).forEach((function(r){roomCoordinator_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):roomCoordinator_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function roomCoordinator_defineProperty(e,r,t){return(r=roomCoordinator_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function roomCoordinator_defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,roomCoordinator_toPropertyKey(o.key),o)}}function roomCoordinator_toPropertyKey(t){var i=function roomCoordinator_toPrimitive(t,r){if("object"!=roomCoordinator_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=roomCoordinator_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==roomCoordinator_typeof(i)?i:i+""}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var p=function _superPropBase(t,o){for(;!{}.hasOwnProperty.call(t,o)&&null!==(t=roomCoordinator_getPrototypeOf(t)););return t}(e,t);if(p){var n=Object.getOwnPropertyDescriptor(p,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},_get.apply(null,arguments)}function roomCoordinator_setPrototypeOf(t,e){return roomCoordinator_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},roomCoordinator_setPrototypeOf(t,e)}function roomCoordinator_createSuper(t){var r=roomCoordinator_isNativeReflectConstruct();return function(){var e,o=roomCoordinator_getPrototypeOf(t);if(r){var s=roomCoordinator_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return function roomCoordinator_possibleConstructorReturn(t,e){if(e&&("object"==roomCoordinator_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function roomCoordinator_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(this,e)}}function roomCoordinator_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(roomCoordinator_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function roomCoordinator_getPrototypeOf(t){return roomCoordinator_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},roomCoordinator_getPrototypeOf(t)}var RoomCoordinatorClient=function(_RoomCoordinator){!function roomCoordinator_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&roomCoordinator_setPrototypeOf(t,e)}(RoomCoordinatorClient,_RoomCoordinator);var _super=roomCoordinator_createSuper(RoomCoordinatorClient);function RoomCoordinatorClient(){return function roomCoordinator_classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,RoomCoordinatorClient),_super.apply(this,arguments)}return function roomCoordinator_createClass(e,r,t){return r&&roomCoordinator_defineProperties(e.prototype,r),t&&roomCoordinator_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(RoomCoordinatorClient,[{key:"add",value:function add(roomConfig,directives){this.addRoomType(roomConfig,roomCoordinator_objectSpread(roomCoordinator_objectSpread({allowRoomSettingChange:function allowRoomSettingChange(_room,_setting){return!0},allowMemberAction:function allowMemberAction(_room,_action,_showingUserId,_userSubscription){return!1},roomName:function roomName(_room){return""},isGroupChat:function isGroupChat(_room){return!1},getUiText:function getUiText(_context){return""},condition:function condition(){return!0},getAvatarPath:function getAvatarPath(_room){return""},findRoom:function findRoom(_identifier){},showJoinLink:function showJoinLink(_roomId){return!1},isLivechatRoom:function isLivechatRoom(){return!1},canSendMessage:function canSendMessage(rid){return models_client.ChatSubscription.find({rid:rid}).count()>0}},directives),{},{config:roomConfig}))}},{key:"getRoomDirectives",value:function getRoomDirectives(roomType){return this.roomTypes[roomType].directives}},{key:"openRouteLink",value:function openRouteLink(roomType,subData,queryParams){var _config$route$path,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},config=this.getRoomTypeConfig(roomType);if(null!=config&&config.route){var routeData={};if(config.route.link)routeData=config.route.link(subData);else{if(null==subData||!subData.name)return;routeData={name:subData.name}}RouterProvider.Q.navigate({pattern:null!==(_config$route$path=config.route.path)&&void 0!==_config$route$path?_config$route$path:"/home",params:routeData,search:queryParams},options)}}},{key:"isLivechatRoom",value:function isLivechatRoom(roomType){return Boolean(this.getRoomDirectives(roomType).isLivechatRoom())}},{key:"getRoomName",value:function getRoomName(roomType,roomData){var _this$getRoomDirectiv;return null!==(_this$getRoomDirectiv=this.getRoomDirectives(roomType).roomName(roomData))&&void 0!==_this$getRoomDirectiv?_this$getRoomDirectiv:""}},{key:"readOnly",value:function readOnly(rid,user){var fields=roomCoordinator_objectSpread({ro:1,t:1},user&&{muted:1,unmuted:1}),room=models_client.ChatRoom.findOne({_id:rid},{fields:fields});if(!room)return!1;var directives=this.getRoomDirectives(room.t);return null!=directives&&directives.readOnly?directives.readOnly(rid,user):null!=user&&user.username?!!room&&(!(!Array.isArray(room.muted)||-1===room.muted.indexOf(user.username))||!!room.ro&&((!Array.isArray(room.unmuted)||-1===room.unmuted.indexOf(user.username))&&!(0,client._m)("post-readonly",room._id))):Boolean(room.ro)}},{key:"archived",value:function archived(rid){var room=models_client.ChatRoom.findOne({_id:rid},{fields:{archived:1}});return Boolean(null==room?void 0:room.archived)}},{key:"verifyCanSendMessage",value:function verifyCanSendMessage(rid){var room=models_client.ChatRoom.findOne({_id:rid},{fields:{t:1,federated:1}});return!(null==room||!room.t)&&(!!this.getRoomDirectives(room.t).canSendMessage(rid)&&(!(0,dist.isRoomFederated)(room)||settings_client.W.get("Federation_Matrix_enabled")))}},{key:"validateRoute",value:function validateRoute(route){var name=route.name,path=route.path,link=route.link;if("string"!=typeof name||0===name.length)throw new Error("The route name must be a string.");if(void 0!==path&&("string"!=typeof path||0===path.length))throw new Error("The route path must be a string.");if(!["undefined","function"].includes(roomCoordinator_typeof(link)))throw new Error("The route link must be a function.")}},{key:"validateRoomConfig",value:function validateRoomConfig(roomConfig){_get(roomCoordinator_getPrototypeOf(RoomCoordinatorClient.prototype),"validateRoomConfig",this).call(this,roomConfig);var route=roomConfig.route,label=roomConfig.label;if(void 0!==route&&this.validateRoute(route),void 0!==label&&("string"!=typeof label||0===label.length))throw new Error("The label must be a string.")}},{key:"addRoomType",value:function addRoomType(roomConfig,directives){var _roomConfig$route;if(_get(roomCoordinator_getPrototypeOf(RoomCoordinatorClient.prototype),"addRoomType",this).call(this,roomConfig,directives),null!==(_roomConfig$route=roomConfig.route)&&void 0!==_roomConfig$route&&_roomConfig$route.path&&roomConfig.route.name&&directives.extractOpenRoomParams){var _roomConfig$route2=roomConfig.route,name=_roomConfig$route2.name,path=_roomConfig$route2.path,extractOpenRoomParams=directives.extractOpenRoomParams;RouterProvider.Q.defineRoutes([{path:path,id:name,element:appLayout.q.wrap(react.createElement(root_MainLayout,null,react.createElement(room_RoomRoute,{extractOpenRoomParams:extractOpenRoomParams})))}])}}},{key:"getURL",value:function getURL(roomType,subData){var config=this.getRoomTypeConfig(roomType);if(null==config||!config.route)return!1;var routeData=this.getRouteData(roomType,subData);return!!routeData&&meteor.fj.absoluteUrl(RouterProvider.Q.buildRoutePath({name:config.route.name,params:routeData}))}},{key:"isRouteNameKnown",value:function isRouteNameKnown(routeName){return Boolean(this.getRouteNameIdentifier(routeName))}},{key:"getRouteNameIdentifier",value:function getRouteNameIdentifier(routeName){var _this=this;if(routeName)return Object.keys(this.roomTypes).find((function(key){var _this$roomTypes$key$c;return(null===(_this$roomTypes$key$c=_this.roomTypes[key].config.route)||void 0===_this$roomTypes$key$c?void 0:_this$roomTypes$key$c.name)===routeName}))}}]),RoomCoordinatorClient}(RoomCoordinator),roomCoordinator=new RoomCoordinatorClient},"./client/lib/utils/fireGlobalEvent.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{fireGlobalEvent:function(){return fireGlobalEvent}});var meteor_tracker__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./.storybook/mocks/meteor.js"),_app_settings_client__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/settings/client/index.ts"),fireGlobalEvent=function fireGlobalEvent(eventName,detail){window.dispatchEvent(new CustomEvent(eventName,{detail:detail})),meteor_tracker__WEBPACK_IMPORTED_MODULE_0__.JD.autorun((function(computation){var enabled=_app_settings_client__WEBPACK_IMPORTED_MODULE_1__.W.get("Iframe_Integration_send_enable");void 0!==enabled&&(computation.stop(),enabled&&parent.postMessage({eventName:eventName,data:detail},_app_settings_client__WEBPACK_IMPORTED_MODULE_1__.W.get("Iframe_Integration_send_target_origin")))}))}},"./client/lib/utils/goToRoomById.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return goToRoomById}});var _rocket_chat_memo__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/memo/dist/esm/index.js"),_app_models_client__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/models/client/index.ts"),_providers_RouterProvider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/providers/RouterProvider.tsx"),_rooms_roomCoordinator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/lib/rooms/roomCoordinator.tsx"),_callWithErrorHandling__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./client/lib/utils/callWithErrorHandling.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}var getRoomById=(0,_rocket_chat_memo__WEBPACK_IMPORTED_MODULE_0__.memoize)((function(rid){return(0,_callWithErrorHandling__WEBPACK_IMPORTED_MODULE_4__.g)("getRoomById",rid)})),goToRoomById=function(){var _ref=function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(rid){var subscription,room;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(rid){_context.next=2;break}return _context.abrupt("return");case 2:if(!(subscription=_app_models_client__WEBPACK_IMPORTED_MODULE_1__.ChatSubscription.findOne({rid:rid}))){_context.next=6;break}return _rooms_roomCoordinator__WEBPACK_IMPORTED_MODULE_3__.roomCoordinator.openRouteLink(subscription.t,subscription,_providers_RouterProvider__WEBPACK_IMPORTED_MODULE_2__.Q.getSearchParameters()),_context.abrupt("return");case 6:return _context.next=8,getRoomById(rid);case 8:room=_context.sent,_rooms_roomCoordinator__WEBPACK_IMPORTED_MODULE_3__.roomCoordinator.openRouteLink(room.t,_objectSpread({rid:room._id},room),_providers_RouterProvider__WEBPACK_IMPORTED_MODULE_2__.Q.getSearchParameters());case 10:case"end":return _context.stop()}}),_callee)})));return function goToRoomById(_x){return _ref.apply(this,arguments)}}()},"./client/lib/utils/isIE11.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return isIE11}});var userAgent,msieIdx,isIE11=(userAgent=window.navigator.userAgent,(msieIdx=userAgent.indexOf("MSIE"))>0?11===parseInt(userAgent.substring(msieIdx+5,userAgent.indexOf(".",msieIdx))):!!navigator.userAgent.match(/Trident\/7\./))},"./client/lib/utils/isIOsDevice.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return isIOsDevice}});var isIOsDevice=!!navigator.platform.match(/iPhone|iPod|iPad/)},"./client/lib/utils/messageArgs.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{R:function(){return messageArgs}});var messageArgs=function messageArgs(context){var _context$_arguments;return(null==context||null===(_context$_arguments=context._arguments)||void 0===_context$_arguments||null===(_context$_arguments=_context$_arguments[1])||void 0===_context$_arguments?void 0:_context$_arguments.hash)||context}},"./client/lib/utils/prependReplies.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{j:function(){return prependReplies}});var _getPermaLink__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./client/lib/getPermaLink.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}var prependReplies=function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(msg){var replies,chunks,_args2=arguments;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return replies=_args2.length>1&&void 0!==_args2[1]?_args2[1]:[],_context2.next=3,Promise.all(replies.map(function(){var _ref3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(_ref2){var _id,permalink;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _id=_ref2._id,_context.next=3,(0,_getPermaLink__WEBPACK_IMPORTED_MODULE_0__._)(_id);case 3:return permalink=_context.sent,_context.abrupt("return","[ ](".concat(permalink,")"));case 5:case"end":return _context.stop()}}),_callee)})));return function(_x2){return _ref3.apply(this,arguments)}}()));case 3:return(chunks=_context2.sent).push(msg),_context2.abrupt("return",chunks.join("\n"));case 6:case"end":return _context2.stop()}}),_callee2)})));return function prependReplies(_x){return _ref.apply(this,arguments)}}()},"./client/lib/utils/queueMicrotask.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return queueMicrotask}});var queueMicrotask="undefined"!=typeof window&&window.queueMicrotask||function(cb){Promise.resolve().then(cb)}},"./client/lib/utils/renderEmoji.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return getEmojiClassNameAndDataTitle}});var _app_emoji_client_lib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/emoji/client/lib.ts"),emojiList=_app_emoji_client_lib__WEBPACK_IMPORTED_MODULE_0__.Z.list,emojiPackages=_app_emoji_client_lib__WEBPACK_IMPORTED_MODULE_0__.Z.packages,getEmojiClassNameAndDataTitle=function createGetEmojiClassNameAndDataTitle(parser){return function(emojiName){var _ref,html=parser(emojiName);if(!html)return{className:"","data-title":"",children:"",name:""};var div=document.createElement("div");div.innerHTML=html;var emojiElement=div.firstElementChild;if(!emojiElement)return{className:"","data-title":"",children:"",name:"",image:""};var image=emojiElement instanceof HTMLElement?emojiElement.style.backgroundImage:Object.fromEntries(null===(_ref=emojiElement.getAttribute("style")||"")||void 0===_ref?void 0:_ref.split(";").map((function(s){return s.split(":")})))["background-image"];return{className:emojiElement.getAttribute("class")||"","data-title":emojiElement.getAttribute("data-title")||"",name:emojiElement.getAttribute("name")||"",children:emojiElement.innerHTML,image:image}}}((function renderEmoji(emojiName){var _emojiList$emojiName,emojiPackageName=null===(_emojiList$emojiName=emojiList[emojiName])||void 0===_emojiList$emojiName?void 0:_emojiList$emojiName.emojiPackage;if(emojiPackageName)return emojiPackages[emojiPackageName].render(emojiName)}))},"./client/lib/utils/userAgentMIMETypeFallback.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return userAgentMIMETypeFallback}});var userAgentMIMETypeFallback=function userAgentMIMETypeFallback(type){var userAgent=navigator.userAgent.toLocaleLowerCase();return"video/quicktime"===type&&-1!==userAgent.indexOf("safari")?"video/mp4":type}},"./client/omnichannel/components/RoomActivityIcon/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return RoomActivityIcon}});var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_hooks_omnichannel_useIsRoomOverMacLimit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/hooks/omnichannel/useIsRoomOverMacLimit.tsx"),RoomActivityIcon=function RoomActivityIcon(_ref){var room=_ref.room,t=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useTranslation)();return(0,_hooks_omnichannel_useIsRoomOverMacLimit__WEBPACK_IMPORTED_MODULE_3__.P)(room)?react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Icon,{name:"warning",verticalAlign:"middle",size:"x20",color:"danger",title:t("Workspace_exceeded_MAC_limit_disclaimer")}):null};RoomActivityIcon.__docgenInfo={description:"",methods:[],displayName:"RoomActivityIcon",props:{room:{required:!0,tsType:{name:"IOmnichannelRoom"},description:""}}}},"./client/omnichannel/hooks/useOmnichannelPriorities.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return useOmnichannelPriorities}});var _hooks_omnichannel_useOmnichannel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./client/hooks/omnichannel/useOmnichannel.ts"),useOmnichannelPriorities=function useOmnichannelPriorities(){return(0,_hooks_omnichannel_useOmnichannel__WEBPACK_IMPORTED_MODULE_0__.q)().livechatPriorities}},"./client/omnichannel/hooks/useOmnichannelPrioritiesMenu.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return useOmnichannelPrioritiesMenu}});var _rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/core-typings/dist/index.js"),_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@tanstack/react-query/build/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_lib_toast__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./client/lib/toast.ts"),_priorities_PriorityIcon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./client/omnichannel/priorities/PriorityIcon.tsx"),_useOmnichannelPriorities__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./client/omnichannel/hooks/useOmnichannelPriorities.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}var useOmnichannelPrioritiesMenu=function useOmnichannelPrioritiesMenu(rid){var t=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_2__.useTranslation)(),queryClient=(0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient)(),updateRoomPriority=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_2__.useEndpoint)("POST","/v1/livechat/room/:rid/priority",{rid:rid}),removeRoomPriority=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_2__.useEndpoint)("DELETE","/v1/livechat/room/:rid/priority",{rid:rid}),priorities=(0,_useOmnichannelPriorities__WEBPACK_IMPORTED_MODULE_6__.Y)().data,handlePriorityChange=(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.useMutableCallback)((function(priorityId){return _asyncToGenerator(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,!priorityId){_context.next=6;break}return _context.next=4,updateRoomPriority({priorityId:priorityId});case 4:_context.next=8;break;case 6:return _context.next=8,removeRoomPriority();case 8:queryClient.invalidateQueries(["current-chats"]),queryClient.invalidateQueries(["/v1/rooms.info",rid]),_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(0),(0,_lib_toast__WEBPACK_IMPORTED_MODULE_4__.b)({type:"error",message:_context.t0});case 15:case"end":return _context.stop()}}),_callee,null,[[0,12]])})))})),renderOption=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(label,weight){return react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_3__.createElement(_priorities_PriorityIcon__WEBPACK_IMPORTED_MODULE_5__.w,{level:weight||_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.LivechatPriorityWeight.NOT_SPECIFIED,showUnprioritized:!0})," ",label)}),[]);return(0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)((function(){var menuHeading={type:"heading",label:t("Priorities")},unprioritizedOption={type:"option",action:handlePriorityChange(""),label:{label:renderOption(t("Unprioritized"),_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.LivechatPriorityWeight.NOT_SPECIFIED)}},options=priorities.reduce((function(items,_ref2){var priorityId=_ref2._id,name=_ref2.name,i18n=_ref2.i18n,dirty=_ref2.dirty,sortItem=_ref2.sortItem,label=dirty&&name?name:i18n;return items[label]={action:handlePriorityChange(priorityId),label:{label:renderOption(label,sortItem)}},items}),{});return priorities.length?function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({menuHeading:menuHeading,Unprioritized:unprioritizedOption},options):{}}),[t,handlePriorityChange,priorities,renderOption])}},"./client/omnichannel/priorities/PriorityIcon.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return PriorityIcon}});var _rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/core-typings/dist/index.js"),_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_hooks_useOmnichannelPriorities__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./client/omnichannel/hooks/useOmnichannelPriorities.ts"),_excluded=["level","size","showUnprioritized"];function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var PRIORITY_ICONS=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.LivechatPriorityWeight.HIGHEST,{iconName:"chevron-double-up",color:_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_1__.Palette.badge["badge-background-level-4"].toString()}),_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.LivechatPriorityWeight.HIGH,{iconName:"chevron-up",color:_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_1__.Palette.badge["badge-background-level-4"].toString()}),_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.LivechatPriorityWeight.MEDIUM,{iconName:"equal",color:_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_1__.Palette.badge["badge-background-level-3"].toString()}),_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.LivechatPriorityWeight.LOW,{iconName:"chevron-down",color:_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_1__.Palette.badge["badge-background-level-2"].toString()}),_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.LivechatPriorityWeight.LOWEST,{iconName:"chevron-double-down",color:_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_1__.Palette.badge["badge-background-level-2"].toString()}),PriorityIcon=function PriorityIcon(_ref){var level=_ref.level,_ref$size=_ref.size,size=void 0===_ref$size?20:_ref$size,_ref$showUnprioritize=_ref.showUnprioritized,showUnprioritized=void 0!==_ref$showUnprioritize&&_ref$showUnprioritize,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),t=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_2__.useTranslation)(),_ref2=PRIORITY_ICONS[level]||{},iconName=_ref2.iconName,color=_ref2.color,priorities=(0,_hooks_useOmnichannelPriorities__WEBPACK_IMPORTED_MODULE_4__.Y)().data,name=(0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)((function(){var _ref3=priorities.find((function(p){return p.sortItem===level}))||{},_id=_ref3._id,dirty=_ref3.dirty,name=_ref3.name,i18n=_ref3.i18n;return _id?dirty?name:t(i18n):""}),[level,priorities,t]);return showUnprioritized&&level===_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.LivechatPriorityWeight.NOT_SPECIFIED?react__WEBPACK_IMPORTED_MODULE_3__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_1__.Box,{is:"i",mi:"4px",title:t("Unprioritized")},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_1__.StatusBullet,{status:"offline"})):iconName?react__WEBPACK_IMPORTED_MODULE_3__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_1__.Icon,_extends({},props,{name:iconName,color:color,size:size,title:name})):null};PriorityIcon.__docgenInfo={description:"",methods:[],displayName:"PriorityIcon",props:{level:{required:!0,tsType:{name:"LivechatPriorityWeight"},description:""},showUnprioritized:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},size:{defaultValue:{value:"20",computed:!1},required:!1}}}},"./client/providers/RouterProvider.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return router}});var _rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./.storybook/mocks/meteor.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_lib_appLayout__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/lib/appLayout.tsx"),_lib_rooms_roomCoordinator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./client/lib/rooms/roomCoordinator.tsx"),_lib_utils_queueMicrotask__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./client/lib/utils/queueMicrotask.ts");function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||_unsupportedIterableToArray(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||_unsupportedIterableToArray(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var computation,subscribers=new Set,listenToRouteChange=function listenToRouteChange(){meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx.watchPathChange(),subscribers.forEach((function(onRouteChange){return onRouteChange()}))};(0,_lib_utils_queueMicrotask__WEBPACK_IMPORTED_MODULE_5__.b)((function(){computation=meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.JD.autorun(listenToRouteChange)}));var buildRoutePath=function buildRoutePath(to){if("string"==typeof to)return to;if("pathname"in to){var pathname=to.pathname,_to$search=to.search;return pathname+function encodeSearchParameters(searchParameters){for(var search=new URLSearchParams,_i=0,_Object$entries=Object.entries(searchParameters);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];search.append(key,value)}var searchString=search.toString();return searchString?"?".concat(searchString):""}(void 0===_to$search?{}:_to$search)}if("pattern"in to){var pattern=to.pattern,_to$params=to.params,params=void 0===_to$params?{}:_to$params,_to$search2=to.search,_search=void 0===_to$search2?{}:_to$search2;return meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.JD.nonreactive((function(){return meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx.path(pattern,params,_search)}))}if("name"in to){var name=to.name,_to$params2=to.params,_params=void 0===_to$params2?{}:_to$params2,_to$search3=to.search,_search2=void 0===_to$search3?{}:_to$search3;return meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.JD.nonreactive((function(){return meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx.path(name,_params,_search2)}))}throw new Error("Invalid route")},routes=[],routesSubscribers=new Set,updateFlowRouter=function updateFlowRouter(){if(meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx._initialized)return meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx._updateCallbacks(),void meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx._page.dispatch(new meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx._page.Context(meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx._current.path));meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx.initialize()},router={subscribeToRouteChange:function subscribeToRouteChange(onRouteChange){var _computation;return subscribers.add(onRouteChange),null===(_computation=computation)||void 0===_computation||_computation.invalidate(),function(){subscribers.delete(onRouteChange),0===subscribers.size&&(0,_lib_utils_queueMicrotask__WEBPACK_IMPORTED_MODULE_5__.b)((function(){var _computation2;return null===(_computation2=computation)||void 0===_computation2?void 0:_computation2.stop()}))}},getLocationPathname:function getLocationPathname(){return meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx.current().path},getLocationSearch:function getLocationSearch(){return location.search},getRouteParameters:function getRouteParameters(){var _FlowRouter$current$p;return null!==(_FlowRouter$current$p=meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx.current().params)&&void 0!==_FlowRouter$current$p?_FlowRouter$current$p:{}},getSearchParameters:function getSearchParameters(){var _FlowRouter$current$q;return null!==(_FlowRouter$current$q=meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx.current().queryParams)&&void 0!==_FlowRouter$current$q?_FlowRouter$current$q:{}},getRouteName:function getRouteName(){var _FlowRouter$current$r;return null===(_FlowRouter$current$r=meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx.current().route)||void 0===_FlowRouter$current$r?void 0:_FlowRouter$current$r.name},buildRoutePath:buildRoutePath,navigate:function navigate(toOrDelta,options){if("number"!=typeof toOrDelta){var path=buildRoutePath(toOrDelta),state={path:path};null!=options&&options.replace?history.replaceState(state,"",path):history.pushState(state,"",path),dispatchEvent(new PopStateEvent("popstate",{state:state}))}else history.go(toOrDelta)},defineRoutes:function defineRoutes(routes){var flowRoutes=routes.map((function(route){return"*"===route.path?(meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx.notFound={action:function action(){return _lib_appLayout__WEBPACK_IMPORTED_MODULE_3__.q.render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,route.element))}},meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx.notFound):meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx.route(route.path,{name:route.id,action:function action(){return _lib_appLayout__WEBPACK_IMPORTED_MODULE_3__.q.render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,route.element))}})}));routes.push.apply(routes,_toConsumableArray(routes));var index=routes.length-1;return updateFlowRouter(),routesSubscribers.forEach((function(onRoutesChange){return onRoutesChange()})),function(){flowRoutes.forEach((function(flowRoute){meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx._routes=meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx._routes.filter((function(r){return r!==flowRoute})),"name"in flowRoute&&flowRoute.name?delete meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx._routesMap[flowRoute.name]:meteor_kadira_flow_router__WEBPACK_IMPORTED_MODULE_1__.sx.notFound={action:function action(){return _lib_appLayout__WEBPACK_IMPORTED_MODULE_3__.q.render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null))}}})),-1!==index&&routes.splice(index,1),updateFlowRouter(),routesSubscribers.forEach((function(onRoutesChange){return onRoutesChange()}))}},getRoutes:function getRoutes(){return routes},subscribeToRoutesChange:function subscribeToRoutesChange(onRoutesChange){return routesSubscribers.add(onRoutesChange),onRoutesChange(),function(){routesSubscribers.delete(onRoutesChange)}},getRoomRoute:function getRoomRoute(roomType,routeData){return{path:_lib_rooms_roomCoordinator__WEBPACK_IMPORTED_MODULE_4__.roomCoordinator.getRouteLink(roomType,routeData)||"/"}}},RouterProvider=function RouterProvider(_ref){var children=_ref.children;return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.RouterContext.Provider,{children:children,value:router})};RouterProvider.__docgenInfo={description:"",methods:[],displayName:"RouterProvider",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}}}},"./client/sidebar/RoomList/useSidebarListNavigation.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{S:function(){return useSidebarListNavigation}});var _react_aria_focus__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@react-aria/focus/dist/import.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),isListItem=function isListItem(node){return node.classList.contains("rcx-sidebar-item")},isListItemMenu=function isListItemMenu(node){return node.classList.contains("rcx-sidebar-item__menu")},useSidebarListNavigation=function useSidebarListNavigation(){var sidebarListFocusManager=(0,_react_aria_focus__WEBPACK_IMPORTED_MODULE_1__.H8)();return{sidebarListRef:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(node){var lastItemFocused=null;node&&(node.addEventListener("keydown",(function(e){e.target&&isListItem(e.target)&&("Tab"===e.key&&(e.preventDefault(),e.stopPropagation(),e.shiftKey?sidebarListFocusManager.focusPrevious({accept:function accept(node){return!isListItem(node)&&!isListItemMenu(node)}}):isListItemMenu(e.target)?sidebarListFocusManager.focusNext({accept:function accept(node){return!isListItem(node)&&!isListItemMenu(node)}}):sidebarListFocusManager.focusNext({accept:function accept(node){return!isListItem(node)}})),"ArrowUp"!==e.key&&"ArrowDown"!==e.key||("ArrowUp"===e.key&&sidebarListFocusManager.focusPrevious({accept:function accept(node){return isListItem(node)}}),"ArrowDown"===e.key&&sidebarListFocusManager.focusNext({accept:function accept(node){return isListItem(node)}}),lastItemFocused=document.activeElement))})),node.addEventListener("blur",(function(e){var _e$relatedTarget;null!==(_e$relatedTarget=e.relatedTarget)&&void 0!==_e$relatedTarget&&_e$relatedTarget.classList.contains("focus-visible")&&e.currentTarget instanceof HTMLElement&&e.relatedTarget instanceof HTMLElement&&(e.currentTarget.contains(e.relatedTarget)||lastItemFocused||(lastItemFocused=e.target))}),{capture:!0}),node.addEventListener("focus",(function(e){var _e$target,_lastItemFocused;(null===(_e$target=e.target)||void 0===_e$target?void 0:_e$target.classList.contains("focus-visible"))&&e.currentTarget instanceof HTMLElement&&e.relatedTarget instanceof HTMLElement&&(lastItemFocused&&!e.currentTarget.contains(e.relatedTarget)&&node.contains(e.target)&&(null===(_lastItemFocused=lastItemFocused)||void 0===_lastItemFocused||_lastItemFocused.focus()))}),{capture:!0}))}),[sidebarListFocusManager])}}},"./client/sidebarv2/Item/Condensed.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var Condensed=function Condensed(_ref){var icon=_ref.icon,title=_ref.title,avatar=_ref.avatar,actions=_ref.actions,href=_ref.href,unread=_ref.unread,menu=_ref.menu,badges=_ref.badges,selected=_ref.selected,_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!!window.DISABLE_ANIMATION),2),menuVisibility=_useState2[0],setMenuVisibility=_useState2[1],handleMenuEvent=_defineProperty({},(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.usePrefersReducedMotion)()?"onMouseEnter":"onTransitionEnd",(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.useEffectEvent)((function(e){setMenuVisibility(e.target.offsetWidth>0&&Boolean(menu))})));return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2Item,{href:href,selected:selected},avatar&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemAvatarWrapper,null,avatar),icon&&icon,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemTitle,{unread:unread},title),badges&&badges,actions&&actions,menu&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemMenu,handleMenuEvent,menuVisibility?menu():react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tabIndex:-1,"aria-hidden":!0,mini:!0,"rcx-sidebar-v2-item__menu":!0,icon:"kebab"})))};__webpack_exports__.A=(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(Condensed),Condensed.__docgenInfo={description:"",methods:[],displayName:"Condensed",props:{title:{required:!0,tsType:{name:"string"},description:""},titleIcon:{required:!1,tsType:{name:"ReactElement"},description:""},avatar:{required:!0,tsType:{name:"union",raw:"ReactElement | boolean",elements:[{name:"ReactElement"},{name:"boolean"}]},description:""},icon:{required:!1,tsType:{name:"IconName"},description:""},actions:{required:!1,tsType:{name:"ReactElement"},description:""},href:{required:!1,tsType:{name:"string"},description:""},unread:{required:!1,tsType:{name:"boolean"},description:""},menu:{required:!1,tsType:{name:"signature",type:"function",raw:"() => ReactElement",signature:{arguments:[],return:{name:"ReactElement"}}},description:""},menuOptions:{required:!1,tsType:{name:"any"},description:""},selected:{required:!1,tsType:{name:"boolean"},description:""},badges:{required:!1,tsType:{name:"ReactElement"},description:""},clickable:{required:!1,tsType:{name:"boolean"},description:""}}}},"./client/sidebarv2/Item/Extended.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_hooks_useTimeAgo__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/hooks/useTimeAgo.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var Extended=function Extended(_ref){var icon=_ref.icon,title=_ref.title,avatar=_ref.avatar,actions=_ref.actions,href=_ref.href,time=_ref.time,menu=_ref.menu,_ref$subtitle=(_ref.menuOptions,_ref.subtitle),subtitle=void 0===_ref$subtitle?"":_ref$subtitle,badges=(_ref.titleIcon,_ref.badges),unread=(_ref.threadUnread,_ref.unread),selected=_ref.selected,formatDate=(0,_hooks_useTimeAgo__WEBPACK_IMPORTED_MODULE_3__.M)(),_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!!window.DISABLE_ANIMATION),2),menuVisibility=_useState2[0],setMenuVisibility=_useState2[1],handleMenuEvent=_defineProperty({},(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.usePrefersReducedMotion)()?"onMouseEnter":"onTransitionEnd",(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.useEffectEvent)((function(e){setMenuVisibility(e.target.offsetWidth>0&&Boolean(menu))})));return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2Item,{href:href,selected:selected},avatar&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemAvatarWrapper,null,avatar),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemCol,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemRow,null,icon&&icon,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemTitle,{unread:unread},title),time&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemTimestamp,null,formatDate(time))),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemRow,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemContent,{unread:unread},subtitle),badges&&badges,actions&&actions,menu&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemMenu,handleMenuEvent,menuVisibility?menu():react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tabIndex:-1,"aria-hidden":!0,mini:!0,"rcx-sidebar-v2-item__menu":!0,icon:"kebab"})))))};__webpack_exports__.A=(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(Extended),Extended.__docgenInfo={description:"",methods:[],displayName:"Extended",props:{icon:{required:!1,tsType:{name:"IconName"},description:""},title:{required:!0,tsType:{name:"string"},description:""},avatar:{required:!1,tsType:{name:"union",raw:"React.ReactNode | boolean",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"boolean"}]},description:""},actions:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},href:{required:!1,tsType:{name:"string"},description:""},time:{required:!1,tsType:{name:"any"},description:""},menu:{required:!1,tsType:{name:"signature",type:"function",raw:"() => React.ReactNode",signature:{arguments:[],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},subtitle:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:"''",computed:!1}},badges:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},unread:{required:!1,tsType:{name:"boolean"},description:""},selected:{required:!1,tsType:{name:"boolean"},description:""},menuOptions:{required:!1,tsType:{name:"any"},description:""},titleIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},threadUnread:{required:!1,tsType:{name:"boolean"},description:""}}}},"./client/sidebarv2/Item/Medium.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var Medium=function Medium(_ref){var icon=_ref.icon,title=_ref.title,avatar=_ref.avatar,actions=_ref.actions,href=_ref.href,badges=_ref.badges,unread=_ref.unread,menu=_ref.menu,selected=_ref.selected,_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!!window.DISABLE_ANIMATION),2),menuVisibility=_useState2[0],setMenuVisibility=_useState2[1],handleMenuEvent=_defineProperty({},(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.usePrefersReducedMotion)()?"onMouseEnter":"onTransitionEnd",(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.useEffectEvent)((function(e){setMenuVisibility(e.target.offsetWidth>0&&Boolean(menu))})));return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2Item,{href:href,selected:selected},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemAvatarWrapper,null,avatar),icon&&icon,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemTitle,{unread:unread},title),badges&&badges,actions&&actions,menu&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.SidebarV2ItemMenu,handleMenuEvent,menuVisibility?menu():react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tabIndex:-1,"aria-hidden":!0,mini:!0,"rcx-sidebar-v2-item__menu":!0,icon:"kebab"})))};__webpack_exports__.A=(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(Medium),Medium.__docgenInfo={description:"",methods:[],displayName:"Medium",props:{title:{required:!0,tsType:{name:"string"},description:""},titleIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},avatar:{required:!0,tsType:{name:"union",raw:"React.ReactNode | boolean",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"boolean"}]},description:""},icon:{required:!1,tsType:{name:"IconName"},description:""},actions:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},href:{required:!1,tsType:{name:"string"},description:""},unread:{required:!1,tsType:{name:"boolean"},description:""},menu:{required:!1,tsType:{name:"signature",type:"function",raw:"() => React.ReactNode",signature:{arguments:[],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},badges:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},selected:{required:!1,tsType:{name:"boolean"},description:""},menuOptions:{required:!1,tsType:{name:"any"},description:""}}}},"./client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Ay:function(){return RoomList_SidebarItemTemplateWithData},iC:function(){return getBadgeTitle},I4:function(){return getMessage}});var dist=__webpack_require__("../../packages/core-typings/dist/index.js"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),ui_contexts_dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),RoomIcon=__webpack_require__("./client/components/RoomIcon/index.tsx"),roomCoordinator=__webpack_require__("./client/lib/rooms/roomCoordinator.tsx"),isIOsDevice=__webpack_require__("./client/lib/utils/isIOsDevice.ts"),useOmnichannelPriorities=__webpack_require__("./client/omnichannel/hooks/useOmnichannelPriorities.ts"),index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),lib=__webpack_require__("../../node_modules/@tanstack/react-query/build/lib/index.js"),client=__webpack_require__("./app/ui-utils/client/index.ts"),IRoomTypeConfig=__webpack_require__("./definition/IRoomTypeConfig.ts"),GenericModal=__webpack_require__("./client/components/GenericModal/index.ts"),WarningModal=__webpack_require__("./client/components/WarningModal.tsx"),useDontAskAgain=__webpack_require__("./client/hooks/useDontAskAgain.ts"),useOmnichannelPrioritiesMenu=__webpack_require__("./client/omnichannel/hooks/useOmnichannelPrioritiesMenu.tsx");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["label"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}var fields={f:!0,t:!0,name:!0},closeEndpoints={p:"/v1/groups.close",c:"/v1/channels.close",d:"/v1/im.close",v:"/v1/channels.close",l:"/v1/groups.close"},leaveEndpoints={p:"/v1/groups.leave",c:"/v1/channels.leave",d:"/v1/im.leave",v:"/v1/channels.leave",l:"/v1/groups.leave"},RoomMenu=function RoomMenu(_ref){var rid=_ref.rid,unread=_ref.unread,threadUnread=_ref.threadUnread,alert=_ref.alert,roomOpen=_ref.roomOpen,type=_ref.type,cl=_ref.cl,_ref$name=_ref.name,name=void 0===_ref$name?"":_ref$name,_ref$hideDefaultOptio=_ref.hideDefaultOptions,hideDefaultOptions=void 0!==_ref$hideDefaultOptio&&_ref$hideDefaultOptio,t=(0,ui_contexts_dist.useTranslation)(),dispatchToastMessage=(0,ui_contexts_dist.useToastMessageDispatch)(),setModal=(0,ui_contexts_dist.useSetModal)(),closeModal=(0,index_module.useEffectEvent)((function(){return setModal()})),router=(0,ui_contexts_dist.useRouter)(),subscription=(0,ui_contexts_dist.useUserSubscription)(rid,fields),canFavorite=(0,ui_contexts_dist.useSetting)("Favorite_Rooms"),isFavorite=Boolean(null==subscription?void 0:subscription.f),dontAskHideRoom=(0,useDontAskAgain.m)("hideRoom"),hideRoom=(0,ui_contexts_dist.useEndpoint)("POST",closeEndpoints[type]),readMessages=(0,ui_contexts_dist.useEndpoint)("POST","/v1/subscriptions.read"),toggleFavorite=(0,ui_contexts_dist.useEndpoint)("POST","/v1/rooms.favorite"),leaveRoom=(0,ui_contexts_dist.useEndpoint)("POST",leaveEndpoints[type]),unreadMessages=(0,ui_contexts_dist.useMethod)("unreadMessages"),isUnread=alert||unread||threadUnread,canLeaveChannel=(0,ui_contexts_dist.usePermission)("leave-c"),canLeavePrivate=(0,ui_contexts_dist.usePermission)("leave-p"),isOmnichannelRoom="l"===type,prioritiesMenu=(0,useOmnichannelPrioritiesMenu.N)(rid),queryClient=(0,lib.useQueryClient)(),canLeave=!("c"===type&&!canLeaveChannel||"p"===type&&!canLeavePrivate||null!=cl&&!cl||["d","l"].includes(type)),handleLeave=(0,index_module.useEffectEvent)((function(){var leave=function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,leaveRoom({roomId:rid});case 3:roomOpen&&router.navigate("/home"),client.LegacyRoomManager.close(rid),_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(0),dispatchToastMessage({type:"error",message:_context.t0});case 10:closeModal();case 11:case"end":return _context.stop()}}),_callee,null,[[0,7]])})));return function leave(){return _ref2.apply(this,arguments)}}(),warnText=roomCoordinator.roomCoordinator.getRoomDirectives(type).getUiText(IRoomTypeConfig.XA.LEAVE_WARNING);setModal(react.createElement(WarningModal.A,{text:t(warnText,name),confirmText:t("Leave_room"),close:closeModal,cancelText:t("Cancel"),confirm:leave}))})),handleHide=(0,index_module.useEffectEvent)(_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var hide,warnText;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(hide=function(){var _ref4=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,hideRoom({roomId:rid});case 3:_context2.next=8;break;case 5:_context2.prev=5,_context2.t0=_context2.catch(0),dispatchToastMessage({type:"error",message:_context2.t0});case 8:closeModal();case 9:case"end":return _context2.stop()}}),_callee2,null,[[0,5]])})));return function hide(){return _ref4.apply(this,arguments)}}(),warnText=roomCoordinator.roomCoordinator.getRoomDirectives(type).getUiText(IRoomTypeConfig.XA.HIDE_WARNING),!dontAskHideRoom){_context3.next=4;break}return _context3.abrupt("return",hide());case 4:setModal(react.createElement(GenericModal.y,{variant:"danger",confirmText:t("Yes_hide_it"),cancelText:t("Cancel"),onClose:closeModal,onCancel:closeModal,onConfirm:hide,dontAskAgain:{action:"hideRoom",label:t("Hide_room")}},t(warnText,name)));case 5:case"end":return _context3.stop()}}),_callee3)})))),handleToggleRead=(0,index_module.useEffectEvent)(_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(_context4.prev=0,queryClient.invalidateQueries(["sidebar/search/spotlight"]),!isUnread){_context4.next=6;break}return _context4.next=5,readMessages({rid:rid,readThreads:!0});case 5:return _context4.abrupt("return");case 6:if(null!=subscription){_context4.next=8;break}return _context4.abrupt("return");case 8:return client.LegacyRoomManager.close(subscription.t+subscription.name),router.navigate("/home"),_context4.next=12,unreadMessages(void 0,rid);case 12:_context4.next=17;break;case 14:_context4.prev=14,_context4.t0=_context4.catch(0),dispatchToastMessage({type:"error",message:_context4.t0});case 17:case"end":return _context4.stop()}}),_callee4,null,[[0,14]])})))),handleToggleFavorite=(0,index_module.useEffectEvent)(_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(){return _regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.prev=0,_context5.next=3,toggleFavorite({roomId:rid,favorite:!isFavorite});case 3:_context5.next=8;break;case 5:_context5.prev=5,_context5.t0=_context5.catch(0),dispatchToastMessage({type:"error",message:_context5.t0});case 8:case"end":return _context5.stop()}}),_callee5,null,[[0,5]])})))),menuOptions=(0,react.useMemo)((function(){return _objectSpread(_objectSpread({},!hideDefaultOptions&&_objectSpread(_objectSpread({hideRoom:{label:{label:t("Hide"),icon:"eye-off"},action:handleHide},toggleRead:{label:{label:t(isUnread?"Mark_read":"Mark_unread"),icon:"flag"},action:handleToggleRead}},canFavorite?{toggleFavorite:{label:{label:t(isFavorite?"Unfavorite":"Favorite"),icon:isFavorite?"star-filled":"star"},action:handleToggleFavorite}}:{}),canLeave&&{leaveRoom:{label:{label:t("Leave_room"),icon:"sign-out"},action:handleLeave}})),isOmnichannelRoom&&prioritiesMenu)}),[hideDefaultOptions,t,handleHide,isUnread,handleToggleRead,canFavorite,isFavorite,handleToggleFavorite,canLeave,handleLeave,isOmnichannelRoom,prioritiesMenu]);return react.createElement(fuselage.Menu,{"rcx-sidebar-item__menu":!0,title:t("Options"),mini:!0,"aria-keyshortcuts":"alt",options:menuOptions,maxHeight:300,renderItem:function renderItem(_ref7){var _ref7$label=_ref7.label,label=_ref7$label.label,icon=_ref7$label.icon,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref7,_excluded);return react.createElement(fuselage.Option,_extends({label:label,icon:icon},props))}})},sidebarv2_RoomMenu=(0,react.memo)(RoomMenu);RoomMenu.__docgenInfo={description:"",methods:[],displayName:"RoomMenu",props:{rid:{required:!0,tsType:{name:"string"},description:""},unread:{required:!1,tsType:{name:"boolean"},description:""},threadUnread:{required:!1,tsType:{name:"boolean"},description:""},alert:{required:!1,tsType:{name:"boolean"},description:""},roomOpen:{required:!1,tsType:{name:"boolean"},description:""},type:{required:!0,tsType:{name:"RoomType"},description:""},cl:{required:!1,tsType:{name:"boolean"},description:""},name:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},hideDefaultOptions:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};var RoomActivityIcon=__webpack_require__("./client/omnichannel/components/RoomActivityIcon/index.tsx"),PriorityIcon=__webpack_require__("./client/omnichannel/priorities/PriorityIcon.tsx"),OmnichannelBadges=function OmnichannelBadges(_ref){var room=_ref.room,isPriorityEnabled=(0,useOmnichannelPriorities.Y)().enabled;return(0,dist.isOmnichannelRoom)(room)?react.createElement(react.Fragment,null,isPriorityEnabled?react.createElement(PriorityIcon.w,{level:room.priorityWeight}):null,react.createElement(RoomActivityIcon.s,{room:room})):null};OmnichannelBadges.__docgenInfo={description:"",methods:[],displayName:"OmnichannelBadges",props:{room:{required:!0,tsType:{name:"intersection",raw:"ISubscription & IRoom",elements:[{name:"ISubscription"},{name:"IRoom"}]},description:""}}};var esm=__webpack_require__("./node_modules/@rocket.chat/string-helpers/dist/esm/index.js"),emojione=__webpack_require__("./node_modules/emojione/lib/js/emojione.js"),emojione_default=__webpack_require__.n(emojione),markdown=__webpack_require__("./app/markdown/lib/markdown.js"),normalizeSidebarMessage=function normalizeSidebarMessage(message,t){if(message.msg)return(0,esm.Zn)((0,markdown.AM)(emojione_default().shortnameToUnicode(message.msg)));if(message.attachments){var attachment=message.attachments.find((function(attachment){return attachment.title||attachment.description}));return null!=attachment&&attachment.description?(0,esm.Zn)(attachment.description):null!=attachment&&attachment.title?(0,esm.Zn)(attachment.title):t("Sent_an_attachment")}},getMessage=function getMessage(room,lastMessage,t){var _lastMessage$u,_room$u;return lastMessage?(0,dist.isVideoConfMessage)(lastMessage)?t("Call_started"):lastMessage.u?(null===(_lastMessage$u=lastMessage.u)||void 0===_lastMessage$u?void 0:_lastMessage$u.username)===(null===(_room$u=room.u)||void 0===_room$u?void 0:_room$u.username)?"".concat(t("You"),": ").concat(normalizeSidebarMessage(lastMessage,t)):(0,dist.isDirectMessageRoom)(room)&&!(0,dist.isMultipleDirectMessageRoom)(room)?normalizeSidebarMessage(lastMessage,t):"".concat(lastMessage.u.name||lastMessage.u.username,": ").concat(normalizeSidebarMessage(lastMessage,t)):normalizeSidebarMessage(lastMessage,t):t("No_messages_yet")},getBadgeTitle=function getBadgeTitle(userMentions,threadUnread,groupMentions,unread,t){var title=[];userMentions&&title.push(t("mentions_counter",{count:userMentions})),threadUnread&&title.push(t("threads_counter",{count:threadUnread})),groupMentions&&title.push(t("group_mentions_counter",{count:groupMentions}));var count=unread-userMentions-groupMentions;return count>0&&title.push(t("unread_messages_counter",{count:count})),title.join(", ")},SidebarItemTemplateWithData=function SidebarItemTemplateWithData(_ref){var room=_ref.room,id=_ref.id,selected=_ref.selected,style=_ref.style,extended=_ref.extended,SidebarItemTemplate=_ref.SidebarItemTemplate,AvatarTemplate=_ref.AvatarTemplate,t=_ref.t,isAnonymous=_ref.isAnonymous,videoConfActions=_ref.videoConfActions,sidebar=(0,ui_contexts_dist.useLayout)().sidebar,href=roomCoordinator.roomCoordinator.getRouteLink(room.t,room)||"",title=roomCoordinator.roomCoordinator.getRoomName(room.t,room)||"",lastMessage=room.lastMessage,hideUnreadStatus=room.hideUnreadStatus,hideMentionStatus=room.hideMentionStatus,_room$unread=room.unread,unread=void 0===_room$unread?0:_room$unread,alert=room.alert,userMentions=room.userMentions,groupMentions=room.groupMentions,_room$tunread=room.tunread,tunread=void 0===_room$tunread?[]:_room$tunread,_room$tunreadUser=room.tunreadUser,tunreadUser=void 0===_room$tunreadUser?[]:_room$tunreadUser,rid=room.rid,type=room.t,cl=room.cl,highlighted=Boolean(!hideUnreadStatus&&(alert||unread)),icon=react.createElement(fuselage.SidebarV2ItemIcon,{highlighted:highlighted,icon:react.createElement(RoomIcon.R,{room:room,placement:"sidebar",size:"x20",isIncomingCall:Boolean(videoConfActions)})}),actions=(0,react.useMemo)((function(){return videoConfActions&&react.createElement(fuselage.SidebarV2Actions,null,react.createElement(fuselage.SidebarV2Action,{onClick:videoConfActions.acceptCall,mini:!0,secondary:!0,success:!0,icon:"phone"}),react.createElement(fuselage.SidebarV2Action,{onClick:videoConfActions.rejectCall,mini:!0,secondary:!0,danger:!0,icon:"phone-off"}))}),[videoConfActions]),isQueued=(0,dist.isOmnichannelRoom)(room)&&"queued"===room.status,isPriorityEnabled=(0,useOmnichannelPriorities.Y)().enabled,message=extended&&getMessage(room,lastMessage,t),subtitle=message?react.createElement("span",{className:"message-body--unstyled",dangerouslySetInnerHTML:{__html:message}}):null,threadUnread=tunread.length>0,variant=(userMentions||tunreadUser.length?"danger":threadUnread&&"primary")||groupMentions&&"warning"||"secondary",isUnread=unread>0||threadUnread,showBadge=!hideUnreadStatus||!hideMentionStatus&&(Boolean(userMentions)||tunreadUser.length>0),badgeTitle=getBadgeTitle(userMentions,tunread.length,groupMentions,unread,t),badges=react.createElement(react.Fragment,null,showBadge&&isUnread&&react.createElement(fuselage.SidebarV2ItemBadge,{variant:variant,title:badgeTitle},unread+(null==tunread?void 0:tunread.length)),(0,dist.isOmnichannelRoom)(room)&&react.createElement(OmnichannelBadges,{room:room}));return react.createElement(SidebarItemTemplate,{is:"a",id:id,"data-qa":"sidebar-item","data-unread":highlighted,unread:highlighted,selected:selected,href:href,onClick:function onClick(){!selected&&sidebar.toggle()},"aria-label":title,title:title,time:null==lastMessage?void 0:lastMessage.ts,subtitle:subtitle,icon:icon,style:style,badges:badges,avatar:AvatarTemplate&&react.createElement(AvatarTemplate,room),actions:actions,menu:!isIOsDevice.o&&!isAnonymous&&(!isQueued||isQueued&&isPriorityEnabled)&&function(){return react.createElement(sidebarv2_RoomMenu,{alert:alert,threadUnread:threadUnread,rid:rid,unread:!!unread,roomOpen:selected,type:type,cl:cl,name:title,hideDefaultOptions:isQueued})}})};var keys=["id","style","extended","selected","SidebarItemTemplate","AvatarTemplate","t","sidebarViewMode","videoConfActions"],RoomList_SidebarItemTemplateWithData=(0,react.memo)(SidebarItemTemplateWithData,(function(prevProps,nextProps){var _prevProps$room$_upda,_nextProps$room$_upda,_prevProps$room$lastM,_nextProps$room$lastM,_prevProps$room,_nextProps$room;return!keys.some((function(key){return prevProps[key]!==nextProps[key]}))&&(prevProps.room===nextProps.room||prevProps.room._id===nextProps.room._id&&((null===(_prevProps$room$_upda=prevProps.room._updatedAt)||void 0===_prevProps$room$_upda?void 0:_prevProps$room$_upda.toISOString())===(null===(_nextProps$room$_upda=nextProps.room._updatedAt)||void 0===_nextProps$room$_upda?void 0:_nextProps$room$_upda.toISOString())&&(!function safeDateNotEqualCheck(a,b){return a&&b?new Date(a).toISOString()!==new Date(b).toISOString():a!==b}(null===(_prevProps$room$lastM=prevProps.room.lastMessage)||void 0===_prevProps$room$lastM?void 0:_prevProps$room$lastM._updatedAt,null===(_nextProps$room$lastM=nextProps.room.lastMessage)||void 0===_nextProps$room$lastM?void 0:_nextProps$room$lastM._updatedAt)&&(prevProps.room.alert===nextProps.room.alert&&((!(0,dist.isOmnichannelRoom)(prevProps.room)||!(0,dist.isOmnichannelRoom)(nextProps.room)||(null===(_prevProps$room=prevProps.room)||void 0===_prevProps$room||null===(_prevProps$room=_prevProps$room.v)||void 0===_prevProps$room?void 0:_prevProps$room.status)===(null===(_nextProps$room=nextProps.room)||void 0===_nextProps$room||null===(_nextProps$room=_nextProps$room.v)||void 0===_nextProps$room?void 0:_nextProps$room.status))&&(prevProps.room.teamMain===nextProps.room.teamMain&&(!(0,dist.isOmnichannelRoom)(prevProps.room)||!(0,dist.isOmnichannelRoom)(nextProps.room)||prevProps.room.priorityWeight===nextProps.room.priorityWeight)))))))}));SidebarItemTemplateWithData.__docgenInfo={description:"",methods:[],displayName:"SidebarItemTemplateWithData",props:{extended:{required:!0,tsType:{name:"boolean"},description:""},t:{required:!0,tsType:{name:"ReturnType",elements:[{name:"useTranslation"}],raw:"ReturnType<typeof useTranslation>"},description:""},SidebarItemTemplate:{required:!0,tsType:{name:"ComponentType",elements:[{name:"intersection",raw:"{\n\ticon: ReactNode;\n\ttitle: ReactNode;\n\tavatar: ReactNode;\n\tactions: unknown;\n\thref: string;\n\ttime?: Date;\n\tmenu?: ReactNode;\n\tmenuOptions?: unknown;\n\tsubtitle?: ReactNode;\n\ttitleIcon?: string;\n\tbadges?: ReactNode;\n\tthreadUnread?: boolean;\n\tunread?: boolean;\n\tselected?: boolean;\n\tis?: string;\n} & AllHTMLAttributes<HTMLElement>",elements:[{name:"signature",type:"object",raw:"{\n\ticon: ReactNode;\n\ttitle: ReactNode;\n\tavatar: ReactNode;\n\tactions: unknown;\n\thref: string;\n\ttime?: Date;\n\tmenu?: ReactNode;\n\tmenuOptions?: unknown;\n\tsubtitle?: ReactNode;\n\ttitleIcon?: string;\n\tbadges?: ReactNode;\n\tthreadUnread?: boolean;\n\tunread?: boolean;\n\tselected?: boolean;\n\tis?: string;\n}",signature:{properties:[{key:"icon",value:{name:"ReactNode",required:!0}},{key:"title",value:{name:"ReactNode",required:!0}},{key:"avatar",value:{name:"ReactNode",required:!0}},{key:"actions",value:{name:"unknown",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"time",value:{name:"Date",required:!1}},{key:"menu",value:{name:"ReactNode",required:!1}},{key:"menuOptions",value:{name:"unknown",required:!1}},{key:"subtitle",value:{name:"ReactNode",required:!1}},{key:"titleIcon",value:{name:"string",required:!1}},{key:"badges",value:{name:"ReactNode",required:!1}},{key:"threadUnread",value:{name:"boolean",required:!1}},{key:"unread",value:{name:"boolean",required:!1}},{key:"selected",value:{name:"boolean",required:!1}},{key:"is",value:{name:"string",required:!1}}]}},{name:"AllHTMLAttributes",elements:[{name:"HTMLElement"}],raw:"AllHTMLAttributes<HTMLElement>"}]}],raw:"ComponentType<\n\t{\n\t\ticon: ReactNode;\n\t\ttitle: ReactNode;\n\t\tavatar: ReactNode;\n\t\tactions: unknown;\n\t\thref: string;\n\t\ttime?: Date;\n\t\tmenu?: ReactNode;\n\t\tmenuOptions?: unknown;\n\t\tsubtitle?: ReactNode;\n\t\ttitleIcon?: string;\n\t\tbadges?: ReactNode;\n\t\tthreadUnread?: boolean;\n\t\tunread?: boolean;\n\t\tselected?: boolean;\n\t\tis?: string;\n\t} & AllHTMLAttributes<HTMLElement>\n>"},description:""},AvatarTemplate:{required:!0,tsType:{name:"ReturnType",elements:[{name:"useAvatarTemplate"}],raw:"ReturnType<typeof useAvatarTemplate>"},description:""},openedRoom:{required:!1,tsType:{name:"string"},description:""},isAnonymous:{required:!1,tsType:{name:"boolean"},description:""},room:{required:!0,tsType:{name:"intersection",raw:"ISubscription & IRoom",elements:[{name:"ISubscription"},{name:"IRoom"}]},description:""},id:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"AllHTMLAttributes['style']",raw:"AllHTMLAttributes<HTMLElement>['style']"},description:""},selected:{required:!1,tsType:{name:"boolean"},description:""},sidebarViewMode:{required:!1,tsType:{name:"unknown"},description:""},videoConfActions:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n\t[action: string]: () => void;\n}",signature:{properties:[{key:{name:"string"},value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}}]}},description:""}}}},"./client/sidebarv2/hooks/useAvatarTemplate.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{h:function(){return useAvatarTemplate}});var _rocket_chat_ui_avatar__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-avatar/dist/index.js"),_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var useAvatarTemplate=function useAvatarTemplate(sidebarViewMode,sidebarDisplayAvatar){var sidebarViewModeFromSettings=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useUserPreference)("sidebarViewMode"),sidebarDisplayAvatarFromSettings=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useUserPreference)("sidebarDisplayAvatar"),viewMode=null!=sidebarViewMode?sidebarViewMode:sidebarViewModeFromSettings,displayAvatar=null!=sidebarDisplayAvatar?sidebarDisplayAvatar:sidebarDisplayAvatarFromSettings;return(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){if(!displayAvatar)return null;var size=function(){switch(viewMode){case"extended":return"x36";case"medium":return"x28";default:return"x20"}}();return function renderRoomAvatar(room){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_ui_avatar__WEBPACK_IMPORTED_MODULE_0__.dD,{size:size,room:_objectSpread(_objectSpread({},room),{},{_id:room.rid||room._id,type:room.t})})}}),[displayAvatar,viewMode])}},"./client/sidebarv2/hooks/useTemplateByViewMode.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return useTemplateByViewMode}});var _rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_Item_Condensed__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/sidebarv2/Item/Condensed.tsx"),_Item_Extended__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/sidebarv2/Item/Extended.tsx"),_Item_Medium__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./client/sidebarv2/Item/Medium.tsx"),useTemplateByViewMode=function useTemplateByViewMode(){var sidebarViewMode=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useUserPreference)("sidebarViewMode");return(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){switch(sidebarViewMode){case"extended":return _Item_Extended__WEBPACK_IMPORTED_MODULE_3__.A;case"medium":return _Item_Medium__WEBPACK_IMPORTED_MODULE_4__.A;default:return _Item_Condensed__WEBPACK_IMPORTED_MODULE_2__.A}}),[sidebarViewMode])}},"./client/views/room/Header/HeaderSkeleton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_components_Header__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/components/Header/index.ts"),HeaderSkeleton=function HeaderSkeleton(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_Header__WEBPACK_IMPORTED_MODULE_2__.Y9,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_Header__WEBPACK_IMPORTED_MODULE_2__.vr,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Skeleton,{variant:"rect",width:36,height:36})),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_Header__WEBPACK_IMPORTED_MODULE_2__.V,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_Header__WEBPACK_IMPORTED_MODULE_2__.LY,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Skeleton,{width:"10%"})),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_Header__WEBPACK_IMPORTED_MODULE_2__.LY,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Skeleton,{width:"30%"}))))};__webpack_exports__.A=HeaderSkeleton,HeaderSkeleton.__docgenInfo={description:"",methods:[],displayName:"HeaderSkeleton"}},"./client/views/room/HeaderV2/HeaderSkeleton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_components_Header__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/components/Header/index.ts"),HeaderSkeleton=function HeaderSkeleton(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_Header__WEBPACK_IMPORTED_MODULE_2__.Y9,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_Header__WEBPACK_IMPORTED_MODULE_2__.vr,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Skeleton,{variant:"rect",width:28,height:28})),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_Header__WEBPACK_IMPORTED_MODULE_2__.V,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_Header__WEBPACK_IMPORTED_MODULE_2__.LY,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Skeleton,{width:"25%"}))))};__webpack_exports__.A=HeaderSkeleton,HeaderSkeleton.__docgenInfo={description:"",methods:[],displayName:"HeaderSkeleton"}},"./client/views/room/RoomSkeleton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return room_RoomSkeleton}});var dist=__webpack_require__("../../packages/ui-client/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),availablePercentualWidths=[47,68,75,82],MessageListSkeleton=function MessageListSkeleton(_ref){var _ref$messageCount=_ref.messageCount,messageCount=void 0===_ref$messageCount?2:_ref$messageCount,widths=(0,react.useMemo)((function(){return Array.from({length:messageCount},(function(_,index){return"".concat(availablePercentualWidths[index%availablePercentualWidths.length],"%")}))}),[messageCount]);return react.createElement(fuselage.Box,{display:"flex",height:"100%",justifyContent:"flex-start",flexDirection:"column"},widths.map((function(width,index){return react.createElement(fuselage.Box,{key:index,pi:24,pb:16,display:"flex"},react.createElement(fuselage.Box,null,react.createElement(fuselage.Skeleton,{variant:"rect",width:36,height:36})),react.createElement(fuselage.Box,{mis:8,flexGrow:1},react.createElement(fuselage.Skeleton,{width:"100%"}),react.createElement(fuselage.Skeleton,{width:width})))})))},list_MessageListSkeleton=(0,react.memo)(MessageListSkeleton);MessageListSkeleton.__docgenInfo={description:"",methods:[],displayName:"MessageListSkeleton",props:{messageCount:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"2",computed:!1}}}};var HeaderSkeleton=__webpack_require__("./client/views/room/Header/HeaderSkeleton.tsx"),HeaderV2_HeaderSkeleton=__webpack_require__("./client/views/room/HeaderV2/HeaderSkeleton.tsx"),ComposerSkeleton=__webpack_require__("./client/views/room/composer/ComposerSkeleton.tsx"),RoomComposer=__webpack_require__("./client/views/room/composer/RoomComposer/RoomComposer.tsx"),RoomComposerSkeleton=function RoomComposerSkeleton(){return react.createElement(RoomComposer.A,null,react.createElement(ComposerSkeleton.A,null))},RoomComposer_RoomComposerSkeleton=(0,react.memo)(RoomComposerSkeleton);RoomComposerSkeleton.__docgenInfo={description:"",methods:[],displayName:"RoomComposerSkeleton"};var RoomLayout=__webpack_require__("./client/views/room/layout/RoomLayout.tsx"),RoomSkeleton=function RoomSkeleton(){return react.createElement(RoomLayout.default,{header:react.createElement(dist.TW,{feature:"newNavigation"},react.createElement(dist.sl,null,react.createElement(HeaderSkeleton.A,null)),react.createElement(dist.Uq,null,react.createElement(HeaderV2_HeaderSkeleton.A,null))),body:react.createElement(react.Fragment,null,react.createElement(list_MessageListSkeleton,null),react.createElement(RoomComposer_RoomComposerSkeleton,null))})},room_RoomSkeleton=RoomSkeleton;RoomSkeleton.__docgenInfo={description:"",methods:[],displayName:"RoomSkeleton"}},"./client/views/room/composer/ComposerSkeleton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_ui_composer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-composer/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),ComposerSkeleton=function ComposerSkeleton(){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_ui_composer__WEBPACK_IMPORTED_MODULE_1__.LZ,null),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Box,{height:"x24"}))};__webpack_exports__.A=ComposerSkeleton,ComposerSkeleton.__docgenInfo={description:"",methods:[],displayName:"ComposerSkeleton"}},"./client/views/room/composer/RoomComposer/RoomComposer.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_excluded=["children"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var RoomComposer=function RoomComposer(_ref){var children=_ref.children,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("footer",_extends({className:"rc-message-box footer"},props),children)};__webpack_exports__.A=RoomComposer,RoomComposer.__docgenInfo={description:"",methods:[],displayName:"RoomComposer"}},"./client/views/room/contexts/ChatContext.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return ChatContext},Y:function(){return useChat}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),ChatContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0),useChat=function useChat(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ChatContext)}},"./client/views/room/contexts/UserCardContext.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{F:function(){return UserCardContext},P:function(){return useUserCard}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),UserCardContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({openUserCard:function openUserCard(){},closeUserCard:function closeUserCard(){},triggerProps:{},triggerRef:{current:null},state:{isOpen:!1,setOpen:function setOpen(){},open:function open(){},close:function close(){},toggle:function toggle(){}}}),useUserCard=function useUserCard(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(UserCardContext)}},"./client/views/room/hooks/useGoToRoom.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return useGoToRoom}});var _rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),_app_models_client__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/models/client/index.ts"),_lib_rooms_roomCoordinator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/lib/rooms/roomCoordinator.tsx");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}var useGoToRoom=function useGoToRoom(){var _ref$replace=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).replace,replace=void 0!==_ref$replace&&_ref$replace,getRoomById=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useMethod)("getRoomById"),router=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useRouter)();return(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_0__.useMutableCallback)(function(){var _ref2=function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(rid){var subscription,room;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(rid){_context.next=2;break}return _context.abrupt("return");case 2:if(!(subscription=_app_models_client__WEBPACK_IMPORTED_MODULE_2__.ChatSubscription.findOne({rid:rid}))){_context.next=6;break}return _lib_rooms_roomCoordinator__WEBPACK_IMPORTED_MODULE_3__.roomCoordinator.openRouteLink(subscription.t,subscription,router.getSearchParameters(),{replace:replace}),_context.abrupt("return");case 6:return _context.next=8,getRoomById(rid);case 8:room=_context.sent,_lib_rooms_roomCoordinator__WEBPACK_IMPORTED_MODULE_3__.roomCoordinator.openRouteLink(room.t,_objectSpread({rid:room._id},room),router.getSearchParameters(),{replace:replace});case 10:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref2.apply(this,arguments)}}())}},"./client/views/room/layout/RoomLayout.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),_rocket_chat_fuselage_tokens_breakpoints_json__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@rocket.chat/fuselage-tokens/breakpoints.json"),_rocket_chat_ui_client__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../packages/ui-client/dist/index.js"),_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/index.js"),_components_Contextualbar__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./client/components/Contextualbar/index.ts"),_Header_HeaderSkeleton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./client/views/room/Header/HeaderSkeleton.tsx"),_HeaderV2_HeaderSkeleton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./client/views/room/HeaderV2/HeaderSkeleton.tsx");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["header","body","footer","aside"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var RoomLayout=function RoomLayout(_ref3){var header=_ref3.header,body=_ref3.body,footer=_ref3.footer,aside=_ref3.aside,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref3,_excluded),_useBreakpointsElemen=function useBreakpointsElement(){var _useResizeObserver=(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.useResizeObserver)({debounceDelay:30}),ref=_useResizeObserver.ref,borderBoxSize=_useResizeObserver.borderBoxSize;return{ref:ref,breakpoints:(0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)((function(){return _rocket_chat_fuselage_tokens_breakpoints_json__WEBPACK_IMPORTED_MODULE_2__.filter((function(_ref){var minViewportWidth=_ref.minViewportWidth;return minViewportWidth&&borderBoxSize.inlineSize&&borderBoxSize.inlineSize>=minViewportWidth})).map((function(_ref2){return _ref2.name}))}),[borderBoxSize])}}(),ref=_useBreakpointsElemen.ref,breakpoints=_useBreakpointsElemen.breakpoints,contextualbarPosition=breakpoints.includes("md")?"relative":"absolute",contextualbarSize=breakpoints.includes("sm")?breakpoints.includes("xl")?"38%":"380px":"100%",layout=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_4__.useLayout)();return react__WEBPACK_IMPORTED_MODULE_5__.createElement(_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_4__.LayoutContext.Provider,{value:(0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)((function(){return _objectSpread(_objectSpread({},layout),{},{contextualBarPosition:contextualbarPosition,size:_objectSpread(_objectSpread({},layout.size),{},{contextualBar:contextualbarSize})})}),[layout,contextualbarPosition,contextualbarSize])},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Box,_extends({h:"full",w:"full",display:"flex",flexDirection:"column",bg:"room"},props,{ref:ref}),react__WEBPACK_IMPORTED_MODULE_5__.createElement(react__WEBPACK_IMPORTED_MODULE_5__.Suspense,{fallback:react__WEBPACK_IMPORTED_MODULE_5__.createElement(_rocket_chat_ui_client__WEBPACK_IMPORTED_MODULE_3__.TW,{feature:"newNavigation"},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_rocket_chat_ui_client__WEBPACK_IMPORTED_MODULE_3__.sl,null,react__WEBPACK_IMPORTED_MODULE_5__.createElement(_Header_HeaderSkeleton__WEBPACK_IMPORTED_MODULE_7__.A,null)),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_rocket_chat_ui_client__WEBPACK_IMPORTED_MODULE_3__.Uq,null,react__WEBPACK_IMPORTED_MODULE_5__.createElement(_HeaderV2_HeaderSkeleton__WEBPACK_IMPORTED_MODULE_8__.A,null)))},header),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Box,{display:"flex",flexGrow:1,overflow:"hidden",height:"full",position:"relative"},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Box,{display:"flex",flexDirection:"column",flexGrow:1,minWidth:0},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Box,{is:"div",display:"flex",flexDirection:"column",flexGrow:1},react__WEBPACK_IMPORTED_MODULE_5__.createElement(react__WEBPACK_IMPORTED_MODULE_5__.Suspense,{fallback:null},body)),footer&&react__WEBPACK_IMPORTED_MODULE_5__.createElement(react__WEBPACK_IMPORTED_MODULE_5__.Suspense,{fallback:null},footer)),aside&&react__WEBPACK_IMPORTED_MODULE_5__.createElement(_components_Contextualbar__WEBPACK_IMPORTED_MODULE_6__.zu,{position:contextualbarPosition},react__WEBPACK_IMPORTED_MODULE_5__.createElement(react__WEBPACK_IMPORTED_MODULE_5__.Suspense,{fallback:null},aside)))))};__webpack_exports__.default=RoomLayout,RoomLayout.__docgenInfo={description:"",methods:[],displayName:"RoomLayout",props:{header:{required:!1,tsType:{name:"ReactNode"},description:""},body:{required:!1,tsType:{name:"ReactNode"},description:""},footer:{required:!1,tsType:{name:"ReactNode"},description:""},aside:{required:!1,tsType:{name:"ReactNode"},description:""}}}},"./definition/IRoomTypeConfig.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Iq:function(){return RoomSettingsEnum},XA:function(){return UiTextContext},b6:function(){return RoomMemberActions}});var RoomSettingsEnum={TYPE:"type",NAME:"roomName",TOPIC:"roomTopic",ANNOUNCEMENT:"roomAnnouncement",DESCRIPTION:"roomDescription",READ_ONLY:"readOnly",REACT_WHEN_READ_ONLY:"reactWhenReadOnly",ARCHIVE_OR_UNARCHIVE:"archiveOrUnarchive",JOIN_CODE:"joinCode",BROADCAST:"broadcast",SYSTEM_MESSAGES:"systemMessages",E2E:"encrypted"},RoomMemberActions={ARCHIVE:"archive",IGNORE:"ignore",BLOCK:"block",MUTE:"mute",SET_AS_OWNER:"setAsOwner",SET_AS_LEADER:"setAsLeader",SET_AS_MODERATOR:"setAsModerator",LEAVE:"leave",REMOVE_USER:"removeUser",JOIN:"join",INVITE:"invite"},UiTextContext={HIDE_WARNING:"hideWarning",LEAVE_WARNING:"leaveWarning"}},"./lib/callbacks.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return callbacks}});var main_client=__webpack_require__("../../packages/random/dist/main.client.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}var CallbackPriority=function(CallbackPriority){return CallbackPriority[CallbackPriority.HIGH=-1e3]="HIGH",CallbackPriority[CallbackPriority.MEDIUM=0]="MEDIUM",CallbackPriority[CallbackPriority.LOW=1e3]="LOW",CallbackPriority}(CallbackPriority||{}),Callbacks=function(){function Callbacks(){!function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,Callbacks),_defineProperty(this,"logger",void 0),_defineProperty(this,"trackCallback",void 0),_defineProperty(this,"trackHook",void 0),_defineProperty(this,"callbacks",new Map),_defineProperty(this,"sequentialRunners",new Map),_defineProperty(this,"asyncRunners",new Map),_defineProperty(this,"priority",CallbackPriority)}return function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(Callbacks,[{key:"setLogger",value:function setLogger(logger){this.logger=logger}},{key:"setMetricsTrackers",value:function setMetricsTrackers(_ref){var trackCallback=_ref.trackCallback,trackHook=_ref.trackHook;this.trackCallback=trackCallback,this.trackHook=trackHook}},{key:"runOne",value:function runOne(callback,item,constant){var _this$trackCallback,stopTracking=null===(_this$trackCallback=this.trackCallback)||void 0===_this$trackCallback?void 0:_this$trackCallback.call(this,callback);return Promise.resolve(callback(item,constant)).finally(stopTracking)}},{key:"createSequentialRunner",value:function createSequentialRunner(hook,callbacks){var _this=this,fn=callbacks.map((function wrapCallback(callback){return function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(item,constant){var _this$logger,_yield$_this$runOne;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return null===(_this$logger=_this.logger)||void 0===_this$logger||_this$logger.debug("Executing callback with id ".concat(callback.id," for hook ").concat(callback.hook)),_context.next=3,_this.runOne(callback,item,constant);case 3:if(_context.t1=_yield$_this$runOne=_context.sent,_context.t0=null!==_context.t1,!_context.t0){_context.next=7;break}_context.t0=void 0!==_yield$_this$runOne;case 7:if(!_context.t0){_context.next=11;break}_context.t2=_yield$_this$runOne,_context.next=12;break;case 11:_context.t2=item;case 12:return _context.abrupt("return",_context.t2);case 13:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref2.apply(this,arguments)}}()})).reduce((function pipe(curr,next){return function(){var _ref3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(item,constant){return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.t0=next,_context2.next=3,curr(item,constant);case 3:return _context2.t1=_context2.sent,_context2.t2=constant,_context2.abrupt("return",(0,_context2.t0)(_context2.t1,_context2.t2));case 6:case"end":return _context2.stop()}}),_callee2)})));return function(_x3,_x4){return _ref3.apply(this,arguments)}}()}),(function identity(item){return Promise.resolve(item)}));return function(){var _ref4=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(item,constant){var _this$trackHook,stopTracking;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return stopTracking=null===(_this$trackHook=_this.trackHook)||void 0===_this$trackHook?void 0:_this$trackHook.call(_this,{hook:hook,length:callbacks.length}),_context3.abrupt("return",fn(item,constant).finally((function(){return null==stopTracking?void 0:stopTracking()})));case 2:case"end":return _context3.stop()}}),_callee3)})));return function(_x5,_x6){return _ref4.apply(this,arguments)}}()}},{key:"createAsyncRunner",value:function createAsyncRunner(_,callbacks){var _this2=this;return function(item,constant){if("undefined"!=typeof window)throw new Error("callbacks.runAsync on client server not allowed");var _step,_iterator=_createForOfIteratorHelper(callbacks);try{var _loop=function _loop(){var callback=_step.value;setTimeout((function(){_this2.runOne(callback,item,constant)}),0)};for(_iterator.s();!(_step=_iterator.n()).done;)_loop()}catch(err){_iterator.e(err)}finally{_iterator.f()}return item}}},{key:"getCallbacks",value:function getCallbacks(hook){var _this$callbacks$get;return null!==(_this$callbacks$get=this.callbacks.get(hook))&&void 0!==_this$callbacks$get?_this$callbacks$get:[]}},{key:"setCallbacks",value:function setCallbacks(hook,callbacks){this.callbacks.set(hook,callbacks),this.sequentialRunners.set(hook,this.createSequentialRunner(hook,callbacks)),this.asyncRunners.set(hook,this.createAsyncRunner(hook,callbacks))}},{key:"add",value:function add(hook,callback){var _this3=this,priority=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.priority.MEDIUM,id=arguments.length>3&&void 0!==arguments[3]?arguments[3]:main_client.o.id(),callbacks=this.getCallbacks(hook);callbacks.some((function(cb){return cb.id===id}))||(callbacks.push(Object.assign(callback,{hook:hook,priority:priority,id:id,stack:(new Error).stack})),callbacks.sort(function compareByRanking(rank){return function(a,b){return rank(a)-rank(b)}}((function(callback){var _callback$priority;return null!==(_callback$priority=callback.priority)&&void 0!==_callback$priority?_callback$priority:_this3.priority.MEDIUM}))),this.setCallbacks(hook,callbacks))}},{key:"remove",value:function remove(hook,id){var hooks=this.getCallbacks(hook).filter((function(callback){return callback.id!==id}));this.setCallbacks(hook,hooks)}},{key:"run",value:function run(hook,item,constant){var _this$sequentialRunne,runner=null!==(_this$sequentialRunne=this.sequentialRunners.get(hook))&&void 0!==_this$sequentialRunne?_this$sequentialRunne:function(){var _ref5=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(item,_constant){return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",item);case 1:case"end":return _context4.stop()}}),_callee4)})));return function(_x7,_x8){return _ref5.apply(this,arguments)}}();return runner(item,constant)}},{key:"runAsync",value:function runAsync(hook,item,constant){var _this$asyncRunners$ge,runner=null!==(_this$asyncRunners$ge=this.asyncRunners.get(hook))&&void 0!==_this$asyncRunners$ge?_this$asyncRunners$ge:function(item,_constant){return item};return runner(item,constant)}}],[{key:"create",value:function create(hook){var callbacks=new Callbacks;return{add:function add(callback,priority,id){return callbacks.add(hook,callback,priority,id)},remove:function remove(id){return callbacks.remove(hook,id)},run:function run(item,constant){return callbacks.run(hook,item,constant)}}}}]),Callbacks}(),callbacks=new Callbacks},"./lib/getUserDisplayName.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return getUserDisplayName}});var getUserDisplayName=function getUserDisplayName(name,username,useRealName){return useRealName&&name||username}},"./lib/utils/getFileExtension.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return getFileExtension}});var getFileExtension=function getFileExtension(fileName){var _arr$pop;if(!fileName)return"file";var arr=fileName.split(".");return arr.length<2||""===arr[0]&&2===arr.length?"file":(null===(_arr$pop=arr.pop())||void 0===_arr$pop?void 0:_arr$pop.toLocaleUpperCase())||"file"}},"../../packages/gazzodown/dist/MarkupInteractionContext.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return MarkupInteractionContext}});const MarkupInteractionContext=(0,__webpack_require__("./node_modules/react/index.js").createContext)({})},"../../packages/gazzodown/dist/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{VK:function(){return dist_Markup},oO:function(){return MarkupInteractionContext.o},XI:function(){return dist_PreviewMarkup}});var MarkupInteractionContext=__webpack_require__("../../packages/gazzodown/dist/MarkupInteractionContext.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("../../packages/ui-contexts/dist/index.js");var elements_PlainSpan=(0,react.memo)((({text:text})=>{const t=(0,dist.useTranslation)(),{highlightRegex:highlightRegex,markRegex:markRegex}=(0,react.useContext)(MarkupInteractionContext.o),content=(0,react.useMemo)((()=>{var _a,_b;if(highlightRegex){const chunks=text.split(highlightRegex()),head=null!==(_a=chunks.shift())&&void 0!==_a?_a:"";return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:head}),chunks.map(((chunk,i)=>i%2==0?(0,jsx_runtime.jsx)("mark",{title:t("Highlighted_chosen_word"),className:"highlight-text",children:chunk},i):(0,jsx_runtime.jsx)(react.Fragment,{children:chunk},i)))]})}if(markRegex){const chunks=text.split(markRegex()),head=null!==(_b=chunks.shift())&&void 0!==_b?_b:"";return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:head}),chunks.map(((chunk,i)=>i%2==0?(0,jsx_runtime.jsx)("mark",{children:chunk},i):(0,jsx_runtime.jsx)(react.Fragment,{children:chunk},i)))]})}return text}),[highlightRegex,markRegex,text,t]);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:content})}));var blocks_HeadingBlock=({children:children=[],level:level=1})=>{const HeadingTag=`h${level}`;return(0,jsx_runtime.jsx)(HeadingTag,{children:children.map(((block,index)=>(0,jsx_runtime.jsx)(elements_PlainSpan,{text:block.value},index)))})};var code_CodeElement=({code:code})=>(0,jsx_runtime.jsx)("code",{className:"code-colors inline",children:(0,jsx_runtime.jsx)(elements_PlainSpan,{text:code})});var colors_ColorElement=(0,react.memo)((({r:r,g:g,b:b,a:a})=>(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsx)("span",{style:{backgroundColor:`rgba(${r}, ${g}, ${b}, ${a/255*100}%)`,display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle",marginInlineEnd:"0.5em"}}),"rgba(",r,", ",g,", ",b,", ",a/255*100,"%)"]}))),fuselage=__webpack_require__("../../node_modules/@rocket.chat/fuselage/index.js"),purify=__webpack_require__("../../node_modules/dompurify/dist/purify.js"),purify_default=__webpack_require__.n(purify),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};var emoji_EmojiRenderer=(0,react.memo)((_a=>{var _b,{big:big=!1,preview:preview=!1}=_a,emoji=__rest(_a,["big","preview"]);const{detectEmoji:detectEmoji}=(0,react.useContext)(MarkupInteractionContext.o),fallback=(0,react.useMemo)((()=>{var _a;return"unicode"in emoji?emoji.unicode:`:${null!==(_a=emoji.shortCode)&&void 0!==_a?_a:emoji.value.value}:`}),[emoji]),sanitizedFallback=purify_default().sanitize(fallback),descriptors=(0,react.useMemo)((()=>{const detected=null==detectEmoji?void 0:detectEmoji(sanitizedFallback);return 0!==(null==detected?void 0:detected.length)?detected:void 0}),[detectEmoji,sanitizedFallback]);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:null!==(_b=null==descriptors?void 0:descriptors.map((({name:name,className:className,image:image,content:content},i)=>(0,jsx_runtime.jsx)("span",{title:name,children:preview?(0,jsx_runtime.jsx)(fuselage.ThreadMessageEmoji,{className:className,name:name,image:image,children:content}):(0,jsx_runtime.jsx)(fuselage.MessageEmoji,{big:big,className:className,name:name,image:image,children:content})},i))))&&void 0!==_b?_b:(0,jsx_runtime.jsx)("span",{role:"img","aria-label":":"===sanitizedFallback.charAt(0)?sanitizedFallback:void 0,children:sanitizedFallback})})})),Emoji_rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};var emoji_Emoji=(0,react.memo)((_a=>{var{big:big=!1,preview:preview=!1}=_a,emoji=Emoji_rest(_a,["big","preview"]);const{convertAsciiToEmoji:convertAsciiToEmoji,useEmoji:useEmoji}=(0,react.useContext)(MarkupInteractionContext.o),asciiEmoji=(0,react.useMemo)((()=>"shortCode"in emoji&&emoji.value.value!==emoji.shortCode?emoji.value.value:void 0),[emoji]);return!useEmoji&&"shortCode"in emoji?(0,jsx_runtime.jsx)(elements_PlainSpan,{text:emoji.shortCode===emoji.value.value?`:${emoji.shortCode}:`:emoji.value.value}):!convertAsciiToEmoji&&asciiEmoji?(0,jsx_runtime.jsx)(elements_PlainSpan,{text:asciiEmoji}):(0,jsx_runtime.jsx)(emoji_EmojiRenderer,Object.assign({big:big,preview:preview},emoji))}));var emoji_EmojiElement=(0,react.memo)((emoji=>(0,jsx_runtime.jsx)(emoji_Emoji,Object.assign({},emoji)))),colors=__webpack_require__("../../node_modules/@rocket.chat/fuselage-tokens/colors.json"),esm=__webpack_require__("../../node_modules/@rocket.chat/styled/dist/esm/index.js"),react_error_boundary_umd=__webpack_require__("../../node_modules/react-error-boundary/dist/react-error-boundary.umd.js");const Fallback=(0,esm.A)("span")`
	text-decoration: underline;
	text-decoration-color: ${colors.PK};
`;var katex_KatexErrorBoundary=({children:children,code:code})=>{const[error,setError]=(0,react.useState)(null);return(0,jsx_runtime.jsx)(react_error_boundary_umd.ErrorBoundary,{children:children,onError:setError,fallback:(0,jsx_runtime.jsx)(Fallback,{title:null==error?void 0:error.message,children:code})})};const handleChannelMention=(mention,withSymbol)=>withSymbol?`#${mention}`:mention;var mentions_ChannelMentionElement=(0,react.memo)((({mention:mention})=>{var _a;const t=(0,dist.useTranslation)(),{resolveChannelMention:resolveChannelMention,onChannelMentionClick:onChannelMentionClick,showMentionSymbol:showMentionSymbol}=(0,react.useContext)(MarkupInteractionContext.o),resolved=(0,react.useMemo)((()=>null==resolveChannelMention?void 0:resolveChannelMention(mention)),[mention,resolveChannelMention]),handleClick=(0,react.useMemo)((()=>resolved?null==onChannelMentionClick?void 0:onChannelMentionClick(resolved):void 0),[resolved,onChannelMentionClick]);return resolved?(0,jsx_runtime.jsx)(fuselage.Message.Highlight,{title:t("Mentions_channel"),tabIndex:0,role:"button",variant:"link",clickable:!0,onClick:handleClick,onKeyDown:e=>{("Enter"===e.code||"Space"===e.code)&&(null==handleClick||handleClick(e))},children:handleChannelMention(null!==(_a=resolved.fname)&&void 0!==_a?_a:mention,showMentionSymbol)}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["#",mention]})}));const handleUserMention=(mention,withSymbol)=>withSymbol?`@${mention}`:mention;var mentions_UserMentionElement=(0,react.memo)((({mention:mention})=>{var _a;const t=(0,dist.useTranslation)(),{resolveUserMention:resolveUserMention,onUserMentionClick:onUserMentionClick,ownUserId:ownUserId,useRealName:useRealName,showMentionSymbol:showMentionSymbol,triggerProps:triggerProps}=(0,react.useContext)(MarkupInteractionContext.o),resolved=(0,react.useMemo)((()=>null==resolveUserMention?void 0:resolveUserMention(mention)),[mention,resolveUserMention]),handleClick=(0,react.useMemo)((()=>resolved?null==onUserMentionClick?void 0:onUserMentionClick(resolved):void 0),[resolved,onUserMentionClick]);return"all"===mention?(0,jsx_runtime.jsx)(fuselage.Message.Highlight,{title:t("Mentions_all_room_members"),variant:"relevant",children:handleUserMention("all",showMentionSymbol)}):"here"===mention?(0,jsx_runtime.jsx)(fuselage.Message.Highlight,{title:t("Mentions_online_room_members"),variant:"relevant",children:handleUserMention("here",showMentionSymbol)}):resolved?(0,jsx_runtime.jsx)(fuselage.Message.Highlight,Object.assign({variant:resolved._id===ownUserId?"critical":"other",title:resolved._id===ownUserId?t("Mentions_you"):t("Mentions_user"),clickable:!0,tabIndex:0,role:"button",onClick:handleClick,onKeyDown:e=>{("Enter"===e.code||"Space"===e.code)&&(null==handleClick||handleClick(e))}},triggerProps,{"data-uid":resolved._id,children:handleUserMention(null!==(_a=useRealName?resolved.name:resolved.username)&&void 0!==_a?_a:mention,showMentionSymbol)})):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["@",mention]})})),ui_client_dist=__webpack_require__("../../packages/ui-client/dist/index.js");const renderBlockComponent=(block,index)=>{switch(block.type){case"EMOJI":return(0,jsx_runtime.jsx)(emoji_EmojiElement,Object.assign({},block),index);case"MENTION_USER":return(0,jsx_runtime.jsx)(mentions_UserMentionElement,{mention:block.value.value},index);case"MENTION_CHANNEL":return(0,jsx_runtime.jsx)(mentions_ChannelMentionElement,{mention:block.value.value},index);case"PLAIN_TEXT":return(0,jsx_runtime.jsx)(elements_PlainSpan,{text:block.value},index);case"LINK":return(0,jsx_runtime.jsx)(elements_LinkSpan,{href:block.value.src.value,label:block.value.label},index);case"ITALIC":return(0,jsx_runtime.jsx)(elements_ItalicSpan,{children:block.value},index);case"BOLD":return(0,jsx_runtime.jsx)(elements_BoldSpan,{children:block.value},index);case"INLINE_CODE":return(0,jsx_runtime.jsx)(code_CodeElement,{code:block.value.value},index);default:return null}};var elements_StrikeSpan=({children:children})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children.map(((block,index)=>"LINK"===block.type||"PLAIN_TEXT"===block.type||"ITALIC"===block.type||"BOLD"===block.type||"INLINE_CODE"===block.type?(0,jsx_runtime.jsx)("del",{children:renderBlockComponent(block,index)},index):renderBlockComponent(block,index)))});var elements_LinkSpan=({href:href,label:label})=>{const t=(0,dist.useTranslation)(),children=(0,react.useMemo)((()=>(Array.isArray(label)?label:[label]).map(((child,index)=>{switch(child.type){case"PLAIN_TEXT":return(0,jsx_runtime.jsx)(elements_PlainSpan,{text:child.value},index);case"STRIKE":return(0,jsx_runtime.jsx)(elements_StrikeSpan,{children:child.value},index);case"ITALIC":return(0,jsx_runtime.jsx)(elements_ItalicSpan,{children:child.value},index);case"BOLD":return(0,jsx_runtime.jsx)(elements_BoldSpan,{children:child.value},index);default:return null}}))),[label]);return(0,ui_client_dist.ge)(href)?(0,jsx_runtime.jsx)("a",{href:href,title:href,rel:"noopener noreferrer",target:"_blank",children:children}):(0,jsx_runtime.jsx)("a",{href:href,title:t("Go_to_href",{href:href.replace((0,ui_client_dist.aw)(),"")}),children:children})};const ItalicSpan_renderBlockComponent=(block,index)=>{switch(block.type){case"EMOJI":return(0,jsx_runtime.jsx)(emoji_EmojiElement,Object.assign({},block),index);case"MENTION_USER":return(0,jsx_runtime.jsx)(mentions_UserMentionElement,{mention:block.value.value},index);case"MENTION_CHANNEL":return(0,jsx_runtime.jsx)(mentions_ChannelMentionElement,{mention:block.value.value},index);case"PLAIN_TEXT":return(0,jsx_runtime.jsx)(elements_PlainSpan,{text:block.value},index);case"LINK":return(0,jsx_runtime.jsx)(elements_LinkSpan,{href:block.value.src.value,label:block.value.label},index);case"STRIKE":return(0,jsx_runtime.jsx)(elements_StrikeSpan,{children:block.value},index);case"BOLD":return(0,jsx_runtime.jsx)(elements_BoldSpan,{children:block.value},index);case"INLINE_CODE":return(0,jsx_runtime.jsx)(code_CodeElement,{code:block.value.value},index);default:return null}};var elements_ItalicSpan=({children:children})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children.map(((block,index)=>"LINK"===block.type||"PLAIN_TEXT"===block.type||"STRIKE"===block.type||"BOLD"===block.type||"INLINE_CODE"===block.type?(0,jsx_runtime.jsx)("em",{children:ItalicSpan_renderBlockComponent(block,index)},index):ItalicSpan_renderBlockComponent(block,index)))});const BoldSpan_renderBlockComponent=(block,index)=>{switch(block.type){case"EMOJI":return(0,jsx_runtime.jsx)(emoji_EmojiElement,Object.assign({},block),index);case"MENTION_USER":return(0,jsx_runtime.jsx)(mentions_UserMentionElement,{mention:block.value.value},index);case"MENTION_CHANNEL":return(0,jsx_runtime.jsx)(mentions_ChannelMentionElement,{mention:block.value.value},index);case"PLAIN_TEXT":return(0,jsx_runtime.jsx)(elements_PlainSpan,{text:block.value},index);case"LINK":return(0,jsx_runtime.jsx)(elements_LinkSpan,{href:block.value.src.value,label:block.value.label},index);case"STRIKE":return(0,jsx_runtime.jsx)(elements_StrikeSpan,{children:block.value},index);case"ITALIC":return(0,jsx_runtime.jsx)(elements_ItalicSpan,{children:block.value},index);case"INLINE_CODE":return(0,jsx_runtime.jsx)(code_CodeElement,{code:block.value.value},index);default:return null}};var elements_BoldSpan=({children:children})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children.map(((block,index)=>"LINK"===block.type||"PLAIN_TEXT"===block.type||"STRIKE"===block.type||"ITALIC"===block.type||"INLINE_CODE"===block.type?(0,jsx_runtime.jsx)("strong",{children:BoldSpan_renderBlockComponent(block,index)},index):BoldSpan_renderBlockComponent(block,index)))});const flattenMarkup=markup=>{switch(markup.type){case"PLAIN_TEXT":return markup.value;case"ITALIC":case"BOLD":case"STRIKE":return markup.value.map(flattenMarkup).join("");case"INLINE_CODE":return flattenMarkup(markup.value);case"LINK":{const label=flattenMarkup(markup.value.label),href=markup.value.src.value;return label?`${label} (${href})`:href}default:return""}},style={maxWidth:"100%"};var elements_ImageElement=({src:src,alt:alt})=>{const plainAlt=(0,react.useMemo)((()=>flattenMarkup(alt)),[alt]);return(0,jsx_runtime.jsx)("a",{href:src,target:"_blank",rel:"noopener noreferrer",title:plainAlt,children:(0,jsx_runtime.jsx)("img",{src:src,"data-title":src,alt:plainAlt,style:style})})},format=__webpack_require__("../../packages/gazzodown/node_modules/date-fns/format.mjs");function timeAgo(dateParam,locale){const int=new Intl.RelativeTimeFormat(locale,{style:"long"}),date=new Date(dateParam).getTime(),today=(new Date).getTime(),seconds=Math.round((date-today)/1e3),minutes=Math.round(seconds/60),hours=Math.round(minutes/60),days=Math.round(hours/24),weeks=Math.round(days/7),months=new Date(date).getMonth()-(new Date).getMonth(),years=new Date(date).getFullYear()-(new Date).getFullYear();return Math.abs(seconds)<60?int.format(seconds,"seconds"):Math.abs(minutes)<60?int.format(minutes,"minutes"):Math.abs(hours)<24?int.format(hours,"hours"):Math.abs(days)<7?int.format(days,"days"):Math.abs(weeks)<4?int.format(weeks,"weeks"):Math.abs(months)<12?int.format(months,"months"):int.format(years,"years")}const Timestamp=({format:format,value:value})=>{switch(format){case"t":return(0,jsx_runtime.jsx)(ShortTime,{value:value});case"T":return(0,jsx_runtime.jsx)(LongTime,{value:value});case"d":return(0,jsx_runtime.jsx)(ShortDate,{value:value});case"D":return(0,jsx_runtime.jsx)(LongDate,{value:value});case"f":return(0,jsx_runtime.jsx)(FullDate,{value:value});case"F":return(0,jsx_runtime.jsx)(FullDateLong,{value:value});case"R":return(0,jsx_runtime.jsx)(RelativeTime,{value:value});default:return(0,jsx_runtime.jsxs)("time",{dateTime:value.toISOString(),children:[" ",JSON.stringify(value.getTime())]})}},ShortTime=({value:value})=>(0,jsx_runtime.jsx)(Time,{value:(0,format.GP)(value,"p"),dateTime:value.toISOString()}),LongTime=({value:value})=>(0,jsx_runtime.jsx)(Time,{value:(0,format.GP)(value,"pp"),dateTime:value.toISOString()}),ShortDate=({value:value})=>(0,jsx_runtime.jsx)(Time,{value:(0,format.GP)(value,"P"),dateTime:value.toISOString()}),LongDate=({value:value})=>(0,jsx_runtime.jsx)(Time,{value:(0,format.GP)(value,"Pp"),dateTime:value.toISOString()}),FullDate=({value:value})=>(0,jsx_runtime.jsx)(Time,{value:(0,format.GP)(value,"PPPppp"),dateTime:value.toISOString()}),FullDateLong=({value:value})=>(0,jsx_runtime.jsx)(Time,{value:(0,format.GP)(value,"PPPPpppp"),dateTime:value.toISOString()}),Time=({value:value,dateTime:dateTime})=>(0,jsx_runtime.jsx)("time",{title:new Date(dateTime).toLocaleString(),dateTime:dateTime,style:{display:"inline-block"},children:(0,jsx_runtime.jsx)(fuselage.Tag,{children:value})}),RelativeTime=({value:value})=>{const time=value.getTime(),{language:language}=(0,react.useContext)(MarkupInteractionContext.o),[text,setTime]=(0,react.useState)((()=>timeAgo(time,null!=language?language:"en"))),[timeToRefresh,setTimeToRefresh]=(0,react.useState)((()=>getTimeToRefresh(time)));return(0,react.useEffect)((()=>{const interval=setInterval((()=>{setTime(timeAgo(value.getTime(),"en")),setTimeToRefresh(getTimeToRefresh(time))}),timeToRefresh);return()=>clearInterval(interval)}),[time,timeToRefresh,value]),(0,jsx_runtime.jsx)(Time,{value:text,dateTime:value.toISOString()})},getTimeToRefresh=time=>{const timeToRefresh=time-Date.now();return timeToRefresh<6e4?1e3:timeToRefresh<36e5?3e4:timeToRefresh<864e5?3e5:36e5};var elements_Timestamp=({children:children})=>{const{enableTimestamp:enableTimestamp}=(0,react.useContext)(MarkupInteractionContext.o);return enableTimestamp?(0,jsx_runtime.jsx)(react_error_boundary_umd.ErrorBoundary,{fallback:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:new Date(1e3*parseInt(children.value.timestamp)).toUTCString()}),children:(0,jsx_runtime.jsx)(Timestamp,{format:children.value.format,value:new Date(1e3*parseInt(children.value.timestamp))})}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:`<t:${children.value.timestamp}:${children.value.format}>`})};const KatexElement=(0,react.lazy)((()=>Promise.all([__webpack_require__.e(9652),__webpack_require__.e(6441)]).then(__webpack_require__.bind(__webpack_require__,"../../packages/gazzodown/dist/katex/KatexElement.js")))),InlineElements=({children:children})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children.map(((child,index)=>{switch(child.type){case"BOLD":return(0,jsx_runtime.jsx)(elements_BoldSpan,{children:child.value},index);case"STRIKE":return(0,jsx_runtime.jsx)(elements_StrikeSpan,{children:child.value},index);case"ITALIC":return(0,jsx_runtime.jsx)(elements_ItalicSpan,{children:child.value},index);case"LINK":return(0,jsx_runtime.jsx)(elements_LinkSpan,{href:child.value.src.value,label:Array.isArray(child.value.label)?child.value.label:[child.value.label]},index);case"PLAIN_TEXT":return(0,jsx_runtime.jsx)(elements_PlainSpan,{text:child.value},index);case"IMAGE":return(0,jsx_runtime.jsx)(elements_ImageElement,{src:child.value.src.value,alt:child.value.label},index);case"MENTION_USER":return(0,jsx_runtime.jsx)(mentions_UserMentionElement,{mention:child.value.value},index);case"MENTION_CHANNEL":return(0,jsx_runtime.jsx)(mentions_ChannelMentionElement,{mention:child.value.value},index);case"INLINE_CODE":return(0,jsx_runtime.jsx)(code_CodeElement,{code:child.value.value},index);case"EMOJI":return(0,jsx_runtime.jsx)(emoji_EmojiElement,Object.assign({},child),index);case"COLOR":return(0,jsx_runtime.jsx)(colors_ColorElement,Object.assign({},child.value),index);case"INLINE_KATEX":return(0,jsx_runtime.jsx)(katex_KatexErrorBoundary,{code:child.value,children:(0,jsx_runtime.jsx)(KatexElement,{code:child.value})},index);case"TIMESTAMP":return(0,jsx_runtime.jsx)(elements_Timestamp,{children:child},index);default:return"fallback"in child?(0,jsx_runtime.jsx)(InlineElements,{children:[child.fallback]},index):null}}))});var elements_InlineElements=InlineElements;var blocks_OrderedListBlock=({items:items})=>(0,jsx_runtime.jsx)("ol",{children:items.map((({value:value,number:number},index)=>(0,jsx_runtime.jsx)("li",{value:number,children:(0,jsx_runtime.jsx)(elements_InlineElements,{children:value})},index)))});var blocks_ParagraphBlock=({children:children})=>(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(elements_InlineElements,{children:children})});var blocks_QuoteBlock=({children:children})=>(0,jsx_runtime.jsx)("blockquote",{children:children.map(((paragraph,index)=>(0,jsx_runtime.jsx)(blocks_ParagraphBlock,{children:paragraph.value},index)))});var TaskListBlock=({tasks:tasks})=>{const{onTaskChecked:onTaskChecked}=(0,react.useContext)(MarkupInteractionContext.o);return(0,jsx_runtime.jsx)("ul",{className:"task-list",children:tasks.map(((item,index)=>(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)(fuselage.CheckBox,{checked:item.status,onChange:null==onTaskChecked?void 0:onTaskChecked(item)})," ",(0,jsx_runtime.jsx)(elements_InlineElements,{children:item.value})]},index)))})};var blocks_UnorderedListBlock=({items:items})=>(0,jsx_runtime.jsx)("ul",{children:items.map(((item,index)=>(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(elements_InlineElements,{children:item.value})},index)))});var emoji_BigEmojiElement=emoji=>(0,jsx_runtime.jsx)(emoji_Emoji,Object.assign({big:!0},emoji));var emoji_BigEmojiBlock=({emoji:emoji})=>(0,jsx_runtime.jsx)("div",{role:"presentation",children:emoji.map(((emoji,index)=>(0,jsx_runtime.jsx)(emoji_BigEmojiElement,Object.assign({},emoji),index)))});const CodeBlock=(0,react.lazy)((()=>Promise.all([__webpack_require__.e(6248),__webpack_require__.e(9364)]).then(__webpack_require__.bind(__webpack_require__,"../../packages/gazzodown/dist/code/CodeBlock.js")))),KatexBlock=(0,react.lazy)((()=>Promise.all([__webpack_require__.e(9652),__webpack_require__.e(2896)]).then(__webpack_require__.bind(__webpack_require__,"../../packages/gazzodown/dist/katex/KatexBlock.js"))));var dist_Markup=(0,react.memo)((({tokens:tokens})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:tokens.map(((block,index)=>{switch(block.type){case"BIG_EMOJI":return(0,jsx_runtime.jsx)(emoji_BigEmojiBlock,{emoji:block.value},index);case"PARAGRAPH":return(0,jsx_runtime.jsx)(blocks_ParagraphBlock,{children:block.value},index);case"HEADING":return(0,jsx_runtime.jsx)(blocks_HeadingBlock,{level:block.level,children:block.value},index);case"UNORDERED_LIST":return(0,jsx_runtime.jsx)(blocks_UnorderedListBlock,{items:block.value},index);case"ORDERED_LIST":return(0,jsx_runtime.jsx)(blocks_OrderedListBlock,{items:block.value},index);case"TASKS":return(0,jsx_runtime.jsx)(TaskListBlock,{tasks:block.value},index);case"QUOTE":return(0,jsx_runtime.jsx)(blocks_QuoteBlock,{children:block.value},index);case"CODE":return(0,jsx_runtime.jsx)(CodeBlock,{language:block.language,lines:block.value},index);case"KATEX":return(0,jsx_runtime.jsx)(katex_KatexErrorBoundary,{code:block.value,children:(0,jsx_runtime.jsx)(KatexBlock,{code:block.value})},index);case"LINE_BREAK":return(0,jsx_runtime.jsx)("br",{},index);default:return null}}))})));var code_PreviewCodeBlock=({lines:lines})=>{const firstLine=(0,react.useMemo)((()=>{var _a;return null===(_a=lines.find((line=>line.value.value.trim())))||void 0===_a?void 0:_a.value.value.trim()}),[lines]);return firstLine?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:firstLine}):null};var code_PreviewCodeElement=({code:code})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:code});const toHexByte=value=>value.toString(16).padStart(2,"0");var colors_PreviewColorElement=(0,react.memo)((({r:r,g:g,b:b,a:a})=>255===a?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["#",toHexByte(r),toHexByte(g),toHexByte(b)]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["#",toHexByte(r),toHexByte(g),toHexByte(b),toHexByte(a)]})));var emoji_PreviewEmojiElement=emoji=>(0,jsx_runtime.jsx)(emoji_Emoji,Object.assign({preview:!0},emoji));__webpack_require__("../../node_modules/katex/dist/katex.css");var katex_PreviewKatexElement=({code:code})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:code});var mentions_PreviewChannelMentionElement=(0,react.memo)((({mention:mention})=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["#",mention]})));var mentions_PreviewUserMentionElement=(0,react.memo)((({mention:mention})=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["@",mention]})));const PreviewInlineElements=({children:children})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children.map(((child,index)=>{switch(child.type){case"BOLD":return(0,jsx_runtime.jsx)(elements_BoldSpan,{children:child.value},index);case"STRIKE":return(0,jsx_runtime.jsx)(elements_StrikeSpan,{children:child.value},index);case"ITALIC":return(0,jsx_runtime.jsx)(elements_ItalicSpan,{children:child.value},index);case"LINK":return(0,jsx_runtime.jsx)(PreviewInlineElements,{children:Array.isArray(child.value.label)?child.value.label:[child.value.label]},index);case"PLAIN_TEXT":return(0,jsx_runtime.jsx)(react.Fragment,{children:child.value},index);case"IMAGE":return(0,jsx_runtime.jsx)(PreviewInlineElements,{children:[child.value.label]},index);case"MENTION_USER":return(0,jsx_runtime.jsx)(mentions_PreviewUserMentionElement,{mention:child.value.value},index);case"MENTION_CHANNEL":return(0,jsx_runtime.jsx)(mentions_PreviewChannelMentionElement,{mention:child.value.value},index);case"INLINE_CODE":return(0,jsx_runtime.jsx)(code_PreviewCodeElement,{code:child.value.value},index);case"EMOJI":return(0,jsx_runtime.jsx)(emoji_PreviewEmojiElement,Object.assign({},child),index);case"COLOR":return(0,jsx_runtime.jsx)(colors_PreviewColorElement,Object.assign({},child.value),index);case"INLINE_KATEX":return(0,jsx_runtime.jsx)(katex_KatexErrorBoundary,{code:child.value,children:(0,jsx_runtime.jsx)(katex_PreviewKatexElement,{code:child.value})},index);default:return null}}))});var elements_PreviewInlineElements=PreviewInlineElements;var emoji_PreviewBigEmojiBlock=({emoji:emoji})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:emoji.map(((emoji,index)=>(0,jsx_runtime.jsx)(emoji_PreviewEmojiElement,Object.assign({},emoji),index)))});var katex_PreviewKatexBlock=({code:code})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:code});var dist_PreviewMarkup=(0,react.memo)((({tokens:tokens})=>{if((tokens=>1===tokens.length&&"BIG_EMOJI"===tokens[0].type)(tokens))return(0,jsx_runtime.jsx)(emoji_PreviewBigEmojiBlock,{emoji:tokens[0].value});const firstBlock=tokens.find((block=>"LINE_BREAK"!==block.type));if(!firstBlock)return null;switch(firstBlock.type){case"PARAGRAPH":return(0,jsx_runtime.jsx)(elements_PreviewInlineElements,{children:firstBlock.value});case"HEADING":return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:firstBlock.value.map((plain=>plain.value)).join("")});case"UNORDERED_LIST":case"ORDERED_LIST":{const firstItem=firstBlock.value[0];return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[firstItem.number?`${firstItem.number}.`:"-"," ",(0,jsx_runtime.jsx)(elements_PreviewInlineElements,{children:firstItem.value})]})}case"TASKS":{const firstTask=firstBlock.value[0];return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[firstTask.status?"☑":"☐"," ",(0,jsx_runtime.jsx)(elements_PreviewInlineElements,{children:firstTask.value})]})}case"QUOTE":{const firstParagraph=firstBlock.value[0];return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["> ",(0,jsx_runtime.jsx)(elements_PreviewInlineElements,{children:firstParagraph.value})]})}case"CODE":return(0,jsx_runtime.jsx)(code_PreviewCodeBlock,{language:firstBlock.language,lines:firstBlock.value});case"KATEX":return(0,jsx_runtime.jsx)(katex_KatexErrorBoundary,{code:firstBlock.value,children:(0,jsx_runtime.jsx)(katex_PreviewKatexBlock,{code:firstBlock.value})});default:return null}}))},"../../packages/random/dist/AleaRandomGenerator.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AleaRandomGenerator=void 0;const RandomGenerator_1=__webpack_require__("../../packages/random/dist/RandomGenerator.js");class AleaRandomGenerator extends RandomGenerator_1.RandomGenerator{constructor({seeds:seeds=[]}={}){if(super(),this.insecure=this,!seeds)throw new Error("No seeds were provided for Alea PRNG");this.alea=function createAlea(seeds){let s0=0,s1=0,s2=0,c=1;0===seeds.length&&(seeds=[+new Date]);const mash=function createMash(){let n=4022871197;const mash=data=>{if("string"!=typeof(data=String(data)))throw new Error("Expected a string");for(let i=0;i<data.length;i++){n+=data.charCodeAt(i);let h=.02519603282416938*n;n=h>>>0,h-=n,h*=n,n=h>>>0,h-=n,n+=4294967296*h}return 2.3283064365386963e-10*(n>>>0)};return mash.version="Mash 0.9",mash}();s0=mash(" "),s1=mash(" "),s2=mash(" ");for(let i=0;i<seeds.length;i++)s0-=mash(seeds[i]),s0<0&&(s0+=1),s1-=mash(seeds[i]),s1<0&&(s1+=1),s2-=mash(seeds[i]),s2<0&&(s2+=1);const random=()=>{const t=2091639*s0+2.3283064365386963e-10*c;return s0=s1,s1=s2,s2=t-(c=0|t),s2};return random.uint32=()=>4294967296*random(),random.fract53=()=>random()+11102230246251565e-32*(2097152*random()|0),random.version="Alea 0.9",random.args=seeds,random}(seeds)}fraction(){return this.alea()}safelyCreateWithSeeds(...seeds){return new AleaRandomGenerator({seeds:seeds})}}exports.AleaRandomGenerator=AleaRandomGenerator},"../../packages/random/dist/BrowserRandomGenerator.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BrowserRandomGenerator=void 0;const AleaRandomGenerator_1=__webpack_require__("../../packages/random/dist/AleaRandomGenerator.js"),RandomGenerator_1=__webpack_require__("../../packages/random/dist/RandomGenerator.js"),createAleaGenerator_1=__webpack_require__("../../packages/random/dist/createAleaGenerator.js");class BrowserRandomGenerator extends RandomGenerator_1.RandomGenerator{constructor(){super(...arguments),this.insecure=(0,createAleaGenerator_1.createAleaGeneratorWithGeneratedSeed)()}fraction(){const array=new Uint32Array(1);return window.crypto.getRandomValues(array),2.3283064365386963e-10*array[0]}safelyCreateWithSeeds(...seeds){return new AleaRandomGenerator_1.AleaRandomGenerator({seeds:seeds})}}exports.BrowserRandomGenerator=BrowserRandomGenerator},"../../packages/random/dist/RandomGenerator.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RandomGenerator=void 0;exports.RandomGenerator=class RandomGenerator{createWithSeeds(...seeds){if(0===seeds.length)throw new Error("No seeds were provided");return this.safelyCreateWithSeeds(...seeds)}hexString(digits){return this._randomString(digits,"0123456789abcdef")}_randomString(charsCount,alphabet){let result="";for(let i=0;i<charsCount;i++)result+=this.choice(alphabet);return result}id(charsCount=17){return this._randomString(charsCount,"23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz")}secret(charsCount=43){return this._randomString(charsCount,"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_")}choice(arrayOrString){const index=Math.floor(this.fraction()*arrayOrString.length);return"string"==typeof arrayOrString?arrayOrString.substr(index,1):arrayOrString[index]}}},"../../packages/random/dist/createAleaGenerator.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createAleaGeneratorWithGeneratedSeed=function createAleaGeneratorWithGeneratedSeed(){return new AleaRandomGenerator_1.AleaRandomGenerator({seeds:[new Date,height,width,agent,Math.random()]})};const AleaRandomGenerator_1=__webpack_require__("../../packages/random/dist/AleaRandomGenerator.js"),height="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,width="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,agent="undefined"!=typeof navigator&&navigator.userAgent||""},"../../packages/random/dist/main.client.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var _a;exports.o=void 0;const BrowserRandomGenerator_1=__webpack_require__("../../packages/random/dist/BrowserRandomGenerator.js"),createAleaGenerator_1=__webpack_require__("../../packages/random/dist/createAleaGenerator.js");let generator;generator="undefined"!=typeof window&&(null===(_a=window.crypto)||void 0===_a?void 0:_a.getRandomValues)?new BrowserRandomGenerator_1.BrowserRandomGenerator:(0,createAleaGenerator_1.createAleaGeneratorWithGeneratedSeed)(),exports.o=generator},"../../packages/ui-composer/dist/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{oc:function(){return MessageComposer_MessageComposer},i_:function(){return MessageComposer_MessageComposerAction},Y:function(){return MessageComposer_MessageComposerActionsDivider},WF:function(){return MessageComposer_MessageComposerButton},XO:function(){return MessageComposer_MessageComposerHint},ul:function(){return MessageComposer_MessageComposerInput},LZ:function(){return MessageComposer_MessageComposerSkeleton},FS:function(){return MessageComposer_MessageComposerToolbar},kp:function(){return MessageComposer_MessageComposerToolbarActions},fZ:function(){return MessageComposer_MessageComposerToolbarSubmit},r7:function(){return MessageFooterCallout_MessageFooterCallout},fU:function(){return MessageFooterCallout_MessageFooterCalloutAction},yF:function(){return MessageFooterCallout_MessageFooterCalloutContent}});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),fuselage=__webpack_require__("../../node_modules/@rocket.chat/fuselage/index.js"),react=__webpack_require__("./node_modules/react/index.js"),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};var MessageComposer_MessageComposer=(0,react.forwardRef)((function MessageComposer(_a,ref){var{variant:variant}=_a,props=__rest(_a,["variant"]);return(0,jsx_runtime.jsx)(fuselage.Box,Object.assign({"rcx-input-box__wrapper":!0,mbs:2,bg:"editing"===variant?"status-background-warning-2":void 0,ref:ref,role:"group",display:"flex",flexDirection:"column",overflow:"hidden",p:0},props))}));var MessageComposer_MessageComposerAction=props=>(0,jsx_runtime.jsx)(fuselage.IconButton,Object.assign({small:!0},props)),MessageComposerActionsDivider_rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};var MessageComposer_MessageComposerActionsDivider=_a=>{var{height:height="x20"}=_a,props=MessageComposerActionsDivider_rest(_a,["height"]);return(0,jsx_runtime.jsx)(fuselage.Divider,Object.assign({vertical:!0,mi:4,borderColor:"light",mb:0,backgroundColor:"selected",height:height},props))};var MessageComposer_MessageComposerButton=props=>(0,jsx_runtime.jsx)(fuselage.Button,Object.assign({small:!0},props));var MessageComposer_MessageComposerHint=({icon:icon,children:children,helperText:helperText})=>(0,jsx_runtime.jsxs)(fuselage.Box,{pbs:0,pbe:4,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[(0,jsx_runtime.jsx)(fuselage.Tag,{icon:icon?(0,jsx_runtime.jsx)(fuselage.Icon,{mie:4,name:icon,size:"x12"}):void 0,children:children}),helperText&&(0,jsx_runtime.jsx)(fuselage.Box,{fontScale:"c1",color:"font-hint",children:helperText})]});const messageComposerInputStyle=__webpack_require__("../../node_modules/@rocket.chat/css-in-js/dist/index.module.js").css`
	resize: none;

	&::placeholder {
		color: ${fuselage.Palette.text["font-annotation"]};
	}
`;var MessageComposer_MessageComposerInput=(0,react.forwardRef)((function MessageComposerInput(props,ref){return(0,jsx_runtime.jsx)(fuselage.Box,{is:"label",width:"full",fontSize:0,children:(0,jsx_runtime.jsx)(fuselage.Box,Object.assign({className:[messageComposerInputStyle,"rc-message-box__textarea js-input-message"],color:"default",width:"full",minHeight:"20px",maxHeight:"155px",rows:1,fontScale:"p2",ref:ref,pi:12,mb:16,borderWidth:0,is:"textarea"},props))})}));var MessageComposer_MessageComposerSkeleton=()=>(0,jsx_runtime.jsxs)(MessageComposer_MessageComposer,{children:[(0,jsx_runtime.jsx)(fuselage.Box,{width:"100%",display:"flex",alignItems:"center",height:"x52",pi:12,children:(0,jsx_runtime.jsx)(fuselage.Skeleton,{width:"100%",height:36})}),(0,jsx_runtime.jsx)(MessageComposer_MessageComposerToolbar,{height:36})]});var MessageComposer_MessageComposerToolbar=props=>(0,jsx_runtime.jsx)(fuselage.Box,Object.assign({backgroundColor:"surface-neutral",p:4,display:"flex",justifyContent:"space-between",w:"full"},props)),dist_import=__webpack_require__("../../node_modules/@react-aria/toolbar/dist/import.mjs");var MessageComposer_MessageComposerToolbarActions=props=>{const ref=(0,react.useRef)(null),{toolbarProps:toolbarProps}=(0,dist_import.t)(props,ref);return(0,jsx_runtime.jsx)(fuselage.ButtonGroup,Object.assign({role:"toolbar",small:!0,ref:ref},toolbarProps,{children:props.children}))};var MessageComposer_MessageComposerToolbarSubmit=props=>(0,jsx_runtime.jsx)(fuselage.ButtonGroup,Object.assign({small:!0},props)),MessageFooterCallout_rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};var MessageFooterCallout_MessageFooterCallout=(0,react.forwardRef)((function MessageFooterCallout(_a,ref){var{dashed:dashed}=_a,props=MessageFooterCallout_rest(_a,["dashed"]);return(0,jsx_runtime.jsx)(fuselage.Box,Object.assign({ref:ref},dashed&&{borderStyle:"dashed"},{display:"flex",borderWidth:2,borderColor:"light",borderRadius:"x4",p:8,mbe:24,backgroundColor:"surface-tint",alignItems:"center",minHeight:"x48",justifyContent:"center"},props))}));var MessageFooterCallout_MessageFooterCalloutAction=(0,react.forwardRef)((function MessageFooterCalloutAction(props,ref){return(0,jsx_runtime.jsx)(fuselage.Button,Object.assign({mi:4,ref:ref,primary:!0,small:!0,flexShrink:0},props))}));var MessageFooterCallout_MessageFooterCalloutContent=(0,react.forwardRef)((function MessageFooterCalloutContent(props,ref){return(0,jsx_runtime.jsx)(fuselage.Box,Object.assign({mi:4,ref:ref,flexWrap:"wrap",textAlign:"center",color:"default",flexGrow:1,flexShrink:1},props))}));(0,react.forwardRef)((function MessageFooterCalloutDivider(props,ref){return(0,jsx_runtime.jsx)(fuselage.Box,Object.assign({is:"hr",ref:ref,borderInlineStart:"1px solid",mi:4,flexShrink:0},props))}))},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn-bd":"./node_modules/moment/locale/bn-bd.js","./bn-bd.js":"./node_modules/moment/locale/bn-bd.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-in":"./node_modules/moment/locale/en-in.js","./en-in.js":"./node_modules/moment/locale/en-in.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./en-sg":"./node_modules/moment/locale/en-sg.js","./en-sg.js":"./node_modules/moment/locale/en-sg.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-mx":"./node_modules/moment/locale/es-mx.js","./es-mx.js":"./node_modules/moment/locale/es-mx.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fil":"./node_modules/moment/locale/fil.js","./fil.js":"./node_modules/moment/locale/fil.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./ga":"./node_modules/moment/locale/ga.js","./ga.js":"./node_modules/moment/locale/ga.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-deva":"./node_modules/moment/locale/gom-deva.js","./gom-deva.js":"./node_modules/moment/locale/gom-deva.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it-ch":"./node_modules/moment/locale/it-ch.js","./it-ch.js":"./node_modules/moment/locale/it-ch.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ku":"./node_modules/moment/locale/ku.js","./ku.js":"./node_modules/moment/locale/ku.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./oc-lnc":"./node_modules/moment/locale/oc-lnc.js","./oc-lnc.js":"./node_modules/moment/locale/oc-lnc.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tk":"./node_modules/moment/locale/tk.js","./tk.js":"./node_modules/moment/locale/tk.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-mo":"./node_modules/moment/locale/zh-mo.js","./zh-mo.js":"./node_modules/moment/locale/zh-mo.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"}}]);
//# sourceMappingURL=9202.c27086da.iframe.bundle.js.map