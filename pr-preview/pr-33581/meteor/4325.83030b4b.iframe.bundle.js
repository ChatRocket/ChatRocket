"use strict";(self.webpackChunk_rocket_chat_meteor=self.webpackChunk_rocket_chat_meteor||[]).push([[4325],{"./client/components/InfoPanel/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{jj:function(){return InfoPanel_InfoPanel},ZF:function(){return InfoPanel_InfoPanelAction},_v:function(){return InfoPanel_InfoPanelActionGroup},Y$:function(){return InfoPanel_InfoPanelAvatar},z6:function(){return InfoPanel_InfoPanelField},pm:function(){return InfoPanel_InfoPanelLabel},st:function(){return InfoPanel_InfoPanelSection},kq:function(){return InfoPanel_InfoPanelText},ly:function(){return InfoPanel_InfoPanelTitle}});var fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react=__webpack_require__("./node_modules/react/index.js"),InfoPanel=function InfoPanel(_ref){var children=_ref.children;return react.createElement(fuselage.Box,{flexGrow:1,mb:"neg-x24"},children)},InfoPanel_InfoPanel=InfoPanel;InfoPanel.__docgenInfo={description:"",methods:[],displayName:"InfoPanel",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}}};var _excluded=["label","icon"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var InfoPanelAction=function InfoPanelAction(_ref){var label=_ref.label,icon=_ref.icon,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return react.createElement(fuselage.Button,_extends({title:"string"==typeof label?label:void 0,"aria-label":"string"==typeof label?label:void 0},props,{icon:icon}),label)},InfoPanel_InfoPanelAction=InfoPanelAction;function InfoPanelSection_extends(){return InfoPanelSection_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},InfoPanelSection_extends.apply(null,arguments)}InfoPanelAction.__docgenInfo={description:"",methods:[],displayName:"InfoPanelAction",props:{icon:{required:!1,tsType:{name:"IconName"},description:""},label:{required:!0,tsType:{name:"ReactNode"},description:""}}};var InfoPanelSection=function InfoPanelSection(props){return react.createElement(fuselage.Box,InfoPanelSection_extends({mb:24},props))},InfoPanel_InfoPanelSection=InfoPanelSection;function InfoPanelActionGroup_extends(){return InfoPanelActionGroup_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},InfoPanelActionGroup_extends.apply(null,arguments)}InfoPanelSection.__docgenInfo={description:"",methods:[],displayName:"InfoPanelSection"};var InfoPanelActionGroup=function InfoPanelActionGroup(props){return react.createElement(InfoPanel_InfoPanelSection,null,react.createElement(fuselage.ButtonGroup,InfoPanelActionGroup_extends({align:"center",stretch:!0},props)))},InfoPanel_InfoPanelActionGroup=InfoPanelActionGroup;InfoPanelActionGroup.__docgenInfo={description:"",methods:[],displayName:"InfoPanelActionGroup"};var InfoPanelAvatar=function InfoPanelAvatar(_ref){var children=_ref.children;return react.createElement(InfoPanel_InfoPanelSection,{display:"flex",justifyContent:"center"},children)},InfoPanel_InfoPanelAvatar=InfoPanelAvatar;InfoPanelAvatar.__docgenInfo={description:"",methods:[],displayName:"InfoPanelAvatar",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}}};var InfoPanelField=function InfoPanelField(_ref){var children=_ref.children;return react.createElement(fuselage.Box,{mb:16},children)},InfoPanel_InfoPanelField=InfoPanelField;function InfoPanelLabel_extends(){return InfoPanelLabel_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},InfoPanelLabel_extends.apply(null,arguments)}InfoPanelField.__docgenInfo={description:"",methods:[],displayName:"InfoPanelField",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}}};var _templateObject,InfoPanelLabel=function InfoPanelLabel(props){return react.createElement(fuselage.Box,InfoPanelLabel_extends({mb:8,fontScale:"p2m",color:"default"},props))},InfoPanel_InfoPanelLabel=InfoPanelLabel;function InfoPanelText_extends(){return InfoPanelText_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},InfoPanelText_extends.apply(null,arguments)}InfoPanelLabel.__docgenInfo={description:"",methods:[],displayName:"InfoPanelLabel"};var wordBreak=(0,__webpack_require__("./node_modules/@rocket.chat/css-in-js/dist/index.module.js").css)(_templateObject||(_templateObject=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\tword-break: break-word;\n"]))),InfoPanelText=function InfoPanelText(props){return react.createElement(fuselage.Box,InfoPanelText_extends({mb:8,fontScale:"p2",color:"hint",className:wordBreak},props))},InfoPanel_InfoPanelText=InfoPanelText;InfoPanelText.__docgenInfo={description:"",methods:[],displayName:"InfoPanelText"};var InfoPanelTitle=function InfoPanelTitle(_ref){var title=_ref.title,icon=_ref.icon;return react.createElement(fuselage.Box,{display:"flex",flexShrink:0,alignItems:"center",fontScale:"h4",color:"default",withTruncatedText:!0},function isValidIcon(icon){return"string"==typeof icon}(icon)?react.createElement(fuselage.Icon,{name:icon,size:"x22"}):icon,react.createElement(fuselage.Box,{mis:8,withTruncatedText:!0,title:title},title))},InfoPanel_InfoPanelTitle=InfoPanelTitle;InfoPanelTitle.__docgenInfo={description:"",methods:[],displayName:"InfoPanelTitle",props:{title:{required:!0,tsType:{name:"string"},description:""},icon:{required:!0,tsType:{name:"ReactNode"},description:""}}}},"./client/contexts/CallContext.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{E0:function(){return useOpenedRoomInfo},FC:function(){return useIsCallEnabled},I_:function(){return useVoipNetworkStatus},JD:function(){return useIsCallReady},KI:function(){return useQueueName},L:function(){return useCallerInfo},X$:function(){return useCallUnregisterClient},Xu:function(){return useCallCreateRoom},Xz:function(){return useQueueCounter},ZK:function(){return useIsVoipEnterprise},cT:function(){return useVoipOutboundStates},cc:function(){return useIsCallError},d5:function(){return useCallClient},j2:function(){return useCallOpenRoom},ku:function(){return useCallRegisterClient},sF:function(){return useChangeAudioInputDevice},v8:function(){return useCallActions},zT:function(){return useChangeAudioOutputDevice}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),use_sync_external_store_shim__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/use-sync-external-store/shim/index.js"),_hooks_useHasLicenseModule__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/hooks/useHasLicenseModule.ts");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var isCallContextReady=function isCallContextReady(context){return context.ready},CallContextValueDefault={enabled:!1,ready:!1,outBoundCallsAllowed:void 0,outBoundCallsEnabled:void 0,outBoundCallsEnabledForUser:void 0},CallContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(CallContextValueDefault),useIsVoipEnterprise=function useIsVoipEnterprise(){return!0===(0,_hooks_useHasLicenseModule__WEBPACK_IMPORTED_MODULE_2__.b)("voip-enterprise")},useIsCallEnabled=function useIsCallEnabled(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext).enabled},useIsCallReady=function useIsCallReady(){var ready=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext).ready;return Boolean(ready)},useIsCallError=function useIsCallError(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);return Boolean(function isCallContextError(context){return void 0!==context.error}(context))},useCallActions=function useCallActions(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useCallActions only if Calls are enabled and ready");return context.actions},useCallerInfo=function useCallerInfo(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useCallerInfo only if Calls are enabled and ready");var voipClient=context.voipClient,_useMemo2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var caller=voipClient.callerInfo;return[function callback(cb){return voipClient.on("stateChanged",(function(){caller=voipClient.callerInfo,cb()}))},function getSnapshot(){return caller}]}),[voipClient]),2),subscribe=_useMemo2[0],getSnapshot=_useMemo2[1];return(0,use_sync_external_store_shim__WEBPACK_IMPORTED_MODULE_1__.useSyncExternalStore)(subscribe,getSnapshot)},useCallCreateRoom=function useCallCreateRoom(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useCallCreateRoom only if Calls are enabled and ready");return context.createRoom},useCallOpenRoom=function useCallOpenRoom(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useCallOpenRoom only if Calls are enabled and ready");return context.openRoom},useCallClient=function useCallClient(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useCallClient only if Calls are enabled and ready");return context.voipClient},useQueueName=function useQueueName(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useQueueName only if Calls are enabled and ready");return context.queueName},useQueueCounter=function useQueueCounter(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useQueueCounter only if Calls are enabled and ready");return context.queueCounter},useOpenedRoomInfo=function useOpenedRoomInfo(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useOpenedRoomInfo only if Calls are enabled and ready");return context.openedRoomInfo},useChangeAudioOutputDevice=function useChangeAudioOutputDevice(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useChangeAudioOutputDevice only if Calls are enabled and ready");return context.changeAudioOutputDevice},useChangeAudioInputDevice=function useChangeAudioInputDevice(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useChangeAudioInputDevice only if Calls are enabled and ready");return context.changeAudioInputDevice},useCallRegisterClient=function useCallRegisterClient(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useCallRegisterClient only if Calls are enabled and ready");return context.register},useCallUnregisterClient=function useCallUnregisterClient(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useCallUnregisterClient only if Calls are enabled and ready");return context.unregister},useVoipOutboundStates=function useVoipOutboundStates(){var isEnterprise=useIsVoipEnterprise(),callerInfo=useCallerInfo();return{outBoundCallsAllowed:isEnterprise,outBoundCallsEnabled:isEnterprise,outBoundCallsEnabledForUser:isEnterprise&&!["IN_CALL","ON_HOLD","UNREGISTERED","INITIAL"].includes(callerInfo.state)}},useVoipNetworkStatus=function useVoipNetworkStatus(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CallContext);if(!isCallContextReady(context))throw new Error("useVoipNetworkStatus only if Calls are enabled and ready");return context.networkStatus}},"./client/hooks/useDialModal.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{F:function(){return useDialModal}});var _rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_contexts_CallContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/contexts/CallContext.ts"),_lib_toast__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/lib/toast.ts"),DialPadModal=(0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)((function(){return __webpack_require__.e(3271).then(__webpack_require__.bind(__webpack_require__,"./client/voip/modal/DialPad/DialPadModal.tsx"))})),useDialModal=function useDialModal(){var setModal=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useSetModal)(),isEnterprise=(0,_contexts_CallContext__WEBPACK_IMPORTED_MODULE_2__.ZK)(),t=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useTranslation)(),closeDialModal=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(){return setModal(null)}),[setModal]),openDialModal=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},initialValue=_ref.initialValue,errorMessage=_ref.errorMessage;isEnterprise?setModal(react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Suspense,{fallback:react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",null)},react__WEBPACK_IMPORTED_MODULE_1__.createElement(DialPadModal,{initialValue:initialValue,errorMessage:errorMessage,handleClose:closeDialModal}))):(0,_lib_toast__WEBPACK_IMPORTED_MODULE_3__.b)({type:"error",message:t("You_do_not_have_permission_to_do_this")})}),[setModal,isEnterprise,t,closeDialModal]);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){return{openDialModal:openDialModal,closeDialModal:closeDialModal}}),[openDialModal,closeDialModal])}},"./client/lib/voip/parseOutboundPhoneNumber.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{X:function(){return parseOutboundPhoneNumber}});var parseOutboundPhoneNumber=function parseOutboundPhoneNumber(phoneNumber){return phoneNumber?phoneNumber.replace(/\*/g,"+"):""}},"./client/views/omnichannel/directory/calls/contextualBar/CallsContextualBarRoom.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return CallsContextualBarRoom}});var react=__webpack_require__("./node_modules/react/index.js"),RoomContext=__webpack_require__("./client/views/room/contexts/RoomContext.ts"),RoomToolboxContext=__webpack_require__("./client/views/room/contexts/RoomToolboxContext.ts"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),dist=__webpack_require__("../../packages/ui-avatar/dist/index.js"),ui_contexts_dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),moment=__webpack_require__("./node_modules/moment/moment.js"),moment_default=__webpack_require__.n(moment),Contextualbar=__webpack_require__("./client/components/Contextualbar/index.ts"),InfoPanel=__webpack_require__("./client/components/InfoPanel/index.ts"),UserStatus=__webpack_require__("./client/components/UserStatus/index.ts"),CallContext=__webpack_require__("./client/contexts/CallContext.ts"),parseOutboundPhoneNumber=__webpack_require__("./client/lib/voip/parseOutboundPhoneNumber.ts"),AgentInfoDetails=__webpack_require__("./client/views/omnichannel/components/AgentInfoDetails.tsx"),AgentField=__webpack_require__("./client/views/omnichannel/directory/components/AgentField.tsx"),InfoField=function InfoField(_ref){var label=_ref.label,info=_ref.info;return react.createElement(InfoPanel.z6,null,react.createElement(InfoPanel.pm,null,label),react.createElement(InfoPanel.kq,null,info))};InfoField.__docgenInfo={description:"",methods:[],displayName:"InfoField",props:{label:{required:!0,tsType:{name:"string"},description:""},info:{required:!0,tsType:{name:"string"},description:""}}};var VoipInfoCallButton=__webpack_require__("./client/views/omnichannel/directory/calls/contextualBar/VoipInfoCallButton.tsx"),VoipInfo=function VoipInfo(_ref){var _v$phone$,room=_ref.room,onClickClose=_ref.onClickClose,t=(0,ui_contexts_dist.useTranslation)(),isCallReady=(0,CallContext.JD)(),servedBy=room.servedBy,queue=room.queue,v=room.v,fname=room.fname,name=room.name,callDuration=room.callDuration,callTotalHoldTime=room.callTotalHoldTime,closedAt=room.closedAt,callWaitingTime=room.callWaitingTime,tags=room.tags,lastMessage=room.lastMessage,duration=callDuration&&moment_default().utc(callDuration).format("HH:mm:ss"),waiting=callWaitingTime&&moment_default().utc(callWaitingTime).format("HH:mm:ss"),hold=callTotalHoldTime&&moment_default().utc(callTotalHoldTime).format("HH:mm:ss"),endedAt=closedAt&&moment_default()(closedAt).format("LLL"),phoneNumber=Array.isArray(null==v?void 0:v.phone)?null==v||null===(_v$phone$=v.phone[0])||void 0===_v$phone$?void 0:_v$phone$.phoneNumber:null==v?void 0:v.phone,shouldShowWrapup=(0,react.useMemo)((function(){return"voip-call-wrapup"===(null==lastMessage?void 0:lastMessage.t)&&(null==lastMessage?void 0:lastMessage.msg)}),[lastMessage]),shouldShowTags=(0,react.useMemo)((function(){return tags&&tags.length>0}),[tags]),_name=fname||name;return react.createElement(react.Fragment,null,react.createElement(Contextualbar.mH,{expanded:!0},react.createElement(Contextualbar.A4,{name:"phone"}),react.createElement(Contextualbar.jY,null,t("Call_Information")),react.createElement(Contextualbar.pi,{onClick:onClickClose})),react.createElement(Contextualbar.xN,null,react.createElement(InfoPanel.jj,null,react.createElement(InfoPanel.z6,null,react.createElement(InfoPanel.pm,null,t("Channel")),react.createElement(fuselage.Box,{color:"default"},react.createElement(fuselage.Icon,{size:"x24",name:"phone",verticalAlign:"middle"}),t("Voice_Call"))),servedBy&&react.createElement(AgentField.A,{isSmall:!0,agent:servedBy}),v&&_name&&react.createElement(InfoPanel.z6,null,react.createElement(InfoPanel.pm,null,t("Contact")),react.createElement(fuselage.Box,{display:"flex"},react.createElement(dist.H8,{size:"x28",username:_name}),react.createElement(AgentInfoDetails.A,{mis:8,name:(0,parseOutboundPhoneNumber.X)(_name),status:react.createElement(UserStatus._O,{status:null==v?void 0:v.status})}))),phoneNumber&&react.createElement(InfoField,{label:t("Caller_Id"),info:(0,parseOutboundPhoneNumber.X)(phoneNumber)}),queue&&react.createElement(InfoField,{label:t("Queue"),info:queue}),endedAt&&react.createElement(InfoField,{label:t("Last_Call"),info:endedAt}),react.createElement(InfoField,{label:t("Waiting_Time"),info:waiting||t("Not_Available")}),react.createElement(InfoField,{label:t("Talk_Time"),info:duration||t("Not_Available")}),react.createElement(InfoField,{label:t("Hold_Time"),info:hold||t("Not_Available")}),react.createElement(InfoPanel.z6,null,react.createElement(InfoPanel.pm,null,t("Wrap_Up_Notes")),react.createElement(InfoPanel.kq,{withTruncatedText:!1},shouldShowWrapup?null==lastMessage?void 0:lastMessage.msg:t("Not_Available")),shouldShowTags&&react.createElement(InfoPanel.kq,null,react.createElement(fuselage.Box,{display:"flex",flexDirection:"row",alignItems:"center"},null==tags?void 0:tags.map((function(tag){return react.createElement(fuselage.Chip,{mie:4,key:tag,value:tag},tag)}))))))),react.createElement(Contextualbar.kV,null,react.createElement(fuselage.ButtonGroup,{stretch:!0},isCallReady&&react.createElement(VoipInfoCallButton.Z,{phoneNumber:phoneNumber}))))};VoipInfo.__docgenInfo={description:"",methods:[],displayName:"VoipInfo",props:{room:{required:!0,tsType:{name:"IVoipRoom"},description:""},onClickClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onClickReport:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var VoipInfoWithData=function VoipInfoWithData(){var room=(0,RoomContext.Zq)(),closeTab=(0,RoomToolboxContext.W)().closeTab;return react.createElement(VoipInfo,{room:room,onClickClose:closeTab})},CallsContextualBarRoom=VoipInfoWithData;VoipInfoWithData.__docgenInfo={description:"",methods:[],displayName:"VoipInfoWithData"}},"./client/views/omnichannel/directory/calls/contextualBar/VoipInfoCallButton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return VoipInfoCallButton}});var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_contexts_CallContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/contexts/CallContext.ts"),_hooks_useDialModal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./client/hooks/useDialModal.tsx"),_excluded=["phoneNumber"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var VoipInfoCallButton=function VoipInfoCallButton(_ref){var phoneNumber=_ref.phoneNumber,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),t=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useTranslation)(),openDialModal=(0,_hooks_useDialModal__WEBPACK_IMPORTED_MODULE_4__.F)().openDialModal,_useVoipOutboundState=(0,_contexts_CallContext__WEBPACK_IMPORTED_MODULE_3__.cT)(),outBoundCallsAllowed=_useVoipOutboundState.outBoundCallsAllowed,outBoundCallsEnabledForUser=_useVoipOutboundState.outBoundCallsEnabledForUser;return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Button,_extends({},props,{onClick:function onClick(){return openDialModal({initialValue:phoneNumber})},disabled:!outBoundCallsEnabledForUser||!phoneNumber,title:t(outBoundCallsAllowed?"Call_number":"Call_number_premium_only"),display:"flex",justifyContent:"center",fontSize:"p2",icon:"phone"}),t("Call"))};VoipInfoCallButton.__docgenInfo={description:"",methods:[],displayName:"VoipInfoCallButton",props:{phoneNumber:{required:!0,tsType:{name:"string"},description:""}}}},"./client/views/omnichannel/directory/components/AgentField.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _rocket_chat_ui_avatar__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-avatar/dist/index.js"),_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/@tanstack/react-query/build/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_components_UserStatus__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/components/UserStatus/index.ts"),_components_AgentInfoDetails__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./client/views/omnichannel/components/AgentInfoDetails.tsx"),_components_Field__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./client/views/omnichannel/components/Field.tsx"),_components_Info__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./client/views/omnichannel/components/Info.tsx"),_components_Label__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./client/views/omnichannel/components/Label.tsx"),_FormSkeleton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./client/views/omnichannel/directory/components/FormSkeleton.tsx"),AgentField=function AgentField(_ref){var agent=_ref.agent,_ref$isSmall=_ref.isSmall,isSmall=void 0!==_ref$isSmall&&_ref$isSmall,t=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useTranslation)(),_ref2$username=(null!=agent?agent:{}).username,username=void 0===_ref2$username?"":_ref2$username,getUserInfo=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useEndpoint)("GET","/v1/users.info"),_useQuery=(0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_9__.useQuery)(["/v1/users.info",username],(function(){return getUserInfo({username:username})})),data=_useQuery.data;if(_useQuery.isLoading)return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_FormSkeleton__WEBPACK_IMPORTED_MODULE_8__.e,null);var _ref3$user=(null!=data?data:{user:{}}).user,name=_ref3$user.name,status=_ref3$user.status,displayName=name||username;return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_Field__WEBPACK_IMPORTED_MODULE_5__.A,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_Label__WEBPACK_IMPORTED_MODULE_7__.A,null,t("Agent")),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_Info__WEBPACK_IMPORTED_MODULE_6__.A,{style:{display:"flex"}},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_ui_avatar__WEBPACK_IMPORTED_MODULE_0__.H8,{size:isSmall?"x28":"x40",title:username,username:username||""}),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_AgentInfoDetails__WEBPACK_IMPORTED_MODULE_4__.A,{mis:isSmall?"x8":"x10",name:displayName,shortName:username,status:react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_UserStatus__WEBPACK_IMPORTED_MODULE_3__._O,{status:status})})))};__webpack_exports__.A=AgentField,AgentField.__docgenInfo={description:"",methods:[],displayName:"AgentField",props:{agent:{required:!0,tsType:{name:"IOmnichannelRoom['servedBy']",raw:"IOmnichannelRoom['servedBy']"},description:""},isSmall:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}}}}]);