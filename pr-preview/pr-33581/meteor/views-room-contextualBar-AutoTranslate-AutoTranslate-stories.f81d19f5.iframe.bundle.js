"use strict";(self.webpackChunk_rocket_chat_meteor=self.webpackChunk_rocket_chat_meteor||[]).push([[2982],{"./client/views/room/contexts/RoomContext.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Mq:function(){return useRoomSubscription},Nl:function(){return useUserIsSubscribed},RV:function(){return useRoomMessages},Zq:function(){return useVoipRoom},nq:function(){return useRoom},p:function(){return RoomContext},vK:function(){return useOmnichannelRoom}});var _rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/core-typings/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),RoomContext=(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null),useUserIsSubscribed=function useUserIsSubscribed(){var context=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(RoomContext);if(!context)throw new Error("use useRoom only inside opened rooms");return!!context.subscription},useRoom=function useRoom(){var context=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(RoomContext);if(!context)throw new Error("use useRoom only inside opened rooms");return context.room},useRoomSubscription=function useRoomSubscription(){var context=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(RoomContext);if(!context)throw new Error("use useRoomSubscription only inside opened rooms");return context.subscription},useRoomMessages=function useRoomMessages(){var context=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(RoomContext);if(!context)throw new Error("use useRoomMessages only inside opened rooms");return{hasMorePreviousMessages:context.hasMorePreviousMessages,hasMoreNextMessages:context.hasMoreNextMessages,isLoadingMoreMessages:context.isLoadingMoreMessages}},useOmnichannelRoom=function useOmnichannelRoom(){var room=((0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(RoomContext)||{}).room;if(!room)throw new Error("use useRoom only inside opened rooms");if(!(0,_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.isOmnichannelRoom)(room))throw new Error("invalid room type");return room},useVoipRoom=function useVoipRoom(){var room=((0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(RoomContext)||{}).room;if(!room)throw new Error("use useRoom only inside opened rooms");if(!(0,_rocket_chat_core_typings__WEBPACK_IMPORTED_MODULE_0__.isVoipRoom)(room))throw new Error("invalid room type");return room}},"./client/views/room/contextualBar/AutoTranslate/AutoTranslate.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_components_Contextualbar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/components/Contextualbar/index.ts"),_contexts_RoomContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./client/views/room/contexts/RoomContext.ts"),AutoTranslate=function AutoTranslate(_ref){var language=_ref.language,languages=_ref.languages,handleSwitch=_ref.handleSwitch,translateEnable=_ref.translateEnable,handleChangeLanguage=_ref.handleChangeLanguage,handleClose=_ref.handleClose,t=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useTranslation)(),room=(0,_contexts_RoomContext__WEBPACK_IMPORTED_MODULE_4__.nq)();return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_Contextualbar__WEBPACK_IMPORTED_MODULE_3__.mH,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_Contextualbar__WEBPACK_IMPORTED_MODULE_3__.A4,{name:"language"}),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_Contextualbar__WEBPACK_IMPORTED_MODULE_3__.jY,null,t("Auto_Translate")),handleClose&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_Contextualbar__WEBPACK_IMPORTED_MODULE_3__.pi,{onClick:handleClose})),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_Contextualbar__WEBPACK_IMPORTED_MODULE_3__.Ib,{pbs:24},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.FieldGroup,null,room.encrypted&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Callout,{title:t("Automatic_translation_not_available"),type:"warning"},t("Automatic_translation_not_available_info")),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Field,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.FieldRow,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.FieldLabel,{htmlFor:"automatic-translation"},t("Automatic_Translation")),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.ToggleSwitch,{id:"automatic-translation",onChange:handleSwitch,defaultChecked:translateEnable,disabled:room.encrypted&&!translateEnable}))),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Field,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.FieldLabel,{htmlFor:"translate-to"},t("Translate_to")),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.FieldRow,{verticalAlign:"middle"},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Select,{id:"language",value:language,disabled:!translateEnable,onChange:function onChange(value){return handleChangeLanguage(String(value))},options:languages}))))))};__webpack_exports__.A=AutoTranslate,AutoTranslate.__docgenInfo={description:"",methods:[],displayName:"AutoTranslate",props:{language:{required:!0,tsType:{name:"string"},description:""},languages:{required:!0,tsType:{name:"Array",elements:[{name:"SelectOption"}],raw:"SelectOption[]"},description:""},handleSwitch:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ChangeEvent",elements:[{name:"HTMLInputElement"}],raw:"ChangeEvent<HTMLInputElement>"},name:"e"}],return:{name:"void"}}},description:""},translateEnable:{required:!0,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:""},handleChangeLanguage:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},handleClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./client/views/room/contextualBar/AutoTranslate/AutoTranslate.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components_Contextualbar__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./client/components/Contextualbar/index.ts"),_AutoTranslate__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/views/room/contextualBar/AutoTranslate/AutoTranslate.tsx");__webpack_exports__.default={title:"Room/Contextual Bar/AutoTranslate",component:_AutoTranslate__WEBPACK_IMPORTED_MODULE_2__.A,parameters:{layout:"fullscreen"},decorators:[fn=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_Contextualbar__WEBPACK_IMPORTED_MODULE_1__.bc,{height:"100vh"},fn())]};const Default=args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_AutoTranslate__WEBPACK_IMPORTED_MODULE_2__.A,args);Default.storyName="AutoTranslate",Default.args={language:"en",languages:[["en","English"],["jp","Japanese"],["pt","Portuguese"]]};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <AutoTranslate {...args} />",...Default.parameters?.docs?.source}}}}}]);