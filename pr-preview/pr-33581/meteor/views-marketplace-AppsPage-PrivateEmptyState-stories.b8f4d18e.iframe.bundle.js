"use strict";(self.webpackChunk_rocket_chat_meteor=self.webpackChunk_rocket_chat_meteor||[]).push([[5559],{"./client/hooks/useExternalLink.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{v:function(){return useExternalLink}});var react=__webpack_require__("./node_modules/react/index.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(this,e)}}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var InvalidUrlError=function(_RocketChatError){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}(InvalidUrlError,_RocketChatError);var _super=_createSuper(InvalidUrlError);function InvalidUrlError(){var message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid url",details=arguments.length>1?arguments[1]:void 0;return function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,InvalidUrlError),_super.call(this,"invalid-url",message,details)}return function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(InvalidUrlError)}(__webpack_require__("./client/lib/errors/RocketChatError.ts").H),useExternalLink=function useExternalLink(){return(0,react.useCallback)((function(url){if(!url)throw new InvalidUrlError;window.open(url,"_blank","noopener noreferrer")}),[])}},"./client/lib/asyncState/AsyncStatePhase.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return AsyncStatePhase}});var AsyncStatePhase=function(AsyncStatePhase){return AsyncStatePhase.LOADING="loading",AsyncStatePhase.RESOLVED="resolved",AsyncStatePhase.REJECTED="rejected",AsyncStatePhase.UPDATING="updating",AsyncStatePhase}({})},"./client/lib/asyncState/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z7:function(){return AsyncStatePhase.Z},es:function(){return functions_namespaceObject}});var functions_namespaceObject={};__webpack_require__.r(functions_namespaceObject),__webpack_require__.d(functions_namespaceObject,{error:function(){return error},loading:function(){return loading},reject:function(){return reject},rejected:function(){return rejected},reload:function(){return reload},resolve:function(){return resolve},resolved:function(){return resolved},update:function(){return update},updating:function(){return updating},value:function(){return value}});var AsyncStatePhase=__webpack_require__("./client/lib/asyncState/AsyncStatePhase.ts"),loading=function loading(){return{phase:AsyncStatePhase.Z.LOADING,value:void 0,error:void 0}},updating=function updating(value){return{phase:AsyncStatePhase.Z.UPDATING,value:value,error:void 0}},resolved=function resolved(value){return{phase:AsyncStatePhase.Z.RESOLVED,value:value,error:void 0}},rejected=function rejected(error){return{phase:AsyncStatePhase.Z.REJECTED,value:void 0,error:error}},reload=function reload(prevState){switch(prevState.phase){case AsyncStatePhase.Z.LOADING:return prevState;case AsyncStatePhase.Z.UPDATING:case AsyncStatePhase.Z.RESOLVED:return{phase:AsyncStatePhase.Z.LOADING,value:prevState.value,error:void 0};case AsyncStatePhase.Z.REJECTED:return{phase:AsyncStatePhase.Z.LOADING,value:void 0,error:prevState.error}}},update=function update(prevState){switch(prevState.phase){case AsyncStatePhase.Z.LOADING:case AsyncStatePhase.Z.UPDATING:return prevState;case AsyncStatePhase.Z.RESOLVED:return{phase:AsyncStatePhase.Z.UPDATING,value:prevState.value,error:void 0};case AsyncStatePhase.Z.REJECTED:return{phase:AsyncStatePhase.Z.LOADING,value:void 0,error:prevState.error}}},resolve=function resolve(prevState,value){switch(prevState.phase){case AsyncStatePhase.Z.LOADING:case AsyncStatePhase.Z.UPDATING:return{phase:AsyncStatePhase.Z.RESOLVED,value:value,error:void 0};case AsyncStatePhase.Z.RESOLVED:case AsyncStatePhase.Z.REJECTED:return prevState}},reject=function reject(prevState,error){switch(prevState.phase){case AsyncStatePhase.Z.LOADING:case AsyncStatePhase.Z.UPDATING:return{phase:AsyncStatePhase.Z.REJECTED,value:void 0,error:error};case AsyncStatePhase.Z.RESOLVED:case AsyncStatePhase.Z.REJECTED:return prevState}},value=function value(state){return state.value},error=function error(state){return state.error}},"./client/lib/errors/RocketChatError.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,e)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o));return r&&_setPrototypeOf(p,r.prototype),p}(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}__webpack_require__.d(__webpack_exports__,{H:function(){return RocketChatError}});var RocketChatError=function(_Error){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}(RocketChatError,_Error);var _super=_createSuper(RocketChatError);function RocketChatError(error,reason,details){var _this;return function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,RocketChatError),_defineProperty(_assertThisInitialized(_this=_super.call(this,reason?"".concat(reason," [").concat(error,"]"):"[".concat(error,"]"))),"error",void 0),_defineProperty(_assertThisInitialized(_this),"reason",void 0),_defineProperty(_assertThisInitialized(_this),"details",void 0),_this.error=error,_this.reason=reason,_this.details=details,_this}return function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(RocketChatError)}(_wrapNativeSuper(Error))},"./client/views/marketplace/hooks/usePrivateAppsEnabled.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{g:function(){return usePrivateAppsEnabled}});var react=__webpack_require__("./node_modules/react/index.js"),asyncState=__webpack_require__("./client/lib/asyncState/index.ts"),AppsContext=(0,react.createContext)({installedApps:{phase:asyncState.Z7.LOADING,value:void 0},marketplaceApps:{phase:asyncState.Z7.LOADING,value:void 0},privateApps:{phase:asyncState.Z7.LOADING,value:void 0},reload:function reload(){return Promise.resolve()},orchestrator:void 0,privateAppsEnabled:!1}),usePrivateAppsEnabled=function usePrivateAppsEnabled(){return(0,react.useContext)(AppsContext).privateAppsEnabled}},"./client/views/marketplace/AppsPage/PrivateEmptyState.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return PrivateEmptyState_stories}});var react=__webpack_require__("./node_modules/react/index.js"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),usePrivateAppsEnabled=__webpack_require__("./client/views/marketplace/hooks/usePrivateAppsEnabled.ts"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),PrivateEmptyStateDefault=function PrivateEmptyStateDefault(){var t=(0,es.Bd)().t;return react.createElement(fuselage.States,null,react.createElement(fuselage.StatesIcon,{name:"lock"}),react.createElement(fuselage.StatesTitle,null,t("No_private_apps_installed")),react.createElement(fuselage.StatesSubtitle,null,t("Private_apps_upgrade_empty_state_description")))},AppsPage_PrivateEmptyStateDefault=PrivateEmptyStateDefault;PrivateEmptyStateDefault.__docgenInfo={description:"",methods:[],displayName:"PrivateEmptyStateDefault"};var dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),useExternalLink=__webpack_require__("./client/hooks/useExternalLink.ts");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var _excluded=["children","target","action"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var UpgradeButton=function UpgradeButton(_ref){var children=_ref.children,_ref$target=_ref.target,target=void 0===_ref$target?"_blank":_ref$target,action=_ref.action,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),handleOpenLink=(0,useExternalLink.v)(),url=function useCheckoutUrl(){var absoluteUrl=(0,dist.useAbsoluteUrl)()("/links/manage-subscription");return function(query){var url=new URL(absoluteUrl);return query&&Object.entries(query).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];url.searchParams.append(key,value.toString())})),url.toString()}}()({target:target,action:action});return react.createElement(fuselage.Button,_extends({icon:"new-window",onClick:function onClick(){return handleOpenLink(url)}},props),children)},components_UpgradeButton=(0,react.memo)(UpgradeButton);UpgradeButton.__docgenInfo={description:"",methods:[],displayName:"UpgradeButton",props:{target:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'_blank'",computed:!1}},action:{required:!0,tsType:{name:"string"},description:""}}};var PrivateEmptyStateUpgrade=function PrivateEmptyStateUpgrade(){var t=(0,es.Bd)().t,isAdmin=(0,dist.usePermission)("manage-apps"),handleOpenLink=(0,useExternalLink.v)();return react.createElement(fuselage.States,null,react.createElement(fuselage.StatesIcon,{name:"lightning"}),react.createElement(fuselage.StatesTitle,null,t("Private_apps_upgrade_empty_state_title")),react.createElement(fuselage.StatesSubtitle,null,t("Private_apps_upgrade_empty_state_description")),react.createElement(fuselage.StatesActions,null,isAdmin&&react.createElement(components_UpgradeButton,{primary:!0,icon:void 0,target:"private-apps-header",action:"upgrade"},t("Upgrade")),!isAdmin&&react.createElement(fuselage.Button,{onClick:function onClick(){return handleOpenLink("https://go.rocket.chat/i/pricing-product")},role:"link"},t("Learn_more"))))},AppsPage_PrivateEmptyStateUpgrade=PrivateEmptyStateUpgrade;PrivateEmptyStateUpgrade.__docgenInfo={description:"",methods:[],displayName:"PrivateEmptyStateUpgrade"};var PrivateEmptyState=function PrivateEmptyState(){var privateAppsEnabled=(0,usePrivateAppsEnabled.g)();return react.createElement(fuselage.Box,{mbs:"24px"},privateAppsEnabled?react.createElement(AppsPage_PrivateEmptyStateDefault,null):react.createElement(AppsPage_PrivateEmptyStateUpgrade,null))},AppsPage_PrivateEmptyState=PrivateEmptyState;PrivateEmptyState.__docgenInfo={description:"",methods:[],displayName:"PrivateEmptyState"};var PrivateEmptyState_stories={title:"Marketplace/Components/PageEmptyPrivateApps",component:AppsPage_PrivateEmptyState,parameters:{layout:"fullscreen",controls:{hideNoControlsWarning:!0}}};const Default=()=>react.createElement(AppsPage_PrivateEmptyState,null);Default.storyName="PageEmptyPrivateApps";const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"() => <PrivateEmptyState />",...Default.parameters?.docs?.source}}}}}]);