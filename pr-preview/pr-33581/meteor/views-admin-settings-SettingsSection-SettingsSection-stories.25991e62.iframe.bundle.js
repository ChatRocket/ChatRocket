"use strict";(self.webpackChunk_rocket_chat_meteor=self.webpackChunk_rocket_chat_meteor||[]).push([[3333],{"./client/views/admin/settings/SettingsSection/SettingsSection.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return SettingsSection_SettingsSection}});var dist=__webpack_require__("../../packages/core-typings/dist/index.js"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),ui_contexts_dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),EditableSettingsContext=__webpack_require__("./client/views/admin/EditableSettingsContext.ts"),Setting=__webpack_require__("./client/views/admin/settings/Setting/Setting.tsx");function SettingsSection(_ref){var groupId=_ref.groupId,_ref$hasReset=_ref.hasReset,hasReset=void 0===_ref$hasReset||_ref$hasReset,sectionName=_ref.sectionName,currentTab=_ref.currentTab,solo=_ref.solo,help=_ref.help,children=_ref.children,t=(0,ui_contexts_dist.useTranslation)(),editableSettings=(0,EditableSettingsContext.JY)((0,react.useMemo)((function(){return{group:groupId,section:sectionName,tab:currentTab}}),[groupId,sectionName,currentTab])),changed=(0,react.useMemo)((function(){return editableSettings.some((function(_ref2){return _ref2.changed}))}),[editableSettings]),canReset=(0,react.useMemo)((function(){return editableSettings.some((function(_ref3){var value=_ref3.value,packageValue=_ref3.packageValue;return JSON.stringify(value)!==JSON.stringify(packageValue)}))}),[editableSettings]),dispatch=(0,EditableSettingsContext.$I)(),reset=(0,index_module.useMutableCallback)((function(){dispatch(editableSettings.filter((function(_ref4){return!_ref4.disabled})).map((function(setting){return(0,dist.isSettingColor)(setting)?{_id:setting._id,value:setting.packageValue,editor:setting.packageEditor,changed:JSON.stringify(setting.value)!==JSON.stringify(setting.packageValue)||JSON.stringify(setting.editor)!==JSON.stringify(setting.packageEditor)}:{_id:setting._id,value:setting.packageValue,changed:JSON.stringify(setting.value)!==JSON.stringify(setting.packageValue)}})))}));return react.createElement(fuselage.Accordion.Item,{"data-qa-section":sectionName,noncollapsible:solo||!sectionName,title:sectionName&&t(sectionName)},help&&react.createElement(fuselage.Box,{is:"p",color:"hint",fontScale:"p2"},help),react.createElement(fuselage.FieldGroup,null,editableSettings.map((function(setting){return(0,dist.isSetting)(setting)&&react.createElement(Setting.A,{key:setting._id,settingId:setting._id,sectionChanged:changed})})),children),hasReset&&canReset&&react.createElement(fuselage.Button,{children:t("Reset_section_settings"),secondary:!0,danger:!0,marginBlockStart:16,"data-section":sectionName,onClick:function handleResetSectionClick(){reset()}}))}var SettingsSection_SettingsSection=SettingsSection;SettingsSection.__docgenInfo={description:"",methods:[],displayName:"SettingsSection",props:{groupId:{required:!0,tsType:{name:"string"},description:""},hasReset:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},sectionName:{required:!0,tsType:{name:"string"},description:""},currentTab:{required:!1,tsType:{name:"string"},description:""},solo:{required:!0,tsType:{name:"boolean"},description:""},help:{required:!1,tsType:{name:"ReactNode"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""}}}},"./client/views/admin/settings/SettingsSection/SettingsSectionSkeleton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_Setting_SettingSkeleton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/views/admin/settings/Setting/SettingSkeleton.tsx");function SettingsSectionSkeleton(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Accordion.Item,{noncollapsible:!0,title:react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Skeleton,null)},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Box,{is:"p",color:"hint",fontScale:"p2"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Skeleton,null)),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.FieldGroup,null,Array.from({length:10}).map((function(_,i){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Setting_SettingSkeleton__WEBPACK_IMPORTED_MODULE_2__.A,{key:i})}))))}__webpack_exports__.A=SettingsSectionSkeleton,SettingsSectionSkeleton.__docgenInfo={description:"",methods:[],displayName:"SettingsSectionSkeleton"}},"./client/views/admin/settings/SettingsSection/SettingsSection.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},Skeleton:function(){return Skeleton},__namedExportsOrder:function(){return __namedExportsOrder}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_SettingsSection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./client/views/admin/settings/SettingsSection/SettingsSection.tsx"),_SettingsSectionSkeleton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/views/admin/settings/SettingsSection/SettingsSectionSkeleton.tsx");__webpack_exports__.default={title:"Admin/Settings/SettingsSection",component:_SettingsSection__WEBPACK_IMPORTED_MODULE_1__.A,parameters:{layout:"fullscreen",controls:{hideNoControlsWarning:!0}}};const Default=args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SettingsSection__WEBPACK_IMPORTED_MODULE_1__.A,args);Default.args={groupId:"General"};const Skeleton=()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SettingsSectionSkeleton__WEBPACK_IMPORTED_MODULE_2__.A,null),__namedExportsOrder=["Default","Skeleton"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <SettingsSection {...args} />",...Default.parameters?.docs?.source}}},Skeleton.parameters={...Skeleton.parameters,docs:{...Skeleton.parameters?.docs,source:{originalSource:"() => <SettingsSectionSkeleton />",...Skeleton.parameters?.docs?.source}}}}}]);