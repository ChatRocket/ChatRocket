"use strict";(self.webpackChunk_rocket_chat_meteor=self.webpackChunk_rocket_chat_meteor||[]).push([[2295],{"./client/hooks/useClipboardWithToast.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return useClipboardWithToast}});var _rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-contexts/dist/index.js");function useClipboardWithToast(text){var t=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useTranslation)(),dispatchToastMessage=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useToastMessageDispatch)();return(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_0__.useClipboard)(text,{onCopySuccess:(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_0__.useMutableCallback)((function(){return dispatchToastMessage({type:"success",message:t("Copied")})})),onCopyError:(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_0__.useMutableCallback)((function(e){return dispatchToastMessage({type:"error",message:e})}))})}},"./client/views/room/contextualBar/RoomMembers/InviteUsers/InviteUsers.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return InviteUsers_InviteUsers}});var fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),Contextualbar=__webpack_require__("./client/components/Contextualbar/index.ts"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),EditInviteLink=function EditInviteLink(_ref){var daysAndMaxUses=_ref.daysAndMaxUses,onClickNewLink=_ref.onClickNewLink,t=(0,dist.useTranslation)(),_useForm=(0,index_esm.mN)({defaultValues:{days:daysAndMaxUses.days,maxUses:daysAndMaxUses.maxUses}}),handleSubmit=_useForm.handleSubmit,_useForm$formState=_useForm.formState,isDirty=_useForm$formState.isDirty,isSubmitting=_useForm$formState.isSubmitting,control=_useForm.control,daysOptions=(0,react.useMemo)((function(){return[["1","1"],["7","7"],["15","15"],["30","30"],["0",t("Never")]]}),[t]),maxUsesOptions=(0,react.useMemo)((function(){return[["5","5"],["10","10"],["25","25"],["50","50"],["100","100"],["0",t("No_Limit")]]}),[t]);return react.createElement(react.Fragment,null,react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,{flexGrow:0},t("Expiration_(Days)")),react.createElement(fuselage.FieldRow,null,react.createElement(index_esm.xI,{name:"days",control:control,render:function render(_ref2){var _ref2$field=_ref2.field,onChange=_ref2$field.onChange,value=_ref2$field.value,name=_ref2$field.name;return react.createElement(fuselage.Select,{name:name,value:value,onChange:onChange,options:daysOptions})}}))),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,{flexGrow:0},t("Max_number_of_uses")),react.createElement(fuselage.FieldRow,null,react.createElement(index_esm.xI,{name:"maxUses",control:control,render:function render(_ref3){var _ref3$field=_ref3.field,onChange=_ref3$field.onChange,value=_ref3$field.value,name=_ref3$field.name;return react.createElement(fuselage.Select,{name:name,value:value,onChange:onChange,options:maxUsesOptions})}}))),react.createElement(fuselage.Box,{mbs:8},react.createElement(fuselage.Button,{loading:isSubmitting,disabled:!isDirty,primary:!0,onClick:handleSubmit(onClickNewLink)},t("Generate_New_Link"))))},InviteUsers_EditInviteLink=EditInviteLink;EditInviteLink.__docgenInfo={description:"",methods:[],displayName:"EditInviteLink",props:{daysAndMaxUses:{required:!0,tsType:{name:"signature",type:"object",raw:"{ days: string; maxUses: string }",signature:{properties:[{key:"days",value:{name:"string",required:!0}},{key:"maxUses",value:{name:"string",required:!0}}]}},description:""},onClickNewLink:{required:!0,tsType:{name:"signature",type:"function",raw:"(daysAndMaxUses: { days: string; maxUses: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ days: string; maxUses: string }",signature:{properties:[{key:"days",value:{name:"string",required:!0}},{key:"maxUses",value:{name:"string",required:!0}}]}},name:"daysAndMaxUses"}],return:{name:"void"}}},description:""}}};var useClipboardWithToast=__webpack_require__("./client/hooks/useClipboardWithToast.ts"),InviteLink=function InviteLink(_ref){var linkText=_ref.linkText,captionText=_ref.captionText,onClickEdit=_ref.onClickEdit,t=(0,dist.useTranslation)(),copy=(0,useClipboardWithToast.A)(linkText).copy;return react.createElement(react.Fragment,null,react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,{flexGrow:0},t("Invite_Link")),react.createElement(fuselage.FieldRow,null,!linkText&&react.createElement(fuselage.InputBox.Skeleton,null),linkText&&react.createElement(fuselage.UrlInput,{value:linkText,addon:react.createElement(fuselage.Icon,{onClick:function onClick(){return copy()},name:"copy",size:"x16"})})),captionText&&react.createElement(fuselage.Box,{pb:8,color:"annotation",fontScale:"c2"},captionText)),onClickEdit&&react.createElement(fuselage.Box,{mbs:8},react.createElement(fuselage.Button,{onClick:onClickEdit},t("Edit_Invite"))))},InviteUsers_InviteLink=InviteLink;InviteLink.__docgenInfo={description:"",methods:[],displayName:"InviteLink",props:{linkText:{required:!0,tsType:{name:"string"},description:""},captionText:{required:!0,tsType:{name:"string"},description:""},onClickEdit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var InviteUsers=function InviteUsers(_ref){var onClickBackMembers=_ref.onClickBackMembers,onClickBackLink=_ref.onClickBackLink,onClickNewLink=_ref.onClickNewLink,onClose=_ref.onClose,isEditing=_ref.isEditing,onClickEdit=_ref.onClickEdit,daysAndMaxUses=_ref.daysAndMaxUses,captionText=_ref.captionText,linkText=_ref.linkText,error=_ref.error,t=(0,dist.useTranslation)();return react.createElement(react.Fragment,null,react.createElement(Contextualbar.mH,null,(onClickBackMembers||onClickBackLink)&&react.createElement(Contextualbar.m6,{onClick:isEditing?onClickBackLink:onClickBackMembers}),react.createElement(Contextualbar.jY,null,t("Invite_Users")),onClose&&react.createElement(Contextualbar.pi,{onClick:onClose})),react.createElement(Contextualbar.xN,null,error&&react.createElement(fuselage.Callout,{type:"danger"},error.toString()),isEditing&&!error&&react.createElement(InviteUsers_EditInviteLink,{onClickNewLink:onClickNewLink,daysAndMaxUses:daysAndMaxUses}),!isEditing&&!error&&react.createElement(InviteUsers_InviteLink,{captionText:captionText,onClickEdit:onClickEdit,linkText:linkText})))},InviteUsers_InviteUsers=InviteUsers;InviteUsers.__docgenInfo={description:"",methods:[],displayName:"InviteUsers",props:{onClickBackMembers:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onClickBackLink:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onClickNewLink:{required:!0,tsType:{name:"signature",type:"function",raw:"(daysAndMaxUses: { days: string; maxUses: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ days: string; maxUses: string }",signature:{properties:[{key:"days",value:{name:"string",required:!0}},{key:"maxUses",value:{name:"string",required:!0}}]}},name:"daysAndMaxUses"}],return:{name:"void"}}},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isEditing:{required:!0,tsType:{name:"boolean"},description:""},daysAndMaxUses:{required:!0,tsType:{name:"signature",type:"object",raw:"{ days: string; maxUses: string }",signature:{properties:[{key:"days",value:{name:"string",required:!0}},{key:"maxUses",value:{name:"string",required:!0}}]}},description:""},onClickEdit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},captionText:{required:!0,tsType:{name:"string"},description:""},linkText:{required:!0,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"Error"},description:""}}}},"./client/views/room/contextualBar/RoomMembers/InviteUsers/InviteUsers.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components_Contextualbar__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./client/components/Contextualbar/index.ts"),_InviteUsers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/views/room/contextualBar/RoomMembers/InviteUsers/InviteUsers.tsx");__webpack_exports__.default={title:"Room/Contextual Bar/RoomMembers/InviteUsers",component:_InviteUsers__WEBPACK_IMPORTED_MODULE_2__.A,parameters:{layout:"fullscreen",actions:{argTypesRegex:"^on.*"}},decorators:[fn=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_Contextualbar__WEBPACK_IMPORTED_MODULE_1__.bc,{height:"100vh"},fn())]};const Default=args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_InviteUsers__WEBPACK_IMPORTED_MODULE_2__.A,args);Default.storyName="InviteUsers",Default.args={linkText:"https://go.rocket.chat/invite?host=open.rocket.chat&path=invite%2F5sBs3a",captionText:"Expire on February 4, 2020 4:45 PM."};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <InviteUsers {...args} />",...Default.parameters?.docs?.source}}}}}]);