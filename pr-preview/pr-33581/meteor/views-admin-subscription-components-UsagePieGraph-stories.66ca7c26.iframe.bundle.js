/*! For license information please see views-admin-subscription-components-UsagePieGraph-stories.66ca7c26.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_rocket_chat_meteor=self.webpackChunk_rocket_chat_meteor||[]).push([[5430],{"./client/stories/hooks/useAutoSequence.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{M:function(){return useAutoSequence}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var useAutoSequence=function useAutoSequence(sequence){var delay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),2),index=_useState2[0],setIndex=_useState2[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var timer=setInterval((function(){return setIndex((function(index){return index+1}))}),delay);return function(){clearInterval(timer)}}),[delay]),sequence[index%sequence.length]}},"./client/views/admin/subscription/components/UsagePieGraph.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Animated:function(){return Animated},Example:function(){return Example},Unlimited:function(){return Unlimited},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return UsagePieGraph_stories}});var colors=__webpack_require__("./node_modules/@rocket.chat/fuselage-tokens/colors.json"),react=__webpack_require__("./node_modules/react/index.js"),useAutoSequence=__webpack_require__("./client/stories/hooks/useAutoSequence.ts"),nivo_pie_es=__webpack_require__("./node_modules/@nivo/pie/dist/nivo-pie.es.js"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),useLocalePercentage=function useLocalePercentage(total,fraction,decimalCount){return function getLocalePercentage(locale,total,fraction){var decimalCount=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return new Intl.NumberFormat(locale,{style:"percent",minimumFractionDigits:decimalCount,maximumFractionDigits:decimalCount}).format(fraction/total)}((0,dist.useLanguage)(),total,fraction,decimalCount)},UsagePieGraph=function UsagePieGraph(_ref){var _ref$used=_ref.used,used=void 0===_ref$used?0:_ref$used,_ref$total=_ref.total,total=void 0===_ref$total?0:_ref$total,label=_ref.label,color=_ref.color,_ref$size=_ref.size,size=void 0===_ref$size?140:_ref$size,t=(0,es.Bd)().t,parsedData=(0,react.useMemo)((function(){return[{id:"used",label:"used",value:used},{id:"free",label:"free",value:total-used}]}),[total,used]),getColor=(0,react.useCallback)((function(datum){return datum&&"string"==typeof datum.id?function graphColors(color){return{used:color||fuselage.Palette.statusColor["status-font-on-success"].toString(),free:fuselage.Palette.stroke["stroke-extra-light"].toString()}}(color)[datum.id]:""}),[color]),unlimited=0===total,localePercentage=useLocalePercentage(total,used,0);return react.createElement(fuselage.Box,{display:"flex",flexDirection:"column",alignItems:"center"},react.createElement(fuselage.Box,{size:"x".concat(size)},react.createElement(fuselage.Box,{position:"relative"},react.createElement(nivo_pie_es.Fq,{data:parsedData,margin:{top:10,right:10,bottom:10,left:10},innerRadius:.8,colors:getColor,width:size,height:size,enableArcLabels:!1,enableArcLinkLabels:!1}),react.createElement(fuselage.Box,{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",fontScale:"p2m",style:{left:0,right:0,top:0,bottom:0}},unlimited?"âˆž":localePercentage))),react.createElement(fuselage.Box,{is:"span",fontScale:"p2",color:"font-secondary-info"},unlimited&&t("used_limit_infinite",{used:used}),!unlimited&&t("used_limit",{used:used,limit:total})),label&&react.createElement(fuselage.Box,{is:"span",mbs:4,color:"font-secondary-info"},label))},components_UsagePieGraph=(0,react.memo)(UsagePieGraph);function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}UsagePieGraph.__docgenInfo={description:"",methods:[],displayName:"UsagePieGraph",props:{used:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},total:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},label:{required:!1,tsType:{name:"ReactNode"},description:""},color:{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"140",computed:!1}}}};var UsagePieGraph_stories={title:"Admin/Info/UsagePieGraph",component:components_UsagePieGraph,parameters:{layout:"centered"}};const Template=args=>react.createElement(components_UsagePieGraph,args),Example=Template.bind({});Example.args={total:321,used:123,size:128,label:"Example label",color:colors.aF};const Unlimited=Template.bind({});Unlimited.args={used:123,size:128,label:"Example label",color:colors.aF};const Animated=args=>{const props=(0,useAutoSequence.M)([{total:100,used:0,color:colors.ZG},{total:100,used:25,color:colors.IT},{total:100,used:50,color:colors.JT},{total:100,used:75,color:colors.VQ},{total:100,used:100,color:colors.u6}]);return react.createElement(components_UsagePieGraph,_extends({},props,args))};Animated.args={size:128,label:"Example label"};const __namedExportsOrder=["Example","Unlimited","Animated"];Example.parameters={...Example.parameters,docs:{...Example.parameters?.docs,source:{originalSource:"args => <UsagePieGraph {...args} />",...Example.parameters?.docs?.source}}},Unlimited.parameters={...Unlimited.parameters,docs:{...Unlimited.parameters?.docs,source:{originalSource:"args => <UsagePieGraph {...args} />",...Unlimited.parameters?.docs?.source}}},Animated.parameters={...Animated.parameters,docs:{...Animated.parameters?.docs,source:{originalSource:"args => {\n  const props = useAutoSequence([{\n    total: 100,\n    used: 0,\n    color: colorTokens.g500\n  }, {\n    total: 100,\n    used: 25,\n    color: colorTokens.b500\n  }, {\n    total: 100,\n    used: 50,\n    color: colorTokens.y500\n  }, {\n    total: 100,\n    used: 75,\n    color: colorTokens.o500\n  }, {\n    total: 100,\n    used: 100,\n    color: colorTokens.r500\n  }]);\n  return <UsagePieGraph {...props} {...args} />;\n}",...Animated.parameters?.docs?.source}}}},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":function(__unused_webpack_module,exports,__webpack_require__){__webpack_require__("./node_modules/object-assign/index.js");var f=__webpack_require__("./node_modules/react/index.js"),g=60103;if(exports.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var h=Symbol.for;g=h("react.element"),exports.Fragment=h("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,k){var b,d={},e=null,l=null;for(b in void 0!==k&&(e=""+k),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(l=a.ref),a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);