/*! For license information please see 1773.7a53e16c.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_rocket_chat_meteor=self.webpackChunk_rocket_chat_meteor||[]).push([[1773],{"./client/components/Omnichannel/OmnichannelSortingDisclaimer.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{m:function(){return OmnichannelSortingDisclaimer},V:function(){return useOmnichannelSortingDisclaimer}});var dist=__webpack_require__("../../packages/core-typings/dist/index.js"),ui_contexts_dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),useOmnichannel=__webpack_require__("./client/hooks/omnichannel/useOmnichannel.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var useOmnichannelSortingDisclaimer=function useOmnichannelSortingDisclaimer(){var isOmnichannelEnabled=function useOmnichannelEnterpriseEnabled(){var _useOmnichannel=(0,useOmnichannel.q)(),isEnabled=_useOmnichannel.enabled,isEnterprise=_useOmnichannel.isEnterprise;return isEnabled&&isEnterprise}(),sortingMechanism=(0,ui_contexts_dist.useSetting)("Omnichannel_sorting_mechanism")||dist.OmnichannelSortingMechanismSettingType.Timestamp,type=_slicedToArray((0,react.useState)(_defineProperty(_defineProperty(_defineProperty({},dist.OmnichannelSortingMechanismSettingType.Priority,"Priorities"),dist.OmnichannelSortingMechanismSettingType.SLAs,"SLA_Policies"),dist.OmnichannelSortingMechanismSettingType.Timestamp,"")),1)[0][sortingMechanism];return isOmnichannelEnabled?type:""},OmnichannelSortingDisclaimer=function OmnichannelSortingDisclaimer(){var t=(0,ui_contexts_dist.useTranslation)(),type=useOmnichannelSortingDisclaimer();return type?react.createElement(react.Fragment,null,t("Omnichannel_sorting_disclaimer",{sortingMechanism:t(type)})):null};OmnichannelSortingDisclaimer.__docgenInfo={description:"",methods:[],displayName:"OmnichannelSortingDisclaimer"}},"./client/hooks/useIsEnterprise.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{z:function(){return useIsEnterprise}});var _useLicense__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./client/hooks/useLicense.ts"),useIsEnterprise=function useIsEnterprise(){return(0,_useLicense__WEBPACK_IMPORTED_MODULE_0__.cU)({select:function select(data){return{isEnterprise:Boolean(null==data?void 0:data.license.license)}}})}},"./client/sidebarv2/SidebarRegion.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return sidebarv2_SidebarRegion}});var index_module=__webpack_require__("./node_modules/@rocket.chat/css-in-js/dist/index.module.js"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),dist_import=__webpack_require__("./node_modules/@react-aria/focus/dist/import.mjs"),dist_index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),react_virtuoso_dist=__webpack_require__("./node_modules/react-virtuoso/dist/index.mjs"),CustomScrollbars=__webpack_require__("./client/components/CustomScrollbars/index.ts"),RoomManager=__webpack_require__("./client/lib/RoomManager.ts"),useAvatarTemplate=__webpack_require__("./client/sidebarv2/hooks/useAvatarTemplate.tsx"),usePreventDefault=function usePreventDefault(ref){return(0,react.useEffect)((function(){var current=ref.current,stopPropagation=function stopPropagation(e){var _parentElement;[e.target.nodeName,null===(_parentElement=e.target.parentElement)||void 0===_parentElement?void 0:_parentElement.nodeName].includes("BUTTON")&&e.preventDefault()};return null==current||current.addEventListener("click",stopPropagation),function(){return null==current?void 0:current.addEventListener("click",stopPropagation)}}),[ref]),{ref:ref}},VideoConfContext=__webpack_require__("./client/contexts/VideoConfContext.ts"),useOmnichannelEnabled=__webpack_require__("./client/hooks/omnichannel/useOmnichannelEnabled.ts"),useQueuedInquiries=__webpack_require__("./client/hooks/omnichannel/useQueuedInquiries.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||_unsupportedIterableToArray(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||_unsupportedIterableToArray(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var query={open:{$ne:!1}},emptyQueue=[],order=["Incoming_Calls","Incoming_Livechats","Open_Livechats","On_Hold_Chats","Unread","Favorites","Teams","Discussions","Channels","Direct_Messages","Conversations"],useRoomList=function useRoomList(){var _useUserPreference,_useDebouncedState2=_slicedToArray((0,dist_index_module.useDebouncedState)([],150),2),roomList=_useDebouncedState2[0],setRoomList=_useDebouncedState2[1],showOmnichannel=(0,useOmnichannelEnabled.r)(),sidebarGroupByType=(0,dist.useUserPreference)("sidebarGroupByType"),favoritesEnabled=(0,dist.useUserPreference)("sidebarShowFavorites"),sidebarOrder=null!==(_useUserPreference=(0,dist.useUserPreference)("sidebarSectionsOrder"))&&void 0!==_useUserPreference?_useUserPreference:order,isDiscussionEnabled=(0,dist.useSetting)("Discussion_enabled"),sidebarShowUnread=(0,dist.useUserPreference)("sidebarShowUnread"),options=function useQueryOptions(){var sortBy=(0,dist.useUserPreference)("sidebarSortby"),showRealName=(0,dist.useSetting)("UI_Use_Real_Name");return(0,react.useMemo)((function(){return{sort:_objectSpread(_objectSpread({},"activity"===sortBy&&{lm:-1}),"activity"!==sortBy&&_objectSpread({},showRealName?{lowerCaseFName:1}:{lowerCaseName:1}))}}),[sortBy,showRealName])}(),rooms=(0,dist.useUserSubscriptions)(query,options),inquiries=(0,useQueuedInquiries.A)(),incomingCalls=(0,VideoConfContext.gA)(),queue=emptyQueue;return inquiries.enabled&&(queue=inquiries.queue),(0,react.useEffect)((function(){setRoomList((function(){var incomingCall=new Set,favorite=new Set,team=new Set,omnichannel=new Set,unread=new Set,channels=new Set,direct=new Set,discussion=new Set,conversation=new Set,onHold=new Set;rooms.forEach((function(room){if(!room.archived){if(incomingCalls.find((function(call){return call.rid===room.rid})))return incomingCall.add(room);if(sidebarShowUnread&&(room.alert||room.unread)&&!room.hideUnreadStatus)return unread.add(room);if(favoritesEnabled&&room.f)return favorite.add(room);if(sidebarGroupByType&&room.teamMain)return team.add(room);if(sidebarGroupByType&&isDiscussionEnabled&&room.prid)return discussion.add(room);if("c"!==room.t&&"p"!==room.t||channels.add(room),"l"===room.t&&room.onHold)return showOmnichannel&&onHold.add(room);if("l"===room.t)return showOmnichannel&&omnichannel.add(room);"d"===room.t&&direct.add(room),conversation.add(room)}}));var groups=new Map;return incomingCall.size&&groups.set("Incoming_Calls",incomingCall),showOmnichannel&&inquiries.enabled&&queue.length&&groups.set("Incoming_Livechats",queue),showOmnichannel&&omnichannel.size&&groups.set("Open_Livechats",omnichannel),showOmnichannel&&onHold.size&&groups.set("On_Hold_Chats",onHold),sidebarShowUnread&&unread.size&&groups.set("Unread",unread),favoritesEnabled&&favorite.size&&groups.set("Favorites",favorite),sidebarGroupByType&&team.size&&groups.set("Teams",team),sidebarGroupByType&&isDiscussionEnabled&&discussion.size&&groups.set("Discussions",discussion),sidebarGroupByType&&channels.size&&groups.set("Channels",channels),sidebarGroupByType&&direct.size&&groups.set("Direct_Messages",direct),!sidebarGroupByType&&groups.set("Conversations",conversation),sidebarOrder.map((function(key){var group=groups.get(key);return group?[key].concat(_toConsumableArray(group)):[]})).flat()}))}),[rooms,showOmnichannel,incomingCalls,inquiries.enabled,queue,sidebarShowUnread,favoritesEnabled,sidebarGroupByType,setRoomList,isDiscussionEnabled,sidebarOrder]),roomList},tinykeys_module=__webpack_require__("./node_modules/tinykeys/dist/tinykeys.module.js"),useTemplateByViewMode=__webpack_require__("./client/sidebarv2/hooks/useTemplateByViewMode.ts"),SidebarItemTemplateWithData=__webpack_require__("./client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx"),RoomListRow=function RoomListRow(_ref){var data=_ref.data,item=_ref.item,extended=data.extended,t=data.t,SidebarItemTemplate=data.SidebarItemTemplate,AvatarTemplate=data.AvatarTemplate,openedRoom=data.openedRoom,sidebarViewMode=data.sidebarViewMode,_acceptCall=(0,VideoConfContext.T9)(),_rejectCall=(0,VideoConfContext.ip)(),currentCall=(0,VideoConfContext.gA)().find((function(call){return call.rid===item.rid})),videoConfActions=(0,react.useMemo)((function(){return currentCall&&{acceptCall:function acceptCall(){return _acceptCall(currentCall.callId)},rejectCall:function rejectCall(){return _rejectCall(currentCall.callId)}}}),[_acceptCall,_rejectCall,currentCall]);return react.createElement(SidebarItemTemplateWithData.Ay,{sidebarViewMode:sidebarViewMode,selected:item.rid===openedRoom,t:t,room:item,extended:extended,SidebarItemTemplate:SidebarItemTemplate,AvatarTemplate:AvatarTemplate,videoConfActions:videoConfActions})},RoomList_RoomListRow=(0,react.memo)(RoomListRow);function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}RoomListRow.__docgenInfo={description:"",methods:[],displayName:"RoomListRow",props:{data:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n\textended: boolean;\n\tt: ReturnType<typeof useTranslation>;\n\tSidebarItemTemplate: ReturnType<typeof useTemplateByViewMode>;\n\tAvatarTemplate: ReturnType<typeof useAvatarTemplate>;\n\topenedRoom: string;\n\tsidebarViewMode: 'extended' | 'condensed' | 'medium';\n\tisAnonymous: boolean;\n}",signature:{properties:[{key:"extended",value:{name:"boolean",required:!0}},{key:"t",value:{name:"ReturnType",elements:[{name:"useTranslation"}],raw:"ReturnType<typeof useTranslation>",required:!0}},{key:"SidebarItemTemplate",value:{name:"ReturnType",elements:[{name:"useTemplateByViewMode"}],raw:"ReturnType<typeof useTemplateByViewMode>",required:!0}},{key:"AvatarTemplate",value:{name:"ReturnType",elements:[{name:"useAvatarTemplate"}],raw:"ReturnType<typeof useAvatarTemplate>",required:!0}},{key:"openedRoom",value:{name:"string",required:!0}},{key:"sidebarViewMode",value:{name:"union",raw:"'extended' | 'condensed' | 'medium'",elements:[{name:"literal",value:"'extended'"},{name:"literal",value:"'condensed'"},{name:"literal",value:"'medium'"}],required:!0}},{key:"isAnonymous",value:{name:"boolean",required:!0}}]}},description:""},item:{required:!0,tsType:{name:"intersection",raw:"ISubscription & IRoom",elements:[{name:"ISubscription"},{name:"IRoom"}]},description:""}}};var RoomListRoomWrapper=(0,react.forwardRef)((function RoomListRoomWrapper(props,ref){return react.createElement(fuselage.SidebarV2ListItem,_extends({ref:ref},props))})),RoomListRowWrapper=RoomListRoomWrapper;RoomListRoomWrapper.__docgenInfo={description:"",methods:[],displayName:"RoomListRoomWrapper"};var isListItem=function isListItem(node){return node.classList.contains("rcx-sidebar-v2-item")},isListItemMenu=function isListItemMenu(node){return node.classList.contains("rcx-sidebar-v2-item__menu")};function RoomListWrapper_extends(){return RoomListWrapper_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},RoomListWrapper_extends.apply(null,arguments)}var RoomListWrapper=(0,react.forwardRef)((function RoomListWrapper(props,ref){var t=(0,dist.useTranslation)(),sidebarListRef=function useSidebarListNavigation(){var sidebarListFocusManager=(0,dist_import.H8)();return{sidebarListRef:(0,react.useCallback)((function(node){var lastItemFocused=null;node&&(node.addEventListener("keydown",(function(e){e.target&&isListItem(e.target)&&("Tab"===e.key&&(e.preventDefault(),e.stopPropagation(),e.shiftKey?sidebarListFocusManager.focusPrevious({accept:function accept(node){return!isListItem(node)&&!isListItemMenu(node)}}):isListItemMenu(e.target)?sidebarListFocusManager.focusNext({accept:function accept(node){return!isListItem(node)&&!isListItemMenu(node)}}):sidebarListFocusManager.focusNext({accept:function accept(node){return!isListItem(node)}})),"ArrowUp"!==e.key&&"ArrowDown"!==e.key||("ArrowUp"===e.key&&sidebarListFocusManager.focusPrevious({accept:function accept(node){return isListItem(node)}}),"ArrowDown"===e.key&&sidebarListFocusManager.focusNext({accept:function accept(node){return isListItem(node)}}),lastItemFocused=document.activeElement))})),node.addEventListener("blur",(function(e){var _e$relatedTarget;null!==(_e$relatedTarget=e.relatedTarget)&&void 0!==_e$relatedTarget&&_e$relatedTarget.classList.contains("focus-visible")&&e.currentTarget instanceof HTMLElement&&e.relatedTarget instanceof HTMLElement&&(e.currentTarget.contains(e.relatedTarget)||lastItemFocused||(lastItemFocused=e.target))}),{capture:!0}),node.addEventListener("focus",(function(e){var _e$target,_lastItemFocused;(null===(_e$target=e.target)||void 0===_e$target?void 0:_e$target.classList.contains("focus-visible"))&&e.currentTarget instanceof HTMLElement&&e.relatedTarget instanceof HTMLElement&&lastItemFocused&&!e.currentTarget.contains(e.relatedTarget)&&node.contains(e.target)&&(null===(_lastItemFocused=lastItemFocused)||void 0===_lastItemFocused||_lastItemFocused.focus())}),{capture:!0}))}),[sidebarListFocusManager])}}().sidebarListRef,mergedRefs=(0,dist_index_module.useMergedRefs)(ref,sidebarListRef);return react.createElement("div",RoomListWrapper_extends({role:"list","aria-label":t("Channels"),ref:mergedRefs},props))})),RoomList_RoomListWrapper=RoomListWrapper;RoomListWrapper.__docgenInfo={description:"",methods:[],displayName:"RoomListWrapper"};var RoomList=function RoomList(){var _useOpenedRoom,t=(0,dist.useTranslation)(),isAnonymous=!(0,dist.useUserId)(),roomsList=useRoomList(),avatarTemplate=(0,useAvatarTemplate.h)(),sideBarItemTemplate=(0,useTemplateByViewMode.d)(),ref=(0,dist_index_module.useResizeObserver)({debounceDelay:100}).ref,openedRoom=null!==(_useOpenedRoom=(0,RoomManager.useOpenedRoom)())&&void 0!==_useOpenedRoom?_useOpenedRoom:"",sidebarViewMode=(0,dist.useUserPreference)("sidebarViewMode")||"extended",extended="extended"===sidebarViewMode,itemData=(0,react.useMemo)((function(){return{extended:extended,t:t,SidebarItemTemplate:sideBarItemTemplate,AvatarTemplate:avatarTemplate,openedRoom:openedRoom,sidebarViewMode:sidebarViewMode,isAnonymous:isAnonymous}}),[avatarTemplate,extended,isAnonymous,openedRoom,sideBarItemTemplate,sidebarViewMode,t]);usePreventDefault(ref),function useShortcutOpenMenu(ref){(0,react.useEffect)((function(){var unsubscribe=(0,tinykeys_module.Ay)(ref.current,{Alt:function Alt(event){var _querySelector;event.target.className.includes("rcx-sidebar-item")&&(event.preventDefault(),null===(_querySelector=event.target.querySelector("button"))||void 0===_querySelector||_querySelector.click())}});return function(){unsubscribe()}}),[ref])}(ref);var _getRoomsByGroup=function getRoomsByGroup(rooms){return{groupCounts:rooms.reduce((function(acc,item,index){return"string"==typeof item&&acc.push(index),acc}),[]).map((function(item,index,arr){return(arr[index+1]?arr[index+1]:rooms.length)-item-1})),groupList:rooms.filter((function(item){return"string"==typeof item})),roomList:rooms.filter((function(item){return"string"!=typeof item}))}}(roomsList),groupCounts=_getRoomsByGroup.groupCounts,groupList=_getRoomsByGroup.groupList,roomList=_getRoomsByGroup.roomList;return react.createElement(fuselage.Box,{position:"relative",display:"flex",overflow:"hidden",height:"full",flexGrow:1,flexShrink:1,flexBasis:"auto",ref:ref},react.createElement(react_virtuoso_dist.GroupedVirtuoso,{groupCounts:groupCounts,groupContent:function groupContent(index){return react.createElement(fuselage.SidebarV2GroupTitle,{title:t(groupList[index])})},itemContent:function itemContent(index){return react.createElement(RoomList_RoomListRow,{data:itemData,item:roomList[index]})},components:{Item:RoomListRowWrapper,List:RoomList_RoomListWrapper,Scroller:CustomScrollbars.Z}}))},RoomList_RoomList=RoomList;RoomList.__docgenInfo={description:"",methods:[],displayName:"RoomList"};var _templateObject,CallContext=__webpack_require__("./client/contexts/CallContext.ts"),ui_theming_dist=__webpack_require__("../../ee/packages/ui-theming/dist/index.js"),useLicense=__webpack_require__("./client/hooks/useLicense.ts"),SidebarFooterWatermark=function SidebarFooterWatermark(){var t=(0,dist.useTranslation)(),response=(0,useLicense.RR)(),licenseName=(0,useLicense.MT)();if(response.isLoading||response.isError)return null;if(licenseName.isError||licenseName.isLoading)return null;var license=response.data;return license.activeModules.includes("hide-watermark")&&!license.trial?null:react.createElement(fuselage.Box,{pi:16,pbe:8},react.createElement(fuselage.Box,{is:"a",href:"https://rocket.chat/",target:"_blank",rel:"noopener noreferrer"},react.createElement(fuselage.Box,{fontScale:"micro",color:"hint",pbe:4},t("Powered_by_RocketChat")),react.createElement(fuselage.Box,{fontScale:"micro",color:"pure-white",pbe:4},licenseName.data)))};function SidebarFooterDefault_slicedToArray(r,e){return function SidebarFooterDefault_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function SidebarFooterDefault_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function SidebarFooterDefault_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return SidebarFooterDefault_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?SidebarFooterDefault_arrayLikeToArray(r,a):void 0}}(r,e)||function SidebarFooterDefault_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SidebarFooterDefault_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}SidebarFooterWatermark.__docgenInfo={description:"",methods:[],displayName:"SidebarFooterWatermark"};var SidebarFooterDefault=function SidebarFooterDefault(){var theme=SidebarFooterDefault_slicedToArray((0,ui_theming_dist.e)(),3)[2],logo=String((0,dist.useSetting)("dark"===theme?"Layout_Sidenav_Footer_Dark":"Layout_Sidenav_Footer")).trim(),sidebarFooterStyle=(0,index_module.css)(_templateObject||(_templateObject=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\t\t& img {\n\t\t\tmax-width: 100%;\n\t\t\theight: 100%;\n\t\t}\n\n\t\t& a:any-link {\n\t\t\tcolor: ",";\n\t\t}\n\t"])),fuselage.Palette.text["font-info"]);return react.createElement(fuselage.SidebarFooter,null,react.createElement(fuselage.SidebarDivider,null),react.createElement(fuselage.Box,{is:"footer",pb:12,pi:16,height:"x48",width:"auto",className:sidebarFooterStyle,dangerouslySetInnerHTML:{__html:logo}}),react.createElement(SidebarFooterWatermark,null))},footer_SidebarFooterDefault=SidebarFooterDefault;SidebarFooterDefault.__docgenInfo={description:"",methods:[],displayName:"SidebarFooterDefault"};var useVoipFooterMenu=__webpack_require__("./client/hooks/useVoipFooterMenu.tsx"),voip_VoipFooter=__webpack_require__("./client/sidebarv2/footer/voip/VoipFooter.tsx");function voip_slicedToArray(r,e){return function voip_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function voip_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function voip_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return voip_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?voip_arrayLikeToArray(r,a):void 0}}(r,e)||function voip_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function voip_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var VoipFooter=function VoipFooter(){var t=(0,dist.useTranslation)(),callerInfo=(0,CallContext.L)(),callActions=(0,CallContext.v8)(),dispatchEvent=(0,dist.useEndpoint)("POST","/v1/voip/events"),createRoom=(0,CallContext.Xu)(),openRoom=(0,CallContext.j2)(),queueCounter=(0,CallContext.Xz)(),queueName=(0,CallContext.KI)(),openedRoomInfo=(0,CallContext.E0)(),options=(0,useVoipFooterMenu.C)(),_useState2=voip_slicedToArray((0,react.useState)(!1),2),muted=_useState2[0],setMuted=_useState2[1],_useState4=voip_slicedToArray((0,react.useState)(!1),2),paused=_useState4[0],setPaused=_useState4[1],isEnterprise=(0,CallContext.ZK)(),toggleMic=(0,react.useCallback)((function(state){state?callActions.mute():callActions.unmute(),setMuted(state)}),[callActions]),togglePause=(0,react.useCallback)((function(state){state?callActions.pause():callActions.resume(),setMuted(!1),setPaused(state)}),[callActions]);return"caller"in callerInfo?react.createElement(voip_VoipFooter.A,{caller:callerInfo.caller,callerState:callerInfo.state,callActions:callActions,title:queueName||t("Phone_call"),subtitle:function getSubtitle(state){return{IN_CALL:t("In_progress"),OFFER_RECEIVED:t("Ringing"),OFFER_SENT:t("Calling"),ON_HOLD:t("On_Hold")}[state]||""}(callerInfo.state),muted:muted,paused:paused,toggleMic:toggleMic,togglePause:togglePause,createRoom:createRoom,openRoom:openRoom,callsInQueue:t("Calls_in_queue",{count:queueCounter}),dispatchEvent:dispatchEvent,openedRoomInfo:openedRoomInfo,isEnterprise:isEnterprise,options:options}):react.createElement(footer_SidebarFooterDefault,null)};VoipFooter.__docgenInfo={description:"",methods:[],displayName:"VoipFooter"};var SidebarFooter=function SidebarFooter(){var isCallEnabled=(0,CallContext.FC)(),ready=(0,CallContext.JD)();return isCallEnabled&&ready?react.createElement(VoipFooter,null):react.createElement(footer_SidebarFooterDefault,null)},footer_SidebarFooter=SidebarFooter;SidebarFooter.__docgenInfo={description:"",methods:[],displayName:"SidebarFooter"};var index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),UserStatus=__webpack_require__("./client/components/UserStatus/index.ts"),roomCoordinator=__webpack_require__("./client/lib/rooms/roomCoordinator.tsx");function UserItem_typeof(o){return UserItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},UserItem_typeof(o)}function UserItem_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function UserItem_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?UserItem_ownKeys(Object(t),!0).forEach((function(r){UserItem_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):UserItem_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function UserItem_defineProperty(e,r,t){return(r=function UserItem_toPropertyKey(t){var i=function UserItem_toPrimitive(t,r){if("object"!=UserItem_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=UserItem_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==UserItem_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var UserItem=function UserItem(_ref){var item=_ref.item,id=_ref.id,style=_ref.style,t=_ref.t,SidebarItemTemplate=_ref.SidebarItemTemplate,AvatarTemplate=_ref.AvatarTemplate,title=_ref.useRealName?item.fname||item.name:item.name||item.fname,icon=react.createElement(fuselage.SidebarV2ItemIcon,{icon:react.createElement(UserStatus.LO,{uid:item._id})}),href=roomCoordinator.roomCoordinator.getRouteLink(item.t,{name:item.name});return react.createElement(SidebarItemTemplate,{is:"a",style:UserItem_objectSpread({height:"100%"},style),id:id,href:href,title:title,subtitle:t("No_messages_yet"),avatar:AvatarTemplate&&react.createElement(AvatarTemplate,item),icon:icon})},search_UserItem=(0,react.memo)(UserItem);UserItem.__docgenInfo={description:"",methods:[],displayName:"UserItem",props:{item:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n\tname?: string;\n\tfname?: string;\n\t_id: IUser['_id'];\n\tt: string;\n}",signature:{properties:[{key:"name",value:{name:"string",required:!1}},{key:"fname",value:{name:"string",required:!1}},{key:"_id",value:{name:"IUser['_id']",raw:"IUser['_id']",required:!0}},{key:"t",value:{name:"string",required:!0}}]}},description:""},t:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => string",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"string"}}},description:""},SidebarItemTemplate:{required:!0,tsType:{name:"any"},description:""},AvatarTemplate:{required:!0,tsType:{name:"any"},description:""},id:{required:!0,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"CSSStyleRule"},description:""},useRealName:{required:!1,tsType:{name:"boolean"},description:""}}};var Row=function Row(_ref){var item=_ref.item,data=_ref.data,t=data.t,SidebarItemTemplate=data.SidebarItemTemplate,AvatarTemplate=data.avatarTemplate,useRealName=data.useRealName,extended=data.extended;return"d"!==item.t||item.u?react.createElement(SidebarItemTemplateWithData.Ay,{id:"search-".concat(item._id),extended:extended,t:t,room:item,SidebarItemTemplate:SidebarItemTemplate,AvatarTemplate:AvatarTemplate}):react.createElement(search_UserItem,{id:"search-".concat(item._id),useRealName:useRealName,t:t,item:item,SidebarItemTemplate:SidebarItemTemplate,AvatarTemplate:AvatarTemplate})},search_Row=(0,react.memo)(Row);Row.__docgenInfo={description:"",methods:[],displayName:"Row",props:{item:{required:!0,tsType:{name:"intersection",raw:"ISubscription & IRoom",elements:[{name:"ISubscription"},{name:"IRoom"}]},description:""},data:{required:!0,tsType:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},description:""}}};var esm=__webpack_require__("./node_modules/@rocket.chat/string-helpers/dist/esm/index.js"),lib=__webpack_require__("../../node_modules/@tanstack/react-query/build/lib/index.js"),getConfig=__webpack_require__("./client/lib/utils/getConfig.ts");function useSearchItems_typeof(o){return useSearchItems_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useSearchItems_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==useSearchItems_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(useSearchItems_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}function useSearchItems_toConsumableArray(r){return function useSearchItems_arrayWithoutHoles(r){if(Array.isArray(r))return useSearchItems_arrayLikeToArray(r)}(r)||function useSearchItems_iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||useSearchItems_unsupportedIterableToArray(r)||function useSearchItems_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useSearchItems_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function useSearchItems_defineProperty(e,r,t){return(r=function useSearchItems_toPropertyKey(t){var i=function useSearchItems_toPrimitive(t,r){if("object"!=useSearchItems_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=useSearchItems_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==useSearchItems_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function useSearchItems_slicedToArray(r,e){return function useSearchItems_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function useSearchItems_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||useSearchItems_unsupportedIterableToArray(r,e)||function useSearchItems_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useSearchItems_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return useSearchItems_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?useSearchItems_arrayLikeToArray(r,a):void 0}}function useSearchItems_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var LIMIT=parseInt(String((0,getConfig.z)("Sidebar_Search_Spotlight_LIMIT",20))),options={sort:{lm:-1,name:1},limit:LIMIT},useSearchItems=function useSearchItems(filterText){var _useMemo2=useSearchItems_slicedToArray((0,react.useMemo)((function(){return filterText.match(/(@|#)?(.*)/i)||[]}),[filterText]),3),mention=_useMemo2[1],name=_useMemo2[2],query=(0,react.useMemo)((function(){var filterRegex=new RegExp((0,esm.Nt)(name),"i");return function useSearchItems_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?useSearchItems_ownKeys(Object(t),!0).forEach((function(r){useSearchItems_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useSearchItems_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({$or:[{name:filterRegex},{fname:filterRegex}]},mention&&{t:"@"===mention?"d":{$ne:"d"}})}),[name,mention]),localRooms=(0,dist.useUserSubscriptions)(query,options),usernamesFromClient=useSearchItems_toConsumableArray(null==localRooms?void 0:localRooms.map((function(_ref){var t=_ref.t,name=_ref.name;return"d"===t?name:null}))).filter(Boolean),searchForChannels="#"===mention,searchForDMs="@"===mention,type=(0,react.useMemo)((function(){return searchForChannels?{users:!1,rooms:!0,includeFederatedRooms:!0}:searchForDMs?{users:!0,rooms:!1}:{users:!0,rooms:!0,includeFederatedRooms:!0}}),[searchForChannels,searchForDMs]),getSpotlight=(0,dist.useMethod)("spotlight");return(0,lib.useQuery)(["sidebar/search/spotlight",name,usernamesFromClient,type,localRooms.map((function(_ref2){return _ref2._id+_ref2.name}))],_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var spotlight,filterUsersUnique,roomFilter,usersFilter,userMap,resultsFromServer,exact;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(localRooms.length!==LIMIT){_context.next=2;break}return _context.abrupt("return",localRooms);case 2:return _context.next=4,getSpotlight(name,usernamesFromClient,type);case 4:return spotlight=_context.sent,filterUsersUnique=function filterUsersUnique(_ref4,index,arr){var _id=_ref4._id;return index===arr.findIndex((function(user){return _id===user._id}))},roomFilter=function roomFilter(room){return!localRooms.find((function(item){var _room$uids;return"d"===room.t&&room.uids&&room.uids.length>1&&(null===(_room$uids=room.uids)||void 0===_room$uids?void 0:_room$uids.includes(item._id))||[item.rid,item._id].includes(room._id)}))},usersFilter=function usersFilter(user){return!localRooms.find((function(room){var _room$uids2;return"d"===room.t&&room.uids&&2===(null===(_room$uids2=room.uids)||void 0===_room$uids2?void 0:_room$uids2.length)&&room.uids.includes(user._id)}))},userMap=function userMap(user){return{_id:user._id,t:"d",name:user.username,fname:user.name,avatarETag:user.avatarETag}},(resultsFromServer=[]).push.apply(resultsFromServer,useSearchItems_toConsumableArray(spotlight.users.filter(filterUsersUnique).filter(usersFilter).map(userMap))),resultsFromServer.push.apply(resultsFromServer,useSearchItems_toConsumableArray(spotlight.rooms.filter(roomFilter))),exact=null==resultsFromServer?void 0:resultsFromServer.filter((function(item){return[item.name,item.fname].includes(name)})),_context.abrupt("return",Array.from(new Set([].concat(useSearchItems_toConsumableArray(exact),useSearchItems_toConsumableArray(localRooms),resultsFromServer))));case 14:case"end":return _context.stop()}}),_callee)}))),{staleTime:6e4,keepPreviousData:!0,placeholderData:localRooms})},SearchList=function SearchList(_ref){var filterText=_ref.filterText,onEscSearch=_ref.onEscSearch,t=(0,dist.useTranslation)(),boxRef=(0,react.useRef)(null);usePreventDefault(boxRef);var _useSearchItems=useSearchItems(filterText),_useSearchItems$data=_useSearchItems.data,items=void 0===_useSearchItems$data?[]:_useSearchItems$data,isLoading=_useSearchItems.isLoading,sidebarViewMode=(0,dist.useUserPreference)("sidebarViewMode"),useRealName=(0,dist.useSetting)("UI_Use_Real_Name"),sideBarItemTemplate=(0,useTemplateByViewMode.d)(),avatarTemplate=(0,useAvatarTemplate.h)(),extended="extended"===sidebarViewMode,itemData=(0,react.useMemo)((function(){return{items:items,t:t,SidebarItemTemplate:sideBarItemTemplate,avatarTemplate:avatarTemplate,useRealName:useRealName,extended:extended,sidebarViewMode:sidebarViewMode}}),[avatarTemplate,extended,items,useRealName,sideBarItemTemplate,sidebarViewMode,t]);return react.createElement(fuselage.Box,{ref:boxRef,role:"listbox",tabIndex:-1,flexShrink:1,h:"full",w:"full",pbs:8,"aria-live":"polite","aria-atomic":"true","aria-busy":isLoading,onClick:function handleClick(e){var _e$target$parentEleme;if(!(e.target instanceof Element&&[e.target.tagName,null===(_e$target$parentEleme=e.target.parentElement)||void 0===_e$target$parentEleme?void 0:_e$target$parentEleme.tagName].includes("BUTTON")))return onEscSearch()}},react.createElement(react_virtuoso_dist.Virtuoso,{style:{height:"100%",width:"100%"},totalCount:items.length,data:items,components:{List:RoomList_RoomListWrapper,Scroller:CustomScrollbars.Z},computeItemKey:function computeItemKey(_,room){return room._id},itemContent:function itemContent(_,data){return react.createElement(search_Row,{data:itemData,item:data})}}))},header_SearchList=SearchList;SearchList.__docgenInfo={description:"",methods:[],displayName:"SearchList",props:{filterText:{required:!0,tsType:{name:"string"},description:""},onEscSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var ui_client_dist=__webpack_require__("../../packages/ui-client/dist/index.js"),useIsEnterprise=__webpack_require__("./client/hooks/useIsEnterprise.ts"),CreateDiscussion=__webpack_require__("./client/components/CreateDiscussion/index.ts"),UserAutoCompleteMultipleFederated=__webpack_require__("./client/components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated.tsx"),useHasLicenseModule=__webpack_require__("./client/hooks/useHasLicenseModule.ts"),goToRoomById=__webpack_require__("./client/lib/utils/goToRoomById.ts"),useEncryptedRoomDescription=function useEncryptedRoomDescription(roomType){var t=(0,dist.useTranslation)(),e2eEnabled=(0,dist.useSetting)("E2E_Enable"),e2eEnabledForPrivateByDefault=(0,dist.useSetting)("E2E_Enabled_Default_PrivateRooms");return function(_ref){var isPrivate=_ref.isPrivate,broadcast=_ref.broadcast,encrypted=_ref.encrypted;return e2eEnabled?isPrivate?broadcast?t("Not_available_for_broadcast",{roomType:roomType}):e2eEnabledForPrivateByDefault||encrypted?t("Encrypted_messages",{roomType:roomType}):t("Encrypted_messages_false"):t("Encrypted_not_available",{roomType:roomType}):t("Not_available_for_this_workspace")}};function CreateChannelModal_typeof(o){return CreateChannelModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},CreateChannelModal_typeof(o)}function CreateChannelModal_extends(){return CreateChannelModal_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CreateChannelModal_extends.apply(null,arguments)}function CreateChannelModal_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function CreateChannelModal_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CreateChannelModal_ownKeys(Object(t),!0).forEach((function(r){CreateChannelModal_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CreateChannelModal_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function CreateChannelModal_defineProperty(e,r,t){return(r=function CreateChannelModal_toPropertyKey(t){var i=function CreateChannelModal_toPrimitive(t,r){if("object"!=CreateChannelModal_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=CreateChannelModal_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==CreateChannelModal_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function CreateChannelModal_regeneratorRuntime(){CreateChannelModal_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==CreateChannelModal_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(CreateChannelModal_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function CreateChannelModal_asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function CreateChannelModal_asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){CreateChannelModal_asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){CreateChannelModal_asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}var CreateChannelModal=function CreateChannelModal(_ref){var _ref2,_errors$name,_ref$teamId=_ref.teamId,teamId=void 0===_ref$teamId?"":_ref$teamId,onClose=_ref.onClose,reload=_ref.reload,t=(0,dist.useTranslation)(),canSetReadOnly=(0,dist.usePermissionWithScopedRoles)("set-readonly",["owner"]),e2eEnabled=(0,dist.useSetting)("E2E_Enable"),namesValidation=(0,dist.useSetting)("UTF8_Channel_Names_Validation"),allowSpecialNames=(0,dist.useSetting)("UI_Allow_room_names_with_special_chars"),federationEnabled=(0,dist.useSetting)("Federation_Matrix_enabled")||!1,e2eEnabledForPrivateByDefault=(0,dist.useSetting)("E2E_Enabled_Default_PrivateRooms")&&e2eEnabled,canCreateChannel=(0,dist.usePermission)("create-c"),canCreatePrivateChannel=(0,dist.usePermission)("create-p"),getEncryptedHint=useEncryptedRoomDescription("channel"),channelNameRegex=(0,react.useMemo)((function(){return new RegExp("^".concat(namesValidation,"$"))}),[namesValidation]),federatedModule=(0,useHasLicenseModule.b)("federation"),canUseFederation="loading"!==federatedModule&&federatedModule&&federationEnabled,channelNameExists=(0,dist.useEndpoint)("GET","/v1/rooms.nameExists"),createChannel=(0,dist.useEndpoint)("POST","/v1/channels.create"),createPrivateChannel=(0,dist.useEndpoint)("POST","/v1/groups.create"),dispatchToastMessage=(0,dist.useToastMessageDispatch)(),canOnlyCreateOneType=(0,react.useMemo)((function(){return!canCreateChannel&&canCreatePrivateChannel?"p":!(!canCreateChannel||canCreatePrivateChannel)&&"c"}),[canCreateChannel,canCreatePrivateChannel]),_useForm=(0,index_esm.mN)({mode:"onBlur",defaultValues:{members:[],name:"",topic:"",isPrivate:!canOnlyCreateOneType||"p"===canOnlyCreateOneType,readOnly:!1,encrypted:null!==(_ref2=e2eEnabledForPrivateByDefault)&&void 0!==_ref2&&_ref2,broadcast:!1,federated:!1}}),register=_useForm.register,errors=_useForm.formState.errors,handleSubmit=_useForm.handleSubmit,control=_useForm.control,setValue=_useForm.setValue,_watch=(0,_useForm.watch)(),isPrivate=_watch.isPrivate,broadcast=_watch.broadcast,readOnly=_watch.readOnly,federated=_watch.federated,encrypted=_watch.encrypted;(0,react.useEffect)((function(){isPrivate||setValue("encrypted",!1),broadcast&&setValue("encrypted",!1),federated&&(setValue("encrypted",!1),setValue("broadcast",!1),setValue("readOnly",!1)),setValue("readOnly",broadcast)}),[federated,setValue,broadcast,isPrivate]);var validateChannelName=function(){var _ref3=CreateChannelModal_asyncToGenerator(CreateChannelModal_regeneratorRuntime().mark((function _callee(name){var _yield$channelNameExi;return CreateChannelModal_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(name){_context.next=2;break}return _context.abrupt("return");case 2:if(allowSpecialNames||channelNameRegex.test(name)){_context.next=4;break}return _context.abrupt("return",t("Name_cannot_have_special_characters"));case 4:return _context.next=6,channelNameExists({roomName:name});case 6:if(_yield$channelNameExi=_context.sent,!_yield$channelNameExi.exists){_context.next=10;break}return _context.abrupt("return",t("Channel_already_exist",name));case 10:case"end":return _context.stop()}}),_callee)})));return function validateChannelName(_x){return _ref3.apply(this,arguments)}}(),handleCreateChannel=function(){var _ref5=CreateChannelModal_asyncToGenerator(CreateChannelModal_regeneratorRuntime().mark((function _callee2(_ref4){var name,members,readOnly,topic,broadcast,encrypted,federated,roomData,params;return CreateChannelModal_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(name=_ref4.name,members=_ref4.members,readOnly=_ref4.readOnly,topic=_ref4.topic,broadcast=_ref4.broadcast,encrypted=_ref4.encrypted,federated=_ref4.federated,params={name:name,members:members,readOnly:readOnly,extraData:CreateChannelModal_objectSpread(CreateChannelModal_objectSpread({topic:topic,broadcast:broadcast,encrypted:encrypted},federated&&{federated:federated}),teamId&&{teamId:teamId})},_context2.prev=2,!isPrivate){_context2.next=10;break}return _context2.next=6,createPrivateChannel(params);case 6:roomData=_context2.sent,!teamId&&(0,goToRoomById.P)(roomData.group._id),_context2.next=14;break;case 10:return _context2.next=12,createChannel(params);case 12:roomData=_context2.sent,!teamId&&(0,goToRoomById.P)(roomData.channel._id);case 14:dispatchToastMessage({type:"success",message:t("Room_has_been_created")}),null==reload||reload(),_context2.next=21;break;case 18:_context2.prev=18,_context2.t0=_context2.catch(2),dispatchToastMessage({type:"error",message:_context2.t0});case 21:return _context2.prev=21,onClose(),_context2.finish(21);case 24:case"end":return _context2.stop()}}),_callee2,null,[[2,18,21,24]])})));return function handleCreateChannel(_x2){return _ref5.apply(this,arguments)}}(),e2eDisabled=(0,react.useMemo)((function(){return!isPrivate||broadcast||Boolean(!e2eEnabled)||Boolean(e2eEnabledForPrivateByDefault)}),[e2eEnabled,e2eEnabledForPrivateByDefault,broadcast,isPrivate]),createChannelFormId=(0,dist_index_module.useUniqueId)(),nameId=(0,dist_index_module.useUniqueId)(),topicId=(0,dist_index_module.useUniqueId)(),privateId=(0,dist_index_module.useUniqueId)(),federatedId=(0,dist_index_module.useUniqueId)(),readOnlyId=(0,dist_index_module.useUniqueId)(),encryptedId=(0,dist_index_module.useUniqueId)(),broadcastId=(0,dist_index_module.useUniqueId)(),addMembersId=(0,dist_index_module.useUniqueId)();return react.createElement(fuselage.Modal,{"data-qa":"create-channel-modal","aria-labelledby":"".concat(createChannelFormId,"-title"),wrapperFunction:function wrapperFunction(props){return react.createElement(fuselage.Box,CreateChannelModal_extends({is:"form",id:createChannelFormId,onSubmit:handleSubmit(handleCreateChannel)},props))}},react.createElement(fuselage.Modal.Header,null,react.createElement(fuselage.Modal.Title,{id:"".concat(createChannelFormId,"-title")},t("Create_channel")),react.createElement(fuselage.Modal.Close,{tabIndex:-1,title:t("Close"),onClick:onClose})),react.createElement(fuselage.Modal.Content,{mbe:2},react.createElement(fuselage.FieldGroup,{mbe:24},react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,{required:!0,htmlFor:nameId},t("Name")),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.TextInput,CreateChannelModal_extends({id:nameId,"data-qa-type":"channel-name-input"},register("name",{required:t("Required_field",{field:t("Name")}),validate:function validate(value){return validateChannelName(value)}}),{error:null===(_errors$name=errors.name)||void 0===_errors$name?void 0:_errors$name.message,addon:react.createElement(fuselage.Icon,{name:isPrivate?"hashtag-lock":"hashtag",size:"x20"}),"aria-invalid":errors.name?"true":"false","aria-describedby":"".concat(nameId,"-error ").concat(nameId,"-hint"),"aria-required":"true"}))),errors.name&&react.createElement(fuselage.FieldError,{"aria-live":"assertive",id:"".concat(nameId,"-error")},errors.name.message),!allowSpecialNames&&react.createElement(fuselage.FieldHint,{id:"".concat(nameId,"-hint")},t("No_spaces"))),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,{htmlFor:topicId},t("Topic")),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.TextInput,CreateChannelModal_extends({id:topicId,"aria-describedby":"".concat(topicId,"-hint")},register("topic"),{"data-qa-type":"channel-topic-input"}))),react.createElement(fuselage.FieldHint,{id:"".concat(topicId,"-hint")},t("Displayed_next_to_name"))),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,{htmlFor:addMembersId},t("Members")),react.createElement(index_esm.xI,{control:control,name:"members",render:function render(_ref6){var _ref6$field=_ref6.field,onChange=_ref6$field.onChange,value=_ref6$field.value;return react.createElement(UserAutoCompleteMultipleFederated.A,{id:addMembersId,value:value,onChange:onChange,placeholder:t("Add_people")})}})),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:privateId},t("Private")),react.createElement(index_esm.xI,{control:control,name:"isPrivate",render:function render(_ref7){var _ref7$field=_ref7.field,onChange=_ref7$field.onChange,value=_ref7$field.value,ref=_ref7$field.ref;return react.createElement(fuselage.ToggleSwitch,{id:privateId,"aria-describedby":"".concat(privateId,"-hint"),ref:ref,checked:value,disabled:!!canOnlyCreateOneType,onChange:onChange})}})),react.createElement(fuselage.FieldHint,{id:"".concat(privateId,"-hint")},t(isPrivate?"People_can_only_join_by_being_invited":"Anyone_can_access")))),react.createElement(fuselage.Accordion,null,react.createElement(fuselage.AccordionItem,{title:t("Advanced_settings")},react.createElement(fuselage.FieldGroup,null,react.createElement(fuselage.Box,{is:"h5",fontScale:"h5",color:"titles-labels"},t("Security_and_permissions")),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:federatedId},t("Federation_Matrix_Federated")),react.createElement(index_esm.xI,{control:control,name:"federated",render:function render(_ref8){var _ref8$field=_ref8.field,onChange=_ref8$field.onChange,value=_ref8$field.value,ref=_ref8$field.ref;return react.createElement(fuselage.ToggleSwitch,{"aria-describedby":"".concat(federatedId,"-hint"),id:federatedId,ref:ref,checked:value,disabled:!canUseFederation,onChange:onChange})}})),react.createElement(fuselage.FieldHint,{id:"".concat(federatedId,"-hint")},t(function getFederationHintKey(licenseModule,featureToggle){return"loading"!==licenseModule&&licenseModule?featureToggle?"Federation_Matrix_Federated_Description":"Federation_Matrix_Federated_Description_disabled":"error-this-is-a-premium-feature"}(federatedModule,federationEnabled)))),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:encryptedId},t("Encrypted")),react.createElement(index_esm.xI,{control:control,name:"encrypted",render:function render(_ref9){var _ref9$field=_ref9.field,onChange=_ref9$field.onChange,value=_ref9$field.value,ref=_ref9$field.ref;return react.createElement(fuselage.ToggleSwitch,{id:encryptedId,ref:ref,checked:value,disabled:e2eDisabled||federated,onChange:onChange,"aria-describedby":"".concat(encryptedId,"-hint"),"aria-labelledby":"Encrypted_channel_Label"})}})),react.createElement(fuselage.FieldDescription,{id:"".concat(encryptedId,"-hint")},getEncryptedHint({isPrivate:isPrivate,broadcast:broadcast,encrypted:encrypted}))),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:readOnlyId},t("Read_only")),react.createElement(index_esm.xI,{control:control,name:"readOnly",render:function render(_ref10){var _ref10$field=_ref10.field,onChange=_ref10$field.onChange,value=_ref10$field.value,ref=_ref10$field.ref;return react.createElement(fuselage.ToggleSwitch,{id:readOnlyId,"aria-describedby":"".concat(readOnlyId,"-hint"),ref:ref,checked:value,disabled:!canSetReadOnly||broadcast||federated,onChange:onChange})}})),react.createElement(fuselage.FieldHint,{id:"".concat(readOnlyId,"-hint")},readOnly?t("Read_only_field_hint_enabled",{roomType:"channel"}):t("Anyone_can_send_new_messages"))),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:broadcastId},t("Broadcast")),react.createElement(index_esm.xI,{control:control,name:"broadcast",render:function render(_ref11){var _ref11$field=_ref11.field,onChange=_ref11$field.onChange,value=_ref11$field.value,ref=_ref11$field.ref;return react.createElement(fuselage.ToggleSwitch,{"aria-describedby":"".concat(broadcastId,"-hint"),id:broadcastId,ref:ref,checked:value,disabled:!!federated,onChange:onChange})}})),broadcast&&react.createElement(fuselage.FieldHint,{id:"".concat(broadcastId,"-hint")},t("Broadcast_hint_enabled",{roomType:"channel"}))))))),react.createElement(fuselage.Modal.Footer,null,react.createElement(fuselage.Modal.FooterControllers,null,react.createElement(fuselage.Button,{onClick:onClose},t("Cancel")),react.createElement(fuselage.Button,{type:"submit",primary:!0,"data-qa-type":"create-channel-confirm-button"},t("Create")))))},header_CreateChannelModal=CreateChannelModal;function CreateDirectMessage_typeof(o){return CreateDirectMessage_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},CreateDirectMessage_typeof(o)}function CreateDirectMessage_extends(){return CreateDirectMessage_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CreateDirectMessage_extends.apply(null,arguments)}function CreateDirectMessage_regeneratorRuntime(){CreateDirectMessage_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==CreateDirectMessage_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(CreateDirectMessage_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function CreateDirectMessage_asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}CreateChannelModal.__docgenInfo={description:"",methods:[],displayName:"CreateChannelModal",props:{teamId:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},reload:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var CreateDirectMessage=function CreateDirectMessage(_ref){var onClose=_ref.onClose,t=(0,dist.useTranslation)(),directMaxUsers=(0,dist.useSetting)("DirectMesssage_maxUsers")||1,membersFieldId=(0,dist_index_module.useUniqueId)(),dispatchToastMessage=(0,dist.useToastMessageDispatch)(),createDirectAction=(0,dist.useEndpoint)("POST","/v1/dm.create"),_useForm=(0,index_esm.mN)({mode:"onBlur",defaultValues:{users:[]}}),control=_useForm.control,handleSubmit=_useForm.handleSubmit,_useForm$formState=_useForm.formState,isSubmitting=_useForm$formState.isSubmitting,isValidating=_useForm$formState.isValidating,errors=_useForm$formState.errors,mutateDirectMessage=(0,lib.useMutation)({mutationFn:createDirectAction,onSuccess:function onSuccess(_ref2){var rid=_ref2.room.rid;(0,goToRoomById.P)(rid)},onError:function onError(error){dispatchToastMessage({type:"error",message:error})},onSettled:function onSettled(){onClose()}}),handleCreate=function(){var _ref4=function CreateDirectMessage_asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){CreateDirectMessage_asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){CreateDirectMessage_asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(CreateDirectMessage_regeneratorRuntime().mark((function _callee(_ref3){var users;return CreateDirectMessage_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return users=_ref3.users,_context.abrupt("return",mutateDirectMessage.mutateAsync({usernames:users.join(",")}));case 2:case"end":return _context.stop()}}),_callee)})));return function handleCreate(_x){return _ref4.apply(this,arguments)}}();return react.createElement(fuselage.Modal,{"data-qa":"create-direct-modal",wrapperFunction:function wrapperFunction(props){return react.createElement(fuselage.Box,CreateDirectMessage_extends({is:"form",onSubmit:handleSubmit(handleCreate)},props))}},react.createElement(fuselage.Modal.Header,null,react.createElement(fuselage.Modal.Title,null,t("Create_direct_message")),react.createElement(fuselage.Modal.Close,{tabIndex:-1,onClick:onClose})),react.createElement(fuselage.Modal.Content,{mbe:2},react.createElement(fuselage.FieldGroup,null,react.createElement(fuselage.Field,null,react.createElement(fuselage.Box,{htmlFor:membersFieldId},t("Direct_message_creation_description")),react.createElement(fuselage.FieldRow,null,react.createElement(index_esm.xI,{name:"users",rules:{required:t("Direct_message_creation_error"),validate:function validate(users){return users.length+1>directMaxUsers?t("error-direct-message-max-user-exceeded",{maxUsers:directMaxUsers}):void 0}},control:control,render:function render(_ref5){var _ref5$field=_ref5.field,name=_ref5$field.name,onChange=_ref5$field.onChange,value=_ref5$field.value,onBlur=_ref5$field.onBlur;return react.createElement(UserAutoCompleteMultipleFederated.A,{name:name,onChange:onChange,value:value,onBlur:onBlur,id:membersFieldId,"aria-describedby":"".concat(membersFieldId,"-hint ").concat(membersFieldId,"-error"),"aria-required":"true","aria-invalid":Boolean(errors.users)})}})),errors.users&&react.createElement(fuselage.FieldError,{"aria-live":"assertive",id:"".concat(membersFieldId,"-error")},errors.users.message),react.createElement(fuselage.FieldHint,{id:"".concat(membersFieldId,"-hint")},t("Direct_message_creation_description_hint"))))),react.createElement(fuselage.Modal.Footer,null,react.createElement(fuselage.Modal.FooterControllers,null,react.createElement(fuselage.Button,{onClick:onClose},t("Cancel")),react.createElement(fuselage.Button,{loading:isSubmitting||isValidating,type:"submit",primary:!0},t("Create")))))},header_CreateDirectMessage=(0,react.memo)(CreateDirectMessage);CreateDirectMessage.__docgenInfo={description:"",methods:[],displayName:"CreateDirectMessage",props:{onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var UserAutoCompleteMultiple=__webpack_require__("./client/components/UserAutoCompleteMultiple/index.ts");function CreateTeamModal_typeof(o){return CreateTeamModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},CreateTeamModal_typeof(o)}function CreateTeamModal_extends(){return CreateTeamModal_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CreateTeamModal_extends.apply(null,arguments)}function CreateTeamModal_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function CreateTeamModal_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CreateTeamModal_ownKeys(Object(t),!0).forEach((function(r){CreateTeamModal_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CreateTeamModal_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function CreateTeamModal_defineProperty(e,r,t){return(r=function CreateTeamModal_toPropertyKey(t){var i=function CreateTeamModal_toPrimitive(t,r){if("object"!=CreateTeamModal_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=CreateTeamModal_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==CreateTeamModal_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function CreateTeamModal_regeneratorRuntime(){CreateTeamModal_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==CreateTeamModal_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(CreateTeamModal_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function CreateTeamModal_asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function CreateTeamModal_asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){CreateTeamModal_asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){CreateTeamModal_asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}var CreateTeamModal=function CreateTeamModal(_ref){var _ref3,_errors$name,onClose=_ref.onClose,t=(0,dist.useTranslation)(),e2eEnabled=(0,dist.useSetting)("E2E_Enable"),e2eEnabledForPrivateByDefault=(0,dist.useSetting)("E2E_Enabled_Default_PrivateRooms"),namesValidation=(0,dist.useSetting)("UTF8_Channel_Names_Validation"),allowSpecialNames=(0,dist.useSetting)("UI_Allow_room_names_with_special_chars"),dispatchToastMessage=(0,dist.useToastMessageDispatch)(),canCreateTeam=(0,dist.usePermission)("create-team"),canSetReadOnly=(0,dist.usePermissionWithScopedRoles)("set-readonly",["owner"]),checkTeamNameExists=(0,dist.useEndpoint)("GET","/v1/rooms.nameExists"),createTeamAction=(0,dist.useEndpoint)("POST","/v1/teams.create"),teamNameRegex=(0,react.useMemo)((function(){return allowSpecialNames?null:new RegExp("^".concat(namesValidation,"$"))}),[allowSpecialNames,namesValidation]),validateTeamName=function(){var _ref2=CreateTeamModal_asyncToGenerator(CreateTeamModal_regeneratorRuntime().mark((function _callee(name){var _yield$checkTeamNameE;return CreateTeamModal_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(name){_context.next=2;break}return _context.abrupt("return");case 2:if(!teamNameRegex||null!=teamNameRegex&&teamNameRegex.test(name)){_context.next=4;break}return _context.abrupt("return",t("Name_cannot_have_special_characters"));case 4:return _context.next=6,checkTeamNameExists({roomName:name});case 6:if(_yield$checkTeamNameE=_context.sent,!_yield$checkTeamNameE.exists){_context.next=10;break}return _context.abrupt("return",t("Teams_Errors_Already_exists",{name:name}));case 10:case"end":return _context.stop()}}),_callee)})));return function validateTeamName(_x){return _ref2.apply(this,arguments)}}(),_useForm=(0,index_esm.mN)({defaultValues:{isPrivate:!0,readOnly:!1,encrypted:null!==(_ref3=e2eEnabledForPrivateByDefault)&&void 0!==_ref3&&_ref3,broadcast:!1,members:[],showChannels:!0,showDiscussions:!0}}),register=_useForm.register,control=_useForm.control,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,watch=_useForm.watch,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isSubmitting=_useForm$formState.isSubmitting,_watch=watch(),isPrivate=_watch.isPrivate,broadcast=_watch.broadcast,readOnly=_watch.readOnly,encrypted=_watch.encrypted;(0,react.useEffect)((function(){isPrivate||setValue("encrypted",!1),broadcast&&setValue("encrypted",!1),setValue("readOnly",broadcast)}),[watch,setValue,broadcast,isPrivate]);var canChangeReadOnly=!broadcast,canChangeEncrypted=isPrivate&&!broadcast&&e2eEnabled&&!e2eEnabledForPrivateByDefault,getEncryptedHint=useEncryptedRoomDescription("team"),handleCreateTeam=function(){var _ref5=CreateTeamModal_asyncToGenerator(CreateTeamModal_regeneratorRuntime().mark((function _callee2(_ref4){var name,members,isPrivate,readOnly,topic,broadcast,encrypted,showChannels,showDiscussions,sidepanelItem,params,_yield$createTeamActi,team;return CreateTeamModal_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return name=_ref4.name,members=_ref4.members,isPrivate=_ref4.isPrivate,readOnly=_ref4.readOnly,topic=_ref4.topic,broadcast=_ref4.broadcast,encrypted=_ref4.encrypted,showChannels=_ref4.showChannels,showDiscussions=_ref4.showDiscussions,sidepanelItem=[showChannels&&"channels",showDiscussions&&"discussions"].filter(Boolean),params=CreateTeamModal_objectSpread({name:name,members:members,type:isPrivate?1:0,room:{readOnly:readOnly,extraData:{topic:topic,broadcast:broadcast,encrypted:encrypted}}},(showChannels||showDiscussions)&&{sidepanel:{items:sidepanelItem}}),_context2.prev=3,_context2.next=6,createTeamAction(params);case 6:_yield$createTeamActi=_context2.sent,team=_yield$createTeamActi.team,dispatchToastMessage({type:"success",message:t("Team_has_been_created")}),(0,goToRoomById.P)(team.roomId),_context2.next=15;break;case 12:_context2.prev=12,_context2.t0=_context2.catch(3),dispatchToastMessage({type:"error",message:_context2.t0});case 15:return _context2.prev=15,onClose(),_context2.finish(15);case 18:case"end":return _context2.stop()}}),_callee2,null,[[3,12,15,18]])})));return function handleCreateTeam(_x2){return _ref5.apply(this,arguments)}}(),createTeamFormId=(0,dist_index_module.useUniqueId)(),nameId=(0,dist_index_module.useUniqueId)(),topicId=(0,dist_index_module.useUniqueId)(),privateId=(0,dist_index_module.useUniqueId)(),readOnlyId=(0,dist_index_module.useUniqueId)(),encryptedId=(0,dist_index_module.useUniqueId)(),broadcastId=(0,dist_index_module.useUniqueId)(),addMembersId=(0,dist_index_module.useUniqueId)(),showChannelsId=(0,dist_index_module.useUniqueId)(),showDiscussionsId=(0,dist_index_module.useUniqueId)();return react.createElement(fuselage.Modal,{"aria-labelledby":"".concat(createTeamFormId,"-title"),wrapperFunction:function wrapperFunction(props){return react.createElement(fuselage.Box,CreateTeamModal_extends({is:"form",id:createTeamFormId,onSubmit:handleSubmit(handleCreateTeam)},props))}},react.createElement(fuselage.Modal.Header,null,react.createElement(fuselage.Modal.Title,{id:"".concat(createTeamFormId,"-title")},t("Teams_New_Title")),react.createElement(fuselage.Modal.Close,{title:t("Close"),onClick:onClose,tabIndex:-1})),react.createElement(fuselage.Modal.Content,{mbe:2},react.createElement(fuselage.Box,{fontScale:"p2",mbe:16},t("Teams_new_description")),react.createElement(fuselage.FieldGroup,{mbe:24},react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,{required:!0,htmlFor:nameId},t("Teams_New_Name_Label")),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.TextInput,CreateTeamModal_extends({id:nameId,"aria-invalid":errors.name?"true":"false"},register("name",{required:t("Required_field",{field:t("Name")}),validate:function validate(value){return validateTeamName(value)}}),{addon:react.createElement(fuselage.Icon,{size:"x20",name:isPrivate?"team-lock":"team"}),error:null===(_errors$name=errors.name)||void 0===_errors$name?void 0:_errors$name.message,"aria-describedby":"".concat(nameId,"-error ").concat(nameId,"-hint"),"aria-required":"true"}))),(null==errors?void 0:errors.name)&&react.createElement(fuselage.FieldError,{"aria-live":"assertive",id:"".concat(nameId,"-error")},errors.name.message),!allowSpecialNames&&react.createElement(fuselage.FieldHint,{id:"".concat(nameId,"-hint")},t("No_spaces"))),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,{htmlFor:topicId},t("Topic")),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.TextInput,CreateTeamModal_extends({id:topicId,"aria-describedby":"".concat(topicId,"-hint")},register("topic")))),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldHint,{id:"".concat(topicId,"-hint")},t("Displayed_next_to_name")))),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,{htmlFor:addMembersId},t("Teams_New_Add_members_Label")),react.createElement(index_esm.xI,{control:control,name:"members",render:function render(_ref6){var _ref6$field=_ref6.field,onChange=_ref6$field.onChange,value=_ref6$field.value;return react.createElement(UserAutoCompleteMultiple.A,{id:addMembersId,value:value,onChange:onChange,placeholder:t("Add_people")})}})),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:privateId},t("Teams_New_Private_Label")),react.createElement(index_esm.xI,{control:control,name:"isPrivate",render:function render(_ref7){var _ref7$field=_ref7.field,onChange=_ref7$field.onChange,value=_ref7$field.value,ref=_ref7$field.ref;return react.createElement(fuselage.ToggleSwitch,{id:privateId,"aria-describedby":"".concat(privateId,"-hint"),onChange:onChange,checked:value,ref:ref})}})),react.createElement(fuselage.FieldDescription,{id:"".concat(privateId,"-hint")},t(isPrivate?"People_can_only_join_by_being_invited":"Anyone_can_access")))),react.createElement(fuselage.Accordion,null,react.createElement(fuselage.AccordionItem,{title:t("Advanced_settings")},react.createElement(ui_client_dist.TW,{feature:"sidepanelNavigation"},react.createElement(ui_client_dist.sl,null,null),react.createElement(ui_client_dist.Uq,null,react.createElement(fuselage.FieldGroup,null,react.createElement(fuselage.Box,{is:"h5",fontScale:"h5",color:"titles-labels"},t("Navigation")),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:showChannelsId},t("Channels")),react.createElement(index_esm.xI,{control:control,name:"showChannels",render:function render(_ref8){var _ref8$field=_ref8.field,onChange=_ref8$field.onChange,value=_ref8$field.value,ref=_ref8$field.ref;return react.createElement(fuselage.ToggleSwitch,{"aria-describedby":"".concat(showChannelsId,"-hint"),id:showChannelsId,onChange:onChange,checked:value,ref:ref})}})),react.createElement(fuselage.FieldDescription,{id:"".concat(showChannelsId,"-hint")},t("Show_channels_description"))),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:showDiscussionsId},t("Discussions")),react.createElement(index_esm.xI,{control:control,name:"showDiscussions",render:function render(_ref9){var _ref9$field=_ref9.field,onChange=_ref9$field.onChange,value=_ref9$field.value,ref=_ref9$field.ref;return react.createElement(fuselage.ToggleSwitch,{"aria-describedby":"".concat(showDiscussionsId,"-hint"),id:showDiscussionsId,onChange:onChange,checked:value,ref:ref})}})),react.createElement(fuselage.FieldDescription,{id:"".concat(showDiscussionsId,"-hint")},t("Show_discussions_description")))))),react.createElement(fuselage.FieldGroup,null,react.createElement(fuselage.Box,{is:"h5",fontScale:"h5",color:"titles-labels"},t("Security_and_permissions")),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:encryptedId},t("Teams_New_Encrypted_Label")),react.createElement(index_esm.xI,{control:control,name:"encrypted",render:function render(_ref10){var _ref10$field=_ref10.field,onChange=_ref10$field.onChange,value=_ref10$field.value,ref=_ref10$field.ref;return react.createElement(fuselage.ToggleSwitch,{id:encryptedId,disabled:!canSetReadOnly||!canChangeEncrypted,onChange:onChange,"aria-describedby":"".concat(encryptedId,"-hint"),checked:value,ref:ref})}})),react.createElement(fuselage.FieldDescription,{id:"".concat(encryptedId,"-hint")},getEncryptedHint({isPrivate:isPrivate,broadcast:broadcast,encrypted:encrypted}))),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:readOnlyId},t("Teams_New_Read_only_Label")),react.createElement(index_esm.xI,{control:control,name:"readOnly",render:function render(_ref11){var _ref11$field=_ref11.field,onChange=_ref11$field.onChange,value=_ref11$field.value,ref=_ref11$field.ref;return react.createElement(fuselage.ToggleSwitch,{id:readOnlyId,"aria-describedby":"".concat(readOnlyId,"-hint"),disabled:!canChangeReadOnly,onChange:onChange,checked:value,ref:ref})}})),react.createElement(fuselage.FieldDescription,{id:"".concat(readOnlyId,"-hint")},readOnly?t("Read_only_field_hint_enabled",{roomType:"team"}):t("Anyone_can_send_new_messages"))),react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:broadcastId},t("Teams_New_Broadcast_Label")),react.createElement(index_esm.xI,{control:control,name:"broadcast",render:function render(_ref12){var _ref12$field=_ref12.field,onChange=_ref12$field.onChange,value=_ref12$field.value,ref=_ref12$field.ref;return react.createElement(fuselage.ToggleSwitch,{"aria-describedby":"".concat(broadcastId,"-hint"),id:broadcastId,onChange:onChange,checked:value,ref:ref})}})),broadcast&&react.createElement(fuselage.FieldDescription,{id:"".concat(broadcastId,"-hint")},t("Teams_New_Broadcast_Description"))))))),react.createElement(fuselage.Modal.Footer,null,react.createElement(fuselage.Modal.FooterControllers,null,react.createElement(fuselage.Button,{onClick:onClose},t("Cancel")),react.createElement(fuselage.Button,{disabled:!canCreateTeam,loading:isSubmitting,type:"submit",primary:!0},t("Create")))))},header_CreateTeamModal=(0,react.memo)(CreateTeamModal);CreateTeamModal.__docgenInfo={description:"",methods:[],displayName:"CreateTeamModal",props:{onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var useCreateRoomModal=function useCreateRoomModal(Component){var setModal=(0,dist.useSetModal)();return(0,dist_index_module.useEffectEvent)((function(){var handleClose=function handleClose(){setModal(null)};setModal((function(){return react.createElement(Component,{onClose:handleClose})}))}))};function useCreateRoomItems_toConsumableArray(r){return function useCreateRoomItems_arrayWithoutHoles(r){if(Array.isArray(r))return useCreateRoomItems_arrayLikeToArray(r)}(r)||function useCreateRoomItems_iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function useCreateRoomItems_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return useCreateRoomItems_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?useCreateRoomItems_arrayLikeToArray(r,a):void 0}}(r)||function useCreateRoomItems_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useCreateRoomItems_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var FederatedRoomListItem_templateObject,CREATE_CHANNEL_PERMISSIONS=["create-c","create-p"],CREATE_TEAM_PERMISSIONS=["create-team"],CREATE_DIRECT_PERMISSIONS=["create-d"],CREATE_DISCUSSION_PERMISSIONS=["start-discussion","start-discussion-other-user"],GenericNoResults=__webpack_require__("./client/components/GenericNoResults/index.ts"),FederatedRoomListEmptyPlaceholder=function FederatedRoomListEmptyPlaceholder(){var t=(0,dist.useTranslation)();return react.createElement(fuselage.Box,{display:"flex",justifyContent:"center",height:"full",backgroundColor:"surface"},react.createElement(GenericNoResults.A,{description:t("There_are_no_rooms_for_the_given_search_criteria")}))},MatrixFederationSearch_FederatedRoomListEmptyPlaceholder=FederatedRoomListEmptyPlaceholder;FederatedRoomListEmptyPlaceholder.__docgenInfo={description:"",methods:[],displayName:"FederatedRoomListEmptyPlaceholder"};var clampLine=(0,index_module.css)(FederatedRoomListItem_templateObject||(FederatedRoomListItem_templateObject=function FederatedRoomListItem_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\tline-clamp: 6;\n"]))),FederatedRoomListItem=function FederatedRoomListItem(_ref){var name=_ref.name,topic=_ref.topic,canonicalAlias=_ref.canonicalAlias,joinedMembers=_ref.joinedMembers,onClickJoin=_ref.onClickJoin,canJoin=_ref.canJoin,disabled=_ref.disabled,t=(0,dist.useTranslation)();return react.createElement(fuselage.Box,{mb:16,pi:24,is:"li",display:"flex",flexDirection:"column",w:"full",name:canonicalAlias},react.createElement(fuselage.Box,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",mbe:4},react.createElement(fuselage.Box,{flexGrow:1,flexShrink:1,fontScale:"p1",fontWeight:"bold",title:name,withTruncatedText:!0},name),canJoin&&react.createElement(fuselage.Button,{primary:!0,flexShrink:0,onClick:onClickJoin,disabled:disabled,small:!0},t("Join")),!canJoin&&react.createElement(fuselage.Box,{flexShrink:0,color:"danger",title:t("Currently_we_dont_support_joining_servers_with_this_many_people")},t("Cant_join"))),topic&&react.createElement(fuselage.Box,{is:"p",fontScale:"c1",mb:4,maxHeight:"x120",overflow:"hidden",withTruncatedText:!0,className:[clampLine]},topic),react.createElement(fuselage.Box,{mbs:4,fontScale:"micro",fontWeight:"bolder",verticalAlign:"top"},canonicalAlias," ",react.createElement(fuselage.Box,{color:"hint",is:"span",verticalAlign:"top"},react.createElement(fuselage.Icon,{name:"user",size:"x12",mbe:2}),joinedMembers)))},MatrixFederationSearch_FederatedRoomListItem=FederatedRoomListItem;function useInfiniteFederationSearchPublicRooms_typeof(o){return useInfiniteFederationSearchPublicRooms_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useInfiniteFederationSearchPublicRooms_typeof(o)}function useInfiniteFederationSearchPublicRooms_regeneratorRuntime(){useInfiniteFederationSearchPublicRooms_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==useInfiniteFederationSearchPublicRooms_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(useInfiniteFederationSearchPublicRooms_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function useInfiniteFederationSearchPublicRooms_asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}FederatedRoomListItem.__docgenInfo={description:"",methods:[],displayName:"FederatedRoomListItem",props:{disabled:{required:!0,tsType:{name:"boolean"},description:""},onClickJoin:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var useInfiniteFederationSearchPublicRooms=function useInfiniteFederationSearchPublicRooms(serverName,roomName,count){var fetchRoomList=(0,dist.useEndpoint)("GET","/v1/federation/searchPublicRooms");return(0,lib.useInfiniteQuery)(["federation/searchPublicRooms",serverName,roomName,count],function(){var _ref2=function useInfiniteFederationSearchPublicRooms_asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){useInfiniteFederationSearchPublicRooms_asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){useInfiniteFederationSearchPublicRooms_asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(useInfiniteFederationSearchPublicRooms_regeneratorRuntime().mark((function _callee(_ref){var pageParam;return useInfiniteFederationSearchPublicRooms_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return pageParam=_ref.pageParam,_context.abrupt("return",fetchRoomList({serverName:serverName,roomName:roomName,count:count,pageToken:pageParam}));case 2:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref2.apply(this,arguments)}}(),{getNextPageParam:function getNextPageParam(lastPage){return lastPage.nextPageToken},useErrorBoundary:!0,staleTime:6e5,cacheTime:6e5})};function FederatedRoomList_typeof(o){return FederatedRoomList_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},FederatedRoomList_typeof(o)}function FederatedRoomList_extends(){return FederatedRoomList_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},FederatedRoomList_extends.apply(null,arguments)}function FederatedRoomList_regeneratorRuntime(){FederatedRoomList_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==FederatedRoomList_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(FederatedRoomList_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function FederatedRoomList_asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}var FederatedRoomList=function FederatedRoomList(_ref){var serverName=_ref.serverName,roomName=_ref.roomName,count=_ref.count,joinExternalPublicRoom=(0,dist.useEndpoint)("POST","/v1/federation/joinExternalPublicRoom"),setModal=(0,dist.useSetModal)(),t=(0,dist.useTranslation)(),dispatchToastMessage=(0,dist.useToastMessageDispatch)(),_useInfiniteFederatio=useInfiniteFederationSearchPublicRooms(serverName,roomName,count),data=_useInfiniteFederatio.data,isLoading=_useInfiniteFederatio.isLoading,isFetchingNextPage=_useInfiniteFederatio.isFetchingNextPage,fetchNextPage=_useInfiniteFederatio.fetchNextPage,_useMutation=(0,lib.useMutation)(["federation/joinExternalPublicRoom"],function(){var _ref3=function FederatedRoomList_asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){FederatedRoomList_asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){FederatedRoomList_asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(FederatedRoomList_regeneratorRuntime().mark((function _callee(_ref2){var id,pageToken;return FederatedRoomList_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return id=_ref2.id,pageToken=_ref2.pageToken,_context.abrupt("return",joinExternalPublicRoom({externalRoomId:id,roomName:roomName,pageToken:pageToken}));case 2:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref3.apply(this,arguments)}}(),{onSuccess:function onSuccess(_,data){dispatchToastMessage({type:"success",message:t("Your_request_to_join__roomName__has_been_made_it_could_take_up_to_15_minutes_to_be_processed",{roomName:data.name})}),setModal(null)},onError:function onError(error,_ref4){var id=_ref4.id;if(error instanceof Error&&"already-joined"===error.message)return setModal(null),void roomCoordinator.roomCoordinator.openRouteLink("c",{rid:id});dispatchToastMessage({type:"error",message:error})}}),_onClickJoin=_useMutation.mutate,isLoadingMutation=_useMutation.isLoading;if(isLoading)return react.createElement(fuselage.Throbber,null);var flattenedData=null==data?void 0:data.pages.flatMap((function(page){return page.rooms}));return react.createElement(fuselage.Box,{is:"ul",overflow:"hidden",height:"356px",flexGrow:1,flexShrink:0,mi:-24},react.createElement(react_virtuoso_dist.Virtuoso,{data:flattenedData||[],computeItemKey:function computeItemKey(index,room){return(null==room?void 0:room.id)||index},overscan:4,components:{Footer:function Footer(){return isFetchingNextPage?react.createElement(fuselage.Throbber,null):null},Scroller:CustomScrollbars.Z,EmptyPlaceholder:MatrixFederationSearch_FederatedRoomListEmptyPlaceholder},endReached:isLoading||isFetchingNextPage?function(){}:function(){return fetchNextPage()},itemContent:function itemContent(_,room){return react.createElement(MatrixFederationSearch_FederatedRoomListItem,FederatedRoomList_extends({onClickJoin:function onClickJoin(){return _onClickJoin(room)}},room,{disabled:isLoadingMutation,key:room.id}))}}))},MatrixFederationSearch_FederatedRoomList=FederatedRoomList;FederatedRoomList.__docgenInfo={description:"",methods:[],displayName:"FederatedRoomList",props:{serverName:{required:!0,tsType:{name:"string"},description:""},roomName:{required:!1,tsType:{name:"string"},description:""},pageToken:{required:!1,tsType:{name:"string"},description:""},count:{required:!1,tsType:{name:"number"},description:""}}};var MatrixFederationRemoveServerList_templateObject,react_error_boundary_umd=__webpack_require__("./node_modules/react-error-boundary/dist/react-error-boundary.umd.js"),FederatedRoomListErrorBoundary=function FederatedRoomListErrorBoundary(_ref){var children=_ref.children,resetKeys=_ref.resetKeys,t=(0,dist.useTranslation)();return react.createElement(lib.QueryErrorResetBoundary,null,(function(_ref2){var reset=_ref2.reset;return react.createElement(react_error_boundary_umd.ErrorBoundary,{children:children,resetKeys:resetKeys,fallbackRender:function fallbackRender(_ref3){var resetErrorBoundary=_ref3.resetErrorBoundary;return react.createElement(fuselage.States,null,react.createElement(fuselage.StatesIcon,{name:"circle-exclamation",variation:"danger"}),react.createElement(fuselage.StatesTitle,null,t("Error")),react.createElement(fuselage.StatesSubtitle,null,t("Error_something_went_wrong")),react.createElement(fuselage.StatesActions,null,react.createElement(fuselage.StatesAction,{onClick:function onClick(){reset(),resetErrorBoundary()}},react.createElement(fuselage.Icon,{name:"reload"})," ",t("Reload"))))}})}))},MatrixFederationSearch_FederatedRoomListErrorBoundary=FederatedRoomListErrorBoundary;FederatedRoomListErrorBoundary.__docgenInfo={description:"",methods:[],displayName:"FederatedRoomListErrorBoundary",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},resetKeys:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"unknown[]"},description:""}}};var style=(0,index_module.css)(MatrixFederationRemoveServerList_templateObject||(MatrixFederationRemoveServerList_templateObject=function MatrixFederationRemoveServerList_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\ti {\n\t\tvisibility: hidden;\n\t}\n\tli {\n\t\tcursor: default;\n\t}\n\tli:hover {\n\t\ti {\n\t\t\tcursor: pointer;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n"]))),MatrixFederationRemoveServerList=function MatrixFederationRemoveServerList(_ref){var servers=_ref.servers,removeMatrixServer=(0,dist.useEndpoint)("POST","/v1/federation/removeServerByUser"),queryClient=(0,lib.useQueryClient)(),_useMutation=(0,lib.useMutation)(["federation/removeServerByUser"],(function(serverName){return removeMatrixServer({serverName:serverName})}),{onSuccess:function onSuccess(){return queryClient.invalidateQueries(["federation/listServersByUsers"])}}),removeServer=_useMutation.mutate,isRemovingServer=_useMutation.isLoading,t=(0,dist.useTranslation)();return react.createElement(fuselage.Box,{display:"flex",flexDirection:"column",className:[style]},react.createElement(fuselage.Box,{is:"h2",fontScale:"p1",fontWeight:"bolder"},t("Servers")),servers.map((function(_ref2){var name=_ref2.name,isDefault=_ref2.default;return react.createElement(fuselage.Option,{key:name,title:name,label:name},!isDefault&&react.createElement(fuselage.Icon,{size:"x16",color:isRemovingServer?"annotation":"danger",name:"cross",onClick:function onClick(){return isRemovingServer?null:removeServer(name)}}))})))},MatrixFederationSearch_MatrixFederationRemoveServerList=MatrixFederationRemoveServerList;function useMatrixServerList_typeof(o){return useMatrixServerList_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useMatrixServerList_typeof(o)}function useMatrixServerList_regeneratorRuntime(){useMatrixServerList_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==useMatrixServerList_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(useMatrixServerList_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function useMatrixServerList_asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function useMatrixServerList_asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){useMatrixServerList_asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){useMatrixServerList_asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}MatrixFederationRemoveServerList.__docgenInfo={description:"",methods:[],displayName:"MatrixFederationRemoveServerList",props:{servers:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ name: string; default: boolean; local: boolean }",signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"default",value:{name:"boolean",required:!0}},{key:"local",value:{name:"boolean",required:!0}}]}}],raw:"Array<{ name: string; default: boolean; local: boolean }>"},description:""}}};var useMatrixServerList=function useMatrixServerList(){var fetchServerList=(0,dist.useEndpoint)("GET","/v1/federation/listServersByUser");return(0,lib.useQuery)(["federation/listServersByUsers"],useMatrixServerList_asyncToGenerator(useMatrixServerList_regeneratorRuntime().mark((function _callee(){return useMatrixServerList_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",fetchServerList());case 1:case"end":return _context.stop()}}),_callee)}))),{useErrorBoundary:!0,staleTime:1/0})};function MatrixFederationManageServerModal_typeof(o){return MatrixFederationManageServerModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},MatrixFederationManageServerModal_typeof(o)}function MatrixFederationManageServerModal_regeneratorRuntime(){MatrixFederationManageServerModal_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==MatrixFederationManageServerModal_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(MatrixFederationManageServerModal_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function MatrixFederationManageServerModal_asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function MatrixFederationManageServerModal_slicedToArray(r,e){return function MatrixFederationManageServerModal_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function MatrixFederationManageServerModal_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function MatrixFederationManageServerModal_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return MatrixFederationManageServerModal_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?MatrixFederationManageServerModal_arrayLikeToArray(r,a):void 0}}(r,e)||function MatrixFederationManageServerModal_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MatrixFederationManageServerModal_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var MatrixFederationAddServerModal=function MatrixFederationAddServerModal(_ref){var _onSuccess,onClickClose=_ref.onClickClose,t=(0,dist.useTranslation)(),addMatrixServer=(0,dist.useEndpoint)("POST","/v1/federation/addServerByUser"),_useState2=MatrixFederationManageServerModal_slicedToArray((0,react.useState)(""),2),serverName=_useState2[0],setServerName=_useState2[1],_useState4=MatrixFederationManageServerModal_slicedToArray((0,react.useState)(),2),errorKey=_useState4[0],setErrorKey=_useState4[1],setModal=(0,dist.useSetModal)(),queryClient=(0,lib.useQueryClient)(),dispatchToastMessage=(0,dist.useToastMessageDispatch)(),_useMutation=(0,lib.useMutation)(["v1/federation/addServerByUser",serverName],(function(){return addMatrixServer({serverName:serverName})}),{onSuccess:(_onSuccess=function MatrixFederationManageServerModal_asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){MatrixFederationManageServerModal_asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){MatrixFederationManageServerModal_asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(MatrixFederationManageServerModal_regeneratorRuntime().mark((function _callee(){return MatrixFederationManageServerModal_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,queryClient.invalidateQueries(["federation/listServersByUsers"]);case 2:setModal(react.createElement(MatrixFederationSearch_MatrixFederationSearch,{defaultSelectedServer:serverName,onClose:onClickClose,key:serverName}));case 3:case"end":return _context.stop()}}),_callee)}))),function onSuccess(){return _onSuccess.apply(this,arguments)}),onError:function onError(error){var errorKey=function getErrorKey(error){if(error)return"invalid-server-name"===error.error?"Server_doesnt_exist":"invalid-server-name"===error.error?"Server_already_added":void 0}(error);errorKey?setErrorKey(errorKey):dispatchToastMessage({type:"error",message:error})}}),addServer=_useMutation.mutate,isLoading=_useMutation.isLoading,isError=_useMutation.isError,_useMatrixServerList=useMatrixServerList(),data=_useMatrixServerList.data,isLoadingServerList=_useMatrixServerList.isLoading;return react.createElement(fuselage.Modal,{maxHeight:"x600"},react.createElement(fuselage.Modal.Header,null,react.createElement(fuselage.Modal.Title,null,t("Manage_servers")),react.createElement(fuselage.Modal.Close,{onClick:onClickClose})),react.createElement(fuselage.Modal.Content,null,react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,null,t("Server_name")),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.TextInput,{disabled:isLoading,value:serverName,onChange:function onChange(e){setServerName(e.currentTarget.value),errorKey&&setErrorKey(void 0)},mie:4}),react.createElement(fuselage.Button,{onClick:function onClick(){return addServer()},primary:!0,loading:isLoading},t("Add"))),isError&&errorKey&&react.createElement(fuselage.FieldError,null,t(errorKey)),react.createElement(fuselage.FieldHint,null,t("Federation_Example_matrix_server"))),react.createElement(fuselage.Divider,{mb:16}),!isLoadingServerList&&(null==data?void 0:data.servers)&&react.createElement(MatrixFederationSearch_MatrixFederationRemoveServerList,{servers:data.servers})),react.createElement(fuselage.Modal.Footer,null,react.createElement(fuselage.ButtonGroup,null,react.createElement(fuselage.Button,{onClick:onClickClose},t("Cancel")))))},MatrixFederationManageServerModal=MatrixFederationAddServerModal;function MatrixFederationSearchModalContent_slicedToArray(r,e){return function MatrixFederationSearchModalContent_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function MatrixFederationSearchModalContent_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function MatrixFederationSearchModalContent_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return MatrixFederationSearchModalContent_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?MatrixFederationSearchModalContent_arrayLikeToArray(r,a):void 0}}(r,e)||function MatrixFederationSearchModalContent_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MatrixFederationSearchModalContent_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}MatrixFederationAddServerModal.__docgenInfo={description:"",methods:[],displayName:"MatrixFederationAddServerModal",props:{onClickClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var MatrixFederationSearchModalContent=function MatrixFederationSearchModalContent(_ref){var defaultSelectedServer=_ref.defaultSelectedServer,servers=_ref.servers,_useState2=MatrixFederationSearchModalContent_slicedToArray((0,react.useState)((function(){var _defaultServer$name,defaultServer=servers.find((function(server){return server.name===defaultSelectedServer}));return null!==(_defaultServer$name=null==defaultServer?void 0:defaultServer.name)&&void 0!==_defaultServer$name?_defaultServer$name:servers[0].name})),2),serverName=_useState2[0],setServerName=_useState2[1],_useState4=MatrixFederationSearchModalContent_slicedToArray((0,react.useState)(""),2),roomName=_useState4[0],setRoomName=_useState4[1],setModal=(0,dist.useSetModal)(),debouncedRoomName=(0,dist_index_module.useDebouncedValue)(roomName,400),t=(0,dist.useTranslation)(),serverOptions=(0,react.useMemo)((function(){return servers.map((function(server){return[server.name,server.name]}))}),[servers]),manageServers=(0,react.useCallback)((function(){setModal(react.createElement(MatrixFederationManageServerModal,{onClickClose:function onClickClose(){return setModal(react.createElement(MatrixFederationSearch_MatrixFederationSearch,{onClose:function onClose(){return setModal(null)}}))}}))}),[setModal]);return react.createElement(react.Fragment,null,react.createElement(fuselage.Box,{display:"flex",flexDirection:"row"},react.createElement(fuselage.Box,{mie:4,flexGrow:0,flexShrink:4},react.createElement(fuselage.Select,{options:serverOptions,value:serverName,onChange:function onChange(value){return setServerName(String(value))}})),react.createElement(fuselage.TextInput,{placeholder:t("Search_rooms"),flexGrow:4,flexShrink:0,value:roomName,onChange:function onChange(e){return setRoomName(e.currentTarget.value)}})),react.createElement(fuselage.Box,{is:"a",display:"flex",flexDirection:"row",mbe:16,onClick:manageServers},t("Manage_server_list")),react.createElement(MatrixFederationSearch_FederatedRoomListErrorBoundary,null,react.createElement(MatrixFederationSearch_FederatedRoomList,{serverName:serverName,roomName:debouncedRoomName})))},MatrixFederationSearch_MatrixFederationSearchModalContent=MatrixFederationSearchModalContent;MatrixFederationSearchModalContent.__docgenInfo={description:"",methods:[],displayName:"MatrixFederationSearchModalContent",props:{servers:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n\tname: string;\n\tdefault: boolean;\n\tlocal: boolean;\n}",signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"default",value:{name:"boolean",required:!0}},{key:"local",value:{name:"boolean",required:!0}}]}}],raw:"Array<{\n\tname: string;\n\tdefault: boolean;\n\tlocal: boolean;\n}>"},description:""},defaultSelectedServer:{required:!1,tsType:{name:"string"},description:""}}};var MatrixFederationSearch=function MatrixFederationSearch(_ref){var onClose=_ref.onClose,defaultSelectedServer=_ref.defaultSelectedServer,t=(0,dist.useTranslation)(),_useMatrixServerList=useMatrixServerList(),data=_useMatrixServerList.data,isLoading=_useMatrixServerList.isLoading;return react.createElement(fuselage.Modal,null,react.createElement(fuselage.Modal.Header,null,react.createElement(fuselage.Modal.Title,null,t("Federation_Federated_room_search")),react.createElement(fuselage.Modal.Close,{onClick:onClose})),react.createElement(fuselage.Modal.Content,{display:"flex",flexDirection:"column"},isLoading&&react.createElement(react.Fragment,null,react.createElement(fuselage.Skeleton,null),react.createElement(fuselage.Skeleton,null),react.createElement(fuselage.Skeleton,null),react.createElement(fuselage.Skeleton,null)),!isLoading&&(null==data?void 0:data.servers)&&react.createElement(MatrixFederationSearch_MatrixFederationSearchModalContent,{defaultSelectedServer:defaultSelectedServer,servers:data.servers})),react.createElement(fuselage.Modal.Footer,null))},MatrixFederationSearch_MatrixFederationSearch=MatrixFederationSearch;function useMatrixFederationItems_toConsumableArray(r){return function useMatrixFederationItems_arrayWithoutHoles(r){if(Array.isArray(r))return useMatrixFederationItems_arrayLikeToArray(r)}(r)||function useMatrixFederationItems_iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function useMatrixFederationItems_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return useMatrixFederationItems_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?useMatrixFederationItems_arrayLikeToArray(r,a):void 0}}(r)||function useMatrixFederationItems_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useMatrixFederationItems_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}MatrixFederationSearch.__docgenInfo={description:"",methods:[],displayName:"MatrixFederationSearch",props:{onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},defaultSelectedServer:{required:!1,tsType:{name:"string"},description:""}}};var CREATE_ROOM_PERMISSIONS=["create-c","create-p","create-d","start-discussion","start-discussion-other-user"],useCreateRoom=function useCreateRoom(){var t=(0,dist.useTranslation)(),showCreate=(0,dist.useAtLeastOnePermission)(CREATE_ROOM_PERMISSIONS),data=(0,useIsEnterprise.z)().data,isMatrixEnabled=(0,dist.useSetting)("Federation_Matrix_enabled")&&(null==data?void 0:data.isEnterprise),createRoomItems=function useCreateRoomItems(){var t=(0,dist.useTranslation)(),discussionEnabled=(0,dist.useSetting)("Discussion_enabled"),canCreateChannel=(0,dist.useAtLeastOnePermission)(CREATE_CHANNEL_PERMISSIONS),canCreateTeam=(0,dist.useAtLeastOnePermission)(CREATE_TEAM_PERMISSIONS),canCreateDirectMessages=(0,dist.useAtLeastOnePermission)(CREATE_DIRECT_PERMISSIONS),canCreateDiscussion=(0,dist.useAtLeastOnePermission)(CREATE_DISCUSSION_PERMISSIONS),createChannel=useCreateRoomModal(header_CreateChannelModal),createTeam=useCreateRoomModal(header_CreateTeamModal),createDiscussion=useCreateRoomModal(CreateDiscussion.A),createDirectMessage=useCreateRoomModal(header_CreateDirectMessage),createChannelItem={id:"channel",content:t("Channel"),icon:"hashtag",onClick:function onClick(){createChannel()}},createTeamItem={id:"team",content:t("Team"),icon:"team",onClick:function onClick(){createTeam()}},createDirectMessageItem={id:"direct",content:t("Direct_message"),icon:"balloon",onClick:function onClick(){createDirectMessage()}},createDiscussionItem={id:"discussion",content:t("Discussion"),icon:"discussion",onClick:function onClick(){createDiscussion()}};return[].concat(useCreateRoomItems_toConsumableArray(canCreateDirectMessages?[createDirectMessageItem]:[]),useCreateRoomItems_toConsumableArray(canCreateDiscussion&&discussionEnabled?[createDiscussionItem]:[]),useCreateRoomItems_toConsumableArray(canCreateChannel?[createChannelItem]:[]),useCreateRoomItems_toConsumableArray(canCreateTeam?[createTeamItem]:[]))}(),matrixFederationSearchItems=function useMatrixFederationItems(_ref){var isMatrixEnabled=_ref.isMatrixEnabled,t=(0,dist.useTranslation)(),searchFederatedRooms=useCreateRoomModal(MatrixFederationSearch_MatrixFederationSearch),matrixFederationSearchItem={id:"matrix-federation-search",content:t("Federation_Search_federated_rooms"),icon:"magnifier",onClick:function onClick(){searchFederatedRooms()}};return useMatrixFederationItems_toConsumableArray(isMatrixEnabled?[matrixFederationSearchItem]:[])}({isMatrixEnabled:isMatrixEnabled});return[{title:t("Create_new"),items:createRoomItems,permission:showCreate},{title:t("Explore"),items:matrixFederationSearchItems,permission:showCreate&&isMatrixEnabled}].filter((function(section){return section.permission}))};function CreateRoom_extends(){return CreateRoom_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CreateRoom_extends.apply(null,arguments)}var CreateRoom=function CreateRoom(props){var t=(0,dist.useTranslation)(),sections=useCreateRoom();return react.createElement(ui_client_dist.h4,CreateRoom_extends({icon:"edit-rounded",sections:sections,title:t("Create_new"),is:fuselage.SidebarV2Action},props))},actions_CreateRoom=CreateRoom;function useGroupingListItems_typeof(o){return useGroupingListItems_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useGroupingListItems_typeof(o)}function useGroupingListItems_defineProperty(e,r,t){return(r=function useGroupingListItems_toPropertyKey(t){var i=function useGroupingListItems_toPrimitive(t,r){if("object"!=useGroupingListItems_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=useGroupingListItems_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==useGroupingListItems_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}CreateRoom.__docgenInfo={description:"",methods:[],displayName:"CreateRoom"};var OmnichannelSortingDisclaimer=__webpack_require__("./client/components/Omnichannel/OmnichannelSortingDisclaimer.tsx"),useSortMenu=function useSortMenu(){var t=(0,dist.useTranslation)(),viewModeItems=function useViewModeItems(){var t=(0,dist.useTranslation)(),saveUserPreferences=(0,dist.useEndpoint)("POST","/v1/users.setPreferences"),useHandleChange=function useHandleChange(value){return(0,react.useCallback)((function(){return saveUserPreferences({data:{sidebarViewMode:value}})}),[value])},sidebarViewMode=(0,dist.useUserPreference)("sidebarViewMode","extended"),sidebarDisplayAvatar=(0,dist.useUserPreference)("sidebarDisplayAvatar",!1),setToExtended=useHandleChange("extended"),setToMedium=useHandleChange("medium"),setToCondensed=useHandleChange("condensed"),handleChangeSidebarDisplayAvatar=(0,react.useCallback)((function(){return saveUserPreferences({data:{sidebarDisplayAvatar:!sidebarDisplayAvatar}})}),[saveUserPreferences,sidebarDisplayAvatar]);return[{id:"extended",content:t("Extended"),icon:"extended-view",addon:react.createElement(fuselage.RadioButton,{onChange:setToExtended,checked:"extended"===sidebarViewMode})},{id:"medium",content:t("Medium"),icon:"medium-view",addon:react.createElement(fuselage.RadioButton,{onChange:setToMedium,checked:"medium"===sidebarViewMode})},{id:"condensed",content:t("Condensed"),icon:"condensed-view",addon:react.createElement(fuselage.RadioButton,{onChange:setToCondensed,checked:"condensed"===sidebarViewMode})},{id:"avatars",content:t("Avatars"),icon:"user-rounded",addon:react.createElement(fuselage.ToggleSwitch,{onChange:handleChangeSidebarDisplayAvatar,checked:sidebarDisplayAvatar})}]}(),sortModeItems=function useSortModeItems(){var t=(0,dist.useTranslation)(),saveUserPreferences=(0,dist.useEndpoint)("POST","/v1/users.setPreferences"),sidebarSortBy=(0,dist.useUserPreference)("sidebarSortby","activity"),isOmnichannelEnabled=(0,OmnichannelSortingDisclaimer.V)(),useHandleChange=function useHandleChange(value){return(0,react.useCallback)((function(){return saveUserPreferences({data:{sidebarSortby:value}})}),[value])},setToAlphabetical=useHandleChange("alphabetical"),setToActivity=useHandleChange("activity");return[{id:"activity",content:t("Activity"),icon:"clock",addon:react.createElement(fuselage.RadioButton,{onChange:setToActivity,checked:"activity"===sidebarSortBy}),description:"activity"===sidebarSortBy&&isOmnichannelEnabled&&react.createElement(OmnichannelSortingDisclaimer.m,null)},{id:"name",content:t("Name"),icon:"sort-az",addon:react.createElement(fuselage.RadioButton,{onChange:setToAlphabetical,checked:"alphabetical"===sidebarSortBy}),description:"alphabetical"===sidebarSortBy&&isOmnichannelEnabled&&react.createElement(OmnichannelSortingDisclaimer.m,null)}]}(),groupingListItems=function useGroupingListItems(){var t=(0,dist.useTranslation)(),sidebarGroupByType=(0,dist.useUserPreference)("sidebarGroupByType"),sidebarShowFavorites=(0,dist.useUserPreference)("sidebarShowFavorites"),sidebarShowUnread=(0,dist.useUserPreference)("sidebarShowUnread"),saveUserPreferences=(0,dist.useEndpoint)("POST","/v1/users.setPreferences"),useHandleChange=function useHandleChange(key,value){return(0,react.useCallback)((function(){return saveUserPreferences({data:useGroupingListItems_defineProperty({},key,value)})}),[key,value])},handleChangeGroupByType=useHandleChange("sidebarGroupByType",!sidebarGroupByType),handleChangeShoFavorite=useHandleChange("sidebarShowFavorites",!sidebarShowFavorites),handleChangeShowUnread=useHandleChange("sidebarShowUnread",!sidebarShowUnread);return[{id:"unread",content:t("Unread"),icon:"flag",addon:react.createElement(fuselage.CheckBox,{onChange:handleChangeShowUnread,checked:sidebarShowUnread})},{id:"favorites",content:t("Favorites"),icon:"star",addon:react.createElement(fuselage.CheckBox,{onChange:handleChangeShoFavorite,checked:sidebarShowFavorites})},{id:"types",content:t("Types"),icon:"group-by-type",addon:react.createElement(fuselage.CheckBox,{onChange:handleChangeGroupByType,checked:sidebarGroupByType})}]}();return[{title:t("Display"),items:viewModeItems},{title:t("Sort_By"),items:sortModeItems},{title:t("Group_by"),items:groupingListItems}]};function Sort_extends(){return Sort_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sort_extends.apply(null,arguments)}var Sort=function Sort(props){var t=(0,dist.useTranslation)(),sections=useSortMenu();return react.createElement(ui_client_dist.h4,Sort_extends({icon:"sort",sections:sections,title:t("Display"),selectionMode:"multiple",is:fuselage.SidebarV2Action},props))},actions_Sort=Sort;Sort.__docgenInfo={description:"",methods:[],displayName:"Sort"};var SearchSection_templateObject,_excluded=["ref"];function SearchSection_extends(){return SearchSection_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},SearchSection_extends.apply(null,arguments)}var _navigator$userAgentD,wrapperStyle=(0,index_module.css)(SearchSection_templateObject||(SearchSection_templateObject=function SearchSection_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\tposition: absolute;\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tz-index: 99;\n\ttop: 0;\n\tleft: 0;\n\tbackground-color: ",";\n"])),fuselage.Palette.surface["surface-sidebar"]),shortcut=null!==(_navigator$userAgentD=navigator.userAgentData)&&void 0!==_navigator$userAgentD&&_navigator$userAgentD.mobile||function mobileCheck(){var a,check=!1;return a=navigator.userAgent||navigator.vendor||window.opera||"",(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0),check}()?"":window.navigator.platform.toLowerCase().includes("mac")?"(⌘+K)":"(Ctrl+K)",SearchSection=function SearchSection(){var t=(0,dist.useTranslation)(),user=(0,dist.useUser)(),_useForm=(0,index_esm.mN)({defaultValues:{filterText:""}}),isDirty=_useForm.formState.isDirty,register=_useForm.register,watch=_useForm.watch,resetField=_useForm.resetField,setFocus=_useForm.setFocus,filterText=watch().filterText,_register=register("filterText"),filterRef=_register.ref,rest=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_register,_excluded),inputRef=(0,react.useRef)(null),wrapperRef=(0,react.useRef)(null),mergedRefs=(0,dist_index_module.useMergedRefs)(filterRef,inputRef),handleEscSearch=(0,react.useCallback)((function(){var _inputRef$current;resetField("filterText"),null===(_inputRef$current=inputRef.current)||void 0===_inputRef$current||_inputRef$current.blur()}),[resetField]);(0,dist_index_module.useOutsideClick)([wrapperRef],handleEscSearch),(0,react.useEffect)((function(){var unsubscribe=(0,tinykeys_module.Ay)(window,{"$mod+K":function $modK(event){event.preventDefault(),setFocus("filterText")},"$mod+P":function $modP(event){event.preventDefault(),setFocus("filterText")},Escape:function Escape(event){event.preventDefault(),handleEscSearch()}});return function(){unsubscribe()}}),[handleEscSearch,setFocus]);var placeholder=[t("Search"),shortcut].filter(Boolean).join(" ");return react.createElement(fuselage.Box,{className:["rcx-sidebar",isDirty&&wrapperStyle],ref:wrapperRef,role:"search"},react.createElement(fuselage.SidebarV2Section,null,react.createElement(fuselage.TextInput,SearchSection_extends({placeholder:placeholder},rest,{ref:mergedRefs,role:"searchbox",small:!0,addon:react.createElement(fuselage.Icon,{name:isDirty?"cross":"magnifier",size:"x20",onClick:handleEscSearch})})),user&&!isDirty&&react.createElement(react.Fragment,null,react.createElement(actions_Sort,null),react.createElement(actions_CreateRoom,null))),isDirty&&react.createElement(header_SearchList,{filterText:filterText,onEscSearch:handleEscSearch}))},header_SearchSection=SearchSection;SearchSection.__docgenInfo={description:"",methods:[],displayName:"SearchSection"};var useStatusDisabledModal=__webpack_require__("./client/views/admin/customUserStatus/hooks/useStatusDisabledModal.tsx"),StatusDisabledSection=function StatusDisabledSection(_ref){var onDismiss=_ref.onDismiss,t=(0,dist.useTranslation)(),handleStatusDisabledModal=(0,useStatusDisabledModal.Z)();return react.createElement(fuselage.SidebarV2Banner,{title:t("User_status_temporarily_disabled"),linkText:t("Learn_more"),onClose:onDismiss,linkProps:{onClick:handleStatusDisabledModal,tabIndex:0}})},sections_StatusDisabledSection=StatusDisabledSection;function Sidebar_slicedToArray(r,e){return function Sidebar_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function Sidebar_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function Sidebar_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return Sidebar_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Sidebar_arrayLikeToArray(r,a):void 0}}(r,e)||function Sidebar_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sidebar_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}StatusDisabledSection.__docgenInfo={description:"",methods:[],displayName:"StatusDisabledSection",props:{onDismiss:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var SidebarRegion_templateObject,_templateObject2,_templateObject3,Sidebar=function Sidebar(){var sidebarViewMode=(0,dist.useUserPreference)("sidebarViewMode"),sidebarHideAvatar=!(0,dist.useUserPreference)("sidebarDisplayAvatar"),_useSessionStorage2=Sidebar_slicedToArray((0,dist_index_module.useSessionStorage)("presence_cap_notifier",!1),2),bannerDismissed=_useSessionStorage2[0],setBannerDismissed=_useSessionStorage2[1],presenceDisabled=(0,dist.useSetting)("Presence_broadcast_disabled");return react.createElement(fuselage.SidebarV2,{"aria-label":"sidebar",className:["rcx-sidebar--main","rcx-sidebar rcx-sidebar--".concat(sidebarViewMode),sidebarHideAvatar&&"rcx-sidebar--hide-avatar"].filter(Boolean).join(" ")},react.createElement(header_SearchSection,null),presenceDisabled&&!bannerDismissed&&react.createElement(sections_StatusDisabledSection,{onDismiss:function onDismiss(){return setBannerDismissed(!0)}}),react.createElement(RoomList_RoomList,null),react.createElement(footer_SidebarFooter,null))},sidebarv2_Sidebar=(0,react.memo)(Sidebar);function SidebarRegion_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Sidebar.__docgenInfo={description:"",methods:[],displayName:"Sidebar"};var SidebarRegion=function SidebarRegion(){var _useLayout=(0,dist.useLayout)(),isMobile=_useLayout.isMobile,sidebar=_useLayout.sidebar,sidebarMobileClass=(0,index_module.css)(SidebarRegion_templateObject||(SidebarRegion_templateObject=SidebarRegion_taggedTemplateLiteral(["\n\t\tposition: absolute;\n\t\tuser-select: none;\n\t\ttransform: translate3d(-100%, 0, 0);\n\t\t-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n\t\t-webkit-user-drag: none;\n\t\ttouch-action: pan-y;\n\t\twill-change: transform;\n\n\t\t.rtl & {\n\t\t\ttransform: translate3d(200%, 0, 0);\n\n\t\t\t&.opened {\n\t\t\t\tbox-shadow: rgba(0, 0, 0, 0.3) 0px 0px 15px 1px;\n\t\t\t\ttransform: translate3d(0px, 0px, 0px);\n\t\t\t}\n\t\t}\n\t"]))),sideBarStyle=(0,index_module.css)(_templateObject2||(_templateObject2=SidebarRegion_taggedTemplateLiteral(["\n\t\tposition: relative;\n\t\tz-index: 2;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100%;\n\t\tuser-select: none;\n\t\ttransition: transform 0.3s;\n\t\twidth: var(--sidebar-width);\n\t\tmin-width: var(--sidebar-width);\n\n\t\t> .rcx-sidebar:not(:last-child) {\n\t\t\tvisibility: hidden;\n\t\t}\n\n\t\t&.opened {\n\t\t\tbox-shadow: rgba(0, 0, 0, 0.3) 0px 0px 15px 1px;\n\t\t\ttransform: translate3d(0px, 0px, 0px);\n\t\t}\n\n\t\t/* // 768px to 1599px\n\t\t// using em unit base 16\n\t\t@media (max-width: 48em) {\n\t\t\twidth: 80%;\n\t\t\tmin-width: 80%;\n\t\t} */\n\n\t\t// 1600px to 1919px\n\t\t// using em unit base 16\n\t\t@media (min-width: 100em) {\n\t\t\twidth: var(--sidebar-md-width);\n\t\t\tmin-width: var(--sidebar-md-width);\n\t\t}\n\n\t\t// 1920px and up\n\t\t// using em unit base 16\n\t\t@media (min-width: 120em) {\n\t\t\twidth: var(--sidebar-lg-width);\n\t\t\tmin-width: var(--sidebar-lg-width);\n\t\t}\n\t"]))),sidebarWrapStyle=(0,index_module.css)(_templateObject3||(_templateObject3=SidebarRegion_taggedTemplateLiteral(["\n\t\tposition: absolute;\n\t\tz-index: 1;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\theight: 100%;\n\t\tuser-select: none;\n\t\ttransition: opacity 0.3s;\n\t\t-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n\t\ttouch-action: pan-y;\n\t\t-webkit-user-drag: none;\n\n\t\t&.opened {\n\t\t\twidth: 100%;\n\t\t\tbackground-color: rgb(0, 0, 0);\n\t\t\topacity: 0.8;\n\t\t}\n\t"])));return react.createElement(dist_import.n1,null,react.createElement(fuselage.Box,{id:"sidebar-region",className:["rcx-sidebar",!sidebar.isCollapsed&&isMobile&&"opened",sideBarStyle,isMobile&&sidebarMobileClass].filter(Boolean)},react.createElement(sidebarv2_Sidebar,null)),isMobile&&react.createElement(fuselage.Box,{className:[sidebarWrapStyle,!sidebar.isCollapsed&&"opened"].filter(Boolean),onClick:function onClick(){return sidebar.toggle()}}))},sidebarv2_SidebarRegion=(0,react.memo)(SidebarRegion);SidebarRegion.__docgenInfo={description:"",methods:[],displayName:"SidebarRegion"}}}]);