/*! For license information please see 1237.f88d62e2.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_rocket_chat_meteor=self.webpackChunk_rocket_chat_meteor||[]).push([[1237],{"./client/hooks/omnichannel/useOmnichannelAgentAvailable.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{U:function(){return useOmnichannelAgentAvailable}});var _useOmnichannel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./client/hooks/omnichannel/useOmnichannel.ts"),useOmnichannelAgentAvailable=function useOmnichannelAgentAvailable(){return(0,_useOmnichannel__WEBPACK_IMPORTED_MODULE_0__.q)().agentAvailable}},"./client/hooks/omnichannel/useOmnichannelShowQueueLink.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{o:function(){return useOmnichannelShowQueueLink}});var _useOmnichannel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./client/hooks/omnichannel/useOmnichannel.ts"),useOmnichannelShowQueueLink=function useOmnichannelShowQueueLink(){return(0,_useOmnichannel__WEBPACK_IMPORTED_MODULE_0__.q)().showOmnichannelQueueLink}},"./client/hooks/useDialModal.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{F:function(){return useDialModal}});var _rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_contexts_CallContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/contexts/CallContext.ts"),_lib_toast__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/lib/toast.ts"),DialPadModal=(0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)((function(){return __webpack_require__.e(3271).then(__webpack_require__.bind(__webpack_require__,"./client/voip/modal/DialPad/DialPadModal.tsx"))})),useDialModal=function useDialModal(){var setModal=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useSetModal)(),isEnterprise=(0,_contexts_CallContext__WEBPACK_IMPORTED_MODULE_2__.ZK)(),t=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useTranslation)(),closeDialModal=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(){return setModal(null)}),[setModal]),openDialModal=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},initialValue=_ref.initialValue,errorMessage=_ref.errorMessage;isEnterprise?setModal(react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Suspense,{fallback:react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",null)},react__WEBPACK_IMPORTED_MODULE_1__.createElement(DialPadModal,{initialValue:initialValue,errorMessage:errorMessage,handleClose:closeDialModal}))):(0,_lib_toast__WEBPACK_IMPORTED_MODULE_3__.b)({type:"error",message:t("You_do_not_have_permission_to_do_this")})}),[setModal,isEnterprise,t,closeDialModal]);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){return{openDialModal:openDialModal,closeDialModal:closeDialModal}}),[openDialModal,closeDialModal])}},"./client/sidebar/Item/Condensed.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["icon","title","avatar","actions","href","unread","menu","badges"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var Condensed=function Condensed(_ref){var icon=_ref.icon,_ref$title=_ref.title,title=void 0===_ref$title?"":_ref$title,avatar=_ref.avatar,actions=_ref.actions,href=_ref.href,unread=_ref.unread,menu=_ref.menu,badges=_ref.badges,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!!window.DISABLE_ANIMATION),2),menuVisibility=_useState2[0],setMenuVisibility=_useState2[1],handleMenuEvent=_defineProperty({},(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.usePrefersReducedMotion)()?"onMouseEnter":"onTransitionEnd",(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.useMutableCallback)((function(e){setMenuVisibility(e.target.offsetWidth>0&&Boolean(menu))})));return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item,_extends({},props,{href:href,clickable:!!href}),avatar&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Avatar,null,avatar),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Content,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Wrapper,null,icon,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Title,{"data-qa":"sidebar-item-title",className:unread&&"rcx-sidebar-item--highlighted"},title)),badges&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Badge,null,badges),menu&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Menu,handleMenuEvent,menuVisibility?menu():react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tabIndex:-1,"aria-hidden":!0,mini:!0,"rcx-sidebar-item__menu":!0,icon:"kebab"}))),actions&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Container,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Actions,null,actions)))};__webpack_exports__.A=(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(Condensed),Condensed.__docgenInfo={description:"",methods:[],displayName:"Condensed",props:{title:{required:!1,tsType:{name:"union",raw:"ReactElement | string",elements:[{name:"ReactElement"},{name:"string"}]},description:"",defaultValue:{value:"''",computed:!1}},titleIcon:{required:!1,tsType:{name:"ReactElement"},description:""},avatar:{required:!0,tsType:{name:"union",raw:"ReactElement | boolean",elements:[{name:"ReactElement"},{name:"boolean"}]},description:""},icon:{required:!1,tsType:{name:"IconName"},description:""},actions:{required:!1,tsType:{name:"ReactElement"},description:""},href:{required:!1,tsType:{name:"string"},description:""},unread:{required:!1,tsType:{name:"boolean"},description:""},menu:{required:!1,tsType:{name:"signature",type:"function",raw:"() => ReactElement",signature:{arguments:[],return:{name:"ReactElement"}}},description:""},menuOptions:{required:!1,tsType:{name:"any"},description:""},selected:{required:!1,tsType:{name:"boolean"},description:""},badges:{required:!1,tsType:{name:"ReactElement"},description:""},clickable:{required:!1,tsType:{name:"boolean"},description:""}}}},"./client/sidebar/Item/Extended.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_hooks_useTimeAgo__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/hooks/useTimeAgo.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["icon","title","avatar","actions","href","time","menu","menuOptions","subtitle","titleIcon","badges","threadUnread","unread","selected"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var Extended=function Extended(_ref){var icon=_ref.icon,_ref$title=_ref.title,title=void 0===_ref$title?"":_ref$title,avatar=_ref.avatar,actions=_ref.actions,href=_ref.href,time=_ref.time,menu=_ref.menu,_ref$subtitle=(_ref.menuOptions,_ref.subtitle),subtitle=void 0===_ref$subtitle?"":_ref$subtitle,badges=(_ref.titleIcon,_ref.badges),unread=(_ref.threadUnread,_ref.unread),selected=_ref.selected,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),formatDate=(0,_hooks_useTimeAgo__WEBPACK_IMPORTED_MODULE_3__.M)(),_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!!window.DISABLE_ANIMATION),2),menuVisibility=_useState2[0],setMenuVisibility=_useState2[1],handleMenuEvent=_defineProperty({},(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.usePrefersReducedMotion)()?"onMouseEnter":"onTransitionEnd",(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.useMutableCallback)((function(e){setMenuVisibility(e.target.offsetWidth>0&&Boolean(menu))})));return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item,_extends({selected:selected,highlighted:unread},props,{href:href,clickable:!!href}),avatar&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Avatar,null,avatar),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Content,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Content,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Wrapper,null,icon,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Title,{"data-qa":"sidebar-item-title",className:unread&&"rcx-sidebar-item--highlighted"},title),time&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Time,null,formatDate(time)))),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Content,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Wrapper,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Subtitle,{className:unread&&"rcx-sidebar-item--highlighted"},subtitle),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Badge,null,badges),menu&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Menu,handleMenuEvent,menuVisibility?menu():react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tabIndex:-1,"aria-hidden":!0,mini:!0,"rcx-sidebar-item__menu":!0,icon:"kebab"}))))),actions&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Container,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Actions,null,actions)))};__webpack_exports__.A=(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(Extended),Extended.__docgenInfo={description:"",methods:[],displayName:"Extended",props:{icon:{required:!1,tsType:{name:"IconName"},description:""},title:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:"''",computed:!1}},avatar:{required:!1,tsType:{name:"union",raw:"React.ReactNode | boolean",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"boolean"}]},description:""},actions:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},href:{required:!1,tsType:{name:"string"},description:""},time:{required:!1,tsType:{name:"any"},description:""},menu:{required:!1,tsType:{name:"signature",type:"function",raw:"() => React.ReactNode",signature:{arguments:[],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},subtitle:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:"''",computed:!1}},badges:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},unread:{required:!1,tsType:{name:"boolean"},description:""},selected:{required:!1,tsType:{name:"boolean"},description:""},menuOptions:{required:!1,tsType:{name:"any"},description:""},titleIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},threadUnread:{required:!1,tsType:{name:"boolean"},description:""}}}},"./client/sidebar/Item/Medium.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["icon","title","avatar","actions","href","badges","unread","menu"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var Medium=function Medium(_ref){var icon=_ref.icon,_ref$title=_ref.title,title=void 0===_ref$title?"":_ref$title,avatar=_ref.avatar,actions=_ref.actions,href=_ref.href,badges=_ref.badges,unread=_ref.unread,menu=_ref.menu,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!!window.DISABLE_ANIMATION),2),menuVisibility=_useState2[0],setMenuVisibility=_useState2[1],handleMenuEvent=_defineProperty({},(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.usePrefersReducedMotion)()?"onMouseEnter":"onTransitionEnd",(0,_rocket_chat_fuselage_hooks__WEBPACK_IMPORTED_MODULE_1__.useMutableCallback)((function(e){setMenuVisibility(e.target.offsetWidth>0&&Boolean(menu))})));return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item,_extends({},props,{href:href,clickable:!!href}),avatar&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Avatar,null,avatar),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Content,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Wrapper,null,icon,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Title,{"data-qa":"sidebar-item-title",className:unread?"rcx-sidebar-item--highlighted":void 0},title)),badges&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Badge,null,badges),menu&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Menu,handleMenuEvent,menuVisibility?menu():react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.IconButton,{tabIndex:-1,"aria-hidden":!0,mini:!0,"rcx-sidebar-item__menu":!0,icon:"kebab"}))),actions&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Container,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.Sidebar.Item.Actions,null,actions)))};__webpack_exports__.A=(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(Medium),Medium.__docgenInfo={description:"",methods:[],displayName:"Medium",props:{title:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:"''",computed:!1}},titleIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},avatar:{required:!0,tsType:{name:"union",raw:"React.ReactNode | boolean",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"boolean"}]},description:""},icon:{required:!1,tsType:{name:"string"},description:""},actions:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},href:{required:!1,tsType:{name:"string"},description:""},unread:{required:!1,tsType:{name:"boolean"},description:""},menu:{required:!1,tsType:{name:"signature",type:"function",raw:"() => React.ReactNode",signature:{arguments:[],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},badges:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},selected:{required:!1,tsType:{name:"boolean"},description:""},menuOptions:{required:!1,tsType:{name:"any"},description:""}}}},"./client/sidebar/RoomList/SideBarItemTemplateWithData.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return RoomList_SideBarItemTemplateWithData}});var dist=__webpack_require__("../../packages/core-typings/dist/index.js"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),ui_contexts_dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),RoomIcon=__webpack_require__("./client/components/RoomIcon/index.tsx"),roomCoordinator=__webpack_require__("./client/lib/rooms/roomCoordinator.tsx"),isIOsDevice=__webpack_require__("./client/lib/utils/isIOsDevice.ts"),useOmnichannelPriorities=__webpack_require__("./client/omnichannel/hooks/useOmnichannelPriorities.ts"),index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),lib=__webpack_require__("../../node_modules/@tanstack/react-query/build/lib/index.js"),client=__webpack_require__("./app/ui-utils/client/index.ts"),IRoomTypeConfig=__webpack_require__("./definition/IRoomTypeConfig.ts"),GenericModal=__webpack_require__("./client/components/GenericModal/index.ts"),WarningModal=__webpack_require__("./client/components/WarningModal.tsx"),useDontAskAgain=__webpack_require__("./client/hooks/useDontAskAgain.ts"),useOmnichannelPrioritiesMenu=__webpack_require__("./client/omnichannel/hooks/useOmnichannelPrioritiesMenu.tsx");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["label"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}var fields={f:!0,t:!0,name:!0},closeEndpoints={p:"/v1/groups.close",c:"/v1/channels.close",d:"/v1/im.close",v:"/v1/channels.close",l:"/v1/groups.close"},leaveEndpoints={p:"/v1/groups.leave",c:"/v1/channels.leave",d:"/v1/im.leave",v:"/v1/channels.leave",l:"/v1/groups.leave"},RoomMenu=function RoomMenu(_ref){var rid=_ref.rid,unread=_ref.unread,threadUnread=_ref.threadUnread,alert=_ref.alert,roomOpen=_ref.roomOpen,type=_ref.type,cl=_ref.cl,_ref$name=_ref.name,name=void 0===_ref$name?"":_ref$name,_ref$hideDefaultOptio=_ref.hideDefaultOptions,hideDefaultOptions=void 0!==_ref$hideDefaultOptio&&_ref$hideDefaultOptio,t=(0,ui_contexts_dist.useTranslation)(),dispatchToastMessage=(0,ui_contexts_dist.useToastMessageDispatch)(),setModal=(0,ui_contexts_dist.useSetModal)(),closeModal=(0,index_module.useMutableCallback)((function(){return setModal()})),router=(0,ui_contexts_dist.useRouter)(),subscription=(0,ui_contexts_dist.useUserSubscription)(rid,fields),canFavorite=(0,ui_contexts_dist.useSetting)("Favorite_Rooms"),isFavorite=Boolean(null==subscription?void 0:subscription.f),dontAskHideRoom=(0,useDontAskAgain.m)("hideRoom"),hideRoom=(0,ui_contexts_dist.useEndpoint)("POST",closeEndpoints[type]),readMessages=(0,ui_contexts_dist.useEndpoint)("POST","/v1/subscriptions.read"),toggleFavorite=(0,ui_contexts_dist.useEndpoint)("POST","/v1/rooms.favorite"),leaveRoom=(0,ui_contexts_dist.useEndpoint)("POST",leaveEndpoints[type]),unreadMessages=(0,ui_contexts_dist.useMethod)("unreadMessages"),isUnread=alert||unread||threadUnread,canLeaveChannel=(0,ui_contexts_dist.usePermission)("leave-c"),canLeavePrivate=(0,ui_contexts_dist.usePermission)("leave-p"),isOmnichannelRoom="l"===type,prioritiesMenu=(0,useOmnichannelPrioritiesMenu.N)(rid),queryClient=(0,lib.useQueryClient)(),canLeave=!("c"===type&&!canLeaveChannel||"p"===type&&!canLeavePrivate||null!=cl&&!cl||["d","l"].includes(type)),handleLeave=(0,index_module.useMutableCallback)((function(){var leave=function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,leaveRoom({roomId:rid});case 3:roomOpen&&router.navigate("/home"),client.LegacyRoomManager.close(rid),_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(0),dispatchToastMessage({type:"error",message:_context.t0});case 10:closeModal();case 11:case"end":return _context.stop()}}),_callee,null,[[0,7]])})));return function leave(){return _ref2.apply(this,arguments)}}(),warnText=roomCoordinator.roomCoordinator.getRoomDirectives(type).getUiText(IRoomTypeConfig.XA.LEAVE_WARNING);setModal(react.createElement(WarningModal.A,{text:t(warnText,name),confirmText:t("Leave_room"),close:closeModal,cancelText:t("Cancel"),confirm:leave}))})),handleHide=(0,index_module.useMutableCallback)(_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var hide,warnText;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(hide=function(){var _ref4=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,hideRoom({roomId:rid});case 3:_context2.next=8;break;case 5:_context2.prev=5,_context2.t0=_context2.catch(0),dispatchToastMessage({type:"error",message:_context2.t0});case 8:closeModal();case 9:case"end":return _context2.stop()}}),_callee2,null,[[0,5]])})));return function hide(){return _ref4.apply(this,arguments)}}(),warnText=roomCoordinator.roomCoordinator.getRoomDirectives(type).getUiText(IRoomTypeConfig.XA.HIDE_WARNING),!dontAskHideRoom){_context3.next=4;break}return _context3.abrupt("return",hide());case 4:setModal(react.createElement(GenericModal.y,{variant:"danger",confirmText:t("Yes_hide_it"),cancelText:t("Cancel"),onClose:closeModal,onCancel:closeModal,onConfirm:hide,dontAskAgain:{action:"hideRoom",label:t("Hide_room")}},t(warnText,name)));case 5:case"end":return _context3.stop()}}),_callee3)})))),handleToggleRead=(0,index_module.useMutableCallback)(_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(_context4.prev=0,queryClient.invalidateQueries(["sidebar/search/spotlight"]),!isUnread){_context4.next=6;break}return _context4.next=5,readMessages({rid:rid,readThreads:!0});case 5:return _context4.abrupt("return");case 6:if(null!=subscription){_context4.next=8;break}return _context4.abrupt("return");case 8:return client.LegacyRoomManager.close(subscription.t+subscription.name),router.navigate("/home"),_context4.next=12,unreadMessages(void 0,rid);case 12:_context4.next=17;break;case 14:_context4.prev=14,_context4.t0=_context4.catch(0),dispatchToastMessage({type:"error",message:_context4.t0});case 17:case"end":return _context4.stop()}}),_callee4,null,[[0,14]])})))),handleToggleFavorite=(0,index_module.useMutableCallback)(_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(){return _regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.prev=0,_context5.next=3,toggleFavorite({roomId:rid,favorite:!isFavorite});case 3:_context5.next=8;break;case 5:_context5.prev=5,_context5.t0=_context5.catch(0),dispatchToastMessage({type:"error",message:_context5.t0});case 8:case"end":return _context5.stop()}}),_callee5,null,[[0,5]])})))),menuOptions=(0,react.useMemo)((function(){return _objectSpread(_objectSpread({},!hideDefaultOptions&&_objectSpread(_objectSpread(_objectSpread({},isOmnichannelRoom?{}:{hideRoom:{label:{label:t("Hide"),icon:"eye-off"},action:handleHide}}),{},{toggleRead:{label:{label:t(isUnread?"Mark_read":"Mark_unread"),icon:"flag"},action:handleToggleRead}},canFavorite?{toggleFavorite:{label:{label:t(isFavorite?"Unfavorite":"Favorite"),icon:isFavorite?"star-filled":"star"},action:handleToggleFavorite}}:{}),canLeave&&{leaveRoom:{label:{label:t("Leave_room"),icon:"sign-out"},action:handleLeave}})),isOmnichannelRoom&&prioritiesMenu)}),[hideDefaultOptions,t,handleHide,isUnread,handleToggleRead,canFavorite,isFavorite,handleToggleFavorite,canLeave,handleLeave,isOmnichannelRoom,prioritiesMenu]);return react.createElement(fuselage.Menu,{"rcx-sidebar-item__menu":!0,title:t("Options"),mini:!0,"aria-keyshortcuts":"alt",options:menuOptions,maxHeight:300,renderItem:function renderItem(_ref7){var _ref7$label=_ref7.label,label=_ref7$label.label,icon=_ref7$label.icon,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref7,_excluded);return react.createElement(fuselage.Option,_extends({label:label,icon:icon},props))}})},sidebar_RoomMenu=(0,react.memo)(RoomMenu);RoomMenu.__docgenInfo={description:"",methods:[],displayName:"RoomMenu",props:{rid:{required:!0,tsType:{name:"string"},description:""},unread:{required:!1,tsType:{name:"boolean"},description:""},threadUnread:{required:!1,tsType:{name:"boolean"},description:""},alert:{required:!1,tsType:{name:"boolean"},description:""},roomOpen:{required:!1,tsType:{name:"boolean"},description:""},type:{required:!0,tsType:{name:"RoomType"},description:""},cl:{required:!1,tsType:{name:"boolean"},description:""},name:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},hideDefaultOptions:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};var RoomActivityIcon=__webpack_require__("./client/omnichannel/components/RoomActivityIcon/index.tsx"),PriorityIcon=__webpack_require__("./client/omnichannel/priorities/PriorityIcon.tsx"),OmnichannelBadges=function OmnichannelBadges(_ref){var room=_ref.room,isPriorityEnabled=(0,useOmnichannelPriorities.Y)().enabled;return(0,dist.isOmnichannelRoom)(room)?react.createElement(react.Fragment,null,isPriorityEnabled?react.createElement(PriorityIcon.w,{level:room.priorityWeight}):null,react.createElement(RoomActivityIcon.s,{room:room})):null};OmnichannelBadges.__docgenInfo={description:"",methods:[],displayName:"OmnichannelBadges",props:{room:{required:!0,tsType:{name:"intersection",raw:"ISubscription & IRoom",elements:[{name:"ISubscription"},{name:"IRoom"}]},description:""}}};var esm=__webpack_require__("./node_modules/@rocket.chat/string-helpers/dist/esm/index.js"),emojione=__webpack_require__("./node_modules/emojione/lib/js/emojione.js"),emojione_default=__webpack_require__.n(emojione),markdown=__webpack_require__("./app/markdown/lib/markdown.js"),normalizeSidebarMessage=function normalizeSidebarMessage(message,t){if(message.msg)return(0,esm.Zn)((0,markdown.AM)(emojione_default().shortnameToUnicode(message.msg)));if(message.attachments){var attachment=message.attachments.find((function(attachment){return attachment.title||attachment.description}));return null!=attachment&&attachment.description?(0,esm.Zn)(attachment.description):null!=attachment&&attachment.title?(0,esm.Zn)(attachment.title):t("Sent_an_attachment")}};function SideBarItemTemplateWithData(_ref){var room=_ref.room,id=_ref.id,selected=_ref.selected,style=_ref.style,extended=_ref.extended,SideBarItemTemplate=_ref.SideBarItemTemplate,AvatarTemplate=_ref.AvatarTemplate,t=_ref.t,isAnonymous=_ref.isAnonymous,videoConfActions=_ref.videoConfActions,sidebar=(0,ui_contexts_dist.useLayout)().sidebar,href=roomCoordinator.roomCoordinator.getRouteLink(room.t,room)||"",title=roomCoordinator.roomCoordinator.getRoomName(room.t,room)||"",lastMessage=room.lastMessage,hideUnreadStatus=room.hideUnreadStatus,hideMentionStatus=room.hideMentionStatus,_room$unread=room.unread,unread=void 0===_room$unread?0:_room$unread,alert=room.alert,userMentions=room.userMentions,groupMentions=room.groupMentions,_room$tunread=room.tunread,tunread=void 0===_room$tunread?[]:_room$tunread,_room$tunreadUser=room.tunreadUser,tunreadUser=void 0===_room$tunreadUser?[]:_room$tunreadUser,rid=room.rid,type=room.t,cl=room.cl,highlighted=Boolean(!hideUnreadStatus&&(alert||unread)),icon=react.createElement(fuselage.Sidebar.Item.Icon,{highlighted:highlighted,icon:"at"},react.createElement(RoomIcon.R,{room:room,placement:"sidebar",isIncomingCall:Boolean(videoConfActions)})),actions=(0,react.useMemo)((function(){return videoConfActions&&react.createElement(fuselage.SidebarItemActions,null,react.createElement(fuselage.SidebarItemAction,{onClick:videoConfActions.acceptCall,secondary:!0,success:!0,icon:"phone"}),react.createElement(fuselage.SidebarItemAction,{onClick:videoConfActions.rejectCall,secondary:!0,danger:!0,icon:"phone-off"}))}),[videoConfActions]),isQueued=(0,dist.isOmnichannelRoom)(room)&&"queued"===room.status,isPriorityEnabled=(0,useOmnichannelPriorities.Y)().enabled,message=extended&&function getMessage(room,lastMessage,t){var _lastMessage$u,_room$u;return lastMessage?(0,dist.isVideoConfMessage)(lastMessage)?t("Call_started"):lastMessage.u?(null===(_lastMessage$u=lastMessage.u)||void 0===_lastMessage$u?void 0:_lastMessage$u.username)===(null===(_room$u=room.u)||void 0===_room$u?void 0:_room$u.username)?"".concat(t("You"),": ").concat(normalizeSidebarMessage(lastMessage,t)):(0,dist.isDirectMessageRoom)(room)&&!(0,dist.isMultipleDirectMessageRoom)(room)?normalizeSidebarMessage(lastMessage,t):"".concat(lastMessage.u.name||lastMessage.u.username,": ").concat(normalizeSidebarMessage(lastMessage,t)):normalizeSidebarMessage(lastMessage,t):t("No_messages_yet")}(room,lastMessage,t),subtitle=message?react.createElement("span",{className:"message-body--unstyled",dangerouslySetInnerHTML:{__html:message}}):null,threadUnread=tunread.length>0,variant=(userMentions||tunreadUser.length?"danger":threadUnread&&"primary")||groupMentions&&"warning"||"secondary",isUnread=unread>0||threadUnread,showBadge=!hideUnreadStatus||!hideMentionStatus&&(Boolean(userMentions)||tunreadUser.length>0),badgeTitle=function getBadgeTitle(userMentions,threadUnread,groupMentions,unread,t){var title=[];userMentions&&title.push(t("mentions_counter",{count:userMentions})),threadUnread&&title.push(t("threads_counter",{count:threadUnread})),groupMentions&&title.push(t("group_mentions_counter",{count:groupMentions}));var count=unread-userMentions-groupMentions;return count>0&&title.push(t("unread_messages_counter",{count:count})),title.join(", ")}(userMentions,tunread.length,groupMentions,unread,t),badges=react.createElement(fuselage.Margins,{inlineStart:8},showBadge&&isUnread&&react.createElement(fuselage.Badge,{role:"status",style:{display:"inline-flex",flexShrink:0},variant:variant,title:badgeTitle},unread+(null==tunread?void 0:tunread.length)),(0,dist.isOmnichannelRoom)(room)&&react.createElement(OmnichannelBadges,{room:room}));return react.createElement(SideBarItemTemplate,{is:"a",id:id,"data-qa":"sidebar-item","data-unread":highlighted,unread:highlighted,selected:selected,href:href,onClick:function onClick(){!selected&&sidebar.toggle()},"aria-label":title,title:title,time:null==lastMessage?void 0:lastMessage.ts,subtitle:subtitle,icon:icon,style:style,badges:badges,avatar:AvatarTemplate&&react.createElement(AvatarTemplate,room),actions:actions,menu:!isIOsDevice.o&&!isAnonymous&&(!isQueued||isQueued&&isPriorityEnabled)&&function(){return react.createElement(sidebar_RoomMenu,{alert:alert,threadUnread:threadUnread,rid:rid,unread:!!unread,roomOpen:selected,type:type,cl:cl,name:title,hideDefaultOptions:isQueued})}})}var keys=["id","style","extended","selected","SideBarItemTemplate","AvatarTemplate","t","sidebarViewMode","videoConfActions"],RoomList_SideBarItemTemplateWithData=(0,react.memo)(SideBarItemTemplateWithData,(function(prevProps,nextProps){var _prevProps$room$_upda,_nextProps$room$_upda,_prevProps$room$lastM,_nextProps$room$lastM,_prevProps$room,_nextProps$room;return!keys.some((function(key){return prevProps[key]!==nextProps[key]}))&&(prevProps.room===nextProps.room||prevProps.room._id===nextProps.room._id&&((null===(_prevProps$room$_upda=prevProps.room._updatedAt)||void 0===_prevProps$room$_upda?void 0:_prevProps$room$_upda.toISOString())===(null===(_nextProps$room$_upda=nextProps.room._updatedAt)||void 0===_nextProps$room$_upda?void 0:_nextProps$room$_upda.toISOString())&&(!function safeDateNotEqualCheck(a,b){return a&&b?new Date(a).toISOString()!==new Date(b).toISOString():a!==b}(null===(_prevProps$room$lastM=prevProps.room.lastMessage)||void 0===_prevProps$room$lastM?void 0:_prevProps$room$lastM._updatedAt,null===(_nextProps$room$lastM=nextProps.room.lastMessage)||void 0===_nextProps$room$lastM?void 0:_nextProps$room$lastM._updatedAt)&&(prevProps.room.alert===nextProps.room.alert&&((!(0,dist.isOmnichannelRoom)(prevProps.room)||!(0,dist.isOmnichannelRoom)(nextProps.room)||(null===(_prevProps$room=prevProps.room)||void 0===_prevProps$room||null===(_prevProps$room=_prevProps$room.v)||void 0===_prevProps$room?void 0:_prevProps$room.status)===(null===(_nextProps$room=nextProps.room)||void 0===_nextProps$room||null===(_nextProps$room=_nextProps$room.v)||void 0===_nextProps$room?void 0:_nextProps$room.status))&&(prevProps.room.teamMain===nextProps.room.teamMain&&(!(0,dist.isOmnichannelRoom)(prevProps.room)||!(0,dist.isOmnichannelRoom)(nextProps.room)||prevProps.room.priorityWeight===nextProps.room.priorityWeight)))))))}));SideBarItemTemplateWithData.__docgenInfo={description:"",methods:[],displayName:"SideBarItemTemplateWithData",props:{extended:{required:!0,tsType:{name:"boolean"},description:""},t:{required:!0,tsType:{name:"ReturnType",elements:[{name:"useTranslation"}],raw:"ReturnType<typeof useTranslation>"},description:""},SideBarItemTemplate:{required:!0,tsType:{name:"ComponentType",elements:[{name:"intersection",raw:"{\n\ticon: ReactNode;\n\ttitle: ReactNode;\n\tavatar: ReactNode;\n\tactions: unknown;\n\thref: string;\n\ttime?: Date;\n\tmenu?: ReactNode;\n\tmenuOptions?: unknown;\n\tsubtitle?: ReactNode;\n\ttitleIcon?: string;\n\tbadges?: ReactNode;\n\tthreadUnread?: boolean;\n\tunread?: boolean;\n\tselected?: boolean;\n\tis?: string;\n} & AllHTMLAttributes<HTMLElement>",elements:[{name:"signature",type:"object",raw:"{\n\ticon: ReactNode;\n\ttitle: ReactNode;\n\tavatar: ReactNode;\n\tactions: unknown;\n\thref: string;\n\ttime?: Date;\n\tmenu?: ReactNode;\n\tmenuOptions?: unknown;\n\tsubtitle?: ReactNode;\n\ttitleIcon?: string;\n\tbadges?: ReactNode;\n\tthreadUnread?: boolean;\n\tunread?: boolean;\n\tselected?: boolean;\n\tis?: string;\n}",signature:{properties:[{key:"icon",value:{name:"ReactNode",required:!0}},{key:"title",value:{name:"ReactNode",required:!0}},{key:"avatar",value:{name:"ReactNode",required:!0}},{key:"actions",value:{name:"unknown",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"time",value:{name:"Date",required:!1}},{key:"menu",value:{name:"ReactNode",required:!1}},{key:"menuOptions",value:{name:"unknown",required:!1}},{key:"subtitle",value:{name:"ReactNode",required:!1}},{key:"titleIcon",value:{name:"string",required:!1}},{key:"badges",value:{name:"ReactNode",required:!1}},{key:"threadUnread",value:{name:"boolean",required:!1}},{key:"unread",value:{name:"boolean",required:!1}},{key:"selected",value:{name:"boolean",required:!1}},{key:"is",value:{name:"string",required:!1}}]}},{name:"AllHTMLAttributes",elements:[{name:"HTMLElement"}],raw:"AllHTMLAttributes<HTMLElement>"}]}],raw:"ComponentType<\n\t{\n\t\ticon: ReactNode;\n\t\ttitle: ReactNode;\n\t\tavatar: ReactNode;\n\t\tactions: unknown;\n\t\thref: string;\n\t\ttime?: Date;\n\t\tmenu?: ReactNode;\n\t\tmenuOptions?: unknown;\n\t\tsubtitle?: ReactNode;\n\t\ttitleIcon?: string;\n\t\tbadges?: ReactNode;\n\t\tthreadUnread?: boolean;\n\t\tunread?: boolean;\n\t\tselected?: boolean;\n\t\tis?: string;\n\t} & AllHTMLAttributes<HTMLElement>\n>"},description:""},AvatarTemplate:{required:!0,tsType:{name:"ReturnType",elements:[{name:"useAvatarTemplate"}],raw:"ReturnType<typeof useAvatarTemplate>"},description:""},openedRoom:{required:!1,tsType:{name:"string"},description:""},isAnonymous:{required:!1,tsType:{name:"boolean"},description:""},room:{required:!0,tsType:{name:"intersection",raw:"ISubscription & IRoom",elements:[{name:"ISubscription"},{name:"IRoom"}]},description:""},id:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"AllHTMLAttributes['style']",raw:"AllHTMLAttributes<HTMLElement>['style']"},description:""},selected:{required:!1,tsType:{name:"boolean"},description:""},sidebarViewMode:{required:!1,tsType:{name:"unknown"},description:""},videoConfActions:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n\t[action: string]: () => void;\n}",signature:{properties:[{key:{name:"string"},value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}}]}},description:""}}}},"./client/sidebar/SidebarRegion.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return sidebar_SidebarRegion}});var index_module=__webpack_require__("./node_modules/@rocket.chat/css-in-js/dist/index.module.js"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),dist=__webpack_require__("../../packages/ui-client/dist/index.js"),ui_contexts_dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),dist_import=__webpack_require__("./node_modules/@react-aria/focus/dist/import.mjs"),dist_index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),useOmnichannelEnabled=__webpack_require__("./client/hooks/omnichannel/useOmnichannelEnabled.ts"),react_virtuoso_dist=__webpack_require__("./node_modules/react-virtuoso/dist/index.mjs"),CustomScrollbars=__webpack_require__("./client/components/CustomScrollbars/index.ts"),RoomManager=__webpack_require__("./client/lib/RoomManager.ts"),useAvatarTemplate=__webpack_require__("./client/sidebar/hooks/useAvatarTemplate.tsx"),usePreventDefault=__webpack_require__("./client/sidebar/hooks/usePreventDefault.ts"),VideoConfContext=__webpack_require__("./client/contexts/VideoConfContext.ts"),useQueuedInquiries=__webpack_require__("./client/hooks/omnichannel/useQueuedInquiries.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||_unsupportedIterableToArray(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||_unsupportedIterableToArray(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var query={open:{$ne:!1}},emptyQueue=[],order=["Incoming_Calls","Incoming_Livechats","Open_Livechats","On_Hold_Chats","Unread","Favorites","Teams","Discussions","Channels","Direct_Messages","Conversations"],useRoomList=function useRoomList(){var _useUserPreference,_useDebouncedState2=_slicedToArray((0,dist_index_module.useDebouncedState)([],150),2),roomList=_useDebouncedState2[0],setRoomList=_useDebouncedState2[1],showOmnichannel=(0,useOmnichannelEnabled.r)(),sidebarGroupByType=(0,ui_contexts_dist.useUserPreference)("sidebarGroupByType"),favoritesEnabled=(0,ui_contexts_dist.useUserPreference)("sidebarShowFavorites"),sidebarOrder=null!==(_useUserPreference=(0,ui_contexts_dist.useUserPreference)("sidebarSectionsOrder"))&&void 0!==_useUserPreference?_useUserPreference:order,isDiscussionEnabled=(0,ui_contexts_dist.useSetting)("Discussion_enabled"),sidebarShowUnread=(0,ui_contexts_dist.useUserPreference)("sidebarShowUnread"),options=function useQueryOptions(){var sortBy=(0,ui_contexts_dist.useUserPreference)("sidebarSortby"),showRealName=(0,ui_contexts_dist.useSetting)("UI_Use_Real_Name");return(0,react.useMemo)((function(){return{sort:_objectSpread(_objectSpread({},"activity"===sortBy&&{lm:-1}),"activity"!==sortBy&&_objectSpread({},showRealName?{lowerCaseFName:1}:{lowerCaseName:1}))}}),[sortBy,showRealName])}(),rooms=(0,ui_contexts_dist.useUserSubscriptions)(query,options),inquiries=(0,useQueuedInquiries.A)(),incomingCalls=(0,VideoConfContext.gA)(),queue=emptyQueue;return inquiries.enabled&&(queue=inquiries.queue),(0,react.useEffect)((function(){setRoomList((function(){var incomingCall=new Set,favorite=new Set,team=new Set,omnichannel=new Set,unread=new Set,channels=new Set,direct=new Set,discussion=new Set,conversation=new Set,onHold=new Set;rooms.forEach((function(room){if(!room.archived){if(incomingCalls.find((function(call){return call.rid===room.rid})))return incomingCall.add(room);if(sidebarShowUnread&&(room.alert||room.unread)&&!room.hideUnreadStatus)return unread.add(room);if(favoritesEnabled&&room.f)return favorite.add(room);if(sidebarGroupByType&&room.teamMain)return team.add(room);if(sidebarGroupByType&&isDiscussionEnabled&&room.prid)return discussion.add(room);if("c"!==room.t&&"p"!==room.t||channels.add(room),"l"===room.t&&room.onHold)return showOmnichannel&&onHold.add(room);if("l"===room.t)return showOmnichannel&&omnichannel.add(room);"d"===room.t&&direct.add(room),conversation.add(room)}}));var groups=new Map;return incomingCall.size&&groups.set("Incoming_Calls",incomingCall),showOmnichannel&&inquiries.enabled&&queue.length&&groups.set("Incoming_Livechats",queue),showOmnichannel&&omnichannel.size&&groups.set("Open_Livechats",omnichannel),showOmnichannel&&onHold.size&&groups.set("On_Hold_Chats",onHold),sidebarShowUnread&&unread.size&&groups.set("Unread",unread),favoritesEnabled&&favorite.size&&groups.set("Favorites",favorite),sidebarGroupByType&&team.size&&groups.set("Teams",team),sidebarGroupByType&&isDiscussionEnabled&&discussion.size&&groups.set("Discussions",discussion),sidebarGroupByType&&channels.size&&groups.set("Channels",channels),sidebarGroupByType&&direct.size&&groups.set("Direct_Messages",direct),!sidebarGroupByType&&groups.set("Conversations",conversation),sidebarOrder.map((function(key){var group=groups.get(key);return group?[key].concat(_toConsumableArray(group)):[]})).flat()}))}),[rooms,showOmnichannel,incomingCalls,inquiries.enabled,queue,sidebarShowUnread,favoritesEnabled,sidebarGroupByType,setRoomList,isDiscussionEnabled,sidebarOrder]),roomList},tinykeys_module=__webpack_require__("./node_modules/tinykeys/dist/tinykeys.module.js"),useTemplateByViewMode=__webpack_require__("./client/sidebar/hooks/useTemplateByViewMode.tsx"),SideBarItemTemplateWithData=__webpack_require__("./client/sidebar/RoomList/SideBarItemTemplateWithData.tsx"),RoomListRow=function RoomListRow(_ref){var data=_ref.data,item=_ref.item,extended=data.extended,t=data.t,SideBarItemTemplate=data.SideBarItemTemplate,AvatarTemplate=data.AvatarTemplate,openedRoom=data.openedRoom,sidebarViewMode=data.sidebarViewMode,_acceptCall=(0,VideoConfContext.T9)(),_rejectCall=(0,VideoConfContext.ip)(),currentCall=(0,VideoConfContext.gA)().find((function(call){return call.rid===item.rid})),videoConfActions=(0,react.useMemo)((function(){return currentCall&&{acceptCall:function acceptCall(){return _acceptCall(currentCall.callId)},rejectCall:function rejectCall(){return _rejectCall(currentCall.callId)}}}),[_acceptCall,_rejectCall,currentCall]);return"string"==typeof item?react.createElement(fuselage.SidebarSection,null,react.createElement(fuselage.SidebarSection.Title,null,t(item))):react.createElement(SideBarItemTemplateWithData.A,{sidebarViewMode:sidebarViewMode,selected:item.rid===openedRoom,t:t,room:item,extended:extended,SideBarItemTemplate:SideBarItemTemplate,AvatarTemplate:AvatarTemplate,videoConfActions:videoConfActions})},RoomList_RoomListRow=(0,react.memo)(RoomListRow);function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}RoomListRow.__docgenInfo={description:"",methods:[],displayName:"RoomListRow",props:{data:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n\textended: boolean;\n\tt: ReturnType<typeof useTranslation>;\n\tSideBarItemTemplate: ReturnType<typeof useTemplateByViewMode>;\n\tAvatarTemplate: ReturnType<typeof useAvatarTemplate>;\n\topenedRoom: string;\n\tsidebarViewMode: 'extended' | 'condensed' | 'medium';\n\tisAnonymous: boolean;\n}",signature:{properties:[{key:"extended",value:{name:"boolean",required:!0}},{key:"t",value:{name:"ReturnType",elements:[{name:"useTranslation"}],raw:"ReturnType<typeof useTranslation>",required:!0}},{key:"SideBarItemTemplate",value:{name:"ReturnType",elements:[{name:"useTemplateByViewMode"}],raw:"ReturnType<typeof useTemplateByViewMode>",required:!0}},{key:"AvatarTemplate",value:{name:"ReturnType",elements:[{name:"useAvatarTemplate"}],raw:"ReturnType<typeof useAvatarTemplate>",required:!0}},{key:"openedRoom",value:{name:"string",required:!0}},{key:"sidebarViewMode",value:{name:"union",raw:"'extended' | 'condensed' | 'medium'",elements:[{name:"literal",value:"'extended'"},{name:"literal",value:"'condensed'"},{name:"literal",value:"'medium'"}],required:!0}},{key:"isAnonymous",value:{name:"boolean",required:!0}}]}},description:""},item:{required:!0,tsType:{name:"intersection",raw:"ISubscription & IRoom",elements:[{name:"ISubscription"},{name:"IRoom"}]},description:""}}};var RoomListRoomWrapper=(0,react.forwardRef)((function RoomListRoomWrapper(props,ref){return react.createElement("div",_extends({role:"listitem",ref:ref},props))})),RoomListRowWrapper=RoomListRoomWrapper;RoomListRoomWrapper.__docgenInfo={description:"",methods:[],displayName:"RoomListRoomWrapper"};var useSidebarListNavigation=__webpack_require__("./client/sidebar/RoomList/useSidebarListNavigation.ts");function RoomListWrapper_extends(){return RoomListWrapper_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},RoomListWrapper_extends.apply(null,arguments)}var _templateObject,RoomListWrapper=(0,react.forwardRef)((function RoomListWrapper(props,ref){var t=(0,ui_contexts_dist.useTranslation)(),sidebarListRef=(0,useSidebarListNavigation.S)().sidebarListRef,mergedRefs=(0,dist_index_module.useMergedRefs)(ref,sidebarListRef);return react.createElement("div",RoomListWrapper_extends({role:"list","aria-label":t("Channels"),ref:mergedRefs},props))})),RoomList_RoomListWrapper=RoomListWrapper;RoomListWrapper.__docgenInfo={description:"",methods:[],displayName:"RoomListWrapper"};var computeItemKey=function computeItemKey(index,room){return room._id||index},RoomList=function RoomList(){var _useOpenedRoom,t=(0,ui_contexts_dist.useTranslation)(),isAnonymous=!(0,ui_contexts_dist.useUserId)(),roomsList=useRoomList(),avatarTemplate=(0,useAvatarTemplate.h)(),sideBarItemTemplate=(0,useTemplateByViewMode.d)(),ref=(0,dist_index_module.useResizeObserver)({debounceDelay:100}).ref,openedRoom=null!==(_useOpenedRoom=(0,RoomManager.useOpenedRoom)())&&void 0!==_useOpenedRoom?_useOpenedRoom:"",sidebarViewMode=(0,ui_contexts_dist.useUserPreference)("sidebarViewMode")||"extended",extended="extended"===sidebarViewMode,itemData=(0,react.useMemo)((function(){return{extended:extended,t:t,SideBarItemTemplate:sideBarItemTemplate,AvatarTemplate:avatarTemplate,openedRoom:openedRoom,sidebarViewMode:sidebarViewMode,isAnonymous:isAnonymous}}),[avatarTemplate,extended,isAnonymous,openedRoom,sideBarItemTemplate,sidebarViewMode,t]);(0,usePreventDefault.f)(ref),function useShortcutOpenMenu(ref){(0,react.useEffect)((function(){var unsubscribe=(0,tinykeys_module.Ay)(ref.current,{Alt:function Alt(event){var _querySelector;event.target.className.includes("rcx-sidebar-item")&&(event.preventDefault(),null===(_querySelector=event.target.querySelector("button"))||void 0===_querySelector||_querySelector.click())}});return function(){unsubscribe()}}),[ref])}(ref);var roomsListStyle=(0,index_module.css)(_templateObject||(_templateObject=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\t\tposition: relative;\n\n\t\tdisplay: flex;\n\n\t\toverflow-x: hidden;\n\t\toverflow-y: hidden;\n\n\t\tflex: 1 1 auto;\n\n\t\theight: 100%;\n\n\t\t&--embedded {\n\t\t\tmargin-top: 2rem;\n\t\t}\n\n\t\t&__list:not(:last-child) {\n\t\t\tmargin-bottom: 22px;\n\t\t}\n\n\t\t&__type {\n\t\t\tdisplay: flex;\n\n\t\t\tflex-direction: row;\n\n\t\t\tpadding: 0 var(--sidebar-default-padding) 1rem var(--sidebar-default-padding);\n\n\t\t\tcolor: var(--rooms-list-title-color);\n\n\t\t\tfont-size: var(--rooms-list-title-text-size);\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\n\t\t\t&-text--livechat {\n\t\t\t\tflex: 1;\n\t\t\t}\n\t\t}\n\n\t\t&__empty-room {\n\t\t\tpadding: 0 var(--sidebar-default-padding);\n\n\t\t\tcolor: var(--rooms-list-empty-text-color);\n\n\t\t\tfont-size: var(--rooms-list-empty-text-size);\n\t\t}\n\n\t\t&__toolbar-search {\n\t\t\tposition: absolute;\n\t\t\tz-index: 10;\n\t\t\tleft: 0;\n\n\t\t\toverflow-y: scroll;\n\n\t\t\theight: 100%;\n\n\t\t\tbackground-color: var(--sidebar-background);\n\n\t\t\tpadding-block-start: 12px;\n\t\t}\n\n\t\t@media (max-width: 400px) {\n\t\t\tpadding: 0 calc(var(--sidebar-small-default-padding) - 4px);\n\n\t\t\t&__type,\n\t\t\t&__empty-room {\n\t\t\t\tpadding: 0 calc(var(--sidebar-small-default-padding) - 4px) 0.5rem calc(var(--sidebar-small-default-padding) - 4px);\n\t\t\t}\n\t\t}\n\t"])));return react.createElement(fuselage.Box,{className:[roomsListStyle,"sidebar--custom-colors"].filter(Boolean)},react.createElement(fuselage.Box,{h:"full",w:"full",ref:ref},react.createElement(react_virtuoso_dist.Virtuoso,{totalCount:roomsList.length,data:roomsList,components:{Item:RoomListRowWrapper,List:RoomList_RoomListWrapper,Scroller:CustomScrollbars.Z},computeItemKey:computeItemKey,itemContent:function itemContent(_,data){return react.createElement(RoomList_RoomListRow,{data:itemData,item:data})}})))},RoomList_RoomList=RoomList;RoomList.__docgenInfo={description:"",methods:[],displayName:"RoomList"};var SidebarFooterDefault_templateObject,CallContext=__webpack_require__("./client/contexts/CallContext.ts"),ui_theming_dist=__webpack_require__("../../ee/packages/ui-theming/dist/index.js"),useLicense=__webpack_require__("./client/hooks/useLicense.ts"),SidebarFooterWatermark=function SidebarFooterWatermark(){var t=(0,ui_contexts_dist.useTranslation)(),response=(0,useLicense.RR)(),licenseName=(0,useLicense.MT)();if(response.isLoading||response.isError)return null;if(licenseName.isError||licenseName.isLoading)return null;var license=response.data;return license.activeModules.includes("hide-watermark")&&!license.trial?null:react.createElement(fuselage.Box,{pi:16,pbe:8},react.createElement(fuselage.Box,{is:"a",href:"https://rocket.chat/",target:"_blank",rel:"noopener noreferrer"},react.createElement(fuselage.Box,{fontScale:"micro",color:"hint",pbe:4},t("Powered_by_RocketChat")),react.createElement(fuselage.Box,{fontScale:"micro",color:"pure-white",pbe:4},licenseName.data)))};function SidebarFooterDefault_slicedToArray(r,e){return function SidebarFooterDefault_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function SidebarFooterDefault_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function SidebarFooterDefault_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return SidebarFooterDefault_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?SidebarFooterDefault_arrayLikeToArray(r,a):void 0}}(r,e)||function SidebarFooterDefault_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SidebarFooterDefault_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}SidebarFooterWatermark.__docgenInfo={description:"",methods:[],displayName:"SidebarFooterWatermark"};var SidebarFooterDefault=function SidebarFooterDefault(){var theme=SidebarFooterDefault_slicedToArray((0,ui_theming_dist.e)(),3)[2],logo=String((0,ui_contexts_dist.useSetting)("dark"===theme?"Layout_Sidenav_Footer_Dark":"Layout_Sidenav_Footer")).trim(),sidebarFooterStyle=(0,index_module.css)(SidebarFooterDefault_templateObject||(SidebarFooterDefault_templateObject=function SidebarFooterDefault_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\t\t& img {\n\t\t\tmax-width: 100%;\n\t\t\theight: 100%;\n\t\t}\n\n\t\t& a:any-link {\n\t\t\tcolor: ",";\n\t\t}\n\t"])),fuselage.Palette.text["font-info"]);return react.createElement(fuselage.SidebarFooter,null,react.createElement(fuselage.SidebarDivider,null),react.createElement(fuselage.Box,{is:"footer",pb:12,pi:16,height:"x48",width:"auto",className:sidebarFooterStyle,dangerouslySetInnerHTML:{__html:logo}}),react.createElement(SidebarFooterWatermark,null))},footer_SidebarFooterDefault=SidebarFooterDefault;SidebarFooterDefault.__docgenInfo={description:"",methods:[],displayName:"SidebarFooterDefault"};var useVoipFooterMenu=__webpack_require__("./client/hooks/useVoipFooterMenu.tsx"),voip_VoipFooter=__webpack_require__("./client/sidebar/footer/voip/VoipFooter.tsx");function voip_slicedToArray(r,e){return function voip_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function voip_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function voip_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return voip_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?voip_arrayLikeToArray(r,a):void 0}}(r,e)||function voip_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function voip_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var VoipFooter=function VoipFooter(){var t=(0,ui_contexts_dist.useTranslation)(),callerInfo=(0,CallContext.L)(),callActions=(0,CallContext.v8)(),dispatchEvent=(0,ui_contexts_dist.useEndpoint)("POST","/v1/voip/events"),createRoom=(0,CallContext.Xu)(),openRoom=(0,CallContext.j2)(),queueCounter=(0,CallContext.Xz)(),queueName=(0,CallContext.KI)(),openedRoomInfo=(0,CallContext.E0)(),options=(0,useVoipFooterMenu.C)(),_useState2=voip_slicedToArray((0,react.useState)(!1),2),muted=_useState2[0],setMuted=_useState2[1],_useState4=voip_slicedToArray((0,react.useState)(!1),2),paused=_useState4[0],setPaused=_useState4[1],isEnterprise=(0,CallContext.ZK)(),toggleMic=(0,react.useCallback)((function(state){state?callActions.mute():callActions.unmute(),setMuted(state)}),[callActions]),togglePause=(0,react.useCallback)((function(state){state?callActions.pause():callActions.resume(),setMuted(!1),setPaused(state)}),[callActions]);return"caller"in callerInfo?react.createElement(voip_VoipFooter.m,{caller:callerInfo.caller,callerState:callerInfo.state,callActions:callActions,title:queueName||t("Phone_call"),subtitle:function getSubtitle(state){return{IN_CALL:t("In_progress"),OFFER_RECEIVED:t("Ringing"),OFFER_SENT:t("Calling"),ON_HOLD:t("On_Hold")}[state]||""}(callerInfo.state),muted:muted,paused:paused,toggleMic:toggleMic,togglePause:togglePause,createRoom:createRoom,openRoom:openRoom,callsInQueue:t("Calls_in_queue",{count:queueCounter}),dispatchEvent:dispatchEvent,openedRoomInfo:openedRoomInfo,isEnterprise:isEnterprise,options:options}):react.createElement(footer_SidebarFooterDefault,null)};VoipFooter.__docgenInfo={description:"",methods:[],displayName:"VoipFooter"};var SidebarFooter=function SidebarFooter(){var isCallEnabled=(0,CallContext.FC)(),ready=(0,CallContext.JD)();return isCallEnabled&&ready?react.createElement(VoipFooter,null):react.createElement(footer_SidebarFooterDefault,null)},footer_SidebarFooter=SidebarFooter;SidebarFooter.__docgenInfo={description:"",methods:[],displayName:"SidebarFooter"};var Header=(0,react.lazy)((function(){return Promise.all([__webpack_require__.e(463),__webpack_require__.e(7746),__webpack_require__.e(1515),__webpack_require__.e(1873),__webpack_require__.e(8425),__webpack_require__.e(6472),__webpack_require__.e(6076),__webpack_require__.e(7567),__webpack_require__.e(8976)]).then(__webpack_require__.bind(__webpack_require__,"./client/sidebar/header/Header.tsx"))})),HeaderUnstable=(0,react.lazy)((function(){return Promise.all([__webpack_require__.e(7746),__webpack_require__.e(1515),__webpack_require__.e(8425),__webpack_require__.e(6076),__webpack_require__.e(6446)]).then(__webpack_require__.bind(__webpack_require__,"./client/sidebar/header/HeaderUnstable.tsx"))})),HeaderWrapper=function HeaderWrapper(){return react.createElement(dist.TW,{feature:"navigationBar"},react.createElement(dist.sl,null,react.createElement(Header,null)),react.createElement(dist.Uq,null,react.createElement(HeaderUnstable,null)))},header=(0,react.memo)(HeaderWrapper);HeaderWrapper.__docgenInfo={description:"",methods:[],displayName:"HeaderWrapper"};var useIsOverMacLimit=__webpack_require__("./client/hooks/omnichannel/useIsOverMacLimit.tsx"),useOmnichannelShowQueueLink=__webpack_require__("./client/hooks/omnichannel/useOmnichannelShowQueueLink.ts"),SidebarHeaderToolbar=__webpack_require__("./client/sidebar/header/SidebarHeaderToolbar.tsx"),OverMacLimitSection=function OverMacLimitSection(){var t=(0,ui_contexts_dist.useTranslation)();return react.createElement(fuselage.SidebarBanner,{text:t("You_have_reached_the_limit_active_costumers_this_month"),description:t("Learn_more"),addon:react.createElement(fuselage.Icon,{name:"warning",color:"danger",size:"x24"}),onClick:function handleClick(){window.open("https://rocket.chat/pricing","_blank")}})};OverMacLimitSection.__docgenInfo={description:"",methods:[],displayName:"OverMacLimitSection"};var useDialModal=__webpack_require__("./client/hooks/useDialModal.tsx");function OmnichannelCallDialPad_extends(){return OmnichannelCallDialPad_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},OmnichannelCallDialPad_extends.apply(null,arguments)}var OmniChannelCallDialPad=function OmniChannelCallDialPad(_ref){var props=OmnichannelCallDialPad_extends({},(function _objectDestructuringEmpty(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(_ref),_ref)),t=(0,ui_contexts_dist.useTranslation)(),openDialModal=(0,useDialModal.F)().openDialModal,_useVoipOutboundState=(0,CallContext.cT)(),outBoundCallsAllowed=_useVoipOutboundState.outBoundCallsAllowed,outBoundCallsEnabledForUser=_useVoipOutboundState.outBoundCallsEnabledForUser;return react.createElement(fuselage.Sidebar.TopBar.Action,OmnichannelCallDialPad_extends({icon:"dialpad",onClick:function onClick(){return openDialModal()},disabled:!outBoundCallsEnabledForUser,"aria-label":t("Open_Dialpad"),"data-tooltip":t(outBoundCallsAllowed?"New_Call":"New_Call_Premium_Only")},props))};function OmnichannelCallToggleError_extends(){return OmnichannelCallToggleError_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},OmnichannelCallToggleError_extends.apply(null,arguments)}OmniChannelCallDialPad.__docgenInfo={description:"",methods:[],displayName:"OmniChannelCallDialPad"};var OmnichannelCallToggleError=function OmnichannelCallToggleError(_ref){var props=OmnichannelCallToggleError_extends({},(function OmnichannelCallToggleError_objectDestructuringEmpty(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(_ref),_ref)),t=(0,ui_contexts_dist.useTranslation)();return react.createElement(fuselage.Sidebar.TopBar.Action,OmnichannelCallToggleError_extends({icon:"phone",danger:!0,"data-tooltip":t("Error"),disabled:!0},props))};function OmnichannelCallToggleLoading_extends(){return OmnichannelCallToggleLoading_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},OmnichannelCallToggleLoading_extends.apply(null,arguments)}OmnichannelCallToggleError.__docgenInfo={description:"",methods:[],displayName:"OmnichannelCallToggleError"};var OmnichannelCallToggleLoading=function OmnichannelCallToggleLoading(_ref){var props=OmnichannelCallToggleLoading_extends({},(function OmnichannelCallToggleLoading_objectDestructuringEmpty(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(_ref),_ref)),t=(0,ui_contexts_dist.useTranslation)();return react.createElement(fuselage.Sidebar.TopBar.Action,OmnichannelCallToggleLoading_extends({icon:"phone","data-tooltip":t("Loading"),"aria-label":t("VoIP_Toggle"),disabled:!0},props))};function OmnichannelCallToggleReady_extends(){return OmnichannelCallToggleReady_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},OmnichannelCallToggleReady_extends.apply(null,arguments)}OmnichannelCallToggleLoading.__docgenInfo={description:"",methods:[],displayName:"OmnichannelCallToggleLoading"};var OmnichannelCallToggleReady=function OmnichannelCallToggleReady(_ref){var props=OmnichannelCallToggleReady_extends({},(function OmnichannelCallToggleReady_objectDestructuringEmpty(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(_ref),_ref)),t=(0,ui_contexts_dist.useTranslation)(),caller=(0,CallContext.L)(),unregister=(0,CallContext.X$)(),register=(0,CallContext.ku)(),networkStatus=(0,CallContext.I_)(),registered=!["ERROR","INITIAL","UNREGISTERED"].includes(caller.state),inCall=["IN_CALL"].includes(caller.state),onClickVoipButton=(0,react.useCallback)((function(){registered?unregister():register()}),[registered,register,unregister]);return react.createElement(fuselage.Sidebar.TopBar.Action,OmnichannelCallToggleReady_extends({icon:function getIcon(){return"offline"===networkStatus?"phone-issue":registered?"phone":"phone-disabled"}(),disabled:inCall,"aria-checked":registered,"aria-label":t("VoIP_Toggle"),"data-tooltip":function getTitle(){return t("offline"===networkStatus?"Waiting_for_server_connection":inCall?"Cannot_disable_while_on_call":registered?"Turn_off_answer_calls":"Turn_on_answer_calls")}()},props,{success:registered,warning:"offline"===networkStatus,onClick:onClickVoipButton}))};function OmnichannelCallToggle_extends(){return OmnichannelCallToggle_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},OmnichannelCallToggle_extends.apply(null,arguments)}OmnichannelCallToggleReady.__docgenInfo={description:"",methods:[],displayName:"OmnichannelCallToggleReady"};var OmnichannelCallToggle=function OmnichannelCallToggle(_ref){var props=OmnichannelCallToggle_extends({},(function OmnichannelCallToggle_objectDestructuringEmpty(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(_ref),_ref)),isCallReady=(0,CallContext.JD)();return(0,CallContext.cc)()?react.createElement(OmnichannelCallToggleError,props):isCallReady?react.createElement(OmnichannelCallToggleReady,props):react.createElement(OmnichannelCallToggleLoading,props)};OmnichannelCallToggle.__docgenInfo={description:"",methods:[],displayName:"OmnichannelCallToggle"};var useOmnichannelAgentAvailable=__webpack_require__("./client/hooks/omnichannel/useOmnichannelAgentAvailable.ts");function OmnichannelLivechatToggle_typeof(o){return OmnichannelLivechatToggle_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},OmnichannelLivechatToggle_typeof(o)}function OmnichannelLivechatToggle_extends(){return OmnichannelLivechatToggle_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},OmnichannelLivechatToggle_extends.apply(null,arguments)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==OmnichannelLivechatToggle_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(OmnichannelLivechatToggle_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}var OmnichannelLivechatToggle=function OmnichannelLivechatToggle(props){var t=(0,ui_contexts_dist.useTranslation)(),agentAvailable=(0,useOmnichannelAgentAvailable.U)(),changeAgentStatus=(0,ui_contexts_dist.useEndpoint)("POST","/v1/livechat/agent.status"),dispatchToastMessage=(0,ui_contexts_dist.useToastMessageDispatch)(),handleAvailableStatusChange=(0,dist_index_module.useMutableCallback)(_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,changeAgentStatus({});case 3:_context.next=8;break;case 5:_context.prev=5,_context.t0=_context.catch(0),dispatchToastMessage({type:"error",message:_context.t0});case 8:case"end":return _context.stop()}}),_callee,null,[[0,5]])}))));return react.createElement(fuselage.Sidebar.TopBar.Action,OmnichannelLivechatToggle_extends({},props,{id:"omnichannel-status-toggle",title:t(agentAvailable?"Turn_off_answer_chats":"Turn_on_answer_chats"),success:agentAvailable,icon:agentAvailable?"message":"message-disabled",onClick:handleAvailableStatusChange}))};OmnichannelLivechatToggle.__docgenInfo={description:"",methods:[],displayName:"OmnichannelLivechatToggle"};var OmnichannelSection=function OmnichannelSection(){var t=(0,ui_contexts_dist.useTranslation)(),isCallEnabled=(0,CallContext.FC)(),isCallReady=(0,CallContext.JD)(),hasPermissionToSeeContactCenter=(0,ui_contexts_dist.usePermission)("view-omnichannel-contact-center"),showOmnichannelQueueLink=(0,useOmnichannelShowQueueLink.o)(),sidebar=(0,ui_contexts_dist.useLayout)().sidebar,directoryRoute=(0,ui_contexts_dist.useRoute)("omnichannel-directory"),queueListRoute=(0,ui_contexts_dist.useRoute)("livechat-queue"),isWorkspaceOverMacLimit=(0,useIsOverMacLimit.y)(),handleRoute=(0,dist_index_module.useMutableCallback)((function(route){switch(sidebar.toggle(),route){case"directory":directoryRoute.push({});break;case"queue":queueListRoute.push({})}}));return react.createElement(react.Fragment,null,isWorkspaceOverMacLimit&&react.createElement(OverMacLimitSection,null),react.createElement(dist.TW,{feature:"newNavigation"},react.createElement(dist.sl,null,react.createElement(fuselage.Sidebar.TopBar.Section,{"aria-label":t("Omnichannel_actions"),className:"omnichannel-sidebar"},react.createElement(fuselage.Sidebar.TopBar.Title,null,t("Omnichannel")),react.createElement(SidebarHeaderToolbar.A,null,showOmnichannelQueueLink&&react.createElement(fuselage.Sidebar.TopBar.Action,{icon:"queue","data-tooltip":t("Queue"),onClick:function onClick(){return handleRoute("queue")}}),isCallEnabled&&react.createElement(OmnichannelCallToggle,null),react.createElement(OmnichannelLivechatToggle,null),hasPermissionToSeeContactCenter&&react.createElement(fuselage.Sidebar.TopBar.Action,{"data-tooltip":t("Contact_Center"),"aria-label":t("Contact_Center"),icon:"address-book",onClick:function onClick(){return handleRoute("directory")}}),isCallReady&&react.createElement(OmniChannelCallDialPad,null)))),react.createElement(dist.Uq,null,react.createElement(fuselage.SidebarSection,{"aria-label":t("Omnichannel_actions")},react.createElement(fuselage.Sidebar.TopBar.Title,null,t("Omnichannel")),react.createElement(SidebarHeaderToolbar.A,null,showOmnichannelQueueLink&&react.createElement(fuselage.Sidebar.TopBar.Action,{icon:"queue","data-tooltip":t("Queue"),onClick:function onClick(){return handleRoute("queue")}}),isCallEnabled&&react.createElement(OmnichannelCallToggle,null),react.createElement(OmnichannelLivechatToggle,null),hasPermissionToSeeContactCenter&&react.createElement(fuselage.Sidebar.TopBar.Action,{"data-tooltip":t("Contact_Center"),"aria-label":t("Contact_Center"),icon:"address-book",onClick:function onClick(){return handleRoute("directory")}}),isCallReady&&react.createElement(OmniChannelCallDialPad,null))),react.createElement(fuselage.SidebarDivider,null))))},sections_OmnichannelSection=(0,react.memo)(OmnichannelSection);OmnichannelSection.__docgenInfo={description:"",methods:[],displayName:"OmnichannelSection"};var Sidebar_templateObject,useStatusDisabledModal=__webpack_require__("./client/views/admin/customUserStatus/hooks/useStatusDisabledModal.tsx"),StatusDisabledSection=function StatusDisabledSection(_ref){var onDismiss=_ref.onDismiss,t=(0,ui_contexts_dist.useTranslation)(),handleStatusDisabledModal=(0,useStatusDisabledModal.Z)();return react.createElement(fuselage.SidebarBanner,{text:t("User_status_temporarily_disabled"),description:t("Learn_more"),onClose:onDismiss,onClick:handleStatusDisabledModal})},sections_StatusDisabledSection=StatusDisabledSection;function Sidebar_slicedToArray(r,e){return function Sidebar_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function Sidebar_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function Sidebar_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return Sidebar_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Sidebar_arrayLikeToArray(r,a):void 0}}(r,e)||function Sidebar_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sidebar_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}StatusDisabledSection.__docgenInfo={description:"",methods:[],displayName:"StatusDisabledSection",props:{onDismiss:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var SidebarRegion_templateObject,_templateObject2,_templateObject3,Sidebar=function Sidebar(){var showOmnichannel=(0,useOmnichannelEnabled.r)(),sidebarViewMode=(0,ui_contexts_dist.useUserPreference)("sidebarViewMode"),sidebarHideAvatar=!(0,ui_contexts_dist.useUserPreference)("sidebarDisplayAvatar"),sidebar=(0,ui_contexts_dist.useLayout)().sidebar,_useSessionStorage2=Sidebar_slicedToArray((0,dist_index_module.useSessionStorage)("presence_cap_notifier",!1),2),bannerDismissed=_useSessionStorage2[0],setBannerDismissed=_useSessionStorage2[1],presenceDisabled=(0,ui_contexts_dist.useSetting)("Presence_broadcast_disabled"),sidebarLink=(0,index_module.css)(Sidebar_templateObject||(Sidebar_templateObject=function Sidebar_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\t\ta {\n\t\t\ttext-decoration: none;\n\t\t}\n\t"])));return react.createElement(fuselage.Box,{display:"flex",flexDirection:"column",height:"100%",is:"nav",className:["rcx-sidebar--main","rcx-sidebar rcx-sidebar--".concat(sidebarViewMode),sidebarHideAvatar&&"rcx-sidebar--hide-avatar",sidebarLink].filter(Boolean),"data-qa-opened":sidebar.isCollapsed?"false":"true"},react.createElement(header,null),presenceDisabled&&!bannerDismissed&&react.createElement(sections_StatusDisabledSection,{onDismiss:function onDismiss(){return setBannerDismissed(!0)}}),showOmnichannel&&react.createElement(sections_OmnichannelSection,null),react.createElement(RoomList_RoomList,null),react.createElement(footer_SidebarFooter,null))},sidebar_Sidebar=(0,react.memo)(Sidebar);function SidebarRegion_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Sidebar.__docgenInfo={description:"",methods:[],displayName:"Sidebar"};var Navbar=(0,react.lazy)((function(){return Promise.all([__webpack_require__.e(463),__webpack_require__.e(1873),__webpack_require__.e(6472),__webpack_require__.e(7567),__webpack_require__.e(3644)]).then(__webpack_require__.bind(__webpack_require__,"./client/navbar/Navbar.tsx"))})),SidebarRegion=function SidebarRegion(){var _useLayout=(0,ui_contexts_dist.useLayout)(),isMobile=_useLayout.isMobile,sidebar=_useLayout.sidebar,sidebarMobileClass=(0,index_module.css)(SidebarRegion_templateObject||(SidebarRegion_templateObject=SidebarRegion_taggedTemplateLiteral(["\n\t\tposition: absolute;\n\t\tuser-select: none;\n\t\ttransform: translate3d(-100%, 0, 0);\n\t\t-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n\t\t-webkit-user-drag: none;\n\t\ttouch-action: pan-y;\n\t\twill-change: transform;\n\n\t\t.rtl & {\n\t\t\ttransform: translate3d(200%, 0, 0);\n\n\t\t\t&.opened {\n\t\t\t\tbox-shadow: rgba(0, 0, 0, 0.3) 0px 0px 15px 1px;\n\t\t\t\ttransform: translate3d(0px, 0px, 0px);\n\t\t\t}\n\t\t}\n\t"]))),sideBarStyle=(0,index_module.css)(_templateObject2||(_templateObject2=SidebarRegion_taggedTemplateLiteral(["\n\t\tposition: relative;\n\t\tz-index: 2;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100%;\n\t\tuser-select: none;\n\t\ttransition: transform 0.3s;\n\t\twidth: var(--sidebar-width);\n\t\tmin-width: var(--sidebar-width);\n\n\t\t> .rcx-sidebar:not(:last-child) {\n\t\t\tvisibility: hidden;\n\t\t}\n\n\t\t&.opened {\n\t\t\tbox-shadow: rgba(0, 0, 0, 0.3) 0px 0px 15px 1px;\n\t\t\ttransform: translate3d(0px, 0px, 0px);\n\t\t}\n\n\t\t/* // 768px to 1599px\n\t\t// using em unit base 16\n\t\t@media (max-width: 48em) {\n\t\t\twidth: 80%;\n\t\t\tmin-width: 80%;\n\t\t} */\n\n\t\t// 1600px to 1919px\n\t\t// using em unit base 16\n\t\t@media (min-width: 100em) {\n\t\t\twidth: var(--sidebar-md-width);\n\t\t\tmin-width: var(--sidebar-md-width);\n\t\t}\n\n\t\t// 1920px and up\n\t\t// using em unit base 16\n\t\t@media (min-width: 120em) {\n\t\t\twidth: var(--sidebar-lg-width);\n\t\t\tmin-width: var(--sidebar-lg-width);\n\t\t}\n\t"]))),sidebarWrapStyle=(0,index_module.css)(_templateObject3||(_templateObject3=SidebarRegion_taggedTemplateLiteral(["\n\t\tposition: absolute;\n\t\tz-index: 1;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\theight: 100%;\n\t\tuser-select: none;\n\t\ttransition: opacity 0.3s;\n\t\t-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n\t\ttouch-action: pan-y;\n\t\t-webkit-user-drag: none;\n\n\t\t&.opened {\n\t\t\twidth: 100%;\n\t\t\tbackground-color: rgb(0, 0, 0);\n\t\t\topacity: 0.8;\n\t\t}\n\t"])));return react.createElement(react.Fragment,null,react.createElement(dist.TW,{feature:"navigationBar"},react.createElement(dist.Uq,null,react.createElement(Navbar,null)),react.createElement(dist.sl,null,react.createElement(react.Fragment,null))),react.createElement(dist_import.n1,null,react.createElement(fuselage.Box,{id:"sidebar-region",className:["rcx-sidebar",!sidebar.isCollapsed&&isMobile&&"opened",sideBarStyle,isMobile&&sidebarMobileClass].filter(Boolean)},react.createElement(sidebar_Sidebar,null)),isMobile&&react.createElement(fuselage.Box,{className:[sidebarWrapStyle,!sidebar.isCollapsed&&"opened"].filter(Boolean),onClick:function onClick(){return sidebar.toggle()}})))},sidebar_SidebarRegion=(0,react.memo)(SidebarRegion);SidebarRegion.__docgenInfo={description:"",methods:[],displayName:"SidebarRegion"}},"./client/sidebar/header/SidebarHeaderToolbar.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _react_aria_toolbar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@react-aria/toolbar/dist/import.mjs"),_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var SidebarHeaderToolbar=function SidebarHeaderToolbar(props){var ref=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),toolbarProps=(0,_react_aria_toolbar__WEBPACK_IMPORTED_MODULE_2__.t)(props,ref).toolbarProps;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_rocket_chat_fuselage__WEBPACK_IMPORTED_MODULE_0__.TopBarActions,_extends({small:!0,ref:ref},toolbarProps,props))};__webpack_exports__.A=SidebarHeaderToolbar,SidebarHeaderToolbar.__docgenInfo={description:"",methods:[],displayName:"SidebarHeaderToolbar"}},"./client/sidebar/hooks/useAvatarTemplate.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{h:function(){return useAvatarTemplate}});var _rocket_chat_ui_avatar__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-avatar/dist/index.js"),_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var useAvatarTemplate=function useAvatarTemplate(sidebarViewMode,sidebarDisplayAvatar){var sidebarViewModeFromSettings=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useUserPreference)("sidebarViewMode"),sidebarDisplayAvatarFromSettings=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_1__.useUserPreference)("sidebarDisplayAvatar"),viewMode=null!=sidebarViewMode?sidebarViewMode:sidebarViewModeFromSettings,displayAvatar=null!=sidebarDisplayAvatar?sidebarDisplayAvatar:sidebarDisplayAvatarFromSettings;return(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){if(!displayAvatar)return null;var size=function(){switch(viewMode){case"extended":return"x36";case"medium":return"x28";default:return"x16"}}();return function renderRoomAvatar(room){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_rocket_chat_ui_avatar__WEBPACK_IMPORTED_MODULE_0__.dD,{size:size,room:_objectSpread(_objectSpread({},room),{},{_id:room.rid||room._id,type:room.t})})}}),[displayAvatar,viewMode])}},"./client/sidebar/hooks/usePreventDefault.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{f:function(){return usePreventDefault}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),usePreventDefault=function usePreventDefault(ref){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var current=ref.current,stopPropagation=function stopPropagation(e){var _parentElement;[e.target.nodeName,null===(_parentElement=e.target.parentElement)||void 0===_parentElement?void 0:_parentElement.nodeName].includes("BUTTON")&&e.preventDefault()};return null==current||current.addEventListener("click",stopPropagation),function(){return null==current?void 0:current.addEventListener("click",stopPropagation)}}),[ref]),{ref:ref}}},"./client/sidebar/hooks/useTemplateByViewMode.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{d:function(){return useTemplateByViewMode}});var _rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_Item_Condensed__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./client/sidebar/Item/Condensed.tsx"),_Item_Extended__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./client/sidebar/Item/Extended.tsx"),_Item_Medium__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./client/sidebar/Item/Medium.tsx"),useTemplateByViewMode=function useTemplateByViewMode(){var sidebarViewMode=(0,_rocket_chat_ui_contexts__WEBPACK_IMPORTED_MODULE_0__.useUserPreference)("sidebarViewMode");return(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){switch(sidebarViewMode){case"extended":return _Item_Extended__WEBPACK_IMPORTED_MODULE_3__.A;case"medium":return _Item_Medium__WEBPACK_IMPORTED_MODULE_4__.A;default:return _Item_Condensed__WEBPACK_IMPORTED_MODULE_2__.A}}),[sidebarViewMode])}}}]);