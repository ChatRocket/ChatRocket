/*! For license information please see 1417.cfea8e01.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_rocket_chat_meteor=self.webpackChunk_rocket_chat_meteor||[]).push([[1417],{"./client/components/AutoCompleteAgent.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return components_AutoCompleteAgent}});var fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),react=__webpack_require__("./node_modules/react/index.js"),useRecordList=__webpack_require__("./client/hooks/lists/useRecordList.ts"),asyncState=__webpack_require__("./client/lib/asyncState/index.ts"),dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),useScrollableRecordList=__webpack_require__("./client/hooks/lists/useScrollableRecordList.ts"),useComponentDidUpdate=__webpack_require__("./client/hooks/useComponentDidUpdate.ts"),RecordList=__webpack_require__("./client/lib/lists/RecordList.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var useAgentsList=function useAgentsList(options){var t=(0,dist.useTranslation)(),_useState2=_slicedToArray((0,react.useState)((function(){return new RecordList.Y})),2),itemsList=_useState2[0],setItemsList=_useState2[1],reload=(0,react.useCallback)((function(){return setItemsList(new RecordList.Y)}),[]),getAgents=(0,dist.useEndpoint)("GET","/v1/livechat/users/agent"),text=options.text,_options$onlyAvailabl=options.onlyAvailable,onlyAvailable=void 0!==_options$onlyAvailabl&&_options$onlyAvailabl,_options$showIdleAgen=options.showIdleAgents,showIdleAgents=void 0===_options$showIdleAgen||_options$showIdleAgen,excludeId=options.excludeId,haveAll=options.haveAll,haveNoAgentsSelectedOption=options.haveNoAgentsSelectedOption;(0,useComponentDidUpdate.n)((function(){options&&reload()}),[options,reload]);var fetchData=(0,react.useCallback)(function(){var _ref=function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(start,end){var _yield$getAgents,agents,total,items;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,getAgents(_objectSpread(_objectSpread(_objectSpread({},text&&{text:text}),excludeId&&{excludeId:excludeId}),{},{showIdleAgents:showIdleAgents,onlyAvailable:onlyAvailable,offset:start,count:end+start,sort:'{ "name": 1 }'}));case 2:return _yield$getAgents=_context.sent,agents=_yield$getAgents.users,total=_yield$getAgents.total,items=agents.map((function(agent){return{_updatedAt:new Date(agent._updatedAt),label:"".concat(agent.name||agent._id," (@").concat(agent.username,")"),value:agent._id,_id:agent._id}})),haveAll&&items.unshift({label:t("All"),value:"all",_updatedAt:new Date,_id:"all"}),haveNoAgentsSelectedOption&&items.unshift({label:t("Empty_no_agent_selected"),value:"no-agent-selected",_updatedAt:new Date,_id:"no-agent-selected"}),_context.abrupt("return",{items:items,itemCount:total+1});case 9:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref.apply(this,arguments)}}(),[excludeId,getAgents,haveAll,haveNoAgentsSelectedOption,onlyAvailable,showIdleAgents,t,text]),_useScrollableRecordL=(0,useScrollableRecordList.U)(itemsList,fetchData,25),loadMoreItems=_useScrollableRecordL.loadMoreItems,initialItemCount=_useScrollableRecordL.initialItemCount;return{reload:reload,itemsList:itemsList,loadMoreItems:loadMoreItems,initialItemCount:initialItemCount}};function AutoCompleteAgent_slicedToArray(r,e){return function AutoCompleteAgent_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function AutoCompleteAgent_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function AutoCompleteAgent_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return AutoCompleteAgent_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?AutoCompleteAgent_arrayLikeToArray(r,a):void 0}}(r,e)||function AutoCompleteAgent_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AutoCompleteAgent_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var AutoCompleteAgent=function AutoCompleteAgent(_ref){var value=_ref.value,error=_ref.error,placeholder=_ref.placeholder,_ref$haveAll=_ref.haveAll,haveAll=void 0!==_ref$haveAll&&_ref$haveAll,_ref$haveNoAgentsSele=_ref.haveNoAgentsSelectedOption,haveNoAgentsSelectedOption=void 0!==_ref$haveNoAgentsSele&&_ref$haveNoAgentsSele,excludeId=_ref.excludeId,_ref$showIdleAgents=_ref.showIdleAgents,showIdleAgents=void 0===_ref$showIdleAgents||_ref$showIdleAgents,_ref$onlyAvailable=_ref.onlyAvailable,onlyAvailable=void 0!==_ref$onlyAvailable&&_ref$onlyAvailable,_ref$withTitle=_ref.withTitle,withTitle=void 0!==_ref$withTitle&&_ref$withTitle,onChange=_ref.onChange,_useState2=AutoCompleteAgent_slicedToArray((0,react.useState)(""),2),agentsFilter=_useState2[0],setAgentsFilter=_useState2[1],debouncedAgentsFilter=(0,index_module.useDebouncedValue)(agentsFilter,500),_useAgentsList=useAgentsList((0,react.useMemo)((function(){return{text:debouncedAgentsFilter,onlyAvailable:onlyAvailable,haveAll:haveAll,haveNoAgentsSelectedOption:haveNoAgentsSelectedOption,excludeId:excludeId,showIdleAgents:showIdleAgents}}),[debouncedAgentsFilter,excludeId,haveAll,haveNoAgentsSelectedOption,onlyAvailable,showIdleAgents])),AgentsList=_useAgentsList.itemsList,loadMoreAgents=_useAgentsList.loadMoreItems,_useRecordList=(0,useRecordList.L)(AgentsList),agentsPhase=_useRecordList.phase,agentsTotal=_useRecordList.itemCount,agentsItems=_useRecordList.items;return react.createElement(fuselage.PaginatedSelectFiltered,{withTitle:withTitle,value:value,error:error,placeholder:placeholder,onChange:onChange,flexShrink:0,filter:agentsFilter,setFilter:setAgentsFilter,options:agentsItems,"data-qa":"autocomplete-agent",endReached:agentsPhase===asyncState.Z7.LOADING?function(){}:function(start){return loadMoreAgents(start,Math.min(50,agentsTotal))}})},components_AutoCompleteAgent=(0,react.memo)(AutoCompleteAgent);AutoCompleteAgent.__docgenInfo={description:"",methods:[],displayName:"AutoCompleteAgent",props:{value:{required:!0,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},haveAll:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},haveNoAgentsSelectedOption:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},excludeId:{required:!1,tsType:{name:"string"},description:""},showIdleAgents:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},onlyAvailable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},withTitle:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}}},"./client/components/InfoPanel/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{jj:function(){return InfoPanel_InfoPanel},ZF:function(){return InfoPanel_InfoPanelAction},_v:function(){return InfoPanel_InfoPanelActionGroup},Y$:function(){return InfoPanel_InfoPanelAvatar},z6:function(){return InfoPanel_InfoPanelField},pm:function(){return InfoPanel_InfoPanelLabel},st:function(){return InfoPanel_InfoPanelSection},kq:function(){return InfoPanel_InfoPanelText},ly:function(){return InfoPanel_InfoPanelTitle}});var fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),react=__webpack_require__("./node_modules/react/index.js"),InfoPanel=function InfoPanel(_ref){var children=_ref.children;return react.createElement(fuselage.Box,{flexGrow:1,mb:"neg-x24"},children)},InfoPanel_InfoPanel=InfoPanel;InfoPanel.__docgenInfo={description:"",methods:[],displayName:"InfoPanel",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}}};var _excluded=["label","icon"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var InfoPanelAction=function InfoPanelAction(_ref){var label=_ref.label,icon=_ref.icon,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return react.createElement(fuselage.Button,_extends({title:"string"==typeof label?label:void 0,"aria-label":"string"==typeof label?label:void 0},props,{icon:icon}),label)},InfoPanel_InfoPanelAction=InfoPanelAction;function InfoPanelSection_extends(){return InfoPanelSection_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},InfoPanelSection_extends.apply(null,arguments)}InfoPanelAction.__docgenInfo={description:"",methods:[],displayName:"InfoPanelAction",props:{icon:{required:!1,tsType:{name:"IconName"},description:""},label:{required:!0,tsType:{name:"ReactNode"},description:""}}};var InfoPanelSection=function InfoPanelSection(props){return react.createElement(fuselage.Box,InfoPanelSection_extends({mb:24},props))},InfoPanel_InfoPanelSection=InfoPanelSection;function InfoPanelActionGroup_extends(){return InfoPanelActionGroup_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},InfoPanelActionGroup_extends.apply(null,arguments)}InfoPanelSection.__docgenInfo={description:"",methods:[],displayName:"InfoPanelSection"};var InfoPanelActionGroup=function InfoPanelActionGroup(props){return react.createElement(InfoPanel_InfoPanelSection,null,react.createElement(fuselage.ButtonGroup,InfoPanelActionGroup_extends({align:"center",stretch:!0},props)))},InfoPanel_InfoPanelActionGroup=InfoPanelActionGroup;InfoPanelActionGroup.__docgenInfo={description:"",methods:[],displayName:"InfoPanelActionGroup"};var InfoPanelAvatar=function InfoPanelAvatar(_ref){var children=_ref.children;return react.createElement(InfoPanel_InfoPanelSection,{display:"flex",justifyContent:"center"},children)},InfoPanel_InfoPanelAvatar=InfoPanelAvatar;InfoPanelAvatar.__docgenInfo={description:"",methods:[],displayName:"InfoPanelAvatar",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}}};var InfoPanelField=function InfoPanelField(_ref){var children=_ref.children;return react.createElement(fuselage.Box,{mb:16},children)},InfoPanel_InfoPanelField=InfoPanelField;function InfoPanelLabel_extends(){return InfoPanelLabel_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},InfoPanelLabel_extends.apply(null,arguments)}InfoPanelField.__docgenInfo={description:"",methods:[],displayName:"InfoPanelField",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}}};var _templateObject,InfoPanelLabel=function InfoPanelLabel(props){return react.createElement(fuselage.Box,InfoPanelLabel_extends({mb:8,fontScale:"p2m",color:"default"},props))},InfoPanel_InfoPanelLabel=InfoPanelLabel;function InfoPanelText_extends(){return InfoPanelText_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},InfoPanelText_extends.apply(null,arguments)}InfoPanelLabel.__docgenInfo={description:"",methods:[],displayName:"InfoPanelLabel"};var wordBreak=(0,__webpack_require__("./node_modules/@rocket.chat/css-in-js/dist/index.module.js").css)(_templateObject||(_templateObject=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\tword-break: break-word;\n"]))),InfoPanelText=function InfoPanelText(props){return react.createElement(fuselage.Box,InfoPanelText_extends({mb:8,fontScale:"p2",color:"hint",className:wordBreak},props))},InfoPanel_InfoPanelText=InfoPanelText;InfoPanelText.__docgenInfo={description:"",methods:[],displayName:"InfoPanelText"};var InfoPanelTitle=function InfoPanelTitle(_ref){var title=_ref.title,icon=_ref.icon;return react.createElement(fuselage.Box,{display:"flex",flexShrink:0,alignItems:"center",fontScale:"h4",color:"default",withTruncatedText:!0},function isValidIcon(icon){return"string"==typeof icon}(icon)?react.createElement(fuselage.Icon,{name:icon,size:"x22"}):icon,react.createElement(fuselage.Box,{mis:8,withTruncatedText:!0,title:title},title))},InfoPanel_InfoPanelTitle=InfoPanelTitle;InfoPanelTitle.__docgenInfo={description:"",methods:[],displayName:"InfoPanelTitle",props:{title:{required:!0,tsType:{name:"string"},description:""},icon:{required:!0,tsType:{name:"ReactNode"},description:""}}}},"./client/omnichannel/additionalForms/BusinessHoursMultiple.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return additionalForms_BusinessHoursMultiple}});var fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),useRecordList=__webpack_require__("./client/hooks/lists/useRecordList.ts"),useAsyncState=__webpack_require__("./client/hooks/useAsyncState.ts"),useDepartmentsList=__webpack_require__("./client/components/Omnichannel/hooks/useDepartmentsList.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["label"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||_unsupportedIterableToArray(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||_unsupportedIterableToArray(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var AutoCompleteDepartmentMultiple=function AutoCompleteDepartmentMultiple(_ref){var _ref$value=_ref.value,value=void 0===_ref$value?[]:_ref$value,_ref$onlyMyDepartment=_ref.onlyMyDepartments,onlyMyDepartments=void 0!==_ref$onlyMyDepartment&&_ref$onlyMyDepartment,_ref$showArchived=_ref.showArchived,showArchived=void 0!==_ref$showArchived&&_ref$showArchived,_ref$enabled=_ref.enabled,enabled=void 0!==_ref$enabled&&_ref$enabled,_ref$onChange=_ref.onChange,onChange=void 0===_ref$onChange?function(){}:_ref$onChange,t=(0,dist.useTranslation)(),_useState2=_slicedToArray((0,react.useState)(""),2),departmentsFilter=_useState2[0],setDepartmentsFilter=_useState2[1],debouncedDepartmentsFilter=(0,index_module.useDebouncedValue)(departmentsFilter,500),_useDepartmentsList=(0,useDepartmentsList.X)((0,react.useMemo)((function(){return _objectSpread(_objectSpread({filter:debouncedDepartmentsFilter,onlyMyDepartments:onlyMyDepartments},showArchived&&{showArchived:!0}),{},{enabled:enabled})}),[debouncedDepartmentsFilter,enabled,onlyMyDepartments,showArchived])),departmentsList=_useDepartmentsList.itemsList,loadMoreDepartments=_useDepartmentsList.loadMoreItems,_useRecordList=(0,useRecordList.L)(departmentsList),departmentsPhase=_useRecordList.phase,departmentsItems=_useRecordList.items,departmentsTotal=_useRecordList.itemCount,departmentOptions=(0,react.useMemo)((function(){var pending=value.filter((function(_ref2){var value=_ref2.value;return!departmentsItems.find((function(dep){return dep.value===value}))}))||[];return[].concat(_toConsumableArray(departmentsItems),_toConsumableArray(pending))}),[departmentsItems,value]);return react.createElement(fuselage.PaginatedMultiSelectFiltered,{withTitle:!0,value:value,onChange:onChange,filter:departmentsFilter,setFilter:setDepartmentsFilter,options:departmentOptions,width:"100%",flexShrink:0,flexGrow:0,placeholder:t("Select_an_option"),endReached:departmentsPhase===useAsyncState.Z7.LOADING?function(){}:function(start){if(void 0!==start)return loadMoreDepartments(start,Math.min(50,departmentsTotal))},renderItem:function renderItem(_ref3){var label=_ref3.label,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref3,_excluded);return react.createElement(fuselage.CheckOption,_extends({},props,{label:react.createElement("span",{style:{whiteSpace:"normal"}},label),selected:value.some((function(item){return item.value===props.value}))}))}})},components_AutoCompleteDepartmentMultiple=(0,react.memo)(AutoCompleteDepartmentMultiple);AutoCompleteDepartmentMultiple.__docgenInfo={description:"",methods:[],displayName:"AutoCompleteDepartmentMultiple",props:{value:{required:!1,tsType:{name:"Array",elements:[{name:"PaginatedMultiSelectOption"}],raw:"PaginatedMultiSelectOption[]"},description:"",defaultValue:{value:"[]",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: PaginatedMultiSelectOption[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"PaginatedMultiSelectOption"}],raw:"PaginatedMultiSelectOption[]"},name:"value"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => undefined",computed:!1}},onlyMyDepartments:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showArchived:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},enabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};var useHasLicenseModule=__webpack_require__("./client/hooks/useHasLicenseModule.ts"),BusinessHoursMultiple_excluded=["value"];function BusinessHoursMultiple_extends(){return BusinessHoursMultiple_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BusinessHoursMultiple_extends.apply(null,arguments)}var BusinessHoursMultiple=function BusinessHoursMultiple(_ref){var className=_ref.className,t=(0,dist.useTranslation)(),_useFormContext=(0,index_esm.xW)(),control=_useFormContext.control,errors=_useFormContext.formState.errors,hasLicense=(0,useHasLicenseModule.b)("livechat-enterprise"),enabledField=(0,index_module.useUniqueId)(),nameField=(0,index_module.useUniqueId)(),departmentsField=(0,index_module.useUniqueId)();return hasLicense?react.createElement(react.Fragment,null,react.createElement(fuselage.Field,{className:className},react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:enabledField},t("Enabled")),react.createElement(index_esm.xI,{name:"active",control:control,render:function render(_ref2){var _ref2$field=_ref2.field,value=_ref2$field.value,field=function BusinessHoursMultiple_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function BusinessHoursMultiple_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref2$field,BusinessHoursMultiple_excluded);return react.createElement(fuselage.ToggleSwitch,BusinessHoursMultiple_extends({id:enabledField},field,{checked:value}))}}))),react.createElement(fuselage.Field,{className:className},react.createElement(fuselage.FieldLabel,{htmlFor:nameField,required:!0},t("Name")),react.createElement(fuselage.FieldRow,null,react.createElement(index_esm.xI,{name:"name",control:control,rules:{required:t("Required_field",{field:t("Name")})},render:function render(_ref3){var field=_ref3.field;return react.createElement(fuselage.TextInput,BusinessHoursMultiple_extends({id:nameField},field,{"aria-describedby":"".concat(departmentsField,"-error")}))}})),(null==errors?void 0:errors.name)&&react.createElement(fuselage.FieldError,{"aria-live":"assertive",id:"".concat(departmentsField,"-error")},errors.name.message)),react.createElement(fuselage.Field,{className:className},react.createElement(fuselage.FieldLabel,{htmlFor:departmentsField},t("Departments")),react.createElement(fuselage.FieldRow,null,react.createElement(index_esm.xI,{name:"departments",control:control,render:function render(_ref4){var _ref4$field=_ref4.field,value=_ref4$field.value,onChange=_ref4$field.onChange,name=_ref4$field.name,onBlur=_ref4$field.onBlur;return react.createElement(components_AutoCompleteDepartmentMultiple,{id:departmentsField,value:value,onChange:onChange,name:name,onBlur:onBlur,enabled:!0})}})))):null},additionalForms_BusinessHoursMultiple=BusinessHoursMultiple;BusinessHoursMultiple.__docgenInfo={description:"",methods:[],displayName:"BusinessHoursMultiple",props:{className:{required:!1,tsType:{name:"ComponentProps['className']",raw:"ComponentProps<typeof Field>['className']"},description:""}}}},"./client/views/omnichannel/additionalForms.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{qV:function(){return BusinessHoursMultiple.A},AY:function(){return additionalForms_ContactManager},bz:function(){return additionalForms_CurrentChatTags},ic:function(){return additionalForms_CustomFieldsAdditionalForm},lQ:function(){return additionalForms_PrioritiesSelect},$I:function(){return additionalForms_SlaPoliciesSelect}});var BusinessHoursMultiple=__webpack_require__("./client/omnichannel/additionalForms/BusinessHoursMultiple.tsx"),fuselage=__webpack_require__("./node_modules/@rocket.chat/fuselage/index.js"),dist=__webpack_require__("../../packages/ui-contexts/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),AutoCompleteAgent=__webpack_require__("./client/components/AutoCompleteAgent.tsx"),useHasLicenseModule=__webpack_require__("./client/hooks/useHasLicenseModule.ts"),ContactManager=function ContactManager(_ref){var userId=_ref.value,handler=_ref.handler,t=(0,dist.useTranslation)();return(0,useHasLicenseModule.b)("livechat-enterprise")?react.createElement(fuselage.Field,null,react.createElement(fuselage.Field.Label,null,t("Contact_Manager")),react.createElement(fuselage.Field.Row,null,react.createElement(AutoCompleteAgent.A,{haveNoAgentsSelectedOption:!0,value:userId,onChange:handler}))):null},additionalForms_ContactManager=ContactManager;ContactManager.__docgenInfo={description:"",methods:[],displayName:"ContactManager"};var index_module=__webpack_require__("./node_modules/@rocket.chat/fuselage-hooks/dist/index.module.js"),useRecordList=__webpack_require__("./client/hooks/lists/useRecordList.ts"),useAsyncState=__webpack_require__("./client/hooks/useAsyncState.ts"),RecordList=__webpack_require__("./client/lib/lists/RecordList.ts"),useScrollableRecordList=__webpack_require__("./client/hooks/lists/useScrollableRecordList.ts"),useComponentDidUpdate=__webpack_require__("./client/hooks/useComponentDidUpdate.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var useTagsList=function useTagsList(options){var viewAll=options.viewAll,department=options.department,filter=options.filter,_useState2=_slicedToArray((0,react.useState)((function(){return new RecordList.Y})),2),itemsList=_useState2[0],setItemsList=_useState2[1],reload=(0,react.useCallback)((function(){return setItemsList(new RecordList.Y)}),[]),getTags=(0,dist.useEndpoint)("GET","/v1/livechat/tags");(0,useComponentDidUpdate.n)((function(){options&&reload()}),[options,reload]);var fetchData=(0,react.useCallback)(function(){var _ref=function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(start,end){var _yield$getTags,tags,total;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,getTags(_objectSpread(_objectSpread(_objectSpread({text:filter,offset:start,count:end+start},viewAll&&{viewAll:"true"}),department&&{department:department}),{},{sort:JSON.stringify({name:1})}));case 2:return _yield$getTags=_context.sent,tags=_yield$getTags.tags,total=_yield$getTags.total,_context.abrupt("return",{items:tags.map((function(tag){return{_id:tag._id,label:tag.name,value:tag.name}})),itemCount:total});case 6:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref.apply(this,arguments)}}(),[getTags,filter,viewAll,department]),_useScrollableRecordL=(0,useScrollableRecordList.U)(itemsList,fetchData,25),loadMoreItems=_useScrollableRecordL.loadMoreItems,initialItemCount=_useScrollableRecordL.initialItemCount;return{reload:reload,itemsList:itemsList,loadMoreItems:loadMoreItems,initialItemCount:initialItemCount}};function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return AutoCompleteTagsMultiple_arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||AutoCompleteTagsMultiple_unsupportedIterableToArray(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AutoCompleteTagsMultiple_slicedToArray(r,e){return function AutoCompleteTagsMultiple_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function AutoCompleteTagsMultiple_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||AutoCompleteTagsMultiple_unsupportedIterableToArray(r,e)||function AutoCompleteTagsMultiple_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AutoCompleteTagsMultiple_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return AutoCompleteTagsMultiple_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?AutoCompleteTagsMultiple_arrayLikeToArray(r,a):void 0}}function AutoCompleteTagsMultiple_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var AutoCompleteTagsMultiple=function AutoCompleteTagsMultiple(_ref){var _ref$value=_ref.value,value=void 0===_ref$value?[]:_ref$value,_ref$onlyMyTags=_ref.onlyMyTags,onlyMyTags=void 0!==_ref$onlyMyTags&&_ref$onlyMyTags,_ref$onChange=_ref.onChange,onChange=void 0===_ref$onChange?function(){}:_ref$onChange,department=_ref.department,_ref$viewAll=_ref.viewAll,viewAll=void 0!==_ref$viewAll&&_ref$viewAll,t=(0,dist.useTranslation)(),_useState2=AutoCompleteTagsMultiple_slicedToArray((0,react.useState)(""),2),tagsFilter=_useState2[0],setTagsFilter=_useState2[1],debouncedTagsFilter=(0,index_module.useDebouncedValue)(tagsFilter,500),_useTagsList=useTagsList((0,react.useMemo)((function(){return{filter:debouncedTagsFilter,onlyMyTags:onlyMyTags,department:department,viewAll:viewAll}}),[debouncedTagsFilter,onlyMyTags,department,viewAll])),tagsList=_useTagsList.itemsList,loadMoreTags=_useTagsList.loadMoreItems,_useRecordList=(0,useRecordList.L)(tagsList),tagsPhase=_useRecordList.phase,tagsItems=_useRecordList.items,tagsTotal=_useRecordList.itemCount,tagsOptions=(0,react.useMemo)((function(){var pending=value.filter((function(_ref2){var value=_ref2.value;return!tagsItems.find((function(tag){return tag.value===value}))}));return[].concat(_toConsumableArray(tagsItems),_toConsumableArray(pending))}),[tagsItems,value]);return react.createElement(fuselage.PaginatedMultiSelectFiltered,{withTitle:!0,value:value,onChange:onChange,filter:tagsFilter,setFilter:setTagsFilter,options:tagsOptions,width:"100%",flexShrink:0,flexGrow:0,placeholder:t("Select_an_option"),endReached:tagsPhase===useAsyncState.Z7.LOADING?function(){}:function(start){return start&&loadMoreTags(start,Math.min(50,tagsTotal))}})},tags_AutoCompleteTagsMultiple=(0,react.memo)(AutoCompleteTagsMultiple);AutoCompleteTagsMultiple.__docgenInfo={description:"",methods:[],displayName:"AutoCompleteTagsMultiple",props:{value:{required:!1,tsType:{name:"Array",elements:[{name:"PaginatedMultiSelectOption"}],raw:"PaginatedMultiSelectOption[]"},description:"",defaultValue:{value:"[]",computed:!1}},onlyMyTags:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: PaginatedMultiSelectOption[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"PaginatedMultiSelectOption"}],raw:"PaginatedMultiSelectOption[]"},name:"value"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => undefined",computed:!1}},department:{required:!1,tsType:{name:"string"},description:""},viewAll:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};var CurrentChatTags=function CurrentChatTags(_ref){var value=_ref.value,handler=_ref.handler,department=_ref.department,viewAll=_ref.viewAll;return(0,useHasLicenseModule.b)("livechat-enterprise")?react.createElement(tags_AutoCompleteTagsMultiple,{onChange:handler,value:value,department:department,viewAll:viewAll}):null},additionalForms_CurrentChatTags=CurrentChatTags;CurrentChatTags.__docgenInfo={description:"",methods:[],displayName:"CurrentChatTags",props:{value:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: string; label: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"Array<{ value: string; label: string }>"},description:""},handler:{required:!0,tsType:{name:"any"},description:""},department:{required:!1,tsType:{name:"string"},description:""},viewAll:{required:!1,tsType:{name:"boolean"},description:""}}};var index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),_excluded=["value"],_excluded2=["value"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var CustomFieldsAdditionalForm=function CustomFieldsAdditionalForm(_ref){var className=_ref.className,t=(0,dist.useTranslation)(),_useFormContext=(0,index_esm.xW)(),control=_useFormContext.control,watch=_useFormContext.watch,errors=_useFormContext.formState.errors,hasLicense=(0,useHasLicenseModule.b)("livechat-enterprise"),_watch=watch(),visibility=_watch.visibility,type=_watch.type,typeOptions=(0,react.useMemo)((function(){return[["input",t("Input")],["select",t("Select")]]}),[t]),requiredField=(0,index_module.useUniqueId)(),typeField=(0,index_module.useUniqueId)(),defaultValueField=(0,index_module.useUniqueId)(),optionsField=(0,index_module.useUniqueId)(),publicField=(0,index_module.useUniqueId)();return hasLicense?react.createElement(react.Fragment,null,react.createElement(fuselage.Field,{className:className},react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:requiredField},t("Required")),react.createElement(index_esm.xI,{name:"required",control:control,render:function render(_ref2){var _ref2$field=_ref2.field,value=_ref2$field.value,field=_objectWithoutProperties(_ref2$field,_excluded);return react.createElement(fuselage.ToggleSwitch,_extends({id:requiredField},field,{checked:value}))}}))),react.createElement(fuselage.Field,{className:className},react.createElement(fuselage.FieldLabel,{htmlFor:typeField},t("Type")),react.createElement(fuselage.FieldRow,null,react.createElement(index_esm.xI,{name:"type",control:control,render:function render(_ref3){var field=_ref3.field;return react.createElement(fuselage.Select,_extends({id:typeField,options:typeOptions},field))}}))),react.createElement(fuselage.Field,{className:className},react.createElement(fuselage.FieldLabel,{htmlFor:defaultValueField},t("Default_value")),react.createElement(fuselage.FieldRow,null,react.createElement(index_esm.xI,{name:"defaultValue",control:control,render:function render(_ref4){var field=_ref4.field;return react.createElement(fuselage.TextInput,_extends({id:defaultValueField},field))}}))),react.createElement(fuselage.Field,{className:className},react.createElement(fuselage.FieldLabel,{htmlFor:optionsField},t("Options")),react.createElement(fuselage.FieldRow,null,react.createElement(index_esm.xI,{name:"options",control:control,rules:{validate:function validate(optionsValue){return"select"!==type||function checkIsOptionsValid(value){return!(!value||""===value.trim())&&value.split(",").every((function(v){return/^[a-zA-Z0-9-_ ]+$/.test(v)}))}(optionsValue)?void 0:t("error-invalid-value")}},render:function render(_ref5){var field=_ref5.field;return react.createElement(fuselage.TextInput,_extends({id:optionsField},field,{disabled:"input"===type,"aria-invalid":Boolean(null==errors?void 0:errors.options),"aria-describedby":"".concat(optionsField,"-hint ").concat(optionsField,"-error")}))}})),react.createElement(fuselage.FieldHint,{id:"".concat(optionsField,"-hint")},t("Livechat_custom_fields_options_placeholder")),errors.options&&react.createElement(fuselage.FieldError,{"aria-live":"assertive",id:"".concat(optionsField,"-error")},errors.options.message)),react.createElement(fuselage.Field,{className:className},react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.FieldLabel,{htmlFor:publicField},t("Public")),react.createElement(index_esm.xI,{name:"public",control:control,render:function render(_ref6){var _ref6$field=_ref6.field,value=_ref6$field.value,field=_objectWithoutProperties(_ref6$field,_excluded2);return react.createElement(fuselage.ToggleSwitch,_extends({id:publicField},field,{disabled:!visibility,checked:value,"aria-describedby":"".concat(publicField,"-hint")}))}})),react.createElement(fuselage.FieldHint,{id:"".concat(publicField,"-hint")},t("Livechat_custom_fields_public_description")))):null},additionalForms_CustomFieldsAdditionalForm=CustomFieldsAdditionalForm;CustomFieldsAdditionalForm.__docgenInfo={description:"",methods:[],displayName:"CustomFieldsAdditionalForm",props:{className:{required:!1,tsType:{name:"ComponentProps['className']",raw:"ComponentProps<typeof Field>['className']"},description:""}}};var lib=__webpack_require__("../../node_modules/@tanstack/react-query/build/lib/index.js"),DepartmentBusinessHours=function DepartmentBusinessHours(_ref){var _data$businessHour,bhId=_ref.bhId,t=(0,dist.useTranslation)(),hasLicense=(0,useHasLicenseModule.b)("livechat-enterprise"),getBusinessHour=(0,dist.useEndpoint)("GET","/v1/livechat/business-hour"),data=(0,lib.useQuery)(["/v1/livechat/business-hour",bhId],(function(){return getBusinessHour({_id:bhId,type:"custom"})})).data,name=null==data||null===(_data$businessHour=data.businessHour)||void 0===_data$businessHour?void 0:_data$businessHour.name;return hasLicense?react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,null,t("Business_Hour")),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.TextInput,{readOnly:!0,value:name||""}))):null};DepartmentBusinessHours.__docgenInfo={description:"",methods:[],displayName:"DepartmentBusinessHours",props:{bhId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}};var useDepartmentsList=__webpack_require__("./client/components/Omnichannel/hooks/useDepartmentsList.ts"),DepartmentForwarding_excluded=["label"];function DepartmentForwarding_extends(){return DepartmentForwarding_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},DepartmentForwarding_extends.apply(null,arguments)}function DepartmentForwarding_toConsumableArray(r){return function DepartmentForwarding_arrayWithoutHoles(r){if(Array.isArray(r))return DepartmentForwarding_arrayLikeToArray(r)}(r)||function DepartmentForwarding_iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||DepartmentForwarding_unsupportedIterableToArray(r)||function DepartmentForwarding_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DepartmentForwarding_slicedToArray(r,e){return function DepartmentForwarding_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function DepartmentForwarding_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||DepartmentForwarding_unsupportedIterableToArray(r,e)||function DepartmentForwarding_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DepartmentForwarding_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return DepartmentForwarding_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?DepartmentForwarding_arrayLikeToArray(r,a):void 0}}function DepartmentForwarding_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var DepartmentForwarding=function DepartmentForwarding(_ref){var departmentId=_ref.departmentId,_ref$value=_ref.value,value=void 0===_ref$value?[]:_ref$value,handler=_ref.handler,label=_ref.label,t=(0,dist.useTranslation)(),_useState2=DepartmentForwarding_slicedToArray((0,react.useState)(""),2),departmentsFilter=_useState2[0],setDepartmentsFilter=_useState2[1],hasLicense=(0,useHasLicenseModule.b)("livechat-enterprise"),debouncedDepartmentsFilter=(0,index_module.useDebouncedValue)(departmentsFilter,500),_useDepartmentsList=(0,useDepartmentsList.X)((0,react.useMemo)((function(){return{filter:departmentsFilter,departmentId:departmentId,showArchived:!0}}),[departmentId,departmentsFilter])),departmentsList=_useDepartmentsList.itemsList,loadMoreDepartments=_useDepartmentsList.loadMoreItems,_useRecordList=(0,useRecordList.L)(departmentsList),departmentsPhase=_useRecordList.phase,departmentsItems=_useRecordList.items,departmentsTotal=_useRecordList.itemCount,options=(0,react.useMemo)((function(){var pending=value.filter((function(_ref2){var value=_ref2.value;return!departmentsItems.find((function(dep){return dep.value===value}))}));return[].concat(DepartmentForwarding_toConsumableArray(departmentsItems),DepartmentForwarding_toConsumableArray(pending))}),[departmentsItems,value]);return hasLicense?react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,null,t(label)),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.Box,{w:"100%"},react.createElement(fuselage.PaginatedMultiSelectFiltered,{withTitle:!0,maxWidth:"100%",w:"100%",flexGrow:1,filter:debouncedDepartmentsFilter,setFilter:setDepartmentsFilter,onChange:handler,options:options,value:value,placeholder:t("Select_an_option"),endReached:departmentsPhase===useAsyncState.Z7.LOADING?function(){}:function(start){void 0!==start&&loadMoreDepartments(start,Math.min(50,departmentsTotal))},renderItem:function renderItem(_ref3){var label=_ref3.label,props=function DepartmentForwarding_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function DepartmentForwarding_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref3,DepartmentForwarding_excluded);return react.createElement(fuselage.CheckOption,DepartmentForwarding_extends({},props,{label:react.createElement("span",{style:{whiteSpace:"normal"}},label),selected:value.some((function(item){return item.value===props.value}))}))}}))),react.createElement(fuselage.FieldHint,null,t("List_of_departments_for_forward_description"))):null};DepartmentForwarding.__docgenInfo={description:"",methods:[],displayName:"DepartmentForwarding",props:{departmentId:{required:!0,tsType:{name:"string"},description:""},value:{required:!1,tsType:{name:"Array",elements:[{name:"PaginatedMultiSelectOption"}],raw:"PaginatedMultiSelectOption[]"},description:"",defaultValue:{value:"[]",computed:!1}},handler:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: PaginatedMultiSelectOption[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"PaginatedMultiSelectOption"}],raw:"PaginatedMultiSelectOption[]"},name:"value"}],return:{name:"void"}}},description:""},label:{required:!0,tsType:{name:"TranslationKey"},description:""}}};var EeNumberInput_excluded=["label"];function EeNumberInput_extends(){return EeNumberInput_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},EeNumberInput_extends.apply(null,arguments)}var EeNumberInput=function EeNumberInput(_ref){var label=_ref.label,props=function EeNumberInput_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function EeNumberInput_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,EeNumberInput_excluded);return(0,useHasLicenseModule.b)("livechat-enterprise")?react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,null,label),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.NumberInput,EeNumberInput_extends({},props,{flexGrow:1})))):null};EeNumberInput.__docgenInfo={description:"",methods:[],displayName:"EeNumberInput",props:{label:{required:!0,tsType:{name:"string"},description:""}}};var EeTextAreaInput_excluded=["label"];var EeTextAreaInput=function EeTextAreaInput(_ref){var label=_ref.label,props=function EeTextAreaInput_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function EeTextAreaInput_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,EeTextAreaInput_excluded);return(0,useHasLicenseModule.b)("livechat-enterprise")?react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,null,label),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.TextAreaInput,props))):null};EeTextAreaInput.__docgenInfo={description:"",methods:[],displayName:"EeTextAreaInput",props:{label:{required:!0,tsType:{name:"string"},description:""}}};var EeTextInput_excluded=["label"];var EeTextInput=function EeTextInput(_ref){var label=_ref.label,props=function EeTextInput_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function EeTextInput_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,EeTextInput_excluded);return(0,useHasLicenseModule.b)("livechat-enterprise")?react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,null,label),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.TextInput,props))):null};function MaxChatsPerAgent_extends(){return MaxChatsPerAgent_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},MaxChatsPerAgent_extends.apply(null,arguments)}EeTextInput.__docgenInfo={description:"",methods:[],displayName:"EeTextInput",props:{label:{required:!0,tsType:{name:"string"},description:""}}};var MaxChatsPerAgent=function MaxChatsPerAgent(_ref){var className=_ref.className,t=(0,dist.useTranslation)(),control=(0,index_esm.xW)().control,hasLicense=(0,useHasLicenseModule.b)("livechat-enterprise"),maxChatsField=(0,index_module.useUniqueId)();return hasLicense?react.createElement(fuselage.Field,{className:className},react.createElement(fuselage.FieldLabel,{htmlFor:maxChatsField},t("Max_number_of_chats_per_agent")),react.createElement(fuselage.FieldRow,null,react.createElement(index_esm.xI,{name:"maxNumberSimultaneousChat",control:control,render:function render(_ref2){var field=_ref2.field;return react.createElement(fuselage.NumberInput,MaxChatsPerAgent_extends({id:maxChatsField},field))}}))):null};MaxChatsPerAgent.__docgenInfo={description:"",methods:[],displayName:"MaxChatsPerAgent",props:{className:{required:!1,tsType:{name:"ComponentProps['className']",raw:"ComponentProps<typeof Field>['className']"},description:""}}};var InfoPanel=__webpack_require__("./client/components/InfoPanel/index.ts"),MaxChatsPerAgentDisplay=function MaxChatsPerAgentDisplay(_ref){var _ref$maxNumberSimulta=_ref.maxNumberSimultaneousChat,maxNumberSimultaneousChat=void 0===_ref$maxNumberSimulta?0:_ref$maxNumberSimulta,t=(0,dist.useTranslation)();return(0,useHasLicenseModule.b)("livechat-enterprise")?react.createElement(react.Fragment,null,react.createElement(InfoPanel.pm,null,t("Max_number_of_chats_per_agent")),react.createElement(InfoPanel.kq,null,maxNumberSimultaneousChat)):null};MaxChatsPerAgentDisplay.__docgenInfo={description:"",methods:[],displayName:"MaxChatsPerAgentDisplay",props:{maxNumberSimultaneousChat:{defaultValue:{value:"0",computed:!1},required:!1}}};var core_typings_dist=__webpack_require__("../../packages/core-typings/dist/index.js"),PriorityIcon=__webpack_require__("./client/omnichannel/priorities/PriorityIcon.tsx"),PrioritiesSelect_excluded=["label","value"];function PrioritiesSelect_extends(){return PrioritiesSelect_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},PrioritiesSelect_extends.apply(null,arguments)}function PrioritiesSelect_toConsumableArray(r){return function PrioritiesSelect_arrayWithoutHoles(r){if(Array.isArray(r))return PrioritiesSelect_arrayLikeToArray(r)}(r)||function PrioritiesSelect_iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||PrioritiesSelect_unsupportedIterableToArray(r)||function PrioritiesSelect_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PrioritiesSelect_slicedToArray(r,e){return function PrioritiesSelect_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function PrioritiesSelect_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||PrioritiesSelect_unsupportedIterableToArray(r,e)||function PrioritiesSelect_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PrioritiesSelect_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return PrioritiesSelect_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?PrioritiesSelect_arrayLikeToArray(r,a):void 0}}function PrioritiesSelect_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var PrioritiesSelect=function PrioritiesSelect(_ref){var _ref$value=_ref.value,value=void 0===_ref$value?"":_ref$value,label=_ref.label,options=_ref.options,onChange=_ref.onChange,t=(0,dist.useTranslation)(),hasLicense=(0,useHasLicenseModule.b)("livechat-enterprise"),sorting=PrioritiesSelect_slicedToArray((0,react.useState)({}),1)[0],formattedOptions=(0,react.useMemo)((function(){var opts=null==options?void 0:options.map((function(_ref2){var dirty=_ref2.dirty,name=_ref2.name,i18n=_ref2.i18n,_id=_ref2._id,sortItem=_ref2.sortItem,label=dirty&&name?name:t(i18n);return sorting[_id]=sortItem,[_id,label]}));return[["",t("Unprioritized")]].concat(PrioritiesSelect_toConsumableArray(opts))}),[options,sorting,t]),renderOption=(0,react.useCallback)((function(label,value){return react.createElement(react.Fragment,null,react.createElement(PriorityIcon.w,{level:sorting[value]||core_typings_dist.LivechatPriorityWeight.NOT_SPECIFIED,showUnprioritized:!0})," ",label)}),[sorting]),renderOptions=(0,react.forwardRef)((function OptionsWrapper(props,ref){return react.createElement(fuselage.Options,PrioritiesSelect_extends({ref:ref},props,{maxHeight:200}))}));return hasLicense?react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,null,label),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.SelectLegacy,{value:value,onChange:onChange,options:formattedOptions,renderOptions:renderOptions,renderSelected:function renderSelected(_ref3){var label=_ref3.label,value=_ref3.value;return react.createElement(fuselage.Box,{flexGrow:"1"},renderOption(label,value))},renderItem:function renderItem(_ref4){var label=_ref4.label,value=_ref4.value,props=function PrioritiesSelect_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function PrioritiesSelect_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref4,PrioritiesSelect_excluded);return react.createElement(fuselage.Option,PrioritiesSelect_extends({},props,{label:renderOption(label,value)}))}}))):null},additionalForms_PrioritiesSelect=PrioritiesSelect;PrioritiesSelect.__docgenInfo={description:"",methods:[],displayName:"PrioritiesSelect",props:{value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},label:{required:!0,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Serialized",elements:[{name:"Array",elements:[{name:"ILivechatPriority"}],raw:"ILivechatPriority[]"}],raw:"Serialized<ILivechatPriority[]>"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}};var SlaPoliciesSelect=function SlaPoliciesSelect(_ref){var value=_ref.value,label=_ref.label,options=_ref.options,_onChange=_ref.onChange,hasLicense=(0,useHasLicenseModule.b)("livechat-enterprise"),optionsSelect=(0,react.useMemo)((function(){return null==options?void 0:options.map((function(option){return[option._id,option.name]}))}),[options]);return hasLicense?react.createElement(fuselage.Field,null,react.createElement(fuselage.FieldLabel,null,label),react.createElement(fuselage.FieldRow,null,react.createElement(fuselage.Select,{value:value,options:optionsSelect,onChange:function onChange(value){return _onChange(String(value))}}))):null},additionalForms_SlaPoliciesSelect=SlaPoliciesSelect;SlaPoliciesSelect.__docgenInfo={description:"",methods:[],displayName:"SlaPoliciesSelect",props:{value:{required:!0,tsType:{name:"string"},description:""},label:{required:!0,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Serialized",elements:[{name:"Array",elements:[{name:"IOmnichannelServiceLevelAgreements"}],raw:"IOmnichannelServiceLevelAgreements[]"}],raw:"Serialized<IOmnichannelServiceLevelAgreements[]>"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}}}}]);