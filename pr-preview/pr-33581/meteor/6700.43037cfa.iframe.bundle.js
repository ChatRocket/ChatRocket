(self.webpackChunk_rocket_chat_meteor=self.webpackChunk_rocket_chat_meteor||[]).push([[6700],{"./node_modules/codemirror/addon/scroll/annotatescrollbar.js":function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){!function(CodeMirror){"use strict";function Annotation(cm,options){function scheduleRedraw(delay){clearTimeout(self.doRedraw),self.doRedraw=setTimeout((function(){self.redraw()}),delay)}this.cm=cm,this.options=options,this.buttonHeight=options.scrollButtonHeight||cm.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=cm.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();var self=this;cm.on("refresh",this.resizeHandler=function(){clearTimeout(self.doUpdate),self.doUpdate=setTimeout((function(){self.computeScale()&&scheduleRedraw(20)}),100)}),cm.on("markerAdded",this.resizeHandler),cm.on("markerCleared",this.resizeHandler),!1!==options.listenForChanges&&cm.on("changes",this.changeHandler=function(){scheduleRedraw(250)})}CodeMirror.defineExtension("annotateScrollbar",(function(options){return"string"==typeof options&&(options={className:options}),new Annotation(this,options)})),CodeMirror.defineOption("scrollButtonHeight",0),Annotation.prototype.computeScale=function(){var cm=this.cm,hScale=(cm.getWrapperElement().clientHeight-cm.display.barHeight-2*this.buttonHeight)/cm.getScrollerElement().scrollHeight;if(hScale!=this.hScale)return this.hScale=hScale,!0},Annotation.prototype.update=function(annotations){this.annotations=annotations,this.redraw()},Annotation.prototype.redraw=function(compute){!1!==compute&&this.computeScale();var cm=this.cm,hScale=this.hScale,frag=document.createDocumentFragment(),anns=this.annotations,wrapping=cm.getOption("lineWrapping"),singleLineH=wrapping&&1.5*cm.defaultTextHeight(),curLine=null,curLineObj=null;function getY(pos,top){if(curLine!=pos.line){curLine=pos.line,curLineObj=cm.getLineHandle(pos.line);var visual=cm.getLineHandleVisualStart(curLineObj);visual!=curLineObj&&(curLine=cm.getLineNumber(visual),curLineObj=visual)}return curLineObj.widgets&&curLineObj.widgets.length||wrapping&&curLineObj.height>singleLineH?cm.charCoords(pos,"local")[top?"top":"bottom"]:cm.heightAtLine(curLineObj,"local")+(top?0:curLineObj.height)}var lastLine=cm.lastLine();if(cm.display.barWidth)for(var nextTop,i=0;i<anns.length;i++){var ann=anns[i];if(!(ann.to.line>lastLine)){for(var top=nextTop||getY(ann.from,!0)*hScale,bottom=getY(ann.to,!1)*hScale;i<anns.length-1&&!(anns[i+1].to.line>lastLine)&&!((nextTop=getY(anns[i+1].from,!0)*hScale)>bottom+.9);)bottom=getY((ann=anns[++i]).to,!1)*hScale;if(bottom!=top){var height=Math.max(bottom-top,3),elt=frag.appendChild(document.createElement("div"));elt.style.cssText="position: absolute; right: 0px; width: "+Math.max(cm.display.barWidth-1,2)+"px; top: "+(top+this.buttonHeight)+"px; height: "+height+"px",elt.className=this.options.className,ann.id&&elt.setAttribute("annotation-id",ann.id)}}}this.div.textContent="",this.div.appendChild(frag)},Annotation.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("changes",this.changeHandler),this.div.parentNode.removeChild(this.div)}}(__webpack_require__("./node_modules/codemirror/lib/codemirror.js"))},"./node_modules/codemirror/addon/search/match-highlighter.js":function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){!function(CodeMirror){"use strict";var defaults={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};function State(options){for(var name in this.options={},defaults)this.options[name]=(options&&options.hasOwnProperty(name)?options:defaults)[name];this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}function cursorActivity(cm){var state=cm.state.matchHighlighter;(state.active||cm.hasFocus())&&scheduleHighlight(cm,state)}function onFocus(cm){var state=cm.state.matchHighlighter;state.active||(state.active=!0,scheduleHighlight(cm,state))}function scheduleHighlight(cm,state){clearTimeout(state.timeout),state.timeout=setTimeout((function(){highlightMatches(cm)}),state.options.delay)}function addOverlay(cm,query,hasBoundary,style){var state=cm.state.matchHighlighter;if(cm.addOverlay(state.overlay=makeOverlay(query,hasBoundary,style)),state.options.annotateScrollbar&&cm.showMatchesOnScrollbar){var searchFor=hasBoundary?new RegExp((/\w/.test(query.charAt(0))?"\\b":"")+query.replace(/[\\\[.+*?(){|^$]/g,"\\$&")+(/\w/.test(query.charAt(query.length-1))?"\\b":"")):query;state.matchesonscroll=cm.showMatchesOnScrollbar(searchFor,!1,{className:"CodeMirror-selection-highlight-scrollbar"})}}function removeOverlay(cm){var state=cm.state.matchHighlighter;state.overlay&&(cm.removeOverlay(state.overlay),state.overlay=null,state.matchesonscroll&&(state.matchesonscroll.clear(),state.matchesonscroll=null))}function highlightMatches(cm){cm.operation((function(){var state=cm.state.matchHighlighter;if(removeOverlay(cm),cm.somethingSelected()||!state.options.showToken){var from=cm.getCursor("from"),to=cm.getCursor("to");if(from.line==to.line&&(!state.options.wordsOnly||isWord(cm,from,to))){var selection=cm.getRange(from,to);state.options.trim&&(selection=selection.replace(/^\s+|\s+$/g,"")),selection.length>=state.options.minChars&&addOverlay(cm,selection,!1,state.options.style)}}else{for(var re=!0===state.options.showToken?/[\w$]/:state.options.showToken,cur=cm.getCursor(),line=cm.getLine(cur.line),start=cur.ch,end=start;start&&re.test(line.charAt(start-1));)--start;for(;end<line.length&&re.test(line.charAt(end));)++end;start<end&&addOverlay(cm,line.slice(start,end),re,state.options.style)}}))}function isWord(cm,from,to){if(null!==cm.getRange(from,to).match(/^\w+$/)){if(from.ch>0){var pos={line:from.line,ch:from.ch-1};if(null===cm.getRange(pos,from).match(/\W/))return!1}return!(to.ch<cm.getLine(from.line).length&&(pos={line:to.line,ch:to.ch+1},null===cm.getRange(to,pos).match(/\W/)))}return!1}function boundariesAround(stream,re){return!(stream.start&&re.test(stream.string.charAt(stream.start-1))||stream.pos!=stream.string.length&&re.test(stream.string.charAt(stream.pos)))}function makeOverlay(query,hasBoundary,style){return{token:function(stream){if(stream.match(query)&&(!hasBoundary||boundariesAround(stream,hasBoundary)))return style;stream.next(),stream.skipTo(query.charAt(0))||stream.skipToEnd()}}}CodeMirror.defineOption("highlightSelectionMatches",!1,(function(cm,val,old){if(old&&old!=CodeMirror.Init&&(removeOverlay(cm),clearTimeout(cm.state.matchHighlighter.timeout),cm.state.matchHighlighter=null,cm.off("cursorActivity",cursorActivity),cm.off("focus",onFocus)),val){var state=cm.state.matchHighlighter=new State(val);cm.hasFocus()?(state.active=!0,highlightMatches(cm)):cm.on("focus",onFocus),cm.on("cursorActivity",cursorActivity)}}))}(__webpack_require__("./node_modules/codemirror/lib/codemirror.js"),__webpack_require__("./node_modules/codemirror/addon/search/matchesonscrollbar.js"))},"./node_modules/codemirror/addon/search/matchesonscrollbar.js":function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){!function(CodeMirror){"use strict";function SearchAnnotation(cm,query,caseFold,options){this.cm=cm,this.options=options;var annotateOptions={listenForChanges:!1};for(var prop in options)annotateOptions[prop]=options[prop];annotateOptions.className||(annotateOptions.className="CodeMirror-search-match"),this.annotation=cm.annotateScrollbar(annotateOptions),this.query=query,this.caseFold=caseFold,this.gap={from:cm.firstLine(),to:cm.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var self=this;cm.on("change",this.changeHandler=function(_cm,change){self.onChange(change)})}CodeMirror.defineExtension("showMatchesOnScrollbar",(function(query,caseFold,options){return"string"==typeof options&&(options={className:options}),options||(options={}),new SearchAnnotation(this,query,caseFold,options)}));var MAX_MATCHES=1e3;function offsetLine(line,changeStart,sizeChange){return line<=changeStart?line:Math.max(changeStart,line+sizeChange)}SearchAnnotation.prototype.findMatches=function(){if(this.gap){for(var i=0;i<this.matches.length&&!((match=this.matches[i]).from.line>=this.gap.to);i++)match.to.line>=this.gap.from&&this.matches.splice(i--,1);for(var cursor=this.cm.getSearchCursor(this.query,CodeMirror.Pos(this.gap.from,0),{caseFold:this.caseFold,multiline:this.options.multiline}),maxMatches=this.options&&this.options.maxMatches||MAX_MATCHES;cursor.findNext();){var match;if((match={from:cursor.from(),to:cursor.to()}).from.line>=this.gap.to)break;if(this.matches.splice(i++,0,match),this.matches.length>maxMatches)break}this.gap=null}},SearchAnnotation.prototype.onChange=function(change){var startLine=change.from.line,endLine=CodeMirror.changeEnd(change).line,sizeChange=endLine-change.to.line;if(this.gap?(this.gap.from=Math.min(offsetLine(this.gap.from,startLine,sizeChange),change.from.line),this.gap.to=Math.max(offsetLine(this.gap.to,startLine,sizeChange),change.from.line)):this.gap={from:change.from.line,to:endLine+1},sizeChange)for(var i=0;i<this.matches.length;i++){var match=this.matches[i],newFrom=offsetLine(match.from.line,startLine,sizeChange);newFrom!=match.from.line&&(match.from=CodeMirror.Pos(newFrom,match.from.ch));var newTo=offsetLine(match.to.line,startLine,sizeChange);newTo!=match.to.line&&(match.to=CodeMirror.Pos(newTo,match.to.ch))}clearTimeout(this.update);var self=this;this.update=setTimeout((function(){self.updateAfterChange()}),250)},SearchAnnotation.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},SearchAnnotation.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}}(__webpack_require__("./node_modules/codemirror/lib/codemirror.js"),__webpack_require__("./node_modules/codemirror/addon/search/searchcursor.js"),__webpack_require__("./node_modules/codemirror/addon/scroll/annotatescrollbar.js"))},"./node_modules/codemirror/addon/search/searchcursor.js":function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){!function(CodeMirror){"use strict";var doFold,noFold,Pos=CodeMirror.Pos;function regexpFlags(regexp){var flags=regexp.flags;return null!=flags?flags:(regexp.ignoreCase?"i":"")+(regexp.global?"g":"")+(regexp.multiline?"m":"")}function ensureFlags(regexp,flags){for(var current=regexpFlags(regexp),target=current,i=0;i<flags.length;i++)-1==target.indexOf(flags.charAt(i))&&(target+=flags.charAt(i));return current==target?regexp:new RegExp(regexp.source,target)}function maybeMultiline(regexp){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(regexp.source)}function searchRegexpForward(doc,regexp,start){regexp=ensureFlags(regexp,"g");for(var line=start.line,ch=start.ch,last=doc.lastLine();line<=last;line++,ch=0){regexp.lastIndex=ch;var string=doc.getLine(line),match=regexp.exec(string);if(match)return{from:Pos(line,match.index),to:Pos(line,match.index+match[0].length),match:match}}}function searchRegexpForwardMultiline(doc,regexp,start){if(!maybeMultiline(regexp))return searchRegexpForward(doc,regexp,start);regexp=ensureFlags(regexp,"gm");for(var string,chunk=1,line=start.line,last=doc.lastLine();line<=last;){for(var i=0;i<chunk&&!(line>last);i++){var curLine=doc.getLine(line++);string=null==string?curLine:string+"\n"+curLine}chunk*=2,regexp.lastIndex=start.ch;var match=regexp.exec(string);if(match){var before=string.slice(0,match.index).split("\n"),inside=match[0].split("\n"),startLine=start.line+before.length-1,startCh=before[before.length-1].length;return{from:Pos(startLine,startCh),to:Pos(startLine+inside.length-1,1==inside.length?startCh+inside[0].length:inside[inside.length-1].length),match:match}}}}function lastMatchIn(string,regexp,endMargin){for(var match,from=0;from<=string.length;){regexp.lastIndex=from;var newMatch=regexp.exec(string);if(!newMatch)break;var end=newMatch.index+newMatch[0].length;if(end>string.length-endMargin)break;(!match||end>match.index+match[0].length)&&(match=newMatch),from=newMatch.index+1}return match}function searchRegexpBackward(doc,regexp,start){regexp=ensureFlags(regexp,"g");for(var line=start.line,ch=start.ch,first=doc.firstLine();line>=first;line--,ch=-1){var string=doc.getLine(line),match=lastMatchIn(string,regexp,ch<0?0:string.length-ch);if(match)return{from:Pos(line,match.index),to:Pos(line,match.index+match[0].length),match:match}}}function searchRegexpBackwardMultiline(doc,regexp,start){if(!maybeMultiline(regexp))return searchRegexpBackward(doc,regexp,start);regexp=ensureFlags(regexp,"gm");for(var string,chunkSize=1,endMargin=doc.getLine(start.line).length-start.ch,line=start.line,first=doc.firstLine();line>=first;){for(var i=0;i<chunkSize&&line>=first;i++){var curLine=doc.getLine(line--);string=null==string?curLine:curLine+"\n"+string}chunkSize*=2;var match=lastMatchIn(string,regexp,endMargin);if(match){var before=string.slice(0,match.index).split("\n"),inside=match[0].split("\n"),startLine=line+before.length,startCh=before[before.length-1].length;return{from:Pos(startLine,startCh),to:Pos(startLine+inside.length-1,1==inside.length?startCh+inside[0].length:inside[inside.length-1].length),match:match}}}}function adjustPos(orig,folded,pos,foldFunc){if(orig.length==folded.length)return pos;for(var min=0,max=pos+Math.max(0,orig.length-folded.length);;){if(min==max)return min;var mid=min+max>>1,len=foldFunc(orig.slice(0,mid)).length;if(len==pos)return mid;len>pos?max=mid:min=mid+1}}function searchStringForward(doc,query,start,caseFold){if(!query.length)return null;var fold=caseFold?doFold:noFold,lines=fold(query).split(/\r|\n\r?/);search:for(var line=start.line,ch=start.ch,last=doc.lastLine()+1-lines.length;line<=last;line++,ch=0){var orig=doc.getLine(line).slice(ch),string=fold(orig);if(1==lines.length){var found=string.indexOf(lines[0]);if(-1==found)continue search;return start=adjustPos(orig,string,found,fold)+ch,{from:Pos(line,adjustPos(orig,string,found,fold)+ch),to:Pos(line,adjustPos(orig,string,found+lines[0].length,fold)+ch)}}var cutFrom=string.length-lines[0].length;if(string.slice(cutFrom)==lines[0]){for(var i=1;i<lines.length-1;i++)if(fold(doc.getLine(line+i))!=lines[i])continue search;var end=doc.getLine(line+lines.length-1),endString=fold(end),lastLine=lines[lines.length-1];if(endString.slice(0,lastLine.length)==lastLine)return{from:Pos(line,adjustPos(orig,string,cutFrom,fold)+ch),to:Pos(line+lines.length-1,adjustPos(end,endString,lastLine.length,fold))}}}}function searchStringBackward(doc,query,start,caseFold){if(!query.length)return null;var fold=caseFold?doFold:noFold,lines=fold(query).split(/\r|\n\r?/);search:for(var line=start.line,ch=start.ch,first=doc.firstLine()-1+lines.length;line>=first;line--,ch=-1){var orig=doc.getLine(line);ch>-1&&(orig=orig.slice(0,ch));var string=fold(orig);if(1==lines.length){var found=string.lastIndexOf(lines[0]);if(-1==found)continue search;return{from:Pos(line,adjustPos(orig,string,found,fold)),to:Pos(line,adjustPos(orig,string,found+lines[0].length,fold))}}var lastLine=lines[lines.length-1];if(string.slice(0,lastLine.length)==lastLine){var i=1;for(start=line-lines.length+1;i<lines.length-1;i++)if(fold(doc.getLine(start+i))!=lines[i])continue search;var top=doc.getLine(line+1-lines.length),topString=fold(top);if(topString.slice(topString.length-lines[0].length)==lines[0])return{from:Pos(line+1-lines.length,adjustPos(top,topString,top.length-lines[0].length,fold)),to:Pos(line,adjustPos(orig,string,lastLine.length,fold))}}}}function SearchCursor(doc,query,pos,options){var caseFold;this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=doc,pos=pos?doc.clipPos(pos):Pos(0,0),this.pos={from:pos,to:pos},"object"==typeof options?caseFold=options.caseFold:(caseFold=options,options=null),"string"==typeof query?(null==caseFold&&(caseFold=!1),this.matches=function(reverse,pos){return(reverse?searchStringBackward:searchStringForward)(doc,query,pos,caseFold)}):(query=ensureFlags(query,"gm"),options&&!1===options.multiline?this.matches=function(reverse,pos){return(reverse?searchRegexpBackward:searchRegexpForward)(doc,query,pos)}:this.matches=function(reverse,pos){return(reverse?searchRegexpBackwardMultiline:searchRegexpForwardMultiline)(doc,query,pos)})}String.prototype.normalize?(doFold=function(str){return str.normalize("NFD").toLowerCase()},noFold=function(str){return str.normalize("NFD")}):(doFold=function(str){return str.toLowerCase()},noFold=function(str){return str}),SearchCursor.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(reverse){var head=this.doc.clipPos(reverse?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(head=Pos(head.line,head.ch),reverse?(head.ch--,head.ch<0&&(head.line--,head.ch=(this.doc.getLine(head.line)||"").length)):(head.ch++,head.ch>(this.doc.getLine(head.line)||"").length&&(head.ch=0,head.line++)),0!=CodeMirror.cmpPos(head,this.doc.clipPos(head))))return this.atOccurrence=!1;var result=this.matches(reverse,head);if(this.afterEmptyMatch=result&&0==CodeMirror.cmpPos(result.from,result.to),result)return this.pos=result,this.atOccurrence=!0,this.pos.match||!0;var end=Pos(reverse?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:end,to:end},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(newText,origin){if(this.atOccurrence){var lines=CodeMirror.splitLines(newText);this.doc.replaceRange(lines,this.pos.from,this.pos.to,origin),this.pos.to=Pos(this.pos.from.line+lines.length-1,lines[lines.length-1].length+(1==lines.length?this.pos.from.ch:0))}}},CodeMirror.defineExtension("getSearchCursor",(function(query,pos,caseFold){return new SearchCursor(this.doc,query,pos,caseFold)})),CodeMirror.defineDocExtension("getSearchCursor",(function(query,pos,caseFold){return new SearchCursor(this,query,pos,caseFold)})),CodeMirror.defineExtension("selectMatches",(function(query,caseFold){for(var ranges=[],cur=this.getSearchCursor(query,this.getCursor("from"),caseFold);cur.findNext()&&!(CodeMirror.cmpPos(cur.to(),this.getCursor("to"))>0);)ranges.push({anchor:cur.from(),head:cur.to()});ranges.length&&this.setSelections(ranges,0)}))}(__webpack_require__("./node_modules/codemirror/lib/codemirror.js"))}}]);