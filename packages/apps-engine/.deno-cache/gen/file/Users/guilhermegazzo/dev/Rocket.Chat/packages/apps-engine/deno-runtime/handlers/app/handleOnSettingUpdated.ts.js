import { AppObjectRegistry } from '../../AppObjectRegistry.ts';
import { AppAccessorsInstance } from '../../lib/accessors/mod.ts';
export default async function handleOnSettingUpdated(params) {
  const app = AppObjectRegistry.get('app');
  if (typeof app?.onSettingUpdated !== 'function') {
    throw new Error('App must contain an onSettingUpdated function', {
      cause: 'invalid_app'
    });
  }
  if (!Array.isArray(params)) {
    throw new Error('Invalid params', {
      cause: 'invalid_param_type'
    });
  }
  const [setting] = params;
  await app.onSettingUpdated(setting, AppAccessorsInstance.getConfigurationModify(), AppAccessorsInstance.getReader(), AppAccessorsInstance.getHttp());
  return true;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvZ3VpbGhlcm1lZ2F6em8vZGV2L1JvY2tldC5DaGF0L3BhY2thZ2VzL2FwcHMtZW5naW5lL2Rlbm8tcnVudGltZS9oYW5kbGVycy9hcHAvaGFuZGxlT25TZXR0aW5nVXBkYXRlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEFwcCB9IGZyb20gJ0Byb2NrZXQuY2hhdC9hcHBzLWVuZ2luZS9kZWZpbml0aW9uL0FwcC50cyc7XG5cbmltcG9ydCB7IEFwcE9iamVjdFJlZ2lzdHJ5IH0gZnJvbSAnLi4vLi4vQXBwT2JqZWN0UmVnaXN0cnkudHMnO1xuaW1wb3J0IHsgQXBwQWNjZXNzb3JzSW5zdGFuY2UgfSBmcm9tICcuLi8uLi9saWIvYWNjZXNzb3JzL21vZC50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZU9uU2V0dGluZ1VwZGF0ZWQocGFyYW1zOiB1bmtub3duKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgYXBwID0gQXBwT2JqZWN0UmVnaXN0cnkuZ2V0PEFwcD4oJ2FwcCcpO1xuXG4gICAgaWYgKHR5cGVvZiBhcHA/Lm9uU2V0dGluZ1VwZGF0ZWQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcHAgbXVzdCBjb250YWluIGFuIG9uU2V0dGluZ1VwZGF0ZWQgZnVuY3Rpb24nLCB7XG4gICAgICAgICAgICBjYXVzZTogJ2ludmFsaWRfYXBwJyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBhcmFtcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHBhcmFtcycsIHsgY2F1c2U6ICdpbnZhbGlkX3BhcmFtX3R5cGUnIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IFtzZXR0aW5nXSA9IHBhcmFtcyBhcyBbUmVjb3JkPHN0cmluZywgdW5rbm93bj5dO1xuXG4gICAgYXdhaXQgYXBwLm9uU2V0dGluZ1VwZGF0ZWQoc2V0dGluZywgQXBwQWNjZXNzb3JzSW5zdGFuY2UuZ2V0Q29uZmlndXJhdGlvbk1vZGlmeSgpLCBBcHBBY2Nlc3NvcnNJbnN0YW5jZS5nZXRSZWFkZXIoKSwgQXBwQWNjZXNzb3JzSW5zdGFuY2UuZ2V0SHR0cCgpKTtcblxuICAgIHJldHVybiB0cnVlO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLFNBQVMsaUJBQWlCLFFBQVEsNkJBQTZCO0FBQy9ELFNBQVMsb0JBQW9CLFFBQVEsNkJBQTZCO0FBRWxFLGVBQWUsZUFBZSx1QkFBdUIsTUFBZTtFQUNoRSxNQUFNLE1BQU0sa0JBQWtCLEdBQUcsQ0FBTTtFQUV2QyxJQUFJLE9BQU8sS0FBSyxxQkFBcUIsWUFBWTtJQUM3QyxNQUFNLElBQUksTUFBTSxpREFBaUQ7TUFDN0QsT0FBTztJQUNYO0VBQ0o7RUFFQSxJQUFJLENBQUMsTUFBTSxPQUFPLENBQUMsU0FBUztJQUN4QixNQUFNLElBQUksTUFBTSxrQkFBa0I7TUFBRSxPQUFPO0lBQXFCO0VBQ3BFO0VBRUEsTUFBTSxDQUFDLFFBQVEsR0FBRztFQUVsQixNQUFNLElBQUksZ0JBQWdCLENBQUMsU0FBUyxxQkFBcUIsc0JBQXNCLElBQUkscUJBQXFCLFNBQVMsSUFBSSxxQkFBcUIsT0FBTztFQUVqSixPQUFPO0FBQ1gifQ==