{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/custom-sounds/client/lib/CustomSounds.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"app/custom-sounds/client/lib/CustomSounds.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/custom-sounds/client/lib/CustomSounds.ts","inputSourceMap":{"version":3,"file":"app/custom-sounds/client/lib/CustomSounds.ts","sourceRoot":"","sources":["app/custom-sounds/client/lib/CustomSounds.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,WAAW,EAAE,MAAM,qBAAqB,CAAC;AAElD,OAAO,EAAE,MAAM,EAAE,MAAM,uBAAuB,CAAC;AAC/C,OAAO,EAAE,GAAG,EAAE,MAAM,qCAAqC,CAAC;AAE1D,MAAM,gBAAgB,GAAG,CAAC,OAA4B,EAAE,EAAE,CAAC,gBAAgB,OAAO,EAAE,CAAC;AACrF,MAAM,WAAW,GAAG,CAAC,KAAa,EAAE,MAA4B,EAAE,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;AAE5G,MAAM,aAAa,GAAG;IACrB,EAAE,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,kBAAkB,CAAC,EAAE;IACvF,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,iBAAiB,CAAC,EAAE;IACpF,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,iBAAiB,CAAC,EAAE;IACpF,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,mBAAmB,CAAC,EAAE;IAC1F,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,iBAAiB,CAAC,EAAE;IACpF,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,oBAAoB,CAAC,EAAE;IAC7F,EAAE,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,qBAAqB,CAAC,EAAE;IAChG,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,oBAAoB,CAAC,EAAE;IAC7F,EAAE,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,sBAAsB,CAAC,EAAE;IACnG,EAAE,GAAG,EAAE,uBAAuB,EAAE,IAAI,EAAE,uBAAuB,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,kCAAkC,CAAC,EAAE;IACvI,EAAE,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,YAAY,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,uBAAuB,CAAC,EAAE;IACtG,EAAE,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,qBAAqB,CAAC,EAAE;IAChG,EAAE,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,qBAAqB,CAAC,EAAE;CAChG,CAAC;AAEF,MAAM,iBAAiB;IACtB,IAAI,CAA4C;IAEhD,gBAAgB,CAAU;IAE1B;QACC,IAAI,CAAC,IAAI,GAAG,IAAI,WAAW,CAAC,EAAE,CAAC,CAAC;QAChC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;IACnD,CAAC;IAED,GAAG,CAAC,KAAmB;QACtB,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;YAChB,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC;QAED,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAChD,MAAM,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;QAEvB,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9C,KAAK,CAAC,EAAE,GAAG,gBAAgB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACvC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAE1B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEjC,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACrB,CAAC;IAED,MAAM,CAAC,KAAmB;QACzB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;QAC7B,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACpB,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAmB,IAAI,gBAAgB,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAC1F,KAAK,EAAE,MAAM,EAAE,CAAC;IACjB,CAAC;IAED,QAAQ,CAAC,OAA4B;QACpC,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;QAC7B,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC;IACtB,CAAC;IAED,MAAM,CAAC,KAAmB;QACzB,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAmB,IAAI,gBAAgB,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAC1F,IAAI,KAAK,EAAE,CAAC;YACX,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YAC7B,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;gBAChB,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAChC,CAAC;YACD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACpB,MAAM,QAAQ,GAAG,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC/C,IAAI,QAAQ,EAAE,CAAC;gBACd,QAAQ,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;YAC1B,CAAC;YACD,KAAK,CAAC,IAAI,EAAE,CAAC;QACd,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACjB,CAAC;IACF,CAAC;IAED,MAAM,CAAC,KAAmB;QACzB,OAAO,WAAW,CAAC,kBAAkB,KAAK,CAAC,GAAG,IAAI,KAAK,CAAC,SAAS,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,CAAC;IAClG,CAAC;IAED,OAAO;QACN,MAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;QAC5C,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC;IACxE,CAAC;IAED,IAAI,GAAG,KAAK,EAAE,OAA4B,EAAE,EAAE,MAAM,GAAG,CAAC,EAAE,IAAI,GAAG,KAAK,EAAE,GAAG,EAAE,EAAE,EAAE;QAChF,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAmB,IAAI,gBAAgB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACxF,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;YAClB,OAAO;QACR,CAAC;QAED,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACtB,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,MAAM,KAAK,CAAC,IAAI,EAAE,CAAC;QAEnB,OAAO,KAAK,CAAC;IACd,CAAC,CAAC;IAEF,KAAK,GAAG,CAAC,OAA4B,EAAE,EAAE;QACxC,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAmB,IAAI,gBAAgB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACxF,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC;YACnB,OAAO;QACR,CAAC;QAED,KAAK,CAAC,KAAK,EAAE,CAAC;IACf,CAAC,CAAC;IAEF,IAAI,GAAG,CAAC,OAA4B,EAAE,EAAE;QACvC,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAmB,IAAI,gBAAgB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACxF,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;YAClB,OAAO;QACR,CAAC;QAED,KAAK,EAAE,IAAI,EAAE,CAAC;IACf,CAAC,CAAC;IAEF,SAAS,GAAG,CAAC,OAA4B,EAAE,EAAE;QAC5C,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAmB,IAAI,gBAAgB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAExF,OAAO,KAAK,IAAI,KAAK,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;IACrD,CAAC,CAAC;IAEF,oBAAoB,GAAG,KAAK,IAAI,EAAE;QACjC,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC3B,OAAO;QACR,CAAC;QACD,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAClD,KAAK,MAAM,KAAK,IAAI,MAAM,EAAE,CAAC;YAC5B,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACjB,CAAC;QACD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;IAC9B,CAAC,CAAC;CACF;AAED,MAAM,CAAC,MAAM,YAAY,GAAG,IAAI,iBAAiB,EAAE,CAAC","sourcesContent":["import type { ICustomSound } from '@rocket.chat/core-typings';\nimport { ReactiveVar } from 'meteor/reactive-var';\n\nimport { getURL } from '../../../utils/client';\nimport { sdk } from '../../../utils/client/lib/SDKClient';\n\nconst getCustomSoundId = (soundId: ICustomSound['_id']) => `custom-sound-${soundId}`;\nconst getAssetUrl = (asset: string, params?: Record<string, any>) => getURL(asset, params, undefined, true);\n\nconst defaultSounds = [\n\t{ _id: 'chime', name: 'Chime', extension: 'mp3', src: getAssetUrl('sounds/chime.mp3') },\n\t{ _id: 'door', name: 'Door', extension: 'mp3', src: getAssetUrl('sounds/door.mp3') },\n\t{ _id: 'beep', name: 'Beep', extension: 'mp3', src: getAssetUrl('sounds/beep.mp3') },\n\t{ _id: 'chelle', name: 'Chelle', extension: 'mp3', src: getAssetUrl('sounds/chelle.mp3') },\n\t{ _id: 'ding', name: 'Ding', extension: 'mp3', src: getAssetUrl('sounds/ding.mp3') },\n\t{ _id: 'droplet', name: 'Droplet', extension: 'mp3', src: getAssetUrl('sounds/droplet.mp3') },\n\t{ _id: 'highbell', name: 'Highbell', extension: 'mp3', src: getAssetUrl('sounds/highbell.mp3') },\n\t{ _id: 'seasons', name: 'Seasons', extension: 'mp3', src: getAssetUrl('sounds/seasons.mp3') },\n\t{ _id: 'telephone', name: 'Telephone', extension: 'mp3', src: getAssetUrl('sounds/telephone.mp3') },\n\t{ _id: 'outbound-call-ringing', name: 'Outbound Call Ringing', extension: 'mp3', src: getAssetUrl('sounds/outbound-call-ringing.mp3') },\n\t{ _id: 'call-ended', name: 'Call Ended', extension: 'mp3', src: getAssetUrl('sounds/call-ended.mp3') },\n\t{ _id: 'dialtone', name: 'Dialtone', extension: 'mp3', src: getAssetUrl('sounds/dialtone.mp3') },\n\t{ _id: 'ringtone', name: 'Ringtone', extension: 'mp3', src: getAssetUrl('sounds/ringtone.mp3') },\n];\n\nclass CustomSoundsClass {\n\tlist: ReactiveVar<Record<string, ICustomSound>>;\n\n\tinitialFetchDone: boolean;\n\n\tconstructor() {\n\t\tthis.list = new ReactiveVar({});\n\t\tthis.initialFetchDone = false;\n\t\tdefaultSounds.forEach((sound) => this.add(sound));\n\t}\n\n\tadd(sound: ICustomSound) {\n\t\tif (!sound.src) {\n\t\t\tsound.src = this.getURL(sound);\n\t\t}\n\n\t\tconst source = document.createElement('source');\n\t\tsource.src = sound.src;\n\n\t\tconst audio = document.createElement('audio');\n\t\taudio.id = getCustomSoundId(sound._id);\n\t\taudio.preload = 'none';\n\t\taudio.appendChild(source);\n\n\t\tdocument.body.appendChild(audio);\n\n\t\tconst list = this.list.get();\n\t\tlist[sound._id] = sound;\n\t\tthis.list.set(list);\n\t}\n\n\tremove(sound: ICustomSound) {\n\t\tconst list = this.list.get();\n\t\tdelete list[sound._id];\n\t\tthis.list.set(list);\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(sound._id)}`);\n\t\taudio?.remove();\n\t}\n\n\tgetSound(soundId: ICustomSound['_id']) {\n\t\tconst list = this.list.get();\n\t\treturn list[soundId];\n\t}\n\n\tupdate(sound: ICustomSound) {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(sound._id)}`);\n\t\tif (audio) {\n\t\t\tconst list = this.list.get();\n\t\t\tif (!sound.src) {\n\t\t\t\tsound.src = this.getURL(sound);\n\t\t\t}\n\t\t\tlist[sound._id] = sound;\n\t\t\tthis.list.set(list);\n\t\t\tconst sourceEl = audio.querySelector('source');\n\t\t\tif (sourceEl) {\n\t\t\t\tsourceEl.src = sound.src;\n\t\t\t}\n\t\t\taudio.load();\n\t\t} else {\n\t\t\tthis.add(sound);\n\t\t}\n\t}\n\n\tgetURL(sound: ICustomSound) {\n\t\treturn getAssetUrl(`/custom-sounds/${sound._id}.${sound.extension}`, { _dc: sound.random || 0 });\n\t}\n\n\tgetList() {\n\t\tconst list = Object.values(this.list.get());\n\t\treturn list.sort((a, b) => (a.name ?? '').localeCompare(b.name ?? ''));\n\t}\n\n\tplay = async (soundId: ICustomSound['_id'], { volume = 1, loop = false } = {}) => {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(soundId)}`);\n\t\tif (!audio?.play) {\n\t\t\treturn;\n\t\t}\n\n\t\taudio.volume = volume;\n\t\taudio.loop = loop;\n\t\tawait audio.play();\n\n\t\treturn audio;\n\t};\n\n\tpause = (soundId: ICustomSound['_id']) => {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(soundId)}`);\n\t\tif (!audio?.pause) {\n\t\t\treturn;\n\t\t}\n\n\t\taudio.pause();\n\t};\n\n\tstop = (soundId: ICustomSound['_id']) => {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(soundId)}`);\n\t\tif (!audio?.load) {\n\t\t\treturn;\n\t\t}\n\n\t\taudio?.load();\n\t};\n\n\tisPlaying = (soundId: ICustomSound['_id']) => {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(soundId)}`);\n\n\t\treturn audio && audio.duration > 0 && !audio.paused;\n\t};\n\n\tfetchCustomSoundList = async () => {\n\t\tif (this.initialFetchDone) {\n\t\t\treturn;\n\t\t}\n\t\tconst result = await sdk.call('listCustomSounds');\n\t\tfor (const sound of result) {\n\t\t\tthis.add(sound);\n\t\t}\n\t\tthis.initialFetchDone = true;\n\t};\n}\n\nexport const CustomSounds = new CustomSoundsClass();\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/custom-sounds/client/lib/CustomSounds.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"app/custom-sounds/client/lib/CustomSounds.ts","inputSourceMap":{"version":3,"file":"app/custom-sounds/client/lib/CustomSounds.ts","sourceRoot":"","sources":["app/custom-sounds/client/lib/CustomSounds.ts"],"names":[],"mappings":"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","sourcesContent":["import type { ICustomSound } from '@rocket.chat/core-typings';\nimport { ReactiveVar } from 'meteor/reactive-var';\n\nimport { getURL } from '../../../utils/client';\nimport { sdk } from '../../../utils/client/lib/SDKClient';\n\nconst getCustomSoundId = (soundId: ICustomSound['_id']) => `custom-sound-${soundId}`;\nconst getAssetUrl = (asset: string, params?: Record<string, any>) => getURL(asset, params, undefined, true);\n\nconst defaultSounds = [\n\t{ _id: 'chime', name: 'Chime', extension: 'mp3', src: getAssetUrl('sounds/chime.mp3') },\n\t{ _id: 'door', name: 'Door', extension: 'mp3', src: getAssetUrl('sounds/door.mp3') },\n\t{ _id: 'beep', name: 'Beep', extension: 'mp3', src: getAssetUrl('sounds/beep.mp3') },\n\t{ _id: 'chelle', name: 'Chelle', extension: 'mp3', src: getAssetUrl('sounds/chelle.mp3') },\n\t{ _id: 'ding', name: 'Ding', extension: 'mp3', src: getAssetUrl('sounds/ding.mp3') },\n\t{ _id: 'droplet', name: 'Droplet', extension: 'mp3', src: getAssetUrl('sounds/droplet.mp3') },\n\t{ _id: 'highbell', name: 'Highbell', extension: 'mp3', src: getAssetUrl('sounds/highbell.mp3') },\n\t{ _id: 'seasons', name: 'Seasons', extension: 'mp3', src: getAssetUrl('sounds/seasons.mp3') },\n\t{ _id: 'telephone', name: 'Telephone', extension: 'mp3', src: getAssetUrl('sounds/telephone.mp3') },\n\t{ _id: 'outbound-call-ringing', name: 'Outbound Call Ringing', extension: 'mp3', src: getAssetUrl('sounds/outbound-call-ringing.mp3') },\n\t{ _id: 'call-ended', name: 'Call Ended', extension: 'mp3', src: getAssetUrl('sounds/call-ended.mp3') },\n\t{ _id: 'dialtone', name: 'Dialtone', extension: 'mp3', src: getAssetUrl('sounds/dialtone.mp3') },\n\t{ _id: 'ringtone', name: 'Ringtone', extension: 'mp3', src: getAssetUrl('sounds/ringtone.mp3') },\n];\n\nclass CustomSoundsClass {\n\tlist: ReactiveVar<Record<string, ICustomSound>>;\n\n\tinitialFetchDone: boolean;\n\n\tconstructor() {\n\t\tthis.list = new ReactiveVar({});\n\t\tthis.initialFetchDone = false;\n\t\tdefaultSounds.forEach((sound) => this.add(sound));\n\t}\n\n\tadd(sound: ICustomSound) {\n\t\tif (!sound.src) {\n\t\t\tsound.src = this.getURL(sound);\n\t\t}\n\n\t\tconst source = document.createElement('source');\n\t\tsource.src = sound.src;\n\n\t\tconst audio = document.createElement('audio');\n\t\taudio.id = getCustomSoundId(sound._id);\n\t\taudio.preload = 'none';\n\t\taudio.appendChild(source);\n\n\t\tdocument.body.appendChild(audio);\n\n\t\tconst list = this.list.get();\n\t\tlist[sound._id] = sound;\n\t\tthis.list.set(list);\n\t}\n\n\tremove(sound: ICustomSound) {\n\t\tconst list = this.list.get();\n\t\tdelete list[sound._id];\n\t\tthis.list.set(list);\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(sound._id)}`);\n\t\taudio?.remove();\n\t}\n\n\tgetSound(soundId: ICustomSound['_id']) {\n\t\tconst list = this.list.get();\n\t\treturn list[soundId];\n\t}\n\n\tupdate(sound: ICustomSound) {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(sound._id)}`);\n\t\tif (audio) {\n\t\t\tconst list = this.list.get();\n\t\t\tif (!sound.src) {\n\t\t\t\tsound.src = this.getURL(sound);\n\t\t\t}\n\t\t\tlist[sound._id] = sound;\n\t\t\tthis.list.set(list);\n\t\t\tconst sourceEl = audio.querySelector('source');\n\t\t\tif (sourceEl) {\n\t\t\t\tsourceEl.src = sound.src;\n\t\t\t}\n\t\t\taudio.load();\n\t\t} else {\n\t\t\tthis.add(sound);\n\t\t}\n\t}\n\n\tgetURL(sound: ICustomSound) {\n\t\treturn getAssetUrl(`/custom-sounds/${sound._id}.${sound.extension}`, { _dc: sound.random || 0 });\n\t}\n\n\tgetList() {\n\t\tconst list = Object.values(this.list.get());\n\t\treturn list.sort((a, b) => (a.name ?? '').localeCompare(b.name ?? ''));\n\t}\n\n\tplay = async (soundId: ICustomSound['_id'], { volume = 1, loop = false } = {}) => {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(soundId)}`);\n\t\tif (!audio?.play) {\n\t\t\treturn;\n\t\t}\n\n\t\taudio.volume = volume;\n\t\taudio.loop = loop;\n\t\tawait audio.play();\n\n\t\treturn audio;\n\t};\n\n\tpause = (soundId: ICustomSound['_id']) => {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(soundId)}`);\n\t\tif (!audio?.pause) {\n\t\t\treturn;\n\t\t}\n\n\t\taudio.pause();\n\t};\n\n\tstop = (soundId: ICustomSound['_id']) => {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(soundId)}`);\n\t\tif (!audio?.load) {\n\t\t\treturn;\n\t\t}\n\n\t\taudio?.load();\n\t};\n\n\tisPlaying = (soundId: ICustomSound['_id']) => {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(soundId)}`);\n\n\t\treturn audio && audio.duration > 0 && !audio.paused;\n\t};\n\n\tfetchCustomSoundList = async () => {\n\t\tif (this.initialFetchDone) {\n\t\t\treturn;\n\t\t}\n\t\tconst result = await sdk.call('listCustomSounds');\n\t\tfor (const sound of result) {\n\t\t\tthis.add(sound);\n\t\t}\n\t\tthis.initialFetchDone = true;\n\t};\n}\n\nexport const CustomSounds = new CustomSoundsClass();\n"]}}},"code":"var _createForOfIteratorHelperLoose;\nmodule.link(\"@babel/runtime/helpers/createForOfIteratorHelperLoose\", {\n  default: function (v) {\n    _createForOfIteratorHelperLoose = v;\n  }\n}, 0);\nvar _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 1);\nmodule.export({\n  CustomSounds: function () {\n    return CustomSounds;\n  }\n});\nvar ReactiveVar;\nmodule.link(\"meteor/reactive-var\", {\n  ReactiveVar: function (v) {\n    ReactiveVar = v;\n  }\n}, 0);\nvar getURL;\nmodule.link(\"../../../utils/client\", {\n  getURL: function (v) {\n    getURL = v;\n  }\n}, 1);\nvar sdk;\nmodule.link(\"../../../utils/client/lib/SDKClient\", {\n  sdk: function (v) {\n    sdk = v;\n  }\n}, 2);\nvar getCustomSoundId = function (soundId) {\n  return \"custom-sound-\" + soundId;\n};\nvar getAssetUrl = function (asset, params) {\n  return getURL(asset, params, undefined, true);\n};\nvar defaultSounds = [{\n  _id: 'chime',\n  name: 'Chime',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/chime.mp3')\n}, {\n  _id: 'door',\n  name: 'Door',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/door.mp3')\n}, {\n  _id: 'beep',\n  name: 'Beep',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/beep.mp3')\n}, {\n  _id: 'chelle',\n  name: 'Chelle',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/chelle.mp3')\n}, {\n  _id: 'ding',\n  name: 'Ding',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/ding.mp3')\n}, {\n  _id: 'droplet',\n  name: 'Droplet',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/droplet.mp3')\n}, {\n  _id: 'highbell',\n  name: 'Highbell',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/highbell.mp3')\n}, {\n  _id: 'seasons',\n  name: 'Seasons',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/seasons.mp3')\n}, {\n  _id: 'telephone',\n  name: 'Telephone',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/telephone.mp3')\n}, {\n  _id: 'outbound-call-ringing',\n  name: 'Outbound Call Ringing',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/outbound-call-ringing.mp3')\n}, {\n  _id: 'call-ended',\n  name: 'Call Ended',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/call-ended.mp3')\n}, {\n  _id: 'dialtone',\n  name: 'Dialtone',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/dialtone.mp3')\n}, {\n  _id: 'ringtone',\n  name: 'Ringtone',\n  extension: 'mp3',\n  src: getAssetUrl('sounds/ringtone.mp3')\n}];\nvar CustomSoundsClass = /*#__PURE__*/function () {\n  function CustomSoundsClass() {\n    var _this = this;\n    this.list = void 0;\n    this.initialFetchDone = void 0;\n    this.play = function () {\n      function _callee(soundId) {\n        var _ref,\n          _ref$volume,\n          volume,\n          _ref$loop,\n          loop,\n          audio,\n          _args = arguments;\n        return _regeneratorRuntime.async(function () {\n          function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _ref = _args.length > 1 && _args[1] !== undefined ? _args[1] : {}, _ref$volume = _ref.volume, volume = _ref$volume === void 0 ? 1 : _ref$volume, _ref$loop = _ref.loop, loop = _ref$loop === void 0 ? false : _ref$loop;\n                audio = document.querySelector(\"#\" + getCustomSoundId(soundId));\n                if (audio !== null && audio !== void 0 && audio.play) {\n                  _context.next = 4;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 4:\n                audio.volume = volume;\n                audio.loop = loop;\n                _context.next = 8;\n                return _regeneratorRuntime.awrap(audio.play());\n              case 8:\n                return _context.abrupt(\"return\", audio);\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n          return _callee$;\n        }(), null, null, null, Promise);\n      }\n      return _callee;\n    }();\n    this.pause = function (soundId) {\n      var audio = document.querySelector(\"#\" + getCustomSoundId(soundId));\n      if (!(audio !== null && audio !== void 0 && audio.pause)) {\n        return;\n      }\n      audio.pause();\n    };\n    this.stop = function (soundId) {\n      var audio = document.querySelector(\"#\" + getCustomSoundId(soundId));\n      if (!(audio !== null && audio !== void 0 && audio.load)) {\n        return;\n      }\n      audio === null || audio === void 0 ? void 0 : audio.load();\n    };\n    this.isPlaying = function (soundId) {\n      var audio = document.querySelector(\"#\" + getCustomSoundId(soundId));\n      return audio && audio.duration > 0 && !audio.paused;\n    };\n    this.fetchCustomSoundList = function () {\n      function _callee2() {\n        var result, _iterator, _step, sound;\n        return _regeneratorRuntime.async(function () {\n          function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this.initialFetchDone) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                _context2.next = 4;\n                return _regeneratorRuntime.awrap(sdk.call('listCustomSounds'));\n              case 4:\n                result = _context2.sent;\n                for (_iterator = _createForOfIteratorHelperLoose(result); !(_step = _iterator()).done;) {\n                  sound = _step.value;\n                  _this.add(sound);\n                }\n                _this.initialFetchDone = true;\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n          return _callee2$;\n        }(), null, null, null, Promise);\n      }\n      return _callee2;\n    }();\n    this.list = new ReactiveVar({});\n    this.initialFetchDone = false;\n    defaultSounds.forEach(function (sound) {\n      return _this.add(sound);\n    });\n  }\n  var _proto = CustomSoundsClass.prototype;\n  _proto.add = function () {\n    function add(sound) {\n      if (!sound.src) {\n        sound.src = this.getURL(sound);\n      }\n      var source = document.createElement('source');\n      source.src = sound.src;\n      var audio = document.createElement('audio');\n      audio.id = getCustomSoundId(sound._id);\n      audio.preload = 'none';\n      audio.appendChild(source);\n      document.body.appendChild(audio);\n      var list = this.list.get();\n      list[sound._id] = sound;\n      this.list.set(list);\n    }\n    return add;\n  }();\n  _proto.remove = function () {\n    function remove(sound) {\n      var list = this.list.get();\n      delete list[sound._id];\n      this.list.set(list);\n      var audio = document.querySelector(\"#\" + getCustomSoundId(sound._id));\n      audio === null || audio === void 0 ? void 0 : audio.remove();\n    }\n    return remove;\n  }();\n  _proto.getSound = function () {\n    function getSound(soundId) {\n      var list = this.list.get();\n      return list[soundId];\n    }\n    return getSound;\n  }();\n  _proto.update = function () {\n    function update(sound) {\n      var audio = document.querySelector(\"#\" + getCustomSoundId(sound._id));\n      if (audio) {\n        var list = this.list.get();\n        if (!sound.src) {\n          sound.src = this.getURL(sound);\n        }\n        list[sound._id] = sound;\n        this.list.set(list);\n        var sourceEl = audio.querySelector('source');\n        if (sourceEl) {\n          sourceEl.src = sound.src;\n        }\n        audio.load();\n      } else {\n        this.add(sound);\n      }\n    }\n    return update;\n  }();\n  _proto.getURL = function () {\n    function getURL(sound) {\n      return getAssetUrl(\"/custom-sounds/\" + sound._id + \".\" + sound.extension, {\n        _dc: sound.random || 0\n      });\n    }\n    return getURL;\n  }();\n  _proto.getList = function () {\n    function getList() {\n      var list = Object.values(this.list.get());\n      return list.sort(function (a, b) {\n        var _a$name, _b$name;\n        return ((_a$name = a.name) !== null && _a$name !== void 0 ? _a$name : '').localeCompare((_b$name = b.name) !== null && _b$name !== void 0 ? _b$name : '');\n      });\n    }\n    return getList;\n  }();\n  return CustomSoundsClass;\n}();\nvar CustomSounds = new CustomSoundsClass();","map":{"version":3,"names":["_createForOfIteratorHelperLoose","module","link","default","v","_regeneratorRuntime","export","CustomSounds","ReactiveVar","getURL","sdk","getCustomSoundId","soundId","getAssetUrl","asset","params","undefined","defaultSounds","_id","name","extension","src","CustomSoundsClass","_this","list","initialFetchDone","play","_callee","_ref","_ref$volume","volume","_ref$loop","loop","audio","_args","arguments","async","_callee$","_context","prev","next","length","document","querySelector","abrupt","awrap","stop","Promise","pause","load","isPlaying","duration","paused","fetchCustomSoundList","_callee2","result","_iterator","_step","sound","_callee2$","_context2","call","sent","done","value","add","forEach","_proto","prototype","source","createElement","id","preload","appendChild","body","get","set","remove","getSound","update","sourceEl","_dc","random","getList","Object","values","sort","a","b","_a$name","_b$name","localeCompare"],"sources":["app/custom-sounds/client/lib/CustomSounds.ts"],"sourcesContent":["import type { ICustomSound } from '@rocket.chat/core-typings';\nimport { ReactiveVar } from 'meteor/reactive-var';\n\nimport { getURL } from '../../../utils/client';\nimport { sdk } from '../../../utils/client/lib/SDKClient';\n\nconst getCustomSoundId = (soundId: ICustomSound['_id']) => `custom-sound-${soundId}`;\nconst getAssetUrl = (asset: string, params?: Record<string, any>) => getURL(asset, params, undefined, true);\n\nconst defaultSounds = [\n\t{ _id: 'chime', name: 'Chime', extension: 'mp3', src: getAssetUrl('sounds/chime.mp3') },\n\t{ _id: 'door', name: 'Door', extension: 'mp3', src: getAssetUrl('sounds/door.mp3') },\n\t{ _id: 'beep', name: 'Beep', extension: 'mp3', src: getAssetUrl('sounds/beep.mp3') },\n\t{ _id: 'chelle', name: 'Chelle', extension: 'mp3', src: getAssetUrl('sounds/chelle.mp3') },\n\t{ _id: 'ding', name: 'Ding', extension: 'mp3', src: getAssetUrl('sounds/ding.mp3') },\n\t{ _id: 'droplet', name: 'Droplet', extension: 'mp3', src: getAssetUrl('sounds/droplet.mp3') },\n\t{ _id: 'highbell', name: 'Highbell', extension: 'mp3', src: getAssetUrl('sounds/highbell.mp3') },\n\t{ _id: 'seasons', name: 'Seasons', extension: 'mp3', src: getAssetUrl('sounds/seasons.mp3') },\n\t{ _id: 'telephone', name: 'Telephone', extension: 'mp3', src: getAssetUrl('sounds/telephone.mp3') },\n\t{ _id: 'outbound-call-ringing', name: 'Outbound Call Ringing', extension: 'mp3', src: getAssetUrl('sounds/outbound-call-ringing.mp3') },\n\t{ _id: 'call-ended', name: 'Call Ended', extension: 'mp3', src: getAssetUrl('sounds/call-ended.mp3') },\n\t{ _id: 'dialtone', name: 'Dialtone', extension: 'mp3', src: getAssetUrl('sounds/dialtone.mp3') },\n\t{ _id: 'ringtone', name: 'Ringtone', extension: 'mp3', src: getAssetUrl('sounds/ringtone.mp3') },\n];\n\nclass CustomSoundsClass {\n\tlist: ReactiveVar<Record<string, ICustomSound>>;\n\n\tinitialFetchDone: boolean;\n\n\tconstructor() {\n\t\tthis.list = new ReactiveVar({});\n\t\tthis.initialFetchDone = false;\n\t\tdefaultSounds.forEach((sound) => this.add(sound));\n\t}\n\n\tadd(sound: ICustomSound) {\n\t\tif (!sound.src) {\n\t\t\tsound.src = this.getURL(sound);\n\t\t}\n\n\t\tconst source = document.createElement('source');\n\t\tsource.src = sound.src;\n\n\t\tconst audio = document.createElement('audio');\n\t\taudio.id = getCustomSoundId(sound._id);\n\t\taudio.preload = 'none';\n\t\taudio.appendChild(source);\n\n\t\tdocument.body.appendChild(audio);\n\n\t\tconst list = this.list.get();\n\t\tlist[sound._id] = sound;\n\t\tthis.list.set(list);\n\t}\n\n\tremove(sound: ICustomSound) {\n\t\tconst list = this.list.get();\n\t\tdelete list[sound._id];\n\t\tthis.list.set(list);\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(sound._id)}`);\n\t\taudio?.remove();\n\t}\n\n\tgetSound(soundId: ICustomSound['_id']) {\n\t\tconst list = this.list.get();\n\t\treturn list[soundId];\n\t}\n\n\tupdate(sound: ICustomSound) {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(sound._id)}`);\n\t\tif (audio) {\n\t\t\tconst list = this.list.get();\n\t\t\tif (!sound.src) {\n\t\t\t\tsound.src = this.getURL(sound);\n\t\t\t}\n\t\t\tlist[sound._id] = sound;\n\t\t\tthis.list.set(list);\n\t\t\tconst sourceEl = audio.querySelector('source');\n\t\t\tif (sourceEl) {\n\t\t\t\tsourceEl.src = sound.src;\n\t\t\t}\n\t\t\taudio.load();\n\t\t} else {\n\t\t\tthis.add(sound);\n\t\t}\n\t}\n\n\tgetURL(sound: ICustomSound) {\n\t\treturn getAssetUrl(`/custom-sounds/${sound._id}.${sound.extension}`, { _dc: sound.random || 0 });\n\t}\n\n\tgetList() {\n\t\tconst list = Object.values(this.list.get());\n\t\treturn list.sort((a, b) => (a.name ?? '').localeCompare(b.name ?? ''));\n\t}\n\n\tplay = async (soundId: ICustomSound['_id'], { volume = 1, loop = false } = {}) => {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(soundId)}`);\n\t\tif (!audio?.play) {\n\t\t\treturn;\n\t\t}\n\n\t\taudio.volume = volume;\n\t\taudio.loop = loop;\n\t\tawait audio.play();\n\n\t\treturn audio;\n\t};\n\n\tpause = (soundId: ICustomSound['_id']) => {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(soundId)}`);\n\t\tif (!audio?.pause) {\n\t\t\treturn;\n\t\t}\n\n\t\taudio.pause();\n\t};\n\n\tstop = (soundId: ICustomSound['_id']) => {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(soundId)}`);\n\t\tif (!audio?.load) {\n\t\t\treturn;\n\t\t}\n\n\t\taudio?.load();\n\t};\n\n\tisPlaying = (soundId: ICustomSound['_id']) => {\n\t\tconst audio = document.querySelector<HTMLAudioElement>(`#${getCustomSoundId(soundId)}`);\n\n\t\treturn audio && audio.duration > 0 && !audio.paused;\n\t};\n\n\tfetchCustomSoundList = async () => {\n\t\tif (this.initialFetchDone) {\n\t\t\treturn;\n\t\t}\n\t\tconst result = await sdk.call('listCustomSounds');\n\t\tfor (const sound of result) {\n\t\t\tthis.add(sound);\n\t\t}\n\t\tthis.initialFetchDone = true;\n\t};\n}\n\nexport const CustomSounds = new CustomSoundsClass();\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"b008497de1b0c28babe5a6ec82a30f21a9b6fa8d"}
