{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/message/variants/room/RoomMessageContent.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/components/message/variants/room/RoomMessageContent.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/message/variants/room/RoomMessageContent.tsx","inputSourceMap":{"version":3,"file":"client/components/message/variants/room/RoomMessageContent.tsx","sourceRoot":"","sources":["client/components/message/variants/room/RoomMessageContent.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { isDiscussionMessage, isThreadMainMessage, isE2EEMessage, isQuoteAttachment } from '@rocket.chat/core-typings';\nimport { MessageBody } from '@rocket.chat/fuselage';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useSetting, useTranslation, useUserId } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo } from 'react';\n\nimport { useUserData } from '../../../../hooks/useUserData';\nimport type { UserPresence } from '../../../../lib/presence';\nimport { useChat } from '../../../../views/room/contexts/ChatContext';\nimport MessageContentBody from '../../MessageContentBody';\nimport ReadReceiptIndicator from '../../ReadReceiptIndicator';\nimport Attachments from '../../content/Attachments';\nimport BroadcastMetrics from '../../content/BroadcastMetrics';\nimport DiscussionMetrics from '../../content/DiscussionMetrics';\nimport Location from '../../content/Location';\nimport MessageActions from '../../content/MessageActions';\nimport Reactions from '../../content/Reactions';\nimport ThreadMetrics from '../../content/ThreadMetrics';\nimport UrlPreviews from '../../content/UrlPreviews';\nimport { useNormalizedMessage } from '../../hooks/useNormalizedMessage';\nimport { useOembedLayout } from '../../hooks/useOembedLayout';\nimport { useSubscriptionFromMessageQuery } from '../../hooks/useSubscriptionFromMessageQuery';\nimport UiKitMessageBlock from '../../uikit/UiKitMessageBlock';\n\ntype RoomMessageContentProps = {\n\tmessage: IMessage;\n\tunread: boolean;\n\tmention: boolean;\n\tall: boolean;\n\tsearchText?: string;\n};\n\nconst RoomMessageContent = ({ message, unread, all, mention, searchText }: RoomMessageContentProps): ReactElement => {\n\tconst encrypted = isE2EEMessage(message);\n\tconst { enabled: oembedEnabled } = useOembedLayout();\n\tconst subscription = useSubscriptionFromMessageQuery(message).data ?? undefined;\n\tconst broadcast = subscription?.broadcast ?? false;\n\tconst uid = useUserId();\n\tconst messageUser: UserPresence = { ...message.u, roles: [], ...useUserData(message.u._id) };\n\tconst readReceiptEnabled = useSetting('Message_Read_Receipt_Enabled', false);\n\tconst chat = useChat();\n\tconst t = useTranslation();\n\n\tconst normalizedMessage = useNormalizedMessage(message);\n\tconst isMessageEncrypted = encrypted && normalizedMessage?.e2e === 'pending';\n\n\tconst quotes = normalizedMessage?.attachments?.filter(isQuoteAttachment) || [];\n\n\tconst attachments = normalizedMessage?.attachments?.filter((attachment) => !isQuoteAttachment(attachment)) || [];\n\n\treturn (\n\t\t<>\n\t\t\t{isMessageEncrypted && <MessageBody>{t('E2E_message_encrypted_placeholder')}</MessageBody>}\n\n\t\t\t{!!quotes?.length && <Attachments attachments={quotes} />}\n\n\t\t\t{!normalizedMessage.blocks?.length && !!normalizedMessage.md?.length && (\n\t\t\t\t<>\n\t\t\t\t\t{(!encrypted || normalizedMessage.e2e === 'done') && (\n\t\t\t\t\t\t<MessageContentBody\n\t\t\t\t\t\t\tid={`${normalizedMessage._id}-content`}\n\t\t\t\t\t\t\tmd={normalizedMessage.md}\n\t\t\t\t\t\t\tmentions={normalizedMessage.mentions}\n\t\t\t\t\t\t\tchannels={normalizedMessage.channels}\n\t\t\t\t\t\t\tsearchText={searchText}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{!!attachments && <Attachments id={message.files?.[0]?._id} attachments={attachments} />}\n\n\t\t\t{normalizedMessage.blocks && (\n\t\t\t\t<UiKitMessageBlock rid={normalizedMessage.rid} mid={normalizedMessage._id} blocks={normalizedMessage.blocks} />\n\t\t\t)}\n\n\t\t\t{oembedEnabled && !!normalizedMessage.urls?.length && <UrlPreviews urls={normalizedMessage.urls} />}\n\n\t\t\t{normalizedMessage.actionLinks?.length && (\n\t\t\t\t<MessageActions\n\t\t\t\t\tmessage={normalizedMessage}\n\t\t\t\t\tactions={normalizedMessage.actionLinks.map(({ method_id: methodId, i18nLabel, ...action }) => ({\n\t\t\t\t\t\tmethodId,\n\t\t\t\t\t\ti18nLabel: i18nLabel as TranslationKey,\n\t\t\t\t\t\t...action,\n\t\t\t\t\t}))}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{normalizedMessage.reactions && Object.keys(normalizedMessage.reactions).length && <Reactions message={normalizedMessage} />}\n\n\t\t\t{chat && isThreadMainMessage(normalizedMessage) && (\n\t\t\t\t<ThreadMetrics\n\t\t\t\t\tcounter={normalizedMessage.tcount}\n\t\t\t\t\tfollowing={Boolean(uid && normalizedMessage?.replies?.indexOf(uid) > -1)}\n\t\t\t\t\tmid={normalizedMessage._id}\n\t\t\t\t\trid={normalizedMessage.rid}\n\t\t\t\t\tlm={normalizedMessage.tlm}\n\t\t\t\t\tunread={unread}\n\t\t\t\t\tmention={mention}\n\t\t\t\t\tall={all}\n\t\t\t\t\tparticipants={normalizedMessage?.replies?.length}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{isDiscussionMessage(normalizedMessage) && (\n\t\t\t\t<DiscussionMetrics\n\t\t\t\t\tcount={normalizedMessage.dcount}\n\t\t\t\t\tdrid={normalizedMessage.drid}\n\t\t\t\t\tlm={normalizedMessage.dlm}\n\t\t\t\t\trid={normalizedMessage.rid}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{normalizedMessage.location && <Location location={normalizedMessage.location} />}\n\n\t\t\t{broadcast && !!messageUser.username && normalizedMessage.u._id !== uid && (\n\t\t\t\t<BroadcastMetrics username={messageUser.username} message={normalizedMessage} />\n\t\t\t)}\n\n\t\t\t{readReceiptEnabled && <ReadReceiptIndicator mid={normalizedMessage._id} unread={normalizedMessage.unread} />}\n\t\t</>\n\t);\n};\n\nexport default memo(RoomMessageContent);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/message/variants/room/RoomMessageContent.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/components/message/variants/room/RoomMessageContent.tsx","inputSourceMap":{"version":3,"file":"client/components/message/variants/room/RoomMessageContent.tsx","sourceRoot":"","sources":["client/components/message/variants/room/RoomMessageContent.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { isDiscussionMessage, isThreadMainMessage, isE2EEMessage, isQuoteAttachment } from '@rocket.chat/core-typings';\nimport { MessageBody } from '@rocket.chat/fuselage';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useSetting, useTranslation, useUserId } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo } from 'react';\n\nimport { useUserData } from '../../../../hooks/useUserData';\nimport type { UserPresence } from '../../../../lib/presence';\nimport { useChat } from '../../../../views/room/contexts/ChatContext';\nimport MessageContentBody from '../../MessageContentBody';\nimport ReadReceiptIndicator from '../../ReadReceiptIndicator';\nimport Attachments from '../../content/Attachments';\nimport BroadcastMetrics from '../../content/BroadcastMetrics';\nimport DiscussionMetrics from '../../content/DiscussionMetrics';\nimport Location from '../../content/Location';\nimport MessageActions from '../../content/MessageActions';\nimport Reactions from '../../content/Reactions';\nimport ThreadMetrics from '../../content/ThreadMetrics';\nimport UrlPreviews from '../../content/UrlPreviews';\nimport { useNormalizedMessage } from '../../hooks/useNormalizedMessage';\nimport { useOembedLayout } from '../../hooks/useOembedLayout';\nimport { useSubscriptionFromMessageQuery } from '../../hooks/useSubscriptionFromMessageQuery';\nimport UiKitMessageBlock from '../../uikit/UiKitMessageBlock';\n\ntype RoomMessageContentProps = {\n\tmessage: IMessage;\n\tunread: boolean;\n\tmention: boolean;\n\tall: boolean;\n\tsearchText?: string;\n};\n\nconst RoomMessageContent = ({ message, unread, all, mention, searchText }: RoomMessageContentProps): ReactElement => {\n\tconst encrypted = isE2EEMessage(message);\n\tconst { enabled: oembedEnabled } = useOembedLayout();\n\tconst subscription = useSubscriptionFromMessageQuery(message).data ?? undefined;\n\tconst broadcast = subscription?.broadcast ?? false;\n\tconst uid = useUserId();\n\tconst messageUser: UserPresence = { ...message.u, roles: [], ...useUserData(message.u._id) };\n\tconst readReceiptEnabled = useSetting('Message_Read_Receipt_Enabled', false);\n\tconst chat = useChat();\n\tconst t = useTranslation();\n\n\tconst normalizedMessage = useNormalizedMessage(message);\n\tconst isMessageEncrypted = encrypted && normalizedMessage?.e2e === 'pending';\n\n\tconst quotes = normalizedMessage?.attachments?.filter(isQuoteAttachment) || [];\n\n\tconst attachments = normalizedMessage?.attachments?.filter((attachment) => !isQuoteAttachment(attachment)) || [];\n\n\treturn (\n\t\t<>\n\t\t\t{isMessageEncrypted && <MessageBody>{t('E2E_message_encrypted_placeholder')}</MessageBody>}\n\n\t\t\t{!!quotes?.length && <Attachments attachments={quotes} />}\n\n\t\t\t{!normalizedMessage.blocks?.length && !!normalizedMessage.md?.length && (\n\t\t\t\t<>\n\t\t\t\t\t{(!encrypted || normalizedMessage.e2e === 'done') && (\n\t\t\t\t\t\t<MessageContentBody\n\t\t\t\t\t\t\tid={`${normalizedMessage._id}-content`}\n\t\t\t\t\t\t\tmd={normalizedMessage.md}\n\t\t\t\t\t\t\tmentions={normalizedMessage.mentions}\n\t\t\t\t\t\t\tchannels={normalizedMessage.channels}\n\t\t\t\t\t\t\tsearchText={searchText}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{!!attachments && <Attachments id={message.files?.[0]?._id} attachments={attachments} />}\n\n\t\t\t{normalizedMessage.blocks && (\n\t\t\t\t<UiKitMessageBlock rid={normalizedMessage.rid} mid={normalizedMessage._id} blocks={normalizedMessage.blocks} />\n\t\t\t)}\n\n\t\t\t{oembedEnabled && !!normalizedMessage.urls?.length && <UrlPreviews urls={normalizedMessage.urls} />}\n\n\t\t\t{normalizedMessage.actionLinks?.length && (\n\t\t\t\t<MessageActions\n\t\t\t\t\tmessage={normalizedMessage}\n\t\t\t\t\tactions={normalizedMessage.actionLinks.map(({ method_id: methodId, i18nLabel, ...action }) => ({\n\t\t\t\t\t\tmethodId,\n\t\t\t\t\t\ti18nLabel: i18nLabel as TranslationKey,\n\t\t\t\t\t\t...action,\n\t\t\t\t\t}))}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{normalizedMessage.reactions && Object.keys(normalizedMessage.reactions).length && <Reactions message={normalizedMessage} />}\n\n\t\t\t{chat && isThreadMainMessage(normalizedMessage) && (\n\t\t\t\t<ThreadMetrics\n\t\t\t\t\tcounter={normalizedMessage.tcount}\n\t\t\t\t\tfollowing={Boolean(uid && normalizedMessage?.replies?.indexOf(uid) > -1)}\n\t\t\t\t\tmid={normalizedMessage._id}\n\t\t\t\t\trid={normalizedMessage.rid}\n\t\t\t\t\tlm={normalizedMessage.tlm}\n\t\t\t\t\tunread={unread}\n\t\t\t\t\tmention={mention}\n\t\t\t\t\tall={all}\n\t\t\t\t\tparticipants={normalizedMessage?.replies?.length}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{isDiscussionMessage(normalizedMessage) && (\n\t\t\t\t<DiscussionMetrics\n\t\t\t\t\tcount={normalizedMessage.dcount}\n\t\t\t\t\tdrid={normalizedMessage.drid}\n\t\t\t\t\tlm={normalizedMessage.dlm}\n\t\t\t\t\trid={normalizedMessage.rid}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{normalizedMessage.location && <Location location={normalizedMessage.location} />}\n\n\t\t\t{broadcast && !!messageUser.username && normalizedMessage.u._id !== uid && (\n\t\t\t\t<BroadcastMetrics username={messageUser.username} message={normalizedMessage} />\n\t\t\t)}\n\n\t\t\t{readReceiptEnabled && <ReadReceiptIndicator mid={normalizedMessage._id} unread={normalizedMessage.unread} />}\n\t\t</>\n\t);\n};\n\nexport default memo(RoomMessageContent);\n"]}}},"code":"var _excluded = [\"method_id\", \"i18nLabel\"];\nvar _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 0);\nvar _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 1);\nvar isDiscussionMessage, isThreadMainMessage, isE2EEMessage, isQuoteAttachment;\nmodule.link(\"@rocket.chat/core-typings\", {\n  isDiscussionMessage: function (v) {\n    isDiscussionMessage = v;\n  },\n  isThreadMainMessage: function (v) {\n    isThreadMainMessage = v;\n  },\n  isE2EEMessage: function (v) {\n    isE2EEMessage = v;\n  },\n  isQuoteAttachment: function (v) {\n    isQuoteAttachment = v;\n  }\n}, 0);\nvar MessageBody;\nmodule.link(\"@rocket.chat/fuselage\", {\n  MessageBody: function (v) {\n    MessageBody = v;\n  }\n}, 1);\nvar useSetting, useTranslation, useUserId;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useSetting: function (v) {\n    useSetting = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useUserId: function (v) {\n    useUserId = v;\n  }\n}, 2);\nvar React, memo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  memo: function (v) {\n    memo = v;\n  }\n}, 3);\nvar useUserData;\nmodule.link(\"../../../../hooks/useUserData\", {\n  useUserData: function (v) {\n    useUserData = v;\n  }\n}, 4);\nvar useChat;\nmodule.link(\"../../../../views/room/contexts/ChatContext\", {\n  useChat: function (v) {\n    useChat = v;\n  }\n}, 5);\nvar MessageContentBody;\nmodule.link(\"../../MessageContentBody\", {\n  \"default\": function (v) {\n    MessageContentBody = v;\n  }\n}, 6);\nvar ReadReceiptIndicator;\nmodule.link(\"../../ReadReceiptIndicator\", {\n  \"default\": function (v) {\n    ReadReceiptIndicator = v;\n  }\n}, 7);\nvar Attachments;\nmodule.link(\"../../content/Attachments\", {\n  \"default\": function (v) {\n    Attachments = v;\n  }\n}, 8);\nvar BroadcastMetrics;\nmodule.link(\"../../content/BroadcastMetrics\", {\n  \"default\": function (v) {\n    BroadcastMetrics = v;\n  }\n}, 9);\nvar DiscussionMetrics;\nmodule.link(\"../../content/DiscussionMetrics\", {\n  \"default\": function (v) {\n    DiscussionMetrics = v;\n  }\n}, 10);\nvar Location;\nmodule.link(\"../../content/Location\", {\n  \"default\": function (v) {\n    Location = v;\n  }\n}, 11);\nvar MessageActions;\nmodule.link(\"../../content/MessageActions\", {\n  \"default\": function (v) {\n    MessageActions = v;\n  }\n}, 12);\nvar Reactions;\nmodule.link(\"../../content/Reactions\", {\n  \"default\": function (v) {\n    Reactions = v;\n  }\n}, 13);\nvar ThreadMetrics;\nmodule.link(\"../../content/ThreadMetrics\", {\n  \"default\": function (v) {\n    ThreadMetrics = v;\n  }\n}, 14);\nvar UrlPreviews;\nmodule.link(\"../../content/UrlPreviews\", {\n  \"default\": function (v) {\n    UrlPreviews = v;\n  }\n}, 15);\nvar useNormalizedMessage;\nmodule.link(\"../../hooks/useNormalizedMessage\", {\n  useNormalizedMessage: function (v) {\n    useNormalizedMessage = v;\n  }\n}, 16);\nvar useOembedLayout;\nmodule.link(\"../../hooks/useOembedLayout\", {\n  useOembedLayout: function (v) {\n    useOembedLayout = v;\n  }\n}, 17);\nvar useSubscriptionFromMessageQuery;\nmodule.link(\"../../hooks/useSubscriptionFromMessageQuery\", {\n  useSubscriptionFromMessageQuery: function (v) {\n    useSubscriptionFromMessageQuery = v;\n  }\n}, 18);\nvar UiKitMessageBlock;\nmodule.link(\"../../uikit/UiKitMessageBlock\", {\n  \"default\": function (v) {\n    UiKitMessageBlock = v;\n  }\n}, 19);\nvar RoomMessageContent = function (_ref) {\n  var _useSubscriptionFromM, _subscription$broadca, _normalizedMessage$at, _normalizedMessage$at2, _normalizedMessage$bl, _normalizedMessage$md, _message$files, _message$files$, _normalizedMessage$ur, _normalizedMessage$ac, _normalizedMessage$re, _normalizedMessage$re2;\n  var message = _ref.message,\n    unread = _ref.unread,\n    all = _ref.all,\n    mention = _ref.mention,\n    searchText = _ref.searchText;\n  var encrypted = isE2EEMessage(message);\n  var _useOembedLayout = useOembedLayout(),\n    oembedEnabled = _useOembedLayout.enabled;\n  var subscription = (_useSubscriptionFromM = useSubscriptionFromMessageQuery(message).data) !== null && _useSubscriptionFromM !== void 0 ? _useSubscriptionFromM : undefined;\n  var broadcast = (_subscription$broadca = subscription === null || subscription === void 0 ? void 0 : subscription.broadcast) !== null && _subscription$broadca !== void 0 ? _subscription$broadca : false;\n  var uid = useUserId();\n  var messageUser = _objectSpread(_objectSpread({}, message.u), {}, {\n    roles: []\n  }, useUserData(message.u._id));\n  var readReceiptEnabled = useSetting('Message_Read_Receipt_Enabled', false);\n  var chat = useChat();\n  var t = useTranslation();\n  var normalizedMessage = useNormalizedMessage(message);\n  var isMessageEncrypted = encrypted && (normalizedMessage === null || normalizedMessage === void 0 ? void 0 : normalizedMessage.e2e) === 'pending';\n  var quotes = (normalizedMessage === null || normalizedMessage === void 0 ? void 0 : (_normalizedMessage$at = normalizedMessage.attachments) === null || _normalizedMessage$at === void 0 ? void 0 : _normalizedMessage$at.filter(isQuoteAttachment)) || [];\n  var attachments = (normalizedMessage === null || normalizedMessage === void 0 ? void 0 : (_normalizedMessage$at2 = normalizedMessage.attachments) === null || _normalizedMessage$at2 === void 0 ? void 0 : _normalizedMessage$at2.filter(function (attachment) {\n    return !isQuoteAttachment(attachment);\n  })) || [];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isMessageEncrypted && /*#__PURE__*/React.createElement(MessageBody, null, t('E2E_message_encrypted_placeholder')), !!(quotes !== null && quotes !== void 0 && quotes.length) && /*#__PURE__*/React.createElement(Attachments, {\n    attachments: quotes\n  }), !((_normalizedMessage$bl = normalizedMessage.blocks) !== null && _normalizedMessage$bl !== void 0 && _normalizedMessage$bl.length) && !!((_normalizedMessage$md = normalizedMessage.md) !== null && _normalizedMessage$md !== void 0 && _normalizedMessage$md.length) && /*#__PURE__*/React.createElement(React.Fragment, null, (!encrypted || normalizedMessage.e2e === 'done') && /*#__PURE__*/React.createElement(MessageContentBody, {\n    id: normalizedMessage._id + \"-content\",\n    md: normalizedMessage.md,\n    mentions: normalizedMessage.mentions,\n    channels: normalizedMessage.channels,\n    searchText: searchText\n  })), !!attachments && /*#__PURE__*/React.createElement(Attachments, {\n    id: (_message$files = message.files) === null || _message$files === void 0 ? void 0 : (_message$files$ = _message$files[0]) === null || _message$files$ === void 0 ? void 0 : _message$files$._id,\n    attachments: attachments\n  }), normalizedMessage.blocks && /*#__PURE__*/React.createElement(UiKitMessageBlock, {\n    rid: normalizedMessage.rid,\n    mid: normalizedMessage._id,\n    blocks: normalizedMessage.blocks\n  }), oembedEnabled && !!((_normalizedMessage$ur = normalizedMessage.urls) !== null && _normalizedMessage$ur !== void 0 && _normalizedMessage$ur.length) && /*#__PURE__*/React.createElement(UrlPreviews, {\n    urls: normalizedMessage.urls\n  }), ((_normalizedMessage$ac = normalizedMessage.actionLinks) === null || _normalizedMessage$ac === void 0 ? void 0 : _normalizedMessage$ac.length) && /*#__PURE__*/React.createElement(MessageActions, {\n    message: normalizedMessage,\n    actions: normalizedMessage.actionLinks.map(function (_ref2) {\n      var methodId = _ref2.method_id,\n        i18nLabel = _ref2.i18nLabel,\n        action = _objectWithoutProperties(_ref2, _excluded);\n      return _objectSpread({\n        methodId: methodId,\n        i18nLabel: i18nLabel\n      }, action);\n    })\n  }), normalizedMessage.reactions && Object.keys(normalizedMessage.reactions).length && /*#__PURE__*/React.createElement(Reactions, {\n    message: normalizedMessage\n  }), chat && isThreadMainMessage(normalizedMessage) && /*#__PURE__*/React.createElement(ThreadMetrics, {\n    counter: normalizedMessage.tcount,\n    following: Boolean(uid && (normalizedMessage === null || normalizedMessage === void 0 ? void 0 : (_normalizedMessage$re = normalizedMessage.replies) === null || _normalizedMessage$re === void 0 ? void 0 : _normalizedMessage$re.indexOf(uid)) > -1),\n    mid: normalizedMessage._id,\n    rid: normalizedMessage.rid,\n    lm: normalizedMessage.tlm,\n    unread: unread,\n    mention: mention,\n    all: all,\n    participants: normalizedMessage === null || normalizedMessage === void 0 ? void 0 : (_normalizedMessage$re2 = normalizedMessage.replies) === null || _normalizedMessage$re2 === void 0 ? void 0 : _normalizedMessage$re2.length\n  }), isDiscussionMessage(normalizedMessage) && /*#__PURE__*/React.createElement(DiscussionMetrics, {\n    count: normalizedMessage.dcount,\n    drid: normalizedMessage.drid,\n    lm: normalizedMessage.dlm,\n    rid: normalizedMessage.rid\n  }), normalizedMessage.location && /*#__PURE__*/React.createElement(Location, {\n    location: normalizedMessage.location\n  }), broadcast && !!messageUser.username && normalizedMessage.u._id !== uid && /*#__PURE__*/React.createElement(BroadcastMetrics, {\n    username: messageUser.username,\n    message: normalizedMessage\n  }), readReceiptEnabled && /*#__PURE__*/React.createElement(ReadReceiptIndicator, {\n    mid: normalizedMessage._id,\n    unread: normalizedMessage.unread\n  }));\n};\nmodule.exportDefault( /*#__PURE__*/memo(RoomMessageContent));","map":{"version":3,"names":["_objectWithoutProperties","module","link","default","v","_objectSpread","isDiscussionMessage","isThreadMainMessage","isE2EEMessage","isQuoteAttachment","MessageBody","useSetting","useTranslation","useUserId","React","memo","useUserData","useChat","MessageContentBody","ReadReceiptIndicator","Attachments","BroadcastMetrics","DiscussionMetrics","Location","MessageActions","Reactions","ThreadMetrics","UrlPreviews","useNormalizedMessage","useOembedLayout","useSubscriptionFromMessageQuery","UiKitMessageBlock","RoomMessageContent","_ref","_useSubscriptionFromM","_subscription$broadca","_normalizedMessage$at","_normalizedMessage$at2","_normalizedMessage$bl","_normalizedMessage$md","_message$files","_message$files$","_normalizedMessage$ur","_normalizedMessage$ac","_normalizedMessage$re","_normalizedMessage$re2","message","unread","all","mention","searchText","encrypted","_useOembedLayout","oembedEnabled","enabled","subscription","data","undefined","broadcast","uid","messageUser","u","roles","_id","readReceiptEnabled","chat","t","normalizedMessage","isMessageEncrypted","e2e","quotes","attachments","filter","attachment","createElement","Fragment","length","blocks","md","id","mentions","channels","files","rid","mid","urls","actionLinks","actions","map","_ref2","methodId","method_id","i18nLabel","action","_excluded","reactions","Object","keys","counter","tcount","following","Boolean","replies","indexOf","lm","tlm","participants","count","dcount","drid","dlm","location","username","exportDefault"],"sources":["client/components/message/variants/room/RoomMessageContent.tsx"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { isDiscussionMessage, isThreadMainMessage, isE2EEMessage, isQuoteAttachment } from '@rocket.chat/core-typings';\nimport { MessageBody } from '@rocket.chat/fuselage';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useSetting, useTranslation, useUserId } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo } from 'react';\n\nimport { useUserData } from '../../../../hooks/useUserData';\nimport type { UserPresence } from '../../../../lib/presence';\nimport { useChat } from '../../../../views/room/contexts/ChatContext';\nimport MessageContentBody from '../../MessageContentBody';\nimport ReadReceiptIndicator from '../../ReadReceiptIndicator';\nimport Attachments from '../../content/Attachments';\nimport BroadcastMetrics from '../../content/BroadcastMetrics';\nimport DiscussionMetrics from '../../content/DiscussionMetrics';\nimport Location from '../../content/Location';\nimport MessageActions from '../../content/MessageActions';\nimport Reactions from '../../content/Reactions';\nimport ThreadMetrics from '../../content/ThreadMetrics';\nimport UrlPreviews from '../../content/UrlPreviews';\nimport { useNormalizedMessage } from '../../hooks/useNormalizedMessage';\nimport { useOembedLayout } from '../../hooks/useOembedLayout';\nimport { useSubscriptionFromMessageQuery } from '../../hooks/useSubscriptionFromMessageQuery';\nimport UiKitMessageBlock from '../../uikit/UiKitMessageBlock';\n\ntype RoomMessageContentProps = {\n\tmessage: IMessage;\n\tunread: boolean;\n\tmention: boolean;\n\tall: boolean;\n\tsearchText?: string;\n};\n\nconst RoomMessageContent = ({ message, unread, all, mention, searchText }: RoomMessageContentProps): ReactElement => {\n\tconst encrypted = isE2EEMessage(message);\n\tconst { enabled: oembedEnabled } = useOembedLayout();\n\tconst subscription = useSubscriptionFromMessageQuery(message).data ?? undefined;\n\tconst broadcast = subscription?.broadcast ?? false;\n\tconst uid = useUserId();\n\tconst messageUser: UserPresence = { ...message.u, roles: [], ...useUserData(message.u._id) };\n\tconst readReceiptEnabled = useSetting('Message_Read_Receipt_Enabled', false);\n\tconst chat = useChat();\n\tconst t = useTranslation();\n\n\tconst normalizedMessage = useNormalizedMessage(message);\n\tconst isMessageEncrypted = encrypted && normalizedMessage?.e2e === 'pending';\n\n\tconst quotes = normalizedMessage?.attachments?.filter(isQuoteAttachment) || [];\n\n\tconst attachments = normalizedMessage?.attachments?.filter((attachment) => !isQuoteAttachment(attachment)) || [];\n\n\treturn (\n\t\t<>\n\t\t\t{isMessageEncrypted && <MessageBody>{t('E2E_message_encrypted_placeholder')}</MessageBody>}\n\n\t\t\t{!!quotes?.length && <Attachments attachments={quotes} />}\n\n\t\t\t{!normalizedMessage.blocks?.length && !!normalizedMessage.md?.length && (\n\t\t\t\t<>\n\t\t\t\t\t{(!encrypted || normalizedMessage.e2e === 'done') && (\n\t\t\t\t\t\t<MessageContentBody\n\t\t\t\t\t\t\tid={`${normalizedMessage._id}-content`}\n\t\t\t\t\t\t\tmd={normalizedMessage.md}\n\t\t\t\t\t\t\tmentions={normalizedMessage.mentions}\n\t\t\t\t\t\t\tchannels={normalizedMessage.channels}\n\t\t\t\t\t\t\tsearchText={searchText}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{!!attachments && <Attachments id={message.files?.[0]?._id} attachments={attachments} />}\n\n\t\t\t{normalizedMessage.blocks && (\n\t\t\t\t<UiKitMessageBlock rid={normalizedMessage.rid} mid={normalizedMessage._id} blocks={normalizedMessage.blocks} />\n\t\t\t)}\n\n\t\t\t{oembedEnabled && !!normalizedMessage.urls?.length && <UrlPreviews urls={normalizedMessage.urls} />}\n\n\t\t\t{normalizedMessage.actionLinks?.length && (\n\t\t\t\t<MessageActions\n\t\t\t\t\tmessage={normalizedMessage}\n\t\t\t\t\tactions={normalizedMessage.actionLinks.map(({ method_id: methodId, i18nLabel, ...action }) => ({\n\t\t\t\t\t\tmethodId,\n\t\t\t\t\t\ti18nLabel: i18nLabel as TranslationKey,\n\t\t\t\t\t\t...action,\n\t\t\t\t\t}))}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{normalizedMessage.reactions && Object.keys(normalizedMessage.reactions).length && <Reactions message={normalizedMessage} />}\n\n\t\t\t{chat && isThreadMainMessage(normalizedMessage) && (\n\t\t\t\t<ThreadMetrics\n\t\t\t\t\tcounter={normalizedMessage.tcount}\n\t\t\t\t\tfollowing={Boolean(uid && normalizedMessage?.replies?.indexOf(uid) > -1)}\n\t\t\t\t\tmid={normalizedMessage._id}\n\t\t\t\t\trid={normalizedMessage.rid}\n\t\t\t\t\tlm={normalizedMessage.tlm}\n\t\t\t\t\tunread={unread}\n\t\t\t\t\tmention={mention}\n\t\t\t\t\tall={all}\n\t\t\t\t\tparticipants={normalizedMessage?.replies?.length}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{isDiscussionMessage(normalizedMessage) && (\n\t\t\t\t<DiscussionMetrics\n\t\t\t\t\tcount={normalizedMessage.dcount}\n\t\t\t\t\tdrid={normalizedMessage.drid}\n\t\t\t\t\tlm={normalizedMessage.dlm}\n\t\t\t\t\trid={normalizedMessage.rid}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{normalizedMessage.location && <Location location={normalizedMessage.location} />}\n\n\t\t\t{broadcast && !!messageUser.username && normalizedMessage.u._id !== uid && (\n\t\t\t\t<BroadcastMetrics username={messageUser.username} message={normalizedMessage} />\n\t\t\t)}\n\n\t\t\t{readReceiptEnabled && <ReadReceiptIndicator mid={normalizedMessage._id} unread={normalizedMessage.unread} />}\n\t\t</>\n\t);\n};\n\nexport default memo(RoomMessageContent);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"f47e35e4e590e75819d7a59d83e4530c86804f70"}
