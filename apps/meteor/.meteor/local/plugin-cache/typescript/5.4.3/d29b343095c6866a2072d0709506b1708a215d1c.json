{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/permissions/PermissionsTable/PermissionsTable.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/admin/permissions/PermissionsTable/PermissionsTable.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/permissions/PermissionsTable/PermissionsTable.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/permissions/PermissionsTable/PermissionsTable.tsx","sourceRoot":"","sources":["client/views/admin/permissions/PermissionsTable/PermissionsTable.tsx"],"names":[],"mappings":"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","sourcesContent":["import { css } from '@rocket.chat/css-in-js';\nimport { Margins, Tabs, Button, Pagination, Palette } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useRoute, usePermission, useMethod, useTranslation, useSetModal } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState } from 'react';\n\nimport GenericNoResults from '../../../../components/GenericNoResults';\nimport { GenericTable, GenericTableHeader, GenericTableHeaderCell, GenericTableBody } from '../../../../components/GenericTable';\nimport { usePagination } from '../../../../components/GenericTable/hooks/usePagination';\nimport { Page, PageHeader, PageContent } from '../../../../components/Page';\nimport CustomRoleUpsellModal from '../CustomRoleUpsellModal';\nimport PermissionsContextBar from '../PermissionsContextBar';\nimport { usePermissionsAndRoles } from '../hooks/usePermissionsAndRoles';\nimport PermissionRow from './PermissionRow';\nimport PermissionsTableFilter from './PermissionsTableFilter';\nimport RoleHeader from './RoleHeader';\n\nconst PermissionsTable = ({ isEnterprise }: { isEnterprise: boolean }): ReactElement => {\n\tconst t = useTranslation();\n\tconst [filter, setFilter] = useState('');\n\tconst canViewPermission = usePermission('access-permissions');\n\tconst canViewSettingPermission = usePermission('access-setting-permissions');\n\tconst defaultType = canViewPermission ? 'permissions' : 'settings';\n\tconst [type, setType] = useState(defaultType);\n\tconst router = useRoute('admin-permissions');\n\tconst setModal = useSetModal();\n\n\tconst grantRole = useMethod('authorization:addPermissionToRole');\n\tconst removeRole = useMethod('authorization:removeRoleFromPermission');\n\n\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\n\tconst { permissions, total, roleList } = usePermissionsAndRoles(type, filter, itemsPerPage, current);\n\n\tconst handlePermissionsTab = useMutableCallback(() => {\n\t\tif (type === 'permissions') {\n\t\t\treturn;\n\t\t}\n\t\tsetType('permissions');\n\t});\n\n\tconst handleSettingsTab = useMutableCallback(() => {\n\t\tif (type === 'settings') {\n\t\t\treturn;\n\t\t}\n\t\tsetType('settings');\n\t});\n\n\tconst handleAdd = useMutableCallback(() => {\n\t\tif (!isEnterprise) {\n\t\t\tsetModal(<CustomRoleUpsellModal onClose={() => setModal(null)} />);\n\t\t\treturn;\n\t\t}\n\t\trouter.push({\n\t\t\tcontext: 'new',\n\t\t});\n\t});\n\n\tconst fixedColumnStyle = css`\n\t\ttr > th {\n\t\t\t&:first-child {\n\t\t\t\tposition: sticky;\n\t\t\t\tleft: 0;\n\t\t\t\tbackground-color: ${Palette.surface['surface-light']};\n\t\t\t\tz-index: 12;\n\t\t\t}\n\t\t}\n\t\ttr > td {\n\t\t\t&:first-child {\n\t\t\t\tposition: sticky;\n\t\t\t\tleft: 0;\n\t\t\t\tbox-shadow: -1px 0 0 ${Palette.stroke['stroke-light']} inset;\n\t\t\t\tbackground-color: ${Palette.surface['surface-light']};\n\t\t\t\tz-index: 11;\n\t\t\t}\n\t\t}\n\t`;\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={t('Permissions')}>\n\t\t\t\t\t<Button primary onClick={handleAdd} aria-label={t('New')} name={t('New_role')}>\n\t\t\t\t\t\t{t('New_role')}\n\t\t\t\t\t</Button>\n\t\t\t\t</PageHeader>\n\t\t\t\t<Margins blockEnd={16}>\n\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t<Tabs.Item\n\t\t\t\t\t\t\tdata-qa='PermissionTable-Permissions'\n\t\t\t\t\t\t\tselected={type === 'permissions'}\n\t\t\t\t\t\t\tonClick={handlePermissionsTab}\n\t\t\t\t\t\t\tdisabled={!canViewPermission}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Permissions')}\n\t\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t\t<Tabs.Item\n\t\t\t\t\t\t\tdata-qa='PermissionTable-Settings'\n\t\t\t\t\t\t\tselected={type === 'settings'}\n\t\t\t\t\t\t\tonClick={handleSettingsTab}\n\t\t\t\t\t\t\tdisabled={!canViewSettingPermission}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Settings')}\n\t\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</Margins>\n\t\t\t\t<PageContent mb='neg-x8'>\n\t\t\t\t\t<Margins block={8}>\n\t\t\t\t\t\t<PermissionsTableFilter onChange={setFilter} />\n\t\t\t\t\t\t{permissions?.length === 0 && <GenericNoResults />}\n\t\t\t\t\t\t{permissions?.length > 0 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<GenericTable className={[fixedColumnStyle]} fixed={false}>\n\t\t\t\t\t\t\t\t\t<GenericTableHeader>\n\t\t\t\t\t\t\t\t\t\t<GenericTableHeaderCell width='x120'>{t('Name')}</GenericTableHeaderCell>\n\t\t\t\t\t\t\t\t\t\t{roleList?.map(({ _id, name, description }) => (\n\t\t\t\t\t\t\t\t\t\t\t<RoleHeader key={_id} _id={_id} name={name} description={description} />\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</GenericTableHeader>\n\t\t\t\t\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t\t\t\t\t{permissions?.map((permission) => (\n\t\t\t\t\t\t\t\t\t\t\t<PermissionRow\n\t\t\t\t\t\t\t\t\t\t\t\tkey={permission._id}\n\t\t\t\t\t\t\t\t\t\t\t\tpermission={permission}\n\t\t\t\t\t\t\t\t\t\t\t\troleList={roleList}\n\t\t\t\t\t\t\t\t\t\t\t\tonGrant={grantRole}\n\t\t\t\t\t\t\t\t\t\t\t\tonRemove={removeRole}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t\t\t\t</GenericTable>\n\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\tdivider\n\t\t\t\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\t\t\t\tcount={total}\n\t\t\t\t\t\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\t\t\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t\t\t\t\t\t{...paginationProps}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Margins>\n\t\t\t\t</PageContent>\n\t\t\t</Page>\n\t\t\t<PermissionsContextBar />\n\t\t</Page>\n\t);\n};\n\nexport default PermissionsTable;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/permissions/PermissionsTable/PermissionsTable.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/permissions/PermissionsTable/PermissionsTable.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/permissions/PermissionsTable/PermissionsTable.tsx","sourceRoot":"","sources":["client/views/admin/permissions/PermissionsTable/PermissionsTable.tsx"],"names":[],"mappings":"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","sourcesContent":["import { css } from '@rocket.chat/css-in-js';\nimport { Margins, Tabs, Button, Pagination, Palette } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useRoute, usePermission, useMethod, useTranslation, useSetModal } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState } from 'react';\n\nimport GenericNoResults from '../../../../components/GenericNoResults';\nimport { GenericTable, GenericTableHeader, GenericTableHeaderCell, GenericTableBody } from '../../../../components/GenericTable';\nimport { usePagination } from '../../../../components/GenericTable/hooks/usePagination';\nimport { Page, PageHeader, PageContent } from '../../../../components/Page';\nimport CustomRoleUpsellModal from '../CustomRoleUpsellModal';\nimport PermissionsContextBar from '../PermissionsContextBar';\nimport { usePermissionsAndRoles } from '../hooks/usePermissionsAndRoles';\nimport PermissionRow from './PermissionRow';\nimport PermissionsTableFilter from './PermissionsTableFilter';\nimport RoleHeader from './RoleHeader';\n\nconst PermissionsTable = ({ isEnterprise }: { isEnterprise: boolean }): ReactElement => {\n\tconst t = useTranslation();\n\tconst [filter, setFilter] = useState('');\n\tconst canViewPermission = usePermission('access-permissions');\n\tconst canViewSettingPermission = usePermission('access-setting-permissions');\n\tconst defaultType = canViewPermission ? 'permissions' : 'settings';\n\tconst [type, setType] = useState(defaultType);\n\tconst router = useRoute('admin-permissions');\n\tconst setModal = useSetModal();\n\n\tconst grantRole = useMethod('authorization:addPermissionToRole');\n\tconst removeRole = useMethod('authorization:removeRoleFromPermission');\n\n\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\n\tconst { permissions, total, roleList } = usePermissionsAndRoles(type, filter, itemsPerPage, current);\n\n\tconst handlePermissionsTab = useMutableCallback(() => {\n\t\tif (type === 'permissions') {\n\t\t\treturn;\n\t\t}\n\t\tsetType('permissions');\n\t});\n\n\tconst handleSettingsTab = useMutableCallback(() => {\n\t\tif (type === 'settings') {\n\t\t\treturn;\n\t\t}\n\t\tsetType('settings');\n\t});\n\n\tconst handleAdd = useMutableCallback(() => {\n\t\tif (!isEnterprise) {\n\t\t\tsetModal(<CustomRoleUpsellModal onClose={() => setModal(null)} />);\n\t\t\treturn;\n\t\t}\n\t\trouter.push({\n\t\t\tcontext: 'new',\n\t\t});\n\t});\n\n\tconst fixedColumnStyle = css`\n\t\ttr > th {\n\t\t\t&:first-child {\n\t\t\t\tposition: sticky;\n\t\t\t\tleft: 0;\n\t\t\t\tbackground-color: ${Palette.surface['surface-light']};\n\t\t\t\tz-index: 12;\n\t\t\t}\n\t\t}\n\t\ttr > td {\n\t\t\t&:first-child {\n\t\t\t\tposition: sticky;\n\t\t\t\tleft: 0;\n\t\t\t\tbox-shadow: -1px 0 0 ${Palette.stroke['stroke-light']} inset;\n\t\t\t\tbackground-color: ${Palette.surface['surface-light']};\n\t\t\t\tz-index: 11;\n\t\t\t}\n\t\t}\n\t`;\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={t('Permissions')}>\n\t\t\t\t\t<Button primary onClick={handleAdd} aria-label={t('New')} name={t('New_role')}>\n\t\t\t\t\t\t{t('New_role')}\n\t\t\t\t\t</Button>\n\t\t\t\t</PageHeader>\n\t\t\t\t<Margins blockEnd={16}>\n\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t<Tabs.Item\n\t\t\t\t\t\t\tdata-qa='PermissionTable-Permissions'\n\t\t\t\t\t\t\tselected={type === 'permissions'}\n\t\t\t\t\t\t\tonClick={handlePermissionsTab}\n\t\t\t\t\t\t\tdisabled={!canViewPermission}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Permissions')}\n\t\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t\t<Tabs.Item\n\t\t\t\t\t\t\tdata-qa='PermissionTable-Settings'\n\t\t\t\t\t\t\tselected={type === 'settings'}\n\t\t\t\t\t\t\tonClick={handleSettingsTab}\n\t\t\t\t\t\t\tdisabled={!canViewSettingPermission}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Settings')}\n\t\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</Margins>\n\t\t\t\t<PageContent mb='neg-x8'>\n\t\t\t\t\t<Margins block={8}>\n\t\t\t\t\t\t<PermissionsTableFilter onChange={setFilter} />\n\t\t\t\t\t\t{permissions?.length === 0 && <GenericNoResults />}\n\t\t\t\t\t\t{permissions?.length > 0 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<GenericTable className={[fixedColumnStyle]} fixed={false}>\n\t\t\t\t\t\t\t\t\t<GenericTableHeader>\n\t\t\t\t\t\t\t\t\t\t<GenericTableHeaderCell width='x120'>{t('Name')}</GenericTableHeaderCell>\n\t\t\t\t\t\t\t\t\t\t{roleList?.map(({ _id, name, description }) => (\n\t\t\t\t\t\t\t\t\t\t\t<RoleHeader key={_id} _id={_id} name={name} description={description} />\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</GenericTableHeader>\n\t\t\t\t\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t\t\t\t\t{permissions?.map((permission) => (\n\t\t\t\t\t\t\t\t\t\t\t<PermissionRow\n\t\t\t\t\t\t\t\t\t\t\t\tkey={permission._id}\n\t\t\t\t\t\t\t\t\t\t\t\tpermission={permission}\n\t\t\t\t\t\t\t\t\t\t\t\troleList={roleList}\n\t\t\t\t\t\t\t\t\t\t\t\tonGrant={grantRole}\n\t\t\t\t\t\t\t\t\t\t\t\tonRemove={removeRole}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t\t\t\t</GenericTable>\n\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\tdivider\n\t\t\t\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\t\t\t\tcount={total}\n\t\t\t\t\t\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\t\t\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t\t\t\t\t\t{...paginationProps}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Margins>\n\t\t\t\t</PageContent>\n\t\t\t</Page>\n\t\t\t<PermissionsContextBar />\n\t\t</Page>\n\t);\n};\n\nexport default PermissionsTable;\n"]}}},"code":"var _templateObject;\nconst _excluded = [\"current\", \"itemsPerPage\", \"setItemsPerPage\", \"setCurrent\"];\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet _taggedTemplateLiteral;\nmodule.link(\"@babel/runtime/helpers/taggedTemplateLiteral\", {\n  default(v) {\n    _taggedTemplateLiteral = v;\n  }\n}, 1);\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 2);\nlet css;\nmodule.link(\"@rocket.chat/css-in-js\", {\n  css(v) {\n    css = v;\n  }\n}, 0);\nlet Margins, Tabs, Button, Pagination, Palette;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Margins(v) {\n    Margins = v;\n  },\n  Tabs(v) {\n    Tabs = v;\n  },\n  Button(v) {\n    Button = v;\n  },\n  Pagination(v) {\n    Pagination = v;\n  },\n  Palette(v) {\n    Palette = v;\n  }\n}, 1);\nlet useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  }\n}, 2);\nlet useRoute, usePermission, useMethod, useTranslation, useSetModal;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useRoute(v) {\n    useRoute = v;\n  },\n  usePermission(v) {\n    usePermission = v;\n  },\n  useMethod(v) {\n    useMethod = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  },\n  useSetModal(v) {\n    useSetModal = v;\n  }\n}, 3);\nlet React, useState;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useState(v) {\n    useState = v;\n  }\n}, 4);\nlet GenericNoResults;\nmodule.link(\"../../../../components/GenericNoResults\", {\n  default(v) {\n    GenericNoResults = v;\n  }\n}, 5);\nlet GenericTable, GenericTableHeader, GenericTableHeaderCell, GenericTableBody;\nmodule.link(\"../../../../components/GenericTable\", {\n  GenericTable(v) {\n    GenericTable = v;\n  },\n  GenericTableHeader(v) {\n    GenericTableHeader = v;\n  },\n  GenericTableHeaderCell(v) {\n    GenericTableHeaderCell = v;\n  },\n  GenericTableBody(v) {\n    GenericTableBody = v;\n  }\n}, 6);\nlet usePagination;\nmodule.link(\"../../../../components/GenericTable/hooks/usePagination\", {\n  usePagination(v) {\n    usePagination = v;\n  }\n}, 7);\nlet Page, PageHeader, PageContent;\nmodule.link(\"../../../../components/Page\", {\n  Page(v) {\n    Page = v;\n  },\n  PageHeader(v) {\n    PageHeader = v;\n  },\n  PageContent(v) {\n    PageContent = v;\n  }\n}, 8);\nlet CustomRoleUpsellModal;\nmodule.link(\"../CustomRoleUpsellModal\", {\n  default(v) {\n    CustomRoleUpsellModal = v;\n  }\n}, 9);\nlet PermissionsContextBar;\nmodule.link(\"../PermissionsContextBar\", {\n  default(v) {\n    PermissionsContextBar = v;\n  }\n}, 10);\nlet usePermissionsAndRoles;\nmodule.link(\"../hooks/usePermissionsAndRoles\", {\n  usePermissionsAndRoles(v) {\n    usePermissionsAndRoles = v;\n  }\n}, 11);\nlet PermissionRow;\nmodule.link(\"./PermissionRow\", {\n  default(v) {\n    PermissionRow = v;\n  }\n}, 12);\nlet PermissionsTableFilter;\nmodule.link(\"./PermissionsTableFilter\", {\n  default(v) {\n    PermissionsTableFilter = v;\n  }\n}, 13);\nlet RoleHeader;\nmodule.link(\"./RoleHeader\", {\n  default(v) {\n    RoleHeader = v;\n  }\n}, 14);\nconst PermissionsTable = _ref => {\n  let {\n    isEnterprise\n  } = _ref;\n  const t = useTranslation();\n  const [filter, setFilter] = useState('');\n  const canViewPermission = usePermission('access-permissions');\n  const canViewSettingPermission = usePermission('access-setting-permissions');\n  const defaultType = canViewPermission ? 'permissions' : 'settings';\n  const [type, setType] = useState(defaultType);\n  const router = useRoute('admin-permissions');\n  const setModal = useSetModal();\n  const grantRole = useMethod('authorization:addPermissionToRole');\n  const removeRole = useMethod('authorization:removeRoleFromPermission');\n  const _usePagination = usePagination(),\n    {\n      current,\n      itemsPerPage,\n      setItemsPerPage: onSetItemsPerPage,\n      setCurrent: onSetCurrent\n    } = _usePagination,\n    paginationProps = _objectWithoutProperties(_usePagination, _excluded);\n  const {\n    permissions,\n    total,\n    roleList\n  } = usePermissionsAndRoles(type, filter, itemsPerPage, current);\n  const handlePermissionsTab = useMutableCallback(() => {\n    if (type === 'permissions') {\n      return;\n    }\n    setType('permissions');\n  });\n  const handleSettingsTab = useMutableCallback(() => {\n    if (type === 'settings') {\n      return;\n    }\n    setType('settings');\n  });\n  const handleAdd = useMutableCallback(() => {\n    if (!isEnterprise) {\n      setModal( /*#__PURE__*/React.createElement(CustomRoleUpsellModal, {\n        onClose: () => setModal(null)\n      }));\n      return;\n    }\n    router.push({\n      context: 'new'\n    });\n  });\n  const fixedColumnStyle = css(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n\\t\\ttr > th {\\n\\t\\t\\t&:first-child {\\n\\t\\t\\t\\tposition: sticky;\\n\\t\\t\\t\\tleft: 0;\\n\\t\\t\\t\\tbackground-color: \", \";\\n\\t\\t\\t\\tz-index: 12;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\ttr > td {\\n\\t\\t\\t&:first-child {\\n\\t\\t\\t\\tposition: sticky;\\n\\t\\t\\t\\tleft: 0;\\n\\t\\t\\t\\tbox-shadow: -1px 0 0 \", \" inset;\\n\\t\\t\\t\\tbackground-color: \", \";\\n\\t\\t\\t\\tz-index: 11;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\"])), Palette.surface['surface-light'], Palette.stroke['stroke-light'], Palette.surface['surface-light']);\n  return /*#__PURE__*/React.createElement(Page, {\n    flexDirection: \"row\"\n  }, /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: t('Permissions')\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: handleAdd,\n    \"aria-label\": t('New'),\n    name: t('New_role')\n  }, t('New_role'))), /*#__PURE__*/React.createElement(Margins, {\n    blockEnd: 16\n  }, /*#__PURE__*/React.createElement(Tabs, null, /*#__PURE__*/React.createElement(Tabs.Item, {\n    \"data-qa\": \"PermissionTable-Permissions\",\n    selected: type === 'permissions',\n    onClick: handlePermissionsTab,\n    disabled: !canViewPermission\n  }, t('Permissions')), /*#__PURE__*/React.createElement(Tabs.Item, {\n    \"data-qa\": \"PermissionTable-Settings\",\n    selected: type === 'settings',\n    onClick: handleSettingsTab,\n    disabled: !canViewSettingPermission\n  }, t('Settings')))), /*#__PURE__*/React.createElement(PageContent, {\n    mb: \"neg-x8\"\n  }, /*#__PURE__*/React.createElement(Margins, {\n    block: 8\n  }, /*#__PURE__*/React.createElement(PermissionsTableFilter, {\n    onChange: setFilter\n  }), (permissions === null || permissions === void 0 ? void 0 : permissions.length) === 0 && /*#__PURE__*/React.createElement(GenericNoResults, null), (permissions === null || permissions === void 0 ? void 0 : permissions.length) > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(GenericTable, {\n    className: [fixedColumnStyle],\n    fixed: false\n  }, /*#__PURE__*/React.createElement(GenericTableHeader, null, /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    width: \"x120\"\n  }, t('Name')), roleList === null || roleList === void 0 ? void 0 : roleList.map(_ref2 => {\n    let {\n      _id,\n      name,\n      description\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(RoleHeader, {\n      key: _id,\n      _id: _id,\n      name: name,\n      description: description\n    });\n  })), /*#__PURE__*/React.createElement(GenericTableBody, null, permissions === null || permissions === void 0 ? void 0 : permissions.map(permission => /*#__PURE__*/React.createElement(PermissionRow, {\n    key: permission._id,\n    permission: permission,\n    roleList: roleList,\n    onGrant: grantRole,\n    onRemove: removeRole\n  })))), /*#__PURE__*/React.createElement(Pagination, _extends({\n    divider: true,\n    current: current,\n    itemsPerPage: itemsPerPage,\n    count: total,\n    onSetItemsPerPage: onSetItemsPerPage,\n    onSetCurrent: onSetCurrent\n  }, paginationProps)))))), /*#__PURE__*/React.createElement(PermissionsContextBar, null));\n};\nmodule.exportDefault(PermissionsTable);","map":{"version":3,"names":["_extends","module","link","default","v","_taggedTemplateLiteral","_objectWithoutProperties","css","Margins","Tabs","Button","Pagination","Palette","useMutableCallback","useRoute","usePermission","useMethod","useTranslation","useSetModal","React","useState","GenericNoResults","GenericTable","GenericTableHeader","GenericTableHeaderCell","GenericTableBody","usePagination","Page","PageHeader","PageContent","CustomRoleUpsellModal","PermissionsContextBar","usePermissionsAndRoles","PermissionRow","PermissionsTableFilter","RoleHeader","PermissionsTable","_ref","isEnterprise","t","filter","setFilter","canViewPermission","canViewSettingPermission","defaultType","type","setType","router","setModal","grantRole","removeRole","_usePagination","current","itemsPerPage","setItemsPerPage","onSetItemsPerPage","setCurrent","onSetCurrent","paginationProps","_excluded","permissions","total","roleList","handlePermissionsTab","handleSettingsTab","handleAdd","createElement","onClose","push","context","fixedColumnStyle","_templateObject","surface","stroke","flexDirection","title","primary","onClick","name","blockEnd","Item","selected","disabled","mb","block","onChange","length","Fragment","className","fixed","width","map","_ref2","_id","description","key","permission","onGrant","onRemove","divider","count","exportDefault"],"sources":["client/views/admin/permissions/PermissionsTable/PermissionsTable.tsx"],"sourcesContent":["import { css } from '@rocket.chat/css-in-js';\nimport { Margins, Tabs, Button, Pagination, Palette } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useRoute, usePermission, useMethod, useTranslation, useSetModal } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState } from 'react';\n\nimport GenericNoResults from '../../../../components/GenericNoResults';\nimport { GenericTable, GenericTableHeader, GenericTableHeaderCell, GenericTableBody } from '../../../../components/GenericTable';\nimport { usePagination } from '../../../../components/GenericTable/hooks/usePagination';\nimport { Page, PageHeader, PageContent } from '../../../../components/Page';\nimport CustomRoleUpsellModal from '../CustomRoleUpsellModal';\nimport PermissionsContextBar from '../PermissionsContextBar';\nimport { usePermissionsAndRoles } from '../hooks/usePermissionsAndRoles';\nimport PermissionRow from './PermissionRow';\nimport PermissionsTableFilter from './PermissionsTableFilter';\nimport RoleHeader from './RoleHeader';\n\nconst PermissionsTable = ({ isEnterprise }: { isEnterprise: boolean }): ReactElement => {\n\tconst t = useTranslation();\n\tconst [filter, setFilter] = useState('');\n\tconst canViewPermission = usePermission('access-permissions');\n\tconst canViewSettingPermission = usePermission('access-setting-permissions');\n\tconst defaultType = canViewPermission ? 'permissions' : 'settings';\n\tconst [type, setType] = useState(defaultType);\n\tconst router = useRoute('admin-permissions');\n\tconst setModal = useSetModal();\n\n\tconst grantRole = useMethod('authorization:addPermissionToRole');\n\tconst removeRole = useMethod('authorization:removeRoleFromPermission');\n\n\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\n\tconst { permissions, total, roleList } = usePermissionsAndRoles(type, filter, itemsPerPage, current);\n\n\tconst handlePermissionsTab = useMutableCallback(() => {\n\t\tif (type === 'permissions') {\n\t\t\treturn;\n\t\t}\n\t\tsetType('permissions');\n\t});\n\n\tconst handleSettingsTab = useMutableCallback(() => {\n\t\tif (type === 'settings') {\n\t\t\treturn;\n\t\t}\n\t\tsetType('settings');\n\t});\n\n\tconst handleAdd = useMutableCallback(() => {\n\t\tif (!isEnterprise) {\n\t\t\tsetModal(<CustomRoleUpsellModal onClose={() => setModal(null)} />);\n\t\t\treturn;\n\t\t}\n\t\trouter.push({\n\t\t\tcontext: 'new',\n\t\t});\n\t});\n\n\tconst fixedColumnStyle = css`\n\t\ttr > th {\n\t\t\t&:first-child {\n\t\t\t\tposition: sticky;\n\t\t\t\tleft: 0;\n\t\t\t\tbackground-color: ${Palette.surface['surface-light']};\n\t\t\t\tz-index: 12;\n\t\t\t}\n\t\t}\n\t\ttr > td {\n\t\t\t&:first-child {\n\t\t\t\tposition: sticky;\n\t\t\t\tleft: 0;\n\t\t\t\tbox-shadow: -1px 0 0 ${Palette.stroke['stroke-light']} inset;\n\t\t\t\tbackground-color: ${Palette.surface['surface-light']};\n\t\t\t\tz-index: 11;\n\t\t\t}\n\t\t}\n\t`;\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={t('Permissions')}>\n\t\t\t\t\t<Button primary onClick={handleAdd} aria-label={t('New')} name={t('New_role')}>\n\t\t\t\t\t\t{t('New_role')}\n\t\t\t\t\t</Button>\n\t\t\t\t</PageHeader>\n\t\t\t\t<Margins blockEnd={16}>\n\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t<Tabs.Item\n\t\t\t\t\t\t\tdata-qa='PermissionTable-Permissions'\n\t\t\t\t\t\t\tselected={type === 'permissions'}\n\t\t\t\t\t\t\tonClick={handlePermissionsTab}\n\t\t\t\t\t\t\tdisabled={!canViewPermission}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Permissions')}\n\t\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t\t<Tabs.Item\n\t\t\t\t\t\t\tdata-qa='PermissionTable-Settings'\n\t\t\t\t\t\t\tselected={type === 'settings'}\n\t\t\t\t\t\t\tonClick={handleSettingsTab}\n\t\t\t\t\t\t\tdisabled={!canViewSettingPermission}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Settings')}\n\t\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</Margins>\n\t\t\t\t<PageContent mb='neg-x8'>\n\t\t\t\t\t<Margins block={8}>\n\t\t\t\t\t\t<PermissionsTableFilter onChange={setFilter} />\n\t\t\t\t\t\t{permissions?.length === 0 && <GenericNoResults />}\n\t\t\t\t\t\t{permissions?.length > 0 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<GenericTable className={[fixedColumnStyle]} fixed={false}>\n\t\t\t\t\t\t\t\t\t<GenericTableHeader>\n\t\t\t\t\t\t\t\t\t\t<GenericTableHeaderCell width='x120'>{t('Name')}</GenericTableHeaderCell>\n\t\t\t\t\t\t\t\t\t\t{roleList?.map(({ _id, name, description }) => (\n\t\t\t\t\t\t\t\t\t\t\t<RoleHeader key={_id} _id={_id} name={name} description={description} />\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</GenericTableHeader>\n\t\t\t\t\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t\t\t\t\t{permissions?.map((permission) => (\n\t\t\t\t\t\t\t\t\t\t\t<PermissionRow\n\t\t\t\t\t\t\t\t\t\t\t\tkey={permission._id}\n\t\t\t\t\t\t\t\t\t\t\t\tpermission={permission}\n\t\t\t\t\t\t\t\t\t\t\t\troleList={roleList}\n\t\t\t\t\t\t\t\t\t\t\t\tonGrant={grantRole}\n\t\t\t\t\t\t\t\t\t\t\t\tonRemove={removeRole}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t\t\t\t</GenericTable>\n\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\tdivider\n\t\t\t\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\t\t\t\tcount={total}\n\t\t\t\t\t\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\t\t\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t\t\t\t\t\t{...paginationProps}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Margins>\n\t\t\t\t</PageContent>\n\t\t\t</Page>\n\t\t\t<PermissionsContextBar />\n\t\t</Page>\n\t);\n};\n\nexport default PermissionsTable;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"d29b343095c6866a2072d0709506b1708a215d1c"}
