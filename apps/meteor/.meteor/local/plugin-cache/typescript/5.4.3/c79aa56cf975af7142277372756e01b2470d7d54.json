{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/marketplace/AppDetailsPage/tabs/AppRequests/AppRequests.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/marketplace/AppDetailsPage/tabs/AppRequests/AppRequests.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/marketplace/AppDetailsPage/tabs/AppRequests/AppRequests.tsx","inputSourceMap":{"version":3,"file":"client/views/marketplace/AppDetailsPage/tabs/AppRequests/AppRequests.tsx","sourceRoot":"","sources":["client/views/marketplace/AppDetailsPage/tabs/AppRequests/AppRequests.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { App } from '@rocket.chat/core-typings';\nimport { Box, Pagination, States, StatesSubtitle, StatesTitle } from '@rocket.chat/fuselage';\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\nimport type { ReactElement, SetStateAction } from 'react';\nimport React, { useState, useEffect } from 'react';\n\nimport { useAppsReload } from '../../../../../contexts/hooks/useAppsReload';\nimport { queryClient } from '../../../../../lib/queryClient';\nimport { useAppRequests } from '../../../hooks/useAppRequests';\nimport AppRequestItem from './AppRequestItem';\nimport AppRequestsLoading from './AppRequestsLoading';\n\ntype itemsPerPage = 25 | 50 | 100;\n\nconst AppRequests = ({ id, isAdminUser }: { id: App['id']; isAdminUser: boolean }): ReactElement => {\n\tconst [limit, setLimit] = useState<itemsPerPage>(25);\n\tconst [offset, setOffset] = useState<number>(0);\n\n\tconst paginatedAppRequests = useAppRequests(id, limit, offset);\n\tconst t = useTranslation();\n\n\tconst onSetItemsPerPage = (itemsPerPageOption: SetStateAction<itemsPerPage>) => setLimit(itemsPerPageOption);\n\tconst onSetCurrent = (currentItemsOption: SetStateAction<number>) => setOffset(currentItemsOption);\n\n\tconst reloadApps = useAppsReload();\n\tconst markSeen = useEndpoint('POST', '/apps/app-request/markAsSeen');\n\tconst markAppRequestsAsSeen = useMutation({\n\t\tmutationKey: ['mark-app-requests-as-seen'],\n\t\tmutationFn: (unseenRequests: Array<string>) => markSeen({ unseenRequests }),\n\t\tretry: false,\n\t});\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (isAdminUser && paginatedAppRequests.isSuccess) {\n\t\t\t\tconst unseenRequests = paginatedAppRequests.data.data.filter(({ seen }) => !seen).map(({ id }) => id);\n\n\t\t\t\tif (unseenRequests.length) {\n\t\t\t\t\tmarkAppRequestsAsSeen.mutate(unseenRequests, {\n\t\t\t\t\t\tonSuccess: () => {\n\t\t\t\t\t\t\tqueryClient.refetchQueries({ queryKey: ['app-requests-stats'] });\n\t\t\t\t\t\t\treloadApps();\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isAdminUser, paginatedAppRequests.isSuccess, paginatedAppRequests?.data, reloadApps]);\n\n\tif (paginatedAppRequests.isLoading) {\n\t\treturn (\n\t\t\t<Box w='full' maxWidth='x608' marginInline='auto' pbs={36}>\n\t\t\t\t<AppRequestsLoading />\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Box h='full' display='flex' flexDirection='column'>\n\t\t\t<Box w='full' maxWidth='x608' marginInline='auto' pbs={36} flexGrow='1'>\n\t\t\t\t{paginatedAppRequests.isSuccess && paginatedAppRequests.data.data?.length ? (\n\t\t\t\t\tpaginatedAppRequests.data.data.map((request) => (\n\t\t\t\t\t\t<AppRequestItem\n\t\t\t\t\t\t\tkey={request.id}\n\t\t\t\t\t\t\tseen={request.seen}\n\t\t\t\t\t\t\tname={request.requester.name}\n\t\t\t\t\t\t\tcreatedDate={request.createdDate}\n\t\t\t\t\t\t\tmessage={request.message}\n\t\t\t\t\t\t\tusername={request.requester.username}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t) : (\n\t\t\t\t\t<States>\n\t\t\t\t\t\t<StatesTitle>{t('No_requests')}</StatesTitle>\n\t\t\t\t\t\t<StatesSubtitle>{t('App_requests_by_workspace')}</StatesSubtitle>\n\t\t\t\t\t</States>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t{paginatedAppRequests.isSuccess && paginatedAppRequests.data.data?.length && (\n\t\t\t\t<Pagination\n\t\t\t\t\tdivider\n\t\t\t\t\tcount={paginatedAppRequests.data.meta.total}\n\t\t\t\t\titemsPerPage={paginatedAppRequests.data.meta.limit}\n\t\t\t\t\tcurrent={paginatedAppRequests.data.meta.offset}\n\t\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Box>\n\t);\n};\n\nexport default AppRequests;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/marketplace/AppDetailsPage/tabs/AppRequests/AppRequests.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/marketplace/AppDetailsPage/tabs/AppRequests/AppRequests.tsx","inputSourceMap":{"version":3,"file":"client/views/marketplace/AppDetailsPage/tabs/AppRequests/AppRequests.tsx","sourceRoot":"","sources":["client/views/marketplace/AppDetailsPage/tabs/AppRequests/AppRequests.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { App } from '@rocket.chat/core-typings';\nimport { Box, Pagination, States, StatesSubtitle, StatesTitle } from '@rocket.chat/fuselage';\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\nimport type { ReactElement, SetStateAction } from 'react';\nimport React, { useState, useEffect } from 'react';\n\nimport { useAppsReload } from '../../../../../contexts/hooks/useAppsReload';\nimport { queryClient } from '../../../../../lib/queryClient';\nimport { useAppRequests } from '../../../hooks/useAppRequests';\nimport AppRequestItem from './AppRequestItem';\nimport AppRequestsLoading from './AppRequestsLoading';\n\ntype itemsPerPage = 25 | 50 | 100;\n\nconst AppRequests = ({ id, isAdminUser }: { id: App['id']; isAdminUser: boolean }): ReactElement => {\n\tconst [limit, setLimit] = useState<itemsPerPage>(25);\n\tconst [offset, setOffset] = useState<number>(0);\n\n\tconst paginatedAppRequests = useAppRequests(id, limit, offset);\n\tconst t = useTranslation();\n\n\tconst onSetItemsPerPage = (itemsPerPageOption: SetStateAction<itemsPerPage>) => setLimit(itemsPerPageOption);\n\tconst onSetCurrent = (currentItemsOption: SetStateAction<number>) => setOffset(currentItemsOption);\n\n\tconst reloadApps = useAppsReload();\n\tconst markSeen = useEndpoint('POST', '/apps/app-request/markAsSeen');\n\tconst markAppRequestsAsSeen = useMutation({\n\t\tmutationKey: ['mark-app-requests-as-seen'],\n\t\tmutationFn: (unseenRequests: Array<string>) => markSeen({ unseenRequests }),\n\t\tretry: false,\n\t});\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (isAdminUser && paginatedAppRequests.isSuccess) {\n\t\t\t\tconst unseenRequests = paginatedAppRequests.data.data.filter(({ seen }) => !seen).map(({ id }) => id);\n\n\t\t\t\tif (unseenRequests.length) {\n\t\t\t\t\tmarkAppRequestsAsSeen.mutate(unseenRequests, {\n\t\t\t\t\t\tonSuccess: () => {\n\t\t\t\t\t\t\tqueryClient.refetchQueries({ queryKey: ['app-requests-stats'] });\n\t\t\t\t\t\t\treloadApps();\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isAdminUser, paginatedAppRequests.isSuccess, paginatedAppRequests?.data, reloadApps]);\n\n\tif (paginatedAppRequests.isLoading) {\n\t\treturn (\n\t\t\t<Box w='full' maxWidth='x608' marginInline='auto' pbs={36}>\n\t\t\t\t<AppRequestsLoading />\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Box h='full' display='flex' flexDirection='column'>\n\t\t\t<Box w='full' maxWidth='x608' marginInline='auto' pbs={36} flexGrow='1'>\n\t\t\t\t{paginatedAppRequests.isSuccess && paginatedAppRequests.data.data?.length ? (\n\t\t\t\t\tpaginatedAppRequests.data.data.map((request) => (\n\t\t\t\t\t\t<AppRequestItem\n\t\t\t\t\t\t\tkey={request.id}\n\t\t\t\t\t\t\tseen={request.seen}\n\t\t\t\t\t\t\tname={request.requester.name}\n\t\t\t\t\t\t\tcreatedDate={request.createdDate}\n\t\t\t\t\t\t\tmessage={request.message}\n\t\t\t\t\t\t\tusername={request.requester.username}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t) : (\n\t\t\t\t\t<States>\n\t\t\t\t\t\t<StatesTitle>{t('No_requests')}</StatesTitle>\n\t\t\t\t\t\t<StatesSubtitle>{t('App_requests_by_workspace')}</StatesSubtitle>\n\t\t\t\t\t</States>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t{paginatedAppRequests.isSuccess && paginatedAppRequests.data.data?.length && (\n\t\t\t\t<Pagination\n\t\t\t\t\tdivider\n\t\t\t\t\tcount={paginatedAppRequests.data.meta.total}\n\t\t\t\t\titemsPerPage={paginatedAppRequests.data.meta.limit}\n\t\t\t\t\tcurrent={paginatedAppRequests.data.meta.offset}\n\t\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Box>\n\t);\n};\n\nexport default AppRequests;\n"]}}},"code":"let Box, Pagination, States, StatesSubtitle, StatesTitle;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box(v) {\n    Box = v;\n  },\n  Pagination(v) {\n    Pagination = v;\n  },\n  States(v) {\n    States = v;\n  },\n  StatesSubtitle(v) {\n    StatesSubtitle = v;\n  },\n  StatesTitle(v) {\n    StatesTitle = v;\n  }\n}, 0);\nlet useEndpoint, useTranslation;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useEndpoint(v) {\n    useEndpoint = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 1);\nlet useMutation;\nmodule.link(\"@tanstack/react-query\", {\n  useMutation(v) {\n    useMutation = v;\n  }\n}, 2);\nlet React, useState, useEffect;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useState(v) {\n    useState = v;\n  },\n  useEffect(v) {\n    useEffect = v;\n  }\n}, 3);\nlet useAppsReload;\nmodule.link(\"../../../../../contexts/hooks/useAppsReload\", {\n  useAppsReload(v) {\n    useAppsReload = v;\n  }\n}, 4);\nlet queryClient;\nmodule.link(\"../../../../../lib/queryClient\", {\n  queryClient(v) {\n    queryClient = v;\n  }\n}, 5);\nlet useAppRequests;\nmodule.link(\"../../../hooks/useAppRequests\", {\n  useAppRequests(v) {\n    useAppRequests = v;\n  }\n}, 6);\nlet AppRequestItem;\nmodule.link(\"./AppRequestItem\", {\n  default(v) {\n    AppRequestItem = v;\n  }\n}, 7);\nlet AppRequestsLoading;\nmodule.link(\"./AppRequestsLoading\", {\n  default(v) {\n    AppRequestsLoading = v;\n  }\n}, 8);\nconst AppRequests = _ref => {\n  var _paginatedAppRequests, _paginatedAppRequests2;\n  let {\n    id,\n    isAdminUser\n  } = _ref;\n  const [limit, setLimit] = useState(25);\n  const [offset, setOffset] = useState(0);\n  const paginatedAppRequests = useAppRequests(id, limit, offset);\n  const t = useTranslation();\n  const onSetItemsPerPage = itemsPerPageOption => setLimit(itemsPerPageOption);\n  const onSetCurrent = currentItemsOption => setOffset(currentItemsOption);\n  const reloadApps = useAppsReload();\n  const markSeen = useEndpoint('POST', '/apps/app-request/markAsSeen');\n  const markAppRequestsAsSeen = useMutation({\n    mutationKey: ['mark-app-requests-as-seen'],\n    mutationFn: unseenRequests => markSeen({\n      unseenRequests\n    }),\n    retry: false\n  });\n  useEffect(() => {\n    return () => {\n      if (isAdminUser && paginatedAppRequests.isSuccess) {\n        const unseenRequests = paginatedAppRequests.data.data.filter(_ref2 => {\n          let {\n            seen\n          } = _ref2;\n          return !seen;\n        }).map(_ref3 => {\n          let {\n            id\n          } = _ref3;\n          return id;\n        });\n        if (unseenRequests.length) {\n          markAppRequestsAsSeen.mutate(unseenRequests, {\n            onSuccess: () => {\n              queryClient.refetchQueries({\n                queryKey: ['app-requests-stats']\n              });\n              reloadApps();\n            }\n          });\n        }\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isAdminUser, paginatedAppRequests.isSuccess, paginatedAppRequests === null || paginatedAppRequests === void 0 ? void 0 : paginatedAppRequests.data, reloadApps]);\n  if (paginatedAppRequests.isLoading) {\n    return /*#__PURE__*/React.createElement(Box, {\n      w: \"full\",\n      maxWidth: \"x608\",\n      marginInline: \"auto\",\n      pbs: 36\n    }, /*#__PURE__*/React.createElement(AppRequestsLoading, null));\n  }\n  return /*#__PURE__*/React.createElement(Box, {\n    h: \"full\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    w: \"full\",\n    maxWidth: \"x608\",\n    marginInline: \"auto\",\n    pbs: 36,\n    flexGrow: \"1\"\n  }, paginatedAppRequests.isSuccess && (_paginatedAppRequests = paginatedAppRequests.data.data) !== null && _paginatedAppRequests !== void 0 && _paginatedAppRequests.length ? paginatedAppRequests.data.data.map(request => /*#__PURE__*/React.createElement(AppRequestItem, {\n    key: request.id,\n    seen: request.seen,\n    name: request.requester.name,\n    createdDate: request.createdDate,\n    message: request.message,\n    username: request.requester.username\n  })) : /*#__PURE__*/React.createElement(States, null, /*#__PURE__*/React.createElement(StatesTitle, null, t('No_requests')), /*#__PURE__*/React.createElement(StatesSubtitle, null, t('App_requests_by_workspace')))), paginatedAppRequests.isSuccess && ((_paginatedAppRequests2 = paginatedAppRequests.data.data) === null || _paginatedAppRequests2 === void 0 ? void 0 : _paginatedAppRequests2.length) && /*#__PURE__*/React.createElement(Pagination, {\n    divider: true,\n    count: paginatedAppRequests.data.meta.total,\n    itemsPerPage: paginatedAppRequests.data.meta.limit,\n    current: paginatedAppRequests.data.meta.offset,\n    onSetItemsPerPage: onSetItemsPerPage,\n    onSetCurrent: onSetCurrent\n  }));\n};\nmodule.exportDefault(AppRequests);","map":{"version":3,"names":["Box","Pagination","States","StatesSubtitle","StatesTitle","module","link","v","useEndpoint","useTranslation","useMutation","React","useState","useEffect","default","useAppsReload","queryClient","useAppRequests","AppRequestItem","AppRequestsLoading","AppRequests","_ref","_paginatedAppRequests","_paginatedAppRequests2","id","isAdminUser","limit","setLimit","offset","setOffset","paginatedAppRequests","t","onSetItemsPerPage","itemsPerPageOption","onSetCurrent","currentItemsOption","reloadApps","markSeen","markAppRequestsAsSeen","mutationKey","mutationFn","unseenRequests","retry","isSuccess","data","filter","_ref2","seen","map","_ref3","length","mutate","onSuccess","refetchQueries","queryKey","isLoading","createElement","w","maxWidth","marginInline","pbs","h","display","flexDirection","flexGrow","request","key","name","requester","createdDate","message","username","divider","count","meta","total","itemsPerPage","current","exportDefault"],"sources":["client/views/marketplace/AppDetailsPage/tabs/AppRequests/AppRequests.tsx"],"sourcesContent":["import type { App } from '@rocket.chat/core-typings';\nimport { Box, Pagination, States, StatesSubtitle, StatesTitle } from '@rocket.chat/fuselage';\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\nimport type { ReactElement, SetStateAction } from 'react';\nimport React, { useState, useEffect } from 'react';\n\nimport { useAppsReload } from '../../../../../contexts/hooks/useAppsReload';\nimport { queryClient } from '../../../../../lib/queryClient';\nimport { useAppRequests } from '../../../hooks/useAppRequests';\nimport AppRequestItem from './AppRequestItem';\nimport AppRequestsLoading from './AppRequestsLoading';\n\ntype itemsPerPage = 25 | 50 | 100;\n\nconst AppRequests = ({ id, isAdminUser }: { id: App['id']; isAdminUser: boolean }): ReactElement => {\n\tconst [limit, setLimit] = useState<itemsPerPage>(25);\n\tconst [offset, setOffset] = useState<number>(0);\n\n\tconst paginatedAppRequests = useAppRequests(id, limit, offset);\n\tconst t = useTranslation();\n\n\tconst onSetItemsPerPage = (itemsPerPageOption: SetStateAction<itemsPerPage>) => setLimit(itemsPerPageOption);\n\tconst onSetCurrent = (currentItemsOption: SetStateAction<number>) => setOffset(currentItemsOption);\n\n\tconst reloadApps = useAppsReload();\n\tconst markSeen = useEndpoint('POST', '/apps/app-request/markAsSeen');\n\tconst markAppRequestsAsSeen = useMutation({\n\t\tmutationKey: ['mark-app-requests-as-seen'],\n\t\tmutationFn: (unseenRequests: Array<string>) => markSeen({ unseenRequests }),\n\t\tretry: false,\n\t});\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (isAdminUser && paginatedAppRequests.isSuccess) {\n\t\t\t\tconst unseenRequests = paginatedAppRequests.data.data.filter(({ seen }) => !seen).map(({ id }) => id);\n\n\t\t\t\tif (unseenRequests.length) {\n\t\t\t\t\tmarkAppRequestsAsSeen.mutate(unseenRequests, {\n\t\t\t\t\t\tonSuccess: () => {\n\t\t\t\t\t\t\tqueryClient.refetchQueries({ queryKey: ['app-requests-stats'] });\n\t\t\t\t\t\t\treloadApps();\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isAdminUser, paginatedAppRequests.isSuccess, paginatedAppRequests?.data, reloadApps]);\n\n\tif (paginatedAppRequests.isLoading) {\n\t\treturn (\n\t\t\t<Box w='full' maxWidth='x608' marginInline='auto' pbs={36}>\n\t\t\t\t<AppRequestsLoading />\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Box h='full' display='flex' flexDirection='column'>\n\t\t\t<Box w='full' maxWidth='x608' marginInline='auto' pbs={36} flexGrow='1'>\n\t\t\t\t{paginatedAppRequests.isSuccess && paginatedAppRequests.data.data?.length ? (\n\t\t\t\t\tpaginatedAppRequests.data.data.map((request) => (\n\t\t\t\t\t\t<AppRequestItem\n\t\t\t\t\t\t\tkey={request.id}\n\t\t\t\t\t\t\tseen={request.seen}\n\t\t\t\t\t\t\tname={request.requester.name}\n\t\t\t\t\t\t\tcreatedDate={request.createdDate}\n\t\t\t\t\t\t\tmessage={request.message}\n\t\t\t\t\t\t\tusername={request.requester.username}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t) : (\n\t\t\t\t\t<States>\n\t\t\t\t\t\t<StatesTitle>{t('No_requests')}</StatesTitle>\n\t\t\t\t\t\t<StatesSubtitle>{t('App_requests_by_workspace')}</StatesSubtitle>\n\t\t\t\t\t</States>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t{paginatedAppRequests.isSuccess && paginatedAppRequests.data.data?.length && (\n\t\t\t\t<Pagination\n\t\t\t\t\tdivider\n\t\t\t\t\tcount={paginatedAppRequests.data.meta.total}\n\t\t\t\t\titemsPerPage={paginatedAppRequests.data.meta.limit}\n\t\t\t\t\tcurrent={paginatedAppRequests.data.meta.offset}\n\t\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Box>\n\t);\n};\n\nexport default AppRequests;\n"],"mappings":"AACA,IAAAA,GAAO,EAAAC,UAAO,EAAAC,MAAU,EAAEC,cAAQ,EAAAC,WAAgB;AAAAC,MAAA,CAAAC,IAAa,wBAAM;EAAAN,GAAwBA,CAAAO,CAAA;IAAAP,GAAA,GAAAO,CAAA;EAAA;EAAAN,WAAAM,CAAA;IAAAN,UAAA,GAAAM,CAAA;EAAA;EAAAL,OAAAK,CAAA;IAAAL,MAAA,GAAAK,CAAA;EAAA;EAAAJ,eAAAI,CAAA;IAAAJ,cAAA,GAAAI,CAAA;EAAA;EAAAH,YAAAG,CAAA;IAAAH,WAAA,GAAAG,CAAA;EAAA;AAAA;AAAA,IAAAC,WAAA,EAAAC,cAAA;AAAAJ,MAAA,CAAAC,IAAA;EAAAE,YAAAD,CAAA;IAAAC,WAAA,GAAAD,CAAA;EAAA;EAAAE,eAAAF,CAAA;IAAAE,cAAA,GAAAF,CAAA;EAAA;AAAA;AAAA,IAAAG,WAAA;AAAAL,MAAA,CAAAC,IAAA;EAAAI,YAAAH,CAAA;IAAAG,WAAA,GAAAH,CAAA;EAAA;AAAA;AAAA,IAAAI,KAAA,EAAAC,QAAA,EAAAC,SAAA;AAAAR,MAAA,CAAAC,IAAA;EAAAQ,QAAAP,CAAA;IAAAI,KAAA,GAAAJ,CAAA;EAAA;EAAAK,SAAAL,CAAA;IAAAK,QAAA,GAAAL,CAAA;EAAA;EAAAM,UAAAN,CAAA;IAAAM,SAAA,GAAAN,CAAA;EAAA;AAAA;AAAA,IAAAQ,aAAA;AAAAV,MAAA,CAAAC,IAAA;EAAAS,cAAAR,CAAA;IAAAQ,aAAA,GAAAR,CAAA;EAAA;AAAA;AAAA,IAAAS,WAAA;AAAAX,MAAA,CAAAC,IAAA;EAAAU,YAAAT,CAAA;IAAAS,WAAA,GAAAT,CAAA;EAAA;AAAA;AAAA,IAAAU,cAAA;AAAAZ,MAAA,CAAAC,IAAA;EAAAW,eAAAV,CAAA;IAAAU,cAAA,GAAAV,CAAA;EAAA;AAAA;AAAA,IAAAW,cAAA;AAAAb,MAAA,CAAAC,IAAA;EAAAQ,QAAAP,CAAA;IAAAW,cAAA,GAAAX,CAAA;EAAA;AAAA;AAAA,IAAAY,kBAAA;AAAAd,MAAA,CAAAC,IAAA;EAAAQ,QAAAP,CAAA;IAAAY,kBAAA,GAAAZ,CAAA;EAAA;AAAA;AAc7F,MAAMa,WAAW,GAAGC,IAAA,IAA+E;EAAA,IAAAC,qBAAA,EAAAC,sBAAA;EAAA,IAA9E;IAAEC,EAAE;IAAEC;EAAW,CAA2C,GAAAJ,IAAA;EAChF,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAe,EAAE,CAAC;EACpD,MAAM,CAACgB,MAAM,EAAEC,SAAS,CAAC,GAAGjB,QAAQ,CAAS,CAAC,CAAC;EAE/C,MAAMkB,oBAAoB,GAAGb,cAAc,CAACO,EAAE,EAAEE,KAAK,EAAEE,MAAM,CAAC;EAC9D,MAAMG,CAAC,GAAGtB,cAAc,EAAE;EAE1B,MAAMuB,iBAAiB,GAAIC,kBAAgD,IAAKN,QAAQ,CAACM,kBAAkB,CAAC;EAC5G,MAAMC,YAAY,GAAIC,kBAA0C,IAAKN,SAAS,CAACM,kBAAkB,CAAC;EAElG,MAAMC,UAAU,GAAGrB,aAAa,EAAE;EAClC,MAAMsB,QAAQ,GAAG7B,WAAW,CAAC,MAAM,EAAE,8BAA8B,CAAC;EACpE,MAAM8B,qBAAqB,GAAG5B,WAAW,CAAC;IACzC6B,WAAW,EAAE,CAAC,2BAA2B,CAAC;IAC1CC,UAAU,EAAGC,cAA6B,IAAKJ,QAAQ,CAAC;MAAEI;IAAc,CAAE,CAAC;IAC3EC,KAAK,EAAE;GACP,CAAC;EACF7B,SAAS,CAAC,MAAK;IACd,OAAO,MAAK;MACX,IAAIY,WAAW,IAAIK,oBAAoB,CAACa,SAAS,EAAE;QAClD,MAAMF,cAAc,GAAGX,oBAAoB,CAACc,IAAI,CAACA,IAAI,CAACC,MAAM,CAACC,KAAA;UAAA,IAAC;YAAEC;UAAI,CAAE,GAAAD,KAAA;UAAA,OAAK,CAACC,IAAI;QAAA,EAAC,CAACC,GAAG,CAACC,KAAA;UAAA,IAAC;YAAEzB;UAAE,CAAE,GAAAyB,KAAA;UAAA,OAAKzB,EAAE;QAAA,EAAC;QAErG,IAAIiB,cAAc,CAACS,MAAM,EAAE;UAC1BZ,qBAAqB,CAACa,MAAM,CAACV,cAAc,EAAE;YAC5CW,SAAS,EAAEA,CAAA,KAAK;cACfpC,WAAW,CAACqC,cAAc,CAAC;gBAAEC,QAAQ,EAAE,CAAC,oBAAoB;cAAC,CAAE,CAAC;cAChElB,UAAU,EAAE;YACb;WACA,CAAC;QACH;MACD;IACD,CAAC;IACD;EACD,CAAC,EAAE,CAACX,WAAW,EAAEK,oBAAoB,CAACa,SAAS,EAAEb,oBAAoB,aAApBA,oBAAoB,uBAApBA,oBAAoB,CAAEc,IAAI,EAAER,UAAU,CAAC,CAAC;EAEzF,IAAIN,oBAAoB,CAACyB,SAAS,EAAE;IACnC,oBACC5C,KAAA,CAAA6C,aAAA,CAACxD,GAAG;MAACyD,CAAC,EAAC,MAAM;MAACC,QAAQ,EAAC,MAAM;MAACC,YAAY,EAAC,MAAM;MAACC,GAAG,EAAE;IAAG,gBACzDjD,KAAA,CAAA6C,aAAA,CAACrC,kBAAkB,OACf,CAAC;EAER;EAEA,oBACCR,KAAA,CAAA6C,aAAA,CAACxD,GAAG;IAAC6D,CAAC,EAAC,MAAM;IAACC,OAAO,EAAC,MAAM;IAACC,aAAa,EAAC;EAAQ,gBAClDpD,KAAA,CAAA6C,aAAA,CAACxD,GAAG;IAACyD,CAAC,EAAC,MAAM;IAACC,QAAQ,EAAC,MAAM;IAACC,YAAY,EAAC,MAAM;IAACC,GAAG,EAAE,EAAG;IAACI,QAAQ,EAAC;EAAG,GACrElC,oBAAoB,CAACa,SAAS,KAAArB,qBAAA,GAAIQ,oBAAoB,CAACc,IAAI,CAACA,IAAI,cAAAtB,qBAAA,eAA9BA,qBAAA,CAAgC4B,MAAM,GACxEpB,oBAAoB,CAACc,IAAI,CAACA,IAAI,CAACI,GAAG,CAAEiB,OAAO,iBAC1CtD,KAAA,CAAA6C,aAAA,CAACtC,cAAc;IACdgD,GAAG,EAAED,OAAO,CAACzC,EAAG;IAChBuB,IAAI,EAAEkB,OAAO,CAAClB,IAAK;IACnBoB,IAAI,EAAEF,OAAO,CAACG,SAAS,CAACD,IAAK;IAC7BE,WAAW,EAAEJ,OAAO,CAACI,WAAY;IACjCC,OAAO,EAAEL,OAAO,CAACK,OAAQ;IACzBC,QAAQ,EAAEN,OAAO,CAACG,SAAS,CAACG;EAAS,EAEtC,CAAC,gBAEF5D,KAAA,CAAA6C,aAAA,CAACtD,MAAM,qBACNS,KAAA,CAAA6C,aAAA,CAACpD,WAAW,QAAE2B,CAAC,CAAC,aAAa,CAAe,CAC5C,eAAApB,KAAA,CAAA6C,aAAA,CAACrD,cAAc,QAAE4B,CAAC,CAAC,2BAA2B,CAAkB,CACzD,CAEL,CACL,EAACD,oBAAoB,CAACa,SAAS,MAAApB,sBAAA,GAAIO,oBAAoB,CAACc,IAAI,CAACA,IAAI,cAAArB,sBAAA,uBAA9BA,sBAAA,CAAgC2B,MAAM,kBACxEvC,KAAA,CAAA6C,aAAA,CAACvD,UAAU;IACVuE,OAAO;IACPC,KAAK,EAAE3C,oBAAoB,CAACc,IAAI,CAAC8B,IAAI,CAACC,KAAM;IAC5CC,YAAY,EAAE9C,oBAAoB,CAACc,IAAI,CAAC8B,IAAI,CAAChD,KAAM;IACnDmD,OAAO,EAAE/C,oBAAoB,CAACc,IAAI,CAAC8B,IAAI,CAAC9C,MAAO;IAC/CI,iBAAiB,EAAEA,iBAAkB;IACrCE,YAAY,EAAEA;EAAa,EAGzB,CAAC;AAER,CAAC;AA1FD7B,MAAA,CAAOyE,aAAO,CA4FC1D,WA5FS","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"c79aa56cf975af7142277372756e01b2470d7d54"}
