{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/mailer/MailerPage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/admin/mailer/MailerPage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/mailer/MailerPage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/mailer/MailerPage.tsx","sourceRoot":"","sources":["client/views/admin/mailer/MailerPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n\tTextInput,\n\tTextAreaInput,\n\tField,\n\tFieldGroup,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tFieldHint,\n\tCheckBox,\n\tButton,\n\tButtonGroup,\n\tBox,\n} from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\nimport React from 'react';\nimport { Controller, useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport { isJSON } from '../../../../lib/utils/isJSON';\nimport { Page, PageHeader, PageScrollableContentWithShadow, PageFooter } from '../../../components/Page';\n\nexport type SendEmailFormValue = {\n\tfromEmail: string;\n\tsubject: string;\n\temailBody: string;\n\tdryRun: boolean;\n\tquery?: string;\n};\n\nconst initialData = { fromEmail: '', query: '', dryRun: false, subject: '', emailBody: '' };\n\nconst MailerPage = () => {\n\tconst { t } = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst {\n\t\tregister,\n\t\tformState: { errors, isDirty },\n\t\thandleSubmit,\n\t\treset,\n\t\tcontrol,\n\t} = useForm({ defaultValues: initialData, mode: 'onBlur' });\n\n\tconst mailerEndpoint = useEndpoint('POST', '/v1/mailer');\n\tconst sendMailAction = useMutation({\n\t\tmutationFn: mailerEndpoint,\n\t\tonSuccess: () => {\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('The_emails_are_being_sent'),\n\t\t\t});\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleSendEmail = async ({ fromEmail, subject, emailBody, dryRun, query }: SendEmailFormValue) => {\n\t\tsendMailAction.mutateAsync({ from: fromEmail, subject, body: emailBody, dryrun: dryRun, query });\n\t};\n\n\tconst mailerFormId = useUniqueId();\n\tconst fromEmailId = useUniqueId();\n\tconst queryId = useUniqueId();\n\tconst dryRunId = useUniqueId();\n\tconst subjectId = useUniqueId();\n\tconst emailBodyId = useUniqueId();\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Mailer')} />\n\t\t\t<PageScrollableContentWithShadow alignSelf='center' w='100%' display='flex' flexDirection='column' alignItems='center'>\n\t\t\t\t<Box id={mailerFormId} is='form' autoComplete='off' maxWidth='x600' onSubmit={handleSubmit(handleSendEmail)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={fromEmailId}>\n\t\t\t\t\t\t\t\t{t('From')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={fromEmailId}\n\t\t\t\t\t\t\t\t\tplaceholder={t('Type_your_email')}\n\t\t\t\t\t\t\t\t\t{...register('fromEmail', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('From') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (fromEmail) => (validateEmail(fromEmail) ? undefined : t('error-invalid-email-address')),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terror={errors.fromEmail?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.fromEmail ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\taria-describedby={`${fromEmailId}-error`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.fromEmail && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${fromEmailId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.fromEmail.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={dryRunId}>{t('Dry_run')}</FieldLabel>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='dryRun'\n\t\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<CheckBox aria-describedby={`${dryRunId}-hint`} ref={ref} id={dryRunId} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t<FieldHint id={`${dryRunId}-hint`}>{t('Dry_run_description')}</FieldHint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={queryId}>{t('Query')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={queryId}\n\t\t\t\t\t\t\t\t\t{...register('query', {\n\t\t\t\t\t\t\t\t\t\tvalidate: (query) => (query && query !== '' && !isJSON(query) ? t('Query_is_not_valid_JSON') : true),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terror={errors.query?.message}\n\t\t\t\t\t\t\t\t\taria-describedby={`${queryId}-error ${queryId}-hint`}\n\t\t\t\t\t\t\t\t\taria-invalid={errors.query ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.query && (\n\t\t\t\t\t\t\t\t<FieldError id={`${queryId}-error`} aria-live='assertive'>\n\t\t\t\t\t\t\t\t\t{errors.query.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FieldHint id={`${queryId}-hint`}>{t('Query_description')}</FieldHint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={subjectId}>\n\t\t\t\t\t\t\t\t{t('Subject')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={subjectId}\n\t\t\t\t\t\t\t\t\t{...register('subject', { required: t('Required_field', { field: t('Subject') }) })}\n\t\t\t\t\t\t\t\t\taria-describedby={`${subjectId}-error`}\n\t\t\t\t\t\t\t\t\terror={errors.subject?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.subject ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.subject && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${subjectId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.subject.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={emailBodyId}>\n\t\t\t\t\t\t\t\t{t('Email_body')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextAreaInput\n\t\t\t\t\t\t\t\t\tid={emailBodyId}\n\t\t\t\t\t\t\t\t\t{...register('emailBody', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Email_body') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (emailBody) => (emailBody?.indexOf('[unsubscribe]') === -1 ? t('error-missing-unsubscribe-link') : true),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\trows={10}\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailBodyId}-error ${emailBodyId}-hint`}\n\t\t\t\t\t\t\t\t\terror={errors.emailBody?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.emailBody ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.emailBody && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${emailBodyId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.emailBody.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FieldHint id={`${emailBodyId}-hint`} dangerouslySetInnerHTML={{ __html: t('Mailer_body_tags') }} />\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t\t<PageFooter isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => reset(initialData)}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={mailerFormId} primary type='submit'>\n\t\t\t\t\t\t{t('Send_email')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageFooter>\n\t\t</Page>\n\t);\n};\n\nexport default MailerPage;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/mailer/MailerPage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/mailer/MailerPage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/mailer/MailerPage.tsx","sourceRoot":"","sources":["client/views/admin/mailer/MailerPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n\tTextInput,\n\tTextAreaInput,\n\tField,\n\tFieldGroup,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tFieldHint,\n\tCheckBox,\n\tButton,\n\tButtonGroup,\n\tBox,\n} from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\nimport React from 'react';\nimport { Controller, useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport { isJSON } from '../../../../lib/utils/isJSON';\nimport { Page, PageHeader, PageScrollableContentWithShadow, PageFooter } from '../../../components/Page';\n\nexport type SendEmailFormValue = {\n\tfromEmail: string;\n\tsubject: string;\n\temailBody: string;\n\tdryRun: boolean;\n\tquery?: string;\n};\n\nconst initialData = { fromEmail: '', query: '', dryRun: false, subject: '', emailBody: '' };\n\nconst MailerPage = () => {\n\tconst { t } = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst {\n\t\tregister,\n\t\tformState: { errors, isDirty },\n\t\thandleSubmit,\n\t\treset,\n\t\tcontrol,\n\t} = useForm({ defaultValues: initialData, mode: 'onBlur' });\n\n\tconst mailerEndpoint = useEndpoint('POST', '/v1/mailer');\n\tconst sendMailAction = useMutation({\n\t\tmutationFn: mailerEndpoint,\n\t\tonSuccess: () => {\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('The_emails_are_being_sent'),\n\t\t\t});\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleSendEmail = async ({ fromEmail, subject, emailBody, dryRun, query }: SendEmailFormValue) => {\n\t\tsendMailAction.mutateAsync({ from: fromEmail, subject, body: emailBody, dryrun: dryRun, query });\n\t};\n\n\tconst mailerFormId = useUniqueId();\n\tconst fromEmailId = useUniqueId();\n\tconst queryId = useUniqueId();\n\tconst dryRunId = useUniqueId();\n\tconst subjectId = useUniqueId();\n\tconst emailBodyId = useUniqueId();\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Mailer')} />\n\t\t\t<PageScrollableContentWithShadow alignSelf='center' w='100%' display='flex' flexDirection='column' alignItems='center'>\n\t\t\t\t<Box id={mailerFormId} is='form' autoComplete='off' maxWidth='x600' onSubmit={handleSubmit(handleSendEmail)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={fromEmailId}>\n\t\t\t\t\t\t\t\t{t('From')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={fromEmailId}\n\t\t\t\t\t\t\t\t\tplaceholder={t('Type_your_email')}\n\t\t\t\t\t\t\t\t\t{...register('fromEmail', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('From') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (fromEmail) => (validateEmail(fromEmail) ? undefined : t('error-invalid-email-address')),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terror={errors.fromEmail?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.fromEmail ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\taria-describedby={`${fromEmailId}-error`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.fromEmail && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${fromEmailId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.fromEmail.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={dryRunId}>{t('Dry_run')}</FieldLabel>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='dryRun'\n\t\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<CheckBox aria-describedby={`${dryRunId}-hint`} ref={ref} id={dryRunId} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t<FieldHint id={`${dryRunId}-hint`}>{t('Dry_run_description')}</FieldHint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={queryId}>{t('Query')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={queryId}\n\t\t\t\t\t\t\t\t\t{...register('query', {\n\t\t\t\t\t\t\t\t\t\tvalidate: (query) => (query && query !== '' && !isJSON(query) ? t('Query_is_not_valid_JSON') : true),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terror={errors.query?.message}\n\t\t\t\t\t\t\t\t\taria-describedby={`${queryId}-error ${queryId}-hint`}\n\t\t\t\t\t\t\t\t\taria-invalid={errors.query ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.query && (\n\t\t\t\t\t\t\t\t<FieldError id={`${queryId}-error`} aria-live='assertive'>\n\t\t\t\t\t\t\t\t\t{errors.query.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FieldHint id={`${queryId}-hint`}>{t('Query_description')}</FieldHint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={subjectId}>\n\t\t\t\t\t\t\t\t{t('Subject')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={subjectId}\n\t\t\t\t\t\t\t\t\t{...register('subject', { required: t('Required_field', { field: t('Subject') }) })}\n\t\t\t\t\t\t\t\t\taria-describedby={`${subjectId}-error`}\n\t\t\t\t\t\t\t\t\terror={errors.subject?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.subject ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.subject && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${subjectId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.subject.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={emailBodyId}>\n\t\t\t\t\t\t\t\t{t('Email_body')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextAreaInput\n\t\t\t\t\t\t\t\t\tid={emailBodyId}\n\t\t\t\t\t\t\t\t\t{...register('emailBody', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Email_body') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (emailBody) => (emailBody?.indexOf('[unsubscribe]') === -1 ? t('error-missing-unsubscribe-link') : true),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\trows={10}\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailBodyId}-error ${emailBodyId}-hint`}\n\t\t\t\t\t\t\t\t\terror={errors.emailBody?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.emailBody ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.emailBody && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${emailBodyId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.emailBody.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FieldHint id={`${emailBodyId}-hint`} dangerouslySetInnerHTML={{ __html: t('Mailer_body_tags') }} />\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t\t<PageFooter isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => reset(initialData)}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={mailerFormId} primary type='submit'>\n\t\t\t\t\t\t{t('Send_email')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageFooter>\n\t\t</Page>\n\t);\n};\n\nexport default MailerPage;\n"]}}},"code":"let _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet TextInput, TextAreaInput, Field, FieldGroup, FieldLabel, FieldRow, FieldError, FieldHint, CheckBox, Button, ButtonGroup, Box;\nmodule.link(\"@rocket.chat/fuselage\", {\n  TextInput(v) {\n    TextInput = v;\n  },\n  TextAreaInput(v) {\n    TextAreaInput = v;\n  },\n  Field(v) {\n    Field = v;\n  },\n  FieldGroup(v) {\n    FieldGroup = v;\n  },\n  FieldLabel(v) {\n    FieldLabel = v;\n  },\n  FieldRow(v) {\n    FieldRow = v;\n  },\n  FieldError(v) {\n    FieldError = v;\n  },\n  FieldHint(v) {\n    FieldHint = v;\n  },\n  CheckBox(v) {\n    CheckBox = v;\n  },\n  Button(v) {\n    Button = v;\n  },\n  ButtonGroup(v) {\n    ButtonGroup = v;\n  },\n  Box(v) {\n    Box = v;\n  }\n}, 0);\nlet useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useUniqueId(v) {\n    useUniqueId = v;\n  }\n}, 1);\nlet useEndpoint, useToastMessageDispatch;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useEndpoint(v) {\n    useEndpoint = v;\n  },\n  useToastMessageDispatch(v) {\n    useToastMessageDispatch = v;\n  }\n}, 2);\nlet useMutation;\nmodule.link(\"@tanstack/react-query\", {\n  useMutation(v) {\n    useMutation = v;\n  }\n}, 3);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n}, 4);\nlet Controller, useForm;\nmodule.link(\"react-hook-form\", {\n  Controller(v) {\n    Controller = v;\n  },\n  useForm(v) {\n    useForm = v;\n  }\n}, 5);\nlet useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 6);\nlet validateEmail;\nmodule.link(\"../../../../lib/emailValidator\", {\n  validateEmail(v) {\n    validateEmail = v;\n  }\n}, 7);\nlet isJSON;\nmodule.link(\"../../../../lib/utils/isJSON\", {\n  isJSON(v) {\n    isJSON = v;\n  }\n}, 8);\nlet Page, PageHeader, PageScrollableContentWithShadow, PageFooter;\nmodule.link(\"../../../components/Page\", {\n  Page(v) {\n    Page = v;\n  },\n  PageHeader(v) {\n    PageHeader = v;\n  },\n  PageScrollableContentWithShadow(v) {\n    PageScrollableContentWithShadow = v;\n  },\n  PageFooter(v) {\n    PageFooter = v;\n  }\n}, 9);\nconst initialData = {\n  fromEmail: '',\n  query: '',\n  dryRun: false,\n  subject: '',\n  emailBody: ''\n};\nconst MailerPage = () => {\n  var _errors$fromEmail, _errors$query, _errors$subject, _errors$emailBody;\n  const {\n    t\n  } = useTranslation();\n  const dispatchToastMessage = useToastMessageDispatch();\n  const {\n    register,\n    formState: {\n      errors,\n      isDirty\n    },\n    handleSubmit,\n    reset,\n    control\n  } = useForm({\n    defaultValues: initialData,\n    mode: 'onBlur'\n  });\n  const mailerEndpoint = useEndpoint('POST', '/v1/mailer');\n  const sendMailAction = useMutation({\n    mutationFn: mailerEndpoint,\n    onSuccess: () => {\n      dispatchToastMessage({\n        type: 'success',\n        message: t('The_emails_are_being_sent')\n      });\n    },\n    onError: error => {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    }\n  });\n  const handleSendEmail = async _ref => {\n    let {\n      fromEmail,\n      subject,\n      emailBody,\n      dryRun,\n      query\n    } = _ref;\n    sendMailAction.mutateAsync({\n      from: fromEmail,\n      subject,\n      body: emailBody,\n      dryrun: dryRun,\n      query\n    });\n  };\n  const mailerFormId = useUniqueId();\n  const fromEmailId = useUniqueId();\n  const queryId = useUniqueId();\n  const dryRunId = useUniqueId();\n  const subjectId = useUniqueId();\n  const emailBodyId = useUniqueId();\n  return /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: t('Mailer')\n  }), /*#__PURE__*/React.createElement(PageScrollableContentWithShadow, {\n    alignSelf: \"center\",\n    w: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    id: mailerFormId,\n    is: \"form\",\n    autoComplete: \"off\",\n    maxWidth: \"x600\",\n    onSubmit: handleSubmit(handleSendEmail)\n  }, /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    required: true,\n    htmlFor: fromEmailId\n  }, t('From')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextInput, _extends({\n    id: fromEmailId,\n    placeholder: t('Type_your_email')\n  }, register('fromEmail', {\n    required: t('Required_field', {\n      field: t('From')\n    }),\n    validate: fromEmail => validateEmail(fromEmail) ? undefined : t('error-invalid-email-address')\n  }), {\n    error: (_errors$fromEmail = errors.fromEmail) === null || _errors$fromEmail === void 0 ? void 0 : _errors$fromEmail.message,\n    \"aria-required\": \"true\",\n    \"aria-invalid\": errors.fromEmail ? 'true' : 'false',\n    \"aria-describedby\": \"\".concat(fromEmailId, \"-error\")\n  }))), errors.fromEmail && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: \"\".concat(fromEmailId, \"-error\")\n  }, errors.fromEmail.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: dryRunId\n  }, t('Dry_run')), /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"dryRun\",\n    render: _ref2 => {\n      let {\n        field: {\n          ref,\n          value,\n          onChange\n        }\n      } = _ref2;\n      return /*#__PURE__*/React.createElement(CheckBox, {\n        \"aria-describedby\": \"\".concat(dryRunId, \"-hint\"),\n        ref: ref,\n        id: dryRunId,\n        checked: value,\n        onChange: onChange\n      });\n    }\n  })), /*#__PURE__*/React.createElement(FieldHint, {\n    id: \"\".concat(dryRunId, \"-hint\")\n  }, t('Dry_run_description'))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: queryId\n  }, t('Query')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextInput, _extends({\n    id: queryId\n  }, register('query', {\n    validate: query => query && query !== '' && !isJSON(query) ? t('Query_is_not_valid_JSON') : true\n  }), {\n    error: (_errors$query = errors.query) === null || _errors$query === void 0 ? void 0 : _errors$query.message,\n    \"aria-describedby\": \"\".concat(queryId, \"-error \").concat(queryId, \"-hint\"),\n    \"aria-invalid\": errors.query ? 'true' : 'false'\n  }))), errors.query && /*#__PURE__*/React.createElement(FieldError, {\n    id: \"\".concat(queryId, \"-error\"),\n    \"aria-live\": \"assertive\"\n  }, errors.query.message), /*#__PURE__*/React.createElement(FieldHint, {\n    id: \"\".concat(queryId, \"-hint\")\n  }, t('Query_description'))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    required: true,\n    htmlFor: subjectId\n  }, t('Subject')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextInput, _extends({\n    id: subjectId\n  }, register('subject', {\n    required: t('Required_field', {\n      field: t('Subject')\n    })\n  }), {\n    \"aria-describedby\": \"\".concat(subjectId, \"-error\"),\n    error: (_errors$subject = errors.subject) === null || _errors$subject === void 0 ? void 0 : _errors$subject.message,\n    \"aria-required\": \"true\",\n    \"aria-invalid\": errors.subject ? 'true' : 'false'\n  }))), errors.subject && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: \"\".concat(subjectId, \"-error\")\n  }, errors.subject.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    required: true,\n    htmlFor: emailBodyId\n  }, t('Email_body')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextAreaInput, _extends({\n    id: emailBodyId\n  }, register('emailBody', {\n    required: t('Required_field', {\n      field: t('Email_body')\n    }),\n    validate: emailBody => (emailBody === null || emailBody === void 0 ? void 0 : emailBody.indexOf('[unsubscribe]')) === -1 ? t('error-missing-unsubscribe-link') : true\n  }), {\n    rows: 10,\n    \"aria-describedby\": \"\".concat(emailBodyId, \"-error \").concat(emailBodyId, \"-hint\"),\n    error: (_errors$emailBody = errors.emailBody) === null || _errors$emailBody === void 0 ? void 0 : _errors$emailBody.message,\n    \"aria-required\": \"true\",\n    \"aria-invalid\": errors.emailBody ? 'true' : 'false'\n  }))), errors.emailBody && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: \"\".concat(emailBodyId, \"-error\")\n  }, errors.emailBody.message), /*#__PURE__*/React.createElement(FieldHint, {\n    id: \"\".concat(emailBodyId, \"-hint\"),\n    dangerouslySetInnerHTML: {\n      __html: t('Mailer_body_tags')\n    }\n  }))))), /*#__PURE__*/React.createElement(PageFooter, {\n    isDirty: isDirty\n  }, /*#__PURE__*/React.createElement(ButtonGroup, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => reset(initialData)\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    form: mailerFormId,\n    primary: true,\n    type: \"submit\"\n  }, t('Send_email')))));\n};\nmodule.exportDefault(MailerPage);","map":{"version":3,"names":["_extends","module","link","default","v","TextInput","TextAreaInput","Field","FieldGroup","FieldLabel","FieldRow","FieldError","FieldHint","CheckBox","Button","ButtonGroup","Box","useUniqueId","useEndpoint","useToastMessageDispatch","useMutation","React","Controller","useForm","useTranslation","validateEmail","isJSON","Page","PageHeader","PageScrollableContentWithShadow","PageFooter","initialData","fromEmail","query","dryRun","subject","emailBody","MailerPage","_errors$fromEmail","_errors$query","_errors$subject","_errors$emailBody","t","dispatchToastMessage","register","formState","errors","isDirty","handleSubmit","reset","control","defaultValues","mode","mailerEndpoint","sendMailAction","mutationFn","onSuccess","type","message","onError","error","handleSendEmail","_ref","mutateAsync","from","body","dryrun","mailerFormId","fromEmailId","queryId","dryRunId","subjectId","emailBodyId","createElement","title","alignSelf","w","display","flexDirection","alignItems","id","is","autoComplete","maxWidth","onSubmit","required","htmlFor","placeholder","field","validate","undefined","concat","name","render","_ref2","ref","value","onChange","checked","indexOf","rows","dangerouslySetInnerHTML","__html","onClick","form","primary","exportDefault"],"sources":["client/views/admin/mailer/MailerPage.tsx"],"sourcesContent":["import {\n\tTextInput,\n\tTextAreaInput,\n\tField,\n\tFieldGroup,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tFieldHint,\n\tCheckBox,\n\tButton,\n\tButtonGroup,\n\tBox,\n} from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\nimport React from 'react';\nimport { Controller, useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport { isJSON } from '../../../../lib/utils/isJSON';\nimport { Page, PageHeader, PageScrollableContentWithShadow, PageFooter } from '../../../components/Page';\n\nexport type SendEmailFormValue = {\n\tfromEmail: string;\n\tsubject: string;\n\temailBody: string;\n\tdryRun: boolean;\n\tquery?: string;\n};\n\nconst initialData = { fromEmail: '', query: '', dryRun: false, subject: '', emailBody: '' };\n\nconst MailerPage = () => {\n\tconst { t } = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst {\n\t\tregister,\n\t\tformState: { errors, isDirty },\n\t\thandleSubmit,\n\t\treset,\n\t\tcontrol,\n\t} = useForm({ defaultValues: initialData, mode: 'onBlur' });\n\n\tconst mailerEndpoint = useEndpoint('POST', '/v1/mailer');\n\tconst sendMailAction = useMutation({\n\t\tmutationFn: mailerEndpoint,\n\t\tonSuccess: () => {\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('The_emails_are_being_sent'),\n\t\t\t});\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleSendEmail = async ({ fromEmail, subject, emailBody, dryRun, query }: SendEmailFormValue) => {\n\t\tsendMailAction.mutateAsync({ from: fromEmail, subject, body: emailBody, dryrun: dryRun, query });\n\t};\n\n\tconst mailerFormId = useUniqueId();\n\tconst fromEmailId = useUniqueId();\n\tconst queryId = useUniqueId();\n\tconst dryRunId = useUniqueId();\n\tconst subjectId = useUniqueId();\n\tconst emailBodyId = useUniqueId();\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Mailer')} />\n\t\t\t<PageScrollableContentWithShadow alignSelf='center' w='100%' display='flex' flexDirection='column' alignItems='center'>\n\t\t\t\t<Box id={mailerFormId} is='form' autoComplete='off' maxWidth='x600' onSubmit={handleSubmit(handleSendEmail)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={fromEmailId}>\n\t\t\t\t\t\t\t\t{t('From')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={fromEmailId}\n\t\t\t\t\t\t\t\t\tplaceholder={t('Type_your_email')}\n\t\t\t\t\t\t\t\t\t{...register('fromEmail', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('From') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (fromEmail) => (validateEmail(fromEmail) ? undefined : t('error-invalid-email-address')),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terror={errors.fromEmail?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.fromEmail ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\taria-describedby={`${fromEmailId}-error`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.fromEmail && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${fromEmailId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.fromEmail.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={dryRunId}>{t('Dry_run')}</FieldLabel>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='dryRun'\n\t\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<CheckBox aria-describedby={`${dryRunId}-hint`} ref={ref} id={dryRunId} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t<FieldHint id={`${dryRunId}-hint`}>{t('Dry_run_description')}</FieldHint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={queryId}>{t('Query')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={queryId}\n\t\t\t\t\t\t\t\t\t{...register('query', {\n\t\t\t\t\t\t\t\t\t\tvalidate: (query) => (query && query !== '' && !isJSON(query) ? t('Query_is_not_valid_JSON') : true),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terror={errors.query?.message}\n\t\t\t\t\t\t\t\t\taria-describedby={`${queryId}-error ${queryId}-hint`}\n\t\t\t\t\t\t\t\t\taria-invalid={errors.query ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.query && (\n\t\t\t\t\t\t\t\t<FieldError id={`${queryId}-error`} aria-live='assertive'>\n\t\t\t\t\t\t\t\t\t{errors.query.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FieldHint id={`${queryId}-hint`}>{t('Query_description')}</FieldHint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={subjectId}>\n\t\t\t\t\t\t\t\t{t('Subject')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={subjectId}\n\t\t\t\t\t\t\t\t\t{...register('subject', { required: t('Required_field', { field: t('Subject') }) })}\n\t\t\t\t\t\t\t\t\taria-describedby={`${subjectId}-error`}\n\t\t\t\t\t\t\t\t\terror={errors.subject?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.subject ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.subject && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${subjectId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.subject.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={emailBodyId}>\n\t\t\t\t\t\t\t\t{t('Email_body')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextAreaInput\n\t\t\t\t\t\t\t\t\tid={emailBodyId}\n\t\t\t\t\t\t\t\t\t{...register('emailBody', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Email_body') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (emailBody) => (emailBody?.indexOf('[unsubscribe]') === -1 ? t('error-missing-unsubscribe-link') : true),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\trows={10}\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailBodyId}-error ${emailBodyId}-hint`}\n\t\t\t\t\t\t\t\t\terror={errors.emailBody?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.emailBody ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.emailBody && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${emailBodyId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.emailBody.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FieldHint id={`${emailBodyId}-hint`} dangerouslySetInnerHTML={{ __html: t('Mailer_body_tags') }} />\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t\t<PageFooter isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => reset(initialData)}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={mailerFormId} primary type='submit'>\n\t\t\t\t\t\t{t('Send_email')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageFooter>\n\t\t</Page>\n\t);\n};\n\nexport default MailerPage;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"6a321a4014ba0cc577e483cd135c142b1504e07b"}
