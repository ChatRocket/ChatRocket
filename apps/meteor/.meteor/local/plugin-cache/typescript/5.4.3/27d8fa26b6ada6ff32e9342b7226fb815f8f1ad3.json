{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/customSounds/AddCustomSound.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/customSounds/AddCustomSound.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/customSounds/AddCustomSound.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/customSounds/AddCustomSound.tsx","sourceRoot":"","sources":["client/views/admin/customSounds/AddCustomSound.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Field, FieldLabel, FieldRow, TextInput, Box, Margins, Button, ButtonGroup, IconButton } from '@rocket.chat/fuselage';\nimport { useToastMessageDispatch, useMethod } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, FormEvent } from 'react';\nimport React, { useState, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../components/Contextualbar';\nimport { useSingleFileInput } from '../../../hooks/useSingleFileInput';\nimport { validate, createSoundData } from './lib';\n\ntype AddCustomSoundProps = {\n\tgoToNew: (_id: string) => () => void;\n\tclose: () => void;\n\tonChange: () => void;\n};\n\nconst AddCustomSound = ({ goToNew, close, onChange, ...props }: AddCustomSoundProps): ReactElement => {\n\tconst { t } = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst [name, setName] = useState('');\n\tconst [sound, setSound] = useState<{ name: string }>();\n\n\tconst uploadCustomSound = useMethod('uploadCustomSound');\n\tconst insertOrUpdateSound = useMethod('insertOrUpdateSound');\n\n\tconst handleChangeFile = useCallback((soundFile) => {\n\t\tsetSound(soundFile);\n\t}, []);\n\n\tconst [clickUpload] = useSingleFileInput(handleChangeFile, 'audio/mp3');\n\n\tconst saveAction = useCallback(\n\t\tasync (name, soundFile): Promise<string | undefined> => {\n\t\t\tconst soundData = createSoundData(soundFile, name);\n\t\t\tconst validation = validate(soundData, soundFile) as Array<Parameters<typeof t>[0]>;\n\n\t\t\tvalidation.forEach((invalidFieldName) => {\n\t\t\t\tthrow new Error(t('Required_field', { field: t(invalidFieldName) }));\n\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tconst soundId = await insertOrUpdateSound(soundData);\n\n\t\t\t\tif (!soundId) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Uploading_file') });\n\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.readAsBinaryString(soundFile);\n\t\t\t\treader.onloadend = (): void => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tuploadCustomSound(reader.result as string, soundFile.type, {\n\t\t\t\t\t\t\t...soundData,\n\t\t\t\t\t\t\t_id: soundId,\n\t\t\t\t\t\t\trandom: Math.round(Math.random() * 1000),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('File_uploaded') });\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t(typeof error === 'string' || error instanceof Error) && dispatchToastMessage({ type: 'error', message: error });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\treturn soundId;\n\t\t\t} catch (error) {\n\t\t\t\t(typeof error === 'string' || error instanceof Error) && dispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[dispatchToastMessage, insertOrUpdateSound, t, uploadCustomSound],\n\t);\n\n\tconst handleSave = useCallback(async () => {\n\t\ttry {\n\t\t\tconst result = await saveAction(name, sound);\n\t\t\tif (result) {\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Custom_Sound_Saved_Successfully') });\n\t\t\t}\n\t\t\tresult && goToNew(result);\n\t\t\tonChange();\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, goToNew, name, onChange, saveAction, sound, t]);\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent {...props}>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Name')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tonChange={(e: FormEvent<HTMLInputElement>): void => setName(e.currentTarget.value)}\n\t\t\t\t\t\t\tplaceholder={t('Name')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel alignSelf='stretch'>{t('Sound_File_mp3')}</FieldLabel>\n\t\t\t\t\t<Box display='flex' flexDirection='row' mbs='none' alignItems='center'>\n\t\t\t\t\t\t<Margins inline={4}>\n\t\t\t\t\t\t\t<IconButton secondary small icon='upload' onClick={clickUpload} />\n\t\t\t\t\t\t\t{sound?.name || t('None')}\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t</Field>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={close}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button primary onClick={handleSave}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default AddCustomSound;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"production","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/customSounds/AddCustomSound.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/customSounds/AddCustomSound.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/customSounds/AddCustomSound.tsx","sourceRoot":"","sources":["client/views/admin/customSounds/AddCustomSound.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Field, FieldLabel, FieldRow, TextInput, Box, Margins, Button, ButtonGroup, IconButton } from '@rocket.chat/fuselage';\nimport { useToastMessageDispatch, useMethod } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, FormEvent } from 'react';\nimport React, { useState, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../components/Contextualbar';\nimport { useSingleFileInput } from '../../../hooks/useSingleFileInput';\nimport { validate, createSoundData } from './lib';\n\ntype AddCustomSoundProps = {\n\tgoToNew: (_id: string) => () => void;\n\tclose: () => void;\n\tonChange: () => void;\n};\n\nconst AddCustomSound = ({ goToNew, close, onChange, ...props }: AddCustomSoundProps): ReactElement => {\n\tconst { t } = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst [name, setName] = useState('');\n\tconst [sound, setSound] = useState<{ name: string }>();\n\n\tconst uploadCustomSound = useMethod('uploadCustomSound');\n\tconst insertOrUpdateSound = useMethod('insertOrUpdateSound');\n\n\tconst handleChangeFile = useCallback((soundFile) => {\n\t\tsetSound(soundFile);\n\t}, []);\n\n\tconst [clickUpload] = useSingleFileInput(handleChangeFile, 'audio/mp3');\n\n\tconst saveAction = useCallback(\n\t\tasync (name, soundFile): Promise<string | undefined> => {\n\t\t\tconst soundData = createSoundData(soundFile, name);\n\t\t\tconst validation = validate(soundData, soundFile) as Array<Parameters<typeof t>[0]>;\n\n\t\t\tvalidation.forEach((invalidFieldName) => {\n\t\t\t\tthrow new Error(t('Required_field', { field: t(invalidFieldName) }));\n\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tconst soundId = await insertOrUpdateSound(soundData);\n\n\t\t\t\tif (!soundId) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Uploading_file') });\n\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.readAsBinaryString(soundFile);\n\t\t\t\treader.onloadend = (): void => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tuploadCustomSound(reader.result as string, soundFile.type, {\n\t\t\t\t\t\t\t...soundData,\n\t\t\t\t\t\t\t_id: soundId,\n\t\t\t\t\t\t\trandom: Math.round(Math.random() * 1000),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('File_uploaded') });\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t(typeof error === 'string' || error instanceof Error) && dispatchToastMessage({ type: 'error', message: error });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\treturn soundId;\n\t\t\t} catch (error) {\n\t\t\t\t(typeof error === 'string' || error instanceof Error) && dispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[dispatchToastMessage, insertOrUpdateSound, t, uploadCustomSound],\n\t);\n\n\tconst handleSave = useCallback(async () => {\n\t\ttry {\n\t\t\tconst result = await saveAction(name, sound);\n\t\t\tif (result) {\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Custom_Sound_Saved_Successfully') });\n\t\t\t}\n\t\t\tresult && goToNew(result);\n\t\t\tonChange();\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, goToNew, name, onChange, saveAction, sound, t]);\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent {...props}>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Name')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tonChange={(e: FormEvent<HTMLInputElement>): void => setName(e.currentTarget.value)}\n\t\t\t\t\t\t\tplaceholder={t('Name')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel alignSelf='stretch'>{t('Sound_File_mp3')}</FieldLabel>\n\t\t\t\t\t<Box display='flex' flexDirection='row' mbs='none' alignItems='center'>\n\t\t\t\t\t\t<Margins inline={4}>\n\t\t\t\t\t\t\t<IconButton secondary small icon='upload' onClick={clickUpload} />\n\t\t\t\t\t\t\t{sound?.name || t('None')}\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t</Field>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={close}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button primary onClick={handleSave}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default AddCustomSound;\n"]}}},"code":"var _excluded = [\"goToNew\", \"close\", \"onChange\"];\nvar _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 1);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 2);\nvar _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 3);\nvar Field, FieldLabel, FieldRow, TextInput, Box, Margins, Button, ButtonGroup, IconButton;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Field: function (v) {\n    Field = v;\n  },\n  FieldLabel: function (v) {\n    FieldLabel = v;\n  },\n  FieldRow: function (v) {\n    FieldRow = v;\n  },\n  TextInput: function (v) {\n    TextInput = v;\n  },\n  Box: function (v) {\n    Box = v;\n  },\n  Margins: function (v) {\n    Margins = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  IconButton: function (v) {\n    IconButton = v;\n  }\n}, 0);\nvar useToastMessageDispatch, useMethod;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  useMethod: function (v) {\n    useMethod = v;\n  }\n}, 1);\nvar React, useState, useCallback;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  }\n}, 2);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 3);\nvar ContextualbarScrollableContent, ContextualbarFooter;\nmodule.link(\"../../../components/Contextualbar\", {\n  ContextualbarScrollableContent: function (v) {\n    ContextualbarScrollableContent = v;\n  },\n  ContextualbarFooter: function (v) {\n    ContextualbarFooter = v;\n  }\n}, 4);\nvar useSingleFileInput;\nmodule.link(\"../../../hooks/useSingleFileInput\", {\n  useSingleFileInput: function (v) {\n    useSingleFileInput = v;\n  }\n}, 5);\nvar validate, createSoundData;\nmodule.link(\"./lib\", {\n  validate: function (v) {\n    validate = v;\n  },\n  createSoundData: function (v) {\n    createSoundData = v;\n  }\n}, 6);\nvar AddCustomSound = function (_ref) {\n  var goToNew = _ref.goToNew,\n    close = _ref.close,\n    onChange = _ref.onChange,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var dispatchToastMessage = useToastMessageDispatch();\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    name = _useState2[0],\n    setName = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    sound = _useState4[0],\n    setSound = _useState4[1];\n  var uploadCustomSound = useMethod('uploadCustomSound');\n  var insertOrUpdateSound = useMethod('insertOrUpdateSound');\n  var handleChangeFile = useCallback(function (soundFile) {\n    setSound(soundFile);\n  }, []);\n  var _useSingleFileInput = useSingleFileInput(handleChangeFile, 'audio/mp3'),\n    _useSingleFileInput2 = _slicedToArray(_useSingleFileInput, 1),\n    clickUpload = _useSingleFileInput2[0];\n  var saveAction = useCallback(function () {\n    function _callee(name, soundFile) {\n      var soundData, validation, soundId, reader;\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              soundData = createSoundData(soundFile, name);\n              validation = validate(soundData, soundFile);\n              validation.forEach(function (invalidFieldName) {\n                throw new Error(t('Required_field', {\n                  field: t(invalidFieldName)\n                }));\n              });\n              _context.prev = 3;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(insertOrUpdateSound(soundData));\n            case 6:\n              soundId = _context.sent;\n              if (soundId) {\n                _context.next = 9;\n                break;\n              }\n              return _context.abrupt(\"return\", undefined);\n            case 9:\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Uploading_file')\n              });\n              reader = new FileReader();\n              reader.readAsBinaryString(soundFile);\n              reader.onloadend = function () {\n                try {\n                  uploadCustomSound(reader.result, soundFile.type, _objectSpread(_objectSpread({}, soundData), {}, {\n                    _id: soundId,\n                    random: Math.round(Math.random() * 1000)\n                  }));\n                  dispatchToastMessage({\n                    type: 'success',\n                    message: t('File_uploaded')\n                  });\n                } catch (error) {\n                  (typeof error === 'string' || error instanceof Error) && dispatchToastMessage({\n                    type: 'error',\n                    message: error\n                  });\n                }\n              };\n              return _context.abrupt(\"return\", soundId);\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](3);\n              (typeof _context.t0 === 'string' || _context.t0 instanceof Error) && dispatchToastMessage({\n                type: 'error',\n                message: _context.t0\n              });\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, [[3, 16]], Promise);\n    }\n    return _callee;\n  }(), [dispatchToastMessage, insertOrUpdateSound, t, uploadCustomSound]);\n  var handleSave = useCallback(function () {\n    function _callee2() {\n      var result;\n      return _regeneratorRuntime.async(function () {\n        function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(saveAction(name, sound));\n            case 3:\n              result = _context2.sent;\n              if (result) {\n                dispatchToastMessage({\n                  type: 'success',\n                  message: t('Custom_Sound_Saved_Successfully')\n                });\n              }\n              result && goToNew(result);\n              onChange();\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context2.t0\n              });\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n        return _callee2$;\n      }(), null, null, [[0, 9]], Promise);\n    }\n    return _callee2;\n  }(), [dispatchToastMessage, goToNew, name, onChange, saveAction, sound, t]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ContextualbarScrollableContent, props, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, null, t('Name')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextInput, {\n    value: name,\n    onChange: function (e) {\n      return setName(e.currentTarget.value);\n    },\n    placeholder: t('Name')\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    alignSelf: \"stretch\"\n  }, t('Sound_File_mp3')), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    mbs: \"none\",\n    alignItems: \"center\"\n  }, /*#__PURE__*/React.createElement(Margins, {\n    inline: 4\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    secondary: true,\n    small: true,\n    icon: \"upload\",\n    onClick: clickUpload\n  }), (sound === null || sound === void 0 ? void 0 : sound.name) || t('None'))))), /*#__PURE__*/React.createElement(ContextualbarFooter, null, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: close\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: handleSave\n  }, t('Save')))));\n};\nmodule.exportDefault(AddCustomSound);","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","_objectSpread","_slicedToArray","_objectWithoutProperties","Field","FieldLabel","FieldRow","TextInput","Box","Margins","Button","ButtonGroup","IconButton","useToastMessageDispatch","useMethod","React","useState","useCallback","useTranslation","ContextualbarScrollableContent","ContextualbarFooter","useSingleFileInput","validate","createSoundData","AddCustomSound","_ref","goToNew","close","onChange","props","_excluded","_useTranslation","t","dispatchToastMessage","_useState","_useState2","name","setName","_useState3","_useState4","sound","setSound","uploadCustomSound","insertOrUpdateSound","handleChangeFile","soundFile","_useSingleFileInput","_useSingleFileInput2","clickUpload","saveAction","_callee","soundData","validation","soundId","reader","async","_callee$","_context","prev","next","forEach","invalidFieldName","Error","field","awrap","sent","abrupt","undefined","type","message","FileReader","readAsBinaryString","onloadend","result","_id","random","Math","round","error","t0","stop","Promise","handleSave","_callee2","_callee2$","_context2","createElement","Fragment","value","e","currentTarget","placeholder","alignSelf","display","flexDirection","mbs","alignItems","inline","secondary","small","icon","onClick","stretch","primary","exportDefault"],"sources":["client/views/admin/customSounds/AddCustomSound.tsx"],"sourcesContent":["import { Field, FieldLabel, FieldRow, TextInput, Box, Margins, Button, ButtonGroup, IconButton } from '@rocket.chat/fuselage';\nimport { useToastMessageDispatch, useMethod } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, FormEvent } from 'react';\nimport React, { useState, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../components/Contextualbar';\nimport { useSingleFileInput } from '../../../hooks/useSingleFileInput';\nimport { validate, createSoundData } from './lib';\n\ntype AddCustomSoundProps = {\n\tgoToNew: (_id: string) => () => void;\n\tclose: () => void;\n\tonChange: () => void;\n};\n\nconst AddCustomSound = ({ goToNew, close, onChange, ...props }: AddCustomSoundProps): ReactElement => {\n\tconst { t } = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst [name, setName] = useState('');\n\tconst [sound, setSound] = useState<{ name: string }>();\n\n\tconst uploadCustomSound = useMethod('uploadCustomSound');\n\tconst insertOrUpdateSound = useMethod('insertOrUpdateSound');\n\n\tconst handleChangeFile = useCallback((soundFile) => {\n\t\tsetSound(soundFile);\n\t}, []);\n\n\tconst [clickUpload] = useSingleFileInput(handleChangeFile, 'audio/mp3');\n\n\tconst saveAction = useCallback(\n\t\tasync (name, soundFile): Promise<string | undefined> => {\n\t\t\tconst soundData = createSoundData(soundFile, name);\n\t\t\tconst validation = validate(soundData, soundFile) as Array<Parameters<typeof t>[0]>;\n\n\t\t\tvalidation.forEach((invalidFieldName) => {\n\t\t\t\tthrow new Error(t('Required_field', { field: t(invalidFieldName) }));\n\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tconst soundId = await insertOrUpdateSound(soundData);\n\n\t\t\t\tif (!soundId) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Uploading_file') });\n\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.readAsBinaryString(soundFile);\n\t\t\t\treader.onloadend = (): void => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tuploadCustomSound(reader.result as string, soundFile.type, {\n\t\t\t\t\t\t\t...soundData,\n\t\t\t\t\t\t\t_id: soundId,\n\t\t\t\t\t\t\trandom: Math.round(Math.random() * 1000),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('File_uploaded') });\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t(typeof error === 'string' || error instanceof Error) && dispatchToastMessage({ type: 'error', message: error });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\treturn soundId;\n\t\t\t} catch (error) {\n\t\t\t\t(typeof error === 'string' || error instanceof Error) && dispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[dispatchToastMessage, insertOrUpdateSound, t, uploadCustomSound],\n\t);\n\n\tconst handleSave = useCallback(async () => {\n\t\ttry {\n\t\t\tconst result = await saveAction(name, sound);\n\t\t\tif (result) {\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Custom_Sound_Saved_Successfully') });\n\t\t\t}\n\t\t\tresult && goToNew(result);\n\t\t\tonChange();\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, goToNew, name, onChange, saveAction, sound, t]);\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent {...props}>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Name')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tonChange={(e: FormEvent<HTMLInputElement>): void => setName(e.currentTarget.value)}\n\t\t\t\t\t\t\tplaceholder={t('Name')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel alignSelf='stretch'>{t('Sound_File_mp3')}</FieldLabel>\n\t\t\t\t\t<Box display='flex' flexDirection='row' mbs='none' alignItems='center'>\n\t\t\t\t\t\t<Margins inline={4}>\n\t\t\t\t\t\t\t<IconButton secondary small icon='upload' onClick={clickUpload} />\n\t\t\t\t\t\t\t{sound?.name || t('None')}\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t</Field>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={close}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button primary onClick={handleSave}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default AddCustomSound;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"27d8fa26b6ada6ff32e9342b7226fb815f8f1ad3"}
