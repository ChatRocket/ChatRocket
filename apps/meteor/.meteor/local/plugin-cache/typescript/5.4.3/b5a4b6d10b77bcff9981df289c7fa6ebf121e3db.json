{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/hooks/useAnalyticsEventTracking.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/hooks/useAnalyticsEventTracking.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/hooks/useAnalyticsEventTracking.ts","inputSourceMap":{"version":3,"file":"client/hooks/useAnalyticsEventTracking.ts","sourceRoot":"","sources":["client/hooks/useAnalyticsEventTracking.ts"],"names":[],"mappings":"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","sourcesContent":["import { useRouter, useSetting, useUserId } from '@rocket.chat/ui-contexts';\nimport { useEffect } from 'react';\n\nimport { callbacks } from '../../lib/callbacks';\n\nfunction trackEvent(category: string, action: string, label?: unknown) {\n\tconst { _paq, ga } = window;\n\n\t_paq?.push(['trackEvent', category, action, label]);\n\tga?.('send', 'event', category, action, label);\n}\n\nexport const useAnalyticsEventTracking = () => {\n\tconst router = useRouter();\n\n\tuseEffect(\n\t\t() =>\n\t\t\trouter.subscribeToRouteChange(() => {\n\t\t\t\tconst { _paq, ga } = window;\n\n\t\t\t\tif (_paq) {\n\t\t\t\t\tconst http = location.protocol;\n\t\t\t\t\tconst slashes = http.concat('//');\n\t\t\t\t\tconst host = slashes.concat(location.hostname);\n\t\t\t\t\t_paq.push(['setCustomUrl', host + router.getLocationPathname()]);\n\t\t\t\t\t_paq.push(['trackPageView']);\n\t\t\t\t}\n\n\t\t\t\tga?.('send', 'pageview', router.getLocationPathname());\n\t\t\t}),\n\t\t[router],\n\t);\n\n\tuseEffect(() => {\n\t\tcallbacks.add(\n\t\t\t'loginPageStateChange',\n\t\t\t(state) => {\n\t\t\t\ttrackEvent('Navigation', 'Login Page State Change', state);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-login-state-change',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('loginPageStateChange', 'analytics-login-state-change');\n\t\t};\n\t}, []);\n\n\tconst featuresMessages = useSetting('Analytics_features_messages', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresMessages) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'afterSaveMessage',\n\t\t\t(_message, { room }) => {\n\t\t\t\ttrackEvent('Message', 'Send', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.LOW,\n\t\t\t'trackEvents',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('afterSaveMessage', 'trackEvents');\n\t\t};\n\t}, [featuresMessages]);\n\n\tconst featuresRooms = useSetting('Analytics_features_rooms', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresRooms) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'afterCreateChannel',\n\t\t\t(_owner, room) => {\n\t\t\t\ttrackEvent('Room', 'Create', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-after-create-channel',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomNameChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Name', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-name-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomTopicChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Topic', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-topic-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomAnnouncementChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Announcement', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-announcement-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomTypeChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Room Type', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-type-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'archiveRoom',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Archived', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-archive-room',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'unarchiveRoom',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Unarchived', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-unarchive-room',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomAvatarChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Avatar', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-avatar-changed',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('afterCreateChannel', 'analytics-after-create-channel');\n\t\t\tcallbacks.remove('roomNameChanged', 'analytics-room-name-changed');\n\t\t\tcallbacks.remove('roomTopicChanged', 'analytics-room-topic-changed');\n\t\t\tcallbacks.remove('roomAnnouncementChanged', 'analytics-room-announcement-changed');\n\t\t\tcallbacks.remove('roomTypeChanged', 'analytics-room-type-changed');\n\t\t\tcallbacks.remove('archiveRoom', 'analytics-archive-room');\n\t\t\tcallbacks.remove('unarchiveRoom', 'analytics-unarchive-room');\n\t\t\tcallbacks.remove('roomAvatarChanged', 'analytics-room-avatar-changed');\n\t\t};\n\t}, [featuresRooms]);\n\n\tconst featuresUsers = useSetting('Analytics_features_users', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresUsers) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'userRegistered',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Registered');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-resitered',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'usernameSet',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Username Set');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piweik-username-set',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userPasswordReset',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Reset Password');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-password-reset',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userConfirmationEmailRequested',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Confirmation Email Requested');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-confirmation-email-requested',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userForgotPasswordEmailRequested',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Forgot Password Email Requested');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-forgot-password-email-requested',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userStatusManuallySet',\n\t\t\t(status) => {\n\t\t\t\ttrackEvent('User', 'Status Manually Changed', status);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-user-status-manually-set',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userAvatarSet',\n\t\t\t(service) => {\n\t\t\t\ttrackEvent('User', 'Avatar Changed', service);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-user-avatar-set',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('userRegistered', 'piwik-user-resitered');\n\t\t\tcallbacks.remove('usernameSet', 'piweik-username-set');\n\t\t\tcallbacks.remove('userPasswordReset', 'piwik-user-password-reset');\n\t\t\tcallbacks.remove('userConfirmationEmailRequested', 'piwik-user-confirmation-email-requested');\n\t\t\tcallbacks.remove('userForgotPasswordEmailRequested', 'piwik-user-forgot-password-email-requested');\n\t\t\tcallbacks.remove('userStatusManuallySet', 'analytics-user-status-manually-set');\n\t\t\tcallbacks.remove('userAvatarSet', 'analytics-user-avatar-set');\n\t\t};\n\t}, [featuresUsers]);\n\n\tconst uid = useUserId();\n\n\tuseEffect(() => {\n\t\tif (!featuresUsers) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { _paq } = window;\n\n\t\ttrackEvent('User', 'Login', uid);\n\t\t_paq?.push(['setUserId', uid]);\n\n\t\treturn () => {\n\t\t\ttrackEvent('User', 'Logout', uid);\n\t\t};\n\t}, [featuresUsers, uid]);\n};\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/hooks/useAnalyticsEventTracking.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/hooks/useAnalyticsEventTracking.ts","inputSourceMap":{"version":3,"file":"client/hooks/useAnalyticsEventTracking.ts","sourceRoot":"","sources":["client/hooks/useAnalyticsEventTracking.ts"],"names":[],"mappings":"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","sourcesContent":["import { useRouter, useSetting, useUserId } from '@rocket.chat/ui-contexts';\nimport { useEffect } from 'react';\n\nimport { callbacks } from '../../lib/callbacks';\n\nfunction trackEvent(category: string, action: string, label?: unknown) {\n\tconst { _paq, ga } = window;\n\n\t_paq?.push(['trackEvent', category, action, label]);\n\tga?.('send', 'event', category, action, label);\n}\n\nexport const useAnalyticsEventTracking = () => {\n\tconst router = useRouter();\n\n\tuseEffect(\n\t\t() =>\n\t\t\trouter.subscribeToRouteChange(() => {\n\t\t\t\tconst { _paq, ga } = window;\n\n\t\t\t\tif (_paq) {\n\t\t\t\t\tconst http = location.protocol;\n\t\t\t\t\tconst slashes = http.concat('//');\n\t\t\t\t\tconst host = slashes.concat(location.hostname);\n\t\t\t\t\t_paq.push(['setCustomUrl', host + router.getLocationPathname()]);\n\t\t\t\t\t_paq.push(['trackPageView']);\n\t\t\t\t}\n\n\t\t\t\tga?.('send', 'pageview', router.getLocationPathname());\n\t\t\t}),\n\t\t[router],\n\t);\n\n\tuseEffect(() => {\n\t\tcallbacks.add(\n\t\t\t'loginPageStateChange',\n\t\t\t(state) => {\n\t\t\t\ttrackEvent('Navigation', 'Login Page State Change', state);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-login-state-change',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('loginPageStateChange', 'analytics-login-state-change');\n\t\t};\n\t}, []);\n\n\tconst featuresMessages = useSetting('Analytics_features_messages', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresMessages) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'afterSaveMessage',\n\t\t\t(_message, { room }) => {\n\t\t\t\ttrackEvent('Message', 'Send', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.LOW,\n\t\t\t'trackEvents',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('afterSaveMessage', 'trackEvents');\n\t\t};\n\t}, [featuresMessages]);\n\n\tconst featuresRooms = useSetting('Analytics_features_rooms', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresRooms) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'afterCreateChannel',\n\t\t\t(_owner, room) => {\n\t\t\t\ttrackEvent('Room', 'Create', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-after-create-channel',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomNameChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Name', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-name-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomTopicChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Topic', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-topic-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomAnnouncementChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Announcement', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-announcement-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomTypeChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Room Type', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-type-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'archiveRoom',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Archived', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-archive-room',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'unarchiveRoom',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Unarchived', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-unarchive-room',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomAvatarChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Avatar', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-avatar-changed',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('afterCreateChannel', 'analytics-after-create-channel');\n\t\t\tcallbacks.remove('roomNameChanged', 'analytics-room-name-changed');\n\t\t\tcallbacks.remove('roomTopicChanged', 'analytics-room-topic-changed');\n\t\t\tcallbacks.remove('roomAnnouncementChanged', 'analytics-room-announcement-changed');\n\t\t\tcallbacks.remove('roomTypeChanged', 'analytics-room-type-changed');\n\t\t\tcallbacks.remove('archiveRoom', 'analytics-archive-room');\n\t\t\tcallbacks.remove('unarchiveRoom', 'analytics-unarchive-room');\n\t\t\tcallbacks.remove('roomAvatarChanged', 'analytics-room-avatar-changed');\n\t\t};\n\t}, [featuresRooms]);\n\n\tconst featuresUsers = useSetting('Analytics_features_users', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresUsers) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'userRegistered',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Registered');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-resitered',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'usernameSet',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Username Set');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piweik-username-set',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userPasswordReset',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Reset Password');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-password-reset',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userConfirmationEmailRequested',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Confirmation Email Requested');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-confirmation-email-requested',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userForgotPasswordEmailRequested',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Forgot Password Email Requested');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-forgot-password-email-requested',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userStatusManuallySet',\n\t\t\t(status) => {\n\t\t\t\ttrackEvent('User', 'Status Manually Changed', status);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-user-status-manually-set',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userAvatarSet',\n\t\t\t(service) => {\n\t\t\t\ttrackEvent('User', 'Avatar Changed', service);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-user-avatar-set',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('userRegistered', 'piwik-user-resitered');\n\t\t\tcallbacks.remove('usernameSet', 'piweik-username-set');\n\t\t\tcallbacks.remove('userPasswordReset', 'piwik-user-password-reset');\n\t\t\tcallbacks.remove('userConfirmationEmailRequested', 'piwik-user-confirmation-email-requested');\n\t\t\tcallbacks.remove('userForgotPasswordEmailRequested', 'piwik-user-forgot-password-email-requested');\n\t\t\tcallbacks.remove('userStatusManuallySet', 'analytics-user-status-manually-set');\n\t\t\tcallbacks.remove('userAvatarSet', 'analytics-user-avatar-set');\n\t\t};\n\t}, [featuresUsers]);\n\n\tconst uid = useUserId();\n\n\tuseEffect(() => {\n\t\tif (!featuresUsers) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { _paq } = window;\n\n\t\ttrackEvent('User', 'Login', uid);\n\t\t_paq?.push(['setUserId', uid]);\n\n\t\treturn () => {\n\t\t\ttrackEvent('User', 'Logout', uid);\n\t\t};\n\t}, [featuresUsers, uid]);\n};\n"]}}},"code":"module.export({\n  useAnalyticsEventTracking: () => useAnalyticsEventTracking\n});\nlet useRouter, useSetting, useUserId;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useRouter(v) {\n    useRouter = v;\n  },\n  useSetting(v) {\n    useSetting = v;\n  },\n  useUserId(v) {\n    useUserId = v;\n  }\n}, 0);\nlet useEffect;\nmodule.link(\"react\", {\n  useEffect(v) {\n    useEffect = v;\n  }\n}, 1);\nlet callbacks;\nmodule.link(\"../../lib/callbacks\", {\n  callbacks(v) {\n    callbacks = v;\n  }\n}, 2);\nfunction trackEvent(category, action, label) {\n  const {\n    _paq,\n    ga\n  } = window;\n  _paq === null || _paq === void 0 ? void 0 : _paq.push(['trackEvent', category, action, label]);\n  ga === null || ga === void 0 ? void 0 : ga('send', 'event', category, action, label);\n}\nconst useAnalyticsEventTracking = () => {\n  const router = useRouter();\n  useEffect(() => router.subscribeToRouteChange(() => {\n    const {\n      _paq,\n      ga\n    } = window;\n    if (_paq) {\n      const http = location.protocol;\n      const slashes = http.concat('//');\n      const host = slashes.concat(location.hostname);\n      _paq.push(['setCustomUrl', host + router.getLocationPathname()]);\n      _paq.push(['trackPageView']);\n    }\n    ga === null || ga === void 0 ? void 0 : ga('send', 'pageview', router.getLocationPathname());\n  }), [router]);\n  useEffect(() => {\n    callbacks.add('loginPageStateChange', state => {\n      trackEvent('Navigation', 'Login Page State Change', state);\n    }, callbacks.priority.MEDIUM, 'analytics-login-state-change');\n    return () => {\n      callbacks.remove('loginPageStateChange', 'analytics-login-state-change');\n    };\n  }, []);\n  const featuresMessages = useSetting('Analytics_features_messages', true);\n  useEffect(() => {\n    if (!featuresMessages) {\n      return;\n    }\n    callbacks.add('afterSaveMessage', (_message, _ref) => {\n      let {\n        room\n      } = _ref;\n      trackEvent('Message', 'Send', \"\".concat(room.name, \" (\").concat(room._id, \")\"));\n    }, callbacks.priority.LOW, 'trackEvents');\n    return () => {\n      callbacks.remove('afterSaveMessage', 'trackEvents');\n    };\n  }, [featuresMessages]);\n  const featuresRooms = useSetting('Analytics_features_rooms', true);\n  useEffect(() => {\n    if (!featuresRooms) {\n      return;\n    }\n    callbacks.add('afterCreateChannel', (_owner, room) => {\n      trackEvent('Room', 'Create', \"\".concat(room.name, \" (\").concat(room._id, \")\"));\n    }, callbacks.priority.MEDIUM, 'analytics-after-create-channel');\n    callbacks.add('roomNameChanged', room => {\n      trackEvent('Room', 'Changed Name', \"\".concat(room.name, \" (\").concat(room._id, \")\"));\n    }, callbacks.priority.MEDIUM, 'analytics-room-name-changed');\n    callbacks.add('roomTopicChanged', room => {\n      trackEvent('Room', 'Changed Topic', \"\".concat(room.name, \" (\").concat(room._id, \")\"));\n    }, callbacks.priority.MEDIUM, 'analytics-room-topic-changed');\n    callbacks.add('roomAnnouncementChanged', room => {\n      trackEvent('Room', 'Changed Announcement', \"\".concat(room.name, \" (\").concat(room._id, \")\"));\n    }, callbacks.priority.MEDIUM, 'analytics-room-announcement-changed');\n    callbacks.add('roomTypeChanged', room => {\n      trackEvent('Room', 'Changed Room Type', \"\".concat(room.name, \" (\").concat(room._id, \")\"));\n    }, callbacks.priority.MEDIUM, 'analytics-room-type-changed');\n    callbacks.add('archiveRoom', room => {\n      trackEvent('Room', 'Archived', \"\".concat(room.name, \" (\").concat(room._id, \")\"));\n    }, callbacks.priority.MEDIUM, 'analytics-archive-room');\n    callbacks.add('unarchiveRoom', room => {\n      trackEvent('Room', 'Unarchived', \"\".concat(room.name, \" (\").concat(room._id, \")\"));\n    }, callbacks.priority.MEDIUM, 'analytics-unarchive-room');\n    callbacks.add('roomAvatarChanged', room => {\n      trackEvent('Room', 'Changed Avatar', \"\".concat(room.name, \" (\").concat(room._id, \")\"));\n    }, callbacks.priority.MEDIUM, 'analytics-room-avatar-changed');\n    return () => {\n      callbacks.remove('afterCreateChannel', 'analytics-after-create-channel');\n      callbacks.remove('roomNameChanged', 'analytics-room-name-changed');\n      callbacks.remove('roomTopicChanged', 'analytics-room-topic-changed');\n      callbacks.remove('roomAnnouncementChanged', 'analytics-room-announcement-changed');\n      callbacks.remove('roomTypeChanged', 'analytics-room-type-changed');\n      callbacks.remove('archiveRoom', 'analytics-archive-room');\n      callbacks.remove('unarchiveRoom', 'analytics-unarchive-room');\n      callbacks.remove('roomAvatarChanged', 'analytics-room-avatar-changed');\n    };\n  }, [featuresRooms]);\n  const featuresUsers = useSetting('Analytics_features_users', true);\n  useEffect(() => {\n    if (!featuresUsers) {\n      return;\n    }\n    callbacks.add('userRegistered', () => {\n      trackEvent('User', 'Registered');\n    }, callbacks.priority.MEDIUM, 'piwik-user-resitered');\n    callbacks.add('usernameSet', () => {\n      trackEvent('User', 'Username Set');\n    }, callbacks.priority.MEDIUM, 'piweik-username-set');\n    callbacks.add('userPasswordReset', () => {\n      trackEvent('User', 'Reset Password');\n    }, callbacks.priority.MEDIUM, 'piwik-user-password-reset');\n    callbacks.add('userConfirmationEmailRequested', () => {\n      trackEvent('User', 'Confirmation Email Requested');\n    }, callbacks.priority.MEDIUM, 'piwik-user-confirmation-email-requested');\n    callbacks.add('userForgotPasswordEmailRequested', () => {\n      trackEvent('User', 'Forgot Password Email Requested');\n    }, callbacks.priority.MEDIUM, 'piwik-user-forgot-password-email-requested');\n    callbacks.add('userStatusManuallySet', status => {\n      trackEvent('User', 'Status Manually Changed', status);\n    }, callbacks.priority.MEDIUM, 'analytics-user-status-manually-set');\n    callbacks.add('userAvatarSet', service => {\n      trackEvent('User', 'Avatar Changed', service);\n    }, callbacks.priority.MEDIUM, 'analytics-user-avatar-set');\n    return () => {\n      callbacks.remove('userRegistered', 'piwik-user-resitered');\n      callbacks.remove('usernameSet', 'piweik-username-set');\n      callbacks.remove('userPasswordReset', 'piwik-user-password-reset');\n      callbacks.remove('userConfirmationEmailRequested', 'piwik-user-confirmation-email-requested');\n      callbacks.remove('userForgotPasswordEmailRequested', 'piwik-user-forgot-password-email-requested');\n      callbacks.remove('userStatusManuallySet', 'analytics-user-status-manually-set');\n      callbacks.remove('userAvatarSet', 'analytics-user-avatar-set');\n    };\n  }, [featuresUsers]);\n  const uid = useUserId();\n  useEffect(() => {\n    if (!featuresUsers) {\n      return;\n    }\n    const {\n      _paq\n    } = window;\n    trackEvent('User', 'Login', uid);\n    _paq === null || _paq === void 0 ? void 0 : _paq.push(['setUserId', uid]);\n    return () => {\n      trackEvent('User', 'Logout', uid);\n    };\n  }, [featuresUsers, uid]);\n};","map":{"version":3,"names":["module","export","useAnalyticsEventTracking","useRouter","useSetting","useUserId","link","v","useEffect","callbacks","trackEvent","category","action","label","_paq","ga","window","push","router","subscribeToRouteChange","http","location","protocol","slashes","concat","host","hostname","getLocationPathname","add","state","priority","MEDIUM","remove","featuresMessages","_message","_ref","room","name","_id","LOW","featuresRooms","_owner","featuresUsers","status","service","uid"],"sources":["client/hooks/useAnalyticsEventTracking.ts"],"sourcesContent":["import { useRouter, useSetting, useUserId } from '@rocket.chat/ui-contexts';\nimport { useEffect } from 'react';\n\nimport { callbacks } from '../../lib/callbacks';\n\nfunction trackEvent(category: string, action: string, label?: unknown) {\n\tconst { _paq, ga } = window;\n\n\t_paq?.push(['trackEvent', category, action, label]);\n\tga?.('send', 'event', category, action, label);\n}\n\nexport const useAnalyticsEventTracking = () => {\n\tconst router = useRouter();\n\n\tuseEffect(\n\t\t() =>\n\t\t\trouter.subscribeToRouteChange(() => {\n\t\t\t\tconst { _paq, ga } = window;\n\n\t\t\t\tif (_paq) {\n\t\t\t\t\tconst http = location.protocol;\n\t\t\t\t\tconst slashes = http.concat('//');\n\t\t\t\t\tconst host = slashes.concat(location.hostname);\n\t\t\t\t\t_paq.push(['setCustomUrl', host + router.getLocationPathname()]);\n\t\t\t\t\t_paq.push(['trackPageView']);\n\t\t\t\t}\n\n\t\t\t\tga?.('send', 'pageview', router.getLocationPathname());\n\t\t\t}),\n\t\t[router],\n\t);\n\n\tuseEffect(() => {\n\t\tcallbacks.add(\n\t\t\t'loginPageStateChange',\n\t\t\t(state) => {\n\t\t\t\ttrackEvent('Navigation', 'Login Page State Change', state);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-login-state-change',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('loginPageStateChange', 'analytics-login-state-change');\n\t\t};\n\t}, []);\n\n\tconst featuresMessages = useSetting('Analytics_features_messages', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresMessages) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'afterSaveMessage',\n\t\t\t(_message, { room }) => {\n\t\t\t\ttrackEvent('Message', 'Send', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.LOW,\n\t\t\t'trackEvents',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('afterSaveMessage', 'trackEvents');\n\t\t};\n\t}, [featuresMessages]);\n\n\tconst featuresRooms = useSetting('Analytics_features_rooms', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresRooms) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'afterCreateChannel',\n\t\t\t(_owner, room) => {\n\t\t\t\ttrackEvent('Room', 'Create', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-after-create-channel',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomNameChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Name', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-name-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomTopicChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Topic', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-topic-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomAnnouncementChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Announcement', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-announcement-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomTypeChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Room Type', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-type-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'archiveRoom',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Archived', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-archive-room',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'unarchiveRoom',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Unarchived', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-unarchive-room',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomAvatarChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Avatar', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-avatar-changed',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('afterCreateChannel', 'analytics-after-create-channel');\n\t\t\tcallbacks.remove('roomNameChanged', 'analytics-room-name-changed');\n\t\t\tcallbacks.remove('roomTopicChanged', 'analytics-room-topic-changed');\n\t\t\tcallbacks.remove('roomAnnouncementChanged', 'analytics-room-announcement-changed');\n\t\t\tcallbacks.remove('roomTypeChanged', 'analytics-room-type-changed');\n\t\t\tcallbacks.remove('archiveRoom', 'analytics-archive-room');\n\t\t\tcallbacks.remove('unarchiveRoom', 'analytics-unarchive-room');\n\t\t\tcallbacks.remove('roomAvatarChanged', 'analytics-room-avatar-changed');\n\t\t};\n\t}, [featuresRooms]);\n\n\tconst featuresUsers = useSetting('Analytics_features_users', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresUsers) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'userRegistered',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Registered');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-resitered',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'usernameSet',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Username Set');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piweik-username-set',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userPasswordReset',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Reset Password');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-password-reset',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userConfirmationEmailRequested',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Confirmation Email Requested');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-confirmation-email-requested',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userForgotPasswordEmailRequested',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Forgot Password Email Requested');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-forgot-password-email-requested',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userStatusManuallySet',\n\t\t\t(status) => {\n\t\t\t\ttrackEvent('User', 'Status Manually Changed', status);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-user-status-manually-set',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userAvatarSet',\n\t\t\t(service) => {\n\t\t\t\ttrackEvent('User', 'Avatar Changed', service);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-user-avatar-set',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('userRegistered', 'piwik-user-resitered');\n\t\t\tcallbacks.remove('usernameSet', 'piweik-username-set');\n\t\t\tcallbacks.remove('userPasswordReset', 'piwik-user-password-reset');\n\t\t\tcallbacks.remove('userConfirmationEmailRequested', 'piwik-user-confirmation-email-requested');\n\t\t\tcallbacks.remove('userForgotPasswordEmailRequested', 'piwik-user-forgot-password-email-requested');\n\t\t\tcallbacks.remove('userStatusManuallySet', 'analytics-user-status-manually-set');\n\t\t\tcallbacks.remove('userAvatarSet', 'analytics-user-avatar-set');\n\t\t};\n\t}, [featuresUsers]);\n\n\tconst uid = useUserId();\n\n\tuseEffect(() => {\n\t\tif (!featuresUsers) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { _paq } = window;\n\n\t\ttrackEvent('User', 'Login', uid);\n\t\t_paq?.push(['setUserId', uid]);\n\n\t\treturn () => {\n\t\t\ttrackEvent('User', 'Logout', uid);\n\t\t};\n\t}, [featuresUsers, uid]);\n};\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"b5a4b6d10b77bcff9981df289c7fa6ebf121e3db"}
