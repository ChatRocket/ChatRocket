{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/avatar/UserAvatarEditor/UserAvatarEditor.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/components/avatar/UserAvatarEditor/UserAvatarEditor.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/avatar/UserAvatarEditor/UserAvatarEditor.tsx","inputSourceMap":{"version":3,"file":"client/components/avatar/UserAvatarEditor/UserAvatarEditor.tsx","sourceRoot":"","sources":["client/components/avatar/UserAvatarEditor/UserAvatarEditor.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IUser, AvatarObject } from '@rocket.chat/core-typings';\nimport { Box, Button, Avatar, TextInput, IconButton, Label } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\nimport { useToastMessageDispatch, useSetting, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ChangeEvent } from 'react';\nimport React, { useState, useCallback } from 'react';\n\nimport { useSingleFileInput } from '../../../hooks/useSingleFileInput';\nimport { isValidImageFormat } from '../../../lib/utils/isValidImageFormat';\nimport type { UserAvatarSuggestion } from './UserAvatarSuggestion';\nimport UserAvatarSuggestions from './UserAvatarSuggestions';\nimport { readFileAsDataURL } from './readFileAsDataURL';\n\ntype UserAvatarEditorProps = {\n\tcurrentUsername: IUser['username'];\n\tusername: IUser['username'];\n\tsetAvatarObj: (obj: AvatarObject) => void;\n\tdisabled?: boolean;\n\tetag: IUser['avatarETag'];\n};\n\nfunction UserAvatarEditor({ currentUsername, username, setAvatarObj, disabled, etag }: UserAvatarEditorProps): ReactElement {\n\tconst t = useTranslation();\n\tconst rotateImages = useSetting('FileUpload_RotateImages');\n\tconst [avatarFromUrl, setAvatarFromUrl] = useState('');\n\tconst [newAvatarSource, setNewAvatarSource] = useState<string>();\n\tconst imageUrlField = useUniqueId();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst setUploadedPreview = useCallback(\n\t\tasync (file, avatarObj) => {\n\t\t\tsetAvatarObj(avatarObj);\n\t\t\ttry {\n\t\t\t\tconst dataURL = await readFileAsDataURL(file);\n\n\t\t\t\tif (await isValidImageFormat(dataURL)) {\n\t\t\t\t\tsetNewAvatarSource(dataURL);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: t('Avatar_format_invalid') });\n\t\t\t}\n\t\t},\n\t\t[setAvatarObj, t, dispatchToastMessage],\n\t);\n\n\tconst [clickUpload] = useSingleFileInput(setUploadedPreview);\n\n\tconst handleAddUrl = (): void => {\n\t\tsetNewAvatarSource(avatarFromUrl);\n\t\tsetAvatarObj({ avatarUrl: avatarFromUrl });\n\t};\n\n\tconst clickReset = (): void => {\n\t\tsetNewAvatarSource(`/avatar/%40${username}`);\n\t\tsetAvatarObj('reset');\n\t};\n\n\tconst url = newAvatarSource;\n\n\tconst handleAvatarFromUrlChange = (event: ChangeEvent<HTMLInputElement>): void => {\n\t\tsetAvatarFromUrl(event.currentTarget.value);\n\t};\n\n\tconst handleSelectSuggestion = useCallback(\n\t\t(suggestion: UserAvatarSuggestion) => {\n\t\t\tsetAvatarObj(suggestion as unknown as AvatarObject);\n\t\t\tsetNewAvatarSource(suggestion.blob);\n\t\t},\n\t\t[setAvatarObj, setNewAvatarSource],\n\t);\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' fontScale='p2m' color='default'>\n\t\t\t{t('Profile_picture')}\n\t\t\t<Box display='flex' flexDirection='row' mbs={4}>\n\t\t\t\t<UserAvatar\n\t\t\t\t\tsize='x124'\n\t\t\t\t\turl={url}\n\t\t\t\t\tkey={url}\n\t\t\t\t\tdata-qa-id='UserAvatarEditor'\n\t\t\t\t\tusername={currentUsername || ''}\n\t\t\t\t\tetag={etag}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\timageOrientation: rotateImages ? 'from-image' : 'none',\n\t\t\t\t\t\tobjectFit: 'contain',\n\t\t\t\t\t}}\n\t\t\t\t\tonError={() => dispatchToastMessage({ type: 'error', message: t('error-invalid-image-url') })}\n\t\t\t\t/>\n\t\t\t\t<Box display='flex' flexDirection='column' flexGrow='1' justifyContent='space-between' mis={4}>\n\t\t\t\t\t<Box display='flex' flexDirection='row' mbs='none'>\n\t\t\t\t\t\t<Button square disabled={disabled} mi={4} title={t('Accounts_SetDefaultAvatar')} onClick={clickReset}>\n\t\t\t\t\t\t\t<Avatar url={`/avatar/%40${username}`} />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<IconButton icon='upload' secondary disabled={disabled} title={t('Upload')} mi={4} onClick={clickUpload} />\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\ticon='permalink'\n\t\t\t\t\t\t\tsecondary\n\t\t\t\t\t\t\tdisabled={disabled || !avatarFromUrl}\n\t\t\t\t\t\t\ttitle={t('Add_URL')}\n\t\t\t\t\t\t\tmi={4}\n\t\t\t\t\t\t\tonClick={handleAddUrl}\n\t\t\t\t\t\t\tdata-qa-id='UserAvatarEditorSetAvatarLink'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<UserAvatarSuggestions disabled={disabled} onSelectOne={handleSelectSuggestion} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Label htmlFor={imageUrlField} mis={4}>\n\t\t\t\t\t\t{t('Use_url_for_avatar')}\n\t\t\t\t\t</Label>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tdata-qa-id='UserAvatarEditorLink'\n\t\t\t\t\t\tid={imageUrlField}\n\t\t\t\t\t\tflexGrow={0}\n\t\t\t\t\t\tplaceholder={t('Use_url_for_avatar')}\n\t\t\t\t\t\tvalue={avatarFromUrl}\n\t\t\t\t\t\tmis={4}\n\t\t\t\t\t\tonChange={handleAvatarFromUrlChange}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n}\n\nexport default UserAvatarEditor;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/avatar/UserAvatarEditor/UserAvatarEditor.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/components/avatar/UserAvatarEditor/UserAvatarEditor.tsx","inputSourceMap":{"version":3,"file":"client/components/avatar/UserAvatarEditor/UserAvatarEditor.tsx","sourceRoot":"","sources":["client/components/avatar/UserAvatarEditor/UserAvatarEditor.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IUser, AvatarObject } from '@rocket.chat/core-typings';\nimport { Box, Button, Avatar, TextInput, IconButton, Label } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\nimport { useToastMessageDispatch, useSetting, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ChangeEvent } from 'react';\nimport React, { useState, useCallback } from 'react';\n\nimport { useSingleFileInput } from '../../../hooks/useSingleFileInput';\nimport { isValidImageFormat } from '../../../lib/utils/isValidImageFormat';\nimport type { UserAvatarSuggestion } from './UserAvatarSuggestion';\nimport UserAvatarSuggestions from './UserAvatarSuggestions';\nimport { readFileAsDataURL } from './readFileAsDataURL';\n\ntype UserAvatarEditorProps = {\n\tcurrentUsername: IUser['username'];\n\tusername: IUser['username'];\n\tsetAvatarObj: (obj: AvatarObject) => void;\n\tdisabled?: boolean;\n\tetag: IUser['avatarETag'];\n};\n\nfunction UserAvatarEditor({ currentUsername, username, setAvatarObj, disabled, etag }: UserAvatarEditorProps): ReactElement {\n\tconst t = useTranslation();\n\tconst rotateImages = useSetting('FileUpload_RotateImages');\n\tconst [avatarFromUrl, setAvatarFromUrl] = useState('');\n\tconst [newAvatarSource, setNewAvatarSource] = useState<string>();\n\tconst imageUrlField = useUniqueId();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst setUploadedPreview = useCallback(\n\t\tasync (file, avatarObj) => {\n\t\t\tsetAvatarObj(avatarObj);\n\t\t\ttry {\n\t\t\t\tconst dataURL = await readFileAsDataURL(file);\n\n\t\t\t\tif (await isValidImageFormat(dataURL)) {\n\t\t\t\t\tsetNewAvatarSource(dataURL);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: t('Avatar_format_invalid') });\n\t\t\t}\n\t\t},\n\t\t[setAvatarObj, t, dispatchToastMessage],\n\t);\n\n\tconst [clickUpload] = useSingleFileInput(setUploadedPreview);\n\n\tconst handleAddUrl = (): void => {\n\t\tsetNewAvatarSource(avatarFromUrl);\n\t\tsetAvatarObj({ avatarUrl: avatarFromUrl });\n\t};\n\n\tconst clickReset = (): void => {\n\t\tsetNewAvatarSource(`/avatar/%40${username}`);\n\t\tsetAvatarObj('reset');\n\t};\n\n\tconst url = newAvatarSource;\n\n\tconst handleAvatarFromUrlChange = (event: ChangeEvent<HTMLInputElement>): void => {\n\t\tsetAvatarFromUrl(event.currentTarget.value);\n\t};\n\n\tconst handleSelectSuggestion = useCallback(\n\t\t(suggestion: UserAvatarSuggestion) => {\n\t\t\tsetAvatarObj(suggestion as unknown as AvatarObject);\n\t\t\tsetNewAvatarSource(suggestion.blob);\n\t\t},\n\t\t[setAvatarObj, setNewAvatarSource],\n\t);\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' fontScale='p2m' color='default'>\n\t\t\t{t('Profile_picture')}\n\t\t\t<Box display='flex' flexDirection='row' mbs={4}>\n\t\t\t\t<UserAvatar\n\t\t\t\t\tsize='x124'\n\t\t\t\t\turl={url}\n\t\t\t\t\tkey={url}\n\t\t\t\t\tdata-qa-id='UserAvatarEditor'\n\t\t\t\t\tusername={currentUsername || ''}\n\t\t\t\t\tetag={etag}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\timageOrientation: rotateImages ? 'from-image' : 'none',\n\t\t\t\t\t\tobjectFit: 'contain',\n\t\t\t\t\t}}\n\t\t\t\t\tonError={() => dispatchToastMessage({ type: 'error', message: t('error-invalid-image-url') })}\n\t\t\t\t/>\n\t\t\t\t<Box display='flex' flexDirection='column' flexGrow='1' justifyContent='space-between' mis={4}>\n\t\t\t\t\t<Box display='flex' flexDirection='row' mbs='none'>\n\t\t\t\t\t\t<Button square disabled={disabled} mi={4} title={t('Accounts_SetDefaultAvatar')} onClick={clickReset}>\n\t\t\t\t\t\t\t<Avatar url={`/avatar/%40${username}`} />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<IconButton icon='upload' secondary disabled={disabled} title={t('Upload')} mi={4} onClick={clickUpload} />\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\ticon='permalink'\n\t\t\t\t\t\t\tsecondary\n\t\t\t\t\t\t\tdisabled={disabled || !avatarFromUrl}\n\t\t\t\t\t\t\ttitle={t('Add_URL')}\n\t\t\t\t\t\t\tmi={4}\n\t\t\t\t\t\t\tonClick={handleAddUrl}\n\t\t\t\t\t\t\tdata-qa-id='UserAvatarEditorSetAvatarLink'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<UserAvatarSuggestions disabled={disabled} onSelectOne={handleSelectSuggestion} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Label htmlFor={imageUrlField} mis={4}>\n\t\t\t\t\t\t{t('Use_url_for_avatar')}\n\t\t\t\t\t</Label>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tdata-qa-id='UserAvatarEditorLink'\n\t\t\t\t\t\tid={imageUrlField}\n\t\t\t\t\t\tflexGrow={0}\n\t\t\t\t\t\tplaceholder={t('Use_url_for_avatar')}\n\t\t\t\t\t\tvalue={avatarFromUrl}\n\t\t\t\t\t\tmis={4}\n\t\t\t\t\t\tonChange={handleAvatarFromUrlChange}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n}\n\nexport default UserAvatarEditor;\n"]}}},"code":"var _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nvar Box, Button, Avatar, TextInput, IconButton, Label;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  Avatar: function (v) {\n    Avatar = v;\n  },\n  TextInput: function (v) {\n    TextInput = v;\n  },\n  IconButton: function (v) {\n    IconButton = v;\n  },\n  Label: function (v) {\n    Label = v;\n  }\n}, 0);\nvar useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useUniqueId: function (v) {\n    useUniqueId = v;\n  }\n}, 1);\nvar UserAvatar;\nmodule.link(\"@rocket.chat/ui-avatar\", {\n  UserAvatar: function (v) {\n    UserAvatar = v;\n  }\n}, 2);\nvar useToastMessageDispatch, useSetting, useTranslation;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  useSetting: function (v) {\n    useSetting = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 3);\nvar React, useState, useCallback;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  }\n}, 4);\nvar useSingleFileInput;\nmodule.link(\"../../../hooks/useSingleFileInput\", {\n  useSingleFileInput: function (v) {\n    useSingleFileInput = v;\n  }\n}, 5);\nvar isValidImageFormat;\nmodule.link(\"../../../lib/utils/isValidImageFormat\", {\n  isValidImageFormat: function (v) {\n    isValidImageFormat = v;\n  }\n}, 6);\nvar UserAvatarSuggestions;\nmodule.link(\"./UserAvatarSuggestions\", {\n  \"default\": function (v) {\n    UserAvatarSuggestions = v;\n  }\n}, 7);\nvar readFileAsDataURL;\nmodule.link(\"./readFileAsDataURL\", {\n  readFileAsDataURL: function (v) {\n    readFileAsDataURL = v;\n  }\n}, 8);\nfunction UserAvatarEditor(_ref) {\n  var currentUsername = _ref.currentUsername,\n    username = _ref.username,\n    setAvatarObj = _ref.setAvatarObj,\n    disabled = _ref.disabled,\n    etag = _ref.etag;\n  var t = useTranslation();\n  var rotateImages = useSetting('FileUpload_RotateImages');\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    avatarFromUrl = _useState2[0],\n    setAvatarFromUrl = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    newAvatarSource = _useState4[0],\n    setNewAvatarSource = _useState4[1];\n  var imageUrlField = useUniqueId();\n  var dispatchToastMessage = useToastMessageDispatch();\n  var setUploadedPreview = useCallback(function () {\n    function _callee(file, avatarObj) {\n      var dataURL;\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              setAvatarObj(avatarObj);\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(readFileAsDataURL(file));\n            case 4:\n              dataURL = _context.sent;\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(isValidImageFormat(dataURL));\n            case 7:\n              if (!_context.sent) {\n                _context.next = 9;\n                break;\n              }\n              setNewAvatarSource(dataURL);\n            case 9:\n              _context.next = 14;\n              break;\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n              dispatchToastMessage({\n                type: 'error',\n                message: t('Avatar_format_invalid')\n              });\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, [[1, 11]], Promise);\n    }\n    return _callee;\n  }(), [setAvatarObj, t, dispatchToastMessage]);\n  var _useSingleFileInput = useSingleFileInput(setUploadedPreview),\n    _useSingleFileInput2 = _slicedToArray(_useSingleFileInput, 1),\n    clickUpload = _useSingleFileInput2[0];\n  var handleAddUrl = function () {\n    setNewAvatarSource(avatarFromUrl);\n    setAvatarObj({\n      avatarUrl: avatarFromUrl\n    });\n  };\n  var clickReset = function () {\n    setNewAvatarSource(\"/avatar/%40\" + username);\n    setAvatarObj('reset');\n  };\n  var url = newAvatarSource;\n  var handleAvatarFromUrlChange = function (event) {\n    setAvatarFromUrl(event.currentTarget.value);\n  };\n  var handleSelectSuggestion = useCallback(function (suggestion) {\n    setAvatarObj(suggestion);\n    setNewAvatarSource(suggestion.blob);\n  }, [setAvatarObj, setNewAvatarSource]);\n  return /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    fontScale: \"p2m\",\n    color: \"default\"\n  }, t('Profile_picture'), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    mbs: 4\n  }, /*#__PURE__*/React.createElement(UserAvatar, {\n    size: \"x124\",\n    url: url,\n    key: url,\n    \"data-qa-id\": \"UserAvatarEditor\",\n    username: currentUsername || '',\n    etag: etag,\n    style: {\n      imageOrientation: rotateImages ? 'from-image' : 'none',\n      objectFit: 'contain'\n    },\n    onError: function () {\n      return dispatchToastMessage({\n        type: 'error',\n        message: t('error-invalid-image-url')\n      });\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: \"1\",\n    justifyContent: \"space-between\",\n    mis: 4\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    mbs: \"none\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    square: true,\n    disabled: disabled,\n    mi: 4,\n    title: t('Accounts_SetDefaultAvatar'),\n    onClick: clickReset\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    url: \"/avatar/%40\" + username\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    icon: \"upload\",\n    secondary: true,\n    disabled: disabled,\n    title: t('Upload'),\n    mi: 4,\n    onClick: clickUpload\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    icon: \"permalink\",\n    secondary: true,\n    disabled: disabled || !avatarFromUrl,\n    title: t('Add_URL'),\n    mi: 4,\n    onClick: handleAddUrl,\n    \"data-qa-id\": \"UserAvatarEditorSetAvatarLink\"\n  }), /*#__PURE__*/React.createElement(UserAvatarSuggestions, {\n    disabled: disabled,\n    onSelectOne: handleSelectSuggestion\n  })), /*#__PURE__*/React.createElement(Label, {\n    htmlFor: imageUrlField,\n    mis: 4\n  }, t('Use_url_for_avatar')), /*#__PURE__*/React.createElement(TextInput, {\n    \"data-qa-id\": \"UserAvatarEditorLink\",\n    id: imageUrlField,\n    flexGrow: 0,\n    placeholder: t('Use_url_for_avatar'),\n    value: avatarFromUrl,\n    mis: 4,\n    onChange: handleAvatarFromUrlChange\n  }))));\n}\nmodule.exportDefault(UserAvatarEditor);","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","_slicedToArray","Box","Button","Avatar","TextInput","IconButton","Label","useUniqueId","UserAvatar","useToastMessageDispatch","useSetting","useTranslation","React","useState","useCallback","useSingleFileInput","isValidImageFormat","UserAvatarSuggestions","readFileAsDataURL","UserAvatarEditor","_ref","currentUsername","username","setAvatarObj","disabled","etag","t","rotateImages","_useState","_useState2","avatarFromUrl","setAvatarFromUrl","_useState3","_useState4","newAvatarSource","setNewAvatarSource","imageUrlField","dispatchToastMessage","setUploadedPreview","_callee","file","avatarObj","dataURL","async","_callee$","_context","prev","next","awrap","sent","t0","type","message","stop","Promise","_useSingleFileInput","_useSingleFileInput2","clickUpload","handleAddUrl","avatarUrl","clickReset","url","handleAvatarFromUrlChange","event","currentTarget","value","handleSelectSuggestion","suggestion","blob","createElement","display","flexDirection","fontScale","color","mbs","size","key","style","imageOrientation","objectFit","onError","flexGrow","justifyContent","mis","square","mi","title","onClick","icon","secondary","onSelectOne","htmlFor","id","placeholder","onChange","exportDefault"],"sources":["client/components/avatar/UserAvatarEditor/UserAvatarEditor.tsx"],"sourcesContent":["import type { IUser, AvatarObject } from '@rocket.chat/core-typings';\nimport { Box, Button, Avatar, TextInput, IconButton, Label } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\nimport { useToastMessageDispatch, useSetting, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ChangeEvent } from 'react';\nimport React, { useState, useCallback } from 'react';\n\nimport { useSingleFileInput } from '../../../hooks/useSingleFileInput';\nimport { isValidImageFormat } from '../../../lib/utils/isValidImageFormat';\nimport type { UserAvatarSuggestion } from './UserAvatarSuggestion';\nimport UserAvatarSuggestions from './UserAvatarSuggestions';\nimport { readFileAsDataURL } from './readFileAsDataURL';\n\ntype UserAvatarEditorProps = {\n\tcurrentUsername: IUser['username'];\n\tusername: IUser['username'];\n\tsetAvatarObj: (obj: AvatarObject) => void;\n\tdisabled?: boolean;\n\tetag: IUser['avatarETag'];\n};\n\nfunction UserAvatarEditor({ currentUsername, username, setAvatarObj, disabled, etag }: UserAvatarEditorProps): ReactElement {\n\tconst t = useTranslation();\n\tconst rotateImages = useSetting('FileUpload_RotateImages');\n\tconst [avatarFromUrl, setAvatarFromUrl] = useState('');\n\tconst [newAvatarSource, setNewAvatarSource] = useState<string>();\n\tconst imageUrlField = useUniqueId();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst setUploadedPreview = useCallback(\n\t\tasync (file, avatarObj) => {\n\t\t\tsetAvatarObj(avatarObj);\n\t\t\ttry {\n\t\t\t\tconst dataURL = await readFileAsDataURL(file);\n\n\t\t\t\tif (await isValidImageFormat(dataURL)) {\n\t\t\t\t\tsetNewAvatarSource(dataURL);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: t('Avatar_format_invalid') });\n\t\t\t}\n\t\t},\n\t\t[setAvatarObj, t, dispatchToastMessage],\n\t);\n\n\tconst [clickUpload] = useSingleFileInput(setUploadedPreview);\n\n\tconst handleAddUrl = (): void => {\n\t\tsetNewAvatarSource(avatarFromUrl);\n\t\tsetAvatarObj({ avatarUrl: avatarFromUrl });\n\t};\n\n\tconst clickReset = (): void => {\n\t\tsetNewAvatarSource(`/avatar/%40${username}`);\n\t\tsetAvatarObj('reset');\n\t};\n\n\tconst url = newAvatarSource;\n\n\tconst handleAvatarFromUrlChange = (event: ChangeEvent<HTMLInputElement>): void => {\n\t\tsetAvatarFromUrl(event.currentTarget.value);\n\t};\n\n\tconst handleSelectSuggestion = useCallback(\n\t\t(suggestion: UserAvatarSuggestion) => {\n\t\t\tsetAvatarObj(suggestion as unknown as AvatarObject);\n\t\t\tsetNewAvatarSource(suggestion.blob);\n\t\t},\n\t\t[setAvatarObj, setNewAvatarSource],\n\t);\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' fontScale='p2m' color='default'>\n\t\t\t{t('Profile_picture')}\n\t\t\t<Box display='flex' flexDirection='row' mbs={4}>\n\t\t\t\t<UserAvatar\n\t\t\t\t\tsize='x124'\n\t\t\t\t\turl={url}\n\t\t\t\t\tkey={url}\n\t\t\t\t\tdata-qa-id='UserAvatarEditor'\n\t\t\t\t\tusername={currentUsername || ''}\n\t\t\t\t\tetag={etag}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\timageOrientation: rotateImages ? 'from-image' : 'none',\n\t\t\t\t\t\tobjectFit: 'contain',\n\t\t\t\t\t}}\n\t\t\t\t\tonError={() => dispatchToastMessage({ type: 'error', message: t('error-invalid-image-url') })}\n\t\t\t\t/>\n\t\t\t\t<Box display='flex' flexDirection='column' flexGrow='1' justifyContent='space-between' mis={4}>\n\t\t\t\t\t<Box display='flex' flexDirection='row' mbs='none'>\n\t\t\t\t\t\t<Button square disabled={disabled} mi={4} title={t('Accounts_SetDefaultAvatar')} onClick={clickReset}>\n\t\t\t\t\t\t\t<Avatar url={`/avatar/%40${username}`} />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<IconButton icon='upload' secondary disabled={disabled} title={t('Upload')} mi={4} onClick={clickUpload} />\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\ticon='permalink'\n\t\t\t\t\t\t\tsecondary\n\t\t\t\t\t\t\tdisabled={disabled || !avatarFromUrl}\n\t\t\t\t\t\t\ttitle={t('Add_URL')}\n\t\t\t\t\t\t\tmi={4}\n\t\t\t\t\t\t\tonClick={handleAddUrl}\n\t\t\t\t\t\t\tdata-qa-id='UserAvatarEditorSetAvatarLink'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<UserAvatarSuggestions disabled={disabled} onSelectOne={handleSelectSuggestion} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Label htmlFor={imageUrlField} mis={4}>\n\t\t\t\t\t\t{t('Use_url_for_avatar')}\n\t\t\t\t\t</Label>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tdata-qa-id='UserAvatarEditorLink'\n\t\t\t\t\t\tid={imageUrlField}\n\t\t\t\t\t\tflexGrow={0}\n\t\t\t\t\t\tplaceholder={t('Use_url_for_avatar')}\n\t\t\t\t\t\tvalue={avatarFromUrl}\n\t\t\t\t\t\tmis={4}\n\t\t\t\t\t\tonChange={handleAvatarFromUrlChange}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n}\n\nexport default UserAvatarEditor;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"b78f1ea4b39d1ec26432b6ff1c98ace1b48d313b"}
