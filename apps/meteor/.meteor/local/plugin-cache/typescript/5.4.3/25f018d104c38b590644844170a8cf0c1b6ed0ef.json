{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/RoomMembers/RoomMembersWithData.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/room/contextualBar/RoomMembers/RoomMembersWithData.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/RoomMembers/RoomMembersWithData.tsx","inputSourceMap":{"version":3,"file":"client/views/room/contextualBar/RoomMembers/RoomMembersWithData.tsx","sourceRoot":"","sources":["client/views/room/contextualBar/RoomMembers/RoomMembersWithData.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IRoom, IUser } from '@rocket.chat/core-typings';\nimport { isRoomFederated, isDirectMessageRoom, isTeamRoom } from '@rocket.chat/core-typings';\nimport { useMutableCallback, useDebouncedValue, useLocalStorage } from '@rocket.chat/fuselage-hooks';\nimport { useUserRoom, useAtLeastOnePermission, useUser, usePermission, useUserSubscription } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback, useMemo, useState } from 'react';\n\nimport * as Federation from '../../../../lib/federation/Federation';\nimport { useMembersList } from '../../../hooks/useMembersList';\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\nimport UserInfoWithData from '../UserInfo';\nimport AddUsers from './AddUsers';\nimport InviteUsers from './InviteUsers';\nimport RoomMembers from './RoomMembers';\n\nenum ROOM_MEMBERS_TABS {\n\tINFO = 'user-info',\n\tINVITE = 'invite-users',\n\tADD = 'add-users',\n\tLIST = 'users-list',\n}\n\ntype validRoomType = 'd' | 'p' | 'c';\n\nconst RoomMembersWithData = ({ rid }: { rid: IRoom['_id'] }): ReactElement => {\n\tconst user = useUser();\n\tconst room = useUserRoom(rid);\n\tconst { closeTab } = useRoomToolbox();\n\tconst [type, setType] = useLocalStorage<'online' | 'all'>('members-list-type', 'online');\n\tconst [text, setText] = useState('');\n\tconst subscription = useUserSubscription(rid);\n\n\tconst isTeam = room && isTeamRoom(room);\n\tconst isDirect = room && isDirectMessageRoom(room);\n\tconst hasPermissionToCreateInviteLinks = usePermission('create-invite-links', rid);\n\tconst isFederated = room && isRoomFederated(room);\n\n\tconst canCreateInviteLinks =\n\t\troom && user && isFederated ? Federation.canCreateInviteLinks(user, room, subscription) : hasPermissionToCreateInviteLinks;\n\n\tconst [state, setState] = useState<{ tab: ROOM_MEMBERS_TABS; userId?: IUser['_id'] }>({\n\t\ttab: ROOM_MEMBERS_TABS.LIST,\n\t\tuserId: undefined,\n\t});\n\n\tconst debouncedText = useDebouncedValue(text, 800);\n\n\tconst { data, fetchNextPage, isLoading, refetch, hasNextPage } = useMembersList(\n\t\tuseMemo(() => ({ rid, type, limit: 50, debouncedText, roomType: room?.t as validRoomType }), [rid, type, debouncedText, room?.t]),\n\t);\n\n\tconst hasPermissionToAddUsers = useAtLeastOnePermission(\n\t\tuseMemo(() => [room?.t === 'p' ? 'add-user-to-any-p-room' : 'add-user-to-any-c-room', 'add-user-to-joined-room'], [room?.t]),\n\t\trid,\n\t);\n\n\tconst canAddUsers = room && user && isFederated ? Federation.isEditableByTheUser(user, room, subscription) : hasPermissionToAddUsers;\n\n\tconst handleTextChange = useCallback((event) => {\n\t\tsetText(event.currentTarget.value);\n\t}, []);\n\n\tconst openUserInfo = useMutableCallback((e) => {\n\t\tconst { userid } = e.currentTarget.dataset;\n\t\tsetState({\n\t\t\ttab: ROOM_MEMBERS_TABS.INFO,\n\t\t\tuserId: userid,\n\t\t});\n\t});\n\n\tconst openInvite = useMutableCallback(() => {\n\t\tsetState({ tab: ROOM_MEMBERS_TABS.INVITE });\n\t});\n\n\tconst openAddUser = useMutableCallback(() => {\n\t\tsetState({ tab: ROOM_MEMBERS_TABS.ADD });\n\t});\n\n\tconst handleBack = useCallback(() => {\n\t\tsetState({ tab: ROOM_MEMBERS_TABS.LIST });\n\t}, [setState]);\n\n\tif (state.tab === ROOM_MEMBERS_TABS.INFO && state.userId) {\n\t\treturn <UserInfoWithData rid={rid} uid={state.userId} onClose={closeTab} onClickBack={handleBack} />;\n\t}\n\n\tif (state.tab === ROOM_MEMBERS_TABS.INVITE) {\n\t\treturn <InviteUsers rid={rid} onClickBack={handleBack} />;\n\t}\n\n\tif (state.tab === ROOM_MEMBERS_TABS.ADD) {\n\t\treturn <AddUsers rid={rid} onClickBack={handleBack} reload={refetch} />;\n\t}\n\n\treturn (\n\t\t<RoomMembers\n\t\t\trid={rid}\n\t\t\tisTeam={isTeam}\n\t\t\tisDirect={isDirect}\n\t\t\tloading={isLoading}\n\t\t\ttype={type}\n\t\t\ttext={text}\n\t\t\tsetText={handleTextChange}\n\t\t\tsetType={setType}\n\t\t\tmembers={data?.pages?.flatMap((page) => page.members) ?? []}\n\t\t\ttotal={data?.pages[data.pages.length - 1].total ?? 0}\n\t\t\tonClickClose={closeTab}\n\t\t\tonClickView={openUserInfo}\n\t\t\tloadMoreItems={hasNextPage ? fetchNextPage : () => undefined}\n\t\t\treload={refetch}\n\t\t\tonClickInvite={canCreateInviteLinks && canAddUsers ? openInvite : undefined}\n\t\t\tonClickAdd={canAddUsers ? openAddUser : undefined}\n\t\t/>\n\t);\n};\n\nexport default RoomMembersWithData;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/RoomMembers/RoomMembersWithData.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/contextualBar/RoomMembers/RoomMembersWithData.tsx","inputSourceMap":{"version":3,"file":"client/views/room/contextualBar/RoomMembers/RoomMembersWithData.tsx","sourceRoot":"","sources":["client/views/room/contextualBar/RoomMembers/RoomMembersWithData.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IRoom, IUser } from '@rocket.chat/core-typings';\nimport { isRoomFederated, isDirectMessageRoom, isTeamRoom } from '@rocket.chat/core-typings';\nimport { useMutableCallback, useDebouncedValue, useLocalStorage } from '@rocket.chat/fuselage-hooks';\nimport { useUserRoom, useAtLeastOnePermission, useUser, usePermission, useUserSubscription } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback, useMemo, useState } from 'react';\n\nimport * as Federation from '../../../../lib/federation/Federation';\nimport { useMembersList } from '../../../hooks/useMembersList';\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\nimport UserInfoWithData from '../UserInfo';\nimport AddUsers from './AddUsers';\nimport InviteUsers from './InviteUsers';\nimport RoomMembers from './RoomMembers';\n\nenum ROOM_MEMBERS_TABS {\n\tINFO = 'user-info',\n\tINVITE = 'invite-users',\n\tADD = 'add-users',\n\tLIST = 'users-list',\n}\n\ntype validRoomType = 'd' | 'p' | 'c';\n\nconst RoomMembersWithData = ({ rid }: { rid: IRoom['_id'] }): ReactElement => {\n\tconst user = useUser();\n\tconst room = useUserRoom(rid);\n\tconst { closeTab } = useRoomToolbox();\n\tconst [type, setType] = useLocalStorage<'online' | 'all'>('members-list-type', 'online');\n\tconst [text, setText] = useState('');\n\tconst subscription = useUserSubscription(rid);\n\n\tconst isTeam = room && isTeamRoom(room);\n\tconst isDirect = room && isDirectMessageRoom(room);\n\tconst hasPermissionToCreateInviteLinks = usePermission('create-invite-links', rid);\n\tconst isFederated = room && isRoomFederated(room);\n\n\tconst canCreateInviteLinks =\n\t\troom && user && isFederated ? Federation.canCreateInviteLinks(user, room, subscription) : hasPermissionToCreateInviteLinks;\n\n\tconst [state, setState] = useState<{ tab: ROOM_MEMBERS_TABS; userId?: IUser['_id'] }>({\n\t\ttab: ROOM_MEMBERS_TABS.LIST,\n\t\tuserId: undefined,\n\t});\n\n\tconst debouncedText = useDebouncedValue(text, 800);\n\n\tconst { data, fetchNextPage, isLoading, refetch, hasNextPage } = useMembersList(\n\t\tuseMemo(() => ({ rid, type, limit: 50, debouncedText, roomType: room?.t as validRoomType }), [rid, type, debouncedText, room?.t]),\n\t);\n\n\tconst hasPermissionToAddUsers = useAtLeastOnePermission(\n\t\tuseMemo(() => [room?.t === 'p' ? 'add-user-to-any-p-room' : 'add-user-to-any-c-room', 'add-user-to-joined-room'], [room?.t]),\n\t\trid,\n\t);\n\n\tconst canAddUsers = room && user && isFederated ? Federation.isEditableByTheUser(user, room, subscription) : hasPermissionToAddUsers;\n\n\tconst handleTextChange = useCallback((event) => {\n\t\tsetText(event.currentTarget.value);\n\t}, []);\n\n\tconst openUserInfo = useMutableCallback((e) => {\n\t\tconst { userid } = e.currentTarget.dataset;\n\t\tsetState({\n\t\t\ttab: ROOM_MEMBERS_TABS.INFO,\n\t\t\tuserId: userid,\n\t\t});\n\t});\n\n\tconst openInvite = useMutableCallback(() => {\n\t\tsetState({ tab: ROOM_MEMBERS_TABS.INVITE });\n\t});\n\n\tconst openAddUser = useMutableCallback(() => {\n\t\tsetState({ tab: ROOM_MEMBERS_TABS.ADD });\n\t});\n\n\tconst handleBack = useCallback(() => {\n\t\tsetState({ tab: ROOM_MEMBERS_TABS.LIST });\n\t}, [setState]);\n\n\tif (state.tab === ROOM_MEMBERS_TABS.INFO && state.userId) {\n\t\treturn <UserInfoWithData rid={rid} uid={state.userId} onClose={closeTab} onClickBack={handleBack} />;\n\t}\n\n\tif (state.tab === ROOM_MEMBERS_TABS.INVITE) {\n\t\treturn <InviteUsers rid={rid} onClickBack={handleBack} />;\n\t}\n\n\tif (state.tab === ROOM_MEMBERS_TABS.ADD) {\n\t\treturn <AddUsers rid={rid} onClickBack={handleBack} reload={refetch} />;\n\t}\n\n\treturn (\n\t\t<RoomMembers\n\t\t\trid={rid}\n\t\t\tisTeam={isTeam}\n\t\t\tisDirect={isDirect}\n\t\t\tloading={isLoading}\n\t\t\ttype={type}\n\t\t\ttext={text}\n\t\t\tsetText={handleTextChange}\n\t\t\tsetType={setType}\n\t\t\tmembers={data?.pages?.flatMap((page) => page.members) ?? []}\n\t\t\ttotal={data?.pages[data.pages.length - 1].total ?? 0}\n\t\t\tonClickClose={closeTab}\n\t\t\tonClickView={openUserInfo}\n\t\t\tloadMoreItems={hasNextPage ? fetchNextPage : () => undefined}\n\t\t\treload={refetch}\n\t\t\tonClickInvite={canCreateInviteLinks && canAddUsers ? openInvite : undefined}\n\t\t\tonClickAdd={canAddUsers ? openAddUser : undefined}\n\t\t/>\n\t);\n};\n\nexport default RoomMembersWithData;\n"]}}},"code":"var _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 0);\nvar isRoomFederated, isDirectMessageRoom, isTeamRoom;\nmodule.link(\"@rocket.chat/core-typings\", {\n  isRoomFederated: function (v) {\n    isRoomFederated = v;\n  },\n  isDirectMessageRoom: function (v) {\n    isDirectMessageRoom = v;\n  },\n  isTeamRoom: function (v) {\n    isTeamRoom = v;\n  }\n}, 0);\nvar useMutableCallback, useDebouncedValue, useLocalStorage;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback: function (v) {\n    useMutableCallback = v;\n  },\n  useDebouncedValue: function (v) {\n    useDebouncedValue = v;\n  },\n  useLocalStorage: function (v) {\n    useLocalStorage = v;\n  }\n}, 1);\nvar useUserRoom, useAtLeastOnePermission, useUser, usePermission, useUserSubscription;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useUserRoom: function (v) {\n    useUserRoom = v;\n  },\n  useAtLeastOnePermission: function (v) {\n    useAtLeastOnePermission = v;\n  },\n  useUser: function (v) {\n    useUser = v;\n  },\n  usePermission: function (v) {\n    usePermission = v;\n  },\n  useUserSubscription: function (v) {\n    useUserSubscription = v;\n  }\n}, 2);\nvar React, useCallback, useMemo, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 3);\nvar Federation;\nmodule.link(\"../../../../lib/federation/Federation\", {\n  \"*\": function (v) {\n    Federation = v;\n  }\n}, 4);\nvar useMembersList;\nmodule.link(\"../../../hooks/useMembersList\", {\n  useMembersList: function (v) {\n    useMembersList = v;\n  }\n}, 5);\nvar useRoomToolbox;\nmodule.link(\"../../contexts/RoomToolboxContext\", {\n  useRoomToolbox: function (v) {\n    useRoomToolbox = v;\n  }\n}, 6);\nvar UserInfoWithData;\nmodule.link(\"../UserInfo\", {\n  \"default\": function (v) {\n    UserInfoWithData = v;\n  }\n}, 7);\nvar AddUsers;\nmodule.link(\"./AddUsers\", {\n  \"default\": function (v) {\n    AddUsers = v;\n  }\n}, 8);\nvar InviteUsers;\nmodule.link(\"./InviteUsers\", {\n  \"default\": function (v) {\n    InviteUsers = v;\n  }\n}, 9);\nvar RoomMembers;\nmodule.link(\"./RoomMembers\", {\n  \"default\": function (v) {\n    RoomMembers = v;\n  }\n}, 10);\nvar ROOM_MEMBERS_TABS;\n(function (ROOM_MEMBERS_TABS) {\n  ROOM_MEMBERS_TABS[\"INFO\"] = \"user-info\";\n  ROOM_MEMBERS_TABS[\"INVITE\"] = \"invite-users\";\n  ROOM_MEMBERS_TABS[\"ADD\"] = \"add-users\";\n  ROOM_MEMBERS_TABS[\"LIST\"] = \"users-list\";\n})(ROOM_MEMBERS_TABS || (ROOM_MEMBERS_TABS = {}));\nvar RoomMembersWithData = function (_ref) {\n  var _data$pages$flatMap, _data$pages, _data$pages$total;\n  var rid = _ref.rid;\n  var user = useUser();\n  var room = useUserRoom(rid);\n  var _useRoomToolbox = useRoomToolbox(),\n    closeTab = _useRoomToolbox.closeTab;\n  var _useLocalStorage = useLocalStorage('members-list-type', 'online'),\n    _useLocalStorage2 = _slicedToArray(_useLocalStorage, 2),\n    type = _useLocalStorage2[0],\n    setType = _useLocalStorage2[1];\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    text = _useState2[0],\n    setText = _useState2[1];\n  var subscription = useUserSubscription(rid);\n  var isTeam = room && isTeamRoom(room);\n  var isDirect = room && isDirectMessageRoom(room);\n  var hasPermissionToCreateInviteLinks = usePermission('create-invite-links', rid);\n  var isFederated = room && isRoomFederated(room);\n  var canCreateInviteLinks = room && user && isFederated ? Federation.canCreateInviteLinks(user, room, subscription) : hasPermissionToCreateInviteLinks;\n  var _useState3 = useState({\n      tab: ROOM_MEMBERS_TABS.LIST,\n      userId: undefined\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    state = _useState4[0],\n    setState = _useState4[1];\n  var debouncedText = useDebouncedValue(text, 800);\n  var _useMembersList = useMembersList(useMemo(function () {\n      return {\n        rid: rid,\n        type: type,\n        limit: 50,\n        debouncedText: debouncedText,\n        roomType: room === null || room === void 0 ? void 0 : room.t\n      };\n    }, [rid, type, debouncedText, room === null || room === void 0 ? void 0 : room.t])),\n    data = _useMembersList.data,\n    fetchNextPage = _useMembersList.fetchNextPage,\n    isLoading = _useMembersList.isLoading,\n    refetch = _useMembersList.refetch,\n    hasNextPage = _useMembersList.hasNextPage;\n  var hasPermissionToAddUsers = useAtLeastOnePermission(useMemo(function () {\n    return [(room === null || room === void 0 ? void 0 : room.t) === 'p' ? 'add-user-to-any-p-room' : 'add-user-to-any-c-room', 'add-user-to-joined-room'];\n  }, [room === null || room === void 0 ? void 0 : room.t]), rid);\n  var canAddUsers = room && user && isFederated ? Federation.isEditableByTheUser(user, room, subscription) : hasPermissionToAddUsers;\n  var handleTextChange = useCallback(function (event) {\n    setText(event.currentTarget.value);\n  }, []);\n  var openUserInfo = useMutableCallback(function (e) {\n    var userid = e.currentTarget.dataset.userid;\n    setState({\n      tab: ROOM_MEMBERS_TABS.INFO,\n      userId: userid\n    });\n  });\n  var openInvite = useMutableCallback(function () {\n    setState({\n      tab: ROOM_MEMBERS_TABS.INVITE\n    });\n  });\n  var openAddUser = useMutableCallback(function () {\n    setState({\n      tab: ROOM_MEMBERS_TABS.ADD\n    });\n  });\n  var handleBack = useCallback(function () {\n    setState({\n      tab: ROOM_MEMBERS_TABS.LIST\n    });\n  }, [setState]);\n  if (state.tab === ROOM_MEMBERS_TABS.INFO && state.userId) {\n    return /*#__PURE__*/React.createElement(UserInfoWithData, {\n      rid: rid,\n      uid: state.userId,\n      onClose: closeTab,\n      onClickBack: handleBack\n    });\n  }\n  if (state.tab === ROOM_MEMBERS_TABS.INVITE) {\n    return /*#__PURE__*/React.createElement(InviteUsers, {\n      rid: rid,\n      onClickBack: handleBack\n    });\n  }\n  if (state.tab === ROOM_MEMBERS_TABS.ADD) {\n    return /*#__PURE__*/React.createElement(AddUsers, {\n      rid: rid,\n      onClickBack: handleBack,\n      reload: refetch\n    });\n  }\n  return /*#__PURE__*/React.createElement(RoomMembers, {\n    rid: rid,\n    isTeam: isTeam,\n    isDirect: isDirect,\n    loading: isLoading,\n    type: type,\n    text: text,\n    setText: handleTextChange,\n    setType: setType,\n    members: (_data$pages$flatMap = data === null || data === void 0 ? void 0 : (_data$pages = data.pages) === null || _data$pages === void 0 ? void 0 : _data$pages.flatMap(function (page) {\n      return page.members;\n    })) !== null && _data$pages$flatMap !== void 0 ? _data$pages$flatMap : [],\n    total: (_data$pages$total = data === null || data === void 0 ? void 0 : data.pages[data.pages.length - 1].total) !== null && _data$pages$total !== void 0 ? _data$pages$total : 0,\n    onClickClose: closeTab,\n    onClickView: openUserInfo,\n    loadMoreItems: hasNextPage ? fetchNextPage : function () {\n      return undefined;\n    },\n    reload: refetch,\n    onClickInvite: canCreateInviteLinks && canAddUsers ? openInvite : undefined,\n    onClickAdd: canAddUsers ? openAddUser : undefined\n  });\n};\nmodule.exportDefault(RoomMembersWithData);","map":{"version":3,"names":["_slicedToArray","module","link","default","v","isRoomFederated","isDirectMessageRoom","isTeamRoom","useMutableCallback","useDebouncedValue","useLocalStorage","useUserRoom","useAtLeastOnePermission","useUser","usePermission","useUserSubscription","React","useCallback","useMemo","useState","Federation","*","useMembersList","useRoomToolbox","UserInfoWithData","AddUsers","InviteUsers","RoomMembers","ROOM_MEMBERS_TABS","RoomMembersWithData","_ref","_data$pages$flatMap","_data$pages","_data$pages$total","rid","user","room","_useRoomToolbox","closeTab","_useLocalStorage","_useLocalStorage2","type","setType","_useState","_useState2","text","setText","subscription","isTeam","isDirect","hasPermissionToCreateInviteLinks","isFederated","canCreateInviteLinks","_useState3","tab","LIST","userId","undefined","_useState4","state","setState","debouncedText","_useMembersList","limit","roomType","t","data","fetchNextPage","isLoading","refetch","hasNextPage","hasPermissionToAddUsers","canAddUsers","isEditableByTheUser","handleTextChange","event","currentTarget","value","openUserInfo","e","userid","dataset","INFO","openInvite","INVITE","openAddUser","ADD","handleBack","createElement","uid","onClose","onClickBack","reload","loading","members","pages","flatMap","page","total","length","onClickClose","onClickView","loadMoreItems","onClickInvite","onClickAdd","exportDefault"],"sources":["client/views/room/contextualBar/RoomMembers/RoomMembersWithData.tsx"],"sourcesContent":["import type { IRoom, IUser } from '@rocket.chat/core-typings';\nimport { isRoomFederated, isDirectMessageRoom, isTeamRoom } from '@rocket.chat/core-typings';\nimport { useMutableCallback, useDebouncedValue, useLocalStorage } from '@rocket.chat/fuselage-hooks';\nimport { useUserRoom, useAtLeastOnePermission, useUser, usePermission, useUserSubscription } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback, useMemo, useState } from 'react';\n\nimport * as Federation from '../../../../lib/federation/Federation';\nimport { useMembersList } from '../../../hooks/useMembersList';\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\nimport UserInfoWithData from '../UserInfo';\nimport AddUsers from './AddUsers';\nimport InviteUsers from './InviteUsers';\nimport RoomMembers from './RoomMembers';\n\nenum ROOM_MEMBERS_TABS {\n\tINFO = 'user-info',\n\tINVITE = 'invite-users',\n\tADD = 'add-users',\n\tLIST = 'users-list',\n}\n\ntype validRoomType = 'd' | 'p' | 'c';\n\nconst RoomMembersWithData = ({ rid }: { rid: IRoom['_id'] }): ReactElement => {\n\tconst user = useUser();\n\tconst room = useUserRoom(rid);\n\tconst { closeTab } = useRoomToolbox();\n\tconst [type, setType] = useLocalStorage<'online' | 'all'>('members-list-type', 'online');\n\tconst [text, setText] = useState('');\n\tconst subscription = useUserSubscription(rid);\n\n\tconst isTeam = room && isTeamRoom(room);\n\tconst isDirect = room && isDirectMessageRoom(room);\n\tconst hasPermissionToCreateInviteLinks = usePermission('create-invite-links', rid);\n\tconst isFederated = room && isRoomFederated(room);\n\n\tconst canCreateInviteLinks =\n\t\troom && user && isFederated ? Federation.canCreateInviteLinks(user, room, subscription) : hasPermissionToCreateInviteLinks;\n\n\tconst [state, setState] = useState<{ tab: ROOM_MEMBERS_TABS; userId?: IUser['_id'] }>({\n\t\ttab: ROOM_MEMBERS_TABS.LIST,\n\t\tuserId: undefined,\n\t});\n\n\tconst debouncedText = useDebouncedValue(text, 800);\n\n\tconst { data, fetchNextPage, isLoading, refetch, hasNextPage } = useMembersList(\n\t\tuseMemo(() => ({ rid, type, limit: 50, debouncedText, roomType: room?.t as validRoomType }), [rid, type, debouncedText, room?.t]),\n\t);\n\n\tconst hasPermissionToAddUsers = useAtLeastOnePermission(\n\t\tuseMemo(() => [room?.t === 'p' ? 'add-user-to-any-p-room' : 'add-user-to-any-c-room', 'add-user-to-joined-room'], [room?.t]),\n\t\trid,\n\t);\n\n\tconst canAddUsers = room && user && isFederated ? Federation.isEditableByTheUser(user, room, subscription) : hasPermissionToAddUsers;\n\n\tconst handleTextChange = useCallback((event) => {\n\t\tsetText(event.currentTarget.value);\n\t}, []);\n\n\tconst openUserInfo = useMutableCallback((e) => {\n\t\tconst { userid } = e.currentTarget.dataset;\n\t\tsetState({\n\t\t\ttab: ROOM_MEMBERS_TABS.INFO,\n\t\t\tuserId: userid,\n\t\t});\n\t});\n\n\tconst openInvite = useMutableCallback(() => {\n\t\tsetState({ tab: ROOM_MEMBERS_TABS.INVITE });\n\t});\n\n\tconst openAddUser = useMutableCallback(() => {\n\t\tsetState({ tab: ROOM_MEMBERS_TABS.ADD });\n\t});\n\n\tconst handleBack = useCallback(() => {\n\t\tsetState({ tab: ROOM_MEMBERS_TABS.LIST });\n\t}, [setState]);\n\n\tif (state.tab === ROOM_MEMBERS_TABS.INFO && state.userId) {\n\t\treturn <UserInfoWithData rid={rid} uid={state.userId} onClose={closeTab} onClickBack={handleBack} />;\n\t}\n\n\tif (state.tab === ROOM_MEMBERS_TABS.INVITE) {\n\t\treturn <InviteUsers rid={rid} onClickBack={handleBack} />;\n\t}\n\n\tif (state.tab === ROOM_MEMBERS_TABS.ADD) {\n\t\treturn <AddUsers rid={rid} onClickBack={handleBack} reload={refetch} />;\n\t}\n\n\treturn (\n\t\t<RoomMembers\n\t\t\trid={rid}\n\t\t\tisTeam={isTeam}\n\t\t\tisDirect={isDirect}\n\t\t\tloading={isLoading}\n\t\t\ttype={type}\n\t\t\ttext={text}\n\t\t\tsetText={handleTextChange}\n\t\t\tsetType={setType}\n\t\t\tmembers={data?.pages?.flatMap((page) => page.members) ?? []}\n\t\t\ttotal={data?.pages[data.pages.length - 1].total ?? 0}\n\t\t\tonClickClose={closeTab}\n\t\t\tonClickView={openUserInfo}\n\t\t\tloadMoreItems={hasNextPage ? fetchNextPage : () => undefined}\n\t\t\treload={refetch}\n\t\t\tonClickInvite={canCreateInviteLinks && canAddUsers ? openInvite : undefined}\n\t\t\tonClickAdd={canAddUsers ? openAddUser : undefined}\n\t\t/>\n\t);\n};\n\nexport default RoomMembersWithData;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"25f018d104c38b590644844170a8cf0c1b6ed0ef"}
