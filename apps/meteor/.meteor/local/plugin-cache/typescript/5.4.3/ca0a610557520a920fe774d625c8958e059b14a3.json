{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/deviceManagement/DeviceManagementAccountTable/DeviceManagementAccountTable.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/account/deviceManagement/DeviceManagementAccountTable/DeviceManagementAccountTable.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/deviceManagement/DeviceManagementAccountTable/DeviceManagementAccountTable.tsx","inputSourceMap":{"version":3,"file":"client/views/account/deviceManagement/DeviceManagementAccountTable/DeviceManagementAccountTable.tsx","sourceRoot":"","sources":["client/views/account/deviceManagement/DeviceManagementAccountTable/DeviceManagementAccountTable.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport DeviceManagementAccountRow from './DeviceManagementAccountRow';\nimport { GenericTableHeaderCell } from '../../../../components/GenericTable';\nimport { usePagination } from '../../../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../../../components/GenericTable/hooks/useSort';\nimport DeviceManagementTable from '../../../../components/deviceManagement/DeviceManagementTable';\nimport { useEndpointData } from '../../../../hooks/useEndpointData';\n\nconst sortMapping = {\n\tclient: 'device.name',\n\tos: 'device.os.name',\n\tloginAt: 'loginAt',\n};\n\nconst DeviceManagementAccountTable = (): ReactElement => {\n\tconst { t } = useTranslation();\n\tconst { current, itemsPerPage, setCurrent, setItemsPerPage, ...paginationProps } = usePagination();\n\tconst { sortBy, sortDirection, setSort } = useSort<'client' | 'os' | 'loginAt'>('loginAt');\n\n\tconst query = useMemo(\n\t\t() => ({\n\t\t\tsort: JSON.stringify({ [sortMapping[sortBy]]: sortDirection === 'asc' ? 1 : -1 }),\n\t\t\tcount: itemsPerPage,\n\t\t\toffset: current,\n\t\t}),\n\t\t[itemsPerPage, current, sortBy, sortDirection],\n\t);\n\n\tconst { value: data, phase, error, reload } = useEndpointData('/v1/sessions/list', { params: query });\n\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\n\tconst headers = useMemo(\n\t\t() => [\n\t\t\t<GenericTableHeaderCell key='client' direction={sortDirection} active={sortBy === 'client'} onClick={setSort} sort='client'>\n\t\t\t\t{t('Client')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='os' direction={sortDirection} active={sortBy === 'os'} onClick={setSort} sort='os'>\n\t\t\t\t{t('OS')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='loginAt' direction={sortDirection} active={sortBy === 'loginAt'} onClick={setSort} sort='loginAt'>\n\t\t\t\t{t('Last_login')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\tmediaQuery && <GenericTableHeaderCell key='_id'>{t('Device_ID')}</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='logout' />,\n\t\t],\n\t\t[t, mediaQuery, sortDirection, sortBy, setSort],\n\t);\n\n\treturn (\n\t\t<DeviceManagementTable\n\t\t\tdata={data}\n\t\t\tphase={phase}\n\t\t\terror={error}\n\t\t\treload={reload}\n\t\t\theaders={headers}\n\t\t\trenderRow={(session): ReactElement => (\n\t\t\t\t<DeviceManagementAccountRow\n\t\t\t\t\tkey={session._id}\n\t\t\t\t\t_id={session._id}\n\t\t\t\t\tdeviceName={session.device?.name}\n\t\t\t\t\tdeviceType={session.device?.type}\n\t\t\t\t\tdeviceOSName={session.device?.os.name}\n\t\t\t\t\tloginAt={session.loginAt}\n\t\t\t\t\tonReload={reload}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\tcurrent={current}\n\t\t\titemsPerPage={itemsPerPage}\n\t\t\tsetCurrent={setCurrent}\n\t\t\tsetItemsPerPage={setItemsPerPage}\n\t\t\tpaginationProps={paginationProps}\n\t\t/>\n\t);\n};\n\nexport default DeviceManagementAccountTable;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/deviceManagement/DeviceManagementAccountTable/DeviceManagementAccountTable.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/account/deviceManagement/DeviceManagementAccountTable/DeviceManagementAccountTable.tsx","inputSourceMap":{"version":3,"file":"client/views/account/deviceManagement/DeviceManagementAccountTable/DeviceManagementAccountTable.tsx","sourceRoot":"","sources":["client/views/account/deviceManagement/DeviceManagementAccountTable/DeviceManagementAccountTable.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport DeviceManagementAccountRow from './DeviceManagementAccountRow';\nimport { GenericTableHeaderCell } from '../../../../components/GenericTable';\nimport { usePagination } from '../../../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../../../components/GenericTable/hooks/useSort';\nimport DeviceManagementTable from '../../../../components/deviceManagement/DeviceManagementTable';\nimport { useEndpointData } from '../../../../hooks/useEndpointData';\n\nconst sortMapping = {\n\tclient: 'device.name',\n\tos: 'device.os.name',\n\tloginAt: 'loginAt',\n};\n\nconst DeviceManagementAccountTable = (): ReactElement => {\n\tconst { t } = useTranslation();\n\tconst { current, itemsPerPage, setCurrent, setItemsPerPage, ...paginationProps } = usePagination();\n\tconst { sortBy, sortDirection, setSort } = useSort<'client' | 'os' | 'loginAt'>('loginAt');\n\n\tconst query = useMemo(\n\t\t() => ({\n\t\t\tsort: JSON.stringify({ [sortMapping[sortBy]]: sortDirection === 'asc' ? 1 : -1 }),\n\t\t\tcount: itemsPerPage,\n\t\t\toffset: current,\n\t\t}),\n\t\t[itemsPerPage, current, sortBy, sortDirection],\n\t);\n\n\tconst { value: data, phase, error, reload } = useEndpointData('/v1/sessions/list', { params: query });\n\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\n\tconst headers = useMemo(\n\t\t() => [\n\t\t\t<GenericTableHeaderCell key='client' direction={sortDirection} active={sortBy === 'client'} onClick={setSort} sort='client'>\n\t\t\t\t{t('Client')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='os' direction={sortDirection} active={sortBy === 'os'} onClick={setSort} sort='os'>\n\t\t\t\t{t('OS')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='loginAt' direction={sortDirection} active={sortBy === 'loginAt'} onClick={setSort} sort='loginAt'>\n\t\t\t\t{t('Last_login')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\tmediaQuery && <GenericTableHeaderCell key='_id'>{t('Device_ID')}</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='logout' />,\n\t\t],\n\t\t[t, mediaQuery, sortDirection, sortBy, setSort],\n\t);\n\n\treturn (\n\t\t<DeviceManagementTable\n\t\t\tdata={data}\n\t\t\tphase={phase}\n\t\t\terror={error}\n\t\t\treload={reload}\n\t\t\theaders={headers}\n\t\t\trenderRow={(session): ReactElement => (\n\t\t\t\t<DeviceManagementAccountRow\n\t\t\t\t\tkey={session._id}\n\t\t\t\t\t_id={session._id}\n\t\t\t\t\tdeviceName={session.device?.name}\n\t\t\t\t\tdeviceType={session.device?.type}\n\t\t\t\t\tdeviceOSName={session.device?.os.name}\n\t\t\t\t\tloginAt={session.loginAt}\n\t\t\t\t\tonReload={reload}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\tcurrent={current}\n\t\t\titemsPerPage={itemsPerPage}\n\t\t\tsetCurrent={setCurrent}\n\t\t\tsetItemsPerPage={setItemsPerPage}\n\t\t\tpaginationProps={paginationProps}\n\t\t/>\n\t);\n};\n\nexport default DeviceManagementAccountTable;\n"]}}},"code":"const _excluded = [\"current\", \"itemsPerPage\", \"setCurrent\", \"setItemsPerPage\"];\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 0);\nlet useMediaQuery;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMediaQuery(v) {\n    useMediaQuery = v;\n  }\n}, 0);\nlet React, useMemo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  }\n}, 1);\nlet useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 2);\nlet DeviceManagementAccountRow;\nmodule.link(\"./DeviceManagementAccountRow\", {\n  default(v) {\n    DeviceManagementAccountRow = v;\n  }\n}, 3);\nlet GenericTableHeaderCell;\nmodule.link(\"../../../../components/GenericTable\", {\n  GenericTableHeaderCell(v) {\n    GenericTableHeaderCell = v;\n  }\n}, 4);\nlet usePagination;\nmodule.link(\"../../../../components/GenericTable/hooks/usePagination\", {\n  usePagination(v) {\n    usePagination = v;\n  }\n}, 5);\nlet useSort;\nmodule.link(\"../../../../components/GenericTable/hooks/useSort\", {\n  useSort(v) {\n    useSort = v;\n  }\n}, 6);\nlet DeviceManagementTable;\nmodule.link(\"../../../../components/deviceManagement/DeviceManagementTable\", {\n  default(v) {\n    DeviceManagementTable = v;\n  }\n}, 7);\nlet useEndpointData;\nmodule.link(\"../../../../hooks/useEndpointData\", {\n  useEndpointData(v) {\n    useEndpointData = v;\n  }\n}, 8);\nconst sortMapping = {\n  client: 'device.name',\n  os: 'device.os.name',\n  loginAt: 'loginAt'\n};\nconst DeviceManagementAccountTable = () => {\n  const {\n    t\n  } = useTranslation();\n  const _usePagination = usePagination(),\n    {\n      current,\n      itemsPerPage,\n      setCurrent,\n      setItemsPerPage\n    } = _usePagination,\n    paginationProps = _objectWithoutProperties(_usePagination, _excluded);\n  const {\n    sortBy,\n    sortDirection,\n    setSort\n  } = useSort('loginAt');\n  const query = useMemo(() => ({\n    sort: JSON.stringify({\n      [sortMapping[sortBy]]: sortDirection === 'asc' ? 1 : -1\n    }),\n    count: itemsPerPage,\n    offset: current\n  }), [itemsPerPage, current, sortBy, sortDirection]);\n  const {\n    value: data,\n    phase,\n    error,\n    reload\n  } = useEndpointData('/v1/sessions/list', {\n    params: query\n  });\n  const mediaQuery = useMediaQuery('(min-width: 1024px)');\n  const headers = useMemo(() => [/*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"client\",\n    direction: sortDirection,\n    active: sortBy === 'client',\n    onClick: setSort,\n    sort: \"client\"\n  }, t('Client')), /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"os\",\n    direction: sortDirection,\n    active: sortBy === 'os',\n    onClick: setSort,\n    sort: \"os\"\n  }, t('OS')), /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"loginAt\",\n    direction: sortDirection,\n    active: sortBy === 'loginAt',\n    onClick: setSort,\n    sort: \"loginAt\"\n  }, t('Last_login')), mediaQuery && /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"_id\"\n  }, t('Device_ID')), /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"logout\"\n  })], [t, mediaQuery, sortDirection, sortBy, setSort]);\n  return /*#__PURE__*/React.createElement(DeviceManagementTable, {\n    data: data,\n    phase: phase,\n    error: error,\n    reload: reload,\n    headers: headers,\n    renderRow: session => {\n      var _session$device, _session$device2, _session$device3;\n      return /*#__PURE__*/React.createElement(DeviceManagementAccountRow, {\n        key: session._id,\n        _id: session._id,\n        deviceName: (_session$device = session.device) === null || _session$device === void 0 ? void 0 : _session$device.name,\n        deviceType: (_session$device2 = session.device) === null || _session$device2 === void 0 ? void 0 : _session$device2.type,\n        deviceOSName: (_session$device3 = session.device) === null || _session$device3 === void 0 ? void 0 : _session$device3.os.name,\n        loginAt: session.loginAt,\n        onReload: reload\n      });\n    },\n    current: current,\n    itemsPerPage: itemsPerPage,\n    setCurrent: setCurrent,\n    setItemsPerPage: setItemsPerPage,\n    paginationProps: paginationProps\n  });\n};\nmodule.exportDefault(DeviceManagementAccountTable);","map":{"version":3,"names":["_objectWithoutProperties","module","link","default","v","useMediaQuery","React","useMemo","useTranslation","DeviceManagementAccountRow","GenericTableHeaderCell","usePagination","useSort","DeviceManagementTable","useEndpointData","sortMapping","client","os","loginAt","DeviceManagementAccountTable","t","_usePagination","current","itemsPerPage","setCurrent","setItemsPerPage","paginationProps","_excluded","sortBy","sortDirection","setSort","query","sort","JSON","stringify","count","offset","value","data","phase","error","reload","params","mediaQuery","headers","createElement","key","direction","active","onClick","renderRow","session","_session$device","_session$device2","_session$device3","_id","deviceName","device","name","deviceType","type","deviceOSName","onReload","exportDefault"],"sources":["client/views/account/deviceManagement/DeviceManagementAccountTable/DeviceManagementAccountTable.tsx"],"sourcesContent":["import { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport DeviceManagementAccountRow from './DeviceManagementAccountRow';\nimport { GenericTableHeaderCell } from '../../../../components/GenericTable';\nimport { usePagination } from '../../../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../../../components/GenericTable/hooks/useSort';\nimport DeviceManagementTable from '../../../../components/deviceManagement/DeviceManagementTable';\nimport { useEndpointData } from '../../../../hooks/useEndpointData';\n\nconst sortMapping = {\n\tclient: 'device.name',\n\tos: 'device.os.name',\n\tloginAt: 'loginAt',\n};\n\nconst DeviceManagementAccountTable = (): ReactElement => {\n\tconst { t } = useTranslation();\n\tconst { current, itemsPerPage, setCurrent, setItemsPerPage, ...paginationProps } = usePagination();\n\tconst { sortBy, sortDirection, setSort } = useSort<'client' | 'os' | 'loginAt'>('loginAt');\n\n\tconst query = useMemo(\n\t\t() => ({\n\t\t\tsort: JSON.stringify({ [sortMapping[sortBy]]: sortDirection === 'asc' ? 1 : -1 }),\n\t\t\tcount: itemsPerPage,\n\t\t\toffset: current,\n\t\t}),\n\t\t[itemsPerPage, current, sortBy, sortDirection],\n\t);\n\n\tconst { value: data, phase, error, reload } = useEndpointData('/v1/sessions/list', { params: query });\n\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\n\tconst headers = useMemo(\n\t\t() => [\n\t\t\t<GenericTableHeaderCell key='client' direction={sortDirection} active={sortBy === 'client'} onClick={setSort} sort='client'>\n\t\t\t\t{t('Client')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='os' direction={sortDirection} active={sortBy === 'os'} onClick={setSort} sort='os'>\n\t\t\t\t{t('OS')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='loginAt' direction={sortDirection} active={sortBy === 'loginAt'} onClick={setSort} sort='loginAt'>\n\t\t\t\t{t('Last_login')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\tmediaQuery && <GenericTableHeaderCell key='_id'>{t('Device_ID')}</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='logout' />,\n\t\t],\n\t\t[t, mediaQuery, sortDirection, sortBy, setSort],\n\t);\n\n\treturn (\n\t\t<DeviceManagementTable\n\t\t\tdata={data}\n\t\t\tphase={phase}\n\t\t\terror={error}\n\t\t\treload={reload}\n\t\t\theaders={headers}\n\t\t\trenderRow={(session): ReactElement => (\n\t\t\t\t<DeviceManagementAccountRow\n\t\t\t\t\tkey={session._id}\n\t\t\t\t\t_id={session._id}\n\t\t\t\t\tdeviceName={session.device?.name}\n\t\t\t\t\tdeviceType={session.device?.type}\n\t\t\t\t\tdeviceOSName={session.device?.os.name}\n\t\t\t\t\tloginAt={session.loginAt}\n\t\t\t\t\tonReload={reload}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\tcurrent={current}\n\t\t\titemsPerPage={itemsPerPage}\n\t\t\tsetCurrent={setCurrent}\n\t\t\tsetItemsPerPage={setItemsPerPage}\n\t\t\tpaginationProps={paginationProps}\n\t\t/>\n\t);\n};\n\nexport default DeviceManagementAccountTable;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"ca0a610557520a920fe774d625c8958e059b14a3"}
