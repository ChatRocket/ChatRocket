{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/engagementDashboard/messages/MessagesPerChannelSection.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/engagementDashboard/messages/MessagesPerChannelSection.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/engagementDashboard/messages/MessagesPerChannelSection.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/engagementDashboard/messages/MessagesPerChannelSection.tsx","sourceRoot":"","sources":["client/views/admin/engagementDashboard/messages/MessagesPerChannelSection.tsx"],"names":[],"mappings":"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","sourcesContent":["import { ResponsivePie } from '@nivo/pie';\nimport {\n\tBox,\n\tFlex,\n\tIcon,\n\tMargins,\n\tSkeleton,\n\tTable,\n\tTile,\n\tPalette,\n\tTooltip,\n\tTableHead,\n\tTableRow,\n\tTableBody,\n\tTableCell,\n} from '@rocket.chat/fuselage';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport DownloadDataButton from '../../../../components/dashboards/DownloadDataButton';\nimport PeriodSelector from '../../../../components/dashboards/PeriodSelector';\nimport { usePeriodSelectorState } from '../../../../components/dashboards/usePeriodSelectorState';\nimport EngagementDashboardCardFilter from '../EngagementDashboardCardFilter';\nimport LegendSymbol from '../dataView/LegendSymbol';\nimport { useMessageOrigins } from './useMessageOrigins';\nimport { useTopFivePopularChannels } from './useTopFivePopularChannels';\n\nconst colors = {\n\twarning: Palette.statusColor['status-font-on-warning'].toString(),\n\tsuccess: Palette.statusColor['status-font-on-success'].toString(),\n\tinfo: Palette.statusColor['status-font-on-info'].toString(),\n};\nconst MessagesPerChannelSection = (): ReactElement => {\n\tconst [period, periodSelectorProps] = usePeriodSelectorState('last 7 days', 'last 30 days', 'last 90 days');\n\n\tconst { t } = useTranslation();\n\n\tconst { data: messageOriginsData } = useMessageOrigins({ period });\n\tconst { data: topFivePopularChannelsData } = useTopFivePopularChannels({ period });\n\n\tconst pie = useMemo(\n\t\t() => messageOriginsData?.origins?.reduce<{ [roomType: string]: number }>((obj, { messages, t }) => ({ ...obj, [t]: messages }), {}),\n\t\t[messageOriginsData],\n\t);\n\n\tconst table = useMemo(\n\t\t() =>\n\t\t\ttopFivePopularChannelsData?.channels?.reduce<\n\t\t\t\t{\n\t\t\t\t\ti: number;\n\t\t\t\t\tt: string;\n\t\t\t\t\tname?: string;\n\t\t\t\t\tmessages: number;\n\t\t\t\t}[]\n\t\t\t>((entries, { t, messages, name, usernames }, i) => [...entries, { i, t, name: name || usernames?.join(' × '), messages }], []),\n\t\t[topFivePopularChannelsData],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<EngagementDashboardCardFilter>\n\t\t\t\t<PeriodSelector {...periodSelectorProps} />\n\t\t\t\t<DownloadDataButton\n\t\t\t\t\tattachmentName={`MessagesPerChannelSection_start_${messageOriginsData?.start}_end_${messageOriginsData?.end}`}\n\t\t\t\t\theaders={['Room Type', 'Messages']}\n\t\t\t\t\tdataAvailable={!!messageOriginsData}\n\t\t\t\t\tdataExtractor={(): unknown[][] | undefined => messageOriginsData?.origins.map(({ t, messages }) => [t, messages])}\n\t\t\t\t/>\n\t\t\t</EngagementDashboardCardFilter>\n\n\t\t\t<Flex.Container>\n\t\t\t\t<Margins inline='neg-x12'>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Margins inline={12}>\n\t\t\t\t\t\t\t<Flex.Item grow={1} shrink={0} basis='0'>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Flex.Container alignItems='center' wrap='no-wrap'>\n\t\t\t\t\t\t\t\t\t\t{pie ? (\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t<Flex.Item grow={1} shrink={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Margins inline={24}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: 300,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ResponsivePie\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'd',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Direct_Messages'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: pie.d,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: colors.warning,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'p',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Private_Channels'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: pie.p,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: colors.success,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'c',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Public_Channels'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: pie.c,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: colors.info,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinnerRadius={0.6}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolors={[colors.warning, colors.success, colors.info]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmotionConfig='stiff'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: '#9EA2A8',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 10,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.2px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip={({ datum }) => <Tooltip>{t('Value_messages', { value: datum.value })}</Tooltip>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t<Flex.Item basis='auto'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Margins block='neg-x4'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Margins block={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box color='hint' fontScale='p1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LegendSymbol color={colors.warning} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Private_Chats')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box color='hint' fontScale='p1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LegendSymbol color={colors.success} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Private_Channels')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box color='hint' fontScale='p1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LegendSymbol color={colors.info} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Public_Channels')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton variant='rect' height={300} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Flex.Container>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t\t<Flex.Item grow={1} shrink={0} basis='0'>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Margins blockEnd={16}>\n\t\t\t\t\t\t\t\t\t\t{table ? <Box fontScale='p1'>{t('Most_popular_channels_top_5')}</Box> : <Skeleton width='50%' />}\n\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t{table && !table.length && (\n\t\t\t\t\t\t\t\t\t\t<Tile fontScale='p1' color='hint' style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t\t{t('Not_enough_data')}\n\t\t\t\t\t\t\t\t\t\t</Tile>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{(!table || !!table.length) && (\n\t\t\t\t\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>#</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{t('Channel')}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='end'>{t('Number_of_messages')}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t{table?.map(({ i, t, name, messages }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{i + 1}.</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Margins inlineEnd={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(t === 'd' && <Icon name='at' />) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(t === 'p' && <Icon name='lock' />) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(t === 'c' && <Icon name='hashtag' />)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='end'>{messages}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t{!table &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tArray.from({ length: 5 }, (_, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton width='100%' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton width='100%' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton width='100%' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t</Margins>\n\t\t\t</Flex.Container>\n\t\t</>\n\t);\n};\n\nexport default MessagesPerChannelSection;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/engagementDashboard/messages/MessagesPerChannelSection.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/engagementDashboard/messages/MessagesPerChannelSection.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/engagementDashboard/messages/MessagesPerChannelSection.tsx","sourceRoot":"","sources":["client/views/admin/engagementDashboard/messages/MessagesPerChannelSection.tsx"],"names":[],"mappings":"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","sourcesContent":["import { ResponsivePie } from '@nivo/pie';\nimport {\n\tBox,\n\tFlex,\n\tIcon,\n\tMargins,\n\tSkeleton,\n\tTable,\n\tTile,\n\tPalette,\n\tTooltip,\n\tTableHead,\n\tTableRow,\n\tTableBody,\n\tTableCell,\n} from '@rocket.chat/fuselage';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport DownloadDataButton from '../../../../components/dashboards/DownloadDataButton';\nimport PeriodSelector from '../../../../components/dashboards/PeriodSelector';\nimport { usePeriodSelectorState } from '../../../../components/dashboards/usePeriodSelectorState';\nimport EngagementDashboardCardFilter from '../EngagementDashboardCardFilter';\nimport LegendSymbol from '../dataView/LegendSymbol';\nimport { useMessageOrigins } from './useMessageOrigins';\nimport { useTopFivePopularChannels } from './useTopFivePopularChannels';\n\nconst colors = {\n\twarning: Palette.statusColor['status-font-on-warning'].toString(),\n\tsuccess: Palette.statusColor['status-font-on-success'].toString(),\n\tinfo: Palette.statusColor['status-font-on-info'].toString(),\n};\nconst MessagesPerChannelSection = (): ReactElement => {\n\tconst [period, periodSelectorProps] = usePeriodSelectorState('last 7 days', 'last 30 days', 'last 90 days');\n\n\tconst { t } = useTranslation();\n\n\tconst { data: messageOriginsData } = useMessageOrigins({ period });\n\tconst { data: topFivePopularChannelsData } = useTopFivePopularChannels({ period });\n\n\tconst pie = useMemo(\n\t\t() => messageOriginsData?.origins?.reduce<{ [roomType: string]: number }>((obj, { messages, t }) => ({ ...obj, [t]: messages }), {}),\n\t\t[messageOriginsData],\n\t);\n\n\tconst table = useMemo(\n\t\t() =>\n\t\t\ttopFivePopularChannelsData?.channels?.reduce<\n\t\t\t\t{\n\t\t\t\t\ti: number;\n\t\t\t\t\tt: string;\n\t\t\t\t\tname?: string;\n\t\t\t\t\tmessages: number;\n\t\t\t\t}[]\n\t\t\t>((entries, { t, messages, name, usernames }, i) => [...entries, { i, t, name: name || usernames?.join(' × '), messages }], []),\n\t\t[topFivePopularChannelsData],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<EngagementDashboardCardFilter>\n\t\t\t\t<PeriodSelector {...periodSelectorProps} />\n\t\t\t\t<DownloadDataButton\n\t\t\t\t\tattachmentName={`MessagesPerChannelSection_start_${messageOriginsData?.start}_end_${messageOriginsData?.end}`}\n\t\t\t\t\theaders={['Room Type', 'Messages']}\n\t\t\t\t\tdataAvailable={!!messageOriginsData}\n\t\t\t\t\tdataExtractor={(): unknown[][] | undefined => messageOriginsData?.origins.map(({ t, messages }) => [t, messages])}\n\t\t\t\t/>\n\t\t\t</EngagementDashboardCardFilter>\n\n\t\t\t<Flex.Container>\n\t\t\t\t<Margins inline='neg-x12'>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Margins inline={12}>\n\t\t\t\t\t\t\t<Flex.Item grow={1} shrink={0} basis='0'>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Flex.Container alignItems='center' wrap='no-wrap'>\n\t\t\t\t\t\t\t\t\t\t{pie ? (\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t<Flex.Item grow={1} shrink={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Margins inline={24}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: 300,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ResponsivePie\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'd',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Direct_Messages'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: pie.d,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: colors.warning,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'p',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Private_Channels'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: pie.p,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: colors.success,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'c',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Public_Channels'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: pie.c,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: colors.info,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinnerRadius={0.6}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolors={[colors.warning, colors.success, colors.info]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmotionConfig='stiff'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: '#9EA2A8',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 10,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.2px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip={({ datum }) => <Tooltip>{t('Value_messages', { value: datum.value })}</Tooltip>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t<Flex.Item basis='auto'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Margins block='neg-x4'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Margins block={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box color='hint' fontScale='p1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LegendSymbol color={colors.warning} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Private_Chats')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box color='hint' fontScale='p1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LegendSymbol color={colors.success} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Private_Channels')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box color='hint' fontScale='p1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LegendSymbol color={colors.info} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Public_Channels')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton variant='rect' height={300} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Flex.Container>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t\t<Flex.Item grow={1} shrink={0} basis='0'>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Margins blockEnd={16}>\n\t\t\t\t\t\t\t\t\t\t{table ? <Box fontScale='p1'>{t('Most_popular_channels_top_5')}</Box> : <Skeleton width='50%' />}\n\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t{table && !table.length && (\n\t\t\t\t\t\t\t\t\t\t<Tile fontScale='p1' color='hint' style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t\t{t('Not_enough_data')}\n\t\t\t\t\t\t\t\t\t\t</Tile>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{(!table || !!table.length) && (\n\t\t\t\t\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>#</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{t('Channel')}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='end'>{t('Number_of_messages')}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t{table?.map(({ i, t, name, messages }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{i + 1}.</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Margins inlineEnd={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(t === 'd' && <Icon name='at' />) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(t === 'p' && <Icon name='lock' />) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(t === 'c' && <Icon name='hashtag' />)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='end'>{messages}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t{!table &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tArray.from({ length: 5 }, (_, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton width='100%' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton width='100%' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton width='100%' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t</Margins>\n\t\t\t</Flex.Container>\n\t\t</>\n\t);\n};\n\nexport default MessagesPerChannelSection;\n"]}}},"code":"var _toConsumableArray;\nmodule.link(\"@babel/runtime/helpers/toConsumableArray\", {\n  default: function (v) {\n    _toConsumableArray = v;\n  }\n}, 0);\nvar _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 1);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 2);\nvar ResponsivePie;\nmodule.link(\"@nivo/pie\", {\n  ResponsivePie: function (v) {\n    ResponsivePie = v;\n  }\n}, 0);\nvar Box, Flex, Icon, Margins, Skeleton, Table, Tile, Palette, Tooltip, TableHead, TableRow, TableBody, TableCell;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Flex: function (v) {\n    Flex = v;\n  },\n  Icon: function (v) {\n    Icon = v;\n  },\n  Margins: function (v) {\n    Margins = v;\n  },\n  Skeleton: function (v) {\n    Skeleton = v;\n  },\n  Table: function (v) {\n    Table = v;\n  },\n  Tile: function (v) {\n    Tile = v;\n  },\n  Palette: function (v) {\n    Palette = v;\n  },\n  Tooltip: function (v) {\n    Tooltip = v;\n  },\n  TableHead: function (v) {\n    TableHead = v;\n  },\n  TableRow: function (v) {\n    TableRow = v;\n  },\n  TableBody: function (v) {\n    TableBody = v;\n  },\n  TableCell: function (v) {\n    TableCell = v;\n  }\n}, 1);\nvar React, useMemo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  }\n}, 2);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 3);\nvar DownloadDataButton;\nmodule.link(\"../../../../components/dashboards/DownloadDataButton\", {\n  \"default\": function (v) {\n    DownloadDataButton = v;\n  }\n}, 4);\nvar PeriodSelector;\nmodule.link(\"../../../../components/dashboards/PeriodSelector\", {\n  \"default\": function (v) {\n    PeriodSelector = v;\n  }\n}, 5);\nvar usePeriodSelectorState;\nmodule.link(\"../../../../components/dashboards/usePeriodSelectorState\", {\n  usePeriodSelectorState: function (v) {\n    usePeriodSelectorState = v;\n  }\n}, 6);\nvar EngagementDashboardCardFilter;\nmodule.link(\"../EngagementDashboardCardFilter\", {\n  \"default\": function (v) {\n    EngagementDashboardCardFilter = v;\n  }\n}, 7);\nvar LegendSymbol;\nmodule.link(\"../dataView/LegendSymbol\", {\n  \"default\": function (v) {\n    LegendSymbol = v;\n  }\n}, 8);\nvar useMessageOrigins;\nmodule.link(\"./useMessageOrigins\", {\n  useMessageOrigins: function (v) {\n    useMessageOrigins = v;\n  }\n}, 9);\nvar useTopFivePopularChannels;\nmodule.link(\"./useTopFivePopularChannels\", {\n  useTopFivePopularChannels: function (v) {\n    useTopFivePopularChannels = v;\n  }\n}, 10);\nvar colors = {\n  warning: Palette.statusColor['status-font-on-warning'].toString(),\n  success: Palette.statusColor['status-font-on-success'].toString(),\n  info: Palette.statusColor['status-font-on-info'].toString()\n};\nvar MessagesPerChannelSection = function () {\n  var _usePeriodSelectorSta = usePeriodSelectorState('last 7 days', 'last 30 days', 'last 90 days'),\n    _usePeriodSelectorSta2 = _slicedToArray(_usePeriodSelectorSta, 2),\n    period = _usePeriodSelectorSta2[0],\n    periodSelectorProps = _usePeriodSelectorSta2[1];\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useMessageOrigins = useMessageOrigins({\n      period: period\n    }),\n    messageOriginsData = _useMessageOrigins.data;\n  var _useTopFivePopularCha = useTopFivePopularChannels({\n      period: period\n    }),\n    topFivePopularChannelsData = _useTopFivePopularCha.data;\n  var pie = useMemo(function () {\n    var _messageOriginsData$o;\n    return messageOriginsData === null || messageOriginsData === void 0 ? void 0 : (_messageOriginsData$o = messageOriginsData.origins) === null || _messageOriginsData$o === void 0 ? void 0 : _messageOriginsData$o.reduce(function (obj, _ref) {\n      var _objectSpread2;\n      var messages = _ref.messages,\n        t = _ref.t;\n      return _objectSpread(_objectSpread({}, obj), {}, (_objectSpread2 = {}, _objectSpread2[t] = messages, _objectSpread2));\n    }, {});\n  }, [messageOriginsData]);\n  var table = useMemo(function () {\n    var _topFivePopularChanne;\n    return topFivePopularChannelsData === null || topFivePopularChannelsData === void 0 ? void 0 : (_topFivePopularChanne = topFivePopularChannelsData.channels) === null || _topFivePopularChanne === void 0 ? void 0 : _topFivePopularChanne.reduce(function (entries, _ref2, i) {\n      var t = _ref2.t,\n        messages = _ref2.messages,\n        name = _ref2.name,\n        usernames = _ref2.usernames;\n      return [].concat(_toConsumableArray(entries), [{\n        i: i,\n        t: t,\n        name: name || (usernames === null || usernames === void 0 ? void 0 : usernames.join(' × ')),\n        messages: messages\n      }]);\n    }, []);\n  }, [topFivePopularChannelsData]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EngagementDashboardCardFilter, null, /*#__PURE__*/React.createElement(PeriodSelector, periodSelectorProps), /*#__PURE__*/React.createElement(DownloadDataButton, {\n    attachmentName: \"MessagesPerChannelSection_start_\" + (messageOriginsData === null || messageOriginsData === void 0 ? void 0 : messageOriginsData.start) + \"_end_\" + (messageOriginsData === null || messageOriginsData === void 0 ? void 0 : messageOriginsData.end),\n    headers: ['Room Type', 'Messages'],\n    dataAvailable: !!messageOriginsData,\n    dataExtractor: function () {\n      return messageOriginsData === null || messageOriginsData === void 0 ? void 0 : messageOriginsData.origins.map(function (_ref3) {\n        var t = _ref3.t,\n          messages = _ref3.messages;\n        return [t, messages];\n      });\n    }\n  })), /*#__PURE__*/React.createElement(Flex.Container, null, /*#__PURE__*/React.createElement(Margins, {\n    inline: \"neg-x12\"\n  }, /*#__PURE__*/React.createElement(Box, null, /*#__PURE__*/React.createElement(Margins, {\n    inline: 12\n  }, /*#__PURE__*/React.createElement(Flex.Item, {\n    grow: 1,\n    shrink: 0,\n    basis: \"0\"\n  }, /*#__PURE__*/React.createElement(Box, null, /*#__PURE__*/React.createElement(Flex.Container, {\n    alignItems: \"center\",\n    wrap: \"no-wrap\"\n  }, pie ? /*#__PURE__*/React.createElement(Box, null, /*#__PURE__*/React.createElement(Flex.Item, {\n    grow: 1,\n    shrink: 1\n  }, /*#__PURE__*/React.createElement(Margins, {\n    inline: 24\n  }, /*#__PURE__*/React.createElement(Box, {\n    style: {\n      position: 'relative',\n      height: 300\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    style: {\n      position: 'absolute',\n      width: '100%',\n      height: '100%'\n    }\n  }, /*#__PURE__*/React.createElement(ResponsivePie, {\n    data: [{\n      id: 'd',\n      label: t('Direct_Messages'),\n      value: pie.d,\n      color: colors.warning\n    }, {\n      id: 'p',\n      label: t('Private_Channels'),\n      value: pie.p,\n      color: colors.success\n    }, {\n      id: 'c',\n      label: t('Public_Channels'),\n      value: pie.c,\n      color: colors.info\n    }],\n    innerRadius: 0.6,\n    colors: [colors.warning, colors.success, colors.info],\n    animate: true,\n    motionConfig: \"stiff\",\n    theme: {\n      // TODO: Get it from theme\n      axis: {\n        ticks: {\n          text: {\n            fill: '#9EA2A8',\n            fontFamily: 'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n            fontSize: 10,\n            fontStyle: 'normal',\n            fontWeight: 600,\n            letterSpacing: '0.2px',\n            lineHeight: '12px'\n          }\n        }\n      }\n    },\n    tooltip: function (_ref4) {\n      var datum = _ref4.datum;\n      return /*#__PURE__*/React.createElement(Tooltip, null, t('Value_messages', {\n        value: datum.value\n      }));\n    }\n  }))))), /*#__PURE__*/React.createElement(Flex.Item, {\n    basis: \"auto\"\n  }, /*#__PURE__*/React.createElement(Margins, {\n    block: \"neg-x4\"\n  }, /*#__PURE__*/React.createElement(Box, null, /*#__PURE__*/React.createElement(Margins, {\n    block: 4\n  }, /*#__PURE__*/React.createElement(Box, {\n    color: \"hint\",\n    fontScale: \"p1\"\n  }, /*#__PURE__*/React.createElement(LegendSymbol, {\n    color: colors.warning\n  }), t('Private_Chats')), /*#__PURE__*/React.createElement(Box, {\n    color: \"hint\",\n    fontScale: \"p1\"\n  }, /*#__PURE__*/React.createElement(LegendSymbol, {\n    color: colors.success\n  }), t('Private_Channels')), /*#__PURE__*/React.createElement(Box, {\n    color: \"hint\",\n    fontScale: \"p1\"\n  }, /*#__PURE__*/React.createElement(LegendSymbol, {\n    color: colors.info\n  }), t('Public_Channels'))))))) : /*#__PURE__*/React.createElement(Skeleton, {\n    variant: \"rect\",\n    height: 300\n  })))), /*#__PURE__*/React.createElement(Flex.Item, {\n    grow: 1,\n    shrink: 0,\n    basis: \"0\"\n  }, /*#__PURE__*/React.createElement(Box, null, /*#__PURE__*/React.createElement(Margins, {\n    blockEnd: 16\n  }, table ? /*#__PURE__*/React.createElement(Box, {\n    fontScale: \"p1\"\n  }, t('Most_popular_channels_top_5')) : /*#__PURE__*/React.createElement(Skeleton, {\n    width: \"50%\"\n  })), table && !table.length && /*#__PURE__*/React.createElement(Tile, {\n    fontScale: \"p1\",\n    color: \"hint\",\n    style: {\n      textAlign: 'center'\n    }\n  }, t('Not_enough_data')), (!table || !!table.length) && /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableCell, null, \"#\"), /*#__PURE__*/React.createElement(TableCell, null, t('Channel')), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"end\"\n  }, t('Number_of_messages')))), /*#__PURE__*/React.createElement(TableBody, null, table === null || table === void 0 ? void 0 : table.map(function (_ref5) {\n    var i = _ref5.i,\n      t = _ref5.t,\n      name = _ref5.name,\n      messages = _ref5.messages;\n    return /*#__PURE__*/React.createElement(TableRow, {\n      key: i\n    }, /*#__PURE__*/React.createElement(TableCell, null, i + 1, \".\"), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(Margins, {\n      inlineEnd: 4\n    }, t === 'd' && /*#__PURE__*/React.createElement(Icon, {\n      name: \"at\"\n    }) || t === 'p' && /*#__PURE__*/React.createElement(Icon, {\n      name: \"lock\"\n    }) || t === 'c' && /*#__PURE__*/React.createElement(Icon, {\n      name: \"hashtag\"\n    })), name), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"end\"\n    }, messages));\n  }), !table && Array.from({\n    length: 5\n  }, function (_, i) {\n    return /*#__PURE__*/React.createElement(TableRow, {\n      key: i\n    }, /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(Skeleton, {\n      width: \"100%\"\n    })), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(Skeleton, {\n      width: \"100%\"\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"end\"\n    }, /*#__PURE__*/React.createElement(Skeleton, {\n      width: \"100%\"\n    })));\n  }))))))))));\n};\nmodule.exportDefault(MessagesPerChannelSection);","map":{"version":3,"names":["_toConsumableArray","module","link","default","v","_objectSpread","_slicedToArray","ResponsivePie","Box","Flex","Icon","Margins","Skeleton","Table","Tile","Palette","Tooltip","TableHead","TableRow","TableBody","TableCell","React","useMemo","useTranslation","DownloadDataButton","PeriodSelector","usePeriodSelectorState","EngagementDashboardCardFilter","LegendSymbol","useMessageOrigins","useTopFivePopularChannels","colors","warning","statusColor","toString","success","info","MessagesPerChannelSection","_usePeriodSelectorSta","_usePeriodSelectorSta2","period","periodSelectorProps","_useTranslation","t","_useMessageOrigins","messageOriginsData","data","_useTopFivePopularCha","topFivePopularChannelsData","pie","_messageOriginsData$o","origins","reduce","obj","_ref","_objectSpread2","messages","table","_topFivePopularChanne","channels","entries","_ref2","i","name","usernames","concat","join","createElement","Fragment","attachmentName","start","end","headers","dataAvailable","dataExtractor","map","_ref3","Container","inline","Item","grow","shrink","basis","alignItems","wrap","style","position","height","width","id","label","value","d","color","p","c","innerRadius","animate","motionConfig","theme","axis","ticks","text","fill","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","tooltip","_ref4","datum","block","fontScale","variant","blockEnd","length","textAlign","align","_ref5","key","inlineEnd","Array","from","_","exportDefault"],"sources":["client/views/admin/engagementDashboard/messages/MessagesPerChannelSection.tsx"],"sourcesContent":["import { ResponsivePie } from '@nivo/pie';\nimport {\n\tBox,\n\tFlex,\n\tIcon,\n\tMargins,\n\tSkeleton,\n\tTable,\n\tTile,\n\tPalette,\n\tTooltip,\n\tTableHead,\n\tTableRow,\n\tTableBody,\n\tTableCell,\n} from '@rocket.chat/fuselage';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport DownloadDataButton from '../../../../components/dashboards/DownloadDataButton';\nimport PeriodSelector from '../../../../components/dashboards/PeriodSelector';\nimport { usePeriodSelectorState } from '../../../../components/dashboards/usePeriodSelectorState';\nimport EngagementDashboardCardFilter from '../EngagementDashboardCardFilter';\nimport LegendSymbol from '../dataView/LegendSymbol';\nimport { useMessageOrigins } from './useMessageOrigins';\nimport { useTopFivePopularChannels } from './useTopFivePopularChannels';\n\nconst colors = {\n\twarning: Palette.statusColor['status-font-on-warning'].toString(),\n\tsuccess: Palette.statusColor['status-font-on-success'].toString(),\n\tinfo: Palette.statusColor['status-font-on-info'].toString(),\n};\nconst MessagesPerChannelSection = (): ReactElement => {\n\tconst [period, periodSelectorProps] = usePeriodSelectorState('last 7 days', 'last 30 days', 'last 90 days');\n\n\tconst { t } = useTranslation();\n\n\tconst { data: messageOriginsData } = useMessageOrigins({ period });\n\tconst { data: topFivePopularChannelsData } = useTopFivePopularChannels({ period });\n\n\tconst pie = useMemo(\n\t\t() => messageOriginsData?.origins?.reduce<{ [roomType: string]: number }>((obj, { messages, t }) => ({ ...obj, [t]: messages }), {}),\n\t\t[messageOriginsData],\n\t);\n\n\tconst table = useMemo(\n\t\t() =>\n\t\t\ttopFivePopularChannelsData?.channels?.reduce<\n\t\t\t\t{\n\t\t\t\t\ti: number;\n\t\t\t\t\tt: string;\n\t\t\t\t\tname?: string;\n\t\t\t\t\tmessages: number;\n\t\t\t\t}[]\n\t\t\t>((entries, { t, messages, name, usernames }, i) => [...entries, { i, t, name: name || usernames?.join(' × '), messages }], []),\n\t\t[topFivePopularChannelsData],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<EngagementDashboardCardFilter>\n\t\t\t\t<PeriodSelector {...periodSelectorProps} />\n\t\t\t\t<DownloadDataButton\n\t\t\t\t\tattachmentName={`MessagesPerChannelSection_start_${messageOriginsData?.start}_end_${messageOriginsData?.end}`}\n\t\t\t\t\theaders={['Room Type', 'Messages']}\n\t\t\t\t\tdataAvailable={!!messageOriginsData}\n\t\t\t\t\tdataExtractor={(): unknown[][] | undefined => messageOriginsData?.origins.map(({ t, messages }) => [t, messages])}\n\t\t\t\t/>\n\t\t\t</EngagementDashboardCardFilter>\n\n\t\t\t<Flex.Container>\n\t\t\t\t<Margins inline='neg-x12'>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Margins inline={12}>\n\t\t\t\t\t\t\t<Flex.Item grow={1} shrink={0} basis='0'>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Flex.Container alignItems='center' wrap='no-wrap'>\n\t\t\t\t\t\t\t\t\t\t{pie ? (\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t<Flex.Item grow={1} shrink={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Margins inline={24}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: 300,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ResponsivePie\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'd',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Direct_Messages'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: pie.d,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: colors.warning,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'p',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Private_Channels'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: pie.p,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: colors.success,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'c',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Public_Channels'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: pie.c,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: colors.info,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinnerRadius={0.6}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolors={[colors.warning, colors.success, colors.info]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmotionConfig='stiff'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: '#9EA2A8',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 10,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.2px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip={({ datum }) => <Tooltip>{t('Value_messages', { value: datum.value })}</Tooltip>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t<Flex.Item basis='auto'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Margins block='neg-x4'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Margins block={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box color='hint' fontScale='p1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LegendSymbol color={colors.warning} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Private_Chats')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box color='hint' fontScale='p1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LegendSymbol color={colors.success} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Private_Channels')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box color='hint' fontScale='p1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LegendSymbol color={colors.info} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Public_Channels')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton variant='rect' height={300} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Flex.Container>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t\t<Flex.Item grow={1} shrink={0} basis='0'>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Margins blockEnd={16}>\n\t\t\t\t\t\t\t\t\t\t{table ? <Box fontScale='p1'>{t('Most_popular_channels_top_5')}</Box> : <Skeleton width='50%' />}\n\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t{table && !table.length && (\n\t\t\t\t\t\t\t\t\t\t<Tile fontScale='p1' color='hint' style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t\t{t('Not_enough_data')}\n\t\t\t\t\t\t\t\t\t\t</Tile>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{(!table || !!table.length) && (\n\t\t\t\t\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>#</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{t('Channel')}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='end'>{t('Number_of_messages')}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t{table?.map(({ i, t, name, messages }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{i + 1}.</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Margins inlineEnd={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(t === 'd' && <Icon name='at' />) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(t === 'p' && <Icon name='lock' />) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(t === 'c' && <Icon name='hashtag' />)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='end'>{messages}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t{!table &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tArray.from({ length: 5 }, (_, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton width='100%' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton width='100%' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton width='100%' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t</Margins>\n\t\t\t</Flex.Container>\n\t\t</>\n\t);\n};\n\nexport default MessagesPerChannelSection;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"ac2f57839c1ecd326fee82678358bc2f265cc874"}
