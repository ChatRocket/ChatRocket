{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/settings/groups/OAuthGroupPage/OAuthGroupPage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/settings/groups/OAuthGroupPage/OAuthGroupPage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/settings/groups/OAuthGroupPage/OAuthGroupPage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/settings/groups/OAuthGroupPage/OAuthGroupPage.tsx","sourceRoot":"","sources":["client/views/admin/settings/groups/OAuthGroupPage/OAuthGroupPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ISetting } from '@rocket.chat/core-typings';\nimport { Button } from '@rocket.chat/fuselage';\nimport { capitalize } from '@rocket.chat/string-helpers';\nimport { useToastMessageDispatch, useAbsoluteUrl, useMethod, useTranslation, useSetModal } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo, useEffect, useState } from 'react';\n\nimport { strRight } from '../../../../../../lib/utils/stringUtils';\nimport GenericModal from '../../../../../components/GenericModal';\nimport { useEditableSettingsGroupSections } from '../../../EditableSettingsContext';\nimport SettingsGroupPage from '../../SettingsGroupPage';\nimport SettingsSection from '../../SettingsSection';\nimport CreateOAuthModal from './CreateOAuthModal';\n\ntype OAuthGroupPageProps = ISetting & {\n\tonClickBack?: () => void;\n};\n\nfunction OAuthGroupPage({ _id, onClickBack, ...group }: OAuthGroupPageProps): ReactElement {\n\tconst sections = useEditableSettingsGroupSections(_id);\n\tconst solo = sections.length === 1;\n\tconst t = useTranslation();\n\n\tconst [settingSections, setSettingSections] = useState(sections);\n\n\tconst sectionIsCustomOAuth = (sectionName: string): string | boolean => sectionName && /^Custom OAuth:\\s.+/.test(sectionName);\n\n\tconst getAbsoluteUrl = useAbsoluteUrl();\n\n\tconst callbackURL = (sectionName: string): string => {\n\t\tconst id = strRight(sectionName, 'Custom OAuth: ').toLowerCase();\n\t\treturn getAbsoluteUrl(`_oauth/${id}`);\n\t};\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst refreshOAuthService = useMethod('refreshOAuthService');\n\tconst addOAuthService = useMethod('addOAuthService');\n\tconst removeOAuthService = useMethod('removeOAuthService');\n\tconst setModal = useSetModal();\n\n\tconst handleRefreshOAuthServicesButtonClick = async (): Promise<void> => {\n\t\tdispatchToastMessage({ type: 'info', message: t('Refreshing') });\n\t\ttry {\n\t\t\tawait refreshOAuthService();\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Done') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst handleAddCustomOAuthButtonClick = (): void => {\n\t\tconst onConfirm = async (text: string): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait addOAuthService(text);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Custom_OAuth_has_been_added') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t} finally {\n\t\t\t\tsetModal(null);\n\t\t\t}\n\t\t};\n\t\tsetModal(<CreateOAuthModal onConfirm={onConfirm} onClose={(): void => setModal(null)} />);\n\t};\n\n\tuseEffect(() => {\n\t\tsetSettingSections(sections);\n\t}, [sections]);\n\n\tconst removeCustomOauthFactory =\n\t\t(id: string): (() => void) =>\n\t\t(): void => {\n\t\t\tconst handleConfirm = async (): Promise<void> => {\n\t\t\t\ttry {\n\t\t\t\t\tawait removeOAuthService(id);\n\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Custom_OAuth_has_been_removed') });\n\t\t\t\t\tsetSettingSections(settingSections.filter((section) => section !== `Custom OAuth: ${capitalize(id)}`));\n\t\t\t\t} catch (error) {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\t} finally {\n\t\t\t\t\tsetModal(null);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tsetModal(\n\t\t\t\t<GenericModal\n\t\t\t\t\tonClose={() => setModal(null)}\n\t\t\t\t\tonCancel={() => setModal(null)}\n\t\t\t\t\ttitle={t('Are_you_sure')}\n\t\t\t\t\tvariant='danger'\n\t\t\t\t\tconfirmText={t('Yes_delete_it')}\n\t\t\t\t\tonConfirm={handleConfirm}\n\t\t\t\t/>,\n\t\t\t);\n\t\t};\n\n\treturn (\n\t\t<SettingsGroupPage\n\t\t\t_id={_id}\n\t\t\t{...group}\n\t\t\tonClickBack={onClickBack}\n\t\t\theaderButtons={\n\t\t\t\t<>\n\t\t\t\t\t<Button onClick={handleRefreshOAuthServicesButtonClick}>{t('Refresh_oauth_services')}</Button>\n\t\t\t\t\t<Button onClick={handleAddCustomOAuthButtonClick}>{t('Add_custom_oauth')}</Button>\n\t\t\t\t</>\n\t\t\t}\n\t\t>\n\t\t\t{settingSections.map((sectionName) => {\n\t\t\t\tif (sectionIsCustomOAuth(sectionName)) {\n\t\t\t\t\tconst id = strRight(sectionName, 'Custom OAuth: ').toLowerCase();\n\n\t\t\t\t\tconst handleRemoveCustomOAuthButtonClick = removeCustomOauthFactory(id);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<SettingsSection\n\t\t\t\t\t\t\tkey={sectionName}\n\t\t\t\t\t\t\tgroupId={_id}\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('Custom_oauth_helper', callbackURL(sectionName)),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsectionName={sectionName}\n\t\t\t\t\t\t\tsolo={solo}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className='submit'>\n\t\t\t\t\t\t\t\t<Button secondary danger onClick={handleRemoveCustomOAuthButtonClick}>\n\t\t\t\t\t\t\t\t\t{t('Remove_custom_oauth')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</SettingsSection>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn <SettingsSection key={sectionName} groupId={_id} sectionName={sectionName} solo={solo} />;\n\t\t\t})}\n\t\t</SettingsGroupPage>\n\t);\n}\n\nexport default memo(OAuthGroupPage);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/settings/groups/OAuthGroupPage/OAuthGroupPage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/settings/groups/OAuthGroupPage/OAuthGroupPage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/settings/groups/OAuthGroupPage/OAuthGroupPage.tsx","sourceRoot":"","sources":["client/views/admin/settings/groups/OAuthGroupPage/OAuthGroupPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ISetting } from '@rocket.chat/core-typings';\nimport { Button } from '@rocket.chat/fuselage';\nimport { capitalize } from '@rocket.chat/string-helpers';\nimport { useToastMessageDispatch, useAbsoluteUrl, useMethod, useTranslation, useSetModal } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo, useEffect, useState } from 'react';\n\nimport { strRight } from '../../../../../../lib/utils/stringUtils';\nimport GenericModal from '../../../../../components/GenericModal';\nimport { useEditableSettingsGroupSections } from '../../../EditableSettingsContext';\nimport SettingsGroupPage from '../../SettingsGroupPage';\nimport SettingsSection from '../../SettingsSection';\nimport CreateOAuthModal from './CreateOAuthModal';\n\ntype OAuthGroupPageProps = ISetting & {\n\tonClickBack?: () => void;\n};\n\nfunction OAuthGroupPage({ _id, onClickBack, ...group }: OAuthGroupPageProps): ReactElement {\n\tconst sections = useEditableSettingsGroupSections(_id);\n\tconst solo = sections.length === 1;\n\tconst t = useTranslation();\n\n\tconst [settingSections, setSettingSections] = useState(sections);\n\n\tconst sectionIsCustomOAuth = (sectionName: string): string | boolean => sectionName && /^Custom OAuth:\\s.+/.test(sectionName);\n\n\tconst getAbsoluteUrl = useAbsoluteUrl();\n\n\tconst callbackURL = (sectionName: string): string => {\n\t\tconst id = strRight(sectionName, 'Custom OAuth: ').toLowerCase();\n\t\treturn getAbsoluteUrl(`_oauth/${id}`);\n\t};\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst refreshOAuthService = useMethod('refreshOAuthService');\n\tconst addOAuthService = useMethod('addOAuthService');\n\tconst removeOAuthService = useMethod('removeOAuthService');\n\tconst setModal = useSetModal();\n\n\tconst handleRefreshOAuthServicesButtonClick = async (): Promise<void> => {\n\t\tdispatchToastMessage({ type: 'info', message: t('Refreshing') });\n\t\ttry {\n\t\t\tawait refreshOAuthService();\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Done') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst handleAddCustomOAuthButtonClick = (): void => {\n\t\tconst onConfirm = async (text: string): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait addOAuthService(text);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Custom_OAuth_has_been_added') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t} finally {\n\t\t\t\tsetModal(null);\n\t\t\t}\n\t\t};\n\t\tsetModal(<CreateOAuthModal onConfirm={onConfirm} onClose={(): void => setModal(null)} />);\n\t};\n\n\tuseEffect(() => {\n\t\tsetSettingSections(sections);\n\t}, [sections]);\n\n\tconst removeCustomOauthFactory =\n\t\t(id: string): (() => void) =>\n\t\t(): void => {\n\t\t\tconst handleConfirm = async (): Promise<void> => {\n\t\t\t\ttry {\n\t\t\t\t\tawait removeOAuthService(id);\n\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Custom_OAuth_has_been_removed') });\n\t\t\t\t\tsetSettingSections(settingSections.filter((section) => section !== `Custom OAuth: ${capitalize(id)}`));\n\t\t\t\t} catch (error) {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\t} finally {\n\t\t\t\t\tsetModal(null);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tsetModal(\n\t\t\t\t<GenericModal\n\t\t\t\t\tonClose={() => setModal(null)}\n\t\t\t\t\tonCancel={() => setModal(null)}\n\t\t\t\t\ttitle={t('Are_you_sure')}\n\t\t\t\t\tvariant='danger'\n\t\t\t\t\tconfirmText={t('Yes_delete_it')}\n\t\t\t\t\tonConfirm={handleConfirm}\n\t\t\t\t/>,\n\t\t\t);\n\t\t};\n\n\treturn (\n\t\t<SettingsGroupPage\n\t\t\t_id={_id}\n\t\t\t{...group}\n\t\t\tonClickBack={onClickBack}\n\t\t\theaderButtons={\n\t\t\t\t<>\n\t\t\t\t\t<Button onClick={handleRefreshOAuthServicesButtonClick}>{t('Refresh_oauth_services')}</Button>\n\t\t\t\t\t<Button onClick={handleAddCustomOAuthButtonClick}>{t('Add_custom_oauth')}</Button>\n\t\t\t\t</>\n\t\t\t}\n\t\t>\n\t\t\t{settingSections.map((sectionName) => {\n\t\t\t\tif (sectionIsCustomOAuth(sectionName)) {\n\t\t\t\t\tconst id = strRight(sectionName, 'Custom OAuth: ').toLowerCase();\n\n\t\t\t\t\tconst handleRemoveCustomOAuthButtonClick = removeCustomOauthFactory(id);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<SettingsSection\n\t\t\t\t\t\t\tkey={sectionName}\n\t\t\t\t\t\t\tgroupId={_id}\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('Custom_oauth_helper', callbackURL(sectionName)),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsectionName={sectionName}\n\t\t\t\t\t\t\tsolo={solo}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className='submit'>\n\t\t\t\t\t\t\t\t<Button secondary danger onClick={handleRemoveCustomOAuthButtonClick}>\n\t\t\t\t\t\t\t\t\t{t('Remove_custom_oauth')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</SettingsSection>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn <SettingsSection key={sectionName} groupId={_id} sectionName={sectionName} solo={solo} />;\n\t\t\t})}\n\t\t</SettingsGroupPage>\n\t);\n}\n\nexport default memo(OAuthGroupPage);\n"]}}},"code":"var _excluded = [\"_id\", \"onClickBack\"];\nvar _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 1);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 2);\nvar _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 3);\nvar Button;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Button: function (v) {\n    Button = v;\n  }\n}, 0);\nvar capitalize;\nmodule.link(\"@rocket.chat/string-helpers\", {\n  capitalize: function (v) {\n    capitalize = v;\n  }\n}, 1);\nvar useToastMessageDispatch, useAbsoluteUrl, useMethod, useTranslation, useSetModal;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  useAbsoluteUrl: function (v) {\n    useAbsoluteUrl = v;\n  },\n  useMethod: function (v) {\n    useMethod = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useSetModal: function (v) {\n    useSetModal = v;\n  }\n}, 2);\nvar React, memo, useEffect, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  memo: function (v) {\n    memo = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 3);\nvar strRight;\nmodule.link(\"../../../../../../lib/utils/stringUtils\", {\n  strRight: function (v) {\n    strRight = v;\n  }\n}, 4);\nvar GenericModal;\nmodule.link(\"../../../../../components/GenericModal\", {\n  \"default\": function (v) {\n    GenericModal = v;\n  }\n}, 5);\nvar useEditableSettingsGroupSections;\nmodule.link(\"../../../EditableSettingsContext\", {\n  useEditableSettingsGroupSections: function (v) {\n    useEditableSettingsGroupSections = v;\n  }\n}, 6);\nvar SettingsGroupPage;\nmodule.link(\"../../SettingsGroupPage\", {\n  \"default\": function (v) {\n    SettingsGroupPage = v;\n  }\n}, 7);\nvar SettingsSection;\nmodule.link(\"../../SettingsSection\", {\n  \"default\": function (v) {\n    SettingsSection = v;\n  }\n}, 8);\nvar CreateOAuthModal;\nmodule.link(\"./CreateOAuthModal\", {\n  \"default\": function (v) {\n    CreateOAuthModal = v;\n  }\n}, 9);\nfunction OAuthGroupPage(_ref) {\n  var _id = _ref._id,\n    onClickBack = _ref.onClickBack,\n    group = _objectWithoutProperties(_ref, _excluded);\n  var sections = useEditableSettingsGroupSections(_id);\n  var solo = sections.length === 1;\n  var t = useTranslation();\n  var _useState = useState(sections),\n    _useState2 = _slicedToArray(_useState, 2),\n    settingSections = _useState2[0],\n    setSettingSections = _useState2[1];\n  var sectionIsCustomOAuth = function (sectionName) {\n    return sectionName && /^Custom OAuth:\\s.+/.test(sectionName);\n  };\n  var getAbsoluteUrl = useAbsoluteUrl();\n  var callbackURL = function (sectionName) {\n    var id = strRight(sectionName, 'Custom OAuth: ').toLowerCase();\n    return getAbsoluteUrl(\"_oauth/\" + id);\n  };\n  var dispatchToastMessage = useToastMessageDispatch();\n  var refreshOAuthService = useMethod('refreshOAuthService');\n  var addOAuthService = useMethod('addOAuthService');\n  var removeOAuthService = useMethod('removeOAuthService');\n  var setModal = useSetModal();\n  var handleRefreshOAuthServicesButtonClick = function () {\n    function _callee() {\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              dispatchToastMessage({\n                type: 'info',\n                message: t('Refreshing')\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(refreshOAuthService());\n            case 4:\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Done')\n              });\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](1);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context.t0\n              });\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, [[1, 7]], Promise);\n    }\n    return _callee;\n  }();\n  var handleAddCustomOAuthButtonClick = function () {\n    var onConfirm = function () {\n      function _callee2(text) {\n        return _regeneratorRuntime.async(function () {\n          function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _regeneratorRuntime.awrap(addOAuthService(text));\n              case 3:\n                dispatchToastMessage({\n                  type: 'success',\n                  message: t('Custom_OAuth_has_been_added')\n                });\n                _context2.next = 9;\n                break;\n              case 6:\n                _context2.prev = 6;\n                _context2.t0 = _context2[\"catch\"](0);\n                dispatchToastMessage({\n                  type: 'error',\n                  message: _context2.t0\n                });\n              case 9:\n                _context2.prev = 9;\n                setModal(null);\n                return _context2.finish(9);\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n          return _callee2$;\n        }(), null, null, [[0, 6, 9, 12]], Promise);\n      }\n      return _callee2;\n    }();\n    setModal( /*#__PURE__*/React.createElement(CreateOAuthModal, {\n      onConfirm: onConfirm,\n      onClose: function () {\n        return setModal(null);\n      }\n    }));\n  };\n  useEffect(function () {\n    setSettingSections(sections);\n  }, [sections]);\n  var removeCustomOauthFactory = function (id) {\n    return function () {\n      var handleConfirm = function () {\n        function _callee3() {\n          return _regeneratorRuntime.async(function () {\n            function _callee3$(_context3) {\n              while (1) switch (_context3.prev = _context3.next) {\n                case 0:\n                  _context3.prev = 0;\n                  _context3.next = 3;\n                  return _regeneratorRuntime.awrap(removeOAuthService(id));\n                case 3:\n                  dispatchToastMessage({\n                    type: 'success',\n                    message: t('Custom_OAuth_has_been_removed')\n                  });\n                  setSettingSections(settingSections.filter(function (section) {\n                    return section !== \"Custom OAuth: \" + capitalize(id);\n                  }));\n                  _context3.next = 10;\n                  break;\n                case 7:\n                  _context3.prev = 7;\n                  _context3.t0 = _context3[\"catch\"](0);\n                  dispatchToastMessage({\n                    type: 'error',\n                    message: _context3.t0\n                  });\n                case 10:\n                  _context3.prev = 10;\n                  setModal(null);\n                  return _context3.finish(10);\n                case 13:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n            return _callee3$;\n          }(), null, null, [[0, 7, 10, 13]], Promise);\n        }\n        return _callee3;\n      }();\n      setModal( /*#__PURE__*/React.createElement(GenericModal, {\n        onClose: function () {\n          return setModal(null);\n        },\n        onCancel: function () {\n          return setModal(null);\n        },\n        title: t('Are_you_sure'),\n        variant: \"danger\",\n        confirmText: t('Yes_delete_it'),\n        onConfirm: handleConfirm\n      }));\n    };\n  };\n  return /*#__PURE__*/React.createElement(SettingsGroupPage, _extends({\n    _id: _id\n  }, group, {\n    onClickBack: onClickBack,\n    headerButtons: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      onClick: handleRefreshOAuthServicesButtonClick\n    }, t('Refresh_oauth_services')), /*#__PURE__*/React.createElement(Button, {\n      onClick: handleAddCustomOAuthButtonClick\n    }, t('Add_custom_oauth')))\n  }), settingSections.map(function (sectionName) {\n    if (sectionIsCustomOAuth(sectionName)) {\n      var id = strRight(sectionName, 'Custom OAuth: ').toLowerCase();\n      var handleRemoveCustomOAuthButtonClick = removeCustomOauthFactory(id);\n      return /*#__PURE__*/React.createElement(SettingsSection, {\n        key: sectionName,\n        groupId: _id,\n        help: /*#__PURE__*/React.createElement(\"span\", {\n          dangerouslySetInnerHTML: {\n            __html: t('Custom_oauth_helper', callbackURL(sectionName))\n          }\n        }),\n        sectionName: sectionName,\n        solo: solo\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"submit\"\n      }, /*#__PURE__*/React.createElement(Button, {\n        secondary: true,\n        danger: true,\n        onClick: handleRemoveCustomOAuthButtonClick\n      }, t('Remove_custom_oauth'))));\n    }\n    return /*#__PURE__*/React.createElement(SettingsSection, {\n      key: sectionName,\n      groupId: _id,\n      sectionName: sectionName,\n      solo: solo\n    });\n  }));\n}\nmodule.exportDefault( /*#__PURE__*/memo(OAuthGroupPage));","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","_extends","_slicedToArray","_objectWithoutProperties","Button","capitalize","useToastMessageDispatch","useAbsoluteUrl","useMethod","useTranslation","useSetModal","React","memo","useEffect","useState","strRight","GenericModal","useEditableSettingsGroupSections","SettingsGroupPage","SettingsSection","CreateOAuthModal","OAuthGroupPage","_ref","_id","onClickBack","group","_excluded","sections","solo","length","t","_useState","_useState2","settingSections","setSettingSections","sectionIsCustomOAuth","sectionName","test","getAbsoluteUrl","callbackURL","id","toLowerCase","dispatchToastMessage","refreshOAuthService","addOAuthService","removeOAuthService","setModal","handleRefreshOAuthServicesButtonClick","_callee","async","_callee$","_context","prev","next","type","message","awrap","t0","stop","Promise","handleAddCustomOAuthButtonClick","onConfirm","_callee2","text","_callee2$","_context2","finish","createElement","onClose","removeCustomOauthFactory","handleConfirm","_callee3","_callee3$","_context3","filter","section","onCancel","title","variant","confirmText","headerButtons","Fragment","onClick","map","handleRemoveCustomOAuthButtonClick","key","groupId","help","dangerouslySetInnerHTML","__html","className","secondary","danger","exportDefault"],"sources":["client/views/admin/settings/groups/OAuthGroupPage/OAuthGroupPage.tsx"],"sourcesContent":["import type { ISetting } from '@rocket.chat/core-typings';\nimport { Button } from '@rocket.chat/fuselage';\nimport { capitalize } from '@rocket.chat/string-helpers';\nimport { useToastMessageDispatch, useAbsoluteUrl, useMethod, useTranslation, useSetModal } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo, useEffect, useState } from 'react';\n\nimport { strRight } from '../../../../../../lib/utils/stringUtils';\nimport GenericModal from '../../../../../components/GenericModal';\nimport { useEditableSettingsGroupSections } from '../../../EditableSettingsContext';\nimport SettingsGroupPage from '../../SettingsGroupPage';\nimport SettingsSection from '../../SettingsSection';\nimport CreateOAuthModal from './CreateOAuthModal';\n\ntype OAuthGroupPageProps = ISetting & {\n\tonClickBack?: () => void;\n};\n\nfunction OAuthGroupPage({ _id, onClickBack, ...group }: OAuthGroupPageProps): ReactElement {\n\tconst sections = useEditableSettingsGroupSections(_id);\n\tconst solo = sections.length === 1;\n\tconst t = useTranslation();\n\n\tconst [settingSections, setSettingSections] = useState(sections);\n\n\tconst sectionIsCustomOAuth = (sectionName: string): string | boolean => sectionName && /^Custom OAuth:\\s.+/.test(sectionName);\n\n\tconst getAbsoluteUrl = useAbsoluteUrl();\n\n\tconst callbackURL = (sectionName: string): string => {\n\t\tconst id = strRight(sectionName, 'Custom OAuth: ').toLowerCase();\n\t\treturn getAbsoluteUrl(`_oauth/${id}`);\n\t};\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst refreshOAuthService = useMethod('refreshOAuthService');\n\tconst addOAuthService = useMethod('addOAuthService');\n\tconst removeOAuthService = useMethod('removeOAuthService');\n\tconst setModal = useSetModal();\n\n\tconst handleRefreshOAuthServicesButtonClick = async (): Promise<void> => {\n\t\tdispatchToastMessage({ type: 'info', message: t('Refreshing') });\n\t\ttry {\n\t\t\tawait refreshOAuthService();\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Done') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst handleAddCustomOAuthButtonClick = (): void => {\n\t\tconst onConfirm = async (text: string): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait addOAuthService(text);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Custom_OAuth_has_been_added') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t} finally {\n\t\t\t\tsetModal(null);\n\t\t\t}\n\t\t};\n\t\tsetModal(<CreateOAuthModal onConfirm={onConfirm} onClose={(): void => setModal(null)} />);\n\t};\n\n\tuseEffect(() => {\n\t\tsetSettingSections(sections);\n\t}, [sections]);\n\n\tconst removeCustomOauthFactory =\n\t\t(id: string): (() => void) =>\n\t\t(): void => {\n\t\t\tconst handleConfirm = async (): Promise<void> => {\n\t\t\t\ttry {\n\t\t\t\t\tawait removeOAuthService(id);\n\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Custom_OAuth_has_been_removed') });\n\t\t\t\t\tsetSettingSections(settingSections.filter((section) => section !== `Custom OAuth: ${capitalize(id)}`));\n\t\t\t\t} catch (error) {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\t} finally {\n\t\t\t\t\tsetModal(null);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tsetModal(\n\t\t\t\t<GenericModal\n\t\t\t\t\tonClose={() => setModal(null)}\n\t\t\t\t\tonCancel={() => setModal(null)}\n\t\t\t\t\ttitle={t('Are_you_sure')}\n\t\t\t\t\tvariant='danger'\n\t\t\t\t\tconfirmText={t('Yes_delete_it')}\n\t\t\t\t\tonConfirm={handleConfirm}\n\t\t\t\t/>,\n\t\t\t);\n\t\t};\n\n\treturn (\n\t\t<SettingsGroupPage\n\t\t\t_id={_id}\n\t\t\t{...group}\n\t\t\tonClickBack={onClickBack}\n\t\t\theaderButtons={\n\t\t\t\t<>\n\t\t\t\t\t<Button onClick={handleRefreshOAuthServicesButtonClick}>{t('Refresh_oauth_services')}</Button>\n\t\t\t\t\t<Button onClick={handleAddCustomOAuthButtonClick}>{t('Add_custom_oauth')}</Button>\n\t\t\t\t</>\n\t\t\t}\n\t\t>\n\t\t\t{settingSections.map((sectionName) => {\n\t\t\t\tif (sectionIsCustomOAuth(sectionName)) {\n\t\t\t\t\tconst id = strRight(sectionName, 'Custom OAuth: ').toLowerCase();\n\n\t\t\t\t\tconst handleRemoveCustomOAuthButtonClick = removeCustomOauthFactory(id);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<SettingsSection\n\t\t\t\t\t\t\tkey={sectionName}\n\t\t\t\t\t\t\tgroupId={_id}\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('Custom_oauth_helper', callbackURL(sectionName)),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsectionName={sectionName}\n\t\t\t\t\t\t\tsolo={solo}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className='submit'>\n\t\t\t\t\t\t\t\t<Button secondary danger onClick={handleRemoveCustomOAuthButtonClick}>\n\t\t\t\t\t\t\t\t\t{t('Remove_custom_oauth')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</SettingsSection>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn <SettingsSection key={sectionName} groupId={_id} sectionName={sectionName} solo={solo} />;\n\t\t\t})}\n\t\t</SettingsGroupPage>\n\t);\n}\n\nexport default memo(OAuthGroupPage);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"a7479edab536c659d17fd472bda620c9902721c5"}
