{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/agents/AgentEdit.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/omnichannel/agents/AgentEdit.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/agents/AgentEdit.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/agents/AgentEdit.tsx","sourceRoot":"","sources":["client/views/omnichannel/agents/AgentEdit.tsx"],"names":[],"mappings":"AACA,OAAO,EACN,KAAK,EACL,UAAU,EACV,UAAU,EACV,QAAQ,EACR,SAAS,EACT,MAAM,EACN,GAAG,EACH,WAAW,EACX,IAAI,EACJ,MAAM,EACN,mBAAmB,EACnB,WAAW,EACX,WAAW,GACX,MAAM,uBAAuB,CAAC;AAE/B,OAAO,EAAE,kBAAkB,EAAE,WAAW,EAAE,MAAM,6BAA6B,CAAC;AAC9E,OAAO,EAAE,uBAAuB,EAAE,UAAU,EAAE,SAAS,EAAE,cAAc,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,0BAA0B,CAAC;AAClI,OAAO,EAAE,cAAc,EAAE,MAAM,uBAAuB,CAAC;AACvD,OAAO,KAAK,EAAE,EAAE,OAAO,EAAE,MAAM,OAAO,CAAC;AACvC,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE,MAAM,iBAAiB,CAAC;AAEpE,OAAO,EAAE,mBAAmB,EAAE,MAAM,qCAAqC,CAAC;AAC1E,OAAO,EACN,aAAa,EACb,kBAAkB,EAClB,kBAAkB,EAClB,mBAAmB,EACnB,8BAA8B,GAC9B,MAAM,mCAAmC,CAAC;AAC3C,OAAO,EAAE,cAAc,EAAE,MAAM,8BAA8B,CAAC;AAC9D,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AAQtD,MAAM,SAAS,GAAG,CAAC,EAAE,SAAS,EAAE,eAAe,EAAE,oBAAoB,EAAkB,EAAE,EAAE;IAC1F,MAAM,CAAC,GAAG,cAAc,EAAE,CAAC;IAC3B,MAAM,MAAM,GAAG,SAAS,EAAE,CAAC;IAC3B,MAAM,WAAW,GAAG,cAAc,EAAE,CAAC;IAErC,MAAM,WAAW,GAAG,UAAU,CAAC,cAAc,CAAC,CAAC;IAC/C,MAAM,oBAAoB,GAAG,uBAAuB,EAAE,CAAC;IAEvD,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,cAAc,EAAE,GAAG,SAAS,CAAC;IAE/D,MAAM,KAAK,GAAG,mBAAmB,CAAC,SAAS,CAAC,CAAC;IAE7C,MAAM,WAAW,GAA6D,OAAO,CAAC,GAAG,EAAE;QAC1F,MAAM,OAAO,GAAG,eAAe;aAC7B,MAAM,CAAC,CAAC,EAAE,YAAY,EAAE,EAAE,EAAE,CAAC,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,GAAG,KAAK,YAAY,CAAC,CAAC;aAC3F,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;YACd,GAAG,EAAE,GAAG,CAAC,YAAY;YACrB,IAAI,EAAE,GAAG,CAAC,cAAc;SACxB,CAAC,CAAC,CAAC;QAEL,OAAO,CAAC,GAAG,oBAAoB,EAAE,GAAG,OAAO,CAAC,CAAC;IAC9C,CAAC,EAAE,CAAC,oBAAoB,EAAE,eAAe,CAAC,CAAC,CAAC;IAE5C,MAAM,kBAAkB,GAAmB,OAAO,CAAC,GAAG,EAAE;QACvD,MAAM,kBAAkB,GAAG,CAAC,IAAY,EAAE,QAAkB,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAElH,OAAO,CACN,WAAW,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,CAC3C,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,kBAAkB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,kBAAkB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,CAC3F,IAAI,EAAE,CACP,CAAC;IACH,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC;IAErB,MAAM,aAAa,GAAmB,OAAO,CAC5C,GAAG,EAAE,CAAC;QACL,CAAC,WAAW,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC;QAC7B,CAAC,eAAe,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC;KACrC,EACD,CAAC,CAAC,CAAC,CACH,CAAC;IAEF,MAAM,sBAAsB,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,EAAE,YAAY,EAAE,EAAE,EAAE,CAAC,YAAY,CAAC,IAAI,EAAE,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC;IAE/H,MAAM,OAAO,GAAG,OAAO,CAAC;QACvB,MAAM,EAAE;YACP,IAAI;YACJ,QAAQ;YACR,KAAK;YACL,WAAW,EAAE,sBAAsB;YACnC,MAAM,EAAE,cAAc;YACtB,yBAAyB,EAAE,QAAQ,EAAE,yBAAyB,IAAI,CAAC;YACnE,aAAa,EAAE,EAAE;SACjB;KACD,CAAC,CAAC;IAEH,MAAM,EACL,OAAO,EACP,YAAY,EACZ,KAAK,EACL,SAAS,EAAE,EAAE,OAAO,EAAE,GACtB,GAAG,OAAO,CAAC;IAEZ,MAAM,aAAa,GAAG,SAAS,CAAC,wBAAwB,CAAC,CAAC;IAC1D,MAAM,eAAe,GAAG,WAAW,CAAC,MAAM,EAAE,2BAA2B,CAAC,CAAC;IAEzE,MAAM,UAAU,GAAG,kBAAkB,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG,IAAI,EAAE,EAAE,EAAE;QAChF,IAAI,CAAC;YACJ,MAAM,eAAe,CAAC,EAAE,OAAO,EAAE,SAAS,CAAC,GAAG,EAAE,MAAM,EAAE,CAAC,CAAC;YAC1D,MAAM,aAAa,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC;YACtD,oBAAoB,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YACjE,MAAM,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;YACvC,WAAW,CAAC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;QACpD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YAChB,oBAAoB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QACzD,CAAC;IACF,CAAC,CAAC,CAAC;IAEH,MAAM,MAAM,GAAG,WAAW,EAAE,CAAC;IAC7B,MAAM,SAAS,GAAG,WAAW,EAAE,CAAC;IAChC,MAAM,aAAa,GAAG,WAAW,EAAE,CAAC;IACpC,MAAM,UAAU,GAAG,WAAW,EAAE,CAAC;IACjC,MAAM,gBAAgB,GAAG,WAAW,EAAE,CAAC;IACvC,MAAM,WAAW,GAAG,WAAW,EAAE,CAAC;IAClC,MAAM,kBAAkB,GAAG,WAAW,EAAE,CAAC;IAEzC,OAAO,CACN,CAAC,aAAa,CAAC,UAAU,CAAC,2BAA2B,CACpD;GAAA,CAAC,mBAAmB,CACnB;IAAA,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,kBAAkB,CACxD;IAAA,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC,EAC3E;GAAA,EAAE,mBAAmB,CACrB;GAAA,CAAC,8BAA8B,CAC9B;IAAA,CAAC,YAAY,CAAC,IAAI,OAAO,CAAC,CACzB;KAAA,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CACpD;MAAA,CAAC,QAAQ,IAAI,CACZ,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAC7D;QAAA,CAAC,cAAc,CAAC,UAAU,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,EACnE;OAAA,EAAE,GAAG,CAAC,CACN,CACD;MAAA,CAAC,UAAU,CACV;OAAA,CAAC,KAAK,CACL;QAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,UAAU,CACvD;QAAA,CAAC,QAAQ,CACR;SAAA,CAAC,UAAU,CACV,IAAI,CAAC,MAAM,CACX,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,UAAU,CAAC,iBAAiB,CAAC,IAAI,KAAK,CAAC,CAAC,QAAQ,EAAG,CAAC,EAEvG;QAAA,EAAE,QAAQ,CACX;OAAA,EAAE,KAAK,CACP;OAAA,CAAC,KAAK,CACL;QAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,UAAU,CAC/D;QAAA,CAAC,QAAQ,CACR;SAAA,CAAC,UAAU,CACV,IAAI,CAAC,UAAU,CACf,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CACtB,CAAC,SAAS,CACT,EAAE,CAAC,CAAC,aAAa,CAAC,CAClB,UAAU,CAAC,qBAAqB,CAChC,IAAI,KAAK,CAAC,CACV,QAAQ,CACR,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAG,CAAC,EACpC,CACF,CAAC,EAEJ;QAAA,EAAE,QAAQ,CACX;OAAA,EAAE,KAAK,CACP;OAAA,CAAC,KAAK,CACL;QAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,UAAU,CACzD;QAAA,CAAC,QAAQ,CACR;SAAA,CAAC,UAAU,CACV,IAAI,CAAC,OAAO,CACZ,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CACtB,CAAC,SAAS,CACT,EAAE,CAAC,CAAC,UAAU,CAAC,CACf,UAAU,CAAC,kBAAkB,CAC7B,IAAI,KAAK,CAAC,CACV,QAAQ,CACR,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAG,CAAC,EACtC,CACF,CAAC,EAEJ;QAAA,EAAE,QAAQ,CACX;OAAA,EAAE,KAAK,CACP;OAAA,CAAC,KAAK,CACL;QAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,EAAE,UAAU,CACrE;QAAA,CAAC,QAAQ,CACR;SAAA,CAAC,UAAU,CACV,IAAI,CAAC,aAAa,CAClB,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CACtB,CAAC,WAAW,CACX,EAAE,CAAC,CAAC,gBAAgB,CAAC,CACrB,UAAU,CAAC,wBAAwB,CACnC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAC5B,IAAI,KAAK,CAAC,CACV,WAAW,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CACnC,UAAU,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,GAAG,KAAK,EAAE,EAAE,EAAE,CAAC,CACpC,CAAC,WAAW,CAAC,IAAI,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC,EAAG,CACxF,CAAC,EACD,CACF,CAAC,EAEJ;QAAA,EAAE,QAAQ,CACX;OAAA,EAAE,KAAK,CACP;OAAA,CAAC,KAAK,CACL;QAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,UAAU,CAC3D;QAAA,CAAC,QAAQ,CACR;SAAA,CAAC,UAAU,CACV,IAAI,CAAC,QAAQ,CACb,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CACtB,CAAC,MAAM,CACN,EAAE,CAAC,CAAC,WAAW,CAAC,CAChB,UAAU,CAAC,mBAAmB,CAC9B,IAAI,KAAK,CAAC,CACV,OAAO,CAAC,CAAC,aAAa,CAAC,CACvB,WAAW,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,EAClC,CACF,CAAC,EAEJ;QAAA,EAAE,QAAQ,CACX;OAAA,EAAE,KAAK,CACP;OAAA,CAAC,gBAAgB,IAAI,CAAC,gBAAgB,CAAC,AAAD,EAAG,CACzC;OAAA,CAAC,WAAW,IAAI,CACf,CAAC,KAAK,CACL;SAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE,UAAU,CAC1E;SAAA,CAAC,QAAQ,CACR;UAAA,CAAC,UAAU,CACV,IAAI,CAAC,eAAe,CACpB,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,kBAAkB,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,UAAU,CAAC,2BAA2B,EAAG,CAAC,EAEjH;SAAA,EAAE,QAAQ,CACX;QAAA,EAAE,KAAK,CAAC,CACR,CACF;MAAA,EAAE,UAAU,CACb;KAAA,EAAE,IAAI,CACP;IAAA,EAAE,YAAY,CACf;GAAA,EAAE,8BAA8B,CAChC;GAAA,CAAC,mBAAmB,CACnB;IAAA,CAAC,WAAW,CAAC,OAAO,CACnB;KAAA,CAAC,MAAM,CAAC,UAAU,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC,CAC7F;MAAA,CAAC,CAAC,CAAC,OAAO,CAAC,CACZ;KAAA,EAAE,MAAM,CACR;KAAA,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAC3F;MAAA,CAAC,CAAC,CAAC,MAAM,CAAC,CACX;KAAA,EAAE,MAAM,CACT;IAAA,EAAE,WAAW,CACd;GAAA,EAAE,mBAAmB,CACtB;EAAA,EAAE,aAAa,CAAC,CAChB,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,SAAS,CAAC","sourcesContent":["import type { ILivechatAgent, ILivechatDepartment, ILivechatDepartmentAgents } from '@rocket.chat/core-typings';\nimport {\n\tField,\n\tFieldLabel,\n\tFieldGroup,\n\tFieldRow,\n\tTextInput,\n\tButton,\n\tBox,\n\tMultiSelect,\n\tIcon,\n\tSelect,\n\tContextualbarFooter,\n\tButtonGroup,\n\tCheckOption,\n} from '@rocket.chat/fuselage';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useSetting, useMethod, useTranslation, useEndpoint, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\nimport { useForm, Controller, FormProvider } from 'react-hook-form';\n\nimport { getUserEmailAddress } from '../../../../lib/getUserEmailAddress';\nimport {\n\tContextualbar,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarHeader,\n\tContextualbarScrollableContent,\n} from '../../../components/Contextualbar';\nimport { UserInfoAvatar } from '../../../components/UserInfo';\nimport { MaxChatsPerAgent } from '../additionalForms';\n\ntype AgentEditProps = {\n\tagentData: Pick<ILivechatAgent, '_id' | 'username' | 'name' | 'status' | 'statusLivechat' | 'emails' | 'livechat'>;\n\tuserDepartments: (Pick<ILivechatDepartmentAgents, 'departmentId'> & { departmentName: string })[];\n\tavailableDepartments: Pick<ILivechatDepartment, '_id' | 'name' | 'archived'>[];\n};\n\nconst AgentEdit = ({ agentData, userDepartments, availableDepartments }: AgentEditProps) => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\n\tconst voipEnabled = useSetting('VoIP_Enabled');\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst { name, username, livechat, statusLivechat } = agentData;\n\n\tconst email = getUserEmailAddress(agentData);\n\n\tconst departments: Pick<ILivechatDepartment, '_id' | 'name' | 'archived'>[] = useMemo(() => {\n\t\tconst pending = userDepartments\n\t\t\t.filter(({ departmentId }) => !availableDepartments.find((dep) => dep._id === departmentId))\n\t\t\t.map((dep) => ({\n\t\t\t\t_id: dep.departmentId,\n\t\t\t\tname: dep.departmentName,\n\t\t\t}));\n\n\t\treturn [...availableDepartments, ...pending];\n\t}, [availableDepartments, userDepartments]);\n\n\tconst departmentsOptions: SelectOption[] = useMemo(() => {\n\t\tconst archivedDepartment = (name: string, archived?: boolean) => (archived ? `${name} [${t('Archived')}]` : name);\n\n\t\treturn (\n\t\t\tdepartments.map(({ _id, name, archived }) =>\n\t\t\t\tname ? [_id, archivedDepartment(name, archived)] : [_id, archivedDepartment(_id, archived)],\n\t\t\t) || []\n\t\t);\n\t}, [departments, t]);\n\n\tconst statusOptions: SelectOption[] = useMemo(\n\t\t() => [\n\t\t\t['available', t('Available')],\n\t\t\t['not-available', t('Not_Available')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst initialDepartmentValue = useMemo(() => userDepartments.map(({ departmentId }) => departmentId) || [], [userDepartments]);\n\n\tconst methods = useForm({\n\t\tvalues: {\n\t\t\tname,\n\t\t\tusername,\n\t\t\temail,\n\t\t\tdepartments: initialDepartmentValue,\n\t\t\tstatus: statusLivechat,\n\t\t\tmaxNumberSimultaneousChat: livechat?.maxNumberSimultaneousChat || 0,\n\t\t\tvoipExtension: '',\n\t\t},\n\t});\n\n\tconst {\n\t\tcontrol,\n\t\thandleSubmit,\n\t\treset,\n\t\tformState: { isDirty },\n\t} = methods;\n\n\tconst saveAgentInfo = useMethod('livechat:saveAgentInfo');\n\tconst saveAgentStatus = useEndpoint('POST', '/v1/livechat/agent.status');\n\n\tconst handleSave = useMutableCallback(async ({ status, departments, ...data }) => {\n\t\ttry {\n\t\t\tawait saveAgentStatus({ agentId: agentData._id, status });\n\t\t\tawait saveAgentInfo(agentData._id, data, departments);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Success') });\n\t\t\trouter.navigate('/omnichannel/agents');\n\t\t\tqueryClient.invalidateQueries(['livechat-agents']);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst formId = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst usernameField = useUniqueId();\n\tconst emailField = useUniqueId();\n\tconst departmentsField = useUniqueId();\n\tconst statusField = useUniqueId();\n\tconst voipExtensionField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar data-qa-id='agent-edit-contextual-bar'>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{t('Edit_User')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/agents')} />\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t<form id={formId} onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t\t{username && (\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' alignItems='center'>\n\t\t\t\t\t\t\t\t<UserInfoAvatar data-qa-id='agent-edit-avatar' username={username} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField}>{t('Name')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput id={nameField} data-qa-id='agent-edit-name' {...field} readOnly />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={usernameField}>{t('Username')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='username'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\tid={usernameField}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-qa-id='agent-edit-username'\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\t\t\t\taddon={<Icon name='at' size='x20' />}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={emailField}>{t('Email')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\tid={emailField}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-qa-id='agent-edit-email'\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\t\t\t\taddon={<Icon name='mail' size='x20' />}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={departmentsField}>{t('Departments')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='departments'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<MultiSelect\n\t\t\t\t\t\t\t\t\t\t\t\tid={departmentsField}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-qa-id='agent-edit-departments'\n\t\t\t\t\t\t\t\t\t\t\t\toptions={departmentsOptions}\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckOption {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={statusField}>{t('Status')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='status'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\tid={statusField}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-qa-id='agent-edit-status'\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={statusOptions}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t{MaxChatsPerAgent && <MaxChatsPerAgent />}\n\t\t\t\t\t\t\t{voipEnabled && (\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={voipExtensionField}>{t('VoIP_Extension')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\tname='voipExtension'\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput id={voipExtensionField} {...field} data-qa-id='agent-edit-voip-extension' />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t</form>\n\t\t\t\t</FormProvider>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button data-qa-id='agent-edit-reset' type='reset' disabled={!isDirty} onClick={() => reset()}>\n\t\t\t\t\t\t{t('Reset')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button form={formId} primary type='submit' data-qa-id='agent-edit-save' disabled={!isDirty}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default AgentEdit;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/agents/AgentEdit.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/omnichannel/agents/AgentEdit.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/agents/AgentEdit.tsx","sourceRoot":"","sources":["client/views/omnichannel/agents/AgentEdit.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ILivechatAgent, ILivechatDepartment, ILivechatDepartmentAgents } from '@rocket.chat/core-typings';\nimport {\n\tField,\n\tFieldLabel,\n\tFieldGroup,\n\tFieldRow,\n\tTextInput,\n\tButton,\n\tBox,\n\tMultiSelect,\n\tIcon,\n\tSelect,\n\tContextualbarFooter,\n\tButtonGroup,\n\tCheckOption,\n} from '@rocket.chat/fuselage';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useSetting, useMethod, useTranslation, useEndpoint, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\nimport { useForm, Controller, FormProvider } from 'react-hook-form';\n\nimport { getUserEmailAddress } from '../../../../lib/getUserEmailAddress';\nimport {\n\tContextualbar,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarHeader,\n\tContextualbarScrollableContent,\n} from '../../../components/Contextualbar';\nimport { UserInfoAvatar } from '../../../components/UserInfo';\nimport { MaxChatsPerAgent } from '../additionalForms';\n\ntype AgentEditProps = {\n\tagentData: Pick<ILivechatAgent, '_id' | 'username' | 'name' | 'status' | 'statusLivechat' | 'emails' | 'livechat'>;\n\tuserDepartments: (Pick<ILivechatDepartmentAgents, 'departmentId'> & { departmentName: string })[];\n\tavailableDepartments: Pick<ILivechatDepartment, '_id' | 'name' | 'archived'>[];\n};\n\nconst AgentEdit = ({ agentData, userDepartments, availableDepartments }: AgentEditProps) => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\n\tconst voipEnabled = useSetting('VoIP_Enabled');\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst { name, username, livechat, statusLivechat } = agentData;\n\n\tconst email = getUserEmailAddress(agentData);\n\n\tconst departments: Pick<ILivechatDepartment, '_id' | 'name' | 'archived'>[] = useMemo(() => {\n\t\tconst pending = userDepartments\n\t\t\t.filter(({ departmentId }) => !availableDepartments.find((dep) => dep._id === departmentId))\n\t\t\t.map((dep) => ({\n\t\t\t\t_id: dep.departmentId,\n\t\t\t\tname: dep.departmentName,\n\t\t\t}));\n\n\t\treturn [...availableDepartments, ...pending];\n\t}, [availableDepartments, userDepartments]);\n\n\tconst departmentsOptions: SelectOption[] = useMemo(() => {\n\t\tconst archivedDepartment = (name: string, archived?: boolean) => (archived ? `${name} [${t('Archived')}]` : name);\n\n\t\treturn (\n\t\t\tdepartments.map(({ _id, name, archived }) =>\n\t\t\t\tname ? [_id, archivedDepartment(name, archived)] : [_id, archivedDepartment(_id, archived)],\n\t\t\t) || []\n\t\t);\n\t}, [departments, t]);\n\n\tconst statusOptions: SelectOption[] = useMemo(\n\t\t() => [\n\t\t\t['available', t('Available')],\n\t\t\t['not-available', t('Not_Available')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst initialDepartmentValue = useMemo(() => userDepartments.map(({ departmentId }) => departmentId) || [], [userDepartments]);\n\n\tconst methods = useForm({\n\t\tvalues: {\n\t\t\tname,\n\t\t\tusername,\n\t\t\temail,\n\t\t\tdepartments: initialDepartmentValue,\n\t\t\tstatus: statusLivechat,\n\t\t\tmaxNumberSimultaneousChat: livechat?.maxNumberSimultaneousChat || 0,\n\t\t\tvoipExtension: '',\n\t\t},\n\t});\n\n\tconst {\n\t\tcontrol,\n\t\thandleSubmit,\n\t\treset,\n\t\tformState: { isDirty },\n\t} = methods;\n\n\tconst saveAgentInfo = useMethod('livechat:saveAgentInfo');\n\tconst saveAgentStatus = useEndpoint('POST', '/v1/livechat/agent.status');\n\n\tconst handleSave = useMutableCallback(async ({ status, departments, ...data }) => {\n\t\ttry {\n\t\t\tawait saveAgentStatus({ agentId: agentData._id, status });\n\t\t\tawait saveAgentInfo(agentData._id, data, departments);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Success') });\n\t\t\trouter.navigate('/omnichannel/agents');\n\t\t\tqueryClient.invalidateQueries(['livechat-agents']);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst formId = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst usernameField = useUniqueId();\n\tconst emailField = useUniqueId();\n\tconst departmentsField = useUniqueId();\n\tconst statusField = useUniqueId();\n\tconst voipExtensionField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar data-qa-id='agent-edit-contextual-bar'>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{t('Edit_User')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/agents')} />\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t<form id={formId} onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t\t{username && (\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' alignItems='center'>\n\t\t\t\t\t\t\t\t<UserInfoAvatar data-qa-id='agent-edit-avatar' username={username} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField}>{t('Name')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput id={nameField} data-qa-id='agent-edit-name' {...field} readOnly />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={usernameField}>{t('Username')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='username'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\tid={usernameField}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-qa-id='agent-edit-username'\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\t\t\t\taddon={<Icon name='at' size='x20' />}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={emailField}>{t('Email')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\tid={emailField}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-qa-id='agent-edit-email'\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\t\t\t\taddon={<Icon name='mail' size='x20' />}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={departmentsField}>{t('Departments')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='departments'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<MultiSelect\n\t\t\t\t\t\t\t\t\t\t\t\tid={departmentsField}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-qa-id='agent-edit-departments'\n\t\t\t\t\t\t\t\t\t\t\t\toptions={departmentsOptions}\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckOption {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={statusField}>{t('Status')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='status'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\tid={statusField}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-qa-id='agent-edit-status'\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={statusOptions}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t{MaxChatsPerAgent && <MaxChatsPerAgent />}\n\t\t\t\t\t\t\t{voipEnabled && (\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={voipExtensionField}>{t('VoIP_Extension')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\tname='voipExtension'\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput id={voipExtensionField} {...field} data-qa-id='agent-edit-voip-extension' />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t</form>\n\t\t\t\t</FormProvider>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button data-qa-id='agent-edit-reset' type='reset' disabled={!isDirty} onClick={() => reset()}>\n\t\t\t\t\t\t{t('Reset')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button form={formId} primary type='submit' data-qa-id='agent-edit-save' disabled={!isDirty}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default AgentEdit;\n"]}}},"code":"const _excluded = [\"status\", \"departments\"],\n  _excluded2 = [\"label\"];\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 1);\nlet Field, FieldLabel, FieldGroup, FieldRow, TextInput, Button, Box, MultiSelect, Icon, Select, ContextualbarFooter, ButtonGroup, CheckOption;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Field(v) {\n    Field = v;\n  },\n  FieldLabel(v) {\n    FieldLabel = v;\n  },\n  FieldGroup(v) {\n    FieldGroup = v;\n  },\n  FieldRow(v) {\n    FieldRow = v;\n  },\n  TextInput(v) {\n    TextInput = v;\n  },\n  Button(v) {\n    Button = v;\n  },\n  Box(v) {\n    Box = v;\n  },\n  MultiSelect(v) {\n    MultiSelect = v;\n  },\n  Icon(v) {\n    Icon = v;\n  },\n  Select(v) {\n    Select = v;\n  },\n  ContextualbarFooter(v) {\n    ContextualbarFooter = v;\n  },\n  ButtonGroup(v) {\n    ButtonGroup = v;\n  },\n  CheckOption(v) {\n    CheckOption = v;\n  }\n}, 0);\nlet useMutableCallback, useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  },\n  useUniqueId(v) {\n    useUniqueId = v;\n  }\n}, 1);\nlet useToastMessageDispatch, useSetting, useMethod, useTranslation, useEndpoint, useRouter;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch(v) {\n    useToastMessageDispatch = v;\n  },\n  useSetting(v) {\n    useSetting = v;\n  },\n  useMethod(v) {\n    useMethod = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  },\n  useEndpoint(v) {\n    useEndpoint = v;\n  },\n  useRouter(v) {\n    useRouter = v;\n  }\n}, 2);\nlet useQueryClient;\nmodule.link(\"@tanstack/react-query\", {\n  useQueryClient(v) {\n    useQueryClient = v;\n  }\n}, 3);\nlet React, useMemo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  }\n}, 4);\nlet useForm, Controller, FormProvider;\nmodule.link(\"react-hook-form\", {\n  useForm(v) {\n    useForm = v;\n  },\n  Controller(v) {\n    Controller = v;\n  },\n  FormProvider(v) {\n    FormProvider = v;\n  }\n}, 5);\nlet getUserEmailAddress;\nmodule.link(\"../../../../lib/getUserEmailAddress\", {\n  getUserEmailAddress(v) {\n    getUserEmailAddress = v;\n  }\n}, 6);\nlet Contextualbar, ContextualbarTitle, ContextualbarClose, ContextualbarHeader, ContextualbarScrollableContent;\nmodule.link(\"../../../components/Contextualbar\", {\n  Contextualbar(v) {\n    Contextualbar = v;\n  },\n  ContextualbarTitle(v) {\n    ContextualbarTitle = v;\n  },\n  ContextualbarClose(v) {\n    ContextualbarClose = v;\n  },\n  ContextualbarHeader(v) {\n    ContextualbarHeader = v;\n  },\n  ContextualbarScrollableContent(v) {\n    ContextualbarScrollableContent = v;\n  }\n}, 7);\nlet UserInfoAvatar;\nmodule.link(\"../../../components/UserInfo\", {\n  UserInfoAvatar(v) {\n    UserInfoAvatar = v;\n  }\n}, 8);\nlet MaxChatsPerAgent;\nmodule.link(\"../additionalForms\", {\n  MaxChatsPerAgent(v) {\n    MaxChatsPerAgent = v;\n  }\n}, 9);\nconst AgentEdit = _ref => {\n  let {\n    agentData,\n    userDepartments,\n    availableDepartments\n  } = _ref;\n  const t = useTranslation();\n  const router = useRouter();\n  const queryClient = useQueryClient();\n  const voipEnabled = useSetting('VoIP_Enabled');\n  const dispatchToastMessage = useToastMessageDispatch();\n  const {\n    name,\n    username,\n    livechat,\n    statusLivechat\n  } = agentData;\n  const email = getUserEmailAddress(agentData);\n  const departments = useMemo(() => {\n    const pending = userDepartments.filter(_ref2 => {\n      let {\n        departmentId\n      } = _ref2;\n      return !availableDepartments.find(dep => dep._id === departmentId);\n    }).map(dep => ({\n      _id: dep.departmentId,\n      name: dep.departmentName\n    }));\n    return [...availableDepartments, ...pending];\n  }, [availableDepartments, userDepartments]);\n  const departmentsOptions = useMemo(() => {\n    const archivedDepartment = (name, archived) => archived ? \"\".concat(name, \" [\").concat(t('Archived'), \"]\") : name;\n    return departments.map(_ref3 => {\n      let {\n        _id,\n        name,\n        archived\n      } = _ref3;\n      return name ? [_id, archivedDepartment(name, archived)] : [_id, archivedDepartment(_id, archived)];\n    }) || [];\n  }, [departments, t]);\n  const statusOptions = useMemo(() => [['available', t('Available')], ['not-available', t('Not_Available')]], [t]);\n  const initialDepartmentValue = useMemo(() => userDepartments.map(_ref4 => {\n    let {\n      departmentId\n    } = _ref4;\n    return departmentId;\n  }) || [], [userDepartments]);\n  const methods = useForm({\n    values: {\n      name,\n      username,\n      email,\n      departments: initialDepartmentValue,\n      status: statusLivechat,\n      maxNumberSimultaneousChat: (livechat === null || livechat === void 0 ? void 0 : livechat.maxNumberSimultaneousChat) || 0,\n      voipExtension: ''\n    }\n  });\n  const {\n    control,\n    handleSubmit,\n    reset,\n    formState: {\n      isDirty\n    }\n  } = methods;\n  const saveAgentInfo = useMethod('livechat:saveAgentInfo');\n  const saveAgentStatus = useEndpoint('POST', '/v1/livechat/agent.status');\n  const handleSave = useMutableCallback(async _ref5 => {\n    let {\n        status,\n        departments\n      } = _ref5,\n      data = _objectWithoutProperties(_ref5, _excluded);\n    try {\n      await saveAgentStatus({\n        agentId: agentData._id,\n        status\n      });\n      await saveAgentInfo(agentData._id, data, departments);\n      dispatchToastMessage({\n        type: 'success',\n        message: t('Success')\n      });\n      router.navigate('/omnichannel/agents');\n      queryClient.invalidateQueries(['livechat-agents']);\n    } catch (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    }\n  });\n  const formId = useUniqueId();\n  const nameField = useUniqueId();\n  const usernameField = useUniqueId();\n  const emailField = useUniqueId();\n  const departmentsField = useUniqueId();\n  const statusField = useUniqueId();\n  const voipExtensionField = useUniqueId();\n  return /*#__PURE__*/React.createElement(Contextualbar, {\n    \"data-qa-id\": \"agent-edit-contextual-bar\"\n  }, /*#__PURE__*/React.createElement(ContextualbarHeader, null, /*#__PURE__*/React.createElement(ContextualbarTitle, null, t('Edit_User')), /*#__PURE__*/React.createElement(ContextualbarClose, {\n    onClick: () => router.navigate('/omnichannel/agents')\n  })), /*#__PURE__*/React.createElement(ContextualbarScrollableContent, null, /*#__PURE__*/React.createElement(FormProvider, methods, /*#__PURE__*/React.createElement(\"form\", {\n    id: formId,\n    onSubmit: handleSubmit(handleSave)\n  }, username && /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }, /*#__PURE__*/React.createElement(UserInfoAvatar, {\n    \"data-qa-id\": \"agent-edit-avatar\",\n    username: username\n  })), /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: nameField\n  }, t('Name')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"name\",\n    control: control,\n    render: _ref6 => {\n      let {\n        field\n      } = _ref6;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({\n        id: nameField,\n        \"data-qa-id\": \"agent-edit-name\"\n      }, field, {\n        readOnly: true\n      }));\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: usernameField\n  }, t('Username')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"username\",\n    control: control,\n    render: _ref7 => {\n      let {\n        field\n      } = _ref7;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({\n        id: usernameField,\n        \"data-qa-id\": \"agent-edit-username\"\n      }, field, {\n        readOnly: true,\n        addon: /*#__PURE__*/React.createElement(Icon, {\n          name: \"at\",\n          size: \"x20\"\n        })\n      }));\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: emailField\n  }, t('Email')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"email\",\n    control: control,\n    render: _ref8 => {\n      let {\n        field\n      } = _ref8;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({\n        id: emailField,\n        \"data-qa-id\": \"agent-edit-email\"\n      }, field, {\n        readOnly: true,\n        addon: /*#__PURE__*/React.createElement(Icon, {\n          name: \"mail\",\n          size: \"x20\"\n        })\n      }));\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: departmentsField\n  }, t('Departments')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"departments\",\n    control: control,\n    render: _ref9 => {\n      let {\n        field\n      } = _ref9;\n      return /*#__PURE__*/React.createElement(MultiSelect, _extends({\n        id: departmentsField,\n        \"data-qa-id\": \"agent-edit-departments\",\n        options: departmentsOptions\n      }, field, {\n        placeholder: t('Select_an_option'),\n        renderItem: _ref10 => {\n          let {\n              label\n            } = _ref10,\n            props = _objectWithoutProperties(_ref10, _excluded2);\n          return /*#__PURE__*/React.createElement(CheckOption, _extends({}, props, {\n            label: /*#__PURE__*/React.createElement(\"span\", {\n              style: {\n                whiteSpace: 'normal'\n              }\n            }, label)\n          }));\n        }\n      }));\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: statusField\n  }, t('Status')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"status\",\n    control: control,\n    render: _ref11 => {\n      let {\n        field\n      } = _ref11;\n      return /*#__PURE__*/React.createElement(Select, _extends({\n        id: statusField,\n        \"data-qa-id\": \"agent-edit-status\"\n      }, field, {\n        options: statusOptions,\n        placeholder: t('Select_an_option')\n      }));\n    }\n  }))), MaxChatsPerAgent && /*#__PURE__*/React.createElement(MaxChatsPerAgent, null), voipEnabled && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: voipExtensionField\n  }, t('VoIP_Extension')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"voipExtension\",\n    control: control,\n    render: _ref12 => {\n      let {\n        field\n      } = _ref12;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({\n        id: voipExtensionField\n      }, field, {\n        \"data-qa-id\": \"agent-edit-voip-extension\"\n      }));\n    }\n  }))))))), /*#__PURE__*/React.createElement(ContextualbarFooter, null, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    \"data-qa-id\": \"agent-edit-reset\",\n    type: \"reset\",\n    disabled: !isDirty,\n    onClick: () => reset()\n  }, t('Reset')), /*#__PURE__*/React.createElement(Button, {\n    form: formId,\n    primary: true,\n    type: \"submit\",\n    \"data-qa-id\": \"agent-edit-save\",\n    disabled: !isDirty\n  }, t('Save')))));\n};\nmodule.exportDefault(AgentEdit);","map":{"version":3,"names":["_extends","module","link","default","v","_objectWithoutProperties","Field","FieldLabel","FieldGroup","FieldRow","TextInput","Button","Box","MultiSelect","Icon","Select","ContextualbarFooter","ButtonGroup","CheckOption","useMutableCallback","useUniqueId","useToastMessageDispatch","useSetting","useMethod","useTranslation","useEndpoint","useRouter","useQueryClient","React","useMemo","useForm","Controller","FormProvider","getUserEmailAddress","Contextualbar","ContextualbarTitle","ContextualbarClose","ContextualbarHeader","ContextualbarScrollableContent","UserInfoAvatar","MaxChatsPerAgent","AgentEdit","_ref","agentData","userDepartments","availableDepartments","t","router","queryClient","voipEnabled","dispatchToastMessage","name","username","livechat","statusLivechat","email","departments","pending","filter","_ref2","departmentId","find","dep","_id","map","departmentName","departmentsOptions","archivedDepartment","archived","concat","_ref3","statusOptions","initialDepartmentValue","_ref4","methods","values","status","maxNumberSimultaneousChat","voipExtension","control","handleSubmit","reset","formState","isDirty","saveAgentInfo","saveAgentStatus","handleSave","_ref5","data","_excluded","agentId","type","message","navigate","invalidateQueries","error","formId","nameField","usernameField","emailField","departmentsField","statusField","voipExtensionField","createElement","onClick","id","onSubmit","display","flexDirection","alignItems","htmlFor","render","_ref6","field","readOnly","_ref7","addon","size","_ref8","_ref9","options","placeholder","renderItem","_ref10","label","props","_excluded2","style","whiteSpace","_ref11","_ref12","stretch","disabled","form","primary","exportDefault"],"sources":["client/views/omnichannel/agents/AgentEdit.tsx"],"sourcesContent":["import type { ILivechatAgent, ILivechatDepartment, ILivechatDepartmentAgents } from '@rocket.chat/core-typings';\nimport {\n\tField,\n\tFieldLabel,\n\tFieldGroup,\n\tFieldRow,\n\tTextInput,\n\tButton,\n\tBox,\n\tMultiSelect,\n\tIcon,\n\tSelect,\n\tContextualbarFooter,\n\tButtonGroup,\n\tCheckOption,\n} from '@rocket.chat/fuselage';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useSetting, useMethod, useTranslation, useEndpoint, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\nimport { useForm, Controller, FormProvider } from 'react-hook-form';\n\nimport { getUserEmailAddress } from '../../../../lib/getUserEmailAddress';\nimport {\n\tContextualbar,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarHeader,\n\tContextualbarScrollableContent,\n} from '../../../components/Contextualbar';\nimport { UserInfoAvatar } from '../../../components/UserInfo';\nimport { MaxChatsPerAgent } from '../additionalForms';\n\ntype AgentEditProps = {\n\tagentData: Pick<ILivechatAgent, '_id' | 'username' | 'name' | 'status' | 'statusLivechat' | 'emails' | 'livechat'>;\n\tuserDepartments: (Pick<ILivechatDepartmentAgents, 'departmentId'> & { departmentName: string })[];\n\tavailableDepartments: Pick<ILivechatDepartment, '_id' | 'name' | 'archived'>[];\n};\n\nconst AgentEdit = ({ agentData, userDepartments, availableDepartments }: AgentEditProps) => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\n\tconst voipEnabled = useSetting('VoIP_Enabled');\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst { name, username, livechat, statusLivechat } = agentData;\n\n\tconst email = getUserEmailAddress(agentData);\n\n\tconst departments: Pick<ILivechatDepartment, '_id' | 'name' | 'archived'>[] = useMemo(() => {\n\t\tconst pending = userDepartments\n\t\t\t.filter(({ departmentId }) => !availableDepartments.find((dep) => dep._id === departmentId))\n\t\t\t.map((dep) => ({\n\t\t\t\t_id: dep.departmentId,\n\t\t\t\tname: dep.departmentName,\n\t\t\t}));\n\n\t\treturn [...availableDepartments, ...pending];\n\t}, [availableDepartments, userDepartments]);\n\n\tconst departmentsOptions: SelectOption[] = useMemo(() => {\n\t\tconst archivedDepartment = (name: string, archived?: boolean) => (archived ? `${name} [${t('Archived')}]` : name);\n\n\t\treturn (\n\t\t\tdepartments.map(({ _id, name, archived }) =>\n\t\t\t\tname ? [_id, archivedDepartment(name, archived)] : [_id, archivedDepartment(_id, archived)],\n\t\t\t) || []\n\t\t);\n\t}, [departments, t]);\n\n\tconst statusOptions: SelectOption[] = useMemo(\n\t\t() => [\n\t\t\t['available', t('Available')],\n\t\t\t['not-available', t('Not_Available')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst initialDepartmentValue = useMemo(() => userDepartments.map(({ departmentId }) => departmentId) || [], [userDepartments]);\n\n\tconst methods = useForm({\n\t\tvalues: {\n\t\t\tname,\n\t\t\tusername,\n\t\t\temail,\n\t\t\tdepartments: initialDepartmentValue,\n\t\t\tstatus: statusLivechat,\n\t\t\tmaxNumberSimultaneousChat: livechat?.maxNumberSimultaneousChat || 0,\n\t\t\tvoipExtension: '',\n\t\t},\n\t});\n\n\tconst {\n\t\tcontrol,\n\t\thandleSubmit,\n\t\treset,\n\t\tformState: { isDirty },\n\t} = methods;\n\n\tconst saveAgentInfo = useMethod('livechat:saveAgentInfo');\n\tconst saveAgentStatus = useEndpoint('POST', '/v1/livechat/agent.status');\n\n\tconst handleSave = useMutableCallback(async ({ status, departments, ...data }) => {\n\t\ttry {\n\t\t\tawait saveAgentStatus({ agentId: agentData._id, status });\n\t\t\tawait saveAgentInfo(agentData._id, data, departments);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Success') });\n\t\t\trouter.navigate('/omnichannel/agents');\n\t\t\tqueryClient.invalidateQueries(['livechat-agents']);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst formId = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst usernameField = useUniqueId();\n\tconst emailField = useUniqueId();\n\tconst departmentsField = useUniqueId();\n\tconst statusField = useUniqueId();\n\tconst voipExtensionField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar data-qa-id='agent-edit-contextual-bar'>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{t('Edit_User')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/agents')} />\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t<form id={formId} onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t\t{username && (\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' alignItems='center'>\n\t\t\t\t\t\t\t\t<UserInfoAvatar data-qa-id='agent-edit-avatar' username={username} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField}>{t('Name')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput id={nameField} data-qa-id='agent-edit-name' {...field} readOnly />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={usernameField}>{t('Username')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='username'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\tid={usernameField}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-qa-id='agent-edit-username'\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\t\t\t\taddon={<Icon name='at' size='x20' />}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={emailField}>{t('Email')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\tid={emailField}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-qa-id='agent-edit-email'\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\t\t\t\taddon={<Icon name='mail' size='x20' />}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={departmentsField}>{t('Departments')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='departments'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<MultiSelect\n\t\t\t\t\t\t\t\t\t\t\t\tid={departmentsField}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-qa-id='agent-edit-departments'\n\t\t\t\t\t\t\t\t\t\t\t\toptions={departmentsOptions}\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckOption {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={statusField}>{t('Status')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='status'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\tid={statusField}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-qa-id='agent-edit-status'\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={statusOptions}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t{MaxChatsPerAgent && <MaxChatsPerAgent />}\n\t\t\t\t\t\t\t{voipEnabled && (\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={voipExtensionField}>{t('VoIP_Extension')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\tname='voipExtension'\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput id={voipExtensionField} {...field} data-qa-id='agent-edit-voip-extension' />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t</form>\n\t\t\t\t</FormProvider>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button data-qa-id='agent-edit-reset' type='reset' disabled={!isDirty} onClick={() => reset()}>\n\t\t\t\t\t\t{t('Reset')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button form={formId} primary type='submit' data-qa-id='agent-edit-save' disabled={!isDirty}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default AgentEdit;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"7f4b94d96c033abbfaa3930087af145d6f9f1ac8"}
