{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/message/variants/thread/ThreadMessageContent.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/components/message/variants/thread/ThreadMessageContent.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/message/variants/thread/ThreadMessageContent.tsx","inputSourceMap":{"version":3,"file":"client/components/message/variants/thread/ThreadMessageContent.tsx","sourceRoot":"","sources":["client/components/message/variants/thread/ThreadMessageContent.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IThreadMainMessage, IThreadMessage } from '@rocket.chat/core-typings';\nimport { isE2EEMessage, isQuoteAttachment } from '@rocket.chat/core-typings';\nimport { MessageBody } from '@rocket.chat/fuselage';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useSetting, useUserId, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo } from 'react';\n\nimport { useUserData } from '../../../../hooks/useUserData';\nimport type { UserPresence } from '../../../../lib/presence';\nimport MessageContentBody from '../../MessageContentBody';\nimport ReadReceiptIndicator from '../../ReadReceiptIndicator';\nimport Attachments from '../../content/Attachments';\nimport BroadcastMetrics from '../../content/BroadcastMetrics';\nimport Location from '../../content/Location';\nimport MessageActions from '../../content/MessageActions';\nimport Reactions from '../../content/Reactions';\nimport UrlPreviews from '../../content/UrlPreviews';\nimport { useNormalizedMessage } from '../../hooks/useNormalizedMessage';\nimport { useOembedLayout } from '../../hooks/useOembedLayout';\nimport { useSubscriptionFromMessageQuery } from '../../hooks/useSubscriptionFromMessageQuery';\nimport UiKitMessageBlock from '../../uikit/UiKitMessageBlock';\n\ntype ThreadMessageContentProps = {\n\tmessage: IThreadMessage | IThreadMainMessage;\n};\n\nconst ThreadMessageContent = ({ message }: ThreadMessageContentProps): ReactElement => {\n\tconst encrypted = isE2EEMessage(message);\n\tconst { enabled: oembedEnabled } = useOembedLayout();\n\tconst subscription = useSubscriptionFromMessageQuery(message).data ?? undefined;\n\tconst broadcast = subscription?.broadcast ?? false;\n\tconst uid = useUserId();\n\tconst messageUser: UserPresence = { ...message.u, roles: [], ...useUserData(message.u._id) };\n\tconst readReceiptEnabled = useSetting('Message_Read_Receipt_Enabled', false);\n\n\tconst t = useTranslation();\n\n\tconst normalizedMessage = useNormalizedMessage(message);\n\n\tconst isMessageEncrypted = encrypted && normalizedMessage?.e2e === 'pending';\n\n\tconst quotes = normalizedMessage?.attachments?.filter(isQuoteAttachment) || [];\n\n\tconst attachments = normalizedMessage?.attachments?.filter((attachment) => !isQuoteAttachment(attachment)) || [];\n\n\treturn (\n\t\t<>\n\t\t\t{isMessageEncrypted && <MessageBody>{t('E2E_message_encrypted_placeholder')}</MessageBody>}\n\n\t\t\t{!!quotes?.length && <Attachments attachments={quotes} />}\n\n\t\t\t{!normalizedMessage.blocks?.length && !!normalizedMessage.md?.length && (\n\t\t\t\t<>\n\t\t\t\t\t{(!encrypted || normalizedMessage.e2e === 'done') && (\n\t\t\t\t\t\t<MessageContentBody md={normalizedMessage.md} mentions={normalizedMessage.mentions} channels={normalizedMessage.channels} />\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{normalizedMessage.blocks && (\n\t\t\t\t<UiKitMessageBlock rid={normalizedMessage.rid} mid={normalizedMessage._id} blocks={normalizedMessage.blocks} />\n\t\t\t)}\n\n\t\t\t{!!attachments && <Attachments id={message.files?.[0]?._id} attachments={attachments} />}\n\n\t\t\t{oembedEnabled && !!normalizedMessage.urls?.length && <UrlPreviews urls={normalizedMessage.urls} />}\n\n\t\t\t{normalizedMessage.actionLinks?.length && (\n\t\t\t\t<MessageActions\n\t\t\t\t\tmessage={normalizedMessage}\n\t\t\t\t\tactions={normalizedMessage.actionLinks.map(({ method_id: methodId, i18nLabel, ...action }) => ({\n\t\t\t\t\t\tmethodId,\n\t\t\t\t\t\ti18nLabel: i18nLabel as TranslationKey,\n\t\t\t\t\t\t...action,\n\t\t\t\t\t}))}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{normalizedMessage.reactions && Object.keys(normalizedMessage.reactions).length && <Reactions message={normalizedMessage} />}\n\n\t\t\t{normalizedMessage.location && <Location location={normalizedMessage.location} />}\n\n\t\t\t{broadcast && !!messageUser.username && normalizedMessage.u._id !== uid && (\n\t\t\t\t<BroadcastMetrics username={messageUser.username} message={normalizedMessage} />\n\t\t\t)}\n\n\t\t\t{readReceiptEnabled && <ReadReceiptIndicator mid={normalizedMessage._id} unread={normalizedMessage.unread} />}\n\t\t</>\n\t);\n};\n\nexport default memo(ThreadMessageContent);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/message/variants/thread/ThreadMessageContent.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/components/message/variants/thread/ThreadMessageContent.tsx","inputSourceMap":{"version":3,"file":"client/components/message/variants/thread/ThreadMessageContent.tsx","sourceRoot":"","sources":["client/components/message/variants/thread/ThreadMessageContent.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IThreadMainMessage, IThreadMessage } from '@rocket.chat/core-typings';\nimport { isE2EEMessage, isQuoteAttachment } from '@rocket.chat/core-typings';\nimport { MessageBody } from '@rocket.chat/fuselage';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useSetting, useUserId, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo } from 'react';\n\nimport { useUserData } from '../../../../hooks/useUserData';\nimport type { UserPresence } from '../../../../lib/presence';\nimport MessageContentBody from '../../MessageContentBody';\nimport ReadReceiptIndicator from '../../ReadReceiptIndicator';\nimport Attachments from '../../content/Attachments';\nimport BroadcastMetrics from '../../content/BroadcastMetrics';\nimport Location from '../../content/Location';\nimport MessageActions from '../../content/MessageActions';\nimport Reactions from '../../content/Reactions';\nimport UrlPreviews from '../../content/UrlPreviews';\nimport { useNormalizedMessage } from '../../hooks/useNormalizedMessage';\nimport { useOembedLayout } from '../../hooks/useOembedLayout';\nimport { useSubscriptionFromMessageQuery } from '../../hooks/useSubscriptionFromMessageQuery';\nimport UiKitMessageBlock from '../../uikit/UiKitMessageBlock';\n\ntype ThreadMessageContentProps = {\n\tmessage: IThreadMessage | IThreadMainMessage;\n};\n\nconst ThreadMessageContent = ({ message }: ThreadMessageContentProps): ReactElement => {\n\tconst encrypted = isE2EEMessage(message);\n\tconst { enabled: oembedEnabled } = useOembedLayout();\n\tconst subscription = useSubscriptionFromMessageQuery(message).data ?? undefined;\n\tconst broadcast = subscription?.broadcast ?? false;\n\tconst uid = useUserId();\n\tconst messageUser: UserPresence = { ...message.u, roles: [], ...useUserData(message.u._id) };\n\tconst readReceiptEnabled = useSetting('Message_Read_Receipt_Enabled', false);\n\n\tconst t = useTranslation();\n\n\tconst normalizedMessage = useNormalizedMessage(message);\n\n\tconst isMessageEncrypted = encrypted && normalizedMessage?.e2e === 'pending';\n\n\tconst quotes = normalizedMessage?.attachments?.filter(isQuoteAttachment) || [];\n\n\tconst attachments = normalizedMessage?.attachments?.filter((attachment) => !isQuoteAttachment(attachment)) || [];\n\n\treturn (\n\t\t<>\n\t\t\t{isMessageEncrypted && <MessageBody>{t('E2E_message_encrypted_placeholder')}</MessageBody>}\n\n\t\t\t{!!quotes?.length && <Attachments attachments={quotes} />}\n\n\t\t\t{!normalizedMessage.blocks?.length && !!normalizedMessage.md?.length && (\n\t\t\t\t<>\n\t\t\t\t\t{(!encrypted || normalizedMessage.e2e === 'done') && (\n\t\t\t\t\t\t<MessageContentBody md={normalizedMessage.md} mentions={normalizedMessage.mentions} channels={normalizedMessage.channels} />\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{normalizedMessage.blocks && (\n\t\t\t\t<UiKitMessageBlock rid={normalizedMessage.rid} mid={normalizedMessage._id} blocks={normalizedMessage.blocks} />\n\t\t\t)}\n\n\t\t\t{!!attachments && <Attachments id={message.files?.[0]?._id} attachments={attachments} />}\n\n\t\t\t{oembedEnabled && !!normalizedMessage.urls?.length && <UrlPreviews urls={normalizedMessage.urls} />}\n\n\t\t\t{normalizedMessage.actionLinks?.length && (\n\t\t\t\t<MessageActions\n\t\t\t\t\tmessage={normalizedMessage}\n\t\t\t\t\tactions={normalizedMessage.actionLinks.map(({ method_id: methodId, i18nLabel, ...action }) => ({\n\t\t\t\t\t\tmethodId,\n\t\t\t\t\t\ti18nLabel: i18nLabel as TranslationKey,\n\t\t\t\t\t\t...action,\n\t\t\t\t\t}))}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{normalizedMessage.reactions && Object.keys(normalizedMessage.reactions).length && <Reactions message={normalizedMessage} />}\n\n\t\t\t{normalizedMessage.location && <Location location={normalizedMessage.location} />}\n\n\t\t\t{broadcast && !!messageUser.username && normalizedMessage.u._id !== uid && (\n\t\t\t\t<BroadcastMetrics username={messageUser.username} message={normalizedMessage} />\n\t\t\t)}\n\n\t\t\t{readReceiptEnabled && <ReadReceiptIndicator mid={normalizedMessage._id} unread={normalizedMessage.unread} />}\n\t\t</>\n\t);\n};\n\nexport default memo(ThreadMessageContent);\n"]}}},"code":"const _excluded = [\"method_id\", \"i18nLabel\"];\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 0);\nlet _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n}, 1);\nlet isE2EEMessage, isQuoteAttachment;\nmodule.link(\"@rocket.chat/core-typings\", {\n  isE2EEMessage(v) {\n    isE2EEMessage = v;\n  },\n  isQuoteAttachment(v) {\n    isQuoteAttachment = v;\n  }\n}, 0);\nlet MessageBody;\nmodule.link(\"@rocket.chat/fuselage\", {\n  MessageBody(v) {\n    MessageBody = v;\n  }\n}, 1);\nlet useSetting, useUserId, useTranslation;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useSetting(v) {\n    useSetting = v;\n  },\n  useUserId(v) {\n    useUserId = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 2);\nlet React, memo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  memo(v) {\n    memo = v;\n  }\n}, 3);\nlet useUserData;\nmodule.link(\"../../../../hooks/useUserData\", {\n  useUserData(v) {\n    useUserData = v;\n  }\n}, 4);\nlet MessageContentBody;\nmodule.link(\"../../MessageContentBody\", {\n  default(v) {\n    MessageContentBody = v;\n  }\n}, 5);\nlet ReadReceiptIndicator;\nmodule.link(\"../../ReadReceiptIndicator\", {\n  default(v) {\n    ReadReceiptIndicator = v;\n  }\n}, 6);\nlet Attachments;\nmodule.link(\"../../content/Attachments\", {\n  default(v) {\n    Attachments = v;\n  }\n}, 7);\nlet BroadcastMetrics;\nmodule.link(\"../../content/BroadcastMetrics\", {\n  default(v) {\n    BroadcastMetrics = v;\n  }\n}, 8);\nlet Location;\nmodule.link(\"../../content/Location\", {\n  default(v) {\n    Location = v;\n  }\n}, 9);\nlet MessageActions;\nmodule.link(\"../../content/MessageActions\", {\n  default(v) {\n    MessageActions = v;\n  }\n}, 10);\nlet Reactions;\nmodule.link(\"../../content/Reactions\", {\n  default(v) {\n    Reactions = v;\n  }\n}, 11);\nlet UrlPreviews;\nmodule.link(\"../../content/UrlPreviews\", {\n  default(v) {\n    UrlPreviews = v;\n  }\n}, 12);\nlet useNormalizedMessage;\nmodule.link(\"../../hooks/useNormalizedMessage\", {\n  useNormalizedMessage(v) {\n    useNormalizedMessage = v;\n  }\n}, 13);\nlet useOembedLayout;\nmodule.link(\"../../hooks/useOembedLayout\", {\n  useOembedLayout(v) {\n    useOembedLayout = v;\n  }\n}, 14);\nlet useSubscriptionFromMessageQuery;\nmodule.link(\"../../hooks/useSubscriptionFromMessageQuery\", {\n  useSubscriptionFromMessageQuery(v) {\n    useSubscriptionFromMessageQuery = v;\n  }\n}, 15);\nlet UiKitMessageBlock;\nmodule.link(\"../../uikit/UiKitMessageBlock\", {\n  default(v) {\n    UiKitMessageBlock = v;\n  }\n}, 16);\nconst ThreadMessageContent = _ref => {\n  var _useSubscriptionFromM, _subscription$broadca, _normalizedMessage$at, _normalizedMessage$at2, _normalizedMessage$bl, _normalizedMessage$md, _message$files, _message$files$, _normalizedMessage$ur, _normalizedMessage$ac;\n  let {\n    message\n  } = _ref;\n  const encrypted = isE2EEMessage(message);\n  const {\n    enabled: oembedEnabled\n  } = useOembedLayout();\n  const subscription = (_useSubscriptionFromM = useSubscriptionFromMessageQuery(message).data) !== null && _useSubscriptionFromM !== void 0 ? _useSubscriptionFromM : undefined;\n  const broadcast = (_subscription$broadca = subscription === null || subscription === void 0 ? void 0 : subscription.broadcast) !== null && _subscription$broadca !== void 0 ? _subscription$broadca : false;\n  const uid = useUserId();\n  const messageUser = _objectSpread(_objectSpread({}, message.u), {}, {\n    roles: []\n  }, useUserData(message.u._id));\n  const readReceiptEnabled = useSetting('Message_Read_Receipt_Enabled', false);\n  const t = useTranslation();\n  const normalizedMessage = useNormalizedMessage(message);\n  const isMessageEncrypted = encrypted && (normalizedMessage === null || normalizedMessage === void 0 ? void 0 : normalizedMessage.e2e) === 'pending';\n  const quotes = (normalizedMessage === null || normalizedMessage === void 0 ? void 0 : (_normalizedMessage$at = normalizedMessage.attachments) === null || _normalizedMessage$at === void 0 ? void 0 : _normalizedMessage$at.filter(isQuoteAttachment)) || [];\n  const attachments = (normalizedMessage === null || normalizedMessage === void 0 ? void 0 : (_normalizedMessage$at2 = normalizedMessage.attachments) === null || _normalizedMessage$at2 === void 0 ? void 0 : _normalizedMessage$at2.filter(attachment => !isQuoteAttachment(attachment))) || [];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isMessageEncrypted && /*#__PURE__*/React.createElement(MessageBody, null, t('E2E_message_encrypted_placeholder')), !!(quotes !== null && quotes !== void 0 && quotes.length) && /*#__PURE__*/React.createElement(Attachments, {\n    attachments: quotes\n  }), !((_normalizedMessage$bl = normalizedMessage.blocks) !== null && _normalizedMessage$bl !== void 0 && _normalizedMessage$bl.length) && !!((_normalizedMessage$md = normalizedMessage.md) !== null && _normalizedMessage$md !== void 0 && _normalizedMessage$md.length) && /*#__PURE__*/React.createElement(React.Fragment, null, (!encrypted || normalizedMessage.e2e === 'done') && /*#__PURE__*/React.createElement(MessageContentBody, {\n    md: normalizedMessage.md,\n    mentions: normalizedMessage.mentions,\n    channels: normalizedMessage.channels\n  })), normalizedMessage.blocks && /*#__PURE__*/React.createElement(UiKitMessageBlock, {\n    rid: normalizedMessage.rid,\n    mid: normalizedMessage._id,\n    blocks: normalizedMessage.blocks\n  }), !!attachments && /*#__PURE__*/React.createElement(Attachments, {\n    id: (_message$files = message.files) === null || _message$files === void 0 ? void 0 : (_message$files$ = _message$files[0]) === null || _message$files$ === void 0 ? void 0 : _message$files$._id,\n    attachments: attachments\n  }), oembedEnabled && !!((_normalizedMessage$ur = normalizedMessage.urls) !== null && _normalizedMessage$ur !== void 0 && _normalizedMessage$ur.length) && /*#__PURE__*/React.createElement(UrlPreviews, {\n    urls: normalizedMessage.urls\n  }), ((_normalizedMessage$ac = normalizedMessage.actionLinks) === null || _normalizedMessage$ac === void 0 ? void 0 : _normalizedMessage$ac.length) && /*#__PURE__*/React.createElement(MessageActions, {\n    message: normalizedMessage,\n    actions: normalizedMessage.actionLinks.map(_ref2 => {\n      let {\n          method_id: methodId,\n          i18nLabel\n        } = _ref2,\n        action = _objectWithoutProperties(_ref2, _excluded);\n      return _objectSpread({\n        methodId,\n        i18nLabel: i18nLabel\n      }, action);\n    })\n  }), normalizedMessage.reactions && Object.keys(normalizedMessage.reactions).length && /*#__PURE__*/React.createElement(Reactions, {\n    message: normalizedMessage\n  }), normalizedMessage.location && /*#__PURE__*/React.createElement(Location, {\n    location: normalizedMessage.location\n  }), broadcast && !!messageUser.username && normalizedMessage.u._id !== uid && /*#__PURE__*/React.createElement(BroadcastMetrics, {\n    username: messageUser.username,\n    message: normalizedMessage\n  }), readReceiptEnabled && /*#__PURE__*/React.createElement(ReadReceiptIndicator, {\n    mid: normalizedMessage._id,\n    unread: normalizedMessage.unread\n  }));\n};\nmodule.exportDefault( /*#__PURE__*/memo(ThreadMessageContent));","map":{"version":3,"names":["_objectWithoutProperties","module","link","default","v","_objectSpread","isE2EEMessage","isQuoteAttachment","MessageBody","useSetting","useUserId","useTranslation","React","memo","useUserData","MessageContentBody","ReadReceiptIndicator","Attachments","BroadcastMetrics","Location","MessageActions","Reactions","UrlPreviews","useNormalizedMessage","useOembedLayout","useSubscriptionFromMessageQuery","UiKitMessageBlock","ThreadMessageContent","_ref","_useSubscriptionFromM","_subscription$broadca","_normalizedMessage$at","_normalizedMessage$at2","_normalizedMessage$bl","_normalizedMessage$md","_message$files","_message$files$","_normalizedMessage$ur","_normalizedMessage$ac","message","encrypted","enabled","oembedEnabled","subscription","data","undefined","broadcast","uid","messageUser","u","roles","_id","readReceiptEnabled","t","normalizedMessage","isMessageEncrypted","e2e","quotes","attachments","filter","attachment","createElement","Fragment","length","blocks","md","mentions","channels","rid","mid","id","files","urls","actionLinks","actions","map","_ref2","method_id","methodId","i18nLabel","action","_excluded","reactions","Object","keys","location","username","unread","exportDefault"],"sources":["client/components/message/variants/thread/ThreadMessageContent.tsx"],"sourcesContent":["import type { IThreadMainMessage, IThreadMessage } from '@rocket.chat/core-typings';\nimport { isE2EEMessage, isQuoteAttachment } from '@rocket.chat/core-typings';\nimport { MessageBody } from '@rocket.chat/fuselage';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useSetting, useUserId, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo } from 'react';\n\nimport { useUserData } from '../../../../hooks/useUserData';\nimport type { UserPresence } from '../../../../lib/presence';\nimport MessageContentBody from '../../MessageContentBody';\nimport ReadReceiptIndicator from '../../ReadReceiptIndicator';\nimport Attachments from '../../content/Attachments';\nimport BroadcastMetrics from '../../content/BroadcastMetrics';\nimport Location from '../../content/Location';\nimport MessageActions from '../../content/MessageActions';\nimport Reactions from '../../content/Reactions';\nimport UrlPreviews from '../../content/UrlPreviews';\nimport { useNormalizedMessage } from '../../hooks/useNormalizedMessage';\nimport { useOembedLayout } from '../../hooks/useOembedLayout';\nimport { useSubscriptionFromMessageQuery } from '../../hooks/useSubscriptionFromMessageQuery';\nimport UiKitMessageBlock from '../../uikit/UiKitMessageBlock';\n\ntype ThreadMessageContentProps = {\n\tmessage: IThreadMessage | IThreadMainMessage;\n};\n\nconst ThreadMessageContent = ({ message }: ThreadMessageContentProps): ReactElement => {\n\tconst encrypted = isE2EEMessage(message);\n\tconst { enabled: oembedEnabled } = useOembedLayout();\n\tconst subscription = useSubscriptionFromMessageQuery(message).data ?? undefined;\n\tconst broadcast = subscription?.broadcast ?? false;\n\tconst uid = useUserId();\n\tconst messageUser: UserPresence = { ...message.u, roles: [], ...useUserData(message.u._id) };\n\tconst readReceiptEnabled = useSetting('Message_Read_Receipt_Enabled', false);\n\n\tconst t = useTranslation();\n\n\tconst normalizedMessage = useNormalizedMessage(message);\n\n\tconst isMessageEncrypted = encrypted && normalizedMessage?.e2e === 'pending';\n\n\tconst quotes = normalizedMessage?.attachments?.filter(isQuoteAttachment) || [];\n\n\tconst attachments = normalizedMessage?.attachments?.filter((attachment) => !isQuoteAttachment(attachment)) || [];\n\n\treturn (\n\t\t<>\n\t\t\t{isMessageEncrypted && <MessageBody>{t('E2E_message_encrypted_placeholder')}</MessageBody>}\n\n\t\t\t{!!quotes?.length && <Attachments attachments={quotes} />}\n\n\t\t\t{!normalizedMessage.blocks?.length && !!normalizedMessage.md?.length && (\n\t\t\t\t<>\n\t\t\t\t\t{(!encrypted || normalizedMessage.e2e === 'done') && (\n\t\t\t\t\t\t<MessageContentBody md={normalizedMessage.md} mentions={normalizedMessage.mentions} channels={normalizedMessage.channels} />\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{normalizedMessage.blocks && (\n\t\t\t\t<UiKitMessageBlock rid={normalizedMessage.rid} mid={normalizedMessage._id} blocks={normalizedMessage.blocks} />\n\t\t\t)}\n\n\t\t\t{!!attachments && <Attachments id={message.files?.[0]?._id} attachments={attachments} />}\n\n\t\t\t{oembedEnabled && !!normalizedMessage.urls?.length && <UrlPreviews urls={normalizedMessage.urls} />}\n\n\t\t\t{normalizedMessage.actionLinks?.length && (\n\t\t\t\t<MessageActions\n\t\t\t\t\tmessage={normalizedMessage}\n\t\t\t\t\tactions={normalizedMessage.actionLinks.map(({ method_id: methodId, i18nLabel, ...action }) => ({\n\t\t\t\t\t\tmethodId,\n\t\t\t\t\t\ti18nLabel: i18nLabel as TranslationKey,\n\t\t\t\t\t\t...action,\n\t\t\t\t\t}))}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{normalizedMessage.reactions && Object.keys(normalizedMessage.reactions).length && <Reactions message={normalizedMessage} />}\n\n\t\t\t{normalizedMessage.location && <Location location={normalizedMessage.location} />}\n\n\t\t\t{broadcast && !!messageUser.username && normalizedMessage.u._id !== uid && (\n\t\t\t\t<BroadcastMetrics username={messageUser.username} message={normalizedMessage} />\n\t\t\t)}\n\n\t\t\t{readReceiptEnabled && <ReadReceiptIndicator mid={normalizedMessage._id} unread={normalizedMessage.unread} />}\n\t\t</>\n\t);\n};\n\nexport default memo(ThreadMessageContent);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"7ec7f1326c20862b3dd0da3a60c7507cc26cf6ec"}
