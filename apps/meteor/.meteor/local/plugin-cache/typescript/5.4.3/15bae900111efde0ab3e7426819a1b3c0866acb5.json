{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/departments/EditDepartment.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/omnichannel/departments/EditDepartment.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/departments/EditDepartment.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/departments/EditDepartment.tsx","sourceRoot":"","sources":["client/views/omnichannel/departments/EditDepartment.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ILivechatDepartment, ILivechatDepartmentAgents, Serialized } from '@rocket.chat/core-typings';\nimport {\n\tFieldGroup,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tTextInput,\n\tBox,\n\tIcon,\n\tDivider,\n\tToggleSwitch,\n\tTextAreaInput,\n\tButtonGroup,\n\tButton,\n\tPaginatedSelectFiltered,\n\tFieldHint,\n\tOption,\n} from '@rocket.chat/fuselage';\nimport { useDebouncedValue, useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useEndpoint, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo, useState } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport AutoCompleteDepartment from '../../../components/AutoCompleteDepartment';\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\nimport { useRecordList } from '../../../hooks/lists/useRecordList';\nimport { useHasLicenseModule } from '../../../hooks/useHasLicenseModule';\nimport { useRoomsList } from '../../../hooks/useRoomsList';\nimport { AsyncStatePhase } from '../../../lib/asyncState';\nimport { EeTextInput, EeTextAreaInput, EeNumberInput, DepartmentForwarding, DepartmentBusinessHours } from '../additionalForms';\nimport DepartmentsAgentsTable from './DepartmentAgentsTable/DepartmentAgentsTable';\nimport DepartmentTags from './DepartmentTags';\n\nexport type EditDepartmentProps = {\n\tid?: string;\n\ttitle: string;\n\tdata?: Serialized<{\n\t\tdepartment: ILivechatDepartment | null;\n\t\tagents?: ILivechatDepartmentAgents[];\n\t}>;\n\tallowedToForwardData?: Serialized<{\n\t\tdepartments: ILivechatDepartment[];\n\t}>;\n};\n\ntype InitialValueParams = {\n\tdepartment?: Serialized<ILivechatDepartment> | null;\n\tagents?: Serialized<ILivechatDepartmentAgents>[];\n\tallowedToForwardData?: EditDepartmentProps['allowedToForwardData'];\n};\n\nexport type IDepartmentAgent = Pick<ILivechatDepartmentAgents, 'agentId' | 'username' | 'count' | 'order'> & {\n\t_id?: string;\n\tname?: string;\n};\n\nexport type FormValues = {\n\tname: string;\n\temail: string;\n\tdescription: string;\n\tenabled: boolean;\n\tmaxNumberSimultaneousChat: number;\n\tshowOnRegistration: boolean;\n\tshowOnOfflineForm: boolean;\n\tabandonedRoomsCloseCustomMessage: string;\n\trequestTagBeforeClosingChat: boolean;\n\tofflineMessageChannelName: string;\n\tvisitorInactivityTimeoutInSeconds: number;\n\twaitingQueueMessage: string;\n\tdepartmentsAllowedToForward: { label: string; value: string }[];\n\tfallbackForwardDepartment: string;\n\tagentList: IDepartmentAgent[];\n\tchatClosingTags: string[];\n\tallowReceiveForwardOffline: boolean;\n};\n\nfunction withDefault<T>(key: T | undefined | null, defaultValue: T) {\n\treturn key || defaultValue;\n}\n\nconst getInitialValues = ({ department, agents, allowedToForwardData }: InitialValueParams) => ({\n\tname: withDefault(department?.name, ''),\n\temail: withDefault(department?.email, ''),\n\tdescription: withDefault(department?.description, ''),\n\tenabled: !!department?.enabled,\n\tmaxNumberSimultaneousChat: department?.maxNumberSimultaneousChat,\n\tshowOnRegistration: !!department?.showOnRegistration,\n\tshowOnOfflineForm: !!department?.showOnOfflineForm,\n\tabandonedRoomsCloseCustomMessage: withDefault(department?.abandonedRoomsCloseCustomMessage, ''),\n\trequestTagBeforeClosingChat: !!department?.requestTagBeforeClosingChat,\n\tofflineMessageChannelName: withDefault(department?.offlineMessageChannelName, ''),\n\tvisitorInactivityTimeoutInSeconds: department?.visitorInactivityTimeoutInSeconds,\n\twaitingQueueMessage: withDefault(department?.waitingQueueMessage, ''),\n\tdepartmentsAllowedToForward: allowedToForwardData?.departments?.map((dep) => ({ label: dep.name, value: dep._id })) || [],\n\tfallbackForwardDepartment: withDefault(department?.fallbackForwardDepartment, ''),\n\tchatClosingTags: department?.chatClosingTags ?? [],\n\tagentList: agents || [],\n\tallowReceiveForwardOffline: withDefault(department?.allowReceiveForwardOffline, false),\n});\n\nfunction EditDepartment({ data, id, title, allowedToForwardData }: EditDepartmentProps) {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\n\tconst { department, agents = [] } = data || {};\n\n\tconst hasLicense = useHasLicenseModule('livechat-enterprise');\n\n\tconst initialValues = getInitialValues({ department, agents, allowedToForwardData });\n\n\tconst {\n\t\tregister,\n\t\tcontrol,\n\t\thandleSubmit,\n\t\twatch,\n\t\tformState: { errors, isValid, isDirty, isSubmitting },\n\t} = useForm<FormValues>({ mode: 'onChange', defaultValues: initialValues });\n\n\tconst requestTagBeforeClosingChat = watch('requestTagBeforeClosingChat');\n\n\tconst [fallbackFilter, setFallbackFilter] = useState<string>('');\n\n\tconst debouncedFallbackFilter = useDebouncedValue(fallbackFilter, 500);\n\n\tconst { itemsList: RoomsList, loadMoreItems: loadMoreRooms } = useRoomsList(\n\t\tuseMemo(() => ({ text: debouncedFallbackFilter }), [debouncedFallbackFilter]),\n\t);\n\n\tconst { phase: roomsPhase, items: roomsItems, itemCount: roomsTotal } = useRecordList(RoomsList);\n\n\tconst saveDepartmentInfo = useMethod('livechat:saveDepartment');\n\tconst saveDepartmentAgentsInfoOnEdit = useEndpoint('POST', `/v1/livechat/department/:_id/agents`, { _id: id || '' });\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleSave = useMutableCallback(async (data: FormValues) => {\n\t\tconst {\n\t\t\tagentList,\n\t\t\tenabled,\n\t\t\tname,\n\t\t\tdescription,\n\t\t\tshowOnRegistration,\n\t\t\tshowOnOfflineForm,\n\t\t\temail,\n\t\t\tchatClosingTags,\n\t\t\tofflineMessageChannelName,\n\t\t\tmaxNumberSimultaneousChat,\n\t\t\tvisitorInactivityTimeoutInSeconds,\n\t\t\tabandonedRoomsCloseCustomMessage,\n\t\t\twaitingQueueMessage,\n\t\t\tdepartmentsAllowedToForward,\n\t\t\tfallbackForwardDepartment,\n\t\t\tallowReceiveForwardOffline,\n\t\t} = data;\n\n\t\tconst payload = {\n\t\t\tenabled,\n\t\t\tname,\n\t\t\tdescription,\n\t\t\tshowOnRegistration,\n\t\t\tshowOnOfflineForm,\n\t\t\trequestTagBeforeClosingChat,\n\t\t\temail,\n\t\t\tchatClosingTags,\n\t\t\tofflineMessageChannelName,\n\t\t\tmaxNumberSimultaneousChat,\n\t\t\tvisitorInactivityTimeoutInSeconds,\n\t\t\tabandonedRoomsCloseCustomMessage,\n\t\t\twaitingQueueMessage,\n\t\t\tdepartmentsAllowedToForward: departmentsAllowedToForward?.map((dep) => dep.value),\n\t\t\tfallbackForwardDepartment,\n\t\t\tallowReceiveForwardOffline,\n\t\t};\n\n\t\ttry {\n\t\t\tif (id) {\n\t\t\t\tconst { agentList: initialAgentList } = initialValues;\n\n\t\t\t\tconst agentListPayload = {\n\t\t\t\t\tupsert: agentList.filter(\n\t\t\t\t\t\t(agent) =>\n\t\t\t\t\t\t\t!initialAgentList.some(\n\t\t\t\t\t\t\t\t(initialAgent) =>\n\t\t\t\t\t\t\t\t\tinitialAgent._id === agent._id && agent.count === initialAgent.count && agent.order === initialAgent.order,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t),\n\t\t\t\t\tremove: initialAgentList.filter((initialAgent) => !agentList.some((agent) => initialAgent._id === agent._id)),\n\t\t\t\t};\n\n\t\t\t\tawait saveDepartmentInfo(id, payload, []);\n\t\t\t\tif (agentListPayload.upsert.length > 0 || agentListPayload.remove.length > 0) {\n\t\t\t\t\tawait saveDepartmentAgentsInfoOnEdit(agentListPayload);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tawait saveDepartmentInfo(id ?? null, payload, agentList);\n\t\t\t}\n\t\t\tqueryClient.invalidateQueries(['/v1/livechat/department/:_id', id]);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\trouter.navigate('/omnichannel/departments');\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst isFormValid = isValid && isDirty;\n\n\tconst formId = useUniqueId();\n\tconst enabledField = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst descriptionField = useUniqueId();\n\tconst showOnRegistrationField = useUniqueId();\n\tconst emailField = useUniqueId();\n\tconst showOnOfflineFormField = useUniqueId();\n\tconst offlineMessageChannelNameField = useUniqueId();\n\tconst fallbackForwardDepartmentField = useUniqueId();\n\tconst requestTagBeforeClosingChatField = useUniqueId();\n\tconst chatClosingTagsField = useUniqueId();\n\tconst allowReceiveForwardOffline = useUniqueId();\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={title} onClickBack={() => router.navigate('/omnichannel/departments')}>\n\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t<Button type='submit' form={formId} primary disabled={!isFormValid} loading={isSubmitting}>\n\t\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</PageHeader>\n\t\t\t\t<PageScrollableContentWithShadow>\n\t\t\t\t\t<FieldGroup\n\t\t\t\t\t\tw='full'\n\t\t\t\t\t\talignSelf='center'\n\t\t\t\t\t\tmaxWidth='x600'\n\t\t\t\t\t\tid={formId}\n\t\t\t\t\t\tis='form'\n\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\tonSubmit={handleSubmit(handleSave)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={enabledField}>{t('Enabled')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={enabledField} {...register('enabled')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={nameField}\n\t\t\t\t\t\t\t\t\tdata-qa='DepartmentEditTextInput-Name'\n\t\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\t\terror={errors.name?.message as string}\n\t\t\t\t\t\t\t\t\tplaceholder={t('Name')}\n\t\t\t\t\t\t\t\t\t{...register('name', { required: t('Required_field', { field: t('Name') }) })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.name?.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextAreaInput\n\t\t\t\t\t\t\t\t\tid={descriptionField}\n\t\t\t\t\t\t\t\t\tdata-qa='DepartmentEditTextInput-Description'\n\t\t\t\t\t\t\t\t\tplaceholder={t('Description')}\n\t\t\t\t\t\t\t\t\t{...register('description')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field data-qa='DepartmentEditToggle-ShowOnRegistrationPage'>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={showOnRegistrationField}>{t('Show_on_registration_page')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={showOnRegistrationField} {...register('showOnRegistration')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={emailField} required>\n\t\t\t\t\t\t\t\t{t('Email')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={emailField}\n\t\t\t\t\t\t\t\t\tdata-qa='DepartmentEditTextInput-Email'\n\t\t\t\t\t\t\t\t\terror={errors.email?.message as string}\n\t\t\t\t\t\t\t\t\taddon={<Icon name='mail' size='x20' />}\n\t\t\t\t\t\t\t\t\tplaceholder={t('Email')}\n\t\t\t\t\t\t\t\t\t{...register('email', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Email') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (email) => validateEmail(email) || t('error-invalid-email-address'),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailField}-error`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.email && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${emailField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.email?.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={showOnOfflineFormField}>{t('Show_on_offline_page')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={showOnOfflineFormField} {...register('showOnOfflineForm')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={offlineMessageChannelNameField}>{t('Livechat_DepartmentOfflineMessageToChannel')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='offlineMessageChannelName'\n\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<PaginatedSelectFiltered\n\t\t\t\t\t\t\t\t\t\t\tid={offlineMessageChannelNameField}\n\t\t\t\t\t\t\t\t\t\t\tdata-qa='DepartmentSelect-LivechatDepartmentOfflineMessageToChannel'\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\tflexShrink={0}\n\t\t\t\t\t\t\t\t\t\t\tfilter={fallbackFilter}\n\t\t\t\t\t\t\t\t\t\t\tsetFilter={setFallbackFilter as (value?: string | number) => void}\n\t\t\t\t\t\t\t\t\t\t\toptions={roomsItems}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Channel_name')}\n\t\t\t\t\t\t\t\t\t\t\tendReached={\n\t\t\t\t\t\t\t\t\t\t\t\troomsPhase === AsyncStatePhase.LOADING ? () => undefined : (start) => loadMoreRooms(start, Math.min(50, roomsTotal))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-busy={fallbackFilter !== debouncedFallbackFilter}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t{hasLicense && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='maxNumberSimultaneousChat'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EeNumberInput\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('Max_number_of_chats_per_agent')}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Max_number_of_chats_per_agent_description')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='visitorInactivityTimeoutInSeconds'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EeNumberInput\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('How_long_to_wait_to_consider_visitor_abandonment_in_seconds')}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Number_in_seconds')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='abandonedRoomsCloseCustomMessage'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EeTextInput\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('Livechat_abandoned_rooms_closed_custom_message')}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Enter_a_custom_message')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='waitingQueueMessage'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EeTextAreaInput {...field} label={t('Waiting_queue_message')} placeholder={t('Waiting_queue_message')} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='departmentsAllowedToForward'\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t\t<DepartmentForwarding\n\t\t\t\t\t\t\t\t\t\t\t\tdepartmentId={id ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\thandler={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='List_of_departments_for_forward'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={fallbackForwardDepartmentField}>{t('Fallback_forward_department')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='fallbackForwardDepartment'\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t\t<AutoCompleteDepartment\n\t\t\t\t\t\t\t\t\t\t\t\tid={fallbackForwardDepartmentField}\n\t\t\t\t\t\t\t\t\t\t\t\thaveNone\n\t\t\t\t\t\t\t\t\t\t\t\texcludeDepartmentId={department?._id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\tonlyMyDepartments\n\t\t\t\t\t\t\t\t\t\t\t\tshowArchived\n\t\t\t\t\t\t\t\t\t\t\t\twithTitle={false}\n\t\t\t\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={requestTagBeforeClosingChatField}>{t('Request_tag_before_closing_chat')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={requestTagBeforeClosingChatField} {...register('requestTagBeforeClosingChat')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t{requestTagBeforeClosingChat && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={chatClosingTagsField} required>\n\t\t\t\t\t\t\t\t\t{t('Conversation_closing_tags')}\n\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='chatClosingTags'\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', 'tags') }}\n\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<DepartmentTags\n\t\t\t\t\t\t\t\t\t\t\tid={chatClosingTagsField}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.chatClosingTags?.message as string}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${chatClosingTagsField}-hint ${chatClosingTagsField}-error`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FieldHint id={`${chatClosingTagsField}-hint`}>{t('Conversation_closing_tags_description')}</FieldHint>\n\t\t\t\t\t\t\t\t{errors.chatClosingTags && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${chatClosingTagsField}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.chatClosingTags?.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={allowReceiveForwardOffline}>{t('Accept_receive_inquiry_no_online_agents')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={allowReceiveForwardOffline} {...register('allowReceiveForwardOffline')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldHint id={`${allowReceiveForwardOffline}-hint`}>{t('Accept_receive_inquiry_no_online_agents_Hint')}</FieldHint>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<DepartmentBusinessHours bhId={department?.businessHourId} />\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Divider mb={16} />\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel mb={4}>{t('Agents')}</FieldLabel>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' height='50vh'>\n\t\t\t\t\t\t\t\t<DepartmentsAgentsTable control={control} register={register} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</PageScrollableContentWithShadow>\n\t\t\t</Page>\n\t\t</Page>\n\t);\n}\n\nexport default EditDepartment;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/departments/EditDepartment.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/omnichannel/departments/EditDepartment.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/departments/EditDepartment.tsx","sourceRoot":"","sources":["client/views/omnichannel/departments/EditDepartment.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ILivechatDepartment, ILivechatDepartmentAgents, Serialized } from '@rocket.chat/core-typings';\nimport {\n\tFieldGroup,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tTextInput,\n\tBox,\n\tIcon,\n\tDivider,\n\tToggleSwitch,\n\tTextAreaInput,\n\tButtonGroup,\n\tButton,\n\tPaginatedSelectFiltered,\n\tFieldHint,\n\tOption,\n} from '@rocket.chat/fuselage';\nimport { useDebouncedValue, useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useEndpoint, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo, useState } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport AutoCompleteDepartment from '../../../components/AutoCompleteDepartment';\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\nimport { useRecordList } from '../../../hooks/lists/useRecordList';\nimport { useHasLicenseModule } from '../../../hooks/useHasLicenseModule';\nimport { useRoomsList } from '../../../hooks/useRoomsList';\nimport { AsyncStatePhase } from '../../../lib/asyncState';\nimport { EeTextInput, EeTextAreaInput, EeNumberInput, DepartmentForwarding, DepartmentBusinessHours } from '../additionalForms';\nimport DepartmentsAgentsTable from './DepartmentAgentsTable/DepartmentAgentsTable';\nimport DepartmentTags from './DepartmentTags';\n\nexport type EditDepartmentProps = {\n\tid?: string;\n\ttitle: string;\n\tdata?: Serialized<{\n\t\tdepartment: ILivechatDepartment | null;\n\t\tagents?: ILivechatDepartmentAgents[];\n\t}>;\n\tallowedToForwardData?: Serialized<{\n\t\tdepartments: ILivechatDepartment[];\n\t}>;\n};\n\ntype InitialValueParams = {\n\tdepartment?: Serialized<ILivechatDepartment> | null;\n\tagents?: Serialized<ILivechatDepartmentAgents>[];\n\tallowedToForwardData?: EditDepartmentProps['allowedToForwardData'];\n};\n\nexport type IDepartmentAgent = Pick<ILivechatDepartmentAgents, 'agentId' | 'username' | 'count' | 'order'> & {\n\t_id?: string;\n\tname?: string;\n};\n\nexport type FormValues = {\n\tname: string;\n\temail: string;\n\tdescription: string;\n\tenabled: boolean;\n\tmaxNumberSimultaneousChat: number;\n\tshowOnRegistration: boolean;\n\tshowOnOfflineForm: boolean;\n\tabandonedRoomsCloseCustomMessage: string;\n\trequestTagBeforeClosingChat: boolean;\n\tofflineMessageChannelName: string;\n\tvisitorInactivityTimeoutInSeconds: number;\n\twaitingQueueMessage: string;\n\tdepartmentsAllowedToForward: { label: string; value: string }[];\n\tfallbackForwardDepartment: string;\n\tagentList: IDepartmentAgent[];\n\tchatClosingTags: string[];\n\tallowReceiveForwardOffline: boolean;\n};\n\nfunction withDefault<T>(key: T | undefined | null, defaultValue: T) {\n\treturn key || defaultValue;\n}\n\nconst getInitialValues = ({ department, agents, allowedToForwardData }: InitialValueParams) => ({\n\tname: withDefault(department?.name, ''),\n\temail: withDefault(department?.email, ''),\n\tdescription: withDefault(department?.description, ''),\n\tenabled: !!department?.enabled,\n\tmaxNumberSimultaneousChat: department?.maxNumberSimultaneousChat,\n\tshowOnRegistration: !!department?.showOnRegistration,\n\tshowOnOfflineForm: !!department?.showOnOfflineForm,\n\tabandonedRoomsCloseCustomMessage: withDefault(department?.abandonedRoomsCloseCustomMessage, ''),\n\trequestTagBeforeClosingChat: !!department?.requestTagBeforeClosingChat,\n\tofflineMessageChannelName: withDefault(department?.offlineMessageChannelName, ''),\n\tvisitorInactivityTimeoutInSeconds: department?.visitorInactivityTimeoutInSeconds,\n\twaitingQueueMessage: withDefault(department?.waitingQueueMessage, ''),\n\tdepartmentsAllowedToForward: allowedToForwardData?.departments?.map((dep) => ({ label: dep.name, value: dep._id })) || [],\n\tfallbackForwardDepartment: withDefault(department?.fallbackForwardDepartment, ''),\n\tchatClosingTags: department?.chatClosingTags ?? [],\n\tagentList: agents || [],\n\tallowReceiveForwardOffline: withDefault(department?.allowReceiveForwardOffline, false),\n});\n\nfunction EditDepartment({ data, id, title, allowedToForwardData }: EditDepartmentProps) {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\n\tconst { department, agents = [] } = data || {};\n\n\tconst hasLicense = useHasLicenseModule('livechat-enterprise');\n\n\tconst initialValues = getInitialValues({ department, agents, allowedToForwardData });\n\n\tconst {\n\t\tregister,\n\t\tcontrol,\n\t\thandleSubmit,\n\t\twatch,\n\t\tformState: { errors, isValid, isDirty, isSubmitting },\n\t} = useForm<FormValues>({ mode: 'onChange', defaultValues: initialValues });\n\n\tconst requestTagBeforeClosingChat = watch('requestTagBeforeClosingChat');\n\n\tconst [fallbackFilter, setFallbackFilter] = useState<string>('');\n\n\tconst debouncedFallbackFilter = useDebouncedValue(fallbackFilter, 500);\n\n\tconst { itemsList: RoomsList, loadMoreItems: loadMoreRooms } = useRoomsList(\n\t\tuseMemo(() => ({ text: debouncedFallbackFilter }), [debouncedFallbackFilter]),\n\t);\n\n\tconst { phase: roomsPhase, items: roomsItems, itemCount: roomsTotal } = useRecordList(RoomsList);\n\n\tconst saveDepartmentInfo = useMethod('livechat:saveDepartment');\n\tconst saveDepartmentAgentsInfoOnEdit = useEndpoint('POST', `/v1/livechat/department/:_id/agents`, { _id: id || '' });\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleSave = useMutableCallback(async (data: FormValues) => {\n\t\tconst {\n\t\t\tagentList,\n\t\t\tenabled,\n\t\t\tname,\n\t\t\tdescription,\n\t\t\tshowOnRegistration,\n\t\t\tshowOnOfflineForm,\n\t\t\temail,\n\t\t\tchatClosingTags,\n\t\t\tofflineMessageChannelName,\n\t\t\tmaxNumberSimultaneousChat,\n\t\t\tvisitorInactivityTimeoutInSeconds,\n\t\t\tabandonedRoomsCloseCustomMessage,\n\t\t\twaitingQueueMessage,\n\t\t\tdepartmentsAllowedToForward,\n\t\t\tfallbackForwardDepartment,\n\t\t\tallowReceiveForwardOffline,\n\t\t} = data;\n\n\t\tconst payload = {\n\t\t\tenabled,\n\t\t\tname,\n\t\t\tdescription,\n\t\t\tshowOnRegistration,\n\t\t\tshowOnOfflineForm,\n\t\t\trequestTagBeforeClosingChat,\n\t\t\temail,\n\t\t\tchatClosingTags,\n\t\t\tofflineMessageChannelName,\n\t\t\tmaxNumberSimultaneousChat,\n\t\t\tvisitorInactivityTimeoutInSeconds,\n\t\t\tabandonedRoomsCloseCustomMessage,\n\t\t\twaitingQueueMessage,\n\t\t\tdepartmentsAllowedToForward: departmentsAllowedToForward?.map((dep) => dep.value),\n\t\t\tfallbackForwardDepartment,\n\t\t\tallowReceiveForwardOffline,\n\t\t};\n\n\t\ttry {\n\t\t\tif (id) {\n\t\t\t\tconst { agentList: initialAgentList } = initialValues;\n\n\t\t\t\tconst agentListPayload = {\n\t\t\t\t\tupsert: agentList.filter(\n\t\t\t\t\t\t(agent) =>\n\t\t\t\t\t\t\t!initialAgentList.some(\n\t\t\t\t\t\t\t\t(initialAgent) =>\n\t\t\t\t\t\t\t\t\tinitialAgent._id === agent._id && agent.count === initialAgent.count && agent.order === initialAgent.order,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t),\n\t\t\t\t\tremove: initialAgentList.filter((initialAgent) => !agentList.some((agent) => initialAgent._id === agent._id)),\n\t\t\t\t};\n\n\t\t\t\tawait saveDepartmentInfo(id, payload, []);\n\t\t\t\tif (agentListPayload.upsert.length > 0 || agentListPayload.remove.length > 0) {\n\t\t\t\t\tawait saveDepartmentAgentsInfoOnEdit(agentListPayload);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tawait saveDepartmentInfo(id ?? null, payload, agentList);\n\t\t\t}\n\t\t\tqueryClient.invalidateQueries(['/v1/livechat/department/:_id', id]);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\trouter.navigate('/omnichannel/departments');\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst isFormValid = isValid && isDirty;\n\n\tconst formId = useUniqueId();\n\tconst enabledField = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst descriptionField = useUniqueId();\n\tconst showOnRegistrationField = useUniqueId();\n\tconst emailField = useUniqueId();\n\tconst showOnOfflineFormField = useUniqueId();\n\tconst offlineMessageChannelNameField = useUniqueId();\n\tconst fallbackForwardDepartmentField = useUniqueId();\n\tconst requestTagBeforeClosingChatField = useUniqueId();\n\tconst chatClosingTagsField = useUniqueId();\n\tconst allowReceiveForwardOffline = useUniqueId();\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={title} onClickBack={() => router.navigate('/omnichannel/departments')}>\n\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t<Button type='submit' form={formId} primary disabled={!isFormValid} loading={isSubmitting}>\n\t\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</PageHeader>\n\t\t\t\t<PageScrollableContentWithShadow>\n\t\t\t\t\t<FieldGroup\n\t\t\t\t\t\tw='full'\n\t\t\t\t\t\talignSelf='center'\n\t\t\t\t\t\tmaxWidth='x600'\n\t\t\t\t\t\tid={formId}\n\t\t\t\t\t\tis='form'\n\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\tonSubmit={handleSubmit(handleSave)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={enabledField}>{t('Enabled')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={enabledField} {...register('enabled')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={nameField}\n\t\t\t\t\t\t\t\t\tdata-qa='DepartmentEditTextInput-Name'\n\t\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\t\terror={errors.name?.message as string}\n\t\t\t\t\t\t\t\t\tplaceholder={t('Name')}\n\t\t\t\t\t\t\t\t\t{...register('name', { required: t('Required_field', { field: t('Name') }) })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.name?.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextAreaInput\n\t\t\t\t\t\t\t\t\tid={descriptionField}\n\t\t\t\t\t\t\t\t\tdata-qa='DepartmentEditTextInput-Description'\n\t\t\t\t\t\t\t\t\tplaceholder={t('Description')}\n\t\t\t\t\t\t\t\t\t{...register('description')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field data-qa='DepartmentEditToggle-ShowOnRegistrationPage'>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={showOnRegistrationField}>{t('Show_on_registration_page')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={showOnRegistrationField} {...register('showOnRegistration')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={emailField} required>\n\t\t\t\t\t\t\t\t{t('Email')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={emailField}\n\t\t\t\t\t\t\t\t\tdata-qa='DepartmentEditTextInput-Email'\n\t\t\t\t\t\t\t\t\terror={errors.email?.message as string}\n\t\t\t\t\t\t\t\t\taddon={<Icon name='mail' size='x20' />}\n\t\t\t\t\t\t\t\t\tplaceholder={t('Email')}\n\t\t\t\t\t\t\t\t\t{...register('email', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Email') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (email) => validateEmail(email) || t('error-invalid-email-address'),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailField}-error`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.email && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${emailField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.email?.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={showOnOfflineFormField}>{t('Show_on_offline_page')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={showOnOfflineFormField} {...register('showOnOfflineForm')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={offlineMessageChannelNameField}>{t('Livechat_DepartmentOfflineMessageToChannel')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='offlineMessageChannelName'\n\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<PaginatedSelectFiltered\n\t\t\t\t\t\t\t\t\t\t\tid={offlineMessageChannelNameField}\n\t\t\t\t\t\t\t\t\t\t\tdata-qa='DepartmentSelect-LivechatDepartmentOfflineMessageToChannel'\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\tflexShrink={0}\n\t\t\t\t\t\t\t\t\t\t\tfilter={fallbackFilter}\n\t\t\t\t\t\t\t\t\t\t\tsetFilter={setFallbackFilter as (value?: string | number) => void}\n\t\t\t\t\t\t\t\t\t\t\toptions={roomsItems}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Channel_name')}\n\t\t\t\t\t\t\t\t\t\t\tendReached={\n\t\t\t\t\t\t\t\t\t\t\t\troomsPhase === AsyncStatePhase.LOADING ? () => undefined : (start) => loadMoreRooms(start, Math.min(50, roomsTotal))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-busy={fallbackFilter !== debouncedFallbackFilter}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t{hasLicense && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='maxNumberSimultaneousChat'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EeNumberInput\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('Max_number_of_chats_per_agent')}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Max_number_of_chats_per_agent_description')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='visitorInactivityTimeoutInSeconds'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EeNumberInput\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('How_long_to_wait_to_consider_visitor_abandonment_in_seconds')}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Number_in_seconds')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='abandonedRoomsCloseCustomMessage'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EeTextInput\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('Livechat_abandoned_rooms_closed_custom_message')}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Enter_a_custom_message')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='waitingQueueMessage'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EeTextAreaInput {...field} label={t('Waiting_queue_message')} placeholder={t('Waiting_queue_message')} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='departmentsAllowedToForward'\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t\t<DepartmentForwarding\n\t\t\t\t\t\t\t\t\t\t\t\tdepartmentId={id ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\thandler={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='List_of_departments_for_forward'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={fallbackForwardDepartmentField}>{t('Fallback_forward_department')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='fallbackForwardDepartment'\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t\t<AutoCompleteDepartment\n\t\t\t\t\t\t\t\t\t\t\t\tid={fallbackForwardDepartmentField}\n\t\t\t\t\t\t\t\t\t\t\t\thaveNone\n\t\t\t\t\t\t\t\t\t\t\t\texcludeDepartmentId={department?._id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\tonlyMyDepartments\n\t\t\t\t\t\t\t\t\t\t\t\tshowArchived\n\t\t\t\t\t\t\t\t\t\t\t\twithTitle={false}\n\t\t\t\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={requestTagBeforeClosingChatField}>{t('Request_tag_before_closing_chat')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={requestTagBeforeClosingChatField} {...register('requestTagBeforeClosingChat')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t{requestTagBeforeClosingChat && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={chatClosingTagsField} required>\n\t\t\t\t\t\t\t\t\t{t('Conversation_closing_tags')}\n\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='chatClosingTags'\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', 'tags') }}\n\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<DepartmentTags\n\t\t\t\t\t\t\t\t\t\t\tid={chatClosingTagsField}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.chatClosingTags?.message as string}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${chatClosingTagsField}-hint ${chatClosingTagsField}-error`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FieldHint id={`${chatClosingTagsField}-hint`}>{t('Conversation_closing_tags_description')}</FieldHint>\n\t\t\t\t\t\t\t\t{errors.chatClosingTags && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${chatClosingTagsField}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.chatClosingTags?.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={allowReceiveForwardOffline}>{t('Accept_receive_inquiry_no_online_agents')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={allowReceiveForwardOffline} {...register('allowReceiveForwardOffline')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldHint id={`${allowReceiveForwardOffline}-hint`}>{t('Accept_receive_inquiry_no_online_agents_Hint')}</FieldHint>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<DepartmentBusinessHours bhId={department?.businessHourId} />\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Divider mb={16} />\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel mb={4}>{t('Agents')}</FieldLabel>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' height='50vh'>\n\t\t\t\t\t\t\t\t<DepartmentsAgentsTable control={control} register={register} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</PageScrollableContentWithShadow>\n\t\t\t</Page>\n\t\t</Page>\n\t);\n}\n\nexport default EditDepartment;\n"]}}},"code":"const _excluded = [\"label\"];\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 0);\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 1);\nlet FieldGroup, Field, FieldLabel, FieldRow, FieldError, TextInput, Box, Icon, Divider, ToggleSwitch, TextAreaInput, ButtonGroup, Button, PaginatedSelectFiltered, FieldHint, Option;\nmodule.link(\"@rocket.chat/fuselage\", {\n  FieldGroup(v) {\n    FieldGroup = v;\n  },\n  Field(v) {\n    Field = v;\n  },\n  FieldLabel(v) {\n    FieldLabel = v;\n  },\n  FieldRow(v) {\n    FieldRow = v;\n  },\n  FieldError(v) {\n    FieldError = v;\n  },\n  TextInput(v) {\n    TextInput = v;\n  },\n  Box(v) {\n    Box = v;\n  },\n  Icon(v) {\n    Icon = v;\n  },\n  Divider(v) {\n    Divider = v;\n  },\n  ToggleSwitch(v) {\n    ToggleSwitch = v;\n  },\n  TextAreaInput(v) {\n    TextAreaInput = v;\n  },\n  ButtonGroup(v) {\n    ButtonGroup = v;\n  },\n  Button(v) {\n    Button = v;\n  },\n  PaginatedSelectFiltered(v) {\n    PaginatedSelectFiltered = v;\n  },\n  FieldHint(v) {\n    FieldHint = v;\n  },\n  Option(v) {\n    Option = v;\n  }\n}, 0);\nlet useDebouncedValue, useMutableCallback, useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useDebouncedValue(v) {\n    useDebouncedValue = v;\n  },\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  },\n  useUniqueId(v) {\n    useUniqueId = v;\n  }\n}, 1);\nlet useToastMessageDispatch, useMethod, useEndpoint, useTranslation, useRouter;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch(v) {\n    useToastMessageDispatch = v;\n  },\n  useMethod(v) {\n    useMethod = v;\n  },\n  useEndpoint(v) {\n    useEndpoint = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  },\n  useRouter(v) {\n    useRouter = v;\n  }\n}, 2);\nlet useQueryClient;\nmodule.link(\"@tanstack/react-query\", {\n  useQueryClient(v) {\n    useQueryClient = v;\n  }\n}, 3);\nlet React, useMemo, useState;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  },\n  useState(v) {\n    useState = v;\n  }\n}, 4);\nlet Controller, useForm;\nmodule.link(\"react-hook-form\", {\n  Controller(v) {\n    Controller = v;\n  },\n  useForm(v) {\n    useForm = v;\n  }\n}, 5);\nlet validateEmail;\nmodule.link(\"../../../../lib/emailValidator\", {\n  validateEmail(v) {\n    validateEmail = v;\n  }\n}, 6);\nlet AutoCompleteDepartment;\nmodule.link(\"../../../components/AutoCompleteDepartment\", {\n  default(v) {\n    AutoCompleteDepartment = v;\n  }\n}, 7);\nlet Page, PageHeader, PageScrollableContentWithShadow;\nmodule.link(\"../../../components/Page\", {\n  Page(v) {\n    Page = v;\n  },\n  PageHeader(v) {\n    PageHeader = v;\n  },\n  PageScrollableContentWithShadow(v) {\n    PageScrollableContentWithShadow = v;\n  }\n}, 8);\nlet useRecordList;\nmodule.link(\"../../../hooks/lists/useRecordList\", {\n  useRecordList(v) {\n    useRecordList = v;\n  }\n}, 9);\nlet useHasLicenseModule;\nmodule.link(\"../../../hooks/useHasLicenseModule\", {\n  useHasLicenseModule(v) {\n    useHasLicenseModule = v;\n  }\n}, 10);\nlet useRoomsList;\nmodule.link(\"../../../hooks/useRoomsList\", {\n  useRoomsList(v) {\n    useRoomsList = v;\n  }\n}, 11);\nlet AsyncStatePhase;\nmodule.link(\"../../../lib/asyncState\", {\n  AsyncStatePhase(v) {\n    AsyncStatePhase = v;\n  }\n}, 12);\nlet EeTextInput, EeTextAreaInput, EeNumberInput, DepartmentForwarding, DepartmentBusinessHours;\nmodule.link(\"../additionalForms\", {\n  EeTextInput(v) {\n    EeTextInput = v;\n  },\n  EeTextAreaInput(v) {\n    EeTextAreaInput = v;\n  },\n  EeNumberInput(v) {\n    EeNumberInput = v;\n  },\n  DepartmentForwarding(v) {\n    DepartmentForwarding = v;\n  },\n  DepartmentBusinessHours(v) {\n    DepartmentBusinessHours = v;\n  }\n}, 13);\nlet DepartmentsAgentsTable;\nmodule.link(\"./DepartmentAgentsTable/DepartmentAgentsTable\", {\n  default(v) {\n    DepartmentsAgentsTable = v;\n  }\n}, 14);\nlet DepartmentTags;\nmodule.link(\"./DepartmentTags\", {\n  default(v) {\n    DepartmentTags = v;\n  }\n}, 15);\nfunction withDefault(key, defaultValue) {\n  return key || defaultValue;\n}\nconst getInitialValues = _ref => {\n  var _allowedToForwardData, _department$chatClosi;\n  let {\n    department,\n    agents,\n    allowedToForwardData\n  } = _ref;\n  return {\n    name: withDefault(department === null || department === void 0 ? void 0 : department.name, ''),\n    email: withDefault(department === null || department === void 0 ? void 0 : department.email, ''),\n    description: withDefault(department === null || department === void 0 ? void 0 : department.description, ''),\n    enabled: !!(department !== null && department !== void 0 && department.enabled),\n    maxNumberSimultaneousChat: department === null || department === void 0 ? void 0 : department.maxNumberSimultaneousChat,\n    showOnRegistration: !!(department !== null && department !== void 0 && department.showOnRegistration),\n    showOnOfflineForm: !!(department !== null && department !== void 0 && department.showOnOfflineForm),\n    abandonedRoomsCloseCustomMessage: withDefault(department === null || department === void 0 ? void 0 : department.abandonedRoomsCloseCustomMessage, ''),\n    requestTagBeforeClosingChat: !!(department !== null && department !== void 0 && department.requestTagBeforeClosingChat),\n    offlineMessageChannelName: withDefault(department === null || department === void 0 ? void 0 : department.offlineMessageChannelName, ''),\n    visitorInactivityTimeoutInSeconds: department === null || department === void 0 ? void 0 : department.visitorInactivityTimeoutInSeconds,\n    waitingQueueMessage: withDefault(department === null || department === void 0 ? void 0 : department.waitingQueueMessage, ''),\n    departmentsAllowedToForward: (allowedToForwardData === null || allowedToForwardData === void 0 ? void 0 : (_allowedToForwardData = allowedToForwardData.departments) === null || _allowedToForwardData === void 0 ? void 0 : _allowedToForwardData.map(dep => ({\n      label: dep.name,\n      value: dep._id\n    }))) || [],\n    fallbackForwardDepartment: withDefault(department === null || department === void 0 ? void 0 : department.fallbackForwardDepartment, ''),\n    chatClosingTags: (_department$chatClosi = department === null || department === void 0 ? void 0 : department.chatClosingTags) !== null && _department$chatClosi !== void 0 ? _department$chatClosi : [],\n    agentList: agents || [],\n    allowReceiveForwardOffline: withDefault(department === null || department === void 0 ? void 0 : department.allowReceiveForwardOffline, false)\n  };\n};\nfunction EditDepartment(_ref2) {\n  var _errors$name, _errors$name2, _errors$email, _errors$email2, _errors$chatClosingTa2;\n  let {\n    data,\n    id,\n    title,\n    allowedToForwardData\n  } = _ref2;\n  const t = useTranslation();\n  const router = useRouter();\n  const queryClient = useQueryClient();\n  const {\n    department,\n    agents = []\n  } = data || {};\n  const hasLicense = useHasLicenseModule('livechat-enterprise');\n  const initialValues = getInitialValues({\n    department,\n    agents,\n    allowedToForwardData\n  });\n  const {\n    register,\n    control,\n    handleSubmit,\n    watch,\n    formState: {\n      errors,\n      isValid,\n      isDirty,\n      isSubmitting\n    }\n  } = useForm({\n    mode: 'onChange',\n    defaultValues: initialValues\n  });\n  const requestTagBeforeClosingChat = watch('requestTagBeforeClosingChat');\n  const [fallbackFilter, setFallbackFilter] = useState('');\n  const debouncedFallbackFilter = useDebouncedValue(fallbackFilter, 500);\n  const {\n    itemsList: RoomsList,\n    loadMoreItems: loadMoreRooms\n  } = useRoomsList(useMemo(() => ({\n    text: debouncedFallbackFilter\n  }), [debouncedFallbackFilter]));\n  const {\n    phase: roomsPhase,\n    items: roomsItems,\n    itemCount: roomsTotal\n  } = useRecordList(RoomsList);\n  const saveDepartmentInfo = useMethod('livechat:saveDepartment');\n  const saveDepartmentAgentsInfoOnEdit = useEndpoint('POST', \"/v1/livechat/department/:_id/agents\", {\n    _id: id || ''\n  });\n  const dispatchToastMessage = useToastMessageDispatch();\n  const handleSave = useMutableCallback(async data => {\n    const {\n      agentList,\n      enabled,\n      name,\n      description,\n      showOnRegistration,\n      showOnOfflineForm,\n      email,\n      chatClosingTags,\n      offlineMessageChannelName,\n      maxNumberSimultaneousChat,\n      visitorInactivityTimeoutInSeconds,\n      abandonedRoomsCloseCustomMessage,\n      waitingQueueMessage,\n      departmentsAllowedToForward,\n      fallbackForwardDepartment,\n      allowReceiveForwardOffline\n    } = data;\n    const payload = {\n      enabled,\n      name,\n      description,\n      showOnRegistration,\n      showOnOfflineForm,\n      requestTagBeforeClosingChat,\n      email,\n      chatClosingTags,\n      offlineMessageChannelName,\n      maxNumberSimultaneousChat,\n      visitorInactivityTimeoutInSeconds,\n      abandonedRoomsCloseCustomMessage,\n      waitingQueueMessage,\n      departmentsAllowedToForward: departmentsAllowedToForward === null || departmentsAllowedToForward === void 0 ? void 0 : departmentsAllowedToForward.map(dep => dep.value),\n      fallbackForwardDepartment,\n      allowReceiveForwardOffline\n    };\n    try {\n      if (id) {\n        const {\n          agentList: initialAgentList\n        } = initialValues;\n        const agentListPayload = {\n          upsert: agentList.filter(agent => !initialAgentList.some(initialAgent => initialAgent._id === agent._id && agent.count === initialAgent.count && agent.order === initialAgent.order)),\n          remove: initialAgentList.filter(initialAgent => !agentList.some(agent => initialAgent._id === agent._id))\n        };\n        await saveDepartmentInfo(id, payload, []);\n        if (agentListPayload.upsert.length > 0 || agentListPayload.remove.length > 0) {\n          await saveDepartmentAgentsInfoOnEdit(agentListPayload);\n        }\n      } else {\n        await saveDepartmentInfo(id !== null && id !== void 0 ? id : null, payload, agentList);\n      }\n      queryClient.invalidateQueries(['/v1/livechat/department/:_id', id]);\n      dispatchToastMessage({\n        type: 'success',\n        message: t('Saved')\n      });\n      router.navigate('/omnichannel/departments');\n    } catch (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    }\n  });\n  const isFormValid = isValid && isDirty;\n  const formId = useUniqueId();\n  const enabledField = useUniqueId();\n  const nameField = useUniqueId();\n  const descriptionField = useUniqueId();\n  const showOnRegistrationField = useUniqueId();\n  const emailField = useUniqueId();\n  const showOnOfflineFormField = useUniqueId();\n  const offlineMessageChannelNameField = useUniqueId();\n  const fallbackForwardDepartmentField = useUniqueId();\n  const requestTagBeforeClosingChatField = useUniqueId();\n  const chatClosingTagsField = useUniqueId();\n  const allowReceiveForwardOffline = useUniqueId();\n  return /*#__PURE__*/React.createElement(Page, {\n    flexDirection: \"row\"\n  }, /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: title,\n    onClickBack: () => router.navigate('/omnichannel/departments')\n  }, /*#__PURE__*/React.createElement(ButtonGroup, null, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    form: formId,\n    primary: true,\n    disabled: !isFormValid,\n    loading: isSubmitting\n  }, t('Save')))), /*#__PURE__*/React.createElement(PageScrollableContentWithShadow, null, /*#__PURE__*/React.createElement(FieldGroup, {\n    w: \"full\",\n    alignSelf: \"center\",\n    maxWidth: \"x600\",\n    id: formId,\n    is: \"form\",\n    autoComplete: \"off\",\n    onSubmit: handleSubmit(handleSave)\n  }, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: enabledField\n  }, t('Enabled')), /*#__PURE__*/React.createElement(ToggleSwitch, _extends({\n    id: enabledField\n  }, register('enabled'))))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: nameField,\n    required: true\n  }, t('Name')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextInput, _extends({\n    id: nameField,\n    \"data-qa\": \"DepartmentEditTextInput-Name\",\n    flexGrow: 1,\n    error: (_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.message,\n    placeholder: t('Name')\n  }, register('name', {\n    required: t('Required_field', {\n      field: t('Name')\n    })\n  })))), errors.name && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: \"\".concat(nameField, \"-error\")\n  }, (_errors$name2 = errors.name) === null || _errors$name2 === void 0 ? void 0 : _errors$name2.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: descriptionField\n  }, t('Description')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextAreaInput, _extends({\n    id: descriptionField,\n    \"data-qa\": \"DepartmentEditTextInput-Description\",\n    placeholder: t('Description')\n  }, register('description'))))), /*#__PURE__*/React.createElement(Field, {\n    \"data-qa\": \"DepartmentEditToggle-ShowOnRegistrationPage\"\n  }, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: showOnRegistrationField\n  }, t('Show_on_registration_page')), /*#__PURE__*/React.createElement(ToggleSwitch, _extends({\n    id: showOnRegistrationField\n  }, register('showOnRegistration'))))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: emailField,\n    required: true\n  }, t('Email')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextInput, _extends({\n    id: emailField,\n    \"data-qa\": \"DepartmentEditTextInput-Email\",\n    error: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message,\n    addon: /*#__PURE__*/React.createElement(Icon, {\n      name: \"mail\",\n      size: \"x20\"\n    }),\n    placeholder: t('Email')\n  }, register('email', {\n    required: t('Required_field', {\n      field: t('Email')\n    }),\n    validate: email => validateEmail(email) || t('error-invalid-email-address')\n  }), {\n    \"aria-describedby\": \"\".concat(emailField, \"-error\")\n  }))), errors.email && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: \"\".concat(emailField, \"-error\")\n  }, (_errors$email2 = errors.email) === null || _errors$email2 === void 0 ? void 0 : _errors$email2.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: showOnOfflineFormField\n  }, t('Show_on_offline_page')), /*#__PURE__*/React.createElement(ToggleSwitch, _extends({\n    id: showOnOfflineFormField\n  }, register('showOnOfflineForm'))))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: offlineMessageChannelNameField\n  }, t('Livechat_DepartmentOfflineMessageToChannel')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"offlineMessageChannelName\",\n    render: _ref3 => {\n      let {\n        field: {\n          value,\n          onChange\n        }\n      } = _ref3;\n      return /*#__PURE__*/React.createElement(PaginatedSelectFiltered, {\n        id: offlineMessageChannelNameField,\n        \"data-qa\": \"DepartmentSelect-LivechatDepartmentOfflineMessageToChannel\",\n        value: value,\n        onChange: onChange,\n        flexShrink: 0,\n        filter: fallbackFilter,\n        setFilter: setFallbackFilter,\n        options: roomsItems,\n        placeholder: t('Channel_name'),\n        endReached: roomsPhase === AsyncStatePhase.LOADING ? () => undefined : start => loadMoreRooms(start, Math.min(50, roomsTotal)),\n        \"aria-busy\": fallbackFilter !== debouncedFallbackFilter\n      });\n    }\n  }))), hasLicense && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"maxNumberSimultaneousChat\",\n    render: _ref4 => {\n      let {\n        field\n      } = _ref4;\n      return /*#__PURE__*/React.createElement(EeNumberInput, _extends({}, field, {\n        label: t('Max_number_of_chats_per_agent'),\n        placeholder: t('Max_number_of_chats_per_agent_description')\n      }));\n    }\n  })), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"visitorInactivityTimeoutInSeconds\",\n    render: _ref5 => {\n      let {\n        field\n      } = _ref5;\n      return /*#__PURE__*/React.createElement(EeNumberInput, _extends({}, field, {\n        label: t('How_long_to_wait_to_consider_visitor_abandonment_in_seconds'),\n        placeholder: t('Number_in_seconds')\n      }));\n    }\n  })), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"abandonedRoomsCloseCustomMessage\",\n    render: _ref6 => {\n      let {\n        field\n      } = _ref6;\n      return /*#__PURE__*/React.createElement(EeTextInput, _extends({}, field, {\n        label: t('Livechat_abandoned_rooms_closed_custom_message'),\n        placeholder: t('Enter_a_custom_message')\n      }));\n    }\n  })), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"waitingQueueMessage\",\n    render: _ref7 => {\n      let {\n        field\n      } = _ref7;\n      return /*#__PURE__*/React.createElement(EeTextAreaInput, _extends({}, field, {\n        label: t('Waiting_queue_message'),\n        placeholder: t('Waiting_queue_message')\n      }));\n    }\n  })), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"departmentsAllowedToForward\",\n    render: _ref8 => {\n      let {\n        field: {\n          value,\n          onChange\n        }\n      } = _ref8;\n      return /*#__PURE__*/React.createElement(DepartmentForwarding, {\n        departmentId: id !== null && id !== void 0 ? id : '',\n        value: value,\n        handler: onChange,\n        label: \"List_of_departments_for_forward\"\n      });\n    }\n  })), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: fallbackForwardDepartmentField\n  }, t('Fallback_forward_department')), /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"fallbackForwardDepartment\",\n    render: _ref9 => {\n      let {\n        field: {\n          value,\n          onChange\n        }\n      } = _ref9;\n      return /*#__PURE__*/React.createElement(AutoCompleteDepartment, {\n        id: fallbackForwardDepartmentField,\n        haveNone: true,\n        excludeDepartmentId: department === null || department === void 0 ? void 0 : department._id,\n        value: value,\n        onChange: onChange,\n        onlyMyDepartments: true,\n        showArchived: true,\n        withTitle: false,\n        renderItem: _ref10 => {\n          let {\n              label\n            } = _ref10,\n            props = _objectWithoutProperties(_ref10, _excluded);\n          return /*#__PURE__*/React.createElement(Option, _extends({}, props, {\n            label: /*#__PURE__*/React.createElement(\"span\", {\n              style: {\n                whiteSpace: 'normal'\n              }\n            }, label)\n          }));\n        }\n      });\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: requestTagBeforeClosingChatField\n  }, t('Request_tag_before_closing_chat')), /*#__PURE__*/React.createElement(ToggleSwitch, _extends({\n    id: requestTagBeforeClosingChatField\n  }, register('requestTagBeforeClosingChat'))))), requestTagBeforeClosingChat && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: chatClosingTagsField,\n    required: true\n  }, t('Conversation_closing_tags')), /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"chatClosingTags\",\n    rules: {\n      required: t('Required_field', 'tags')\n    },\n    render: _ref11 => {\n      var _errors$chatClosingTa;\n      let {\n        field: {\n          value,\n          onChange\n        }\n      } = _ref11;\n      return /*#__PURE__*/React.createElement(DepartmentTags, {\n        id: chatClosingTagsField,\n        value: value,\n        onChange: onChange,\n        error: (_errors$chatClosingTa = errors.chatClosingTags) === null || _errors$chatClosingTa === void 0 ? void 0 : _errors$chatClosingTa.message,\n        \"aria-describedby\": \"\".concat(chatClosingTagsField, \"-hint \").concat(chatClosingTagsField, \"-error\")\n      });\n    }\n  }), /*#__PURE__*/React.createElement(FieldHint, {\n    id: \"\".concat(chatClosingTagsField, \"-hint\")\n  }, t('Conversation_closing_tags_description')), errors.chatClosingTags && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: \"\".concat(chatClosingTagsField, \"-error\")\n  }, (_errors$chatClosingTa2 = errors.chatClosingTags) === null || _errors$chatClosingTa2 === void 0 ? void 0 : _errors$chatClosingTa2.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: allowReceiveForwardOffline\n  }, t('Accept_receive_inquiry_no_online_agents')), /*#__PURE__*/React.createElement(ToggleSwitch, _extends({\n    id: allowReceiveForwardOffline\n  }, register('allowReceiveForwardOffline')))), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldHint, {\n    id: \"\".concat(allowReceiveForwardOffline, \"-hint\")\n  }, t('Accept_receive_inquiry_no_online_agents_Hint')))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(DepartmentBusinessHours, {\n    bhId: department === null || department === void 0 ? void 0 : department.businessHourId\n  })), /*#__PURE__*/React.createElement(Divider, {\n    mb: 16\n  }), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    mb: 4\n  }, t('Agents')), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"50vh\"\n  }, /*#__PURE__*/React.createElement(DepartmentsAgentsTable, {\n    control: control,\n    register: register\n  })))))));\n}\nmodule.exportDefault(EditDepartment);","map":{"version":3,"names":["_objectWithoutProperties","module","link","default","v","_extends","FieldGroup","Field","FieldLabel","FieldRow","FieldError","TextInput","Box","Icon","Divider","ToggleSwitch","TextAreaInput","ButtonGroup","Button","PaginatedSelectFiltered","FieldHint","Option","useDebouncedValue","useMutableCallback","useUniqueId","useToastMessageDispatch","useMethod","useEndpoint","useTranslation","useRouter","useQueryClient","React","useMemo","useState","Controller","useForm","validateEmail","AutoCompleteDepartment","Page","PageHeader","PageScrollableContentWithShadow","useRecordList","useHasLicenseModule","useRoomsList","AsyncStatePhase","EeTextInput","EeTextAreaInput","EeNumberInput","DepartmentForwarding","DepartmentBusinessHours","DepartmentsAgentsTable","DepartmentTags","withDefault","key","defaultValue","getInitialValues","_ref","_allowedToForwardData","_department$chatClosi","department","agents","allowedToForwardData","name","email","description","enabled","maxNumberSimultaneousChat","showOnRegistration","showOnOfflineForm","abandonedRoomsCloseCustomMessage","requestTagBeforeClosingChat","offlineMessageChannelName","visitorInactivityTimeoutInSeconds","waitingQueueMessage","departmentsAllowedToForward","departments","map","dep","label","value","_id","fallbackForwardDepartment","chatClosingTags","agentList","allowReceiveForwardOffline","EditDepartment","_ref2","_errors$name","_errors$name2","_errors$email","_errors$email2","_errors$chatClosingTa2","data","id","title","t","router","queryClient","hasLicense","initialValues","register","control","handleSubmit","watch","formState","errors","isValid","isDirty","isSubmitting","mode","defaultValues","fallbackFilter","setFallbackFilter","debouncedFallbackFilter","itemsList","RoomsList","loadMoreItems","loadMoreRooms","text","phase","roomsPhase","items","roomsItems","itemCount","roomsTotal","saveDepartmentInfo","saveDepartmentAgentsInfoOnEdit","dispatchToastMessage","handleSave","payload","initialAgentList","agentListPayload","upsert","filter","agent","some","initialAgent","count","order","remove","length","invalidateQueries","type","message","navigate","error","isFormValid","formId","enabledField","nameField","descriptionField","showOnRegistrationField","emailField","showOnOfflineFormField","offlineMessageChannelNameField","fallbackForwardDepartmentField","requestTagBeforeClosingChatField","chatClosingTagsField","createElement","flexDirection","onClickBack","form","primary","disabled","loading","w","alignSelf","maxWidth","is","autoComplete","onSubmit","htmlFor","required","flexGrow","placeholder","field","concat","addon","size","validate","render","_ref3","onChange","flexShrink","setFilter","options","endReached","LOADING","undefined","start","Math","min","Fragment","_ref4","_ref5","_ref6","_ref7","_ref8","departmentId","handler","_ref9","haveNone","excludeDepartmentId","onlyMyDepartments","showArchived","withTitle","renderItem","_ref10","props","_excluded","style","whiteSpace","rules","_ref11","_errors$chatClosingTa","bhId","businessHourId","mb","display","height","exportDefault"],"sources":["client/views/omnichannel/departments/EditDepartment.tsx"],"sourcesContent":["import type { ILivechatDepartment, ILivechatDepartmentAgents, Serialized } from '@rocket.chat/core-typings';\nimport {\n\tFieldGroup,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tTextInput,\n\tBox,\n\tIcon,\n\tDivider,\n\tToggleSwitch,\n\tTextAreaInput,\n\tButtonGroup,\n\tButton,\n\tPaginatedSelectFiltered,\n\tFieldHint,\n\tOption,\n} from '@rocket.chat/fuselage';\nimport { useDebouncedValue, useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useEndpoint, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo, useState } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport AutoCompleteDepartment from '../../../components/AutoCompleteDepartment';\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\nimport { useRecordList } from '../../../hooks/lists/useRecordList';\nimport { useHasLicenseModule } from '../../../hooks/useHasLicenseModule';\nimport { useRoomsList } from '../../../hooks/useRoomsList';\nimport { AsyncStatePhase } from '../../../lib/asyncState';\nimport { EeTextInput, EeTextAreaInput, EeNumberInput, DepartmentForwarding, DepartmentBusinessHours } from '../additionalForms';\nimport DepartmentsAgentsTable from './DepartmentAgentsTable/DepartmentAgentsTable';\nimport DepartmentTags from './DepartmentTags';\n\nexport type EditDepartmentProps = {\n\tid?: string;\n\ttitle: string;\n\tdata?: Serialized<{\n\t\tdepartment: ILivechatDepartment | null;\n\t\tagents?: ILivechatDepartmentAgents[];\n\t}>;\n\tallowedToForwardData?: Serialized<{\n\t\tdepartments: ILivechatDepartment[];\n\t}>;\n};\n\ntype InitialValueParams = {\n\tdepartment?: Serialized<ILivechatDepartment> | null;\n\tagents?: Serialized<ILivechatDepartmentAgents>[];\n\tallowedToForwardData?: EditDepartmentProps['allowedToForwardData'];\n};\n\nexport type IDepartmentAgent = Pick<ILivechatDepartmentAgents, 'agentId' | 'username' | 'count' | 'order'> & {\n\t_id?: string;\n\tname?: string;\n};\n\nexport type FormValues = {\n\tname: string;\n\temail: string;\n\tdescription: string;\n\tenabled: boolean;\n\tmaxNumberSimultaneousChat: number;\n\tshowOnRegistration: boolean;\n\tshowOnOfflineForm: boolean;\n\tabandonedRoomsCloseCustomMessage: string;\n\trequestTagBeforeClosingChat: boolean;\n\tofflineMessageChannelName: string;\n\tvisitorInactivityTimeoutInSeconds: number;\n\twaitingQueueMessage: string;\n\tdepartmentsAllowedToForward: { label: string; value: string }[];\n\tfallbackForwardDepartment: string;\n\tagentList: IDepartmentAgent[];\n\tchatClosingTags: string[];\n\tallowReceiveForwardOffline: boolean;\n};\n\nfunction withDefault<T>(key: T | undefined | null, defaultValue: T) {\n\treturn key || defaultValue;\n}\n\nconst getInitialValues = ({ department, agents, allowedToForwardData }: InitialValueParams) => ({\n\tname: withDefault(department?.name, ''),\n\temail: withDefault(department?.email, ''),\n\tdescription: withDefault(department?.description, ''),\n\tenabled: !!department?.enabled,\n\tmaxNumberSimultaneousChat: department?.maxNumberSimultaneousChat,\n\tshowOnRegistration: !!department?.showOnRegistration,\n\tshowOnOfflineForm: !!department?.showOnOfflineForm,\n\tabandonedRoomsCloseCustomMessage: withDefault(department?.abandonedRoomsCloseCustomMessage, ''),\n\trequestTagBeforeClosingChat: !!department?.requestTagBeforeClosingChat,\n\tofflineMessageChannelName: withDefault(department?.offlineMessageChannelName, ''),\n\tvisitorInactivityTimeoutInSeconds: department?.visitorInactivityTimeoutInSeconds,\n\twaitingQueueMessage: withDefault(department?.waitingQueueMessage, ''),\n\tdepartmentsAllowedToForward: allowedToForwardData?.departments?.map((dep) => ({ label: dep.name, value: dep._id })) || [],\n\tfallbackForwardDepartment: withDefault(department?.fallbackForwardDepartment, ''),\n\tchatClosingTags: department?.chatClosingTags ?? [],\n\tagentList: agents || [],\n\tallowReceiveForwardOffline: withDefault(department?.allowReceiveForwardOffline, false),\n});\n\nfunction EditDepartment({ data, id, title, allowedToForwardData }: EditDepartmentProps) {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\n\tconst { department, agents = [] } = data || {};\n\n\tconst hasLicense = useHasLicenseModule('livechat-enterprise');\n\n\tconst initialValues = getInitialValues({ department, agents, allowedToForwardData });\n\n\tconst {\n\t\tregister,\n\t\tcontrol,\n\t\thandleSubmit,\n\t\twatch,\n\t\tformState: { errors, isValid, isDirty, isSubmitting },\n\t} = useForm<FormValues>({ mode: 'onChange', defaultValues: initialValues });\n\n\tconst requestTagBeforeClosingChat = watch('requestTagBeforeClosingChat');\n\n\tconst [fallbackFilter, setFallbackFilter] = useState<string>('');\n\n\tconst debouncedFallbackFilter = useDebouncedValue(fallbackFilter, 500);\n\n\tconst { itemsList: RoomsList, loadMoreItems: loadMoreRooms } = useRoomsList(\n\t\tuseMemo(() => ({ text: debouncedFallbackFilter }), [debouncedFallbackFilter]),\n\t);\n\n\tconst { phase: roomsPhase, items: roomsItems, itemCount: roomsTotal } = useRecordList(RoomsList);\n\n\tconst saveDepartmentInfo = useMethod('livechat:saveDepartment');\n\tconst saveDepartmentAgentsInfoOnEdit = useEndpoint('POST', `/v1/livechat/department/:_id/agents`, { _id: id || '' });\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleSave = useMutableCallback(async (data: FormValues) => {\n\t\tconst {\n\t\t\tagentList,\n\t\t\tenabled,\n\t\t\tname,\n\t\t\tdescription,\n\t\t\tshowOnRegistration,\n\t\t\tshowOnOfflineForm,\n\t\t\temail,\n\t\t\tchatClosingTags,\n\t\t\tofflineMessageChannelName,\n\t\t\tmaxNumberSimultaneousChat,\n\t\t\tvisitorInactivityTimeoutInSeconds,\n\t\t\tabandonedRoomsCloseCustomMessage,\n\t\t\twaitingQueueMessage,\n\t\t\tdepartmentsAllowedToForward,\n\t\t\tfallbackForwardDepartment,\n\t\t\tallowReceiveForwardOffline,\n\t\t} = data;\n\n\t\tconst payload = {\n\t\t\tenabled,\n\t\t\tname,\n\t\t\tdescription,\n\t\t\tshowOnRegistration,\n\t\t\tshowOnOfflineForm,\n\t\t\trequestTagBeforeClosingChat,\n\t\t\temail,\n\t\t\tchatClosingTags,\n\t\t\tofflineMessageChannelName,\n\t\t\tmaxNumberSimultaneousChat,\n\t\t\tvisitorInactivityTimeoutInSeconds,\n\t\t\tabandonedRoomsCloseCustomMessage,\n\t\t\twaitingQueueMessage,\n\t\t\tdepartmentsAllowedToForward: departmentsAllowedToForward?.map((dep) => dep.value),\n\t\t\tfallbackForwardDepartment,\n\t\t\tallowReceiveForwardOffline,\n\t\t};\n\n\t\ttry {\n\t\t\tif (id) {\n\t\t\t\tconst { agentList: initialAgentList } = initialValues;\n\n\t\t\t\tconst agentListPayload = {\n\t\t\t\t\tupsert: agentList.filter(\n\t\t\t\t\t\t(agent) =>\n\t\t\t\t\t\t\t!initialAgentList.some(\n\t\t\t\t\t\t\t\t(initialAgent) =>\n\t\t\t\t\t\t\t\t\tinitialAgent._id === agent._id && agent.count === initialAgent.count && agent.order === initialAgent.order,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t),\n\t\t\t\t\tremove: initialAgentList.filter((initialAgent) => !agentList.some((agent) => initialAgent._id === agent._id)),\n\t\t\t\t};\n\n\t\t\t\tawait saveDepartmentInfo(id, payload, []);\n\t\t\t\tif (agentListPayload.upsert.length > 0 || agentListPayload.remove.length > 0) {\n\t\t\t\t\tawait saveDepartmentAgentsInfoOnEdit(agentListPayload);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tawait saveDepartmentInfo(id ?? null, payload, agentList);\n\t\t\t}\n\t\t\tqueryClient.invalidateQueries(['/v1/livechat/department/:_id', id]);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\trouter.navigate('/omnichannel/departments');\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst isFormValid = isValid && isDirty;\n\n\tconst formId = useUniqueId();\n\tconst enabledField = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst descriptionField = useUniqueId();\n\tconst showOnRegistrationField = useUniqueId();\n\tconst emailField = useUniqueId();\n\tconst showOnOfflineFormField = useUniqueId();\n\tconst offlineMessageChannelNameField = useUniqueId();\n\tconst fallbackForwardDepartmentField = useUniqueId();\n\tconst requestTagBeforeClosingChatField = useUniqueId();\n\tconst chatClosingTagsField = useUniqueId();\n\tconst allowReceiveForwardOffline = useUniqueId();\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={title} onClickBack={() => router.navigate('/omnichannel/departments')}>\n\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t<Button type='submit' form={formId} primary disabled={!isFormValid} loading={isSubmitting}>\n\t\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</PageHeader>\n\t\t\t\t<PageScrollableContentWithShadow>\n\t\t\t\t\t<FieldGroup\n\t\t\t\t\t\tw='full'\n\t\t\t\t\t\talignSelf='center'\n\t\t\t\t\t\tmaxWidth='x600'\n\t\t\t\t\t\tid={formId}\n\t\t\t\t\t\tis='form'\n\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\tonSubmit={handleSubmit(handleSave)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={enabledField}>{t('Enabled')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={enabledField} {...register('enabled')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={nameField}\n\t\t\t\t\t\t\t\t\tdata-qa='DepartmentEditTextInput-Name'\n\t\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\t\terror={errors.name?.message as string}\n\t\t\t\t\t\t\t\t\tplaceholder={t('Name')}\n\t\t\t\t\t\t\t\t\t{...register('name', { required: t('Required_field', { field: t('Name') }) })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.name?.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextAreaInput\n\t\t\t\t\t\t\t\t\tid={descriptionField}\n\t\t\t\t\t\t\t\t\tdata-qa='DepartmentEditTextInput-Description'\n\t\t\t\t\t\t\t\t\tplaceholder={t('Description')}\n\t\t\t\t\t\t\t\t\t{...register('description')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field data-qa='DepartmentEditToggle-ShowOnRegistrationPage'>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={showOnRegistrationField}>{t('Show_on_registration_page')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={showOnRegistrationField} {...register('showOnRegistration')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={emailField} required>\n\t\t\t\t\t\t\t\t{t('Email')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={emailField}\n\t\t\t\t\t\t\t\t\tdata-qa='DepartmentEditTextInput-Email'\n\t\t\t\t\t\t\t\t\terror={errors.email?.message as string}\n\t\t\t\t\t\t\t\t\taddon={<Icon name='mail' size='x20' />}\n\t\t\t\t\t\t\t\t\tplaceholder={t('Email')}\n\t\t\t\t\t\t\t\t\t{...register('email', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Email') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (email) => validateEmail(email) || t('error-invalid-email-address'),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailField}-error`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.email && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${emailField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.email?.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={showOnOfflineFormField}>{t('Show_on_offline_page')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={showOnOfflineFormField} {...register('showOnOfflineForm')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={offlineMessageChannelNameField}>{t('Livechat_DepartmentOfflineMessageToChannel')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='offlineMessageChannelName'\n\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<PaginatedSelectFiltered\n\t\t\t\t\t\t\t\t\t\t\tid={offlineMessageChannelNameField}\n\t\t\t\t\t\t\t\t\t\t\tdata-qa='DepartmentSelect-LivechatDepartmentOfflineMessageToChannel'\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\tflexShrink={0}\n\t\t\t\t\t\t\t\t\t\t\tfilter={fallbackFilter}\n\t\t\t\t\t\t\t\t\t\t\tsetFilter={setFallbackFilter as (value?: string | number) => void}\n\t\t\t\t\t\t\t\t\t\t\toptions={roomsItems}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Channel_name')}\n\t\t\t\t\t\t\t\t\t\t\tendReached={\n\t\t\t\t\t\t\t\t\t\t\t\troomsPhase === AsyncStatePhase.LOADING ? () => undefined : (start) => loadMoreRooms(start, Math.min(50, roomsTotal))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-busy={fallbackFilter !== debouncedFallbackFilter}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t{hasLicense && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='maxNumberSimultaneousChat'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EeNumberInput\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('Max_number_of_chats_per_agent')}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Max_number_of_chats_per_agent_description')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='visitorInactivityTimeoutInSeconds'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EeNumberInput\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('How_long_to_wait_to_consider_visitor_abandonment_in_seconds')}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Number_in_seconds')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='abandonedRoomsCloseCustomMessage'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EeTextInput\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('Livechat_abandoned_rooms_closed_custom_message')}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Enter_a_custom_message')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='waitingQueueMessage'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EeTextAreaInput {...field} label={t('Waiting_queue_message')} placeholder={t('Waiting_queue_message')} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='departmentsAllowedToForward'\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t\t<DepartmentForwarding\n\t\t\t\t\t\t\t\t\t\t\t\tdepartmentId={id ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\thandler={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='List_of_departments_for_forward'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={fallbackForwardDepartmentField}>{t('Fallback_forward_department')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='fallbackForwardDepartment'\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t\t<AutoCompleteDepartment\n\t\t\t\t\t\t\t\t\t\t\t\tid={fallbackForwardDepartmentField}\n\t\t\t\t\t\t\t\t\t\t\t\thaveNone\n\t\t\t\t\t\t\t\t\t\t\t\texcludeDepartmentId={department?._id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\tonlyMyDepartments\n\t\t\t\t\t\t\t\t\t\t\t\tshowArchived\n\t\t\t\t\t\t\t\t\t\t\t\twithTitle={false}\n\t\t\t\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={requestTagBeforeClosingChatField}>{t('Request_tag_before_closing_chat')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={requestTagBeforeClosingChatField} {...register('requestTagBeforeClosingChat')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t{requestTagBeforeClosingChat && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={chatClosingTagsField} required>\n\t\t\t\t\t\t\t\t\t{t('Conversation_closing_tags')}\n\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='chatClosingTags'\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', 'tags') }}\n\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<DepartmentTags\n\t\t\t\t\t\t\t\t\t\t\tid={chatClosingTagsField}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.chatClosingTags?.message as string}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${chatClosingTagsField}-hint ${chatClosingTagsField}-error`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FieldHint id={`${chatClosingTagsField}-hint`}>{t('Conversation_closing_tags_description')}</FieldHint>\n\t\t\t\t\t\t\t\t{errors.chatClosingTags && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${chatClosingTagsField}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.chatClosingTags?.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={allowReceiveForwardOffline}>{t('Accept_receive_inquiry_no_online_agents')}</FieldLabel>\n\t\t\t\t\t\t\t\t<ToggleSwitch id={allowReceiveForwardOffline} {...register('allowReceiveForwardOffline')} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldHint id={`${allowReceiveForwardOffline}-hint`}>{t('Accept_receive_inquiry_no_online_agents_Hint')}</FieldHint>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<DepartmentBusinessHours bhId={department?.businessHourId} />\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Divider mb={16} />\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel mb={4}>{t('Agents')}</FieldLabel>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' height='50vh'>\n\t\t\t\t\t\t\t\t<DepartmentsAgentsTable control={control} register={register} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</PageScrollableContentWithShadow>\n\t\t\t</Page>\n\t\t</Page>\n\t);\n}\n\nexport default EditDepartment;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"15bae900111efde0ab3e7426819a1b3c0866acb5"}
