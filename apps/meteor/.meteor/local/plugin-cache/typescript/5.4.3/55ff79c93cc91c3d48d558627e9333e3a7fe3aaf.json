{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/hooks/useAnalyticsEventTracking.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/hooks/useAnalyticsEventTracking.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/hooks/useAnalyticsEventTracking.ts","inputSourceMap":{"version":3,"file":"client/hooks/useAnalyticsEventTracking.ts","sourceRoot":"","sources":["client/hooks/useAnalyticsEventTracking.ts"],"names":[],"mappings":"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","sourcesContent":["import { useRouter, useSetting, useUserId } from '@rocket.chat/ui-contexts';\nimport { useEffect } from 'react';\n\nimport { callbacks } from '../../lib/callbacks';\n\nfunction trackEvent(category: string, action: string, label?: unknown) {\n\tconst { _paq, ga } = window;\n\n\t_paq?.push(['trackEvent', category, action, label]);\n\tga?.('send', 'event', category, action, label);\n}\n\nexport const useAnalyticsEventTracking = () => {\n\tconst router = useRouter();\n\n\tuseEffect(\n\t\t() =>\n\t\t\trouter.subscribeToRouteChange(() => {\n\t\t\t\tconst { _paq, ga } = window;\n\n\t\t\t\tif (_paq) {\n\t\t\t\t\tconst http = location.protocol;\n\t\t\t\t\tconst slashes = http.concat('//');\n\t\t\t\t\tconst host = slashes.concat(location.hostname);\n\t\t\t\t\t_paq.push(['setCustomUrl', host + router.getLocationPathname()]);\n\t\t\t\t\t_paq.push(['trackPageView']);\n\t\t\t\t}\n\n\t\t\t\tga?.('send', 'pageview', router.getLocationPathname());\n\t\t\t}),\n\t\t[router],\n\t);\n\n\tuseEffect(() => {\n\t\tcallbacks.add(\n\t\t\t'loginPageStateChange',\n\t\t\t(state) => {\n\t\t\t\ttrackEvent('Navigation', 'Login Page State Change', state);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-login-state-change',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('loginPageStateChange', 'analytics-login-state-change');\n\t\t};\n\t}, []);\n\n\tconst featuresMessages = useSetting('Analytics_features_messages', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresMessages) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'afterSaveMessage',\n\t\t\t(_message, { room }) => {\n\t\t\t\ttrackEvent('Message', 'Send', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.LOW,\n\t\t\t'trackEvents',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('afterSaveMessage', 'trackEvents');\n\t\t};\n\t}, [featuresMessages]);\n\n\tconst featuresRooms = useSetting('Analytics_features_rooms', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresRooms) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'afterCreateChannel',\n\t\t\t(_owner, room) => {\n\t\t\t\ttrackEvent('Room', 'Create', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-after-create-channel',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomNameChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Name', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-name-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomTopicChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Topic', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-topic-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomAnnouncementChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Announcement', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-announcement-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomTypeChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Room Type', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-type-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'archiveRoom',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Archived', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-archive-room',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'unarchiveRoom',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Unarchived', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-unarchive-room',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomAvatarChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Avatar', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-avatar-changed',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('afterCreateChannel', 'analytics-after-create-channel');\n\t\t\tcallbacks.remove('roomNameChanged', 'analytics-room-name-changed');\n\t\t\tcallbacks.remove('roomTopicChanged', 'analytics-room-topic-changed');\n\t\t\tcallbacks.remove('roomAnnouncementChanged', 'analytics-room-announcement-changed');\n\t\t\tcallbacks.remove('roomTypeChanged', 'analytics-room-type-changed');\n\t\t\tcallbacks.remove('archiveRoom', 'analytics-archive-room');\n\t\t\tcallbacks.remove('unarchiveRoom', 'analytics-unarchive-room');\n\t\t\tcallbacks.remove('roomAvatarChanged', 'analytics-room-avatar-changed');\n\t\t};\n\t}, [featuresRooms]);\n\n\tconst featuresUsers = useSetting('Analytics_features_users', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresUsers) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'userRegistered',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Registered');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-resitered',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'usernameSet',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Username Set');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piweik-username-set',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userPasswordReset',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Reset Password');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-password-reset',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userConfirmationEmailRequested',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Confirmation Email Requested');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-confirmation-email-requested',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userForgotPasswordEmailRequested',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Forgot Password Email Requested');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-forgot-password-email-requested',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userStatusManuallySet',\n\t\t\t(status) => {\n\t\t\t\ttrackEvent('User', 'Status Manually Changed', status);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-user-status-manually-set',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userAvatarSet',\n\t\t\t(service) => {\n\t\t\t\ttrackEvent('User', 'Avatar Changed', service);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-user-avatar-set',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('userRegistered', 'piwik-user-resitered');\n\t\t\tcallbacks.remove('usernameSet', 'piweik-username-set');\n\t\t\tcallbacks.remove('userPasswordReset', 'piwik-user-password-reset');\n\t\t\tcallbacks.remove('userConfirmationEmailRequested', 'piwik-user-confirmation-email-requested');\n\t\t\tcallbacks.remove('userForgotPasswordEmailRequested', 'piwik-user-forgot-password-email-requested');\n\t\t\tcallbacks.remove('userStatusManuallySet', 'analytics-user-status-manually-set');\n\t\t\tcallbacks.remove('userAvatarSet', 'analytics-user-avatar-set');\n\t\t};\n\t}, [featuresUsers]);\n\n\tconst uid = useUserId();\n\n\tuseEffect(() => {\n\t\tif (!featuresUsers) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { _paq } = window;\n\n\t\ttrackEvent('User', 'Login', uid);\n\t\t_paq?.push(['setUserId', uid]);\n\n\t\treturn () => {\n\t\t\ttrackEvent('User', 'Logout', uid);\n\t\t};\n\t}, [featuresUsers, uid]);\n};\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/hooks/useAnalyticsEventTracking.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/hooks/useAnalyticsEventTracking.ts","inputSourceMap":{"version":3,"file":"client/hooks/useAnalyticsEventTracking.ts","sourceRoot":"","sources":["client/hooks/useAnalyticsEventTracking.ts"],"names":[],"mappings":"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","sourcesContent":["import { useRouter, useSetting, useUserId } from '@rocket.chat/ui-contexts';\nimport { useEffect } from 'react';\n\nimport { callbacks } from '../../lib/callbacks';\n\nfunction trackEvent(category: string, action: string, label?: unknown) {\n\tconst { _paq, ga } = window;\n\n\t_paq?.push(['trackEvent', category, action, label]);\n\tga?.('send', 'event', category, action, label);\n}\n\nexport const useAnalyticsEventTracking = () => {\n\tconst router = useRouter();\n\n\tuseEffect(\n\t\t() =>\n\t\t\trouter.subscribeToRouteChange(() => {\n\t\t\t\tconst { _paq, ga } = window;\n\n\t\t\t\tif (_paq) {\n\t\t\t\t\tconst http = location.protocol;\n\t\t\t\t\tconst slashes = http.concat('//');\n\t\t\t\t\tconst host = slashes.concat(location.hostname);\n\t\t\t\t\t_paq.push(['setCustomUrl', host + router.getLocationPathname()]);\n\t\t\t\t\t_paq.push(['trackPageView']);\n\t\t\t\t}\n\n\t\t\t\tga?.('send', 'pageview', router.getLocationPathname());\n\t\t\t}),\n\t\t[router],\n\t);\n\n\tuseEffect(() => {\n\t\tcallbacks.add(\n\t\t\t'loginPageStateChange',\n\t\t\t(state) => {\n\t\t\t\ttrackEvent('Navigation', 'Login Page State Change', state);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-login-state-change',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('loginPageStateChange', 'analytics-login-state-change');\n\t\t};\n\t}, []);\n\n\tconst featuresMessages = useSetting('Analytics_features_messages', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresMessages) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'afterSaveMessage',\n\t\t\t(_message, { room }) => {\n\t\t\t\ttrackEvent('Message', 'Send', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.LOW,\n\t\t\t'trackEvents',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('afterSaveMessage', 'trackEvents');\n\t\t};\n\t}, [featuresMessages]);\n\n\tconst featuresRooms = useSetting('Analytics_features_rooms', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresRooms) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'afterCreateChannel',\n\t\t\t(_owner, room) => {\n\t\t\t\ttrackEvent('Room', 'Create', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-after-create-channel',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomNameChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Name', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-name-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomTopicChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Topic', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-topic-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomAnnouncementChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Announcement', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-announcement-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomTypeChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Room Type', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-type-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'archiveRoom',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Archived', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-archive-room',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'unarchiveRoom',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Unarchived', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-unarchive-room',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomAvatarChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Avatar', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-avatar-changed',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('afterCreateChannel', 'analytics-after-create-channel');\n\t\t\tcallbacks.remove('roomNameChanged', 'analytics-room-name-changed');\n\t\t\tcallbacks.remove('roomTopicChanged', 'analytics-room-topic-changed');\n\t\t\tcallbacks.remove('roomAnnouncementChanged', 'analytics-room-announcement-changed');\n\t\t\tcallbacks.remove('roomTypeChanged', 'analytics-room-type-changed');\n\t\t\tcallbacks.remove('archiveRoom', 'analytics-archive-room');\n\t\t\tcallbacks.remove('unarchiveRoom', 'analytics-unarchive-room');\n\t\t\tcallbacks.remove('roomAvatarChanged', 'analytics-room-avatar-changed');\n\t\t};\n\t}, [featuresRooms]);\n\n\tconst featuresUsers = useSetting('Analytics_features_users', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresUsers) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'userRegistered',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Registered');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-resitered',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'usernameSet',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Username Set');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piweik-username-set',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userPasswordReset',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Reset Password');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-password-reset',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userConfirmationEmailRequested',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Confirmation Email Requested');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-confirmation-email-requested',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userForgotPasswordEmailRequested',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Forgot Password Email Requested');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-forgot-password-email-requested',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userStatusManuallySet',\n\t\t\t(status) => {\n\t\t\t\ttrackEvent('User', 'Status Manually Changed', status);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-user-status-manually-set',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userAvatarSet',\n\t\t\t(service) => {\n\t\t\t\ttrackEvent('User', 'Avatar Changed', service);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-user-avatar-set',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('userRegistered', 'piwik-user-resitered');\n\t\t\tcallbacks.remove('usernameSet', 'piweik-username-set');\n\t\t\tcallbacks.remove('userPasswordReset', 'piwik-user-password-reset');\n\t\t\tcallbacks.remove('userConfirmationEmailRequested', 'piwik-user-confirmation-email-requested');\n\t\t\tcallbacks.remove('userForgotPasswordEmailRequested', 'piwik-user-forgot-password-email-requested');\n\t\t\tcallbacks.remove('userStatusManuallySet', 'analytics-user-status-manually-set');\n\t\t\tcallbacks.remove('userAvatarSet', 'analytics-user-avatar-set');\n\t\t};\n\t}, [featuresUsers]);\n\n\tconst uid = useUserId();\n\n\tuseEffect(() => {\n\t\tif (!featuresUsers) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { _paq } = window;\n\n\t\ttrackEvent('User', 'Login', uid);\n\t\t_paq?.push(['setUserId', uid]);\n\n\t\treturn () => {\n\t\t\ttrackEvent('User', 'Logout', uid);\n\t\t};\n\t}, [featuresUsers, uid]);\n};\n"]}}},"code":"module.export({\n  useAnalyticsEventTracking: function () {\n    return useAnalyticsEventTracking;\n  }\n});\nvar useRouter, useSetting, useUserId;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useRouter: function (v) {\n    useRouter = v;\n  },\n  useSetting: function (v) {\n    useSetting = v;\n  },\n  useUserId: function (v) {\n    useUserId = v;\n  }\n}, 0);\nvar useEffect;\nmodule.link(\"react\", {\n  useEffect: function (v) {\n    useEffect = v;\n  }\n}, 1);\nvar callbacks;\nmodule.link(\"../../lib/callbacks\", {\n  callbacks: function (v) {\n    callbacks = v;\n  }\n}, 2);\nfunction trackEvent(category, action, label) {\n  var _window = window,\n    _paq = _window._paq,\n    ga = _window.ga;\n  _paq === null || _paq === void 0 ? void 0 : _paq.push(['trackEvent', category, action, label]);\n  ga === null || ga === void 0 ? void 0 : ga('send', 'event', category, action, label);\n}\nvar useAnalyticsEventTracking = function () {\n  var router = useRouter();\n  useEffect(function () {\n    return router.subscribeToRouteChange(function () {\n      var _window2 = window,\n        _paq = _window2._paq,\n        ga = _window2.ga;\n      if (_paq) {\n        var http = location.protocol;\n        var slashes = http.concat('//');\n        var host = slashes.concat(location.hostname);\n        _paq.push(['setCustomUrl', host + router.getLocationPathname()]);\n        _paq.push(['trackPageView']);\n      }\n      ga === null || ga === void 0 ? void 0 : ga('send', 'pageview', router.getLocationPathname());\n    });\n  }, [router]);\n  useEffect(function () {\n    callbacks.add('loginPageStateChange', function (state) {\n      trackEvent('Navigation', 'Login Page State Change', state);\n    }, callbacks.priority.MEDIUM, 'analytics-login-state-change');\n    return function () {\n      callbacks.remove('loginPageStateChange', 'analytics-login-state-change');\n    };\n  }, []);\n  var featuresMessages = useSetting('Analytics_features_messages', true);\n  useEffect(function () {\n    if (!featuresMessages) {\n      return;\n    }\n    callbacks.add('afterSaveMessage', function (_message, _ref) {\n      var room = _ref.room;\n      trackEvent('Message', 'Send', room.name + \" (\" + room._id + \")\");\n    }, callbacks.priority.LOW, 'trackEvents');\n    return function () {\n      callbacks.remove('afterSaveMessage', 'trackEvents');\n    };\n  }, [featuresMessages]);\n  var featuresRooms = useSetting('Analytics_features_rooms', true);\n  useEffect(function () {\n    if (!featuresRooms) {\n      return;\n    }\n    callbacks.add('afterCreateChannel', function (_owner, room) {\n      trackEvent('Room', 'Create', room.name + \" (\" + room._id + \")\");\n    }, callbacks.priority.MEDIUM, 'analytics-after-create-channel');\n    callbacks.add('roomNameChanged', function (room) {\n      trackEvent('Room', 'Changed Name', room.name + \" (\" + room._id + \")\");\n    }, callbacks.priority.MEDIUM, 'analytics-room-name-changed');\n    callbacks.add('roomTopicChanged', function (room) {\n      trackEvent('Room', 'Changed Topic', room.name + \" (\" + room._id + \")\");\n    }, callbacks.priority.MEDIUM, 'analytics-room-topic-changed');\n    callbacks.add('roomAnnouncementChanged', function (room) {\n      trackEvent('Room', 'Changed Announcement', room.name + \" (\" + room._id + \")\");\n    }, callbacks.priority.MEDIUM, 'analytics-room-announcement-changed');\n    callbacks.add('roomTypeChanged', function (room) {\n      trackEvent('Room', 'Changed Room Type', room.name + \" (\" + room._id + \")\");\n    }, callbacks.priority.MEDIUM, 'analytics-room-type-changed');\n    callbacks.add('archiveRoom', function (room) {\n      trackEvent('Room', 'Archived', room.name + \" (\" + room._id + \")\");\n    }, callbacks.priority.MEDIUM, 'analytics-archive-room');\n    callbacks.add('unarchiveRoom', function (room) {\n      trackEvent('Room', 'Unarchived', room.name + \" (\" + room._id + \")\");\n    }, callbacks.priority.MEDIUM, 'analytics-unarchive-room');\n    callbacks.add('roomAvatarChanged', function (room) {\n      trackEvent('Room', 'Changed Avatar', room.name + \" (\" + room._id + \")\");\n    }, callbacks.priority.MEDIUM, 'analytics-room-avatar-changed');\n    return function () {\n      callbacks.remove('afterCreateChannel', 'analytics-after-create-channel');\n      callbacks.remove('roomNameChanged', 'analytics-room-name-changed');\n      callbacks.remove('roomTopicChanged', 'analytics-room-topic-changed');\n      callbacks.remove('roomAnnouncementChanged', 'analytics-room-announcement-changed');\n      callbacks.remove('roomTypeChanged', 'analytics-room-type-changed');\n      callbacks.remove('archiveRoom', 'analytics-archive-room');\n      callbacks.remove('unarchiveRoom', 'analytics-unarchive-room');\n      callbacks.remove('roomAvatarChanged', 'analytics-room-avatar-changed');\n    };\n  }, [featuresRooms]);\n  var featuresUsers = useSetting('Analytics_features_users', true);\n  useEffect(function () {\n    if (!featuresUsers) {\n      return;\n    }\n    callbacks.add('userRegistered', function () {\n      trackEvent('User', 'Registered');\n    }, callbacks.priority.MEDIUM, 'piwik-user-resitered');\n    callbacks.add('usernameSet', function () {\n      trackEvent('User', 'Username Set');\n    }, callbacks.priority.MEDIUM, 'piweik-username-set');\n    callbacks.add('userPasswordReset', function () {\n      trackEvent('User', 'Reset Password');\n    }, callbacks.priority.MEDIUM, 'piwik-user-password-reset');\n    callbacks.add('userConfirmationEmailRequested', function () {\n      trackEvent('User', 'Confirmation Email Requested');\n    }, callbacks.priority.MEDIUM, 'piwik-user-confirmation-email-requested');\n    callbacks.add('userForgotPasswordEmailRequested', function () {\n      trackEvent('User', 'Forgot Password Email Requested');\n    }, callbacks.priority.MEDIUM, 'piwik-user-forgot-password-email-requested');\n    callbacks.add('userStatusManuallySet', function (status) {\n      trackEvent('User', 'Status Manually Changed', status);\n    }, callbacks.priority.MEDIUM, 'analytics-user-status-manually-set');\n    callbacks.add('userAvatarSet', function (service) {\n      trackEvent('User', 'Avatar Changed', service);\n    }, callbacks.priority.MEDIUM, 'analytics-user-avatar-set');\n    return function () {\n      callbacks.remove('userRegistered', 'piwik-user-resitered');\n      callbacks.remove('usernameSet', 'piweik-username-set');\n      callbacks.remove('userPasswordReset', 'piwik-user-password-reset');\n      callbacks.remove('userConfirmationEmailRequested', 'piwik-user-confirmation-email-requested');\n      callbacks.remove('userForgotPasswordEmailRequested', 'piwik-user-forgot-password-email-requested');\n      callbacks.remove('userStatusManuallySet', 'analytics-user-status-manually-set');\n      callbacks.remove('userAvatarSet', 'analytics-user-avatar-set');\n    };\n  }, [featuresUsers]);\n  var uid = useUserId();\n  useEffect(function () {\n    if (!featuresUsers) {\n      return;\n    }\n    var _window3 = window,\n      _paq = _window3._paq;\n    trackEvent('User', 'Login', uid);\n    _paq === null || _paq === void 0 ? void 0 : _paq.push(['setUserId', uid]);\n    return function () {\n      trackEvent('User', 'Logout', uid);\n    };\n  }, [featuresUsers, uid]);\n};","map":{"version":3,"names":["module","export","useAnalyticsEventTracking","useRouter","useSetting","useUserId","link","v","useEffect","callbacks","trackEvent","category","action","label","_window","window","_paq","ga","push","router","subscribeToRouteChange","_window2","http","location","protocol","slashes","concat","host","hostname","getLocationPathname","add","state","priority","MEDIUM","remove","featuresMessages","_message","_ref","room","name","_id","LOW","featuresRooms","_owner","featuresUsers","status","service","uid","_window3"],"sources":["client/hooks/useAnalyticsEventTracking.ts"],"sourcesContent":["import { useRouter, useSetting, useUserId } from '@rocket.chat/ui-contexts';\nimport { useEffect } from 'react';\n\nimport { callbacks } from '../../lib/callbacks';\n\nfunction trackEvent(category: string, action: string, label?: unknown) {\n\tconst { _paq, ga } = window;\n\n\t_paq?.push(['trackEvent', category, action, label]);\n\tga?.('send', 'event', category, action, label);\n}\n\nexport const useAnalyticsEventTracking = () => {\n\tconst router = useRouter();\n\n\tuseEffect(\n\t\t() =>\n\t\t\trouter.subscribeToRouteChange(() => {\n\t\t\t\tconst { _paq, ga } = window;\n\n\t\t\t\tif (_paq) {\n\t\t\t\t\tconst http = location.protocol;\n\t\t\t\t\tconst slashes = http.concat('//');\n\t\t\t\t\tconst host = slashes.concat(location.hostname);\n\t\t\t\t\t_paq.push(['setCustomUrl', host + router.getLocationPathname()]);\n\t\t\t\t\t_paq.push(['trackPageView']);\n\t\t\t\t}\n\n\t\t\t\tga?.('send', 'pageview', router.getLocationPathname());\n\t\t\t}),\n\t\t[router],\n\t);\n\n\tuseEffect(() => {\n\t\tcallbacks.add(\n\t\t\t'loginPageStateChange',\n\t\t\t(state) => {\n\t\t\t\ttrackEvent('Navigation', 'Login Page State Change', state);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-login-state-change',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('loginPageStateChange', 'analytics-login-state-change');\n\t\t};\n\t}, []);\n\n\tconst featuresMessages = useSetting('Analytics_features_messages', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresMessages) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'afterSaveMessage',\n\t\t\t(_message, { room }) => {\n\t\t\t\ttrackEvent('Message', 'Send', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.LOW,\n\t\t\t'trackEvents',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('afterSaveMessage', 'trackEvents');\n\t\t};\n\t}, [featuresMessages]);\n\n\tconst featuresRooms = useSetting('Analytics_features_rooms', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresRooms) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'afterCreateChannel',\n\t\t\t(_owner, room) => {\n\t\t\t\ttrackEvent('Room', 'Create', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-after-create-channel',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomNameChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Name', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-name-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomTopicChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Topic', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-topic-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomAnnouncementChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Announcement', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-announcement-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomTypeChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Room Type', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-type-changed',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'archiveRoom',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Archived', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-archive-room',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'unarchiveRoom',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Unarchived', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-unarchive-room',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'roomAvatarChanged',\n\t\t\t(room) => {\n\t\t\t\ttrackEvent('Room', 'Changed Avatar', `${room.name} (${room._id})`);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-room-avatar-changed',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('afterCreateChannel', 'analytics-after-create-channel');\n\t\t\tcallbacks.remove('roomNameChanged', 'analytics-room-name-changed');\n\t\t\tcallbacks.remove('roomTopicChanged', 'analytics-room-topic-changed');\n\t\t\tcallbacks.remove('roomAnnouncementChanged', 'analytics-room-announcement-changed');\n\t\t\tcallbacks.remove('roomTypeChanged', 'analytics-room-type-changed');\n\t\t\tcallbacks.remove('archiveRoom', 'analytics-archive-room');\n\t\t\tcallbacks.remove('unarchiveRoom', 'analytics-unarchive-room');\n\t\t\tcallbacks.remove('roomAvatarChanged', 'analytics-room-avatar-changed');\n\t\t};\n\t}, [featuresRooms]);\n\n\tconst featuresUsers = useSetting('Analytics_features_users', true);\n\n\tuseEffect(() => {\n\t\tif (!featuresUsers) {\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.add(\n\t\t\t'userRegistered',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Registered');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-resitered',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'usernameSet',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Username Set');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piweik-username-set',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userPasswordReset',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Reset Password');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-password-reset',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userConfirmationEmailRequested',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Confirmation Email Requested');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-confirmation-email-requested',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userForgotPasswordEmailRequested',\n\t\t\t() => {\n\t\t\t\ttrackEvent('User', 'Forgot Password Email Requested');\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'piwik-user-forgot-password-email-requested',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userStatusManuallySet',\n\t\t\t(status) => {\n\t\t\t\ttrackEvent('User', 'Status Manually Changed', status);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-user-status-manually-set',\n\t\t);\n\n\t\tcallbacks.add(\n\t\t\t'userAvatarSet',\n\t\t\t(service) => {\n\t\t\t\ttrackEvent('User', 'Avatar Changed', service);\n\t\t\t},\n\t\t\tcallbacks.priority.MEDIUM,\n\t\t\t'analytics-user-avatar-set',\n\t\t);\n\n\t\treturn () => {\n\t\t\tcallbacks.remove('userRegistered', 'piwik-user-resitered');\n\t\t\tcallbacks.remove('usernameSet', 'piweik-username-set');\n\t\t\tcallbacks.remove('userPasswordReset', 'piwik-user-password-reset');\n\t\t\tcallbacks.remove('userConfirmationEmailRequested', 'piwik-user-confirmation-email-requested');\n\t\t\tcallbacks.remove('userForgotPasswordEmailRequested', 'piwik-user-forgot-password-email-requested');\n\t\t\tcallbacks.remove('userStatusManuallySet', 'analytics-user-status-manually-set');\n\t\t\tcallbacks.remove('userAvatarSet', 'analytics-user-avatar-set');\n\t\t};\n\t}, [featuresUsers]);\n\n\tconst uid = useUserId();\n\n\tuseEffect(() => {\n\t\tif (!featuresUsers) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { _paq } = window;\n\n\t\ttrackEvent('User', 'Login', uid);\n\t\t_paq?.push(['setUserId', uid]);\n\n\t\treturn () => {\n\t\t\ttrackEvent('User', 'Logout', uid);\n\t\t};\n\t}, [featuresUsers, uid]);\n};\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"55ff79c93cc91c3d48d558627e9333e3a7fe3aaf"}
