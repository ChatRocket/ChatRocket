{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/sidebar/sections/OmnichannelSection.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/sidebar/sections/OmnichannelSection.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/sidebar/sections/OmnichannelSection.tsx","inputSourceMap":{"version":3,"file":"client/sidebar/sections/OmnichannelSection.tsx","sourceRoot":"","sources":["client/sidebar/sections/OmnichannelSection.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Sidebar, SidebarDivider, SidebarSection } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { FeaturePreview, FeaturePreviewOff, FeaturePreviewOn } from '@rocket.chat/ui-client';\nimport { useLayout, useRoute, usePermission } from '@rocket.chat/ui-contexts';\nimport React, { memo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useIsCallEnabled, useIsCallReady } from '../../contexts/CallContext';\nimport { useIsOverMacLimit } from '../../hooks/omnichannel/useIsOverMacLimit';\nimport { useOmnichannelShowQueueLink } from '../../hooks/omnichannel/useOmnichannelShowQueueLink';\nimport SidebarHeaderToolbar from '../header/SidebarHeaderToolbar';\nimport { OverMacLimitSection } from './OverMacLimitSection';\nimport { OmniChannelCallDialPad, OmnichannelCallToggle, OmnichannelLivechatToggle } from './actions';\n\nconst OmnichannelSection = () => {\n\tconst { t } = useTranslation();\n\tconst isCallEnabled = useIsCallEnabled();\n\tconst isCallReady = useIsCallReady();\n\tconst hasPermissionToSeeContactCenter = usePermission('view-omnichannel-contact-center');\n\tconst showOmnichannelQueueLink = useOmnichannelShowQueueLink();\n\tconst { sidebar } = useLayout();\n\tconst directoryRoute = useRoute('omnichannel-directory');\n\tconst queueListRoute = useRoute('livechat-queue');\n\tconst isWorkspaceOverMacLimit = useIsOverMacLimit();\n\n\tconst handleRoute = useMutableCallback((route) => {\n\t\tsidebar.toggle();\n\n\t\tswitch (route) {\n\t\t\tcase 'directory':\n\t\t\t\tdirectoryRoute.push({});\n\t\t\t\tbreak;\n\t\t\tcase 'queue':\n\t\t\t\tqueueListRoute.push({});\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\t// The className is a paliative while we make TopBar.ToolBox optional on fuselage\n\treturn (\n\t\t<>\n\t\t\t{isWorkspaceOverMacLimit && <OverMacLimitSection />}\n\n\t\t\t<FeaturePreview feature='newNavigation'>\n\t\t\t\t<FeaturePreviewOff>\n\t\t\t\t\t<Sidebar.TopBar.Section aria-label={t('Omnichannel_actions')} className='omnichannel-sidebar'>\n\t\t\t\t\t\t<Sidebar.TopBar.Title>{t('Omnichannel')}</Sidebar.TopBar.Title>\n\t\t\t\t\t\t<SidebarHeaderToolbar>\n\t\t\t\t\t\t\t{showOmnichannelQueueLink && (\n\t\t\t\t\t\t\t\t<Sidebar.TopBar.Action icon='queue' data-tooltip={t('Queue')} onClick={(): void => handleRoute('queue')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isCallEnabled && <OmnichannelCallToggle />}\n\t\t\t\t\t\t\t<OmnichannelLivechatToggle />\n\t\t\t\t\t\t\t{hasPermissionToSeeContactCenter && (\n\t\t\t\t\t\t\t\t<Sidebar.TopBar.Action\n\t\t\t\t\t\t\t\t\tdata-tooltip={t('Contact_Center')}\n\t\t\t\t\t\t\t\t\taria-label={t('Contact_Center')}\n\t\t\t\t\t\t\t\t\ticon='address-book'\n\t\t\t\t\t\t\t\t\tonClick={(): void => handleRoute('directory')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isCallReady && <OmniChannelCallDialPad />}\n\t\t\t\t\t\t</SidebarHeaderToolbar>\n\t\t\t\t\t</Sidebar.TopBar.Section>\n\t\t\t\t</FeaturePreviewOff>\n\t\t\t\t<FeaturePreviewOn>\n\t\t\t\t\t<SidebarSection aria-label={t('Omnichannel_actions')}>\n\t\t\t\t\t\t<Sidebar.TopBar.Title>{t('Omnichannel')}</Sidebar.TopBar.Title>\n\t\t\t\t\t\t<SidebarHeaderToolbar>\n\t\t\t\t\t\t\t{showOmnichannelQueueLink && (\n\t\t\t\t\t\t\t\t<Sidebar.TopBar.Action icon='queue' data-tooltip={t('Queue')} onClick={(): void => handleRoute('queue')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isCallEnabled && <OmnichannelCallToggle />}\n\t\t\t\t\t\t\t<OmnichannelLivechatToggle />\n\t\t\t\t\t\t\t{hasPermissionToSeeContactCenter && (\n\t\t\t\t\t\t\t\t<Sidebar.TopBar.Action\n\t\t\t\t\t\t\t\t\tdata-tooltip={t('Contact_Center')}\n\t\t\t\t\t\t\t\t\taria-label={t('Contact_Center')}\n\t\t\t\t\t\t\t\t\ticon='address-book'\n\t\t\t\t\t\t\t\t\tonClick={(): void => handleRoute('directory')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isCallReady && <OmniChannelCallDialPad />}\n\t\t\t\t\t\t</SidebarHeaderToolbar>\n\t\t\t\t\t</SidebarSection>\n\t\t\t\t\t<SidebarDivider />\n\t\t\t\t</FeaturePreviewOn>\n\t\t\t</FeaturePreview>\n\t\t</>\n\t);\n};\n\nexport default memo(OmnichannelSection);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"production","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/sidebar/sections/OmnichannelSection.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/sidebar/sections/OmnichannelSection.tsx","inputSourceMap":{"version":3,"file":"client/sidebar/sections/OmnichannelSection.tsx","sourceRoot":"","sources":["client/sidebar/sections/OmnichannelSection.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Sidebar, SidebarDivider, SidebarSection } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { FeaturePreview, FeaturePreviewOff, FeaturePreviewOn } from '@rocket.chat/ui-client';\nimport { useLayout, useRoute, usePermission } from '@rocket.chat/ui-contexts';\nimport React, { memo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useIsCallEnabled, useIsCallReady } from '../../contexts/CallContext';\nimport { useIsOverMacLimit } from '../../hooks/omnichannel/useIsOverMacLimit';\nimport { useOmnichannelShowQueueLink } from '../../hooks/omnichannel/useOmnichannelShowQueueLink';\nimport SidebarHeaderToolbar from '../header/SidebarHeaderToolbar';\nimport { OverMacLimitSection } from './OverMacLimitSection';\nimport { OmniChannelCallDialPad, OmnichannelCallToggle, OmnichannelLivechatToggle } from './actions';\n\nconst OmnichannelSection = () => {\n\tconst { t } = useTranslation();\n\tconst isCallEnabled = useIsCallEnabled();\n\tconst isCallReady = useIsCallReady();\n\tconst hasPermissionToSeeContactCenter = usePermission('view-omnichannel-contact-center');\n\tconst showOmnichannelQueueLink = useOmnichannelShowQueueLink();\n\tconst { sidebar } = useLayout();\n\tconst directoryRoute = useRoute('omnichannel-directory');\n\tconst queueListRoute = useRoute('livechat-queue');\n\tconst isWorkspaceOverMacLimit = useIsOverMacLimit();\n\n\tconst handleRoute = useMutableCallback((route) => {\n\t\tsidebar.toggle();\n\n\t\tswitch (route) {\n\t\t\tcase 'directory':\n\t\t\t\tdirectoryRoute.push({});\n\t\t\t\tbreak;\n\t\t\tcase 'queue':\n\t\t\t\tqueueListRoute.push({});\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\t// The className is a paliative while we make TopBar.ToolBox optional on fuselage\n\treturn (\n\t\t<>\n\t\t\t{isWorkspaceOverMacLimit && <OverMacLimitSection />}\n\n\t\t\t<FeaturePreview feature='newNavigation'>\n\t\t\t\t<FeaturePreviewOff>\n\t\t\t\t\t<Sidebar.TopBar.Section aria-label={t('Omnichannel_actions')} className='omnichannel-sidebar'>\n\t\t\t\t\t\t<Sidebar.TopBar.Title>{t('Omnichannel')}</Sidebar.TopBar.Title>\n\t\t\t\t\t\t<SidebarHeaderToolbar>\n\t\t\t\t\t\t\t{showOmnichannelQueueLink && (\n\t\t\t\t\t\t\t\t<Sidebar.TopBar.Action icon='queue' data-tooltip={t('Queue')} onClick={(): void => handleRoute('queue')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isCallEnabled && <OmnichannelCallToggle />}\n\t\t\t\t\t\t\t<OmnichannelLivechatToggle />\n\t\t\t\t\t\t\t{hasPermissionToSeeContactCenter && (\n\t\t\t\t\t\t\t\t<Sidebar.TopBar.Action\n\t\t\t\t\t\t\t\t\tdata-tooltip={t('Contact_Center')}\n\t\t\t\t\t\t\t\t\taria-label={t('Contact_Center')}\n\t\t\t\t\t\t\t\t\ticon='address-book'\n\t\t\t\t\t\t\t\t\tonClick={(): void => handleRoute('directory')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isCallReady && <OmniChannelCallDialPad />}\n\t\t\t\t\t\t</SidebarHeaderToolbar>\n\t\t\t\t\t</Sidebar.TopBar.Section>\n\t\t\t\t</FeaturePreviewOff>\n\t\t\t\t<FeaturePreviewOn>\n\t\t\t\t\t<SidebarSection aria-label={t('Omnichannel_actions')}>\n\t\t\t\t\t\t<Sidebar.TopBar.Title>{t('Omnichannel')}</Sidebar.TopBar.Title>\n\t\t\t\t\t\t<SidebarHeaderToolbar>\n\t\t\t\t\t\t\t{showOmnichannelQueueLink && (\n\t\t\t\t\t\t\t\t<Sidebar.TopBar.Action icon='queue' data-tooltip={t('Queue')} onClick={(): void => handleRoute('queue')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isCallEnabled && <OmnichannelCallToggle />}\n\t\t\t\t\t\t\t<OmnichannelLivechatToggle />\n\t\t\t\t\t\t\t{hasPermissionToSeeContactCenter && (\n\t\t\t\t\t\t\t\t<Sidebar.TopBar.Action\n\t\t\t\t\t\t\t\t\tdata-tooltip={t('Contact_Center')}\n\t\t\t\t\t\t\t\t\taria-label={t('Contact_Center')}\n\t\t\t\t\t\t\t\t\ticon='address-book'\n\t\t\t\t\t\t\t\t\tonClick={(): void => handleRoute('directory')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isCallReady && <OmniChannelCallDialPad />}\n\t\t\t\t\t\t</SidebarHeaderToolbar>\n\t\t\t\t\t</SidebarSection>\n\t\t\t\t\t<SidebarDivider />\n\t\t\t\t</FeaturePreviewOn>\n\t\t\t</FeaturePreview>\n\t\t</>\n\t);\n};\n\nexport default memo(OmnichannelSection);\n"]}}},"code":"var Sidebar, SidebarDivider, SidebarSection;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Sidebar: function (v) {\n    Sidebar = v;\n  },\n  SidebarDivider: function (v) {\n    SidebarDivider = v;\n  },\n  SidebarSection: function (v) {\n    SidebarSection = v;\n  }\n}, 0);\nvar useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback: function (v) {\n    useMutableCallback = v;\n  }\n}, 1);\nvar FeaturePreview, FeaturePreviewOff, FeaturePreviewOn;\nmodule.link(\"@rocket.chat/ui-client\", {\n  FeaturePreview: function (v) {\n    FeaturePreview = v;\n  },\n  FeaturePreviewOff: function (v) {\n    FeaturePreviewOff = v;\n  },\n  FeaturePreviewOn: function (v) {\n    FeaturePreviewOn = v;\n  }\n}, 2);\nvar useLayout, useRoute, usePermission;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useLayout: function (v) {\n    useLayout = v;\n  },\n  useRoute: function (v) {\n    useRoute = v;\n  },\n  usePermission: function (v) {\n    usePermission = v;\n  }\n}, 3);\nvar React, memo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  memo: function (v) {\n    memo = v;\n  }\n}, 4);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 5);\nvar useIsCallEnabled, useIsCallReady;\nmodule.link(\"../../contexts/CallContext\", {\n  useIsCallEnabled: function (v) {\n    useIsCallEnabled = v;\n  },\n  useIsCallReady: function (v) {\n    useIsCallReady = v;\n  }\n}, 6);\nvar useIsOverMacLimit;\nmodule.link(\"../../hooks/omnichannel/useIsOverMacLimit\", {\n  useIsOverMacLimit: function (v) {\n    useIsOverMacLimit = v;\n  }\n}, 7);\nvar useOmnichannelShowQueueLink;\nmodule.link(\"../../hooks/omnichannel/useOmnichannelShowQueueLink\", {\n  useOmnichannelShowQueueLink: function (v) {\n    useOmnichannelShowQueueLink = v;\n  }\n}, 8);\nvar SidebarHeaderToolbar;\nmodule.link(\"../header/SidebarHeaderToolbar\", {\n  \"default\": function (v) {\n    SidebarHeaderToolbar = v;\n  }\n}, 9);\nvar OverMacLimitSection;\nmodule.link(\"./OverMacLimitSection\", {\n  OverMacLimitSection: function (v) {\n    OverMacLimitSection = v;\n  }\n}, 10);\nvar OmniChannelCallDialPad, OmnichannelCallToggle, OmnichannelLivechatToggle;\nmodule.link(\"./actions\", {\n  OmniChannelCallDialPad: function (v) {\n    OmniChannelCallDialPad = v;\n  },\n  OmnichannelCallToggle: function (v) {\n    OmnichannelCallToggle = v;\n  },\n  OmnichannelLivechatToggle: function (v) {\n    OmnichannelLivechatToggle = v;\n  }\n}, 11);\nvar OmnichannelSection = function () {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var isCallEnabled = useIsCallEnabled();\n  var isCallReady = useIsCallReady();\n  var hasPermissionToSeeContactCenter = usePermission('view-omnichannel-contact-center');\n  var showOmnichannelQueueLink = useOmnichannelShowQueueLink();\n  var _useLayout = useLayout(),\n    sidebar = _useLayout.sidebar;\n  var directoryRoute = useRoute('omnichannel-directory');\n  var queueListRoute = useRoute('livechat-queue');\n  var isWorkspaceOverMacLimit = useIsOverMacLimit();\n  var handleRoute = useMutableCallback(function (route) {\n    sidebar.toggle();\n    switch (route) {\n      case 'directory':\n        directoryRoute.push({});\n        break;\n      case 'queue':\n        queueListRoute.push({});\n        break;\n    }\n  });\n  // The className is a paliative while we make TopBar.ToolBox optional on fuselage\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isWorkspaceOverMacLimit && /*#__PURE__*/React.createElement(OverMacLimitSection, null), /*#__PURE__*/React.createElement(FeaturePreview, {\n    feature: \"newNavigation\"\n  }, /*#__PURE__*/React.createElement(FeaturePreviewOff, null, /*#__PURE__*/React.createElement(Sidebar.TopBar.Section, {\n    \"aria-label\": t('Omnichannel_actions'),\n    className: \"omnichannel-sidebar\"\n  }, /*#__PURE__*/React.createElement(Sidebar.TopBar.Title, null, t('Omnichannel')), /*#__PURE__*/React.createElement(SidebarHeaderToolbar, null, showOmnichannelQueueLink && /*#__PURE__*/React.createElement(Sidebar.TopBar.Action, {\n    icon: \"queue\",\n    \"data-tooltip\": t('Queue'),\n    onClick: function () {\n      return handleRoute('queue');\n    }\n  }), isCallEnabled && /*#__PURE__*/React.createElement(OmnichannelCallToggle, null), /*#__PURE__*/React.createElement(OmnichannelLivechatToggle, null), hasPermissionToSeeContactCenter && /*#__PURE__*/React.createElement(Sidebar.TopBar.Action, {\n    \"data-tooltip\": t('Contact_Center'),\n    \"aria-label\": t('Contact_Center'),\n    icon: \"address-book\",\n    onClick: function () {\n      return handleRoute('directory');\n    }\n  }), isCallReady && /*#__PURE__*/React.createElement(OmniChannelCallDialPad, null)))), /*#__PURE__*/React.createElement(FeaturePreviewOn, null, /*#__PURE__*/React.createElement(SidebarSection, {\n    \"aria-label\": t('Omnichannel_actions')\n  }, /*#__PURE__*/React.createElement(Sidebar.TopBar.Title, null, t('Omnichannel')), /*#__PURE__*/React.createElement(SidebarHeaderToolbar, null, showOmnichannelQueueLink && /*#__PURE__*/React.createElement(Sidebar.TopBar.Action, {\n    icon: \"queue\",\n    \"data-tooltip\": t('Queue'),\n    onClick: function () {\n      return handleRoute('queue');\n    }\n  }), isCallEnabled && /*#__PURE__*/React.createElement(OmnichannelCallToggle, null), /*#__PURE__*/React.createElement(OmnichannelLivechatToggle, null), hasPermissionToSeeContactCenter && /*#__PURE__*/React.createElement(Sidebar.TopBar.Action, {\n    \"data-tooltip\": t('Contact_Center'),\n    \"aria-label\": t('Contact_Center'),\n    icon: \"address-book\",\n    onClick: function () {\n      return handleRoute('directory');\n    }\n  }), isCallReady && /*#__PURE__*/React.createElement(OmniChannelCallDialPad, null))), /*#__PURE__*/React.createElement(SidebarDivider, null))));\n};\nmodule.exportDefault( /*#__PURE__*/memo(OmnichannelSection));","map":{"version":3,"names":["Sidebar","SidebarDivider","SidebarSection","module","link","v","useMutableCallback","FeaturePreview","FeaturePreviewOff","FeaturePreviewOn","useLayout","useRoute","usePermission","React","memo","default","useTranslation","useIsCallEnabled","useIsCallReady","useIsOverMacLimit","useOmnichannelShowQueueLink","SidebarHeaderToolbar","OverMacLimitSection","OmniChannelCallDialPad","OmnichannelCallToggle","OmnichannelLivechatToggle","OmnichannelSection","_useTranslation","t","isCallEnabled","isCallReady","hasPermissionToSeeContactCenter","showOmnichannelQueueLink","_useLayout","sidebar","directoryRoute","queueListRoute","isWorkspaceOverMacLimit","handleRoute","route","toggle","push","createElement","Fragment","feature","TopBar","Section","className","Title","Action","icon","onClick","exportDefault"],"sources":["client/sidebar/sections/OmnichannelSection.tsx"],"sourcesContent":["import { Sidebar, SidebarDivider, SidebarSection } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { FeaturePreview, FeaturePreviewOff, FeaturePreviewOn } from '@rocket.chat/ui-client';\nimport { useLayout, useRoute, usePermission } from '@rocket.chat/ui-contexts';\nimport React, { memo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useIsCallEnabled, useIsCallReady } from '../../contexts/CallContext';\nimport { useIsOverMacLimit } from '../../hooks/omnichannel/useIsOverMacLimit';\nimport { useOmnichannelShowQueueLink } from '../../hooks/omnichannel/useOmnichannelShowQueueLink';\nimport SidebarHeaderToolbar from '../header/SidebarHeaderToolbar';\nimport { OverMacLimitSection } from './OverMacLimitSection';\nimport { OmniChannelCallDialPad, OmnichannelCallToggle, OmnichannelLivechatToggle } from './actions';\n\nconst OmnichannelSection = () => {\n\tconst { t } = useTranslation();\n\tconst isCallEnabled = useIsCallEnabled();\n\tconst isCallReady = useIsCallReady();\n\tconst hasPermissionToSeeContactCenter = usePermission('view-omnichannel-contact-center');\n\tconst showOmnichannelQueueLink = useOmnichannelShowQueueLink();\n\tconst { sidebar } = useLayout();\n\tconst directoryRoute = useRoute('omnichannel-directory');\n\tconst queueListRoute = useRoute('livechat-queue');\n\tconst isWorkspaceOverMacLimit = useIsOverMacLimit();\n\n\tconst handleRoute = useMutableCallback((route) => {\n\t\tsidebar.toggle();\n\n\t\tswitch (route) {\n\t\t\tcase 'directory':\n\t\t\t\tdirectoryRoute.push({});\n\t\t\t\tbreak;\n\t\t\tcase 'queue':\n\t\t\t\tqueueListRoute.push({});\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\t// The className is a paliative while we make TopBar.ToolBox optional on fuselage\n\treturn (\n\t\t<>\n\t\t\t{isWorkspaceOverMacLimit && <OverMacLimitSection />}\n\n\t\t\t<FeaturePreview feature='newNavigation'>\n\t\t\t\t<FeaturePreviewOff>\n\t\t\t\t\t<Sidebar.TopBar.Section aria-label={t('Omnichannel_actions')} className='omnichannel-sidebar'>\n\t\t\t\t\t\t<Sidebar.TopBar.Title>{t('Omnichannel')}</Sidebar.TopBar.Title>\n\t\t\t\t\t\t<SidebarHeaderToolbar>\n\t\t\t\t\t\t\t{showOmnichannelQueueLink && (\n\t\t\t\t\t\t\t\t<Sidebar.TopBar.Action icon='queue' data-tooltip={t('Queue')} onClick={(): void => handleRoute('queue')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isCallEnabled && <OmnichannelCallToggle />}\n\t\t\t\t\t\t\t<OmnichannelLivechatToggle />\n\t\t\t\t\t\t\t{hasPermissionToSeeContactCenter && (\n\t\t\t\t\t\t\t\t<Sidebar.TopBar.Action\n\t\t\t\t\t\t\t\t\tdata-tooltip={t('Contact_Center')}\n\t\t\t\t\t\t\t\t\taria-label={t('Contact_Center')}\n\t\t\t\t\t\t\t\t\ticon='address-book'\n\t\t\t\t\t\t\t\t\tonClick={(): void => handleRoute('directory')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isCallReady && <OmniChannelCallDialPad />}\n\t\t\t\t\t\t</SidebarHeaderToolbar>\n\t\t\t\t\t</Sidebar.TopBar.Section>\n\t\t\t\t</FeaturePreviewOff>\n\t\t\t\t<FeaturePreviewOn>\n\t\t\t\t\t<SidebarSection aria-label={t('Omnichannel_actions')}>\n\t\t\t\t\t\t<Sidebar.TopBar.Title>{t('Omnichannel')}</Sidebar.TopBar.Title>\n\t\t\t\t\t\t<SidebarHeaderToolbar>\n\t\t\t\t\t\t\t{showOmnichannelQueueLink && (\n\t\t\t\t\t\t\t\t<Sidebar.TopBar.Action icon='queue' data-tooltip={t('Queue')} onClick={(): void => handleRoute('queue')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isCallEnabled && <OmnichannelCallToggle />}\n\t\t\t\t\t\t\t<OmnichannelLivechatToggle />\n\t\t\t\t\t\t\t{hasPermissionToSeeContactCenter && (\n\t\t\t\t\t\t\t\t<Sidebar.TopBar.Action\n\t\t\t\t\t\t\t\t\tdata-tooltip={t('Contact_Center')}\n\t\t\t\t\t\t\t\t\taria-label={t('Contact_Center')}\n\t\t\t\t\t\t\t\t\ticon='address-book'\n\t\t\t\t\t\t\t\t\tonClick={(): void => handleRoute('directory')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isCallReady && <OmniChannelCallDialPad />}\n\t\t\t\t\t\t</SidebarHeaderToolbar>\n\t\t\t\t\t</SidebarSection>\n\t\t\t\t\t<SidebarDivider />\n\t\t\t\t</FeaturePreviewOn>\n\t\t\t</FeaturePreview>\n\t\t</>\n\t);\n};\n\nexport default memo(OmnichannelSection);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"1c0dab9e7fbaa93693f08977d3820912ab759ea9"}
