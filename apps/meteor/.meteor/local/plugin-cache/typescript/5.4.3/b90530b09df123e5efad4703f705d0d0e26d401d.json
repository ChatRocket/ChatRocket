{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/monitors/MonitorsTable.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/omnichannel/monitors/MonitorsTable.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/monitors/MonitorsTable.tsx","inputSourceMap":{"version":3,"file":"client/omnichannel/monitors/MonitorsTable.tsx","sourceRoot":"","sources":["client/omnichannel/monitors/MonitorsTable.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n\tIconButton,\n\tPagination,\n\tButton,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tBox,\n\tStates,\n\tStatesIcon,\n\tStatesTitle,\n\tStatesActions,\n\tStatesAction,\n} from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { UserAutoComplete } from '@rocket.chat/ui-client';\nimport { useTranslation, useToastMessageDispatch, useMethod, useEndpoint, useSetModal } from '@rocket.chat/ui-contexts';\nimport { useMutation, useQuery, hashQueryKey } from '@tanstack/react-query';\nimport React, { useMemo, useState } from 'react';\n\nimport FilterByText from '../../components/FilterByText';\nimport GenericModal from '../../components/GenericModal';\nimport GenericNoResults from '../../components/GenericNoResults';\nimport {\n\tGenericTable,\n\tGenericTableBody,\n\tGenericTableCell,\n\tGenericTableHeader,\n\tGenericTableHeaderCell,\n\tGenericTableLoadingTable,\n\tGenericTableRow,\n} from '../../components/GenericTable';\nimport { usePagination } from '../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../components/GenericTable/hooks/useSort';\nimport { queryClient } from '../../lib/queryClient';\n\nconst MonitorsTable = () => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\n\tconst [text, setText] = useState('');\n\tconst [username, setUsername] = useState('');\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst pagination = usePagination();\n\tconst sort = useSort<'name' | 'username' | 'email'>('name');\n\n\tconst getMonitors = useEndpoint('GET', '/v1/livechat/monitors');\n\n\t// TODO: implement endpoints for monitors add/remove\n\tconst removeMonitor = useMethod('livechat:removeMonitor');\n\tconst addMonitor = useMethod('livechat:addMonitor');\n\n\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = pagination;\n\tconst { sortBy, sortDirection, setSort } = sort;\n\n\tconst query = useDebouncedValue(\n\t\tuseMemo(\n\t\t\t() => ({\n\t\t\t\ttext,\n\t\t\t\tsort: `{ \"${sortBy}\": ${sortDirection === 'asc' ? 1 : -1} }`,\n\t\t\t\t...(itemsPerPage && { count: itemsPerPage }),\n\t\t\t\t...(current && { offset: current }),\n\t\t\t}),\n\t\t\t[text, itemsPerPage, current, sortBy, sortDirection],\n\t\t),\n\t\t500,\n\t);\n\n\tconst { data, refetch, isLoading, isSuccess, isError } = useQuery(['omnichannel', 'monitors', query], () => getMonitors(query));\n\n\tconst [defaultQuery] = useState(hashQueryKey([query]));\n\tconst queryHasChanged = defaultQuery !== hashQueryKey([query]);\n\n\tconst addMutation = useMutation({\n\t\tmutationFn: async (username: string) => {\n\t\t\tawait addMonitor(username);\n\n\t\t\tawait queryClient.invalidateQueries(['omnichannel', 'monitors']);\n\t\t},\n\t\tonSuccess: () => {\n\t\t\tsetUsername('');\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Monitor_added') });\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleAdd = () => {\n\t\taddMutation.mutate(username);\n\t};\n\n\tconst handleRemove = (username: string) => {\n\t\tconst onDeleteMonitor = async () => {\n\t\t\ttry {\n\t\t\t\tawait removeMonitor(username);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Monitor_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tqueryClient.invalidateQueries(['omnichannel', 'monitors']);\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(\n\t\t\t<GenericModal\n\t\t\t\tvariant='danger'\n\t\t\t\tdata-qa-id='manage-monitors-confirm-remove'\n\t\t\t\tonConfirm={onDeleteMonitor}\n\t\t\t\tonCancel={() => setModal()}\n\t\t\t\tconfirmText={t('Delete')}\n\t\t\t/>,\n\t\t);\n\t};\n\n\tconst headers = useMemo(\n\t\t() => [\n\t\t\t<GenericTableHeaderCell key='name' direction={sortDirection} active={sortBy === 'name'} onClick={setSort}>\n\t\t\t\t{t('Name')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='username' direction={sortDirection} active={sortBy === 'username'} onClick={setSort}>\n\t\t\t\t{t('Username')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='email' direction={sortDirection} active={sortBy === 'email'} onClick={setSort}>\n\t\t\t\t{t('Email')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='spacer' w={40} />,\n\t\t],\n\t\t[setSort, sortBy, sortDirection, t],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<Box display='flex' flexDirection='column'>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Username')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<UserAutoComplete name='monitor' value={username} onChange={setUsername as () => void} />\n\t\t\t\t\t\t<Button primary disabled={!username} loading={addMutation.isLoading} onClick={() => handleAdd()} mis={8}>\n\t\t\t\t\t\t\t{t('Add_monitor')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</Box>\n\t\t\t{((isSuccess && data?.monitors.length > 0) || queryHasChanged) && (\n\t\t\t\t<FilterByText value={text} onChange={(event) => setText(event.target.value)} />\n\t\t\t)}\n\t\t\t{isLoading && (\n\t\t\t\t<GenericTable>\n\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t<GenericTableLoadingTable headerCells={4} />\n\t\t\t\t\t</GenericTableBody>\n\t\t\t\t</GenericTable>\n\t\t\t)}\n\t\t\t{isSuccess && data.monitors.length === 0 && queryHasChanged && <GenericNoResults />}\n\t\t\t{isSuccess && data.monitors.length === 0 && !queryHasChanged && (\n\t\t\t\t<GenericNoResults\n\t\t\t\t\ticon='shield-blank'\n\t\t\t\t\ttitle={t('No_monitors_yet')}\n\t\t\t\t\tdescription={t('No_monitors_yet_description')}\n\t\t\t\t\tlinkHref='https://go.rocket.chat/i/omnichannel-docs'\n\t\t\t\t\tlinkText={t('Learn_more_about_monitors')}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{isSuccess && data.monitors.length > 0 && (\n\t\t\t\t<>\n\t\t\t\t\t<GenericTable aria-busy={isLoading} aria-live='assertive' data-qa-id='manage-monitors-table'>\n\t\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t\t{data.monitors?.map((monitor) => (\n\t\t\t\t\t\t\t\t<GenericTableRow key={monitor._id} tabIndex={0} width='full' data-qa-id={monitor.name}>\n\t\t\t\t\t\t\t\t\t<GenericTableCell withTruncatedText>{monitor.name}</GenericTableCell>\n\t\t\t\t\t\t\t\t\t<GenericTableCell withTruncatedText>{monitor.username}</GenericTableCell>\n\t\t\t\t\t\t\t\t\t<GenericTableCell withTruncatedText>{monitor.email}</GenericTableCell>\n\t\t\t\t\t\t\t\t\t<GenericTableCell withTruncatedText>\n\t\t\t\t\t\t\t\t\t\t<IconButton icon='trash' small title={t('Remove')} onClick={() => handleRemove(monitor.username)} />\n\t\t\t\t\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t\t\t\t</GenericTableRow>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t</GenericTable>\n\t\t\t\t\t<Pagination\n\t\t\t\t\t\tdivider\n\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\tcount={data?.total || 0}\n\t\t\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t\t\t{...paginationProps}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{isError && (\n\t\t\t\t<States>\n\t\t\t\t\t<StatesIcon name='warning' variation='danger' />\n\t\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t\t<StatesActions>\n\t\t\t\t\t\t<StatesAction onClick={() => refetch()}>{t('Reload_page')}</StatesAction>\n\t\t\t\t\t</StatesActions>\n\t\t\t\t</States>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default MonitorsTable;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/monitors/MonitorsTable.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/omnichannel/monitors/MonitorsTable.tsx","inputSourceMap":{"version":3,"file":"client/omnichannel/monitors/MonitorsTable.tsx","sourceRoot":"","sources":["client/omnichannel/monitors/MonitorsTable.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n\tIconButton,\n\tPagination,\n\tButton,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tBox,\n\tStates,\n\tStatesIcon,\n\tStatesTitle,\n\tStatesActions,\n\tStatesAction,\n} from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { UserAutoComplete } from '@rocket.chat/ui-client';\nimport { useTranslation, useToastMessageDispatch, useMethod, useEndpoint, useSetModal } from '@rocket.chat/ui-contexts';\nimport { useMutation, useQuery, hashQueryKey } from '@tanstack/react-query';\nimport React, { useMemo, useState } from 'react';\n\nimport FilterByText from '../../components/FilterByText';\nimport GenericModal from '../../components/GenericModal';\nimport GenericNoResults from '../../components/GenericNoResults';\nimport {\n\tGenericTable,\n\tGenericTableBody,\n\tGenericTableCell,\n\tGenericTableHeader,\n\tGenericTableHeaderCell,\n\tGenericTableLoadingTable,\n\tGenericTableRow,\n} from '../../components/GenericTable';\nimport { usePagination } from '../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../components/GenericTable/hooks/useSort';\nimport { queryClient } from '../../lib/queryClient';\n\nconst MonitorsTable = () => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\n\tconst [text, setText] = useState('');\n\tconst [username, setUsername] = useState('');\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst pagination = usePagination();\n\tconst sort = useSort<'name' | 'username' | 'email'>('name');\n\n\tconst getMonitors = useEndpoint('GET', '/v1/livechat/monitors');\n\n\t// TODO: implement endpoints for monitors add/remove\n\tconst removeMonitor = useMethod('livechat:removeMonitor');\n\tconst addMonitor = useMethod('livechat:addMonitor');\n\n\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = pagination;\n\tconst { sortBy, sortDirection, setSort } = sort;\n\n\tconst query = useDebouncedValue(\n\t\tuseMemo(\n\t\t\t() => ({\n\t\t\t\ttext,\n\t\t\t\tsort: `{ \"${sortBy}\": ${sortDirection === 'asc' ? 1 : -1} }`,\n\t\t\t\t...(itemsPerPage && { count: itemsPerPage }),\n\t\t\t\t...(current && { offset: current }),\n\t\t\t}),\n\t\t\t[text, itemsPerPage, current, sortBy, sortDirection],\n\t\t),\n\t\t500,\n\t);\n\n\tconst { data, refetch, isLoading, isSuccess, isError } = useQuery(['omnichannel', 'monitors', query], () => getMonitors(query));\n\n\tconst [defaultQuery] = useState(hashQueryKey([query]));\n\tconst queryHasChanged = defaultQuery !== hashQueryKey([query]);\n\n\tconst addMutation = useMutation({\n\t\tmutationFn: async (username: string) => {\n\t\t\tawait addMonitor(username);\n\n\t\t\tawait queryClient.invalidateQueries(['omnichannel', 'monitors']);\n\t\t},\n\t\tonSuccess: () => {\n\t\t\tsetUsername('');\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Monitor_added') });\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleAdd = () => {\n\t\taddMutation.mutate(username);\n\t};\n\n\tconst handleRemove = (username: string) => {\n\t\tconst onDeleteMonitor = async () => {\n\t\t\ttry {\n\t\t\t\tawait removeMonitor(username);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Monitor_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tqueryClient.invalidateQueries(['omnichannel', 'monitors']);\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(\n\t\t\t<GenericModal\n\t\t\t\tvariant='danger'\n\t\t\t\tdata-qa-id='manage-monitors-confirm-remove'\n\t\t\t\tonConfirm={onDeleteMonitor}\n\t\t\t\tonCancel={() => setModal()}\n\t\t\t\tconfirmText={t('Delete')}\n\t\t\t/>,\n\t\t);\n\t};\n\n\tconst headers = useMemo(\n\t\t() => [\n\t\t\t<GenericTableHeaderCell key='name' direction={sortDirection} active={sortBy === 'name'} onClick={setSort}>\n\t\t\t\t{t('Name')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='username' direction={sortDirection} active={sortBy === 'username'} onClick={setSort}>\n\t\t\t\t{t('Username')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='email' direction={sortDirection} active={sortBy === 'email'} onClick={setSort}>\n\t\t\t\t{t('Email')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='spacer' w={40} />,\n\t\t],\n\t\t[setSort, sortBy, sortDirection, t],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<Box display='flex' flexDirection='column'>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Username')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<UserAutoComplete name='monitor' value={username} onChange={setUsername as () => void} />\n\t\t\t\t\t\t<Button primary disabled={!username} loading={addMutation.isLoading} onClick={() => handleAdd()} mis={8}>\n\t\t\t\t\t\t\t{t('Add_monitor')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</Box>\n\t\t\t{((isSuccess && data?.monitors.length > 0) || queryHasChanged) && (\n\t\t\t\t<FilterByText value={text} onChange={(event) => setText(event.target.value)} />\n\t\t\t)}\n\t\t\t{isLoading && (\n\t\t\t\t<GenericTable>\n\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t<GenericTableLoadingTable headerCells={4} />\n\t\t\t\t\t</GenericTableBody>\n\t\t\t\t</GenericTable>\n\t\t\t)}\n\t\t\t{isSuccess && data.monitors.length === 0 && queryHasChanged && <GenericNoResults />}\n\t\t\t{isSuccess && data.monitors.length === 0 && !queryHasChanged && (\n\t\t\t\t<GenericNoResults\n\t\t\t\t\ticon='shield-blank'\n\t\t\t\t\ttitle={t('No_monitors_yet')}\n\t\t\t\t\tdescription={t('No_monitors_yet_description')}\n\t\t\t\t\tlinkHref='https://go.rocket.chat/i/omnichannel-docs'\n\t\t\t\t\tlinkText={t('Learn_more_about_monitors')}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{isSuccess && data.monitors.length > 0 && (\n\t\t\t\t<>\n\t\t\t\t\t<GenericTable aria-busy={isLoading} aria-live='assertive' data-qa-id='manage-monitors-table'>\n\t\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t\t{data.monitors?.map((monitor) => (\n\t\t\t\t\t\t\t\t<GenericTableRow key={monitor._id} tabIndex={0} width='full' data-qa-id={monitor.name}>\n\t\t\t\t\t\t\t\t\t<GenericTableCell withTruncatedText>{monitor.name}</GenericTableCell>\n\t\t\t\t\t\t\t\t\t<GenericTableCell withTruncatedText>{monitor.username}</GenericTableCell>\n\t\t\t\t\t\t\t\t\t<GenericTableCell withTruncatedText>{monitor.email}</GenericTableCell>\n\t\t\t\t\t\t\t\t\t<GenericTableCell withTruncatedText>\n\t\t\t\t\t\t\t\t\t\t<IconButton icon='trash' small title={t('Remove')} onClick={() => handleRemove(monitor.username)} />\n\t\t\t\t\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t\t\t\t</GenericTableRow>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t</GenericTable>\n\t\t\t\t\t<Pagination\n\t\t\t\t\t\tdivider\n\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\tcount={data?.total || 0}\n\t\t\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t\t\t{...paginationProps}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{isError && (\n\t\t\t\t<States>\n\t\t\t\t\t<StatesIcon name='warning' variation='danger' />\n\t\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t\t<StatesActions>\n\t\t\t\t\t\t<StatesAction onClick={() => refetch()}>{t('Reload_page')}</StatesAction>\n\t\t\t\t\t</StatesActions>\n\t\t\t\t</States>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default MonitorsTable;\n"]}}},"code":"const _excluded = [\"current\", \"itemsPerPage\", \"setItemsPerPage\", \"setCurrent\"];\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n}, 1);\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 2);\nlet IconButton, Pagination, Button, Field, FieldLabel, FieldRow, Box, States, StatesIcon, StatesTitle, StatesActions, StatesAction;\nmodule.link(\"@rocket.chat/fuselage\", {\n  IconButton(v) {\n    IconButton = v;\n  },\n  Pagination(v) {\n    Pagination = v;\n  },\n  Button(v) {\n    Button = v;\n  },\n  Field(v) {\n    Field = v;\n  },\n  FieldLabel(v) {\n    FieldLabel = v;\n  },\n  FieldRow(v) {\n    FieldRow = v;\n  },\n  Box(v) {\n    Box = v;\n  },\n  States(v) {\n    States = v;\n  },\n  StatesIcon(v) {\n    StatesIcon = v;\n  },\n  StatesTitle(v) {\n    StatesTitle = v;\n  },\n  StatesActions(v) {\n    StatesActions = v;\n  },\n  StatesAction(v) {\n    StatesAction = v;\n  }\n}, 0);\nlet useDebouncedValue;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useDebouncedValue(v) {\n    useDebouncedValue = v;\n  }\n}, 1);\nlet UserAutoComplete;\nmodule.link(\"@rocket.chat/ui-client\", {\n  UserAutoComplete(v) {\n    UserAutoComplete = v;\n  }\n}, 2);\nlet useTranslation, useToastMessageDispatch, useMethod, useEndpoint, useSetModal;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useTranslation(v) {\n    useTranslation = v;\n  },\n  useToastMessageDispatch(v) {\n    useToastMessageDispatch = v;\n  },\n  useMethod(v) {\n    useMethod = v;\n  },\n  useEndpoint(v) {\n    useEndpoint = v;\n  },\n  useSetModal(v) {\n    useSetModal = v;\n  }\n}, 3);\nlet useMutation, useQuery, hashQueryKey;\nmodule.link(\"@tanstack/react-query\", {\n  useMutation(v) {\n    useMutation = v;\n  },\n  useQuery(v) {\n    useQuery = v;\n  },\n  hashQueryKey(v) {\n    hashQueryKey = v;\n  }\n}, 4);\nlet React, useMemo, useState;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  },\n  useState(v) {\n    useState = v;\n  }\n}, 5);\nlet FilterByText;\nmodule.link(\"../../components/FilterByText\", {\n  default(v) {\n    FilterByText = v;\n  }\n}, 6);\nlet GenericModal;\nmodule.link(\"../../components/GenericModal\", {\n  default(v) {\n    GenericModal = v;\n  }\n}, 7);\nlet GenericNoResults;\nmodule.link(\"../../components/GenericNoResults\", {\n  default(v) {\n    GenericNoResults = v;\n  }\n}, 8);\nlet GenericTable, GenericTableBody, GenericTableCell, GenericTableHeader, GenericTableHeaderCell, GenericTableLoadingTable, GenericTableRow;\nmodule.link(\"../../components/GenericTable\", {\n  GenericTable(v) {\n    GenericTable = v;\n  },\n  GenericTableBody(v) {\n    GenericTableBody = v;\n  },\n  GenericTableCell(v) {\n    GenericTableCell = v;\n  },\n  GenericTableHeader(v) {\n    GenericTableHeader = v;\n  },\n  GenericTableHeaderCell(v) {\n    GenericTableHeaderCell = v;\n  },\n  GenericTableLoadingTable(v) {\n    GenericTableLoadingTable = v;\n  },\n  GenericTableRow(v) {\n    GenericTableRow = v;\n  }\n}, 9);\nlet usePagination;\nmodule.link(\"../../components/GenericTable/hooks/usePagination\", {\n  usePagination(v) {\n    usePagination = v;\n  }\n}, 10);\nlet useSort;\nmodule.link(\"../../components/GenericTable/hooks/useSort\", {\n  useSort(v) {\n    useSort = v;\n  }\n}, 11);\nlet queryClient;\nmodule.link(\"../../lib/queryClient\", {\n  queryClient(v) {\n    queryClient = v;\n  }\n}, 12);\nconst MonitorsTable = () => {\n  var _data$monitors;\n  const t = useTranslation();\n  const setModal = useSetModal();\n  const [text, setText] = useState('');\n  const [username, setUsername] = useState('');\n  const dispatchToastMessage = useToastMessageDispatch();\n  const pagination = usePagination();\n  const sort = useSort('name');\n  const getMonitors = useEndpoint('GET', '/v1/livechat/monitors');\n  // TODO: implement endpoints for monitors add/remove\n  const removeMonitor = useMethod('livechat:removeMonitor');\n  const addMonitor = useMethod('livechat:addMonitor');\n  const {\n      current,\n      itemsPerPage,\n      setItemsPerPage: onSetItemsPerPage,\n      setCurrent: onSetCurrent\n    } = pagination,\n    paginationProps = _objectWithoutProperties(pagination, _excluded);\n  const {\n    sortBy,\n    sortDirection,\n    setSort\n  } = sort;\n  const query = useDebouncedValue(useMemo(() => _objectSpread(_objectSpread({\n    text,\n    sort: \"{ \\\"\".concat(sortBy, \"\\\": \").concat(sortDirection === 'asc' ? 1 : -1, \" }\")\n  }, itemsPerPage && {\n    count: itemsPerPage\n  }), current && {\n    offset: current\n  }), [text, itemsPerPage, current, sortBy, sortDirection]), 500);\n  const {\n    data,\n    refetch,\n    isLoading,\n    isSuccess,\n    isError\n  } = useQuery(['omnichannel', 'monitors', query], () => getMonitors(query));\n  const [defaultQuery] = useState(hashQueryKey([query]));\n  const queryHasChanged = defaultQuery !== hashQueryKey([query]);\n  const addMutation = useMutation({\n    mutationFn: async username => {\n      await addMonitor(username);\n      await queryClient.invalidateQueries(['omnichannel', 'monitors']);\n    },\n    onSuccess: () => {\n      setUsername('');\n      dispatchToastMessage({\n        type: 'success',\n        message: t('Monitor_added')\n      });\n    },\n    onError: error => {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    }\n  });\n  const handleAdd = () => {\n    addMutation.mutate(username);\n  };\n  const handleRemove = username => {\n    const onDeleteMonitor = async () => {\n      try {\n        await removeMonitor(username);\n        dispatchToastMessage({\n          type: 'success',\n          message: t('Monitor_removed')\n        });\n      } catch (error) {\n        dispatchToastMessage({\n          type: 'error',\n          message: error\n        });\n      }\n      queryClient.invalidateQueries(['omnichannel', 'monitors']);\n      setModal();\n    };\n    setModal( /*#__PURE__*/React.createElement(GenericModal, {\n      variant: \"danger\",\n      \"data-qa-id\": \"manage-monitors-confirm-remove\",\n      onConfirm: onDeleteMonitor,\n      onCancel: () => setModal(),\n      confirmText: t('Delete')\n    }));\n  };\n  const headers = useMemo(() => [/*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"name\",\n    direction: sortDirection,\n    active: sortBy === 'name',\n    onClick: setSort\n  }, t('Name')), /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"username\",\n    direction: sortDirection,\n    active: sortBy === 'username',\n    onClick: setSort\n  }, t('Username')), /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"email\",\n    direction: sortDirection,\n    active: sortBy === 'email',\n    onClick: setSort\n  }, t('Email')), /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"spacer\",\n    w: 40\n  })], [setSort, sortBy, sortDirection, t]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, null, t('Username')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(UserAutoComplete, {\n    name: \"monitor\",\n    value: username,\n    onChange: setUsername\n  }), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    disabled: !username,\n    loading: addMutation.isLoading,\n    onClick: () => handleAdd(),\n    mis: 8\n  }, t('Add_monitor'))))), (isSuccess && (data === null || data === void 0 ? void 0 : data.monitors.length) > 0 || queryHasChanged) && /*#__PURE__*/React.createElement(FilterByText, {\n    value: text,\n    onChange: event => setText(event.target.value)\n  }), isLoading && /*#__PURE__*/React.createElement(GenericTable, null, /*#__PURE__*/React.createElement(GenericTableHeader, null, headers), /*#__PURE__*/React.createElement(GenericTableBody, null, /*#__PURE__*/React.createElement(GenericTableLoadingTable, {\n    headerCells: 4\n  }))), isSuccess && data.monitors.length === 0 && queryHasChanged && /*#__PURE__*/React.createElement(GenericNoResults, null), isSuccess && data.monitors.length === 0 && !queryHasChanged && /*#__PURE__*/React.createElement(GenericNoResults, {\n    icon: \"shield-blank\",\n    title: t('No_monitors_yet'),\n    description: t('No_monitors_yet_description'),\n    linkHref: \"https://go.rocket.chat/i/omnichannel-docs\",\n    linkText: t('Learn_more_about_monitors')\n  }), isSuccess && data.monitors.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(GenericTable, {\n    \"aria-busy\": isLoading,\n    \"aria-live\": \"assertive\",\n    \"data-qa-id\": \"manage-monitors-table\"\n  }, /*#__PURE__*/React.createElement(GenericTableHeader, null, headers), /*#__PURE__*/React.createElement(GenericTableBody, null, (_data$monitors = data.monitors) === null || _data$monitors === void 0 ? void 0 : _data$monitors.map(monitor => /*#__PURE__*/React.createElement(GenericTableRow, {\n    key: monitor._id,\n    tabIndex: 0,\n    width: \"full\",\n    \"data-qa-id\": monitor.name\n  }, /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, monitor.name), /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, monitor.username), /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, monitor.email), /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    icon: \"trash\",\n    small: true,\n    title: t('Remove'),\n    onClick: () => handleRemove(monitor.username)\n  })))))), /*#__PURE__*/React.createElement(Pagination, _extends({\n    divider: true,\n    current: current,\n    itemsPerPage: itemsPerPage,\n    count: (data === null || data === void 0 ? void 0 : data.total) || 0,\n    onSetItemsPerPage: onSetItemsPerPage,\n    onSetCurrent: onSetCurrent\n  }, paginationProps))), isError && /*#__PURE__*/React.createElement(States, null, /*#__PURE__*/React.createElement(StatesIcon, {\n    name: \"warning\",\n    variation: \"danger\"\n  }), /*#__PURE__*/React.createElement(StatesTitle, null, t('Something_went_wrong')), /*#__PURE__*/React.createElement(StatesActions, null, /*#__PURE__*/React.createElement(StatesAction, {\n    onClick: () => refetch()\n  }, t('Reload_page')))));\n};\nmodule.exportDefault(MonitorsTable);","map":{"version":3,"names":["_extends","module","link","default","v","_objectSpread","_objectWithoutProperties","IconButton","Pagination","Button","Field","FieldLabel","FieldRow","Box","States","StatesIcon","StatesTitle","StatesActions","StatesAction","useDebouncedValue","UserAutoComplete","useTranslation","useToastMessageDispatch","useMethod","useEndpoint","useSetModal","useMutation","useQuery","hashQueryKey","React","useMemo","useState","FilterByText","GenericModal","GenericNoResults","GenericTable","GenericTableBody","GenericTableCell","GenericTableHeader","GenericTableHeaderCell","GenericTableLoadingTable","GenericTableRow","usePagination","useSort","queryClient","MonitorsTable","_data$monitors","t","setModal","text","setText","username","setUsername","dispatchToastMessage","pagination","sort","getMonitors","removeMonitor","addMonitor","current","itemsPerPage","setItemsPerPage","onSetItemsPerPage","setCurrent","onSetCurrent","paginationProps","_excluded","sortBy","sortDirection","setSort","query","concat","count","offset","data","refetch","isLoading","isSuccess","isError","defaultQuery","queryHasChanged","addMutation","mutationFn","invalidateQueries","onSuccess","type","message","onError","error","handleAdd","mutate","handleRemove","onDeleteMonitor","createElement","variant","onConfirm","onCancel","confirmText","headers","key","direction","active","onClick","w","Fragment","display","flexDirection","name","value","onChange","primary","disabled","loading","mis","monitors","length","event","target","headerCells","icon","title","description","linkHref","linkText","map","monitor","_id","tabIndex","width","withTruncatedText","email","small","divider","total","variation","exportDefault"],"sources":["client/omnichannel/monitors/MonitorsTable.tsx"],"sourcesContent":["import {\n\tIconButton,\n\tPagination,\n\tButton,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tBox,\n\tStates,\n\tStatesIcon,\n\tStatesTitle,\n\tStatesActions,\n\tStatesAction,\n} from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { UserAutoComplete } from '@rocket.chat/ui-client';\nimport { useTranslation, useToastMessageDispatch, useMethod, useEndpoint, useSetModal } from '@rocket.chat/ui-contexts';\nimport { useMutation, useQuery, hashQueryKey } from '@tanstack/react-query';\nimport React, { useMemo, useState } from 'react';\n\nimport FilterByText from '../../components/FilterByText';\nimport GenericModal from '../../components/GenericModal';\nimport GenericNoResults from '../../components/GenericNoResults';\nimport {\n\tGenericTable,\n\tGenericTableBody,\n\tGenericTableCell,\n\tGenericTableHeader,\n\tGenericTableHeaderCell,\n\tGenericTableLoadingTable,\n\tGenericTableRow,\n} from '../../components/GenericTable';\nimport { usePagination } from '../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../components/GenericTable/hooks/useSort';\nimport { queryClient } from '../../lib/queryClient';\n\nconst MonitorsTable = () => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\n\tconst [text, setText] = useState('');\n\tconst [username, setUsername] = useState('');\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst pagination = usePagination();\n\tconst sort = useSort<'name' | 'username' | 'email'>('name');\n\n\tconst getMonitors = useEndpoint('GET', '/v1/livechat/monitors');\n\n\t// TODO: implement endpoints for monitors add/remove\n\tconst removeMonitor = useMethod('livechat:removeMonitor');\n\tconst addMonitor = useMethod('livechat:addMonitor');\n\n\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = pagination;\n\tconst { sortBy, sortDirection, setSort } = sort;\n\n\tconst query = useDebouncedValue(\n\t\tuseMemo(\n\t\t\t() => ({\n\t\t\t\ttext,\n\t\t\t\tsort: `{ \"${sortBy}\": ${sortDirection === 'asc' ? 1 : -1} }`,\n\t\t\t\t...(itemsPerPage && { count: itemsPerPage }),\n\t\t\t\t...(current && { offset: current }),\n\t\t\t}),\n\t\t\t[text, itemsPerPage, current, sortBy, sortDirection],\n\t\t),\n\t\t500,\n\t);\n\n\tconst { data, refetch, isLoading, isSuccess, isError } = useQuery(['omnichannel', 'monitors', query], () => getMonitors(query));\n\n\tconst [defaultQuery] = useState(hashQueryKey([query]));\n\tconst queryHasChanged = defaultQuery !== hashQueryKey([query]);\n\n\tconst addMutation = useMutation({\n\t\tmutationFn: async (username: string) => {\n\t\t\tawait addMonitor(username);\n\n\t\t\tawait queryClient.invalidateQueries(['omnichannel', 'monitors']);\n\t\t},\n\t\tonSuccess: () => {\n\t\t\tsetUsername('');\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Monitor_added') });\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleAdd = () => {\n\t\taddMutation.mutate(username);\n\t};\n\n\tconst handleRemove = (username: string) => {\n\t\tconst onDeleteMonitor = async () => {\n\t\t\ttry {\n\t\t\t\tawait removeMonitor(username);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Monitor_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tqueryClient.invalidateQueries(['omnichannel', 'monitors']);\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(\n\t\t\t<GenericModal\n\t\t\t\tvariant='danger'\n\t\t\t\tdata-qa-id='manage-monitors-confirm-remove'\n\t\t\t\tonConfirm={onDeleteMonitor}\n\t\t\t\tonCancel={() => setModal()}\n\t\t\t\tconfirmText={t('Delete')}\n\t\t\t/>,\n\t\t);\n\t};\n\n\tconst headers = useMemo(\n\t\t() => [\n\t\t\t<GenericTableHeaderCell key='name' direction={sortDirection} active={sortBy === 'name'} onClick={setSort}>\n\t\t\t\t{t('Name')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='username' direction={sortDirection} active={sortBy === 'username'} onClick={setSort}>\n\t\t\t\t{t('Username')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='email' direction={sortDirection} active={sortBy === 'email'} onClick={setSort}>\n\t\t\t\t{t('Email')}\n\t\t\t</GenericTableHeaderCell>,\n\t\t\t<GenericTableHeaderCell key='spacer' w={40} />,\n\t\t],\n\t\t[setSort, sortBy, sortDirection, t],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<Box display='flex' flexDirection='column'>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Username')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<UserAutoComplete name='monitor' value={username} onChange={setUsername as () => void} />\n\t\t\t\t\t\t<Button primary disabled={!username} loading={addMutation.isLoading} onClick={() => handleAdd()} mis={8}>\n\t\t\t\t\t\t\t{t('Add_monitor')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</Box>\n\t\t\t{((isSuccess && data?.monitors.length > 0) || queryHasChanged) && (\n\t\t\t\t<FilterByText value={text} onChange={(event) => setText(event.target.value)} />\n\t\t\t)}\n\t\t\t{isLoading && (\n\t\t\t\t<GenericTable>\n\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t<GenericTableLoadingTable headerCells={4} />\n\t\t\t\t\t</GenericTableBody>\n\t\t\t\t</GenericTable>\n\t\t\t)}\n\t\t\t{isSuccess && data.monitors.length === 0 && queryHasChanged && <GenericNoResults />}\n\t\t\t{isSuccess && data.monitors.length === 0 && !queryHasChanged && (\n\t\t\t\t<GenericNoResults\n\t\t\t\t\ticon='shield-blank'\n\t\t\t\t\ttitle={t('No_monitors_yet')}\n\t\t\t\t\tdescription={t('No_monitors_yet_description')}\n\t\t\t\t\tlinkHref='https://go.rocket.chat/i/omnichannel-docs'\n\t\t\t\t\tlinkText={t('Learn_more_about_monitors')}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{isSuccess && data.monitors.length > 0 && (\n\t\t\t\t<>\n\t\t\t\t\t<GenericTable aria-busy={isLoading} aria-live='assertive' data-qa-id='manage-monitors-table'>\n\t\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t\t{data.monitors?.map((monitor) => (\n\t\t\t\t\t\t\t\t<GenericTableRow key={monitor._id} tabIndex={0} width='full' data-qa-id={monitor.name}>\n\t\t\t\t\t\t\t\t\t<GenericTableCell withTruncatedText>{monitor.name}</GenericTableCell>\n\t\t\t\t\t\t\t\t\t<GenericTableCell withTruncatedText>{monitor.username}</GenericTableCell>\n\t\t\t\t\t\t\t\t\t<GenericTableCell withTruncatedText>{monitor.email}</GenericTableCell>\n\t\t\t\t\t\t\t\t\t<GenericTableCell withTruncatedText>\n\t\t\t\t\t\t\t\t\t\t<IconButton icon='trash' small title={t('Remove')} onClick={() => handleRemove(monitor.username)} />\n\t\t\t\t\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t\t\t\t</GenericTableRow>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t</GenericTable>\n\t\t\t\t\t<Pagination\n\t\t\t\t\t\tdivider\n\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\tcount={data?.total || 0}\n\t\t\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t\t\t{...paginationProps}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{isError && (\n\t\t\t\t<States>\n\t\t\t\t\t<StatesIcon name='warning' variation='danger' />\n\t\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t\t<StatesActions>\n\t\t\t\t\t\t<StatesAction onClick={() => refetch()}>{t('Reload_page')}</StatesAction>\n\t\t\t\t\t</StatesActions>\n\t\t\t\t</States>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default MonitorsTable;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"b90530b09df123e5efad4703f705d0d0e26d401d"}
