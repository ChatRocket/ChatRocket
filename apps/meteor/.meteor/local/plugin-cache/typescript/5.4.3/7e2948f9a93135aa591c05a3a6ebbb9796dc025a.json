{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/permissions/UsersInRole/UsersInRolePage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/permissions/UsersInRole/UsersInRolePage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/permissions/UsersInRole/UsersInRolePage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/permissions/UsersInRole/UsersInRolePage.tsx","sourceRoot":"","sources":["client/views/admin/permissions/UsersInRole/UsersInRolePage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IRole, IRoom } from '@rocket.chat/core-typings';\nimport { Box, Field, FieldLabel, FieldRow, Margins, ButtonGroup, Button, Callout, FieldError } from '@rocket.chat/fuselage';\nimport { useEffectEvent, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useEndpoint, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { Page, PageHeader, PageContent } from '../../../../components/Page';\nimport RoomAutoComplete from '../../../../components/RoomAutoComplete';\nimport UserAutoCompleteMultiple from '../../../../components/UserAutoCompleteMultiple';\nimport UsersInRoleTable from './UsersInRoleTable';\n\ntype UsersInRolePayload = {\n\trid?: IRoom['_id'];\n\tusers: string[];\n};\n\nconst UsersInRolePage = ({ role }: { role: IRole }): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst queryClient = useQueryClient();\n\n\tconst {\n\t\tcontrol,\n\t\thandleSubmit,\n\t\tformState: { errors, isDirty },\n\t\twatch,\n\t} = useForm<UsersInRolePayload>({ defaultValues: { users: [] } });\n\n\tconst { _id, name, description } = role;\n\tconst router = useRouter();\n\tconst addUserToRoleEndpoint = useEndpoint('POST', '/v1/roles.addUserToRole');\n\n\tconst { rid } = watch();\n\tconst roomFieldId = useUniqueId();\n\tconst usersFieldId = useUniqueId();\n\n\tconst handleAdd = useEffectEvent(async ({ users, rid }: UsersInRolePayload) => {\n\t\ttry {\n\t\t\tawait Promise.all(\n\t\t\t\tusers.map(async (user) => {\n\t\t\t\t\tif (user) {\n\t\t\t\t\t\tawait addUserToRoleEndpoint({ roleName: _id, username: user, roomId: rid });\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Users_added') });\n\t\t\tqueryClient.invalidateQueries(['getUsersInRole']);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={`${t('Users_in_role')} \"${description || name}\"`}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => router.navigate(`/admin/permissions/edit/${_id}`)}>{t('Back')}</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageHeader>\n\t\t\t<PageContent>\n\t\t\t\t<Box display='flex' flexDirection='column' w='full' mi='neg-x4'>\n\t\t\t\t\t<Margins inline={4}>\n\t\t\t\t\t\t{role.scope !== 'Users' && (\n\t\t\t\t\t\t\t<Field mbe={4}>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={roomFieldId}>{t('Choose_a_room')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='rid'\n\t\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Room') }) }}\n\t\t\t\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t\t\t\t\t<RoomAutoComplete\n\t\t\t\t\t\t\t\t\t\t\t\tid={roomFieldId}\n\t\t\t\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.rid)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${roomFieldId}-error`}\n\t\t\t\t\t\t\t\t\t\t\t\tscope='admin'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Room')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t{errors.rid && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${roomFieldId}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.rid.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={usersFieldId}>{t('Add_users')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='users'\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Users') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t\t\t\t<UserAutoCompleteMultiple\n\t\t\t\t\t\t\t\t\t\t\tid={usersFieldId}\n\t\t\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.users)}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${usersFieldId}-error`}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Users')}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button mis={8} primary onClick={handleSubmit(handleAdd)} disabled={!isDirty}>\n\t\t\t\t\t\t\t\t\t{t('Add')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.users && (\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${usersFieldId}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.users.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</Margins>\n\t\t\t\t</Box>\n\t\t\t\t<Margins blockStart={8}>\n\t\t\t\t\t{(role.scope === 'Users' || rid) && <UsersInRoleTable rid={rid} roleId={_id} roleName={name} description={description} />}\n\t\t\t\t\t{role.scope !== 'Users' && !rid && <Callout type='info'>{t('Select_a_room')}</Callout>}\n\t\t\t\t</Margins>\n\t\t\t</PageContent>\n\t\t</Page>\n\t);\n};\n\nexport default UsersInRolePage;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/permissions/UsersInRole/UsersInRolePage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/permissions/UsersInRole/UsersInRolePage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/permissions/UsersInRole/UsersInRolePage.tsx","sourceRoot":"","sources":["client/views/admin/permissions/UsersInRole/UsersInRolePage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IRole, IRoom } from '@rocket.chat/core-typings';\nimport { Box, Field, FieldLabel, FieldRow, Margins, ButtonGroup, Button, Callout, FieldError } from '@rocket.chat/fuselage';\nimport { useEffectEvent, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useEndpoint, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { Page, PageHeader, PageContent } from '../../../../components/Page';\nimport RoomAutoComplete from '../../../../components/RoomAutoComplete';\nimport UserAutoCompleteMultiple from '../../../../components/UserAutoCompleteMultiple';\nimport UsersInRoleTable from './UsersInRoleTable';\n\ntype UsersInRolePayload = {\n\trid?: IRoom['_id'];\n\tusers: string[];\n};\n\nconst UsersInRolePage = ({ role }: { role: IRole }): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst queryClient = useQueryClient();\n\n\tconst {\n\t\tcontrol,\n\t\thandleSubmit,\n\t\tformState: { errors, isDirty },\n\t\twatch,\n\t} = useForm<UsersInRolePayload>({ defaultValues: { users: [] } });\n\n\tconst { _id, name, description } = role;\n\tconst router = useRouter();\n\tconst addUserToRoleEndpoint = useEndpoint('POST', '/v1/roles.addUserToRole');\n\n\tconst { rid } = watch();\n\tconst roomFieldId = useUniqueId();\n\tconst usersFieldId = useUniqueId();\n\n\tconst handleAdd = useEffectEvent(async ({ users, rid }: UsersInRolePayload) => {\n\t\ttry {\n\t\t\tawait Promise.all(\n\t\t\t\tusers.map(async (user) => {\n\t\t\t\t\tif (user) {\n\t\t\t\t\t\tawait addUserToRoleEndpoint({ roleName: _id, username: user, roomId: rid });\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Users_added') });\n\t\t\tqueryClient.invalidateQueries(['getUsersInRole']);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={`${t('Users_in_role')} \"${description || name}\"`}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => router.navigate(`/admin/permissions/edit/${_id}`)}>{t('Back')}</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageHeader>\n\t\t\t<PageContent>\n\t\t\t\t<Box display='flex' flexDirection='column' w='full' mi='neg-x4'>\n\t\t\t\t\t<Margins inline={4}>\n\t\t\t\t\t\t{role.scope !== 'Users' && (\n\t\t\t\t\t\t\t<Field mbe={4}>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={roomFieldId}>{t('Choose_a_room')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='rid'\n\t\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Room') }) }}\n\t\t\t\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t\t\t\t\t<RoomAutoComplete\n\t\t\t\t\t\t\t\t\t\t\t\tid={roomFieldId}\n\t\t\t\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.rid)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${roomFieldId}-error`}\n\t\t\t\t\t\t\t\t\t\t\t\tscope='admin'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Room')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t{errors.rid && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${roomFieldId}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.rid.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={usersFieldId}>{t('Add_users')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='users'\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Users') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t\t\t\t<UserAutoCompleteMultiple\n\t\t\t\t\t\t\t\t\t\t\tid={usersFieldId}\n\t\t\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.users)}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${usersFieldId}-error`}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Users')}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button mis={8} primary onClick={handleSubmit(handleAdd)} disabled={!isDirty}>\n\t\t\t\t\t\t\t\t\t{t('Add')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.users && (\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${usersFieldId}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.users.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</Margins>\n\t\t\t\t</Box>\n\t\t\t\t<Margins blockStart={8}>\n\t\t\t\t\t{(role.scope === 'Users' || rid) && <UsersInRoleTable rid={rid} roleId={_id} roleName={name} description={description} />}\n\t\t\t\t\t{role.scope !== 'Users' && !rid && <Callout type='info'>{t('Select_a_room')}</Callout>}\n\t\t\t\t</Margins>\n\t\t\t</PageContent>\n\t\t</Page>\n\t);\n};\n\nexport default UsersInRolePage;\n"]}}},"code":"var _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar Box, Field, FieldLabel, FieldRow, Margins, ButtonGroup, Button, Callout, FieldError;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Field: function (v) {\n    Field = v;\n  },\n  FieldLabel: function (v) {\n    FieldLabel = v;\n  },\n  FieldRow: function (v) {\n    FieldRow = v;\n  },\n  Margins: function (v) {\n    Margins = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  Callout: function (v) {\n    Callout = v;\n  },\n  FieldError: function (v) {\n    FieldError = v;\n  }\n}, 0);\nvar useEffectEvent, useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useEffectEvent: function (v) {\n    useEffectEvent = v;\n  },\n  useUniqueId: function (v) {\n    useUniqueId = v;\n  }\n}, 1);\nvar useToastMessageDispatch, useEndpoint, useTranslation, useRouter;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  useEndpoint: function (v) {\n    useEndpoint = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useRouter: function (v) {\n    useRouter = v;\n  }\n}, 2);\nvar useQueryClient;\nmodule.link(\"@tanstack/react-query\", {\n  useQueryClient: function (v) {\n    useQueryClient = v;\n  }\n}, 3);\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 4);\nvar useForm, Controller;\nmodule.link(\"react-hook-form\", {\n  useForm: function (v) {\n    useForm = v;\n  },\n  Controller: function (v) {\n    Controller = v;\n  }\n}, 5);\nvar Page, PageHeader, PageContent;\nmodule.link(\"../../../../components/Page\", {\n  Page: function (v) {\n    Page = v;\n  },\n  PageHeader: function (v) {\n    PageHeader = v;\n  },\n  PageContent: function (v) {\n    PageContent = v;\n  }\n}, 6);\nvar RoomAutoComplete;\nmodule.link(\"../../../../components/RoomAutoComplete\", {\n  \"default\": function (v) {\n    RoomAutoComplete = v;\n  }\n}, 7);\nvar UserAutoCompleteMultiple;\nmodule.link(\"../../../../components/UserAutoCompleteMultiple\", {\n  \"default\": function (v) {\n    UserAutoCompleteMultiple = v;\n  }\n}, 8);\nvar UsersInRoleTable;\nmodule.link(\"./UsersInRoleTable\", {\n  \"default\": function (v) {\n    UsersInRoleTable = v;\n  }\n}, 9);\nvar UsersInRolePage = function (_ref) {\n  var role = _ref.role;\n  var t = useTranslation();\n  var dispatchToastMessage = useToastMessageDispatch();\n  var queryClient = useQueryClient();\n  var _useForm = useForm({\n      defaultValues: {\n        users: []\n      }\n    }),\n    control = _useForm.control,\n    handleSubmit = _useForm.handleSubmit,\n    _useForm$formState = _useForm.formState,\n    errors = _useForm$formState.errors,\n    isDirty = _useForm$formState.isDirty,\n    watch = _useForm.watch;\n  var _id = role._id,\n    name = role.name,\n    description = role.description;\n  var router = useRouter();\n  var addUserToRoleEndpoint = useEndpoint('POST', '/v1/roles.addUserToRole');\n  var _watch = watch(),\n    rid = _watch.rid;\n  var roomFieldId = useUniqueId();\n  var usersFieldId = useUniqueId();\n  var handleAdd = useEffectEvent(function () {\n    function _callee2(_ref2) {\n      var users, rid;\n      return _regeneratorRuntime.async(function () {\n        function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              users = _ref2.users, rid = _ref2.rid;\n              _context2.prev = 1;\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(Promise.all(users.map(function () {\n                function _callee(user) {\n                  return _regeneratorRuntime.async(function () {\n                    function _callee$(_context) {\n                      while (1) switch (_context.prev = _context.next) {\n                        case 0:\n                          if (!user) {\n                            _context.next = 3;\n                            break;\n                          }\n                          _context.next = 3;\n                          return _regeneratorRuntime.awrap(addUserToRoleEndpoint({\n                            roleName: _id,\n                            username: user,\n                            roomId: rid\n                          }));\n                        case 3:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                    return _callee$;\n                  }(), null, null, null, Promise);\n                }\n                return _callee;\n              }())));\n            case 4:\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Users_added')\n              });\n              queryClient.invalidateQueries(['getUsersInRole']);\n              _context2.next = 11;\n              break;\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](1);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context2.t0\n              });\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n        return _callee2$;\n      }(), null, null, [[1, 8]], Promise);\n    }\n    return _callee2;\n  }());\n  return /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: t('Users_in_role') + \" \\\"\" + (description || name) + \"\\\"\"\n  }, /*#__PURE__*/React.createElement(ButtonGroup, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: function () {\n      return router.navigate(\"/admin/permissions/edit/\" + _id);\n    }\n  }, t('Back')))), /*#__PURE__*/React.createElement(PageContent, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    w: \"full\",\n    mi: \"neg-x4\"\n  }, /*#__PURE__*/React.createElement(Margins, {\n    inline: 4\n  }, role.scope !== 'Users' && /*#__PURE__*/React.createElement(Field, {\n    mbe: 4\n  }, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: roomFieldId\n  }, t('Choose_a_room')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"rid\",\n    rules: {\n      required: t('Required_field', {\n        field: t('Room')\n      })\n    },\n    render: function (_ref3) {\n      var _ref3$field = _ref3.field,\n        onChange = _ref3$field.onChange,\n        value = _ref3$field.value;\n      return /*#__PURE__*/React.createElement(RoomAutoComplete, {\n        id: roomFieldId,\n        \"aria-required\": \"true\",\n        \"aria-invalid\": Boolean(errors.rid),\n        \"aria-describedby\": roomFieldId + \"-error\",\n        scope: \"admin\",\n        value: value,\n        onChange: onChange,\n        placeholder: t('Room')\n      });\n    }\n  })), errors.rid && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: roomFieldId + \"-error\"\n  }, errors.rid.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: usersFieldId\n  }, t('Add_users')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"users\",\n    rules: {\n      required: t('Required_field', {\n        field: t('Users')\n      })\n    },\n    render: function (_ref4) {\n      var _ref4$field = _ref4.field,\n        onChange = _ref4$field.onChange,\n        value = _ref4$field.value;\n      return /*#__PURE__*/React.createElement(UserAutoCompleteMultiple, {\n        id: usersFieldId,\n        \"aria-required\": \"true\",\n        \"aria-invalid\": Boolean(errors.users),\n        \"aria-describedby\": usersFieldId + \"-error\",\n        value: value,\n        placeholder: t('Users'),\n        onChange: onChange\n      });\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    mis: 8,\n    primary: true,\n    onClick: handleSubmit(handleAdd),\n    disabled: !isDirty\n  }, t('Add'))), errors.users && /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: usersFieldId + \"-error\"\n  }, errors.users.message))))), /*#__PURE__*/React.createElement(Margins, {\n    blockStart: 8\n  }, (role.scope === 'Users' || rid) && /*#__PURE__*/React.createElement(UsersInRoleTable, {\n    rid: rid,\n    roleId: _id,\n    roleName: name,\n    description: description\n  }), role.scope !== 'Users' && !rid && /*#__PURE__*/React.createElement(Callout, {\n    type: \"info\"\n  }, t('Select_a_room')))));\n};\nmodule.exportDefault(UsersInRolePage);","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","Box","Field","FieldLabel","FieldRow","Margins","ButtonGroup","Button","Callout","FieldError","useEffectEvent","useUniqueId","useToastMessageDispatch","useEndpoint","useTranslation","useRouter","useQueryClient","React","useForm","Controller","Page","PageHeader","PageContent","RoomAutoComplete","UserAutoCompleteMultiple","UsersInRoleTable","UsersInRolePage","_ref","role","t","dispatchToastMessage","queryClient","_useForm","defaultValues","users","control","handleSubmit","_useForm$formState","formState","errors","isDirty","watch","_id","name","description","router","addUserToRoleEndpoint","_watch","rid","roomFieldId","usersFieldId","handleAdd","_callee2","_ref2","async","_callee2$","_context2","prev","next","awrap","Promise","all","map","_callee","user","_callee$","_context","roleName","username","roomId","stop","type","message","invalidateQueries","t0","createElement","title","onClick","navigate","display","flexDirection","w","mi","inline","scope","mbe","htmlFor","rules","required","field","render","_ref3","_ref3$field","onChange","value","id","Boolean","placeholder","_ref4","_ref4$field","mis","primary","disabled","blockStart","roleId","exportDefault"],"sources":["client/views/admin/permissions/UsersInRole/UsersInRolePage.tsx"],"sourcesContent":["import type { IRole, IRoom } from '@rocket.chat/core-typings';\nimport { Box, Field, FieldLabel, FieldRow, Margins, ButtonGroup, Button, Callout, FieldError } from '@rocket.chat/fuselage';\nimport { useEffectEvent, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useEndpoint, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { Page, PageHeader, PageContent } from '../../../../components/Page';\nimport RoomAutoComplete from '../../../../components/RoomAutoComplete';\nimport UserAutoCompleteMultiple from '../../../../components/UserAutoCompleteMultiple';\nimport UsersInRoleTable from './UsersInRoleTable';\n\ntype UsersInRolePayload = {\n\trid?: IRoom['_id'];\n\tusers: string[];\n};\n\nconst UsersInRolePage = ({ role }: { role: IRole }): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst queryClient = useQueryClient();\n\n\tconst {\n\t\tcontrol,\n\t\thandleSubmit,\n\t\tformState: { errors, isDirty },\n\t\twatch,\n\t} = useForm<UsersInRolePayload>({ defaultValues: { users: [] } });\n\n\tconst { _id, name, description } = role;\n\tconst router = useRouter();\n\tconst addUserToRoleEndpoint = useEndpoint('POST', '/v1/roles.addUserToRole');\n\n\tconst { rid } = watch();\n\tconst roomFieldId = useUniqueId();\n\tconst usersFieldId = useUniqueId();\n\n\tconst handleAdd = useEffectEvent(async ({ users, rid }: UsersInRolePayload) => {\n\t\ttry {\n\t\t\tawait Promise.all(\n\t\t\t\tusers.map(async (user) => {\n\t\t\t\t\tif (user) {\n\t\t\t\t\t\tawait addUserToRoleEndpoint({ roleName: _id, username: user, roomId: rid });\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Users_added') });\n\t\t\tqueryClient.invalidateQueries(['getUsersInRole']);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={`${t('Users_in_role')} \"${description || name}\"`}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => router.navigate(`/admin/permissions/edit/${_id}`)}>{t('Back')}</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageHeader>\n\t\t\t<PageContent>\n\t\t\t\t<Box display='flex' flexDirection='column' w='full' mi='neg-x4'>\n\t\t\t\t\t<Margins inline={4}>\n\t\t\t\t\t\t{role.scope !== 'Users' && (\n\t\t\t\t\t\t\t<Field mbe={4}>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={roomFieldId}>{t('Choose_a_room')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='rid'\n\t\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Room') }) }}\n\t\t\t\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t\t\t\t\t<RoomAutoComplete\n\t\t\t\t\t\t\t\t\t\t\t\tid={roomFieldId}\n\t\t\t\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.rid)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${roomFieldId}-error`}\n\t\t\t\t\t\t\t\t\t\t\t\tscope='admin'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Room')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t{errors.rid && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${roomFieldId}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.rid.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={usersFieldId}>{t('Add_users')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='users'\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Users') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t\t\t\t<UserAutoCompleteMultiple\n\t\t\t\t\t\t\t\t\t\t\tid={usersFieldId}\n\t\t\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.users)}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${usersFieldId}-error`}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Users')}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button mis={8} primary onClick={handleSubmit(handleAdd)} disabled={!isDirty}>\n\t\t\t\t\t\t\t\t\t{t('Add')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.users && (\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${usersFieldId}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.users.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</Margins>\n\t\t\t\t</Box>\n\t\t\t\t<Margins blockStart={8}>\n\t\t\t\t\t{(role.scope === 'Users' || rid) && <UsersInRoleTable rid={rid} roleId={_id} roleName={name} description={description} />}\n\t\t\t\t\t{role.scope !== 'Users' && !rid && <Callout type='info'>{t('Select_a_room')}</Callout>}\n\t\t\t\t</Margins>\n\t\t\t</PageContent>\n\t\t</Page>\n\t);\n};\n\nexport default UsersInRolePage;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"7e2948f9a93135aa591c05a3a6ebbb9796dc025a"}
