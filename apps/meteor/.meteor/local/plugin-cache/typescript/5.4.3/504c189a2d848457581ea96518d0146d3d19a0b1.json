{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/message/variants/RoomMessage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/components/message/variants/RoomMessage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/message/variants/RoomMessage.tsx","inputSourceMap":{"version":3,"file":"client/components/message/variants/RoomMessage.tsx","sourceRoot":"","sources":["client/components/message/variants/RoomMessage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { Message, MessageLeftContainer, MessageContainer, CheckBox } from '@rocket.chat/fuselage';\nimport { useToggle } from '@rocket.chat/fuselage-hooks';\nimport { MessageAvatar } from '@rocket.chat/ui-avatar';\nimport { useTranslation, useUserId } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { memo } from 'react';\n\nimport type { MessageActionContext } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { useIsMessageHighlight } from '../../../views/room/MessageList/contexts/MessageHighlightContext';\nimport {\n\tuseIsSelecting,\n\tuseToggleSelect,\n\tuseIsSelectedMessage,\n\tuseCountSelected,\n} from '../../../views/room/MessageList/contexts/SelectedMessagesContext';\nimport { useJumpToMessage } from '../../../views/room/MessageList/hooks/useJumpToMessage';\nimport { useUserCard } from '../../../views/room/contexts/UserCardContext';\nimport Emoji from '../../Emoji';\nimport IgnoredContent from '../IgnoredContent';\nimport MessageHeader from '../MessageHeader';\nimport MessageToolbarHolder from '../MessageToolbarHolder';\nimport StatusIndicators from '../StatusIndicators';\nimport RoomMessageContent from './room/RoomMessageContent';\n\ntype RoomMessageProps = {\n\tmessage: IMessage & { ignored?: boolean };\n\tshowUserAvatar: boolean;\n\tsequential: boolean;\n\tunread: boolean;\n\tmention: boolean;\n\tall: boolean;\n\tcontext?: MessageActionContext;\n\tignoredUser?: boolean;\n\tsearchText?: string;\n} & ComponentProps<typeof Message>;\n\nconst RoomMessage = ({\n\tmessage,\n\tshowUserAvatar,\n\tsequential,\n\tall,\n\tmention,\n\tunread,\n\tcontext,\n\tignoredUser,\n\tsearchText,\n\t...props\n}: RoomMessageProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst uid = useUserId();\n\tconst editing = useIsMessageHighlight(message._id);\n\tconst [displayIgnoredMessage, toggleDisplayIgnoredMessage] = useToggle(false);\n\tconst ignored = (ignoredUser || message.ignored) && !displayIgnoredMessage;\n\tconst { openUserCard, triggerProps } = useUserCard();\n\n\tconst selecting = useIsSelecting();\n\tconst toggleSelected = useToggleSelect(message._id);\n\tconst selected = useIsSelectedMessage(message._id);\n\n\tuseCountSelected();\n\n\tconst messageRef = useJumpToMessage(message._id);\n\n\treturn (\n\t\t<Message\n\t\t\tref={messageRef}\n\t\t\tid={message._id}\n\t\t\trole='listitem'\n\t\t\taria-roledescription={sequential ? t('sequential_message') : t('message')}\n\t\t\ttabIndex={0}\n\t\t\taria-labelledby={`${message._id}-displayName ${message._id}-time ${message._id}-content ${message._id}-read-status`}\n\t\t\tonClick={selecting ? toggleSelected : undefined}\n\t\t\tisSelected={selected}\n\t\t\tisEditing={editing}\n\t\t\tisPending={message.temp}\n\t\t\tsequential={sequential}\n\t\t\tdata-qa-editing={editing}\n\t\t\tdata-qa-selected={selected}\n\t\t\tdata-id={message._id}\n\t\t\tdata-mid={message._id}\n\t\t\tdata-unread={unread}\n\t\t\tdata-sequential={sequential}\n\t\t\tdata-own={message.u._id === uid}\n\t\t\tdata-qa-type='message'\n\t\t\taria-busy={message.temp}\n\t\t\t{...props}\n\t\t>\n\t\t\t<MessageLeftContainer>\n\t\t\t\t{!sequential && message.u.username && !selecting && showUserAvatar && (\n\t\t\t\t\t<MessageAvatar\n\t\t\t\t\t\temoji={message.emoji ? <Emoji emojiHandle={message.emoji} fillContainer /> : undefined}\n\t\t\t\t\t\tavatarUrl={message.avatar}\n\t\t\t\t\t\tusername={message.u.username}\n\t\t\t\t\t\tsize='x36'\n\t\t\t\t\t\tonClick={(e) => openUserCard(e, message.u.username)}\n\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t\trole='button'\n\t\t\t\t\t\t{...triggerProps}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{selecting && <CheckBox checked={selected} onChange={toggleSelected} />}\n\t\t\t\t{sequential && <StatusIndicators message={message} />}\n\t\t\t</MessageLeftContainer>\n\t\t\t<MessageContainer>\n\t\t\t\t{!sequential && <MessageHeader message={message} />}\n\t\t\t\t{ignored ? (\n\t\t\t\t\t<IgnoredContent onShowMessageIgnored={toggleDisplayIgnoredMessage} />\n\t\t\t\t) : (\n\t\t\t\t\t<RoomMessageContent message={message} unread={unread} mention={mention} all={all} searchText={searchText} />\n\t\t\t\t)}\n\t\t\t</MessageContainer>\n\t\t\t{!message.private && message?.e2e !== 'pending' && <MessageToolbarHolder message={message} context={context} />}\n\t\t</Message>\n\t);\n};\n\nexport default memo(RoomMessage);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"production","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/message/variants/RoomMessage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/components/message/variants/RoomMessage.tsx","inputSourceMap":{"version":3,"file":"client/components/message/variants/RoomMessage.tsx","sourceRoot":"","sources":["client/components/message/variants/RoomMessage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { Message, MessageLeftContainer, MessageContainer, CheckBox } from '@rocket.chat/fuselage';\nimport { useToggle } from '@rocket.chat/fuselage-hooks';\nimport { MessageAvatar } from '@rocket.chat/ui-avatar';\nimport { useTranslation, useUserId } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { memo } from 'react';\n\nimport type { MessageActionContext } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { useIsMessageHighlight } from '../../../views/room/MessageList/contexts/MessageHighlightContext';\nimport {\n\tuseIsSelecting,\n\tuseToggleSelect,\n\tuseIsSelectedMessage,\n\tuseCountSelected,\n} from '../../../views/room/MessageList/contexts/SelectedMessagesContext';\nimport { useJumpToMessage } from '../../../views/room/MessageList/hooks/useJumpToMessage';\nimport { useUserCard } from '../../../views/room/contexts/UserCardContext';\nimport Emoji from '../../Emoji';\nimport IgnoredContent from '../IgnoredContent';\nimport MessageHeader from '../MessageHeader';\nimport MessageToolbarHolder from '../MessageToolbarHolder';\nimport StatusIndicators from '../StatusIndicators';\nimport RoomMessageContent from './room/RoomMessageContent';\n\ntype RoomMessageProps = {\n\tmessage: IMessage & { ignored?: boolean };\n\tshowUserAvatar: boolean;\n\tsequential: boolean;\n\tunread: boolean;\n\tmention: boolean;\n\tall: boolean;\n\tcontext?: MessageActionContext;\n\tignoredUser?: boolean;\n\tsearchText?: string;\n} & ComponentProps<typeof Message>;\n\nconst RoomMessage = ({\n\tmessage,\n\tshowUserAvatar,\n\tsequential,\n\tall,\n\tmention,\n\tunread,\n\tcontext,\n\tignoredUser,\n\tsearchText,\n\t...props\n}: RoomMessageProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst uid = useUserId();\n\tconst editing = useIsMessageHighlight(message._id);\n\tconst [displayIgnoredMessage, toggleDisplayIgnoredMessage] = useToggle(false);\n\tconst ignored = (ignoredUser || message.ignored) && !displayIgnoredMessage;\n\tconst { openUserCard, triggerProps } = useUserCard();\n\n\tconst selecting = useIsSelecting();\n\tconst toggleSelected = useToggleSelect(message._id);\n\tconst selected = useIsSelectedMessage(message._id);\n\n\tuseCountSelected();\n\n\tconst messageRef = useJumpToMessage(message._id);\n\n\treturn (\n\t\t<Message\n\t\t\tref={messageRef}\n\t\t\tid={message._id}\n\t\t\trole='listitem'\n\t\t\taria-roledescription={sequential ? t('sequential_message') : t('message')}\n\t\t\ttabIndex={0}\n\t\t\taria-labelledby={`${message._id}-displayName ${message._id}-time ${message._id}-content ${message._id}-read-status`}\n\t\t\tonClick={selecting ? toggleSelected : undefined}\n\t\t\tisSelected={selected}\n\t\t\tisEditing={editing}\n\t\t\tisPending={message.temp}\n\t\t\tsequential={sequential}\n\t\t\tdata-qa-editing={editing}\n\t\t\tdata-qa-selected={selected}\n\t\t\tdata-id={message._id}\n\t\t\tdata-mid={message._id}\n\t\t\tdata-unread={unread}\n\t\t\tdata-sequential={sequential}\n\t\t\tdata-own={message.u._id === uid}\n\t\t\tdata-qa-type='message'\n\t\t\taria-busy={message.temp}\n\t\t\t{...props}\n\t\t>\n\t\t\t<MessageLeftContainer>\n\t\t\t\t{!sequential && message.u.username && !selecting && showUserAvatar && (\n\t\t\t\t\t<MessageAvatar\n\t\t\t\t\t\temoji={message.emoji ? <Emoji emojiHandle={message.emoji} fillContainer /> : undefined}\n\t\t\t\t\t\tavatarUrl={message.avatar}\n\t\t\t\t\t\tusername={message.u.username}\n\t\t\t\t\t\tsize='x36'\n\t\t\t\t\t\tonClick={(e) => openUserCard(e, message.u.username)}\n\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t\trole='button'\n\t\t\t\t\t\t{...triggerProps}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{selecting && <CheckBox checked={selected} onChange={toggleSelected} />}\n\t\t\t\t{sequential && <StatusIndicators message={message} />}\n\t\t\t</MessageLeftContainer>\n\t\t\t<MessageContainer>\n\t\t\t\t{!sequential && <MessageHeader message={message} />}\n\t\t\t\t{ignored ? (\n\t\t\t\t\t<IgnoredContent onShowMessageIgnored={toggleDisplayIgnoredMessage} />\n\t\t\t\t) : (\n\t\t\t\t\t<RoomMessageContent message={message} unread={unread} mention={mention} all={all} searchText={searchText} />\n\t\t\t\t)}\n\t\t\t</MessageContainer>\n\t\t\t{!message.private && message?.e2e !== 'pending' && <MessageToolbarHolder message={message} context={context} />}\n\t\t</Message>\n\t);\n};\n\nexport default memo(RoomMessage);\n"]}}},"code":"var _excluded = [\"message\", \"showUserAvatar\", \"sequential\", \"all\", \"mention\", \"unread\", \"context\", \"ignoredUser\", \"searchText\"];\nvar _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nvar _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 2);\nvar Message, MessageLeftContainer, MessageContainer, CheckBox;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Message: function (v) {\n    Message = v;\n  },\n  MessageLeftContainer: function (v) {\n    MessageLeftContainer = v;\n  },\n  MessageContainer: function (v) {\n    MessageContainer = v;\n  },\n  CheckBox: function (v) {\n    CheckBox = v;\n  }\n}, 0);\nvar useToggle;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useToggle: function (v) {\n    useToggle = v;\n  }\n}, 1);\nvar MessageAvatar;\nmodule.link(\"@rocket.chat/ui-avatar\", {\n  MessageAvatar: function (v) {\n    MessageAvatar = v;\n  }\n}, 2);\nvar useTranslation, useUserId;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useUserId: function (v) {\n    useUserId = v;\n  }\n}, 3);\nvar React, memo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  memo: function (v) {\n    memo = v;\n  }\n}, 4);\nvar useIsMessageHighlight;\nmodule.link(\"../../../views/room/MessageList/contexts/MessageHighlightContext\", {\n  useIsMessageHighlight: function (v) {\n    useIsMessageHighlight = v;\n  }\n}, 5);\nvar useIsSelecting, useToggleSelect, useIsSelectedMessage, useCountSelected;\nmodule.link(\"../../../views/room/MessageList/contexts/SelectedMessagesContext\", {\n  useIsSelecting: function (v) {\n    useIsSelecting = v;\n  },\n  useToggleSelect: function (v) {\n    useToggleSelect = v;\n  },\n  useIsSelectedMessage: function (v) {\n    useIsSelectedMessage = v;\n  },\n  useCountSelected: function (v) {\n    useCountSelected = v;\n  }\n}, 6);\nvar useJumpToMessage;\nmodule.link(\"../../../views/room/MessageList/hooks/useJumpToMessage\", {\n  useJumpToMessage: function (v) {\n    useJumpToMessage = v;\n  }\n}, 7);\nvar useUserCard;\nmodule.link(\"../../../views/room/contexts/UserCardContext\", {\n  useUserCard: function (v) {\n    useUserCard = v;\n  }\n}, 8);\nvar Emoji;\nmodule.link(\"../../Emoji\", {\n  \"default\": function (v) {\n    Emoji = v;\n  }\n}, 9);\nvar IgnoredContent;\nmodule.link(\"../IgnoredContent\", {\n  \"default\": function (v) {\n    IgnoredContent = v;\n  }\n}, 10);\nvar MessageHeader;\nmodule.link(\"../MessageHeader\", {\n  \"default\": function (v) {\n    MessageHeader = v;\n  }\n}, 11);\nvar MessageToolbarHolder;\nmodule.link(\"../MessageToolbarHolder\", {\n  \"default\": function (v) {\n    MessageToolbarHolder = v;\n  }\n}, 12);\nvar StatusIndicators;\nmodule.link(\"../StatusIndicators\", {\n  \"default\": function (v) {\n    StatusIndicators = v;\n  }\n}, 13);\nvar RoomMessageContent;\nmodule.link(\"./room/RoomMessageContent\", {\n  \"default\": function (v) {\n    RoomMessageContent = v;\n  }\n}, 14);\nvar RoomMessage = function (_ref) {\n  var message = _ref.message,\n    showUserAvatar = _ref.showUserAvatar,\n    sequential = _ref.sequential,\n    all = _ref.all,\n    mention = _ref.mention,\n    unread = _ref.unread,\n    context = _ref.context,\n    ignoredUser = _ref.ignoredUser,\n    searchText = _ref.searchText,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var t = useTranslation();\n  var uid = useUserId();\n  var editing = useIsMessageHighlight(message._id);\n  var _useToggle = useToggle(false),\n    _useToggle2 = _slicedToArray(_useToggle, 2),\n    displayIgnoredMessage = _useToggle2[0],\n    toggleDisplayIgnoredMessage = _useToggle2[1];\n  var ignored = (ignoredUser || message.ignored) && !displayIgnoredMessage;\n  var _useUserCard = useUserCard(),\n    openUserCard = _useUserCard.openUserCard,\n    triggerProps = _useUserCard.triggerProps;\n  var selecting = useIsSelecting();\n  var toggleSelected = useToggleSelect(message._id);\n  var selected = useIsSelectedMessage(message._id);\n  useCountSelected();\n  var messageRef = useJumpToMessage(message._id);\n  return /*#__PURE__*/React.createElement(Message, _extends({\n    ref: messageRef,\n    id: message._id,\n    role: \"listitem\",\n    \"aria-roledescription\": sequential ? t('sequential_message') : t('message'),\n    tabIndex: 0,\n    \"aria-labelledby\": message._id + \"-displayName \" + message._id + \"-time \" + message._id + \"-content \" + message._id + \"-read-status\",\n    onClick: selecting ? toggleSelected : undefined,\n    isSelected: selected,\n    isEditing: editing,\n    isPending: message.temp,\n    sequential: sequential,\n    \"data-qa-editing\": editing,\n    \"data-qa-selected\": selected,\n    \"data-id\": message._id,\n    \"data-mid\": message._id,\n    \"data-unread\": unread,\n    \"data-sequential\": sequential,\n    \"data-own\": message.u._id === uid,\n    \"data-qa-type\": \"message\",\n    \"aria-busy\": message.temp\n  }, props), /*#__PURE__*/React.createElement(MessageLeftContainer, null, !sequential && message.u.username && !selecting && showUserAvatar && /*#__PURE__*/React.createElement(MessageAvatar, _extends({\n    emoji: message.emoji ? /*#__PURE__*/React.createElement(Emoji, {\n      emojiHandle: message.emoji,\n      fillContainer: true\n    }) : undefined,\n    avatarUrl: message.avatar,\n    username: message.u.username,\n    size: \"x36\",\n    onClick: function (e) {\n      return openUserCard(e, message.u.username);\n    },\n    style: {\n      cursor: 'pointer'\n    },\n    role: \"button\"\n  }, triggerProps)), selecting && /*#__PURE__*/React.createElement(CheckBox, {\n    checked: selected,\n    onChange: toggleSelected\n  }), sequential && /*#__PURE__*/React.createElement(StatusIndicators, {\n    message: message\n  })), /*#__PURE__*/React.createElement(MessageContainer, null, !sequential && /*#__PURE__*/React.createElement(MessageHeader, {\n    message: message\n  }), ignored ? /*#__PURE__*/React.createElement(IgnoredContent, {\n    onShowMessageIgnored: toggleDisplayIgnoredMessage\n  }) : /*#__PURE__*/React.createElement(RoomMessageContent, {\n    message: message,\n    unread: unread,\n    mention: mention,\n    all: all,\n    searchText: searchText\n  })), !message.private && (message === null || message === void 0 ? void 0 : message.e2e) !== 'pending' && /*#__PURE__*/React.createElement(MessageToolbarHolder, {\n    message: message,\n    context: context\n  }));\n};\nmodule.exportDefault( /*#__PURE__*/memo(RoomMessage));","map":{"version":3,"names":["_extends","module","link","default","v","_slicedToArray","_objectWithoutProperties","Message","MessageLeftContainer","MessageContainer","CheckBox","useToggle","MessageAvatar","useTranslation","useUserId","React","memo","useIsMessageHighlight","useIsSelecting","useToggleSelect","useIsSelectedMessage","useCountSelected","useJumpToMessage","useUserCard","Emoji","IgnoredContent","MessageHeader","MessageToolbarHolder","StatusIndicators","RoomMessageContent","RoomMessage","_ref","message","showUserAvatar","sequential","all","mention","unread","context","ignoredUser","searchText","props","_excluded","t","uid","editing","_id","_useToggle","_useToggle2","displayIgnoredMessage","toggleDisplayIgnoredMessage","ignored","_useUserCard","openUserCard","triggerProps","selecting","toggleSelected","selected","messageRef","createElement","ref","id","role","tabIndex","onClick","undefined","isSelected","isEditing","isPending","temp","u","username","emoji","emojiHandle","fillContainer","avatarUrl","avatar","size","e","style","cursor","checked","onChange","onShowMessageIgnored","private","e2e","exportDefault"],"sources":["client/components/message/variants/RoomMessage.tsx"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { Message, MessageLeftContainer, MessageContainer, CheckBox } from '@rocket.chat/fuselage';\nimport { useToggle } from '@rocket.chat/fuselage-hooks';\nimport { MessageAvatar } from '@rocket.chat/ui-avatar';\nimport { useTranslation, useUserId } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { memo } from 'react';\n\nimport type { MessageActionContext } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { useIsMessageHighlight } from '../../../views/room/MessageList/contexts/MessageHighlightContext';\nimport {\n\tuseIsSelecting,\n\tuseToggleSelect,\n\tuseIsSelectedMessage,\n\tuseCountSelected,\n} from '../../../views/room/MessageList/contexts/SelectedMessagesContext';\nimport { useJumpToMessage } from '../../../views/room/MessageList/hooks/useJumpToMessage';\nimport { useUserCard } from '../../../views/room/contexts/UserCardContext';\nimport Emoji from '../../Emoji';\nimport IgnoredContent from '../IgnoredContent';\nimport MessageHeader from '../MessageHeader';\nimport MessageToolbarHolder from '../MessageToolbarHolder';\nimport StatusIndicators from '../StatusIndicators';\nimport RoomMessageContent from './room/RoomMessageContent';\n\ntype RoomMessageProps = {\n\tmessage: IMessage & { ignored?: boolean };\n\tshowUserAvatar: boolean;\n\tsequential: boolean;\n\tunread: boolean;\n\tmention: boolean;\n\tall: boolean;\n\tcontext?: MessageActionContext;\n\tignoredUser?: boolean;\n\tsearchText?: string;\n} & ComponentProps<typeof Message>;\n\nconst RoomMessage = ({\n\tmessage,\n\tshowUserAvatar,\n\tsequential,\n\tall,\n\tmention,\n\tunread,\n\tcontext,\n\tignoredUser,\n\tsearchText,\n\t...props\n}: RoomMessageProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst uid = useUserId();\n\tconst editing = useIsMessageHighlight(message._id);\n\tconst [displayIgnoredMessage, toggleDisplayIgnoredMessage] = useToggle(false);\n\tconst ignored = (ignoredUser || message.ignored) && !displayIgnoredMessage;\n\tconst { openUserCard, triggerProps } = useUserCard();\n\n\tconst selecting = useIsSelecting();\n\tconst toggleSelected = useToggleSelect(message._id);\n\tconst selected = useIsSelectedMessage(message._id);\n\n\tuseCountSelected();\n\n\tconst messageRef = useJumpToMessage(message._id);\n\n\treturn (\n\t\t<Message\n\t\t\tref={messageRef}\n\t\t\tid={message._id}\n\t\t\trole='listitem'\n\t\t\taria-roledescription={sequential ? t('sequential_message') : t('message')}\n\t\t\ttabIndex={0}\n\t\t\taria-labelledby={`${message._id}-displayName ${message._id}-time ${message._id}-content ${message._id}-read-status`}\n\t\t\tonClick={selecting ? toggleSelected : undefined}\n\t\t\tisSelected={selected}\n\t\t\tisEditing={editing}\n\t\t\tisPending={message.temp}\n\t\t\tsequential={sequential}\n\t\t\tdata-qa-editing={editing}\n\t\t\tdata-qa-selected={selected}\n\t\t\tdata-id={message._id}\n\t\t\tdata-mid={message._id}\n\t\t\tdata-unread={unread}\n\t\t\tdata-sequential={sequential}\n\t\t\tdata-own={message.u._id === uid}\n\t\t\tdata-qa-type='message'\n\t\t\taria-busy={message.temp}\n\t\t\t{...props}\n\t\t>\n\t\t\t<MessageLeftContainer>\n\t\t\t\t{!sequential && message.u.username && !selecting && showUserAvatar && (\n\t\t\t\t\t<MessageAvatar\n\t\t\t\t\t\temoji={message.emoji ? <Emoji emojiHandle={message.emoji} fillContainer /> : undefined}\n\t\t\t\t\t\tavatarUrl={message.avatar}\n\t\t\t\t\t\tusername={message.u.username}\n\t\t\t\t\t\tsize='x36'\n\t\t\t\t\t\tonClick={(e) => openUserCard(e, message.u.username)}\n\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t\trole='button'\n\t\t\t\t\t\t{...triggerProps}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{selecting && <CheckBox checked={selected} onChange={toggleSelected} />}\n\t\t\t\t{sequential && <StatusIndicators message={message} />}\n\t\t\t</MessageLeftContainer>\n\t\t\t<MessageContainer>\n\t\t\t\t{!sequential && <MessageHeader message={message} />}\n\t\t\t\t{ignored ? (\n\t\t\t\t\t<IgnoredContent onShowMessageIgnored={toggleDisplayIgnoredMessage} />\n\t\t\t\t) : (\n\t\t\t\t\t<RoomMessageContent message={message} unread={unread} mention={mention} all={all} searchText={searchText} />\n\t\t\t\t)}\n\t\t\t</MessageContainer>\n\t\t\t{!message.private && message?.e2e !== 'pending' && <MessageToolbarHolder message={message} context={context} />}\n\t\t</Message>\n\t);\n};\n\nexport default memo(RoomMessage);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"504c189a2d848457581ea96518d0146d3d19a0b1"}
