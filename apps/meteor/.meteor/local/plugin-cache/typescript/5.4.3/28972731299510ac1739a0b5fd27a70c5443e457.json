{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/home/cards/CustomContentCard.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/home/cards/CustomContentCard.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/home/cards/CustomContentCard.tsx","inputSourceMap":{"version":3,"file":"client/views/home/cards/CustomContentCard.tsx","sourceRoot":"","sources":["client/views/home/cards/CustomContentCard.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, Button, Card, CardBody, CardControls, CardHeader, Icon, Tag } from '@rocket.chat/fuselage';\nimport { useRole, useSettingSetValue, useSetting, useToastMessageDispatch, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React from 'react';\n\nimport { useIsEnterprise } from '../../../hooks/useIsEnterprise';\nimport CustomHomepageContent from '../CustomHomePageContent';\n\nconst CustomContentCard = (props: Omit<ComponentProps<typeof Card>, 'type'>): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst router = useRouter();\n\n\tconst { data } = useIsEnterprise();\n\tconst isAdmin = useRole('admin');\n\tconst customContentBody = useSetting<string>('Layout_Home_Body');\n\tconst isCustomContentBodyEmpty = customContentBody === '';\n\tconst isCustomContentVisible = useSetting<boolean>('Layout_Home_Custom_Block_Visible');\n\tconst isCustomContentOnly = useSetting<boolean>('Layout_Custom_Body_Only');\n\n\tconst setCustomContentVisible = useSettingSetValue('Layout_Home_Custom_Block_Visible');\n\tconst setCustomContentOnly = useSettingSetValue('Layout_Custom_Body_Only');\n\n\tconst handleChangeCustomContentVisibility = async () => {\n\t\ttry {\n\t\t\tawait setCustomContentVisible(!isCustomContentVisible);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst handleOnlyShowCustomContent = async () => {\n\t\ttry {\n\t\t\tawait setCustomContentOnly(!isCustomContentOnly);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst isEnterprise = data?.isEnterprise;\n\tconst willNotShowCustomContent = isCustomContentBodyEmpty || !isCustomContentVisible;\n\n\tconst userVisibilityTooltipText = isCustomContentVisible ? t('Now_Its_Visible_For_Everyone') : t('Now_Its_Visible_Only_For_Admins');\n\n\tlet customContentOnlyTooltipText = t('It_Will_Hide_All_Other_Content_Blocks_In_The_Homepage');\n\tif (willNotShowCustomContent) {\n\t\tcustomContentOnlyTooltipText = t('Action_Available_After_Custom_Content_Added_And_Visible');\n\t} else if (isCustomContentOnly) {\n\t\tcustomContentOnlyTooltipText = t('It_Will_Show_All_Other_Content_Blocks_In_The_Homepage');\n\t}\n\n\tif (isAdmin) {\n\t\treturn (\n\t\t\t<Card data-qa-id='homepage-custom-card' {...props}>\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<Tag>\n\t\t\t\t\t\t<Icon mie={4} name={willNotShowCustomContent ? 'eye-off' : 'eye'} size='x12' />\n\t\t\t\t\t\t{willNotShowCustomContent ? t('Not_Visible_To_Workspace') : t('Visible_To_Workspace')}\n\t\t\t\t\t</Tag>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardBody>{isCustomContentBodyEmpty ? t('Homepage_Custom_Content_Default_Message') : <CustomHomepageContent />}</CardBody>\n\t\t\t\t<CardControls>\n\t\t\t\t\t<Button medium onClick={() => router.navigate('/admin/settings/Layout')} title={t('Layout_Home_Page_Content')}>\n\t\t\t\t\t\t{t('Customize_Content')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={willNotShowCustomContent ? 'eye' : 'eye-off'}\n\t\t\t\t\t\tdisabled={isCustomContentBodyEmpty || (isCustomContentVisible && isCustomContentOnly)}\n\t\t\t\t\t\ttitle={isCustomContentBodyEmpty ? t('Action_Available_After_Custom_Content_Added') : userVisibilityTooltipText}\n\t\t\t\t\t\tonClick={handleChangeCustomContentVisibility}\n\t\t\t\t\t\tmedium\n\t\t\t\t\t>\n\t\t\t\t\t\t{willNotShowCustomContent ? t('Show_To_Workspace') : t('Hide_On_Workspace')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon='lightning'\n\t\t\t\t\t\tdisabled={willNotShowCustomContent || !isEnterprise}\n\t\t\t\t\t\ttitle={!isEnterprise ? t('Premium_only') : customContentOnlyTooltipText}\n\t\t\t\t\t\tonClick={handleOnlyShowCustomContent}\n\t\t\t\t\t\tmedium\n\t\t\t\t\t>\n\t\t\t\t\t\t{!isCustomContentOnly ? t('Show_Only_This_Content') : t('Show_default_content')}\n\t\t\t\t\t</Button>\n\t\t\t\t</CardControls>\n\t\t\t</Card>\n\t\t);\n\t}\n\n\tif (!willNotShowCustomContent && !isCustomContentOnly) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<Box mb={8}>\n\t\t\t\t\t<CustomHomepageContent role='status' aria-label={customContentBody} />\n\t\t\t\t</Box>\n\t\t\t</Card>\n\t\t);\n\t}\n\treturn <CustomHomepageContent role='status' aria-label={customContentBody} />;\n};\n\nexport default CustomContentCard;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/home/cards/CustomContentCard.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/home/cards/CustomContentCard.tsx","inputSourceMap":{"version":3,"file":"client/views/home/cards/CustomContentCard.tsx","sourceRoot":"","sources":["client/views/home/cards/CustomContentCard.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, Button, Card, CardBody, CardControls, CardHeader, Icon, Tag } from '@rocket.chat/fuselage';\nimport { useRole, useSettingSetValue, useSetting, useToastMessageDispatch, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React from 'react';\n\nimport { useIsEnterprise } from '../../../hooks/useIsEnterprise';\nimport CustomHomepageContent from '../CustomHomePageContent';\n\nconst CustomContentCard = (props: Omit<ComponentProps<typeof Card>, 'type'>): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst router = useRouter();\n\n\tconst { data } = useIsEnterprise();\n\tconst isAdmin = useRole('admin');\n\tconst customContentBody = useSetting<string>('Layout_Home_Body');\n\tconst isCustomContentBodyEmpty = customContentBody === '';\n\tconst isCustomContentVisible = useSetting<boolean>('Layout_Home_Custom_Block_Visible');\n\tconst isCustomContentOnly = useSetting<boolean>('Layout_Custom_Body_Only');\n\n\tconst setCustomContentVisible = useSettingSetValue('Layout_Home_Custom_Block_Visible');\n\tconst setCustomContentOnly = useSettingSetValue('Layout_Custom_Body_Only');\n\n\tconst handleChangeCustomContentVisibility = async () => {\n\t\ttry {\n\t\t\tawait setCustomContentVisible(!isCustomContentVisible);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst handleOnlyShowCustomContent = async () => {\n\t\ttry {\n\t\t\tawait setCustomContentOnly(!isCustomContentOnly);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst isEnterprise = data?.isEnterprise;\n\tconst willNotShowCustomContent = isCustomContentBodyEmpty || !isCustomContentVisible;\n\n\tconst userVisibilityTooltipText = isCustomContentVisible ? t('Now_Its_Visible_For_Everyone') : t('Now_Its_Visible_Only_For_Admins');\n\n\tlet customContentOnlyTooltipText = t('It_Will_Hide_All_Other_Content_Blocks_In_The_Homepage');\n\tif (willNotShowCustomContent) {\n\t\tcustomContentOnlyTooltipText = t('Action_Available_After_Custom_Content_Added_And_Visible');\n\t} else if (isCustomContentOnly) {\n\t\tcustomContentOnlyTooltipText = t('It_Will_Show_All_Other_Content_Blocks_In_The_Homepage');\n\t}\n\n\tif (isAdmin) {\n\t\treturn (\n\t\t\t<Card data-qa-id='homepage-custom-card' {...props}>\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<Tag>\n\t\t\t\t\t\t<Icon mie={4} name={willNotShowCustomContent ? 'eye-off' : 'eye'} size='x12' />\n\t\t\t\t\t\t{willNotShowCustomContent ? t('Not_Visible_To_Workspace') : t('Visible_To_Workspace')}\n\t\t\t\t\t</Tag>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardBody>{isCustomContentBodyEmpty ? t('Homepage_Custom_Content_Default_Message') : <CustomHomepageContent />}</CardBody>\n\t\t\t\t<CardControls>\n\t\t\t\t\t<Button medium onClick={() => router.navigate('/admin/settings/Layout')} title={t('Layout_Home_Page_Content')}>\n\t\t\t\t\t\t{t('Customize_Content')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={willNotShowCustomContent ? 'eye' : 'eye-off'}\n\t\t\t\t\t\tdisabled={isCustomContentBodyEmpty || (isCustomContentVisible && isCustomContentOnly)}\n\t\t\t\t\t\ttitle={isCustomContentBodyEmpty ? t('Action_Available_After_Custom_Content_Added') : userVisibilityTooltipText}\n\t\t\t\t\t\tonClick={handleChangeCustomContentVisibility}\n\t\t\t\t\t\tmedium\n\t\t\t\t\t>\n\t\t\t\t\t\t{willNotShowCustomContent ? t('Show_To_Workspace') : t('Hide_On_Workspace')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon='lightning'\n\t\t\t\t\t\tdisabled={willNotShowCustomContent || !isEnterprise}\n\t\t\t\t\t\ttitle={!isEnterprise ? t('Premium_only') : customContentOnlyTooltipText}\n\t\t\t\t\t\tonClick={handleOnlyShowCustomContent}\n\t\t\t\t\t\tmedium\n\t\t\t\t\t>\n\t\t\t\t\t\t{!isCustomContentOnly ? t('Show_Only_This_Content') : t('Show_default_content')}\n\t\t\t\t\t</Button>\n\t\t\t\t</CardControls>\n\t\t\t</Card>\n\t\t);\n\t}\n\n\tif (!willNotShowCustomContent && !isCustomContentOnly) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<Box mb={8}>\n\t\t\t\t\t<CustomHomepageContent role='status' aria-label={customContentBody} />\n\t\t\t\t</Box>\n\t\t\t</Card>\n\t\t);\n\t}\n\treturn <CustomHomepageContent role='status' aria-label={customContentBody} />;\n};\n\nexport default CustomContentCard;\n"]}}},"code":"var _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\nvar _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 1);\nvar Box, Button, Card, CardBody, CardControls, CardHeader, Icon, Tag;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  Card: function (v) {\n    Card = v;\n  },\n  CardBody: function (v) {\n    CardBody = v;\n  },\n  CardControls: function (v) {\n    CardControls = v;\n  },\n  CardHeader: function (v) {\n    CardHeader = v;\n  },\n  Icon: function (v) {\n    Icon = v;\n  },\n  Tag: function (v) {\n    Tag = v;\n  }\n}, 0);\nvar useRole, useSettingSetValue, useSetting, useToastMessageDispatch, useTranslation, useRouter;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useRole: function (v) {\n    useRole = v;\n  },\n  useSettingSetValue: function (v) {\n    useSettingSetValue = v;\n  },\n  useSetting: function (v) {\n    useSetting = v;\n  },\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useRouter: function (v) {\n    useRouter = v;\n  }\n}, 1);\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 2);\nvar useIsEnterprise;\nmodule.link(\"../../../hooks/useIsEnterprise\", {\n  useIsEnterprise: function (v) {\n    useIsEnterprise = v;\n  }\n}, 3);\nvar CustomHomepageContent;\nmodule.link(\"../CustomHomePageContent\", {\n  \"default\": function (v) {\n    CustomHomepageContent = v;\n  }\n}, 4);\nvar CustomContentCard = function (props) {\n  var t = useTranslation();\n  var dispatchToastMessage = useToastMessageDispatch();\n  var router = useRouter();\n  var _useIsEnterprise = useIsEnterprise(),\n    data = _useIsEnterprise.data;\n  var isAdmin = useRole('admin');\n  var customContentBody = useSetting('Layout_Home_Body');\n  var isCustomContentBodyEmpty = customContentBody === '';\n  var isCustomContentVisible = useSetting('Layout_Home_Custom_Block_Visible');\n  var isCustomContentOnly = useSetting('Layout_Custom_Body_Only');\n  var setCustomContentVisible = useSettingSetValue('Layout_Home_Custom_Block_Visible');\n  var setCustomContentOnly = useSettingSetValue('Layout_Custom_Body_Only');\n  var handleChangeCustomContentVisibility = function () {\n    function _callee() {\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(setCustomContentVisible(!isCustomContentVisible));\n            case 3:\n              _context.next = 8;\n              break;\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](0);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context.t0\n              });\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, [[0, 5]], Promise);\n    }\n    return _callee;\n  }();\n  var handleOnlyShowCustomContent = function () {\n    function _callee2() {\n      return _regeneratorRuntime.async(function () {\n        function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(setCustomContentOnly(!isCustomContentOnly));\n            case 3:\n              _context2.next = 8;\n              break;\n            case 5:\n              _context2.prev = 5;\n              _context2.t0 = _context2[\"catch\"](0);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context2.t0\n              });\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n        return _callee2$;\n      }(), null, null, [[0, 5]], Promise);\n    }\n    return _callee2;\n  }();\n  var isEnterprise = data === null || data === void 0 ? void 0 : data.isEnterprise;\n  var willNotShowCustomContent = isCustomContentBodyEmpty || !isCustomContentVisible;\n  var userVisibilityTooltipText = isCustomContentVisible ? t('Now_Its_Visible_For_Everyone') : t('Now_Its_Visible_Only_For_Admins');\n  var customContentOnlyTooltipText = t('It_Will_Hide_All_Other_Content_Blocks_In_The_Homepage');\n  if (willNotShowCustomContent) {\n    customContentOnlyTooltipText = t('Action_Available_After_Custom_Content_Added_And_Visible');\n  } else if (isCustomContentOnly) {\n    customContentOnlyTooltipText = t('It_Will_Show_All_Other_Content_Blocks_In_The_Homepage');\n  }\n  if (isAdmin) {\n    return /*#__PURE__*/React.createElement(Card, _extends({\n      \"data-qa-id\": \"homepage-custom-card\"\n    }, props), /*#__PURE__*/React.createElement(CardHeader, null, /*#__PURE__*/React.createElement(Tag, null, /*#__PURE__*/React.createElement(Icon, {\n      mie: 4,\n      name: willNotShowCustomContent ? 'eye-off' : 'eye',\n      size: \"x12\"\n    }), willNotShowCustomContent ? t('Not_Visible_To_Workspace') : t('Visible_To_Workspace'))), /*#__PURE__*/React.createElement(CardBody, null, isCustomContentBodyEmpty ? t('Homepage_Custom_Content_Default_Message') : /*#__PURE__*/React.createElement(CustomHomepageContent, null)), /*#__PURE__*/React.createElement(CardControls, null, /*#__PURE__*/React.createElement(Button, {\n      medium: true,\n      onClick: function () {\n        return router.navigate('/admin/settings/Layout');\n      },\n      title: t('Layout_Home_Page_Content')\n    }, t('Customize_Content')), /*#__PURE__*/React.createElement(Button, {\n      icon: willNotShowCustomContent ? 'eye' : 'eye-off',\n      disabled: isCustomContentBodyEmpty || isCustomContentVisible && isCustomContentOnly,\n      title: isCustomContentBodyEmpty ? t('Action_Available_After_Custom_Content_Added') : userVisibilityTooltipText,\n      onClick: handleChangeCustomContentVisibility,\n      medium: true\n    }, willNotShowCustomContent ? t('Show_To_Workspace') : t('Hide_On_Workspace')), /*#__PURE__*/React.createElement(Button, {\n      icon: \"lightning\",\n      disabled: willNotShowCustomContent || !isEnterprise,\n      title: !isEnterprise ? t('Premium_only') : customContentOnlyTooltipText,\n      onClick: handleOnlyShowCustomContent,\n      medium: true\n    }, !isCustomContentOnly ? t('Show_Only_This_Content') : t('Show_default_content'))));\n  }\n  if (!willNotShowCustomContent && !isCustomContentOnly) {\n    return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(Box, {\n      mb: 8\n    }, /*#__PURE__*/React.createElement(CustomHomepageContent, {\n      role: \"status\",\n      \"aria-label\": customContentBody\n    })));\n  }\n  return /*#__PURE__*/React.createElement(CustomHomepageContent, {\n    role: \"status\",\n    \"aria-label\": customContentBody\n  });\n};\nmodule.exportDefault(CustomContentCard);","map":{"version":3,"names":["_extends","module","link","default","v","_regeneratorRuntime","Box","Button","Card","CardBody","CardControls","CardHeader","Icon","Tag","useRole","useSettingSetValue","useSetting","useToastMessageDispatch","useTranslation","useRouter","React","useIsEnterprise","CustomHomepageContent","CustomContentCard","props","t","dispatchToastMessage","router","_useIsEnterprise","data","isAdmin","customContentBody","isCustomContentBodyEmpty","isCustomContentVisible","isCustomContentOnly","setCustomContentVisible","setCustomContentOnly","handleChangeCustomContentVisibility","_callee","async","_callee$","_context","prev","next","awrap","t0","type","message","stop","Promise","handleOnlyShowCustomContent","_callee2","_callee2$","_context2","isEnterprise","willNotShowCustomContent","userVisibilityTooltipText","customContentOnlyTooltipText","createElement","mie","name","size","medium","onClick","navigate","title","icon","disabled","mb","role","exportDefault"],"sources":["client/views/home/cards/CustomContentCard.tsx"],"sourcesContent":["import { Box, Button, Card, CardBody, CardControls, CardHeader, Icon, Tag } from '@rocket.chat/fuselage';\nimport { useRole, useSettingSetValue, useSetting, useToastMessageDispatch, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React from 'react';\n\nimport { useIsEnterprise } from '../../../hooks/useIsEnterprise';\nimport CustomHomepageContent from '../CustomHomePageContent';\n\nconst CustomContentCard = (props: Omit<ComponentProps<typeof Card>, 'type'>): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst router = useRouter();\n\n\tconst { data } = useIsEnterprise();\n\tconst isAdmin = useRole('admin');\n\tconst customContentBody = useSetting<string>('Layout_Home_Body');\n\tconst isCustomContentBodyEmpty = customContentBody === '';\n\tconst isCustomContentVisible = useSetting<boolean>('Layout_Home_Custom_Block_Visible');\n\tconst isCustomContentOnly = useSetting<boolean>('Layout_Custom_Body_Only');\n\n\tconst setCustomContentVisible = useSettingSetValue('Layout_Home_Custom_Block_Visible');\n\tconst setCustomContentOnly = useSettingSetValue('Layout_Custom_Body_Only');\n\n\tconst handleChangeCustomContentVisibility = async () => {\n\t\ttry {\n\t\t\tawait setCustomContentVisible(!isCustomContentVisible);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst handleOnlyShowCustomContent = async () => {\n\t\ttry {\n\t\t\tawait setCustomContentOnly(!isCustomContentOnly);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst isEnterprise = data?.isEnterprise;\n\tconst willNotShowCustomContent = isCustomContentBodyEmpty || !isCustomContentVisible;\n\n\tconst userVisibilityTooltipText = isCustomContentVisible ? t('Now_Its_Visible_For_Everyone') : t('Now_Its_Visible_Only_For_Admins');\n\n\tlet customContentOnlyTooltipText = t('It_Will_Hide_All_Other_Content_Blocks_In_The_Homepage');\n\tif (willNotShowCustomContent) {\n\t\tcustomContentOnlyTooltipText = t('Action_Available_After_Custom_Content_Added_And_Visible');\n\t} else if (isCustomContentOnly) {\n\t\tcustomContentOnlyTooltipText = t('It_Will_Show_All_Other_Content_Blocks_In_The_Homepage');\n\t}\n\n\tif (isAdmin) {\n\t\treturn (\n\t\t\t<Card data-qa-id='homepage-custom-card' {...props}>\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<Tag>\n\t\t\t\t\t\t<Icon mie={4} name={willNotShowCustomContent ? 'eye-off' : 'eye'} size='x12' />\n\t\t\t\t\t\t{willNotShowCustomContent ? t('Not_Visible_To_Workspace') : t('Visible_To_Workspace')}\n\t\t\t\t\t</Tag>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardBody>{isCustomContentBodyEmpty ? t('Homepage_Custom_Content_Default_Message') : <CustomHomepageContent />}</CardBody>\n\t\t\t\t<CardControls>\n\t\t\t\t\t<Button medium onClick={() => router.navigate('/admin/settings/Layout')} title={t('Layout_Home_Page_Content')}>\n\t\t\t\t\t\t{t('Customize_Content')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={willNotShowCustomContent ? 'eye' : 'eye-off'}\n\t\t\t\t\t\tdisabled={isCustomContentBodyEmpty || (isCustomContentVisible && isCustomContentOnly)}\n\t\t\t\t\t\ttitle={isCustomContentBodyEmpty ? t('Action_Available_After_Custom_Content_Added') : userVisibilityTooltipText}\n\t\t\t\t\t\tonClick={handleChangeCustomContentVisibility}\n\t\t\t\t\t\tmedium\n\t\t\t\t\t>\n\t\t\t\t\t\t{willNotShowCustomContent ? t('Show_To_Workspace') : t('Hide_On_Workspace')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon='lightning'\n\t\t\t\t\t\tdisabled={willNotShowCustomContent || !isEnterprise}\n\t\t\t\t\t\ttitle={!isEnterprise ? t('Premium_only') : customContentOnlyTooltipText}\n\t\t\t\t\t\tonClick={handleOnlyShowCustomContent}\n\t\t\t\t\t\tmedium\n\t\t\t\t\t>\n\t\t\t\t\t\t{!isCustomContentOnly ? t('Show_Only_This_Content') : t('Show_default_content')}\n\t\t\t\t\t</Button>\n\t\t\t\t</CardControls>\n\t\t\t</Card>\n\t\t);\n\t}\n\n\tif (!willNotShowCustomContent && !isCustomContentOnly) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<Box mb={8}>\n\t\t\t\t\t<CustomHomepageContent role='status' aria-label={customContentBody} />\n\t\t\t\t</Box>\n\t\t\t</Card>\n\t\t);\n\t}\n\treturn <CustomHomepageContent role='status' aria-label={customContentBody} />;\n};\n\nexport default CustomContentCard;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"28972731299510ac1739a0b5fd27a70c5443e457"}
