{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/engagementDashboard/users/ContentForDays.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/engagementDashboard/users/ContentForDays.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/engagementDashboard/users/ContentForDays.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/engagementDashboard/users/ContentForDays.tsx","sourceRoot":"","sources":["client/views/admin/engagementDashboard/users/ContentForDays.tsx"],"names":[],"mappings":"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","sourcesContent":["import { ResponsiveBar } from '@nivo/bar';\nimport { Box, Flex, IconButton, Margins, Skeleton } from '@rocket.chat/fuselage';\nimport colors from '@rocket.chat/fuselage-tokens/colors';\nimport moment from 'moment';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\n\nimport { useWeeklyChatActivity } from './useWeeklyChatActivity';\n\ntype ContentForDaysProps = {\n\tdisplacement: number;\n\tonPreviousDateClick: () => void;\n\tonNextDateClick: () => void;\n\ttimezone: 'utc' | 'local';\n};\n\nconst ContentForDays = ({ displacement, onPreviousDateClick, onNextDateClick, timezone }: ContentForDaysProps): ReactElement => {\n\tconst utc = timezone === 'utc';\n\tconst { data } = useWeeklyChatActivity({ displacement, utc });\n\n\tconst formattedCurrentDate = useMemo(() => {\n\t\tif (!data) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst endOfWeek = moment(data.day);\n\t\tconst startOfWeek = moment(data.day).subtract(6, 'days');\n\t\treturn `${startOfWeek.format('L')} - ${endOfWeek.format('L')}`;\n\t}, [data]);\n\n\tconst values = useMemo(\n\t\t() =>\n\t\t\tdata?.month\n\t\t\t\t?.map(({ users, day, month, year }) => ({\n\t\t\t\t\tusers,\n\t\t\t\t\tday: moment({ year, month: month - 1, day }),\n\t\t\t\t}))\n\t\t\t\t?.sort(({ day: a }, { day: b }) => a.diff(b))\n\t\t\t\t?.map(({ users, day }) => ({ users, day: String(day.valueOf()) })) ?? [],\n\t\t[data],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<Flex.Container alignItems='center' justifyContent='center'>\n\t\t\t\t<Box>\n\t\t\t\t\t<IconButton icon='chevron-down' verticalAlign='middle' small onClick={onPreviousDateClick} />\n\t\t\t\t\t<Flex.Item basis='50%'>\n\t\t\t\t\t\t<Margins inline={8}>\n\t\t\t\t\t\t\t<Box is='span' textAlign='center'>\n\t\t\t\t\t\t\t\t{formattedCurrentDate}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t<IconButton icon='chevron-down' small disabled={displacement === 0} onClick={onNextDateClick} />\n\t\t\t\t</Box>\n\t\t\t</Flex.Container>\n\t\t\t<Flex.Container>\n\t\t\t\t{data ? (\n\t\t\t\t\t<Box height={196}>\n\t\t\t\t\t\t<Flex.Item align='stretch' grow={1} shrink={0}>\n\t\t\t\t\t\t\t<Box position='relative'>\n\t\t\t\t\t\t\t\t<Box position='absolute' width='full' height='full'>\n\t\t\t\t\t\t\t\t\t<ResponsiveBar\n\t\t\t\t\t\t\t\t\t\tdata={values}\n\t\t\t\t\t\t\t\t\t\tindexBy='day'\n\t\t\t\t\t\t\t\t\t\tkeys={['users']}\n\t\t\t\t\t\t\t\t\t\tgroupMode='grouped'\n\t\t\t\t\t\t\t\t\t\tpadding={0.25}\n\t\t\t\t\t\t\t\t\t\tmargin={{\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\tbottom: 20,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tcolors={[\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\tcolors.p500,\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tenableLabel={false}\n\t\t\t\t\t\t\t\t\t\tenableGridY={false}\n\t\t\t\t\t\t\t\t\t\taxisTop={null}\n\t\t\t\t\t\t\t\t\t\taxisRight={null}\n\t\t\t\t\t\t\t\t\t\taxisBottom={{\n\t\t\t\t\t\t\t\t\t\t\ttickSize: 0,\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\ttickPadding: 4,\n\t\t\t\t\t\t\t\t\t\t\ttickRotation: 0,\n\t\t\t\t\t\t\t\t\t\t\ttickValues: 'every 3 days',\n\t\t\t\t\t\t\t\t\t\t\tformat: (timestamp): string => moment(parseInt(timestamp, 10)).format('L'),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\taxisLeft={null}\n\t\t\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\t\t\tmotionConfig='stiff'\n\t\t\t\t\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: colors.n600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '10px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.2px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\t<Skeleton variant='rect' height={196} />\n\t\t\t\t)}\n\t\t\t</Flex.Container>\n\t\t</>\n\t);\n};\n\nexport default ContentForDays;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/engagementDashboard/users/ContentForDays.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/engagementDashboard/users/ContentForDays.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/engagementDashboard/users/ContentForDays.tsx","sourceRoot":"","sources":["client/views/admin/engagementDashboard/users/ContentForDays.tsx"],"names":[],"mappings":"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","sourcesContent":["import { ResponsiveBar } from '@nivo/bar';\nimport { Box, Flex, IconButton, Margins, Skeleton } from '@rocket.chat/fuselage';\nimport colors from '@rocket.chat/fuselage-tokens/colors';\nimport moment from 'moment';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\n\nimport { useWeeklyChatActivity } from './useWeeklyChatActivity';\n\ntype ContentForDaysProps = {\n\tdisplacement: number;\n\tonPreviousDateClick: () => void;\n\tonNextDateClick: () => void;\n\ttimezone: 'utc' | 'local';\n};\n\nconst ContentForDays = ({ displacement, onPreviousDateClick, onNextDateClick, timezone }: ContentForDaysProps): ReactElement => {\n\tconst utc = timezone === 'utc';\n\tconst { data } = useWeeklyChatActivity({ displacement, utc });\n\n\tconst formattedCurrentDate = useMemo(() => {\n\t\tif (!data) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst endOfWeek = moment(data.day);\n\t\tconst startOfWeek = moment(data.day).subtract(6, 'days');\n\t\treturn `${startOfWeek.format('L')} - ${endOfWeek.format('L')}`;\n\t}, [data]);\n\n\tconst values = useMemo(\n\t\t() =>\n\t\t\tdata?.month\n\t\t\t\t?.map(({ users, day, month, year }) => ({\n\t\t\t\t\tusers,\n\t\t\t\t\tday: moment({ year, month: month - 1, day }),\n\t\t\t\t}))\n\t\t\t\t?.sort(({ day: a }, { day: b }) => a.diff(b))\n\t\t\t\t?.map(({ users, day }) => ({ users, day: String(day.valueOf()) })) ?? [],\n\t\t[data],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<Flex.Container alignItems='center' justifyContent='center'>\n\t\t\t\t<Box>\n\t\t\t\t\t<IconButton icon='chevron-down' verticalAlign='middle' small onClick={onPreviousDateClick} />\n\t\t\t\t\t<Flex.Item basis='50%'>\n\t\t\t\t\t\t<Margins inline={8}>\n\t\t\t\t\t\t\t<Box is='span' textAlign='center'>\n\t\t\t\t\t\t\t\t{formattedCurrentDate}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t<IconButton icon='chevron-down' small disabled={displacement === 0} onClick={onNextDateClick} />\n\t\t\t\t</Box>\n\t\t\t</Flex.Container>\n\t\t\t<Flex.Container>\n\t\t\t\t{data ? (\n\t\t\t\t\t<Box height={196}>\n\t\t\t\t\t\t<Flex.Item align='stretch' grow={1} shrink={0}>\n\t\t\t\t\t\t\t<Box position='relative'>\n\t\t\t\t\t\t\t\t<Box position='absolute' width='full' height='full'>\n\t\t\t\t\t\t\t\t\t<ResponsiveBar\n\t\t\t\t\t\t\t\t\t\tdata={values}\n\t\t\t\t\t\t\t\t\t\tindexBy='day'\n\t\t\t\t\t\t\t\t\t\tkeys={['users']}\n\t\t\t\t\t\t\t\t\t\tgroupMode='grouped'\n\t\t\t\t\t\t\t\t\t\tpadding={0.25}\n\t\t\t\t\t\t\t\t\t\tmargin={{\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\tbottom: 20,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tcolors={[\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\tcolors.p500,\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tenableLabel={false}\n\t\t\t\t\t\t\t\t\t\tenableGridY={false}\n\t\t\t\t\t\t\t\t\t\taxisTop={null}\n\t\t\t\t\t\t\t\t\t\taxisRight={null}\n\t\t\t\t\t\t\t\t\t\taxisBottom={{\n\t\t\t\t\t\t\t\t\t\t\ttickSize: 0,\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\ttickPadding: 4,\n\t\t\t\t\t\t\t\t\t\t\ttickRotation: 0,\n\t\t\t\t\t\t\t\t\t\t\ttickValues: 'every 3 days',\n\t\t\t\t\t\t\t\t\t\t\tformat: (timestamp): string => moment(parseInt(timestamp, 10)).format('L'),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\taxisLeft={null}\n\t\t\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\t\t\tmotionConfig='stiff'\n\t\t\t\t\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: colors.n600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '10px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.2px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\t<Skeleton variant='rect' height={196} />\n\t\t\t\t)}\n\t\t\t</Flex.Container>\n\t\t</>\n\t);\n};\n\nexport default ContentForDays;\n"]}}},"code":"var ResponsiveBar;\nmodule.link(\"@nivo/bar\", {\n  ResponsiveBar: function (v) {\n    ResponsiveBar = v;\n  }\n}, 0);\nvar Box, Flex, IconButton, Margins, Skeleton;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Flex: function (v) {\n    Flex = v;\n  },\n  IconButton: function (v) {\n    IconButton = v;\n  },\n  Margins: function (v) {\n    Margins = v;\n  },\n  Skeleton: function (v) {\n    Skeleton = v;\n  }\n}, 1);\nvar colors;\nmodule.link(\"@rocket.chat/fuselage-tokens/colors\", {\n  \"default\": function (v) {\n    colors = v;\n  }\n}, 2);\nvar moment;\nmodule.link(\"moment\", {\n  \"default\": function (v) {\n    moment = v;\n  }\n}, 3);\nvar React, useMemo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  }\n}, 4);\nvar useWeeklyChatActivity;\nmodule.link(\"./useWeeklyChatActivity\", {\n  useWeeklyChatActivity: function (v) {\n    useWeeklyChatActivity = v;\n  }\n}, 5);\nvar ContentForDays = function (_ref) {\n  var displacement = _ref.displacement,\n    onPreviousDateClick = _ref.onPreviousDateClick,\n    onNextDateClick = _ref.onNextDateClick,\n    timezone = _ref.timezone;\n  var utc = timezone === 'utc';\n  var _useWeeklyChatActivit = useWeeklyChatActivity({\n      displacement: displacement,\n      utc: utc\n    }),\n    data = _useWeeklyChatActivit.data;\n  var formattedCurrentDate = useMemo(function () {\n    if (!data) {\n      return null;\n    }\n    var endOfWeek = moment(data.day);\n    var startOfWeek = moment(data.day).subtract(6, 'days');\n    return startOfWeek.format('L') + \" - \" + endOfWeek.format('L');\n  }, [data]);\n  var values = useMemo(function () {\n    var _data$month$map$sort$, _data$month, _data$month$map, _data$month$map$sort;\n    return (_data$month$map$sort$ = data === null || data === void 0 ? void 0 : (_data$month = data.month) === null || _data$month === void 0 ? void 0 : (_data$month$map = _data$month.map(function (_ref2) {\n      var users = _ref2.users,\n        day = _ref2.day,\n        month = _ref2.month,\n        year = _ref2.year;\n      return {\n        users: users,\n        day: moment({\n          year: year,\n          month: month - 1,\n          day: day\n        })\n      };\n    })) === null || _data$month$map === void 0 ? void 0 : (_data$month$map$sort = _data$month$map.sort(function (_ref3, _ref4) {\n      var a = _ref3.day;\n      var b = _ref4.day;\n      return a.diff(b);\n    })) === null || _data$month$map$sort === void 0 ? void 0 : _data$month$map$sort.map(function (_ref5) {\n      var users = _ref5.users,\n        day = _ref5.day;\n      return {\n        users: users,\n        day: String(day.valueOf())\n      };\n    })) !== null && _data$month$map$sort$ !== void 0 ? _data$month$map$sort$ : [];\n  }, [data]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Flex.Container, {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }, /*#__PURE__*/React.createElement(Box, null, /*#__PURE__*/React.createElement(IconButton, {\n    icon: \"chevron-down\",\n    verticalAlign: \"middle\",\n    small: true,\n    onClick: onPreviousDateClick\n  }), /*#__PURE__*/React.createElement(Flex.Item, {\n    basis: \"50%\"\n  }, /*#__PURE__*/React.createElement(Margins, {\n    inline: 8\n  }, /*#__PURE__*/React.createElement(Box, {\n    is: \"span\",\n    textAlign: \"center\"\n  }, formattedCurrentDate))), /*#__PURE__*/React.createElement(IconButton, {\n    icon: \"chevron-down\",\n    small: true,\n    disabled: displacement === 0,\n    onClick: onNextDateClick\n  }))), /*#__PURE__*/React.createElement(Flex.Container, null, data ? /*#__PURE__*/React.createElement(Box, {\n    height: 196\n  }, /*#__PURE__*/React.createElement(Flex.Item, {\n    align: \"stretch\",\n    grow: 1,\n    shrink: 0\n  }, /*#__PURE__*/React.createElement(Box, {\n    position: \"relative\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    position: \"absolute\",\n    width: \"full\",\n    height: \"full\"\n  }, /*#__PURE__*/React.createElement(ResponsiveBar, {\n    data: values,\n    indexBy: \"day\",\n    keys: ['users'],\n    groupMode: \"grouped\",\n    padding: 0.25,\n    margin: {\n      // TODO: Get it from theme\n      bottom: 20\n    },\n    colors: [\n    // TODO: Get it from theme\n    colors.p500],\n    enableLabel: false,\n    enableGridY: false,\n    axisTop: null,\n    axisRight: null,\n    axisBottom: {\n      tickSize: 0,\n      // TODO: Get it from theme\n      tickPadding: 4,\n      tickRotation: 0,\n      tickValues: 'every 3 days',\n      format: function (timestamp) {\n        return moment(parseInt(timestamp, 10)).format('L');\n      }\n    },\n    axisLeft: null,\n    animate: true,\n    motionConfig: \"stiff\",\n    theme: {\n      // TODO: Get it from theme\n      axis: {\n        ticks: {\n          text: {\n            fill: colors.n600,\n            fontFamily: 'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n            fontSize: '10px',\n            fontStyle: 'normal',\n            fontWeight: 600,\n            letterSpacing: '0.2px',\n            lineHeight: '12px'\n          }\n        }\n      }\n    }\n  }))))) : /*#__PURE__*/React.createElement(Skeleton, {\n    variant: \"rect\",\n    height: 196\n  })));\n};\nmodule.exportDefault(ContentForDays);","map":{"version":3,"names":["ResponsiveBar","module","link","v","Box","Flex","IconButton","Margins","Skeleton","colors","default","moment","React","useMemo","useWeeklyChatActivity","ContentForDays","_ref","displacement","onPreviousDateClick","onNextDateClick","timezone","utc","_useWeeklyChatActivit","data","formattedCurrentDate","endOfWeek","day","startOfWeek","subtract","format","values","_data$month$map$sort$","_data$month","_data$month$map","_data$month$map$sort","month","map","_ref2","users","year","sort","_ref3","_ref4","a","b","diff","_ref5","String","valueOf","createElement","Fragment","Container","alignItems","justifyContent","icon","verticalAlign","small","onClick","Item","basis","inline","is","textAlign","disabled","height","align","grow","shrink","position","width","indexBy","keys","groupMode","padding","margin","bottom","p500","enableLabel","enableGridY","axisTop","axisRight","axisBottom","tickSize","tickPadding","tickRotation","tickValues","timestamp","parseInt","axisLeft","animate","motionConfig","theme","axis","ticks","text","fill","n600","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","variant","exportDefault"],"sources":["client/views/admin/engagementDashboard/users/ContentForDays.tsx"],"sourcesContent":["import { ResponsiveBar } from '@nivo/bar';\nimport { Box, Flex, IconButton, Margins, Skeleton } from '@rocket.chat/fuselage';\nimport colors from '@rocket.chat/fuselage-tokens/colors';\nimport moment from 'moment';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\n\nimport { useWeeklyChatActivity } from './useWeeklyChatActivity';\n\ntype ContentForDaysProps = {\n\tdisplacement: number;\n\tonPreviousDateClick: () => void;\n\tonNextDateClick: () => void;\n\ttimezone: 'utc' | 'local';\n};\n\nconst ContentForDays = ({ displacement, onPreviousDateClick, onNextDateClick, timezone }: ContentForDaysProps): ReactElement => {\n\tconst utc = timezone === 'utc';\n\tconst { data } = useWeeklyChatActivity({ displacement, utc });\n\n\tconst formattedCurrentDate = useMemo(() => {\n\t\tif (!data) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst endOfWeek = moment(data.day);\n\t\tconst startOfWeek = moment(data.day).subtract(6, 'days');\n\t\treturn `${startOfWeek.format('L')} - ${endOfWeek.format('L')}`;\n\t}, [data]);\n\n\tconst values = useMemo(\n\t\t() =>\n\t\t\tdata?.month\n\t\t\t\t?.map(({ users, day, month, year }) => ({\n\t\t\t\t\tusers,\n\t\t\t\t\tday: moment({ year, month: month - 1, day }),\n\t\t\t\t}))\n\t\t\t\t?.sort(({ day: a }, { day: b }) => a.diff(b))\n\t\t\t\t?.map(({ users, day }) => ({ users, day: String(day.valueOf()) })) ?? [],\n\t\t[data],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<Flex.Container alignItems='center' justifyContent='center'>\n\t\t\t\t<Box>\n\t\t\t\t\t<IconButton icon='chevron-down' verticalAlign='middle' small onClick={onPreviousDateClick} />\n\t\t\t\t\t<Flex.Item basis='50%'>\n\t\t\t\t\t\t<Margins inline={8}>\n\t\t\t\t\t\t\t<Box is='span' textAlign='center'>\n\t\t\t\t\t\t\t\t{formattedCurrentDate}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t<IconButton icon='chevron-down' small disabled={displacement === 0} onClick={onNextDateClick} />\n\t\t\t\t</Box>\n\t\t\t</Flex.Container>\n\t\t\t<Flex.Container>\n\t\t\t\t{data ? (\n\t\t\t\t\t<Box height={196}>\n\t\t\t\t\t\t<Flex.Item align='stretch' grow={1} shrink={0}>\n\t\t\t\t\t\t\t<Box position='relative'>\n\t\t\t\t\t\t\t\t<Box position='absolute' width='full' height='full'>\n\t\t\t\t\t\t\t\t\t<ResponsiveBar\n\t\t\t\t\t\t\t\t\t\tdata={values}\n\t\t\t\t\t\t\t\t\t\tindexBy='day'\n\t\t\t\t\t\t\t\t\t\tkeys={['users']}\n\t\t\t\t\t\t\t\t\t\tgroupMode='grouped'\n\t\t\t\t\t\t\t\t\t\tpadding={0.25}\n\t\t\t\t\t\t\t\t\t\tmargin={{\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\tbottom: 20,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tcolors={[\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\tcolors.p500,\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tenableLabel={false}\n\t\t\t\t\t\t\t\t\t\tenableGridY={false}\n\t\t\t\t\t\t\t\t\t\taxisTop={null}\n\t\t\t\t\t\t\t\t\t\taxisRight={null}\n\t\t\t\t\t\t\t\t\t\taxisBottom={{\n\t\t\t\t\t\t\t\t\t\t\ttickSize: 0,\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\ttickPadding: 4,\n\t\t\t\t\t\t\t\t\t\t\ttickRotation: 0,\n\t\t\t\t\t\t\t\t\t\t\ttickValues: 'every 3 days',\n\t\t\t\t\t\t\t\t\t\t\tformat: (timestamp): string => moment(parseInt(timestamp, 10)).format('L'),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\taxisLeft={null}\n\t\t\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\t\t\tmotionConfig='stiff'\n\t\t\t\t\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: colors.n600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '10px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.2px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\t<Skeleton variant='rect' height={196} />\n\t\t\t\t)}\n\t\t\t</Flex.Container>\n\t\t</>\n\t);\n};\n\nexport default ContentForDays;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"4096800585dfd9999605687b4e90a6255b339f12"}
