{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/profile/AccountProfilePage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/account/profile/AccountProfilePage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/profile/AccountProfilePage.tsx","inputSourceMap":{"version":3,"file":"client/views/account/profile/AccountProfilePage.tsx","sourceRoot":"","sources":["client/views/account/profile/AccountProfilePage.tsx"],"names":[],"mappings":"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","sourcesContent":["import { ButtonGroup, Button, Box } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { SHA256 } from '@rocket.chat/sha256';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport {\n\tuseSetModal,\n\tuseToastMessageDispatch,\n\tuseUser,\n\tuseLogout,\n\tuseEndpoint,\n\tuseTranslation,\n\tuseSetting,\n} from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState, useCallback } from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport ConfirmOwnerChangeModal from '../../../components/ConfirmOwnerChangeModal';\nimport { Page, PageFooter, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\nimport { useAllowPasswordChange } from '../security/useAllowPasswordChange';\nimport AccountProfileForm from './AccountProfileForm';\nimport ActionConfirmModal from './ActionConfirmModal';\nimport { getProfileInitialValues } from './getProfileInitialValues';\n\n// TODO: enforce useMutation\nconst AccountProfilePage = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst user = useUser();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst setModal = useSetModal();\n\tconst logout = useLogout();\n\tconst [loggingOut, setLoggingOut] = useState(false);\n\n\tconst erasureType = useSetting('Message_ErasureType');\n\tconst allowDeleteOwnAccount = useSetting('Accounts_AllowDeleteOwnAccount');\n\tconst { hasLocalPassword } = useAllowPasswordChange();\n\n\tconst methods = useForm({\n\t\tdefaultValues: getProfileInitialValues(user),\n\t\tmode: 'onBlur',\n\t});\n\n\tconst {\n\t\treset,\n\t\tformState: { isDirty, isSubmitting },\n\t} = methods;\n\n\tconst logoutOtherClients = useEndpoint('POST', '/v1/users.logoutOtherClients');\n\tconst deleteOwnAccount = useEndpoint('POST', '/v1/users.deleteOwnAccount');\n\n\tconst handleLogoutOtherLocations = useCallback(async () => {\n\t\tsetLoggingOut(true);\n\t\ttry {\n\t\t\tawait logoutOtherClients();\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('Logged_out_of_other_clients_successfully'),\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t\tsetLoggingOut(false);\n\t}, [logoutOtherClients, dispatchToastMessage, t]);\n\n\tconst handleConfirmOwnerChange = useCallback(\n\t\t(passwordOrUsername, shouldChangeOwner, shouldBeRemoved) => {\n\t\t\tconst handleConfirm = async (): Promise<void> => {\n\t\t\t\ttry {\n\t\t\t\t\tawait deleteOwnAccount({ password: SHA256(passwordOrUsername), confirmRelinquish: true });\n\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_has_been_deleted') });\n\t\t\t\t\tsetModal(null);\n\t\t\t\t\tlogout();\n\t\t\t\t} catch (error) {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn setModal(() => (\n\t\t\t\t<ConfirmOwnerChangeModal\n\t\t\t\t\tonConfirm={handleConfirm}\n\t\t\t\t\tonCancel={() => setModal(null)}\n\t\t\t\t\tcontentTitle={t(`Delete_User_Warning_${erasureType}` as TranslationKey)}\n\t\t\t\t\tconfirmText={t('Delete')}\n\t\t\t\t\tshouldChangeOwner={shouldChangeOwner}\n\t\t\t\t\tshouldBeRemoved={shouldBeRemoved}\n\t\t\t\t/>\n\t\t\t));\n\t\t},\n\t\t[erasureType, setModal, t, deleteOwnAccount, dispatchToastMessage, logout],\n\t);\n\n\tconst handleDeleteOwnAccount = useCallback(async () => {\n\t\tconst handleConfirm = async (passwordOrUsername: string): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait deleteOwnAccount({ password: SHA256(passwordOrUsername) });\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_has_been_deleted') });\n\t\t\t\tlogout();\n\t\t\t} catch (error: any) {\n\t\t\t\tif (error.error === 'user-last-owner') {\n\t\t\t\t\tconst { shouldChangeOwner, shouldBeRemoved } = error.details;\n\t\t\t\t\treturn handleConfirmOwnerChange(passwordOrUsername, shouldChangeOwner, shouldBeRemoved);\n\t\t\t\t}\n\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t};\n\n\t\treturn setModal(() => <ActionConfirmModal onConfirm={handleConfirm} onCancel={() => setModal(null)} isPassword={hasLocalPassword} />);\n\t}, [dispatchToastMessage, hasLocalPassword, setModal, handleConfirmOwnerChange, deleteOwnAccount, logout, t]);\n\n\tconst profileFormId = useUniqueId();\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Profile')} />\n\t\t\t<PageScrollableContentWithShadow>\n\t\t\t\t<Box maxWidth='600px' w='full' alignSelf='center'>\n\t\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t\t<AccountProfileForm id={profileFormId} />\n\t\t\t\t\t</FormProvider>\n\t\t\t\t\t<Box mb={12}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button onClick={handleLogoutOtherLocations} flexGrow={0} loading={loggingOut}>\n\t\t\t\t\t\t\t\t{t('Logout_Others')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{allowDeleteOwnAccount && (\n\t\t\t\t\t\t\t\t<Button icon='trash' danger onClick={handleDeleteOwnAccount}>\n\t\t\t\t\t\t\t\t\t{t('Delete_my_account')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t\t<PageFooter isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button disabled={!isDirty} onClick={() => reset(getProfileInitialValues(user))}>\n\t\t\t\t\t\t{t('Cancel')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tform={profileFormId}\n\t\t\t\t\t\tdata-qa='AccountProfilePageSaveButton'\n\t\t\t\t\t\tprimary\n\t\t\t\t\t\tdisabled={!isDirty || loggingOut}\n\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageFooter>\n\t\t</Page>\n\t);\n};\n\nexport default AccountProfilePage;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/profile/AccountProfilePage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/account/profile/AccountProfilePage.tsx","inputSourceMap":{"version":3,"file":"client/views/account/profile/AccountProfilePage.tsx","sourceRoot":"","sources":["client/views/account/profile/AccountProfilePage.tsx"],"names":[],"mappings":"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","sourcesContent":["import { ButtonGroup, Button, Box } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { SHA256 } from '@rocket.chat/sha256';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport {\n\tuseSetModal,\n\tuseToastMessageDispatch,\n\tuseUser,\n\tuseLogout,\n\tuseEndpoint,\n\tuseTranslation,\n\tuseSetting,\n} from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState, useCallback } from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport ConfirmOwnerChangeModal from '../../../components/ConfirmOwnerChangeModal';\nimport { Page, PageFooter, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\nimport { useAllowPasswordChange } from '../security/useAllowPasswordChange';\nimport AccountProfileForm from './AccountProfileForm';\nimport ActionConfirmModal from './ActionConfirmModal';\nimport { getProfileInitialValues } from './getProfileInitialValues';\n\n// TODO: enforce useMutation\nconst AccountProfilePage = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst user = useUser();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst setModal = useSetModal();\n\tconst logout = useLogout();\n\tconst [loggingOut, setLoggingOut] = useState(false);\n\n\tconst erasureType = useSetting('Message_ErasureType');\n\tconst allowDeleteOwnAccount = useSetting('Accounts_AllowDeleteOwnAccount');\n\tconst { hasLocalPassword } = useAllowPasswordChange();\n\n\tconst methods = useForm({\n\t\tdefaultValues: getProfileInitialValues(user),\n\t\tmode: 'onBlur',\n\t});\n\n\tconst {\n\t\treset,\n\t\tformState: { isDirty, isSubmitting },\n\t} = methods;\n\n\tconst logoutOtherClients = useEndpoint('POST', '/v1/users.logoutOtherClients');\n\tconst deleteOwnAccount = useEndpoint('POST', '/v1/users.deleteOwnAccount');\n\n\tconst handleLogoutOtherLocations = useCallback(async () => {\n\t\tsetLoggingOut(true);\n\t\ttry {\n\t\t\tawait logoutOtherClients();\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('Logged_out_of_other_clients_successfully'),\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t\tsetLoggingOut(false);\n\t}, [logoutOtherClients, dispatchToastMessage, t]);\n\n\tconst handleConfirmOwnerChange = useCallback(\n\t\t(passwordOrUsername, shouldChangeOwner, shouldBeRemoved) => {\n\t\t\tconst handleConfirm = async (): Promise<void> => {\n\t\t\t\ttry {\n\t\t\t\t\tawait deleteOwnAccount({ password: SHA256(passwordOrUsername), confirmRelinquish: true });\n\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_has_been_deleted') });\n\t\t\t\t\tsetModal(null);\n\t\t\t\t\tlogout();\n\t\t\t\t} catch (error) {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn setModal(() => (\n\t\t\t\t<ConfirmOwnerChangeModal\n\t\t\t\t\tonConfirm={handleConfirm}\n\t\t\t\t\tonCancel={() => setModal(null)}\n\t\t\t\t\tcontentTitle={t(`Delete_User_Warning_${erasureType}` as TranslationKey)}\n\t\t\t\t\tconfirmText={t('Delete')}\n\t\t\t\t\tshouldChangeOwner={shouldChangeOwner}\n\t\t\t\t\tshouldBeRemoved={shouldBeRemoved}\n\t\t\t\t/>\n\t\t\t));\n\t\t},\n\t\t[erasureType, setModal, t, deleteOwnAccount, dispatchToastMessage, logout],\n\t);\n\n\tconst handleDeleteOwnAccount = useCallback(async () => {\n\t\tconst handleConfirm = async (passwordOrUsername: string): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait deleteOwnAccount({ password: SHA256(passwordOrUsername) });\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_has_been_deleted') });\n\t\t\t\tlogout();\n\t\t\t} catch (error: any) {\n\t\t\t\tif (error.error === 'user-last-owner') {\n\t\t\t\t\tconst { shouldChangeOwner, shouldBeRemoved } = error.details;\n\t\t\t\t\treturn handleConfirmOwnerChange(passwordOrUsername, shouldChangeOwner, shouldBeRemoved);\n\t\t\t\t}\n\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t};\n\n\t\treturn setModal(() => <ActionConfirmModal onConfirm={handleConfirm} onCancel={() => setModal(null)} isPassword={hasLocalPassword} />);\n\t}, [dispatchToastMessage, hasLocalPassword, setModal, handleConfirmOwnerChange, deleteOwnAccount, logout, t]);\n\n\tconst profileFormId = useUniqueId();\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Profile')} />\n\t\t\t<PageScrollableContentWithShadow>\n\t\t\t\t<Box maxWidth='600px' w='full' alignSelf='center'>\n\t\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t\t<AccountProfileForm id={profileFormId} />\n\t\t\t\t\t</FormProvider>\n\t\t\t\t\t<Box mb={12}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button onClick={handleLogoutOtherLocations} flexGrow={0} loading={loggingOut}>\n\t\t\t\t\t\t\t\t{t('Logout_Others')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{allowDeleteOwnAccount && (\n\t\t\t\t\t\t\t\t<Button icon='trash' danger onClick={handleDeleteOwnAccount}>\n\t\t\t\t\t\t\t\t\t{t('Delete_my_account')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t\t<PageFooter isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button disabled={!isDirty} onClick={() => reset(getProfileInitialValues(user))}>\n\t\t\t\t\t\t{t('Cancel')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tform={profileFormId}\n\t\t\t\t\t\tdata-qa='AccountProfilePageSaveButton'\n\t\t\t\t\t\tprimary\n\t\t\t\t\t\tdisabled={!isDirty || loggingOut}\n\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageFooter>\n\t\t</Page>\n\t);\n};\n\nexport default AccountProfilePage;\n"]}}},"code":"var _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nvar ButtonGroup, Button, Box;\nmodule.link(\"@rocket.chat/fuselage\", {\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  Box: function (v) {\n    Box = v;\n  }\n}, 0);\nvar useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useUniqueId: function (v) {\n    useUniqueId = v;\n  }\n}, 1);\nvar SHA256;\nmodule.link(\"@rocket.chat/sha256\", {\n  SHA256: function (v) {\n    SHA256 = v;\n  }\n}, 2);\nvar useSetModal, useToastMessageDispatch, useUser, useLogout, useEndpoint, useTranslation, useSetting;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useSetModal: function (v) {\n    useSetModal = v;\n  },\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  useUser: function (v) {\n    useUser = v;\n  },\n  useLogout: function (v) {\n    useLogout = v;\n  },\n  useEndpoint: function (v) {\n    useEndpoint = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useSetting: function (v) {\n    useSetting = v;\n  }\n}, 3);\nvar React, useState, useCallback;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  }\n}, 4);\nvar FormProvider, useForm;\nmodule.link(\"react-hook-form\", {\n  FormProvider: function (v) {\n    FormProvider = v;\n  },\n  useForm: function (v) {\n    useForm = v;\n  }\n}, 5);\nvar ConfirmOwnerChangeModal;\nmodule.link(\"../../../components/ConfirmOwnerChangeModal\", {\n  \"default\": function (v) {\n    ConfirmOwnerChangeModal = v;\n  }\n}, 6);\nvar Page, PageFooter, PageHeader, PageScrollableContentWithShadow;\nmodule.link(\"../../../components/Page\", {\n  Page: function (v) {\n    Page = v;\n  },\n  PageFooter: function (v) {\n    PageFooter = v;\n  },\n  PageHeader: function (v) {\n    PageHeader = v;\n  },\n  PageScrollableContentWithShadow: function (v) {\n    PageScrollableContentWithShadow = v;\n  }\n}, 7);\nvar useAllowPasswordChange;\nmodule.link(\"../security/useAllowPasswordChange\", {\n  useAllowPasswordChange: function (v) {\n    useAllowPasswordChange = v;\n  }\n}, 8);\nvar AccountProfileForm;\nmodule.link(\"./AccountProfileForm\", {\n  \"default\": function (v) {\n    AccountProfileForm = v;\n  }\n}, 9);\nvar ActionConfirmModal;\nmodule.link(\"./ActionConfirmModal\", {\n  \"default\": function (v) {\n    ActionConfirmModal = v;\n  }\n}, 10);\nvar getProfileInitialValues;\nmodule.link(\"./getProfileInitialValues\", {\n  getProfileInitialValues: function (v) {\n    getProfileInitialValues = v;\n  }\n}, 11);\n// TODO: enforce useMutation\nvar AccountProfilePage = function () {\n  var t = useTranslation();\n  var user = useUser();\n  var dispatchToastMessage = useToastMessageDispatch();\n  var setModal = useSetModal();\n  var logout = useLogout();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loggingOut = _useState2[0],\n    setLoggingOut = _useState2[1];\n  var erasureType = useSetting('Message_ErasureType');\n  var allowDeleteOwnAccount = useSetting('Accounts_AllowDeleteOwnAccount');\n  var _useAllowPasswordChan = useAllowPasswordChange(),\n    hasLocalPassword = _useAllowPasswordChan.hasLocalPassword;\n  var methods = useForm({\n    defaultValues: getProfileInitialValues(user),\n    mode: 'onBlur'\n  });\n  var reset = methods.reset,\n    _methods$formState = methods.formState,\n    isDirty = _methods$formState.isDirty,\n    isSubmitting = _methods$formState.isSubmitting;\n  var logoutOtherClients = useEndpoint('POST', '/v1/users.logoutOtherClients');\n  var deleteOwnAccount = useEndpoint('POST', '/v1/users.deleteOwnAccount');\n  var handleLogoutOtherLocations = useCallback(function () {\n    function _callee() {\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              setLoggingOut(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(logoutOtherClients());\n            case 4:\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Logged_out_of_other_clients_successfully')\n              });\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](1);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context.t0\n              });\n            case 10:\n              setLoggingOut(false);\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, [[1, 7]], Promise);\n    }\n    return _callee;\n  }(), [logoutOtherClients, dispatchToastMessage, t]);\n  var handleConfirmOwnerChange = useCallback(function (passwordOrUsername, shouldChangeOwner, shouldBeRemoved) {\n    var handleConfirm = function () {\n      function _callee2() {\n        return _regeneratorRuntime.async(function () {\n          function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _regeneratorRuntime.awrap(deleteOwnAccount({\n                  password: SHA256(passwordOrUsername),\n                  confirmRelinquish: true\n                }));\n              case 3:\n                dispatchToastMessage({\n                  type: 'success',\n                  message: t('User_has_been_deleted')\n                });\n                setModal(null);\n                logout();\n                _context2.next = 11;\n                break;\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](0);\n                dispatchToastMessage({\n                  type: 'error',\n                  message: _context2.t0\n                });\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n          return _callee2$;\n        }(), null, null, [[0, 8]], Promise);\n      }\n      return _callee2;\n    }();\n    return setModal(function () {\n      return /*#__PURE__*/React.createElement(ConfirmOwnerChangeModal, {\n        onConfirm: handleConfirm,\n        onCancel: function () {\n          return setModal(null);\n        },\n        contentTitle: t(\"Delete_User_Warning_\" + erasureType),\n        confirmText: t('Delete'),\n        shouldChangeOwner: shouldChangeOwner,\n        shouldBeRemoved: shouldBeRemoved\n      });\n    });\n  }, [erasureType, setModal, t, deleteOwnAccount, dispatchToastMessage, logout]);\n  var handleDeleteOwnAccount = useCallback(function () {\n    function _callee4() {\n      var handleConfirm;\n      return _regeneratorRuntime.async(function () {\n        function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              handleConfirm = function () {\n                function _callee3(passwordOrUsername) {\n                  var _error$details, shouldChangeOwner, shouldBeRemoved;\n                  return _regeneratorRuntime.async(function () {\n                    function _callee3$(_context3) {\n                      while (1) switch (_context3.prev = _context3.next) {\n                        case 0:\n                          _context3.prev = 0;\n                          _context3.next = 3;\n                          return _regeneratorRuntime.awrap(deleteOwnAccount({\n                            password: SHA256(passwordOrUsername)\n                          }));\n                        case 3:\n                          dispatchToastMessage({\n                            type: 'success',\n                            message: t('User_has_been_deleted')\n                          });\n                          logout();\n                          _context3.next = 13;\n                          break;\n                        case 7:\n                          _context3.prev = 7;\n                          _context3.t0 = _context3[\"catch\"](0);\n                          if (!(_context3.t0.error === 'user-last-owner')) {\n                            _context3.next = 12;\n                            break;\n                          }\n                          _error$details = _context3.t0.details, shouldChangeOwner = _error$details.shouldChangeOwner, shouldBeRemoved = _error$details.shouldBeRemoved;\n                          return _context3.abrupt(\"return\", handleConfirmOwnerChange(passwordOrUsername, shouldChangeOwner, shouldBeRemoved));\n                        case 12:\n                          dispatchToastMessage({\n                            type: 'error',\n                            message: _context3.t0\n                          });\n                        case 13:\n                        case \"end\":\n                          return _context3.stop();\n                      }\n                    }\n                    return _callee3$;\n                  }(), null, null, [[0, 7]], Promise);\n                }\n                return _callee3;\n              }();\n              return _context4.abrupt(\"return\", setModal(function () {\n                return /*#__PURE__*/React.createElement(ActionConfirmModal, {\n                  onConfirm: handleConfirm,\n                  onCancel: function () {\n                    return setModal(null);\n                  },\n                  isPassword: hasLocalPassword\n                });\n              }));\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n        return _callee4$;\n      }(), null, null, null, Promise);\n    }\n    return _callee4;\n  }(), [dispatchToastMessage, hasLocalPassword, setModal, handleConfirmOwnerChange, deleteOwnAccount, logout, t]);\n  var profileFormId = useUniqueId();\n  return /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: t('Profile')\n  }), /*#__PURE__*/React.createElement(PageScrollableContentWithShadow, null, /*#__PURE__*/React.createElement(Box, {\n    maxWidth: \"600px\",\n    w: \"full\",\n    alignSelf: \"center\"\n  }, /*#__PURE__*/React.createElement(FormProvider, methods, /*#__PURE__*/React.createElement(AccountProfileForm, {\n    id: profileFormId\n  })), /*#__PURE__*/React.createElement(Box, {\n    mb: 12\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleLogoutOtherLocations,\n    flexGrow: 0,\n    loading: loggingOut\n  }, t('Logout_Others')), allowDeleteOwnAccount && /*#__PURE__*/React.createElement(Button, {\n    icon: \"trash\",\n    danger: true,\n    onClick: handleDeleteOwnAccount\n  }, t('Delete_my_account')))))), /*#__PURE__*/React.createElement(PageFooter, {\n    isDirty: isDirty\n  }, /*#__PURE__*/React.createElement(ButtonGroup, null, /*#__PURE__*/React.createElement(Button, {\n    disabled: !isDirty,\n    onClick: function () {\n      return reset(getProfileInitialValues(user));\n    }\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    form: profileFormId,\n    \"data-qa\": \"AccountProfilePageSaveButton\",\n    primary: true,\n    disabled: !isDirty || loggingOut,\n    loading: isSubmitting,\n    type: \"submit\"\n  }, t('Save_changes')))));\n};\nmodule.exportDefault(AccountProfilePage);","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","_slicedToArray","ButtonGroup","Button","Box","useUniqueId","SHA256","useSetModal","useToastMessageDispatch","useUser","useLogout","useEndpoint","useTranslation","useSetting","React","useState","useCallback","FormProvider","useForm","ConfirmOwnerChangeModal","Page","PageFooter","PageHeader","PageScrollableContentWithShadow","useAllowPasswordChange","AccountProfileForm","ActionConfirmModal","getProfileInitialValues","AccountProfilePage","t","user","dispatchToastMessage","setModal","logout","_useState","_useState2","loggingOut","setLoggingOut","erasureType","allowDeleteOwnAccount","_useAllowPasswordChan","hasLocalPassword","methods","defaultValues","mode","reset","_methods$formState","formState","isDirty","isSubmitting","logoutOtherClients","deleteOwnAccount","handleLogoutOtherLocations","_callee","async","_callee$","_context","prev","next","awrap","type","message","t0","stop","Promise","handleConfirmOwnerChange","passwordOrUsername","shouldChangeOwner","shouldBeRemoved","handleConfirm","_callee2","_callee2$","_context2","password","confirmRelinquish","createElement","onConfirm","onCancel","contentTitle","confirmText","handleDeleteOwnAccount","_callee4","_callee4$","_context4","_callee3","_error$details","_callee3$","_context3","error","details","abrupt","isPassword","profileFormId","title","maxWidth","w","alignSelf","id","mb","stretch","onClick","flexGrow","loading","icon","danger","disabled","form","primary","exportDefault"],"sources":["client/views/account/profile/AccountProfilePage.tsx"],"sourcesContent":["import { ButtonGroup, Button, Box } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { SHA256 } from '@rocket.chat/sha256';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport {\n\tuseSetModal,\n\tuseToastMessageDispatch,\n\tuseUser,\n\tuseLogout,\n\tuseEndpoint,\n\tuseTranslation,\n\tuseSetting,\n} from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState, useCallback } from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport ConfirmOwnerChangeModal from '../../../components/ConfirmOwnerChangeModal';\nimport { Page, PageFooter, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\nimport { useAllowPasswordChange } from '../security/useAllowPasswordChange';\nimport AccountProfileForm from './AccountProfileForm';\nimport ActionConfirmModal from './ActionConfirmModal';\nimport { getProfileInitialValues } from './getProfileInitialValues';\n\n// TODO: enforce useMutation\nconst AccountProfilePage = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst user = useUser();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst setModal = useSetModal();\n\tconst logout = useLogout();\n\tconst [loggingOut, setLoggingOut] = useState(false);\n\n\tconst erasureType = useSetting('Message_ErasureType');\n\tconst allowDeleteOwnAccount = useSetting('Accounts_AllowDeleteOwnAccount');\n\tconst { hasLocalPassword } = useAllowPasswordChange();\n\n\tconst methods = useForm({\n\t\tdefaultValues: getProfileInitialValues(user),\n\t\tmode: 'onBlur',\n\t});\n\n\tconst {\n\t\treset,\n\t\tformState: { isDirty, isSubmitting },\n\t} = methods;\n\n\tconst logoutOtherClients = useEndpoint('POST', '/v1/users.logoutOtherClients');\n\tconst deleteOwnAccount = useEndpoint('POST', '/v1/users.deleteOwnAccount');\n\n\tconst handleLogoutOtherLocations = useCallback(async () => {\n\t\tsetLoggingOut(true);\n\t\ttry {\n\t\t\tawait logoutOtherClients();\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('Logged_out_of_other_clients_successfully'),\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t\tsetLoggingOut(false);\n\t}, [logoutOtherClients, dispatchToastMessage, t]);\n\n\tconst handleConfirmOwnerChange = useCallback(\n\t\t(passwordOrUsername, shouldChangeOwner, shouldBeRemoved) => {\n\t\t\tconst handleConfirm = async (): Promise<void> => {\n\t\t\t\ttry {\n\t\t\t\t\tawait deleteOwnAccount({ password: SHA256(passwordOrUsername), confirmRelinquish: true });\n\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_has_been_deleted') });\n\t\t\t\t\tsetModal(null);\n\t\t\t\t\tlogout();\n\t\t\t\t} catch (error) {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn setModal(() => (\n\t\t\t\t<ConfirmOwnerChangeModal\n\t\t\t\t\tonConfirm={handleConfirm}\n\t\t\t\t\tonCancel={() => setModal(null)}\n\t\t\t\t\tcontentTitle={t(`Delete_User_Warning_${erasureType}` as TranslationKey)}\n\t\t\t\t\tconfirmText={t('Delete')}\n\t\t\t\t\tshouldChangeOwner={shouldChangeOwner}\n\t\t\t\t\tshouldBeRemoved={shouldBeRemoved}\n\t\t\t\t/>\n\t\t\t));\n\t\t},\n\t\t[erasureType, setModal, t, deleteOwnAccount, dispatchToastMessage, logout],\n\t);\n\n\tconst handleDeleteOwnAccount = useCallback(async () => {\n\t\tconst handleConfirm = async (passwordOrUsername: string): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait deleteOwnAccount({ password: SHA256(passwordOrUsername) });\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_has_been_deleted') });\n\t\t\t\tlogout();\n\t\t\t} catch (error: any) {\n\t\t\t\tif (error.error === 'user-last-owner') {\n\t\t\t\t\tconst { shouldChangeOwner, shouldBeRemoved } = error.details;\n\t\t\t\t\treturn handleConfirmOwnerChange(passwordOrUsername, shouldChangeOwner, shouldBeRemoved);\n\t\t\t\t}\n\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t};\n\n\t\treturn setModal(() => <ActionConfirmModal onConfirm={handleConfirm} onCancel={() => setModal(null)} isPassword={hasLocalPassword} />);\n\t}, [dispatchToastMessage, hasLocalPassword, setModal, handleConfirmOwnerChange, deleteOwnAccount, logout, t]);\n\n\tconst profileFormId = useUniqueId();\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Profile')} />\n\t\t\t<PageScrollableContentWithShadow>\n\t\t\t\t<Box maxWidth='600px' w='full' alignSelf='center'>\n\t\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t\t<AccountProfileForm id={profileFormId} />\n\t\t\t\t\t</FormProvider>\n\t\t\t\t\t<Box mb={12}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button onClick={handleLogoutOtherLocations} flexGrow={0} loading={loggingOut}>\n\t\t\t\t\t\t\t\t{t('Logout_Others')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{allowDeleteOwnAccount && (\n\t\t\t\t\t\t\t\t<Button icon='trash' danger onClick={handleDeleteOwnAccount}>\n\t\t\t\t\t\t\t\t\t{t('Delete_my_account')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t\t<PageFooter isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button disabled={!isDirty} onClick={() => reset(getProfileInitialValues(user))}>\n\t\t\t\t\t\t{t('Cancel')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tform={profileFormId}\n\t\t\t\t\t\tdata-qa='AccountProfilePageSaveButton'\n\t\t\t\t\t\tprimary\n\t\t\t\t\t\tdisabled={!isDirty || loggingOut}\n\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageFooter>\n\t\t</Page>\n\t);\n};\n\nexport default AccountProfilePage;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"abd6612fc7eadf8eb03f5285f5cec2891f2f1911"}
