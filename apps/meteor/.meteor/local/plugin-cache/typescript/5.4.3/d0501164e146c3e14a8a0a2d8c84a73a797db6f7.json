{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/Header/Omnichannel/QuickActions/hooks/useQuickActions.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/room/Header/Omnichannel/QuickActions/hooks/useQuickActions.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/Header/Omnichannel/QuickActions/hooks/useQuickActions.tsx","inputSourceMap":{"version":3,"file":"client/views/room/Header/Omnichannel/QuickActions/hooks/useQuickActions.tsx","sourceRoot":"","sources":["client/views/room/Header/Omnichannel/QuickActions/hooks/useQuickActions.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport {\n\tuseSetModal,\n\tuseToastMessageDispatch,\n\tuseUserId,\n\tuseSetting,\n\tusePermission,\n\tuseRole,\n\tuseEndpoint,\n\tuseMethod,\n\tuseTranslation,\n\tuseRouter,\n\tuseUserSubscription,\n} from '@rocket.chat/ui-contexts';\nimport React, { useCallback, useState, useEffect } from 'react';\n\nimport PlaceChatOnHoldModal from '../../../../../../../app/livechat-enterprise/client/components/modals/PlaceChatOnHoldModal';\nimport { LivechatInquiry } from '../../../../../../../app/livechat/client/collections/LivechatInquiry';\nimport { LegacyRoomManager } from '../../../../../../../app/ui-utils/client';\nimport CloseChatModal from '../../../../../../components/Omnichannel/modals/CloseChatModal';\nimport CloseChatModalData from '../../../../../../components/Omnichannel/modals/CloseChatModalData';\nimport ForwardChatModal from '../../../../../../components/Omnichannel/modals/ForwardChatModal';\nimport ReturnChatQueueModal from '../../../../../../components/Omnichannel/modals/ReturnChatQueueModal';\nimport TranscriptModal from '../../../../../../components/Omnichannel/modals/TranscriptModal';\nimport { useIsRoomOverMacLimit } from '../../../../../../hooks/omnichannel/useIsRoomOverMacLimit';\nimport { useOmnichannelRouteConfig } from '../../../../../../hooks/omnichannel/useOmnichannelRouteConfig';\nimport { useHasLicenseModule } from '../../../../../../hooks/useHasLicenseModule';\nimport { quickActionHooks } from '../../../../../../ui';\nimport { useOmnichannelRoom } from '../../../../contexts/RoomContext';\nimport type { QuickActionsActionConfig } from '../../../../lib/quickActions';\nimport { QuickActionsEnum } from '../../../../lib/quickActions';\nimport { usePutChatOnHoldMutation } from './usePutChatOnHoldMutation';\nimport { useReturnChatToQueueMutation } from './useReturnChatToQueueMutation';\n\nexport const useQuickActions = (): {\n\tquickActions: QuickActionsActionConfig[];\n\tactionDefault: (actionId: string) => void;\n} => {\n\tconst room = useOmnichannelRoom();\n\tconst setModal = useSetModal();\n\tconst router = useRouter();\n\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst [onHoldModalActive, setOnHoldModalActive] = useState(false);\n\n\tconst visitorRoomId = room.v._id;\n\tconst rid = room._id;\n\tconst uid = useUserId();\n\tconst subscription = useUserSubscription(rid);\n\tconst roomLastMessage = room.lastMessage;\n\n\tconst getVisitorInfo = useEndpoint('GET', '/v1/livechat/visitors.info');\n\n\tconst getVisitorEmail = useMutableCallback(async () => {\n\t\tif (!visitorRoomId) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst {\n\t\t\tvisitor: { visitorEmails },\n\t\t} = await getVisitorInfo({ visitorId: visitorRoomId });\n\n\t\tif (visitorEmails?.length && visitorEmails[0].address) {\n\t\t\treturn visitorEmails[0].address;\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tif (onHoldModalActive && roomLastMessage?.token) {\n\t\t\tsetModal(null);\n\t\t}\n\t}, [roomLastMessage, onHoldModalActive, setModal]);\n\n\tconst closeModal = useCallback(() => setModal(null), [setModal]);\n\n\tconst requestTranscript = useEndpoint('POST', '/v1/livechat/transcript/:rid', { rid });\n\n\tconst handleRequestTranscript = useCallback(\n\t\tasync (email: string, subject: string) => {\n\t\t\ttry {\n\t\t\t\tawait requestTranscript({ email, subject });\n\t\t\t\tcloseModal();\n\t\t\t\tdispatchToastMessage({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tmessage: t('Livechat_email_transcript_has_been_requested'),\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[closeModal, dispatchToastMessage, requestTranscript, t],\n\t);\n\n\tconst sendTranscriptPDF = useEndpoint('POST', '/v1/omnichannel/:rid/request-transcript', { rid });\n\n\tconst handleSendTranscriptPDF = useCallback(async () => {\n\t\ttry {\n\t\t\tawait sendTranscriptPDF();\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('Livechat_transcript_has_been_requested'),\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, sendTranscriptPDF, t]);\n\n\tconst sendTranscript = useMethod('livechat:sendTranscript');\n\n\tconst handleSendTranscript = useCallback(\n\t\tasync (email: string, subject: string, token: string) => {\n\t\t\ttry {\n\t\t\t\tawait sendTranscript(token, rid, email, subject);\n\t\t\t\tcloseModal();\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[closeModal, dispatchToastMessage, rid, sendTranscript],\n\t);\n\n\tconst discardTranscript = useEndpoint('DELETE', '/v1/livechat/transcript/:rid', { rid });\n\n\tconst handleDiscardTranscript = useCallback(async () => {\n\t\ttry {\n\t\t\tawait discardTranscript();\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('Livechat_transcript_request_has_been_canceled'),\n\t\t\t});\n\t\t\tcloseModal();\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [closeModal, discardTranscript, dispatchToastMessage, t]);\n\n\tconst forwardChat = useEndpoint('POST', '/v1/livechat/room.forward');\n\n\tconst handleForwardChat = useCallback(\n\t\tasync (departmentId?: string, userId?: string, comment?: string) => {\n\t\t\tif (departmentId && userId) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst transferData: {\n\t\t\t\troomId: string;\n\t\t\t\tclientAction: boolean;\n\t\t\t\tcomment?: string;\n\t\t\t\tdepartmentId?: string;\n\t\t\t\tuserId?: string;\n\t\t\t} = {\n\t\t\t\troomId: rid,\n\t\t\t\tcomment,\n\t\t\t\tclientAction: true,\n\t\t\t};\n\n\t\t\tif (departmentId) {\n\t\t\t\ttransferData.departmentId = departmentId;\n\t\t\t}\n\t\t\tif (userId) {\n\t\t\t\ttransferData.userId = userId;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait forwardChat(transferData);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Transferred') });\n\t\t\t\trouter.navigate('/home');\n\t\t\t\tLegacyRoomManager.close(room.t + rid);\n\t\t\t\tcloseModal();\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[closeModal, dispatchToastMessage, forwardChat, room.t, rid, router, t],\n\t);\n\n\tconst closeChat = useEndpoint('POST', '/v1/livechat/room.closeByUser');\n\n\tconst handleClose = useCallback(\n\t\tasync (\n\t\t\tcomment?: string,\n\t\t\ttags?: string[],\n\t\t\tpreferences?: { omnichannelTranscriptPDF: boolean; omnichannelTranscriptEmail: boolean },\n\t\t\trequestData?: { email: string; subject: string },\n\t\t) => {\n\t\t\ttry {\n\t\t\t\tawait closeChat({\n\t\t\t\t\trid,\n\t\t\t\t\t...(comment && { comment }),\n\t\t\t\t\t...(tags && { tags }),\n\t\t\t\t\t...(preferences?.omnichannelTranscriptPDF && { generateTranscriptPdf: true }),\n\t\t\t\t\t...(preferences?.omnichannelTranscriptEmail && requestData\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\ttranscriptEmail: {\n\t\t\t\t\t\t\t\t\tsendToVisitor: preferences?.omnichannelTranscriptEmail,\n\t\t\t\t\t\t\t\t\trequestData,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: { transcriptEmail: { sendToVisitor: false } }),\n\t\t\t\t});\n\t\t\t\tLivechatInquiry.remove({ rid });\n\t\t\t\tcloseModal();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Chat_closed_successfully') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[closeChat, closeModal, dispatchToastMessage, rid, t],\n\t);\n\n\tconst returnChatToQueueMutation = useReturnChatToQueueMutation({\n\t\tonSuccess: () => {\n\t\t\tLegacyRoomManager.close(room.t + rid);\n\t\t\trouter.navigate('/home');\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t\tonSettled: () => {\n\t\t\tcloseModal();\n\t\t},\n\t});\n\n\tconst putChatOnHoldMutation = usePutChatOnHoldMutation({\n\t\tonSuccess: () => {\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Chat_On_Hold_Successfully') });\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t\tonSettled: () => {\n\t\t\tcloseModal();\n\t\t},\n\t});\n\n\tconst handleAction = useMutableCallback(async (id: string) => {\n\t\tswitch (id) {\n\t\t\tcase QuickActionsEnum.MoveQueue:\n\t\t\t\tsetModal(\n\t\t\t\t\t<ReturnChatQueueModal\n\t\t\t\t\t\tonMoveChat={(): void => returnChatToQueueMutation.mutate(rid)}\n\t\t\t\t\t\tonCancel={(): void => {\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.TranscriptPDF:\n\t\t\t\thandleSendTranscriptPDF();\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.TranscriptEmail:\n\t\t\t\tconst visitorEmail = await getVisitorEmail();\n\n\t\t\t\tif (!visitorEmail) {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: t('Customer_without_registered_email') });\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tsetModal(\n\t\t\t\t\t<TranscriptModal\n\t\t\t\t\t\troom={room}\n\t\t\t\t\t\temail={visitorEmail}\n\t\t\t\t\t\tonRequest={handleRequestTranscript}\n\t\t\t\t\t\tonSend={handleSendTranscript}\n\t\t\t\t\t\tonDiscard={handleDiscardTranscript}\n\t\t\t\t\t\tonCancel={closeModal}\n\t\t\t\t\t/>,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.ChatForward:\n\t\t\t\tsetModal(<ForwardChatModal room={room} onForward={handleForwardChat} onCancel={closeModal} />);\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.CloseChat:\n\t\t\t\tconst email = await getVisitorEmail();\n\t\t\t\tsetModal(\n\t\t\t\t\troom.departmentId ? (\n\t\t\t\t\t\t<CloseChatModalData visitorEmail={email} departmentId={room.departmentId} onConfirm={handleClose} onCancel={closeModal} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CloseChatModal visitorEmail={email} onConfirm={handleClose} onCancel={closeModal} />\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.OnHoldChat:\n\t\t\t\tsetModal(\n\t\t\t\t\t<PlaceChatOnHoldModal\n\t\t\t\t\t\tonOnHoldChat={(): void => putChatOnHoldMutation.mutate(rid)}\n\t\t\t\t\t\tonCancel={(): void => {\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\tsetOnHoldModalActive(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>,\n\t\t\t\t);\n\t\t\t\tsetOnHoldModalActive(true);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tconst omnichannelRouteConfig = useOmnichannelRouteConfig();\n\n\tconst manualOnHoldAllowed = useSetting('Livechat_allow_manual_on_hold');\n\n\tconst hasManagerRole = useRole('livechat-manager');\n\tconst hasMonitorRole = useRole('livechat-monitor');\n\n\tconst roomOpen = room?.open && (room.u?._id === uid || hasManagerRole || hasMonitorRole) && room?.lastMessage?.t !== 'livechat-close';\n\tconst canMoveQueue = !!omnichannelRouteConfig?.returnQueue && room?.u !== undefined;\n\tconst canForwardGuest = usePermission('transfer-livechat-guest');\n\tconst canSendTranscriptEmail = usePermission('send-omnichannel-chat-transcript');\n\tconst hasLicense = useHasLicenseModule('livechat-enterprise');\n\tconst canSendTranscriptPDF = usePermission('request-pdf-transcript');\n\tconst canCloseRoom = usePermission('close-livechat-room');\n\tconst canCloseOthersRoom = usePermission('close-others-livechat-room');\n\tconst restrictedOnHold = useSetting('Livechat_allow_manual_on_hold_upon_agent_engagement_only');\n\tconst canRoomBePlacedOnHold = !room.onHold && room.u;\n\tconst canAgentPlaceOnHold = !room.lastMessage?.token;\n\tconst canPlaceChatOnHold = Boolean(manualOnHoldAllowed && canRoomBePlacedOnHold && (!restrictedOnHold || canAgentPlaceOnHold));\n\tconst isRoomOverMacLimit = useIsRoomOverMacLimit(room);\n\n\tconst hasPermissionButtons = (id: string): boolean => {\n\t\tswitch (id) {\n\t\t\tcase QuickActionsEnum.MoveQueue:\n\t\t\t\treturn !isRoomOverMacLimit && !!roomOpen && canMoveQueue;\n\t\t\tcase QuickActionsEnum.ChatForward:\n\t\t\t\treturn !isRoomOverMacLimit && !!roomOpen && canForwardGuest;\n\t\t\tcase QuickActionsEnum.Transcript:\n\t\t\t\treturn !isRoomOverMacLimit && (canSendTranscriptEmail || (hasLicense && canSendTranscriptPDF));\n\t\t\tcase QuickActionsEnum.TranscriptEmail:\n\t\t\t\treturn !isRoomOverMacLimit && canSendTranscriptEmail;\n\t\t\tcase QuickActionsEnum.TranscriptPDF:\n\t\t\t\treturn hasLicense && !isRoomOverMacLimit && canSendTranscriptPDF;\n\t\t\tcase QuickActionsEnum.CloseChat:\n\t\t\t\treturn (subscription && (canCloseRoom || canCloseOthersRoom)) || (!!roomOpen && canCloseOthersRoom);\n\t\t\tcase QuickActionsEnum.OnHoldChat:\n\t\t\t\treturn !!roomOpen && canPlaceChatOnHold;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst quickActions = quickActionHooks\n\t\t.map((quickActionHook) => quickActionHook())\n\t\t.filter((quickAction): quickAction is QuickActionsActionConfig => !!quickAction)\n\t\t.filter((action) => {\n\t\t\tconst { options, id } = action;\n\t\t\tif (options) {\n\t\t\t\taction.options = options.filter(({ id }) => hasPermissionButtons(id));\n\t\t\t}\n\n\t\t\treturn hasPermissionButtons(id);\n\t\t})\n\t\t.sort((a, b) => (a.order ?? 0) - (b.order ?? 0));\n\n\tconst actionDefault = useMutableCallback((actionId: string) => {\n\t\thandleAction(actionId);\n\t});\n\n\treturn { quickActions, actionDefault };\n};\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/Header/Omnichannel/QuickActions/hooks/useQuickActions.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/Header/Omnichannel/QuickActions/hooks/useQuickActions.tsx","inputSourceMap":{"version":3,"file":"client/views/room/Header/Omnichannel/QuickActions/hooks/useQuickActions.tsx","sourceRoot":"","sources":["client/views/room/Header/Omnichannel/QuickActions/hooks/useQuickActions.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport {\n\tuseSetModal,\n\tuseToastMessageDispatch,\n\tuseUserId,\n\tuseSetting,\n\tusePermission,\n\tuseRole,\n\tuseEndpoint,\n\tuseMethod,\n\tuseTranslation,\n\tuseRouter,\n\tuseUserSubscription,\n} from '@rocket.chat/ui-contexts';\nimport React, { useCallback, useState, useEffect } from 'react';\n\nimport PlaceChatOnHoldModal from '../../../../../../../app/livechat-enterprise/client/components/modals/PlaceChatOnHoldModal';\nimport { LivechatInquiry } from '../../../../../../../app/livechat/client/collections/LivechatInquiry';\nimport { LegacyRoomManager } from '../../../../../../../app/ui-utils/client';\nimport CloseChatModal from '../../../../../../components/Omnichannel/modals/CloseChatModal';\nimport CloseChatModalData from '../../../../../../components/Omnichannel/modals/CloseChatModalData';\nimport ForwardChatModal from '../../../../../../components/Omnichannel/modals/ForwardChatModal';\nimport ReturnChatQueueModal from '../../../../../../components/Omnichannel/modals/ReturnChatQueueModal';\nimport TranscriptModal from '../../../../../../components/Omnichannel/modals/TranscriptModal';\nimport { useIsRoomOverMacLimit } from '../../../../../../hooks/omnichannel/useIsRoomOverMacLimit';\nimport { useOmnichannelRouteConfig } from '../../../../../../hooks/omnichannel/useOmnichannelRouteConfig';\nimport { useHasLicenseModule } from '../../../../../../hooks/useHasLicenseModule';\nimport { quickActionHooks } from '../../../../../../ui';\nimport { useOmnichannelRoom } from '../../../../contexts/RoomContext';\nimport type { QuickActionsActionConfig } from '../../../../lib/quickActions';\nimport { QuickActionsEnum } from '../../../../lib/quickActions';\nimport { usePutChatOnHoldMutation } from './usePutChatOnHoldMutation';\nimport { useReturnChatToQueueMutation } from './useReturnChatToQueueMutation';\n\nexport const useQuickActions = (): {\n\tquickActions: QuickActionsActionConfig[];\n\tactionDefault: (actionId: string) => void;\n} => {\n\tconst room = useOmnichannelRoom();\n\tconst setModal = useSetModal();\n\tconst router = useRouter();\n\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst [onHoldModalActive, setOnHoldModalActive] = useState(false);\n\n\tconst visitorRoomId = room.v._id;\n\tconst rid = room._id;\n\tconst uid = useUserId();\n\tconst subscription = useUserSubscription(rid);\n\tconst roomLastMessage = room.lastMessage;\n\n\tconst getVisitorInfo = useEndpoint('GET', '/v1/livechat/visitors.info');\n\n\tconst getVisitorEmail = useMutableCallback(async () => {\n\t\tif (!visitorRoomId) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst {\n\t\t\tvisitor: { visitorEmails },\n\t\t} = await getVisitorInfo({ visitorId: visitorRoomId });\n\n\t\tif (visitorEmails?.length && visitorEmails[0].address) {\n\t\t\treturn visitorEmails[0].address;\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tif (onHoldModalActive && roomLastMessage?.token) {\n\t\t\tsetModal(null);\n\t\t}\n\t}, [roomLastMessage, onHoldModalActive, setModal]);\n\n\tconst closeModal = useCallback(() => setModal(null), [setModal]);\n\n\tconst requestTranscript = useEndpoint('POST', '/v1/livechat/transcript/:rid', { rid });\n\n\tconst handleRequestTranscript = useCallback(\n\t\tasync (email: string, subject: string) => {\n\t\t\ttry {\n\t\t\t\tawait requestTranscript({ email, subject });\n\t\t\t\tcloseModal();\n\t\t\t\tdispatchToastMessage({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tmessage: t('Livechat_email_transcript_has_been_requested'),\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[closeModal, dispatchToastMessage, requestTranscript, t],\n\t);\n\n\tconst sendTranscriptPDF = useEndpoint('POST', '/v1/omnichannel/:rid/request-transcript', { rid });\n\n\tconst handleSendTranscriptPDF = useCallback(async () => {\n\t\ttry {\n\t\t\tawait sendTranscriptPDF();\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('Livechat_transcript_has_been_requested'),\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, sendTranscriptPDF, t]);\n\n\tconst sendTranscript = useMethod('livechat:sendTranscript');\n\n\tconst handleSendTranscript = useCallback(\n\t\tasync (email: string, subject: string, token: string) => {\n\t\t\ttry {\n\t\t\t\tawait sendTranscript(token, rid, email, subject);\n\t\t\t\tcloseModal();\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[closeModal, dispatchToastMessage, rid, sendTranscript],\n\t);\n\n\tconst discardTranscript = useEndpoint('DELETE', '/v1/livechat/transcript/:rid', { rid });\n\n\tconst handleDiscardTranscript = useCallback(async () => {\n\t\ttry {\n\t\t\tawait discardTranscript();\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('Livechat_transcript_request_has_been_canceled'),\n\t\t\t});\n\t\t\tcloseModal();\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [closeModal, discardTranscript, dispatchToastMessage, t]);\n\n\tconst forwardChat = useEndpoint('POST', '/v1/livechat/room.forward');\n\n\tconst handleForwardChat = useCallback(\n\t\tasync (departmentId?: string, userId?: string, comment?: string) => {\n\t\t\tif (departmentId && userId) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst transferData: {\n\t\t\t\troomId: string;\n\t\t\t\tclientAction: boolean;\n\t\t\t\tcomment?: string;\n\t\t\t\tdepartmentId?: string;\n\t\t\t\tuserId?: string;\n\t\t\t} = {\n\t\t\t\troomId: rid,\n\t\t\t\tcomment,\n\t\t\t\tclientAction: true,\n\t\t\t};\n\n\t\t\tif (departmentId) {\n\t\t\t\ttransferData.departmentId = departmentId;\n\t\t\t}\n\t\t\tif (userId) {\n\t\t\t\ttransferData.userId = userId;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait forwardChat(transferData);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Transferred') });\n\t\t\t\trouter.navigate('/home');\n\t\t\t\tLegacyRoomManager.close(room.t + rid);\n\t\t\t\tcloseModal();\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[closeModal, dispatchToastMessage, forwardChat, room.t, rid, router, t],\n\t);\n\n\tconst closeChat = useEndpoint('POST', '/v1/livechat/room.closeByUser');\n\n\tconst handleClose = useCallback(\n\t\tasync (\n\t\t\tcomment?: string,\n\t\t\ttags?: string[],\n\t\t\tpreferences?: { omnichannelTranscriptPDF: boolean; omnichannelTranscriptEmail: boolean },\n\t\t\trequestData?: { email: string; subject: string },\n\t\t) => {\n\t\t\ttry {\n\t\t\t\tawait closeChat({\n\t\t\t\t\trid,\n\t\t\t\t\t...(comment && { comment }),\n\t\t\t\t\t...(tags && { tags }),\n\t\t\t\t\t...(preferences?.omnichannelTranscriptPDF && { generateTranscriptPdf: true }),\n\t\t\t\t\t...(preferences?.omnichannelTranscriptEmail && requestData\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\ttranscriptEmail: {\n\t\t\t\t\t\t\t\t\tsendToVisitor: preferences?.omnichannelTranscriptEmail,\n\t\t\t\t\t\t\t\t\trequestData,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: { transcriptEmail: { sendToVisitor: false } }),\n\t\t\t\t});\n\t\t\t\tLivechatInquiry.remove({ rid });\n\t\t\t\tcloseModal();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Chat_closed_successfully') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[closeChat, closeModal, dispatchToastMessage, rid, t],\n\t);\n\n\tconst returnChatToQueueMutation = useReturnChatToQueueMutation({\n\t\tonSuccess: () => {\n\t\t\tLegacyRoomManager.close(room.t + rid);\n\t\t\trouter.navigate('/home');\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t\tonSettled: () => {\n\t\t\tcloseModal();\n\t\t},\n\t});\n\n\tconst putChatOnHoldMutation = usePutChatOnHoldMutation({\n\t\tonSuccess: () => {\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Chat_On_Hold_Successfully') });\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t\tonSettled: () => {\n\t\t\tcloseModal();\n\t\t},\n\t});\n\n\tconst handleAction = useMutableCallback(async (id: string) => {\n\t\tswitch (id) {\n\t\t\tcase QuickActionsEnum.MoveQueue:\n\t\t\t\tsetModal(\n\t\t\t\t\t<ReturnChatQueueModal\n\t\t\t\t\t\tonMoveChat={(): void => returnChatToQueueMutation.mutate(rid)}\n\t\t\t\t\t\tonCancel={(): void => {\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.TranscriptPDF:\n\t\t\t\thandleSendTranscriptPDF();\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.TranscriptEmail:\n\t\t\t\tconst visitorEmail = await getVisitorEmail();\n\n\t\t\t\tif (!visitorEmail) {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: t('Customer_without_registered_email') });\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tsetModal(\n\t\t\t\t\t<TranscriptModal\n\t\t\t\t\t\troom={room}\n\t\t\t\t\t\temail={visitorEmail}\n\t\t\t\t\t\tonRequest={handleRequestTranscript}\n\t\t\t\t\t\tonSend={handleSendTranscript}\n\t\t\t\t\t\tonDiscard={handleDiscardTranscript}\n\t\t\t\t\t\tonCancel={closeModal}\n\t\t\t\t\t/>,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.ChatForward:\n\t\t\t\tsetModal(<ForwardChatModal room={room} onForward={handleForwardChat} onCancel={closeModal} />);\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.CloseChat:\n\t\t\t\tconst email = await getVisitorEmail();\n\t\t\t\tsetModal(\n\t\t\t\t\troom.departmentId ? (\n\t\t\t\t\t\t<CloseChatModalData visitorEmail={email} departmentId={room.departmentId} onConfirm={handleClose} onCancel={closeModal} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CloseChatModal visitorEmail={email} onConfirm={handleClose} onCancel={closeModal} />\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.OnHoldChat:\n\t\t\t\tsetModal(\n\t\t\t\t\t<PlaceChatOnHoldModal\n\t\t\t\t\t\tonOnHoldChat={(): void => putChatOnHoldMutation.mutate(rid)}\n\t\t\t\t\t\tonCancel={(): void => {\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\tsetOnHoldModalActive(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>,\n\t\t\t\t);\n\t\t\t\tsetOnHoldModalActive(true);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tconst omnichannelRouteConfig = useOmnichannelRouteConfig();\n\n\tconst manualOnHoldAllowed = useSetting('Livechat_allow_manual_on_hold');\n\n\tconst hasManagerRole = useRole('livechat-manager');\n\tconst hasMonitorRole = useRole('livechat-monitor');\n\n\tconst roomOpen = room?.open && (room.u?._id === uid || hasManagerRole || hasMonitorRole) && room?.lastMessage?.t !== 'livechat-close';\n\tconst canMoveQueue = !!omnichannelRouteConfig?.returnQueue && room?.u !== undefined;\n\tconst canForwardGuest = usePermission('transfer-livechat-guest');\n\tconst canSendTranscriptEmail = usePermission('send-omnichannel-chat-transcript');\n\tconst hasLicense = useHasLicenseModule('livechat-enterprise');\n\tconst canSendTranscriptPDF = usePermission('request-pdf-transcript');\n\tconst canCloseRoom = usePermission('close-livechat-room');\n\tconst canCloseOthersRoom = usePermission('close-others-livechat-room');\n\tconst restrictedOnHold = useSetting('Livechat_allow_manual_on_hold_upon_agent_engagement_only');\n\tconst canRoomBePlacedOnHold = !room.onHold && room.u;\n\tconst canAgentPlaceOnHold = !room.lastMessage?.token;\n\tconst canPlaceChatOnHold = Boolean(manualOnHoldAllowed && canRoomBePlacedOnHold && (!restrictedOnHold || canAgentPlaceOnHold));\n\tconst isRoomOverMacLimit = useIsRoomOverMacLimit(room);\n\n\tconst hasPermissionButtons = (id: string): boolean => {\n\t\tswitch (id) {\n\t\t\tcase QuickActionsEnum.MoveQueue:\n\t\t\t\treturn !isRoomOverMacLimit && !!roomOpen && canMoveQueue;\n\t\t\tcase QuickActionsEnum.ChatForward:\n\t\t\t\treturn !isRoomOverMacLimit && !!roomOpen && canForwardGuest;\n\t\t\tcase QuickActionsEnum.Transcript:\n\t\t\t\treturn !isRoomOverMacLimit && (canSendTranscriptEmail || (hasLicense && canSendTranscriptPDF));\n\t\t\tcase QuickActionsEnum.TranscriptEmail:\n\t\t\t\treturn !isRoomOverMacLimit && canSendTranscriptEmail;\n\t\t\tcase QuickActionsEnum.TranscriptPDF:\n\t\t\t\treturn hasLicense && !isRoomOverMacLimit && canSendTranscriptPDF;\n\t\t\tcase QuickActionsEnum.CloseChat:\n\t\t\t\treturn (subscription && (canCloseRoom || canCloseOthersRoom)) || (!!roomOpen && canCloseOthersRoom);\n\t\t\tcase QuickActionsEnum.OnHoldChat:\n\t\t\t\treturn !!roomOpen && canPlaceChatOnHold;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst quickActions = quickActionHooks\n\t\t.map((quickActionHook) => quickActionHook())\n\t\t.filter((quickAction): quickAction is QuickActionsActionConfig => !!quickAction)\n\t\t.filter((action) => {\n\t\t\tconst { options, id } = action;\n\t\t\tif (options) {\n\t\t\t\taction.options = options.filter(({ id }) => hasPermissionButtons(id));\n\t\t\t}\n\n\t\t\treturn hasPermissionButtons(id);\n\t\t})\n\t\t.sort((a, b) => (a.order ?? 0) - (b.order ?? 0));\n\n\tconst actionDefault = useMutableCallback((actionId: string) => {\n\t\thandleAction(actionId);\n\t});\n\n\treturn { quickActions, actionDefault };\n};\n"]}}},"code":"var _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 1);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 2);\nmodule.export({\n  useQuickActions: function () {\n    return useQuickActions;\n  }\n});\nvar useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback: function (v) {\n    useMutableCallback = v;\n  }\n}, 0);\nvar useSetModal, useToastMessageDispatch, useUserId, useSetting, usePermission, useRole, useEndpoint, useMethod, useTranslation, useRouter, useUserSubscription;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useSetModal: function (v) {\n    useSetModal = v;\n  },\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  useUserId: function (v) {\n    useUserId = v;\n  },\n  useSetting: function (v) {\n    useSetting = v;\n  },\n  usePermission: function (v) {\n    usePermission = v;\n  },\n  useRole: function (v) {\n    useRole = v;\n  },\n  useEndpoint: function (v) {\n    useEndpoint = v;\n  },\n  useMethod: function (v) {\n    useMethod = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useRouter: function (v) {\n    useRouter = v;\n  },\n  useUserSubscription: function (v) {\n    useUserSubscription = v;\n  }\n}, 1);\nvar React, useCallback, useState, useEffect;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  }\n}, 2);\nvar PlaceChatOnHoldModal;\nmodule.link(\"../../../../../../../app/livechat-enterprise/client/components/modals/PlaceChatOnHoldModal\", {\n  \"default\": function (v) {\n    PlaceChatOnHoldModal = v;\n  }\n}, 3);\nvar LivechatInquiry;\nmodule.link(\"../../../../../../../app/livechat/client/collections/LivechatInquiry\", {\n  LivechatInquiry: function (v) {\n    LivechatInquiry = v;\n  }\n}, 4);\nvar LegacyRoomManager;\nmodule.link(\"../../../../../../../app/ui-utils/client\", {\n  LegacyRoomManager: function (v) {\n    LegacyRoomManager = v;\n  }\n}, 5);\nvar CloseChatModal;\nmodule.link(\"../../../../../../components/Omnichannel/modals/CloseChatModal\", {\n  \"default\": function (v) {\n    CloseChatModal = v;\n  }\n}, 6);\nvar CloseChatModalData;\nmodule.link(\"../../../../../../components/Omnichannel/modals/CloseChatModalData\", {\n  \"default\": function (v) {\n    CloseChatModalData = v;\n  }\n}, 7);\nvar ForwardChatModal;\nmodule.link(\"../../../../../../components/Omnichannel/modals/ForwardChatModal\", {\n  \"default\": function (v) {\n    ForwardChatModal = v;\n  }\n}, 8);\nvar ReturnChatQueueModal;\nmodule.link(\"../../../../../../components/Omnichannel/modals/ReturnChatQueueModal\", {\n  \"default\": function (v) {\n    ReturnChatQueueModal = v;\n  }\n}, 9);\nvar TranscriptModal;\nmodule.link(\"../../../../../../components/Omnichannel/modals/TranscriptModal\", {\n  \"default\": function (v) {\n    TranscriptModal = v;\n  }\n}, 10);\nvar useIsRoomOverMacLimit;\nmodule.link(\"../../../../../../hooks/omnichannel/useIsRoomOverMacLimit\", {\n  useIsRoomOverMacLimit: function (v) {\n    useIsRoomOverMacLimit = v;\n  }\n}, 11);\nvar useOmnichannelRouteConfig;\nmodule.link(\"../../../../../../hooks/omnichannel/useOmnichannelRouteConfig\", {\n  useOmnichannelRouteConfig: function (v) {\n    useOmnichannelRouteConfig = v;\n  }\n}, 12);\nvar useHasLicenseModule;\nmodule.link(\"../../../../../../hooks/useHasLicenseModule\", {\n  useHasLicenseModule: function (v) {\n    useHasLicenseModule = v;\n  }\n}, 13);\nvar quickActionHooks;\nmodule.link(\"../../../../../../ui\", {\n  quickActionHooks: function (v) {\n    quickActionHooks = v;\n  }\n}, 14);\nvar useOmnichannelRoom;\nmodule.link(\"../../../../contexts/RoomContext\", {\n  useOmnichannelRoom: function (v) {\n    useOmnichannelRoom = v;\n  }\n}, 15);\nvar QuickActionsEnum;\nmodule.link(\"../../../../lib/quickActions\", {\n  QuickActionsEnum: function (v) {\n    QuickActionsEnum = v;\n  }\n}, 16);\nvar usePutChatOnHoldMutation;\nmodule.link(\"./usePutChatOnHoldMutation\", {\n  usePutChatOnHoldMutation: function (v) {\n    usePutChatOnHoldMutation = v;\n  }\n}, 17);\nvar useReturnChatToQueueMutation;\nmodule.link(\"./useReturnChatToQueueMutation\", {\n  useReturnChatToQueueMutation: function (v) {\n    useReturnChatToQueueMutation = v;\n  }\n}, 18);\nvar useQuickActions = function () {\n  var _room$u, _room$lastMessage, _room$lastMessage2;\n  var room = useOmnichannelRoom();\n  var setModal = useSetModal();\n  var router = useRouter();\n  var t = useTranslation();\n  var dispatchToastMessage = useToastMessageDispatch();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    onHoldModalActive = _useState2[0],\n    setOnHoldModalActive = _useState2[1];\n  var visitorRoomId = room.v._id;\n  var rid = room._id;\n  var uid = useUserId();\n  var subscription = useUserSubscription(rid);\n  var roomLastMessage = room.lastMessage;\n  var getVisitorInfo = useEndpoint('GET', '/v1/livechat/visitors.info');\n  var getVisitorEmail = useMutableCallback(function () {\n    function _callee() {\n      var _await$getVisitorInfo, visitorEmails;\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (visitorRoomId) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(getVisitorInfo({\n                visitorId: visitorRoomId\n              }));\n            case 4:\n              _await$getVisitorInfo = _context.sent;\n              visitorEmails = _await$getVisitorInfo.visitor.visitorEmails;\n              if (!(visitorEmails !== null && visitorEmails !== void 0 && visitorEmails.length && visitorEmails[0].address)) {\n                _context.next = 8;\n                break;\n              }\n              return _context.abrupt(\"return\", visitorEmails[0].address);\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, null, Promise);\n    }\n    return _callee;\n  }());\n  useEffect(function () {\n    if (onHoldModalActive && roomLastMessage !== null && roomLastMessage !== void 0 && roomLastMessage.token) {\n      setModal(null);\n    }\n  }, [roomLastMessage, onHoldModalActive, setModal]);\n  var closeModal = useCallback(function () {\n    return setModal(null);\n  }, [setModal]);\n  var requestTranscript = useEndpoint('POST', '/v1/livechat/transcript/:rid', {\n    rid: rid\n  });\n  var handleRequestTranscript = useCallback(function () {\n    function _callee2(email, subject) {\n      return _regeneratorRuntime.async(function () {\n        function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(requestTranscript({\n                email: email,\n                subject: subject\n              }));\n            case 3:\n              closeModal();\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Livechat_email_transcript_has_been_requested')\n              });\n              _context2.next = 10;\n              break;\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context2.t0\n              });\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n        return _callee2$;\n      }(), null, null, [[0, 7]], Promise);\n    }\n    return _callee2;\n  }(), [closeModal, dispatchToastMessage, requestTranscript, t]);\n  var sendTranscriptPDF = useEndpoint('POST', '/v1/omnichannel/:rid/request-transcript', {\n    rid: rid\n  });\n  var handleSendTranscriptPDF = useCallback(function () {\n    function _callee3() {\n      return _regeneratorRuntime.async(function () {\n        function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(sendTranscriptPDF());\n            case 3:\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Livechat_transcript_has_been_requested')\n              });\n              _context3.next = 9;\n              break;\n            case 6:\n              _context3.prev = 6;\n              _context3.t0 = _context3[\"catch\"](0);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context3.t0\n              });\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n        return _callee3$;\n      }(), null, null, [[0, 6]], Promise);\n    }\n    return _callee3;\n  }(), [dispatchToastMessage, sendTranscriptPDF, t]);\n  var sendTranscript = useMethod('livechat:sendTranscript');\n  var handleSendTranscript = useCallback(function () {\n    function _callee4(email, subject, token) {\n      return _regeneratorRuntime.async(function () {\n        function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return _regeneratorRuntime.awrap(sendTranscript(token, rid, email, subject));\n            case 3:\n              closeModal();\n              _context4.next = 9;\n              break;\n            case 6:\n              _context4.prev = 6;\n              _context4.t0 = _context4[\"catch\"](0);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context4.t0\n              });\n            case 9:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n        return _callee4$;\n      }(), null, null, [[0, 6]], Promise);\n    }\n    return _callee4;\n  }(), [closeModal, dispatchToastMessage, rid, sendTranscript]);\n  var discardTranscript = useEndpoint('DELETE', '/v1/livechat/transcript/:rid', {\n    rid: rid\n  });\n  var handleDiscardTranscript = useCallback(function () {\n    function _callee5() {\n      return _regeneratorRuntime.async(function () {\n        function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return _regeneratorRuntime.awrap(discardTranscript());\n            case 3:\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Livechat_transcript_request_has_been_canceled')\n              });\n              closeModal();\n              _context5.next = 10;\n              break;\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](0);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context5.t0\n              });\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n        return _callee5$;\n      }(), null, null, [[0, 7]], Promise);\n    }\n    return _callee5;\n  }(), [closeModal, discardTranscript, dispatchToastMessage, t]);\n  var forwardChat = useEndpoint('POST', '/v1/livechat/room.forward');\n  var handleForwardChat = useCallback(function () {\n    function _callee6(departmentId, userId, comment) {\n      var transferData;\n      return _regeneratorRuntime.async(function () {\n        function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              if (!(departmentId && userId)) {\n                _context6.next = 2;\n                break;\n              }\n              return _context6.abrupt(\"return\");\n            case 2:\n              transferData = {\n                roomId: rid,\n                comment: comment,\n                clientAction: true\n              };\n              if (departmentId) {\n                transferData.departmentId = departmentId;\n              }\n              if (userId) {\n                transferData.userId = userId;\n              }\n              _context6.prev = 5;\n              _context6.next = 8;\n              return _regeneratorRuntime.awrap(forwardChat(transferData));\n            case 8:\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Transferred')\n              });\n              router.navigate('/home');\n              LegacyRoomManager.close(room.t + rid);\n              closeModal();\n              _context6.next = 17;\n              break;\n            case 14:\n              _context6.prev = 14;\n              _context6.t0 = _context6[\"catch\"](5);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context6.t0\n              });\n            case 17:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n        return _callee6$;\n      }(), null, null, [[5, 14]], Promise);\n    }\n    return _callee6;\n  }(), [closeModal, dispatchToastMessage, forwardChat, room.t, rid, router, t]);\n  var closeChat = useEndpoint('POST', '/v1/livechat/room.closeByUser');\n  var handleClose = useCallback(function () {\n    function _callee7(comment, tags, preferences, requestData) {\n      return _regeneratorRuntime.async(function () {\n        function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return _regeneratorRuntime.awrap(closeChat(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n                rid: rid\n              }, comment && {\n                comment: comment\n              }), tags && {\n                tags: tags\n              }), (preferences === null || preferences === void 0 ? void 0 : preferences.omnichannelTranscriptPDF) && {\n                generateTranscriptPdf: true\n              }), preferences !== null && preferences !== void 0 && preferences.omnichannelTranscriptEmail && requestData ? {\n                transcriptEmail: {\n                  sendToVisitor: preferences === null || preferences === void 0 ? void 0 : preferences.omnichannelTranscriptEmail,\n                  requestData: requestData\n                }\n              } : {\n                transcriptEmail: {\n                  sendToVisitor: false\n                }\n              })));\n            case 3:\n              LivechatInquiry.remove({\n                rid: rid\n              });\n              closeModal();\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Chat_closed_successfully')\n              });\n              _context7.next = 11;\n              break;\n            case 8:\n              _context7.prev = 8;\n              _context7.t0 = _context7[\"catch\"](0);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context7.t0\n              });\n            case 11:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n        return _callee7$;\n      }(), null, null, [[0, 8]], Promise);\n    }\n    return _callee7;\n  }(), [closeChat, closeModal, dispatchToastMessage, rid, t]);\n  var returnChatToQueueMutation = useReturnChatToQueueMutation({\n    onSuccess: function () {\n      LegacyRoomManager.close(room.t + rid);\n      router.navigate('/home');\n    },\n    onError: function (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    },\n    onSettled: function () {\n      closeModal();\n    }\n  });\n  var putChatOnHoldMutation = usePutChatOnHoldMutation({\n    onSuccess: function () {\n      dispatchToastMessage({\n        type: 'success',\n        message: t('Chat_On_Hold_Successfully')\n      });\n    },\n    onError: function (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    },\n    onSettled: function () {\n      closeModal();\n    }\n  });\n  var handleAction = useMutableCallback(function () {\n    function _callee8(id) {\n      var visitorEmail, email;\n      return _regeneratorRuntime.async(function () {\n        function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.t0 = id;\n              _context8.next = _context8.t0 === QuickActionsEnum.MoveQueue ? 3 : _context8.t0 === QuickActionsEnum.TranscriptPDF ? 5 : _context8.t0 === QuickActionsEnum.TranscriptEmail ? 7 : _context8.t0 === QuickActionsEnum.ChatForward ? 15 : _context8.t0 === QuickActionsEnum.CloseChat ? 17 : _context8.t0 === QuickActionsEnum.OnHoldChat ? 22 : 25;\n              break;\n            case 3:\n              setModal( /*#__PURE__*/React.createElement(ReturnChatQueueModal, {\n                onMoveChat: function () {\n                  return returnChatToQueueMutation.mutate(rid);\n                },\n                onCancel: function () {\n                  closeModal();\n                }\n              }));\n              return _context8.abrupt(\"break\", 26);\n            case 5:\n              handleSendTranscriptPDF();\n              return _context8.abrupt(\"break\", 26);\n            case 7:\n              _context8.next = 9;\n              return _regeneratorRuntime.awrap(getVisitorEmail());\n            case 9:\n              visitorEmail = _context8.sent;\n              if (visitorEmail) {\n                _context8.next = 13;\n                break;\n              }\n              dispatchToastMessage({\n                type: 'error',\n                message: t('Customer_without_registered_email')\n              });\n              return _context8.abrupt(\"break\", 26);\n            case 13:\n              setModal( /*#__PURE__*/React.createElement(TranscriptModal, {\n                room: room,\n                email: visitorEmail,\n                onRequest: handleRequestTranscript,\n                onSend: handleSendTranscript,\n                onDiscard: handleDiscardTranscript,\n                onCancel: closeModal\n              }));\n              return _context8.abrupt(\"break\", 26);\n            case 15:\n              setModal( /*#__PURE__*/React.createElement(ForwardChatModal, {\n                room: room,\n                onForward: handleForwardChat,\n                onCancel: closeModal\n              }));\n              return _context8.abrupt(\"break\", 26);\n            case 17:\n              _context8.next = 19;\n              return _regeneratorRuntime.awrap(getVisitorEmail());\n            case 19:\n              email = _context8.sent;\n              setModal(room.departmentId ? /*#__PURE__*/React.createElement(CloseChatModalData, {\n                visitorEmail: email,\n                departmentId: room.departmentId,\n                onConfirm: handleClose,\n                onCancel: closeModal\n              }) : /*#__PURE__*/React.createElement(CloseChatModal, {\n                visitorEmail: email,\n                onConfirm: handleClose,\n                onCancel: closeModal\n              }));\n              return _context8.abrupt(\"break\", 26);\n            case 22:\n              setModal( /*#__PURE__*/React.createElement(PlaceChatOnHoldModal, {\n                onOnHoldChat: function () {\n                  return putChatOnHoldMutation.mutate(rid);\n                },\n                onCancel: function () {\n                  closeModal();\n                  setOnHoldModalActive(false);\n                }\n              }));\n              setOnHoldModalActive(true);\n              return _context8.abrupt(\"break\", 26);\n            case 25:\n              return _context8.abrupt(\"break\", 26);\n            case 26:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n        return _callee8$;\n      }(), null, null, null, Promise);\n    }\n    return _callee8;\n  }());\n  var omnichannelRouteConfig = useOmnichannelRouteConfig();\n  var manualOnHoldAllowed = useSetting('Livechat_allow_manual_on_hold');\n  var hasManagerRole = useRole('livechat-manager');\n  var hasMonitorRole = useRole('livechat-monitor');\n  var roomOpen = (room === null || room === void 0 ? void 0 : room.open) && (((_room$u = room.u) === null || _room$u === void 0 ? void 0 : _room$u._id) === uid || hasManagerRole || hasMonitorRole) && (room === null || room === void 0 ? void 0 : (_room$lastMessage = room.lastMessage) === null || _room$lastMessage === void 0 ? void 0 : _room$lastMessage.t) !== 'livechat-close';\n  var canMoveQueue = !!(omnichannelRouteConfig !== null && omnichannelRouteConfig !== void 0 && omnichannelRouteConfig.returnQueue) && (room === null || room === void 0 ? void 0 : room.u) !== undefined;\n  var canForwardGuest = usePermission('transfer-livechat-guest');\n  var canSendTranscriptEmail = usePermission('send-omnichannel-chat-transcript');\n  var hasLicense = useHasLicenseModule('livechat-enterprise');\n  var canSendTranscriptPDF = usePermission('request-pdf-transcript');\n  var canCloseRoom = usePermission('close-livechat-room');\n  var canCloseOthersRoom = usePermission('close-others-livechat-room');\n  var restrictedOnHold = useSetting('Livechat_allow_manual_on_hold_upon_agent_engagement_only');\n  var canRoomBePlacedOnHold = !room.onHold && room.u;\n  var canAgentPlaceOnHold = !((_room$lastMessage2 = room.lastMessage) !== null && _room$lastMessage2 !== void 0 && _room$lastMessage2.token);\n  var canPlaceChatOnHold = Boolean(manualOnHoldAllowed && canRoomBePlacedOnHold && (!restrictedOnHold || canAgentPlaceOnHold));\n  var isRoomOverMacLimit = useIsRoomOverMacLimit(room);\n  var hasPermissionButtons = function (id) {\n    switch (id) {\n      case QuickActionsEnum.MoveQueue:\n        return !isRoomOverMacLimit && !!roomOpen && canMoveQueue;\n      case QuickActionsEnum.ChatForward:\n        return !isRoomOverMacLimit && !!roomOpen && canForwardGuest;\n      case QuickActionsEnum.Transcript:\n        return !isRoomOverMacLimit && (canSendTranscriptEmail || hasLicense && canSendTranscriptPDF);\n      case QuickActionsEnum.TranscriptEmail:\n        return !isRoomOverMacLimit && canSendTranscriptEmail;\n      case QuickActionsEnum.TranscriptPDF:\n        return hasLicense && !isRoomOverMacLimit && canSendTranscriptPDF;\n      case QuickActionsEnum.CloseChat:\n        return subscription && (canCloseRoom || canCloseOthersRoom) || !!roomOpen && canCloseOthersRoom;\n      case QuickActionsEnum.OnHoldChat:\n        return !!roomOpen && canPlaceChatOnHold;\n      default:\n        break;\n    }\n    return false;\n  };\n  var quickActions = quickActionHooks.map(function (quickActionHook) {\n    return quickActionHook();\n  }).filter(function (quickAction) {\n    return !!quickAction;\n  }).filter(function (action) {\n    var options = action.options,\n      id = action.id;\n    if (options) {\n      action.options = options.filter(function (_ref) {\n        var id = _ref.id;\n        return hasPermissionButtons(id);\n      });\n    }\n    return hasPermissionButtons(id);\n  }).sort(function (a, b) {\n    var _a$order, _b$order;\n    return ((_a$order = a.order) !== null && _a$order !== void 0 ? _a$order : 0) - ((_b$order = b.order) !== null && _b$order !== void 0 ? _b$order : 0);\n  });\n  var actionDefault = useMutableCallback(function (actionId) {\n    handleAction(actionId);\n  });\n  return {\n    quickActions: quickActions,\n    actionDefault: actionDefault\n  };\n};","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","_objectSpread","_slicedToArray","export","useQuickActions","useMutableCallback","useSetModal","useToastMessageDispatch","useUserId","useSetting","usePermission","useRole","useEndpoint","useMethod","useTranslation","useRouter","useUserSubscription","React","useCallback","useState","useEffect","PlaceChatOnHoldModal","LivechatInquiry","LegacyRoomManager","CloseChatModal","CloseChatModalData","ForwardChatModal","ReturnChatQueueModal","TranscriptModal","useIsRoomOverMacLimit","useOmnichannelRouteConfig","useHasLicenseModule","quickActionHooks","useOmnichannelRoom","QuickActionsEnum","usePutChatOnHoldMutation","useReturnChatToQueueMutation","_room$u","_room$lastMessage","_room$lastMessage2","room","setModal","router","t","dispatchToastMessage","_useState","_useState2","onHoldModalActive","setOnHoldModalActive","visitorRoomId","_id","rid","uid","subscription","roomLastMessage","lastMessage","getVisitorInfo","getVisitorEmail","_callee","_await$getVisitorInfo","visitorEmails","async","_callee$","_context","prev","next","abrupt","awrap","visitorId","sent","visitor","length","address","stop","Promise","token","closeModal","requestTranscript","handleRequestTranscript","_callee2","email","subject","_callee2$","_context2","type","message","t0","sendTranscriptPDF","handleSendTranscriptPDF","_callee3","_callee3$","_context3","sendTranscript","handleSendTranscript","_callee4","_callee4$","_context4","discardTranscript","handleDiscardTranscript","_callee5","_callee5$","_context5","forwardChat","handleForwardChat","_callee6","departmentId","userId","comment","transferData","_callee6$","_context6","roomId","clientAction","navigate","close","closeChat","handleClose","_callee7","tags","preferences","requestData","_callee7$","_context7","omnichannelTranscriptPDF","generateTranscriptPdf","omnichannelTranscriptEmail","transcriptEmail","sendToVisitor","remove","returnChatToQueueMutation","onSuccess","onError","error","onSettled","putChatOnHoldMutation","handleAction","_callee8","id","visitorEmail","_callee8$","_context8","MoveQueue","TranscriptPDF","TranscriptEmail","ChatForward","CloseChat","OnHoldChat","createElement","onMoveChat","mutate","onCancel","onRequest","onSend","onDiscard","onForward","onConfirm","onOnHoldChat","omnichannelRouteConfig","manualOnHoldAllowed","hasManagerRole","hasMonitorRole","roomOpen","open","u","canMoveQueue","returnQueue","undefined","canForwardGuest","canSendTranscriptEmail","hasLicense","canSendTranscriptPDF","canCloseRoom","canCloseOthersRoom","restrictedOnHold","canRoomBePlacedOnHold","onHold","canAgentPlaceOnHold","canPlaceChatOnHold","Boolean","isRoomOverMacLimit","hasPermissionButtons","Transcript","quickActions","map","quickActionHook","filter","quickAction","action","options","_ref","sort","a","b","_a$order","_b$order","order","actionDefault","actionId"],"sources":["client/views/room/Header/Omnichannel/QuickActions/hooks/useQuickActions.tsx"],"sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport {\n\tuseSetModal,\n\tuseToastMessageDispatch,\n\tuseUserId,\n\tuseSetting,\n\tusePermission,\n\tuseRole,\n\tuseEndpoint,\n\tuseMethod,\n\tuseTranslation,\n\tuseRouter,\n\tuseUserSubscription,\n} from '@rocket.chat/ui-contexts';\nimport React, { useCallback, useState, useEffect } from 'react';\n\nimport PlaceChatOnHoldModal from '../../../../../../../app/livechat-enterprise/client/components/modals/PlaceChatOnHoldModal';\nimport { LivechatInquiry } from '../../../../../../../app/livechat/client/collections/LivechatInquiry';\nimport { LegacyRoomManager } from '../../../../../../../app/ui-utils/client';\nimport CloseChatModal from '../../../../../../components/Omnichannel/modals/CloseChatModal';\nimport CloseChatModalData from '../../../../../../components/Omnichannel/modals/CloseChatModalData';\nimport ForwardChatModal from '../../../../../../components/Omnichannel/modals/ForwardChatModal';\nimport ReturnChatQueueModal from '../../../../../../components/Omnichannel/modals/ReturnChatQueueModal';\nimport TranscriptModal from '../../../../../../components/Omnichannel/modals/TranscriptModal';\nimport { useIsRoomOverMacLimit } from '../../../../../../hooks/omnichannel/useIsRoomOverMacLimit';\nimport { useOmnichannelRouteConfig } from '../../../../../../hooks/omnichannel/useOmnichannelRouteConfig';\nimport { useHasLicenseModule } from '../../../../../../hooks/useHasLicenseModule';\nimport { quickActionHooks } from '../../../../../../ui';\nimport { useOmnichannelRoom } from '../../../../contexts/RoomContext';\nimport type { QuickActionsActionConfig } from '../../../../lib/quickActions';\nimport { QuickActionsEnum } from '../../../../lib/quickActions';\nimport { usePutChatOnHoldMutation } from './usePutChatOnHoldMutation';\nimport { useReturnChatToQueueMutation } from './useReturnChatToQueueMutation';\n\nexport const useQuickActions = (): {\n\tquickActions: QuickActionsActionConfig[];\n\tactionDefault: (actionId: string) => void;\n} => {\n\tconst room = useOmnichannelRoom();\n\tconst setModal = useSetModal();\n\tconst router = useRouter();\n\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst [onHoldModalActive, setOnHoldModalActive] = useState(false);\n\n\tconst visitorRoomId = room.v._id;\n\tconst rid = room._id;\n\tconst uid = useUserId();\n\tconst subscription = useUserSubscription(rid);\n\tconst roomLastMessage = room.lastMessage;\n\n\tconst getVisitorInfo = useEndpoint('GET', '/v1/livechat/visitors.info');\n\n\tconst getVisitorEmail = useMutableCallback(async () => {\n\t\tif (!visitorRoomId) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst {\n\t\t\tvisitor: { visitorEmails },\n\t\t} = await getVisitorInfo({ visitorId: visitorRoomId });\n\n\t\tif (visitorEmails?.length && visitorEmails[0].address) {\n\t\t\treturn visitorEmails[0].address;\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tif (onHoldModalActive && roomLastMessage?.token) {\n\t\t\tsetModal(null);\n\t\t}\n\t}, [roomLastMessage, onHoldModalActive, setModal]);\n\n\tconst closeModal = useCallback(() => setModal(null), [setModal]);\n\n\tconst requestTranscript = useEndpoint('POST', '/v1/livechat/transcript/:rid', { rid });\n\n\tconst handleRequestTranscript = useCallback(\n\t\tasync (email: string, subject: string) => {\n\t\t\ttry {\n\t\t\t\tawait requestTranscript({ email, subject });\n\t\t\t\tcloseModal();\n\t\t\t\tdispatchToastMessage({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tmessage: t('Livechat_email_transcript_has_been_requested'),\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[closeModal, dispatchToastMessage, requestTranscript, t],\n\t);\n\n\tconst sendTranscriptPDF = useEndpoint('POST', '/v1/omnichannel/:rid/request-transcript', { rid });\n\n\tconst handleSendTranscriptPDF = useCallback(async () => {\n\t\ttry {\n\t\t\tawait sendTranscriptPDF();\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('Livechat_transcript_has_been_requested'),\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, sendTranscriptPDF, t]);\n\n\tconst sendTranscript = useMethod('livechat:sendTranscript');\n\n\tconst handleSendTranscript = useCallback(\n\t\tasync (email: string, subject: string, token: string) => {\n\t\t\ttry {\n\t\t\t\tawait sendTranscript(token, rid, email, subject);\n\t\t\t\tcloseModal();\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[closeModal, dispatchToastMessage, rid, sendTranscript],\n\t);\n\n\tconst discardTranscript = useEndpoint('DELETE', '/v1/livechat/transcript/:rid', { rid });\n\n\tconst handleDiscardTranscript = useCallback(async () => {\n\t\ttry {\n\t\t\tawait discardTranscript();\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('Livechat_transcript_request_has_been_canceled'),\n\t\t\t});\n\t\t\tcloseModal();\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [closeModal, discardTranscript, dispatchToastMessage, t]);\n\n\tconst forwardChat = useEndpoint('POST', '/v1/livechat/room.forward');\n\n\tconst handleForwardChat = useCallback(\n\t\tasync (departmentId?: string, userId?: string, comment?: string) => {\n\t\t\tif (departmentId && userId) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst transferData: {\n\t\t\t\troomId: string;\n\t\t\t\tclientAction: boolean;\n\t\t\t\tcomment?: string;\n\t\t\t\tdepartmentId?: string;\n\t\t\t\tuserId?: string;\n\t\t\t} = {\n\t\t\t\troomId: rid,\n\t\t\t\tcomment,\n\t\t\t\tclientAction: true,\n\t\t\t};\n\n\t\t\tif (departmentId) {\n\t\t\t\ttransferData.departmentId = departmentId;\n\t\t\t}\n\t\t\tif (userId) {\n\t\t\t\ttransferData.userId = userId;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait forwardChat(transferData);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Transferred') });\n\t\t\t\trouter.navigate('/home');\n\t\t\t\tLegacyRoomManager.close(room.t + rid);\n\t\t\t\tcloseModal();\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[closeModal, dispatchToastMessage, forwardChat, room.t, rid, router, t],\n\t);\n\n\tconst closeChat = useEndpoint('POST', '/v1/livechat/room.closeByUser');\n\n\tconst handleClose = useCallback(\n\t\tasync (\n\t\t\tcomment?: string,\n\t\t\ttags?: string[],\n\t\t\tpreferences?: { omnichannelTranscriptPDF: boolean; omnichannelTranscriptEmail: boolean },\n\t\t\trequestData?: { email: string; subject: string },\n\t\t) => {\n\t\t\ttry {\n\t\t\t\tawait closeChat({\n\t\t\t\t\trid,\n\t\t\t\t\t...(comment && { comment }),\n\t\t\t\t\t...(tags && { tags }),\n\t\t\t\t\t...(preferences?.omnichannelTranscriptPDF && { generateTranscriptPdf: true }),\n\t\t\t\t\t...(preferences?.omnichannelTranscriptEmail && requestData\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\ttranscriptEmail: {\n\t\t\t\t\t\t\t\t\tsendToVisitor: preferences?.omnichannelTranscriptEmail,\n\t\t\t\t\t\t\t\t\trequestData,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: { transcriptEmail: { sendToVisitor: false } }),\n\t\t\t\t});\n\t\t\t\tLivechatInquiry.remove({ rid });\n\t\t\t\tcloseModal();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Chat_closed_successfully') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[closeChat, closeModal, dispatchToastMessage, rid, t],\n\t);\n\n\tconst returnChatToQueueMutation = useReturnChatToQueueMutation({\n\t\tonSuccess: () => {\n\t\t\tLegacyRoomManager.close(room.t + rid);\n\t\t\trouter.navigate('/home');\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t\tonSettled: () => {\n\t\t\tcloseModal();\n\t\t},\n\t});\n\n\tconst putChatOnHoldMutation = usePutChatOnHoldMutation({\n\t\tonSuccess: () => {\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Chat_On_Hold_Successfully') });\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t\tonSettled: () => {\n\t\t\tcloseModal();\n\t\t},\n\t});\n\n\tconst handleAction = useMutableCallback(async (id: string) => {\n\t\tswitch (id) {\n\t\t\tcase QuickActionsEnum.MoveQueue:\n\t\t\t\tsetModal(\n\t\t\t\t\t<ReturnChatQueueModal\n\t\t\t\t\t\tonMoveChat={(): void => returnChatToQueueMutation.mutate(rid)}\n\t\t\t\t\t\tonCancel={(): void => {\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.TranscriptPDF:\n\t\t\t\thandleSendTranscriptPDF();\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.TranscriptEmail:\n\t\t\t\tconst visitorEmail = await getVisitorEmail();\n\n\t\t\t\tif (!visitorEmail) {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: t('Customer_without_registered_email') });\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tsetModal(\n\t\t\t\t\t<TranscriptModal\n\t\t\t\t\t\troom={room}\n\t\t\t\t\t\temail={visitorEmail}\n\t\t\t\t\t\tonRequest={handleRequestTranscript}\n\t\t\t\t\t\tonSend={handleSendTranscript}\n\t\t\t\t\t\tonDiscard={handleDiscardTranscript}\n\t\t\t\t\t\tonCancel={closeModal}\n\t\t\t\t\t/>,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.ChatForward:\n\t\t\t\tsetModal(<ForwardChatModal room={room} onForward={handleForwardChat} onCancel={closeModal} />);\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.CloseChat:\n\t\t\t\tconst email = await getVisitorEmail();\n\t\t\t\tsetModal(\n\t\t\t\t\troom.departmentId ? (\n\t\t\t\t\t\t<CloseChatModalData visitorEmail={email} departmentId={room.departmentId} onConfirm={handleClose} onCancel={closeModal} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CloseChatModal visitorEmail={email} onConfirm={handleClose} onCancel={closeModal} />\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase QuickActionsEnum.OnHoldChat:\n\t\t\t\tsetModal(\n\t\t\t\t\t<PlaceChatOnHoldModal\n\t\t\t\t\t\tonOnHoldChat={(): void => putChatOnHoldMutation.mutate(rid)}\n\t\t\t\t\t\tonCancel={(): void => {\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\tsetOnHoldModalActive(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>,\n\t\t\t\t);\n\t\t\t\tsetOnHoldModalActive(true);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tconst omnichannelRouteConfig = useOmnichannelRouteConfig();\n\n\tconst manualOnHoldAllowed = useSetting('Livechat_allow_manual_on_hold');\n\n\tconst hasManagerRole = useRole('livechat-manager');\n\tconst hasMonitorRole = useRole('livechat-monitor');\n\n\tconst roomOpen = room?.open && (room.u?._id === uid || hasManagerRole || hasMonitorRole) && room?.lastMessage?.t !== 'livechat-close';\n\tconst canMoveQueue = !!omnichannelRouteConfig?.returnQueue && room?.u !== undefined;\n\tconst canForwardGuest = usePermission('transfer-livechat-guest');\n\tconst canSendTranscriptEmail = usePermission('send-omnichannel-chat-transcript');\n\tconst hasLicense = useHasLicenseModule('livechat-enterprise');\n\tconst canSendTranscriptPDF = usePermission('request-pdf-transcript');\n\tconst canCloseRoom = usePermission('close-livechat-room');\n\tconst canCloseOthersRoom = usePermission('close-others-livechat-room');\n\tconst restrictedOnHold = useSetting('Livechat_allow_manual_on_hold_upon_agent_engagement_only');\n\tconst canRoomBePlacedOnHold = !room.onHold && room.u;\n\tconst canAgentPlaceOnHold = !room.lastMessage?.token;\n\tconst canPlaceChatOnHold = Boolean(manualOnHoldAllowed && canRoomBePlacedOnHold && (!restrictedOnHold || canAgentPlaceOnHold));\n\tconst isRoomOverMacLimit = useIsRoomOverMacLimit(room);\n\n\tconst hasPermissionButtons = (id: string): boolean => {\n\t\tswitch (id) {\n\t\t\tcase QuickActionsEnum.MoveQueue:\n\t\t\t\treturn !isRoomOverMacLimit && !!roomOpen && canMoveQueue;\n\t\t\tcase QuickActionsEnum.ChatForward:\n\t\t\t\treturn !isRoomOverMacLimit && !!roomOpen && canForwardGuest;\n\t\t\tcase QuickActionsEnum.Transcript:\n\t\t\t\treturn !isRoomOverMacLimit && (canSendTranscriptEmail || (hasLicense && canSendTranscriptPDF));\n\t\t\tcase QuickActionsEnum.TranscriptEmail:\n\t\t\t\treturn !isRoomOverMacLimit && canSendTranscriptEmail;\n\t\t\tcase QuickActionsEnum.TranscriptPDF:\n\t\t\t\treturn hasLicense && !isRoomOverMacLimit && canSendTranscriptPDF;\n\t\t\tcase QuickActionsEnum.CloseChat:\n\t\t\t\treturn (subscription && (canCloseRoom || canCloseOthersRoom)) || (!!roomOpen && canCloseOthersRoom);\n\t\t\tcase QuickActionsEnum.OnHoldChat:\n\t\t\t\treturn !!roomOpen && canPlaceChatOnHold;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst quickActions = quickActionHooks\n\t\t.map((quickActionHook) => quickActionHook())\n\t\t.filter((quickAction): quickAction is QuickActionsActionConfig => !!quickAction)\n\t\t.filter((action) => {\n\t\t\tconst { options, id } = action;\n\t\t\tif (options) {\n\t\t\t\taction.options = options.filter(({ id }) => hasPermissionButtons(id));\n\t\t\t}\n\n\t\t\treturn hasPermissionButtons(id);\n\t\t})\n\t\t.sort((a, b) => (a.order ?? 0) - (b.order ?? 0));\n\n\tconst actionDefault = useMutableCallback((actionId: string) => {\n\t\thandleAction(actionId);\n\t});\n\n\treturn { quickActions, actionDefault };\n};\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"d0501164e146c3e14a8a0a2d8c84a73a797db6f7"}
