{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/body/RoomBodyV2.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/room/body/RoomBodyV2.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/body/RoomBodyV2.tsx","inputSourceMap":{"version":3,"file":"client/views/room/body/RoomBodyV2.tsx","sourceRoot":"","sources":["client/views/room/body/RoomBodyV2.tsx"],"names":[],"mappings":"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","sourcesContent":["import { css } from '@rocket.chat/css-in-js';\nimport { Box } from '@rocket.chat/fuselage';\nimport { useMergedRefs } from '@rocket.chat/fuselage-hooks';\nimport { usePermission, useRole, useSetting, useTranslation, useUser, useUserPreference } from '@rocket.chat/ui-contexts';\nimport type { MouseEventHandler, ReactElement } from 'react';\nimport React, { memo, useCallback, useMemo, useRef } from 'react';\n\nimport { isTruthy } from '../../../../lib/isTruthy';\nimport { CustomScrollbars } from '../../../components/CustomScrollbars';\nimport { useEmbeddedLayout } from '../../../hooks/useEmbeddedLayout';\nimport { BubbleDate } from '../BubbleDate';\nimport { MessageList } from '../MessageList';\nimport DropTargetOverlay from './DropTargetOverlay';\nimport JumpToRecentMessageButton from './JumpToRecentMessageButton';\nimport MessageListErrorBoundary from '../MessageList/MessageListErrorBoundary';\nimport RoomAnnouncement from '../RoomAnnouncement';\nimport LoadingMessagesIndicator from './LoadingMessagesIndicator';\nimport RetentionPolicyWarning from './RetentionPolicyWarning';\nimport ComposerContainer from '../composer/ComposerContainer';\nimport RoomComposer from '../composer/RoomComposer/RoomComposer';\nimport { useChat } from '../contexts/ChatContext';\nimport { useRoom, useRoomSubscription, useRoomMessages } from '../contexts/RoomContext';\nimport { useRoomToolbox } from '../contexts/RoomToolboxContext';\nimport { useDateScroll } from '../hooks/useDateScroll';\nimport { useMessageListNavigation } from '../hooks/useMessageListNavigation';\nimport { useRetentionPolicy } from '../hooks/useRetentionPolicy';\nimport RoomForeword from './RoomForeword/RoomForeword';\nimport { RoomTopic } from './RoomTopic';\nimport UnreadMessagesIndicator from './UnreadMessagesIndicator';\nimport UploadProgressIndicator from './UploadProgressIndicator';\nimport { useBannerSection } from './hooks/useBannerSection';\nimport { useFileUpload } from './hooks/useFileUpload';\nimport { useGetMore } from './hooks/useGetMore';\nimport { useGoToHomeOnRemoved } from './hooks/useGoToHomeOnRemoved';\nimport { useHasNewMessages } from './hooks/useHasNewMessages';\nimport { useListIsAtBottom } from './hooks/useListIsAtBottom';\nimport { useQuoteMessageByUrl } from './hooks/useQuoteMessageByUrl';\nimport { useReadMessageWindowEvents } from './hooks/useReadMessageWindowEvents';\nimport { useRestoreScrollPosition } from './hooks/useRestoreScrollPosition';\nimport { useHandleUnread } from './hooks/useUnreadMessages';\n\nconst RoomBody = (): ReactElement => {\n\tconst chat = useChat();\n\tif (!chat) {\n\t\tthrow new Error('No ChatContext provided');\n\t}\n\n\tconst t = useTranslation();\n\tconst isLayoutEmbedded = useEmbeddedLayout();\n\tconst room = useRoom();\n\tconst user = useUser();\n\tconst toolbox = useRoomToolbox();\n\tconst admin = useRole('admin');\n\tconst subscription = useRoomSubscription();\n\n\tconst retentionPolicy = useRetentionPolicy(room);\n\n\tconst hideFlexTab = useUserPreference<boolean>('hideFlexTab') || undefined;\n\tconst hideUsernames = useUserPreference<boolean>('hideUsernames');\n\tconst displayAvatars = useUserPreference<boolean>('displayAvatars');\n\n\tconst { hasMorePreviousMessages, hasMoreNextMessages, isLoadingMoreMessages } = useRoomMessages();\n\n\tconst allowAnonymousRead = useSetting('Accounts_AllowAnonymousRead') as boolean | undefined;\n\n\tconst canPreviewChannelRoom = usePermission('preview-c-room');\n\n\tconst subscribed = !!subscription;\n\n\tconst canPreview = useMemo(() => {\n\t\tif (room && room.t !== 'c') {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (allowAnonymousRead === true) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (canPreviewChannelRoom) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn subscribed;\n\t}, [allowAnonymousRead, canPreviewChannelRoom, room, subscribed]);\n\n\tconst innerBoxRef = useRef<HTMLDivElement | null>(null);\n\n\tconst {\n\t\twrapperRef: unreadBarWrapperRef,\n\t\tinnerRef: unreadBarInnerRef,\n\t\thandleUnreadBarJumpToButtonClick,\n\t\thandleMarkAsReadButtonClick,\n\t\tcounter: [unread],\n\t} = useHandleUnread(room, subscription);\n\n\tconst { innerRef: dateScrollInnerRef, bubbleRef, listStyle, ...bubbleDate } = useDateScroll();\n\n\tconst { innerRef: isAtBottomInnerRef, atBottomRef, sendToBottom, sendToBottomIfNecessary, isAtBottom } = useListIsAtBottom();\n\n\tconst { innerRef: getMoreInnerRef } = useGetMore(room._id, atBottomRef);\n\n\tconst { wrapperRef: sectionWrapperRef, hideSection, innerRef: sectionScrollRef } = useBannerSection();\n\n\tconst {\n\t\tuploads,\n\t\thandleUploadFiles,\n\t\thandleUploadProgressClose,\n\t\ttargeDrop: [fileUploadTriggerProps, fileUploadOverlayProps],\n\t} = useFileUpload();\n\n\tconst { innerRef: restoreScrollPositionInnerRef } = useRestoreScrollPosition(room._id);\n\n\tconst { messageListRef } = useMessageListNavigation();\n\n\tconst { handleNewMessageButtonClick, handleJumpToRecentButtonClick, handleComposerResize, hasNewMessages, newMessagesScrollRef } =\n\t\tuseHasNewMessages(room._id, user?._id, atBottomRef, {\n\t\t\tsendToBottom,\n\t\t\tsendToBottomIfNecessary,\n\t\t\tisAtBottom,\n\t\t});\n\n\tconst innerRef = useMergedRefs(\n\t\tdateScrollInnerRef,\n\t\tinnerBoxRef,\n\t\trestoreScrollPositionInnerRef,\n\t\tisAtBottomInnerRef,\n\t\tnewMessagesScrollRef,\n\t\tsectionScrollRef,\n\t\tunreadBarInnerRef,\n\t\tgetMoreInnerRef,\n\n\t\tmessageListRef,\n\t);\n\n\tconst wrapperBoxRefs = useMergedRefs(unreadBarWrapperRef);\n\n\tconst handleNavigateToPreviousMessage = useCallback((): void => {\n\t\tchat.messageEditing.toPreviousMessage();\n\t}, [chat.messageEditing]);\n\n\tconst handleNavigateToNextMessage = useCallback((): void => {\n\t\tchat.messageEditing.toNextMessage();\n\t}, [chat.messageEditing]);\n\n\tconst handleCloseFlexTab: MouseEventHandler<HTMLElement> = useCallback(\n\t\t(e): void => {\n\t\t\t/*\n\t\t\t * check if the element is a button or anchor\n\t\t\t * it considers the role as well\n\t\t\t * usually, the flex tab is closed when clicking outside of it\n\t\t\t * but if the user clicks on a button or anchor, we don't want to close the flex tab\n\t\t\t * because the user could be actually trying to open the flex tab through those elements\n\t\t\t */\n\n\t\t\tconst checkElement = (element: HTMLElement | null): boolean => {\n\t\t\t\tif (!element) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (element instanceof HTMLButtonElement || element.getAttribute('role') === 'button') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (element instanceof HTMLAnchorElement || element.getAttribute('role') === 'link') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn checkElement(element.parentElement);\n\t\t\t};\n\n\t\t\tif (checkElement(e.target as HTMLElement)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttoolbox.closeTab();\n\t\t},\n\t\t[toolbox],\n\t);\n\n\tuseGoToHomeOnRemoved(room, user?._id);\n\tuseReadMessageWindowEvents();\n\tuseQuoteMessageByUrl();\n\n\tconst wrapperStyle = css`\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\tz-index: 5;\n\t\ttop: 0px;\n\n\t\t&.animated-hidden {\n\t\t\ttop: -88px;\n\t\t}\n\t`;\n\n\treturn (\n\t\t<>\n\t\t\t<Box position='relative' w='full'>\n\t\t\t\t<Box animated className={[wrapperStyle, hideSection && 'animated-hidden'].filter(isTruthy)} ref={sectionWrapperRef}>\n\t\t\t\t\t<RoomTopic room={room} user={user} />\n\t\t\t\t\t{!isLayoutEmbedded && room.announcement && <RoomAnnouncement announcement={room.announcement} announcementDetails={undefined} />}\n\t\t\t\t</Box>\n\t\t\t</Box>\n\n\t\t\t<Box key={room._id} className={['main-content-flex', listStyle]}>\n\t\t\t\t<section\n\t\t\t\t\trole='presentation'\n\t\t\t\t\tclassName={`messages-container flex-tab-main-content ${admin ? 'admin' : ''}`}\n\t\t\t\t\tid={`chat-window-${room._id}`}\n\t\t\t\t\tonClick={hideFlexTab && handleCloseFlexTab}\n\t\t\t\t>\n\t\t\t\t\t<div className='messages-container-wrapper'>\n\t\t\t\t\t\t<div className='messages-container-main' ref={wrapperBoxRefs} {...fileUploadTriggerProps}>\n\t\t\t\t\t\t\t<DropTargetOverlay {...fileUploadOverlayProps} />\n\t\t\t\t\t\t\t<Box position='absolute' w='full'>\n\t\t\t\t\t\t\t\t<div className={['container-bars', uploads.length && 'show'].filter(isTruthy).join(' ')}>\n\t\t\t\t\t\t\t\t\t{uploads.map((upload) => (\n\t\t\t\t\t\t\t\t\t\t<UploadProgressIndicator\n\t\t\t\t\t\t\t\t\t\t\tkey={upload.id}\n\t\t\t\t\t\t\t\t\t\t\tid={upload.id}\n\t\t\t\t\t\t\t\t\t\t\tname={upload.name}\n\t\t\t\t\t\t\t\t\t\t\tpercentage={upload.percentage}\n\t\t\t\t\t\t\t\t\t\t\terror={upload.error instanceof Error ? upload.error.message : undefined}\n\t\t\t\t\t\t\t\t\t\t\tonClose={handleUploadProgressClose}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{Boolean(unread) && (\n\t\t\t\t\t\t\t\t\t<UnreadMessagesIndicator\n\t\t\t\t\t\t\t\t\t\tcount={unread}\n\t\t\t\t\t\t\t\t\t\tonJumpButtonClick={handleUnreadBarJumpToButtonClick}\n\t\t\t\t\t\t\t\t\t\tonMarkAsReadButtonClick={handleMarkAsReadButtonClick}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<BubbleDate ref={bubbleRef} {...bubbleDate} />\n\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t<div className={['messages-box'].filter(isTruthy).join(' ')}>\n\t\t\t\t\t\t\t\t<JumpToRecentMessageButton visible={hasNewMessages} onClick={handleNewMessageButtonClick} text={t('New_messages')} />\n\t\t\t\t\t\t\t\t<JumpToRecentMessageButton\n\t\t\t\t\t\t\t\t\tvisible={hasMoreNextMessages}\n\t\t\t\t\t\t\t\t\tonClick={handleJumpToRecentButtonClick}\n\t\t\t\t\t\t\t\t\ttext={t('Jump_to_recent_messages')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{!canPreview ? (\n\t\t\t\t\t\t\t\t\t<div className='content room-not-found error-color'>\n\t\t\t\t\t\t\t\t\t\t<div>{t('You_must_join_to_view_messages_in_this_channel')}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t\t\t\t'wrapper',\n\t\t\t\t\t\t\t\t\t\thasMoreNextMessages && 'has-more-next',\n\t\t\t\t\t\t\t\t\t\thideUsernames && 'hide-usernames',\n\t\t\t\t\t\t\t\t\t\t!displayAvatars && 'hide-avatar',\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t.filter(isTruthy)\n\t\t\t\t\t\t\t\t\t\t.join(' ')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<MessageListErrorBoundary>\n\t\t\t\t\t\t\t\t\t\t<CustomScrollbars ref={innerRef}>\n\t\t\t\t\t\t\t\t\t\t\t<ul className='messages-list' aria-label={t('Message_list')} aria-busy={isLoadingMoreMessages}>\n\t\t\t\t\t\t\t\t\t\t\t\t{canPreview ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{hasMorePreviousMessages ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='load-more'>{isLoadingMoreMessages ? <LoadingMessagesIndicator /> : null}</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RoomForeword user={user} room={room} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{retentionPolicy?.isActive ? <RetentionPolicyWarning room={room} /> : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t<MessageList rid={room._id} messageListRef={innerBoxRef} />\n\t\t\t\t\t\t\t\t\t\t\t\t{hasMoreNextMessages ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='load-more'>{isLoadingMoreMessages ? <LoadingMessagesIndicator /> : null}</li>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t</CustomScrollbars>\n\t\t\t\t\t\t\t\t\t</MessageListErrorBoundary>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<RoomComposer>\n\t\t\t\t\t\t\t\t<ComposerContainer\n\t\t\t\t\t\t\t\t\tsubscription={subscription}\n\t\t\t\t\t\t\t\t\tonResize={handleComposerResize}\n\t\t\t\t\t\t\t\t\tonNavigateToPreviousMessage={handleNavigateToPreviousMessage}\n\t\t\t\t\t\t\t\t\tonNavigateToNextMessage={handleNavigateToNextMessage}\n\t\t\t\t\t\t\t\t\tonUploadFiles={handleUploadFiles}\n\t\t\t\t\t\t\t\t\t// TODO: send previewUrls param\n\t\t\t\t\t\t\t\t\t// previewUrls={}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RoomComposer>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</Box>\n\t\t</>\n\t);\n};\n\nexport default memo(RoomBody);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/body/RoomBodyV2.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/body/RoomBodyV2.tsx","inputSourceMap":{"version":3,"file":"client/views/room/body/RoomBodyV2.tsx","sourceRoot":"","sources":["client/views/room/body/RoomBodyV2.tsx"],"names":[],"mappings":"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","sourcesContent":["import { css } from '@rocket.chat/css-in-js';\nimport { Box } from '@rocket.chat/fuselage';\nimport { useMergedRefs } from '@rocket.chat/fuselage-hooks';\nimport { usePermission, useRole, useSetting, useTranslation, useUser, useUserPreference } from '@rocket.chat/ui-contexts';\nimport type { MouseEventHandler, ReactElement } from 'react';\nimport React, { memo, useCallback, useMemo, useRef } from 'react';\n\nimport { isTruthy } from '../../../../lib/isTruthy';\nimport { CustomScrollbars } from '../../../components/CustomScrollbars';\nimport { useEmbeddedLayout } from '../../../hooks/useEmbeddedLayout';\nimport { BubbleDate } from '../BubbleDate';\nimport { MessageList } from '../MessageList';\nimport DropTargetOverlay from './DropTargetOverlay';\nimport JumpToRecentMessageButton from './JumpToRecentMessageButton';\nimport MessageListErrorBoundary from '../MessageList/MessageListErrorBoundary';\nimport RoomAnnouncement from '../RoomAnnouncement';\nimport LoadingMessagesIndicator from './LoadingMessagesIndicator';\nimport RetentionPolicyWarning from './RetentionPolicyWarning';\nimport ComposerContainer from '../composer/ComposerContainer';\nimport RoomComposer from '../composer/RoomComposer/RoomComposer';\nimport { useChat } from '../contexts/ChatContext';\nimport { useRoom, useRoomSubscription, useRoomMessages } from '../contexts/RoomContext';\nimport { useRoomToolbox } from '../contexts/RoomToolboxContext';\nimport { useDateScroll } from '../hooks/useDateScroll';\nimport { useMessageListNavigation } from '../hooks/useMessageListNavigation';\nimport { useRetentionPolicy } from '../hooks/useRetentionPolicy';\nimport RoomForeword from './RoomForeword/RoomForeword';\nimport { RoomTopic } from './RoomTopic';\nimport UnreadMessagesIndicator from './UnreadMessagesIndicator';\nimport UploadProgressIndicator from './UploadProgressIndicator';\nimport { useBannerSection } from './hooks/useBannerSection';\nimport { useFileUpload } from './hooks/useFileUpload';\nimport { useGetMore } from './hooks/useGetMore';\nimport { useGoToHomeOnRemoved } from './hooks/useGoToHomeOnRemoved';\nimport { useHasNewMessages } from './hooks/useHasNewMessages';\nimport { useListIsAtBottom } from './hooks/useListIsAtBottom';\nimport { useQuoteMessageByUrl } from './hooks/useQuoteMessageByUrl';\nimport { useReadMessageWindowEvents } from './hooks/useReadMessageWindowEvents';\nimport { useRestoreScrollPosition } from './hooks/useRestoreScrollPosition';\nimport { useHandleUnread } from './hooks/useUnreadMessages';\n\nconst RoomBody = (): ReactElement => {\n\tconst chat = useChat();\n\tif (!chat) {\n\t\tthrow new Error('No ChatContext provided');\n\t}\n\n\tconst t = useTranslation();\n\tconst isLayoutEmbedded = useEmbeddedLayout();\n\tconst room = useRoom();\n\tconst user = useUser();\n\tconst toolbox = useRoomToolbox();\n\tconst admin = useRole('admin');\n\tconst subscription = useRoomSubscription();\n\n\tconst retentionPolicy = useRetentionPolicy(room);\n\n\tconst hideFlexTab = useUserPreference<boolean>('hideFlexTab') || undefined;\n\tconst hideUsernames = useUserPreference<boolean>('hideUsernames');\n\tconst displayAvatars = useUserPreference<boolean>('displayAvatars');\n\n\tconst { hasMorePreviousMessages, hasMoreNextMessages, isLoadingMoreMessages } = useRoomMessages();\n\n\tconst allowAnonymousRead = useSetting('Accounts_AllowAnonymousRead') as boolean | undefined;\n\n\tconst canPreviewChannelRoom = usePermission('preview-c-room');\n\n\tconst subscribed = !!subscription;\n\n\tconst canPreview = useMemo(() => {\n\t\tif (room && room.t !== 'c') {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (allowAnonymousRead === true) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (canPreviewChannelRoom) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn subscribed;\n\t}, [allowAnonymousRead, canPreviewChannelRoom, room, subscribed]);\n\n\tconst innerBoxRef = useRef<HTMLDivElement | null>(null);\n\n\tconst {\n\t\twrapperRef: unreadBarWrapperRef,\n\t\tinnerRef: unreadBarInnerRef,\n\t\thandleUnreadBarJumpToButtonClick,\n\t\thandleMarkAsReadButtonClick,\n\t\tcounter: [unread],\n\t} = useHandleUnread(room, subscription);\n\n\tconst { innerRef: dateScrollInnerRef, bubbleRef, listStyle, ...bubbleDate } = useDateScroll();\n\n\tconst { innerRef: isAtBottomInnerRef, atBottomRef, sendToBottom, sendToBottomIfNecessary, isAtBottom } = useListIsAtBottom();\n\n\tconst { innerRef: getMoreInnerRef } = useGetMore(room._id, atBottomRef);\n\n\tconst { wrapperRef: sectionWrapperRef, hideSection, innerRef: sectionScrollRef } = useBannerSection();\n\n\tconst {\n\t\tuploads,\n\t\thandleUploadFiles,\n\t\thandleUploadProgressClose,\n\t\ttargeDrop: [fileUploadTriggerProps, fileUploadOverlayProps],\n\t} = useFileUpload();\n\n\tconst { innerRef: restoreScrollPositionInnerRef } = useRestoreScrollPosition(room._id);\n\n\tconst { messageListRef } = useMessageListNavigation();\n\n\tconst { handleNewMessageButtonClick, handleJumpToRecentButtonClick, handleComposerResize, hasNewMessages, newMessagesScrollRef } =\n\t\tuseHasNewMessages(room._id, user?._id, atBottomRef, {\n\t\t\tsendToBottom,\n\t\t\tsendToBottomIfNecessary,\n\t\t\tisAtBottom,\n\t\t});\n\n\tconst innerRef = useMergedRefs(\n\t\tdateScrollInnerRef,\n\t\tinnerBoxRef,\n\t\trestoreScrollPositionInnerRef,\n\t\tisAtBottomInnerRef,\n\t\tnewMessagesScrollRef,\n\t\tsectionScrollRef,\n\t\tunreadBarInnerRef,\n\t\tgetMoreInnerRef,\n\n\t\tmessageListRef,\n\t);\n\n\tconst wrapperBoxRefs = useMergedRefs(unreadBarWrapperRef);\n\n\tconst handleNavigateToPreviousMessage = useCallback((): void => {\n\t\tchat.messageEditing.toPreviousMessage();\n\t}, [chat.messageEditing]);\n\n\tconst handleNavigateToNextMessage = useCallback((): void => {\n\t\tchat.messageEditing.toNextMessage();\n\t}, [chat.messageEditing]);\n\n\tconst handleCloseFlexTab: MouseEventHandler<HTMLElement> = useCallback(\n\t\t(e): void => {\n\t\t\t/*\n\t\t\t * check if the element is a button or anchor\n\t\t\t * it considers the role as well\n\t\t\t * usually, the flex tab is closed when clicking outside of it\n\t\t\t * but if the user clicks on a button or anchor, we don't want to close the flex tab\n\t\t\t * because the user could be actually trying to open the flex tab through those elements\n\t\t\t */\n\n\t\t\tconst checkElement = (element: HTMLElement | null): boolean => {\n\t\t\t\tif (!element) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (element instanceof HTMLButtonElement || element.getAttribute('role') === 'button') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (element instanceof HTMLAnchorElement || element.getAttribute('role') === 'link') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn checkElement(element.parentElement);\n\t\t\t};\n\n\t\t\tif (checkElement(e.target as HTMLElement)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttoolbox.closeTab();\n\t\t},\n\t\t[toolbox],\n\t);\n\n\tuseGoToHomeOnRemoved(room, user?._id);\n\tuseReadMessageWindowEvents();\n\tuseQuoteMessageByUrl();\n\n\tconst wrapperStyle = css`\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\tz-index: 5;\n\t\ttop: 0px;\n\n\t\t&.animated-hidden {\n\t\t\ttop: -88px;\n\t\t}\n\t`;\n\n\treturn (\n\t\t<>\n\t\t\t<Box position='relative' w='full'>\n\t\t\t\t<Box animated className={[wrapperStyle, hideSection && 'animated-hidden'].filter(isTruthy)} ref={sectionWrapperRef}>\n\t\t\t\t\t<RoomTopic room={room} user={user} />\n\t\t\t\t\t{!isLayoutEmbedded && room.announcement && <RoomAnnouncement announcement={room.announcement} announcementDetails={undefined} />}\n\t\t\t\t</Box>\n\t\t\t</Box>\n\n\t\t\t<Box key={room._id} className={['main-content-flex', listStyle]}>\n\t\t\t\t<section\n\t\t\t\t\trole='presentation'\n\t\t\t\t\tclassName={`messages-container flex-tab-main-content ${admin ? 'admin' : ''}`}\n\t\t\t\t\tid={`chat-window-${room._id}`}\n\t\t\t\t\tonClick={hideFlexTab && handleCloseFlexTab}\n\t\t\t\t>\n\t\t\t\t\t<div className='messages-container-wrapper'>\n\t\t\t\t\t\t<div className='messages-container-main' ref={wrapperBoxRefs} {...fileUploadTriggerProps}>\n\t\t\t\t\t\t\t<DropTargetOverlay {...fileUploadOverlayProps} />\n\t\t\t\t\t\t\t<Box position='absolute' w='full'>\n\t\t\t\t\t\t\t\t<div className={['container-bars', uploads.length && 'show'].filter(isTruthy).join(' ')}>\n\t\t\t\t\t\t\t\t\t{uploads.map((upload) => (\n\t\t\t\t\t\t\t\t\t\t<UploadProgressIndicator\n\t\t\t\t\t\t\t\t\t\t\tkey={upload.id}\n\t\t\t\t\t\t\t\t\t\t\tid={upload.id}\n\t\t\t\t\t\t\t\t\t\t\tname={upload.name}\n\t\t\t\t\t\t\t\t\t\t\tpercentage={upload.percentage}\n\t\t\t\t\t\t\t\t\t\t\terror={upload.error instanceof Error ? upload.error.message : undefined}\n\t\t\t\t\t\t\t\t\t\t\tonClose={handleUploadProgressClose}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{Boolean(unread) && (\n\t\t\t\t\t\t\t\t\t<UnreadMessagesIndicator\n\t\t\t\t\t\t\t\t\t\tcount={unread}\n\t\t\t\t\t\t\t\t\t\tonJumpButtonClick={handleUnreadBarJumpToButtonClick}\n\t\t\t\t\t\t\t\t\t\tonMarkAsReadButtonClick={handleMarkAsReadButtonClick}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<BubbleDate ref={bubbleRef} {...bubbleDate} />\n\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t<div className={['messages-box'].filter(isTruthy).join(' ')}>\n\t\t\t\t\t\t\t\t<JumpToRecentMessageButton visible={hasNewMessages} onClick={handleNewMessageButtonClick} text={t('New_messages')} />\n\t\t\t\t\t\t\t\t<JumpToRecentMessageButton\n\t\t\t\t\t\t\t\t\tvisible={hasMoreNextMessages}\n\t\t\t\t\t\t\t\t\tonClick={handleJumpToRecentButtonClick}\n\t\t\t\t\t\t\t\t\ttext={t('Jump_to_recent_messages')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{!canPreview ? (\n\t\t\t\t\t\t\t\t\t<div className='content room-not-found error-color'>\n\t\t\t\t\t\t\t\t\t\t<div>{t('You_must_join_to_view_messages_in_this_channel')}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t\t\t\t'wrapper',\n\t\t\t\t\t\t\t\t\t\thasMoreNextMessages && 'has-more-next',\n\t\t\t\t\t\t\t\t\t\thideUsernames && 'hide-usernames',\n\t\t\t\t\t\t\t\t\t\t!displayAvatars && 'hide-avatar',\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t.filter(isTruthy)\n\t\t\t\t\t\t\t\t\t\t.join(' ')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<MessageListErrorBoundary>\n\t\t\t\t\t\t\t\t\t\t<CustomScrollbars ref={innerRef}>\n\t\t\t\t\t\t\t\t\t\t\t<ul className='messages-list' aria-label={t('Message_list')} aria-busy={isLoadingMoreMessages}>\n\t\t\t\t\t\t\t\t\t\t\t\t{canPreview ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{hasMorePreviousMessages ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='load-more'>{isLoadingMoreMessages ? <LoadingMessagesIndicator /> : null}</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RoomForeword user={user} room={room} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{retentionPolicy?.isActive ? <RetentionPolicyWarning room={room} /> : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t<MessageList rid={room._id} messageListRef={innerBoxRef} />\n\t\t\t\t\t\t\t\t\t\t\t\t{hasMoreNextMessages ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='load-more'>{isLoadingMoreMessages ? <LoadingMessagesIndicator /> : null}</li>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t</CustomScrollbars>\n\t\t\t\t\t\t\t\t\t</MessageListErrorBoundary>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<RoomComposer>\n\t\t\t\t\t\t\t\t<ComposerContainer\n\t\t\t\t\t\t\t\t\tsubscription={subscription}\n\t\t\t\t\t\t\t\t\tonResize={handleComposerResize}\n\t\t\t\t\t\t\t\t\tonNavigateToPreviousMessage={handleNavigateToPreviousMessage}\n\t\t\t\t\t\t\t\t\tonNavigateToNextMessage={handleNavigateToNextMessage}\n\t\t\t\t\t\t\t\t\tonUploadFiles={handleUploadFiles}\n\t\t\t\t\t\t\t\t\t// TODO: send previewUrls param\n\t\t\t\t\t\t\t\t\t// previewUrls={}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RoomComposer>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</Box>\n\t\t</>\n\t);\n};\n\nexport default memo(RoomBody);\n"]}}},"code":"var _templateObject;\nconst _excluded = [\"innerRef\", \"bubbleRef\", \"listStyle\"];\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet _taggedTemplateLiteral;\nmodule.link(\"@babel/runtime/helpers/taggedTemplateLiteral\", {\n  default(v) {\n    _taggedTemplateLiteral = v;\n  }\n}, 1);\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 2);\nlet css;\nmodule.link(\"@rocket.chat/css-in-js\", {\n  css(v) {\n    css = v;\n  }\n}, 0);\nlet Box;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box(v) {\n    Box = v;\n  }\n}, 1);\nlet useMergedRefs;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMergedRefs(v) {\n    useMergedRefs = v;\n  }\n}, 2);\nlet usePermission, useRole, useSetting, useTranslation, useUser, useUserPreference;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  usePermission(v) {\n    usePermission = v;\n  },\n  useRole(v) {\n    useRole = v;\n  },\n  useSetting(v) {\n    useSetting = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  },\n  useUser(v) {\n    useUser = v;\n  },\n  useUserPreference(v) {\n    useUserPreference = v;\n  }\n}, 3);\nlet React, memo, useCallback, useMemo, useRef;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  memo(v) {\n    memo = v;\n  },\n  useCallback(v) {\n    useCallback = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  },\n  useRef(v) {\n    useRef = v;\n  }\n}, 4);\nlet isTruthy;\nmodule.link(\"../../../../lib/isTruthy\", {\n  isTruthy(v) {\n    isTruthy = v;\n  }\n}, 5);\nlet CustomScrollbars;\nmodule.link(\"../../../components/CustomScrollbars\", {\n  CustomScrollbars(v) {\n    CustomScrollbars = v;\n  }\n}, 6);\nlet useEmbeddedLayout;\nmodule.link(\"../../../hooks/useEmbeddedLayout\", {\n  useEmbeddedLayout(v) {\n    useEmbeddedLayout = v;\n  }\n}, 7);\nlet BubbleDate;\nmodule.link(\"../BubbleDate\", {\n  BubbleDate(v) {\n    BubbleDate = v;\n  }\n}, 8);\nlet MessageList;\nmodule.link(\"../MessageList\", {\n  MessageList(v) {\n    MessageList = v;\n  }\n}, 9);\nlet DropTargetOverlay;\nmodule.link(\"./DropTargetOverlay\", {\n  default(v) {\n    DropTargetOverlay = v;\n  }\n}, 10);\nlet JumpToRecentMessageButton;\nmodule.link(\"./JumpToRecentMessageButton\", {\n  default(v) {\n    JumpToRecentMessageButton = v;\n  }\n}, 11);\nlet MessageListErrorBoundary;\nmodule.link(\"../MessageList/MessageListErrorBoundary\", {\n  default(v) {\n    MessageListErrorBoundary = v;\n  }\n}, 12);\nlet RoomAnnouncement;\nmodule.link(\"../RoomAnnouncement\", {\n  default(v) {\n    RoomAnnouncement = v;\n  }\n}, 13);\nlet LoadingMessagesIndicator;\nmodule.link(\"./LoadingMessagesIndicator\", {\n  default(v) {\n    LoadingMessagesIndicator = v;\n  }\n}, 14);\nlet RetentionPolicyWarning;\nmodule.link(\"./RetentionPolicyWarning\", {\n  default(v) {\n    RetentionPolicyWarning = v;\n  }\n}, 15);\nlet ComposerContainer;\nmodule.link(\"../composer/ComposerContainer\", {\n  default(v) {\n    ComposerContainer = v;\n  }\n}, 16);\nlet RoomComposer;\nmodule.link(\"../composer/RoomComposer/RoomComposer\", {\n  default(v) {\n    RoomComposer = v;\n  }\n}, 17);\nlet useChat;\nmodule.link(\"../contexts/ChatContext\", {\n  useChat(v) {\n    useChat = v;\n  }\n}, 18);\nlet useRoom, useRoomSubscription, useRoomMessages;\nmodule.link(\"../contexts/RoomContext\", {\n  useRoom(v) {\n    useRoom = v;\n  },\n  useRoomSubscription(v) {\n    useRoomSubscription = v;\n  },\n  useRoomMessages(v) {\n    useRoomMessages = v;\n  }\n}, 19);\nlet useRoomToolbox;\nmodule.link(\"../contexts/RoomToolboxContext\", {\n  useRoomToolbox(v) {\n    useRoomToolbox = v;\n  }\n}, 20);\nlet useDateScroll;\nmodule.link(\"../hooks/useDateScroll\", {\n  useDateScroll(v) {\n    useDateScroll = v;\n  }\n}, 21);\nlet useMessageListNavigation;\nmodule.link(\"../hooks/useMessageListNavigation\", {\n  useMessageListNavigation(v) {\n    useMessageListNavigation = v;\n  }\n}, 22);\nlet useRetentionPolicy;\nmodule.link(\"../hooks/useRetentionPolicy\", {\n  useRetentionPolicy(v) {\n    useRetentionPolicy = v;\n  }\n}, 23);\nlet RoomForeword;\nmodule.link(\"./RoomForeword/RoomForeword\", {\n  default(v) {\n    RoomForeword = v;\n  }\n}, 24);\nlet RoomTopic;\nmodule.link(\"./RoomTopic\", {\n  RoomTopic(v) {\n    RoomTopic = v;\n  }\n}, 25);\nlet UnreadMessagesIndicator;\nmodule.link(\"./UnreadMessagesIndicator\", {\n  default(v) {\n    UnreadMessagesIndicator = v;\n  }\n}, 26);\nlet UploadProgressIndicator;\nmodule.link(\"./UploadProgressIndicator\", {\n  default(v) {\n    UploadProgressIndicator = v;\n  }\n}, 27);\nlet useBannerSection;\nmodule.link(\"./hooks/useBannerSection\", {\n  useBannerSection(v) {\n    useBannerSection = v;\n  }\n}, 28);\nlet useFileUpload;\nmodule.link(\"./hooks/useFileUpload\", {\n  useFileUpload(v) {\n    useFileUpload = v;\n  }\n}, 29);\nlet useGetMore;\nmodule.link(\"./hooks/useGetMore\", {\n  useGetMore(v) {\n    useGetMore = v;\n  }\n}, 30);\nlet useGoToHomeOnRemoved;\nmodule.link(\"./hooks/useGoToHomeOnRemoved\", {\n  useGoToHomeOnRemoved(v) {\n    useGoToHomeOnRemoved = v;\n  }\n}, 31);\nlet useHasNewMessages;\nmodule.link(\"./hooks/useHasNewMessages\", {\n  useHasNewMessages(v) {\n    useHasNewMessages = v;\n  }\n}, 32);\nlet useListIsAtBottom;\nmodule.link(\"./hooks/useListIsAtBottom\", {\n  useListIsAtBottom(v) {\n    useListIsAtBottom = v;\n  }\n}, 33);\nlet useQuoteMessageByUrl;\nmodule.link(\"./hooks/useQuoteMessageByUrl\", {\n  useQuoteMessageByUrl(v) {\n    useQuoteMessageByUrl = v;\n  }\n}, 34);\nlet useReadMessageWindowEvents;\nmodule.link(\"./hooks/useReadMessageWindowEvents\", {\n  useReadMessageWindowEvents(v) {\n    useReadMessageWindowEvents = v;\n  }\n}, 35);\nlet useRestoreScrollPosition;\nmodule.link(\"./hooks/useRestoreScrollPosition\", {\n  useRestoreScrollPosition(v) {\n    useRestoreScrollPosition = v;\n  }\n}, 36);\nlet useHandleUnread;\nmodule.link(\"./hooks/useUnreadMessages\", {\n  useHandleUnread(v) {\n    useHandleUnread = v;\n  }\n}, 37);\nconst RoomBody = () => {\n  const chat = useChat();\n  if (!chat) {\n    throw new Error('No ChatContext provided');\n  }\n  const t = useTranslation();\n  const isLayoutEmbedded = useEmbeddedLayout();\n  const room = useRoom();\n  const user = useUser();\n  const toolbox = useRoomToolbox();\n  const admin = useRole('admin');\n  const subscription = useRoomSubscription();\n  const retentionPolicy = useRetentionPolicy(room);\n  const hideFlexTab = useUserPreference('hideFlexTab') || undefined;\n  const hideUsernames = useUserPreference('hideUsernames');\n  const displayAvatars = useUserPreference('displayAvatars');\n  const {\n    hasMorePreviousMessages,\n    hasMoreNextMessages,\n    isLoadingMoreMessages\n  } = useRoomMessages();\n  const allowAnonymousRead = useSetting('Accounts_AllowAnonymousRead');\n  const canPreviewChannelRoom = usePermission('preview-c-room');\n  const subscribed = !!subscription;\n  const canPreview = useMemo(() => {\n    if (room && room.t !== 'c') {\n      return true;\n    }\n    if (allowAnonymousRead === true) {\n      return true;\n    }\n    if (canPreviewChannelRoom) {\n      return true;\n    }\n    return subscribed;\n  }, [allowAnonymousRead, canPreviewChannelRoom, room, subscribed]);\n  const innerBoxRef = useRef(null);\n  const {\n    wrapperRef: unreadBarWrapperRef,\n    innerRef: unreadBarInnerRef,\n    handleUnreadBarJumpToButtonClick,\n    handleMarkAsReadButtonClick,\n    counter: [unread]\n  } = useHandleUnread(room, subscription);\n  const _useDateScroll = useDateScroll(),\n    {\n      innerRef: dateScrollInnerRef,\n      bubbleRef,\n      listStyle\n    } = _useDateScroll,\n    bubbleDate = _objectWithoutProperties(_useDateScroll, _excluded);\n  const {\n    innerRef: isAtBottomInnerRef,\n    atBottomRef,\n    sendToBottom,\n    sendToBottomIfNecessary,\n    isAtBottom\n  } = useListIsAtBottom();\n  const {\n    innerRef: getMoreInnerRef\n  } = useGetMore(room._id, atBottomRef);\n  const {\n    wrapperRef: sectionWrapperRef,\n    hideSection,\n    innerRef: sectionScrollRef\n  } = useBannerSection();\n  const {\n    uploads,\n    handleUploadFiles,\n    handleUploadProgressClose,\n    targeDrop: [fileUploadTriggerProps, fileUploadOverlayProps]\n  } = useFileUpload();\n  const {\n    innerRef: restoreScrollPositionInnerRef\n  } = useRestoreScrollPosition(room._id);\n  const {\n    messageListRef\n  } = useMessageListNavigation();\n  const {\n    handleNewMessageButtonClick,\n    handleJumpToRecentButtonClick,\n    handleComposerResize,\n    hasNewMessages,\n    newMessagesScrollRef\n  } = useHasNewMessages(room._id, user === null || user === void 0 ? void 0 : user._id, atBottomRef, {\n    sendToBottom,\n    sendToBottomIfNecessary,\n    isAtBottom\n  });\n  const innerRef = useMergedRefs(dateScrollInnerRef, innerBoxRef, restoreScrollPositionInnerRef, isAtBottomInnerRef, newMessagesScrollRef, sectionScrollRef, unreadBarInnerRef, getMoreInnerRef, messageListRef);\n  const wrapperBoxRefs = useMergedRefs(unreadBarWrapperRef);\n  const handleNavigateToPreviousMessage = useCallback(() => {\n    chat.messageEditing.toPreviousMessage();\n  }, [chat.messageEditing]);\n  const handleNavigateToNextMessage = useCallback(() => {\n    chat.messageEditing.toNextMessage();\n  }, [chat.messageEditing]);\n  const handleCloseFlexTab = useCallback(e => {\n    /*\n     * check if the element is a button or anchor\n     * it considers the role as well\n     * usually, the flex tab is closed when clicking outside of it\n     * but if the user clicks on a button or anchor, we don't want to close the flex tab\n     * because the user could be actually trying to open the flex tab through those elements\n     */\n    const checkElement = element => {\n      if (!element) {\n        return false;\n      }\n      if (element instanceof HTMLButtonElement || element.getAttribute('role') === 'button') {\n        return true;\n      }\n      if (element instanceof HTMLAnchorElement || element.getAttribute('role') === 'link') {\n        return true;\n      }\n      return checkElement(element.parentElement);\n    };\n    if (checkElement(e.target)) {\n      return;\n    }\n    toolbox.closeTab();\n  }, [toolbox]);\n  useGoToHomeOnRemoved(room, user === null || user === void 0 ? void 0 : user._id);\n  useReadMessageWindowEvents();\n  useQuoteMessageByUrl();\n  const wrapperStyle = css(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n\\t\\tposition: absolute;\\n\\t\\twidth: 100%;\\n\\t\\tz-index: 5;\\n\\t\\ttop: 0px;\\n\\n\\t\\t&.animated-hidden {\\n\\t\\t\\ttop: -88px;\\n\\t\\t}\\n\\t\"])));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Box, {\n    position: \"relative\",\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    animated: true,\n    className: [wrapperStyle, hideSection && 'animated-hidden'].filter(isTruthy),\n    ref: sectionWrapperRef\n  }, /*#__PURE__*/React.createElement(RoomTopic, {\n    room: room,\n    user: user\n  }), !isLayoutEmbedded && room.announcement && /*#__PURE__*/React.createElement(RoomAnnouncement, {\n    announcement: room.announcement,\n    announcementDetails: undefined\n  }))), /*#__PURE__*/React.createElement(Box, {\n    key: room._id,\n    className: ['main-content-flex', listStyle]\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    role: \"presentation\",\n    className: \"messages-container flex-tab-main-content \".concat(admin ? 'admin' : ''),\n    id: \"chat-window-\".concat(room._id),\n    onClick: hideFlexTab && handleCloseFlexTab\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"messages-container-wrapper\"\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: \"messages-container-main\",\n    ref: wrapperBoxRefs\n  }, fileUploadTriggerProps), /*#__PURE__*/React.createElement(DropTargetOverlay, fileUploadOverlayProps), /*#__PURE__*/React.createElement(Box, {\n    position: \"absolute\",\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: ['container-bars', uploads.length && 'show'].filter(isTruthy).join(' ')\n  }, uploads.map(upload => /*#__PURE__*/React.createElement(UploadProgressIndicator, {\n    key: upload.id,\n    id: upload.id,\n    name: upload.name,\n    percentage: upload.percentage,\n    error: upload.error instanceof Error ? upload.error.message : undefined,\n    onClose: handleUploadProgressClose\n  }))), Boolean(unread) && /*#__PURE__*/React.createElement(UnreadMessagesIndicator, {\n    count: unread,\n    onJumpButtonClick: handleUnreadBarJumpToButtonClick,\n    onMarkAsReadButtonClick: handleMarkAsReadButtonClick\n  }), /*#__PURE__*/React.createElement(BubbleDate, _extends({\n    ref: bubbleRef\n  }, bubbleDate))), /*#__PURE__*/React.createElement(\"div\", {\n    className: ['messages-box'].filter(isTruthy).join(' ')\n  }, /*#__PURE__*/React.createElement(JumpToRecentMessageButton, {\n    visible: hasNewMessages,\n    onClick: handleNewMessageButtonClick,\n    text: t('New_messages')\n  }), /*#__PURE__*/React.createElement(JumpToRecentMessageButton, {\n    visible: hasMoreNextMessages,\n    onClick: handleJumpToRecentButtonClick,\n    text: t('Jump_to_recent_messages')\n  }), !canPreview ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content room-not-found error-color\"\n  }, /*#__PURE__*/React.createElement(\"div\", null, t('You_must_join_to_view_messages_in_this_channel'))) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: ['wrapper', hasMoreNextMessages && 'has-more-next', hideUsernames && 'hide-usernames', !displayAvatars && 'hide-avatar'].filter(isTruthy).join(' ')\n  }, /*#__PURE__*/React.createElement(MessageListErrorBoundary, null, /*#__PURE__*/React.createElement(CustomScrollbars, {\n    ref: innerRef\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"messages-list\",\n    \"aria-label\": t('Message_list'),\n    \"aria-busy\": isLoadingMoreMessages\n  }, canPreview ? /*#__PURE__*/React.createElement(React.Fragment, null, hasMorePreviousMessages ? /*#__PURE__*/React.createElement(\"li\", {\n    className: \"load-more\"\n  }, isLoadingMoreMessages ? /*#__PURE__*/React.createElement(LoadingMessagesIndicator, null) : null) : /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(RoomForeword, {\n    user: user,\n    room: room\n  }), retentionPolicy !== null && retentionPolicy !== void 0 && retentionPolicy.isActive ? /*#__PURE__*/React.createElement(RetentionPolicyWarning, {\n    room: room\n  }) : null)) : null, /*#__PURE__*/React.createElement(MessageList, {\n    rid: room._id,\n    messageListRef: innerBoxRef\n  }), hasMoreNextMessages ? /*#__PURE__*/React.createElement(\"li\", {\n    className: \"load-more\"\n  }, isLoadingMoreMessages ? /*#__PURE__*/React.createElement(LoadingMessagesIndicator, null) : null) : null))))), /*#__PURE__*/React.createElement(RoomComposer, null, /*#__PURE__*/React.createElement(ComposerContainer, {\n    subscription: subscription,\n    onResize: handleComposerResize,\n    onNavigateToPreviousMessage: handleNavigateToPreviousMessage,\n    onNavigateToNextMessage: handleNavigateToNextMessage,\n    onUploadFiles: handleUploadFiles\n  })))))));\n};\nmodule.exportDefault( /*#__PURE__*/memo(RoomBody));","map":{"version":3,"names":["_extends","module","link","default","v","_taggedTemplateLiteral","_objectWithoutProperties","css","Box","useMergedRefs","usePermission","useRole","useSetting","useTranslation","useUser","useUserPreference","React","memo","useCallback","useMemo","useRef","isTruthy","CustomScrollbars","useEmbeddedLayout","BubbleDate","MessageList","DropTargetOverlay","JumpToRecentMessageButton","MessageListErrorBoundary","RoomAnnouncement","LoadingMessagesIndicator","RetentionPolicyWarning","ComposerContainer","RoomComposer","useChat","useRoom","useRoomSubscription","useRoomMessages","useRoomToolbox","useDateScroll","useMessageListNavigation","useRetentionPolicy","RoomForeword","RoomTopic","UnreadMessagesIndicator","UploadProgressIndicator","useBannerSection","useFileUpload","useGetMore","useGoToHomeOnRemoved","useHasNewMessages","useListIsAtBottom","useQuoteMessageByUrl","useReadMessageWindowEvents","useRestoreScrollPosition","useHandleUnread","RoomBody","chat","Error","t","isLayoutEmbedded","room","user","toolbox","admin","subscription","retentionPolicy","hideFlexTab","undefined","hideUsernames","displayAvatars","hasMorePreviousMessages","hasMoreNextMessages","isLoadingMoreMessages","allowAnonymousRead","canPreviewChannelRoom","subscribed","canPreview","innerBoxRef","wrapperRef","unreadBarWrapperRef","innerRef","unreadBarInnerRef","handleUnreadBarJumpToButtonClick","handleMarkAsReadButtonClick","counter","unread","_useDateScroll","dateScrollInnerRef","bubbleRef","listStyle","bubbleDate","_excluded","isAtBottomInnerRef","atBottomRef","sendToBottom","sendToBottomIfNecessary","isAtBottom","getMoreInnerRef","_id","sectionWrapperRef","hideSection","sectionScrollRef","uploads","handleUploadFiles","handleUploadProgressClose","targeDrop","fileUploadTriggerProps","fileUploadOverlayProps","restoreScrollPositionInnerRef","messageListRef","handleNewMessageButtonClick","handleJumpToRecentButtonClick","handleComposerResize","hasNewMessages","newMessagesScrollRef","wrapperBoxRefs","handleNavigateToPreviousMessage","messageEditing","toPreviousMessage","handleNavigateToNextMessage","toNextMessage","handleCloseFlexTab","e","checkElement","element","HTMLButtonElement","getAttribute","HTMLAnchorElement","parentElement","target","closeTab","wrapperStyle","_templateObject","createElement","Fragment","position","w","animated","className","filter","ref","announcement","announcementDetails","key","role","concat","id","onClick","length","join","map","upload","name","percentage","error","message","onClose","Boolean","count","onJumpButtonClick","onMarkAsReadButtonClick","visible","text","isActive","rid","onResize","onNavigateToPreviousMessage","onNavigateToNextMessage","onUploadFiles","exportDefault"],"sources":["client/views/room/body/RoomBodyV2.tsx"],"sourcesContent":["import { css } from '@rocket.chat/css-in-js';\nimport { Box } from '@rocket.chat/fuselage';\nimport { useMergedRefs } from '@rocket.chat/fuselage-hooks';\nimport { usePermission, useRole, useSetting, useTranslation, useUser, useUserPreference } from '@rocket.chat/ui-contexts';\nimport type { MouseEventHandler, ReactElement } from 'react';\nimport React, { memo, useCallback, useMemo, useRef } from 'react';\n\nimport { isTruthy } from '../../../../lib/isTruthy';\nimport { CustomScrollbars } from '../../../components/CustomScrollbars';\nimport { useEmbeddedLayout } from '../../../hooks/useEmbeddedLayout';\nimport { BubbleDate } from '../BubbleDate';\nimport { MessageList } from '../MessageList';\nimport DropTargetOverlay from './DropTargetOverlay';\nimport JumpToRecentMessageButton from './JumpToRecentMessageButton';\nimport MessageListErrorBoundary from '../MessageList/MessageListErrorBoundary';\nimport RoomAnnouncement from '../RoomAnnouncement';\nimport LoadingMessagesIndicator from './LoadingMessagesIndicator';\nimport RetentionPolicyWarning from './RetentionPolicyWarning';\nimport ComposerContainer from '../composer/ComposerContainer';\nimport RoomComposer from '../composer/RoomComposer/RoomComposer';\nimport { useChat } from '../contexts/ChatContext';\nimport { useRoom, useRoomSubscription, useRoomMessages } from '../contexts/RoomContext';\nimport { useRoomToolbox } from '../contexts/RoomToolboxContext';\nimport { useDateScroll } from '../hooks/useDateScroll';\nimport { useMessageListNavigation } from '../hooks/useMessageListNavigation';\nimport { useRetentionPolicy } from '../hooks/useRetentionPolicy';\nimport RoomForeword from './RoomForeword/RoomForeword';\nimport { RoomTopic } from './RoomTopic';\nimport UnreadMessagesIndicator from './UnreadMessagesIndicator';\nimport UploadProgressIndicator from './UploadProgressIndicator';\nimport { useBannerSection } from './hooks/useBannerSection';\nimport { useFileUpload } from './hooks/useFileUpload';\nimport { useGetMore } from './hooks/useGetMore';\nimport { useGoToHomeOnRemoved } from './hooks/useGoToHomeOnRemoved';\nimport { useHasNewMessages } from './hooks/useHasNewMessages';\nimport { useListIsAtBottom } from './hooks/useListIsAtBottom';\nimport { useQuoteMessageByUrl } from './hooks/useQuoteMessageByUrl';\nimport { useReadMessageWindowEvents } from './hooks/useReadMessageWindowEvents';\nimport { useRestoreScrollPosition } from './hooks/useRestoreScrollPosition';\nimport { useHandleUnread } from './hooks/useUnreadMessages';\n\nconst RoomBody = (): ReactElement => {\n\tconst chat = useChat();\n\tif (!chat) {\n\t\tthrow new Error('No ChatContext provided');\n\t}\n\n\tconst t = useTranslation();\n\tconst isLayoutEmbedded = useEmbeddedLayout();\n\tconst room = useRoom();\n\tconst user = useUser();\n\tconst toolbox = useRoomToolbox();\n\tconst admin = useRole('admin');\n\tconst subscription = useRoomSubscription();\n\n\tconst retentionPolicy = useRetentionPolicy(room);\n\n\tconst hideFlexTab = useUserPreference<boolean>('hideFlexTab') || undefined;\n\tconst hideUsernames = useUserPreference<boolean>('hideUsernames');\n\tconst displayAvatars = useUserPreference<boolean>('displayAvatars');\n\n\tconst { hasMorePreviousMessages, hasMoreNextMessages, isLoadingMoreMessages } = useRoomMessages();\n\n\tconst allowAnonymousRead = useSetting('Accounts_AllowAnonymousRead') as boolean | undefined;\n\n\tconst canPreviewChannelRoom = usePermission('preview-c-room');\n\n\tconst subscribed = !!subscription;\n\n\tconst canPreview = useMemo(() => {\n\t\tif (room && room.t !== 'c') {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (allowAnonymousRead === true) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (canPreviewChannelRoom) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn subscribed;\n\t}, [allowAnonymousRead, canPreviewChannelRoom, room, subscribed]);\n\n\tconst innerBoxRef = useRef<HTMLDivElement | null>(null);\n\n\tconst {\n\t\twrapperRef: unreadBarWrapperRef,\n\t\tinnerRef: unreadBarInnerRef,\n\t\thandleUnreadBarJumpToButtonClick,\n\t\thandleMarkAsReadButtonClick,\n\t\tcounter: [unread],\n\t} = useHandleUnread(room, subscription);\n\n\tconst { innerRef: dateScrollInnerRef, bubbleRef, listStyle, ...bubbleDate } = useDateScroll();\n\n\tconst { innerRef: isAtBottomInnerRef, atBottomRef, sendToBottom, sendToBottomIfNecessary, isAtBottom } = useListIsAtBottom();\n\n\tconst { innerRef: getMoreInnerRef } = useGetMore(room._id, atBottomRef);\n\n\tconst { wrapperRef: sectionWrapperRef, hideSection, innerRef: sectionScrollRef } = useBannerSection();\n\n\tconst {\n\t\tuploads,\n\t\thandleUploadFiles,\n\t\thandleUploadProgressClose,\n\t\ttargeDrop: [fileUploadTriggerProps, fileUploadOverlayProps],\n\t} = useFileUpload();\n\n\tconst { innerRef: restoreScrollPositionInnerRef } = useRestoreScrollPosition(room._id);\n\n\tconst { messageListRef } = useMessageListNavigation();\n\n\tconst { handleNewMessageButtonClick, handleJumpToRecentButtonClick, handleComposerResize, hasNewMessages, newMessagesScrollRef } =\n\t\tuseHasNewMessages(room._id, user?._id, atBottomRef, {\n\t\t\tsendToBottom,\n\t\t\tsendToBottomIfNecessary,\n\t\t\tisAtBottom,\n\t\t});\n\n\tconst innerRef = useMergedRefs(\n\t\tdateScrollInnerRef,\n\t\tinnerBoxRef,\n\t\trestoreScrollPositionInnerRef,\n\t\tisAtBottomInnerRef,\n\t\tnewMessagesScrollRef,\n\t\tsectionScrollRef,\n\t\tunreadBarInnerRef,\n\t\tgetMoreInnerRef,\n\n\t\tmessageListRef,\n\t);\n\n\tconst wrapperBoxRefs = useMergedRefs(unreadBarWrapperRef);\n\n\tconst handleNavigateToPreviousMessage = useCallback((): void => {\n\t\tchat.messageEditing.toPreviousMessage();\n\t}, [chat.messageEditing]);\n\n\tconst handleNavigateToNextMessage = useCallback((): void => {\n\t\tchat.messageEditing.toNextMessage();\n\t}, [chat.messageEditing]);\n\n\tconst handleCloseFlexTab: MouseEventHandler<HTMLElement> = useCallback(\n\t\t(e): void => {\n\t\t\t/*\n\t\t\t * check if the element is a button or anchor\n\t\t\t * it considers the role as well\n\t\t\t * usually, the flex tab is closed when clicking outside of it\n\t\t\t * but if the user clicks on a button or anchor, we don't want to close the flex tab\n\t\t\t * because the user could be actually trying to open the flex tab through those elements\n\t\t\t */\n\n\t\t\tconst checkElement = (element: HTMLElement | null): boolean => {\n\t\t\t\tif (!element) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (element instanceof HTMLButtonElement || element.getAttribute('role') === 'button') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (element instanceof HTMLAnchorElement || element.getAttribute('role') === 'link') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn checkElement(element.parentElement);\n\t\t\t};\n\n\t\t\tif (checkElement(e.target as HTMLElement)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttoolbox.closeTab();\n\t\t},\n\t\t[toolbox],\n\t);\n\n\tuseGoToHomeOnRemoved(room, user?._id);\n\tuseReadMessageWindowEvents();\n\tuseQuoteMessageByUrl();\n\n\tconst wrapperStyle = css`\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\tz-index: 5;\n\t\ttop: 0px;\n\n\t\t&.animated-hidden {\n\t\t\ttop: -88px;\n\t\t}\n\t`;\n\n\treturn (\n\t\t<>\n\t\t\t<Box position='relative' w='full'>\n\t\t\t\t<Box animated className={[wrapperStyle, hideSection && 'animated-hidden'].filter(isTruthy)} ref={sectionWrapperRef}>\n\t\t\t\t\t<RoomTopic room={room} user={user} />\n\t\t\t\t\t{!isLayoutEmbedded && room.announcement && <RoomAnnouncement announcement={room.announcement} announcementDetails={undefined} />}\n\t\t\t\t</Box>\n\t\t\t</Box>\n\n\t\t\t<Box key={room._id} className={['main-content-flex', listStyle]}>\n\t\t\t\t<section\n\t\t\t\t\trole='presentation'\n\t\t\t\t\tclassName={`messages-container flex-tab-main-content ${admin ? 'admin' : ''}`}\n\t\t\t\t\tid={`chat-window-${room._id}`}\n\t\t\t\t\tonClick={hideFlexTab && handleCloseFlexTab}\n\t\t\t\t>\n\t\t\t\t\t<div className='messages-container-wrapper'>\n\t\t\t\t\t\t<div className='messages-container-main' ref={wrapperBoxRefs} {...fileUploadTriggerProps}>\n\t\t\t\t\t\t\t<DropTargetOverlay {...fileUploadOverlayProps} />\n\t\t\t\t\t\t\t<Box position='absolute' w='full'>\n\t\t\t\t\t\t\t\t<div className={['container-bars', uploads.length && 'show'].filter(isTruthy).join(' ')}>\n\t\t\t\t\t\t\t\t\t{uploads.map((upload) => (\n\t\t\t\t\t\t\t\t\t\t<UploadProgressIndicator\n\t\t\t\t\t\t\t\t\t\t\tkey={upload.id}\n\t\t\t\t\t\t\t\t\t\t\tid={upload.id}\n\t\t\t\t\t\t\t\t\t\t\tname={upload.name}\n\t\t\t\t\t\t\t\t\t\t\tpercentage={upload.percentage}\n\t\t\t\t\t\t\t\t\t\t\terror={upload.error instanceof Error ? upload.error.message : undefined}\n\t\t\t\t\t\t\t\t\t\t\tonClose={handleUploadProgressClose}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{Boolean(unread) && (\n\t\t\t\t\t\t\t\t\t<UnreadMessagesIndicator\n\t\t\t\t\t\t\t\t\t\tcount={unread}\n\t\t\t\t\t\t\t\t\t\tonJumpButtonClick={handleUnreadBarJumpToButtonClick}\n\t\t\t\t\t\t\t\t\t\tonMarkAsReadButtonClick={handleMarkAsReadButtonClick}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<BubbleDate ref={bubbleRef} {...bubbleDate} />\n\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t<div className={['messages-box'].filter(isTruthy).join(' ')}>\n\t\t\t\t\t\t\t\t<JumpToRecentMessageButton visible={hasNewMessages} onClick={handleNewMessageButtonClick} text={t('New_messages')} />\n\t\t\t\t\t\t\t\t<JumpToRecentMessageButton\n\t\t\t\t\t\t\t\t\tvisible={hasMoreNextMessages}\n\t\t\t\t\t\t\t\t\tonClick={handleJumpToRecentButtonClick}\n\t\t\t\t\t\t\t\t\ttext={t('Jump_to_recent_messages')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{!canPreview ? (\n\t\t\t\t\t\t\t\t\t<div className='content room-not-found error-color'>\n\t\t\t\t\t\t\t\t\t\t<div>{t('You_must_join_to_view_messages_in_this_channel')}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t\t\t\t'wrapper',\n\t\t\t\t\t\t\t\t\t\thasMoreNextMessages && 'has-more-next',\n\t\t\t\t\t\t\t\t\t\thideUsernames && 'hide-usernames',\n\t\t\t\t\t\t\t\t\t\t!displayAvatars && 'hide-avatar',\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t.filter(isTruthy)\n\t\t\t\t\t\t\t\t\t\t.join(' ')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<MessageListErrorBoundary>\n\t\t\t\t\t\t\t\t\t\t<CustomScrollbars ref={innerRef}>\n\t\t\t\t\t\t\t\t\t\t\t<ul className='messages-list' aria-label={t('Message_list')} aria-busy={isLoadingMoreMessages}>\n\t\t\t\t\t\t\t\t\t\t\t\t{canPreview ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{hasMorePreviousMessages ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='load-more'>{isLoadingMoreMessages ? <LoadingMessagesIndicator /> : null}</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RoomForeword user={user} room={room} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{retentionPolicy?.isActive ? <RetentionPolicyWarning room={room} /> : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t<MessageList rid={room._id} messageListRef={innerBoxRef} />\n\t\t\t\t\t\t\t\t\t\t\t\t{hasMoreNextMessages ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='load-more'>{isLoadingMoreMessages ? <LoadingMessagesIndicator /> : null}</li>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t</CustomScrollbars>\n\t\t\t\t\t\t\t\t\t</MessageListErrorBoundary>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<RoomComposer>\n\t\t\t\t\t\t\t\t<ComposerContainer\n\t\t\t\t\t\t\t\t\tsubscription={subscription}\n\t\t\t\t\t\t\t\t\tonResize={handleComposerResize}\n\t\t\t\t\t\t\t\t\tonNavigateToPreviousMessage={handleNavigateToPreviousMessage}\n\t\t\t\t\t\t\t\t\tonNavigateToNextMessage={handleNavigateToNextMessage}\n\t\t\t\t\t\t\t\t\tonUploadFiles={handleUploadFiles}\n\t\t\t\t\t\t\t\t\t// TODO: send previewUrls param\n\t\t\t\t\t\t\t\t\t// previewUrls={}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RoomComposer>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</Box>\n\t\t</>\n\t);\n};\n\nexport default memo(RoomBody);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"35a13dad5f759fa578aec917646fa2cdb3a0f8af"}
