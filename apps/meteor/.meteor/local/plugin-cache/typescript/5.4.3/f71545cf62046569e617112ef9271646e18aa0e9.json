{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/analytics/DateRangePicker.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/omnichannel/analytics/DateRangePicker.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/analytics/DateRangePicker.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/analytics/DateRangePicker.tsx","sourceRoot":"","sources":["client/views/omnichannel/analytics/DateRangePicker.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,UAAU,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAC;AACzF,OAAO,EAAE,kBAAkB,EAAE,MAAM,6BAA6B,CAAC;AAEjE,OAAO,MAAM,MAAM,QAAQ,CAAC;AAE5B,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAC5D,OAAO,EAAE,cAAc,EAAE,MAAM,eAAe,CAAC;AAE/C,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAMpB,MAAM,iBAAiB,GAAG,CAAC,IAAY,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;AAEtE,MAAM,SAAS,GAAG,iBAAiB,CAAC,MAAM,EAAE,CAAC,CAAC;AAE9C,MAAM,aAAa,GAAG,CAAC,yBAAiC,EAAE,EAAE,CAAC,CAAC;IAC7D,KAAK,EAAE,iBAAiB,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,yBAAyB,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACvF,GAAG,EAAE,iBAAiB,CAAC,yBAAyB,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CACzH,CAAC,CAAC;AAEH,MAAM,YAAY,GAAG,CAAC,uBAA+B,EAAE,qBAA6B,EAAE,EAAE,CAAC,CAAC;IACzF,KAAK,EAAE,iBAAiB,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;IAC3E,GAAG,EAAE,iBAAiB,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC;CACvE,CAAC,CAAC;AAEH,MAAM,eAAe,GAAG,CAAC,EAAE,QAAQ,GAAG,GAAG,EAAE,CAAC,SAAS,EAAE,GAAG,KAAK,EAAwB,EAAE,EAAE;IAC1F,MAAM,EAAE,CAAC,EAAE,GAAG,cAAc,EAAE,CAAC;IAC/B,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC;IAE3D,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,KAAK,CAAC;IAE7B,MAAM,WAAW,GAAG,kBAAkB,CAAC,CAAC,EAAE,aAAa,EAAE,EAAE,EAAE;QAC5D,MAAM,QAAQ,GAAG;YAChB,KAAK,EAAE,aAAa,CAAC,KAAK;YAC1B,GAAG,EAAE,KAAK,CAAC,GAAG;SACd,CAAC;QACF,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACnB,QAAQ,CAAC,QAAQ,CAAC,CAAC;IACpB,CAAC,CAAC,CAAC;IAEH,MAAM,SAAS,GAAG,kBAAkB,CAAC,CAAC,EAAE,aAAa,EAAE,EAAE,EAAE;QAC1D,MAAM,QAAQ,GAAG;YAChB,GAAG,EAAE,aAAa,CAAC,KAAK;YACxB,KAAK,EAAE,KAAK,CAAC,KAAK;SAClB,CAAC;QACF,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACnB,QAAQ,CAAC,QAAQ,CAAC,CAAC;IACpB,CAAC,CAAC,CAAC;IAEH,MAAM,WAAW,GAAG,kBAAkB,CAAC,CAAC,KAAK,EAAE,EAAE;QAChD,QAAQ,CAAC,KAAK,CAAC,CAAC;QAChB,QAAQ,CAAC,KAAK,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC;IAEH,SAAS,CAAC,GAAG,EAAE;QACd,WAAW,CAAC;YACX,KAAK,EAAE,SAAS;YAChB,GAAG,EAAE,SAAS;SACd,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;IAElB,MAAM,OAAO,GAAG,OAAO,CACtB,GAAG,EAAE,CAAC,CAAC;QACN,KAAK,EAAE;YACN,IAAI,EAAE,SAAS;YACf,KAAK,EAAE,CAAC,CAAC,OAAO,CAAC;YACjB,MAAM,EAAE,GAAG,EAAE;gBACZ,WAAW,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC;SACD;QACD,SAAS,EAAE;YACV,IAAI,EAAE,SAAS;YACf,KAAK,EAAE,CAAC,CAAC,WAAW,CAAC;YACrB,MAAM,EAAE,GAAG,EAAE;gBACZ,WAAW,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC;SACD;QACD,QAAQ,EAAE;YACT,IAAI,EAAE,SAAS;YACf,KAAK,EAAE,CAAC,CAAC,WAAW,CAAC;YACrB,MAAM,EAAE,GAAG,EAAE;gBACZ,WAAW,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC;SACD;QACD,YAAY,EAAE;YACb,IAAI,EAAE,SAAS;YACf,KAAK,EAAE,CAAC,CAAC,eAAe,CAAC;YACzB,MAAM,EAAE,GAAG,EAAE;gBACZ,WAAW,CAAC,YAAY,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;YAClC,CAAC;SACD;QACD,SAAS,EAAE;YACV,IAAI,EAAE,SAAS;YACf,KAAK,EAAE,CAAC,CAAC,YAAY,CAAC;YACtB,MAAM,EAAE,GAAG,EAAE;gBACZ,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/B,CAAC;SACD;QACD,SAAS,EAAE;YACV,IAAI,EAAE,SAAS;YACf,KAAK,EAAE,CAAC,CAAC,gBAAgB,CAAC;YAC1B,MAAM,EAAE,GAAG,EAAE;gBACZ,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/B,CAAC;SACD;KACD,CAAC,EACF,CAAC,WAAW,EAAE,CAAC,CAAC,CAChB,CAAC;IAEF,OAAO,CACN,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,CACd;GAAA,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,CAAC,KAAK,CAChE;IAAA,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CACxC;KAAA,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,UAAU,CACpC;KAAA,CAAC,QAAQ,CACR;MAAA,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAC5C;OAAA,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,EAC3E;MAAA,EAAE,GAAG,CACN;KAAA,EAAE,QAAQ,CACX;IAAA,EAAE,KAAK,CACP;IAAA,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CACxC;KAAA,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,UAAU,CAClC;KAAA,CAAC,QAAQ,CACR;MAAA,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAC5C;OAAA,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,EACnF;MAAA,EAAE,GAAG,CACL;MAAA,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,EAChC;KAAA,EAAE,QAAQ,CACX;IAAA,EAAE,KAAK,CACR;GAAA,EAAE,GAAG,CACN;EAAA,EAAE,GAAG,CAAC,CACN,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,eAAe,CAAC","sourcesContent":["import { Box, InputBox, Menu, Field, FieldLabel, FieldRow } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { Moment } from 'moment';\nimport moment from 'moment';\nimport type { ComponentProps } from 'react';\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nmoment.locale('en');\n\ntype DateRangePickerProps = Omit<ComponentProps<typeof Box>, 'onChange'> & {\n\tonChange(range: { start: string; end: string }): void;\n};\n\nconst formatToDateInput = (date: Moment) => date.format('YYYY-MM-DD');\n\nconst todayDate = formatToDateInput(moment());\n\nconst getMonthRange = (monthsToSubtractFromToday: number) => ({\n\tstart: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\n\tend: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0)),\n});\n\nconst getWeekRange = (daysToSubtractFromStart: number, daysToSubtractFromEnd: number) => ({\n\tstart: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\n\tend: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day')),\n});\n\nconst DateRangePicker = ({ onChange = () => undefined, ...props }: DateRangePickerProps) => {\n\tconst { t } = useTranslation();\n\tconst [range, setRange] = useState({ start: '', end: '' });\n\n\tconst { start, end } = range;\n\n\tconst handleStart = useMutableCallback(({ currentTarget }) => {\n\t\tconst rangeObj = {\n\t\t\tstart: currentTarget.value,\n\t\t\tend: range.end,\n\t\t};\n\t\tsetRange(rangeObj);\n\t\tonChange(rangeObj);\n\t});\n\n\tconst handleEnd = useMutableCallback(({ currentTarget }) => {\n\t\tconst rangeObj = {\n\t\t\tend: currentTarget.value,\n\t\t\tstart: range.start,\n\t\t};\n\t\tsetRange(rangeObj);\n\t\tonChange(rangeObj);\n\t});\n\n\tconst handleRange = useMutableCallback((range) => {\n\t\tsetRange(range);\n\t\tonChange(range);\n\t});\n\n\tuseEffect(() => {\n\t\thandleRange({\n\t\t\tstart: todayDate,\n\t\t\tend: todayDate,\n\t\t});\n\t}, [handleRange]);\n\n\tconst options = useMemo(\n\t\t() => ({\n\t\t\ttoday: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Today'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(0, 0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tyesterday: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Yesterday'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(1, 1));\n\t\t\t\t},\n\t\t\t},\n\t\t\tthisWeek: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('This_week'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(7, 0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tpreviousWeek: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Previous_week'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(14, 7));\n\t\t\t\t},\n\t\t\t},\n\t\t\tthisMonth: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('This_month'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getMonthRange(0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tlastMonth: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Previous_month'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getMonthRange(1));\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\t[handleRange, t],\n\t);\n\n\treturn (\n\t\t<Box {...props}>\n\t\t\t<Box mi='neg-x4' height='full' display='flex' flexDirection='row'>\n\t\t\t\t<Field mi={4} flexShrink={1} flexGrow={1}>\n\t\t\t\t\t<FieldLabel>{t('Start')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Box height='x40' display='flex' width='full'>\n\t\t\t\t\t\t\t<InputBox type='date' onChange={handleStart} max={todayDate} value={start} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field mi={4} flexShrink={1} flexGrow={1}>\n\t\t\t\t\t<FieldLabel>{t('End')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Box height='x40' display='flex' width='full'>\n\t\t\t\t\t\t\t<InputBox type='date' onChange={handleEnd} min={start} max={todayDate} value={end} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Menu mis={8} options={options} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default DateRangePicker;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/analytics/DateRangePicker.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/omnichannel/analytics/DateRangePicker.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/analytics/DateRangePicker.tsx","sourceRoot":"","sources":["client/views/omnichannel/analytics/DateRangePicker.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, InputBox, Menu, Field, FieldLabel, FieldRow } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { Moment } from 'moment';\nimport moment from 'moment';\nimport type { ComponentProps } from 'react';\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nmoment.locale('en');\n\ntype DateRangePickerProps = Omit<ComponentProps<typeof Box>, 'onChange'> & {\n\tonChange(range: { start: string; end: string }): void;\n};\n\nconst formatToDateInput = (date: Moment) => date.format('YYYY-MM-DD');\n\nconst todayDate = formatToDateInput(moment());\n\nconst getMonthRange = (monthsToSubtractFromToday: number) => ({\n\tstart: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\n\tend: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0)),\n});\n\nconst getWeekRange = (daysToSubtractFromStart: number, daysToSubtractFromEnd: number) => ({\n\tstart: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\n\tend: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day')),\n});\n\nconst DateRangePicker = ({ onChange = () => undefined, ...props }: DateRangePickerProps) => {\n\tconst { t } = useTranslation();\n\tconst [range, setRange] = useState({ start: '', end: '' });\n\n\tconst { start, end } = range;\n\n\tconst handleStart = useMutableCallback(({ currentTarget }) => {\n\t\tconst rangeObj = {\n\t\t\tstart: currentTarget.value,\n\t\t\tend: range.end,\n\t\t};\n\t\tsetRange(rangeObj);\n\t\tonChange(rangeObj);\n\t});\n\n\tconst handleEnd = useMutableCallback(({ currentTarget }) => {\n\t\tconst rangeObj = {\n\t\t\tend: currentTarget.value,\n\t\t\tstart: range.start,\n\t\t};\n\t\tsetRange(rangeObj);\n\t\tonChange(rangeObj);\n\t});\n\n\tconst handleRange = useMutableCallback((range) => {\n\t\tsetRange(range);\n\t\tonChange(range);\n\t});\n\n\tuseEffect(() => {\n\t\thandleRange({\n\t\t\tstart: todayDate,\n\t\t\tend: todayDate,\n\t\t});\n\t}, [handleRange]);\n\n\tconst options = useMemo(\n\t\t() => ({\n\t\t\ttoday: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Today'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(0, 0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tyesterday: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Yesterday'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(1, 1));\n\t\t\t\t},\n\t\t\t},\n\t\t\tthisWeek: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('This_week'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(7, 0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tpreviousWeek: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Previous_week'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(14, 7));\n\t\t\t\t},\n\t\t\t},\n\t\t\tthisMonth: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('This_month'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getMonthRange(0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tlastMonth: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Previous_month'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getMonthRange(1));\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\t[handleRange, t],\n\t);\n\n\treturn (\n\t\t<Box {...props}>\n\t\t\t<Box mi='neg-x4' height='full' display='flex' flexDirection='row'>\n\t\t\t\t<Field mi={4} flexShrink={1} flexGrow={1}>\n\t\t\t\t\t<FieldLabel>{t('Start')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Box height='x40' display='flex' width='full'>\n\t\t\t\t\t\t\t<InputBox type='date' onChange={handleStart} max={todayDate} value={start} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field mi={4} flexShrink={1} flexGrow={1}>\n\t\t\t\t\t<FieldLabel>{t('End')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Box height='x40' display='flex' width='full'>\n\t\t\t\t\t\t\t<InputBox type='date' onChange={handleEnd} min={start} max={todayDate} value={end} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Menu mis={8} options={options} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default DateRangePicker;\n"]}}},"code":"const _excluded = [\"onChange\"];\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 0);\nlet Box, InputBox, Menu, Field, FieldLabel, FieldRow;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box(v) {\n    Box = v;\n  },\n  InputBox(v) {\n    InputBox = v;\n  },\n  Menu(v) {\n    Menu = v;\n  },\n  Field(v) {\n    Field = v;\n  },\n  FieldLabel(v) {\n    FieldLabel = v;\n  },\n  FieldRow(v) {\n    FieldRow = v;\n  }\n}, 0);\nlet useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  }\n}, 1);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n}, 2);\nlet React, useState, useMemo, useEffect;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useState(v) {\n    useState = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  },\n  useEffect(v) {\n    useEffect = v;\n  }\n}, 3);\nlet useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 4);\nmoment.locale('en');\nconst formatToDateInput = date => date.format('YYYY-MM-DD');\nconst todayDate = formatToDateInput(moment());\nconst getMonthRange = monthsToSubtractFromToday => ({\n  start: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\n  end: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0))\n});\nconst getWeekRange = (daysToSubtractFromStart, daysToSubtractFromEnd) => ({\n  start: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\n  end: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day'))\n});\nconst DateRangePicker = _ref => {\n  let {\n      onChange = () => undefined\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const {\n    t\n  } = useTranslation();\n  const [range, setRange] = useState({\n    start: '',\n    end: ''\n  });\n  const {\n    start,\n    end\n  } = range;\n  const handleStart = useMutableCallback(_ref2 => {\n    let {\n      currentTarget\n    } = _ref2;\n    const rangeObj = {\n      start: currentTarget.value,\n      end: range.end\n    };\n    setRange(rangeObj);\n    onChange(rangeObj);\n  });\n  const handleEnd = useMutableCallback(_ref3 => {\n    let {\n      currentTarget\n    } = _ref3;\n    const rangeObj = {\n      end: currentTarget.value,\n      start: range.start\n    };\n    setRange(rangeObj);\n    onChange(rangeObj);\n  });\n  const handleRange = useMutableCallback(range => {\n    setRange(range);\n    onChange(range);\n  });\n  useEffect(() => {\n    handleRange({\n      start: todayDate,\n      end: todayDate\n    });\n  }, [handleRange]);\n  const options = useMemo(() => ({\n    today: {\n      icon: 'history',\n      label: t('Today'),\n      action: () => {\n        handleRange(getWeekRange(0, 0));\n      }\n    },\n    yesterday: {\n      icon: 'history',\n      label: t('Yesterday'),\n      action: () => {\n        handleRange(getWeekRange(1, 1));\n      }\n    },\n    thisWeek: {\n      icon: 'history',\n      label: t('This_week'),\n      action: () => {\n        handleRange(getWeekRange(7, 0));\n      }\n    },\n    previousWeek: {\n      icon: 'history',\n      label: t('Previous_week'),\n      action: () => {\n        handleRange(getWeekRange(14, 7));\n      }\n    },\n    thisMonth: {\n      icon: 'history',\n      label: t('This_month'),\n      action: () => {\n        handleRange(getMonthRange(0));\n      }\n    },\n    lastMonth: {\n      icon: 'history',\n      label: t('Previous_month'),\n      action: () => {\n        handleRange(getMonthRange(1));\n      }\n    }\n  }), [handleRange, t]);\n  return /*#__PURE__*/React.createElement(Box, props, /*#__PURE__*/React.createElement(Box, {\n    mi: \"neg-x4\",\n    height: \"full\",\n    display: \"flex\",\n    flexDirection: \"row\"\n  }, /*#__PURE__*/React.createElement(Field, {\n    mi: 4,\n    flexShrink: 1,\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(FieldLabel, null, t('Start')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Box, {\n    height: \"x40\",\n    display: \"flex\",\n    width: \"full\"\n  }, /*#__PURE__*/React.createElement(InputBox, {\n    type: \"date\",\n    onChange: handleStart,\n    max: todayDate,\n    value: start\n  })))), /*#__PURE__*/React.createElement(Field, {\n    mi: 4,\n    flexShrink: 1,\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(FieldLabel, null, t('End')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Box, {\n    height: \"x40\",\n    display: \"flex\",\n    width: \"full\"\n  }, /*#__PURE__*/React.createElement(InputBox, {\n    type: \"date\",\n    onChange: handleEnd,\n    min: start,\n    max: todayDate,\n    value: end\n  })), /*#__PURE__*/React.createElement(Menu, {\n    mis: 8,\n    options: options\n  })))));\n};\nmodule.exportDefault(DateRangePicker);","map":{"version":3,"names":["_objectWithoutProperties","module","link","default","v","Box","InputBox","Menu","Field","FieldLabel","FieldRow","useMutableCallback","moment","React","useState","useMemo","useEffect","useTranslation","locale","formatToDateInput","date","format","todayDate","getMonthRange","monthsToSubtractFromToday","start","subtract","end","getWeekRange","daysToSubtractFromStart","daysToSubtractFromEnd","DateRangePicker","_ref","onChange","undefined","props","_excluded","t","range","setRange","handleStart","_ref2","currentTarget","rangeObj","value","handleEnd","_ref3","handleRange","options","today","icon","label","action","yesterday","thisWeek","previousWeek","thisMonth","lastMonth","createElement","mi","height","display","flexDirection","flexShrink","flexGrow","width","type","max","min","mis","exportDefault"],"sources":["client/views/omnichannel/analytics/DateRangePicker.tsx"],"sourcesContent":["import { Box, InputBox, Menu, Field, FieldLabel, FieldRow } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { Moment } from 'moment';\nimport moment from 'moment';\nimport type { ComponentProps } from 'react';\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nmoment.locale('en');\n\ntype DateRangePickerProps = Omit<ComponentProps<typeof Box>, 'onChange'> & {\n\tonChange(range: { start: string; end: string }): void;\n};\n\nconst formatToDateInput = (date: Moment) => date.format('YYYY-MM-DD');\n\nconst todayDate = formatToDateInput(moment());\n\nconst getMonthRange = (monthsToSubtractFromToday: number) => ({\n\tstart: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\n\tend: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0)),\n});\n\nconst getWeekRange = (daysToSubtractFromStart: number, daysToSubtractFromEnd: number) => ({\n\tstart: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\n\tend: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day')),\n});\n\nconst DateRangePicker = ({ onChange = () => undefined, ...props }: DateRangePickerProps) => {\n\tconst { t } = useTranslation();\n\tconst [range, setRange] = useState({ start: '', end: '' });\n\n\tconst { start, end } = range;\n\n\tconst handleStart = useMutableCallback(({ currentTarget }) => {\n\t\tconst rangeObj = {\n\t\t\tstart: currentTarget.value,\n\t\t\tend: range.end,\n\t\t};\n\t\tsetRange(rangeObj);\n\t\tonChange(rangeObj);\n\t});\n\n\tconst handleEnd = useMutableCallback(({ currentTarget }) => {\n\t\tconst rangeObj = {\n\t\t\tend: currentTarget.value,\n\t\t\tstart: range.start,\n\t\t};\n\t\tsetRange(rangeObj);\n\t\tonChange(rangeObj);\n\t});\n\n\tconst handleRange = useMutableCallback((range) => {\n\t\tsetRange(range);\n\t\tonChange(range);\n\t});\n\n\tuseEffect(() => {\n\t\thandleRange({\n\t\t\tstart: todayDate,\n\t\t\tend: todayDate,\n\t\t});\n\t}, [handleRange]);\n\n\tconst options = useMemo(\n\t\t() => ({\n\t\t\ttoday: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Today'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(0, 0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tyesterday: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Yesterday'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(1, 1));\n\t\t\t\t},\n\t\t\t},\n\t\t\tthisWeek: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('This_week'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(7, 0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tpreviousWeek: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Previous_week'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(14, 7));\n\t\t\t\t},\n\t\t\t},\n\t\t\tthisMonth: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('This_month'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getMonthRange(0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tlastMonth: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Previous_month'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getMonthRange(1));\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\t[handleRange, t],\n\t);\n\n\treturn (\n\t\t<Box {...props}>\n\t\t\t<Box mi='neg-x4' height='full' display='flex' flexDirection='row'>\n\t\t\t\t<Field mi={4} flexShrink={1} flexGrow={1}>\n\t\t\t\t\t<FieldLabel>{t('Start')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Box height='x40' display='flex' width='full'>\n\t\t\t\t\t\t\t<InputBox type='date' onChange={handleStart} max={todayDate} value={start} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field mi={4} flexShrink={1} flexGrow={1}>\n\t\t\t\t\t<FieldLabel>{t('End')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Box height='x40' display='flex' width='full'>\n\t\t\t\t\t\t\t<InputBox type='date' onChange={handleEnd} min={start} max={todayDate} value={end} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Menu mis={8} options={options} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default DateRangePicker;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"f71545cf62046569e617112ef9271646e18aa0e9"}
