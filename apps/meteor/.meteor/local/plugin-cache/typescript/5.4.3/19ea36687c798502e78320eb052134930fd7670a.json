{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/server/services/federation/application/room/input/RoomReceiverDto.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","objectRestSpread","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.arm64"},"sourceFileName":"server/services/federation/application/room/input/RoomReceiverDto.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/server/services/federation/application/room/input/RoomReceiverDto.ts","inputSourceMap":{"version":3,"file":"server/services/federation/application/room/input/RoomReceiverDto.ts","sourceRoot":"","sources":["server/services/federation/application/room/input/RoomReceiverDto.ts"],"names":[],"mappings":"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","sourcesContent":["import type { RoomType } from '@rocket.chat/apps-engine/definition/rooms';\n\nimport type { EVENT_ORIGIN } from '../../../domain/IFederationBridge';\nimport type { ROCKET_CHAT_FEDERATION_ROLES } from '../../../infrastructure/rocket-chat/definitions/FederatedRoomInternalRoles';\n\ninterface IFederationBaseInputDto {\n\texternalEventId: string;\n}\n\nexport interface IFederationReceiverBaseRoomInputDto extends IFederationBaseInputDto {\n\texternalRoomId: string;\n\tnormalizedRoomId: string;\n}\n\ninterface IFederationCreateInputDto extends IFederationReceiverBaseRoomInputDto {\n\texternalInviterId: string;\n\tnormalizedInviterId: string;\n\texternalRoomName?: string;\n\troomType?: RoomType;\n\twasInternallyProgramaticallyCreated?: boolean;\n\tinternalRoomId?: string;\n}\n\ninterface IFederationChangeMembershipInputDto extends IFederationReceiverBaseRoomInputDto {\n\texternalInviterId: string;\n\tnormalizedInviterId: string;\n\texternalInviteeId: string;\n\tnormalizedInviteeId: string;\n\tinviteeUsernameOnly: string;\n\tinviterUsernameOnly: string;\n\teventOrigin: EVENT_ORIGIN;\n\tleave?: boolean;\n\troomType?: RoomType;\n\texternalRoomName?: string;\n\tuserProfile?: {\n\t\tavatarUrl?: string;\n\t\tdisplayName?: string;\n\t};\n\tallInviteesExternalIdsWhenDM?: {\n\t\texternalInviteeId: string;\n\t\tnormalizedInviteeId: string;\n\t\tinviteeUsernameOnly: string;\n\t}[];\n}\n\ninterface IFederationThread {\n\trootEventId: string;\n\treplyToEventId: string;\n}\n\ninterface IFederationSendInternalMessageInputDto extends IFederationReceiverBaseRoomInputDto {\n\texternalSenderId: string;\n\tnormalizedSenderId: string;\n\trawMessage: string;\n\texternalFormattedText: string;\n\treplyToEventId?: string;\n\tthread?: IFederationThread;\n}\n\ninterface IFederationRoomChangeJoinRulesDtoInputDto extends IFederationReceiverBaseRoomInputDto {\n\troomType: RoomType;\n}\n\ninterface IFederationRoomNameChangeInputDto extends IFederationReceiverBaseRoomInputDto {\n\tnormalizedRoomName: string;\n\texternalSenderId: string;\n}\n\ninterface IFederationRoomTopicChangeInputDto extends IFederationReceiverBaseRoomInputDto {\n\troomTopic: string;\n\texternalSenderId: string;\n}\n\ninterface IFederationRoomRedactEventInputDto extends IFederationReceiverBaseRoomInputDto {\n\tredactsEvent: string;\n\texternalSenderId: string;\n}\n\ninterface IFederationRoomChangePowerLevelsInputDto extends IFederationReceiverBaseRoomInputDto {\n\troleChangesToApply: IExternalRolesChangesToApplyInputDto;\n\texternalSenderId: string;\n}\n\ninterface IFederationSendInternalMessageBaseInputDto extends IFederationReceiverBaseRoomInputDto {\n\texternalSenderId: string;\n\tnormalizedSenderId: string;\n}\n\nabstract class FederationBaseDto {\n\tconstructor({ externalEventId }: { externalEventId: string }) {\n\t\tthis.externalEventId = externalEventId;\n\t}\n\n\texternalEventId: string;\n}\n\nexport class FederationBaseRoomInputDto extends FederationBaseDto {\n\tconstructor({ externalRoomId, normalizedRoomId, externalEventId }: IFederationReceiverBaseRoomInputDto) {\n\t\tsuper({ externalEventId });\n\t\tthis.externalRoomId = externalRoomId;\n\t\tthis.normalizedRoomId = normalizedRoomId;\n\t}\n\n\texternalRoomId: string;\n\n\tnormalizedRoomId: string;\n}\n\nexport class FederationRoomCreateInputDto extends FederationBaseRoomInputDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalInviterId,\n\t\tnormalizedInviterId,\n\t\twasInternallyProgramaticallyCreated,\n\t\troomType,\n\t\texternalRoomName,\n\t\tinternalRoomId,\n\t\texternalEventId,\n\t}: IFederationCreateInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalInviterId = externalInviterId;\n\t\tthis.normalizedInviterId = normalizedInviterId;\n\t\tthis.wasInternallyProgramaticallyCreated = wasInternallyProgramaticallyCreated;\n\t\tthis.roomType = roomType;\n\t\tthis.externalRoomName = externalRoomName;\n\t\tthis.internalRoomId = internalRoomId;\n\t}\n\n\texternalInviterId: string;\n\n\tnormalizedInviterId: string;\n\n\twasInternallyProgramaticallyCreated?: boolean;\n\n\tinternalRoomId?: string;\n\n\texternalRoomName?: string;\n\n\troomType?: RoomType;\n}\n\nexport class FederationRoomChangeMembershipDto extends FederationBaseRoomInputDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalInviterId,\n\t\tnormalizedInviterId,\n\t\texternalInviteeId,\n\t\tnormalizedInviteeId,\n\t\tinviteeUsernameOnly,\n\t\tinviterUsernameOnly,\n\t\teventOrigin,\n\t\tleave,\n\t\troomType,\n\t\texternalRoomName,\n\t\texternalEventId,\n\t\tuserProfile,\n\t\tallInviteesExternalIdsWhenDM = [],\n\t}: IFederationChangeMembershipInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalInviterId = externalInviterId;\n\t\tthis.normalizedInviterId = normalizedInviterId;\n\t\tthis.externalInviteeId = externalInviteeId;\n\t\tthis.normalizedInviteeId = normalizedInviteeId;\n\t\tthis.inviteeUsernameOnly = inviteeUsernameOnly;\n\t\tthis.inviterUsernameOnly = inviterUsernameOnly;\n\t\tthis.eventOrigin = eventOrigin;\n\t\tthis.leave = leave;\n\t\tthis.roomType = roomType;\n\t\tthis.externalRoomName = externalRoomName;\n\t\tthis.userProfile = userProfile;\n\t\tthis.allInviteesExternalIdsWhenDM = allInviteesExternalIdsWhenDM;\n\t}\n\n\texternalInviterId: string;\n\n\tnormalizedInviterId: string;\n\n\tinviterUsernameOnly: string;\n\n\texternalInviteeId: string;\n\n\tnormalizedInviteeId: string;\n\n\tinviteeUsernameOnly: string;\n\n\teventOrigin: EVENT_ORIGIN;\n\n\troomType?: RoomType;\n\n\tleave?: boolean;\n\n\texternalRoomName?: string;\n\n\tallInviteesExternalIdsWhenDM?: {\n\t\texternalInviteeId: string;\n\t\tnormalizedInviteeId: string;\n\t\tinviteeUsernameOnly: string;\n\t}[];\n\n\tuserProfile?: { avatarUrl?: string; displayName?: string };\n}\n\nclass ExternalMessageBaseDto extends FederationBaseRoomInputDto {\n\tconstructor({ externalRoomId, normalizedRoomId, externalSenderId, normalizedSenderId, externalEventId }: Record<string, any>) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalSenderId = externalSenderId;\n\t\tthis.normalizedSenderId = normalizedSenderId;\n\t}\n\n\texternalSenderId: string;\n\n\tnormalizedSenderId: string;\n}\n\nexport class FederationRoomReceiveExternalMessageDto extends ExternalMessageBaseDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalSenderId,\n\t\tnormalizedSenderId,\n\t\texternalFormattedText,\n\t\trawMessage,\n\t\texternalEventId,\n\t\treplyToEventId,\n\t\tthread,\n\t}: IFederationSendInternalMessageInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId });\n\t\tthis.externalSenderId = externalSenderId;\n\t\tthis.normalizedSenderId = normalizedSenderId;\n\t\tthis.externalFormattedText = externalFormattedText;\n\t\tthis.rawMessage = rawMessage;\n\t\tthis.replyToEventId = replyToEventId;\n\t\tthis.externalEventId = externalEventId;\n\t\tthis.thread = thread;\n\t}\n\n\texternalSenderId: string;\n\n\tnormalizedSenderId: string;\n\n\texternalFormattedText: string;\n\n\trawMessage: string;\n\n\treplyToEventId?: string;\n\n\tthread?: {\n\t\trootEventId: string;\n\t\treplyToEventId: string;\n\t};\n}\n\nexport class FederationRoomEditExternalMessageDto extends ExternalMessageBaseDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalSenderId,\n\t\tnormalizedSenderId,\n\t\tnewRawMessage,\n\t\tnewExternalFormattedText,\n\t\teditsEvent,\n\t\texternalEventId,\n\t}: IFederationSendInternalMessageBaseInputDto & {\n\t\tnewRawMessage: string;\n\t\tnewExternalFormattedText: string;\n\t\teditsEvent: string;\n\t}) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalSenderId = externalSenderId;\n\t\tthis.normalizedSenderId = normalizedSenderId;\n\t\tthis.newRawMessage = newRawMessage;\n\t\tthis.newExternalFormattedText = newExternalFormattedText;\n\t\tthis.editsEvent = editsEvent;\n\t}\n\n\texternalSenderId: string;\n\n\tnormalizedSenderId: string;\n\n\tnewExternalFormattedText: string;\n\n\tnewRawMessage: string;\n\n\teditsEvent: string;\n}\n\ninterface IFederationFileMessageInputDto {\n\tfilename: string;\n\tmimetype: string;\n\tsize: number;\n\tmessageText: string;\n\turl: string;\n\treplyToEventId?: string;\n\tthread?: {\n\t\trootEventId: string;\n\t\treplyToEventId: string;\n\t};\n}\n\nclass FederationFileMessageInputDto {\n\tconstructor({ filename, mimetype, size, messageText, url }: IFederationFileMessageInputDto) {\n\t\tthis.filename = filename;\n\t\tthis.mimetype = mimetype;\n\t\tthis.size = size;\n\t\tthis.messageText = messageText;\n\t\tthis.url = url;\n\t}\n\n\tfilename: string;\n\n\tmimetype: string;\n\n\tsize: number;\n\n\tmessageText: string;\n\n\turl: string;\n}\n\nexport class FederationRoomReceiveExternalFileMessageDto extends ExternalMessageBaseDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalSenderId,\n\t\tnormalizedSenderId,\n\t\tfilename,\n\t\tmimetype,\n\t\tsize,\n\t\tmessageText,\n\t\turl,\n\t\texternalEventId,\n\t\treplyToEventId,\n\t\tthread,\n\t}: IFederationSendInternalMessageBaseInputDto & IFederationFileMessageInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalSenderId = externalSenderId;\n\t\tthis.normalizedSenderId = normalizedSenderId;\n\t\tthis.replyToEventId = replyToEventId;\n\t\tthis.messageBody = new FederationFileMessageInputDto({ filename, mimetype, size, messageText, url });\n\t\tthis.thread = thread;\n\t}\n\n\texternalSenderId: string;\n\n\tnormalizedSenderId: string;\n\n\tmessageBody: FederationFileMessageInputDto;\n\n\treplyToEventId?: string;\n\n\tthread?: IFederationThread;\n}\n\nexport class FederationRoomChangeJoinRulesDto extends FederationBaseRoomInputDto {\n\tconstructor({ externalRoomId, normalizedRoomId, roomType, externalEventId }: IFederationRoomChangeJoinRulesDtoInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.roomType = roomType;\n\t}\n\n\troomType: RoomType;\n}\n\nexport class FederationRoomChangeNameDto extends FederationBaseRoomInputDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\tnormalizedRoomName,\n\t\texternalSenderId,\n\t\texternalEventId,\n\t}: IFederationRoomNameChangeInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.normalizedRoomName = normalizedRoomName;\n\t\tthis.externalSenderId = externalSenderId;\n\t}\n\n\tnormalizedRoomName: string;\n\n\texternalSenderId: string;\n}\n\nexport class FederationRoomChangeTopicDto extends FederationBaseRoomInputDto {\n\tconstructor({ externalRoomId, normalizedRoomId, roomTopic, externalSenderId, externalEventId }: IFederationRoomTopicChangeInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.roomTopic = roomTopic;\n\t\tthis.externalSenderId = externalSenderId;\n\t}\n\n\troomTopic: string;\n\n\texternalSenderId: string;\n}\n\nexport class FederationRoomRedactEventDto extends FederationBaseRoomInputDto {\n\tconstructor({ externalRoomId, normalizedRoomId, externalEventId, redactsEvent, externalSenderId }: IFederationRoomRedactEventInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.redactsEvent = redactsEvent;\n\t\tthis.externalSenderId = externalSenderId;\n\t}\n\n\tredactsEvent: string;\n\n\texternalSenderId: string;\n}\n\nexport interface IExternalRolesChangesToApplyInputDto {\n\t[key: string]: { action: string; role: ROCKET_CHAT_FEDERATION_ROLES }[];\n}\nexport class FederationRoomRoomChangePowerLevelsEventDto extends FederationBaseRoomInputDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalEventId,\n\t\troleChangesToApply,\n\t\texternalSenderId,\n\t}: IFederationRoomChangePowerLevelsInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.roleChangesToApply = roleChangesToApply;\n\t\tthis.externalSenderId = externalSenderId;\n\t}\n\n\troleChangesToApply: IExternalRolesChangesToApplyInputDto;\n\n\texternalSenderId: string;\n}\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true,"topLevelAwait":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/server/services/federation/application/room/input/RoomReceiverDto.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"server/services/federation/application/room/input/RoomReceiverDto.ts","inputSourceMap":{"version":3,"file":"server/services/federation/application/room/input/RoomReceiverDto.ts","sourceRoot":"","sources":["server/services/federation/application/room/input/RoomReceiverDto.ts"],"names":[],"mappings":"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","sourcesContent":["import type { RoomType } from '@rocket.chat/apps-engine/definition/rooms';\n\nimport type { EVENT_ORIGIN } from '../../../domain/IFederationBridge';\nimport type { ROCKET_CHAT_FEDERATION_ROLES } from '../../../infrastructure/rocket-chat/definitions/FederatedRoomInternalRoles';\n\ninterface IFederationBaseInputDto {\n\texternalEventId: string;\n}\n\nexport interface IFederationReceiverBaseRoomInputDto extends IFederationBaseInputDto {\n\texternalRoomId: string;\n\tnormalizedRoomId: string;\n}\n\ninterface IFederationCreateInputDto extends IFederationReceiverBaseRoomInputDto {\n\texternalInviterId: string;\n\tnormalizedInviterId: string;\n\texternalRoomName?: string;\n\troomType?: RoomType;\n\twasInternallyProgramaticallyCreated?: boolean;\n\tinternalRoomId?: string;\n}\n\ninterface IFederationChangeMembershipInputDto extends IFederationReceiverBaseRoomInputDto {\n\texternalInviterId: string;\n\tnormalizedInviterId: string;\n\texternalInviteeId: string;\n\tnormalizedInviteeId: string;\n\tinviteeUsernameOnly: string;\n\tinviterUsernameOnly: string;\n\teventOrigin: EVENT_ORIGIN;\n\tleave?: boolean;\n\troomType?: RoomType;\n\texternalRoomName?: string;\n\tuserProfile?: {\n\t\tavatarUrl?: string;\n\t\tdisplayName?: string;\n\t};\n\tallInviteesExternalIdsWhenDM?: {\n\t\texternalInviteeId: string;\n\t\tnormalizedInviteeId: string;\n\t\tinviteeUsernameOnly: string;\n\t}[];\n}\n\ninterface IFederationThread {\n\trootEventId: string;\n\treplyToEventId: string;\n}\n\ninterface IFederationSendInternalMessageInputDto extends IFederationReceiverBaseRoomInputDto {\n\texternalSenderId: string;\n\tnormalizedSenderId: string;\n\trawMessage: string;\n\texternalFormattedText: string;\n\treplyToEventId?: string;\n\tthread?: IFederationThread;\n}\n\ninterface IFederationRoomChangeJoinRulesDtoInputDto extends IFederationReceiverBaseRoomInputDto {\n\troomType: RoomType;\n}\n\ninterface IFederationRoomNameChangeInputDto extends IFederationReceiverBaseRoomInputDto {\n\tnormalizedRoomName: string;\n\texternalSenderId: string;\n}\n\ninterface IFederationRoomTopicChangeInputDto extends IFederationReceiverBaseRoomInputDto {\n\troomTopic: string;\n\texternalSenderId: string;\n}\n\ninterface IFederationRoomRedactEventInputDto extends IFederationReceiverBaseRoomInputDto {\n\tredactsEvent: string;\n\texternalSenderId: string;\n}\n\ninterface IFederationRoomChangePowerLevelsInputDto extends IFederationReceiverBaseRoomInputDto {\n\troleChangesToApply: IExternalRolesChangesToApplyInputDto;\n\texternalSenderId: string;\n}\n\ninterface IFederationSendInternalMessageBaseInputDto extends IFederationReceiverBaseRoomInputDto {\n\texternalSenderId: string;\n\tnormalizedSenderId: string;\n}\n\nabstract class FederationBaseDto {\n\tconstructor({ externalEventId }: { externalEventId: string }) {\n\t\tthis.externalEventId = externalEventId;\n\t}\n\n\texternalEventId: string;\n}\n\nexport class FederationBaseRoomInputDto extends FederationBaseDto {\n\tconstructor({ externalRoomId, normalizedRoomId, externalEventId }: IFederationReceiverBaseRoomInputDto) {\n\t\tsuper({ externalEventId });\n\t\tthis.externalRoomId = externalRoomId;\n\t\tthis.normalizedRoomId = normalizedRoomId;\n\t}\n\n\texternalRoomId: string;\n\n\tnormalizedRoomId: string;\n}\n\nexport class FederationRoomCreateInputDto extends FederationBaseRoomInputDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalInviterId,\n\t\tnormalizedInviterId,\n\t\twasInternallyProgramaticallyCreated,\n\t\troomType,\n\t\texternalRoomName,\n\t\tinternalRoomId,\n\t\texternalEventId,\n\t}: IFederationCreateInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalInviterId = externalInviterId;\n\t\tthis.normalizedInviterId = normalizedInviterId;\n\t\tthis.wasInternallyProgramaticallyCreated = wasInternallyProgramaticallyCreated;\n\t\tthis.roomType = roomType;\n\t\tthis.externalRoomName = externalRoomName;\n\t\tthis.internalRoomId = internalRoomId;\n\t}\n\n\texternalInviterId: string;\n\n\tnormalizedInviterId: string;\n\n\twasInternallyProgramaticallyCreated?: boolean;\n\n\tinternalRoomId?: string;\n\n\texternalRoomName?: string;\n\n\troomType?: RoomType;\n}\n\nexport class FederationRoomChangeMembershipDto extends FederationBaseRoomInputDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalInviterId,\n\t\tnormalizedInviterId,\n\t\texternalInviteeId,\n\t\tnormalizedInviteeId,\n\t\tinviteeUsernameOnly,\n\t\tinviterUsernameOnly,\n\t\teventOrigin,\n\t\tleave,\n\t\troomType,\n\t\texternalRoomName,\n\t\texternalEventId,\n\t\tuserProfile,\n\t\tallInviteesExternalIdsWhenDM = [],\n\t}: IFederationChangeMembershipInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalInviterId = externalInviterId;\n\t\tthis.normalizedInviterId = normalizedInviterId;\n\t\tthis.externalInviteeId = externalInviteeId;\n\t\tthis.normalizedInviteeId = normalizedInviteeId;\n\t\tthis.inviteeUsernameOnly = inviteeUsernameOnly;\n\t\tthis.inviterUsernameOnly = inviterUsernameOnly;\n\t\tthis.eventOrigin = eventOrigin;\n\t\tthis.leave = leave;\n\t\tthis.roomType = roomType;\n\t\tthis.externalRoomName = externalRoomName;\n\t\tthis.userProfile = userProfile;\n\t\tthis.allInviteesExternalIdsWhenDM = allInviteesExternalIdsWhenDM;\n\t}\n\n\texternalInviterId: string;\n\n\tnormalizedInviterId: string;\n\n\tinviterUsernameOnly: string;\n\n\texternalInviteeId: string;\n\n\tnormalizedInviteeId: string;\n\n\tinviteeUsernameOnly: string;\n\n\teventOrigin: EVENT_ORIGIN;\n\n\troomType?: RoomType;\n\n\tleave?: boolean;\n\n\texternalRoomName?: string;\n\n\tallInviteesExternalIdsWhenDM?: {\n\t\texternalInviteeId: string;\n\t\tnormalizedInviteeId: string;\n\t\tinviteeUsernameOnly: string;\n\t}[];\n\n\tuserProfile?: { avatarUrl?: string; displayName?: string };\n}\n\nclass ExternalMessageBaseDto extends FederationBaseRoomInputDto {\n\tconstructor({ externalRoomId, normalizedRoomId, externalSenderId, normalizedSenderId, externalEventId }: Record<string, any>) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalSenderId = externalSenderId;\n\t\tthis.normalizedSenderId = normalizedSenderId;\n\t}\n\n\texternalSenderId: string;\n\n\tnormalizedSenderId: string;\n}\n\nexport class FederationRoomReceiveExternalMessageDto extends ExternalMessageBaseDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalSenderId,\n\t\tnormalizedSenderId,\n\t\texternalFormattedText,\n\t\trawMessage,\n\t\texternalEventId,\n\t\treplyToEventId,\n\t\tthread,\n\t}: IFederationSendInternalMessageInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId });\n\t\tthis.externalSenderId = externalSenderId;\n\t\tthis.normalizedSenderId = normalizedSenderId;\n\t\tthis.externalFormattedText = externalFormattedText;\n\t\tthis.rawMessage = rawMessage;\n\t\tthis.replyToEventId = replyToEventId;\n\t\tthis.externalEventId = externalEventId;\n\t\tthis.thread = thread;\n\t}\n\n\texternalSenderId: string;\n\n\tnormalizedSenderId: string;\n\n\texternalFormattedText: string;\n\n\trawMessage: string;\n\n\treplyToEventId?: string;\n\n\tthread?: {\n\t\trootEventId: string;\n\t\treplyToEventId: string;\n\t};\n}\n\nexport class FederationRoomEditExternalMessageDto extends ExternalMessageBaseDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalSenderId,\n\t\tnormalizedSenderId,\n\t\tnewRawMessage,\n\t\tnewExternalFormattedText,\n\t\teditsEvent,\n\t\texternalEventId,\n\t}: IFederationSendInternalMessageBaseInputDto & {\n\t\tnewRawMessage: string;\n\t\tnewExternalFormattedText: string;\n\t\teditsEvent: string;\n\t}) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalSenderId = externalSenderId;\n\t\tthis.normalizedSenderId = normalizedSenderId;\n\t\tthis.newRawMessage = newRawMessage;\n\t\tthis.newExternalFormattedText = newExternalFormattedText;\n\t\tthis.editsEvent = editsEvent;\n\t}\n\n\texternalSenderId: string;\n\n\tnormalizedSenderId: string;\n\n\tnewExternalFormattedText: string;\n\n\tnewRawMessage: string;\n\n\teditsEvent: string;\n}\n\ninterface IFederationFileMessageInputDto {\n\tfilename: string;\n\tmimetype: string;\n\tsize: number;\n\tmessageText: string;\n\turl: string;\n\treplyToEventId?: string;\n\tthread?: {\n\t\trootEventId: string;\n\t\treplyToEventId: string;\n\t};\n}\n\nclass FederationFileMessageInputDto {\n\tconstructor({ filename, mimetype, size, messageText, url }: IFederationFileMessageInputDto) {\n\t\tthis.filename = filename;\n\t\tthis.mimetype = mimetype;\n\t\tthis.size = size;\n\t\tthis.messageText = messageText;\n\t\tthis.url = url;\n\t}\n\n\tfilename: string;\n\n\tmimetype: string;\n\n\tsize: number;\n\n\tmessageText: string;\n\n\turl: string;\n}\n\nexport class FederationRoomReceiveExternalFileMessageDto extends ExternalMessageBaseDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalSenderId,\n\t\tnormalizedSenderId,\n\t\tfilename,\n\t\tmimetype,\n\t\tsize,\n\t\tmessageText,\n\t\turl,\n\t\texternalEventId,\n\t\treplyToEventId,\n\t\tthread,\n\t}: IFederationSendInternalMessageBaseInputDto & IFederationFileMessageInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalSenderId = externalSenderId;\n\t\tthis.normalizedSenderId = normalizedSenderId;\n\t\tthis.replyToEventId = replyToEventId;\n\t\tthis.messageBody = new FederationFileMessageInputDto({ filename, mimetype, size, messageText, url });\n\t\tthis.thread = thread;\n\t}\n\n\texternalSenderId: string;\n\n\tnormalizedSenderId: string;\n\n\tmessageBody: FederationFileMessageInputDto;\n\n\treplyToEventId?: string;\n\n\tthread?: IFederationThread;\n}\n\nexport class FederationRoomChangeJoinRulesDto extends FederationBaseRoomInputDto {\n\tconstructor({ externalRoomId, normalizedRoomId, roomType, externalEventId }: IFederationRoomChangeJoinRulesDtoInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.roomType = roomType;\n\t}\n\n\troomType: RoomType;\n}\n\nexport class FederationRoomChangeNameDto extends FederationBaseRoomInputDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\tnormalizedRoomName,\n\t\texternalSenderId,\n\t\texternalEventId,\n\t}: IFederationRoomNameChangeInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.normalizedRoomName = normalizedRoomName;\n\t\tthis.externalSenderId = externalSenderId;\n\t}\n\n\tnormalizedRoomName: string;\n\n\texternalSenderId: string;\n}\n\nexport class FederationRoomChangeTopicDto extends FederationBaseRoomInputDto {\n\tconstructor({ externalRoomId, normalizedRoomId, roomTopic, externalSenderId, externalEventId }: IFederationRoomTopicChangeInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.roomTopic = roomTopic;\n\t\tthis.externalSenderId = externalSenderId;\n\t}\n\n\troomTopic: string;\n\n\texternalSenderId: string;\n}\n\nexport class FederationRoomRedactEventDto extends FederationBaseRoomInputDto {\n\tconstructor({ externalRoomId, normalizedRoomId, externalEventId, redactsEvent, externalSenderId }: IFederationRoomRedactEventInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.redactsEvent = redactsEvent;\n\t\tthis.externalSenderId = externalSenderId;\n\t}\n\n\tredactsEvent: string;\n\n\texternalSenderId: string;\n}\n\nexport interface IExternalRolesChangesToApplyInputDto {\n\t[key: string]: { action: string; role: ROCKET_CHAT_FEDERATION_ROLES }[];\n}\nexport class FederationRoomRoomChangePowerLevelsEventDto extends FederationBaseRoomInputDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalEventId,\n\t\troleChangesToApply,\n\t\texternalSenderId,\n\t}: IFederationRoomChangePowerLevelsInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.roleChangesToApply = roleChangesToApply;\n\t\tthis.externalSenderId = externalSenderId;\n\t}\n\n\troleChangesToApply: IExternalRolesChangesToApplyInputDto;\n\n\texternalSenderId: string;\n}\n"]}}},"code":"module.export({\n  FederationBaseRoomInputDto: () => FederationBaseRoomInputDto,\n  FederationRoomCreateInputDto: () => FederationRoomCreateInputDto,\n  FederationRoomChangeMembershipDto: () => FederationRoomChangeMembershipDto,\n  FederationRoomReceiveExternalMessageDto: () => FederationRoomReceiveExternalMessageDto,\n  FederationRoomEditExternalMessageDto: () => FederationRoomEditExternalMessageDto,\n  FederationRoomReceiveExternalFileMessageDto: () => FederationRoomReceiveExternalFileMessageDto,\n  FederationRoomChangeJoinRulesDto: () => FederationRoomChangeJoinRulesDto,\n  FederationRoomChangeNameDto: () => FederationRoomChangeNameDto,\n  FederationRoomChangeTopicDto: () => FederationRoomChangeTopicDto,\n  FederationRoomRedactEventDto: () => FederationRoomRedactEventDto,\n  FederationRoomRoomChangePowerLevelsEventDto: () => FederationRoomRoomChangePowerLevelsEventDto\n});\nclass FederationBaseDto {\n  constructor(_ref) {\n    let {\n      externalEventId\n    } = _ref;\n    this.externalEventId = void 0;\n    this.externalEventId = externalEventId;\n  }\n}\nclass FederationBaseRoomInputDto extends FederationBaseDto {\n  constructor(_ref2) {\n    let {\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId\n    } = _ref2;\n    super({\n      externalEventId\n    });\n    this.externalRoomId = void 0;\n    this.normalizedRoomId = void 0;\n    this.externalRoomId = externalRoomId;\n    this.normalizedRoomId = normalizedRoomId;\n  }\n}\nclass FederationRoomCreateInputDto extends FederationBaseRoomInputDto {\n  constructor(_ref3) {\n    let {\n      externalRoomId,\n      normalizedRoomId,\n      externalInviterId,\n      normalizedInviterId,\n      wasInternallyProgramaticallyCreated,\n      roomType,\n      externalRoomName,\n      internalRoomId,\n      externalEventId\n    } = _ref3;\n    super({\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId\n    });\n    this.externalInviterId = void 0;\n    this.normalizedInviterId = void 0;\n    this.wasInternallyProgramaticallyCreated = void 0;\n    this.internalRoomId = void 0;\n    this.externalRoomName = void 0;\n    this.roomType = void 0;\n    this.externalInviterId = externalInviterId;\n    this.normalizedInviterId = normalizedInviterId;\n    this.wasInternallyProgramaticallyCreated = wasInternallyProgramaticallyCreated;\n    this.roomType = roomType;\n    this.externalRoomName = externalRoomName;\n    this.internalRoomId = internalRoomId;\n  }\n}\nclass FederationRoomChangeMembershipDto extends FederationBaseRoomInputDto {\n  constructor(_ref4) {\n    let {\n      externalRoomId,\n      normalizedRoomId,\n      externalInviterId,\n      normalizedInviterId,\n      externalInviteeId,\n      normalizedInviteeId,\n      inviteeUsernameOnly,\n      inviterUsernameOnly,\n      eventOrigin,\n      leave,\n      roomType,\n      externalRoomName,\n      externalEventId,\n      userProfile,\n      allInviteesExternalIdsWhenDM = []\n    } = _ref4;\n    super({\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId\n    });\n    this.externalInviterId = void 0;\n    this.normalizedInviterId = void 0;\n    this.inviterUsernameOnly = void 0;\n    this.externalInviteeId = void 0;\n    this.normalizedInviteeId = void 0;\n    this.inviteeUsernameOnly = void 0;\n    this.eventOrigin = void 0;\n    this.roomType = void 0;\n    this.leave = void 0;\n    this.externalRoomName = void 0;\n    this.allInviteesExternalIdsWhenDM = void 0;\n    this.userProfile = void 0;\n    this.externalInviterId = externalInviterId;\n    this.normalizedInviterId = normalizedInviterId;\n    this.externalInviteeId = externalInviteeId;\n    this.normalizedInviteeId = normalizedInviteeId;\n    this.inviteeUsernameOnly = inviteeUsernameOnly;\n    this.inviterUsernameOnly = inviterUsernameOnly;\n    this.eventOrigin = eventOrigin;\n    this.leave = leave;\n    this.roomType = roomType;\n    this.externalRoomName = externalRoomName;\n    this.userProfile = userProfile;\n    this.allInviteesExternalIdsWhenDM = allInviteesExternalIdsWhenDM;\n  }\n}\nclass ExternalMessageBaseDto extends FederationBaseRoomInputDto {\n  constructor(_ref5) {\n    let {\n      externalRoomId,\n      normalizedRoomId,\n      externalSenderId,\n      normalizedSenderId,\n      externalEventId\n    } = _ref5;\n    super({\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId\n    });\n    this.externalSenderId = void 0;\n    this.normalizedSenderId = void 0;\n    this.externalSenderId = externalSenderId;\n    this.normalizedSenderId = normalizedSenderId;\n  }\n}\nclass FederationRoomReceiveExternalMessageDto extends ExternalMessageBaseDto {\n  constructor(_ref6) {\n    let {\n      externalRoomId,\n      normalizedRoomId,\n      externalSenderId,\n      normalizedSenderId,\n      externalFormattedText,\n      rawMessage,\n      externalEventId,\n      replyToEventId,\n      thread\n    } = _ref6;\n    super({\n      externalRoomId,\n      normalizedRoomId\n    });\n    this.externalSenderId = void 0;\n    this.normalizedSenderId = void 0;\n    this.externalFormattedText = void 0;\n    this.rawMessage = void 0;\n    this.replyToEventId = void 0;\n    this.thread = void 0;\n    this.externalSenderId = externalSenderId;\n    this.normalizedSenderId = normalizedSenderId;\n    this.externalFormattedText = externalFormattedText;\n    this.rawMessage = rawMessage;\n    this.replyToEventId = replyToEventId;\n    this.externalEventId = externalEventId;\n    this.thread = thread;\n  }\n}\nclass FederationRoomEditExternalMessageDto extends ExternalMessageBaseDto {\n  constructor(_ref7) {\n    let {\n      externalRoomId,\n      normalizedRoomId,\n      externalSenderId,\n      normalizedSenderId,\n      newRawMessage,\n      newExternalFormattedText,\n      editsEvent,\n      externalEventId\n    } = _ref7;\n    super({\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId\n    });\n    this.externalSenderId = void 0;\n    this.normalizedSenderId = void 0;\n    this.newExternalFormattedText = void 0;\n    this.newRawMessage = void 0;\n    this.editsEvent = void 0;\n    this.externalSenderId = externalSenderId;\n    this.normalizedSenderId = normalizedSenderId;\n    this.newRawMessage = newRawMessage;\n    this.newExternalFormattedText = newExternalFormattedText;\n    this.editsEvent = editsEvent;\n  }\n}\nclass FederationFileMessageInputDto {\n  constructor(_ref8) {\n    let {\n      filename,\n      mimetype,\n      size,\n      messageText,\n      url\n    } = _ref8;\n    this.filename = void 0;\n    this.mimetype = void 0;\n    this.size = void 0;\n    this.messageText = void 0;\n    this.url = void 0;\n    this.filename = filename;\n    this.mimetype = mimetype;\n    this.size = size;\n    this.messageText = messageText;\n    this.url = url;\n  }\n}\nclass FederationRoomReceiveExternalFileMessageDto extends ExternalMessageBaseDto {\n  constructor(_ref9) {\n    let {\n      externalRoomId,\n      normalizedRoomId,\n      externalSenderId,\n      normalizedSenderId,\n      filename,\n      mimetype,\n      size,\n      messageText,\n      url,\n      externalEventId,\n      replyToEventId,\n      thread\n    } = _ref9;\n    super({\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId\n    });\n    this.externalSenderId = void 0;\n    this.normalizedSenderId = void 0;\n    this.messageBody = void 0;\n    this.replyToEventId = void 0;\n    this.thread = void 0;\n    this.externalSenderId = externalSenderId;\n    this.normalizedSenderId = normalizedSenderId;\n    this.replyToEventId = replyToEventId;\n    this.messageBody = new FederationFileMessageInputDto({\n      filename,\n      mimetype,\n      size,\n      messageText,\n      url\n    });\n    this.thread = thread;\n  }\n}\nclass FederationRoomChangeJoinRulesDto extends FederationBaseRoomInputDto {\n  constructor(_ref10) {\n    let {\n      externalRoomId,\n      normalizedRoomId,\n      roomType,\n      externalEventId\n    } = _ref10;\n    super({\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId\n    });\n    this.roomType = void 0;\n    this.roomType = roomType;\n  }\n}\nclass FederationRoomChangeNameDto extends FederationBaseRoomInputDto {\n  constructor(_ref11) {\n    let {\n      externalRoomId,\n      normalizedRoomId,\n      normalizedRoomName,\n      externalSenderId,\n      externalEventId\n    } = _ref11;\n    super({\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId\n    });\n    this.normalizedRoomName = void 0;\n    this.externalSenderId = void 0;\n    this.normalizedRoomName = normalizedRoomName;\n    this.externalSenderId = externalSenderId;\n  }\n}\nclass FederationRoomChangeTopicDto extends FederationBaseRoomInputDto {\n  constructor(_ref12) {\n    let {\n      externalRoomId,\n      normalizedRoomId,\n      roomTopic,\n      externalSenderId,\n      externalEventId\n    } = _ref12;\n    super({\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId\n    });\n    this.roomTopic = void 0;\n    this.externalSenderId = void 0;\n    this.roomTopic = roomTopic;\n    this.externalSenderId = externalSenderId;\n  }\n}\nclass FederationRoomRedactEventDto extends FederationBaseRoomInputDto {\n  constructor(_ref13) {\n    let {\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId,\n      redactsEvent,\n      externalSenderId\n    } = _ref13;\n    super({\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId\n    });\n    this.redactsEvent = void 0;\n    this.externalSenderId = void 0;\n    this.redactsEvent = redactsEvent;\n    this.externalSenderId = externalSenderId;\n  }\n}\nclass FederationRoomRoomChangePowerLevelsEventDto extends FederationBaseRoomInputDto {\n  constructor(_ref14) {\n    let {\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId,\n      roleChangesToApply,\n      externalSenderId\n    } = _ref14;\n    super({\n      externalRoomId,\n      normalizedRoomId,\n      externalEventId\n    });\n    this.roleChangesToApply = void 0;\n    this.externalSenderId = void 0;\n    this.roleChangesToApply = roleChangesToApply;\n    this.externalSenderId = externalSenderId;\n  }\n}","map":{"version":3,"names":["module","export","FederationBaseRoomInputDto","FederationRoomCreateInputDto","FederationRoomChangeMembershipDto","FederationRoomReceiveExternalMessageDto","FederationRoomEditExternalMessageDto","FederationRoomReceiveExternalFileMessageDto","FederationRoomChangeJoinRulesDto","FederationRoomChangeNameDto","FederationRoomChangeTopicDto","FederationRoomRedactEventDto","FederationRoomRoomChangePowerLevelsEventDto","FederationBaseDto","constructor","_ref","externalEventId","_ref2","externalRoomId","normalizedRoomId","_ref3","externalInviterId","normalizedInviterId","wasInternallyProgramaticallyCreated","roomType","externalRoomName","internalRoomId","_ref4","externalInviteeId","normalizedInviteeId","inviteeUsernameOnly","inviterUsernameOnly","eventOrigin","leave","userProfile","allInviteesExternalIdsWhenDM","ExternalMessageBaseDto","_ref5","externalSenderId","normalizedSenderId","_ref6","externalFormattedText","rawMessage","replyToEventId","thread","_ref7","newRawMessage","newExternalFormattedText","editsEvent","FederationFileMessageInputDto","_ref8","filename","mimetype","size","messageText","url","_ref9","messageBody","_ref10","_ref11","normalizedRoomName","_ref12","roomTopic","_ref13","redactsEvent","_ref14","roleChangesToApply"],"sources":["server/services/federation/application/room/input/RoomReceiverDto.ts"],"sourcesContent":["import type { RoomType } from '@rocket.chat/apps-engine/definition/rooms';\n\nimport type { EVENT_ORIGIN } from '../../../domain/IFederationBridge';\nimport type { ROCKET_CHAT_FEDERATION_ROLES } from '../../../infrastructure/rocket-chat/definitions/FederatedRoomInternalRoles';\n\ninterface IFederationBaseInputDto {\n\texternalEventId: string;\n}\n\nexport interface IFederationReceiverBaseRoomInputDto extends IFederationBaseInputDto {\n\texternalRoomId: string;\n\tnormalizedRoomId: string;\n}\n\ninterface IFederationCreateInputDto extends IFederationReceiverBaseRoomInputDto {\n\texternalInviterId: string;\n\tnormalizedInviterId: string;\n\texternalRoomName?: string;\n\troomType?: RoomType;\n\twasInternallyProgramaticallyCreated?: boolean;\n\tinternalRoomId?: string;\n}\n\ninterface IFederationChangeMembershipInputDto extends IFederationReceiverBaseRoomInputDto {\n\texternalInviterId: string;\n\tnormalizedInviterId: string;\n\texternalInviteeId: string;\n\tnormalizedInviteeId: string;\n\tinviteeUsernameOnly: string;\n\tinviterUsernameOnly: string;\n\teventOrigin: EVENT_ORIGIN;\n\tleave?: boolean;\n\troomType?: RoomType;\n\texternalRoomName?: string;\n\tuserProfile?: {\n\t\tavatarUrl?: string;\n\t\tdisplayName?: string;\n\t};\n\tallInviteesExternalIdsWhenDM?: {\n\t\texternalInviteeId: string;\n\t\tnormalizedInviteeId: string;\n\t\tinviteeUsernameOnly: string;\n\t}[];\n}\n\ninterface IFederationThread {\n\trootEventId: string;\n\treplyToEventId: string;\n}\n\ninterface IFederationSendInternalMessageInputDto extends IFederationReceiverBaseRoomInputDto {\n\texternalSenderId: string;\n\tnormalizedSenderId: string;\n\trawMessage: string;\n\texternalFormattedText: string;\n\treplyToEventId?: string;\n\tthread?: IFederationThread;\n}\n\ninterface IFederationRoomChangeJoinRulesDtoInputDto extends IFederationReceiverBaseRoomInputDto {\n\troomType: RoomType;\n}\n\ninterface IFederationRoomNameChangeInputDto extends IFederationReceiverBaseRoomInputDto {\n\tnormalizedRoomName: string;\n\texternalSenderId: string;\n}\n\ninterface IFederationRoomTopicChangeInputDto extends IFederationReceiverBaseRoomInputDto {\n\troomTopic: string;\n\texternalSenderId: string;\n}\n\ninterface IFederationRoomRedactEventInputDto extends IFederationReceiverBaseRoomInputDto {\n\tredactsEvent: string;\n\texternalSenderId: string;\n}\n\ninterface IFederationRoomChangePowerLevelsInputDto extends IFederationReceiverBaseRoomInputDto {\n\troleChangesToApply: IExternalRolesChangesToApplyInputDto;\n\texternalSenderId: string;\n}\n\ninterface IFederationSendInternalMessageBaseInputDto extends IFederationReceiverBaseRoomInputDto {\n\texternalSenderId: string;\n\tnormalizedSenderId: string;\n}\n\nabstract class FederationBaseDto {\n\tconstructor({ externalEventId }: { externalEventId: string }) {\n\t\tthis.externalEventId = externalEventId;\n\t}\n\n\texternalEventId: string;\n}\n\nexport class FederationBaseRoomInputDto extends FederationBaseDto {\n\tconstructor({ externalRoomId, normalizedRoomId, externalEventId }: IFederationReceiverBaseRoomInputDto) {\n\t\tsuper({ externalEventId });\n\t\tthis.externalRoomId = externalRoomId;\n\t\tthis.normalizedRoomId = normalizedRoomId;\n\t}\n\n\texternalRoomId: string;\n\n\tnormalizedRoomId: string;\n}\n\nexport class FederationRoomCreateInputDto extends FederationBaseRoomInputDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalInviterId,\n\t\tnormalizedInviterId,\n\t\twasInternallyProgramaticallyCreated,\n\t\troomType,\n\t\texternalRoomName,\n\t\tinternalRoomId,\n\t\texternalEventId,\n\t}: IFederationCreateInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalInviterId = externalInviterId;\n\t\tthis.normalizedInviterId = normalizedInviterId;\n\t\tthis.wasInternallyProgramaticallyCreated = wasInternallyProgramaticallyCreated;\n\t\tthis.roomType = roomType;\n\t\tthis.externalRoomName = externalRoomName;\n\t\tthis.internalRoomId = internalRoomId;\n\t}\n\n\texternalInviterId: string;\n\n\tnormalizedInviterId: string;\n\n\twasInternallyProgramaticallyCreated?: boolean;\n\n\tinternalRoomId?: string;\n\n\texternalRoomName?: string;\n\n\troomType?: RoomType;\n}\n\nexport class FederationRoomChangeMembershipDto extends FederationBaseRoomInputDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalInviterId,\n\t\tnormalizedInviterId,\n\t\texternalInviteeId,\n\t\tnormalizedInviteeId,\n\t\tinviteeUsernameOnly,\n\t\tinviterUsernameOnly,\n\t\teventOrigin,\n\t\tleave,\n\t\troomType,\n\t\texternalRoomName,\n\t\texternalEventId,\n\t\tuserProfile,\n\t\tallInviteesExternalIdsWhenDM = [],\n\t}: IFederationChangeMembershipInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalInviterId = externalInviterId;\n\t\tthis.normalizedInviterId = normalizedInviterId;\n\t\tthis.externalInviteeId = externalInviteeId;\n\t\tthis.normalizedInviteeId = normalizedInviteeId;\n\t\tthis.inviteeUsernameOnly = inviteeUsernameOnly;\n\t\tthis.inviterUsernameOnly = inviterUsernameOnly;\n\t\tthis.eventOrigin = eventOrigin;\n\t\tthis.leave = leave;\n\t\tthis.roomType = roomType;\n\t\tthis.externalRoomName = externalRoomName;\n\t\tthis.userProfile = userProfile;\n\t\tthis.allInviteesExternalIdsWhenDM = allInviteesExternalIdsWhenDM;\n\t}\n\n\texternalInviterId: string;\n\n\tnormalizedInviterId: string;\n\n\tinviterUsernameOnly: string;\n\n\texternalInviteeId: string;\n\n\tnormalizedInviteeId: string;\n\n\tinviteeUsernameOnly: string;\n\n\teventOrigin: EVENT_ORIGIN;\n\n\troomType?: RoomType;\n\n\tleave?: boolean;\n\n\texternalRoomName?: string;\n\n\tallInviteesExternalIdsWhenDM?: {\n\t\texternalInviteeId: string;\n\t\tnormalizedInviteeId: string;\n\t\tinviteeUsernameOnly: string;\n\t}[];\n\n\tuserProfile?: { avatarUrl?: string; displayName?: string };\n}\n\nclass ExternalMessageBaseDto extends FederationBaseRoomInputDto {\n\tconstructor({ externalRoomId, normalizedRoomId, externalSenderId, normalizedSenderId, externalEventId }: Record<string, any>) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalSenderId = externalSenderId;\n\t\tthis.normalizedSenderId = normalizedSenderId;\n\t}\n\n\texternalSenderId: string;\n\n\tnormalizedSenderId: string;\n}\n\nexport class FederationRoomReceiveExternalMessageDto extends ExternalMessageBaseDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalSenderId,\n\t\tnormalizedSenderId,\n\t\texternalFormattedText,\n\t\trawMessage,\n\t\texternalEventId,\n\t\treplyToEventId,\n\t\tthread,\n\t}: IFederationSendInternalMessageInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId });\n\t\tthis.externalSenderId = externalSenderId;\n\t\tthis.normalizedSenderId = normalizedSenderId;\n\t\tthis.externalFormattedText = externalFormattedText;\n\t\tthis.rawMessage = rawMessage;\n\t\tthis.replyToEventId = replyToEventId;\n\t\tthis.externalEventId = externalEventId;\n\t\tthis.thread = thread;\n\t}\n\n\texternalSenderId: string;\n\n\tnormalizedSenderId: string;\n\n\texternalFormattedText: string;\n\n\trawMessage: string;\n\n\treplyToEventId?: string;\n\n\tthread?: {\n\t\trootEventId: string;\n\t\treplyToEventId: string;\n\t};\n}\n\nexport class FederationRoomEditExternalMessageDto extends ExternalMessageBaseDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalSenderId,\n\t\tnormalizedSenderId,\n\t\tnewRawMessage,\n\t\tnewExternalFormattedText,\n\t\teditsEvent,\n\t\texternalEventId,\n\t}: IFederationSendInternalMessageBaseInputDto & {\n\t\tnewRawMessage: string;\n\t\tnewExternalFormattedText: string;\n\t\teditsEvent: string;\n\t}) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalSenderId = externalSenderId;\n\t\tthis.normalizedSenderId = normalizedSenderId;\n\t\tthis.newRawMessage = newRawMessage;\n\t\tthis.newExternalFormattedText = newExternalFormattedText;\n\t\tthis.editsEvent = editsEvent;\n\t}\n\n\texternalSenderId: string;\n\n\tnormalizedSenderId: string;\n\n\tnewExternalFormattedText: string;\n\n\tnewRawMessage: string;\n\n\teditsEvent: string;\n}\n\ninterface IFederationFileMessageInputDto {\n\tfilename: string;\n\tmimetype: string;\n\tsize: number;\n\tmessageText: string;\n\turl: string;\n\treplyToEventId?: string;\n\tthread?: {\n\t\trootEventId: string;\n\t\treplyToEventId: string;\n\t};\n}\n\nclass FederationFileMessageInputDto {\n\tconstructor({ filename, mimetype, size, messageText, url }: IFederationFileMessageInputDto) {\n\t\tthis.filename = filename;\n\t\tthis.mimetype = mimetype;\n\t\tthis.size = size;\n\t\tthis.messageText = messageText;\n\t\tthis.url = url;\n\t}\n\n\tfilename: string;\n\n\tmimetype: string;\n\n\tsize: number;\n\n\tmessageText: string;\n\n\turl: string;\n}\n\nexport class FederationRoomReceiveExternalFileMessageDto extends ExternalMessageBaseDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalSenderId,\n\t\tnormalizedSenderId,\n\t\tfilename,\n\t\tmimetype,\n\t\tsize,\n\t\tmessageText,\n\t\turl,\n\t\texternalEventId,\n\t\treplyToEventId,\n\t\tthread,\n\t}: IFederationSendInternalMessageBaseInputDto & IFederationFileMessageInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.externalSenderId = externalSenderId;\n\t\tthis.normalizedSenderId = normalizedSenderId;\n\t\tthis.replyToEventId = replyToEventId;\n\t\tthis.messageBody = new FederationFileMessageInputDto({ filename, mimetype, size, messageText, url });\n\t\tthis.thread = thread;\n\t}\n\n\texternalSenderId: string;\n\n\tnormalizedSenderId: string;\n\n\tmessageBody: FederationFileMessageInputDto;\n\n\treplyToEventId?: string;\n\n\tthread?: IFederationThread;\n}\n\nexport class FederationRoomChangeJoinRulesDto extends FederationBaseRoomInputDto {\n\tconstructor({ externalRoomId, normalizedRoomId, roomType, externalEventId }: IFederationRoomChangeJoinRulesDtoInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.roomType = roomType;\n\t}\n\n\troomType: RoomType;\n}\n\nexport class FederationRoomChangeNameDto extends FederationBaseRoomInputDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\tnormalizedRoomName,\n\t\texternalSenderId,\n\t\texternalEventId,\n\t}: IFederationRoomNameChangeInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.normalizedRoomName = normalizedRoomName;\n\t\tthis.externalSenderId = externalSenderId;\n\t}\n\n\tnormalizedRoomName: string;\n\n\texternalSenderId: string;\n}\n\nexport class FederationRoomChangeTopicDto extends FederationBaseRoomInputDto {\n\tconstructor({ externalRoomId, normalizedRoomId, roomTopic, externalSenderId, externalEventId }: IFederationRoomTopicChangeInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.roomTopic = roomTopic;\n\t\tthis.externalSenderId = externalSenderId;\n\t}\n\n\troomTopic: string;\n\n\texternalSenderId: string;\n}\n\nexport class FederationRoomRedactEventDto extends FederationBaseRoomInputDto {\n\tconstructor({ externalRoomId, normalizedRoomId, externalEventId, redactsEvent, externalSenderId }: IFederationRoomRedactEventInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.redactsEvent = redactsEvent;\n\t\tthis.externalSenderId = externalSenderId;\n\t}\n\n\tredactsEvent: string;\n\n\texternalSenderId: string;\n}\n\nexport interface IExternalRolesChangesToApplyInputDto {\n\t[key: string]: { action: string; role: ROCKET_CHAT_FEDERATION_ROLES }[];\n}\nexport class FederationRoomRoomChangePowerLevelsEventDto extends FederationBaseRoomInputDto {\n\tconstructor({\n\t\texternalRoomId,\n\t\tnormalizedRoomId,\n\t\texternalEventId,\n\t\troleChangesToApply,\n\t\texternalSenderId,\n\t}: IFederationRoomChangePowerLevelsInputDto) {\n\t\tsuper({ externalRoomId, normalizedRoomId, externalEventId });\n\t\tthis.roleChangesToApply = roleChangesToApply;\n\t\tthis.externalSenderId = externalSenderId;\n\t}\n\n\troleChangesToApply: IExternalRolesChangesToApplyInputDto;\n\n\texternalSenderId: string;\n}\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"19ea36687c798502e78320eb052134930fd7670a"}
