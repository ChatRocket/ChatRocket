{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/analytics/DateRangePicker.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/omnichannel/analytics/DateRangePicker.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/analytics/DateRangePicker.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/analytics/DateRangePicker.tsx","sourceRoot":"","sources":["client/views/omnichannel/analytics/DateRangePicker.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, InputBox, Menu, Field, FieldLabel, FieldRow } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { Moment } from 'moment';\nimport moment from 'moment';\nimport type { ComponentProps } from 'react';\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nmoment.locale('en');\n\ntype DateRangePickerProps = Omit<ComponentProps<typeof Box>, 'onChange'> & {\n\tonChange(range: { start: string; end: string }): void;\n};\n\nconst formatToDateInput = (date: Moment) => date.format('YYYY-MM-DD');\n\nconst todayDate = formatToDateInput(moment());\n\nconst getMonthRange = (monthsToSubtractFromToday: number) => ({\n\tstart: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\n\tend: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0)),\n});\n\nconst getWeekRange = (daysToSubtractFromStart: number, daysToSubtractFromEnd: number) => ({\n\tstart: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\n\tend: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day')),\n});\n\nconst DateRangePicker = ({ onChange = () => undefined, ...props }: DateRangePickerProps) => {\n\tconst { t } = useTranslation();\n\tconst [range, setRange] = useState({ start: '', end: '' });\n\n\tconst { start, end } = range;\n\n\tconst handleStart = useMutableCallback(({ currentTarget }) => {\n\t\tconst rangeObj = {\n\t\t\tstart: currentTarget.value,\n\t\t\tend: range.end,\n\t\t};\n\t\tsetRange(rangeObj);\n\t\tonChange(rangeObj);\n\t});\n\n\tconst handleEnd = useMutableCallback(({ currentTarget }) => {\n\t\tconst rangeObj = {\n\t\t\tend: currentTarget.value,\n\t\t\tstart: range.start,\n\t\t};\n\t\tsetRange(rangeObj);\n\t\tonChange(rangeObj);\n\t});\n\n\tconst handleRange = useMutableCallback((range) => {\n\t\tsetRange(range);\n\t\tonChange(range);\n\t});\n\n\tuseEffect(() => {\n\t\thandleRange({\n\t\t\tstart: todayDate,\n\t\t\tend: todayDate,\n\t\t});\n\t}, [handleRange]);\n\n\tconst options = useMemo(\n\t\t() => ({\n\t\t\ttoday: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Today'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(0, 0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tyesterday: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Yesterday'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(1, 1));\n\t\t\t\t},\n\t\t\t},\n\t\t\tthisWeek: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('This_week'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(7, 0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tpreviousWeek: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Previous_week'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(14, 7));\n\t\t\t\t},\n\t\t\t},\n\t\t\tthisMonth: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('This_month'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getMonthRange(0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tlastMonth: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Previous_month'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getMonthRange(1));\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\t[handleRange, t],\n\t);\n\n\treturn (\n\t\t<Box {...props}>\n\t\t\t<Box mi='neg-x4' height='full' display='flex' flexDirection='row'>\n\t\t\t\t<Field mi={4} flexShrink={1} flexGrow={1}>\n\t\t\t\t\t<FieldLabel>{t('Start')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Box height='x40' display='flex' width='full'>\n\t\t\t\t\t\t\t<InputBox type='date' onChange={handleStart} max={todayDate} value={start} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field mi={4} flexShrink={1} flexGrow={1}>\n\t\t\t\t\t<FieldLabel>{t('End')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Box height='x40' display='flex' width='full'>\n\t\t\t\t\t\t\t<InputBox type='date' onChange={handleEnd} min={start} max={todayDate} value={end} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Menu mis={8} options={options} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default DateRangePicker;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/analytics/DateRangePicker.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/omnichannel/analytics/DateRangePicker.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/analytics/DateRangePicker.tsx","sourceRoot":"","sources":["client/views/omnichannel/analytics/DateRangePicker.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, InputBox, Menu, Field, FieldLabel, FieldRow } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { Moment } from 'moment';\nimport moment from 'moment';\nimport type { ComponentProps } from 'react';\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nmoment.locale('en');\n\ntype DateRangePickerProps = Omit<ComponentProps<typeof Box>, 'onChange'> & {\n\tonChange(range: { start: string; end: string }): void;\n};\n\nconst formatToDateInput = (date: Moment) => date.format('YYYY-MM-DD');\n\nconst todayDate = formatToDateInput(moment());\n\nconst getMonthRange = (monthsToSubtractFromToday: number) => ({\n\tstart: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\n\tend: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0)),\n});\n\nconst getWeekRange = (daysToSubtractFromStart: number, daysToSubtractFromEnd: number) => ({\n\tstart: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\n\tend: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day')),\n});\n\nconst DateRangePicker = ({ onChange = () => undefined, ...props }: DateRangePickerProps) => {\n\tconst { t } = useTranslation();\n\tconst [range, setRange] = useState({ start: '', end: '' });\n\n\tconst { start, end } = range;\n\n\tconst handleStart = useMutableCallback(({ currentTarget }) => {\n\t\tconst rangeObj = {\n\t\t\tstart: currentTarget.value,\n\t\t\tend: range.end,\n\t\t};\n\t\tsetRange(rangeObj);\n\t\tonChange(rangeObj);\n\t});\n\n\tconst handleEnd = useMutableCallback(({ currentTarget }) => {\n\t\tconst rangeObj = {\n\t\t\tend: currentTarget.value,\n\t\t\tstart: range.start,\n\t\t};\n\t\tsetRange(rangeObj);\n\t\tonChange(rangeObj);\n\t});\n\n\tconst handleRange = useMutableCallback((range) => {\n\t\tsetRange(range);\n\t\tonChange(range);\n\t});\n\n\tuseEffect(() => {\n\t\thandleRange({\n\t\t\tstart: todayDate,\n\t\t\tend: todayDate,\n\t\t});\n\t}, [handleRange]);\n\n\tconst options = useMemo(\n\t\t() => ({\n\t\t\ttoday: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Today'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(0, 0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tyesterday: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Yesterday'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(1, 1));\n\t\t\t\t},\n\t\t\t},\n\t\t\tthisWeek: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('This_week'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(7, 0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tpreviousWeek: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Previous_week'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(14, 7));\n\t\t\t\t},\n\t\t\t},\n\t\t\tthisMonth: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('This_month'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getMonthRange(0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tlastMonth: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Previous_month'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getMonthRange(1));\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\t[handleRange, t],\n\t);\n\n\treturn (\n\t\t<Box {...props}>\n\t\t\t<Box mi='neg-x4' height='full' display='flex' flexDirection='row'>\n\t\t\t\t<Field mi={4} flexShrink={1} flexGrow={1}>\n\t\t\t\t\t<FieldLabel>{t('Start')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Box height='x40' display='flex' width='full'>\n\t\t\t\t\t\t\t<InputBox type='date' onChange={handleStart} max={todayDate} value={start} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field mi={4} flexShrink={1} flexGrow={1}>\n\t\t\t\t\t<FieldLabel>{t('End')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Box height='x40' display='flex' width='full'>\n\t\t\t\t\t\t\t<InputBox type='date' onChange={handleEnd} min={start} max={todayDate} value={end} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Menu mis={8} options={options} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default DateRangePicker;\n"]}}},"code":"var _excluded = [\"onChange\"];\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 0);\nvar _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 1);\nvar Box, InputBox, Menu, Field, FieldLabel, FieldRow;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  InputBox: function (v) {\n    InputBox = v;\n  },\n  Menu: function (v) {\n    Menu = v;\n  },\n  Field: function (v) {\n    Field = v;\n  },\n  FieldLabel: function (v) {\n    FieldLabel = v;\n  },\n  FieldRow: function (v) {\n    FieldRow = v;\n  }\n}, 0);\nvar useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback: function (v) {\n    useMutableCallback = v;\n  }\n}, 1);\nvar moment;\nmodule.link(\"moment\", {\n  \"default\": function (v) {\n    moment = v;\n  }\n}, 2);\nvar React, useState, useMemo, useEffect;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  }\n}, 3);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 4);\nmoment.locale('en');\nvar formatToDateInput = function (date) {\n  return date.format('YYYY-MM-DD');\n};\nvar todayDate = formatToDateInput(moment());\nvar getMonthRange = function (monthsToSubtractFromToday) {\n  return {\n    start: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\n    end: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0))\n  };\n};\nvar getWeekRange = function (daysToSubtractFromStart, daysToSubtractFromEnd) {\n  return {\n    start: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\n    end: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day'))\n  };\n};\nvar DateRangePicker = function (_ref) {\n  var _ref$onChange = _ref.onChange,\n    onChange = _ref$onChange === void 0 ? function () {\n      return undefined;\n    } : _ref$onChange,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState({\n      start: '',\n      end: ''\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    range = _useState2[0],\n    setRange = _useState2[1];\n  var start = range.start,\n    end = range.end;\n  var handleStart = useMutableCallback(function (_ref2) {\n    var currentTarget = _ref2.currentTarget;\n    var rangeObj = {\n      start: currentTarget.value,\n      end: range.end\n    };\n    setRange(rangeObj);\n    onChange(rangeObj);\n  });\n  var handleEnd = useMutableCallback(function (_ref3) {\n    var currentTarget = _ref3.currentTarget;\n    var rangeObj = {\n      end: currentTarget.value,\n      start: range.start\n    };\n    setRange(rangeObj);\n    onChange(rangeObj);\n  });\n  var handleRange = useMutableCallback(function (range) {\n    setRange(range);\n    onChange(range);\n  });\n  useEffect(function () {\n    handleRange({\n      start: todayDate,\n      end: todayDate\n    });\n  }, [handleRange]);\n  var options = useMemo(function () {\n    return {\n      today: {\n        icon: 'history',\n        label: t('Today'),\n        action: function () {\n          handleRange(getWeekRange(0, 0));\n        }\n      },\n      yesterday: {\n        icon: 'history',\n        label: t('Yesterday'),\n        action: function () {\n          handleRange(getWeekRange(1, 1));\n        }\n      },\n      thisWeek: {\n        icon: 'history',\n        label: t('This_week'),\n        action: function () {\n          handleRange(getWeekRange(7, 0));\n        }\n      },\n      previousWeek: {\n        icon: 'history',\n        label: t('Previous_week'),\n        action: function () {\n          handleRange(getWeekRange(14, 7));\n        }\n      },\n      thisMonth: {\n        icon: 'history',\n        label: t('This_month'),\n        action: function () {\n          handleRange(getMonthRange(0));\n        }\n      },\n      lastMonth: {\n        icon: 'history',\n        label: t('Previous_month'),\n        action: function () {\n          handleRange(getMonthRange(1));\n        }\n      }\n    };\n  }, [handleRange, t]);\n  return /*#__PURE__*/React.createElement(Box, props, /*#__PURE__*/React.createElement(Box, {\n    mi: \"neg-x4\",\n    height: \"full\",\n    display: \"flex\",\n    flexDirection: \"row\"\n  }, /*#__PURE__*/React.createElement(Field, {\n    mi: 4,\n    flexShrink: 1,\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(FieldLabel, null, t('Start')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Box, {\n    height: \"x40\",\n    display: \"flex\",\n    width: \"full\"\n  }, /*#__PURE__*/React.createElement(InputBox, {\n    type: \"date\",\n    onChange: handleStart,\n    max: todayDate,\n    value: start\n  })))), /*#__PURE__*/React.createElement(Field, {\n    mi: 4,\n    flexShrink: 1,\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(FieldLabel, null, t('End')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Box, {\n    height: \"x40\",\n    display: \"flex\",\n    width: \"full\"\n  }, /*#__PURE__*/React.createElement(InputBox, {\n    type: \"date\",\n    onChange: handleEnd,\n    min: start,\n    max: todayDate,\n    value: end\n  })), /*#__PURE__*/React.createElement(Menu, {\n    mis: 8,\n    options: options\n  })))));\n};\nmodule.exportDefault(DateRangePicker);","map":{"version":3,"names":["_slicedToArray","module","link","default","v","_objectWithoutProperties","Box","InputBox","Menu","Field","FieldLabel","FieldRow","useMutableCallback","moment","React","useState","useMemo","useEffect","useTranslation","locale","formatToDateInput","date","format","todayDate","getMonthRange","monthsToSubtractFromToday","start","subtract","end","getWeekRange","daysToSubtractFromStart","daysToSubtractFromEnd","DateRangePicker","_ref","_ref$onChange","onChange","undefined","props","_excluded","_useTranslation","t","_useState","_useState2","range","setRange","handleStart","_ref2","currentTarget","rangeObj","value","handleEnd","_ref3","handleRange","options","today","icon","label","action","yesterday","thisWeek","previousWeek","thisMonth","lastMonth","createElement","mi","height","display","flexDirection","flexShrink","flexGrow","width","type","max","min","mis","exportDefault"],"sources":["client/views/omnichannel/analytics/DateRangePicker.tsx"],"sourcesContent":["import { Box, InputBox, Menu, Field, FieldLabel, FieldRow } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { Moment } from 'moment';\nimport moment from 'moment';\nimport type { ComponentProps } from 'react';\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nmoment.locale('en');\n\ntype DateRangePickerProps = Omit<ComponentProps<typeof Box>, 'onChange'> & {\n\tonChange(range: { start: string; end: string }): void;\n};\n\nconst formatToDateInput = (date: Moment) => date.format('YYYY-MM-DD');\n\nconst todayDate = formatToDateInput(moment());\n\nconst getMonthRange = (monthsToSubtractFromToday: number) => ({\n\tstart: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\n\tend: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0)),\n});\n\nconst getWeekRange = (daysToSubtractFromStart: number, daysToSubtractFromEnd: number) => ({\n\tstart: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\n\tend: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day')),\n});\n\nconst DateRangePicker = ({ onChange = () => undefined, ...props }: DateRangePickerProps) => {\n\tconst { t } = useTranslation();\n\tconst [range, setRange] = useState({ start: '', end: '' });\n\n\tconst { start, end } = range;\n\n\tconst handleStart = useMutableCallback(({ currentTarget }) => {\n\t\tconst rangeObj = {\n\t\t\tstart: currentTarget.value,\n\t\t\tend: range.end,\n\t\t};\n\t\tsetRange(rangeObj);\n\t\tonChange(rangeObj);\n\t});\n\n\tconst handleEnd = useMutableCallback(({ currentTarget }) => {\n\t\tconst rangeObj = {\n\t\t\tend: currentTarget.value,\n\t\t\tstart: range.start,\n\t\t};\n\t\tsetRange(rangeObj);\n\t\tonChange(rangeObj);\n\t});\n\n\tconst handleRange = useMutableCallback((range) => {\n\t\tsetRange(range);\n\t\tonChange(range);\n\t});\n\n\tuseEffect(() => {\n\t\thandleRange({\n\t\t\tstart: todayDate,\n\t\t\tend: todayDate,\n\t\t});\n\t}, [handleRange]);\n\n\tconst options = useMemo(\n\t\t() => ({\n\t\t\ttoday: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Today'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(0, 0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tyesterday: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Yesterday'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(1, 1));\n\t\t\t\t},\n\t\t\t},\n\t\t\tthisWeek: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('This_week'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(7, 0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tpreviousWeek: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Previous_week'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getWeekRange(14, 7));\n\t\t\t\t},\n\t\t\t},\n\t\t\tthisMonth: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('This_month'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getMonthRange(0));\n\t\t\t\t},\n\t\t\t},\n\t\t\tlastMonth: {\n\t\t\t\ticon: 'history',\n\t\t\t\tlabel: t('Previous_month'),\n\t\t\t\taction: () => {\n\t\t\t\t\thandleRange(getMonthRange(1));\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\t[handleRange, t],\n\t);\n\n\treturn (\n\t\t<Box {...props}>\n\t\t\t<Box mi='neg-x4' height='full' display='flex' flexDirection='row'>\n\t\t\t\t<Field mi={4} flexShrink={1} flexGrow={1}>\n\t\t\t\t\t<FieldLabel>{t('Start')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Box height='x40' display='flex' width='full'>\n\t\t\t\t\t\t\t<InputBox type='date' onChange={handleStart} max={todayDate} value={start} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field mi={4} flexShrink={1} flexGrow={1}>\n\t\t\t\t\t<FieldLabel>{t('End')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Box height='x40' display='flex' width='full'>\n\t\t\t\t\t\t\t<InputBox type='date' onChange={handleEnd} min={start} max={todayDate} value={end} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Menu mis={8} options={options} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default DateRangePicker;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"92fc20f5f4434794b0d9df93bedab5f1c80f0665"}
