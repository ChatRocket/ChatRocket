{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/Info/EditRoomInfo/useEditRoomInitialValues.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/room/contextualBar/Info/EditRoomInfo/useEditRoomInitialValues.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/Info/EditRoomInfo/useEditRoomInitialValues.ts","inputSourceMap":{"version":3,"file":"client/views/room/contextualBar/Info/EditRoomInfo/useEditRoomInitialValues.ts","sourceRoot":"","sources":["client/views/room/contextualBar/Info/EditRoomInfo/useEditRoomInitialValues.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,aAAa,EAAE,MAAM,0BAA0B,CAAC;AACzD,OAAO,EAAE,OAAO,EAAE,MAAM,OAAO,CAAC;AAEhC,OAAO,EAAE,YAAY,EAAE,QAAQ,EAAE,MAAM,oCAAoC,CAAC;AAC5E,OAAO,EAAE,eAAe,EAAE,MAAM,0CAA0C,CAAC;AAC3E,OAAO,EAAE,kBAAkB,EAAE,MAAM,mCAAmC,CAAC;AAEvE,MAAM,CAAC,MAAM,wBAAwB,GAAG,CAAC,IAA8B,EAAE,EAAE;IAC1E,MAAM,eAAe,GAAG,kBAAkB,CAAC,IAAI,CAAC,CAAC;IACjD,MAAM,0BAA0B,GAAG,aAAa,CAAC,4BAA4B,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;IAEzF,MAAM,EACL,CAAC,EACD,EAAE,EACF,QAAQ,EACR,KAAK,EACL,WAAW,EACX,YAAY,EACZ,gBAAgB,EAChB,MAAM,EACN,SAAS,EACT,SAAS,EACT,iBAAiB,EACjB,SAAS,GACT,GAAG,IAAI,CAAC;IAET,OAAO,OAAO,CACb,GAAG,EAAE,CAAC,CAAC;QACN,QAAQ,EAAE,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC;QACzG,QAAQ,EAAE,CAAC;QACX,QAAQ,EAAE,CAAC,CAAC,EAAE;QACd,iBAAiB;QACjB,QAAQ,EAAE,CAAC,CAAC,QAAQ;QACpB,SAAS,EAAE,KAAK,IAAI,EAAE;QACtB,eAAe,EAAE,WAAW,IAAI,EAAE;QAClC,gBAAgB,EAAE,YAAY,IAAI,EAAE;QACpC,UAAU,EAAE,SAAS;QACrB,QAAQ,EAAE,EAAE;QACZ,gBAAgB,EAAE,CAAC,CAAC,gBAAgB;QACpC,cAAc,EAAE,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;QACnD,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM;QAC/D,SAAS;QACT,GAAG,CAAC,0BAA0B;YAC7B,eAAe,EAAE,OAAO,IAAI;YAC3B,gBAAgB,EAAE,SAAS,EAAE,OAAO,IAAI,eAAe,CAAC,QAAQ;YAChE,uBAAuB,EAAE,CAAC,CAAC,SAAS,EAAE,cAAc;YACpD,eAAe,EAAE,SAAS,EAAE,MAAM,IAAI,YAAY,CAAC,QAAQ,CAAC,IAAI,EAAE,eAAe,CAAC,MAAM,CAAC;YACzF,sBAAsB,EAAE,SAAS,EAAE,aAAa,IAAI,eAAe,CAAC,aAAa;YACjF,kBAAkB,EAAE,SAAS,EAAE,SAAS,IAAI,eAAe,CAAC,SAAS;YACrE,sBAAsB,EAAE,SAAS,EAAE,aAAa,IAAI,eAAe,CAAC,aAAa;SACjF,CAAC;QACH,eAAe,EAAE,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC;QACzD,YAAY,EAAE,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC;KACnD,CAAC,EACF;QACC,YAAY;QACZ,QAAQ;QACR,WAAW;QACX,gBAAgB;QAChB,SAAS;QACT,eAAe;QACf,EAAE;QACF,IAAI;QACJ,MAAM;QACN,CAAC;QACD,KAAK;QACL,SAAS;QACT,iBAAiB;QACjB,0BAA0B;QAC1B,SAAS;KACT,CACD,CAAC;AACH,CAAC,CAAC","sourcesContent":["import type { IRoomWithRetentionPolicy } from '@rocket.chat/core-typings';\nimport { usePermission } from '@rocket.chat/ui-contexts';\nimport { useMemo } from 'react';\n\nimport { msToTimeUnit, TIMEUNIT } from '../../../../../lib/convertTimeUnit';\nimport { roomCoordinator } from '../../../../../lib/rooms/roomCoordinator';\nimport { useRetentionPolicy } from '../../../hooks/useRetentionPolicy';\n\nexport const useEditRoomInitialValues = (room: IRoomWithRetentionPolicy) => {\n\tconst retentionPolicy = useRetentionPolicy(room);\n\tconst canEditRoomRetentionPolicy = usePermission('edit-room-retention-policy', room._id);\n\n\tconst {\n\t\tt,\n\t\tro,\n\t\tarchived,\n\t\ttopic,\n\t\tdescription,\n\t\tannouncement,\n\t\tjoinCodeRequired,\n\t\tsysMes,\n\t\tencrypted,\n\t\tretention,\n\t\treactWhenReadOnly,\n\t\tsidepanel,\n\t} = room;\n\n\treturn useMemo(\n\t\t() => ({\n\t\t\troomName: t === 'd' && room.usernames ? room.usernames.join(' x ') : roomCoordinator.getRoomName(t, room),\n\t\t\troomType: t,\n\t\t\treadOnly: !!ro,\n\t\t\treactWhenReadOnly,\n\t\t\tarchived: !!archived,\n\t\t\troomTopic: topic ?? '',\n\t\t\troomDescription: description ?? '',\n\t\t\troomAnnouncement: announcement ?? '',\n\t\t\troomAvatar: undefined,\n\t\t\tjoinCode: '',\n\t\t\tjoinCodeRequired: !!joinCodeRequired,\n\t\t\tsystemMessages: Array.isArray(sysMes) ? sysMes : [],\n\t\t\thideSysMes: Array.isArray(sysMes) ? !!sysMes?.length : !!sysMes,\n\t\t\tencrypted,\n\t\t\t...(canEditRoomRetentionPolicy &&\n\t\t\t\tretentionPolicy?.enabled && {\n\t\t\t\t\tretentionEnabled: retention?.enabled ?? retentionPolicy.isActive,\n\t\t\t\t\tretentionOverrideGlobal: !!retention?.overrideGlobal,\n\t\t\t\t\tretentionMaxAge: retention?.maxAge ?? msToTimeUnit(TIMEUNIT.days, retentionPolicy.maxAge),\n\t\t\t\t\tretentionExcludePinned: retention?.excludePinned ?? retentionPolicy.excludePinned,\n\t\t\t\t\tretentionFilesOnly: retention?.filesOnly ?? retentionPolicy.filesOnly,\n\t\t\t\t\tretentionIgnoreThreads: retention?.ignoreThreads ?? retentionPolicy.ignoreThreads,\n\t\t\t\t}),\n\t\t\tshowDiscussions: sidepanel?.items.includes('discussions'),\n\t\t\tshowChannels: sidepanel?.items.includes('channels'),\n\t\t}),\n\t\t[\n\t\t\tannouncement,\n\t\t\tarchived,\n\t\t\tdescription,\n\t\t\tjoinCodeRequired,\n\t\t\tretention,\n\t\t\tretentionPolicy,\n\t\t\tro,\n\t\t\troom,\n\t\t\tsysMes,\n\t\t\tt,\n\t\t\ttopic,\n\t\t\tencrypted,\n\t\t\treactWhenReadOnly,\n\t\t\tcanEditRoomRetentionPolicy,\n\t\t\tsidepanel,\n\t\t],\n\t);\n};\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/Info/EditRoomInfo/useEditRoomInitialValues.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/contextualBar/Info/EditRoomInfo/useEditRoomInitialValues.ts","inputSourceMap":{"version":3,"file":"client/views/room/contextualBar/Info/EditRoomInfo/useEditRoomInitialValues.ts","sourceRoot":"","sources":["client/views/room/contextualBar/Info/EditRoomInfo/useEditRoomInitialValues.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,aAAa,EAAE,MAAM,0BAA0B,CAAC;AACzD,OAAO,EAAE,OAAO,EAAE,MAAM,OAAO,CAAC;AAEhC,OAAO,EAAE,YAAY,EAAE,QAAQ,EAAE,MAAM,oCAAoC,CAAC;AAC5E,OAAO,EAAE,eAAe,EAAE,MAAM,0CAA0C,CAAC;AAC3E,OAAO,EAAE,kBAAkB,EAAE,MAAM,mCAAmC,CAAC;AAEvE,MAAM,CAAC,MAAM,wBAAwB,GAAG,CAAC,IAA8B,EAAE,EAAE;IAC1E,MAAM,eAAe,GAAG,kBAAkB,CAAC,IAAI,CAAC,CAAC;IACjD,MAAM,0BAA0B,GAAG,aAAa,CAAC,4BAA4B,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;IAEzF,MAAM,EACL,CAAC,EACD,EAAE,EACF,QAAQ,EACR,KAAK,EACL,WAAW,EACX,YAAY,EACZ,gBAAgB,EAChB,MAAM,EACN,SAAS,EACT,SAAS,EACT,iBAAiB,EACjB,SAAS,GACT,GAAG,IAAI,CAAC;IAET,OAAO,OAAO,CACb,GAAG,EAAE,CAAC,CAAC;QACN,QAAQ,EAAE,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC;QACzG,QAAQ,EAAE,CAAC;QACX,QAAQ,EAAE,CAAC,CAAC,EAAE;QACd,iBAAiB;QACjB,QAAQ,EAAE,CAAC,CAAC,QAAQ;QACpB,SAAS,EAAE,KAAK,IAAI,EAAE;QACtB,eAAe,EAAE,WAAW,IAAI,EAAE;QAClC,gBAAgB,EAAE,YAAY,IAAI,EAAE;QACpC,UAAU,EAAE,SAAS;QACrB,QAAQ,EAAE,EAAE;QACZ,gBAAgB,EAAE,CAAC,CAAC,gBAAgB;QACpC,cAAc,EAAE,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;QACnD,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM;QAC/D,SAAS;QACT,GAAG,CAAC,0BAA0B;YAC7B,eAAe,EAAE,OAAO,IAAI;YAC3B,gBAAgB,EAAE,SAAS,EAAE,OAAO,IAAI,eAAe,CAAC,QAAQ;YAChE,uBAAuB,EAAE,CAAC,CAAC,SAAS,EAAE,cAAc;YACpD,eAAe,EAAE,SAAS,EAAE,MAAM,IAAI,YAAY,CAAC,QAAQ,CAAC,IAAI,EAAE,eAAe,CAAC,MAAM,CAAC;YACzF,sBAAsB,EAAE,SAAS,EAAE,aAAa,IAAI,eAAe,CAAC,aAAa;YACjF,kBAAkB,EAAE,SAAS,EAAE,SAAS,IAAI,eAAe,CAAC,SAAS;YACrE,sBAAsB,EAAE,SAAS,EAAE,aAAa,IAAI,eAAe,CAAC,aAAa;SACjF,CAAC;QACH,eAAe,EAAE,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC;QACzD,YAAY,EAAE,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC;KACnD,CAAC,EACF;QACC,YAAY;QACZ,QAAQ;QACR,WAAW;QACX,gBAAgB;QAChB,SAAS;QACT,eAAe;QACf,EAAE;QACF,IAAI;QACJ,MAAM;QACN,CAAC;QACD,KAAK;QACL,SAAS;QACT,iBAAiB;QACjB,0BAA0B;QAC1B,SAAS;KACT,CACD,CAAC;AACH,CAAC,CAAC","sourcesContent":["import type { IRoomWithRetentionPolicy } from '@rocket.chat/core-typings';\nimport { usePermission } from '@rocket.chat/ui-contexts';\nimport { useMemo } from 'react';\n\nimport { msToTimeUnit, TIMEUNIT } from '../../../../../lib/convertTimeUnit';\nimport { roomCoordinator } from '../../../../../lib/rooms/roomCoordinator';\nimport { useRetentionPolicy } from '../../../hooks/useRetentionPolicy';\n\nexport const useEditRoomInitialValues = (room: IRoomWithRetentionPolicy) => {\n\tconst retentionPolicy = useRetentionPolicy(room);\n\tconst canEditRoomRetentionPolicy = usePermission('edit-room-retention-policy', room._id);\n\n\tconst {\n\t\tt,\n\t\tro,\n\t\tarchived,\n\t\ttopic,\n\t\tdescription,\n\t\tannouncement,\n\t\tjoinCodeRequired,\n\t\tsysMes,\n\t\tencrypted,\n\t\tretention,\n\t\treactWhenReadOnly,\n\t\tsidepanel,\n\t} = room;\n\n\treturn useMemo(\n\t\t() => ({\n\t\t\troomName: t === 'd' && room.usernames ? room.usernames.join(' x ') : roomCoordinator.getRoomName(t, room),\n\t\t\troomType: t,\n\t\t\treadOnly: !!ro,\n\t\t\treactWhenReadOnly,\n\t\t\tarchived: !!archived,\n\t\t\troomTopic: topic ?? '',\n\t\t\troomDescription: description ?? '',\n\t\t\troomAnnouncement: announcement ?? '',\n\t\t\troomAvatar: undefined,\n\t\t\tjoinCode: '',\n\t\t\tjoinCodeRequired: !!joinCodeRequired,\n\t\t\tsystemMessages: Array.isArray(sysMes) ? sysMes : [],\n\t\t\thideSysMes: Array.isArray(sysMes) ? !!sysMes?.length : !!sysMes,\n\t\t\tencrypted,\n\t\t\t...(canEditRoomRetentionPolicy &&\n\t\t\t\tretentionPolicy?.enabled && {\n\t\t\t\t\tretentionEnabled: retention?.enabled ?? retentionPolicy.isActive,\n\t\t\t\t\tretentionOverrideGlobal: !!retention?.overrideGlobal,\n\t\t\t\t\tretentionMaxAge: retention?.maxAge ?? msToTimeUnit(TIMEUNIT.days, retentionPolicy.maxAge),\n\t\t\t\t\tretentionExcludePinned: retention?.excludePinned ?? retentionPolicy.excludePinned,\n\t\t\t\t\tretentionFilesOnly: retention?.filesOnly ?? retentionPolicy.filesOnly,\n\t\t\t\t\tretentionIgnoreThreads: retention?.ignoreThreads ?? retentionPolicy.ignoreThreads,\n\t\t\t\t}),\n\t\t\tshowDiscussions: sidepanel?.items.includes('discussions'),\n\t\t\tshowChannels: sidepanel?.items.includes('channels'),\n\t\t}),\n\t\t[\n\t\t\tannouncement,\n\t\t\tarchived,\n\t\t\tdescription,\n\t\t\tjoinCodeRequired,\n\t\t\tretention,\n\t\t\tretentionPolicy,\n\t\t\tro,\n\t\t\troom,\n\t\t\tsysMes,\n\t\t\tt,\n\t\t\ttopic,\n\t\t\tencrypted,\n\t\t\treactWhenReadOnly,\n\t\t\tcanEditRoomRetentionPolicy,\n\t\t\tsidepanel,\n\t\t],\n\t);\n};\n"]}}},"code":"var _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nmodule.export({\n  useEditRoomInitialValues: function () {\n    return useEditRoomInitialValues;\n  }\n});\nvar usePermission;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  usePermission: function (v) {\n    usePermission = v;\n  }\n}, 0);\nvar useMemo;\nmodule.link(\"react\", {\n  useMemo: function (v) {\n    useMemo = v;\n  }\n}, 1);\nvar msToTimeUnit, TIMEUNIT;\nmodule.link(\"../../../../../lib/convertTimeUnit\", {\n  msToTimeUnit: function (v) {\n    msToTimeUnit = v;\n  },\n  TIMEUNIT: function (v) {\n    TIMEUNIT = v;\n  }\n}, 2);\nvar roomCoordinator;\nmodule.link(\"../../../../../lib/rooms/roomCoordinator\", {\n  roomCoordinator: function (v) {\n    roomCoordinator = v;\n  }\n}, 3);\nvar useRetentionPolicy;\nmodule.link(\"../../../hooks/useRetentionPolicy\", {\n  useRetentionPolicy: function (v) {\n    useRetentionPolicy = v;\n  }\n}, 4);\nvar useEditRoomInitialValues = function (room) {\n  var retentionPolicy = useRetentionPolicy(room);\n  var canEditRoomRetentionPolicy = usePermission('edit-room-retention-policy', room._id);\n  var t = room.t,\n    ro = room.ro,\n    archived = room.archived,\n    topic = room.topic,\n    description = room.description,\n    announcement = room.announcement,\n    joinCodeRequired = room.joinCodeRequired,\n    sysMes = room.sysMes,\n    encrypted = room.encrypted,\n    retention = room.retention,\n    reactWhenReadOnly = room.reactWhenReadOnly,\n    sidepanel = room.sidepanel;\n  return useMemo(function () {\n    var _retention$enabled, _retention$maxAge, _retention$excludePin, _retention$filesOnly, _retention$ignoreThre;\n    return _objectSpread(_objectSpread({\n      roomName: t === 'd' && room.usernames ? room.usernames.join(' x ') : roomCoordinator.getRoomName(t, room),\n      roomType: t,\n      readOnly: !!ro,\n      reactWhenReadOnly: reactWhenReadOnly,\n      archived: !!archived,\n      roomTopic: topic !== null && topic !== void 0 ? topic : '',\n      roomDescription: description !== null && description !== void 0 ? description : '',\n      roomAnnouncement: announcement !== null && announcement !== void 0 ? announcement : '',\n      roomAvatar: undefined,\n      joinCode: '',\n      joinCodeRequired: !!joinCodeRequired,\n      systemMessages: Array.isArray(sysMes) ? sysMes : [],\n      hideSysMes: Array.isArray(sysMes) ? !!(sysMes !== null && sysMes !== void 0 && sysMes.length) : !!sysMes,\n      encrypted: encrypted\n    }, canEditRoomRetentionPolicy && (retentionPolicy === null || retentionPolicy === void 0 ? void 0 : retentionPolicy.enabled) && {\n      retentionEnabled: (_retention$enabled = retention === null || retention === void 0 ? void 0 : retention.enabled) !== null && _retention$enabled !== void 0 ? _retention$enabled : retentionPolicy.isActive,\n      retentionOverrideGlobal: !!(retention !== null && retention !== void 0 && retention.overrideGlobal),\n      retentionMaxAge: (_retention$maxAge = retention === null || retention === void 0 ? void 0 : retention.maxAge) !== null && _retention$maxAge !== void 0 ? _retention$maxAge : msToTimeUnit(TIMEUNIT.days, retentionPolicy.maxAge),\n      retentionExcludePinned: (_retention$excludePin = retention === null || retention === void 0 ? void 0 : retention.excludePinned) !== null && _retention$excludePin !== void 0 ? _retention$excludePin : retentionPolicy.excludePinned,\n      retentionFilesOnly: (_retention$filesOnly = retention === null || retention === void 0 ? void 0 : retention.filesOnly) !== null && _retention$filesOnly !== void 0 ? _retention$filesOnly : retentionPolicy.filesOnly,\n      retentionIgnoreThreads: (_retention$ignoreThre = retention === null || retention === void 0 ? void 0 : retention.ignoreThreads) !== null && _retention$ignoreThre !== void 0 ? _retention$ignoreThre : retentionPolicy.ignoreThreads\n    }), {}, {\n      showDiscussions: sidepanel === null || sidepanel === void 0 ? void 0 : sidepanel.items.includes('discussions'),\n      showChannels: sidepanel === null || sidepanel === void 0 ? void 0 : sidepanel.items.includes('channels')\n    });\n  }, [announcement, archived, description, joinCodeRequired, retention, retentionPolicy, ro, room, sysMes, t, topic, encrypted, reactWhenReadOnly, canEditRoomRetentionPolicy, sidepanel]);\n};","map":{"version":3,"names":["_objectSpread","module","link","default","v","export","useEditRoomInitialValues","usePermission","useMemo","msToTimeUnit","TIMEUNIT","roomCoordinator","useRetentionPolicy","room","retentionPolicy","canEditRoomRetentionPolicy","_id","t","ro","archived","topic","description","announcement","joinCodeRequired","sysMes","encrypted","retention","reactWhenReadOnly","sidepanel","_retention$enabled","_retention$maxAge","_retention$excludePin","_retention$filesOnly","_retention$ignoreThre","roomName","usernames","join","getRoomName","roomType","readOnly","roomTopic","roomDescription","roomAnnouncement","roomAvatar","undefined","joinCode","systemMessages","Array","isArray","hideSysMes","length","enabled","retentionEnabled","isActive","retentionOverrideGlobal","overrideGlobal","retentionMaxAge","maxAge","days","retentionExcludePinned","excludePinned","retentionFilesOnly","filesOnly","retentionIgnoreThreads","ignoreThreads","showDiscussions","items","includes","showChannels"],"sources":["client/views/room/contextualBar/Info/EditRoomInfo/useEditRoomInitialValues.ts"],"sourcesContent":["import type { IRoomWithRetentionPolicy } from '@rocket.chat/core-typings';\nimport { usePermission } from '@rocket.chat/ui-contexts';\nimport { useMemo } from 'react';\n\nimport { msToTimeUnit, TIMEUNIT } from '../../../../../lib/convertTimeUnit';\nimport { roomCoordinator } from '../../../../../lib/rooms/roomCoordinator';\nimport { useRetentionPolicy } from '../../../hooks/useRetentionPolicy';\n\nexport const useEditRoomInitialValues = (room: IRoomWithRetentionPolicy) => {\n\tconst retentionPolicy = useRetentionPolicy(room);\n\tconst canEditRoomRetentionPolicy = usePermission('edit-room-retention-policy', room._id);\n\n\tconst {\n\t\tt,\n\t\tro,\n\t\tarchived,\n\t\ttopic,\n\t\tdescription,\n\t\tannouncement,\n\t\tjoinCodeRequired,\n\t\tsysMes,\n\t\tencrypted,\n\t\tretention,\n\t\treactWhenReadOnly,\n\t\tsidepanel,\n\t} = room;\n\n\treturn useMemo(\n\t\t() => ({\n\t\t\troomName: t === 'd' && room.usernames ? room.usernames.join(' x ') : roomCoordinator.getRoomName(t, room),\n\t\t\troomType: t,\n\t\t\treadOnly: !!ro,\n\t\t\treactWhenReadOnly,\n\t\t\tarchived: !!archived,\n\t\t\troomTopic: topic ?? '',\n\t\t\troomDescription: description ?? '',\n\t\t\troomAnnouncement: announcement ?? '',\n\t\t\troomAvatar: undefined,\n\t\t\tjoinCode: '',\n\t\t\tjoinCodeRequired: !!joinCodeRequired,\n\t\t\tsystemMessages: Array.isArray(sysMes) ? sysMes : [],\n\t\t\thideSysMes: Array.isArray(sysMes) ? !!sysMes?.length : !!sysMes,\n\t\t\tencrypted,\n\t\t\t...(canEditRoomRetentionPolicy &&\n\t\t\t\tretentionPolicy?.enabled && {\n\t\t\t\t\tretentionEnabled: retention?.enabled ?? retentionPolicy.isActive,\n\t\t\t\t\tretentionOverrideGlobal: !!retention?.overrideGlobal,\n\t\t\t\t\tretentionMaxAge: retention?.maxAge ?? msToTimeUnit(TIMEUNIT.days, retentionPolicy.maxAge),\n\t\t\t\t\tretentionExcludePinned: retention?.excludePinned ?? retentionPolicy.excludePinned,\n\t\t\t\t\tretentionFilesOnly: retention?.filesOnly ?? retentionPolicy.filesOnly,\n\t\t\t\t\tretentionIgnoreThreads: retention?.ignoreThreads ?? retentionPolicy.ignoreThreads,\n\t\t\t\t}),\n\t\t\tshowDiscussions: sidepanel?.items.includes('discussions'),\n\t\t\tshowChannels: sidepanel?.items.includes('channels'),\n\t\t}),\n\t\t[\n\t\t\tannouncement,\n\t\t\tarchived,\n\t\t\tdescription,\n\t\t\tjoinCodeRequired,\n\t\t\tretention,\n\t\t\tretentionPolicy,\n\t\t\tro,\n\t\t\troom,\n\t\t\tsysMes,\n\t\t\tt,\n\t\t\ttopic,\n\t\t\tencrypted,\n\t\t\treactWhenReadOnly,\n\t\t\tcanEditRoomRetentionPolicy,\n\t\t\tsidepanel,\n\t\t],\n\t);\n};\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"d1851aafffd23c634f4664fa7744811728f77e9a"}
