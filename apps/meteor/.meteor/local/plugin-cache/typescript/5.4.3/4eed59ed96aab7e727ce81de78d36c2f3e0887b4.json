{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/lib/utils/stringUtils.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"lib/utils/stringUtils.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/lib/utils/stringUtils.ts","inputSourceMap":{"version":3,"file":"lib/utils/stringUtils.ts","sourceRoot":"","sources":["lib/utils/stringUtils.ts"],"names":[],"mappings":"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","sourcesContent":["import { escapeRegExp } from '@rocket.chat/string-helpers';\nimport { sanitize } from 'dompurify';\n\nexport function truncate(str: string, length: number): string {\n\treturn str.length > length ? `${str.slice(0, length - 3)}...` : str;\n}\n\nfunction makeString(object: unknown): string {\n\tif (!object) return '';\n\treturn String(object);\n}\n\nfunction defaultToWhiteSpace(characters: unknown): string {\n\tif (!characters) return '\\\\s';\n\tif (typeof characters === 'object' && 'source' in characters) return (characters as { source: string }).source;\n\treturn `[${escapeRegExp(makeString(characters))}]`;\n}\n\nconst nativeTrim = String.prototype.trim;\nconst nativeTrimLeft = String.prototype.trimLeft;\nconst nativeTrimRight = String.prototype.trimRight;\n\nexport function trim(_str: unknown, _characters?: unknown): string {\n\tconst str = makeString(_str);\n\tif (!_characters && nativeTrim) return nativeTrim.call(str);\n\tconst characters = defaultToWhiteSpace(_characters);\n\treturn str.replace(new RegExp(`^${characters}+|${characters}+$`, 'g'), '');\n}\n\nexport function ltrim(_str: unknown, _characters: unknown): string {\n\tconst str = makeString(_str);\n\tif (!_characters && nativeTrimLeft) return nativeTrimLeft.call(str);\n\tconst characters = defaultToWhiteSpace(_characters);\n\treturn str.replace(new RegExp(`^${characters}+`), '');\n}\n\nexport function rtrim(_str: unknown, _characters: unknown): string {\n\tconst str = makeString(_str);\n\tif (!_characters && nativeTrimRight) return nativeTrimRight.call(str);\n\tconst characters = defaultToWhiteSpace(_characters);\n\treturn str.replace(new RegExp(`${characters}+$`), '');\n}\n\nexport function capitalize(_str: unknown, lowercaseRest: boolean): string {\n\tconst str = makeString(_str);\n\tconst remainingChars = !lowercaseRest ? str.slice(1) : str.slice(1).toLowerCase();\n\n\treturn str.charAt(0).toUpperCase() + remainingChars;\n}\n\nexport function stripTags(str: unknown): string {\n\treturn sanitize(makeString(str)).replace(/<\\/?[^>]+>/g, '');\n}\n\nexport function strLeft(_str: unknown, _sep: unknown): string {\n\tconst str = makeString(_str);\n\tconst sep = makeString(_sep);\n\tconst pos = !sep ? -1 : str.indexOf(sep);\n\treturn ~pos ? str.slice(0, pos) : str;\n}\n\nexport function strRight(_str: unknown, _sep: unknown): string {\n\tconst str = makeString(_str);\n\tconst sep = makeString(_sep);\n\tconst pos = !sep ? -1 : str.indexOf(sep);\n\treturn ~pos ? str.slice(pos + sep.length, str.length) : str;\n}\n\nexport function strRightBack(_str: unknown, _sep: unknown): string {\n\tconst str = makeString(_str);\n\tconst sep = makeString(_sep);\n\tconst pos = !sep ? -1 : str.lastIndexOf(sep);\n\treturn ~pos ? str.slice(pos + sep.length, str.length) : str;\n}\n\nexport function numberFormat(_number: number, dec: number, dsep?: string, tsep?: string): string {\n\tif (isNaN(_number) || _number === null || _number === undefined) return '';\n\n\tconst number = _number.toFixed(~~dec);\n\ttsep = typeof tsep === 'string' ? tsep : ',';\n\n\tconst parts = number.split('.');\n\tconst fnums = parts[0];\n\tconst decimals = parts[1] ? (dsep || '.') + parts[1] : '';\n\n\treturn fnums.replace(/(\\d)(?=(?:\\d{3})+$)/g, `$1${tsep}`) + decimals;\n}\n\nexport function pad(_str: unknown, _length: number, padStr?: string, type: 'right' | 'left' | 'both' = 'right') {\n\tconst str = makeString(_str);\n\tconst length = ~~_length;\n\n\tlet padlen = 0;\n\n\tif (!padStr) padStr = ' ';\n\telse if (padStr.length > 1) padStr = padStr.charAt(0);\n\n\tswitch (type) {\n\t\tcase 'right':\n\t\t\tpadlen = length - str.length;\n\t\t\treturn str + padStr.repeat(padlen);\n\t\tcase 'both':\n\t\t\tpadlen = length - str.length;\n\t\t\treturn padStr.repeat(Math.ceil(padlen / 2)) + str + padStr.repeat(Math.floor(padlen / 2));\n\t\tdefault: // 'left'\n\t\t\tpadlen = length - str.length;\n\t\t\treturn padStr.repeat(padlen) + str;\n\t}\n}\n\nexport function lrpad(str: unknown, length: number, padStr?: string): string {\n\treturn pad(str, length, padStr, 'both');\n}\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/lib/utils/stringUtils.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"lib/utils/stringUtils.ts","inputSourceMap":{"version":3,"file":"lib/utils/stringUtils.ts","sourceRoot":"","sources":["lib/utils/stringUtils.ts"],"names":[],"mappings":"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","sourcesContent":["import { escapeRegExp } from '@rocket.chat/string-helpers';\nimport { sanitize } from 'dompurify';\n\nexport function truncate(str: string, length: number): string {\n\treturn str.length > length ? `${str.slice(0, length - 3)}...` : str;\n}\n\nfunction makeString(object: unknown): string {\n\tif (!object) return '';\n\treturn String(object);\n}\n\nfunction defaultToWhiteSpace(characters: unknown): string {\n\tif (!characters) return '\\\\s';\n\tif (typeof characters === 'object' && 'source' in characters) return (characters as { source: string }).source;\n\treturn `[${escapeRegExp(makeString(characters))}]`;\n}\n\nconst nativeTrim = String.prototype.trim;\nconst nativeTrimLeft = String.prototype.trimLeft;\nconst nativeTrimRight = String.prototype.trimRight;\n\nexport function trim(_str: unknown, _characters?: unknown): string {\n\tconst str = makeString(_str);\n\tif (!_characters && nativeTrim) return nativeTrim.call(str);\n\tconst characters = defaultToWhiteSpace(_characters);\n\treturn str.replace(new RegExp(`^${characters}+|${characters}+$`, 'g'), '');\n}\n\nexport function ltrim(_str: unknown, _characters: unknown): string {\n\tconst str = makeString(_str);\n\tif (!_characters && nativeTrimLeft) return nativeTrimLeft.call(str);\n\tconst characters = defaultToWhiteSpace(_characters);\n\treturn str.replace(new RegExp(`^${characters}+`), '');\n}\n\nexport function rtrim(_str: unknown, _characters: unknown): string {\n\tconst str = makeString(_str);\n\tif (!_characters && nativeTrimRight) return nativeTrimRight.call(str);\n\tconst characters = defaultToWhiteSpace(_characters);\n\treturn str.replace(new RegExp(`${characters}+$`), '');\n}\n\nexport function capitalize(_str: unknown, lowercaseRest: boolean): string {\n\tconst str = makeString(_str);\n\tconst remainingChars = !lowercaseRest ? str.slice(1) : str.slice(1).toLowerCase();\n\n\treturn str.charAt(0).toUpperCase() + remainingChars;\n}\n\nexport function stripTags(str: unknown): string {\n\treturn sanitize(makeString(str)).replace(/<\\/?[^>]+>/g, '');\n}\n\nexport function strLeft(_str: unknown, _sep: unknown): string {\n\tconst str = makeString(_str);\n\tconst sep = makeString(_sep);\n\tconst pos = !sep ? -1 : str.indexOf(sep);\n\treturn ~pos ? str.slice(0, pos) : str;\n}\n\nexport function strRight(_str: unknown, _sep: unknown): string {\n\tconst str = makeString(_str);\n\tconst sep = makeString(_sep);\n\tconst pos = !sep ? -1 : str.indexOf(sep);\n\treturn ~pos ? str.slice(pos + sep.length, str.length) : str;\n}\n\nexport function strRightBack(_str: unknown, _sep: unknown): string {\n\tconst str = makeString(_str);\n\tconst sep = makeString(_sep);\n\tconst pos = !sep ? -1 : str.lastIndexOf(sep);\n\treturn ~pos ? str.slice(pos + sep.length, str.length) : str;\n}\n\nexport function numberFormat(_number: number, dec: number, dsep?: string, tsep?: string): string {\n\tif (isNaN(_number) || _number === null || _number === undefined) return '';\n\n\tconst number = _number.toFixed(~~dec);\n\ttsep = typeof tsep === 'string' ? tsep : ',';\n\n\tconst parts = number.split('.');\n\tconst fnums = parts[0];\n\tconst decimals = parts[1] ? (dsep || '.') + parts[1] : '';\n\n\treturn fnums.replace(/(\\d)(?=(?:\\d{3})+$)/g, `$1${tsep}`) + decimals;\n}\n\nexport function pad(_str: unknown, _length: number, padStr?: string, type: 'right' | 'left' | 'both' = 'right') {\n\tconst str = makeString(_str);\n\tconst length = ~~_length;\n\n\tlet padlen = 0;\n\n\tif (!padStr) padStr = ' ';\n\telse if (padStr.length > 1) padStr = padStr.charAt(0);\n\n\tswitch (type) {\n\t\tcase 'right':\n\t\t\tpadlen = length - str.length;\n\t\t\treturn str + padStr.repeat(padlen);\n\t\tcase 'both':\n\t\t\tpadlen = length - str.length;\n\t\t\treturn padStr.repeat(Math.ceil(padlen / 2)) + str + padStr.repeat(Math.floor(padlen / 2));\n\t\tdefault: // 'left'\n\t\t\tpadlen = length - str.length;\n\t\t\treturn padStr.repeat(padlen) + str;\n\t}\n}\n\nexport function lrpad(str: unknown, length: number, padStr?: string): string {\n\treturn pad(str, length, padStr, 'both');\n}\n"]}}},"code":"var _typeof;\nmodule.link(\"@babel/runtime/helpers/typeof\", {\n  default: function (v) {\n    _typeof = v;\n  }\n}, 0);\nmodule.export({\n  truncate: function () {\n    return truncate;\n  },\n  trim: function () {\n    return trim;\n  },\n  ltrim: function () {\n    return ltrim;\n  },\n  rtrim: function () {\n    return rtrim;\n  },\n  capitalize: function () {\n    return capitalize;\n  },\n  stripTags: function () {\n    return stripTags;\n  },\n  strLeft: function () {\n    return strLeft;\n  },\n  strRight: function () {\n    return strRight;\n  },\n  strRightBack: function () {\n    return strRightBack;\n  },\n  numberFormat: function () {\n    return numberFormat;\n  },\n  pad: function () {\n    return pad;\n  },\n  lrpad: function () {\n    return lrpad;\n  }\n});\nvar escapeRegExp;\nmodule.link(\"@rocket.chat/string-helpers\", {\n  escapeRegExp: function (v) {\n    escapeRegExp = v;\n  }\n}, 0);\nvar sanitize;\nmodule.link(\"dompurify\", {\n  sanitize: function (v) {\n    sanitize = v;\n  }\n}, 1);\nfunction truncate(str, length) {\n  return str.length > length ? str.slice(0, length - 3) + \"...\" : str;\n}\nfunction makeString(object) {\n  if (!object) return '';\n  return String(object);\n}\nfunction defaultToWhiteSpace(characters) {\n  if (!characters) return '\\\\s';\n  if (_typeof(characters) === 'object' && 'source' in characters) return characters.source;\n  return \"[\" + escapeRegExp(makeString(characters)) + \"]\";\n}\nvar nativeTrim = String.prototype.trim;\nvar nativeTrimLeft = String.prototype.trimLeft;\nvar nativeTrimRight = String.prototype.trimRight;\nfunction trim(_str, _characters) {\n  var str = makeString(_str);\n  if (!_characters && nativeTrim) return nativeTrim.call(str);\n  var characters = defaultToWhiteSpace(_characters);\n  return str.replace(new RegExp(\"^\" + characters + \"+|\" + characters + \"+$\", 'g'), '');\n}\nfunction ltrim(_str, _characters) {\n  var str = makeString(_str);\n  if (!_characters && nativeTrimLeft) return nativeTrimLeft.call(str);\n  var characters = defaultToWhiteSpace(_characters);\n  return str.replace(new RegExp(\"^\" + characters + \"+\"), '');\n}\nfunction rtrim(_str, _characters) {\n  var str = makeString(_str);\n  if (!_characters && nativeTrimRight) return nativeTrimRight.call(str);\n  var characters = defaultToWhiteSpace(_characters);\n  return str.replace(new RegExp(characters + \"+$\"), '');\n}\nfunction capitalize(_str, lowercaseRest) {\n  var str = makeString(_str);\n  var remainingChars = !lowercaseRest ? str.slice(1) : str.slice(1).toLowerCase();\n  return str.charAt(0).toUpperCase() + remainingChars;\n}\nfunction stripTags(str) {\n  return sanitize(makeString(str)).replace(/<\\/?[^>]+>/g, '');\n}\nfunction strLeft(_str, _sep) {\n  var str = makeString(_str);\n  var sep = makeString(_sep);\n  var pos = !sep ? -1 : str.indexOf(sep);\n  return ~pos ? str.slice(0, pos) : str;\n}\nfunction strRight(_str, _sep) {\n  var str = makeString(_str);\n  var sep = makeString(_sep);\n  var pos = !sep ? -1 : str.indexOf(sep);\n  return ~pos ? str.slice(pos + sep.length, str.length) : str;\n}\nfunction strRightBack(_str, _sep) {\n  var str = makeString(_str);\n  var sep = makeString(_sep);\n  var pos = !sep ? -1 : str.lastIndexOf(sep);\n  return ~pos ? str.slice(pos + sep.length, str.length) : str;\n}\nfunction numberFormat(_number, dec, dsep, tsep) {\n  if (isNaN(_number) || _number === null || _number === undefined) return '';\n  var number = _number.toFixed(~~dec);\n  tsep = typeof tsep === 'string' ? tsep : ',';\n  var parts = number.split('.');\n  var fnums = parts[0];\n  var decimals = parts[1] ? (dsep || '.') + parts[1] : '';\n  return fnums.replace(/(\\d)(?=(?:\\d{3})+$)/g, \"$1\" + tsep) + decimals;\n}\nfunction pad(_str, _length, padStr) {\n  var type = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'right';\n  var str = makeString(_str);\n  var length = ~~_length;\n  var padlen = 0;\n  if (!padStr) padStr = ' ';else if (padStr.length > 1) padStr = padStr.charAt(0);\n  switch (type) {\n    case 'right':\n      padlen = length - str.length;\n      return str + padStr.repeat(padlen);\n    case 'both':\n      padlen = length - str.length;\n      return padStr.repeat(Math.ceil(padlen / 2)) + str + padStr.repeat(Math.floor(padlen / 2));\n    default:\n      // 'left'\n      padlen = length - str.length;\n      return padStr.repeat(padlen) + str;\n  }\n}\nfunction lrpad(str, length, padStr) {\n  return pad(str, length, padStr, 'both');\n}","map":{"version":3,"names":["_typeof","module","link","default","v","export","truncate","trim","ltrim","rtrim","capitalize","stripTags","strLeft","strRight","strRightBack","numberFormat","pad","lrpad","escapeRegExp","sanitize","str","length","slice","makeString","object","String","defaultToWhiteSpace","characters","source","nativeTrim","prototype","nativeTrimLeft","trimLeft","nativeTrimRight","trimRight","_str","_characters","call","replace","RegExp","lowercaseRest","remainingChars","toLowerCase","charAt","toUpperCase","_sep","sep","pos","indexOf","lastIndexOf","_number","dec","dsep","tsep","isNaN","undefined","number","toFixed","parts","split","fnums","decimals","_length","padStr","type","arguments","padlen","repeat","Math","ceil","floor"],"sources":["lib/utils/stringUtils.ts"],"sourcesContent":["import { escapeRegExp } from '@rocket.chat/string-helpers';\nimport { sanitize } from 'dompurify';\n\nexport function truncate(str: string, length: number): string {\n\treturn str.length > length ? `${str.slice(0, length - 3)}...` : str;\n}\n\nfunction makeString(object: unknown): string {\n\tif (!object) return '';\n\treturn String(object);\n}\n\nfunction defaultToWhiteSpace(characters: unknown): string {\n\tif (!characters) return '\\\\s';\n\tif (typeof characters === 'object' && 'source' in characters) return (characters as { source: string }).source;\n\treturn `[${escapeRegExp(makeString(characters))}]`;\n}\n\nconst nativeTrim = String.prototype.trim;\nconst nativeTrimLeft = String.prototype.trimLeft;\nconst nativeTrimRight = String.prototype.trimRight;\n\nexport function trim(_str: unknown, _characters?: unknown): string {\n\tconst str = makeString(_str);\n\tif (!_characters && nativeTrim) return nativeTrim.call(str);\n\tconst characters = defaultToWhiteSpace(_characters);\n\treturn str.replace(new RegExp(`^${characters}+|${characters}+$`, 'g'), '');\n}\n\nexport function ltrim(_str: unknown, _characters: unknown): string {\n\tconst str = makeString(_str);\n\tif (!_characters && nativeTrimLeft) return nativeTrimLeft.call(str);\n\tconst characters = defaultToWhiteSpace(_characters);\n\treturn str.replace(new RegExp(`^${characters}+`), '');\n}\n\nexport function rtrim(_str: unknown, _characters: unknown): string {\n\tconst str = makeString(_str);\n\tif (!_characters && nativeTrimRight) return nativeTrimRight.call(str);\n\tconst characters = defaultToWhiteSpace(_characters);\n\treturn str.replace(new RegExp(`${characters}+$`), '');\n}\n\nexport function capitalize(_str: unknown, lowercaseRest: boolean): string {\n\tconst str = makeString(_str);\n\tconst remainingChars = !lowercaseRest ? str.slice(1) : str.slice(1).toLowerCase();\n\n\treturn str.charAt(0).toUpperCase() + remainingChars;\n}\n\nexport function stripTags(str: unknown): string {\n\treturn sanitize(makeString(str)).replace(/<\\/?[^>]+>/g, '');\n}\n\nexport function strLeft(_str: unknown, _sep: unknown): string {\n\tconst str = makeString(_str);\n\tconst sep = makeString(_sep);\n\tconst pos = !sep ? -1 : str.indexOf(sep);\n\treturn ~pos ? str.slice(0, pos) : str;\n}\n\nexport function strRight(_str: unknown, _sep: unknown): string {\n\tconst str = makeString(_str);\n\tconst sep = makeString(_sep);\n\tconst pos = !sep ? -1 : str.indexOf(sep);\n\treturn ~pos ? str.slice(pos + sep.length, str.length) : str;\n}\n\nexport function strRightBack(_str: unknown, _sep: unknown): string {\n\tconst str = makeString(_str);\n\tconst sep = makeString(_sep);\n\tconst pos = !sep ? -1 : str.lastIndexOf(sep);\n\treturn ~pos ? str.slice(pos + sep.length, str.length) : str;\n}\n\nexport function numberFormat(_number: number, dec: number, dsep?: string, tsep?: string): string {\n\tif (isNaN(_number) || _number === null || _number === undefined) return '';\n\n\tconst number = _number.toFixed(~~dec);\n\ttsep = typeof tsep === 'string' ? tsep : ',';\n\n\tconst parts = number.split('.');\n\tconst fnums = parts[0];\n\tconst decimals = parts[1] ? (dsep || '.') + parts[1] : '';\n\n\treturn fnums.replace(/(\\d)(?=(?:\\d{3})+$)/g, `$1${tsep}`) + decimals;\n}\n\nexport function pad(_str: unknown, _length: number, padStr?: string, type: 'right' | 'left' | 'both' = 'right') {\n\tconst str = makeString(_str);\n\tconst length = ~~_length;\n\n\tlet padlen = 0;\n\n\tif (!padStr) padStr = ' ';\n\telse if (padStr.length > 1) padStr = padStr.charAt(0);\n\n\tswitch (type) {\n\t\tcase 'right':\n\t\t\tpadlen = length - str.length;\n\t\t\treturn str + padStr.repeat(padlen);\n\t\tcase 'both':\n\t\t\tpadlen = length - str.length;\n\t\t\treturn padStr.repeat(Math.ceil(padlen / 2)) + str + padStr.repeat(Math.floor(padlen / 2));\n\t\tdefault: // 'left'\n\t\t\tpadlen = length - str.length;\n\t\t\treturn padStr.repeat(padlen) + str;\n\t}\n}\n\nexport function lrpad(str: unknown, length: number, padStr?: string): string {\n\treturn pad(str, length, padStr, 'both');\n}\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"4eed59ed96aab7e727ce81de78d36c2f3e0887b4"}
