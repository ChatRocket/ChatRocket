{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/import/ImportHistoryPage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/admin/import/ImportHistoryPage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/import/ImportHistoryPage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/import/ImportHistoryPage.tsx","sourceRoot":"","sources":["client/views/admin/import/ImportHistoryPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Button, ButtonGroup, Table, TableHead, TableCell, TableRow, TableBody } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useEndpoint, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\n\nimport { ProgressStep } from '../../../../app/importer/lib/ImporterProgressStep';\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\nimport ImportOperationSummary from './ImportOperationSummary';\nimport ImportOperationSummarySkeleton from './ImportOperationSummarySkeleton';\n\n// TODO: review inner logic\nfunction ImportHistoryPage() {\n\tconst queryClient = useQueryClient();\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst downloadPendingFiles = useEndpoint('POST', '/v1/downloadPendingFiles');\n\tconst downloadPendingAvatars = useEndpoint('POST', '/v1/downloadPendingAvatars');\n\n\tconst getCurrentImportOperation = useEndpoint('GET', '/v1/getCurrentImportOperation');\n\tconst getLatestImportOperations = useEndpoint('GET', '/v1/getLatestImportOperations');\n\n\tconst router = useRouter();\n\n\tconst currentOperation = useQuery(\n\t\t['ImportHistoryPage', 'currentOperation'],\n\t\tasync () => {\n\t\t\tconst { operation = { valid: false } } = await getCurrentImportOperation();\n\t\t\treturn operation;\n\t\t},\n\t\t{\n\t\t\tonError: () => dispatchToastMessage({ type: 'error', message: t('Failed_To_Load_Import_Operation') }),\n\t\t},\n\t);\n\n\tconst latestOperations = useQuery(\n\t\t['ImportHistoryPage', 'latestOperations'],\n\t\tasync () => {\n\t\t\tconst operations = await getLatestImportOperations();\n\t\t\treturn operations;\n\t\t},\n\t\t{\n\t\t\tonError: () => dispatchToastMessage({ type: 'error', message: t('Failed_To_Load_Import_History') }),\n\t\t},\n\t);\n\n\tconst isLoading = currentOperation.isLoading || latestOperations.isLoading;\n\n\tconst hasAnySuccessfulImport = useMemo(() => {\n\t\treturn latestOperations.isSuccess && latestOperations.data.some(({ status }) => status === ProgressStep.DONE);\n\t}, [latestOperations.isSuccess, latestOperations.data]);\n\n\tconst handleNewImportClick = () => {\n\t\trouter.navigate('/admin/import/new');\n\t};\n\n\tconst downloadPendingFilesResult = useMutation({\n\t\tmutationFn: async () => downloadPendingFiles(),\n\t\tonError: (error) => {\n\t\t\tconsole.error(error);\n\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_To_Download_Files') });\n\t\t},\n\t\tonSuccess: ({ count }) => {\n\t\t\tqueryClient.invalidateQueries(['ImportHistoryPage', 'currentOperation']);\n\t\t\tqueryClient.invalidateQueries(['ImportHistoryPage', 'latestOperations']);\n\t\t\tif (!count) {\n\t\t\t\tdispatchToastMessage({ type: 'info', message: t('No_files_left_to_download') });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'info', message: t('File_Downloads_Started') });\n\t\t\trouter.navigate('/admin/import/progress');\n\t\t},\n\t});\n\n\tconst downloadPendingAvatarsResult = useMutation({\n\t\tmutationFn: async () => downloadPendingAvatars(),\n\t\tonError: (error) => {\n\t\t\tconsole.error(error);\n\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_To_Download_Files') });\n\t\t},\n\t\tonSuccess: ({ count }) => {\n\t\t\tqueryClient.invalidateQueries(['ImportHistoryPage', 'currentOperation']);\n\t\t\tqueryClient.invalidateQueries(['ImportHistoryPage', 'latestOperations']);\n\t\t\tif (!count) {\n\t\t\t\tdispatchToastMessage({ type: 'info', message: t('No_files_left_to_download') });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'info', message: t('File_Downloads_Started') });\n\t\t\trouter.navigate('/admin/import/progress');\n\t\t},\n\t});\n\n\tconst small = useMediaQuery('(max-width: 768px)');\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Import')}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button primary disabled={isLoading} onClick={handleNewImportClick}>\n\t\t\t\t\t\t{t('Import_New_File')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{hasAnySuccessfulImport && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tloading={downloadPendingFilesResult.isLoading}\n\t\t\t\t\t\t\tdisabled={downloadPendingAvatarsResult.isLoading}\n\t\t\t\t\t\t\tonClick={() => downloadPendingFilesResult.mutate()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Download_Pending_Files')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasAnySuccessfulImport && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tloading={downloadPendingAvatarsResult.isLoading}\n\t\t\t\t\t\t\tdisabled={downloadPendingFilesResult.isLoading}\n\t\t\t\t\t\t\tonClick={() => downloadPendingAvatarsResult.mutate()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Download_Pending_Avatars')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageHeader>\n\t\t\t<PageScrollableContentWithShadow>\n\t\t\t\t<Table fixed data-qa-id='ImportTable'>\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell is='th' rowSpan={2} width='x140'>\n\t\t\t\t\t\t\t\t{t('Import_Type')}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell is='th' rowSpan={2}>\n\t\t\t\t\t\t\t\t{t('Last_Updated')}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t{!small && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<TableCell is='th' rowSpan={2}>\n\t\t\t\t\t\t\t\t\t\t{t('Last_Status')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell is='th' rowSpan={2}>\n\t\t\t\t\t\t\t\t\t\t{t('File')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell is='th' align='center' colSpan={4} width='x320'>\n\t\t\t\t\t\t\t\t\t\t{t('Counters')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t{!small && (\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Users')}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Channels')}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Messages')}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Total')}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{Array.from({ length: 20 }, (_, i) => (\n\t\t\t\t\t\t\t\t\t<ImportOperationSummarySkeleton key={i} small={small} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{currentOperation.isSuccess && currentOperation.data.valid && (\n\t\t\t\t\t\t\t<ImportOperationSummary {...currentOperation.data} small={small} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{currentOperation.isSuccess && latestOperations.isSuccess && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{latestOperations.data\n\t\t\t\t\t\t\t\t\t.filter(({ _id }) => !currentOperation.data.valid || currentOperation.data._id !== _id)\n\t\t\t\t\t\t\t\t\t// Forcing valid=false as the current API only accept preparation/progress over currentOperation\n\t\t\t\t\t\t\t\t\t?.map((operation) => (\n\t\t\t\t\t\t\t\t\t\t<ImportOperationSummary key={operation._id} {...operation} valid={false} small={small} />\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t</Page>\n\t);\n}\n\nexport default ImportHistoryPage;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/import/ImportHistoryPage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/import/ImportHistoryPage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/import/ImportHistoryPage.tsx","sourceRoot":"","sources":["client/views/admin/import/ImportHistoryPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Button, ButtonGroup, Table, TableHead, TableCell, TableRow, TableBody } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useEndpoint, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\n\nimport { ProgressStep } from '../../../../app/importer/lib/ImporterProgressStep';\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\nimport ImportOperationSummary from './ImportOperationSummary';\nimport ImportOperationSummarySkeleton from './ImportOperationSummarySkeleton';\n\n// TODO: review inner logic\nfunction ImportHistoryPage() {\n\tconst queryClient = useQueryClient();\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst downloadPendingFiles = useEndpoint('POST', '/v1/downloadPendingFiles');\n\tconst downloadPendingAvatars = useEndpoint('POST', '/v1/downloadPendingAvatars');\n\n\tconst getCurrentImportOperation = useEndpoint('GET', '/v1/getCurrentImportOperation');\n\tconst getLatestImportOperations = useEndpoint('GET', '/v1/getLatestImportOperations');\n\n\tconst router = useRouter();\n\n\tconst currentOperation = useQuery(\n\t\t['ImportHistoryPage', 'currentOperation'],\n\t\tasync () => {\n\t\t\tconst { operation = { valid: false } } = await getCurrentImportOperation();\n\t\t\treturn operation;\n\t\t},\n\t\t{\n\t\t\tonError: () => dispatchToastMessage({ type: 'error', message: t('Failed_To_Load_Import_Operation') }),\n\t\t},\n\t);\n\n\tconst latestOperations = useQuery(\n\t\t['ImportHistoryPage', 'latestOperations'],\n\t\tasync () => {\n\t\t\tconst operations = await getLatestImportOperations();\n\t\t\treturn operations;\n\t\t},\n\t\t{\n\t\t\tonError: () => dispatchToastMessage({ type: 'error', message: t('Failed_To_Load_Import_History') }),\n\t\t},\n\t);\n\n\tconst isLoading = currentOperation.isLoading || latestOperations.isLoading;\n\n\tconst hasAnySuccessfulImport = useMemo(() => {\n\t\treturn latestOperations.isSuccess && latestOperations.data.some(({ status }) => status === ProgressStep.DONE);\n\t}, [latestOperations.isSuccess, latestOperations.data]);\n\n\tconst handleNewImportClick = () => {\n\t\trouter.navigate('/admin/import/new');\n\t};\n\n\tconst downloadPendingFilesResult = useMutation({\n\t\tmutationFn: async () => downloadPendingFiles(),\n\t\tonError: (error) => {\n\t\t\tconsole.error(error);\n\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_To_Download_Files') });\n\t\t},\n\t\tonSuccess: ({ count }) => {\n\t\t\tqueryClient.invalidateQueries(['ImportHistoryPage', 'currentOperation']);\n\t\t\tqueryClient.invalidateQueries(['ImportHistoryPage', 'latestOperations']);\n\t\t\tif (!count) {\n\t\t\t\tdispatchToastMessage({ type: 'info', message: t('No_files_left_to_download') });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'info', message: t('File_Downloads_Started') });\n\t\t\trouter.navigate('/admin/import/progress');\n\t\t},\n\t});\n\n\tconst downloadPendingAvatarsResult = useMutation({\n\t\tmutationFn: async () => downloadPendingAvatars(),\n\t\tonError: (error) => {\n\t\t\tconsole.error(error);\n\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_To_Download_Files') });\n\t\t},\n\t\tonSuccess: ({ count }) => {\n\t\t\tqueryClient.invalidateQueries(['ImportHistoryPage', 'currentOperation']);\n\t\t\tqueryClient.invalidateQueries(['ImportHistoryPage', 'latestOperations']);\n\t\t\tif (!count) {\n\t\t\t\tdispatchToastMessage({ type: 'info', message: t('No_files_left_to_download') });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'info', message: t('File_Downloads_Started') });\n\t\t\trouter.navigate('/admin/import/progress');\n\t\t},\n\t});\n\n\tconst small = useMediaQuery('(max-width: 768px)');\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Import')}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button primary disabled={isLoading} onClick={handleNewImportClick}>\n\t\t\t\t\t\t{t('Import_New_File')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{hasAnySuccessfulImport && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tloading={downloadPendingFilesResult.isLoading}\n\t\t\t\t\t\t\tdisabled={downloadPendingAvatarsResult.isLoading}\n\t\t\t\t\t\t\tonClick={() => downloadPendingFilesResult.mutate()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Download_Pending_Files')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasAnySuccessfulImport && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tloading={downloadPendingAvatarsResult.isLoading}\n\t\t\t\t\t\t\tdisabled={downloadPendingFilesResult.isLoading}\n\t\t\t\t\t\t\tonClick={() => downloadPendingAvatarsResult.mutate()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Download_Pending_Avatars')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageHeader>\n\t\t\t<PageScrollableContentWithShadow>\n\t\t\t\t<Table fixed data-qa-id='ImportTable'>\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell is='th' rowSpan={2} width='x140'>\n\t\t\t\t\t\t\t\t{t('Import_Type')}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell is='th' rowSpan={2}>\n\t\t\t\t\t\t\t\t{t('Last_Updated')}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t{!small && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<TableCell is='th' rowSpan={2}>\n\t\t\t\t\t\t\t\t\t\t{t('Last_Status')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell is='th' rowSpan={2}>\n\t\t\t\t\t\t\t\t\t\t{t('File')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell is='th' align='center' colSpan={4} width='x320'>\n\t\t\t\t\t\t\t\t\t\t{t('Counters')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t{!small && (\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Users')}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Channels')}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Messages')}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Total')}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{Array.from({ length: 20 }, (_, i) => (\n\t\t\t\t\t\t\t\t\t<ImportOperationSummarySkeleton key={i} small={small} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{currentOperation.isSuccess && currentOperation.data.valid && (\n\t\t\t\t\t\t\t<ImportOperationSummary {...currentOperation.data} small={small} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{currentOperation.isSuccess && latestOperations.isSuccess && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{latestOperations.data\n\t\t\t\t\t\t\t\t\t.filter(({ _id }) => !currentOperation.data.valid || currentOperation.data._id !== _id)\n\t\t\t\t\t\t\t\t\t// Forcing valid=false as the current API only accept preparation/progress over currentOperation\n\t\t\t\t\t\t\t\t\t?.map((operation) => (\n\t\t\t\t\t\t\t\t\t\t<ImportOperationSummary key={operation._id} {...operation} valid={false} small={small} />\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t</Page>\n\t);\n}\n\nexport default ImportHistoryPage;\n"]}}},"code":"let _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet Button, ButtonGroup, Table, TableHead, TableCell, TableRow, TableBody;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Button(v) {\n    Button = v;\n  },\n  ButtonGroup(v) {\n    ButtonGroup = v;\n  },\n  Table(v) {\n    Table = v;\n  },\n  TableHead(v) {\n    TableHead = v;\n  },\n  TableCell(v) {\n    TableCell = v;\n  },\n  TableRow(v) {\n    TableRow = v;\n  },\n  TableBody(v) {\n    TableBody = v;\n  }\n}, 0);\nlet useMediaQuery;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMediaQuery(v) {\n    useMediaQuery = v;\n  }\n}, 1);\nlet useToastMessageDispatch, useEndpoint, useTranslation, useRouter;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch(v) {\n    useToastMessageDispatch = v;\n  },\n  useEndpoint(v) {\n    useEndpoint = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  },\n  useRouter(v) {\n    useRouter = v;\n  }\n}, 2);\nlet useQuery, useMutation, useQueryClient;\nmodule.link(\"@tanstack/react-query\", {\n  useQuery(v) {\n    useQuery = v;\n  },\n  useMutation(v) {\n    useMutation = v;\n  },\n  useQueryClient(v) {\n    useQueryClient = v;\n  }\n}, 3);\nlet React, useMemo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  }\n}, 4);\nlet ProgressStep;\nmodule.link(\"../../../../app/importer/lib/ImporterProgressStep\", {\n  ProgressStep(v) {\n    ProgressStep = v;\n  }\n}, 5);\nlet Page, PageHeader, PageScrollableContentWithShadow;\nmodule.link(\"../../../components/Page\", {\n  Page(v) {\n    Page = v;\n  },\n  PageHeader(v) {\n    PageHeader = v;\n  },\n  PageScrollableContentWithShadow(v) {\n    PageScrollableContentWithShadow = v;\n  }\n}, 6);\nlet ImportOperationSummary;\nmodule.link(\"./ImportOperationSummary\", {\n  default(v) {\n    ImportOperationSummary = v;\n  }\n}, 7);\nlet ImportOperationSummarySkeleton;\nmodule.link(\"./ImportOperationSummarySkeleton\", {\n  default(v) {\n    ImportOperationSummarySkeleton = v;\n  }\n}, 8);\n// TODO: review inner logic\nfunction ImportHistoryPage() {\n  var _latestOperations$dat;\n  const queryClient = useQueryClient();\n  const t = useTranslation();\n  const dispatchToastMessage = useToastMessageDispatch();\n  const downloadPendingFiles = useEndpoint('POST', '/v1/downloadPendingFiles');\n  const downloadPendingAvatars = useEndpoint('POST', '/v1/downloadPendingAvatars');\n  const getCurrentImportOperation = useEndpoint('GET', '/v1/getCurrentImportOperation');\n  const getLatestImportOperations = useEndpoint('GET', '/v1/getLatestImportOperations');\n  const router = useRouter();\n  const currentOperation = useQuery(['ImportHistoryPage', 'currentOperation'], async () => {\n    const {\n      operation = {\n        valid: false\n      }\n    } = await getCurrentImportOperation();\n    return operation;\n  }, {\n    onError: () => dispatchToastMessage({\n      type: 'error',\n      message: t('Failed_To_Load_Import_Operation')\n    })\n  });\n  const latestOperations = useQuery(['ImportHistoryPage', 'latestOperations'], async () => {\n    const operations = await getLatestImportOperations();\n    return operations;\n  }, {\n    onError: () => dispatchToastMessage({\n      type: 'error',\n      message: t('Failed_To_Load_Import_History')\n    })\n  });\n  const isLoading = currentOperation.isLoading || latestOperations.isLoading;\n  const hasAnySuccessfulImport = useMemo(() => {\n    return latestOperations.isSuccess && latestOperations.data.some(_ref => {\n      let {\n        status\n      } = _ref;\n      return status === ProgressStep.DONE;\n    });\n  }, [latestOperations.isSuccess, latestOperations.data]);\n  const handleNewImportClick = () => {\n    router.navigate('/admin/import/new');\n  };\n  const downloadPendingFilesResult = useMutation({\n    mutationFn: async () => downloadPendingFiles(),\n    onError: error => {\n      console.error(error);\n      dispatchToastMessage({\n        type: 'error',\n        message: t('Failed_To_Download_Files')\n      });\n    },\n    onSuccess: _ref2 => {\n      let {\n        count\n      } = _ref2;\n      queryClient.invalidateQueries(['ImportHistoryPage', 'currentOperation']);\n      queryClient.invalidateQueries(['ImportHistoryPage', 'latestOperations']);\n      if (!count) {\n        dispatchToastMessage({\n          type: 'info',\n          message: t('No_files_left_to_download')\n        });\n        return;\n      }\n      dispatchToastMessage({\n        type: 'info',\n        message: t('File_Downloads_Started')\n      });\n      router.navigate('/admin/import/progress');\n    }\n  });\n  const downloadPendingAvatarsResult = useMutation({\n    mutationFn: async () => downloadPendingAvatars(),\n    onError: error => {\n      console.error(error);\n      dispatchToastMessage({\n        type: 'error',\n        message: t('Failed_To_Download_Files')\n      });\n    },\n    onSuccess: _ref3 => {\n      let {\n        count\n      } = _ref3;\n      queryClient.invalidateQueries(['ImportHistoryPage', 'currentOperation']);\n      queryClient.invalidateQueries(['ImportHistoryPage', 'latestOperations']);\n      if (!count) {\n        dispatchToastMessage({\n          type: 'info',\n          message: t('No_files_left_to_download')\n        });\n        return;\n      }\n      dispatchToastMessage({\n        type: 'info',\n        message: t('File_Downloads_Started')\n      });\n      router.navigate('/admin/import/progress');\n    }\n  });\n  const small = useMediaQuery('(max-width: 768px)');\n  return /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: t('Import')\n  }, /*#__PURE__*/React.createElement(ButtonGroup, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    disabled: isLoading,\n    onClick: handleNewImportClick\n  }, t('Import_New_File')), hasAnySuccessfulImport && /*#__PURE__*/React.createElement(Button, {\n    loading: downloadPendingFilesResult.isLoading,\n    disabled: downloadPendingAvatarsResult.isLoading,\n    onClick: () => downloadPendingFilesResult.mutate()\n  }, t('Download_Pending_Files')), hasAnySuccessfulImport && /*#__PURE__*/React.createElement(Button, {\n    loading: downloadPendingAvatarsResult.isLoading,\n    disabled: downloadPendingFilesResult.isLoading,\n    onClick: () => downloadPendingAvatarsResult.mutate()\n  }, t('Download_Pending_Avatars')))), /*#__PURE__*/React.createElement(PageScrollableContentWithShadow, null, /*#__PURE__*/React.createElement(Table, {\n    fixed: true,\n    \"data-qa-id\": \"ImportTable\"\n  }, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableCell, {\n    is: \"th\",\n    rowSpan: 2,\n    width: \"x140\"\n  }, t('Import_Type')), /*#__PURE__*/React.createElement(TableCell, {\n    is: \"th\",\n    rowSpan: 2\n  }, t('Last_Updated')), !small && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableCell, {\n    is: \"th\",\n    rowSpan: 2\n  }, t('Last_Status')), /*#__PURE__*/React.createElement(TableCell, {\n    is: \"th\",\n    rowSpan: 2\n  }, t('File')), /*#__PURE__*/React.createElement(TableCell, {\n    is: \"th\",\n    align: \"center\",\n    colSpan: 4,\n    width: \"x320\"\n  }, t('Counters')))), !small && /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableCell, {\n    is: \"th\",\n    align: \"center\"\n  }, t('Users')), /*#__PURE__*/React.createElement(TableCell, {\n    is: \"th\",\n    align: \"center\"\n  }, t('Channels')), /*#__PURE__*/React.createElement(TableCell, {\n    is: \"th\",\n    align: \"center\"\n  }, t('Messages')), /*#__PURE__*/React.createElement(TableCell, {\n    is: \"th\",\n    align: \"center\"\n  }, t('Total')))), /*#__PURE__*/React.createElement(TableBody, null, isLoading && /*#__PURE__*/React.createElement(React.Fragment, null, Array.from({\n    length: 20\n  }, (_, i) => /*#__PURE__*/React.createElement(ImportOperationSummarySkeleton, {\n    key: i,\n    small: small\n  }))), currentOperation.isSuccess && currentOperation.data.valid && /*#__PURE__*/React.createElement(ImportOperationSummary, _extends({}, currentOperation.data, {\n    small: small\n  })), currentOperation.isSuccess && latestOperations.isSuccess && /*#__PURE__*/React.createElement(React.Fragment, null, (_latestOperations$dat = latestOperations.data.filter(_ref4 => {\n    let {\n      _id\n    } = _ref4;\n    return !currentOperation.data.valid || currentOperation.data._id !== _id;\n  })\n  // Forcing valid=false as the current API only accept preparation/progress over currentOperation\n  ) === null || _latestOperations$dat === void 0 ? void 0 : _latestOperations$dat.map(operation => /*#__PURE__*/React.createElement(ImportOperationSummary, _extends({\n    key: operation._id\n  }, operation, {\n    valid: false,\n    small: small\n  }))))))));\n}\nmodule.exportDefault(ImportHistoryPage);","map":{"version":3,"names":["_extends","module","link","default","v","Button","ButtonGroup","Table","TableHead","TableCell","TableRow","TableBody","useMediaQuery","useToastMessageDispatch","useEndpoint","useTranslation","useRouter","useQuery","useMutation","useQueryClient","React","useMemo","ProgressStep","Page","PageHeader","PageScrollableContentWithShadow","ImportOperationSummary","ImportOperationSummarySkeleton","ImportHistoryPage","_latestOperations$dat","queryClient","t","dispatchToastMessage","downloadPendingFiles","downloadPendingAvatars","getCurrentImportOperation","getLatestImportOperations","router","currentOperation","operation","valid","onError","type","message","latestOperations","operations","isLoading","hasAnySuccessfulImport","isSuccess","data","some","_ref","status","DONE","handleNewImportClick","navigate","downloadPendingFilesResult","mutationFn","error","console","onSuccess","_ref2","count","invalidateQueries","downloadPendingAvatarsResult","_ref3","small","createElement","title","primary","disabled","onClick","loading","mutate","fixed","is","rowSpan","width","Fragment","align","colSpan","Array","from","length","_","i","key","filter","_ref4","_id","map","exportDefault"],"sources":["client/views/admin/import/ImportHistoryPage.tsx"],"sourcesContent":["import { Button, ButtonGroup, Table, TableHead, TableCell, TableRow, TableBody } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useEndpoint, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\n\nimport { ProgressStep } from '../../../../app/importer/lib/ImporterProgressStep';\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\nimport ImportOperationSummary from './ImportOperationSummary';\nimport ImportOperationSummarySkeleton from './ImportOperationSummarySkeleton';\n\n// TODO: review inner logic\nfunction ImportHistoryPage() {\n\tconst queryClient = useQueryClient();\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst downloadPendingFiles = useEndpoint('POST', '/v1/downloadPendingFiles');\n\tconst downloadPendingAvatars = useEndpoint('POST', '/v1/downloadPendingAvatars');\n\n\tconst getCurrentImportOperation = useEndpoint('GET', '/v1/getCurrentImportOperation');\n\tconst getLatestImportOperations = useEndpoint('GET', '/v1/getLatestImportOperations');\n\n\tconst router = useRouter();\n\n\tconst currentOperation = useQuery(\n\t\t['ImportHistoryPage', 'currentOperation'],\n\t\tasync () => {\n\t\t\tconst { operation = { valid: false } } = await getCurrentImportOperation();\n\t\t\treturn operation;\n\t\t},\n\t\t{\n\t\t\tonError: () => dispatchToastMessage({ type: 'error', message: t('Failed_To_Load_Import_Operation') }),\n\t\t},\n\t);\n\n\tconst latestOperations = useQuery(\n\t\t['ImportHistoryPage', 'latestOperations'],\n\t\tasync () => {\n\t\t\tconst operations = await getLatestImportOperations();\n\t\t\treturn operations;\n\t\t},\n\t\t{\n\t\t\tonError: () => dispatchToastMessage({ type: 'error', message: t('Failed_To_Load_Import_History') }),\n\t\t},\n\t);\n\n\tconst isLoading = currentOperation.isLoading || latestOperations.isLoading;\n\n\tconst hasAnySuccessfulImport = useMemo(() => {\n\t\treturn latestOperations.isSuccess && latestOperations.data.some(({ status }) => status === ProgressStep.DONE);\n\t}, [latestOperations.isSuccess, latestOperations.data]);\n\n\tconst handleNewImportClick = () => {\n\t\trouter.navigate('/admin/import/new');\n\t};\n\n\tconst downloadPendingFilesResult = useMutation({\n\t\tmutationFn: async () => downloadPendingFiles(),\n\t\tonError: (error) => {\n\t\t\tconsole.error(error);\n\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_To_Download_Files') });\n\t\t},\n\t\tonSuccess: ({ count }) => {\n\t\t\tqueryClient.invalidateQueries(['ImportHistoryPage', 'currentOperation']);\n\t\t\tqueryClient.invalidateQueries(['ImportHistoryPage', 'latestOperations']);\n\t\t\tif (!count) {\n\t\t\t\tdispatchToastMessage({ type: 'info', message: t('No_files_left_to_download') });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'info', message: t('File_Downloads_Started') });\n\t\t\trouter.navigate('/admin/import/progress');\n\t\t},\n\t});\n\n\tconst downloadPendingAvatarsResult = useMutation({\n\t\tmutationFn: async () => downloadPendingAvatars(),\n\t\tonError: (error) => {\n\t\t\tconsole.error(error);\n\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_To_Download_Files') });\n\t\t},\n\t\tonSuccess: ({ count }) => {\n\t\t\tqueryClient.invalidateQueries(['ImportHistoryPage', 'currentOperation']);\n\t\t\tqueryClient.invalidateQueries(['ImportHistoryPage', 'latestOperations']);\n\t\t\tif (!count) {\n\t\t\t\tdispatchToastMessage({ type: 'info', message: t('No_files_left_to_download') });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'info', message: t('File_Downloads_Started') });\n\t\t\trouter.navigate('/admin/import/progress');\n\t\t},\n\t});\n\n\tconst small = useMediaQuery('(max-width: 768px)');\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Import')}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button primary disabled={isLoading} onClick={handleNewImportClick}>\n\t\t\t\t\t\t{t('Import_New_File')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{hasAnySuccessfulImport && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tloading={downloadPendingFilesResult.isLoading}\n\t\t\t\t\t\t\tdisabled={downloadPendingAvatarsResult.isLoading}\n\t\t\t\t\t\t\tonClick={() => downloadPendingFilesResult.mutate()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Download_Pending_Files')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasAnySuccessfulImport && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tloading={downloadPendingAvatarsResult.isLoading}\n\t\t\t\t\t\t\tdisabled={downloadPendingFilesResult.isLoading}\n\t\t\t\t\t\t\tonClick={() => downloadPendingAvatarsResult.mutate()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Download_Pending_Avatars')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageHeader>\n\t\t\t<PageScrollableContentWithShadow>\n\t\t\t\t<Table fixed data-qa-id='ImportTable'>\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell is='th' rowSpan={2} width='x140'>\n\t\t\t\t\t\t\t\t{t('Import_Type')}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell is='th' rowSpan={2}>\n\t\t\t\t\t\t\t\t{t('Last_Updated')}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t{!small && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<TableCell is='th' rowSpan={2}>\n\t\t\t\t\t\t\t\t\t\t{t('Last_Status')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell is='th' rowSpan={2}>\n\t\t\t\t\t\t\t\t\t\t{t('File')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell is='th' align='center' colSpan={4} width='x320'>\n\t\t\t\t\t\t\t\t\t\t{t('Counters')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t{!small && (\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Users')}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Channels')}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Messages')}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Total')}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{Array.from({ length: 20 }, (_, i) => (\n\t\t\t\t\t\t\t\t\t<ImportOperationSummarySkeleton key={i} small={small} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{currentOperation.isSuccess && currentOperation.data.valid && (\n\t\t\t\t\t\t\t<ImportOperationSummary {...currentOperation.data} small={small} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{currentOperation.isSuccess && latestOperations.isSuccess && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{latestOperations.data\n\t\t\t\t\t\t\t\t\t.filter(({ _id }) => !currentOperation.data.valid || currentOperation.data._id !== _id)\n\t\t\t\t\t\t\t\t\t// Forcing valid=false as the current API only accept preparation/progress over currentOperation\n\t\t\t\t\t\t\t\t\t?.map((operation) => (\n\t\t\t\t\t\t\t\t\t\t<ImportOperationSummary key={operation._id} {...operation} valid={false} small={small} />\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t</Page>\n\t);\n}\n\nexport default ImportHistoryPage;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"6cc6e94db3fa5632b9e0f5404b76fe8c8a686903"}
