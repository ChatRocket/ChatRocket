{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/tags/TagEdit.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/omnichannel/tags/TagEdit.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/tags/TagEdit.tsx","inputSourceMap":{"version":3,"file":"client/omnichannel/tags/TagEdit.tsx","sourceRoot":"","sources":["client/omnichannel/tags/TagEdit.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ILivechatDepartment, ILivechatTag, Serialized } from '@rocket.chat/core-typings';\nimport { Field, FieldLabel, FieldRow, FieldError, TextInput, Button, ButtonGroup, FieldGroup, Box } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useRouter, useMethod } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport AutoCompleteDepartmentMultiple from '../../components/AutoCompleteDepartmentMultiple';\nimport {\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarTitle,\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarClose,\n} from '../../components/Contextualbar';\nimport { useRemoveTag } from './useRemoveTag';\n\ntype TagEditPayload = {\n\tname: string;\n\tdescription: string;\n\tdepartments: { label: string; value: string }[];\n};\n\ntype TagEditProps = {\n\ttagData?: ILivechatTag;\n\tcurrentDepartments?: Serialized<ILivechatDepartment>[];\n};\n\nconst TagEdit = ({ tagData, currentDepartments }: TagEditProps) => {\n\tconst { t } = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\tconst handleDeleteTag = useRemoveTag();\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst saveTag = useMethod('livechat:saveTag');\n\n\tconst { _id, name, description } = tagData || {};\n\n\tconst {\n\t\tcontrol,\n\t\tformState: { isDirty, errors },\n\t\thandleSubmit,\n\t} = useForm<TagEditPayload>({\n\t\tmode: 'onBlur',\n\t\tvalues: {\n\t\t\tname: name || '',\n\t\t\tdescription: description || '',\n\t\t\tdepartments: currentDepartments?.map((dep) => ({ label: dep.name, value: dep._id })) || [],\n\t\t},\n\t});\n\n\tconst handleSave = useMutableCallback(async ({ name, description, departments }: TagEditPayload) => {\n\t\tconst departmentsId = departments?.map((dep) => dep.value) || [''];\n\n\t\ttry {\n\t\t\tawait saveTag(_id as unknown as string, { name, description }, departmentsId);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-tags']);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t} finally {\n\t\t\trouter.navigate('/omnichannel/tags');\n\t\t}\n\t});\n\n\tconst formId = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst descriptionField = useUniqueId();\n\tconst departmentsField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{_id ? t('Edit_Tag') : t('New_Tag')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/tags')}></ContextualbarClose>\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box id={formId} is='form' autoComplete='off' onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Name') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput {...field} error={errors?.name?.message} aria-describedby={`${nameField}-error`} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.name?.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller name='description' control={control} render={({ field }) => <TextInput id={descriptionField} {...field} />} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={departmentsField}>{t('Departments')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='departments'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <AutoCompleteDepartmentMultiple id={departmentsField} showArchived {...field} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/tags')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} disabled={!isDirty} type='submit' primary>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{_id && (\n\t\t\t\t\t<Box mbs={8}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button icon='trash' danger onClick={() => handleDeleteTag(_id)}>\n\t\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default TagEdit;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"production","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/tags/TagEdit.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/omnichannel/tags/TagEdit.tsx","inputSourceMap":{"version":3,"file":"client/omnichannel/tags/TagEdit.tsx","sourceRoot":"","sources":["client/omnichannel/tags/TagEdit.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ILivechatDepartment, ILivechatTag, Serialized } from '@rocket.chat/core-typings';\nimport { Field, FieldLabel, FieldRow, FieldError, TextInput, Button, ButtonGroup, FieldGroup, Box } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useRouter, useMethod } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport AutoCompleteDepartmentMultiple from '../../components/AutoCompleteDepartmentMultiple';\nimport {\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarTitle,\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarClose,\n} from '../../components/Contextualbar';\nimport { useRemoveTag } from './useRemoveTag';\n\ntype TagEditPayload = {\n\tname: string;\n\tdescription: string;\n\tdepartments: { label: string; value: string }[];\n};\n\ntype TagEditProps = {\n\ttagData?: ILivechatTag;\n\tcurrentDepartments?: Serialized<ILivechatDepartment>[];\n};\n\nconst TagEdit = ({ tagData, currentDepartments }: TagEditProps) => {\n\tconst { t } = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\tconst handleDeleteTag = useRemoveTag();\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst saveTag = useMethod('livechat:saveTag');\n\n\tconst { _id, name, description } = tagData || {};\n\n\tconst {\n\t\tcontrol,\n\t\tformState: { isDirty, errors },\n\t\thandleSubmit,\n\t} = useForm<TagEditPayload>({\n\t\tmode: 'onBlur',\n\t\tvalues: {\n\t\t\tname: name || '',\n\t\t\tdescription: description || '',\n\t\t\tdepartments: currentDepartments?.map((dep) => ({ label: dep.name, value: dep._id })) || [],\n\t\t},\n\t});\n\n\tconst handleSave = useMutableCallback(async ({ name, description, departments }: TagEditPayload) => {\n\t\tconst departmentsId = departments?.map((dep) => dep.value) || [''];\n\n\t\ttry {\n\t\t\tawait saveTag(_id as unknown as string, { name, description }, departmentsId);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-tags']);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t} finally {\n\t\t\trouter.navigate('/omnichannel/tags');\n\t\t}\n\t});\n\n\tconst formId = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst descriptionField = useUniqueId();\n\tconst departmentsField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{_id ? t('Edit_Tag') : t('New_Tag')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/tags')}></ContextualbarClose>\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box id={formId} is='form' autoComplete='off' onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Name') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput {...field} error={errors?.name?.message} aria-describedby={`${nameField}-error`} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.name?.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller name='description' control={control} render={({ field }) => <TextInput id={descriptionField} {...field} />} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={departmentsField}>{t('Departments')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='departments'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <AutoCompleteDepartmentMultiple id={departmentsField} showArchived {...field} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/tags')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} disabled={!isDirty} type='submit' primary>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{_id && (\n\t\t\t\t\t<Box mbs={8}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button icon='trash' danger onClick={() => handleDeleteTag(_id)}>\n\t\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default TagEdit;\n"]}}},"code":"var _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\nvar _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 1);\nvar Field, FieldLabel, FieldRow, FieldError, TextInput, Button, ButtonGroup, FieldGroup, Box;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Field: function (v) {\n    Field = v;\n  },\n  FieldLabel: function (v) {\n    FieldLabel = v;\n  },\n  FieldRow: function (v) {\n    FieldRow = v;\n  },\n  FieldError: function (v) {\n    FieldError = v;\n  },\n  TextInput: function (v) {\n    TextInput = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  FieldGroup: function (v) {\n    FieldGroup = v;\n  },\n  Box: function (v) {\n    Box = v;\n  }\n}, 0);\nvar useMutableCallback, useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback: function (v) {\n    useMutableCallback = v;\n  },\n  useUniqueId: function (v) {\n    useUniqueId = v;\n  }\n}, 1);\nvar useToastMessageDispatch, useRouter, useMethod;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  useRouter: function (v) {\n    useRouter = v;\n  },\n  useMethod: function (v) {\n    useMethod = v;\n  }\n}, 2);\nvar useQueryClient;\nmodule.link(\"@tanstack/react-query\", {\n  useQueryClient: function (v) {\n    useQueryClient = v;\n  }\n}, 3);\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 4);\nvar useForm, Controller;\nmodule.link(\"react-hook-form\", {\n  useForm: function (v) {\n    useForm = v;\n  },\n  Controller: function (v) {\n    Controller = v;\n  }\n}, 5);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 6);\nvar AutoCompleteDepartmentMultiple;\nmodule.link(\"../../components/AutoCompleteDepartmentMultiple\", {\n  \"default\": function (v) {\n    AutoCompleteDepartmentMultiple = v;\n  }\n}, 7);\nvar ContextualbarScrollableContent, ContextualbarFooter, ContextualbarTitle, Contextualbar, ContextualbarHeader, ContextualbarClose;\nmodule.link(\"../../components/Contextualbar\", {\n  ContextualbarScrollableContent: function (v) {\n    ContextualbarScrollableContent = v;\n  },\n  ContextualbarFooter: function (v) {\n    ContextualbarFooter = v;\n  },\n  ContextualbarTitle: function (v) {\n    ContextualbarTitle = v;\n  },\n  Contextualbar: function (v) {\n    Contextualbar = v;\n  },\n  ContextualbarHeader: function (v) {\n    ContextualbarHeader = v;\n  },\n  ContextualbarClose: function (v) {\n    ContextualbarClose = v;\n  }\n}, 8);\nvar useRemoveTag;\nmodule.link(\"./useRemoveTag\", {\n  useRemoveTag: function (v) {\n    useRemoveTag = v;\n  }\n}, 9);\nvar TagEdit = function (_ref) {\n  var _errors$name2;\n  var tagData = _ref.tagData,\n    currentDepartments = _ref.currentDepartments;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var router = useRouter();\n  var queryClient = useQueryClient();\n  var handleDeleteTag = useRemoveTag();\n  var dispatchToastMessage = useToastMessageDispatch();\n  var saveTag = useMethod('livechat:saveTag');\n  var _ref2 = tagData || {},\n    _id = _ref2._id,\n    name = _ref2.name,\n    description = _ref2.description;\n  var _useForm = useForm({\n      mode: 'onBlur',\n      values: {\n        name: name || '',\n        description: description || '',\n        departments: (currentDepartments === null || currentDepartments === void 0 ? void 0 : currentDepartments.map(function (dep) {\n          return {\n            label: dep.name,\n            value: dep._id\n          };\n        })) || []\n      }\n    }),\n    control = _useForm.control,\n    _useForm$formState = _useForm.formState,\n    isDirty = _useForm$formState.isDirty,\n    errors = _useForm$formState.errors,\n    handleSubmit = _useForm.handleSubmit;\n  var handleSave = useMutableCallback(function () {\n    function _callee(_ref3) {\n      var name, description, departments, departmentsId;\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              name = _ref3.name, description = _ref3.description, departments = _ref3.departments;\n              departmentsId = (departments === null || departments === void 0 ? void 0 : departments.map(function (dep) {\n                return dep.value;\n              })) || [''];\n              _context.prev = 2;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(saveTag(_id, {\n                name: name,\n                description: description\n              }, departmentsId));\n            case 5:\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Saved')\n              });\n              queryClient.invalidateQueries(['livechat-tags']);\n              _context.next = 12;\n              break;\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context.t0\n              });\n            case 12:\n              _context.prev = 12;\n              router.navigate('/omnichannel/tags');\n              return _context.finish(12);\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, [[2, 9, 12, 15]], Promise);\n    }\n    return _callee;\n  }());\n  var formId = useUniqueId();\n  var nameField = useUniqueId();\n  var descriptionField = useUniqueId();\n  var departmentsField = useUniqueId();\n  return /*#__PURE__*/React.createElement(Contextualbar, null, /*#__PURE__*/React.createElement(ContextualbarHeader, null, /*#__PURE__*/React.createElement(ContextualbarTitle, null, _id ? t('Edit_Tag') : t('New_Tag')), /*#__PURE__*/React.createElement(ContextualbarClose, {\n    onClick: function () {\n      return router.navigate('/omnichannel/tags');\n    }\n  })), /*#__PURE__*/React.createElement(ContextualbarScrollableContent, null, /*#__PURE__*/React.createElement(Box, {\n    id: formId,\n    is: \"form\",\n    autoComplete: \"off\",\n    onSubmit: handleSubmit(handleSave)\n  }, /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: nameField,\n    required: true\n  }, t('Name')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"name\",\n    control: control,\n    rules: {\n      required: t('Required_field', {\n        field: t('Name')\n      })\n    },\n    render: function (_ref4) {\n      var _errors$name;\n      var field = _ref4.field;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({}, field, {\n        error: errors === null || errors === void 0 ? void 0 : (_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.message,\n        \"aria-describedby\": nameField + \"-error\"\n      }));\n    }\n  })), (errors === null || errors === void 0 ? void 0 : errors.name) && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: nameField + \"-error\"\n  }, errors === null || errors === void 0 ? void 0 : (_errors$name2 = errors.name) === null || _errors$name2 === void 0 ? void 0 : _errors$name2.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: descriptionField\n  }, t('Description')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"description\",\n    control: control,\n    render: function (_ref5) {\n      var field = _ref5.field;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({\n        id: descriptionField\n      }, field));\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: departmentsField\n  }, t('Departments')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"departments\",\n    control: control,\n    render: function (_ref6) {\n      var field = _ref6.field;\n      return /*#__PURE__*/React.createElement(AutoCompleteDepartmentMultiple, _extends({\n        id: departmentsField,\n        showArchived: true\n      }, field));\n    }\n  })))))), /*#__PURE__*/React.createElement(ContextualbarFooter, null, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: function () {\n      return router.navigate('/omnichannel/tags');\n    }\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    form: formId,\n    disabled: !isDirty,\n    type: \"submit\",\n    primary: true\n  }, t('Save'))), _id && /*#__PURE__*/React.createElement(Box, {\n    mbs: 8\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    icon: \"trash\",\n    danger: true,\n    onClick: function () {\n      return handleDeleteTag(_id);\n    }\n  }, t('Delete'))))));\n};\nmodule.exportDefault(TagEdit);","map":{"version":3,"names":["_extends","module","link","default","v","_regeneratorRuntime","Field","FieldLabel","FieldRow","FieldError","TextInput","Button","ButtonGroup","FieldGroup","Box","useMutableCallback","useUniqueId","useToastMessageDispatch","useRouter","useMethod","useQueryClient","React","useForm","Controller","useTranslation","AutoCompleteDepartmentMultiple","ContextualbarScrollableContent","ContextualbarFooter","ContextualbarTitle","Contextualbar","ContextualbarHeader","ContextualbarClose","useRemoveTag","TagEdit","_ref","_errors$name2","tagData","currentDepartments","_useTranslation","t","router","queryClient","handleDeleteTag","dispatchToastMessage","saveTag","_ref2","_id","name","description","_useForm","mode","values","departments","map","dep","label","value","control","_useForm$formState","formState","isDirty","errors","handleSubmit","handleSave","_callee","_ref3","departmentsId","async","_callee$","_context","prev","next","awrap","type","message","invalidateQueries","t0","navigate","finish","stop","Promise","formId","nameField","descriptionField","departmentsField","createElement","onClick","id","is","autoComplete","onSubmit","htmlFor","required","rules","field","render","_ref4","_errors$name","error","_ref5","_ref6","showArchived","stretch","form","disabled","primary","mbs","icon","danger","exportDefault"],"sources":["client/omnichannel/tags/TagEdit.tsx"],"sourcesContent":["import type { ILivechatDepartment, ILivechatTag, Serialized } from '@rocket.chat/core-typings';\nimport { Field, FieldLabel, FieldRow, FieldError, TextInput, Button, ButtonGroup, FieldGroup, Box } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useRouter, useMethod } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport AutoCompleteDepartmentMultiple from '../../components/AutoCompleteDepartmentMultiple';\nimport {\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarTitle,\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarClose,\n} from '../../components/Contextualbar';\nimport { useRemoveTag } from './useRemoveTag';\n\ntype TagEditPayload = {\n\tname: string;\n\tdescription: string;\n\tdepartments: { label: string; value: string }[];\n};\n\ntype TagEditProps = {\n\ttagData?: ILivechatTag;\n\tcurrentDepartments?: Serialized<ILivechatDepartment>[];\n};\n\nconst TagEdit = ({ tagData, currentDepartments }: TagEditProps) => {\n\tconst { t } = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\tconst handleDeleteTag = useRemoveTag();\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst saveTag = useMethod('livechat:saveTag');\n\n\tconst { _id, name, description } = tagData || {};\n\n\tconst {\n\t\tcontrol,\n\t\tformState: { isDirty, errors },\n\t\thandleSubmit,\n\t} = useForm<TagEditPayload>({\n\t\tmode: 'onBlur',\n\t\tvalues: {\n\t\t\tname: name || '',\n\t\t\tdescription: description || '',\n\t\t\tdepartments: currentDepartments?.map((dep) => ({ label: dep.name, value: dep._id })) || [],\n\t\t},\n\t});\n\n\tconst handleSave = useMutableCallback(async ({ name, description, departments }: TagEditPayload) => {\n\t\tconst departmentsId = departments?.map((dep) => dep.value) || [''];\n\n\t\ttry {\n\t\t\tawait saveTag(_id as unknown as string, { name, description }, departmentsId);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-tags']);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t} finally {\n\t\t\trouter.navigate('/omnichannel/tags');\n\t\t}\n\t});\n\n\tconst formId = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst descriptionField = useUniqueId();\n\tconst departmentsField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{_id ? t('Edit_Tag') : t('New_Tag')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/tags')}></ContextualbarClose>\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box id={formId} is='form' autoComplete='off' onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Name') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput {...field} error={errors?.name?.message} aria-describedby={`${nameField}-error`} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.name?.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller name='description' control={control} render={({ field }) => <TextInput id={descriptionField} {...field} />} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={departmentsField}>{t('Departments')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='departments'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <AutoCompleteDepartmentMultiple id={departmentsField} showArchived {...field} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/tags')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} disabled={!isDirty} type='submit' primary>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{_id && (\n\t\t\t\t\t<Box mbs={8}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button icon='trash' danger onClick={() => handleDeleteTag(_id)}>\n\t\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default TagEdit;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"659b36e5e2d4e948f4dcce4b91918f4d38f4d69d"}
