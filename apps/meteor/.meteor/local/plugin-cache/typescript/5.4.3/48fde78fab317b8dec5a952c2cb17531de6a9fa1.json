{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/cannedResponses/components/CannedResponsesComposer/CannedResponsesComposer.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/omnichannel/cannedResponses/components/CannedResponsesComposer/CannedResponsesComposer.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/cannedResponses/components/CannedResponsesComposer/CannedResponsesComposer.tsx","inputSourceMap":{"version":3,"file":"client/omnichannel/cannedResponses/components/CannedResponsesComposer/CannedResponsesComposer.tsx","sourceRoot":"","sources":["client/omnichannel/cannedResponses/components/CannedResponsesComposer/CannedResponsesComposer.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Button, PositionAnimated, Tile } from '@rocket.chat/fuselage';\nimport {\n\tMessageComposerAction,\n\tMessageComposerToolbarActions,\n\tMessageComposer,\n\tMessageComposerInput,\n\tMessageComposerToolbar,\n\tMessageComposerActionsDivider,\n} from '@rocket.chat/ui-composer';\nimport { useUserPreference, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps } from 'react';\nimport React, { memo, useCallback, useRef, useState } from 'react';\n\nimport { Backdrop } from '../../../../components/Backdrop';\nimport { useEmojiPicker } from '../../../../contexts/EmojiPickerContext';\nimport InsertPlaceholderDropdown from './InsertPlaceholderDropdown';\n\nconst CannedResponsesComposer = ({ onChange, ...props }: ComponentProps<typeof MessageComposerInput>) => {\n\tconst t = useTranslation();\n\tconst useEmojisPreference = useUserPreference('useEmojis');\n\n\tconst textAreaRef = useRef<HTMLTextAreaElement>(null);\n\tconst ref = useRef<HTMLButtonElement>(null);\n\n\tconst [visible, setVisible] = useState(false);\n\n\tconst { open: openEmojiPicker } = useEmojiPicker();\n\n\tconst useMarkdownSyntax = (char: '*' | '_' | '~' | '[]()'): (() => void) =>\n\t\tuseCallback(() => {\n\t\t\tif (textAreaRef?.current) {\n\t\t\t\tconst text = textAreaRef.current.value;\n\t\t\t\tconst startPos = textAreaRef.current.selectionStart;\n\t\t\t\tconst endPos = textAreaRef.current.selectionEnd;\n\n\t\t\t\tif (char === '[]()') {\n\t\t\t\t\tif (startPos !== endPos) {\n\t\t\t\t\t\ttextAreaRef.current.value = `${text.slice(0, startPos)}[${text.slice(startPos, endPos)}]()${text.slice(endPos)}`;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttextAreaRef.current.value = `${text.slice(0, startPos)}${char}${text.slice(startPos, endPos)}${char}${text.slice(endPos)}`;\n\t\t\t\t}\n\t\t\t\ttextAreaRef.current.focus();\n\n\t\t\t\tif (char === '[]()') {\n\t\t\t\t\tif (startPos === endPos) {\n\t\t\t\t\t\ttextAreaRef.current.setSelectionRange(startPos, endPos);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttextAreaRef.current.setSelectionRange(endPos + 3, endPos + 3);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttextAreaRef.current.setSelectionRange(startPos + 1, endPos + 1);\n\t\t\t\t}\n\n\t\t\t\tonChange?.(textAreaRef.current.value as any);\n\t\t\t}\n\t\t}, [char]);\n\n\tconst onClickEmoji = (emoji: string): void => {\n\t\tif (textAreaRef?.current) {\n\t\t\tconst text = textAreaRef.current.value;\n\t\t\tconst startPos = textAreaRef.current.selectionStart;\n\t\t\tconst emojiValue = `:${emoji}: `;\n\n\t\t\ttextAreaRef.current.value = text.slice(0, startPos) + emojiValue + text.slice(startPos);\n\n\t\t\ttextAreaRef.current.focus();\n\t\t\ttextAreaRef.current.setSelectionRange(startPos + emojiValue.length, startPos + emojiValue.length);\n\n\t\t\tonChange?.(textAreaRef.current.value as any);\n\t\t}\n\t};\n\n\tconst handleOpenEmojiPicker = (): void => {\n\t\tif (!useEmojisPreference) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!textAreaRef?.current) {\n\t\t\tthrow new Error('Missing textAreaRef');\n\t\t}\n\n\t\topenEmojiPicker(textAreaRef.current, (emoji: string) => onClickEmoji(emoji));\n\t};\n\n\tconst openPlaceholderSelect = (): void => {\n\t\ttextAreaRef?.current && textAreaRef.current.focus();\n\t\tsetVisible(!visible);\n\t};\n\n\treturn (\n\t\t<MessageComposer>\n\t\t\t<MessageComposerInput ref={textAreaRef} rows={10} onChange={onChange} {...props} />\n\t\t\t<MessageComposerToolbar>\n\t\t\t\t<MessageComposerToolbarActions aria-label={t('Message_composer_toolbox_primary_actions')}>\n\t\t\t\t\t<MessageComposerAction icon='emoji' disabled={!useEmojisPreference} onClick={handleOpenEmojiPicker} title={t('Emoji')} />\n\t\t\t\t\t<MessageComposerActionsDivider />\n\t\t\t\t\t<MessageComposerAction icon='bold' onClick={useMarkdownSyntax('*')} title={t('Bold')} />\n\t\t\t\t\t<MessageComposerAction icon='italic' onClick={useMarkdownSyntax('_')} title={t('Italic')} />\n\t\t\t\t\t<MessageComposerAction icon='strike' onClick={useMarkdownSyntax('~')} title={t('Strike')} />\n\t\t\t\t\t<MessageComposerAction icon='link' onClick={useMarkdownSyntax('[]()')} title={t('Link')} />\n\t\t\t\t\t<MessageComposerActionsDivider />\n\t\t\t\t\t<Button ref={ref} small onClick={openPlaceholderSelect}>\n\t\t\t\t\t\t{t('Insert_Placeholder')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Backdrop\n\t\t\t\t\t\tdisplay={visible ? 'block' : 'none'}\n\t\t\t\t\t\tonClick={(): void => {\n\t\t\t\t\t\t\ttextAreaRef?.current && textAreaRef.current.focus();\n\t\t\t\t\t\t\tsetVisible(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<PositionAnimated visible={visible ? 'visible' : 'hidden'} anchor={ref}>\n\t\t\t\t\t\t<Tile elevation='1' w='224px'>\n\t\t\t\t\t\t\t<InsertPlaceholderDropdown onChange={onChange} textAreaRef={textAreaRef} setVisible={setVisible} />\n\t\t\t\t\t\t</Tile>\n\t\t\t\t\t</PositionAnimated>\n\t\t\t\t</MessageComposerToolbarActions>\n\t\t\t</MessageComposerToolbar>\n\t\t</MessageComposer>\n\t);\n};\n\nexport default memo(CannedResponsesComposer);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/cannedResponses/components/CannedResponsesComposer/CannedResponsesComposer.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/omnichannel/cannedResponses/components/CannedResponsesComposer/CannedResponsesComposer.tsx","inputSourceMap":{"version":3,"file":"client/omnichannel/cannedResponses/components/CannedResponsesComposer/CannedResponsesComposer.tsx","sourceRoot":"","sources":["client/omnichannel/cannedResponses/components/CannedResponsesComposer/CannedResponsesComposer.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Button, PositionAnimated, Tile } from '@rocket.chat/fuselage';\nimport {\n\tMessageComposerAction,\n\tMessageComposerToolbarActions,\n\tMessageComposer,\n\tMessageComposerInput,\n\tMessageComposerToolbar,\n\tMessageComposerActionsDivider,\n} from '@rocket.chat/ui-composer';\nimport { useUserPreference, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps } from 'react';\nimport React, { memo, useCallback, useRef, useState } from 'react';\n\nimport { Backdrop } from '../../../../components/Backdrop';\nimport { useEmojiPicker } from '../../../../contexts/EmojiPickerContext';\nimport InsertPlaceholderDropdown from './InsertPlaceholderDropdown';\n\nconst CannedResponsesComposer = ({ onChange, ...props }: ComponentProps<typeof MessageComposerInput>) => {\n\tconst t = useTranslation();\n\tconst useEmojisPreference = useUserPreference('useEmojis');\n\n\tconst textAreaRef = useRef<HTMLTextAreaElement>(null);\n\tconst ref = useRef<HTMLButtonElement>(null);\n\n\tconst [visible, setVisible] = useState(false);\n\n\tconst { open: openEmojiPicker } = useEmojiPicker();\n\n\tconst useMarkdownSyntax = (char: '*' | '_' | '~' | '[]()'): (() => void) =>\n\t\tuseCallback(() => {\n\t\t\tif (textAreaRef?.current) {\n\t\t\t\tconst text = textAreaRef.current.value;\n\t\t\t\tconst startPos = textAreaRef.current.selectionStart;\n\t\t\t\tconst endPos = textAreaRef.current.selectionEnd;\n\n\t\t\t\tif (char === '[]()') {\n\t\t\t\t\tif (startPos !== endPos) {\n\t\t\t\t\t\ttextAreaRef.current.value = `${text.slice(0, startPos)}[${text.slice(startPos, endPos)}]()${text.slice(endPos)}`;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttextAreaRef.current.value = `${text.slice(0, startPos)}${char}${text.slice(startPos, endPos)}${char}${text.slice(endPos)}`;\n\t\t\t\t}\n\t\t\t\ttextAreaRef.current.focus();\n\n\t\t\t\tif (char === '[]()') {\n\t\t\t\t\tif (startPos === endPos) {\n\t\t\t\t\t\ttextAreaRef.current.setSelectionRange(startPos, endPos);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttextAreaRef.current.setSelectionRange(endPos + 3, endPos + 3);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttextAreaRef.current.setSelectionRange(startPos + 1, endPos + 1);\n\t\t\t\t}\n\n\t\t\t\tonChange?.(textAreaRef.current.value as any);\n\t\t\t}\n\t\t}, [char]);\n\n\tconst onClickEmoji = (emoji: string): void => {\n\t\tif (textAreaRef?.current) {\n\t\t\tconst text = textAreaRef.current.value;\n\t\t\tconst startPos = textAreaRef.current.selectionStart;\n\t\t\tconst emojiValue = `:${emoji}: `;\n\n\t\t\ttextAreaRef.current.value = text.slice(0, startPos) + emojiValue + text.slice(startPos);\n\n\t\t\ttextAreaRef.current.focus();\n\t\t\ttextAreaRef.current.setSelectionRange(startPos + emojiValue.length, startPos + emojiValue.length);\n\n\t\t\tonChange?.(textAreaRef.current.value as any);\n\t\t}\n\t};\n\n\tconst handleOpenEmojiPicker = (): void => {\n\t\tif (!useEmojisPreference) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!textAreaRef?.current) {\n\t\t\tthrow new Error('Missing textAreaRef');\n\t\t}\n\n\t\topenEmojiPicker(textAreaRef.current, (emoji: string) => onClickEmoji(emoji));\n\t};\n\n\tconst openPlaceholderSelect = (): void => {\n\t\ttextAreaRef?.current && textAreaRef.current.focus();\n\t\tsetVisible(!visible);\n\t};\n\n\treturn (\n\t\t<MessageComposer>\n\t\t\t<MessageComposerInput ref={textAreaRef} rows={10} onChange={onChange} {...props} />\n\t\t\t<MessageComposerToolbar>\n\t\t\t\t<MessageComposerToolbarActions aria-label={t('Message_composer_toolbox_primary_actions')}>\n\t\t\t\t\t<MessageComposerAction icon='emoji' disabled={!useEmojisPreference} onClick={handleOpenEmojiPicker} title={t('Emoji')} />\n\t\t\t\t\t<MessageComposerActionsDivider />\n\t\t\t\t\t<MessageComposerAction icon='bold' onClick={useMarkdownSyntax('*')} title={t('Bold')} />\n\t\t\t\t\t<MessageComposerAction icon='italic' onClick={useMarkdownSyntax('_')} title={t('Italic')} />\n\t\t\t\t\t<MessageComposerAction icon='strike' onClick={useMarkdownSyntax('~')} title={t('Strike')} />\n\t\t\t\t\t<MessageComposerAction icon='link' onClick={useMarkdownSyntax('[]()')} title={t('Link')} />\n\t\t\t\t\t<MessageComposerActionsDivider />\n\t\t\t\t\t<Button ref={ref} small onClick={openPlaceholderSelect}>\n\t\t\t\t\t\t{t('Insert_Placeholder')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Backdrop\n\t\t\t\t\t\tdisplay={visible ? 'block' : 'none'}\n\t\t\t\t\t\tonClick={(): void => {\n\t\t\t\t\t\t\ttextAreaRef?.current && textAreaRef.current.focus();\n\t\t\t\t\t\t\tsetVisible(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<PositionAnimated visible={visible ? 'visible' : 'hidden'} anchor={ref}>\n\t\t\t\t\t\t<Tile elevation='1' w='224px'>\n\t\t\t\t\t\t\t<InsertPlaceholderDropdown onChange={onChange} textAreaRef={textAreaRef} setVisible={setVisible} />\n\t\t\t\t\t\t</Tile>\n\t\t\t\t\t</PositionAnimated>\n\t\t\t\t</MessageComposerToolbarActions>\n\t\t\t</MessageComposerToolbar>\n\t\t</MessageComposer>\n\t);\n};\n\nexport default memo(CannedResponsesComposer);\n"]}}},"code":"const _excluded = [\"onChange\"];\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 1);\nlet Button, PositionAnimated, Tile;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Button(v) {\n    Button = v;\n  },\n  PositionAnimated(v) {\n    PositionAnimated = v;\n  },\n  Tile(v) {\n    Tile = v;\n  }\n}, 0);\nlet MessageComposerAction, MessageComposerToolbarActions, MessageComposer, MessageComposerInput, MessageComposerToolbar, MessageComposerActionsDivider;\nmodule.link(\"@rocket.chat/ui-composer\", {\n  MessageComposerAction(v) {\n    MessageComposerAction = v;\n  },\n  MessageComposerToolbarActions(v) {\n    MessageComposerToolbarActions = v;\n  },\n  MessageComposer(v) {\n    MessageComposer = v;\n  },\n  MessageComposerInput(v) {\n    MessageComposerInput = v;\n  },\n  MessageComposerToolbar(v) {\n    MessageComposerToolbar = v;\n  },\n  MessageComposerActionsDivider(v) {\n    MessageComposerActionsDivider = v;\n  }\n}, 1);\nlet useUserPreference, useTranslation;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useUserPreference(v) {\n    useUserPreference = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 2);\nlet React, memo, useCallback, useRef, useState;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  memo(v) {\n    memo = v;\n  },\n  useCallback(v) {\n    useCallback = v;\n  },\n  useRef(v) {\n    useRef = v;\n  },\n  useState(v) {\n    useState = v;\n  }\n}, 3);\nlet Backdrop;\nmodule.link(\"../../../../components/Backdrop\", {\n  Backdrop(v) {\n    Backdrop = v;\n  }\n}, 4);\nlet useEmojiPicker;\nmodule.link(\"../../../../contexts/EmojiPickerContext\", {\n  useEmojiPicker(v) {\n    useEmojiPicker = v;\n  }\n}, 5);\nlet InsertPlaceholderDropdown;\nmodule.link(\"./InsertPlaceholderDropdown\", {\n  default(v) {\n    InsertPlaceholderDropdown = v;\n  }\n}, 6);\nconst CannedResponsesComposer = _ref => {\n  let {\n      onChange\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const t = useTranslation();\n  const useEmojisPreference = useUserPreference('useEmojis');\n  const textAreaRef = useRef(null);\n  const ref = useRef(null);\n  const [visible, setVisible] = useState(false);\n  const {\n    open: openEmojiPicker\n  } = useEmojiPicker();\n  const useMarkdownSyntax = char => useCallback(() => {\n    if (textAreaRef !== null && textAreaRef !== void 0 && textAreaRef.current) {\n      const text = textAreaRef.current.value;\n      const startPos = textAreaRef.current.selectionStart;\n      const endPos = textAreaRef.current.selectionEnd;\n      if (char === '[]()') {\n        if (startPos !== endPos) {\n          textAreaRef.current.value = \"\".concat(text.slice(0, startPos), \"[\").concat(text.slice(startPos, endPos), \"]()\").concat(text.slice(endPos));\n        }\n      } else {\n        textAreaRef.current.value = \"\".concat(text.slice(0, startPos)).concat(char).concat(text.slice(startPos, endPos)).concat(char).concat(text.slice(endPos));\n      }\n      textAreaRef.current.focus();\n      if (char === '[]()') {\n        if (startPos === endPos) {\n          textAreaRef.current.setSelectionRange(startPos, endPos);\n        } else {\n          textAreaRef.current.setSelectionRange(endPos + 3, endPos + 3);\n        }\n      } else {\n        textAreaRef.current.setSelectionRange(startPos + 1, endPos + 1);\n      }\n      onChange === null || onChange === void 0 ? void 0 : onChange(textAreaRef.current.value);\n    }\n  }, [char]);\n  const onClickEmoji = emoji => {\n    if (textAreaRef !== null && textAreaRef !== void 0 && textAreaRef.current) {\n      const text = textAreaRef.current.value;\n      const startPos = textAreaRef.current.selectionStart;\n      const emojiValue = \":\".concat(emoji, \": \");\n      textAreaRef.current.value = text.slice(0, startPos) + emojiValue + text.slice(startPos);\n      textAreaRef.current.focus();\n      textAreaRef.current.setSelectionRange(startPos + emojiValue.length, startPos + emojiValue.length);\n      onChange === null || onChange === void 0 ? void 0 : onChange(textAreaRef.current.value);\n    }\n  };\n  const handleOpenEmojiPicker = () => {\n    if (!useEmojisPreference) {\n      return;\n    }\n    if (!(textAreaRef !== null && textAreaRef !== void 0 && textAreaRef.current)) {\n      throw new Error('Missing textAreaRef');\n    }\n    openEmojiPicker(textAreaRef.current, emoji => onClickEmoji(emoji));\n  };\n  const openPlaceholderSelect = () => {\n    (textAreaRef === null || textAreaRef === void 0 ? void 0 : textAreaRef.current) && textAreaRef.current.focus();\n    setVisible(!visible);\n  };\n  return /*#__PURE__*/React.createElement(MessageComposer, null, /*#__PURE__*/React.createElement(MessageComposerInput, _extends({\n    ref: textAreaRef,\n    rows: 10,\n    onChange: onChange\n  }, props)), /*#__PURE__*/React.createElement(MessageComposerToolbar, null, /*#__PURE__*/React.createElement(MessageComposerToolbarActions, {\n    \"aria-label\": t('Message_composer_toolbox_primary_actions')\n  }, /*#__PURE__*/React.createElement(MessageComposerAction, {\n    icon: \"emoji\",\n    disabled: !useEmojisPreference,\n    onClick: handleOpenEmojiPicker,\n    title: t('Emoji')\n  }), /*#__PURE__*/React.createElement(MessageComposerActionsDivider, null), /*#__PURE__*/React.createElement(MessageComposerAction, {\n    icon: \"bold\",\n    onClick: useMarkdownSyntax('*'),\n    title: t('Bold')\n  }), /*#__PURE__*/React.createElement(MessageComposerAction, {\n    icon: \"italic\",\n    onClick: useMarkdownSyntax('_'),\n    title: t('Italic')\n  }), /*#__PURE__*/React.createElement(MessageComposerAction, {\n    icon: \"strike\",\n    onClick: useMarkdownSyntax('~'),\n    title: t('Strike')\n  }), /*#__PURE__*/React.createElement(MessageComposerAction, {\n    icon: \"link\",\n    onClick: useMarkdownSyntax('[]()'),\n    title: t('Link')\n  }), /*#__PURE__*/React.createElement(MessageComposerActionsDivider, null), /*#__PURE__*/React.createElement(Button, {\n    ref: ref,\n    small: true,\n    onClick: openPlaceholderSelect\n  }, t('Insert_Placeholder')), /*#__PURE__*/React.createElement(Backdrop, {\n    display: visible ? 'block' : 'none',\n    onClick: () => {\n      (textAreaRef === null || textAreaRef === void 0 ? void 0 : textAreaRef.current) && textAreaRef.current.focus();\n      setVisible(false);\n    }\n  }), /*#__PURE__*/React.createElement(PositionAnimated, {\n    visible: visible ? 'visible' : 'hidden',\n    anchor: ref\n  }, /*#__PURE__*/React.createElement(Tile, {\n    elevation: \"1\",\n    w: \"224px\"\n  }, /*#__PURE__*/React.createElement(InsertPlaceholderDropdown, {\n    onChange: onChange,\n    textAreaRef: textAreaRef,\n    setVisible: setVisible\n  }))))));\n};\nmodule.exportDefault( /*#__PURE__*/memo(CannedResponsesComposer));","map":{"version":3,"names":["_extends","module","link","default","v","_objectWithoutProperties","Button","PositionAnimated","Tile","MessageComposerAction","MessageComposerToolbarActions","MessageComposer","MessageComposerInput","MessageComposerToolbar","MessageComposerActionsDivider","useUserPreference","useTranslation","React","memo","useCallback","useRef","useState","Backdrop","useEmojiPicker","InsertPlaceholderDropdown","CannedResponsesComposer","_ref","onChange","props","_excluded","t","useEmojisPreference","textAreaRef","ref","visible","setVisible","open","openEmojiPicker","useMarkdownSyntax","char","current","text","value","startPos","selectionStart","endPos","selectionEnd","concat","slice","focus","setSelectionRange","onClickEmoji","emoji","emojiValue","length","handleOpenEmojiPicker","Error","openPlaceholderSelect","createElement","rows","icon","disabled","onClick","title","small","display","anchor","elevation","w","exportDefault"],"sources":["client/omnichannel/cannedResponses/components/CannedResponsesComposer/CannedResponsesComposer.tsx"],"sourcesContent":["import { Button, PositionAnimated, Tile } from '@rocket.chat/fuselage';\nimport {\n\tMessageComposerAction,\n\tMessageComposerToolbarActions,\n\tMessageComposer,\n\tMessageComposerInput,\n\tMessageComposerToolbar,\n\tMessageComposerActionsDivider,\n} from '@rocket.chat/ui-composer';\nimport { useUserPreference, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps } from 'react';\nimport React, { memo, useCallback, useRef, useState } from 'react';\n\nimport { Backdrop } from '../../../../components/Backdrop';\nimport { useEmojiPicker } from '../../../../contexts/EmojiPickerContext';\nimport InsertPlaceholderDropdown from './InsertPlaceholderDropdown';\n\nconst CannedResponsesComposer = ({ onChange, ...props }: ComponentProps<typeof MessageComposerInput>) => {\n\tconst t = useTranslation();\n\tconst useEmojisPreference = useUserPreference('useEmojis');\n\n\tconst textAreaRef = useRef<HTMLTextAreaElement>(null);\n\tconst ref = useRef<HTMLButtonElement>(null);\n\n\tconst [visible, setVisible] = useState(false);\n\n\tconst { open: openEmojiPicker } = useEmojiPicker();\n\n\tconst useMarkdownSyntax = (char: '*' | '_' | '~' | '[]()'): (() => void) =>\n\t\tuseCallback(() => {\n\t\t\tif (textAreaRef?.current) {\n\t\t\t\tconst text = textAreaRef.current.value;\n\t\t\t\tconst startPos = textAreaRef.current.selectionStart;\n\t\t\t\tconst endPos = textAreaRef.current.selectionEnd;\n\n\t\t\t\tif (char === '[]()') {\n\t\t\t\t\tif (startPos !== endPos) {\n\t\t\t\t\t\ttextAreaRef.current.value = `${text.slice(0, startPos)}[${text.slice(startPos, endPos)}]()${text.slice(endPos)}`;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttextAreaRef.current.value = `${text.slice(0, startPos)}${char}${text.slice(startPos, endPos)}${char}${text.slice(endPos)}`;\n\t\t\t\t}\n\t\t\t\ttextAreaRef.current.focus();\n\n\t\t\t\tif (char === '[]()') {\n\t\t\t\t\tif (startPos === endPos) {\n\t\t\t\t\t\ttextAreaRef.current.setSelectionRange(startPos, endPos);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttextAreaRef.current.setSelectionRange(endPos + 3, endPos + 3);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttextAreaRef.current.setSelectionRange(startPos + 1, endPos + 1);\n\t\t\t\t}\n\n\t\t\t\tonChange?.(textAreaRef.current.value as any);\n\t\t\t}\n\t\t}, [char]);\n\n\tconst onClickEmoji = (emoji: string): void => {\n\t\tif (textAreaRef?.current) {\n\t\t\tconst text = textAreaRef.current.value;\n\t\t\tconst startPos = textAreaRef.current.selectionStart;\n\t\t\tconst emojiValue = `:${emoji}: `;\n\n\t\t\ttextAreaRef.current.value = text.slice(0, startPos) + emojiValue + text.slice(startPos);\n\n\t\t\ttextAreaRef.current.focus();\n\t\t\ttextAreaRef.current.setSelectionRange(startPos + emojiValue.length, startPos + emojiValue.length);\n\n\t\t\tonChange?.(textAreaRef.current.value as any);\n\t\t}\n\t};\n\n\tconst handleOpenEmojiPicker = (): void => {\n\t\tif (!useEmojisPreference) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!textAreaRef?.current) {\n\t\t\tthrow new Error('Missing textAreaRef');\n\t\t}\n\n\t\topenEmojiPicker(textAreaRef.current, (emoji: string) => onClickEmoji(emoji));\n\t};\n\n\tconst openPlaceholderSelect = (): void => {\n\t\ttextAreaRef?.current && textAreaRef.current.focus();\n\t\tsetVisible(!visible);\n\t};\n\n\treturn (\n\t\t<MessageComposer>\n\t\t\t<MessageComposerInput ref={textAreaRef} rows={10} onChange={onChange} {...props} />\n\t\t\t<MessageComposerToolbar>\n\t\t\t\t<MessageComposerToolbarActions aria-label={t('Message_composer_toolbox_primary_actions')}>\n\t\t\t\t\t<MessageComposerAction icon='emoji' disabled={!useEmojisPreference} onClick={handleOpenEmojiPicker} title={t('Emoji')} />\n\t\t\t\t\t<MessageComposerActionsDivider />\n\t\t\t\t\t<MessageComposerAction icon='bold' onClick={useMarkdownSyntax('*')} title={t('Bold')} />\n\t\t\t\t\t<MessageComposerAction icon='italic' onClick={useMarkdownSyntax('_')} title={t('Italic')} />\n\t\t\t\t\t<MessageComposerAction icon='strike' onClick={useMarkdownSyntax('~')} title={t('Strike')} />\n\t\t\t\t\t<MessageComposerAction icon='link' onClick={useMarkdownSyntax('[]()')} title={t('Link')} />\n\t\t\t\t\t<MessageComposerActionsDivider />\n\t\t\t\t\t<Button ref={ref} small onClick={openPlaceholderSelect}>\n\t\t\t\t\t\t{t('Insert_Placeholder')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Backdrop\n\t\t\t\t\t\tdisplay={visible ? 'block' : 'none'}\n\t\t\t\t\t\tonClick={(): void => {\n\t\t\t\t\t\t\ttextAreaRef?.current && textAreaRef.current.focus();\n\t\t\t\t\t\t\tsetVisible(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<PositionAnimated visible={visible ? 'visible' : 'hidden'} anchor={ref}>\n\t\t\t\t\t\t<Tile elevation='1' w='224px'>\n\t\t\t\t\t\t\t<InsertPlaceholderDropdown onChange={onChange} textAreaRef={textAreaRef} setVisible={setVisible} />\n\t\t\t\t\t\t</Tile>\n\t\t\t\t\t</PositionAnimated>\n\t\t\t\t</MessageComposerToolbarActions>\n\t\t\t</MessageComposerToolbar>\n\t\t</MessageComposer>\n\t);\n};\n\nexport default memo(CannedResponsesComposer);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"48fde78fab317b8dec5a952c2cb17531de6a9fa1"}
