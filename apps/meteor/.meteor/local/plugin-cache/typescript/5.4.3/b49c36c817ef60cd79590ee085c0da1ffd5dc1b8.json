{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/modals/E2EEModals/ResetKeysE2EEModal.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/room/modals/E2EEModals/ResetKeysE2EEModal.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/modals/E2EEModals/ResetKeysE2EEModal.tsx","inputSourceMap":{"version":3,"file":"client/views/room/modals/E2EEModals/ResetKeysE2EEModal.tsx","sourceRoot":"","sources":["client/views/room/modals/E2EEModals/ResetKeysE2EEModal.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,uBAAuB,CAAC;AACnD,OAAO,EAAE,YAAY,EAAE,MAAM,wBAAwB,CAAC;AAEtD,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,eAAe,CAAC;AAEtD,OAAO,YAAY,MAAM,qCAAqC,CAAC;AAC/D,OAAO,EAAE,oBAAoB,EAAE,MAAM,uBAAuB,CAAC;AAC7D,OAAO,EAAE,mBAAmB,EAAE,MAAM,iCAAiC,CAAC;AAEtE,MAAM,mBAAmB,GAAG,qCAAqC,CAAC;AAQlE,MAAM,kBAAkB,GAAG,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAA2B,EAAgB,EAAE;IACpG,MAAM,EAAE,CAAC,EAAE,GAAG,cAAc,EAAE,CAAC;IAC/B,MAAM,oBAAoB,GAAG,mBAAmB,EAAE,CAAC;IAEnD,MAAM,kBAAkB,GAAG,GAAG,EAAE;QAC/B,oBAAoB,CAAC,MAAM,CAC1B,EAAE,MAAM,EAAE,EACV;YACC,SAAS,EAAE,GAAG,EAAE;gBACf,oBAAoB,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC,mCAAmC,CAAC,EAAE,CAAC,CAAC;YAC5F,CAAC;YACD,OAAO,EAAE,GAAG,EAAE;gBACb,oBAAoB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC,iCAAiC,CAAC,EAAE,CAAC,CAAC;YACxF,CAAC;YACD,SAAS,EAAE,GAAG,EAAE;gBACf,QAAQ,EAAE,CAAC;YACZ,CAAC;SACD,CACD,CAAC;IACH,CAAC,CAAC;IAEF,OAAO,CACN,CAAC,YAAY,CACZ,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAG,CAAC,CAC/C,KAAK,CAAC,CAAC,CAAC,CAAC,2BAA2B,CAAC,CAAC,CACtC,OAAO,CAAC,QAAQ,CAChB,WAAW,CAAC,CAAC,CAAC,CAAC,2BAA2B,CAAC,CAAC,CAC5C,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,8BAA8B,CAAC,CAAC,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC,CACnG,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,SAAS,CAAC,CAAC,kBAAkB,CAAC,CAC9B,SAAS,CAAC,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,CAE3B;GAAA,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CACnB;IAAA,CAAC,KAAK,CAAC,OAAO,CAAC,6CAA6C,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CACnF;iDAA4C,CAAC,QAAQ,CAAE;;KAEvD,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,mBAAmB,CAAC,CAAC,UAAU,EAAE,YAAY,CAAE;IAClE,EAAE,KAAK,CACR;GAAA,EAAE,GAAG,CACN;EAAA,EAAE,YAAY,CAAC,CACf,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,kBAAkB,CAAC","sourcesContent":["import { Box, Modal } from '@rocket.chat/fuselage';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport GenericModal from '../../../../components/GenericModal';\nimport { dispatchToastMessage } from '../../../../lib/toast';\nimport { useE2EEResetRoomKey } from '../../hooks/useE2EEResetRoomKey';\n\nconst E2EE_RESET_KEY_LINK = 'https://go.rocket.chat/i/e2ee-guide';\n\ntype ResetKeysE2EEModalProps = {\n\troomType: string;\n\troomId: string;\n\tonCancel: () => void;\n};\n\nconst ResetKeysE2EEModal = ({ roomType, roomId, onCancel }: ResetKeysE2EEModalProps): ReactElement => {\n\tconst { t } = useTranslation();\n\tconst resetRoomKeyMutation = useE2EEResetRoomKey();\n\n\tconst handleResetRoomKey = () => {\n\t\tresetRoomKeyMutation.mutate(\n\t\t\t{ roomId },\n\t\t\t{\n\t\t\t\tonSuccess: () => {\n\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('E2E_reset_encryption_keys_success') });\n\t\t\t\t},\n\t\t\t\tonError: () => {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: t('E2E_reset_encryption_keys_error') });\n\t\t\t\t},\n\t\t\t\tonSettled: () => {\n\t\t\t\t\tonCancel();\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t};\n\n\treturn (\n\t\t<GenericModal\n\t\t\ticon={<Modal.Icon color='danger' name='key' />}\n\t\t\ttitle={t('E2E_reset_encryption_keys')}\n\t\t\tvariant='danger'\n\t\t\tconfirmText={t('E2E_reset_encryption_keys')}\n\t\t\tdontAskAgain={<Modal.FooterAnnotation>{t('This_action_cannot_be_undone')}</Modal.FooterAnnotation>}\n\t\t\tonCancel={onCancel}\n\t\t\tonConfirm={handleResetRoomKey}\n\t\t\tonDismiss={() => undefined}\n\t\t>\n\t\t\t<Box mbe={16} is='p'>\n\t\t\t\t<Trans i18nKey='E2E_reset_encryption_keys_modal_description' tOptions={{ roomType }}>\n\t\t\t\t\tResetting E2EE keys is only recommend if no {roomType} member has a valid key to regain access to the previously encrypted\n\t\t\t\t\tcontent. All members may lose access to previously encrypted content.\n\t\t\t\t\t<ExternalLink to={E2EE_RESET_KEY_LINK}>Learn more</ExternalLink> about resetting encryption keys. Proceed with caution.\n\t\t\t\t</Trans>\n\t\t\t</Box>\n\t\t</GenericModal>\n\t);\n};\n\nexport default ResetKeysE2EEModal;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/modals/E2EEModals/ResetKeysE2EEModal.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/modals/E2EEModals/ResetKeysE2EEModal.tsx","inputSourceMap":{"version":3,"file":"client/views/room/modals/E2EEModals/ResetKeysE2EEModal.tsx","sourceRoot":"","sources":["client/views/room/modals/E2EEModals/ResetKeysE2EEModal.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,uBAAuB,CAAC;AACnD,OAAO,EAAE,YAAY,EAAE,MAAM,wBAAwB,CAAC;AAEtD,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,eAAe,CAAC;AAEtD,OAAO,YAAY,MAAM,qCAAqC,CAAC;AAC/D,OAAO,EAAE,oBAAoB,EAAE,MAAM,uBAAuB,CAAC;AAC7D,OAAO,EAAE,mBAAmB,EAAE,MAAM,iCAAiC,CAAC;AAEtE,MAAM,mBAAmB,GAAG,qCAAqC,CAAC;AAQlE,MAAM,kBAAkB,GAAG,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAA2B,EAAgB,EAAE;IACpG,MAAM,EAAE,CAAC,EAAE,GAAG,cAAc,EAAE,CAAC;IAC/B,MAAM,oBAAoB,GAAG,mBAAmB,EAAE,CAAC;IAEnD,MAAM,kBAAkB,GAAG,GAAG,EAAE;QAC/B,oBAAoB,CAAC,MAAM,CAC1B,EAAE,MAAM,EAAE,EACV;YACC,SAAS,EAAE,GAAG,EAAE;gBACf,oBAAoB,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC,mCAAmC,CAAC,EAAE,CAAC,CAAC;YAC5F,CAAC;YACD,OAAO,EAAE,GAAG,EAAE;gBACb,oBAAoB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC,iCAAiC,CAAC,EAAE,CAAC,CAAC;YACxF,CAAC;YACD,SAAS,EAAE,GAAG,EAAE;gBACf,QAAQ,EAAE,CAAC;YACZ,CAAC;SACD,CACD,CAAC;IACH,CAAC,CAAC;IAEF,OAAO,CACN,CAAC,YAAY,CACZ,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAG,CAAC,CAC/C,KAAK,CAAC,CAAC,CAAC,CAAC,2BAA2B,CAAC,CAAC,CACtC,OAAO,CAAC,QAAQ,CAChB,WAAW,CAAC,CAAC,CAAC,CAAC,2BAA2B,CAAC,CAAC,CAC5C,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,8BAA8B,CAAC,CAAC,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC,CACnG,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,SAAS,CAAC,CAAC,kBAAkB,CAAC,CAC9B,SAAS,CAAC,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,CAE3B;GAAA,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CACnB;IAAA,CAAC,KAAK,CAAC,OAAO,CAAC,6CAA6C,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CACnF;iDAA4C,CAAC,QAAQ,CAAE;;KAEvD,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,mBAAmB,CAAC,CAAC,UAAU,EAAE,YAAY,CAAE;IAClE,EAAE,KAAK,CACR;GAAA,EAAE,GAAG,CACN;EAAA,EAAE,YAAY,CAAC,CACf,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,kBAAkB,CAAC","sourcesContent":["import { Box, Modal } from '@rocket.chat/fuselage';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport GenericModal from '../../../../components/GenericModal';\nimport { dispatchToastMessage } from '../../../../lib/toast';\nimport { useE2EEResetRoomKey } from '../../hooks/useE2EEResetRoomKey';\n\nconst E2EE_RESET_KEY_LINK = 'https://go.rocket.chat/i/e2ee-guide';\n\ntype ResetKeysE2EEModalProps = {\n\troomType: string;\n\troomId: string;\n\tonCancel: () => void;\n};\n\nconst ResetKeysE2EEModal = ({ roomType, roomId, onCancel }: ResetKeysE2EEModalProps): ReactElement => {\n\tconst { t } = useTranslation();\n\tconst resetRoomKeyMutation = useE2EEResetRoomKey();\n\n\tconst handleResetRoomKey = () => {\n\t\tresetRoomKeyMutation.mutate(\n\t\t\t{ roomId },\n\t\t\t{\n\t\t\t\tonSuccess: () => {\n\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('E2E_reset_encryption_keys_success') });\n\t\t\t\t},\n\t\t\t\tonError: () => {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: t('E2E_reset_encryption_keys_error') });\n\t\t\t\t},\n\t\t\t\tonSettled: () => {\n\t\t\t\t\tonCancel();\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t};\n\n\treturn (\n\t\t<GenericModal\n\t\t\ticon={<Modal.Icon color='danger' name='key' />}\n\t\t\ttitle={t('E2E_reset_encryption_keys')}\n\t\t\tvariant='danger'\n\t\t\tconfirmText={t('E2E_reset_encryption_keys')}\n\t\t\tdontAskAgain={<Modal.FooterAnnotation>{t('This_action_cannot_be_undone')}</Modal.FooterAnnotation>}\n\t\t\tonCancel={onCancel}\n\t\t\tonConfirm={handleResetRoomKey}\n\t\t\tonDismiss={() => undefined}\n\t\t>\n\t\t\t<Box mbe={16} is='p'>\n\t\t\t\t<Trans i18nKey='E2E_reset_encryption_keys_modal_description' tOptions={{ roomType }}>\n\t\t\t\t\tResetting E2EE keys is only recommend if no {roomType} member has a valid key to regain access to the previously encrypted\n\t\t\t\t\tcontent. All members may lose access to previously encrypted content.\n\t\t\t\t\t<ExternalLink to={E2EE_RESET_KEY_LINK}>Learn more</ExternalLink> about resetting encryption keys. Proceed with caution.\n\t\t\t\t</Trans>\n\t\t\t</Box>\n\t\t</GenericModal>\n\t);\n};\n\nexport default ResetKeysE2EEModal;\n"]}}},"code":"let Box, Modal;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box(v) {\n    Box = v;\n  },\n  Modal(v) {\n    Modal = v;\n  }\n}, 0);\nlet ExternalLink;\nmodule.link(\"@rocket.chat/ui-client\", {\n  ExternalLink(v) {\n    ExternalLink = v;\n  }\n}, 1);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n}, 2);\nlet Trans, useTranslation;\nmodule.link(\"react-i18next\", {\n  Trans(v) {\n    Trans = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 3);\nlet GenericModal;\nmodule.link(\"../../../../components/GenericModal\", {\n  default(v) {\n    GenericModal = v;\n  }\n}, 4);\nlet dispatchToastMessage;\nmodule.link(\"../../../../lib/toast\", {\n  dispatchToastMessage(v) {\n    dispatchToastMessage = v;\n  }\n}, 5);\nlet useE2EEResetRoomKey;\nmodule.link(\"../../hooks/useE2EEResetRoomKey\", {\n  useE2EEResetRoomKey(v) {\n    useE2EEResetRoomKey = v;\n  }\n}, 6);\nconst E2EE_RESET_KEY_LINK = 'https://go.rocket.chat/i/e2ee-guide';\nconst ResetKeysE2EEModal = _ref => {\n  let {\n    roomType,\n    roomId,\n    onCancel\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const resetRoomKeyMutation = useE2EEResetRoomKey();\n  const handleResetRoomKey = () => {\n    resetRoomKeyMutation.mutate({\n      roomId\n    }, {\n      onSuccess: () => {\n        dispatchToastMessage({\n          type: 'success',\n          message: t('E2E_reset_encryption_keys_success')\n        });\n      },\n      onError: () => {\n        dispatchToastMessage({\n          type: 'error',\n          message: t('E2E_reset_encryption_keys_error')\n        });\n      },\n      onSettled: () => {\n        onCancel();\n      }\n    });\n  };\n  return /*#__PURE__*/React.createElement(GenericModal, {\n    icon: /*#__PURE__*/React.createElement(Modal.Icon, {\n      color: \"danger\",\n      name: \"key\"\n    }),\n    title: t('E2E_reset_encryption_keys'),\n    variant: \"danger\",\n    confirmText: t('E2E_reset_encryption_keys'),\n    dontAskAgain: /*#__PURE__*/React.createElement(Modal.FooterAnnotation, null, t('This_action_cannot_be_undone')),\n    onCancel: onCancel,\n    onConfirm: handleResetRoomKey,\n    onDismiss: () => undefined\n  }, /*#__PURE__*/React.createElement(Box, {\n    mbe: 16,\n    is: \"p\"\n  }, /*#__PURE__*/React.createElement(Trans, {\n    i18nKey: \"E2E_reset_encryption_keys_modal_description\",\n    tOptions: {\n      roomType\n    }\n  }, \"Resetting E2EE keys is only recommend if no \", roomType, \" member has a valid key to regain access to the previously encrypted content. All members may lose access to previously encrypted content.\", /*#__PURE__*/React.createElement(ExternalLink, {\n    to: E2EE_RESET_KEY_LINK\n  }, \"Learn more\"), \" about resetting encryption keys. Proceed with caution.\")));\n};\nmodule.exportDefault(ResetKeysE2EEModal);","map":{"version":3,"names":["Box","Modal","module","link","v","ExternalLink","React","default","Trans","useTranslation","GenericModal","dispatchToastMessage","useE2EEResetRoomKey","E2EE_RESET_KEY_LINK","ResetKeysE2EEModal","_ref","roomType","roomId","onCancel","t","resetRoomKeyMutation","handleResetRoomKey","mutate","onSuccess","type","message","onError","onSettled","createElement","icon","Icon","color","name","title","variant","confirmText","dontAskAgain","FooterAnnotation","onConfirm","onDismiss","undefined","mbe","is","i18nKey","tOptions","to","exportDefault"],"sources":["client/views/room/modals/E2EEModals/ResetKeysE2EEModal.tsx"],"sourcesContent":["import { Box, Modal } from '@rocket.chat/fuselage';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport GenericModal from '../../../../components/GenericModal';\nimport { dispatchToastMessage } from '../../../../lib/toast';\nimport { useE2EEResetRoomKey } from '../../hooks/useE2EEResetRoomKey';\n\nconst E2EE_RESET_KEY_LINK = 'https://go.rocket.chat/i/e2ee-guide';\n\ntype ResetKeysE2EEModalProps = {\n\troomType: string;\n\troomId: string;\n\tonCancel: () => void;\n};\n\nconst ResetKeysE2EEModal = ({ roomType, roomId, onCancel }: ResetKeysE2EEModalProps): ReactElement => {\n\tconst { t } = useTranslation();\n\tconst resetRoomKeyMutation = useE2EEResetRoomKey();\n\n\tconst handleResetRoomKey = () => {\n\t\tresetRoomKeyMutation.mutate(\n\t\t\t{ roomId },\n\t\t\t{\n\t\t\t\tonSuccess: () => {\n\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('E2E_reset_encryption_keys_success') });\n\t\t\t\t},\n\t\t\t\tonError: () => {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: t('E2E_reset_encryption_keys_error') });\n\t\t\t\t},\n\t\t\t\tonSettled: () => {\n\t\t\t\t\tonCancel();\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t};\n\n\treturn (\n\t\t<GenericModal\n\t\t\ticon={<Modal.Icon color='danger' name='key' />}\n\t\t\ttitle={t('E2E_reset_encryption_keys')}\n\t\t\tvariant='danger'\n\t\t\tconfirmText={t('E2E_reset_encryption_keys')}\n\t\t\tdontAskAgain={<Modal.FooterAnnotation>{t('This_action_cannot_be_undone')}</Modal.FooterAnnotation>}\n\t\t\tonCancel={onCancel}\n\t\t\tonConfirm={handleResetRoomKey}\n\t\t\tonDismiss={() => undefined}\n\t\t>\n\t\t\t<Box mbe={16} is='p'>\n\t\t\t\t<Trans i18nKey='E2E_reset_encryption_keys_modal_description' tOptions={{ roomType }}>\n\t\t\t\t\tResetting E2EE keys is only recommend if no {roomType} member has a valid key to regain access to the previously encrypted\n\t\t\t\t\tcontent. All members may lose access to previously encrypted content.\n\t\t\t\t\t<ExternalLink to={E2EE_RESET_KEY_LINK}>Learn more</ExternalLink> about resetting encryption keys. Proceed with caution.\n\t\t\t\t</Trans>\n\t\t\t</Box>\n\t\t</GenericModal>\n\t);\n};\n\nexport default ResetKeysE2EEModal;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"b49c36c817ef60cd79590ee085c0da1ffd5dc1b8"}
