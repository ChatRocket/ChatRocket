{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/moderation/UserReports/UserReportInfo.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/admin/moderation/UserReports/UserReportInfo.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/moderation/UserReports/UserReportInfo.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/moderation/UserReports/UserReportInfo.tsx","sourceRoot":"","sources":["client/views/admin/moderation/UserReports/UserReportInfo.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n\tBox,\n\tCallout,\n\tStatesAction,\n\tStatesActions,\n\tStatesIcon,\n\tStatesTitle,\n\tContextualbarFooter,\n\tFieldGroup,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tContextualbarSkeleton,\n} from '@rocket.chat/fuselage';\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport UserContextFooter from './UserContextFooter';\nimport { ContextualbarScrollableContent } from '../../../../components/Contextualbar';\nimport GenericNoResults from '../../../../components/GenericNoResults';\nimport { UserCardRole } from '../../../../components/UserCard';\nimport { useFormatDate } from '../../../../hooks/useFormatDate';\nimport ReportReason from '../helpers/ReportReason';\nimport UserColumn from '../helpers/UserColumn';\n\nconst UserReportInfo = ({ userId }: { userId: string }) => {\n\tconst { t } = useTranslation();\n\tconst getUserReports = useEndpoint('GET', '/v1/moderation.user.reportsByUserId');\n\tconst formatDateAndTime = useFormatDate();\n\n\tconst {\n\t\tdata: report,\n\t\trefetch: reloadUsersReports,\n\t\tisLoading,\n\t\tisSuccess,\n\t\tisError,\n\t\tdataUpdatedAt,\n\t} = useQuery(['moderation', 'userReports', 'fetchDetails', userId], async () => getUserReports({ userId }));\n\n\tconst userProfile = useMemo(() => {\n\t\tif (!report?.user) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { username, name } = report.user;\n\t\treturn <UserColumn key={dataUpdatedAt} username={username} name={name} fontSize='p2' size='x48' />;\n\t}, [report?.user, dataUpdatedAt]);\n\n\tconst userEmails = useMemo(() => {\n\t\tif (!report?.user?.emails) {\n\t\t\treturn [];\n\t\t}\n\t\treturn report.user.emails.map((email) => email.address);\n\t}, [report]);\n\n\tif (isError) {\n\t\treturn (\n\t\t\t<Box display='flex' flexDirection='column' alignItems='center' pb={20} color='default'>\n\t\t\t\t<StatesIcon name='warning' variation='danger' />\n\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t<StatesActions>\n\t\t\t\t\t<StatesAction onClick={() => reloadUsersReports()}>{t('Reload_page')}</StatesAction>\n\t\t\t\t</StatesActions>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t{isLoading && <ContextualbarSkeleton />}\n\t\t\t\t{isSuccess && report.reports.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{report.user ? (\n\t\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t\t<Field>{userProfile}</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel>{t('Roles')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow justifyContent='flex-start' spacing={1}>\n\t\t\t\t\t\t\t\t\t\t{report.user.roles.map((role, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<UserCardRole key={index}>{role}</UserCardRole>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel>{t('Email')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>{userEmails.join(', ')}</FieldRow>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel>{t('Created_at')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>{formatDateAndTime(report.user.createdAt)}</FieldRow>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Callout mbs={8} type='warning' icon='warning'>\n\t\t\t\t\t\t\t\t{t('Moderation_User_deleted_warning')}\n\t\t\t\t\t\t\t</Callout>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{report.reports.map((report, ind) => (\n\t\t\t\t\t\t\t<ReportReason key={ind} ind={ind + 1} uinfo={report.reportedBy?.username} msg={report.description} ts={new Date(report.ts)} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{isSuccess && report.reports.length === 0 && <GenericNoResults title={t('No_user_reports')} icon='user' />}\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t{isSuccess && report.reports.length > 0 && (\n\t\t\t\t<ContextualbarFooter>\n\t\t\t\t\t<UserContextFooter userId={userId} deleted={!report.user} />\n\t\t\t\t</ContextualbarFooter>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default UserReportInfo;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/moderation/UserReports/UserReportInfo.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/moderation/UserReports/UserReportInfo.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/moderation/UserReports/UserReportInfo.tsx","sourceRoot":"","sources":["client/views/admin/moderation/UserReports/UserReportInfo.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n\tBox,\n\tCallout,\n\tStatesAction,\n\tStatesActions,\n\tStatesIcon,\n\tStatesTitle,\n\tContextualbarFooter,\n\tFieldGroup,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tContextualbarSkeleton,\n} from '@rocket.chat/fuselage';\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport UserContextFooter from './UserContextFooter';\nimport { ContextualbarScrollableContent } from '../../../../components/Contextualbar';\nimport GenericNoResults from '../../../../components/GenericNoResults';\nimport { UserCardRole } from '../../../../components/UserCard';\nimport { useFormatDate } from '../../../../hooks/useFormatDate';\nimport ReportReason from '../helpers/ReportReason';\nimport UserColumn from '../helpers/UserColumn';\n\nconst UserReportInfo = ({ userId }: { userId: string }) => {\n\tconst { t } = useTranslation();\n\tconst getUserReports = useEndpoint('GET', '/v1/moderation.user.reportsByUserId');\n\tconst formatDateAndTime = useFormatDate();\n\n\tconst {\n\t\tdata: report,\n\t\trefetch: reloadUsersReports,\n\t\tisLoading,\n\t\tisSuccess,\n\t\tisError,\n\t\tdataUpdatedAt,\n\t} = useQuery(['moderation', 'userReports', 'fetchDetails', userId], async () => getUserReports({ userId }));\n\n\tconst userProfile = useMemo(() => {\n\t\tif (!report?.user) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { username, name } = report.user;\n\t\treturn <UserColumn key={dataUpdatedAt} username={username} name={name} fontSize='p2' size='x48' />;\n\t}, [report?.user, dataUpdatedAt]);\n\n\tconst userEmails = useMemo(() => {\n\t\tif (!report?.user?.emails) {\n\t\t\treturn [];\n\t\t}\n\t\treturn report.user.emails.map((email) => email.address);\n\t}, [report]);\n\n\tif (isError) {\n\t\treturn (\n\t\t\t<Box display='flex' flexDirection='column' alignItems='center' pb={20} color='default'>\n\t\t\t\t<StatesIcon name='warning' variation='danger' />\n\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t<StatesActions>\n\t\t\t\t\t<StatesAction onClick={() => reloadUsersReports()}>{t('Reload_page')}</StatesAction>\n\t\t\t\t</StatesActions>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t{isLoading && <ContextualbarSkeleton />}\n\t\t\t\t{isSuccess && report.reports.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{report.user ? (\n\t\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t\t<Field>{userProfile}</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel>{t('Roles')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow justifyContent='flex-start' spacing={1}>\n\t\t\t\t\t\t\t\t\t\t{report.user.roles.map((role, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<UserCardRole key={index}>{role}</UserCardRole>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel>{t('Email')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>{userEmails.join(', ')}</FieldRow>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel>{t('Created_at')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>{formatDateAndTime(report.user.createdAt)}</FieldRow>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Callout mbs={8} type='warning' icon='warning'>\n\t\t\t\t\t\t\t\t{t('Moderation_User_deleted_warning')}\n\t\t\t\t\t\t\t</Callout>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{report.reports.map((report, ind) => (\n\t\t\t\t\t\t\t<ReportReason key={ind} ind={ind + 1} uinfo={report.reportedBy?.username} msg={report.description} ts={new Date(report.ts)} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{isSuccess && report.reports.length === 0 && <GenericNoResults title={t('No_user_reports')} icon='user' />}\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t{isSuccess && report.reports.length > 0 && (\n\t\t\t\t<ContextualbarFooter>\n\t\t\t\t\t<UserContextFooter userId={userId} deleted={!report.user} />\n\t\t\t\t</ContextualbarFooter>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default UserReportInfo;\n"]}}},"code":"let Box, Callout, StatesAction, StatesActions, StatesIcon, StatesTitle, ContextualbarFooter, FieldGroup, Field, FieldLabel, FieldRow, ContextualbarSkeleton;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box(v) {\n    Box = v;\n  },\n  Callout(v) {\n    Callout = v;\n  },\n  StatesAction(v) {\n    StatesAction = v;\n  },\n  StatesActions(v) {\n    StatesActions = v;\n  },\n  StatesIcon(v) {\n    StatesIcon = v;\n  },\n  StatesTitle(v) {\n    StatesTitle = v;\n  },\n  ContextualbarFooter(v) {\n    ContextualbarFooter = v;\n  },\n  FieldGroup(v) {\n    FieldGroup = v;\n  },\n  Field(v) {\n    Field = v;\n  },\n  FieldLabel(v) {\n    FieldLabel = v;\n  },\n  FieldRow(v) {\n    FieldRow = v;\n  },\n  ContextualbarSkeleton(v) {\n    ContextualbarSkeleton = v;\n  }\n}, 0);\nlet useEndpoint;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useEndpoint(v) {\n    useEndpoint = v;\n  }\n}, 1);\nlet useQuery;\nmodule.link(\"@tanstack/react-query\", {\n  useQuery(v) {\n    useQuery = v;\n  }\n}, 2);\nlet React, useMemo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  }\n}, 3);\nlet useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 4);\nlet UserContextFooter;\nmodule.link(\"./UserContextFooter\", {\n  default(v) {\n    UserContextFooter = v;\n  }\n}, 5);\nlet ContextualbarScrollableContent;\nmodule.link(\"../../../../components/Contextualbar\", {\n  ContextualbarScrollableContent(v) {\n    ContextualbarScrollableContent = v;\n  }\n}, 6);\nlet GenericNoResults;\nmodule.link(\"../../../../components/GenericNoResults\", {\n  default(v) {\n    GenericNoResults = v;\n  }\n}, 7);\nlet UserCardRole;\nmodule.link(\"../../../../components/UserCard\", {\n  UserCardRole(v) {\n    UserCardRole = v;\n  }\n}, 8);\nlet useFormatDate;\nmodule.link(\"../../../../hooks/useFormatDate\", {\n  useFormatDate(v) {\n    useFormatDate = v;\n  }\n}, 9);\nlet ReportReason;\nmodule.link(\"../helpers/ReportReason\", {\n  default(v) {\n    ReportReason = v;\n  }\n}, 10);\nlet UserColumn;\nmodule.link(\"../helpers/UserColumn\", {\n  default(v) {\n    UserColumn = v;\n  }\n}, 11);\nconst UserReportInfo = _ref => {\n  let {\n    userId\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const getUserReports = useEndpoint('GET', '/v1/moderation.user.reportsByUserId');\n  const formatDateAndTime = useFormatDate();\n  const {\n    data: report,\n    refetch: reloadUsersReports,\n    isLoading,\n    isSuccess,\n    isError,\n    dataUpdatedAt\n  } = useQuery(['moderation', 'userReports', 'fetchDetails', userId], async () => getUserReports({\n    userId\n  }));\n  const userProfile = useMemo(() => {\n    if (!(report !== null && report !== void 0 && report.user)) {\n      return null;\n    }\n    const {\n      username,\n      name\n    } = report.user;\n    return /*#__PURE__*/React.createElement(UserColumn, {\n      key: dataUpdatedAt,\n      username: username,\n      name: name,\n      fontSize: \"p2\",\n      size: \"x48\"\n    });\n  }, [report === null || report === void 0 ? void 0 : report.user, dataUpdatedAt]);\n  const userEmails = useMemo(() => {\n    var _report$user;\n    if (!(report !== null && report !== void 0 && (_report$user = report.user) !== null && _report$user !== void 0 && _report$user.emails)) {\n      return [];\n    }\n    return report.user.emails.map(email => email.address);\n  }, [report]);\n  if (isError) {\n    return /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      pb: 20,\n      color: \"default\"\n    }, /*#__PURE__*/React.createElement(StatesIcon, {\n      name: \"warning\",\n      variation: \"danger\"\n    }), /*#__PURE__*/React.createElement(StatesTitle, null, t('Something_went_wrong')), /*#__PURE__*/React.createElement(StatesActions, null, /*#__PURE__*/React.createElement(StatesAction, {\n      onClick: () => reloadUsersReports()\n    }, t('Reload_page'))));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ContextualbarScrollableContent, null, isLoading && /*#__PURE__*/React.createElement(ContextualbarSkeleton, null), isSuccess && report.reports.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, report.user ? /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, userProfile), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, null, t('Roles')), /*#__PURE__*/React.createElement(FieldRow, {\n    justifyContent: \"flex-start\",\n    spacing: 1\n  }, report.user.roles.map((role, index) => /*#__PURE__*/React.createElement(UserCardRole, {\n    key: index\n  }, role)))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, null, t('Email')), /*#__PURE__*/React.createElement(FieldRow, null, userEmails.join(', '))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, null, t('Created_at')), /*#__PURE__*/React.createElement(FieldRow, null, formatDateAndTime(report.user.createdAt)))) : /*#__PURE__*/React.createElement(Callout, {\n    mbs: 8,\n    type: \"warning\",\n    icon: \"warning\"\n  }, t('Moderation_User_deleted_warning')), report.reports.map((report, ind) => {\n    var _report$reportedBy;\n    return /*#__PURE__*/React.createElement(ReportReason, {\n      key: ind,\n      ind: ind + 1,\n      uinfo: (_report$reportedBy = report.reportedBy) === null || _report$reportedBy === void 0 ? void 0 : _report$reportedBy.username,\n      msg: report.description,\n      ts: new Date(report.ts)\n    });\n  })), isSuccess && report.reports.length === 0 && /*#__PURE__*/React.createElement(GenericNoResults, {\n    title: t('No_user_reports'),\n    icon: \"user\"\n  })), isSuccess && report.reports.length > 0 && /*#__PURE__*/React.createElement(ContextualbarFooter, null, /*#__PURE__*/React.createElement(UserContextFooter, {\n    userId: userId,\n    deleted: !report.user\n  })));\n};\nmodule.exportDefault(UserReportInfo);","map":{"version":3,"names":["Box","Callout","StatesAction","StatesActions","StatesIcon","StatesTitle","ContextualbarFooter","FieldGroup","Field","FieldLabel","FieldRow","ContextualbarSkeleton","module","link","v","useEndpoint","useQuery","React","useMemo","default","useTranslation","UserContextFooter","ContextualbarScrollableContent","GenericNoResults","UserCardRole","useFormatDate","ReportReason","UserColumn","UserReportInfo","_ref","userId","t","getUserReports","formatDateAndTime","data","report","refetch","reloadUsersReports","isLoading","isSuccess","isError","dataUpdatedAt","userProfile","user","username","name","createElement","key","fontSize","size","userEmails","_report$user","emails","map","email","address","display","flexDirection","alignItems","pb","color","variation","onClick","Fragment","reports","length","justifyContent","spacing","roles","role","index","join","createdAt","mbs","type","icon","ind","_report$reportedBy","uinfo","reportedBy","msg","description","ts","Date","title","deleted","exportDefault"],"sources":["client/views/admin/moderation/UserReports/UserReportInfo.tsx"],"sourcesContent":["import {\n\tBox,\n\tCallout,\n\tStatesAction,\n\tStatesActions,\n\tStatesIcon,\n\tStatesTitle,\n\tContextualbarFooter,\n\tFieldGroup,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tContextualbarSkeleton,\n} from '@rocket.chat/fuselage';\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport UserContextFooter from './UserContextFooter';\nimport { ContextualbarScrollableContent } from '../../../../components/Contextualbar';\nimport GenericNoResults from '../../../../components/GenericNoResults';\nimport { UserCardRole } from '../../../../components/UserCard';\nimport { useFormatDate } from '../../../../hooks/useFormatDate';\nimport ReportReason from '../helpers/ReportReason';\nimport UserColumn from '../helpers/UserColumn';\n\nconst UserReportInfo = ({ userId }: { userId: string }) => {\n\tconst { t } = useTranslation();\n\tconst getUserReports = useEndpoint('GET', '/v1/moderation.user.reportsByUserId');\n\tconst formatDateAndTime = useFormatDate();\n\n\tconst {\n\t\tdata: report,\n\t\trefetch: reloadUsersReports,\n\t\tisLoading,\n\t\tisSuccess,\n\t\tisError,\n\t\tdataUpdatedAt,\n\t} = useQuery(['moderation', 'userReports', 'fetchDetails', userId], async () => getUserReports({ userId }));\n\n\tconst userProfile = useMemo(() => {\n\t\tif (!report?.user) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { username, name } = report.user;\n\t\treturn <UserColumn key={dataUpdatedAt} username={username} name={name} fontSize='p2' size='x48' />;\n\t}, [report?.user, dataUpdatedAt]);\n\n\tconst userEmails = useMemo(() => {\n\t\tif (!report?.user?.emails) {\n\t\t\treturn [];\n\t\t}\n\t\treturn report.user.emails.map((email) => email.address);\n\t}, [report]);\n\n\tif (isError) {\n\t\treturn (\n\t\t\t<Box display='flex' flexDirection='column' alignItems='center' pb={20} color='default'>\n\t\t\t\t<StatesIcon name='warning' variation='danger' />\n\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t<StatesActions>\n\t\t\t\t\t<StatesAction onClick={() => reloadUsersReports()}>{t('Reload_page')}</StatesAction>\n\t\t\t\t</StatesActions>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t{isLoading && <ContextualbarSkeleton />}\n\t\t\t\t{isSuccess && report.reports.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{report.user ? (\n\t\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t\t<Field>{userProfile}</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel>{t('Roles')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow justifyContent='flex-start' spacing={1}>\n\t\t\t\t\t\t\t\t\t\t{report.user.roles.map((role, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<UserCardRole key={index}>{role}</UserCardRole>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel>{t('Email')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>{userEmails.join(', ')}</FieldRow>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<FieldLabel>{t('Created_at')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>{formatDateAndTime(report.user.createdAt)}</FieldRow>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Callout mbs={8} type='warning' icon='warning'>\n\t\t\t\t\t\t\t\t{t('Moderation_User_deleted_warning')}\n\t\t\t\t\t\t\t</Callout>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{report.reports.map((report, ind) => (\n\t\t\t\t\t\t\t<ReportReason key={ind} ind={ind + 1} uinfo={report.reportedBy?.username} msg={report.description} ts={new Date(report.ts)} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{isSuccess && report.reports.length === 0 && <GenericNoResults title={t('No_user_reports')} icon='user' />}\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t{isSuccess && report.reports.length > 0 && (\n\t\t\t\t<ContextualbarFooter>\n\t\t\t\t\t<UserContextFooter userId={userId} deleted={!report.user} />\n\t\t\t\t</ContextualbarFooter>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default UserReportInfo;\n"],"mappings":"AAAA,IAAAA,GAAO,EAAAC,OAEN,EAAAC,YACA,EAAAC,aACA,EAAAC,UACA,EAAAC,WACA,EAAAC,mBACA,EAAAC,UAAmB,EAAAC,KACnB,EAAAC,UACA,EAAAC,QACA,EAAAC,qBAEA;AAAAC,MAAA,CAAAC,IAAA,wBACM;EAAAb,IAAAc,CAAA;IAAAd,GAAuB,GAACc,CAAA;EAAA;EAAAb,QAAAa,CAAA;IAAAb,OAAA,GAAAa,CAAA;EAAA;EAAAZ,aAAAY,CAAA;IAAAZ,YAAA,GAAAY,CAAA;EAAA;EAAAX,cAAAW,CAAA;IAAAX,aAAA,GAAAW,CAAA;EAAA;EAAAV,WAAAU,CAAA;IAAAV,UAAA,GAAAU,CAAA;EAAA;EAAAT,YAAAS,CAAA;IAAAT,WAAA,GAAAS,CAAA;EAAA;EAAAR,oBAAAQ,CAAA;IAAAR,mBAAA,GAAAQ,CAAA;EAAA;EAAAP,WAAAO,CAAA;IAAAP,UAAA,GAAAO,CAAA;EAAA;EAAAN,MAAAM,CAAA;IAAAN,KAAA,GAAAM,CAAA;EAAA;EAAAL,WAAAK,CAAA;IAAAL,UAAA,GAAAK,CAAA;EAAA;EAAAJ,SAAAI,CAAA;IAAAJ,QAAA,GAAAI,CAAA;EAAA;EAAAH,sBAAAG,CAAA;IAAAH,qBAAA,GAAAG,CAAA;EAAA;AAAA;AAAA,IAAAC,WAAA;AAAAH,MAAA,CAAAC,IAAA;EAAAE,YAAAD,CAAA;IAAAC,WAAA,GAAAD,CAAA;EAAA;AAAA;AAAA,IAAAE,QAAA;AAAAJ,MAAA,CAAAC,IAAA;EAAAG,SAAAF,CAAA;IAAAE,QAAA,GAAAF,CAAA;EAAA;AAAA;AAAA,IAAAG,KAAA,EAAAC,OAAA;AAAAN,MAAA,CAAAC,IAAA;EAAAM,QAAAL,CAAA;IAAAG,KAAA,GAAAH,CAAA;EAAA;EAAAI,QAAAJ,CAAA;IAAAI,OAAA,GAAAJ,CAAA;EAAA;AAAA;AAAA,IAAAM,cAAA;AAAAR,MAAA,CAAAC,IAAA;EAAAO,eAAAN,CAAA;IAAAM,cAAA,GAAAN,CAAA;EAAA;AAAA;AAAA,IAAAO,iBAAA;AAAAT,MAAA,CAAAC,IAAA;EAAAM,QAAAL,CAAA;IAAAO,iBAAA,GAAAP,CAAA;EAAA;AAAA;AAAA,IAAAQ,8BAAA;AAAAV,MAAA,CAAAC,IAAA;EAAAS,+BAAAR,CAAA;IAAAQ,8BAAA,GAAAR,CAAA;EAAA;AAAA;AAAA,IAAAS,gBAAA;AAAAX,MAAA,CAAAC,IAAA;EAAAM,QAAAL,CAAA;IAAAS,gBAAA,GAAAT,CAAA;EAAA;AAAA;AAAA,IAAAU,YAAA;AAAAZ,MAAA,CAAAC,IAAA;EAAAW,aAAAV,CAAA;IAAAU,YAAA,GAAAV,CAAA;EAAA;AAAA;AAAA,IAAAW,aAAA;AAAAb,MAAA,CAAAC,IAAA;EAAAY,cAAAX,CAAA;IAAAW,aAAA,GAAAX,CAAA;EAAA;AAAA;AAAA,IAAAY,YAAA;AAAAd,MAAA,CAAAC,IAAA;EAAAM,QAAAL,CAAA;IAAAY,YAAA,GAAAZ,CAAA;EAAA;AAAA;AAAA,IAAAa,UAAA;AAAAf,MAAA,CAAAC,IAAA;EAAAM,QAAAL,CAAA;IAAAa,UAAA,GAAAb,CAAA;EAAA;AAAA;AAc/B,MAAMc,cAAc,GAAGC,IAAA,IAAmC;EAAA,IAAlC;IAAEC;EAAM,CAAsB,GAAAD,IAAA;EACrD,MAAM;IAAEE;EAAC,CAAE,GAAGX,cAAc,EAAE;EAC9B,MAAMY,cAAc,GAAGjB,WAAW,CAAC,KAAK,EAAE,qCAAqC,CAAC;EAChF,MAAMkB,iBAAiB,GAAGR,aAAa,EAAE;EAEzC,MAAM;IACLS,IAAI,EAAEC,MAAM;IACZC,OAAO,EAAEC,kBAAkB;IAC3BC,SAAS;IACTC,SAAS;IACTC,OAAO;IACPC;EAAa,CACb,GAAGzB,QAAQ,CAAC,CAAC,YAAY,EAAE,aAAa,EAAE,cAAc,EAAEc,MAAM,CAAC,EAAE,YAAYE,cAAc,CAAC;IAAEF;EAAM,CAAE,CAAC,CAAC;EAE3G,MAAMY,WAAW,GAAGxB,OAAO,CAAC,MAAK;IAChC,IAAI,EAACiB,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEQ,IAAI,GAAE;MAClB,OAAO,IAAI;IACZ;IAEA,MAAM;MAAEC,QAAQ;MAAEC;IAAI,CAAE,GAAGV,MAAM,CAACQ,IAAI;IACtC,oBAAO1B,KAAA,CAAA6B,aAAA,CAACnB,UAAU;MAACoB,GAAG,EAAEN,aAAc;MAACG,QAAQ,EAAEA,QAAS;MAACC,IAAI,EAAEA,IAAK;MAACG,QAAQ,EAAC,IAAI;MAACC,IAAI,EAAC;IAAK,EAAG;EACnG,CAAC,EAAE,CAACd,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEQ,IAAI,EAAEF,aAAa,CAAC,CAAC;EAEjC,MAAMS,UAAU,GAAGhC,OAAO,CAAC,MAAK;IAAA,IAAAiC,YAAA;IAC/B,IAAI,EAAChB,MAAM,aAANA,MAAM,gBAAAgB,YAAA,GAANhB,MAAM,CAAEQ,IAAI,cAAAQ,YAAA,eAAZA,YAAA,CAAcC,MAAM,GAAE;MAC1B,OAAO,EAAE;IACV;IACA,OAAOjB,MAAM,CAACQ,IAAI,CAACS,MAAM,CAACC,GAAG,CAAEC,KAAK,IAAKA,KAAK,CAACC,OAAO,CAAC;EACxD,CAAC,EAAE,CAACpB,MAAM,CAAC,CAAC;EAEZ,IAAIK,OAAO,EAAE;IACZ,oBACCvB,KAAA,CAAA6B,aAAA,CAAC9C,GAAG;MAACwD,OAAO,EAAC,MAAM;MAACC,aAAa,EAAC,QAAQ;MAACC,UAAU,EAAC,QAAQ;MAACC,EAAE,EAAE,EAAG;MAACC,KAAK,EAAC;IAAS,gBACrF3C,KAAA,CAAA6B,aAAA,CAAC1C,UAAU;MAACyC,IAAI,EAAC,SAAS;MAACgB,SAAS,EAAC;IAAQ,EAC7C,eAAA5C,KAAA,CAAA6B,aAAA,CAACzC,WAAW,QAAE0B,CAAC,CAAC,sBAAsB,CAAe,CACrD,eAAAd,KAAA,CAAA6B,aAAA,CAAC3C,aAAa,qBACbc,KAAA,CAAA6B,aAAA,CAAC5C,YAAY;MAAC4D,OAAO,EAAEA,CAAA,KAAMzB,kBAAkB;IAAG,GAAEN,CAAC,CAAC,aAAa,CAAgB,CACrE,CACX,CAAC;EAER;EAEA,oBACCd,KAAA,CAAA6B,aAAA,CAAA7B,KAAA,CAAA8C,QAAA,qBACC9C,KAAA,CAAA6B,aAAA,CAACxB,8BAA8B,QAC7BgB,SAAS,iBAAIrB,KAAA,CAAA6B,aAAA,CAACnC,qBAAqB,OAAG,EACtC4B,SAAS,IAAIJ,MAAM,CAAC6B,OAAO,CAACC,MAAM,GAAG,CAAC,iBACtChD,KAAA,CAAA6B,aAAA,CAAA7B,KAAA,CAAA8C,QAAA,QACE5B,MAAM,CAACQ,IAAI,gBACX1B,KAAA,CAAA6B,aAAA,CAACvC,UAAU,qBACVU,KAAA,CAAA6B,aAAA,CAACtC,KAAK,QAAEkC,WAAmB,CAC3B,eAAAzB,KAAA,CAAA6B,aAAA,CAACtC,KAAK,qBACLS,KAAA,CAAA6B,aAAA,CAACrC,UAAU,QAAEsB,CAAC,CAAC,OAAO,CAAc,CACpC,eAAAd,KAAA,CAAA6B,aAAA,CAACpC,QAAQ;IAACwD,cAAc,EAAC,YAAY;IAACC,OAAO,EAAE;EAAE,GAC/ChC,MAAM,CAACQ,IAAI,CAACyB,KAAK,CAACf,GAAG,CAAC,CAACgB,IAAI,EAAEC,KAAK,kBAClCrD,KAAA,CAAA6B,aAAA,CAACtB,YAAY;IAACuB,GAAG,EAAEuB;EAAM,GAAED,IAAmB,CAC9C,CACQ,CACJ,CACP,eAAApD,KAAA,CAAA6B,aAAA,CAACtC,KAAK,qBACLS,KAAA,CAAA6B,aAAA,CAACrC,UAAU,QAAEsB,CAAC,CAAC,OAAO,CAAc,CACpC,eAAAd,KAAA,CAAA6B,aAAA,CAACpC,QAAQ,QAAEwC,UAAU,CAACqB,IAAI,CAAC,IAAI,CAAY,CACrC,CACP,eAAAtD,KAAA,CAAA6B,aAAA,CAACtC,KAAK,qBACLS,KAAA,CAAA6B,aAAA,CAACrC,UAAU,QAAEsB,CAAC,CAAC,YAAY,CAAc,CACzC,eAAAd,KAAA,CAAA6B,aAAA,CAACpC,QAAQ,QAAEuB,iBAAiB,CAACE,MAAM,CAACQ,IAAI,CAAC6B,SAAS,CAAY,CACxD,CACI,CAAC,gBAEbvD,KAAA,CAAA6B,aAAA,CAAC7C,OAAO;IAACwE,GAAG,EAAE,CAAE;IAACC,IAAI,EAAC,SAAS;IAACC,IAAI,EAAC;EAAS,GAC5C5C,CAAC,CAAC,iCAAiC,CAC5B,CACT,EACAI,MAAM,CAAC6B,OAAO,CAACX,GAAG,CAAC,CAAClB,MAAM,EAAEyC,GAAG;IAAA,IAAAC,kBAAA;IAAA,oBAC/B5D,KAAA,CAAA6B,aAAA,CAACpB,YAAY;MAACqB,GAAG,EAAE6B,GAAI;MAACA,GAAG,EAAEA,GAAG,GAAG,CAAE;MAACE,KAAK,GAAAD,kBAAA,GAAE1C,MAAM,CAAC4C,UAAU,cAAAF,kBAAA,uBAAjBA,kBAAA,CAAmBjC,QAAS;MAACoC,GAAG,EAAE7C,MAAM,CAAC8C,WAAY;MAACC,EAAE,EAAE,IAAIC,IAAI,CAAChD,MAAM,CAAC+C,EAAE;IAAE,EAAG;EAAA,CAC9H,CACF,CACA,EACA3C,SAAS,IAAIJ,MAAM,CAAC6B,OAAO,CAACC,MAAM,KAAK,CAAC,iBAAIhD,KAAA,CAAA6B,aAAA,CAACvB,gBAAgB;IAAC6D,KAAK,EAAErD,CAAC,CAAC,iBAAiB,CAAE;IAAC4C,IAAI,EAAC;EAAM,EACxE,CAChC,EAACpC,SAAS,IAAIJ,MAAM,CAAC6B,OAAO,CAACC,MAAM,GAAG,CAAC,iBACtChD,KAAA,CAAA6B,aAAA,CAACxC,mBAAmB,qBACnBW,KAAA,CAAA6B,aAAA,CAACzB,iBAAiB;IAACS,MAAM,EAAEA,MAAO;IAACuD,OAAO,EAAE,CAAClD,MAAM,CAACQ;EAAK,EACrC,CAEvB,CAAG;AAEL,CAAC;AAlHD/B,MAAA,CAAO0E,aAEN,CAkHc1D,cAjHd","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"6e93da5a46591153829a6bb7d60bc9111c752920"}
