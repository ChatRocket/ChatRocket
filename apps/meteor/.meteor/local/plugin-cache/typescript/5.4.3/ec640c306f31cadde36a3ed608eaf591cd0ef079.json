{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx","inputSourceMap":{"version":3,"file":"client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx","sourceRoot":"","sources":["client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx"],"names":[],"mappings":"AACA,OAAO,EAAE,WAAW,EAAE,MAAM,0BAA0B,CAAC;AAEvD,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAExC,OAAO,EACN,sBAAsB,EACtB,qBAAqB,EACrB,8BAA8B,EAC9B,uBAAuB,EACvB,qBAAqB,EACrB,2BAA2B,GAC3B,MAAM,6CAA6C,CAAC;AACrD,OAAO,aAAa,MAAM,iBAAiB,CAAC;AAC5C,OAAO,aAAa,MAAM,iBAAiB,CAAC;AAC5C,OAAO,cAAc,MAAM,kBAAkB,CAAC;AAW9C,MAAM,mBAAmB,GAAG,CAAC,EAC5B,EAAE,EACF,GAAG,EACH,WAAW,GAAG,KAAK,EACnB,SAAS,GAAG,KAAK,EACjB,QAAQ,GACkB,EAAuB,EAAE;IACnD,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAChD,MAAM,UAAU,GAAG,sBAAsB,EAAE,CAAC;IAC5C,MAAM,SAAS,GAAG,qBAAqB,EAAE,CAAC;IAC1C,MAAM,UAAU,GAAG,8BAA8B,EAAE,CAAC;IACpD,MAAM,WAAW,GAAG,uBAAuB,EAAE,CAAC;IAC9C,MAAM,SAAS,GAAG,qBAAqB,EAAE,CAAC;IAC1C,MAAM,eAAe,GAAG,2BAA2B,EAAE,CAAC;IACtD,MAAM,IAAI,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;IAE9B,IAAI,CAAC,IAAI,EAAE,CAAC;QACX,OAAO,IAAI,CAAC;IACb,CAAC;IAED,MAAM,aAAa,GAAG,GAAS,EAAE;QAChC,UAAU,CAAC,EAAE,CAAC,CAAC;IAChB,CAAC,CAAC;IAEF,MAAM,WAAW,GAAG,CAAC,EAAU,EAAQ,EAAE;QACxC,IAAI,WAAW,EAAE,CAAC;YACjB,UAAU,CAAC,EAAE,CAAC,CAAC;YACf,OAAO;QACR,CAAC;QAED,SAAS,EAAE,CAAC;IACb,CAAC,CAAC;IAEF,MAAM,UAAU,GAAG,GAAS,EAAE;QAC7B,WAAW,CAAC,EAAE,CAAC,CAAC;IACjB,CAAC,CAAC;IAEF,MAAM,eAAe,GAAG,KAAK,IAAmB,EAAE;QACjD,WAAW,CAAC,IAAI,CAAC,CAAC;QAClB,SAAS,CAAC,GAAG,CAAC,CAAC;IAChB,CAAC,CAAC;IAEF,IAAI,WAAW,EAAE,CAAC;QACjB,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,aAAa,CAAC,EAAG,CAAC;IACtI,CAAC;IAED,IAAI,SAAS,EAAE,CAAC;QACf,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,EAAG,CAAC;IACpE,CAAC;IAED,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,eAAe,CAAC,CAAC,SAAS,CAAC,CAAC,eAAe,CAAC,EAAG,CAAC;AACxH,CAAC,CAAC;AAEF,eAAe,mBAAmB,CAAC","sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useUserRoom } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState } from 'react';\n\nimport {\n\tuseVideoConfAcceptCall,\n\tuseVideoConfAbortCall,\n\tuseVideoConfRejectIncomingCall,\n\tuseVideoConfDismissCall,\n\tuseVideoConfStartCall,\n\tuseVideoConfDismissOutgoing,\n} from '../../../../../../contexts/VideoConfContext';\nimport IncomingPopup from './IncomingPopup';\nimport OutgoingPopup from './OutgoingPopup';\nimport StartCallPopup from './StartCallPopup';\n\ntype TimedVideoConfPopupProps = {\n\tid: string;\n\trid: IRoom['_id'];\n\tisReceiving?: boolean;\n\tisCalling?: boolean;\n\tposition: number;\n\tonClose?: (id: string) => void;\n};\n\nconst TimedVideoConfPopup = ({\n\tid,\n\trid,\n\tisReceiving = false,\n\tisCalling = false,\n\tposition,\n}: TimedVideoConfPopupProps): ReactElement | null => {\n\tconst [starting, setStarting] = useState(false);\n\tconst acceptCall = useVideoConfAcceptCall();\n\tconst abortCall = useVideoConfAbortCall();\n\tconst rejectCall = useVideoConfRejectIncomingCall();\n\tconst dismissCall = useVideoConfDismissCall();\n\tconst startCall = useVideoConfStartCall();\n\tconst dismissOutgoing = useVideoConfDismissOutgoing();\n\tconst room = useUserRoom(rid);\n\n\tif (!room) {\n\t\treturn null;\n\t}\n\n\tconst handleConfirm = (): void => {\n\t\tacceptCall(id);\n\t};\n\n\tconst handleClose = (id: string): void => {\n\t\tif (isReceiving) {\n\t\t\trejectCall(id);\n\t\t\treturn;\n\t\t}\n\n\t\tabortCall();\n\t};\n\n\tconst handleMute = (): void => {\n\t\tdismissCall(id);\n\t};\n\n\tconst handleStartCall = async (): Promise<void> => {\n\t\tsetStarting(true);\n\t\tstartCall(rid);\n\t};\n\n\tif (isReceiving) {\n\t\treturn <IncomingPopup room={room} id={id} position={position} onClose={handleClose} onMute={handleMute} onConfirm={handleConfirm} />;\n\t}\n\n\tif (isCalling) {\n\t\treturn <OutgoingPopup room={room} id={id} onClose={handleClose} />;\n\t}\n\n\treturn <StartCallPopup loading={starting} room={room} id={id} onClose={dismissOutgoing} onConfirm={handleStartCall} />;\n};\n\nexport default TimedVideoConfPopup;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx","inputSourceMap":{"version":3,"file":"client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx","sourceRoot":"","sources":["client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx"],"names":[],"mappings":"AACA,OAAO,EAAE,WAAW,EAAE,MAAM,0BAA0B,CAAC;AAEvD,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAExC,OAAO,EACN,sBAAsB,EACtB,qBAAqB,EACrB,8BAA8B,EAC9B,uBAAuB,EACvB,qBAAqB,EACrB,2BAA2B,GAC3B,MAAM,6CAA6C,CAAC;AACrD,OAAO,aAAa,MAAM,iBAAiB,CAAC;AAC5C,OAAO,aAAa,MAAM,iBAAiB,CAAC;AAC5C,OAAO,cAAc,MAAM,kBAAkB,CAAC;AAW9C,MAAM,mBAAmB,GAAG,CAAC,EAC5B,EAAE,EACF,GAAG,EACH,WAAW,GAAG,KAAK,EACnB,SAAS,GAAG,KAAK,EACjB,QAAQ,GACkB,EAAuB,EAAE;IACnD,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAChD,MAAM,UAAU,GAAG,sBAAsB,EAAE,CAAC;IAC5C,MAAM,SAAS,GAAG,qBAAqB,EAAE,CAAC;IAC1C,MAAM,UAAU,GAAG,8BAA8B,EAAE,CAAC;IACpD,MAAM,WAAW,GAAG,uBAAuB,EAAE,CAAC;IAC9C,MAAM,SAAS,GAAG,qBAAqB,EAAE,CAAC;IAC1C,MAAM,eAAe,GAAG,2BAA2B,EAAE,CAAC;IACtD,MAAM,IAAI,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;IAE9B,IAAI,CAAC,IAAI,EAAE,CAAC;QACX,OAAO,IAAI,CAAC;IACb,CAAC;IAED,MAAM,aAAa,GAAG,GAAS,EAAE;QAChC,UAAU,CAAC,EAAE,CAAC,CAAC;IAChB,CAAC,CAAC;IAEF,MAAM,WAAW,GAAG,CAAC,EAAU,EAAQ,EAAE;QACxC,IAAI,WAAW,EAAE,CAAC;YACjB,UAAU,CAAC,EAAE,CAAC,CAAC;YACf,OAAO;QACR,CAAC;QAED,SAAS,EAAE,CAAC;IACb,CAAC,CAAC;IAEF,MAAM,UAAU,GAAG,GAAS,EAAE;QAC7B,WAAW,CAAC,EAAE,CAAC,CAAC;IACjB,CAAC,CAAC;IAEF,MAAM,eAAe,GAAG,KAAK,IAAmB,EAAE;QACjD,WAAW,CAAC,IAAI,CAAC,CAAC;QAClB,SAAS,CAAC,GAAG,CAAC,CAAC;IAChB,CAAC,CAAC;IAEF,IAAI,WAAW,EAAE,CAAC;QACjB,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,aAAa,CAAC,EAAG,CAAC;IACtI,CAAC;IAED,IAAI,SAAS,EAAE,CAAC;QACf,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,EAAG,CAAC;IACpE,CAAC;IAED,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,eAAe,CAAC,CAAC,SAAS,CAAC,CAAC,eAAe,CAAC,EAAG,CAAC;AACxH,CAAC,CAAC;AAEF,eAAe,mBAAmB,CAAC","sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useUserRoom } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState } from 'react';\n\nimport {\n\tuseVideoConfAcceptCall,\n\tuseVideoConfAbortCall,\n\tuseVideoConfRejectIncomingCall,\n\tuseVideoConfDismissCall,\n\tuseVideoConfStartCall,\n\tuseVideoConfDismissOutgoing,\n} from '../../../../../../contexts/VideoConfContext';\nimport IncomingPopup from './IncomingPopup';\nimport OutgoingPopup from './OutgoingPopup';\nimport StartCallPopup from './StartCallPopup';\n\ntype TimedVideoConfPopupProps = {\n\tid: string;\n\trid: IRoom['_id'];\n\tisReceiving?: boolean;\n\tisCalling?: boolean;\n\tposition: number;\n\tonClose?: (id: string) => void;\n};\n\nconst TimedVideoConfPopup = ({\n\tid,\n\trid,\n\tisReceiving = false,\n\tisCalling = false,\n\tposition,\n}: TimedVideoConfPopupProps): ReactElement | null => {\n\tconst [starting, setStarting] = useState(false);\n\tconst acceptCall = useVideoConfAcceptCall();\n\tconst abortCall = useVideoConfAbortCall();\n\tconst rejectCall = useVideoConfRejectIncomingCall();\n\tconst dismissCall = useVideoConfDismissCall();\n\tconst startCall = useVideoConfStartCall();\n\tconst dismissOutgoing = useVideoConfDismissOutgoing();\n\tconst room = useUserRoom(rid);\n\n\tif (!room) {\n\t\treturn null;\n\t}\n\n\tconst handleConfirm = (): void => {\n\t\tacceptCall(id);\n\t};\n\n\tconst handleClose = (id: string): void => {\n\t\tif (isReceiving) {\n\t\t\trejectCall(id);\n\t\t\treturn;\n\t\t}\n\n\t\tabortCall();\n\t};\n\n\tconst handleMute = (): void => {\n\t\tdismissCall(id);\n\t};\n\n\tconst handleStartCall = async (): Promise<void> => {\n\t\tsetStarting(true);\n\t\tstartCall(rid);\n\t};\n\n\tif (isReceiving) {\n\t\treturn <IncomingPopup room={room} id={id} position={position} onClose={handleClose} onMute={handleMute} onConfirm={handleConfirm} />;\n\t}\n\n\tif (isCalling) {\n\t\treturn <OutgoingPopup room={room} id={id} onClose={handleClose} />;\n\t}\n\n\treturn <StartCallPopup loading={starting} room={room} id={id} onClose={dismissOutgoing} onConfirm={handleStartCall} />;\n};\n\nexport default TimedVideoConfPopup;\n"]}}},"code":"var _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nvar useUserRoom;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useUserRoom: function (v) {\n    useUserRoom = v;\n  }\n}, 0);\nvar React, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 1);\nvar useVideoConfAcceptCall, useVideoConfAbortCall, useVideoConfRejectIncomingCall, useVideoConfDismissCall, useVideoConfStartCall, useVideoConfDismissOutgoing;\nmodule.link(\"../../../../../../contexts/VideoConfContext\", {\n  useVideoConfAcceptCall: function (v) {\n    useVideoConfAcceptCall = v;\n  },\n  useVideoConfAbortCall: function (v) {\n    useVideoConfAbortCall = v;\n  },\n  useVideoConfRejectIncomingCall: function (v) {\n    useVideoConfRejectIncomingCall = v;\n  },\n  useVideoConfDismissCall: function (v) {\n    useVideoConfDismissCall = v;\n  },\n  useVideoConfStartCall: function (v) {\n    useVideoConfStartCall = v;\n  },\n  useVideoConfDismissOutgoing: function (v) {\n    useVideoConfDismissOutgoing = v;\n  }\n}, 2);\nvar IncomingPopup;\nmodule.link(\"./IncomingPopup\", {\n  \"default\": function (v) {\n    IncomingPopup = v;\n  }\n}, 3);\nvar OutgoingPopup;\nmodule.link(\"./OutgoingPopup\", {\n  \"default\": function (v) {\n    OutgoingPopup = v;\n  }\n}, 4);\nvar StartCallPopup;\nmodule.link(\"./StartCallPopup\", {\n  \"default\": function (v) {\n    StartCallPopup = v;\n  }\n}, 5);\nvar TimedVideoConfPopup = function (_ref) {\n  var id = _ref.id,\n    rid = _ref.rid,\n    _ref$isReceiving = _ref.isReceiving,\n    isReceiving = _ref$isReceiving === void 0 ? false : _ref$isReceiving,\n    _ref$isCalling = _ref.isCalling,\n    isCalling = _ref$isCalling === void 0 ? false : _ref$isCalling,\n    position = _ref.position;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    starting = _useState2[0],\n    setStarting = _useState2[1];\n  var acceptCall = useVideoConfAcceptCall();\n  var abortCall = useVideoConfAbortCall();\n  var rejectCall = useVideoConfRejectIncomingCall();\n  var dismissCall = useVideoConfDismissCall();\n  var startCall = useVideoConfStartCall();\n  var dismissOutgoing = useVideoConfDismissOutgoing();\n  var room = useUserRoom(rid);\n  if (!room) {\n    return null;\n  }\n  var handleConfirm = function () {\n    acceptCall(id);\n  };\n  var handleClose = function (id) {\n    if (isReceiving) {\n      rejectCall(id);\n      return;\n    }\n    abortCall();\n  };\n  var handleMute = function () {\n    dismissCall(id);\n  };\n  var handleStartCall = function () {\n    function _callee() {\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              setStarting(true);\n              startCall(rid);\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, null, Promise);\n    }\n    return _callee;\n  }();\n  if (isReceiving) {\n    return /*#__PURE__*/React.createElement(IncomingPopup, {\n      room: room,\n      id: id,\n      position: position,\n      onClose: handleClose,\n      onMute: handleMute,\n      onConfirm: handleConfirm\n    });\n  }\n  if (isCalling) {\n    return /*#__PURE__*/React.createElement(OutgoingPopup, {\n      room: room,\n      id: id,\n      onClose: handleClose\n    });\n  }\n  return /*#__PURE__*/React.createElement(StartCallPopup, {\n    loading: starting,\n    room: room,\n    id: id,\n    onClose: dismissOutgoing,\n    onConfirm: handleStartCall\n  });\n};\nmodule.exportDefault(TimedVideoConfPopup);","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","_slicedToArray","useUserRoom","React","useState","useVideoConfAcceptCall","useVideoConfAbortCall","useVideoConfRejectIncomingCall","useVideoConfDismissCall","useVideoConfStartCall","useVideoConfDismissOutgoing","IncomingPopup","OutgoingPopup","StartCallPopup","TimedVideoConfPopup","_ref","id","rid","_ref$isReceiving","isReceiving","_ref$isCalling","isCalling","position","_useState","_useState2","starting","setStarting","acceptCall","abortCall","rejectCall","dismissCall","startCall","dismissOutgoing","room","handleConfirm","handleClose","handleMute","handleStartCall","_callee","async","_callee$","_context","prev","next","stop","Promise","createElement","onClose","onMute","onConfirm","loading","exportDefault"],"sources":["client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useUserRoom } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState } from 'react';\n\nimport {\n\tuseVideoConfAcceptCall,\n\tuseVideoConfAbortCall,\n\tuseVideoConfRejectIncomingCall,\n\tuseVideoConfDismissCall,\n\tuseVideoConfStartCall,\n\tuseVideoConfDismissOutgoing,\n} from '../../../../../../contexts/VideoConfContext';\nimport IncomingPopup from './IncomingPopup';\nimport OutgoingPopup from './OutgoingPopup';\nimport StartCallPopup from './StartCallPopup';\n\ntype TimedVideoConfPopupProps = {\n\tid: string;\n\trid: IRoom['_id'];\n\tisReceiving?: boolean;\n\tisCalling?: boolean;\n\tposition: number;\n\tonClose?: (id: string) => void;\n};\n\nconst TimedVideoConfPopup = ({\n\tid,\n\trid,\n\tisReceiving = false,\n\tisCalling = false,\n\tposition,\n}: TimedVideoConfPopupProps): ReactElement | null => {\n\tconst [starting, setStarting] = useState(false);\n\tconst acceptCall = useVideoConfAcceptCall();\n\tconst abortCall = useVideoConfAbortCall();\n\tconst rejectCall = useVideoConfRejectIncomingCall();\n\tconst dismissCall = useVideoConfDismissCall();\n\tconst startCall = useVideoConfStartCall();\n\tconst dismissOutgoing = useVideoConfDismissOutgoing();\n\tconst room = useUserRoom(rid);\n\n\tif (!room) {\n\t\treturn null;\n\t}\n\n\tconst handleConfirm = (): void => {\n\t\tacceptCall(id);\n\t};\n\n\tconst handleClose = (id: string): void => {\n\t\tif (isReceiving) {\n\t\t\trejectCall(id);\n\t\t\treturn;\n\t\t}\n\n\t\tabortCall();\n\t};\n\n\tconst handleMute = (): void => {\n\t\tdismissCall(id);\n\t};\n\n\tconst handleStartCall = async (): Promise<void> => {\n\t\tsetStarting(true);\n\t\tstartCall(rid);\n\t};\n\n\tif (isReceiving) {\n\t\treturn <IncomingPopup room={room} id={id} position={position} onClose={handleClose} onMute={handleMute} onConfirm={handleConfirm} />;\n\t}\n\n\tif (isCalling) {\n\t\treturn <OutgoingPopup room={room} id={id} onClose={handleClose} />;\n\t}\n\n\treturn <StartCallPopup loading={starting} room={room} id={id} onClose={dismissOutgoing} onConfirm={handleStartCall} />;\n};\n\nexport default TimedVideoConfPopup;\n"],"mappings":"AACA,IAAAA,mBAAsB;AAAAC,MAAM,CAAAC,IAAA,6BAA2B;EAAAC,OAAA,WAAAA,CAAAC,CAAA;IAAAJ,mBAAA,GAAAI,CAAA;EAAA;AAAA;AAAA,IAAAC,cAAA;AAAAJ,MAAA,CAAAC,IAAA;EAAAC,OAAA,WAAAA,CAAAC,CAAA;IAAAC,cAAA,GAAAD,CAAA;EAAA;AAAA;AAAvD,IAAAE,WAAS;AAAAL,MAAa,CAAAC,IAAA,CAAM,0BAA0B,EAAC;EAAAI,WAAA,WAAAA,CAAAF,CAAA;IAAAE,WAAA,GAAAF,CAAA;EAAA;AAAA;AAAA,IAAAG,KAAA,EAAAC,QAAA;AAAAP,MAAA,CAAAC,IAAA;EAAA,oBAAAC,CAAAC,CAAA;IAAAG,KAAA,GAAAH,CAAA;EAAA;EAAAI,QAAA,WAAAA,CAAAJ,CAAA;IAAAI,QAAA,GAAAJ,CAAA;EAAA;AAAA;AAAA,IAAAK,sBAAA,EAAAC,qBAAA,EAAAC,8BAAA,EAAAC,uBAAA,EAAAC,qBAAA,EAAAC,2BAAA;AAAAb,MAAA,CAAAC,IAAA;EAAAO,sBAAA,WAAAA,CAAAL,CAAA;IAAAK,sBAAA,GAAAL,CAAA;EAAA;EAAAM,qBAAA,WAAAA,CAAAN,CAAA;IAAAM,qBAAA,GAAAN,CAAA;EAAA;EAAAO,8BAAA,WAAAA,CAAAP,CAAA;IAAAO,8BAAA,GAAAP,CAAA;EAAA;EAAAQ,uBAAA,WAAAA,CAAAR,CAAA;IAAAQ,uBAAA,GAAAR,CAAA;EAAA;EAAAS,qBAAA,WAAAA,CAAAT,CAAA;IAAAS,qBAAA,GAAAT,CAAA;EAAA;EAAAU,2BAAA,WAAAA,CAAAV,CAAA;IAAAU,2BAAA,GAAAV,CAAA;EAAA;AAAA;AAAA,IAAAW,aAAA;AAAAd,MAAA,CAAAC,IAAA;EAAA,oBAAAC,CAAAC,CAAA;IAAAW,aAAA,GAAAX,CAAA;EAAA;AAAA;AAAA,IAAAY,aAAA;AAAAf,MAAA,CAAAC,IAAA;EAAA,oBAAAC,CAAAC,CAAA;IAAAY,aAAA,GAAAZ,CAAA;EAAA;AAAA;AAAA,IAAAa,cAAA;AAAAhB,MAAA,CAAAC,IAAA;EAAA,oBAAAC,CAAAC,CAAA;IAAAa,cAAA,GAAAb,CAAA;EAAA;AAAA;AAyBvD,IAAMc,mBAAmB,GAAG,SAAAA,CAAAC,IAAA,EAMwB;EAAA,IALnDC,EAAE,GAAAD,IAAA,CAAFC,EAAE;IACFC,GAAG,GAAAF,IAAA,CAAHE,GAAG;IAAAC,gBAAA,GAAAH,IAAA,CACHI,WAAW;IAAXA,WAAW,GAAAD,gBAAA,cAAG,KAAK,GAAAA,gBAAA;IAAAE,cAAA,GAAAL,IAAA,CACnBM,SAAS;IAATA,SAAS,GAAAD,cAAA,cAAG,KAAK,GAAAA,cAAA;IACjBE,QAAQ,GAAAP,IAAA,CAARO,QAAQ;EAER,IAAAC,SAAA,GAAgCnB,QAAQ,CAAC,KAAK,CAAC;IAAAoB,UAAA,GAAAvB,cAAA,CAAAsB,SAAA;IAAxCE,QAAQ,GAAAD,UAAA;IAAEE,WAAW,GAAAF,UAAA;EAC5B,IAAMG,UAAU,GAAGtB,sBAAsB,EAAE;EAC3C,IAAMuB,SAAS,GAAGtB,qBAAqB,EAAE;EACzC,IAAMuB,UAAU,GAAGtB,8BAA8B,EAAE;EACnD,IAAMuB,WAAW,GAAGtB,uBAAuB,EAAE;EAC7C,IAAMuB,SAAS,GAAGtB,qBAAqB,EAAE;EACzC,IAAMuB,eAAe,GAAGtB,2BAA2B,EAAE;EACrD,IAAMuB,IAAI,GAAG/B,WAAW,CAACe,GAAG,CAAC;EAE7B,IAAI,CAACgB,IAAI,EAAE;IACV,OAAO,IAAI;EACZ;EAEA,IAAMC,aAAa,GAAG,SAAAA,CAAA,EAAW;IAChCP,UAAU,CAACX,EAAE,CAAC;EACf,CAAC;EAED,IAAMmB,WAAW,GAAG,SAAAA,CAACnB,EAAU,EAAU;IACxC,IAAIG,WAAW,EAAE;MAChBU,UAAU,CAACb,EAAE,CAAC;MACd;IACD;IAEAY,SAAS,EAAE;EACZ,CAAC;EAED,IAAMQ,UAAU,GAAG,SAAAA,CAAA,EAAW;IAC7BN,WAAW,CAACd,EAAE,CAAC;EAChB,CAAC;EAED,IAAMqB,eAAe;IAAG,SAAAC,QAAA;MAAA,OAAA1C,mBAAA,CAAA2C,KAAA;QAAA,SAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACvBjB,WAAW,CAAC,IAAI,CAAC;cACjBK,SAAS,CAACd,GAAG,CAAC;YAAC;YAAA;cAAA,OAAAwB,QAAA,CAAAG,IAAA;UAAA;QAAA;QAAA,OAAAJ,QAAA;MAAA,uBAAAK,OAAA;IAAA;IACf,OAAAP,OAAA;EAAA;EAED,IAAInB,WAAW,EAAE;IAChB,oBAAOhB,KAAA,CAAA2C,aAAA,CAACnC,aAAa;MAACsB,IAAI,EAAEA,IAAK;MAACjB,EAAE,EAAEA,EAAG;MAACM,QAAQ,EAAEA,QAAS;MAACyB,OAAO,EAAEZ,WAAY;MAACa,MAAM,EAAEZ,UAAW;MAACa,SAAS,EAAEf;IAAc,EAAG;EACrI;EAEA,IAAIb,SAAS,EAAE;IACd,oBAAOlB,KAAA,CAAA2C,aAAA,CAAClC,aAAa;MAACqB,IAAI,EAAEA,IAAK;MAACjB,EAAE,EAAEA,EAAG;MAAC+B,OAAO,EAAEZ;IAAY,EAAG;EACnE;EAEA,oBAAOhC,KAAA,CAAA2C,aAAA,CAACjC,cAAc;IAACqC,OAAO,EAAEzB,QAAS;IAACQ,IAAI,EAAEA,IAAK;IAACjB,EAAE,EAAEA,EAAG;IAAC+B,OAAO,EAAEf,eAAgB;IAACiB,SAAS,EAAEZ;EAAgB,EAAG;AACvH,CAAC;AA5EDxC,MAAA,CAAOsD,aAAa,CA8ELrC,mBA9EO","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"ec640c306f31cadde36a3ed608eaf591cd0ef079"}
