{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/moderation/helpers/DateRangePicker.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/admin/moderation/helpers/DateRangePicker.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/moderation/helpers/DateRangePicker.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/moderation/helpers/DateRangePicker.tsx","sourceRoot":"","sources":["client/views/admin/moderation/helpers/DateRangePicker.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,GAAG,EAAqB,MAAM,uBAAuB,CAAC;AACvE,OAAO,EAAE,kBAAkB,EAAE,MAAM,6BAA6B,CAAC;AACjE,OAAO,MAAuB,MAAM,QAAQ,CAAC;AAC7C,OAAO,KAAK,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAClD,OAAO,EAAE,cAAc,EAAE,MAAM,eAAe,CAAC;AAM/C,MAAM,iBAAiB,GAAG,CAAC,IAAY,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;AAEnF,MAAM,SAAS,GAAG,iBAAiB,CAAC,MAAM,EAAE,CAAC,CAAC;AAE9C,MAAM,aAAa,GAAG,CAAC,yBAAiC,EAAE,EAAE,CAAC,CAAC;IAC7D,KAAK,EAAE,iBAAiB,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,yBAAyB,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACvF,GAAG,EAAE,iBAAiB,CAAC,yBAAyB,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CACzH,CAAC,CAAC;AAEH,MAAM,YAAY,GAAG,CAAC,uBAA+B,EAAE,qBAA6B,EAAE,EAAE,CAAC,CAAC;IACzF,KAAK,EAAE,iBAAiB,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;IAC3E,GAAG,EAAE,iBAAiB,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC;CACvE,CAAC,CAAC;AAEH,MAAM,eAAe,GAAG,CAAC,EAAE,QAAQ,EAAwB,EAAE,EAAE;IAC9D,MAAM,EAAE,CAAC,EAAE,GAAG,cAAc,EAAE,CAAC;IAE/B,MAAM,WAAW,GAAG,kBAAkB,CAAC,CAAC,KAAK,EAAE,EAAE;QAChD,QAAQ,CAAC,KAAK,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC;IAEH,MAAM,WAAW,GAAG,OAAO,CAAiB,GAAG,EAAE;QAChD,OAAO;YACN,CAAC,OAAO,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;YACrB,CAAC,WAAW,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC;YAC7B,CAAC,UAAU,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC;YAC5B,CAAC,cAAc,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC;YACpC,CAAC,WAAW,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC;YAC9B,CAAC,UAAU,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;SACtB,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,EAAE,KAAK,CAAiB,CAAC,CAAC;IAC3D,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAER,SAAS,CAAC,GAAG,EAAE;QACd,WAAW,CAAC;YACX,KAAK,EAAE,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACnC,GAAG,EAAE,SAAS;SACd,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;IAElB,MAAM,iBAAiB,GAAG,kBAAkB,CAAC,CAAC,MAAM,EAAE,EAAE;QACvD,QAAQ,MAAM,EAAE,CAAC;YAChB,KAAK,OAAO;gBACX,WAAW,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBAChC,MAAM;YACP,KAAK,WAAW;gBACf,WAAW,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBAChC,MAAM;YACP,KAAK,UAAU;gBACd,WAAW,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBAChC,MAAM;YACP,KAAK,cAAc;gBAClB,WAAW,CAAC,YAAY,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;gBACjC,MAAM;YACP,KAAK,WAAW;gBACf,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9B,MAAM;YACP,KAAK,UAAU;gBACd,WAAW,CAAC;oBACX,KAAK,EAAE,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBACnC,GAAG,EAAE,SAAS;iBACd,CAAC,CAAC;gBACH,MAAM;YACP;gBACC,MAAM;QACR,CAAC;IACF,CAAC,CAAC,CAAC;IAEH,OAAO,CACN,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChB;GAAA,CAAC,MAAM,CAAC,kBAAkB,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,EACtG;EAAA,EAAE,GAAG,CAAC,CACN,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,eAAe,CAAC","sourcesContent":["import { Select, Box, type SelectOption } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport moment, { type Moment } from 'moment';\nimport React, { useMemo, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype DateRangePickerProps = {\n\tonChange(range: { start: string; end: string }): void;\n};\n\nconst formatToDateInput = (date: Moment) => date.locale('en').format('YYYY-MM-DD');\n\nconst todayDate = formatToDateInput(moment());\n\nconst getMonthRange = (monthsToSubtractFromToday: number) => ({\n\tstart: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\n\tend: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0)),\n});\n\nconst getWeekRange = (daysToSubtractFromStart: number, daysToSubtractFromEnd: number) => ({\n\tstart: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\n\tend: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day')),\n});\n\nconst DateRangePicker = ({ onChange }: DateRangePickerProps) => {\n\tconst { t } = useTranslation();\n\n\tconst handleRange = useMutableCallback((range) => {\n\t\tonChange(range);\n\t});\n\n\tconst timeOptions = useMemo<SelectOption[]>(() => {\n\t\treturn [\n\t\t\t['today', t('Today')],\n\t\t\t['yesterday', t('Yesterday')],\n\t\t\t['thisWeek', t('This_week')],\n\t\t\t['previousWeek', t('Previous_week')],\n\t\t\t['thisMonth', t('This_month')],\n\t\t\t['alldates', t('All')],\n\t\t].map(([value, label]) => [value, label] as SelectOption);\n\t}, [t]);\n\n\tuseEffect(() => {\n\t\thandleRange({\n\t\t\tstart: formatToDateInput(moment(0)),\n\t\t\tend: todayDate,\n\t\t});\n\t}, [handleRange]);\n\n\tconst handleOptionClick = useMutableCallback((action) => {\n\t\tswitch (action) {\n\t\t\tcase 'today':\n\t\t\t\thandleRange(getWeekRange(0, 0));\n\t\t\t\tbreak;\n\t\t\tcase 'yesterday':\n\t\t\t\thandleRange(getWeekRange(1, 1));\n\t\t\t\tbreak;\n\t\t\tcase 'thisWeek':\n\t\t\t\thandleRange(getWeekRange(7, 0));\n\t\t\t\tbreak;\n\t\t\tcase 'previousWeek':\n\t\t\t\thandleRange(getWeekRange(14, 7));\n\t\t\t\tbreak;\n\t\t\tcase 'thisMonth':\n\t\t\t\thandleRange(getMonthRange(0));\n\t\t\t\tbreak;\n\t\t\tcase 'alldates':\n\t\t\t\thandleRange({\n\t\t\t\t\tstart: formatToDateInput(moment(0)),\n\t\t\t\t\tend: todayDate,\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn (\n\t\t<Box flexGrow={0}>\n\t\t\t<Select defaultSelectedKey='alldates' width='100%' options={timeOptions} onChange={handleOptionClick} />\n\t\t</Box>\n\t);\n};\n\nexport default DateRangePicker;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/moderation/helpers/DateRangePicker.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/moderation/helpers/DateRangePicker.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/moderation/helpers/DateRangePicker.tsx","sourceRoot":"","sources":["client/views/admin/moderation/helpers/DateRangePicker.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Select, Box, type SelectOption } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport moment, { type Moment } from 'moment';\nimport React, { useMemo, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype DateRangePickerProps = {\n\tonChange(range: { start: string; end: string }): void;\n};\n\nconst formatToDateInput = (date: Moment) => date.locale('en').format('YYYY-MM-DD');\n\nconst todayDate = formatToDateInput(moment());\n\nconst getMonthRange = (monthsToSubtractFromToday: number) => ({\n\tstart: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\n\tend: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0)),\n});\n\nconst getWeekRange = (daysToSubtractFromStart: number, daysToSubtractFromEnd: number) => ({\n\tstart: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\n\tend: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day')),\n});\n\nconst DateRangePicker = ({ onChange }: DateRangePickerProps) => {\n\tconst { t } = useTranslation();\n\n\tconst handleRange = useMutableCallback((range) => {\n\t\tonChange(range);\n\t});\n\n\tconst timeOptions = useMemo<SelectOption[]>(() => {\n\t\treturn [\n\t\t\t['today', t('Today')],\n\t\t\t['yesterday', t('Yesterday')],\n\t\t\t['thisWeek', t('This_week')],\n\t\t\t['previousWeek', t('Previous_week')],\n\t\t\t['thisMonth', t('This_month')],\n\t\t\t['alldates', t('All')],\n\t\t].map(([value, label]) => [value, label] as SelectOption);\n\t}, [t]);\n\n\tuseEffect(() => {\n\t\thandleRange({\n\t\t\tstart: formatToDateInput(moment(0)),\n\t\t\tend: todayDate,\n\t\t});\n\t}, [handleRange]);\n\n\tconst handleOptionClick = useMutableCallback((action) => {\n\t\tswitch (action) {\n\t\t\tcase 'today':\n\t\t\t\thandleRange(getWeekRange(0, 0));\n\t\t\t\tbreak;\n\t\t\tcase 'yesterday':\n\t\t\t\thandleRange(getWeekRange(1, 1));\n\t\t\t\tbreak;\n\t\t\tcase 'thisWeek':\n\t\t\t\thandleRange(getWeekRange(7, 0));\n\t\t\t\tbreak;\n\t\t\tcase 'previousWeek':\n\t\t\t\thandleRange(getWeekRange(14, 7));\n\t\t\t\tbreak;\n\t\t\tcase 'thisMonth':\n\t\t\t\thandleRange(getMonthRange(0));\n\t\t\t\tbreak;\n\t\t\tcase 'alldates':\n\t\t\t\thandleRange({\n\t\t\t\t\tstart: formatToDateInput(moment(0)),\n\t\t\t\t\tend: todayDate,\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn (\n\t\t<Box flexGrow={0}>\n\t\t\t<Select defaultSelectedKey='alldates' width='100%' options={timeOptions} onChange={handleOptionClick} />\n\t\t</Box>\n\t);\n};\n\nexport default DateRangePicker;\n"]}}},"code":"let Select, Box;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Select(v) {\n    Select = v;\n  },\n  Box(v) {\n    Box = v;\n  }\n}, 0);\nlet useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  }\n}, 1);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n}, 2);\nlet React, useMemo, useEffect;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  },\n  useEffect(v) {\n    useEffect = v;\n  }\n}, 3);\nlet useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 4);\nconst formatToDateInput = date => date.locale('en').format('YYYY-MM-DD');\nconst todayDate = formatToDateInput(moment());\nconst getMonthRange = monthsToSubtractFromToday => ({\n  start: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\n  end: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0))\n});\nconst getWeekRange = (daysToSubtractFromStart, daysToSubtractFromEnd) => ({\n  start: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\n  end: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day'))\n});\nconst DateRangePicker = _ref => {\n  let {\n    onChange\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const handleRange = useMutableCallback(range => {\n    onChange(range);\n  });\n  const timeOptions = useMemo(() => {\n    return [['today', t('Today')], ['yesterday', t('Yesterday')], ['thisWeek', t('This_week')], ['previousWeek', t('Previous_week')], ['thisMonth', t('This_month')], ['alldates', t('All')]].map(_ref2 => {\n      let [value, label] = _ref2;\n      return [value, label];\n    });\n  }, [t]);\n  useEffect(() => {\n    handleRange({\n      start: formatToDateInput(moment(0)),\n      end: todayDate\n    });\n  }, [handleRange]);\n  const handleOptionClick = useMutableCallback(action => {\n    switch (action) {\n      case 'today':\n        handleRange(getWeekRange(0, 0));\n        break;\n      case 'yesterday':\n        handleRange(getWeekRange(1, 1));\n        break;\n      case 'thisWeek':\n        handleRange(getWeekRange(7, 0));\n        break;\n      case 'previousWeek':\n        handleRange(getWeekRange(14, 7));\n        break;\n      case 'thisMonth':\n        handleRange(getMonthRange(0));\n        break;\n      case 'alldates':\n        handleRange({\n          start: formatToDateInput(moment(0)),\n          end: todayDate\n        });\n        break;\n      default:\n        break;\n    }\n  });\n  return /*#__PURE__*/React.createElement(Box, {\n    flexGrow: 0\n  }, /*#__PURE__*/React.createElement(Select, {\n    defaultSelectedKey: \"alldates\",\n    width: \"100%\",\n    options: timeOptions,\n    onChange: handleOptionClick\n  }));\n};\nmodule.exportDefault(DateRangePicker);","map":{"version":3,"names":["Select","Box","module","link","v","useMutableCallback","moment","default","React","useMemo","useEffect","useTranslation","formatToDateInput","date","locale","format","todayDate","getMonthRange","monthsToSubtractFromToday","start","subtract","end","getWeekRange","daysToSubtractFromStart","daysToSubtractFromEnd","DateRangePicker","_ref","onChange","t","handleRange","range","timeOptions","map","_ref2","value","label","handleOptionClick","action","createElement","flexGrow","defaultSelectedKey","width","options","exportDefault"],"sources":["client/views/admin/moderation/helpers/DateRangePicker.tsx"],"sourcesContent":["import { Select, Box, type SelectOption } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport moment, { type Moment } from 'moment';\nimport React, { useMemo, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype DateRangePickerProps = {\n\tonChange(range: { start: string; end: string }): void;\n};\n\nconst formatToDateInput = (date: Moment) => date.locale('en').format('YYYY-MM-DD');\n\nconst todayDate = formatToDateInput(moment());\n\nconst getMonthRange = (monthsToSubtractFromToday: number) => ({\n\tstart: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\n\tend: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0)),\n});\n\nconst getWeekRange = (daysToSubtractFromStart: number, daysToSubtractFromEnd: number) => ({\n\tstart: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\n\tend: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day')),\n});\n\nconst DateRangePicker = ({ onChange }: DateRangePickerProps) => {\n\tconst { t } = useTranslation();\n\n\tconst handleRange = useMutableCallback((range) => {\n\t\tonChange(range);\n\t});\n\n\tconst timeOptions = useMemo<SelectOption[]>(() => {\n\t\treturn [\n\t\t\t['today', t('Today')],\n\t\t\t['yesterday', t('Yesterday')],\n\t\t\t['thisWeek', t('This_week')],\n\t\t\t['previousWeek', t('Previous_week')],\n\t\t\t['thisMonth', t('This_month')],\n\t\t\t['alldates', t('All')],\n\t\t].map(([value, label]) => [value, label] as SelectOption);\n\t}, [t]);\n\n\tuseEffect(() => {\n\t\thandleRange({\n\t\t\tstart: formatToDateInput(moment(0)),\n\t\t\tend: todayDate,\n\t\t});\n\t}, [handleRange]);\n\n\tconst handleOptionClick = useMutableCallback((action) => {\n\t\tswitch (action) {\n\t\t\tcase 'today':\n\t\t\t\thandleRange(getWeekRange(0, 0));\n\t\t\t\tbreak;\n\t\t\tcase 'yesterday':\n\t\t\t\thandleRange(getWeekRange(1, 1));\n\t\t\t\tbreak;\n\t\t\tcase 'thisWeek':\n\t\t\t\thandleRange(getWeekRange(7, 0));\n\t\t\t\tbreak;\n\t\t\tcase 'previousWeek':\n\t\t\t\thandleRange(getWeekRange(14, 7));\n\t\t\t\tbreak;\n\t\t\tcase 'thisMonth':\n\t\t\t\thandleRange(getMonthRange(0));\n\t\t\t\tbreak;\n\t\t\tcase 'alldates':\n\t\t\t\thandleRange({\n\t\t\t\t\tstart: formatToDateInput(moment(0)),\n\t\t\t\t\tend: todayDate,\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn (\n\t\t<Box flexGrow={0}>\n\t\t\t<Select defaultSelectedKey='alldates' width='100%' options={timeOptions} onChange={handleOptionClick} />\n\t\t</Box>\n\t);\n};\n\nexport default DateRangePicker;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"bf4076f9b22e07e8d0579769b9235278def44d38"}
