{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/server/routes/avatar/middlewares/browserVersion.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","objectRestSpread","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.arm64"},"sourceFileName":"server/routes/avatar/middlewares/browserVersion.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/server/routes/avatar/middlewares/browserVersion.ts","inputSourceMap":{"version":3,"file":"server/routes/avatar/middlewares/browserVersion.ts","sourceRoot":"","sources":["server/routes/avatar/middlewares/browserVersion.ts"],"names":[],"mappings":"AAIA,OAAO,EAAE,OAAO,EAAE,MAAM,uBAAuB,CAAC;AAChD,OAAO,MAAM,MAAM,cAAc,CAAC;AAElC,OAAO,EAAE,MAAM,EAAE,MAAM,qCAAqC,CAAC;AAE7D,MAAM,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;AAE9B,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,SAAoC,EAAE,EAAE;IACvE,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,OAAO,EAAE,CAAC;QAC7D,OAAO,KAAK,CAAC;IACd,CAAC;IACD,OAAO,SAAS,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,IAAI,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;AACpF,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,yBAAyB,GAAG,CAAC,OAAwB,EAAE,GAAmB,EAAE,IAAkB,EAAE,EAAE;IAC9G,MAAM,GAAG,GAAG,OAA2B,CAAC;IAExC,MAAM,mBAAmB,GAAG,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IACrF,IAAI,mBAAmB,KAAK,QAAQ,EAAE,CAAC;QACtC,OAAO,IAAI,EAAE,CAAC;IACf,CAAC;IAED,MAAM,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;IACpD,IAAI,mBAAmB,KAAK,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,EAAE,CAAC;QACpE,OAAO,IAAI,EAAE,CAAC;IACf,CAAC;IAED,GAAG,CAAC,SAAS,CAAC,cAAc,EAAE,0BAA0B,CAAC,CAAC;IAE1D,GAAG,CAAC,KAAK,CAAC;;;;;;;;;;;;;;;;;;;;;4BAqBiB,MAAM,CAAC,iBAAiB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAuFnD,CAAC,CAAC;IAEH,OAAO,GAAG,CAAC,GAAG,EAAE,CAAC;AAClB,CAAC,CAAC","sourcesContent":["import type { IncomingMessage, ServerResponse } from 'http';\n\nimport type { IIncomingMessage } from '@rocket.chat/core-typings';\nimport type { NextFunction } from 'connect';\nimport { Cookies } from 'meteor/ostrio:cookies';\nimport parser from 'ua-parser-js';\n\nimport { getURL } from '../../../../app/utils/server/getURL';\n\nconst cookies = new Cookies();\n\nexport const isIEOlderThan11 = (userAgent: ReturnType<typeof parser>) => {\n\tif (!userAgent?.browser.name || !userAgent?.browser.version) {\n\t\treturn false;\n\t}\n\treturn userAgent.browser.name === 'IE' && parseInt(userAgent.browser.version) < 11;\n};\n\nexport const handleBrowserVersionCheck = (request: IncomingMessage, res: ServerResponse, next: NextFunction) => {\n\tconst req = request as IIncomingMessage;\n\n\tconst browserVersionCheck = cookies.get('browser_version_check', req.headers.cookie);\n\tif (browserVersionCheck === 'bypass') {\n\t\treturn next();\n\t}\n\n\tconst userAgent = parser(req.headers['user-agent']);\n\tif (browserVersionCheck !== 'force' && !isIEOlderThan11(userAgent)) {\n\t\treturn next();\n\t}\n\n\tres.setHeader('content-type', 'text/html; charset=utf-8');\n\n\tres.write(`\n\t\t<style>\n\t\t\tbody {\n\t\t\t\tmargin: 0;\n\t\t\t\tfont-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Helvetica Neue','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Meiryo UI',Arial,sans-serif;\n\t\t\t}\n\n\t\t\t.rcx-box--text-style-headline {\n\t\t\t\tletter-spacing: 0rem;\n\t\t\t\tfont-family: Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Helvetica Neue, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Meiryo UI, Arial, sans-serif;\n\t\t\t\tfont-size: 1.375rem;\n\t\t\t\tfont-weight: 400;\n\t\t\t\tline-height: 2rem;\n\t\t\t}\n\n\t\t\t.not-supported-browser {\n\t\t\t\twidth: 100%;\n\t\t\t\tmin-height: 100vh;\n\n\t\t\t\ttext-align: center;\n\n\t\t\t\tbackground-image: url(${getURL('/images/404.svg')});\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tbackground-position: center;\n\t\t\t\tbackground-size: cover;\n\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\n\t\t\t\t&__404 {\n\t\t\t\t\tfont-size: 4em;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.not-supported-browser__text {\n\t\t\t\tfont-size: 4em;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\n\t\t\t.rcx-box--text-color-alternative {\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\n\t\t\t.rcx-box, .rcx-box::before, .rcx-box::after {\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\ttransition: all 230ms;\n\t\t\t\tborder-width: 0;\n\t\t\t\tborder-style: solid;\n\t\t\t\tborder-color: currentColor;\n\t\t\t\toutline: none;\n\t\t\t\t-webkit-font-smoothing: antialiased;\n\t\t\t\t-moz-osx-font-smoothing: grayscale;\n\t\t\t\tfont-variant-numeric: tabular-nums;\n\t\t\t}\n\n\t\t\t.rcx-button {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\ttext-align: center;\n\t\t\t\tvertical-align: middle;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcursor: pointer;\n\t\t\t\toutline: 0;\n\t\t\t\tletter-spacing: 0rem;\n\t\t\t\tfont-family: Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Helvetica Neue, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Meiryo UI, Arial, sans-serif;\n\t\t\t\tfont-size: 0.875rem;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tline-height: 1.25rem;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\tpadding: 7px 15px;\n\t\t\t\tpadding-top: 7px;\n\t\t\t\tpadding-bottom: 7px;\n\t\t\t\tpadding-block: 7px;\n\t\t\t\tpadding-left: 15px;\n\t\t\t\tpadding-right: 15px;\n\t\t\t\tpadding-inline: 15px;\n\t\t\t}\n\n\t\t\t.rcx-button--primary {\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tborder-width: 0.125rem;\n\t\t\t\tborder-style: solid;\n\t\t\t\tborder-color: #1d74f5;\n\t\t\t\tborder-radius: 0.125rem;\n\t\t\t\tbackground-color: #1d74f5;\n\t\t\t\t-webkit-appearance: none;\n\t\t\t\t-moz-appearance: none;\n\t\t\t\tappearance: none;\n\t\t\t}\n\n\t\t\t.rcx-box--text-color-primary {\n\t\t\t\tcolor: #1d74f5;\n\t\t\t}\n\t\t\t.rcx-box.rcx-\\@s6mi60{margin:0.75rem !important;}.rcx-box.rcx-\\@19aubzx{margin:2rem !important;}.rcx-box.rcx-\\@1kgm1vs{-webkit-align-items:center !important;-webkit-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;-webkit-box-pack:center !important;-webkit-justify-content:center !important;-ms-flex-pack:center !important;justify-content:center !important;-webkit-flex-direction:column !important;-ms-flex-direction:column !important;flex-direction:column !important;}.rcx-box.rcx-\\@1qvl0ud{display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;}\n\t\t</style>\n\n\t\t<section class=\"rcx-box not-supported-browser rcx-@1kgm1vs rcx-@1qvl0ud\">\n\t\t\t<div class=\"rcx-box\">\n\t\t\t\t<div class=\"rcx-box rcx-box--text-color-alternative not-supported-browser__text rcx-@s6mi60\">Browser not supported</div>\n\t\t\t\t<a class=\"rcx-box rcx-button rcx-button--primary\" href=\"https://rocket.chat/docs/getting-support/#supported-browser-versions\" target=\"_blank\">Check the documentation</a>\n\t\t\t\t<a class=\"rcx-box rcx-button rcx-button--primary\" href=\"#\" onclick=\"document.cookie = 'browser_version_check=bypass; path=/'; location.reload(true);\">Proceed anyway</a>\n\t\t\t</div>\n\t\t</section>\n\t`);\n\n\treturn res.end();\n};\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true,"topLevelAwait":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/server/routes/avatar/middlewares/browserVersion.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"server/routes/avatar/middlewares/browserVersion.ts","inputSourceMap":{"version":3,"file":"server/routes/avatar/middlewares/browserVersion.ts","sourceRoot":"","sources":["server/routes/avatar/middlewares/browserVersion.ts"],"names":[],"mappings":"AAIA,OAAO,EAAE,OAAO,EAAE,MAAM,uBAAuB,CAAC;AAChD,OAAO,MAAM,MAAM,cAAc,CAAC;AAElC,OAAO,EAAE,MAAM,EAAE,MAAM,qCAAqC,CAAC;AAE7D,MAAM,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;AAE9B,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,SAAoC,EAAE,EAAE;IACvE,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,OAAO,EAAE,CAAC;QAC7D,OAAO,KAAK,CAAC;IACd,CAAC;IACD,OAAO,SAAS,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,IAAI,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;AACpF,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,yBAAyB,GAAG,CAAC,OAAwB,EAAE,GAAmB,EAAE,IAAkB,EAAE,EAAE;IAC9G,MAAM,GAAG,GAAG,OAA2B,CAAC;IAExC,MAAM,mBAAmB,GAAG,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IACrF,IAAI,mBAAmB,KAAK,QAAQ,EAAE,CAAC;QACtC,OAAO,IAAI,EAAE,CAAC;IACf,CAAC;IAED,MAAM,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;IACpD,IAAI,mBAAmB,KAAK,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,EAAE,CAAC;QACpE,OAAO,IAAI,EAAE,CAAC;IACf,CAAC;IAED,GAAG,CAAC,SAAS,CAAC,cAAc,EAAE,0BAA0B,CAAC,CAAC;IAE1D,GAAG,CAAC,KAAK,CAAC;;;;;;;;;;;;;;;;;;;;;4BAqBiB,MAAM,CAAC,iBAAiB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAuFnD,CAAC,CAAC;IAEH,OAAO,GAAG,CAAC,GAAG,EAAE,CAAC;AAClB,CAAC,CAAC","sourcesContent":["import type { IncomingMessage, ServerResponse } from 'http';\n\nimport type { IIncomingMessage } from '@rocket.chat/core-typings';\nimport type { NextFunction } from 'connect';\nimport { Cookies } from 'meteor/ostrio:cookies';\nimport parser from 'ua-parser-js';\n\nimport { getURL } from '../../../../app/utils/server/getURL';\n\nconst cookies = new Cookies();\n\nexport const isIEOlderThan11 = (userAgent: ReturnType<typeof parser>) => {\n\tif (!userAgent?.browser.name || !userAgent?.browser.version) {\n\t\treturn false;\n\t}\n\treturn userAgent.browser.name === 'IE' && parseInt(userAgent.browser.version) < 11;\n};\n\nexport const handleBrowserVersionCheck = (request: IncomingMessage, res: ServerResponse, next: NextFunction) => {\n\tconst req = request as IIncomingMessage;\n\n\tconst browserVersionCheck = cookies.get('browser_version_check', req.headers.cookie);\n\tif (browserVersionCheck === 'bypass') {\n\t\treturn next();\n\t}\n\n\tconst userAgent = parser(req.headers['user-agent']);\n\tif (browserVersionCheck !== 'force' && !isIEOlderThan11(userAgent)) {\n\t\treturn next();\n\t}\n\n\tres.setHeader('content-type', 'text/html; charset=utf-8');\n\n\tres.write(`\n\t\t<style>\n\t\t\tbody {\n\t\t\t\tmargin: 0;\n\t\t\t\tfont-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Helvetica Neue','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Meiryo UI',Arial,sans-serif;\n\t\t\t}\n\n\t\t\t.rcx-box--text-style-headline {\n\t\t\t\tletter-spacing: 0rem;\n\t\t\t\tfont-family: Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Helvetica Neue, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Meiryo UI, Arial, sans-serif;\n\t\t\t\tfont-size: 1.375rem;\n\t\t\t\tfont-weight: 400;\n\t\t\t\tline-height: 2rem;\n\t\t\t}\n\n\t\t\t.not-supported-browser {\n\t\t\t\twidth: 100%;\n\t\t\t\tmin-height: 100vh;\n\n\t\t\t\ttext-align: center;\n\n\t\t\t\tbackground-image: url(${getURL('/images/404.svg')});\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tbackground-position: center;\n\t\t\t\tbackground-size: cover;\n\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\n\t\t\t\t&__404 {\n\t\t\t\t\tfont-size: 4em;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.not-supported-browser__text {\n\t\t\t\tfont-size: 4em;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\n\t\t\t.rcx-box--text-color-alternative {\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\n\t\t\t.rcx-box, .rcx-box::before, .rcx-box::after {\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\ttransition: all 230ms;\n\t\t\t\tborder-width: 0;\n\t\t\t\tborder-style: solid;\n\t\t\t\tborder-color: currentColor;\n\t\t\t\toutline: none;\n\t\t\t\t-webkit-font-smoothing: antialiased;\n\t\t\t\t-moz-osx-font-smoothing: grayscale;\n\t\t\t\tfont-variant-numeric: tabular-nums;\n\t\t\t}\n\n\t\t\t.rcx-button {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\ttext-align: center;\n\t\t\t\tvertical-align: middle;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcursor: pointer;\n\t\t\t\toutline: 0;\n\t\t\t\tletter-spacing: 0rem;\n\t\t\t\tfont-family: Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Helvetica Neue, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Meiryo UI, Arial, sans-serif;\n\t\t\t\tfont-size: 0.875rem;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tline-height: 1.25rem;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\tpadding: 7px 15px;\n\t\t\t\tpadding-top: 7px;\n\t\t\t\tpadding-bottom: 7px;\n\t\t\t\tpadding-block: 7px;\n\t\t\t\tpadding-left: 15px;\n\t\t\t\tpadding-right: 15px;\n\t\t\t\tpadding-inline: 15px;\n\t\t\t}\n\n\t\t\t.rcx-button--primary {\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tborder-width: 0.125rem;\n\t\t\t\tborder-style: solid;\n\t\t\t\tborder-color: #1d74f5;\n\t\t\t\tborder-radius: 0.125rem;\n\t\t\t\tbackground-color: #1d74f5;\n\t\t\t\t-webkit-appearance: none;\n\t\t\t\t-moz-appearance: none;\n\t\t\t\tappearance: none;\n\t\t\t}\n\n\t\t\t.rcx-box--text-color-primary {\n\t\t\t\tcolor: #1d74f5;\n\t\t\t}\n\t\t\t.rcx-box.rcx-\\@s6mi60{margin:0.75rem !important;}.rcx-box.rcx-\\@19aubzx{margin:2rem !important;}.rcx-box.rcx-\\@1kgm1vs{-webkit-align-items:center !important;-webkit-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;-webkit-box-pack:center !important;-webkit-justify-content:center !important;-ms-flex-pack:center !important;justify-content:center !important;-webkit-flex-direction:column !important;-ms-flex-direction:column !important;flex-direction:column !important;}.rcx-box.rcx-\\@1qvl0ud{display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;}\n\t\t</style>\n\n\t\t<section class=\"rcx-box not-supported-browser rcx-@1kgm1vs rcx-@1qvl0ud\">\n\t\t\t<div class=\"rcx-box\">\n\t\t\t\t<div class=\"rcx-box rcx-box--text-color-alternative not-supported-browser__text rcx-@s6mi60\">Browser not supported</div>\n\t\t\t\t<a class=\"rcx-box rcx-button rcx-button--primary\" href=\"https://rocket.chat/docs/getting-support/#supported-browser-versions\" target=\"_blank\">Check the documentation</a>\n\t\t\t\t<a class=\"rcx-box rcx-button rcx-button--primary\" href=\"#\" onclick=\"document.cookie = 'browser_version_check=bypass; path=/'; location.reload(true);\">Proceed anyway</a>\n\t\t\t</div>\n\t\t</section>\n\t`);\n\n\treturn res.end();\n};\n"]}}},"code":"!module.wrapAsync(async function (module, __reifyWaitForDeps__, __reify_async_result__) {\n  \"use strict\";\n  try {\n    module.export({\n      isIEOlderThan11: () => isIEOlderThan11,\n      handleBrowserVersionCheck: () => handleBrowserVersionCheck\n    });\n    let Cookies;\n    module.link(\"meteor/ostrio:cookies\", {\n      Cookies(v) {\n        Cookies = v;\n      }\n    }, 0);\n    let parser;\n    module.link(\"ua-parser-js\", {\n      default(v) {\n        parser = v;\n      }\n    }, 1);\n    let getURL;\n    module.link(\"../../../../app/utils/server/getURL\", {\n      getURL(v) {\n        getURL = v;\n      }\n    }, 2);\n    if (__reifyWaitForDeps__()) (await __reifyWaitForDeps__())();\n    const cookies = new Cookies();\n    const isIEOlderThan11 = userAgent => {\n      if (!(userAgent !== null && userAgent !== void 0 && userAgent.browser.name) || !(userAgent !== null && userAgent !== void 0 && userAgent.browser.version)) {\n        return false;\n      }\n      return userAgent.browser.name === 'IE' && parseInt(userAgent.browser.version) < 11;\n    };\n    const handleBrowserVersionCheck = (request, res, next) => {\n      const req = request;\n      const browserVersionCheck = cookies.get('browser_version_check', req.headers.cookie);\n      if (browserVersionCheck === 'bypass') {\n        return next();\n      }\n      const userAgent = parser(req.headers['user-agent']);\n      if (browserVersionCheck !== 'force' && !isIEOlderThan11(userAgent)) {\n        return next();\n      }\n      res.setHeader('content-type', 'text/html; charset=utf-8');\n      res.write(\"\\n\\t\\t<style>\\n\\t\\t\\tbody {\\n\\t\\t\\t\\tmargin: 0;\\n\\t\\t\\t\\tfont-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Helvetica Neue','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Meiryo UI',Arial,sans-serif;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.rcx-box--text-style-headline {\\n\\t\\t\\t\\tletter-spacing: 0rem;\\n\\t\\t\\t\\tfont-family: Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Helvetica Neue, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Meiryo UI, Arial, sans-serif;\\n\\t\\t\\t\\tfont-size: 1.375rem;\\n\\t\\t\\t\\tfont-weight: 400;\\n\\t\\t\\t\\tline-height: 2rem;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.not-supported-browser {\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\tmin-height: 100vh;\\n\\n\\t\\t\\t\\ttext-align: center;\\n\\n\\t\\t\\t\\tbackground-image: url(\".concat(getURL('/images/404.svg'), \");\\n\\t\\t\\t\\tbackground-repeat: no-repeat;\\n\\t\\t\\t\\tbackground-position: center;\\n\\t\\t\\t\\tbackground-size: cover;\\n\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tjustify-content: center;\\n\\t\\t\\t\\talign-items: center;\\n\\n\\t\\t\\t\\t&__404 {\\n\\t\\t\\t\\t\\tfont-size: 4em;\\n\\t\\t\\t\\t\\tfont-weight: bold;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t.not-supported-browser__text {\\n\\t\\t\\t\\tfont-size: 4em;\\n\\t\\t\\t\\tfont-weight: bold;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.rcx-box--text-color-alternative {\\n\\t\\t\\t\\tcolor: #ffffff;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.rcx-box, .rcx-box::before, .rcx-box::after {\\n\\t\\t\\t\\tbox-sizing: border-box;\\n\\t\\t\\t\\tmargin: 0;\\n\\t\\t\\t\\tpadding: 0;\\n\\t\\t\\t\\ttransition: all 230ms;\\n\\t\\t\\t\\tborder-width: 0;\\n\\t\\t\\t\\tborder-style: solid;\\n\\t\\t\\t\\tborder-color: currentColor;\\n\\t\\t\\t\\toutline: none;\\n\\t\\t\\t\\t-webkit-font-smoothing: antialiased;\\n\\t\\t\\t\\t-moz-osx-font-smoothing: grayscale;\\n\\t\\t\\t\\tfont-variant-numeric: tabular-nums;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.rcx-button {\\n\\t\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\t\\ttext-align: center;\\n\\t\\t\\t\\tvertical-align: middle;\\n\\t\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\t\\ttext-decoration: none;\\n\\t\\t\\t\\tcursor: pointer;\\n\\t\\t\\t\\toutline: 0;\\n\\t\\t\\t\\tletter-spacing: 0rem;\\n\\t\\t\\t\\tfont-family: Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Helvetica Neue, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Meiryo UI, Arial, sans-serif;\\n\\t\\t\\t\\tfont-size: 0.875rem;\\n\\t\\t\\t\\tfont-weight: 500;\\n\\t\\t\\t\\tline-height: 1.25rem;\\n\\t\\t\\t\\toverflow: hidden;\\n\\t\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\t\\tpadding: 7px 15px;\\n\\t\\t\\t\\tpadding-top: 7px;\\n\\t\\t\\t\\tpadding-bottom: 7px;\\n\\t\\t\\t\\tpadding-block: 7px;\\n\\t\\t\\t\\tpadding-left: 15px;\\n\\t\\t\\t\\tpadding-right: 15px;\\n\\t\\t\\t\\tpadding-inline: 15px;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.rcx-button--primary {\\n\\t\\t\\t\\tcolor: #ffffff;\\n\\t\\t\\t\\tborder-width: 0.125rem;\\n\\t\\t\\t\\tborder-style: solid;\\n\\t\\t\\t\\tborder-color: #1d74f5;\\n\\t\\t\\t\\tborder-radius: 0.125rem;\\n\\t\\t\\t\\tbackground-color: #1d74f5;\\n\\t\\t\\t\\t-webkit-appearance: none;\\n\\t\\t\\t\\t-moz-appearance: none;\\n\\t\\t\\t\\tappearance: none;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.rcx-box--text-color-primary {\\n\\t\\t\\t\\tcolor: #1d74f5;\\n\\t\\t\\t}\\n\\t\\t\\t.rcx-box.rcx-@s6mi60{margin:0.75rem !important;}.rcx-box.rcx-@19aubzx{margin:2rem !important;}.rcx-box.rcx-@1kgm1vs{-webkit-align-items:center !important;-webkit-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;-webkit-box-pack:center !important;-webkit-justify-content:center !important;-ms-flex-pack:center !important;justify-content:center !important;-webkit-flex-direction:column !important;-ms-flex-direction:column !important;flex-direction:column !important;}.rcx-box.rcx-@1qvl0ud{display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;}\\n\\t\\t</style>\\n\\n\\t\\t<section class=\\\"rcx-box not-supported-browser rcx-@1kgm1vs rcx-@1qvl0ud\\\">\\n\\t\\t\\t<div class=\\\"rcx-box\\\">\\n\\t\\t\\t\\t<div class=\\\"rcx-box rcx-box--text-color-alternative not-supported-browser__text rcx-@s6mi60\\\">Browser not supported</div>\\n\\t\\t\\t\\t<a class=\\\"rcx-box rcx-button rcx-button--primary\\\" href=\\\"https://rocket.chat/docs/getting-support/#supported-browser-versions\\\" target=\\\"_blank\\\">Check the documentation</a>\\n\\t\\t\\t\\t<a class=\\\"rcx-box rcx-button rcx-button--primary\\\" href=\\\"#\\\" onclick=\\\"document.cookie = 'browser_version_check=bypass; path=/'; location.reload(true);\\\">Proceed anyway</a>\\n\\t\\t\\t</div>\\n\\t\\t</section>\\n\\t\"));\n      return res.end();\n    };\n    __reify_async_result__();\n  } catch (_reifyError) {\n    return __reify_async_result__(_reifyError);\n  }\n  __reify_async_result__()\n}, {\n  self: this,\n  async: false\n});","map":{"version":3,"names":["module","export","isIEOlderThan11","handleBrowserVersionCheck","Cookies","link","v","parser","default","getURL","__reifyWaitForDeps__","cookies","userAgent","browser","name","version","parseInt","request","res","next","req","browserVersionCheck","get","headers","cookie","setHeader","write","concat","end","__reify_async_result__","_reifyError","self","async"],"sources":["server/routes/avatar/middlewares/browserVersion.ts"],"sourcesContent":["import type { IncomingMessage, ServerResponse } from 'http';\n\nimport type { IIncomingMessage } from '@rocket.chat/core-typings';\nimport type { NextFunction } from 'connect';\nimport { Cookies } from 'meteor/ostrio:cookies';\nimport parser from 'ua-parser-js';\n\nimport { getURL } from '../../../../app/utils/server/getURL';\n\nconst cookies = new Cookies();\n\nexport const isIEOlderThan11 = (userAgent: ReturnType<typeof parser>) => {\n\tif (!userAgent?.browser.name || !userAgent?.browser.version) {\n\t\treturn false;\n\t}\n\treturn userAgent.browser.name === 'IE' && parseInt(userAgent.browser.version) < 11;\n};\n\nexport const handleBrowserVersionCheck = (request: IncomingMessage, res: ServerResponse, next: NextFunction) => {\n\tconst req = request as IIncomingMessage;\n\n\tconst browserVersionCheck = cookies.get('browser_version_check', req.headers.cookie);\n\tif (browserVersionCheck === 'bypass') {\n\t\treturn next();\n\t}\n\n\tconst userAgent = parser(req.headers['user-agent']);\n\tif (browserVersionCheck !== 'force' && !isIEOlderThan11(userAgent)) {\n\t\treturn next();\n\t}\n\n\tres.setHeader('content-type', 'text/html; charset=utf-8');\n\n\tres.write(`\n\t\t<style>\n\t\t\tbody {\n\t\t\t\tmargin: 0;\n\t\t\t\tfont-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Helvetica Neue','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Meiryo UI',Arial,sans-serif;\n\t\t\t}\n\n\t\t\t.rcx-box--text-style-headline {\n\t\t\t\tletter-spacing: 0rem;\n\t\t\t\tfont-family: Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Helvetica Neue, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Meiryo UI, Arial, sans-serif;\n\t\t\t\tfont-size: 1.375rem;\n\t\t\t\tfont-weight: 400;\n\t\t\t\tline-height: 2rem;\n\t\t\t}\n\n\t\t\t.not-supported-browser {\n\t\t\t\twidth: 100%;\n\t\t\t\tmin-height: 100vh;\n\n\t\t\t\ttext-align: center;\n\n\t\t\t\tbackground-image: url(${getURL('/images/404.svg')});\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tbackground-position: center;\n\t\t\t\tbackground-size: cover;\n\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\n\t\t\t\t&__404 {\n\t\t\t\t\tfont-size: 4em;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.not-supported-browser__text {\n\t\t\t\tfont-size: 4em;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\n\t\t\t.rcx-box--text-color-alternative {\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\n\t\t\t.rcx-box, .rcx-box::before, .rcx-box::after {\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\ttransition: all 230ms;\n\t\t\t\tborder-width: 0;\n\t\t\t\tborder-style: solid;\n\t\t\t\tborder-color: currentColor;\n\t\t\t\toutline: none;\n\t\t\t\t-webkit-font-smoothing: antialiased;\n\t\t\t\t-moz-osx-font-smoothing: grayscale;\n\t\t\t\tfont-variant-numeric: tabular-nums;\n\t\t\t}\n\n\t\t\t.rcx-button {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\ttext-align: center;\n\t\t\t\tvertical-align: middle;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcursor: pointer;\n\t\t\t\toutline: 0;\n\t\t\t\tletter-spacing: 0rem;\n\t\t\t\tfont-family: Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Helvetica Neue, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Meiryo UI, Arial, sans-serif;\n\t\t\t\tfont-size: 0.875rem;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tline-height: 1.25rem;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\tpadding: 7px 15px;\n\t\t\t\tpadding-top: 7px;\n\t\t\t\tpadding-bottom: 7px;\n\t\t\t\tpadding-block: 7px;\n\t\t\t\tpadding-left: 15px;\n\t\t\t\tpadding-right: 15px;\n\t\t\t\tpadding-inline: 15px;\n\t\t\t}\n\n\t\t\t.rcx-button--primary {\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tborder-width: 0.125rem;\n\t\t\t\tborder-style: solid;\n\t\t\t\tborder-color: #1d74f5;\n\t\t\t\tborder-radius: 0.125rem;\n\t\t\t\tbackground-color: #1d74f5;\n\t\t\t\t-webkit-appearance: none;\n\t\t\t\t-moz-appearance: none;\n\t\t\t\tappearance: none;\n\t\t\t}\n\n\t\t\t.rcx-box--text-color-primary {\n\t\t\t\tcolor: #1d74f5;\n\t\t\t}\n\t\t\t.rcx-box.rcx-\\@s6mi60{margin:0.75rem !important;}.rcx-box.rcx-\\@19aubzx{margin:2rem !important;}.rcx-box.rcx-\\@1kgm1vs{-webkit-align-items:center !important;-webkit-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;-webkit-box-pack:center !important;-webkit-justify-content:center !important;-ms-flex-pack:center !important;justify-content:center !important;-webkit-flex-direction:column !important;-ms-flex-direction:column !important;flex-direction:column !important;}.rcx-box.rcx-\\@1qvl0ud{display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;}\n\t\t</style>\n\n\t\t<section class=\"rcx-box not-supported-browser rcx-@1kgm1vs rcx-@1qvl0ud\">\n\t\t\t<div class=\"rcx-box\">\n\t\t\t\t<div class=\"rcx-box rcx-box--text-color-alternative not-supported-browser__text rcx-@s6mi60\">Browser not supported</div>\n\t\t\t\t<a class=\"rcx-box rcx-button rcx-button--primary\" href=\"https://rocket.chat/docs/getting-support/#supported-browser-versions\" target=\"_blank\">Check the documentation</a>\n\t\t\t\t<a class=\"rcx-box rcx-button rcx-button--primary\" href=\"#\" onclick=\"document.cookie = 'browser_version_check=bypass; path=/'; location.reload(true);\">Proceed anyway</a>\n\t\t\t</div>\n\t\t</section>\n\t`);\n\n\treturn res.end();\n};\n"],"mappings":";;;IAIAA,MAAA,CAAOC,MAAE;MAAAC,eAAe,EAAAA,CAAA,KAAAA,eAAwB;MAAAC,yBAAA,EAAAA,CAAA,KAAAA;IAAA;IAAA,IAAAC,OAAA;IAAAJ,MAAA,CAAAK,IAAA;MAAAD,QAAAE,CAAA;QAAAF,OAAA,GAAAE,CAAA;MAAA;IAAA;IAAA,IAAAC,MAAA;IAAAP,MAAA,CAAAK,IAAA;MAAAG,QAAAF,CAAA;QAAAC,MAAA,GAAAD,CAAA;MAAA;IAAA;IAAA,IAAAG,MAAA;IAAAT,MAAA,CAAAK,IAAA;MAAAI,OAAAH,CAAA;QAAAG,MAAA,GAAAH,CAAA;MAAA;IAAA;IAAA,IAAAI,oBAAA,WAAAA,oBAAA;IAKhD,MAAMC,OAAO,GAAG,IAAIP,OAAO,EAAE;IAEtB,MAAMF,eAAe,GAAIU,SAAoC,IAAI;MACvE,IAAI,EAACA,SAAS,aAATA,SAAS,eAATA,SAAS,CAAEC,OAAO,CAACC,IAAI,KAAI,EAACF,SAAS,aAATA,SAAS,eAATA,SAAS,CAAEC,OAAO,CAACE,OAAO,GAAE;QAC5D,OAAO,KAAK;MACb;MACA,OAAOH,SAAS,CAACC,OAAO,CAACC,IAAI,KAAK,IAAI,IAAIE,QAAQ,CAACJ,SAAS,CAACC,OAAO,CAACE,OAAO,CAAC,GAAG,EAAE;IACnF,CAAC;IAEM,MAAMZ,yBAAyB,GAAGA,CAACc,OAAwB,EAAEC,GAAmB,EAAEC,IAAkB,KAAI;MAC9G,MAAMC,GAAG,GAAGH,OAA2B;MAEvC,MAAMI,mBAAmB,GAAGV,OAAO,CAACW,GAAG,CAAC,uBAAuB,EAAEF,GAAG,CAACG,OAAO,CAACC,MAAM,CAAC;MACpF,IAAIH,mBAAmB,KAAK,QAAQ,EAAE;QACrC,OAAOF,IAAI,EAAE;MACd;MAEA,MAAMP,SAAS,GAAGL,MAAM,CAACa,GAAG,CAACG,OAAO,CAAC,YAAY,CAAC,CAAC;MACnD,IAAIF,mBAAmB,KAAK,OAAO,IAAI,CAACnB,eAAe,CAACU,SAAS,CAAC,EAAE;QACnE,OAAOO,IAAI,EAAE;MACd;MAEAD,GAAG,CAACO,SAAS,CAAC,cAAc,EAAE,0BAA0B,CAAC;MAEzDP,GAAG,CAACQ,KAAK,6wBAAAC,MAAA,CAqBkBlB,MAAM,CAAC,iBAAiB,CAAC,43GAuFnD,CAAC;MAEF,OAAOS,GAAG,CAACU,GAAG,EAAE;IACjB,CAAC;IAACC,sBAAA;EAAA,SAAAC,WAAA;IAAA,OAAAD,sBAAA,CAAAC,WAAA;EAAA;EAAAD,sBAAA;AAAA;EAAAE,IAAA;EAAAC,KAAA;AAAA","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"f1988903926a927d0c1623aa0d338a4065155054"}
