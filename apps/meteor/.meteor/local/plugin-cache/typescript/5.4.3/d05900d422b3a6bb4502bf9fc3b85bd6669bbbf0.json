{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/security/EndToEnd.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/account/security/EndToEnd.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/security/EndToEnd.tsx","inputSourceMap":{"version":3,"file":"client/views/account/security/EndToEnd.tsx","sourceRoot":"","sources":["client/views/account/security/EndToEnd.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, Margins, PasswordInput, Field, FieldGroup, FieldLabel, FieldRow, FieldError, FieldHint, Button } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useTranslation, useLogout } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { useCallback, useEffect } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\n\nimport { e2e } from '../../../../app/e2e/client/rocketchat.e2e';\n\nconst EndToEnd = (props: ComponentProps<typeof Box>): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst logout = useLogout();\n\n\tconst publicKey = localStorage.getItem('public_key');\n\tconst privateKey = localStorage.getItem('private_key');\n\n\tconst resetE2eKey = useMethod('e2e.resetOwnE2EKey');\n\n\tconst {\n\t\thandleSubmit,\n\t\twatch,\n\t\tresetField,\n\t\tformState: { errors, isValid },\n\t\tcontrol,\n\t} = useForm({\n\t\tdefaultValues: {\n\t\t\tpassword: '',\n\t\t\tpasswordConfirm: '',\n\t\t},\n\t\tmode: 'all',\n\t});\n\n\tconst { password } = watch();\n\n\tconst keysExist = Boolean(publicKey && privateKey);\n\n\tconst hasTypedPassword = Boolean(password?.trim().length);\n\n\tconst saveNewPassword = async (data: { password: string; passwordConfirm: string }) => {\n\t\ttry {\n\t\t\tawait e2e.changePassword(data.password);\n\t\t\tresetField('password');\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Encryption_key_saved_successfully') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst handleResetE2eKey = useCallback(async () => {\n\t\ttry {\n\t\t\tconst result = await resetE2eKey();\n\t\t\tif (result) {\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_e2e_key_was_reset') });\n\t\t\t\tlogout();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, resetE2eKey, logout, t]);\n\n\tuseEffect(() => {\n\t\tif (password?.trim() === '') {\n\t\t\tresetField('passwordConfirm');\n\t\t}\n\t}, [password, resetField]);\n\n\tconst passwordId = useUniqueId();\n\tconst e2ePasswordExplanationId = useUniqueId();\n\tconst passwordConfirmId = useUniqueId();\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' alignItems='flex-start' mbs={16} {...props}>\n\t\t\t<Margins blockEnd={8}>\n\t\t\t\t<Box fontScale='h4'>{t('E2E_Encryption_Password_Change')}</Box>\n\t\t\t\t<Box id={e2ePasswordExplanationId} dangerouslySetInnerHTML={{ __html: t('E2E_Encryption_Password_Explanation') }} />\n\t\t\t\t<FieldGroup w='full'>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel htmlFor={passwordId}>{t('New_encryption_password')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('New_encryption_password') }) }}\n\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\tid={passwordId}\n\t\t\t\t\t\t\t\t\t\terror={errors.password?.message}\n\t\t\t\t\t\t\t\t\t\tplaceholder={t('New_Password_Placeholder')}\n\t\t\t\t\t\t\t\t\t\tdisabled={!keysExist}\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${e2ePasswordExplanationId} ${passwordId}-hint ${passwordId}-error`}\n\t\t\t\t\t\t\t\t\t\taria-invalid={errors.password ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{!keysExist && <FieldHint id={`${passwordId}-hint`}>{t('EncryptionKey_Change_Disabled')}</FieldHint>}\n\t\t\t\t\t\t{errors?.password && (\n\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${passwordId}-error`}>\n\t\t\t\t\t\t\t\t{errors.password.message}\n\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Field>\n\t\t\t\t\t{hasTypedPassword && (\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={passwordConfirmId}>{t('Confirm_new_encryption_password')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='passwordConfirm'\n\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Confirm_new_encryption_password') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (value: string) => (password !== value ? 'Your passwords do no match' : true),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tid={passwordConfirmId}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.passwordConfirm?.message}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Confirm_New_Password_Placeholder')}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${passwordConfirmId}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={errors.password ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.passwordConfirm && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${passwordConfirmId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.passwordConfirm.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t)}\n\t\t\t\t</FieldGroup>\n\t\t\t\t<Button\n\t\t\t\t\tprimary\n\t\t\t\t\tdisabled={!(keysExist && isValid)}\n\t\t\t\t\tonClick={handleSubmit(saveNewPassword)}\n\t\t\t\t\tdata-qa-type='e2e-encryption-save-password-button'\n\t\t\t\t>\n\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t</Button>\n\t\t\t\t<Box fontScale='h4' mbs={16}>\n\t\t\t\t\t{t('Reset_E2E_Key')}\n\t\t\t\t</Box>\n\t\t\t\t<Box dangerouslySetInnerHTML={{ __html: t('E2E_Reset_Key_Explanation') }} />\n\t\t\t\t<Button onClick={handleResetE2eKey} data-qa-type='e2e-encryption-reset-key-button'>\n\t\t\t\t\t{t('Reset_E2E_Key')}\n\t\t\t\t</Button>\n\t\t\t</Margins>\n\t\t</Box>\n\t);\n};\n\nexport default EndToEnd;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/security/EndToEnd.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/account/security/EndToEnd.tsx","inputSourceMap":{"version":3,"file":"client/views/account/security/EndToEnd.tsx","sourceRoot":"","sources":["client/views/account/security/EndToEnd.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, Margins, PasswordInput, Field, FieldGroup, FieldLabel, FieldRow, FieldError, FieldHint, Button } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useTranslation, useLogout } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { useCallback, useEffect } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\n\nimport { e2e } from '../../../../app/e2e/client/rocketchat.e2e';\n\nconst EndToEnd = (props: ComponentProps<typeof Box>): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst logout = useLogout();\n\n\tconst publicKey = localStorage.getItem('public_key');\n\tconst privateKey = localStorage.getItem('private_key');\n\n\tconst resetE2eKey = useMethod('e2e.resetOwnE2EKey');\n\n\tconst {\n\t\thandleSubmit,\n\t\twatch,\n\t\tresetField,\n\t\tformState: { errors, isValid },\n\t\tcontrol,\n\t} = useForm({\n\t\tdefaultValues: {\n\t\t\tpassword: '',\n\t\t\tpasswordConfirm: '',\n\t\t},\n\t\tmode: 'all',\n\t});\n\n\tconst { password } = watch();\n\n\tconst keysExist = Boolean(publicKey && privateKey);\n\n\tconst hasTypedPassword = Boolean(password?.trim().length);\n\n\tconst saveNewPassword = async (data: { password: string; passwordConfirm: string }) => {\n\t\ttry {\n\t\t\tawait e2e.changePassword(data.password);\n\t\t\tresetField('password');\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Encryption_key_saved_successfully') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst handleResetE2eKey = useCallback(async () => {\n\t\ttry {\n\t\t\tconst result = await resetE2eKey();\n\t\t\tif (result) {\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_e2e_key_was_reset') });\n\t\t\t\tlogout();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, resetE2eKey, logout, t]);\n\n\tuseEffect(() => {\n\t\tif (password?.trim() === '') {\n\t\t\tresetField('passwordConfirm');\n\t\t}\n\t}, [password, resetField]);\n\n\tconst passwordId = useUniqueId();\n\tconst e2ePasswordExplanationId = useUniqueId();\n\tconst passwordConfirmId = useUniqueId();\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' alignItems='flex-start' mbs={16} {...props}>\n\t\t\t<Margins blockEnd={8}>\n\t\t\t\t<Box fontScale='h4'>{t('E2E_Encryption_Password_Change')}</Box>\n\t\t\t\t<Box id={e2ePasswordExplanationId} dangerouslySetInnerHTML={{ __html: t('E2E_Encryption_Password_Explanation') }} />\n\t\t\t\t<FieldGroup w='full'>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel htmlFor={passwordId}>{t('New_encryption_password')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('New_encryption_password') }) }}\n\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\tid={passwordId}\n\t\t\t\t\t\t\t\t\t\terror={errors.password?.message}\n\t\t\t\t\t\t\t\t\t\tplaceholder={t('New_Password_Placeholder')}\n\t\t\t\t\t\t\t\t\t\tdisabled={!keysExist}\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${e2ePasswordExplanationId} ${passwordId}-hint ${passwordId}-error`}\n\t\t\t\t\t\t\t\t\t\taria-invalid={errors.password ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{!keysExist && <FieldHint id={`${passwordId}-hint`}>{t('EncryptionKey_Change_Disabled')}</FieldHint>}\n\t\t\t\t\t\t{errors?.password && (\n\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${passwordId}-error`}>\n\t\t\t\t\t\t\t\t{errors.password.message}\n\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Field>\n\t\t\t\t\t{hasTypedPassword && (\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={passwordConfirmId}>{t('Confirm_new_encryption_password')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='passwordConfirm'\n\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Confirm_new_encryption_password') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (value: string) => (password !== value ? 'Your passwords do no match' : true),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tid={passwordConfirmId}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.passwordConfirm?.message}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Confirm_New_Password_Placeholder')}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${passwordConfirmId}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={errors.password ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.passwordConfirm && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${passwordConfirmId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.passwordConfirm.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t)}\n\t\t\t\t</FieldGroup>\n\t\t\t\t<Button\n\t\t\t\t\tprimary\n\t\t\t\t\tdisabled={!(keysExist && isValid)}\n\t\t\t\t\tonClick={handleSubmit(saveNewPassword)}\n\t\t\t\t\tdata-qa-type='e2e-encryption-save-password-button'\n\t\t\t\t>\n\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t</Button>\n\t\t\t\t<Box fontScale='h4' mbs={16}>\n\t\t\t\t\t{t('Reset_E2E_Key')}\n\t\t\t\t</Box>\n\t\t\t\t<Box dangerouslySetInnerHTML={{ __html: t('E2E_Reset_Key_Explanation') }} />\n\t\t\t\t<Button onClick={handleResetE2eKey} data-qa-type='e2e-encryption-reset-key-button'>\n\t\t\t\t\t{t('Reset_E2E_Key')}\n\t\t\t\t</Button>\n\t\t\t</Margins>\n\t\t</Box>\n\t);\n};\n\nexport default EndToEnd;\n"]}}},"code":"var _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\nvar _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 1);\nvar Box, Margins, PasswordInput, Field, FieldGroup, FieldLabel, FieldRow, FieldError, FieldHint, Button;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Margins: function (v) {\n    Margins = v;\n  },\n  PasswordInput: function (v) {\n    PasswordInput = v;\n  },\n  Field: function (v) {\n    Field = v;\n  },\n  FieldGroup: function (v) {\n    FieldGroup = v;\n  },\n  FieldLabel: function (v) {\n    FieldLabel = v;\n  },\n  FieldRow: function (v) {\n    FieldRow = v;\n  },\n  FieldError: function (v) {\n    FieldError = v;\n  },\n  FieldHint: function (v) {\n    FieldHint = v;\n  },\n  Button: function (v) {\n    Button = v;\n  }\n}, 0);\nvar useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useUniqueId: function (v) {\n    useUniqueId = v;\n  }\n}, 1);\nvar useToastMessageDispatch, useMethod, useTranslation, useLogout;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  useMethod: function (v) {\n    useMethod = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useLogout: function (v) {\n    useLogout = v;\n  }\n}, 2);\nvar React, useCallback, useEffect;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  }\n}, 3);\nvar Controller, useForm;\nmodule.link(\"react-hook-form\", {\n  Controller: function (v) {\n    Controller = v;\n  },\n  useForm: function (v) {\n    useForm = v;\n  }\n}, 4);\nvar e2e;\nmodule.link(\"../../../../app/e2e/client/rocketchat.e2e\", {\n  e2e: function (v) {\n    e2e = v;\n  }\n}, 5);\nvar EndToEnd = function (props) {\n  var t = useTranslation();\n  var dispatchToastMessage = useToastMessageDispatch();\n  var logout = useLogout();\n  var publicKey = localStorage.getItem('public_key');\n  var privateKey = localStorage.getItem('private_key');\n  var resetE2eKey = useMethod('e2e.resetOwnE2EKey');\n  var _useForm = useForm({\n      defaultValues: {\n        password: '',\n        passwordConfirm: ''\n      },\n      mode: 'all'\n    }),\n    handleSubmit = _useForm.handleSubmit,\n    watch = _useForm.watch,\n    resetField = _useForm.resetField,\n    _useForm$formState = _useForm.formState,\n    errors = _useForm$formState.errors,\n    isValid = _useForm$formState.isValid,\n    control = _useForm.control;\n  var _watch = watch(),\n    password = _watch.password;\n  var keysExist = Boolean(publicKey && privateKey);\n  var hasTypedPassword = Boolean(password === null || password === void 0 ? void 0 : password.trim().length);\n  var saveNewPassword = function () {\n    function _callee(data) {\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(e2e.changePassword(data.password));\n            case 3:\n              resetField('password');\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Encryption_key_saved_successfully')\n              });\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context.t0\n              });\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, [[0, 7]], Promise);\n    }\n    return _callee;\n  }();\n  var handleResetE2eKey = useCallback(function () {\n    function _callee2() {\n      var result;\n      return _regeneratorRuntime.async(function () {\n        function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(resetE2eKey());\n            case 3:\n              result = _context2.sent;\n              if (result) {\n                dispatchToastMessage({\n                  type: 'success',\n                  message: t('User_e2e_key_was_reset')\n                });\n                logout();\n              }\n              _context2.next = 10;\n              break;\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context2.t0\n              });\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n        return _callee2$;\n      }(), null, null, [[0, 7]], Promise);\n    }\n    return _callee2;\n  }(), [dispatchToastMessage, resetE2eKey, logout, t]);\n  useEffect(function () {\n    if ((password === null || password === void 0 ? void 0 : password.trim()) === '') {\n      resetField('passwordConfirm');\n    }\n  }, [password, resetField]);\n  var passwordId = useUniqueId();\n  var e2ePasswordExplanationId = useUniqueId();\n  var passwordConfirmId = useUniqueId();\n  return /*#__PURE__*/React.createElement(Box, _extends({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    mbs: 16\n  }, props), /*#__PURE__*/React.createElement(Margins, {\n    blockEnd: 8\n  }, /*#__PURE__*/React.createElement(Box, {\n    fontScale: \"h4\"\n  }, t('E2E_Encryption_Password_Change')), /*#__PURE__*/React.createElement(Box, {\n    id: e2ePasswordExplanationId,\n    dangerouslySetInnerHTML: {\n      __html: t('E2E_Encryption_Password_Explanation')\n    }\n  }), /*#__PURE__*/React.createElement(FieldGroup, {\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: passwordId\n  }, t('New_encryption_password')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"password\",\n    rules: {\n      required: t('Required_field', {\n        field: t('New_encryption_password')\n      })\n    },\n    render: function (_ref) {\n      var _errors$password;\n      var field = _ref.field;\n      return /*#__PURE__*/React.createElement(PasswordInput, _extends({}, field, {\n        id: passwordId,\n        error: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message,\n        placeholder: t('New_Password_Placeholder'),\n        disabled: !keysExist,\n        \"aria-describedby\": e2ePasswordExplanationId + \" \" + passwordId + \"-hint \" + passwordId + \"-error\",\n        \"aria-invalid\": errors.password ? 'true' : 'false'\n      }));\n    }\n  })), !keysExist && /*#__PURE__*/React.createElement(FieldHint, {\n    id: passwordId + \"-hint\"\n  }, t('EncryptionKey_Change_Disabled')), (errors === null || errors === void 0 ? void 0 : errors.password) && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: passwordId + \"-error\"\n  }, errors.password.message)), hasTypedPassword && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: passwordConfirmId\n  }, t('Confirm_new_encryption_password')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"passwordConfirm\",\n    rules: {\n      required: t('Required_field', {\n        field: t('Confirm_new_encryption_password')\n      }),\n      validate: function (value) {\n        return password !== value ? 'Your passwords do no match' : true;\n      }\n    },\n    render: function (_ref2) {\n      var _errors$passwordConfi;\n      var field = _ref2.field;\n      return /*#__PURE__*/React.createElement(PasswordInput, _extends({}, field, {\n        id: passwordConfirmId,\n        error: (_errors$passwordConfi = errors.passwordConfirm) === null || _errors$passwordConfi === void 0 ? void 0 : _errors$passwordConfi.message,\n        placeholder: t('Confirm_New_Password_Placeholder'),\n        \"aria-describedby\": passwordConfirmId + \"-error\",\n        \"aria-invalid\": errors.password ? 'true' : 'false'\n      }));\n    }\n  })), errors.passwordConfirm && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: passwordConfirmId + \"-error\"\n  }, errors.passwordConfirm.message))), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    disabled: !(keysExist && isValid),\n    onClick: handleSubmit(saveNewPassword),\n    \"data-qa-type\": \"e2e-encryption-save-password-button\"\n  }, t('Save_changes')), /*#__PURE__*/React.createElement(Box, {\n    fontScale: \"h4\",\n    mbs: 16\n  }, t('Reset_E2E_Key')), /*#__PURE__*/React.createElement(Box, {\n    dangerouslySetInnerHTML: {\n      __html: t('E2E_Reset_Key_Explanation')\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleResetE2eKey,\n    \"data-qa-type\": \"e2e-encryption-reset-key-button\"\n  }, t('Reset_E2E_Key'))));\n};\nmodule.exportDefault(EndToEnd);","map":{"version":3,"names":["_extends","module","link","default","v","_regeneratorRuntime","Box","Margins","PasswordInput","Field","FieldGroup","FieldLabel","FieldRow","FieldError","FieldHint","Button","useUniqueId","useToastMessageDispatch","useMethod","useTranslation","useLogout","React","useCallback","useEffect","Controller","useForm","e2e","EndToEnd","props","t","dispatchToastMessage","logout","publicKey","localStorage","getItem","privateKey","resetE2eKey","_useForm","defaultValues","password","passwordConfirm","mode","handleSubmit","watch","resetField","_useForm$formState","formState","errors","isValid","control","_watch","keysExist","Boolean","hasTypedPassword","trim","length","saveNewPassword","_callee","data","async","_callee$","_context","prev","next","awrap","changePassword","type","message","t0","stop","Promise","handleResetE2eKey","_callee2","result","_callee2$","_context2","sent","passwordId","e2ePasswordExplanationId","passwordConfirmId","createElement","display","flexDirection","alignItems","mbs","blockEnd","fontScale","id","dangerouslySetInnerHTML","__html","w","htmlFor","name","rules","required","field","render","_ref","_errors$password","error","placeholder","disabled","validate","value","_ref2","_errors$passwordConfi","primary","onClick","exportDefault"],"sources":["client/views/account/security/EndToEnd.tsx"],"sourcesContent":["import { Box, Margins, PasswordInput, Field, FieldGroup, FieldLabel, FieldRow, FieldError, FieldHint, Button } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useTranslation, useLogout } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { useCallback, useEffect } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\n\nimport { e2e } from '../../../../app/e2e/client/rocketchat.e2e';\n\nconst EndToEnd = (props: ComponentProps<typeof Box>): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst logout = useLogout();\n\n\tconst publicKey = localStorage.getItem('public_key');\n\tconst privateKey = localStorage.getItem('private_key');\n\n\tconst resetE2eKey = useMethod('e2e.resetOwnE2EKey');\n\n\tconst {\n\t\thandleSubmit,\n\t\twatch,\n\t\tresetField,\n\t\tformState: { errors, isValid },\n\t\tcontrol,\n\t} = useForm({\n\t\tdefaultValues: {\n\t\t\tpassword: '',\n\t\t\tpasswordConfirm: '',\n\t\t},\n\t\tmode: 'all',\n\t});\n\n\tconst { password } = watch();\n\n\tconst keysExist = Boolean(publicKey && privateKey);\n\n\tconst hasTypedPassword = Boolean(password?.trim().length);\n\n\tconst saveNewPassword = async (data: { password: string; passwordConfirm: string }) => {\n\t\ttry {\n\t\t\tawait e2e.changePassword(data.password);\n\t\t\tresetField('password');\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Encryption_key_saved_successfully') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst handleResetE2eKey = useCallback(async () => {\n\t\ttry {\n\t\t\tconst result = await resetE2eKey();\n\t\t\tif (result) {\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_e2e_key_was_reset') });\n\t\t\t\tlogout();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, resetE2eKey, logout, t]);\n\n\tuseEffect(() => {\n\t\tif (password?.trim() === '') {\n\t\t\tresetField('passwordConfirm');\n\t\t}\n\t}, [password, resetField]);\n\n\tconst passwordId = useUniqueId();\n\tconst e2ePasswordExplanationId = useUniqueId();\n\tconst passwordConfirmId = useUniqueId();\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' alignItems='flex-start' mbs={16} {...props}>\n\t\t\t<Margins blockEnd={8}>\n\t\t\t\t<Box fontScale='h4'>{t('E2E_Encryption_Password_Change')}</Box>\n\t\t\t\t<Box id={e2ePasswordExplanationId} dangerouslySetInnerHTML={{ __html: t('E2E_Encryption_Password_Explanation') }} />\n\t\t\t\t<FieldGroup w='full'>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel htmlFor={passwordId}>{t('New_encryption_password')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('New_encryption_password') }) }}\n\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\tid={passwordId}\n\t\t\t\t\t\t\t\t\t\terror={errors.password?.message}\n\t\t\t\t\t\t\t\t\t\tplaceholder={t('New_Password_Placeholder')}\n\t\t\t\t\t\t\t\t\t\tdisabled={!keysExist}\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${e2ePasswordExplanationId} ${passwordId}-hint ${passwordId}-error`}\n\t\t\t\t\t\t\t\t\t\taria-invalid={errors.password ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{!keysExist && <FieldHint id={`${passwordId}-hint`}>{t('EncryptionKey_Change_Disabled')}</FieldHint>}\n\t\t\t\t\t\t{errors?.password && (\n\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${passwordId}-error`}>\n\t\t\t\t\t\t\t\t{errors.password.message}\n\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Field>\n\t\t\t\t\t{hasTypedPassword && (\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={passwordConfirmId}>{t('Confirm_new_encryption_password')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='passwordConfirm'\n\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Confirm_new_encryption_password') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (value: string) => (password !== value ? 'Your passwords do no match' : true),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tid={passwordConfirmId}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.passwordConfirm?.message}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Confirm_New_Password_Placeholder')}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${passwordConfirmId}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={errors.password ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.passwordConfirm && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${passwordConfirmId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.passwordConfirm.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t)}\n\t\t\t\t</FieldGroup>\n\t\t\t\t<Button\n\t\t\t\t\tprimary\n\t\t\t\t\tdisabled={!(keysExist && isValid)}\n\t\t\t\t\tonClick={handleSubmit(saveNewPassword)}\n\t\t\t\t\tdata-qa-type='e2e-encryption-save-password-button'\n\t\t\t\t>\n\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t</Button>\n\t\t\t\t<Box fontScale='h4' mbs={16}>\n\t\t\t\t\t{t('Reset_E2E_Key')}\n\t\t\t\t</Box>\n\t\t\t\t<Box dangerouslySetInnerHTML={{ __html: t('E2E_Reset_Key_Explanation') }} />\n\t\t\t\t<Button onClick={handleResetE2eKey} data-qa-type='e2e-encryption-reset-key-button'>\n\t\t\t\t\t{t('Reset_E2E_Key')}\n\t\t\t\t</Button>\n\t\t\t</Margins>\n\t\t</Box>\n\t);\n};\n\nexport default EndToEnd;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"d05900d422b3a6bb4502bf9fc3b85bd6669bbbf0"}
