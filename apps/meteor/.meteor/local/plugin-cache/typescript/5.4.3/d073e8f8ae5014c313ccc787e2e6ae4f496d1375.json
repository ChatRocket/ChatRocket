{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/ExportMessages/MailExportForm.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/room/contextualBar/ExportMessages/MailExportForm.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/ExportMessages/MailExportForm.tsx","inputSourceMap":{"version":3,"file":"client/views/room/contextualBar/ExportMessages/MailExportForm.tsx","sourceRoot":"","sources":["client/views/room/contextualBar/ExportMessages/MailExportForm.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tFieldError,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tTextAreaInput,\n\tTextInput,\n\tButtonGroup,\n\tButton,\n\tBox,\n\tIcon,\n\tCallout,\n\tFieldGroup,\n\tSelect,\n} from '@rocket.chat/fuselage';\nimport { useAutoFocus, useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport React, { useEffect, useContext } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { validateEmail } from '../../../../../lib/emailValidator';\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../../components/Contextualbar';\nimport UserAutoCompleteMultiple from '../../../../components/UserAutoCompleteMultiple';\nimport { SelectedMessageContext, useCountSelected } from '../../MessageList/contexts/SelectedMessagesContext';\nimport type { MailExportFormValues } from './ExportMessages';\nimport { useRoomExportMutation } from './useRoomExportMutation';\n\ntype MailExportFormProps = {\n\tformId: string;\n\trid: IRoom['_id'];\n\tonCancel: () => void;\n\texportOptions: SelectOption[];\n};\n\nconst MailExportForm = ({ formId, rid, onCancel, exportOptions }: MailExportFormProps) => {\n\tconst { t } = useTranslation();\n\tconst formFocus = useAutoFocus<HTMLFormElement>();\n\n\tconst {\n\t\twatch,\n\t\tsetValue,\n\t\tcontrol,\n\t\tregister,\n\t\tformState: { errors, isDirty, isSubmitting },\n\t\thandleSubmit,\n\t\tclearErrors,\n\t} = useFormContext<MailExportFormValues>();\n\tconst roomExportMutation = useRoomExportMutation();\n\n\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\n\tconst messages = selectedMessageStore.getSelectedMessages();\n\n\tconst count = useCountSelected();\n\n\tconst clearSelection = useMutableCallback(() => {\n\t\tselectedMessageStore.clearStore();\n\t});\n\n\tuseEffect(() => {\n\t\tselectedMessageStore.setIsSelecting(true);\n\t\treturn (): void => {\n\t\t\tselectedMessageStore.reset();\n\t\t};\n\t}, [selectedMessageStore]);\n\n\tconst { toUsers } = watch();\n\n\tuseEffect(() => {\n\t\tsetValue('messagesCount', messages.length);\n\t}, [setValue, messages.length]);\n\n\tconst handleExport = async ({ toUsers, subject, additionalEmails }: MailExportFormValues) => {\n\t\troomExportMutation.mutateAsync({\n\t\t\trid,\n\t\t\ttype: 'email',\n\t\t\ttoUsers,\n\t\t\ttoEmails: additionalEmails?.split(','),\n\t\t\tsubject,\n\t\t\tmessages,\n\t\t});\n\t};\n\n\tconst clickable = css`\n\t\tcursor: pointer;\n\t`;\n\n\tconst methodField = useUniqueId();\n\tconst toUsersField = useUniqueId();\n\tconst additionalEmailsField = useUniqueId();\n\tconst subjectField = useUniqueId();\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<form ref={formFocus} tabIndex={-1} aria-labelledby={`${formId}-title`} id={formId} onSubmit={handleSubmit(handleExport)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={methodField}>{t('Method')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='type'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <Select id={methodField} {...field} placeholder={t('Type')} options={exportOptions} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<Callout onClick={clearSelection} title={t('Messages_selected')} type={count > 0 ? 'success' : 'info'}>\n\t\t\t\t\t\t\t\t<p>{`${count} Messages selected`}</p>\n\t\t\t\t\t\t\t\t{count > 0 && (\n\t\t\t\t\t\t\t\t\t<Box is='p' className={clickable}>\n\t\t\t\t\t\t\t\t\t\t{t('Click_here_to_clear_the_selection')}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{count === 0 && <Box is='p'>{t('Click_the_messages_you_would_like_to_send_by_email')}</Box>}\n\t\t\t\t\t\t\t</Callout>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='hidden'\n\t\t\t\t\t\t\t\t{...register('messagesCount', {\n\t\t\t\t\t\t\t\t\tvalidate: (messagesCount) => (messagesCount > 0 ? undefined : t('Mail_Message_No_messages_selected_select_all')),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{errors.messagesCount && <FieldError aria-live='assertive'>{errors.messagesCount.message}</FieldError>}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={toUsersField}>{t('To_users')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='toUsers'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange, onBlur, name } }) => (\n\t\t\t\t\t\t\t\t\t\t<UserAutoCompleteMultiple\n\t\t\t\t\t\t\t\t\t\t\tid={toUsersField}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\t\t\tonChange(value);\n\t\t\t\t\t\t\t\t\t\t\t\tclearErrors('additionalEmails');\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={additionalEmailsField}>{t('To_additional_emails')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='additionalEmails'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\tvalidate: {\n\t\t\t\t\t\t\t\t\t\t\tvalidateEmail: (additionalEmails) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails === '') {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails !== '' && validateEmail(additionalEmails)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn t('Mail_Message_Invalid_emails', { postProcess: 'sprintf', sprintf: [additionalEmails] });\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tvalidateToUsers: (additionalEmails) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails !== '' || toUsers?.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn t('Mail_Message_Missing_to');\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\tid={additionalEmailsField}\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Email_Placeholder_any')}\n\t\t\t\t\t\t\t\t\t\t\taddon={<Icon name='mail' size='x20' />}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${additionalEmailsField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.additionalEmails?.message)}\n\t\t\t\t\t\t\t\t\t\t\terror={errors?.additionalEmails?.message}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.additionalEmails && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${additionalEmailsField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.additionalEmails.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={subjectField}>{t('Subject')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='subject'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextAreaInput rows={3} id={subjectField} {...field} addon={<Icon name='edit' size='x20' />} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</form>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={onCancel}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button loading={isSubmitting} disabled={!isDirty} form={formId} primary type='submit'>\n\t\t\t\t\t\t{t('Send')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default MailExportForm;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"production","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/ExportMessages/MailExportForm.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/contextualBar/ExportMessages/MailExportForm.tsx","inputSourceMap":{"version":3,"file":"client/views/room/contextualBar/ExportMessages/MailExportForm.tsx","sourceRoot":"","sources":["client/views/room/contextualBar/ExportMessages/MailExportForm.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tFieldError,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tTextAreaInput,\n\tTextInput,\n\tButtonGroup,\n\tButton,\n\tBox,\n\tIcon,\n\tCallout,\n\tFieldGroup,\n\tSelect,\n} from '@rocket.chat/fuselage';\nimport { useAutoFocus, useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport React, { useEffect, useContext } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { validateEmail } from '../../../../../lib/emailValidator';\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../../components/Contextualbar';\nimport UserAutoCompleteMultiple from '../../../../components/UserAutoCompleteMultiple';\nimport { SelectedMessageContext, useCountSelected } from '../../MessageList/contexts/SelectedMessagesContext';\nimport type { MailExportFormValues } from './ExportMessages';\nimport { useRoomExportMutation } from './useRoomExportMutation';\n\ntype MailExportFormProps = {\n\tformId: string;\n\trid: IRoom['_id'];\n\tonCancel: () => void;\n\texportOptions: SelectOption[];\n};\n\nconst MailExportForm = ({ formId, rid, onCancel, exportOptions }: MailExportFormProps) => {\n\tconst { t } = useTranslation();\n\tconst formFocus = useAutoFocus<HTMLFormElement>();\n\n\tconst {\n\t\twatch,\n\t\tsetValue,\n\t\tcontrol,\n\t\tregister,\n\t\tformState: { errors, isDirty, isSubmitting },\n\t\thandleSubmit,\n\t\tclearErrors,\n\t} = useFormContext<MailExportFormValues>();\n\tconst roomExportMutation = useRoomExportMutation();\n\n\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\n\tconst messages = selectedMessageStore.getSelectedMessages();\n\n\tconst count = useCountSelected();\n\n\tconst clearSelection = useMutableCallback(() => {\n\t\tselectedMessageStore.clearStore();\n\t});\n\n\tuseEffect(() => {\n\t\tselectedMessageStore.setIsSelecting(true);\n\t\treturn (): void => {\n\t\t\tselectedMessageStore.reset();\n\t\t};\n\t}, [selectedMessageStore]);\n\n\tconst { toUsers } = watch();\n\n\tuseEffect(() => {\n\t\tsetValue('messagesCount', messages.length);\n\t}, [setValue, messages.length]);\n\n\tconst handleExport = async ({ toUsers, subject, additionalEmails }: MailExportFormValues) => {\n\t\troomExportMutation.mutateAsync({\n\t\t\trid,\n\t\t\ttype: 'email',\n\t\t\ttoUsers,\n\t\t\ttoEmails: additionalEmails?.split(','),\n\t\t\tsubject,\n\t\t\tmessages,\n\t\t});\n\t};\n\n\tconst clickable = css`\n\t\tcursor: pointer;\n\t`;\n\n\tconst methodField = useUniqueId();\n\tconst toUsersField = useUniqueId();\n\tconst additionalEmailsField = useUniqueId();\n\tconst subjectField = useUniqueId();\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<form ref={formFocus} tabIndex={-1} aria-labelledby={`${formId}-title`} id={formId} onSubmit={handleSubmit(handleExport)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={methodField}>{t('Method')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='type'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <Select id={methodField} {...field} placeholder={t('Type')} options={exportOptions} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<Callout onClick={clearSelection} title={t('Messages_selected')} type={count > 0 ? 'success' : 'info'}>\n\t\t\t\t\t\t\t\t<p>{`${count} Messages selected`}</p>\n\t\t\t\t\t\t\t\t{count > 0 && (\n\t\t\t\t\t\t\t\t\t<Box is='p' className={clickable}>\n\t\t\t\t\t\t\t\t\t\t{t('Click_here_to_clear_the_selection')}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{count === 0 && <Box is='p'>{t('Click_the_messages_you_would_like_to_send_by_email')}</Box>}\n\t\t\t\t\t\t\t</Callout>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='hidden'\n\t\t\t\t\t\t\t\t{...register('messagesCount', {\n\t\t\t\t\t\t\t\t\tvalidate: (messagesCount) => (messagesCount > 0 ? undefined : t('Mail_Message_No_messages_selected_select_all')),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{errors.messagesCount && <FieldError aria-live='assertive'>{errors.messagesCount.message}</FieldError>}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={toUsersField}>{t('To_users')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='toUsers'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange, onBlur, name } }) => (\n\t\t\t\t\t\t\t\t\t\t<UserAutoCompleteMultiple\n\t\t\t\t\t\t\t\t\t\t\tid={toUsersField}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\t\t\tonChange(value);\n\t\t\t\t\t\t\t\t\t\t\t\tclearErrors('additionalEmails');\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={additionalEmailsField}>{t('To_additional_emails')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='additionalEmails'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\tvalidate: {\n\t\t\t\t\t\t\t\t\t\t\tvalidateEmail: (additionalEmails) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails === '') {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails !== '' && validateEmail(additionalEmails)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn t('Mail_Message_Invalid_emails', { postProcess: 'sprintf', sprintf: [additionalEmails] });\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tvalidateToUsers: (additionalEmails) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails !== '' || toUsers?.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn t('Mail_Message_Missing_to');\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\tid={additionalEmailsField}\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Email_Placeholder_any')}\n\t\t\t\t\t\t\t\t\t\t\taddon={<Icon name='mail' size='x20' />}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${additionalEmailsField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.additionalEmails?.message)}\n\t\t\t\t\t\t\t\t\t\t\terror={errors?.additionalEmails?.message}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.additionalEmails && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${additionalEmailsField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.additionalEmails.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={subjectField}>{t('Subject')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='subject'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextAreaInput rows={3} id={subjectField} {...field} addon={<Icon name='edit' size='x20' />} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</form>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={onCancel}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button loading={isSubmitting} disabled={!isDirty} form={formId} primary type='submit'>\n\t\t\t\t\t\t{t('Send')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default MailExportForm;\n"]}}},"code":"var _templateObject;\nvar _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\nvar _taggedTemplateLiteralLoose;\nmodule.link(\"@babel/runtime/helpers/taggedTemplateLiteralLoose\", {\n  default: function (v) {\n    _taggedTemplateLiteralLoose = v;\n  }\n}, 1);\nvar _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 2);\nvar css;\nmodule.link(\"@rocket.chat/css-in-js\", {\n  css: function (v) {\n    css = v;\n  }\n}, 0);\nvar FieldError, Field, FieldLabel, FieldRow, TextAreaInput, TextInput, ButtonGroup, Button, Box, Icon, Callout, FieldGroup, Select;\nmodule.link(\"@rocket.chat/fuselage\", {\n  FieldError: function (v) {\n    FieldError = v;\n  },\n  Field: function (v) {\n    Field = v;\n  },\n  FieldLabel: function (v) {\n    FieldLabel = v;\n  },\n  FieldRow: function (v) {\n    FieldRow = v;\n  },\n  TextAreaInput: function (v) {\n    TextAreaInput = v;\n  },\n  TextInput: function (v) {\n    TextInput = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  Box: function (v) {\n    Box = v;\n  },\n  Icon: function (v) {\n    Icon = v;\n  },\n  Callout: function (v) {\n    Callout = v;\n  },\n  FieldGroup: function (v) {\n    FieldGroup = v;\n  },\n  Select: function (v) {\n    Select = v;\n  }\n}, 1);\nvar useAutoFocus, useMutableCallback, useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useAutoFocus: function (v) {\n    useAutoFocus = v;\n  },\n  useMutableCallback: function (v) {\n    useMutableCallback = v;\n  },\n  useUniqueId: function (v) {\n    useUniqueId = v;\n  }\n}, 2);\nvar React, useEffect, useContext;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  },\n  useContext: function (v) {\n    useContext = v;\n  }\n}, 3);\nvar Controller, useFormContext;\nmodule.link(\"react-hook-form\", {\n  Controller: function (v) {\n    Controller = v;\n  },\n  useFormContext: function (v) {\n    useFormContext = v;\n  }\n}, 4);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 5);\nvar validateEmail;\nmodule.link(\"../../../../../lib/emailValidator\", {\n  validateEmail: function (v) {\n    validateEmail = v;\n  }\n}, 6);\nvar ContextualbarScrollableContent, ContextualbarFooter;\nmodule.link(\"../../../../components/Contextualbar\", {\n  ContextualbarScrollableContent: function (v) {\n    ContextualbarScrollableContent = v;\n  },\n  ContextualbarFooter: function (v) {\n    ContextualbarFooter = v;\n  }\n}, 7);\nvar UserAutoCompleteMultiple;\nmodule.link(\"../../../../components/UserAutoCompleteMultiple\", {\n  \"default\": function (v) {\n    UserAutoCompleteMultiple = v;\n  }\n}, 8);\nvar SelectedMessageContext, useCountSelected;\nmodule.link(\"../../MessageList/contexts/SelectedMessagesContext\", {\n  SelectedMessageContext: function (v) {\n    SelectedMessageContext = v;\n  },\n  useCountSelected: function (v) {\n    useCountSelected = v;\n  }\n}, 9);\nvar useRoomExportMutation;\nmodule.link(\"./useRoomExportMutation\", {\n  useRoomExportMutation: function (v) {\n    useRoomExportMutation = v;\n  }\n}, 10);\nvar MailExportForm = function (_ref) {\n  var formId = _ref.formId,\n    rid = _ref.rid,\n    onCancel = _ref.onCancel,\n    exportOptions = _ref.exportOptions;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var formFocus = useAutoFocus();\n  var _useFormContext = useFormContext(),\n    watch = _useFormContext.watch,\n    setValue = _useFormContext.setValue,\n    control = _useFormContext.control,\n    register = _useFormContext.register,\n    _useFormContext$formS = _useFormContext.formState,\n    errors = _useFormContext$formS.errors,\n    isDirty = _useFormContext$formS.isDirty,\n    isSubmitting = _useFormContext$formS.isSubmitting,\n    handleSubmit = _useFormContext.handleSubmit,\n    clearErrors = _useFormContext.clearErrors;\n  var roomExportMutation = useRoomExportMutation();\n  var _useContext = useContext(SelectedMessageContext),\n    selectedMessageStore = _useContext.selectedMessageStore;\n  var messages = selectedMessageStore.getSelectedMessages();\n  var count = useCountSelected();\n  var clearSelection = useMutableCallback(function () {\n    selectedMessageStore.clearStore();\n  });\n  useEffect(function () {\n    selectedMessageStore.setIsSelecting(true);\n    return function () {\n      selectedMessageStore.reset();\n    };\n  }, [selectedMessageStore]);\n  var _watch = watch(),\n    toUsers = _watch.toUsers;\n  useEffect(function () {\n    setValue('messagesCount', messages.length);\n  }, [setValue, messages.length]);\n  var handleExport = function () {\n    function _callee(_ref2) {\n      var toUsers, subject, additionalEmails;\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              toUsers = _ref2.toUsers, subject = _ref2.subject, additionalEmails = _ref2.additionalEmails;\n              roomExportMutation.mutateAsync({\n                rid: rid,\n                type: 'email',\n                toUsers: toUsers,\n                toEmails: additionalEmails === null || additionalEmails === void 0 ? void 0 : additionalEmails.split(','),\n                subject: subject,\n                messages: messages\n              });\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, null, Promise);\n    }\n    return _callee;\n  }();\n  var clickable = css(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n\\t\\tcursor: pointer;\\n\\t\"])));\n  var methodField = useUniqueId();\n  var toUsersField = useUniqueId();\n  var additionalEmailsField = useUniqueId();\n  var subjectField = useUniqueId();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ContextualbarScrollableContent, null, /*#__PURE__*/React.createElement(\"form\", {\n    ref: formFocus,\n    tabIndex: -1,\n    \"aria-labelledby\": formId + \"-title\",\n    id: formId,\n    onSubmit: handleSubmit(handleExport)\n  }, /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: methodField\n  }, t('Method')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"type\",\n    control: control,\n    render: function (_ref3) {\n      var field = _ref3.field;\n      return /*#__PURE__*/React.createElement(Select, _extends({\n        id: methodField\n      }, field, {\n        placeholder: t('Type'),\n        options: exportOptions\n      }));\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Callout, {\n    onClick: clearSelection,\n    title: t('Messages_selected'),\n    type: count > 0 ? 'success' : 'info'\n  }, /*#__PURE__*/React.createElement(\"p\", null, count + \" Messages selected\"), count > 0 && /*#__PURE__*/React.createElement(Box, {\n    is: \"p\",\n    className: clickable\n  }, t('Click_here_to_clear_the_selection')), count === 0 && /*#__PURE__*/React.createElement(Box, {\n    is: \"p\"\n  }, t('Click_the_messages_you_would_like_to_send_by_email'))), /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"hidden\"\n  }, register('messagesCount', {\n    validate: function (messagesCount) {\n      return messagesCount > 0 ? undefined : t('Mail_Message_No_messages_selected_select_all');\n    }\n  }))), errors.messagesCount && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\"\n  }, errors.messagesCount.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: toUsersField\n  }, t('To_users')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"toUsers\",\n    control: control,\n    render: function (_ref4) {\n      var _ref4$field = _ref4.field,\n        value = _ref4$field.value,\n        onChange = _ref4$field.onChange,\n        onBlur = _ref4$field.onBlur,\n        name = _ref4$field.name;\n      return /*#__PURE__*/React.createElement(UserAutoCompleteMultiple, {\n        id: toUsersField,\n        value: value,\n        onChange: function (value) {\n          onChange(value);\n          clearErrors('additionalEmails');\n        },\n        onBlur: onBlur,\n        name: name\n      });\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: additionalEmailsField\n  }, t('To_additional_emails')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"additionalEmails\",\n    control: control,\n    rules: {\n      validate: {\n        validateEmail: function (additionalEmails) {\n          if (additionalEmails === '') {\n            return undefined;\n          }\n          if (additionalEmails !== '' && validateEmail(additionalEmails)) {\n            return undefined;\n          }\n          return t('Mail_Message_Invalid_emails', {\n            postProcess: 'sprintf',\n            sprintf: [additionalEmails]\n          });\n        },\n        validateToUsers: function (additionalEmails) {\n          if (additionalEmails !== '' || (toUsers === null || toUsers === void 0 ? void 0 : toUsers.length) > 0) {\n            return undefined;\n          }\n          return t('Mail_Message_Missing_to');\n        }\n      }\n    },\n    render: function (_ref5) {\n      var _errors$additionalEma, _errors$additionalEma2;\n      var field = _ref5.field;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({\n        id: additionalEmailsField\n      }, field, {\n        placeholder: t('Email_Placeholder_any'),\n        addon: /*#__PURE__*/React.createElement(Icon, {\n          name: \"mail\",\n          size: \"x20\"\n        }),\n        \"aria-describedby\": additionalEmailsField + \"-error\",\n        \"aria-invalid\": Boolean(errors === null || errors === void 0 ? void 0 : (_errors$additionalEma = errors.additionalEmails) === null || _errors$additionalEma === void 0 ? void 0 : _errors$additionalEma.message),\n        error: errors === null || errors === void 0 ? void 0 : (_errors$additionalEma2 = errors.additionalEmails) === null || _errors$additionalEma2 === void 0 ? void 0 : _errors$additionalEma2.message\n      }));\n    }\n  })), (errors === null || errors === void 0 ? void 0 : errors.additionalEmails) && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: additionalEmailsField + \"-error\"\n  }, errors.additionalEmails.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: subjectField\n  }, t('Subject')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"subject\",\n    control: control,\n    render: function (_ref6) {\n      var field = _ref6.field;\n      return /*#__PURE__*/React.createElement(TextAreaInput, _extends({\n        rows: 3,\n        id: subjectField\n      }, field, {\n        addon: /*#__PURE__*/React.createElement(Icon, {\n          name: \"edit\",\n          size: \"x20\"\n        })\n      }));\n    }\n  })))))), /*#__PURE__*/React.createElement(ContextualbarFooter, null, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onCancel\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    loading: isSubmitting,\n    disabled: !isDirty,\n    form: formId,\n    primary: true,\n    type: \"submit\"\n  }, t('Send')))));\n};\nmodule.exportDefault(MailExportForm);","map":{"version":3,"names":["_extends","module","link","default","v","_taggedTemplateLiteralLoose","_regeneratorRuntime","css","FieldError","Field","FieldLabel","FieldRow","TextAreaInput","TextInput","ButtonGroup","Button","Box","Icon","Callout","FieldGroup","Select","useAutoFocus","useMutableCallback","useUniqueId","React","useEffect","useContext","Controller","useFormContext","useTranslation","validateEmail","ContextualbarScrollableContent","ContextualbarFooter","UserAutoCompleteMultiple","SelectedMessageContext","useCountSelected","useRoomExportMutation","MailExportForm","_ref","formId","rid","onCancel","exportOptions","_useTranslation","t","formFocus","_useFormContext","watch","setValue","control","register","_useFormContext$formS","formState","errors","isDirty","isSubmitting","handleSubmit","clearErrors","roomExportMutation","_useContext","selectedMessageStore","messages","getSelectedMessages","count","clearSelection","clearStore","setIsSelecting","reset","_watch","toUsers","length","handleExport","_callee","_ref2","subject","additionalEmails","async","_callee$","_context","prev","next","mutateAsync","type","toEmails","split","stop","Promise","clickable","_templateObject","methodField","toUsersField","additionalEmailsField","subjectField","createElement","Fragment","ref","tabIndex","id","onSubmit","htmlFor","name","render","_ref3","field","placeholder","options","onClick","title","is","className","validate","messagesCount","undefined","message","_ref4","_ref4$field","value","onChange","onBlur","rules","postProcess","sprintf","validateToUsers","_ref5","_errors$additionalEma","_errors$additionalEma2","addon","size","Boolean","error","_ref6","rows","stretch","loading","disabled","form","primary","exportDefault"],"sources":["client/views/room/contextualBar/ExportMessages/MailExportForm.tsx"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tFieldError,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tTextAreaInput,\n\tTextInput,\n\tButtonGroup,\n\tButton,\n\tBox,\n\tIcon,\n\tCallout,\n\tFieldGroup,\n\tSelect,\n} from '@rocket.chat/fuselage';\nimport { useAutoFocus, useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport React, { useEffect, useContext } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { validateEmail } from '../../../../../lib/emailValidator';\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../../components/Contextualbar';\nimport UserAutoCompleteMultiple from '../../../../components/UserAutoCompleteMultiple';\nimport { SelectedMessageContext, useCountSelected } from '../../MessageList/contexts/SelectedMessagesContext';\nimport type { MailExportFormValues } from './ExportMessages';\nimport { useRoomExportMutation } from './useRoomExportMutation';\n\ntype MailExportFormProps = {\n\tformId: string;\n\trid: IRoom['_id'];\n\tonCancel: () => void;\n\texportOptions: SelectOption[];\n};\n\nconst MailExportForm = ({ formId, rid, onCancel, exportOptions }: MailExportFormProps) => {\n\tconst { t } = useTranslation();\n\tconst formFocus = useAutoFocus<HTMLFormElement>();\n\n\tconst {\n\t\twatch,\n\t\tsetValue,\n\t\tcontrol,\n\t\tregister,\n\t\tformState: { errors, isDirty, isSubmitting },\n\t\thandleSubmit,\n\t\tclearErrors,\n\t} = useFormContext<MailExportFormValues>();\n\tconst roomExportMutation = useRoomExportMutation();\n\n\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\n\tconst messages = selectedMessageStore.getSelectedMessages();\n\n\tconst count = useCountSelected();\n\n\tconst clearSelection = useMutableCallback(() => {\n\t\tselectedMessageStore.clearStore();\n\t});\n\n\tuseEffect(() => {\n\t\tselectedMessageStore.setIsSelecting(true);\n\t\treturn (): void => {\n\t\t\tselectedMessageStore.reset();\n\t\t};\n\t}, [selectedMessageStore]);\n\n\tconst { toUsers } = watch();\n\n\tuseEffect(() => {\n\t\tsetValue('messagesCount', messages.length);\n\t}, [setValue, messages.length]);\n\n\tconst handleExport = async ({ toUsers, subject, additionalEmails }: MailExportFormValues) => {\n\t\troomExportMutation.mutateAsync({\n\t\t\trid,\n\t\t\ttype: 'email',\n\t\t\ttoUsers,\n\t\t\ttoEmails: additionalEmails?.split(','),\n\t\t\tsubject,\n\t\t\tmessages,\n\t\t});\n\t};\n\n\tconst clickable = css`\n\t\tcursor: pointer;\n\t`;\n\n\tconst methodField = useUniqueId();\n\tconst toUsersField = useUniqueId();\n\tconst additionalEmailsField = useUniqueId();\n\tconst subjectField = useUniqueId();\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<form ref={formFocus} tabIndex={-1} aria-labelledby={`${formId}-title`} id={formId} onSubmit={handleSubmit(handleExport)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={methodField}>{t('Method')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='type'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <Select id={methodField} {...field} placeholder={t('Type')} options={exportOptions} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<Callout onClick={clearSelection} title={t('Messages_selected')} type={count > 0 ? 'success' : 'info'}>\n\t\t\t\t\t\t\t\t<p>{`${count} Messages selected`}</p>\n\t\t\t\t\t\t\t\t{count > 0 && (\n\t\t\t\t\t\t\t\t\t<Box is='p' className={clickable}>\n\t\t\t\t\t\t\t\t\t\t{t('Click_here_to_clear_the_selection')}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{count === 0 && <Box is='p'>{t('Click_the_messages_you_would_like_to_send_by_email')}</Box>}\n\t\t\t\t\t\t\t</Callout>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='hidden'\n\t\t\t\t\t\t\t\t{...register('messagesCount', {\n\t\t\t\t\t\t\t\t\tvalidate: (messagesCount) => (messagesCount > 0 ? undefined : t('Mail_Message_No_messages_selected_select_all')),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{errors.messagesCount && <FieldError aria-live='assertive'>{errors.messagesCount.message}</FieldError>}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={toUsersField}>{t('To_users')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='toUsers'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange, onBlur, name } }) => (\n\t\t\t\t\t\t\t\t\t\t<UserAutoCompleteMultiple\n\t\t\t\t\t\t\t\t\t\t\tid={toUsersField}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\t\t\tonChange(value);\n\t\t\t\t\t\t\t\t\t\t\t\tclearErrors('additionalEmails');\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={additionalEmailsField}>{t('To_additional_emails')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='additionalEmails'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\tvalidate: {\n\t\t\t\t\t\t\t\t\t\t\tvalidateEmail: (additionalEmails) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails === '') {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails !== '' && validateEmail(additionalEmails)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn t('Mail_Message_Invalid_emails', { postProcess: 'sprintf', sprintf: [additionalEmails] });\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tvalidateToUsers: (additionalEmails) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails !== '' || toUsers?.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn t('Mail_Message_Missing_to');\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\tid={additionalEmailsField}\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Email_Placeholder_any')}\n\t\t\t\t\t\t\t\t\t\t\taddon={<Icon name='mail' size='x20' />}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${additionalEmailsField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.additionalEmails?.message)}\n\t\t\t\t\t\t\t\t\t\t\terror={errors?.additionalEmails?.message}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.additionalEmails && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${additionalEmailsField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.additionalEmails.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={subjectField}>{t('Subject')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='subject'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextAreaInput rows={3} id={subjectField} {...field} addon={<Icon name='edit' size='x20' />} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</form>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={onCancel}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button loading={isSubmitting} disabled={!isDirty} form={formId} primary type='submit'>\n\t\t\t\t\t\t{t('Send')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default MailExportForm;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"d073e8f8ae5014c313ccc787e2e6ae4f496d1375"}
