{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/HeaderV2/Omnichannel/QuickActions/QuickActionOptions.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/room/HeaderV2/Omnichannel/QuickActions/QuickActionOptions.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/HeaderV2/Omnichannel/QuickActions/QuickActionOptions.tsx","inputSourceMap":{"version":3,"file":"client/views/room/HeaderV2/Omnichannel/QuickActions/QuickActionOptions.tsx","sourceRoot":"","sources":["client/views/room/HeaderV2/Omnichannel/QuickActions/QuickActionOptions.tsx"],"names":[],"mappings":"AACA,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,uBAAuB,CAAC;AAC9D,OAAO,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,OAAO,CAAC;AAC5C,OAAO,EAAE,cAAc,EAAE,MAAM,eAAe,CAAC;AAE/C,OAAO,EAAE,mBAAmB,EAAE,MAAM,kCAAkC,CAAC;AACvE,OAAO,EAAE,qBAAqB,EAAE,MAAM,2DAA2D,CAAC;AASlG,MAAM,kBAAkB,GAAG,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,KAAK,EAA2B,EAAE,EAAE;IAC3F,MAAM,EAAE,CAAC,EAAE,GAAG,cAAc,EAAE,CAAC;IAC/B,MAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;IAC/B,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;IAC5B,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,qBAAqB,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;IAE3E,MAAM,WAAW,GAAG,CAAC,EAAU,EAAE,EAAE,CAAC,GAAS,EAAE;QAC9C,MAAM,EAAE,CAAC;QACT,MAAM,CAAC,EAAE,CAAC,CAAC;IACZ,CAAC,CAAC;IAEF,OAAO,CACN,EACC;GAAA,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,GAAS,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,KAAK,CAAC,EACpG;GAAA,CAAC,SAAS,IAAI,CACb,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAC3C;KAAA,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAE;gBACxC,MAAM,EAAE,KAAK,EAAE,KAAK,GAAG,IAAI,EAAE,OAAO,EAAE,GAAG,QAAQ,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;gBAChE,OAAO,CACN,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAC9G;QAAA,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CACpC;SAAA,CAAC,CAAC,CAAC,KAAK,CAAC,CACV;QAAA,EAAE,GAAG,CACN;OAAA,EAAE,MAAM,CAAC,CACT,CAAC;YACH,CAAC,CAAC,CACH;IAAA,EAAE,QAAQ,CAAC,CACX,CACF;EAAA,GAAG,CACH,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,IAAI,CAAC,kBAAkB,CAAC,CAAC","sourcesContent":["import type { IOmnichannelRoom } from '@rocket.chat/core-typings';\nimport { Box, Dropdown, Option } from '@rocket.chat/fuselage';\nimport React, { memo, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { HeaderToolbarAction } from '../../../../../components/Header';\nimport { useDropdownVisibility } from '../../../../../sidebar/header/hooks/useDropdownVisibility';\nimport type { QuickActionsActionOptions } from '../../../lib/quickActions';\n\ntype QuickActionOptionsProps = {\n\toptions: QuickActionsActionOptions;\n\taction: (id: string) => void;\n\troom: IOmnichannelRoom;\n};\n\nconst QuickActionOptions = ({ options, room, action, ...props }: QuickActionOptionsProps) => {\n\tconst { t } = useTranslation();\n\tconst reference = useRef(null);\n\tconst target = useRef(null);\n\tconst { isVisible, toggle } = useDropdownVisibility({ reference, target });\n\n\tconst handleClick = (id: string) => (): void => {\n\t\ttoggle();\n\t\taction(id);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<HeaderToolbarAction ref={reference} onClick={(): void => toggle()} secondary={isVisible} {...props} />\n\t\t\t{isVisible && (\n\t\t\t\t<Dropdown reference={reference} ref={target}>\n\t\t\t\t\t{options.map(({ id, label, validate }) => {\n\t\t\t\t\t\tconst { value: valid = true, tooltip } = validate?.(room) || {};\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Option key={id} onClick={handleClick(id)} disabled={!valid} title={!valid && tooltip ? t(tooltip) : undefined}>\n\t\t\t\t\t\t\t\t<Box fontScale='p2m' minWidth='180px'>\n\t\t\t\t\t\t\t\t\t{t(label)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Dropdown>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default memo(QuickActionOptions);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/HeaderV2/Omnichannel/QuickActions/QuickActionOptions.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/HeaderV2/Omnichannel/QuickActions/QuickActionOptions.tsx","inputSourceMap":{"version":3,"file":"client/views/room/HeaderV2/Omnichannel/QuickActions/QuickActionOptions.tsx","sourceRoot":"","sources":["client/views/room/HeaderV2/Omnichannel/QuickActions/QuickActionOptions.tsx"],"names":[],"mappings":"AACA,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,uBAAuB,CAAC;AAC9D,OAAO,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,OAAO,CAAC;AAC5C,OAAO,EAAE,cAAc,EAAE,MAAM,eAAe,CAAC;AAE/C,OAAO,EAAE,mBAAmB,EAAE,MAAM,kCAAkC,CAAC;AACvE,OAAO,EAAE,qBAAqB,EAAE,MAAM,2DAA2D,CAAC;AASlG,MAAM,kBAAkB,GAAG,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,KAAK,EAA2B,EAAE,EAAE;IAC3F,MAAM,EAAE,CAAC,EAAE,GAAG,cAAc,EAAE,CAAC;IAC/B,MAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;IAC/B,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;IAC5B,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,qBAAqB,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;IAE3E,MAAM,WAAW,GAAG,CAAC,EAAU,EAAE,EAAE,CAAC,GAAS,EAAE;QAC9C,MAAM,EAAE,CAAC;QACT,MAAM,CAAC,EAAE,CAAC,CAAC;IACZ,CAAC,CAAC;IAEF,OAAO,CACN,EACC;GAAA,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,GAAS,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,KAAK,CAAC,EACpG;GAAA,CAAC,SAAS,IAAI,CACb,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAC3C;KAAA,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAE;gBACxC,MAAM,EAAE,KAAK,EAAE,KAAK,GAAG,IAAI,EAAE,OAAO,EAAE,GAAG,QAAQ,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;gBAChE,OAAO,CACN,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAC9G;QAAA,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CACpC;SAAA,CAAC,CAAC,CAAC,KAAK,CAAC,CACV;QAAA,EAAE,GAAG,CACN;OAAA,EAAE,MAAM,CAAC,CACT,CAAC;YACH,CAAC,CAAC,CACH;IAAA,EAAE,QAAQ,CAAC,CACX,CACF;EAAA,GAAG,CACH,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,IAAI,CAAC,kBAAkB,CAAC,CAAC","sourcesContent":["import type { IOmnichannelRoom } from '@rocket.chat/core-typings';\nimport { Box, Dropdown, Option } from '@rocket.chat/fuselage';\nimport React, { memo, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { HeaderToolbarAction } from '../../../../../components/Header';\nimport { useDropdownVisibility } from '../../../../../sidebar/header/hooks/useDropdownVisibility';\nimport type { QuickActionsActionOptions } from '../../../lib/quickActions';\n\ntype QuickActionOptionsProps = {\n\toptions: QuickActionsActionOptions;\n\taction: (id: string) => void;\n\troom: IOmnichannelRoom;\n};\n\nconst QuickActionOptions = ({ options, room, action, ...props }: QuickActionOptionsProps) => {\n\tconst { t } = useTranslation();\n\tconst reference = useRef(null);\n\tconst target = useRef(null);\n\tconst { isVisible, toggle } = useDropdownVisibility({ reference, target });\n\n\tconst handleClick = (id: string) => (): void => {\n\t\ttoggle();\n\t\taction(id);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<HeaderToolbarAction ref={reference} onClick={(): void => toggle()} secondary={isVisible} {...props} />\n\t\t\t{isVisible && (\n\t\t\t\t<Dropdown reference={reference} ref={target}>\n\t\t\t\t\t{options.map(({ id, label, validate }) => {\n\t\t\t\t\t\tconst { value: valid = true, tooltip } = validate?.(room) || {};\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Option key={id} onClick={handleClick(id)} disabled={!valid} title={!valid && tooltip ? t(tooltip) : undefined}>\n\t\t\t\t\t\t\t\t<Box fontScale='p2m' minWidth='180px'>\n\t\t\t\t\t\t\t\t\t{t(label)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Dropdown>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default memo(QuickActionOptions);\n"]}}},"code":"const _excluded = [\"options\", \"room\", \"action\"];\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 1);\nlet Box, Dropdown, Option;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box(v) {\n    Box = v;\n  },\n  Dropdown(v) {\n    Dropdown = v;\n  },\n  Option(v) {\n    Option = v;\n  }\n}, 0);\nlet React, memo, useRef;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  memo(v) {\n    memo = v;\n  },\n  useRef(v) {\n    useRef = v;\n  }\n}, 1);\nlet useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 2);\nlet HeaderToolbarAction;\nmodule.link(\"../../../../../components/Header\", {\n  HeaderToolbarAction(v) {\n    HeaderToolbarAction = v;\n  }\n}, 3);\nlet useDropdownVisibility;\nmodule.link(\"../../../../../sidebar/header/hooks/useDropdownVisibility\", {\n  useDropdownVisibility(v) {\n    useDropdownVisibility = v;\n  }\n}, 4);\nconst QuickActionOptions = _ref => {\n  let {\n      options,\n      room,\n      action\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const {\n    t\n  } = useTranslation();\n  const reference = useRef(null);\n  const target = useRef(null);\n  const {\n    isVisible,\n    toggle\n  } = useDropdownVisibility({\n    reference,\n    target\n  });\n  const handleClick = id => () => {\n    toggle();\n    action(id);\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(HeaderToolbarAction, _extends({\n    ref: reference,\n    onClick: () => toggle(),\n    secondary: isVisible\n  }, props)), isVisible && /*#__PURE__*/React.createElement(Dropdown, {\n    reference: reference,\n    ref: target\n  }, options.map(_ref2 => {\n    let {\n      id,\n      label,\n      validate\n    } = _ref2;\n    const {\n      value: valid = true,\n      tooltip\n    } = (validate === null || validate === void 0 ? void 0 : validate(room)) || {};\n    return /*#__PURE__*/React.createElement(Option, {\n      key: id,\n      onClick: handleClick(id),\n      disabled: !valid,\n      title: !valid && tooltip ? t(tooltip) : undefined\n    }, /*#__PURE__*/React.createElement(Box, {\n      fontScale: \"p2m\",\n      minWidth: \"180px\"\n    }, t(label)));\n  })));\n};\nmodule.exportDefault( /*#__PURE__*/memo(QuickActionOptions));","map":{"version":3,"names":["_extends","module","link","default","v","_objectWithoutProperties","Box","Dropdown","Option","React","memo","useRef","useTranslation","HeaderToolbarAction","useDropdownVisibility","QuickActionOptions","_ref","options","room","action","props","_excluded","t","reference","target","isVisible","toggle","handleClick","id","createElement","Fragment","ref","onClick","secondary","map","_ref2","label","validate","value","valid","tooltip","key","disabled","title","undefined","fontScale","minWidth","exportDefault"],"sources":["client/views/room/HeaderV2/Omnichannel/QuickActions/QuickActionOptions.tsx"],"sourcesContent":["import type { IOmnichannelRoom } from '@rocket.chat/core-typings';\nimport { Box, Dropdown, Option } from '@rocket.chat/fuselage';\nimport React, { memo, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { HeaderToolbarAction } from '../../../../../components/Header';\nimport { useDropdownVisibility } from '../../../../../sidebar/header/hooks/useDropdownVisibility';\nimport type { QuickActionsActionOptions } from '../../../lib/quickActions';\n\ntype QuickActionOptionsProps = {\n\toptions: QuickActionsActionOptions;\n\taction: (id: string) => void;\n\troom: IOmnichannelRoom;\n};\n\nconst QuickActionOptions = ({ options, room, action, ...props }: QuickActionOptionsProps) => {\n\tconst { t } = useTranslation();\n\tconst reference = useRef(null);\n\tconst target = useRef(null);\n\tconst { isVisible, toggle } = useDropdownVisibility({ reference, target });\n\n\tconst handleClick = (id: string) => (): void => {\n\t\ttoggle();\n\t\taction(id);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<HeaderToolbarAction ref={reference} onClick={(): void => toggle()} secondary={isVisible} {...props} />\n\t\t\t{isVisible && (\n\t\t\t\t<Dropdown reference={reference} ref={target}>\n\t\t\t\t\t{options.map(({ id, label, validate }) => {\n\t\t\t\t\t\tconst { value: valid = true, tooltip } = validate?.(room) || {};\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Option key={id} onClick={handleClick(id)} disabled={!valid} title={!valid && tooltip ? t(tooltip) : undefined}>\n\t\t\t\t\t\t\t\t<Box fontScale='p2m' minWidth='180px'>\n\t\t\t\t\t\t\t\t\t{t(label)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Dropdown>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default memo(QuickActionOptions);\n"],"mappings":";AACA,IAAAA,QAAY;AAAAC,MAAE,CAAAC,IAAU,iCAAc;EAAAC,OAAwBA,CAAAC,CAAA;IAAAJ,QAAA,GAAAI,CAAA;EAAA;AAAA;AAAA,IAAAC,wBAAA;AAAAJ,MAAA,CAAAC,IAAA;EAAAC,QAAAC,CAAA;IAAAC,wBAAA,GAAAD,CAAA;EAAA;AAAA;AAA9D,IAAAE,GAAO,EAAAC,QAAO,EAAAC,MAAQ;AAAEP,MAAM,CAAAC,IAAE,wBAAM;EAAuBI,GAACA,CAAAF,CAAA;IAAAE,GAAA,GAAAF,CAAA;EAAA;EAAAG,SAAAH,CAAA;IAAAG,QAAA,GAAAH,CAAA;EAAA;EAAAI,OAAAJ,CAAA;IAAAI,MAAA,GAAAJ,CAAA;EAAA;AAAA;AAAA,IAAAK,KAAA,EAAAC,IAAA,EAAAC,MAAA;AAAAV,MAAA,CAAAC,IAAA;EAAAC,QAAAC,CAAA;IAAAK,KAAA,GAAAL,CAAA;EAAA;EAAAM,KAAAN,CAAA;IAAAM,IAAA,GAAAN,CAAA;EAAA;EAAAO,OAAAP,CAAA;IAAAO,MAAA,GAAAP,CAAA;EAAA;AAAA;AAAA,IAAAQ,cAAA;AAAAX,MAAA,CAAAC,IAAA;EAAAU,eAAAR,CAAA;IAAAQ,cAAA,GAAAR,CAAA;EAAA;AAAA;AAAA,IAAAS,mBAAA;AAAAZ,MAAA,CAAAC,IAAA;EAAAW,oBAAAT,CAAA;IAAAS,mBAAA,GAAAT,CAAA;EAAA;AAAA;AAAA,IAAAU,qBAAA;AAAAb,MAAA,CAAAC,IAAA;EAAAY,sBAAAV,CAAA;IAAAU,qBAAA,GAAAV,CAAA;EAAA;AAAA;AAc9D,MAAMW,kBAAkB,GAAGC,IAAA,IAAiE;EAAA,IAAhE;MAAEC,OAAO;MAAEC,IAAI;MAAEC;IAAgB,CAA2B,GAAAH,IAAA;IAAhCI,KAAK,GAAAf,wBAAA,CAAAW,IAAA,EAAAK,SAAA;EAC5D,MAAM;IAAEC;EAAC,CAAE,GAAGV,cAAc,EAAE;EAC9B,MAAMW,SAAS,GAAGZ,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMa,MAAM,GAAGb,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAM;IAAEc,SAAS;IAAEC;EAAM,CAAE,GAAGZ,qBAAqB,CAAC;IAAES,SAAS;IAAEC;EAAM,CAAE,CAAC;EAE1E,MAAMG,WAAW,GAAIC,EAAU,IAAK,MAAW;IAC9CF,MAAM,EAAE;IACRP,MAAM,CAACS,EAAE,CAAC;EACX,CAAC;EAED,oBACCnB,KAAA,CAAAoB,aAAA,CAAApB,KAAA,CAAAqB,QAAA,qBACCrB,KAAA,CAAAoB,aAAA,CAAChB,mBAAmB,EAAAb,QAAA;IAAC+B,GAAG,EAAER,SAAU;IAACS,OAAO,EAAEA,CAAA,KAAYN,MAAM,EAAG;IAACO,SAAS,EAAER;EAAU,GAAKL,KAAK,CAAC,CACpG,EAACK,SAAS,iBACThB,KAAA,CAAAoB,aAAA,CAACtB,QAAQ;IAACgB,SAAS,EAAEA,SAAU;IAACQ,GAAG,EAAEP;EAAO,GAC1CP,OAAO,CAACiB,GAAG,CAACC,KAAA,IAA4B;IAAA,IAA3B;MAAEP,EAAE;MAAEQ,KAAK;MAAEC;IAAQ,CAAE,GAAAF,KAAA;IACpC,MAAM;MAAEG,KAAK,EAAEC,KAAK,GAAG,IAAI;MAAEC;IAAO,CAAE,GAAG,CAAAH,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAGnB,IAAI,CAAC,KAAI,EAAE;IAC/D,oBACCT,KAAA,CAAAoB,aAAA,CAACrB,MAAM;MAACiC,GAAG,EAAEb,EAAG;MAACI,OAAO,EAAEL,WAAW,CAACC,EAAE,CAAE;MAACc,QAAQ,EAAE,CAACH,KAAM;MAACI,KAAK,EAAE,CAACJ,KAAK,IAAIC,OAAO,GAAGlB,CAAC,CAACkB,OAAO,CAAC,GAAGI;IAAU,gBAC9GnC,KAAA,CAAAoB,aAAA,CAACvB,GAAG;MAACuC,SAAS,EAAC,KAAK;MAACC,QAAQ,EAAC;IAAO,GACnCxB,CAAC,CAACc,KAAK,CACJ,CACE,CAAC;EAEX,CAAC,CACQ,CAEZ,CAAG;AAEL,CAAC;AA5CDnC,MAAA,CAAO8C,aAAO,eA8CCrC,IAAI,CAACK,kBAAkB,CA9Cd","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"6dcc3846a124c6ebbabbfb6b0827775f248be3eb"}
