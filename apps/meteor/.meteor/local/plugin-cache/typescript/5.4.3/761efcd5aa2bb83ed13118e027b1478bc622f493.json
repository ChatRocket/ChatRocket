{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/preferences/PreferencesNotificationsSection.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/account/preferences/PreferencesNotificationsSection.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/preferences/PreferencesNotificationsSection.tsx","inputSourceMap":{"version":3,"file":"client/views/account/preferences/PreferencesNotificationsSection.tsx","sourceRoot":"","sources":["client/views/account/preferences/PreferencesNotificationsSection.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { INotificationDesktop } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport { Accordion, Field, FieldLabel, FieldRow, FieldHint, Select, FieldGroup, ToggleSwitch, Button } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useUserPreference, useSetting } from '@rocket.chat/ui-contexts';\nimport React, { useCallback, useEffect, useState, useMemo } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { KonchatNotification } from '../../../../app/ui/client/lib/KonchatNotification';\n\nconst notificationOptionsLabelMap = {\n\tall: 'All_messages',\n\tmentions: 'Mentions',\n\tnothing: 'Nothing',\n};\n\nconst emailNotificationOptionsLabelMap = {\n\tmentions: 'Email_Notification_Mode_All',\n\tnothing: 'Email_Notification_Mode_Disabled',\n};\n\n// TODO: Test Notification Button not working\nconst PreferencesNotificationsSection = () => {\n\tconst { t, i18n } = useTranslation();\n\n\tconst [notificationsPermission, setNotificationsPermission] = useState<NotificationPermission>();\n\n\tconst defaultDesktopNotifications = useSetting(\n\t\t'Accounts_Default_User_Preferences_desktopNotifications',\n\t) as keyof typeof notificationOptionsLabelMap;\n\tconst defaultMobileNotifications = useSetting(\n\t\t'Accounts_Default_User_Preferences_pushNotifications',\n\t) as keyof typeof notificationOptionsLabelMap;\n\tconst canChangeEmailNotification = useSetting('Accounts_AllowEmailNotifications');\n\n\tconst loginEmailEnabled = useSetting('Device_Management_Enable_Login_Emails');\n\tconst allowLoginEmailPreference = useSetting('Device_Management_Allow_Login_Email_preference');\n\tconst showNewLoginEmailPreference = loginEmailEnabled && allowLoginEmailPreference;\n\tconst showCalendarPreference = useSetting('Outlook_Calendar_Enabled');\n\tconst showMobileRinging = useSetting('VideoConf_Mobile_Ringing');\n\n\tconst userEmailNotificationMode = useUserPreference('emailNotificationMode') as keyof typeof emailNotificationOptionsLabelMap;\n\n\tuseEffect(() => setNotificationsPermission(window.Notification && Notification.permission), []);\n\n\tconst onSendNotification = useCallback(() => {\n\t\tKonchatNotification.notify({\n\t\t\tpayload: { sender: { _id: 'rocket.cat', username: 'rocket.cat' }, rid: 'GENERAL' } as INotificationDesktop['payload'],\n\t\t\ttitle: t('Desktop_Notification_Test'),\n\t\t\ttext: t('This_is_a_desktop_notification'),\n\t\t});\n\t}, [t]);\n\n\tconst onAskNotificationPermission = useCallback(() => {\n\t\twindow.Notification && Notification.requestPermission().then((val) => setNotificationsPermission(val));\n\t}, []);\n\n\tconst notificationOptions = useMemo(\n\t\t() => Object.entries(notificationOptionsLabelMap).map(([key, val]) => i18n.exists(val) && [key, t(val)]),\n\t\t[i18n, t],\n\t) as SelectOption[];\n\n\tconst desktopNotificationOptions = useMemo<SelectOption[]>((): SelectOption[] => {\n\t\tconst optionsCp = notificationOptions.slice();\n\t\toptionsCp.unshift(['default', `${t('Default')} (${t(notificationOptionsLabelMap[defaultDesktopNotifications] as TranslationKey)})`]);\n\t\treturn optionsCp;\n\t}, [defaultDesktopNotifications, notificationOptions, t]);\n\n\tconst mobileNotificationOptions = useMemo(() => {\n\t\tconst optionsCp = notificationOptions.slice();\n\t\toptionsCp.unshift(['default', `${t('Default')} (${t(notificationOptionsLabelMap[defaultMobileNotifications] as TranslationKey)})`]);\n\t\treturn optionsCp;\n\t}, [defaultMobileNotifications, notificationOptions, t]);\n\n\tconst emailNotificationOptions = useMemo(() => {\n\t\tconst options = Object.entries(emailNotificationOptionsLabelMap).map(\n\t\t\t([key, val]) => i18n.exists(val) && [key, t(val)],\n\t\t) as SelectOption[];\n\t\toptions.unshift(['default', `${t('Default')} (${t(emailNotificationOptionsLabelMap[userEmailNotificationMode] as TranslationKey)})`]);\n\t\treturn options;\n\t}, [i18n, t, userEmailNotificationMode]);\n\n\tconst { control } = useFormContext();\n\n\tconst notificationRequireId = useUniqueId();\n\tconst desktopNotificationsId = useUniqueId();\n\tconst pushNotificationsId = useUniqueId();\n\tconst emailNotificationModeId = useUniqueId();\n\tconst receiveLoginDetectionEmailId = useUniqueId();\n\tconst notifyCalendarEventsId = useUniqueId();\n\tconst enableMobileRingingId = useUniqueId();\n\n\treturn (\n\t\t<Accordion.Item title={t('Notifications')}>\n\t\t\t<FieldGroup>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Desktop_Notifications')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t{notificationsPermission === 'denied' && t('Desktop_Notifications_Disabled')}\n\t\t\t\t\t\t{notificationsPermission === 'granted' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Button primary onClick={onSendNotification}>\n\t\t\t\t\t\t\t\t\t{t('Test_Desktop_Notifications')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{notificationsPermission !== 'denied' && notificationsPermission !== 'granted' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Button primary onClick={onAskNotificationPermission}>\n\t\t\t\t\t\t\t\t\t{t('Enable_Desktop_Notifications')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<FieldLabel htmlFor={notificationRequireId}>{t('Notification_RequireInteraction')}</FieldLabel>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='desktopNotificationRequireInteraction'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\taria-describedby={`${notificationRequireId}-hint`}\n\t\t\t\t\t\t\t\t\tid={notificationRequireId}\n\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldHint id={`${notificationRequireId}-hint`}>{t('Only_works_with_chrome_version_greater_50')}</FieldHint>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={desktopNotificationsId}>{t('Notification_Desktop_Default_For')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='desktopNotifications'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select id={desktopNotificationsId} value={value} onChange={onChange} options={desktopNotificationOptions} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={pushNotificationsId}>{t('Notification_Push_Default_For')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='pushNotifications'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select id={pushNotificationsId} value={value} onChange={onChange} options={mobileNotificationOptions} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={emailNotificationModeId}>{t('Email_Notification_Mode')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='emailNotificationMode'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailNotificationModeId}-hint`}\n\t\t\t\t\t\t\t\t\tid={emailNotificationModeId}\n\t\t\t\t\t\t\t\t\tdisabled={!canChangeEmailNotification}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\toptions={emailNotificationOptions}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldHint id={`${emailNotificationModeId}-hint`}>\n\t\t\t\t\t\t{canChangeEmailNotification && t('You_need_to_verifiy_your_email_address_to_get_notications')}\n\t\t\t\t\t\t{!canChangeEmailNotification && t('Email_Notifications_Change_Disabled')}\n\t\t\t\t\t</FieldHint>\n\t\t\t\t</Field>\n\t\t\t\t{showNewLoginEmailPreference && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={receiveLoginDetectionEmailId}>{t('Receive_Login_Detection_Emails')}</FieldLabel>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname='receiveLoginDetectionEmail'\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${receiveLoginDetectionEmailId}-hint`}\n\t\t\t\t\t\t\t\t\t\tid={receiveLoginDetectionEmailId}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t<FieldHint id={`${receiveLoginDetectionEmailId}-hint`}>{t('Receive_Login_Detection_Emails_Description')}</FieldHint>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{showCalendarPreference && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={notifyCalendarEventsId}>{t('Notify_Calendar_Events')}</FieldLabel>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname='notifyCalendarEvents'\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch id={notifyCalendarEventsId} ref={ref} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{showMobileRinging && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={enableMobileRingingId}>{t('VideoConf_Mobile_Ringing')}</FieldLabel>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname='enableMobileRinging'\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch id={enableMobileRingingId} ref={ref} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t</FieldGroup>\n\t\t</Accordion.Item>\n\t);\n};\n\nexport default PreferencesNotificationsSection;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"production","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/preferences/PreferencesNotificationsSection.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/account/preferences/PreferencesNotificationsSection.tsx","inputSourceMap":{"version":3,"file":"client/views/account/preferences/PreferencesNotificationsSection.tsx","sourceRoot":"","sources":["client/views/account/preferences/PreferencesNotificationsSection.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { INotificationDesktop } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport { Accordion, Field, FieldLabel, FieldRow, FieldHint, Select, FieldGroup, ToggleSwitch, Button } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useUserPreference, useSetting } from '@rocket.chat/ui-contexts';\nimport React, { useCallback, useEffect, useState, useMemo } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { KonchatNotification } from '../../../../app/ui/client/lib/KonchatNotification';\n\nconst notificationOptionsLabelMap = {\n\tall: 'All_messages',\n\tmentions: 'Mentions',\n\tnothing: 'Nothing',\n};\n\nconst emailNotificationOptionsLabelMap = {\n\tmentions: 'Email_Notification_Mode_All',\n\tnothing: 'Email_Notification_Mode_Disabled',\n};\n\n// TODO: Test Notification Button not working\nconst PreferencesNotificationsSection = () => {\n\tconst { t, i18n } = useTranslation();\n\n\tconst [notificationsPermission, setNotificationsPermission] = useState<NotificationPermission>();\n\n\tconst defaultDesktopNotifications = useSetting(\n\t\t'Accounts_Default_User_Preferences_desktopNotifications',\n\t) as keyof typeof notificationOptionsLabelMap;\n\tconst defaultMobileNotifications = useSetting(\n\t\t'Accounts_Default_User_Preferences_pushNotifications',\n\t) as keyof typeof notificationOptionsLabelMap;\n\tconst canChangeEmailNotification = useSetting('Accounts_AllowEmailNotifications');\n\n\tconst loginEmailEnabled = useSetting('Device_Management_Enable_Login_Emails');\n\tconst allowLoginEmailPreference = useSetting('Device_Management_Allow_Login_Email_preference');\n\tconst showNewLoginEmailPreference = loginEmailEnabled && allowLoginEmailPreference;\n\tconst showCalendarPreference = useSetting('Outlook_Calendar_Enabled');\n\tconst showMobileRinging = useSetting('VideoConf_Mobile_Ringing');\n\n\tconst userEmailNotificationMode = useUserPreference('emailNotificationMode') as keyof typeof emailNotificationOptionsLabelMap;\n\n\tuseEffect(() => setNotificationsPermission(window.Notification && Notification.permission), []);\n\n\tconst onSendNotification = useCallback(() => {\n\t\tKonchatNotification.notify({\n\t\t\tpayload: { sender: { _id: 'rocket.cat', username: 'rocket.cat' }, rid: 'GENERAL' } as INotificationDesktop['payload'],\n\t\t\ttitle: t('Desktop_Notification_Test'),\n\t\t\ttext: t('This_is_a_desktop_notification'),\n\t\t});\n\t}, [t]);\n\n\tconst onAskNotificationPermission = useCallback(() => {\n\t\twindow.Notification && Notification.requestPermission().then((val) => setNotificationsPermission(val));\n\t}, []);\n\n\tconst notificationOptions = useMemo(\n\t\t() => Object.entries(notificationOptionsLabelMap).map(([key, val]) => i18n.exists(val) && [key, t(val)]),\n\t\t[i18n, t],\n\t) as SelectOption[];\n\n\tconst desktopNotificationOptions = useMemo<SelectOption[]>((): SelectOption[] => {\n\t\tconst optionsCp = notificationOptions.slice();\n\t\toptionsCp.unshift(['default', `${t('Default')} (${t(notificationOptionsLabelMap[defaultDesktopNotifications] as TranslationKey)})`]);\n\t\treturn optionsCp;\n\t}, [defaultDesktopNotifications, notificationOptions, t]);\n\n\tconst mobileNotificationOptions = useMemo(() => {\n\t\tconst optionsCp = notificationOptions.slice();\n\t\toptionsCp.unshift(['default', `${t('Default')} (${t(notificationOptionsLabelMap[defaultMobileNotifications] as TranslationKey)})`]);\n\t\treturn optionsCp;\n\t}, [defaultMobileNotifications, notificationOptions, t]);\n\n\tconst emailNotificationOptions = useMemo(() => {\n\t\tconst options = Object.entries(emailNotificationOptionsLabelMap).map(\n\t\t\t([key, val]) => i18n.exists(val) && [key, t(val)],\n\t\t) as SelectOption[];\n\t\toptions.unshift(['default', `${t('Default')} (${t(emailNotificationOptionsLabelMap[userEmailNotificationMode] as TranslationKey)})`]);\n\t\treturn options;\n\t}, [i18n, t, userEmailNotificationMode]);\n\n\tconst { control } = useFormContext();\n\n\tconst notificationRequireId = useUniqueId();\n\tconst desktopNotificationsId = useUniqueId();\n\tconst pushNotificationsId = useUniqueId();\n\tconst emailNotificationModeId = useUniqueId();\n\tconst receiveLoginDetectionEmailId = useUniqueId();\n\tconst notifyCalendarEventsId = useUniqueId();\n\tconst enableMobileRingingId = useUniqueId();\n\n\treturn (\n\t\t<Accordion.Item title={t('Notifications')}>\n\t\t\t<FieldGroup>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Desktop_Notifications')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t{notificationsPermission === 'denied' && t('Desktop_Notifications_Disabled')}\n\t\t\t\t\t\t{notificationsPermission === 'granted' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Button primary onClick={onSendNotification}>\n\t\t\t\t\t\t\t\t\t{t('Test_Desktop_Notifications')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{notificationsPermission !== 'denied' && notificationsPermission !== 'granted' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Button primary onClick={onAskNotificationPermission}>\n\t\t\t\t\t\t\t\t\t{t('Enable_Desktop_Notifications')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<FieldLabel htmlFor={notificationRequireId}>{t('Notification_RequireInteraction')}</FieldLabel>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='desktopNotificationRequireInteraction'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\taria-describedby={`${notificationRequireId}-hint`}\n\t\t\t\t\t\t\t\t\tid={notificationRequireId}\n\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldHint id={`${notificationRequireId}-hint`}>{t('Only_works_with_chrome_version_greater_50')}</FieldHint>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={desktopNotificationsId}>{t('Notification_Desktop_Default_For')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='desktopNotifications'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select id={desktopNotificationsId} value={value} onChange={onChange} options={desktopNotificationOptions} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={pushNotificationsId}>{t('Notification_Push_Default_For')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='pushNotifications'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select id={pushNotificationsId} value={value} onChange={onChange} options={mobileNotificationOptions} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={emailNotificationModeId}>{t('Email_Notification_Mode')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='emailNotificationMode'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailNotificationModeId}-hint`}\n\t\t\t\t\t\t\t\t\tid={emailNotificationModeId}\n\t\t\t\t\t\t\t\t\tdisabled={!canChangeEmailNotification}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\toptions={emailNotificationOptions}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldHint id={`${emailNotificationModeId}-hint`}>\n\t\t\t\t\t\t{canChangeEmailNotification && t('You_need_to_verifiy_your_email_address_to_get_notications')}\n\t\t\t\t\t\t{!canChangeEmailNotification && t('Email_Notifications_Change_Disabled')}\n\t\t\t\t\t</FieldHint>\n\t\t\t\t</Field>\n\t\t\t\t{showNewLoginEmailPreference && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={receiveLoginDetectionEmailId}>{t('Receive_Login_Detection_Emails')}</FieldLabel>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname='receiveLoginDetectionEmail'\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${receiveLoginDetectionEmailId}-hint`}\n\t\t\t\t\t\t\t\t\t\tid={receiveLoginDetectionEmailId}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t<FieldHint id={`${receiveLoginDetectionEmailId}-hint`}>{t('Receive_Login_Detection_Emails_Description')}</FieldHint>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{showCalendarPreference && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={notifyCalendarEventsId}>{t('Notify_Calendar_Events')}</FieldLabel>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname='notifyCalendarEvents'\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch id={notifyCalendarEventsId} ref={ref} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{showMobileRinging && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={enableMobileRingingId}>{t('VideoConf_Mobile_Ringing')}</FieldLabel>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname='enableMobileRinging'\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch id={enableMobileRingingId} ref={ref} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t</FieldGroup>\n\t\t</Accordion.Item>\n\t);\n};\n\nexport default PreferencesNotificationsSection;\n"]}}},"code":"var _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 0);\nvar Accordion, Field, FieldLabel, FieldRow, FieldHint, Select, FieldGroup, ToggleSwitch, Button;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Accordion: function (v) {\n    Accordion = v;\n  },\n  Field: function (v) {\n    Field = v;\n  },\n  FieldLabel: function (v) {\n    FieldLabel = v;\n  },\n  FieldRow: function (v) {\n    FieldRow = v;\n  },\n  FieldHint: function (v) {\n    FieldHint = v;\n  },\n  Select: function (v) {\n    Select = v;\n  },\n  FieldGroup: function (v) {\n    FieldGroup = v;\n  },\n  ToggleSwitch: function (v) {\n    ToggleSwitch = v;\n  },\n  Button: function (v) {\n    Button = v;\n  }\n}, 0);\nvar useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useUniqueId: function (v) {\n    useUniqueId = v;\n  }\n}, 1);\nvar useUserPreference, useSetting;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useUserPreference: function (v) {\n    useUserPreference = v;\n  },\n  useSetting: function (v) {\n    useSetting = v;\n  }\n}, 2);\nvar React, useCallback, useEffect, useState, useMemo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  }\n}, 3);\nvar Controller, useFormContext;\nmodule.link(\"react-hook-form\", {\n  Controller: function (v) {\n    Controller = v;\n  },\n  useFormContext: function (v) {\n    useFormContext = v;\n  }\n}, 4);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 5);\nvar KonchatNotification;\nmodule.link(\"../../../../app/ui/client/lib/KonchatNotification\", {\n  KonchatNotification: function (v) {\n    KonchatNotification = v;\n  }\n}, 6);\nvar notificationOptionsLabelMap = {\n  all: 'All_messages',\n  mentions: 'Mentions',\n  nothing: 'Nothing'\n};\nvar emailNotificationOptionsLabelMap = {\n  mentions: 'Email_Notification_Mode_All',\n  nothing: 'Email_Notification_Mode_Disabled'\n};\n// TODO: Test Notification Button not working\nvar PreferencesNotificationsSection = function () {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t,\n    i18n = _useTranslation.i18n;\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    notificationsPermission = _useState2[0],\n    setNotificationsPermission = _useState2[1];\n  var defaultDesktopNotifications = useSetting('Accounts_Default_User_Preferences_desktopNotifications');\n  var defaultMobileNotifications = useSetting('Accounts_Default_User_Preferences_pushNotifications');\n  var canChangeEmailNotification = useSetting('Accounts_AllowEmailNotifications');\n  var loginEmailEnabled = useSetting('Device_Management_Enable_Login_Emails');\n  var allowLoginEmailPreference = useSetting('Device_Management_Allow_Login_Email_preference');\n  var showNewLoginEmailPreference = loginEmailEnabled && allowLoginEmailPreference;\n  var showCalendarPreference = useSetting('Outlook_Calendar_Enabled');\n  var showMobileRinging = useSetting('VideoConf_Mobile_Ringing');\n  var userEmailNotificationMode = useUserPreference('emailNotificationMode');\n  useEffect(function () {\n    return setNotificationsPermission(window.Notification && Notification.permission);\n  }, []);\n  var onSendNotification = useCallback(function () {\n    KonchatNotification.notify({\n      payload: {\n        sender: {\n          _id: 'rocket.cat',\n          username: 'rocket.cat'\n        },\n        rid: 'GENERAL'\n      },\n      title: t('Desktop_Notification_Test'),\n      text: t('This_is_a_desktop_notification')\n    });\n  }, [t]);\n  var onAskNotificationPermission = useCallback(function () {\n    window.Notification && Notification.requestPermission().then(function (val) {\n      return setNotificationsPermission(val);\n    });\n  }, []);\n  var notificationOptions = useMemo(function () {\n    return Object.entries(notificationOptionsLabelMap).map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        val = _ref2[1];\n      return i18n.exists(val) && [key, t(val)];\n    });\n  }, [i18n, t]);\n  var desktopNotificationOptions = useMemo(function () {\n    var optionsCp = notificationOptions.slice();\n    optionsCp.unshift(['default', t('Default') + \" (\" + t(notificationOptionsLabelMap[defaultDesktopNotifications]) + \")\"]);\n    return optionsCp;\n  }, [defaultDesktopNotifications, notificationOptions, t]);\n  var mobileNotificationOptions = useMemo(function () {\n    var optionsCp = notificationOptions.slice();\n    optionsCp.unshift(['default', t('Default') + \" (\" + t(notificationOptionsLabelMap[defaultMobileNotifications]) + \")\"]);\n    return optionsCp;\n  }, [defaultMobileNotifications, notificationOptions, t]);\n  var emailNotificationOptions = useMemo(function () {\n    var options = Object.entries(emailNotificationOptionsLabelMap).map(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n        key = _ref4[0],\n        val = _ref4[1];\n      return i18n.exists(val) && [key, t(val)];\n    });\n    options.unshift(['default', t('Default') + \" (\" + t(emailNotificationOptionsLabelMap[userEmailNotificationMode]) + \")\"]);\n    return options;\n  }, [i18n, t, userEmailNotificationMode]);\n  var _useFormContext = useFormContext(),\n    control = _useFormContext.control;\n  var notificationRequireId = useUniqueId();\n  var desktopNotificationsId = useUniqueId();\n  var pushNotificationsId = useUniqueId();\n  var emailNotificationModeId = useUniqueId();\n  var receiveLoginDetectionEmailId = useUniqueId();\n  var notifyCalendarEventsId = useUniqueId();\n  var enableMobileRingingId = useUniqueId();\n  return /*#__PURE__*/React.createElement(Accordion.Item, {\n    title: t('Notifications')\n  }, /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, null, t('Desktop_Notifications')), /*#__PURE__*/React.createElement(FieldRow, null, notificationsPermission === 'denied' && t('Desktop_Notifications_Disabled'), notificationsPermission === 'granted' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onSendNotification\n  }, t('Test_Desktop_Notifications'))), notificationsPermission !== 'denied' && notificationsPermission !== 'granted' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onAskNotificationPermission\n  }, t('Enable_Desktop_Notifications'))))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: notificationRequireId\n  }, t('Notification_RequireInteraction')), /*#__PURE__*/React.createElement(Controller, {\n    name: \"desktopNotificationRequireInteraction\",\n    control: control,\n    render: function (_ref5) {\n      var _ref5$field = _ref5.field,\n        ref = _ref5$field.ref,\n        value = _ref5$field.value,\n        onChange = _ref5$field.onChange;\n      return /*#__PURE__*/React.createElement(ToggleSwitch, {\n        \"aria-describedby\": notificationRequireId + \"-hint\",\n        id: notificationRequireId,\n        ref: ref,\n        checked: value,\n        onChange: onChange\n      });\n    }\n  })), /*#__PURE__*/React.createElement(FieldHint, {\n    id: notificationRequireId + \"-hint\"\n  }, t('Only_works_with_chrome_version_greater_50'))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: desktopNotificationsId\n  }, t('Notification_Desktop_Default_For')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"desktopNotifications\",\n    control: control,\n    render: function (_ref6) {\n      var _ref6$field = _ref6.field,\n        value = _ref6$field.value,\n        onChange = _ref6$field.onChange;\n      return /*#__PURE__*/React.createElement(Select, {\n        id: desktopNotificationsId,\n        value: value,\n        onChange: onChange,\n        options: desktopNotificationOptions\n      });\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: pushNotificationsId\n  }, t('Notification_Push_Default_For')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"pushNotifications\",\n    control: control,\n    render: function (_ref7) {\n      var _ref7$field = _ref7.field,\n        value = _ref7$field.value,\n        onChange = _ref7$field.onChange;\n      return /*#__PURE__*/React.createElement(Select, {\n        id: pushNotificationsId,\n        value: value,\n        onChange: onChange,\n        options: mobileNotificationOptions\n      });\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: emailNotificationModeId\n  }, t('Email_Notification_Mode')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"emailNotificationMode\",\n    control: control,\n    render: function (_ref8) {\n      var _ref8$field = _ref8.field,\n        value = _ref8$field.value,\n        onChange = _ref8$field.onChange;\n      return /*#__PURE__*/React.createElement(Select, {\n        \"aria-describedby\": emailNotificationModeId + \"-hint\",\n        id: emailNotificationModeId,\n        disabled: !canChangeEmailNotification,\n        value: value,\n        onChange: onChange,\n        options: emailNotificationOptions\n      });\n    }\n  })), /*#__PURE__*/React.createElement(FieldHint, {\n    id: emailNotificationModeId + \"-hint\"\n  }, canChangeEmailNotification && t('You_need_to_verifiy_your_email_address_to_get_notications'), !canChangeEmailNotification && t('Email_Notifications_Change_Disabled'))), showNewLoginEmailPreference && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: receiveLoginDetectionEmailId\n  }, t('Receive_Login_Detection_Emails')), /*#__PURE__*/React.createElement(Controller, {\n    name: \"receiveLoginDetectionEmail\",\n    control: control,\n    render: function (_ref9) {\n      var _ref9$field = _ref9.field,\n        ref = _ref9$field.ref,\n        value = _ref9$field.value,\n        onChange = _ref9$field.onChange;\n      return /*#__PURE__*/React.createElement(ToggleSwitch, {\n        \"aria-describedby\": receiveLoginDetectionEmailId + \"-hint\",\n        id: receiveLoginDetectionEmailId,\n        ref: ref,\n        checked: value,\n        onChange: onChange\n      });\n    }\n  })), /*#__PURE__*/React.createElement(FieldHint, {\n    id: receiveLoginDetectionEmailId + \"-hint\"\n  }, t('Receive_Login_Detection_Emails_Description'))), showCalendarPreference && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: notifyCalendarEventsId\n  }, t('Notify_Calendar_Events')), /*#__PURE__*/React.createElement(Controller, {\n    name: \"notifyCalendarEvents\",\n    control: control,\n    render: function (_ref10) {\n      var _ref10$field = _ref10.field,\n        ref = _ref10$field.ref,\n        value = _ref10$field.value,\n        onChange = _ref10$field.onChange;\n      return /*#__PURE__*/React.createElement(ToggleSwitch, {\n        id: notifyCalendarEventsId,\n        ref: ref,\n        checked: value,\n        onChange: onChange\n      });\n    }\n  }))), showMobileRinging && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: enableMobileRingingId\n  }, t('VideoConf_Mobile_Ringing')), /*#__PURE__*/React.createElement(Controller, {\n    name: \"enableMobileRinging\",\n    control: control,\n    render: function (_ref11) {\n      var _ref11$field = _ref11.field,\n        ref = _ref11$field.ref,\n        value = _ref11$field.value,\n        onChange = _ref11$field.onChange;\n      return /*#__PURE__*/React.createElement(ToggleSwitch, {\n        id: enableMobileRingingId,\n        ref: ref,\n        checked: value,\n        onChange: onChange\n      });\n    }\n  })))));\n};\nmodule.exportDefault(PreferencesNotificationsSection);","map":{"version":3,"names":["_slicedToArray","module","link","default","v","Accordion","Field","FieldLabel","FieldRow","FieldHint","Select","FieldGroup","ToggleSwitch","Button","useUniqueId","useUserPreference","useSetting","React","useCallback","useEffect","useState","useMemo","Controller","useFormContext","useTranslation","KonchatNotification","notificationOptionsLabelMap","all","mentions","nothing","emailNotificationOptionsLabelMap","PreferencesNotificationsSection","_useTranslation","t","i18n","_useState","_useState2","notificationsPermission","setNotificationsPermission","defaultDesktopNotifications","defaultMobileNotifications","canChangeEmailNotification","loginEmailEnabled","allowLoginEmailPreference","showNewLoginEmailPreference","showCalendarPreference","showMobileRinging","userEmailNotificationMode","window","Notification","permission","onSendNotification","notify","payload","sender","_id","username","rid","title","text","onAskNotificationPermission","requestPermission","then","val","notificationOptions","Object","entries","map","_ref","_ref2","key","exists","desktopNotificationOptions","optionsCp","slice","unshift","mobileNotificationOptions","emailNotificationOptions","options","_ref3","_ref4","_useFormContext","control","notificationRequireId","desktopNotificationsId","pushNotificationsId","emailNotificationModeId","receiveLoginDetectionEmailId","notifyCalendarEventsId","enableMobileRingingId","createElement","Item","Fragment","primary","onClick","htmlFor","name","render","_ref5","_ref5$field","field","ref","value","onChange","id","checked","_ref6","_ref6$field","_ref7","_ref7$field","_ref8","_ref8$field","disabled","_ref9","_ref9$field","_ref10","_ref10$field","_ref11","_ref11$field","exportDefault"],"sources":["client/views/account/preferences/PreferencesNotificationsSection.tsx"],"sourcesContent":["import type { INotificationDesktop } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport { Accordion, Field, FieldLabel, FieldRow, FieldHint, Select, FieldGroup, ToggleSwitch, Button } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useUserPreference, useSetting } from '@rocket.chat/ui-contexts';\nimport React, { useCallback, useEffect, useState, useMemo } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { KonchatNotification } from '../../../../app/ui/client/lib/KonchatNotification';\n\nconst notificationOptionsLabelMap = {\n\tall: 'All_messages',\n\tmentions: 'Mentions',\n\tnothing: 'Nothing',\n};\n\nconst emailNotificationOptionsLabelMap = {\n\tmentions: 'Email_Notification_Mode_All',\n\tnothing: 'Email_Notification_Mode_Disabled',\n};\n\n// TODO: Test Notification Button not working\nconst PreferencesNotificationsSection = () => {\n\tconst { t, i18n } = useTranslation();\n\n\tconst [notificationsPermission, setNotificationsPermission] = useState<NotificationPermission>();\n\n\tconst defaultDesktopNotifications = useSetting(\n\t\t'Accounts_Default_User_Preferences_desktopNotifications',\n\t) as keyof typeof notificationOptionsLabelMap;\n\tconst defaultMobileNotifications = useSetting(\n\t\t'Accounts_Default_User_Preferences_pushNotifications',\n\t) as keyof typeof notificationOptionsLabelMap;\n\tconst canChangeEmailNotification = useSetting('Accounts_AllowEmailNotifications');\n\n\tconst loginEmailEnabled = useSetting('Device_Management_Enable_Login_Emails');\n\tconst allowLoginEmailPreference = useSetting('Device_Management_Allow_Login_Email_preference');\n\tconst showNewLoginEmailPreference = loginEmailEnabled && allowLoginEmailPreference;\n\tconst showCalendarPreference = useSetting('Outlook_Calendar_Enabled');\n\tconst showMobileRinging = useSetting('VideoConf_Mobile_Ringing');\n\n\tconst userEmailNotificationMode = useUserPreference('emailNotificationMode') as keyof typeof emailNotificationOptionsLabelMap;\n\n\tuseEffect(() => setNotificationsPermission(window.Notification && Notification.permission), []);\n\n\tconst onSendNotification = useCallback(() => {\n\t\tKonchatNotification.notify({\n\t\t\tpayload: { sender: { _id: 'rocket.cat', username: 'rocket.cat' }, rid: 'GENERAL' } as INotificationDesktop['payload'],\n\t\t\ttitle: t('Desktop_Notification_Test'),\n\t\t\ttext: t('This_is_a_desktop_notification'),\n\t\t});\n\t}, [t]);\n\n\tconst onAskNotificationPermission = useCallback(() => {\n\t\twindow.Notification && Notification.requestPermission().then((val) => setNotificationsPermission(val));\n\t}, []);\n\n\tconst notificationOptions = useMemo(\n\t\t() => Object.entries(notificationOptionsLabelMap).map(([key, val]) => i18n.exists(val) && [key, t(val)]),\n\t\t[i18n, t],\n\t) as SelectOption[];\n\n\tconst desktopNotificationOptions = useMemo<SelectOption[]>((): SelectOption[] => {\n\t\tconst optionsCp = notificationOptions.slice();\n\t\toptionsCp.unshift(['default', `${t('Default')} (${t(notificationOptionsLabelMap[defaultDesktopNotifications] as TranslationKey)})`]);\n\t\treturn optionsCp;\n\t}, [defaultDesktopNotifications, notificationOptions, t]);\n\n\tconst mobileNotificationOptions = useMemo(() => {\n\t\tconst optionsCp = notificationOptions.slice();\n\t\toptionsCp.unshift(['default', `${t('Default')} (${t(notificationOptionsLabelMap[defaultMobileNotifications] as TranslationKey)})`]);\n\t\treturn optionsCp;\n\t}, [defaultMobileNotifications, notificationOptions, t]);\n\n\tconst emailNotificationOptions = useMemo(() => {\n\t\tconst options = Object.entries(emailNotificationOptionsLabelMap).map(\n\t\t\t([key, val]) => i18n.exists(val) && [key, t(val)],\n\t\t) as SelectOption[];\n\t\toptions.unshift(['default', `${t('Default')} (${t(emailNotificationOptionsLabelMap[userEmailNotificationMode] as TranslationKey)})`]);\n\t\treturn options;\n\t}, [i18n, t, userEmailNotificationMode]);\n\n\tconst { control } = useFormContext();\n\n\tconst notificationRequireId = useUniqueId();\n\tconst desktopNotificationsId = useUniqueId();\n\tconst pushNotificationsId = useUniqueId();\n\tconst emailNotificationModeId = useUniqueId();\n\tconst receiveLoginDetectionEmailId = useUniqueId();\n\tconst notifyCalendarEventsId = useUniqueId();\n\tconst enableMobileRingingId = useUniqueId();\n\n\treturn (\n\t\t<Accordion.Item title={t('Notifications')}>\n\t\t\t<FieldGroup>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Desktop_Notifications')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t{notificationsPermission === 'denied' && t('Desktop_Notifications_Disabled')}\n\t\t\t\t\t\t{notificationsPermission === 'granted' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Button primary onClick={onSendNotification}>\n\t\t\t\t\t\t\t\t\t{t('Test_Desktop_Notifications')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{notificationsPermission !== 'denied' && notificationsPermission !== 'granted' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Button primary onClick={onAskNotificationPermission}>\n\t\t\t\t\t\t\t\t\t{t('Enable_Desktop_Notifications')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<FieldLabel htmlFor={notificationRequireId}>{t('Notification_RequireInteraction')}</FieldLabel>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='desktopNotificationRequireInteraction'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\taria-describedby={`${notificationRequireId}-hint`}\n\t\t\t\t\t\t\t\t\tid={notificationRequireId}\n\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldHint id={`${notificationRequireId}-hint`}>{t('Only_works_with_chrome_version_greater_50')}</FieldHint>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={desktopNotificationsId}>{t('Notification_Desktop_Default_For')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='desktopNotifications'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select id={desktopNotificationsId} value={value} onChange={onChange} options={desktopNotificationOptions} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={pushNotificationsId}>{t('Notification_Push_Default_For')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='pushNotifications'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select id={pushNotificationsId} value={value} onChange={onChange} options={mobileNotificationOptions} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={emailNotificationModeId}>{t('Email_Notification_Mode')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='emailNotificationMode'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailNotificationModeId}-hint`}\n\t\t\t\t\t\t\t\t\tid={emailNotificationModeId}\n\t\t\t\t\t\t\t\t\tdisabled={!canChangeEmailNotification}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\toptions={emailNotificationOptions}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldHint id={`${emailNotificationModeId}-hint`}>\n\t\t\t\t\t\t{canChangeEmailNotification && t('You_need_to_verifiy_your_email_address_to_get_notications')}\n\t\t\t\t\t\t{!canChangeEmailNotification && t('Email_Notifications_Change_Disabled')}\n\t\t\t\t\t</FieldHint>\n\t\t\t\t</Field>\n\t\t\t\t{showNewLoginEmailPreference && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={receiveLoginDetectionEmailId}>{t('Receive_Login_Detection_Emails')}</FieldLabel>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname='receiveLoginDetectionEmail'\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${receiveLoginDetectionEmailId}-hint`}\n\t\t\t\t\t\t\t\t\t\tid={receiveLoginDetectionEmailId}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t<FieldHint id={`${receiveLoginDetectionEmailId}-hint`}>{t('Receive_Login_Detection_Emails_Description')}</FieldHint>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{showCalendarPreference && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={notifyCalendarEventsId}>{t('Notify_Calendar_Events')}</FieldLabel>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname='notifyCalendarEvents'\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch id={notifyCalendarEventsId} ref={ref} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{showMobileRinging && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={enableMobileRingingId}>{t('VideoConf_Mobile_Ringing')}</FieldLabel>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname='enableMobileRinging'\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch id={enableMobileRingingId} ref={ref} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t</FieldGroup>\n\t\t</Accordion.Item>\n\t);\n};\n\nexport default PreferencesNotificationsSection;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"761efcd5aa2bb83ed13118e027b1478bc622f493"}
