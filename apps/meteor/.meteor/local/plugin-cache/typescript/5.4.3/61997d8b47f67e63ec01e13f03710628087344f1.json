{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/marketplace/AppDetailsPage/AppDetailsPage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/marketplace/AppDetailsPage/AppDetailsPage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/marketplace/AppDetailsPage/AppDetailsPage.tsx","inputSourceMap":{"version":3,"file":"client/views/marketplace/AppDetailsPage/AppDetailsPage.tsx","sourceRoot":"","sources":["client/views/marketplace/AppDetailsPage/AppDetailsPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ISetting } from '@rocket.chat/apps-engine/definition/settings';\nimport type { App } from '@rocket.chat/core-typings';\nimport { Button, ButtonGroup, Box } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation, useRouteParameter, useToastMessageDispatch, usePermission, useRouter } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useMemo, useCallback } from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport { AppClientOrchestratorInstance } from '../../../apps/orchestrator';\nimport { Page, PageFooter, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\nimport { handleAPIError } from '../helpers/handleAPIError';\nimport { useAppInfo } from '../hooks/useAppInfo';\nimport AppDetailsPageHeader from './AppDetailsPageHeader';\nimport AppDetailsPageLoading from './AppDetailsPageLoading';\nimport AppDetailsPageTabs from './AppDetailsPageTabs';\nimport AppDetails from './tabs/AppDetails';\nimport AppLogs from './tabs/AppLogs';\nimport AppReleases from './tabs/AppReleases';\nimport AppRequests from './tabs/AppRequests/AppRequests';\nimport AppSecurity from './tabs/AppSecurity/AppSecurity';\nimport AppSettings from './tabs/AppSettings';\n\nconst AppDetailsPage = ({ id }: { id: App['id'] }): ReactElement => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst isAdminUser = usePermission('manage-apps');\n\n\tconst tab = useRouteParameter('tab');\n\tconst context = useRouteParameter('context');\n\tconst appData = useAppInfo(id, context || '');\n\n\tconst handleReturn = useMutableCallback((): void => {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\trouter.navigate({\n\t\t\tname: 'marketplace',\n\t\t\tparams: { context, page: 'list' },\n\t\t});\n\t});\n\n\tconst { installed, settings, privacyPolicySummary, permissions, tosLink, privacyLink, name } = appData || {};\n\tconst isSecurityVisible = Boolean(privacyPolicySummary || permissions || tosLink || privacyLink);\n\n\tconst saveAppSettings = useCallback(\n\t\tasync (data) => {\n\t\t\ttry {\n\t\t\t\tawait AppClientOrchestratorInstance.setAppSettings(\n\t\t\t\t\tid,\n\t\t\t\t\t(Object.values(settings || {}) as ISetting[]).map((setting) => ({\n\t\t\t\t\t\t...setting,\n\t\t\t\t\t\tvalue: data[setting.id],\n\t\t\t\t\t})),\n\t\t\t\t);\n\n\t\t\t\tdispatchToastMessage({ type: 'success', message: `${name} settings saved succesfully` });\n\t\t\t} catch (e: any) {\n\t\t\t\thandleAPIError(e);\n\t\t\t}\n\t\t},\n\t\t[dispatchToastMessage, id, name, settings],\n\t);\n\n\tconst reducedSettings = useMemo(() => {\n\t\treturn Object.values(settings || {}).reduce((ret, { id, value, packageValue }) => ({ ...ret, [id]: value ?? packageValue }), {});\n\t}, [settings]);\n\n\tconst methods = useForm({ values: reducedSettings });\n\tconst {\n\t\thandleSubmit,\n\t\treset,\n\t\tformState: { isDirty, isSubmitting, isSubmitted },\n\t} = methods;\n\n\treturn (\n\t\t<Page flexDirection='column' h='full'>\n\t\t\t<PageHeader title={t('App_Info')} onClickBack={handleReturn} />\n\t\t\t<PageScrollableContentWithShadow pi={24} pbs={24} pbe={0} h='full'>\n\t\t\t\t<Box w='full' alignSelf='center' h='full' display='flex' flexDirection='column'>\n\t\t\t\t\t{!appData && <AppDetailsPageLoading />}\n\t\t\t\t\t{appData && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<AppDetailsPageHeader app={appData} />\n\t\t\t\t\t\t\t<AppDetailsPageTabs\n\t\t\t\t\t\t\t\tcontext={context || ''}\n\t\t\t\t\t\t\t\tinstalled={installed}\n\t\t\t\t\t\t\t\tisSecurityVisible={isSecurityVisible}\n\t\t\t\t\t\t\t\tsettings={settings}\n\t\t\t\t\t\t\t\ttab={tab}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{Boolean(!tab || tab === 'details') && <AppDetails app={appData} />}\n\t\t\t\t\t\t\t{tab === 'requests' && <AppRequests id={id} isAdminUser={isAdminUser} />}\n\t\t\t\t\t\t\t{tab === 'security' && isSecurityVisible && (\n\t\t\t\t\t\t\t\t<AppSecurity\n\t\t\t\t\t\t\t\t\tprivacyPolicySummary={privacyPolicySummary}\n\t\t\t\t\t\t\t\t\tappPermissions={permissions}\n\t\t\t\t\t\t\t\t\ttosLink={tosLink}\n\t\t\t\t\t\t\t\t\tprivacyLink={privacyLink}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{tab === 'releases' && <AppReleases id={id} />}\n\t\t\t\t\t\t\t{Boolean(tab === 'settings' && settings && Object.values(settings).length) && (\n\t\t\t\t\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t\t\t\t\t<AppSettings settings={settings || {}} />\n\t\t\t\t\t\t\t\t</FormProvider>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{tab === 'logs' && <AppLogs id={id} />}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t\t<PageFooter isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => reset()}>{t('Cancel')}</Button>\n\t\t\t\t\t{installed && isAdminUser && (\n\t\t\t\t\t\t<Button primary loading={isSubmitting || isSubmitted} onClick={handleSubmit(saveAppSettings)}>\n\t\t\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageFooter>\n\t\t</Page>\n\t);\n};\n\nexport default AppDetailsPage;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/marketplace/AppDetailsPage/AppDetailsPage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/marketplace/AppDetailsPage/AppDetailsPage.tsx","inputSourceMap":{"version":3,"file":"client/views/marketplace/AppDetailsPage/AppDetailsPage.tsx","sourceRoot":"","sources":["client/views/marketplace/AppDetailsPage/AppDetailsPage.tsx"],"names":[],"mappings":"AAEA,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG,EAAE,MAAM,uBAAuB,CAAC;AACjE,OAAO,EAAE,kBAAkB,EAAE,MAAM,6BAA6B,CAAC;AACjE,OAAO,EAAE,cAAc,EAAE,iBAAiB,EAAE,uBAAuB,EAAE,aAAa,EAAE,SAAS,EAAE,MAAM,0BAA0B,CAAC;AAEhI,OAAO,KAAK,EAAE,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,OAAO,CAAC;AACpD,OAAO,EAAE,YAAY,EAAE,OAAO,EAAE,MAAM,iBAAiB,CAAC;AAExD,OAAO,EAAE,6BAA6B,EAAE,MAAM,4BAA4B,CAAC;AAC3E,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,UAAU,EAAE,+BAA+B,EAAE,MAAM,0BAA0B,CAAC;AACzG,OAAO,EAAE,cAAc,EAAE,MAAM,2BAA2B,CAAC;AAC3D,OAAO,EAAE,UAAU,EAAE,MAAM,qBAAqB,CAAC;AACjD,OAAO,oBAAoB,MAAM,wBAAwB,CAAC;AAC1D,OAAO,qBAAqB,MAAM,yBAAyB,CAAC;AAC5D,OAAO,kBAAkB,MAAM,sBAAsB,CAAC;AACtD,OAAO,UAAU,MAAM,mBAAmB,CAAC;AAC3C,OAAO,OAAO,MAAM,gBAAgB,CAAC;AACrC,OAAO,WAAW,MAAM,oBAAoB,CAAC;AAC7C,OAAO,WAAW,MAAM,gCAAgC,CAAC;AACzD,OAAO,WAAW,MAAM,gCAAgC,CAAC;AACzD,OAAO,WAAW,MAAM,oBAAoB,CAAC;AAE7C,MAAM,cAAc,GAAG,CAAC,EAAE,EAAE,EAAqB,EAAgB,EAAE;IAClE,MAAM,CAAC,GAAG,cAAc,EAAE,CAAC;IAC3B,MAAM,MAAM,GAAG,SAAS,EAAE,CAAC;IAC3B,MAAM,oBAAoB,GAAG,uBAAuB,EAAE,CAAC;IACvD,MAAM,WAAW,GAAG,aAAa,CAAC,aAAa,CAAC,CAAC;IAEjD,MAAM,GAAG,GAAG,iBAAiB,CAAC,KAAK,CAAC,CAAC;IACrC,MAAM,OAAO,GAAG,iBAAiB,CAAC,SAAS,CAAC,CAAC;IAC7C,MAAM,OAAO,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,EAAE,CAAC,CAAC;IAE9C,MAAM,YAAY,GAAG,kBAAkB,CAAC,GAAS,EAAE;QAClD,IAAI,CAAC,OAAO,EAAE,CAAC;YACd,OAAO;QACR,CAAC;QAED,MAAM,CAAC,QAAQ,CAAC;YACf,IAAI,EAAE,aAAa;YACnB,MAAM,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE;SACjC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,oBAAoB,EAAE,WAAW,EAAE,OAAO,EAAE,WAAW,EAAE,IAAI,EAAE,GAAG,OAAO,IAAI,EAAE,CAAC;IAC7G,MAAM,iBAAiB,GAAG,OAAO,CAAC,oBAAoB,IAAI,WAAW,IAAI,OAAO,IAAI,WAAW,CAAC,CAAC;IAEjG,MAAM,eAAe,GAAG,WAAW,CAClC,KAAK,EAAE,IAAI,EAAE,EAAE;QACd,IAAI,CAAC;YACJ,MAAM,6BAA6B,CAAC,cAAc,CACjD,EAAE,EACD,MAAM,CAAC,MAAM,CAAC,QAAQ,IAAI,EAAE,CAAgB,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBAC/D,GAAG,OAAO;gBACV,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;aACvB,CAAC,CAAC,CACH,CAAC;YAEF,oBAAoB,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,IAAI,6BAA6B,EAAE,CAAC,CAAC;QAC1F,CAAC;QAAC,OAAO,CAAM,EAAE,CAAC;YACjB,cAAc,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;IACF,CAAC,EACD,CAAC,oBAAoB,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,CAC1C,CAAC;IAEF,MAAM,eAAe,GAAG,OAAO,CAAC,GAAG,EAAE;QACpC,OAAO,MAAM,CAAC,MAAM,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,YAAY,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,IAAI,YAAY,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;IAClI,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;IAEf,MAAM,OAAO,GAAG,OAAO,CAAC,EAAE,MAAM,EAAE,eAAe,EAAE,CAAC,CAAC;IACrD,MAAM,EACL,YAAY,EACZ,KAAK,EACL,SAAS,EAAE,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,GACjD,GAAG,OAAO,CAAC;IAEZ,OAAO,CACN,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CACpC;GAAA,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,YAAY,CAAC,EAC5D;GAAA,CAAC,+BAA+B,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CACjE;IAAA,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAC9E;KAAA,CAAC,CAAC,OAAO,IAAI,CAAC,qBAAqB,CAAC,AAAD,EAAG,CACtC;KAAA,CAAC,OAAO,IAAI,CACX,EACC;OAAA,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,EACnC;OAAA,CAAC,kBAAkB,CAClB,OAAO,CAAC,CAAC,OAAO,IAAI,EAAE,CAAC,CACvB,SAAS,CAAC,CAAC,SAAS,CAAC,CACrB,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,CACrC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,GAAG,CAAC,CAAC,GAAG,CAAC,EAEV;OAAA,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,GAAG,KAAK,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,EAAG,CACnE;OAAA,CAAC,GAAG,KAAK,UAAU,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,EAAG,CACxE;OAAA,CAAC,GAAG,KAAK,UAAU,IAAI,iBAAiB,IAAI,CAC3C,CAAC,WAAW,CACX,oBAAoB,CAAC,CAAC,oBAAoB,CAAC,CAC3C,cAAc,CAAC,CAAC,WAAW,CAAC,CAC5B,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,WAAW,CAAC,CAAC,WAAW,CAAC,EACxB,CACF,CACD;OAAA,CAAC,GAAG,KAAK,UAAU,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAG,CAC9C;OAAA,CAAC,OAAO,CAAC,GAAG,KAAK,UAAU,IAAI,QAAQ,IAAI,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,CAC7E,CAAC,YAAY,CAAC,IAAI,OAAO,CAAC,CACzB;SAAA,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,QAAQ,IAAI,EAAE,CAAC,EACvC;QAAA,EAAE,YAAY,CAAC,CACf,CACD;OAAA,CAAC,GAAG,KAAK,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAG,CACvC;MAAA,GAAG,CACH,CACF;IAAA,EAAE,GAAG,CACN;GAAA,EAAE,+BAA+B,CACjC;GAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAC5B;IAAA,CAAC,WAAW,CACX;KAAA,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,MAAM,CACrD;KAAA,CAAC,SAAS,IAAI,WAAW,IAAI,CAC5B,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,YAAY,IAAI,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAC5F;OAAA,CAAC,CAAC,CAAC,cAAc,CAAC,CACnB;MAAA,EAAE,MAAM,CAAC,CACT,CACF;IAAA,EAAE,WAAW,CACd;GAAA,EAAE,UAAU,CACb;EAAA,EAAE,IAAI,CAAC,CACP,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,cAAc,CAAC","sourcesContent":["import type { ISetting } from '@rocket.chat/apps-engine/definition/settings';\nimport type { App } from '@rocket.chat/core-typings';\nimport { Button, ButtonGroup, Box } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation, useRouteParameter, useToastMessageDispatch, usePermission, useRouter } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useMemo, useCallback } from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport { AppClientOrchestratorInstance } from '../../../apps/orchestrator';\nimport { Page, PageFooter, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\nimport { handleAPIError } from '../helpers/handleAPIError';\nimport { useAppInfo } from '../hooks/useAppInfo';\nimport AppDetailsPageHeader from './AppDetailsPageHeader';\nimport AppDetailsPageLoading from './AppDetailsPageLoading';\nimport AppDetailsPageTabs from './AppDetailsPageTabs';\nimport AppDetails from './tabs/AppDetails';\nimport AppLogs from './tabs/AppLogs';\nimport AppReleases from './tabs/AppReleases';\nimport AppRequests from './tabs/AppRequests/AppRequests';\nimport AppSecurity from './tabs/AppSecurity/AppSecurity';\nimport AppSettings from './tabs/AppSettings';\n\nconst AppDetailsPage = ({ id }: { id: App['id'] }): ReactElement => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst isAdminUser = usePermission('manage-apps');\n\n\tconst tab = useRouteParameter('tab');\n\tconst context = useRouteParameter('context');\n\tconst appData = useAppInfo(id, context || '');\n\n\tconst handleReturn = useMutableCallback((): void => {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\trouter.navigate({\n\t\t\tname: 'marketplace',\n\t\t\tparams: { context, page: 'list' },\n\t\t});\n\t});\n\n\tconst { installed, settings, privacyPolicySummary, permissions, tosLink, privacyLink, name } = appData || {};\n\tconst isSecurityVisible = Boolean(privacyPolicySummary || permissions || tosLink || privacyLink);\n\n\tconst saveAppSettings = useCallback(\n\t\tasync (data) => {\n\t\t\ttry {\n\t\t\t\tawait AppClientOrchestratorInstance.setAppSettings(\n\t\t\t\t\tid,\n\t\t\t\t\t(Object.values(settings || {}) as ISetting[]).map((setting) => ({\n\t\t\t\t\t\t...setting,\n\t\t\t\t\t\tvalue: data[setting.id],\n\t\t\t\t\t})),\n\t\t\t\t);\n\n\t\t\t\tdispatchToastMessage({ type: 'success', message: `${name} settings saved succesfully` });\n\t\t\t} catch (e: any) {\n\t\t\t\thandleAPIError(e);\n\t\t\t}\n\t\t},\n\t\t[dispatchToastMessage, id, name, settings],\n\t);\n\n\tconst reducedSettings = useMemo(() => {\n\t\treturn Object.values(settings || {}).reduce((ret, { id, value, packageValue }) => ({ ...ret, [id]: value ?? packageValue }), {});\n\t}, [settings]);\n\n\tconst methods = useForm({ values: reducedSettings });\n\tconst {\n\t\thandleSubmit,\n\t\treset,\n\t\tformState: { isDirty, isSubmitting, isSubmitted },\n\t} = methods;\n\n\treturn (\n\t\t<Page flexDirection='column' h='full'>\n\t\t\t<PageHeader title={t('App_Info')} onClickBack={handleReturn} />\n\t\t\t<PageScrollableContentWithShadow pi={24} pbs={24} pbe={0} h='full'>\n\t\t\t\t<Box w='full' alignSelf='center' h='full' display='flex' flexDirection='column'>\n\t\t\t\t\t{!appData && <AppDetailsPageLoading />}\n\t\t\t\t\t{appData && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<AppDetailsPageHeader app={appData} />\n\t\t\t\t\t\t\t<AppDetailsPageTabs\n\t\t\t\t\t\t\t\tcontext={context || ''}\n\t\t\t\t\t\t\t\tinstalled={installed}\n\t\t\t\t\t\t\t\tisSecurityVisible={isSecurityVisible}\n\t\t\t\t\t\t\t\tsettings={settings}\n\t\t\t\t\t\t\t\ttab={tab}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{Boolean(!tab || tab === 'details') && <AppDetails app={appData} />}\n\t\t\t\t\t\t\t{tab === 'requests' && <AppRequests id={id} isAdminUser={isAdminUser} />}\n\t\t\t\t\t\t\t{tab === 'security' && isSecurityVisible && (\n\t\t\t\t\t\t\t\t<AppSecurity\n\t\t\t\t\t\t\t\t\tprivacyPolicySummary={privacyPolicySummary}\n\t\t\t\t\t\t\t\t\tappPermissions={permissions}\n\t\t\t\t\t\t\t\t\ttosLink={tosLink}\n\t\t\t\t\t\t\t\t\tprivacyLink={privacyLink}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{tab === 'releases' && <AppReleases id={id} />}\n\t\t\t\t\t\t\t{Boolean(tab === 'settings' && settings && Object.values(settings).length) && (\n\t\t\t\t\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t\t\t\t\t<AppSettings settings={settings || {}} />\n\t\t\t\t\t\t\t\t</FormProvider>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{tab === 'logs' && <AppLogs id={id} />}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t\t<PageFooter isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => reset()}>{t('Cancel')}</Button>\n\t\t\t\t\t{installed && isAdminUser && (\n\t\t\t\t\t\t<Button primary loading={isSubmitting || isSubmitted} onClick={handleSubmit(saveAppSettings)}>\n\t\t\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageFooter>\n\t\t</Page>\n\t);\n};\n\nexport default AppDetailsPage;\n"]}}},"code":"var _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 1);\nvar Button, ButtonGroup, Box;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Button: function (v) {\n    Button = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  Box: function (v) {\n    Box = v;\n  }\n}, 0);\nvar useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback: function (v) {\n    useMutableCallback = v;\n  }\n}, 1);\nvar useTranslation, useRouteParameter, useToastMessageDispatch, usePermission, useRouter;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useRouteParameter: function (v) {\n    useRouteParameter = v;\n  },\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  usePermission: function (v) {\n    usePermission = v;\n  },\n  useRouter: function (v) {\n    useRouter = v;\n  }\n}, 2);\nvar React, useMemo, useCallback;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  }\n}, 3);\nvar FormProvider, useForm;\nmodule.link(\"react-hook-form\", {\n  FormProvider: function (v) {\n    FormProvider = v;\n  },\n  useForm: function (v) {\n    useForm = v;\n  }\n}, 4);\nvar AppClientOrchestratorInstance;\nmodule.link(\"../../../apps/orchestrator\", {\n  AppClientOrchestratorInstance: function (v) {\n    AppClientOrchestratorInstance = v;\n  }\n}, 5);\nvar Page, PageFooter, PageHeader, PageScrollableContentWithShadow;\nmodule.link(\"../../../components/Page\", {\n  Page: function (v) {\n    Page = v;\n  },\n  PageFooter: function (v) {\n    PageFooter = v;\n  },\n  PageHeader: function (v) {\n    PageHeader = v;\n  },\n  PageScrollableContentWithShadow: function (v) {\n    PageScrollableContentWithShadow = v;\n  }\n}, 6);\nvar handleAPIError;\nmodule.link(\"../helpers/handleAPIError\", {\n  handleAPIError: function (v) {\n    handleAPIError = v;\n  }\n}, 7);\nvar useAppInfo;\nmodule.link(\"../hooks/useAppInfo\", {\n  useAppInfo: function (v) {\n    useAppInfo = v;\n  }\n}, 8);\nvar AppDetailsPageHeader;\nmodule.link(\"./AppDetailsPageHeader\", {\n  \"default\": function (v) {\n    AppDetailsPageHeader = v;\n  }\n}, 9);\nvar AppDetailsPageLoading;\nmodule.link(\"./AppDetailsPageLoading\", {\n  \"default\": function (v) {\n    AppDetailsPageLoading = v;\n  }\n}, 10);\nvar AppDetailsPageTabs;\nmodule.link(\"./AppDetailsPageTabs\", {\n  \"default\": function (v) {\n    AppDetailsPageTabs = v;\n  }\n}, 11);\nvar AppDetails;\nmodule.link(\"./tabs/AppDetails\", {\n  \"default\": function (v) {\n    AppDetails = v;\n  }\n}, 12);\nvar AppLogs;\nmodule.link(\"./tabs/AppLogs\", {\n  \"default\": function (v) {\n    AppLogs = v;\n  }\n}, 13);\nvar AppReleases;\nmodule.link(\"./tabs/AppReleases\", {\n  \"default\": function (v) {\n    AppReleases = v;\n  }\n}, 14);\nvar AppRequests;\nmodule.link(\"./tabs/AppRequests/AppRequests\", {\n  \"default\": function (v) {\n    AppRequests = v;\n  }\n}, 15);\nvar AppSecurity;\nmodule.link(\"./tabs/AppSecurity/AppSecurity\", {\n  \"default\": function (v) {\n    AppSecurity = v;\n  }\n}, 16);\nvar AppSettings;\nmodule.link(\"./tabs/AppSettings\", {\n  \"default\": function (v) {\n    AppSettings = v;\n  }\n}, 17);\nvar AppDetailsPage = function (_ref) {\n  var id = _ref.id;\n  var t = useTranslation();\n  var router = useRouter();\n  var dispatchToastMessage = useToastMessageDispatch();\n  var isAdminUser = usePermission('manage-apps');\n  var tab = useRouteParameter('tab');\n  var context = useRouteParameter('context');\n  var appData = useAppInfo(id, context || '');\n  var handleReturn = useMutableCallback(function () {\n    if (!context) {\n      return;\n    }\n    router.navigate({\n      name: 'marketplace',\n      params: {\n        context: context,\n        page: 'list'\n      }\n    });\n  });\n  var _ref2 = appData || {},\n    installed = _ref2.installed,\n    settings = _ref2.settings,\n    privacyPolicySummary = _ref2.privacyPolicySummary,\n    permissions = _ref2.permissions,\n    tosLink = _ref2.tosLink,\n    privacyLink = _ref2.privacyLink,\n    name = _ref2.name;\n  var isSecurityVisible = Boolean(privacyPolicySummary || permissions || tosLink || privacyLink);\n  var saveAppSettings = useCallback(function () {\n    function _callee(data) {\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AppClientOrchestratorInstance.setAppSettings(id, Object.values(settings || {}).map(function (setting) {\n                return _objectSpread(_objectSpread({}, setting), {}, {\n                  value: data[setting.id]\n                });\n              })));\n            case 3:\n              dispatchToastMessage({\n                type: 'success',\n                message: name + \" settings saved succesfully\"\n              });\n              _context.next = 9;\n              break;\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              handleAPIError(_context.t0);\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, [[0, 6]], Promise);\n    }\n    return _callee;\n  }(), [dispatchToastMessage, id, name, settings]);\n  var reducedSettings = useMemo(function () {\n    return Object.values(settings || {}).reduce(function (ret, _ref3) {\n      var _objectSpread2;\n      var id = _ref3.id,\n        value = _ref3.value,\n        packageValue = _ref3.packageValue;\n      return _objectSpread(_objectSpread({}, ret), {}, (_objectSpread2 = {}, _objectSpread2[id] = value !== null && value !== void 0 ? value : packageValue, _objectSpread2));\n    }, {});\n  }, [settings]);\n  var methods = useForm({\n    values: reducedSettings\n  });\n  var handleSubmit = methods.handleSubmit,\n    reset = methods.reset,\n    _methods$formState = methods.formState,\n    isDirty = _methods$formState.isDirty,\n    isSubmitting = _methods$formState.isSubmitting,\n    isSubmitted = _methods$formState.isSubmitted;\n  return /*#__PURE__*/React.createElement(Page, {\n    flexDirection: \"column\",\n    h: \"full\"\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    title: t('App_Info'),\n    onClickBack: handleReturn\n  }), /*#__PURE__*/React.createElement(PageScrollableContentWithShadow, {\n    pi: 24,\n    pbs: 24,\n    pbe: 0,\n    h: \"full\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    w: \"full\",\n    alignSelf: \"center\",\n    h: \"full\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  }, !appData && /*#__PURE__*/React.createElement(AppDetailsPageLoading, null), appData && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AppDetailsPageHeader, {\n    app: appData\n  }), /*#__PURE__*/React.createElement(AppDetailsPageTabs, {\n    context: context || '',\n    installed: installed,\n    isSecurityVisible: isSecurityVisible,\n    settings: settings,\n    tab: tab\n  }), Boolean(!tab || tab === 'details') && /*#__PURE__*/React.createElement(AppDetails, {\n    app: appData\n  }), tab === 'requests' && /*#__PURE__*/React.createElement(AppRequests, {\n    id: id,\n    isAdminUser: isAdminUser\n  }), tab === 'security' && isSecurityVisible && /*#__PURE__*/React.createElement(AppSecurity, {\n    privacyPolicySummary: privacyPolicySummary,\n    appPermissions: permissions,\n    tosLink: tosLink,\n    privacyLink: privacyLink\n  }), tab === 'releases' && /*#__PURE__*/React.createElement(AppReleases, {\n    id: id\n  }), Boolean(tab === 'settings' && settings && Object.values(settings).length) && /*#__PURE__*/React.createElement(FormProvider, methods, /*#__PURE__*/React.createElement(AppSettings, {\n    settings: settings || {}\n  })), tab === 'logs' && /*#__PURE__*/React.createElement(AppLogs, {\n    id: id\n  })))), /*#__PURE__*/React.createElement(PageFooter, {\n    isDirty: isDirty\n  }, /*#__PURE__*/React.createElement(ButtonGroup, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: function () {\n      return reset();\n    }\n  }, t('Cancel')), installed && isAdminUser && /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    loading: isSubmitting || isSubmitted,\n    onClick: handleSubmit(saveAppSettings)\n  }, t('Save_changes')))));\n};\nmodule.exportDefault(AppDetailsPage);","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","_objectSpread","Button","ButtonGroup","Box","useMutableCallback","useTranslation","useRouteParameter","useToastMessageDispatch","usePermission","useRouter","React","useMemo","useCallback","FormProvider","useForm","AppClientOrchestratorInstance","Page","PageFooter","PageHeader","PageScrollableContentWithShadow","handleAPIError","useAppInfo","AppDetailsPageHeader","AppDetailsPageLoading","AppDetailsPageTabs","AppDetails","AppLogs","AppReleases","AppRequests","AppSecurity","AppSettings","AppDetailsPage","_ref","id","t","router","dispatchToastMessage","isAdminUser","tab","context","appData","handleReturn","navigate","name","params","page","_ref2","installed","settings","privacyPolicySummary","permissions","tosLink","privacyLink","isSecurityVisible","Boolean","saveAppSettings","_callee","data","async","_callee$","_context","prev","next","awrap","setAppSettings","Object","values","map","setting","value","type","message","t0","stop","Promise","reducedSettings","reduce","ret","_ref3","_objectSpread2","packageValue","methods","handleSubmit","reset","_methods$formState","formState","isDirty","isSubmitting","isSubmitted","createElement","flexDirection","h","title","onClickBack","pi","pbs","pbe","w","alignSelf","display","Fragment","app","appPermissions","length","onClick","primary","loading","exportDefault"],"sources":["client/views/marketplace/AppDetailsPage/AppDetailsPage.tsx"],"sourcesContent":["import type { ISetting } from '@rocket.chat/apps-engine/definition/settings';\nimport type { App } from '@rocket.chat/core-typings';\nimport { Button, ButtonGroup, Box } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation, useRouteParameter, useToastMessageDispatch, usePermission, useRouter } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useMemo, useCallback } from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport { AppClientOrchestratorInstance } from '../../../apps/orchestrator';\nimport { Page, PageFooter, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\nimport { handleAPIError } from '../helpers/handleAPIError';\nimport { useAppInfo } from '../hooks/useAppInfo';\nimport AppDetailsPageHeader from './AppDetailsPageHeader';\nimport AppDetailsPageLoading from './AppDetailsPageLoading';\nimport AppDetailsPageTabs from './AppDetailsPageTabs';\nimport AppDetails from './tabs/AppDetails';\nimport AppLogs from './tabs/AppLogs';\nimport AppReleases from './tabs/AppReleases';\nimport AppRequests from './tabs/AppRequests/AppRequests';\nimport AppSecurity from './tabs/AppSecurity/AppSecurity';\nimport AppSettings from './tabs/AppSettings';\n\nconst AppDetailsPage = ({ id }: { id: App['id'] }): ReactElement => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst isAdminUser = usePermission('manage-apps');\n\n\tconst tab = useRouteParameter('tab');\n\tconst context = useRouteParameter('context');\n\tconst appData = useAppInfo(id, context || '');\n\n\tconst handleReturn = useMutableCallback((): void => {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\trouter.navigate({\n\t\t\tname: 'marketplace',\n\t\t\tparams: { context, page: 'list' },\n\t\t});\n\t});\n\n\tconst { installed, settings, privacyPolicySummary, permissions, tosLink, privacyLink, name } = appData || {};\n\tconst isSecurityVisible = Boolean(privacyPolicySummary || permissions || tosLink || privacyLink);\n\n\tconst saveAppSettings = useCallback(\n\t\tasync (data) => {\n\t\t\ttry {\n\t\t\t\tawait AppClientOrchestratorInstance.setAppSettings(\n\t\t\t\t\tid,\n\t\t\t\t\t(Object.values(settings || {}) as ISetting[]).map((setting) => ({\n\t\t\t\t\t\t...setting,\n\t\t\t\t\t\tvalue: data[setting.id],\n\t\t\t\t\t})),\n\t\t\t\t);\n\n\t\t\t\tdispatchToastMessage({ type: 'success', message: `${name} settings saved succesfully` });\n\t\t\t} catch (e: any) {\n\t\t\t\thandleAPIError(e);\n\t\t\t}\n\t\t},\n\t\t[dispatchToastMessage, id, name, settings],\n\t);\n\n\tconst reducedSettings = useMemo(() => {\n\t\treturn Object.values(settings || {}).reduce((ret, { id, value, packageValue }) => ({ ...ret, [id]: value ?? packageValue }), {});\n\t}, [settings]);\n\n\tconst methods = useForm({ values: reducedSettings });\n\tconst {\n\t\thandleSubmit,\n\t\treset,\n\t\tformState: { isDirty, isSubmitting, isSubmitted },\n\t} = methods;\n\n\treturn (\n\t\t<Page flexDirection='column' h='full'>\n\t\t\t<PageHeader title={t('App_Info')} onClickBack={handleReturn} />\n\t\t\t<PageScrollableContentWithShadow pi={24} pbs={24} pbe={0} h='full'>\n\t\t\t\t<Box w='full' alignSelf='center' h='full' display='flex' flexDirection='column'>\n\t\t\t\t\t{!appData && <AppDetailsPageLoading />}\n\t\t\t\t\t{appData && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<AppDetailsPageHeader app={appData} />\n\t\t\t\t\t\t\t<AppDetailsPageTabs\n\t\t\t\t\t\t\t\tcontext={context || ''}\n\t\t\t\t\t\t\t\tinstalled={installed}\n\t\t\t\t\t\t\t\tisSecurityVisible={isSecurityVisible}\n\t\t\t\t\t\t\t\tsettings={settings}\n\t\t\t\t\t\t\t\ttab={tab}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{Boolean(!tab || tab === 'details') && <AppDetails app={appData} />}\n\t\t\t\t\t\t\t{tab === 'requests' && <AppRequests id={id} isAdminUser={isAdminUser} />}\n\t\t\t\t\t\t\t{tab === 'security' && isSecurityVisible && (\n\t\t\t\t\t\t\t\t<AppSecurity\n\t\t\t\t\t\t\t\t\tprivacyPolicySummary={privacyPolicySummary}\n\t\t\t\t\t\t\t\t\tappPermissions={permissions}\n\t\t\t\t\t\t\t\t\ttosLink={tosLink}\n\t\t\t\t\t\t\t\t\tprivacyLink={privacyLink}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{tab === 'releases' && <AppReleases id={id} />}\n\t\t\t\t\t\t\t{Boolean(tab === 'settings' && settings && Object.values(settings).length) && (\n\t\t\t\t\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t\t\t\t\t<AppSettings settings={settings || {}} />\n\t\t\t\t\t\t\t\t</FormProvider>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{tab === 'logs' && <AppLogs id={id} />}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t\t<PageFooter isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => reset()}>{t('Cancel')}</Button>\n\t\t\t\t\t{installed && isAdminUser && (\n\t\t\t\t\t\t<Button primary loading={isSubmitting || isSubmitted} onClick={handleSubmit(saveAppSettings)}>\n\t\t\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageFooter>\n\t\t</Page>\n\t);\n};\n\nexport default AppDetailsPage;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"61997d8b47f67e63ec01e13f03710628087344f1"}
