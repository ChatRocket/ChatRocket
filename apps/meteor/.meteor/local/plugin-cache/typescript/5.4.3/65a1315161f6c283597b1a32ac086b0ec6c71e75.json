{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/ui-master/server/index.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","objectRestSpread","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.arm64"},"sourceFileName":"app/ui-master/server/index.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/ui-master/server/index.ts","inputSourceMap":{"version":3,"file":"app/ui-master/server/index.ts","sourceRoot":"","sources":["app/ui-master/server/index.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,QAAQ,EAAE,MAAM,qBAAqB,CAAC;AAC/C,OAAO,EAAE,UAAU,EAAE,MAAM,6BAA6B,CAAC;AACzD,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AACvC,OAAO,EAAE,MAAM,EAAE,MAAM,mCAAmC,CAAC;AAC3D,OAAO,EAAE,OAAO,EAAE,MAAM,gBAAgB,CAAC;AAEzC,OAAO,EAAE,mBAAmB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,MAAM,UAAU,CAAC;AAC/F,OAAO,EAAE,cAAc,EAAE,MAAM,uCAAuC,CAAC;AACvE,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAC;AACjD,OAAO,EAAE,MAAM,EAAE,MAAM,2BAA2B,CAAC;AAEnD,OAAO,WAAW,CAAC;AAEnB,cAAc,UAAU,CAAC;AAEzB,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE;IACnB,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE;QACpB,MAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,SAAS,EAA8C,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QACtI,MAAM,CAAC,UAAU,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,UAAU,CAAC,CAAC,CAAC;IACtE,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,KAAK,CAAS,yBAAyB,EAAE,CAAC,KAAK,EAAE,EAAE;QAC3D,IAAI,CAAC,KAAK,EAAE,CAAC;YACZ,OAAO,cAAc,CAAC,YAAY,EAAE,gDAAgD,CAAC,CAAC;QACvF,CAAC;QAED,cAAc,CAAC,YAAY,EAAE,kCAAkC,KAAK,MAAM,CAAC,CAAC;IAC7E,CAAC,CAAC,CAAC;IAEH,IAAI,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,CAAC;QACnC,cAAc,CACb,mBAAmB,EACnB;;;;;;IAMC,CACD,CAAC;IACH,CAAC;IAED,QAAQ,CAAC,KAAK,CAAU,0BAA0B,EAAE,CAAC,KAAK,EAAE,EAAE;QAC7D,MAAM,gBAAgB,GAAG;0DAC+B,MAAM,CAAC,uBAAuB,CAAC;0DAC/B,MAAM,CAAC,uBAAuB,CAAC,KAAK,CAAC;QAE7F,IAAI,KAAK,EAAE,CAAC;YACX,cAAc,CACb,0BAA0B,EAC1B,GAAG,gBAAgB;6DACsC,MAAM,CAAC,oBAAoB,CAAC,KAAK,CAC1F,CAAC;QACH,CAAC;aAAM,CAAC;YACP,cAAc,CAAC,0BAA0B,EAAE,gBAAgB,CAAC,CAAC;QAC9D,CAAC;IACF,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,KAAK,CAAS,gCAAgC,EAAE,CAAC,KAAK,EAAE,EAAE;QAClE,MAAM,YAAY,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;QACvC,cAAc,CACb,gCAAgC,EAChC,iDAAiD,YAAY,yCAAyC,YAAY,MAAM,CACxH,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,KAAK,CAAS,WAAW,EAAE,CAAC,KAAK,GAAG,aAAa,EAAE,EAAE;QAC7D,MAAM,YAAY,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;QACvC,cAAc,CACb,WAAW,EACX,UAAU,YAAY,UAAU;YAC/B,0CAA0C,YAAY,IAAI;YAC1D,oDAAoD,YAAY,IAAI,CACrE,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,KAAK,CAAS,eAAe,EAAE,CAAC,KAAK,GAAG,EAAE,EAAE,EAAE;QACtD,MAAM,YAAY,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;QACvC,cAAc,CACb,eAAe,EACf,gDAAgD,YAAY,oCAAoC,YAAY,IAAI,CAChH,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,KAAK,CAAS,aAAa,EAAE,CAAC,KAAK,GAAG,EAAE,EAAE,EAAE;QACpD,MAAM,YAAY,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;QACvC,cAAc,CAAC,aAAa,EAAE,gCAAgC,YAAY,IAAI,CAAC,CAAC;IACjF,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,KAAK,CAAS,mBAAmB,EAAE,CAAC,KAAK,GAAG,EAAE,EAAE,EAAE;QAC1D,MAAM,YAAY,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;QACvC,cAAc,CAAC,mBAAmB,EAAE,uCAAuC,YAAY,IAAI,CAAC,CAAC;IAC9F,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,KAAK,CAAS,+BAA+B,EAAE,CAAC,KAAK,GAAG,EAAE,EAAE,EAAE;QACtE,MAAM,YAAY,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;QACvC,cAAc,CAAC,+BAA+B,EAAE,kDAAkD,YAAY,IAAI,CAAC,CAAC;IACrH,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,KAAK,CAAS,gBAAgB,EAAE,CAAC,KAAK,GAAG,EAAE,EAAE,EAAE;QACvD,MAAM,YAAY,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;QACvC,cAAc,CAAC,gBAAgB,EAAE,uCAAuC,YAAY,IAAI,CAAC,CAAC;IAC3F,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,KAAK,CAAS,aAAa,EAAE,CAAC,KAAK,GAAG,EAAE,EAAE,EAAE;QACpD,cAAc,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,MAAM,OAAO,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;QAC3B,IAAI,CAAC,MAAM,EAAE,CAAC;YACb,OAAO,GAAG,CAAC;QACZ,CAAC;QAED,MAAM,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;QAEvB,IAAI,CAAC,MAAM,EAAE,CAAC;YACb,OAAO,GAAG,CAAC;QACZ,CAAC;QAED,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,GAAG,CAAC;IACnD,CAAC,CAAC,CAAC,yBAAyB,CAAC,oBAAoB,CAAC,CAAC;IAEnD,cAAc,CAAC,MAAM,EAAE,eAAe,OAAO,IAAI,CAAC,CAAC;AACpD,CAAC,CAAC,CAAC;AAEH,MAAM,oBAAoB,GAAG,cAAc,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE;IACrE,+GAA+G;IAC/G,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,iBAAiB,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;IAClH,MAAM,GAAG,GAAG,MAAM;SAChB,MAAM,CAAC,CAAC,KAAK,EAA0B,EAAE,CAAC,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC;SACzD,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE;QAC/B,IAAI,MAAM,KAAK,YAAY,EAAE,CAAC;YAC7B,OAAO,KAAK,GAAG,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC,WAAW,KAAK,IAAI,CAAC;QACjE,CAAC;QACD,OAAO,KAAK,GAAG,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC,KAAK,KAAK,GAAG,CAAC;IAC1D,CAAC,CAAC;SACD,IAAI,CAAC,IAAI,CAAC,CAAC;IACb,cAAc,CAAC,mBAAmB,EAAE,qCAAqC,GAAG,WAAW,CAAC,CAAC;AAC1F,CAAC,CAAC,CAAC;AAEH,MAAM,oBAAoB,EAAE,CAAC;AAE7B,QAAQ,CAAC,YAAY,CAAC,iBAAiB,EAAE,oBAAoB,CAAC,CAAC;AAE/D,cAAc,CACb,YAAY,EACZ;;;;;;;;;;;;;CAaA,CACA,CAAC;AAEF,cAAc,CAAC,OAAO,EAAE,CAAC,MAAM,MAAM,CAAC,YAAY,CAAC,kBAAkB,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC","sourcesContent":["import type { ISettingColor } from '@rocket.chat/core-typings';\nimport { Settings } from '@rocket.chat/models';\nimport { escapeHTML } from '@rocket.chat/string-helpers';\nimport { Meteor } from 'meteor/meteor';\nimport { Inject } from 'meteor/meteorhacks:inject-initial';\nimport { Tracker } from 'meteor/tracker';\n\nimport { applyHeadInjections, headInjections, injectIntoBody, injectIntoHead } from './inject';\nimport { withDebouncing } from '../../../lib/utils/highOrderFunctions';\nimport { settings } from '../../settings/server';\nimport { getURL } from '../../utils/server/getURL';\n\nimport './scripts';\n\nexport * from './inject';\n\nMeteor.startup(() => {\n\tTracker.autorun(() => {\n\t\tconst injections = Object.values(headInjections.all()).filter((injection): injection is NonNullable<typeof injection> => !!injection);\n\t\tInject.rawModHtml('headInjections', applyHeadInjections(injections));\n\t});\n\n\tsettings.watch<string>('Default_Referrer_Policy', (value) => {\n\t\tif (!value) {\n\t\t\treturn injectIntoHead('noreferrer', '<meta name=\"referrer\" content=\"same-origin\" />');\n\t\t}\n\n\t\tinjectIntoHead('noreferrer', `<meta name=\"referrer\" content=\"${value}\" />`);\n\t});\n\n\tif (process.env.DISABLE_ANIMATION) {\n\t\tinjectIntoHead(\n\t\t\t'disable-animation',\n\t\t\t`\n\t\t<style>\n\t\t\tbody, body * {\n\t\t\t\tanimation: none !important;\n\t\t\t}\n\t\t\t</style>\n\t\t\t`,\n\t\t);\n\t}\n\n\tsettings.watch<boolean>('Assets_SvgFavicon_Enable', (value) => {\n\t\tconst standardFavicons = `\n\t\t\t<link rel=\"icon\" sizes=\"16x16\" type=\"image/png\" href=${getURL('assets/favicon_16.png')} />\n\t\t\t<link rel=\"icon\" sizes=\"32x32\" type=\"image/png\" href=${getURL('assets/favicon_32.png')} />`;\n\n\t\tif (value) {\n\t\t\tinjectIntoHead(\n\t\t\t\t'Assets_SvgFavicon_Enable',\n\t\t\t\t`${standardFavicons}\n\t\t\t\t<link rel=\"icon\" sizes=\"any\" type=\"image/svg+xml\" href=${getURL('assets/favicon.svg')} />`,\n\t\t\t);\n\t\t} else {\n\t\t\tinjectIntoHead('Assets_SvgFavicon_Enable', standardFavicons);\n\t\t}\n\t});\n\n\tsettings.watch<string>('theme-color-sidebar-background', (value) => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead(\n\t\t\t'theme-color-sidebar-background',\n\t\t\t`<meta name=\"msapplication-TileColor\" content=\"${escapedValue}\" /><meta name=\"theme-color\" content=\"${escapedValue}\" />`,\n\t\t);\n\t});\n\n\tsettings.watch<string>('Site_Name', (value = 'Rocket.Chat') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead(\n\t\t\t'Site_Name',\n\t\t\t`<title>${escapedValue}</title>` +\n\t\t\t\t`<meta name=\"application-name\" content=\"${escapedValue}\">` +\n\t\t\t\t`<meta name=\"apple-mobile-web-app-title\" content=\"${escapedValue}\">`,\n\t\t);\n\t});\n\n\tsettings.watch<string>('Meta_language', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead(\n\t\t\t'Meta_language',\n\t\t\t`<meta http-equiv=\"content-language\" content=\"${escapedValue}\"><meta name=\"language\" content=\"${escapedValue}\">`,\n\t\t);\n\t});\n\n\tsettings.watch<string>('Meta_robots', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead('Meta_robots', `<meta name=\"robots\" content=\"${escapedValue}\">`);\n\t});\n\n\tsettings.watch<string>('Meta_msvalidate01', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead('Meta_msvalidate01', `<meta name=\"msvalidate.01\" content=\"${escapedValue}\">`);\n\t});\n\n\tsettings.watch<string>('Meta_google-site-verification', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead('Meta_google-site-verification', `<meta name=\"google-site-verification\" content=\"${escapedValue}\">`);\n\t});\n\n\tsettings.watch<string>('Meta_fb_app_id', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead('Meta_fb_app_id', `<meta property=\"fb:app_id\" content=\"${escapedValue}\">`);\n\t});\n\n\tsettings.watch<string>('Meta_custom', (value = '') => {\n\t\tinjectIntoHead('Meta_custom', value);\n\t});\n\n\tconst baseUrl = ((prefix) => {\n\t\tif (!prefix) {\n\t\t\treturn '/';\n\t\t}\n\n\t\tprefix = prefix.trim();\n\n\t\tif (!prefix) {\n\t\t\treturn '/';\n\t\t}\n\n\t\treturn /\\/$/.test(prefix) ? prefix : `${prefix}/`;\n\t})(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX);\n\n\tinjectIntoHead('base', `<base href=\"${baseUrl}\">`);\n});\n\nconst renderDynamicCssList = withDebouncing({ wait: 500 })(async () => {\n\t// const variables = RocketChat.models.Settings.findOne({_id:'theme-custom-variables'}, {fields: { value: 1}});\n\tconst colors = await Settings.find({ _id: /theme-color-rc/i }, { projection: { value: 1, editor: 1 } }).toArray();\n\tconst css = colors\n\t\t.filter((color): color is ISettingColor => !!color?.value)\n\t\t.map(({ _id, value, editor }) => {\n\t\t\tif (editor === 'expression') {\n\t\t\t\treturn `--${_id.replace('theme-color-', '')}: var(--${value});`;\n\t\t\t}\n\t\t\treturn `--${_id.replace('theme-color-', '')}: ${value};`;\n\t\t})\n\t\t.join('\\n');\n\tinjectIntoBody('dynamic-variables', `<style id='css-variables'> :root {${css}}</style>`);\n});\n\nawait renderDynamicCssList();\n\nsettings.watchByRegex(/theme-color-rc/i, renderDynamicCssList);\n\ninjectIntoBody(\n\t'react-root',\n\t`\n<noscript style=\"color: white; text-align:center\">\n\tYou need to enable JavaScript to run this app.\n</noscript>\n<div id=\"react-root\">\n\t<div class=\"page-loading\" role=\"alert\" aria-busy=\"true\" aria-live=\"polite\" aria-label=\"loading\">\n\t\t<div class=\"loading__animation\">\n\t\t\t<div class=\"loading__animation__bounce\"></div>\n\t\t\t<div class=\"loading__animation__bounce\"></div>\n\t\t\t<div class=\"loading__animation__bounce\"></div>\n\t\t</div>\n\t</div>\n</div>\n`,\n);\n\ninjectIntoBody('icons', (await Assets.getTextAsync('public/icons.svg')) ?? '');\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true,"topLevelAwait":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/ui-master/server/index.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"app/ui-master/server/index.ts","inputSourceMap":{"version":3,"file":"app/ui-master/server/index.ts","sourceRoot":"","sources":["app/ui-master/server/index.ts"],"names":[],"mappings":"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","sourcesContent":["import type { ISettingColor } from '@rocket.chat/core-typings';\nimport { Settings } from '@rocket.chat/models';\nimport { escapeHTML } from '@rocket.chat/string-helpers';\nimport { Meteor } from 'meteor/meteor';\nimport { Inject } from 'meteor/meteorhacks:inject-initial';\nimport { Tracker } from 'meteor/tracker';\n\nimport { applyHeadInjections, headInjections, injectIntoBody, injectIntoHead } from './inject';\nimport { withDebouncing } from '../../../lib/utils/highOrderFunctions';\nimport { settings } from '../../settings/server';\nimport { getURL } from '../../utils/server/getURL';\n\nimport './scripts';\n\nexport * from './inject';\n\nMeteor.startup(() => {\n\tTracker.autorun(() => {\n\t\tconst injections = Object.values(headInjections.all()).filter((injection): injection is NonNullable<typeof injection> => !!injection);\n\t\tInject.rawModHtml('headInjections', applyHeadInjections(injections));\n\t});\n\n\tsettings.watch<string>('Default_Referrer_Policy', (value) => {\n\t\tif (!value) {\n\t\t\treturn injectIntoHead('noreferrer', '<meta name=\"referrer\" content=\"same-origin\" />');\n\t\t}\n\n\t\tinjectIntoHead('noreferrer', `<meta name=\"referrer\" content=\"${value}\" />`);\n\t});\n\n\tif (process.env.DISABLE_ANIMATION) {\n\t\tinjectIntoHead(\n\t\t\t'disable-animation',\n\t\t\t`\n\t\t<style>\n\t\t\tbody, body * {\n\t\t\t\tanimation: none !important;\n\t\t\t}\n\t\t\t</style>\n\t\t\t`,\n\t\t);\n\t}\n\n\tsettings.watch<boolean>('Assets_SvgFavicon_Enable', (value) => {\n\t\tconst standardFavicons = `\n\t\t\t<link rel=\"icon\" sizes=\"16x16\" type=\"image/png\" href=${getURL('assets/favicon_16.png')} />\n\t\t\t<link rel=\"icon\" sizes=\"32x32\" type=\"image/png\" href=${getURL('assets/favicon_32.png')} />`;\n\n\t\tif (value) {\n\t\t\tinjectIntoHead(\n\t\t\t\t'Assets_SvgFavicon_Enable',\n\t\t\t\t`${standardFavicons}\n\t\t\t\t<link rel=\"icon\" sizes=\"any\" type=\"image/svg+xml\" href=${getURL('assets/favicon.svg')} />`,\n\t\t\t);\n\t\t} else {\n\t\t\tinjectIntoHead('Assets_SvgFavicon_Enable', standardFavicons);\n\t\t}\n\t});\n\n\tsettings.watch<string>('theme-color-sidebar-background', (value) => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead(\n\t\t\t'theme-color-sidebar-background',\n\t\t\t`<meta name=\"msapplication-TileColor\" content=\"${escapedValue}\" /><meta name=\"theme-color\" content=\"${escapedValue}\" />`,\n\t\t);\n\t});\n\n\tsettings.watch<string>('Site_Name', (value = 'Rocket.Chat') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead(\n\t\t\t'Site_Name',\n\t\t\t`<title>${escapedValue}</title>` +\n\t\t\t\t`<meta name=\"application-name\" content=\"${escapedValue}\">` +\n\t\t\t\t`<meta name=\"apple-mobile-web-app-title\" content=\"${escapedValue}\">`,\n\t\t);\n\t});\n\n\tsettings.watch<string>('Meta_language', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead(\n\t\t\t'Meta_language',\n\t\t\t`<meta http-equiv=\"content-language\" content=\"${escapedValue}\"><meta name=\"language\" content=\"${escapedValue}\">`,\n\t\t);\n\t});\n\n\tsettings.watch<string>('Meta_robots', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead('Meta_robots', `<meta name=\"robots\" content=\"${escapedValue}\">`);\n\t});\n\n\tsettings.watch<string>('Meta_msvalidate01', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead('Meta_msvalidate01', `<meta name=\"msvalidate.01\" content=\"${escapedValue}\">`);\n\t});\n\n\tsettings.watch<string>('Meta_google-site-verification', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead('Meta_google-site-verification', `<meta name=\"google-site-verification\" content=\"${escapedValue}\">`);\n\t});\n\n\tsettings.watch<string>('Meta_fb_app_id', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead('Meta_fb_app_id', `<meta property=\"fb:app_id\" content=\"${escapedValue}\">`);\n\t});\n\n\tsettings.watch<string>('Meta_custom', (value = '') => {\n\t\tinjectIntoHead('Meta_custom', value);\n\t});\n\n\tconst baseUrl = ((prefix) => {\n\t\tif (!prefix) {\n\t\t\treturn '/';\n\t\t}\n\n\t\tprefix = prefix.trim();\n\n\t\tif (!prefix) {\n\t\t\treturn '/';\n\t\t}\n\n\t\treturn /\\/$/.test(prefix) ? prefix : `${prefix}/`;\n\t})(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX);\n\n\tinjectIntoHead('base', `<base href=\"${baseUrl}\">`);\n});\n\nconst renderDynamicCssList = withDebouncing({ wait: 500 })(async () => {\n\t// const variables = RocketChat.models.Settings.findOne({_id:'theme-custom-variables'}, {fields: { value: 1}});\n\tconst colors = await Settings.find({ _id: /theme-color-rc/i }, { projection: { value: 1, editor: 1 } }).toArray();\n\tconst css = colors\n\t\t.filter((color): color is ISettingColor => !!color?.value)\n\t\t.map(({ _id, value, editor }) => {\n\t\t\tif (editor === 'expression') {\n\t\t\t\treturn `--${_id.replace('theme-color-', '')}: var(--${value});`;\n\t\t\t}\n\t\t\treturn `--${_id.replace('theme-color-', '')}: ${value};`;\n\t\t})\n\t\t.join('\\n');\n\tinjectIntoBody('dynamic-variables', `<style id='css-variables'> :root {${css}}</style>`);\n});\n\nawait renderDynamicCssList();\n\nsettings.watchByRegex(/theme-color-rc/i, renderDynamicCssList);\n\ninjectIntoBody(\n\t'react-root',\n\t`\n<noscript style=\"color: white; text-align:center\">\n\tYou need to enable JavaScript to run this app.\n</noscript>\n<div id=\"react-root\">\n\t<div class=\"page-loading\" role=\"alert\" aria-busy=\"true\" aria-live=\"polite\" aria-label=\"loading\">\n\t\t<div class=\"loading__animation\">\n\t\t\t<div class=\"loading__animation__bounce\"></div>\n\t\t\t<div class=\"loading__animation__bounce\"></div>\n\t\t\t<div class=\"loading__animation__bounce\"></div>\n\t\t</div>\n\t</div>\n</div>\n`,\n);\n\ninjectIntoBody('icons', (await Assets.getTextAsync('public/icons.svg')) ?? '');\n"]}}},"code":"!module.wrapAsync(async function (module, __reifyWaitForDeps__, __reify_async_result__) {\n  \"use strict\";\n  try {\n    var _await$Assets$getText;\n    let Settings;\n    module.link(\"@rocket.chat/models\", {\n      Settings(v) {\n        Settings = v;\n      }\n    }, 0);\n    let escapeHTML;\n    module.link(\"@rocket.chat/string-helpers\", {\n      escapeHTML(v) {\n        escapeHTML = v;\n      }\n    }, 1);\n    let Meteor;\n    module.link(\"meteor/meteor\", {\n      Meteor(v) {\n        Meteor = v;\n      }\n    }, 2);\n    let Inject;\n    module.link(\"meteor/meteorhacks:inject-initial\", {\n      Inject(v) {\n        Inject = v;\n      }\n    }, 3);\n    let Tracker;\n    module.link(\"meteor/tracker\", {\n      Tracker(v) {\n        Tracker = v;\n      }\n    }, 4);\n    let applyHeadInjections, headInjections, injectIntoBody, injectIntoHead;\n    module.link(\"./inject\", {\n      applyHeadInjections(v) {\n        applyHeadInjections = v;\n      },\n      headInjections(v) {\n        headInjections = v;\n      },\n      injectIntoBody(v) {\n        injectIntoBody = v;\n      },\n      injectIntoHead(v) {\n        injectIntoHead = v;\n      }\n    }, 5);\n    let withDebouncing;\n    module.link(\"../../../lib/utils/highOrderFunctions\", {\n      withDebouncing(v) {\n        withDebouncing = v;\n      }\n    }, 6);\n    let settings;\n    module.link(\"../../settings/server\", {\n      settings(v) {\n        settings = v;\n      }\n    }, 7);\n    let getURL;\n    module.link(\"../../utils/server/getURL\", {\n      getURL(v) {\n        getURL = v;\n      }\n    }, 8);\n    module.link(\"./scripts\");\n    module.link(\"./inject\", {\n      \"*\": \"*\"\n    }, 9);\n    if (__reifyWaitForDeps__()) (await __reifyWaitForDeps__())();\n    Meteor.startup(() => {\n      Tracker.autorun(() => {\n        const injections = Object.values(headInjections.all()).filter(injection => !!injection);\n        Inject.rawModHtml('headInjections', applyHeadInjections(injections));\n      });\n      settings.watch('Default_Referrer_Policy', value => {\n        if (!value) {\n          return injectIntoHead('noreferrer', '<meta name=\"referrer\" content=\"same-origin\" />');\n        }\n        injectIntoHead('noreferrer', \"<meta name=\\\"referrer\\\" content=\\\"\".concat(value, \"\\\" />\"));\n      });\n      if (process.env.DISABLE_ANIMATION) {\n        injectIntoHead('disable-animation', \"\\n\\t\\t<style>\\n\\t\\t\\tbody, body * {\\n\\t\\t\\t\\tanimation: none !important;\\n\\t\\t\\t}\\n\\t\\t\\t</style>\\n\\t\\t\\t\");\n      }\n      settings.watch('Assets_SvgFavicon_Enable', value => {\n        const standardFavicons = \"\\n\\t\\t\\t<link rel=\\\"icon\\\" sizes=\\\"16x16\\\" type=\\\"image/png\\\" href=\".concat(getURL('assets/favicon_16.png'), \" />\\n\\t\\t\\t<link rel=\\\"icon\\\" sizes=\\\"32x32\\\" type=\\\"image/png\\\" href=\").concat(getURL('assets/favicon_32.png'), \" />\");\n        if (value) {\n          injectIntoHead('Assets_SvgFavicon_Enable', \"\".concat(standardFavicons, \"\\n\\t\\t\\t\\t<link rel=\\\"icon\\\" sizes=\\\"any\\\" type=\\\"image/svg+xml\\\" href=\").concat(getURL('assets/favicon.svg'), \" />\"));\n        } else {\n          injectIntoHead('Assets_SvgFavicon_Enable', standardFavicons);\n        }\n      });\n      settings.watch('theme-color-sidebar-background', value => {\n        const escapedValue = escapeHTML(value);\n        injectIntoHead('theme-color-sidebar-background', \"<meta name=\\\"msapplication-TileColor\\\" content=\\\"\".concat(escapedValue, \"\\\" /><meta name=\\\"theme-color\\\" content=\\\"\").concat(escapedValue, \"\\\" />\"));\n      });\n      settings.watch('Site_Name', function () {\n        let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Rocket.Chat';\n        const escapedValue = escapeHTML(value);\n        injectIntoHead('Site_Name', \"<title>\".concat(escapedValue, \"</title>\") + \"<meta name=\\\"application-name\\\" content=\\\"\".concat(escapedValue, \"\\\">\") + \"<meta name=\\\"apple-mobile-web-app-title\\\" content=\\\"\".concat(escapedValue, \"\\\">\"));\n      });\n      settings.watch('Meta_language', function () {\n        let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        const escapedValue = escapeHTML(value);\n        injectIntoHead('Meta_language', \"<meta http-equiv=\\\"content-language\\\" content=\\\"\".concat(escapedValue, \"\\\"><meta name=\\\"language\\\" content=\\\"\").concat(escapedValue, \"\\\">\"));\n      });\n      settings.watch('Meta_robots', function () {\n        let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        const escapedValue = escapeHTML(value);\n        injectIntoHead('Meta_robots', \"<meta name=\\\"robots\\\" content=\\\"\".concat(escapedValue, \"\\\">\"));\n      });\n      settings.watch('Meta_msvalidate01', function () {\n        let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        const escapedValue = escapeHTML(value);\n        injectIntoHead('Meta_msvalidate01', \"<meta name=\\\"msvalidate.01\\\" content=\\\"\".concat(escapedValue, \"\\\">\"));\n      });\n      settings.watch('Meta_google-site-verification', function () {\n        let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        const escapedValue = escapeHTML(value);\n        injectIntoHead('Meta_google-site-verification', \"<meta name=\\\"google-site-verification\\\" content=\\\"\".concat(escapedValue, \"\\\">\"));\n      });\n      settings.watch('Meta_fb_app_id', function () {\n        let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        const escapedValue = escapeHTML(value);\n        injectIntoHead('Meta_fb_app_id', \"<meta property=\\\"fb:app_id\\\" content=\\\"\".concat(escapedValue, \"\\\">\"));\n      });\n      settings.watch('Meta_custom', function () {\n        let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        injectIntoHead('Meta_custom', value);\n      });\n      const baseUrl = (prefix => {\n        if (!prefix) {\n          return '/';\n        }\n        prefix = prefix.trim();\n        if (!prefix) {\n          return '/';\n        }\n        return /\\/$/.test(prefix) ? prefix : \"\".concat(prefix, \"/\");\n      })(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX);\n      injectIntoHead('base', \"<base href=\\\"\".concat(baseUrl, \"\\\">\"));\n    });\n    const renderDynamicCssList = withDebouncing({\n      wait: 500\n    })(async () => {\n      // const variables = RocketChat.models.Settings.findOne({_id:'theme-custom-variables'}, {fields: { value: 1}});\n      const colors = await Settings.find({\n        _id: /theme-color-rc/i\n      }, {\n        projection: {\n          value: 1,\n          editor: 1\n        }\n      }).toArray();\n      const css = colors.filter(color => !!(color !== null && color !== void 0 && color.value)).map(_ref => {\n        let {\n          _id,\n          value,\n          editor\n        } = _ref;\n        if (editor === 'expression') {\n          return \"--\".concat(_id.replace('theme-color-', ''), \": var(--\").concat(value, \");\");\n        }\n        return \"--\".concat(_id.replace('theme-color-', ''), \": \").concat(value, \";\");\n      }).join('\\n');\n      injectIntoBody('dynamic-variables', \"<style id='css-variables'> :root {\".concat(css, \"}</style>\"));\n    });\n    await renderDynamicCssList();\n    settings.watchByRegex(/theme-color-rc/i, renderDynamicCssList);\n    injectIntoBody('react-root', \"\\n<noscript style=\\\"color: white; text-align:center\\\">\\n\\tYou need to enable JavaScript to run this app.\\n</noscript>\\n<div id=\\\"react-root\\\">\\n\\t<div class=\\\"page-loading\\\" role=\\\"alert\\\" aria-busy=\\\"true\\\" aria-live=\\\"polite\\\" aria-label=\\\"loading\\\">\\n\\t\\t<div class=\\\"loading__animation\\\">\\n\\t\\t\\t<div class=\\\"loading__animation__bounce\\\"></div>\\n\\t\\t\\t<div class=\\\"loading__animation__bounce\\\"></div>\\n\\t\\t\\t<div class=\\\"loading__animation__bounce\\\"></div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n\");\n    injectIntoBody('icons', (_await$Assets$getText = await Assets.getTextAsync('public/icons.svg')) !== null && _await$Assets$getText !== void 0 ? _await$Assets$getText : '');\n    __reify_async_result__();\n  } catch (_reifyError) {\n    return __reify_async_result__(_reifyError);\n  }\n  __reify_async_result__()\n}, {\n  self: this,\n  async: true\n});","map":{"version":3,"names":["Settings","module","link","v","escapeHTML","Meteor","Inject","Tracker","applyHeadInjections","headInjections","injectIntoBody","injectIntoHead","withDebouncing","settings","getURL","__reifyWaitForDeps__","startup","autorun","injections","Object","values","all","filter","injection","rawModHtml","watch","value","concat","process","env","DISABLE_ANIMATION","standardFavicons","escapedValue","arguments","length","undefined","baseUrl","prefix","trim","test","__meteor_runtime_config__","ROOT_URL_PATH_PREFIX","renderDynamicCssList","wait","colors","find","_id","projection","editor","toArray","css","color","map","_ref","replace","join","watchByRegex","_await$Assets$getText","Assets","getTextAsync","__reify_async_result__","_reifyError","self","async"],"sources":["app/ui-master/server/index.ts"],"sourcesContent":["import type { ISettingColor } from '@rocket.chat/core-typings';\nimport { Settings } from '@rocket.chat/models';\nimport { escapeHTML } from '@rocket.chat/string-helpers';\nimport { Meteor } from 'meteor/meteor';\nimport { Inject } from 'meteor/meteorhacks:inject-initial';\nimport { Tracker } from 'meteor/tracker';\n\nimport { applyHeadInjections, headInjections, injectIntoBody, injectIntoHead } from './inject';\nimport { withDebouncing } from '../../../lib/utils/highOrderFunctions';\nimport { settings } from '../../settings/server';\nimport { getURL } from '../../utils/server/getURL';\n\nimport './scripts';\n\nexport * from './inject';\n\nMeteor.startup(() => {\n\tTracker.autorun(() => {\n\t\tconst injections = Object.values(headInjections.all()).filter((injection): injection is NonNullable<typeof injection> => !!injection);\n\t\tInject.rawModHtml('headInjections', applyHeadInjections(injections));\n\t});\n\n\tsettings.watch<string>('Default_Referrer_Policy', (value) => {\n\t\tif (!value) {\n\t\t\treturn injectIntoHead('noreferrer', '<meta name=\"referrer\" content=\"same-origin\" />');\n\t\t}\n\n\t\tinjectIntoHead('noreferrer', `<meta name=\"referrer\" content=\"${value}\" />`);\n\t});\n\n\tif (process.env.DISABLE_ANIMATION) {\n\t\tinjectIntoHead(\n\t\t\t'disable-animation',\n\t\t\t`\n\t\t<style>\n\t\t\tbody, body * {\n\t\t\t\tanimation: none !important;\n\t\t\t}\n\t\t\t</style>\n\t\t\t`,\n\t\t);\n\t}\n\n\tsettings.watch<boolean>('Assets_SvgFavicon_Enable', (value) => {\n\t\tconst standardFavicons = `\n\t\t\t<link rel=\"icon\" sizes=\"16x16\" type=\"image/png\" href=${getURL('assets/favicon_16.png')} />\n\t\t\t<link rel=\"icon\" sizes=\"32x32\" type=\"image/png\" href=${getURL('assets/favicon_32.png')} />`;\n\n\t\tif (value) {\n\t\t\tinjectIntoHead(\n\t\t\t\t'Assets_SvgFavicon_Enable',\n\t\t\t\t`${standardFavicons}\n\t\t\t\t<link rel=\"icon\" sizes=\"any\" type=\"image/svg+xml\" href=${getURL('assets/favicon.svg')} />`,\n\t\t\t);\n\t\t} else {\n\t\t\tinjectIntoHead('Assets_SvgFavicon_Enable', standardFavicons);\n\t\t}\n\t});\n\n\tsettings.watch<string>('theme-color-sidebar-background', (value) => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead(\n\t\t\t'theme-color-sidebar-background',\n\t\t\t`<meta name=\"msapplication-TileColor\" content=\"${escapedValue}\" /><meta name=\"theme-color\" content=\"${escapedValue}\" />`,\n\t\t);\n\t});\n\n\tsettings.watch<string>('Site_Name', (value = 'Rocket.Chat') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead(\n\t\t\t'Site_Name',\n\t\t\t`<title>${escapedValue}</title>` +\n\t\t\t\t`<meta name=\"application-name\" content=\"${escapedValue}\">` +\n\t\t\t\t`<meta name=\"apple-mobile-web-app-title\" content=\"${escapedValue}\">`,\n\t\t);\n\t});\n\n\tsettings.watch<string>('Meta_language', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead(\n\t\t\t'Meta_language',\n\t\t\t`<meta http-equiv=\"content-language\" content=\"${escapedValue}\"><meta name=\"language\" content=\"${escapedValue}\">`,\n\t\t);\n\t});\n\n\tsettings.watch<string>('Meta_robots', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead('Meta_robots', `<meta name=\"robots\" content=\"${escapedValue}\">`);\n\t});\n\n\tsettings.watch<string>('Meta_msvalidate01', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead('Meta_msvalidate01', `<meta name=\"msvalidate.01\" content=\"${escapedValue}\">`);\n\t});\n\n\tsettings.watch<string>('Meta_google-site-verification', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead('Meta_google-site-verification', `<meta name=\"google-site-verification\" content=\"${escapedValue}\">`);\n\t});\n\n\tsettings.watch<string>('Meta_fb_app_id', (value = '') => {\n\t\tconst escapedValue = escapeHTML(value);\n\t\tinjectIntoHead('Meta_fb_app_id', `<meta property=\"fb:app_id\" content=\"${escapedValue}\">`);\n\t});\n\n\tsettings.watch<string>('Meta_custom', (value = '') => {\n\t\tinjectIntoHead('Meta_custom', value);\n\t});\n\n\tconst baseUrl = ((prefix) => {\n\t\tif (!prefix) {\n\t\t\treturn '/';\n\t\t}\n\n\t\tprefix = prefix.trim();\n\n\t\tif (!prefix) {\n\t\t\treturn '/';\n\t\t}\n\n\t\treturn /\\/$/.test(prefix) ? prefix : `${prefix}/`;\n\t})(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX);\n\n\tinjectIntoHead('base', `<base href=\"${baseUrl}\">`);\n});\n\nconst renderDynamicCssList = withDebouncing({ wait: 500 })(async () => {\n\t// const variables = RocketChat.models.Settings.findOne({_id:'theme-custom-variables'}, {fields: { value: 1}});\n\tconst colors = await Settings.find({ _id: /theme-color-rc/i }, { projection: { value: 1, editor: 1 } }).toArray();\n\tconst css = colors\n\t\t.filter((color): color is ISettingColor => !!color?.value)\n\t\t.map(({ _id, value, editor }) => {\n\t\t\tif (editor === 'expression') {\n\t\t\t\treturn `--${_id.replace('theme-color-', '')}: var(--${value});`;\n\t\t\t}\n\t\t\treturn `--${_id.replace('theme-color-', '')}: ${value};`;\n\t\t})\n\t\t.join('\\n');\n\tinjectIntoBody('dynamic-variables', `<style id='css-variables'> :root {${css}}</style>`);\n});\n\nawait renderDynamicCssList();\n\nsettings.watchByRegex(/theme-color-rc/i, renderDynamicCssList);\n\ninjectIntoBody(\n\t'react-root',\n\t`\n<noscript style=\"color: white; text-align:center\">\n\tYou need to enable JavaScript to run this app.\n</noscript>\n<div id=\"react-root\">\n\t<div class=\"page-loading\" role=\"alert\" aria-busy=\"true\" aria-live=\"polite\" aria-label=\"loading\">\n\t\t<div class=\"loading__animation\">\n\t\t\t<div class=\"loading__animation__bounce\"></div>\n\t\t\t<div class=\"loading__animation__bounce\"></div>\n\t\t\t<div class=\"loading__animation__bounce\"></div>\n\t\t</div>\n\t</div>\n</div>\n`,\n);\n\ninjectIntoBody('icons', (await Assets.getTextAsync('public/icons.svg')) ?? '');\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"65a1315161f6c283597b1a32ac086b0ec6c71e75"}
