{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/units/UnitEdit.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/omnichannel/units/UnitEdit.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/units/UnitEdit.tsx","inputSourceMap":{"version":3,"file":"client/omnichannel/units/UnitEdit.tsx","sourceRoot":"","sources":["client/omnichannel/units/UnitEdit.tsx"],"names":[],"mappings":"AAEA,OAAO,EACN,UAAU,EACV,KAAK,EACL,SAAS,EACT,MAAM,EACN,4BAA4B,EAC5B,MAAM,EACN,WAAW,EACX,UAAU,EACV,GAAG,EACH,UAAU,EACV,QAAQ,EACR,WAAW,GACX,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAAE,kBAAkB,EAAE,iBAAiB,EAAE,WAAW,EAAE,MAAM,6BAA6B,CAAC;AACjG,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,cAAc,EAAE,SAAS,EAAE,MAAM,0BAA0B,CAAC;AACzG,OAAO,EAAE,cAAc,EAAE,MAAM,uBAAuB,CAAC;AACvD,OAAO,KAAK,EAAE,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACjD,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAC;AAEtD,OAAO,EACN,8BAA8B,EAC9B,mBAAmB,EACnB,kBAAkB,EAClB,aAAa,EACb,mBAAmB,EACnB,kBAAkB,GAClB,MAAM,gCAAgC,CAAC;AACxC,OAAO,EAAE,aAAa,EAAE,MAAM,iCAAiC,CAAC;AAChE,OAAO,EAAE,eAAe,EAAE,MAAM,2BAA2B,CAAC;AAC5D,OAAO,EAAE,yBAAyB,EAAE,MAAM,6CAA6C,CAAC;AACxF,OAAO,EAAE,eAAe,EAAE,MAAM,mCAAmC,CAAC;AACpE,OAAO,EAAE,aAAa,EAAE,MAAM,iBAAiB,CAAC;AAQhD,MAAM,QAAQ,GAAG,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,eAAe,EAAiB,EAAE,EAAE;IAC/E,MAAM,CAAC,GAAG,cAAc,EAAE,CAAC;IAC3B,MAAM,MAAM,GAAG,SAAS,EAAE,CAAC;IAC3B,MAAM,QAAQ,GAAG,SAAS,CAAC,mBAAmB,CAAC,CAAC;IAChD,MAAM,oBAAoB,GAAG,uBAAuB,EAAE,CAAC;IACvD,MAAM,WAAW,GAAG,cAAc,EAAE,CAAC;IAErC,MAAM,gBAAgB,GAAG,aAAa,EAAE,CAAC;IAEzC,MAAM,CAAC,cAAc,EAAE,iBAAiB,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IACzD,MAAM,uBAAuB,GAAG,iBAAiB,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;IAEvE,MAAM,CAAC,iBAAiB,EAAE,oBAAoB,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC/D,MAAM,0BAA0B,GAAG,iBAAiB,CAAC,iBAAiB,EAAE,GAAG,CAAC,CAAC;IAE7E,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,aAAa,EAAE,gBAAgB,EAAE,GAAG,eAAe,CACnF,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,uBAAuB,EAAE,CAAC,EAAE,CAAC,uBAAuB,CAAC,CAAC,CAC/E,CAAC;IAEF,MAAM,EAAE,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,aAAa,EAAE,SAAS,EAAE,aAAa,EAAE,GAAG,aAAa,CAAC,YAAY,CAAC,CAAC;IAE7G,MAAM,EAAE,SAAS,EAAE,eAAe,EAAE,aAAa,EAAE,mBAAmB,EAAE,GAAG,yBAAyB,CACnG,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,0BAA0B,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,0BAA0B,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC,CAC3H,CAAC;IAEF,MAAM,EAAE,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,gBAAgB,EAAE,SAAS,EAAE,gBAAgB,EAAE,GAAG,aAAa,CAAC,eAAe,CAAC,CAAC;IAEzH,MAAM,cAAc,GAAmB;QACtC,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;QACvB,CAAC,SAAS,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC;KACzB,CAAC;IAEF,MAAM,EAAE,GAAG,EAAE,GAAG,QAAQ,IAAI,EAAE,CAAC;IAE/B,MAAM,mBAAmB,GAAG,OAAO,CAClC,GAAG,EAAE,CACJ,eAAe,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;QACxC,KAAK,EAAE,GAAG;QACV,KAAK,EAAE,IAAI;KACX,CAAC,CAAC,IAAI,EAAE,EACV,CAAC,eAAe,CAAC,CACjB,CAAC;IAEF,MAAM,gBAAgB,GAAG,OAAO,CAC/B,GAAG,EAAE,CACJ,YAAY,EAAE,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC;QAC/C,KAAK,EAAE,SAAS;QAChB,KAAK,EAAE,QAAQ;KACf,CAAC,CAAC,IAAI,EAAE,EACV,CAAC,YAAY,CAAC,CACd,CAAC;IAEF,MAAM,EACL,OAAO,EACP,SAAS,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,EAC9B,YAAY,EACZ,KAAK,GACL,GAAG,OAAO,CAAC;QACX,IAAI,EAAE,QAAQ;QACd,MAAM,EAAE;YACP,IAAI,EAAE,QAAQ,EAAE,IAAI,IAAI,EAAE;YAC1B,UAAU,EAAE,QAAQ,EAAE,UAAU,IAAI,EAAE;YACtC,WAAW,EAAE,mBAAmB;YAChC,QAAQ,EAAE,gBAAgB;SAC1B;KACD,CAAC,CAAC;IAEH,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,KAAK,EAAE,CAAC;IAE1C,MAAM,kBAAkB,GAAG,OAAO,CAAC,GAAG,EAAE;QACvC,MAAM,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,CAAC,CAAC;QACtG,MAAM,sBAAsB,GAAG,gBAAgB,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;YACxE,KAAK,EAAE,GAAG;YACV,KAAK,EAAE,IAAI;SACX,CAAC,CAAC,CAAC;QACJ,OAAO,CAAC,GAAG,sBAAsB,EAAE,GAAG,OAAO,CAAC,CAAC;IAChD,CAAC,EAAE,CAAC,WAAW,EAAE,gBAAgB,CAAC,CAAC,CAAC;IAEpC,MAAM,eAAe,GAAG,OAAO,CAAC,GAAG,EAAE;QACpC,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,CAAC,CAAC;QAChG,MAAM,mBAAmB,GAAG,aAAa,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;YAClE,KAAK,EAAE,GAAG;YACV,KAAK,EAAE,IAAI;SACX,CAAC,CAAC,CAAC;QACJ,OAAO,CAAC,GAAG,mBAAmB,EAAE,GAAG,OAAO,CAAC,CAAC;IAC7C,CAAC,EAAE,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC;IAE9B,MAAM,UAAU,GAAG,kBAAkB,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,EAAE,EAAE;QACpE,MAAM,eAAe,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,EAAE,YAAY,EAAE,UAAU,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAE9F,MAAM,YAAY,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;YAC/C,SAAS,EAAE,OAAO,CAAC,KAAK;YACxB,QAAQ,EAAE,OAAO,CAAC,KAAK;SACvB,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC;YACJ,MAAM,QAAQ,CAAC,GAAwB,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,EAAE,YAAY,EAAE,eAAe,CAAC,CAAC;YAC9F,oBAAoB,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC/D,WAAW,CAAC,iBAAiB,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAClD,MAAM,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC;QACvC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YAChB,oBAAoB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QACzD,CAAC;IACF,CAAC,CAAC,CAAC;IAEH,MAAM,MAAM,GAAG,WAAW,EAAE,CAAC;IAC7B,MAAM,SAAS,GAAG,WAAW,EAAE,CAAC;IAChC,MAAM,eAAe,GAAG,WAAW,EAAE,CAAC;IACtC,MAAM,gBAAgB,GAAG,WAAW,EAAE,CAAC;IACvC,MAAM,aAAa,GAAG,WAAW,EAAE,CAAC;IAEpC,OAAO,CACN,CAAC,aAAa,CAAC,UAAU,CAAC,sBAAsB,CAC/C;GAAA,CAAC,mBAAmB,CACnB;IAAA,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,kBAAkB,CAC9E;IAAA,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC,CAAC,EAAE,kBAAkB,CAC/F;GAAA,EAAE,mBAAmB,CACrB;GAAA,CAAC,8BAA8B,CAC9B;IAAA,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAChF;KAAA,CAAC,UAAU,CACV;MAAA,CAAC,KAAK,CACL;OAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CACvC;QAAA,CAAC,CAAC,CAAC,MAAM,CAAC,CACX;OAAA,EAAE,UAAU,CACZ;OAAA,CAAC,QAAQ,CACR;QAAA,CAAC,UAAU,CACV,IAAI,CAAC,MAAM,CACX,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,KAAK,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,gBAAgB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,CAC/D,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CACtB,CAAC,SAAS,CACT,EAAE,CAAC,CAAC,SAAS,CAAC,CACd,IAAI,KAAK,CAAC,CACV,KAAK,CAAC,CAAC,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC,CAC7B,gBAAgB,CAAC,CAAC,GAAG,SAAS,QAAQ,CAAC,CACvC,aAAa,CAAC,CAAC,IAAI,CAAC,CACpB,YAAY,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,EACnC,CACF,CAAC,EAEJ;OAAA,EAAE,QAAQ,CACV;OAAA,CAAC,MAAM,EAAE,IAAI,IAAI,CAChB,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,GAAG,SAAS,QAAQ,CAAC,CAC1D;SAAA,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CACtB;QAAA,EAAE,UAAU,CAAC,CACb,CACF;MAAA,EAAE,KAAK,CACP;MAAA,CAAC,KAAK,CACL;OAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,eAAe,CAAC,CAAC,QAAQ,CAC7C;QAAA,CAAC,CAAC,CAAC,YAAY,CAAC,CACjB;OAAA,EAAE,UAAU,CACZ;OAAA,CAAC,QAAQ,CACR;QAAA,CAAC,UAAU,CACV,IAAI,CAAC,YAAY,CACjB,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,KAAK,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,gBAAgB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE,CAAC,CACrE,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CACtB,CAAC,MAAM,CACN,EAAE,CAAC,CAAC,eAAe,CAAC,CACpB,IAAI,KAAK,CAAC,CACV,OAAO,CAAC,CAAC,cAAc,CAAC,CACxB,KAAK,CAAC,CAAC,MAAM,EAAE,UAAU,EAAE,OAAO,CAAC,CACnC,WAAW,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CACnC,gBAAgB,CAAC,CAAC,GAAG,eAAe,QAAQ,CAAC,CAC7C,aAAa,CAAC,CAAC,IAAI,CAAC,CACpB,YAAY,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC,EACzC,CACF,CAAC,EAEJ;OAAA,EAAE,QAAQ,CACV;OAAA,CAAC,MAAM,EAAE,UAAU,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,GAAG,eAAe,QAAQ,CAAC,CAAC,CAAC,MAAM,EAAE,UAAU,CAAC,OAAO,CAAC,EAAE,UAAU,CAAC,CAC7G;MAAA,EAAE,KAAK,CACP;MAAA,CAAC,KAAK,CACL;OAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAC9C;QAAA,CAAC,CAAC,CAAC,aAAa,CAAC,CAClB;OAAA,EAAE,UAAU,CACZ;OAAA,CAAC,QAAQ,CACR;QAAA,CAAC,UAAU,CACV,IAAI,CAAC,aAAa,CAClB,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,KAAK,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,gBAAgB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,aAAa,CAAC,EAAE,CAAC,EAAE,CAAC,CACtE,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC,CACzD,CAAC,4BAA4B,CAC5B,EAAE,CAAC,CAAC,gBAAgB,CAAC,CACrB,IAAI,CAAC,CAAC,IAAI,CAAC,CACX,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,SAAS,CACT,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAC1B,SAAS,CAAC,CAAC,oBAAoB,CAAC,CAChC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAC5B,KAAK,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC,CACpC,WAAW,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CACnC,UAAU,CAAC,CACV,gBAAgB,KAAK,eAAe,CAAC,OAAO;gBAC3C,CAAC,CAAC,SAAS;gBACX,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,IAAI,mBAAmB,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,gBAAgB,CAAC,CACjF,CAAC,CACD,gBAAgB,CAAC,CAAC,GAAG,gBAAgB,QAAQ,CAAC,CAC9C,aAAa,CAAC,CAAC,IAAI,CAAC,CACpB,YAAY,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC,CAC3C,UAAU,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,GAAG,KAAK,EAAE,EAAE,EAAE,CAAC,CACpC,CAAC,WAAW,CACX,IAAI,KAAK,CAAC,CACV,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC,CAC7D,QAAQ,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,KAAK,CAAC,CAAC,EAC1D,CACF,CAAC,EACD,CACF,CAAC,EAEJ;OAAA,EAAE,QAAQ,CACV;OAAA,CAAC,MAAM,EAAE,WAAW,IAAI,CACvB,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,GAAG,gBAAgB,QAAQ,CAAC,CACjE;SAAA,CAAC,MAAM,EAAE,WAAW,CAAC,OAAO,CAC7B;QAAA,EAAE,UAAU,CAAC,CACb,CACF;MAAA,EAAE,KAAK,CACP;MAAA,CAAC,KAAK,CACL;OAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,aAAa,CAAC,CAAC,QAAQ,CAC3C;QAAA,CAAC,CAAC,CAAC,UAAU,CAAC,CACf;OAAA,EAAE,UAAU,CACZ;OAAA,CAAC,QAAQ,CACR;QAAA,CAAC,UAAU,CACV,IAAI,CAAC,UAAU,CACf,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,KAAK,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,gBAAgB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,CAAC,CACnE,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC,CACzD,CAAC,4BAA4B,CAC5B,EAAE,CAAC,CAAC,aAAa,CAAC,CAClB,IAAI,CAAC,CAAC,IAAI,CAAC,CACX,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,SAAS,CACT,MAAM,CAAC,CAAC,cAAc,CAAC,CACvB,SAAS,CAAC,CAAC,iBAAiB,CAAC,CAC7B,OAAO,CAAC,CAAC,eAAe,CAAC,CACzB,KAAK,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CACjC,WAAW,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CACnC,UAAU,CAAC,CACV,aAAa,KAAK,eAAe,CAAC,OAAO;gBACxC,CAAC,CAAC,SAAS;gBACX,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,IAAI,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,aAAa,CAAC,CAC3E,CAAC,CACD,gBAAgB,CAAC,CAAC,GAAG,aAAa,QAAQ,CAAC,CAC3C,aAAa,CAAC,CAAC,IAAI,CAAC,CACpB,YAAY,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CACxC,UAAU,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,GAAG,KAAK,EAAE,EAAE,EAAE,CAAC,CACpC,CAAC,WAAW,CAAC,IAAI,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,KAAK,CAAC,CAAC,EAAG,CACpG,CAAC,EACD,CACF,CAAC,EAEJ;OAAA,EAAE,QAAQ,CACV;OAAA,CAAC,MAAM,EAAE,QAAQ,IAAI,CACpB,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,GAAG,aAAa,QAAQ,CAAC,CAC9D;SAAA,CAAC,MAAM,EAAE,QAAQ,CAAC,OAAO,CAC1B;QAAA,EAAE,UAAU,CAAC,CACb,CACF;MAAA,EAAE,KAAK,CACR;KAAA,EAAE,UAAU,CACb;IAAA,EAAE,GAAG,CACN;GAAA,EAAE,8BAA8B,CAChC;GAAA,CAAC,mBAAmB,CACnB;IAAA,CAAC,WAAW,CAAC,OAAO,CACnB;KAAA,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,MAAM,CACnF;KAAA,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAC9D;MAAA,CAAC,CAAC,CAAC,MAAM,CAAC,CACX;KAAA,EAAE,MAAM,CACT;IAAA,EAAE,WAAW,CACb;IAAA,CAAC,GAAG,IAAI,CACP,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACX;MAAA,CAAC,WAAW,CAAC,OAAO,CACnB;OAAA,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAChE;QAAA,CAAC,CAAC,CAAC,QAAQ,CAAC,CACb;OAAA,EAAE,MAAM,CACT;MAAA,EAAE,WAAW,CACd;KAAA,EAAE,GAAG,CAAC,CACN,CACF;GAAA,EAAE,mBAAmB,CACtB;EAAA,EAAE,aAAa,CAAC,CAChB,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,QAAQ,CAAC","sourcesContent":["import type { ILivechatDepartment, ILivechatUnitMonitor, Serialized, IOmnichannelBusinessUnit } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tFieldError,\n\tField,\n\tTextInput,\n\tButton,\n\tPaginatedMultiSelectFiltered,\n\tSelect,\n\tButtonGroup,\n\tFieldGroup,\n\tBox,\n\tFieldLabel,\n\tFieldRow,\n\tCheckOption,\n} from '@rocket.chat/fuselage';\nimport { useMutableCallback, useDebouncedValue, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo, useState } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport {\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarTitle,\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarClose,\n} from '../../components/Contextualbar';\nimport { useRecordList } from '../../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../hooks/useAsyncState';\nimport { useDepartmentsByUnitsList } from '../../views/hooks/useDepartmentsByUnitsList';\nimport { useMonitorsList } from '../../views/hooks/useMonitorsList';\nimport { useRemoveUnit } from './useRemoveUnit';\n\ntype UnitEditProps = {\n\tunitData?: Serialized<IOmnichannelBusinessUnit>;\n\tunitMonitors?: Serialized<ILivechatUnitMonitor>[];\n\tunitDepartments?: Serialized<ILivechatDepartment>[];\n};\n\nconst UnitEdit = ({ unitData, unitMonitors, unitDepartments }: UnitEditProps) => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst saveUnit = useMethod('livechat:saveUnit');\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst queryClient = useQueryClient();\n\n\tconst handleDeleteUnit = useRemoveUnit();\n\n\tconst [monitorsFilter, setMonitorsFilter] = useState('');\n\tconst debouncedMonitorsFilter = useDebouncedValue(monitorsFilter, 500);\n\n\tconst [departmentsFilter, setDepartmentsFilter] = useState('');\n\tconst debouncedDepartmentsFilter = useDebouncedValue(departmentsFilter, 500);\n\n\tconst { itemsList: monitorsList, loadMoreItems: loadMoreMonitors } = useMonitorsList(\n\t\tuseMemo(() => ({ filter: debouncedMonitorsFilter }), [debouncedMonitorsFilter]),\n\t);\n\n\tconst { phase: monitorsPhase, items: monitorsItems, itemCount: monitorsTotal } = useRecordList(monitorsList);\n\n\tconst { itemsList: departmentsList, loadMoreItems: loadMoreDepartments } = useDepartmentsByUnitsList(\n\t\tuseMemo(() => ({ filter: debouncedDepartmentsFilter, unitId: unitData?._id }), [debouncedDepartmentsFilter, unitData?._id]),\n\t);\n\n\tconst { phase: departmentsPhase, items: departmentsItems, itemCount: departmentsTotal } = useRecordList(departmentsList);\n\n\tconst visibilityOpts: SelectOption[] = [\n\t\t['public', t('Public')],\n\t\t['private', t('Private')],\n\t];\n\n\tconst { _id } = unitData || {};\n\n\tconst currUnitDepartments = useMemo(\n\t\t() =>\n\t\t\tunitDepartments?.map(({ _id, name }) => ({\n\t\t\t\tvalue: _id,\n\t\t\t\tlabel: name,\n\t\t\t})) || [],\n\t\t[unitDepartments],\n\t);\n\n\tconst currUnitMonitors = useMemo(\n\t\t() =>\n\t\t\tunitMonitors?.map(({ monitorId, username }) => ({\n\t\t\t\tvalue: monitorId,\n\t\t\t\tlabel: username,\n\t\t\t})) || [],\n\t\t[unitMonitors],\n\t);\n\n\tconst {\n\t\tcontrol,\n\t\tformState: { errors, isDirty },\n\t\thandleSubmit,\n\t\twatch,\n\t} = useForm({\n\t\tmode: 'onBlur',\n\t\tvalues: {\n\t\t\tname: unitData?.name || '',\n\t\t\tvisibility: unitData?.visibility || '',\n\t\t\tdepartments: currUnitDepartments,\n\t\t\tmonitors: currUnitMonitors,\n\t\t},\n\t});\n\n\tconst { departments, monitors } = watch();\n\n\tconst departmentsOptions = useMemo(() => {\n\t\tconst pending = departments.filter(({ value }) => !departmentsItems.find((dep) => dep._id === value));\n\t\tconst mappedDepartmentsItems = departmentsItems?.map(({ _id, name }) => ({\n\t\t\tvalue: _id,\n\t\t\tlabel: name,\n\t\t}));\n\t\treturn [...mappedDepartmentsItems, ...pending];\n\t}, [departments, departmentsItems]);\n\n\tconst monitorsOptions = useMemo(() => {\n\t\tconst pending = monitors.filter(({ value }) => !monitorsItems.find((mon) => mon._id === value));\n\t\tconst mappedMonitorsItems = monitorsItems?.map(({ _id, name }) => ({\n\t\t\tvalue: _id,\n\t\t\tlabel: name,\n\t\t}));\n\t\treturn [...mappedMonitorsItems, ...pending];\n\t}, [monitors, monitorsItems]);\n\n\tconst handleSave = useMutableCallback(async ({ name, visibility }) => {\n\t\tconst departmentsData = departments.map((department) => ({ departmentId: department.value }));\n\n\t\tconst monitorsData = monitors.map((monitor) => ({\n\t\t\tmonitorId: monitor.value,\n\t\t\tusername: monitor.label,\n\t\t}));\n\n\t\ttry {\n\t\t\tawait saveUnit(_id as unknown as string, { name, visibility }, monitorsData, departmentsData);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-units']);\n\t\t\trouter.navigate('/omnichannel/units');\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst formId = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst visibilityField = useUniqueId();\n\tconst departmentsField = useUniqueId();\n\tconst monitorsField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar data-qa-id='units-contextual-bar'>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{_id ? t('Edit_Unit') : t('New_Unit')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/units')}></ContextualbarClose>\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box id={formId} is='form' autoComplete='off' onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Name') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\tid={nameField}\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\terror={errors?.name?.message}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${nameField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.name)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.name.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={visibilityField} required>\n\t\t\t\t\t\t\t\t{t('Visibility')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='visibility'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Visibility') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\tid={visibilityField}\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\toptions={visibilityOpts}\n\t\t\t\t\t\t\t\t\t\t\terror={errors?.visibility?.message}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${visibilityField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.visibility)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.visibility && <FieldError id={`${visibilityField}-error`}>{errors?.visibility.message}</FieldError>}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={departmentsField} required>\n\t\t\t\t\t\t\t\t{t('Departments')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='departments'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Departments') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field: { name, value, onChange, onBlur } }) => (\n\t\t\t\t\t\t\t\t\t\t<PaginatedMultiSelectFiltered\n\t\t\t\t\t\t\t\t\t\t\tid={departmentsField}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\twithTitle\n\t\t\t\t\t\t\t\t\t\t\tfilter={departmentsFilter}\n\t\t\t\t\t\t\t\t\t\t\tsetFilter={setDepartmentsFilter}\n\t\t\t\t\t\t\t\t\t\t\toptions={departmentsOptions}\n\t\t\t\t\t\t\t\t\t\t\terror={Boolean(errors?.departments)}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\tendReached={\n\t\t\t\t\t\t\t\t\t\t\t\tdepartmentsPhase === AsyncStatePhase.LOADING\n\t\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t\t: (start) => start && loadMoreDepartments(start, Math.min(50, departmentsTotal))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${departmentsField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.departments)}\n\t\t\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckOption\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={<span style={{ whiteSpace: 'normal' }}>{label}</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected={value.some((item) => item.value === props.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.departments && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${departmentsField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.departments.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={monitorsField} required>\n\t\t\t\t\t\t\t\t{t('Monitors')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='monitors'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Monitors') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field: { name, value, onChange, onBlur } }) => (\n\t\t\t\t\t\t\t\t\t\t<PaginatedMultiSelectFiltered\n\t\t\t\t\t\t\t\t\t\t\tid={monitorsField}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\twithTitle\n\t\t\t\t\t\t\t\t\t\t\tfilter={monitorsFilter}\n\t\t\t\t\t\t\t\t\t\t\tsetFilter={setMonitorsFilter}\n\t\t\t\t\t\t\t\t\t\t\toptions={monitorsOptions}\n\t\t\t\t\t\t\t\t\t\t\terror={Boolean(errors?.monitors)}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\tendReached={\n\t\t\t\t\t\t\t\t\t\t\t\tmonitorsPhase === AsyncStatePhase.LOADING\n\t\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t\t: (start) => start && loadMoreMonitors(start, Math.min(50, monitorsTotal))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${monitorsField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.monitors)}\n\t\t\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckOption {...props} label={label} selected={value.some((item) => item.value === props.value)} />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.monitors && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${monitorsField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.monitors.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/units')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} disabled={!isDirty} type='submit' primary>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{_id && (\n\t\t\t\t\t<Box mbs={8}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button icon='trash' danger onClick={() => handleDeleteUnit(_id)}>\n\t\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default UnitEdit;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/units/UnitEdit.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/omnichannel/units/UnitEdit.tsx","inputSourceMap":{"version":3,"file":"client/omnichannel/units/UnitEdit.tsx","sourceRoot":"","sources":["client/omnichannel/units/UnitEdit.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ILivechatDepartment, ILivechatUnitMonitor, Serialized, IOmnichannelBusinessUnit } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tFieldError,\n\tField,\n\tTextInput,\n\tButton,\n\tPaginatedMultiSelectFiltered,\n\tSelect,\n\tButtonGroup,\n\tFieldGroup,\n\tBox,\n\tFieldLabel,\n\tFieldRow,\n\tCheckOption,\n} from '@rocket.chat/fuselage';\nimport { useMutableCallback, useDebouncedValue, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo, useState } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport {\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarTitle,\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarClose,\n} from '../../components/Contextualbar';\nimport { useRecordList } from '../../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../hooks/useAsyncState';\nimport { useDepartmentsByUnitsList } from '../../views/hooks/useDepartmentsByUnitsList';\nimport { useMonitorsList } from '../../views/hooks/useMonitorsList';\nimport { useRemoveUnit } from './useRemoveUnit';\n\ntype UnitEditProps = {\n\tunitData?: Serialized<IOmnichannelBusinessUnit>;\n\tunitMonitors?: Serialized<ILivechatUnitMonitor>[];\n\tunitDepartments?: Serialized<ILivechatDepartment>[];\n};\n\nconst UnitEdit = ({ unitData, unitMonitors, unitDepartments }: UnitEditProps) => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst saveUnit = useMethod('livechat:saveUnit');\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst queryClient = useQueryClient();\n\n\tconst handleDeleteUnit = useRemoveUnit();\n\n\tconst [monitorsFilter, setMonitorsFilter] = useState('');\n\tconst debouncedMonitorsFilter = useDebouncedValue(monitorsFilter, 500);\n\n\tconst [departmentsFilter, setDepartmentsFilter] = useState('');\n\tconst debouncedDepartmentsFilter = useDebouncedValue(departmentsFilter, 500);\n\n\tconst { itemsList: monitorsList, loadMoreItems: loadMoreMonitors } = useMonitorsList(\n\t\tuseMemo(() => ({ filter: debouncedMonitorsFilter }), [debouncedMonitorsFilter]),\n\t);\n\n\tconst { phase: monitorsPhase, items: monitorsItems, itemCount: monitorsTotal } = useRecordList(monitorsList);\n\n\tconst { itemsList: departmentsList, loadMoreItems: loadMoreDepartments } = useDepartmentsByUnitsList(\n\t\tuseMemo(() => ({ filter: debouncedDepartmentsFilter, unitId: unitData?._id }), [debouncedDepartmentsFilter, unitData?._id]),\n\t);\n\n\tconst { phase: departmentsPhase, items: departmentsItems, itemCount: departmentsTotal } = useRecordList(departmentsList);\n\n\tconst visibilityOpts: SelectOption[] = [\n\t\t['public', t('Public')],\n\t\t['private', t('Private')],\n\t];\n\n\tconst { _id } = unitData || {};\n\n\tconst currUnitDepartments = useMemo(\n\t\t() =>\n\t\t\tunitDepartments?.map(({ _id, name }) => ({\n\t\t\t\tvalue: _id,\n\t\t\t\tlabel: name,\n\t\t\t})) || [],\n\t\t[unitDepartments],\n\t);\n\n\tconst currUnitMonitors = useMemo(\n\t\t() =>\n\t\t\tunitMonitors?.map(({ monitorId, username }) => ({\n\t\t\t\tvalue: monitorId,\n\t\t\t\tlabel: username,\n\t\t\t})) || [],\n\t\t[unitMonitors],\n\t);\n\n\tconst {\n\t\tcontrol,\n\t\tformState: { errors, isDirty },\n\t\thandleSubmit,\n\t\twatch,\n\t} = useForm({\n\t\tmode: 'onBlur',\n\t\tvalues: {\n\t\t\tname: unitData?.name || '',\n\t\t\tvisibility: unitData?.visibility || '',\n\t\t\tdepartments: currUnitDepartments,\n\t\t\tmonitors: currUnitMonitors,\n\t\t},\n\t});\n\n\tconst { departments, monitors } = watch();\n\n\tconst departmentsOptions = useMemo(() => {\n\t\tconst pending = departments.filter(({ value }) => !departmentsItems.find((dep) => dep._id === value));\n\t\tconst mappedDepartmentsItems = departmentsItems?.map(({ _id, name }) => ({\n\t\t\tvalue: _id,\n\t\t\tlabel: name,\n\t\t}));\n\t\treturn [...mappedDepartmentsItems, ...pending];\n\t}, [departments, departmentsItems]);\n\n\tconst monitorsOptions = useMemo(() => {\n\t\tconst pending = monitors.filter(({ value }) => !monitorsItems.find((mon) => mon._id === value));\n\t\tconst mappedMonitorsItems = monitorsItems?.map(({ _id, name }) => ({\n\t\t\tvalue: _id,\n\t\t\tlabel: name,\n\t\t}));\n\t\treturn [...mappedMonitorsItems, ...pending];\n\t}, [monitors, monitorsItems]);\n\n\tconst handleSave = useMutableCallback(async ({ name, visibility }) => {\n\t\tconst departmentsData = departments.map((department) => ({ departmentId: department.value }));\n\n\t\tconst monitorsData = monitors.map((monitor) => ({\n\t\t\tmonitorId: monitor.value,\n\t\t\tusername: monitor.label,\n\t\t}));\n\n\t\ttry {\n\t\t\tawait saveUnit(_id as unknown as string, { name, visibility }, monitorsData, departmentsData);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-units']);\n\t\t\trouter.navigate('/omnichannel/units');\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst formId = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst visibilityField = useUniqueId();\n\tconst departmentsField = useUniqueId();\n\tconst monitorsField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar data-qa-id='units-contextual-bar'>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{_id ? t('Edit_Unit') : t('New_Unit')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/units')}></ContextualbarClose>\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box id={formId} is='form' autoComplete='off' onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Name') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\tid={nameField}\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\terror={errors?.name?.message}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${nameField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.name)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.name.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={visibilityField} required>\n\t\t\t\t\t\t\t\t{t('Visibility')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='visibility'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Visibility') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\tid={visibilityField}\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\toptions={visibilityOpts}\n\t\t\t\t\t\t\t\t\t\t\terror={errors?.visibility?.message}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${visibilityField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.visibility)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.visibility && <FieldError id={`${visibilityField}-error`}>{errors?.visibility.message}</FieldError>}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={departmentsField} required>\n\t\t\t\t\t\t\t\t{t('Departments')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='departments'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Departments') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field: { name, value, onChange, onBlur } }) => (\n\t\t\t\t\t\t\t\t\t\t<PaginatedMultiSelectFiltered\n\t\t\t\t\t\t\t\t\t\t\tid={departmentsField}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\twithTitle\n\t\t\t\t\t\t\t\t\t\t\tfilter={departmentsFilter}\n\t\t\t\t\t\t\t\t\t\t\tsetFilter={setDepartmentsFilter}\n\t\t\t\t\t\t\t\t\t\t\toptions={departmentsOptions}\n\t\t\t\t\t\t\t\t\t\t\terror={Boolean(errors?.departments)}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\tendReached={\n\t\t\t\t\t\t\t\t\t\t\t\tdepartmentsPhase === AsyncStatePhase.LOADING\n\t\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t\t: (start) => start && loadMoreDepartments(start, Math.min(50, departmentsTotal))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${departmentsField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.departments)}\n\t\t\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckOption\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={<span style={{ whiteSpace: 'normal' }}>{label}</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected={value.some((item) => item.value === props.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.departments && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${departmentsField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.departments.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={monitorsField} required>\n\t\t\t\t\t\t\t\t{t('Monitors')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='monitors'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Monitors') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field: { name, value, onChange, onBlur } }) => (\n\t\t\t\t\t\t\t\t\t\t<PaginatedMultiSelectFiltered\n\t\t\t\t\t\t\t\t\t\t\tid={monitorsField}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\twithTitle\n\t\t\t\t\t\t\t\t\t\t\tfilter={monitorsFilter}\n\t\t\t\t\t\t\t\t\t\t\tsetFilter={setMonitorsFilter}\n\t\t\t\t\t\t\t\t\t\t\toptions={monitorsOptions}\n\t\t\t\t\t\t\t\t\t\t\terror={Boolean(errors?.monitors)}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\tendReached={\n\t\t\t\t\t\t\t\t\t\t\t\tmonitorsPhase === AsyncStatePhase.LOADING\n\t\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t\t: (start) => start && loadMoreMonitors(start, Math.min(50, monitorsTotal))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${monitorsField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.monitors)}\n\t\t\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckOption {...props} label={label} selected={value.some((item) => item.value === props.value)} />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.monitors && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${monitorsField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.monitors.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/units')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} disabled={!isDirty} type='submit' primary>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{_id && (\n\t\t\t\t\t<Box mbs={8}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button icon='trash' danger onClick={() => handleDeleteUnit(_id)}>\n\t\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default UnitEdit;\n"]}}},"code":"var _excluded = [\"label\"],\n  _excluded2 = [\"label\"];\nvar _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 0);\nvar _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 1);\nvar _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 2);\nvar _toConsumableArray;\nmodule.link(\"@babel/runtime/helpers/toConsumableArray\", {\n  default: function (v) {\n    _toConsumableArray = v;\n  }\n}, 3);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 4);\nvar FieldError, Field, TextInput, Button, PaginatedMultiSelectFiltered, Select, ButtonGroup, FieldGroup, Box, FieldLabel, FieldRow, CheckOption;\nmodule.link(\"@rocket.chat/fuselage\", {\n  FieldError: function (v) {\n    FieldError = v;\n  },\n  Field: function (v) {\n    Field = v;\n  },\n  TextInput: function (v) {\n    TextInput = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  PaginatedMultiSelectFiltered: function (v) {\n    PaginatedMultiSelectFiltered = v;\n  },\n  Select: function (v) {\n    Select = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  FieldGroup: function (v) {\n    FieldGroup = v;\n  },\n  Box: function (v) {\n    Box = v;\n  },\n  FieldLabel: function (v) {\n    FieldLabel = v;\n  },\n  FieldRow: function (v) {\n    FieldRow = v;\n  },\n  CheckOption: function (v) {\n    CheckOption = v;\n  }\n}, 0);\nvar useMutableCallback, useDebouncedValue, useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback: function (v) {\n    useMutableCallback = v;\n  },\n  useDebouncedValue: function (v) {\n    useDebouncedValue = v;\n  },\n  useUniqueId: function (v) {\n    useUniqueId = v;\n  }\n}, 1);\nvar useToastMessageDispatch, useMethod, useTranslation, useRouter;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  useMethod: function (v) {\n    useMethod = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useRouter: function (v) {\n    useRouter = v;\n  }\n}, 2);\nvar useQueryClient;\nmodule.link(\"@tanstack/react-query\", {\n  useQueryClient: function (v) {\n    useQueryClient = v;\n  }\n}, 3);\nvar React, useMemo, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 4);\nvar useForm, Controller;\nmodule.link(\"react-hook-form\", {\n  useForm: function (v) {\n    useForm = v;\n  },\n  Controller: function (v) {\n    Controller = v;\n  }\n}, 5);\nvar ContextualbarScrollableContent, ContextualbarFooter, ContextualbarTitle, Contextualbar, ContextualbarHeader, ContextualbarClose;\nmodule.link(\"../../components/Contextualbar\", {\n  ContextualbarScrollableContent: function (v) {\n    ContextualbarScrollableContent = v;\n  },\n  ContextualbarFooter: function (v) {\n    ContextualbarFooter = v;\n  },\n  ContextualbarTitle: function (v) {\n    ContextualbarTitle = v;\n  },\n  Contextualbar: function (v) {\n    Contextualbar = v;\n  },\n  ContextualbarHeader: function (v) {\n    ContextualbarHeader = v;\n  },\n  ContextualbarClose: function (v) {\n    ContextualbarClose = v;\n  }\n}, 6);\nvar useRecordList;\nmodule.link(\"../../hooks/lists/useRecordList\", {\n  useRecordList: function (v) {\n    useRecordList = v;\n  }\n}, 7);\nvar AsyncStatePhase;\nmodule.link(\"../../hooks/useAsyncState\", {\n  AsyncStatePhase: function (v) {\n    AsyncStatePhase = v;\n  }\n}, 8);\nvar useDepartmentsByUnitsList;\nmodule.link(\"../../views/hooks/useDepartmentsByUnitsList\", {\n  useDepartmentsByUnitsList: function (v) {\n    useDepartmentsByUnitsList = v;\n  }\n}, 9);\nvar useMonitorsList;\nmodule.link(\"../../views/hooks/useMonitorsList\", {\n  useMonitorsList: function (v) {\n    useMonitorsList = v;\n  }\n}, 10);\nvar useRemoveUnit;\nmodule.link(\"./useRemoveUnit\", {\n  useRemoveUnit: function (v) {\n    useRemoveUnit = v;\n  }\n}, 11);\nvar UnitEdit = function (_ref) {\n  var unitData = _ref.unitData,\n    unitMonitors = _ref.unitMonitors,\n    unitDepartments = _ref.unitDepartments;\n  var t = useTranslation();\n  var router = useRouter();\n  var saveUnit = useMethod('livechat:saveUnit');\n  var dispatchToastMessage = useToastMessageDispatch();\n  var queryClient = useQueryClient();\n  var handleDeleteUnit = useRemoveUnit();\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    monitorsFilter = _useState2[0],\n    setMonitorsFilter = _useState2[1];\n  var debouncedMonitorsFilter = useDebouncedValue(monitorsFilter, 500);\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    departmentsFilter = _useState4[0],\n    setDepartmentsFilter = _useState4[1];\n  var debouncedDepartmentsFilter = useDebouncedValue(departmentsFilter, 500);\n  var _useMonitorsList = useMonitorsList(useMemo(function () {\n      return {\n        filter: debouncedMonitorsFilter\n      };\n    }, [debouncedMonitorsFilter])),\n    monitorsList = _useMonitorsList.itemsList,\n    loadMoreMonitors = _useMonitorsList.loadMoreItems;\n  var _useRecordList = useRecordList(monitorsList),\n    monitorsPhase = _useRecordList.phase,\n    monitorsItems = _useRecordList.items,\n    monitorsTotal = _useRecordList.itemCount;\n  var _useDepartmentsByUnit = useDepartmentsByUnitsList(useMemo(function () {\n      return {\n        filter: debouncedDepartmentsFilter,\n        unitId: unitData === null || unitData === void 0 ? void 0 : unitData._id\n      };\n    }, [debouncedDepartmentsFilter, unitData === null || unitData === void 0 ? void 0 : unitData._id])),\n    departmentsList = _useDepartmentsByUnit.itemsList,\n    loadMoreDepartments = _useDepartmentsByUnit.loadMoreItems;\n  var _useRecordList2 = useRecordList(departmentsList),\n    departmentsPhase = _useRecordList2.phase,\n    departmentsItems = _useRecordList2.items,\n    departmentsTotal = _useRecordList2.itemCount;\n  var visibilityOpts = [['public', t('Public')], ['private', t('Private')]];\n  var _ref2 = unitData || {},\n    _id = _ref2._id;\n  var currUnitDepartments = useMemo(function () {\n    return (unitDepartments === null || unitDepartments === void 0 ? void 0 : unitDepartments.map(function (_ref3) {\n      var _id = _ref3._id,\n        name = _ref3.name;\n      return {\n        value: _id,\n        label: name\n      };\n    })) || [];\n  }, [unitDepartments]);\n  var currUnitMonitors = useMemo(function () {\n    return (unitMonitors === null || unitMonitors === void 0 ? void 0 : unitMonitors.map(function (_ref4) {\n      var monitorId = _ref4.monitorId,\n        username = _ref4.username;\n      return {\n        value: monitorId,\n        label: username\n      };\n    })) || [];\n  }, [unitMonitors]);\n  var _useForm = useForm({\n      mode: 'onBlur',\n      values: {\n        name: (unitData === null || unitData === void 0 ? void 0 : unitData.name) || '',\n        visibility: (unitData === null || unitData === void 0 ? void 0 : unitData.visibility) || '',\n        departments: currUnitDepartments,\n        monitors: currUnitMonitors\n      }\n    }),\n    control = _useForm.control,\n    _useForm$formState = _useForm.formState,\n    errors = _useForm$formState.errors,\n    isDirty = _useForm$formState.isDirty,\n    handleSubmit = _useForm.handleSubmit,\n    watch = _useForm.watch;\n  var _watch = watch(),\n    departments = _watch.departments,\n    monitors = _watch.monitors;\n  var departmentsOptions = useMemo(function () {\n    var pending = departments.filter(function (_ref5) {\n      var value = _ref5.value;\n      return !departmentsItems.find(function (dep) {\n        return dep._id === value;\n      });\n    });\n    var mappedDepartmentsItems = departmentsItems === null || departmentsItems === void 0 ? void 0 : departmentsItems.map(function (_ref6) {\n      var _id = _ref6._id,\n        name = _ref6.name;\n      return {\n        value: _id,\n        label: name\n      };\n    });\n    return [].concat(_toConsumableArray(mappedDepartmentsItems), _toConsumableArray(pending));\n  }, [departments, departmentsItems]);\n  var monitorsOptions = useMemo(function () {\n    var pending = monitors.filter(function (_ref7) {\n      var value = _ref7.value;\n      return !monitorsItems.find(function (mon) {\n        return mon._id === value;\n      });\n    });\n    var mappedMonitorsItems = monitorsItems === null || monitorsItems === void 0 ? void 0 : monitorsItems.map(function (_ref8) {\n      var _id = _ref8._id,\n        name = _ref8.name;\n      return {\n        value: _id,\n        label: name\n      };\n    });\n    return [].concat(_toConsumableArray(mappedMonitorsItems), _toConsumableArray(pending));\n  }, [monitors, monitorsItems]);\n  var handleSave = useMutableCallback(function () {\n    function _callee(_ref9) {\n      var name, visibility, departmentsData, monitorsData;\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              name = _ref9.name, visibility = _ref9.visibility;\n              departmentsData = departments.map(function (department) {\n                return {\n                  departmentId: department.value\n                };\n              });\n              monitorsData = monitors.map(function (monitor) {\n                return {\n                  monitorId: monitor.value,\n                  username: monitor.label\n                };\n              });\n              _context.prev = 3;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(saveUnit(_id, {\n                name: name,\n                visibility: visibility\n              }, monitorsData, departmentsData));\n            case 6:\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Saved')\n              });\n              queryClient.invalidateQueries(['livechat-units']);\n              router.navigate('/omnichannel/units');\n              _context.next = 14;\n              break;\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](3);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context.t0\n              });\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, [[3, 11]], Promise);\n    }\n    return _callee;\n  }());\n  var formId = useUniqueId();\n  var nameField = useUniqueId();\n  var visibilityField = useUniqueId();\n  var departmentsField = useUniqueId();\n  var monitorsField = useUniqueId();\n  return /*#__PURE__*/React.createElement(Contextualbar, {\n    \"data-qa-id\": \"units-contextual-bar\"\n  }, /*#__PURE__*/React.createElement(ContextualbarHeader, null, /*#__PURE__*/React.createElement(ContextualbarTitle, null, _id ? t('Edit_Unit') : t('New_Unit')), /*#__PURE__*/React.createElement(ContextualbarClose, {\n    onClick: function () {\n      return router.navigate('/omnichannel/units');\n    }\n  })), /*#__PURE__*/React.createElement(ContextualbarScrollableContent, null, /*#__PURE__*/React.createElement(Box, {\n    id: formId,\n    is: \"form\",\n    autoComplete: \"off\",\n    onSubmit: handleSubmit(handleSave)\n  }, /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: nameField,\n    required: true\n  }, t('Name')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"name\",\n    control: control,\n    rules: {\n      required: t('Required_field', {\n        field: t('Name')\n      })\n    },\n    render: function (_ref10) {\n      var _errors$name;\n      var field = _ref10.field;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({\n        id: nameField\n      }, field, {\n        error: errors === null || errors === void 0 ? void 0 : (_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.message,\n        \"aria-describedby\": nameField + \"-error\",\n        \"aria-required\": true,\n        \"aria-invalid\": Boolean(errors === null || errors === void 0 ? void 0 : errors.name)\n      }));\n    }\n  })), (errors === null || errors === void 0 ? void 0 : errors.name) && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: nameField + \"-error\"\n  }, errors === null || errors === void 0 ? void 0 : errors.name.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: visibilityField,\n    required: true\n  }, t('Visibility')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"visibility\",\n    control: control,\n    rules: {\n      required: t('Required_field', {\n        field: t('Visibility')\n      })\n    },\n    render: function (_ref11) {\n      var _errors$visibility;\n      var field = _ref11.field;\n      return /*#__PURE__*/React.createElement(Select, _extends({\n        id: visibilityField\n      }, field, {\n        options: visibilityOpts,\n        error: errors === null || errors === void 0 ? void 0 : (_errors$visibility = errors.visibility) === null || _errors$visibility === void 0 ? void 0 : _errors$visibility.message,\n        placeholder: t('Select_an_option'),\n        \"aria-describedby\": visibilityField + \"-error\",\n        \"aria-required\": true,\n        \"aria-invalid\": Boolean(errors === null || errors === void 0 ? void 0 : errors.visibility)\n      }));\n    }\n  })), (errors === null || errors === void 0 ? void 0 : errors.visibility) && /*#__PURE__*/React.createElement(FieldError, {\n    id: visibilityField + \"-error\"\n  }, errors === null || errors === void 0 ? void 0 : errors.visibility.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: departmentsField,\n    required: true\n  }, t('Departments')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"departments\",\n    control: control,\n    rules: {\n      required: t('Required_field', {\n        field: t('Departments')\n      })\n    },\n    render: function (_ref12) {\n      var _ref12$field = _ref12.field,\n        name = _ref12$field.name,\n        value = _ref12$field.value,\n        onChange = _ref12$field.onChange,\n        onBlur = _ref12$field.onBlur;\n      return /*#__PURE__*/React.createElement(PaginatedMultiSelectFiltered, {\n        id: departmentsField,\n        name: name,\n        value: value,\n        onChange: onChange,\n        onBlur: onBlur,\n        withTitle: true,\n        filter: departmentsFilter,\n        setFilter: setDepartmentsFilter,\n        options: departmentsOptions,\n        error: Boolean(errors === null || errors === void 0 ? void 0 : errors.departments),\n        placeholder: t('Select_an_option'),\n        endReached: departmentsPhase === AsyncStatePhase.LOADING ? undefined : function (start) {\n          return start && loadMoreDepartments(start, Math.min(50, departmentsTotal));\n        },\n        \"aria-describedby\": departmentsField + \"-error\",\n        \"aria-required\": true,\n        \"aria-invalid\": Boolean(errors === null || errors === void 0 ? void 0 : errors.departments),\n        renderItem: function (_ref13) {\n          var label = _ref13.label,\n            props = _objectWithoutProperties(_ref13, _excluded);\n          return /*#__PURE__*/React.createElement(CheckOption, _extends({}, props, {\n            label: /*#__PURE__*/React.createElement(\"span\", {\n              style: {\n                whiteSpace: 'normal'\n              }\n            }, label),\n            selected: value.some(function (item) {\n              return item.value === props.value;\n            })\n          }));\n        }\n      });\n    }\n  })), (errors === null || errors === void 0 ? void 0 : errors.departments) && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: departmentsField + \"-error\"\n  }, errors === null || errors === void 0 ? void 0 : errors.departments.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: monitorsField,\n    required: true\n  }, t('Monitors')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"monitors\",\n    control: control,\n    rules: {\n      required: t('Required_field', {\n        field: t('Monitors')\n      })\n    },\n    render: function (_ref14) {\n      var _ref14$field = _ref14.field,\n        name = _ref14$field.name,\n        value = _ref14$field.value,\n        onChange = _ref14$field.onChange,\n        onBlur = _ref14$field.onBlur;\n      return /*#__PURE__*/React.createElement(PaginatedMultiSelectFiltered, {\n        id: monitorsField,\n        name: name,\n        value: value,\n        onChange: onChange,\n        onBlur: onBlur,\n        withTitle: true,\n        filter: monitorsFilter,\n        setFilter: setMonitorsFilter,\n        options: monitorsOptions,\n        error: Boolean(errors === null || errors === void 0 ? void 0 : errors.monitors),\n        placeholder: t('Select_an_option'),\n        endReached: monitorsPhase === AsyncStatePhase.LOADING ? undefined : function (start) {\n          return start && loadMoreMonitors(start, Math.min(50, monitorsTotal));\n        },\n        \"aria-describedby\": monitorsField + \"-error\",\n        \"aria-required\": true,\n        \"aria-invalid\": Boolean(errors === null || errors === void 0 ? void 0 : errors.monitors),\n        renderItem: function (_ref15) {\n          var label = _ref15.label,\n            props = _objectWithoutProperties(_ref15, _excluded2);\n          return /*#__PURE__*/React.createElement(CheckOption, _extends({}, props, {\n            label: label,\n            selected: value.some(function (item) {\n              return item.value === props.value;\n            })\n          }));\n        }\n      });\n    }\n  })), (errors === null || errors === void 0 ? void 0 : errors.monitors) && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: monitorsField + \"-error\"\n  }, errors === null || errors === void 0 ? void 0 : errors.monitors.message))))), /*#__PURE__*/React.createElement(ContextualbarFooter, null, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: function () {\n      return router.navigate('/omnichannel/units');\n    }\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    form: formId,\n    disabled: !isDirty,\n    type: \"submit\",\n    primary: true\n  }, t('Save'))), _id && /*#__PURE__*/React.createElement(Box, {\n    mbs: 8\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    icon: \"trash\",\n    danger: true,\n    onClick: function () {\n      return handleDeleteUnit(_id);\n    }\n  }, t('Delete'))))));\n};\nmodule.exportDefault(UnitEdit);","map":{"version":3,"names":["_objectWithoutProperties","module","link","default","v","_regeneratorRuntime","_extends","_toConsumableArray","_slicedToArray","FieldError","Field","TextInput","Button","PaginatedMultiSelectFiltered","Select","ButtonGroup","FieldGroup","Box","FieldLabel","FieldRow","CheckOption","useMutableCallback","useDebouncedValue","useUniqueId","useToastMessageDispatch","useMethod","useTranslation","useRouter","useQueryClient","React","useMemo","useState","useForm","Controller","ContextualbarScrollableContent","ContextualbarFooter","ContextualbarTitle","Contextualbar","ContextualbarHeader","ContextualbarClose","useRecordList","AsyncStatePhase","useDepartmentsByUnitsList","useMonitorsList","useRemoveUnit","UnitEdit","_ref","unitData","unitMonitors","unitDepartments","t","router","saveUnit","dispatchToastMessage","queryClient","handleDeleteUnit","_useState","_useState2","monitorsFilter","setMonitorsFilter","debouncedMonitorsFilter","_useState3","_useState4","departmentsFilter","setDepartmentsFilter","debouncedDepartmentsFilter","_useMonitorsList","filter","monitorsList","itemsList","loadMoreMonitors","loadMoreItems","_useRecordList","monitorsPhase","phase","monitorsItems","items","monitorsTotal","itemCount","_useDepartmentsByUnit","unitId","_id","departmentsList","loadMoreDepartments","_useRecordList2","departmentsPhase","departmentsItems","departmentsTotal","visibilityOpts","_ref2","currUnitDepartments","map","_ref3","name","value","label","currUnitMonitors","_ref4","monitorId","username","_useForm","mode","values","visibility","departments","monitors","control","_useForm$formState","formState","errors","isDirty","handleSubmit","watch","_watch","departmentsOptions","pending","_ref5","find","dep","mappedDepartmentsItems","_ref6","concat","monitorsOptions","_ref7","mon","mappedMonitorsItems","_ref8","handleSave","_callee","_ref9","departmentsData","monitorsData","async","_callee$","_context","prev","next","department","departmentId","monitor","awrap","type","message","invalidateQueries","navigate","t0","stop","Promise","formId","nameField","visibilityField","departmentsField","monitorsField","createElement","onClick","id","is","autoComplete","onSubmit","htmlFor","required","rules","field","render","_ref10","_errors$name","error","Boolean","_ref11","_errors$visibility","options","placeholder","_ref12","_ref12$field","onChange","onBlur","withTitle","setFilter","endReached","LOADING","undefined","start","Math","min","renderItem","_ref13","props","_excluded","style","whiteSpace","selected","some","item","_ref14","_ref14$field","_ref15","_excluded2","stretch","form","disabled","primary","mbs","icon","danger","exportDefault"],"sources":["client/omnichannel/units/UnitEdit.tsx"],"sourcesContent":["import type { ILivechatDepartment, ILivechatUnitMonitor, Serialized, IOmnichannelBusinessUnit } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tFieldError,\n\tField,\n\tTextInput,\n\tButton,\n\tPaginatedMultiSelectFiltered,\n\tSelect,\n\tButtonGroup,\n\tFieldGroup,\n\tBox,\n\tFieldLabel,\n\tFieldRow,\n\tCheckOption,\n} from '@rocket.chat/fuselage';\nimport { useMutableCallback, useDebouncedValue, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo, useState } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport {\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarTitle,\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarClose,\n} from '../../components/Contextualbar';\nimport { useRecordList } from '../../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../hooks/useAsyncState';\nimport { useDepartmentsByUnitsList } from '../../views/hooks/useDepartmentsByUnitsList';\nimport { useMonitorsList } from '../../views/hooks/useMonitorsList';\nimport { useRemoveUnit } from './useRemoveUnit';\n\ntype UnitEditProps = {\n\tunitData?: Serialized<IOmnichannelBusinessUnit>;\n\tunitMonitors?: Serialized<ILivechatUnitMonitor>[];\n\tunitDepartments?: Serialized<ILivechatDepartment>[];\n};\n\nconst UnitEdit = ({ unitData, unitMonitors, unitDepartments }: UnitEditProps) => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst saveUnit = useMethod('livechat:saveUnit');\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst queryClient = useQueryClient();\n\n\tconst handleDeleteUnit = useRemoveUnit();\n\n\tconst [monitorsFilter, setMonitorsFilter] = useState('');\n\tconst debouncedMonitorsFilter = useDebouncedValue(monitorsFilter, 500);\n\n\tconst [departmentsFilter, setDepartmentsFilter] = useState('');\n\tconst debouncedDepartmentsFilter = useDebouncedValue(departmentsFilter, 500);\n\n\tconst { itemsList: monitorsList, loadMoreItems: loadMoreMonitors } = useMonitorsList(\n\t\tuseMemo(() => ({ filter: debouncedMonitorsFilter }), [debouncedMonitorsFilter]),\n\t);\n\n\tconst { phase: monitorsPhase, items: monitorsItems, itemCount: monitorsTotal } = useRecordList(monitorsList);\n\n\tconst { itemsList: departmentsList, loadMoreItems: loadMoreDepartments } = useDepartmentsByUnitsList(\n\t\tuseMemo(() => ({ filter: debouncedDepartmentsFilter, unitId: unitData?._id }), [debouncedDepartmentsFilter, unitData?._id]),\n\t);\n\n\tconst { phase: departmentsPhase, items: departmentsItems, itemCount: departmentsTotal } = useRecordList(departmentsList);\n\n\tconst visibilityOpts: SelectOption[] = [\n\t\t['public', t('Public')],\n\t\t['private', t('Private')],\n\t];\n\n\tconst { _id } = unitData || {};\n\n\tconst currUnitDepartments = useMemo(\n\t\t() =>\n\t\t\tunitDepartments?.map(({ _id, name }) => ({\n\t\t\t\tvalue: _id,\n\t\t\t\tlabel: name,\n\t\t\t})) || [],\n\t\t[unitDepartments],\n\t);\n\n\tconst currUnitMonitors = useMemo(\n\t\t() =>\n\t\t\tunitMonitors?.map(({ monitorId, username }) => ({\n\t\t\t\tvalue: monitorId,\n\t\t\t\tlabel: username,\n\t\t\t})) || [],\n\t\t[unitMonitors],\n\t);\n\n\tconst {\n\t\tcontrol,\n\t\tformState: { errors, isDirty },\n\t\thandleSubmit,\n\t\twatch,\n\t} = useForm({\n\t\tmode: 'onBlur',\n\t\tvalues: {\n\t\t\tname: unitData?.name || '',\n\t\t\tvisibility: unitData?.visibility || '',\n\t\t\tdepartments: currUnitDepartments,\n\t\t\tmonitors: currUnitMonitors,\n\t\t},\n\t});\n\n\tconst { departments, monitors } = watch();\n\n\tconst departmentsOptions = useMemo(() => {\n\t\tconst pending = departments.filter(({ value }) => !departmentsItems.find((dep) => dep._id === value));\n\t\tconst mappedDepartmentsItems = departmentsItems?.map(({ _id, name }) => ({\n\t\t\tvalue: _id,\n\t\t\tlabel: name,\n\t\t}));\n\t\treturn [...mappedDepartmentsItems, ...pending];\n\t}, [departments, departmentsItems]);\n\n\tconst monitorsOptions = useMemo(() => {\n\t\tconst pending = monitors.filter(({ value }) => !monitorsItems.find((mon) => mon._id === value));\n\t\tconst mappedMonitorsItems = monitorsItems?.map(({ _id, name }) => ({\n\t\t\tvalue: _id,\n\t\t\tlabel: name,\n\t\t}));\n\t\treturn [...mappedMonitorsItems, ...pending];\n\t}, [monitors, monitorsItems]);\n\n\tconst handleSave = useMutableCallback(async ({ name, visibility }) => {\n\t\tconst departmentsData = departments.map((department) => ({ departmentId: department.value }));\n\n\t\tconst monitorsData = monitors.map((monitor) => ({\n\t\t\tmonitorId: monitor.value,\n\t\t\tusername: monitor.label,\n\t\t}));\n\n\t\ttry {\n\t\t\tawait saveUnit(_id as unknown as string, { name, visibility }, monitorsData, departmentsData);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-units']);\n\t\t\trouter.navigate('/omnichannel/units');\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst formId = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst visibilityField = useUniqueId();\n\tconst departmentsField = useUniqueId();\n\tconst monitorsField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar data-qa-id='units-contextual-bar'>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{_id ? t('Edit_Unit') : t('New_Unit')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/units')}></ContextualbarClose>\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box id={formId} is='form' autoComplete='off' onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Name') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\tid={nameField}\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\terror={errors?.name?.message}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${nameField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.name)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.name.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={visibilityField} required>\n\t\t\t\t\t\t\t\t{t('Visibility')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='visibility'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Visibility') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\tid={visibilityField}\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\toptions={visibilityOpts}\n\t\t\t\t\t\t\t\t\t\t\terror={errors?.visibility?.message}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${visibilityField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.visibility)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.visibility && <FieldError id={`${visibilityField}-error`}>{errors?.visibility.message}</FieldError>}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={departmentsField} required>\n\t\t\t\t\t\t\t\t{t('Departments')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='departments'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Departments') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field: { name, value, onChange, onBlur } }) => (\n\t\t\t\t\t\t\t\t\t\t<PaginatedMultiSelectFiltered\n\t\t\t\t\t\t\t\t\t\t\tid={departmentsField}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\twithTitle\n\t\t\t\t\t\t\t\t\t\t\tfilter={departmentsFilter}\n\t\t\t\t\t\t\t\t\t\t\tsetFilter={setDepartmentsFilter}\n\t\t\t\t\t\t\t\t\t\t\toptions={departmentsOptions}\n\t\t\t\t\t\t\t\t\t\t\terror={Boolean(errors?.departments)}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\tendReached={\n\t\t\t\t\t\t\t\t\t\t\t\tdepartmentsPhase === AsyncStatePhase.LOADING\n\t\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t\t: (start) => start && loadMoreDepartments(start, Math.min(50, departmentsTotal))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${departmentsField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.departments)}\n\t\t\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckOption\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={<span style={{ whiteSpace: 'normal' }}>{label}</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected={value.some((item) => item.value === props.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.departments && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${departmentsField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.departments.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={monitorsField} required>\n\t\t\t\t\t\t\t\t{t('Monitors')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='monitors'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Monitors') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field: { name, value, onChange, onBlur } }) => (\n\t\t\t\t\t\t\t\t\t\t<PaginatedMultiSelectFiltered\n\t\t\t\t\t\t\t\t\t\t\tid={monitorsField}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\twithTitle\n\t\t\t\t\t\t\t\t\t\t\tfilter={monitorsFilter}\n\t\t\t\t\t\t\t\t\t\t\tsetFilter={setMonitorsFilter}\n\t\t\t\t\t\t\t\t\t\t\toptions={monitorsOptions}\n\t\t\t\t\t\t\t\t\t\t\terror={Boolean(errors?.monitors)}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\tendReached={\n\t\t\t\t\t\t\t\t\t\t\t\tmonitorsPhase === AsyncStatePhase.LOADING\n\t\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t\t: (start) => start && loadMoreMonitors(start, Math.min(50, monitorsTotal))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${monitorsField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.monitors)}\n\t\t\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckOption {...props} label={label} selected={value.some((item) => item.value === props.value)} />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.monitors && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${monitorsField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.monitors.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/units')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} disabled={!isDirty} type='submit' primary>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{_id && (\n\t\t\t\t\t<Box mbs={8}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button icon='trash' danger onClick={() => handleDeleteUnit(_id)}>\n\t\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default UnitEdit;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"5bf4cb1cc7f1131e683c81f1904dcdd80976de55"}
