{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/analytics/AnalyticsPage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/omnichannel/analytics/AnalyticsPage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/analytics/AnalyticsPage.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/analytics/AnalyticsPage.tsx","sourceRoot":"","sources":["client/views/omnichannel/analytics/AnalyticsPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { SelectOption } from '@rocket.chat/fuselage';\nimport { Box, Select, Margins, Field, FieldLabel, FieldRow, Label, Option } from '@rocket.chat/fuselage';\nimport React, { useMemo, useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport AgentOverview from './AgentOverview';\nimport DateRangePicker from './DateRangePicker';\nimport InterchangeableChart from './InterchangeableChart';\nimport Overview from './Overview';\nimport AutoCompleteDepartment from '../../../components/AutoCompleteDepartment';\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\n\nconst useOptions = (type: string): SelectOption[] => {\n\tconst { t } = useTranslation();\n\treturn useMemo(() => {\n\t\tif (type === 'Conversations') {\n\t\t\treturn [\n\t\t\t\t['Total_conversations', t('Total_conversations')],\n\t\t\t\t['Avg_chat_duration', t('Avg_chat_duration')],\n\t\t\t\t['Total_messages', t('Total_messages')],\n\t\t\t];\n\t\t}\n\t\treturn [\n\t\t\t['Avg_first_response_time', t('Avg_first_response_time')],\n\t\t\t['Best_first_response_time', t('Best_first_response_time')],\n\t\t\t['Avg_response_time', t('Avg_response_time')],\n\t\t\t['Avg_reaction_time', t('Avg_reaction_time')],\n\t\t];\n\t}, [t, type]);\n};\n\nconst AnalyticsPage = () => {\n\tconst { t } = useTranslation();\n\tconst [type, setType] = useState('Conversations');\n\tconst [department, setDepartment] = useState<string | null>(null);\n\tconst [dateRange, setDateRange] = useState({ start: '', end: '' });\n\tconst [chartName, setChartName] = useState<string | undefined>();\n\n\tconst typeOptions: SelectOption[] = useMemo(\n\t\t() => [\n\t\t\t['Conversations', t('Conversations')],\n\t\t\t['Productivity', t('Productivity')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst graphOptions: SelectOption[] = useOptions(type);\n\n\tuseEffect(() => {\n\t\tsetChartName(graphOptions[0][0]);\n\t}, [graphOptions]);\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Analytics')} />\n\t\t\t<PageScrollableContentWithShadow display='flex' flexDirection='column'>\n\t\t\t\t<Margins block={4}>\n\t\t\t\t\t<Box display='flex' mi='neg-x4' flexWrap='wrap' flexGrow={1}>\n\t\t\t\t\t\t<Box display='flex' flexWrap='wrap' flexGrow={1}>\n\t\t\t\t\t\t\t<Box display='flex' mi={4} flexDirection='column' flexGrow={1}>\n\t\t\t\t\t\t\t\t<Label mb={4}>{t('Type')}</Label>\n\t\t\t\t\t\t\t\t<Select options={typeOptions} value={type} onChange={(value) => setType(String(value))} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display='flex' mi={4} flexDirection='column' flexGrow={1}>\n\t\t\t\t\t\t\t\t<Label mb={4}>{t('Departments')}</Label>\n\t\t\t\t\t\t\t\t<AutoCompleteDepartment\n\t\t\t\t\t\t\t\t\tvalue={department || undefined}\n\t\t\t\t\t\t\t\t\tonChange={setDepartment}\n\t\t\t\t\t\t\t\t\tonlyMyDepartments\n\t\t\t\t\t\t\t\t\twithTitle={false}\n\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => <Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<DateRangePicker flexGrow={1} mi={4} onChange={setDateRange} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Overview type={type} dateRange={dateRange} departmentId={department || ''} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex'>\n\t\t\t\t\t\t<Margins inline={2}>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel>{t('Chart')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Select options={graphOptions} value={chartName} onChange={(value) => setChartName(String(value))} />\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex' flexGrow={1} flexShrink={1}>\n\t\t\t\t\t\t<InterchangeableChart\n\t\t\t\t\t\t\tflexShrink={1}\n\t\t\t\t\t\t\tw='66%'\n\t\t\t\t\t\t\th='100%'\n\t\t\t\t\t\t\tchartName={chartName || ''}\n\t\t\t\t\t\t\tdepartmentId={department || ''}\n\t\t\t\t\t\t\tdateRange={dateRange}\n\t\t\t\t\t\t\talignSelf='stretch'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box display='flex' w='33%' justifyContent='stretch' p={10} mis={4}>\n\t\t\t\t\t\t\t<AgentOverview type={chartName || ''} dateRange={dateRange} departmentId={department || ''} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Margins>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t</Page>\n\t);\n};\n\nexport default AnalyticsPage;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/analytics/AnalyticsPage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/omnichannel/analytics/AnalyticsPage.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/analytics/AnalyticsPage.tsx","sourceRoot":"","sources":["client/views/omnichannel/analytics/AnalyticsPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { SelectOption } from '@rocket.chat/fuselage';\nimport { Box, Select, Margins, Field, FieldLabel, FieldRow, Label, Option } from '@rocket.chat/fuselage';\nimport React, { useMemo, useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport AgentOverview from './AgentOverview';\nimport DateRangePicker from './DateRangePicker';\nimport InterchangeableChart from './InterchangeableChart';\nimport Overview from './Overview';\nimport AutoCompleteDepartment from '../../../components/AutoCompleteDepartment';\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\n\nconst useOptions = (type: string): SelectOption[] => {\n\tconst { t } = useTranslation();\n\treturn useMemo(() => {\n\t\tif (type === 'Conversations') {\n\t\t\treturn [\n\t\t\t\t['Total_conversations', t('Total_conversations')],\n\t\t\t\t['Avg_chat_duration', t('Avg_chat_duration')],\n\t\t\t\t['Total_messages', t('Total_messages')],\n\t\t\t];\n\t\t}\n\t\treturn [\n\t\t\t['Avg_first_response_time', t('Avg_first_response_time')],\n\t\t\t['Best_first_response_time', t('Best_first_response_time')],\n\t\t\t['Avg_response_time', t('Avg_response_time')],\n\t\t\t['Avg_reaction_time', t('Avg_reaction_time')],\n\t\t];\n\t}, [t, type]);\n};\n\nconst AnalyticsPage = () => {\n\tconst { t } = useTranslation();\n\tconst [type, setType] = useState('Conversations');\n\tconst [department, setDepartment] = useState<string | null>(null);\n\tconst [dateRange, setDateRange] = useState({ start: '', end: '' });\n\tconst [chartName, setChartName] = useState<string | undefined>();\n\n\tconst typeOptions: SelectOption[] = useMemo(\n\t\t() => [\n\t\t\t['Conversations', t('Conversations')],\n\t\t\t['Productivity', t('Productivity')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst graphOptions: SelectOption[] = useOptions(type);\n\n\tuseEffect(() => {\n\t\tsetChartName(graphOptions[0][0]);\n\t}, [graphOptions]);\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Analytics')} />\n\t\t\t<PageScrollableContentWithShadow display='flex' flexDirection='column'>\n\t\t\t\t<Margins block={4}>\n\t\t\t\t\t<Box display='flex' mi='neg-x4' flexWrap='wrap' flexGrow={1}>\n\t\t\t\t\t\t<Box display='flex' flexWrap='wrap' flexGrow={1}>\n\t\t\t\t\t\t\t<Box display='flex' mi={4} flexDirection='column' flexGrow={1}>\n\t\t\t\t\t\t\t\t<Label mb={4}>{t('Type')}</Label>\n\t\t\t\t\t\t\t\t<Select options={typeOptions} value={type} onChange={(value) => setType(String(value))} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display='flex' mi={4} flexDirection='column' flexGrow={1}>\n\t\t\t\t\t\t\t\t<Label mb={4}>{t('Departments')}</Label>\n\t\t\t\t\t\t\t\t<AutoCompleteDepartment\n\t\t\t\t\t\t\t\t\tvalue={department || undefined}\n\t\t\t\t\t\t\t\t\tonChange={setDepartment}\n\t\t\t\t\t\t\t\t\tonlyMyDepartments\n\t\t\t\t\t\t\t\t\twithTitle={false}\n\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => <Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<DateRangePicker flexGrow={1} mi={4} onChange={setDateRange} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Overview type={type} dateRange={dateRange} departmentId={department || ''} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex'>\n\t\t\t\t\t\t<Margins inline={2}>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel>{t('Chart')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Select options={graphOptions} value={chartName} onChange={(value) => setChartName(String(value))} />\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex' flexGrow={1} flexShrink={1}>\n\t\t\t\t\t\t<InterchangeableChart\n\t\t\t\t\t\t\tflexShrink={1}\n\t\t\t\t\t\t\tw='66%'\n\t\t\t\t\t\t\th='100%'\n\t\t\t\t\t\t\tchartName={chartName || ''}\n\t\t\t\t\t\t\tdepartmentId={department || ''}\n\t\t\t\t\t\t\tdateRange={dateRange}\n\t\t\t\t\t\t\talignSelf='stretch'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box display='flex' w='33%' justifyContent='stretch' p={10} mis={4}>\n\t\t\t\t\t\t\t<AgentOverview type={chartName || ''} dateRange={dateRange} departmentId={department || ''} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Margins>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t</Page>\n\t);\n};\n\nexport default AnalyticsPage;\n"]}}},"code":"const _excluded = [\"label\"];\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 1);\nlet Box, Select, Margins, Field, FieldLabel, FieldRow, Label, Option;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box(v) {\n    Box = v;\n  },\n  Select(v) {\n    Select = v;\n  },\n  Margins(v) {\n    Margins = v;\n  },\n  Field(v) {\n    Field = v;\n  },\n  FieldLabel(v) {\n    FieldLabel = v;\n  },\n  FieldRow(v) {\n    FieldRow = v;\n  },\n  Label(v) {\n    Label = v;\n  },\n  Option(v) {\n    Option = v;\n  }\n}, 0);\nlet React, useMemo, useState, useEffect;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  },\n  useState(v) {\n    useState = v;\n  },\n  useEffect(v) {\n    useEffect = v;\n  }\n}, 1);\nlet useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 2);\nlet AgentOverview;\nmodule.link(\"./AgentOverview\", {\n  default(v) {\n    AgentOverview = v;\n  }\n}, 3);\nlet DateRangePicker;\nmodule.link(\"./DateRangePicker\", {\n  default(v) {\n    DateRangePicker = v;\n  }\n}, 4);\nlet InterchangeableChart;\nmodule.link(\"./InterchangeableChart\", {\n  default(v) {\n    InterchangeableChart = v;\n  }\n}, 5);\nlet Overview;\nmodule.link(\"./Overview\", {\n  default(v) {\n    Overview = v;\n  }\n}, 6);\nlet AutoCompleteDepartment;\nmodule.link(\"../../../components/AutoCompleteDepartment\", {\n  default(v) {\n    AutoCompleteDepartment = v;\n  }\n}, 7);\nlet Page, PageHeader, PageScrollableContentWithShadow;\nmodule.link(\"../../../components/Page\", {\n  Page(v) {\n    Page = v;\n  },\n  PageHeader(v) {\n    PageHeader = v;\n  },\n  PageScrollableContentWithShadow(v) {\n    PageScrollableContentWithShadow = v;\n  }\n}, 8);\nconst useOptions = type => {\n  const {\n    t\n  } = useTranslation();\n  return useMemo(() => {\n    if (type === 'Conversations') {\n      return [['Total_conversations', t('Total_conversations')], ['Avg_chat_duration', t('Avg_chat_duration')], ['Total_messages', t('Total_messages')]];\n    }\n    return [['Avg_first_response_time', t('Avg_first_response_time')], ['Best_first_response_time', t('Best_first_response_time')], ['Avg_response_time', t('Avg_response_time')], ['Avg_reaction_time', t('Avg_reaction_time')]];\n  }, [t, type]);\n};\nconst AnalyticsPage = () => {\n  const {\n    t\n  } = useTranslation();\n  const [type, setType] = useState('Conversations');\n  const [department, setDepartment] = useState(null);\n  const [dateRange, setDateRange] = useState({\n    start: '',\n    end: ''\n  });\n  const [chartName, setChartName] = useState();\n  const typeOptions = useMemo(() => [['Conversations', t('Conversations')], ['Productivity', t('Productivity')]], [t]);\n  const graphOptions = useOptions(type);\n  useEffect(() => {\n    setChartName(graphOptions[0][0]);\n  }, [graphOptions]);\n  return /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: t('Analytics')\n  }), /*#__PURE__*/React.createElement(PageScrollableContentWithShadow, {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }, /*#__PURE__*/React.createElement(Margins, {\n    block: 4\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    mi: \"neg-x4\",\n    flexWrap: \"wrap\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    mi: 4,\n    flexDirection: \"column\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Label, {\n    mb: 4\n  }, t('Type')), /*#__PURE__*/React.createElement(Select, {\n    options: typeOptions,\n    value: type,\n    onChange: value => setType(String(value))\n  })), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    mi: 4,\n    flexDirection: \"column\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Label, {\n    mb: 4\n  }, t('Departments')), /*#__PURE__*/React.createElement(AutoCompleteDepartment, {\n    value: department || undefined,\n    onChange: setDepartment,\n    onlyMyDepartments: true,\n    withTitle: false,\n    renderItem: _ref => {\n      let {\n          label\n        } = _ref,\n        props = _objectWithoutProperties(_ref, _excluded);\n      return /*#__PURE__*/React.createElement(Option, _extends({}, props, {\n        label: /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            whiteSpace: 'normal'\n          }\n        }, label)\n      }));\n    }\n  }))), /*#__PURE__*/React.createElement(DateRangePicker, {\n    flexGrow: 1,\n    mi: 4,\n    onChange: setDateRange\n  })), /*#__PURE__*/React.createElement(Box, null, /*#__PURE__*/React.createElement(Overview, {\n    type: type,\n    dateRange: dateRange,\n    departmentId: department || ''\n  })), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\"\n  }, /*#__PURE__*/React.createElement(Margins, {\n    inline: 2\n  }, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, null, t('Chart')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Select, {\n    options: graphOptions,\n    value: chartName,\n    onChange: value => setChartName(String(value))\n  }))))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexGrow: 1,\n    flexShrink: 1\n  }, /*#__PURE__*/React.createElement(InterchangeableChart, {\n    flexShrink: 1,\n    w: \"66%\",\n    h: \"100%\",\n    chartName: chartName || '',\n    departmentId: department || '',\n    dateRange: dateRange,\n    alignSelf: \"stretch\"\n  }), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    w: \"33%\",\n    justifyContent: \"stretch\",\n    p: 10,\n    mis: 4\n  }, /*#__PURE__*/React.createElement(AgentOverview, {\n    type: chartName || '',\n    dateRange: dateRange,\n    departmentId: department || ''\n  }))))));\n};\nmodule.exportDefault(AnalyticsPage);","map":{"version":3,"names":["_extends","module","link","default","v","_objectWithoutProperties","Box","Select","Margins","Field","FieldLabel","FieldRow","Label","Option","React","useMemo","useState","useEffect","useTranslation","AgentOverview","DateRangePicker","InterchangeableChart","Overview","AutoCompleteDepartment","Page","PageHeader","PageScrollableContentWithShadow","useOptions","type","t","AnalyticsPage","setType","department","setDepartment","dateRange","setDateRange","start","end","chartName","setChartName","typeOptions","graphOptions","createElement","title","display","flexDirection","block","mi","flexWrap","flexGrow","mb","options","value","onChange","String","undefined","onlyMyDepartments","withTitle","renderItem","_ref","label","props","_excluded","style","whiteSpace","departmentId","inline","flexShrink","w","h","alignSelf","justifyContent","p","mis","exportDefault"],"sources":["client/views/omnichannel/analytics/AnalyticsPage.tsx"],"sourcesContent":["import type { SelectOption } from '@rocket.chat/fuselage';\nimport { Box, Select, Margins, Field, FieldLabel, FieldRow, Label, Option } from '@rocket.chat/fuselage';\nimport React, { useMemo, useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport AgentOverview from './AgentOverview';\nimport DateRangePicker from './DateRangePicker';\nimport InterchangeableChart from './InterchangeableChart';\nimport Overview from './Overview';\nimport AutoCompleteDepartment from '../../../components/AutoCompleteDepartment';\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\n\nconst useOptions = (type: string): SelectOption[] => {\n\tconst { t } = useTranslation();\n\treturn useMemo(() => {\n\t\tif (type === 'Conversations') {\n\t\t\treturn [\n\t\t\t\t['Total_conversations', t('Total_conversations')],\n\t\t\t\t['Avg_chat_duration', t('Avg_chat_duration')],\n\t\t\t\t['Total_messages', t('Total_messages')],\n\t\t\t];\n\t\t}\n\t\treturn [\n\t\t\t['Avg_first_response_time', t('Avg_first_response_time')],\n\t\t\t['Best_first_response_time', t('Best_first_response_time')],\n\t\t\t['Avg_response_time', t('Avg_response_time')],\n\t\t\t['Avg_reaction_time', t('Avg_reaction_time')],\n\t\t];\n\t}, [t, type]);\n};\n\nconst AnalyticsPage = () => {\n\tconst { t } = useTranslation();\n\tconst [type, setType] = useState('Conversations');\n\tconst [department, setDepartment] = useState<string | null>(null);\n\tconst [dateRange, setDateRange] = useState({ start: '', end: '' });\n\tconst [chartName, setChartName] = useState<string | undefined>();\n\n\tconst typeOptions: SelectOption[] = useMemo(\n\t\t() => [\n\t\t\t['Conversations', t('Conversations')],\n\t\t\t['Productivity', t('Productivity')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst graphOptions: SelectOption[] = useOptions(type);\n\n\tuseEffect(() => {\n\t\tsetChartName(graphOptions[0][0]);\n\t}, [graphOptions]);\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Analytics')} />\n\t\t\t<PageScrollableContentWithShadow display='flex' flexDirection='column'>\n\t\t\t\t<Margins block={4}>\n\t\t\t\t\t<Box display='flex' mi='neg-x4' flexWrap='wrap' flexGrow={1}>\n\t\t\t\t\t\t<Box display='flex' flexWrap='wrap' flexGrow={1}>\n\t\t\t\t\t\t\t<Box display='flex' mi={4} flexDirection='column' flexGrow={1}>\n\t\t\t\t\t\t\t\t<Label mb={4}>{t('Type')}</Label>\n\t\t\t\t\t\t\t\t<Select options={typeOptions} value={type} onChange={(value) => setType(String(value))} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display='flex' mi={4} flexDirection='column' flexGrow={1}>\n\t\t\t\t\t\t\t\t<Label mb={4}>{t('Departments')}</Label>\n\t\t\t\t\t\t\t\t<AutoCompleteDepartment\n\t\t\t\t\t\t\t\t\tvalue={department || undefined}\n\t\t\t\t\t\t\t\t\tonChange={setDepartment}\n\t\t\t\t\t\t\t\t\tonlyMyDepartments\n\t\t\t\t\t\t\t\t\twithTitle={false}\n\t\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => <Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<DateRangePicker flexGrow={1} mi={4} onChange={setDateRange} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Overview type={type} dateRange={dateRange} departmentId={department || ''} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex'>\n\t\t\t\t\t\t<Margins inline={2}>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel>{t('Chart')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Select options={graphOptions} value={chartName} onChange={(value) => setChartName(String(value))} />\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex' flexGrow={1} flexShrink={1}>\n\t\t\t\t\t\t<InterchangeableChart\n\t\t\t\t\t\t\tflexShrink={1}\n\t\t\t\t\t\t\tw='66%'\n\t\t\t\t\t\t\th='100%'\n\t\t\t\t\t\t\tchartName={chartName || ''}\n\t\t\t\t\t\t\tdepartmentId={department || ''}\n\t\t\t\t\t\t\tdateRange={dateRange}\n\t\t\t\t\t\t\talignSelf='stretch'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box display='flex' w='33%' justifyContent='stretch' p={10} mis={4}>\n\t\t\t\t\t\t\t<AgentOverview type={chartName || ''} dateRange={dateRange} departmentId={department || ''} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Margins>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t</Page>\n\t);\n};\n\nexport default AnalyticsPage;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"684f450743a5120258197bc8d9efe8e2c496158b"}
