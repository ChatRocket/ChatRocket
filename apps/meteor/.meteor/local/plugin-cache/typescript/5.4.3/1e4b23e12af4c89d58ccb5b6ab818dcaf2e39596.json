{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/users/UsersTable/UsersTableRow.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/users/UsersTable/UsersTableRow.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/users/UsersTable/UsersTableRow.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/users/UsersTable/UsersTableRow.tsx","sourceRoot":"","sources":["client/views/admin/users/UsersTable/UsersTableRow.tsx"],"names":[],"mappings":"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","sourcesContent":["import { UserStatus as Status } from '@rocket.chat/core-typings';\nimport type { IRole, IUser, Serialized } from '@rocket.chat/core-typings';\nimport { Box, Button, Menu, Option } from '@rocket.chat/fuselage';\nimport type { DefaultUserInfo } from '@rocket.chat/rest-typings';\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Roles } from '../../../../../app/models/client/models/Roles';\nimport { GenericTableRow, GenericTableCell } from '../../../../components/GenericTable';\nimport { UserStatus } from '../../../../components/UserStatus';\nimport type { AdminUsersTab } from '../AdminUsersPage';\nimport { useChangeAdminStatusAction } from '../hooks/useChangeAdminStatusAction';\nimport { useChangeUserStatusAction } from '../hooks/useChangeUserStatusAction';\nimport { useDeleteUserAction } from '../hooks/useDeleteUserAction';\nimport { useResetE2EEKeyAction } from '../hooks/useResetE2EEKeyAction';\nimport { useResetTOTPAction } from '../hooks/useResetTOTPAction';\nimport { useSendWelcomeEmailMutation } from '../hooks/useSendWelcomeEmailMutation';\nimport { useVoipExtensionAction } from '../voip/hooks/useVoipExtensionAction';\n\ntype UsersTableRowProps = {\n\tuser: Serialized<DefaultUserInfo>;\n\ttab: AdminUsersTab;\n\tisMobile: boolean;\n\tisLaptop: boolean;\n\tonReload: () => void;\n\tonClick: (id: IUser['_id'], e: React.MouseEvent<HTMLElement, MouseEvent> | React.KeyboardEvent<HTMLElement>) => void;\n\tisSeatsCapExceeded: boolean;\n\tshowVoipExtension: boolean;\n};\n\nconst UsersTableRow = ({\n\tuser,\n\ttab,\n\tisMobile,\n\tisLaptop,\n\tisSeatsCapExceeded,\n\tshowVoipExtension,\n\tonClick,\n\tonReload,\n}: UsersTableRowProps): ReactElement => {\n\tconst { t } = useTranslation();\n\n\tconst { _id, emails, username = '', name = '', roles, status, active, avatarETag, lastLogin, type, freeSwitchExtension } = user;\n\tconst registrationStatusText = useMemo(() => {\n\t\tconst usersExcludedFromPending = ['bot', 'app'];\n\n\t\tif (!lastLogin && !usersExcludedFromPending.includes(type)) {\n\t\t\treturn t('Pending');\n\t\t}\n\n\t\tif (active && lastLogin) {\n\t\t\treturn t('Active');\n\t\t}\n\n\t\tif (!active && lastLogin) {\n\t\t\treturn t('Deactivated');\n\t\t}\n\t}, [active, lastLogin, t, type]);\n\n\tconst roleNames = (roles || [])\n\t\t.map((roleId) => (Roles.findOne(roleId, { fields: { name: 1 } }) as IRole | undefined)?.name)\n\t\t.filter((roleName): roleName is string => !!roleName)\n\t\t.join(', ');\n\n\tconst userId = user._id;\n\tconst isAdmin = user.roles?.includes('admin');\n\tconst isActive = user.active;\n\tconst isFederatedUser = !!user.federated;\n\n\tconst changeAdminStatusAction = useChangeAdminStatusAction(userId, isAdmin, onReload);\n\tconst changeUserStatusAction = useChangeUserStatusAction(userId, isActive, onReload);\n\tconst deleteUserAction = useDeleteUserAction(userId, onReload, onReload);\n\tconst resetTOTPAction = useResetTOTPAction(userId);\n\tconst resetE2EKeyAction = useResetE2EEKeyAction(userId);\n\tconst resendWelcomeEmail = useSendWelcomeEmailMutation();\n\tconst voipExtensionAction = useVoipExtensionAction({\n\t\tenabled: showVoipExtension,\n\t\textension: freeSwitchExtension,\n\t\tusername,\n\t\tname,\n\t});\n\n\tconst isNotPendingDeactivatedNorFederated = tab !== 'pending' && tab !== 'deactivated' && !isFederatedUser;\n\tconst menuOptions = useMemo(\n\t\t() => ({\n\t\t\t...(voipExtensionAction && {\n\t\t\t\tvoipExtensionAction: {\n\t\t\t\t\tlabel: { label: voipExtensionAction.label, icon: voipExtensionAction.icon },\n\t\t\t\t\taction: voipExtensionAction.action,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...(isNotPendingDeactivatedNorFederated &&\n\t\t\t\tchangeAdminStatusAction && {\n\t\t\t\t\tmakeAdmin: {\n\t\t\t\t\t\tlabel: { label: changeAdminStatusAction.label, icon: changeAdminStatusAction.icon },\n\t\t\t\t\t\taction: changeAdminStatusAction.action,\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t...(isNotPendingDeactivatedNorFederated &&\n\t\t\t\tresetE2EKeyAction && {\n\t\t\t\t\tresetE2EKey: { label: { label: resetE2EKeyAction.label, icon: resetE2EKeyAction.icon }, action: resetE2EKeyAction.action },\n\t\t\t\t}),\n\t\t\t...(isNotPendingDeactivatedNorFederated &&\n\t\t\t\tresetTOTPAction && {\n\t\t\t\t\tresetTOTP: { label: { label: resetTOTPAction.label, icon: resetTOTPAction.icon }, action: resetTOTPAction.action },\n\t\t\t\t}),\n\t\t\t...(changeUserStatusAction &&\n\t\t\t\t!isFederatedUser && {\n\t\t\t\t\tchangeActiveStatus: {\n\t\t\t\t\t\tlabel: { label: changeUserStatusAction.label, icon: changeUserStatusAction.icon },\n\t\t\t\t\t\taction: changeUserStatusAction.action,\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t...(deleteUserAction && {\n\t\t\t\tdelete: { label: { label: deleteUserAction.label, icon: deleteUserAction.icon }, action: deleteUserAction.action },\n\t\t\t}),\n\t\t}),\n\t\t[\n\t\t\tchangeAdminStatusAction,\n\t\t\tchangeUserStatusAction,\n\t\t\tdeleteUserAction,\n\t\t\tisFederatedUser,\n\t\t\tisNotPendingDeactivatedNorFederated,\n\t\t\tresetE2EKeyAction,\n\t\t\tresetTOTPAction,\n\t\t\tvoipExtensionAction,\n\t\t],\n\t);\n\n\tconst handleResendWelcomeEmail = () => resendWelcomeEmail.mutateAsync({ email: emails?.[0].address });\n\n\treturn (\n\t\t<GenericTableRow\n\t\t\tonKeyDown={(e): void => onClick(_id, e)}\n\t\t\tonClick={(e): void => onClick(_id, e)}\n\t\t\ttabIndex={0}\n\t\t\trole='link'\n\t\t\taction\n\t\t\tqa-user-id={_id}\n\t\t>\n\t\t\t<GenericTableCell withTruncatedText>\n\t\t\t\t<Box display='flex' alignItems='center'>\n\t\t\t\t\t{username && <UserAvatar size={isMobile || isLaptop ? 'x28' : 'x40'} username={username} etag={avatarETag} />}\n\t\t\t\t\t<Box display='flex' flexGrow={1} flexShrink={1} flexBasis='0%' alignSelf='center' alignItems='center' withTruncatedText>\n\t\t\t\t\t\t<Box mi={8}>\n\t\t\t\t\t\t\t<UserStatus status={status || Status.OFFLINE} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box fontScale='p2' withTruncatedText>\n\t\t\t\t\t\t\t{name || username}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box fontScale='p2m' color='hint' withTruncatedText>\n\t\t\t\t\t{username}\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\n\t\t\t{!isLaptop && <GenericTableCell withTruncatedText>{emails?.length && emails[0].address}</GenericTableCell>}\n\n\t\t\t{!isLaptop && <GenericTableCell withTruncatedText>{roleNames}</GenericTableCell>}\n\n\t\t\t{tab === 'all' && !isMobile && (\n\t\t\t\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t\t\t{registrationStatusText}\n\t\t\t\t</GenericTableCell>\n\t\t\t)}\n\n\t\t\t{tab === 'pending' && !isMobile && (\n\t\t\t\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignContent='flex-end'>\n\t\t\t\t\t\t{active ? t('User_first_log_in') : t('Activation')}\n\t\t\t\t\t</Box>\n\t\t\t\t</GenericTableCell>\n\t\t\t)}\n\n\t\t\t{tab === 'all' && showVoipExtension && (\n\t\t\t\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t\t\t{freeSwitchExtension || t('Not_assigned')}\n\t\t\t\t</GenericTableCell>\n\t\t\t)}\n\n\t\t\t<GenericTableCell\n\t\t\t\tonClick={(e): void => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box display='flex' justifyContent='flex-end'>\n\t\t\t\t\t{tab === 'pending' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{active ? (\n\t\t\t\t\t\t\t\t<Button small secondary onClick={handleResendWelcomeEmail}>\n\t\t\t\t\t\t\t\t\t{t('Resend_welcome_email')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Button small primary onClick={changeUserStatusAction?.action} disabled={isSeatsCapExceeded}>\n\t\t\t\t\t\t\t\t\t{t('Activate')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Menu\n\t\t\t\t\t\tmi={4}\n\t\t\t\t\t\tplacement='bottom-start'\n\t\t\t\t\t\tflexShrink={0}\n\t\t\t\t\t\tkey='menu'\n\t\t\t\t\t\taria-label={t('More_actions')}\n\t\t\t\t\t\ttitle={t('More_actions')}\n\t\t\t\t\t\trenderItem={({ label: { label, icon }, ...props }): ReactElement => (\n\t\t\t\t\t\t\t<Option label={label} title={label} icon={icon} variant={label === 'Delete' ? 'danger' : ''} {...props} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\toptions={menuOptions}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default UsersTableRow;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/users/UsersTable/UsersTableRow.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/users/UsersTable/UsersTableRow.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/users/UsersTable/UsersTableRow.tsx","sourceRoot":"","sources":["client/views/admin/users/UsersTable/UsersTableRow.tsx"],"names":[],"mappings":"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","sourcesContent":["import { UserStatus as Status } from '@rocket.chat/core-typings';\nimport type { IRole, IUser, Serialized } from '@rocket.chat/core-typings';\nimport { Box, Button, Menu, Option } from '@rocket.chat/fuselage';\nimport type { DefaultUserInfo } from '@rocket.chat/rest-typings';\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Roles } from '../../../../../app/models/client/models/Roles';\nimport { GenericTableRow, GenericTableCell } from '../../../../components/GenericTable';\nimport { UserStatus } from '../../../../components/UserStatus';\nimport type { AdminUsersTab } from '../AdminUsersPage';\nimport { useChangeAdminStatusAction } from '../hooks/useChangeAdminStatusAction';\nimport { useChangeUserStatusAction } from '../hooks/useChangeUserStatusAction';\nimport { useDeleteUserAction } from '../hooks/useDeleteUserAction';\nimport { useResetE2EEKeyAction } from '../hooks/useResetE2EEKeyAction';\nimport { useResetTOTPAction } from '../hooks/useResetTOTPAction';\nimport { useSendWelcomeEmailMutation } from '../hooks/useSendWelcomeEmailMutation';\nimport { useVoipExtensionAction } from '../voip/hooks/useVoipExtensionAction';\n\ntype UsersTableRowProps = {\n\tuser: Serialized<DefaultUserInfo>;\n\ttab: AdminUsersTab;\n\tisMobile: boolean;\n\tisLaptop: boolean;\n\tonReload: () => void;\n\tonClick: (id: IUser['_id'], e: React.MouseEvent<HTMLElement, MouseEvent> | React.KeyboardEvent<HTMLElement>) => void;\n\tisSeatsCapExceeded: boolean;\n\tshowVoipExtension: boolean;\n};\n\nconst UsersTableRow = ({\n\tuser,\n\ttab,\n\tisMobile,\n\tisLaptop,\n\tisSeatsCapExceeded,\n\tshowVoipExtension,\n\tonClick,\n\tonReload,\n}: UsersTableRowProps): ReactElement => {\n\tconst { t } = useTranslation();\n\n\tconst { _id, emails, username = '', name = '', roles, status, active, avatarETag, lastLogin, type, freeSwitchExtension } = user;\n\tconst registrationStatusText = useMemo(() => {\n\t\tconst usersExcludedFromPending = ['bot', 'app'];\n\n\t\tif (!lastLogin && !usersExcludedFromPending.includes(type)) {\n\t\t\treturn t('Pending');\n\t\t}\n\n\t\tif (active && lastLogin) {\n\t\t\treturn t('Active');\n\t\t}\n\n\t\tif (!active && lastLogin) {\n\t\t\treturn t('Deactivated');\n\t\t}\n\t}, [active, lastLogin, t, type]);\n\n\tconst roleNames = (roles || [])\n\t\t.map((roleId) => (Roles.findOne(roleId, { fields: { name: 1 } }) as IRole | undefined)?.name)\n\t\t.filter((roleName): roleName is string => !!roleName)\n\t\t.join(', ');\n\n\tconst userId = user._id;\n\tconst isAdmin = user.roles?.includes('admin');\n\tconst isActive = user.active;\n\tconst isFederatedUser = !!user.federated;\n\n\tconst changeAdminStatusAction = useChangeAdminStatusAction(userId, isAdmin, onReload);\n\tconst changeUserStatusAction = useChangeUserStatusAction(userId, isActive, onReload);\n\tconst deleteUserAction = useDeleteUserAction(userId, onReload, onReload);\n\tconst resetTOTPAction = useResetTOTPAction(userId);\n\tconst resetE2EKeyAction = useResetE2EEKeyAction(userId);\n\tconst resendWelcomeEmail = useSendWelcomeEmailMutation();\n\tconst voipExtensionAction = useVoipExtensionAction({\n\t\tenabled: showVoipExtension,\n\t\textension: freeSwitchExtension,\n\t\tusername,\n\t\tname,\n\t});\n\n\tconst isNotPendingDeactivatedNorFederated = tab !== 'pending' && tab !== 'deactivated' && !isFederatedUser;\n\tconst menuOptions = useMemo(\n\t\t() => ({\n\t\t\t...(voipExtensionAction && {\n\t\t\t\tvoipExtensionAction: {\n\t\t\t\t\tlabel: { label: voipExtensionAction.label, icon: voipExtensionAction.icon },\n\t\t\t\t\taction: voipExtensionAction.action,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...(isNotPendingDeactivatedNorFederated &&\n\t\t\t\tchangeAdminStatusAction && {\n\t\t\t\t\tmakeAdmin: {\n\t\t\t\t\t\tlabel: { label: changeAdminStatusAction.label, icon: changeAdminStatusAction.icon },\n\t\t\t\t\t\taction: changeAdminStatusAction.action,\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t...(isNotPendingDeactivatedNorFederated &&\n\t\t\t\tresetE2EKeyAction && {\n\t\t\t\t\tresetE2EKey: { label: { label: resetE2EKeyAction.label, icon: resetE2EKeyAction.icon }, action: resetE2EKeyAction.action },\n\t\t\t\t}),\n\t\t\t...(isNotPendingDeactivatedNorFederated &&\n\t\t\t\tresetTOTPAction && {\n\t\t\t\t\tresetTOTP: { label: { label: resetTOTPAction.label, icon: resetTOTPAction.icon }, action: resetTOTPAction.action },\n\t\t\t\t}),\n\t\t\t...(changeUserStatusAction &&\n\t\t\t\t!isFederatedUser && {\n\t\t\t\t\tchangeActiveStatus: {\n\t\t\t\t\t\tlabel: { label: changeUserStatusAction.label, icon: changeUserStatusAction.icon },\n\t\t\t\t\t\taction: changeUserStatusAction.action,\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t...(deleteUserAction && {\n\t\t\t\tdelete: { label: { label: deleteUserAction.label, icon: deleteUserAction.icon }, action: deleteUserAction.action },\n\t\t\t}),\n\t\t}),\n\t\t[\n\t\t\tchangeAdminStatusAction,\n\t\t\tchangeUserStatusAction,\n\t\t\tdeleteUserAction,\n\t\t\tisFederatedUser,\n\t\t\tisNotPendingDeactivatedNorFederated,\n\t\t\tresetE2EKeyAction,\n\t\t\tresetTOTPAction,\n\t\t\tvoipExtensionAction,\n\t\t],\n\t);\n\n\tconst handleResendWelcomeEmail = () => resendWelcomeEmail.mutateAsync({ email: emails?.[0].address });\n\n\treturn (\n\t\t<GenericTableRow\n\t\t\tonKeyDown={(e): void => onClick(_id, e)}\n\t\t\tonClick={(e): void => onClick(_id, e)}\n\t\t\ttabIndex={0}\n\t\t\trole='link'\n\t\t\taction\n\t\t\tqa-user-id={_id}\n\t\t>\n\t\t\t<GenericTableCell withTruncatedText>\n\t\t\t\t<Box display='flex' alignItems='center'>\n\t\t\t\t\t{username && <UserAvatar size={isMobile || isLaptop ? 'x28' : 'x40'} username={username} etag={avatarETag} />}\n\t\t\t\t\t<Box display='flex' flexGrow={1} flexShrink={1} flexBasis='0%' alignSelf='center' alignItems='center' withTruncatedText>\n\t\t\t\t\t\t<Box mi={8}>\n\t\t\t\t\t\t\t<UserStatus status={status || Status.OFFLINE} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box fontScale='p2' withTruncatedText>\n\t\t\t\t\t\t\t{name || username}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box fontScale='p2m' color='hint' withTruncatedText>\n\t\t\t\t\t{username}\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\n\t\t\t{!isLaptop && <GenericTableCell withTruncatedText>{emails?.length && emails[0].address}</GenericTableCell>}\n\n\t\t\t{!isLaptop && <GenericTableCell withTruncatedText>{roleNames}</GenericTableCell>}\n\n\t\t\t{tab === 'all' && !isMobile && (\n\t\t\t\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t\t\t{registrationStatusText}\n\t\t\t\t</GenericTableCell>\n\t\t\t)}\n\n\t\t\t{tab === 'pending' && !isMobile && (\n\t\t\t\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignContent='flex-end'>\n\t\t\t\t\t\t{active ? t('User_first_log_in') : t('Activation')}\n\t\t\t\t\t</Box>\n\t\t\t\t</GenericTableCell>\n\t\t\t)}\n\n\t\t\t{tab === 'all' && showVoipExtension && (\n\t\t\t\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t\t\t{freeSwitchExtension || t('Not_assigned')}\n\t\t\t\t</GenericTableCell>\n\t\t\t)}\n\n\t\t\t<GenericTableCell\n\t\t\t\tonClick={(e): void => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box display='flex' justifyContent='flex-end'>\n\t\t\t\t\t{tab === 'pending' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{active ? (\n\t\t\t\t\t\t\t\t<Button small secondary onClick={handleResendWelcomeEmail}>\n\t\t\t\t\t\t\t\t\t{t('Resend_welcome_email')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Button small primary onClick={changeUserStatusAction?.action} disabled={isSeatsCapExceeded}>\n\t\t\t\t\t\t\t\t\t{t('Activate')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Menu\n\t\t\t\t\t\tmi={4}\n\t\t\t\t\t\tplacement='bottom-start'\n\t\t\t\t\t\tflexShrink={0}\n\t\t\t\t\t\tkey='menu'\n\t\t\t\t\t\taria-label={t('More_actions')}\n\t\t\t\t\t\ttitle={t('More_actions')}\n\t\t\t\t\t\trenderItem={({ label: { label, icon }, ...props }): ReactElement => (\n\t\t\t\t\t\t\t<Option label={label} title={label} icon={icon} variant={label === 'Delete' ? 'danger' : ''} {...props} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\toptions={menuOptions}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default UsersTableRow;\n"]}}},"code":"var _excluded = [\"label\"];\nvar _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\nvar _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 1);\nvar _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 2);\nvar Status;\nmodule.link(\"@rocket.chat/core-typings\", {\n  UserStatus: function (v) {\n    Status = v;\n  }\n}, 0);\nvar Box, Button, Menu, Option;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  Menu: function (v) {\n    Menu = v;\n  },\n  Option: function (v) {\n    Option = v;\n  }\n}, 1);\nvar UserAvatar;\nmodule.link(\"@rocket.chat/ui-avatar\", {\n  UserAvatar: function (v) {\n    UserAvatar = v;\n  }\n}, 2);\nvar React, useMemo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  }\n}, 3);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 4);\nvar Roles;\nmodule.link(\"../../../../../app/models/client/models/Roles\", {\n  Roles: function (v) {\n    Roles = v;\n  }\n}, 5);\nvar GenericTableRow, GenericTableCell;\nmodule.link(\"../../../../components/GenericTable\", {\n  GenericTableRow: function (v) {\n    GenericTableRow = v;\n  },\n  GenericTableCell: function (v) {\n    GenericTableCell = v;\n  }\n}, 6);\nvar UserStatus;\nmodule.link(\"../../../../components/UserStatus\", {\n  UserStatus: function (v) {\n    UserStatus = v;\n  }\n}, 7);\nvar useChangeAdminStatusAction;\nmodule.link(\"../hooks/useChangeAdminStatusAction\", {\n  useChangeAdminStatusAction: function (v) {\n    useChangeAdminStatusAction = v;\n  }\n}, 8);\nvar useChangeUserStatusAction;\nmodule.link(\"../hooks/useChangeUserStatusAction\", {\n  useChangeUserStatusAction: function (v) {\n    useChangeUserStatusAction = v;\n  }\n}, 9);\nvar useDeleteUserAction;\nmodule.link(\"../hooks/useDeleteUserAction\", {\n  useDeleteUserAction: function (v) {\n    useDeleteUserAction = v;\n  }\n}, 10);\nvar useResetE2EEKeyAction;\nmodule.link(\"../hooks/useResetE2EEKeyAction\", {\n  useResetE2EEKeyAction: function (v) {\n    useResetE2EEKeyAction = v;\n  }\n}, 11);\nvar useResetTOTPAction;\nmodule.link(\"../hooks/useResetTOTPAction\", {\n  useResetTOTPAction: function (v) {\n    useResetTOTPAction = v;\n  }\n}, 12);\nvar useSendWelcomeEmailMutation;\nmodule.link(\"../hooks/useSendWelcomeEmailMutation\", {\n  useSendWelcomeEmailMutation: function (v) {\n    useSendWelcomeEmailMutation = v;\n  }\n}, 13);\nvar useVoipExtensionAction;\nmodule.link(\"../voip/hooks/useVoipExtensionAction\", {\n  useVoipExtensionAction: function (v) {\n    useVoipExtensionAction = v;\n  }\n}, 14);\nvar UsersTableRow = function (_ref) {\n  var _user$roles;\n  var user = _ref.user,\n    tab = _ref.tab,\n    isMobile = _ref.isMobile,\n    isLaptop = _ref.isLaptop,\n    isSeatsCapExceeded = _ref.isSeatsCapExceeded,\n    showVoipExtension = _ref.showVoipExtension,\n    onClick = _ref.onClick,\n    onReload = _ref.onReload;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _id = user._id,\n    emails = user.emails,\n    _user$username = user.username,\n    username = _user$username === void 0 ? '' : _user$username,\n    _user$name = user.name,\n    name = _user$name === void 0 ? '' : _user$name,\n    roles = user.roles,\n    status = user.status,\n    active = user.active,\n    avatarETag = user.avatarETag,\n    lastLogin = user.lastLogin,\n    type = user.type,\n    freeSwitchExtension = user.freeSwitchExtension;\n  var registrationStatusText = useMemo(function () {\n    var usersExcludedFromPending = ['bot', 'app'];\n    if (!lastLogin && !usersExcludedFromPending.includes(type)) {\n      return t('Pending');\n    }\n    if (active && lastLogin) {\n      return t('Active');\n    }\n    if (!active && lastLogin) {\n      return t('Deactivated');\n    }\n  }, [active, lastLogin, t, type]);\n  var roleNames = (roles || []).map(function (roleId) {\n    var _Roles$findOne;\n    return (_Roles$findOne = Roles.findOne(roleId, {\n      fields: {\n        name: 1\n      }\n    })) === null || _Roles$findOne === void 0 ? void 0 : _Roles$findOne.name;\n  }).filter(function (roleName) {\n    return !!roleName;\n  }).join(', ');\n  var userId = user._id;\n  var isAdmin = (_user$roles = user.roles) === null || _user$roles === void 0 ? void 0 : _user$roles.includes('admin');\n  var isActive = user.active;\n  var isFederatedUser = !!user.federated;\n  var changeAdminStatusAction = useChangeAdminStatusAction(userId, isAdmin, onReload);\n  var changeUserStatusAction = useChangeUserStatusAction(userId, isActive, onReload);\n  var deleteUserAction = useDeleteUserAction(userId, onReload, onReload);\n  var resetTOTPAction = useResetTOTPAction(userId);\n  var resetE2EKeyAction = useResetE2EEKeyAction(userId);\n  var resendWelcomeEmail = useSendWelcomeEmailMutation();\n  var voipExtensionAction = useVoipExtensionAction({\n    enabled: showVoipExtension,\n    extension: freeSwitchExtension,\n    username: username,\n    name: name\n  });\n  var isNotPendingDeactivatedNorFederated = tab !== 'pending' && tab !== 'deactivated' && !isFederatedUser;\n  var menuOptions = useMemo(function () {\n    return _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, voipExtensionAction && {\n      voipExtensionAction: {\n        label: {\n          label: voipExtensionAction.label,\n          icon: voipExtensionAction.icon\n        },\n        action: voipExtensionAction.action\n      }\n    }), isNotPendingDeactivatedNorFederated && changeAdminStatusAction && {\n      makeAdmin: {\n        label: {\n          label: changeAdminStatusAction.label,\n          icon: changeAdminStatusAction.icon\n        },\n        action: changeAdminStatusAction.action\n      }\n    }), isNotPendingDeactivatedNorFederated && resetE2EKeyAction && {\n      resetE2EKey: {\n        label: {\n          label: resetE2EKeyAction.label,\n          icon: resetE2EKeyAction.icon\n        },\n        action: resetE2EKeyAction.action\n      }\n    }), isNotPendingDeactivatedNorFederated && resetTOTPAction && {\n      resetTOTP: {\n        label: {\n          label: resetTOTPAction.label,\n          icon: resetTOTPAction.icon\n        },\n        action: resetTOTPAction.action\n      }\n    }), changeUserStatusAction && !isFederatedUser && {\n      changeActiveStatus: {\n        label: {\n          label: changeUserStatusAction.label,\n          icon: changeUserStatusAction.icon\n        },\n        action: changeUserStatusAction.action\n      }\n    }), deleteUserAction && {\n      \"delete\": {\n        label: {\n          label: deleteUserAction.label,\n          icon: deleteUserAction.icon\n        },\n        action: deleteUserAction.action\n      }\n    });\n  }, [changeAdminStatusAction, changeUserStatusAction, deleteUserAction, isFederatedUser, isNotPendingDeactivatedNorFederated, resetE2EKeyAction, resetTOTPAction, voipExtensionAction]);\n  var handleResendWelcomeEmail = function () {\n    return resendWelcomeEmail.mutateAsync({\n      email: emails === null || emails === void 0 ? void 0 : emails[0].address\n    });\n  };\n  return /*#__PURE__*/React.createElement(GenericTableRow, {\n    onKeyDown: function (e) {\n      return onClick(_id, e);\n    },\n    onClick: function (e) {\n      return onClick(_id, e);\n    },\n    tabIndex: 0,\n    role: \"link\",\n    action: true,\n    \"qa-user-id\": _id\n  }, /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\"\n  }, username && /*#__PURE__*/React.createElement(UserAvatar, {\n    size: isMobile || isLaptop ? 'x28' : 'x40',\n    username: username,\n    etag: avatarETag\n  }), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexGrow: 1,\n    flexShrink: 1,\n    flexBasis: \"0%\",\n    alignSelf: \"center\",\n    alignItems: \"center\",\n    withTruncatedText: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    mi: 8\n  }, /*#__PURE__*/React.createElement(UserStatus, {\n    status: status || Status.OFFLINE\n  })), /*#__PURE__*/React.createElement(Box, {\n    fontScale: \"p2\",\n    withTruncatedText: true\n  }, name || username)))), /*#__PURE__*/React.createElement(GenericTableCell, null, /*#__PURE__*/React.createElement(Box, {\n    fontScale: \"p2m\",\n    color: \"hint\",\n    withTruncatedText: true\n  }, username)), !isLaptop && /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, (emails === null || emails === void 0 ? void 0 : emails.length) && emails[0].address), !isLaptop && /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, roleNames), tab === 'all' && !isMobile && /*#__PURE__*/React.createElement(GenericTableCell, {\n    fontScale: \"p2\",\n    color: \"hint\",\n    withTruncatedText: true\n  }, registrationStatusText), tab === 'pending' && !isMobile && /*#__PURE__*/React.createElement(GenericTableCell, {\n    fontScale: \"p2\",\n    color: \"hint\",\n    withTruncatedText: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignContent: \"flex-end\"\n  }, active ? t('User_first_log_in') : t('Activation'))), tab === 'all' && showVoipExtension && /*#__PURE__*/React.createElement(GenericTableCell, {\n    fontScale: \"p2\",\n    color: \"hint\",\n    withTruncatedText: true\n  }, freeSwitchExtension || t('Not_assigned')), /*#__PURE__*/React.createElement(GenericTableCell, {\n    onClick: function (e) {\n      e.stopPropagation();\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"flex-end\"\n  }, tab === 'pending' && /*#__PURE__*/React.createElement(React.Fragment, null, active ? /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    onClick: handleResendWelcomeEmail\n  }, t('Resend_welcome_email')) : /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    primary: true,\n    onClick: changeUserStatusAction === null || changeUserStatusAction === void 0 ? void 0 : changeUserStatusAction.action,\n    disabled: isSeatsCapExceeded\n  }, t('Activate'))), /*#__PURE__*/React.createElement(Menu, {\n    mi: 4,\n    placement: \"bottom-start\",\n    flexShrink: 0,\n    key: \"menu\",\n    \"aria-label\": t('More_actions'),\n    title: t('More_actions'),\n    renderItem: function (_ref2) {\n      var _ref2$label = _ref2.label,\n        label = _ref2$label.label,\n        icon = _ref2$label.icon,\n        props = _objectWithoutProperties(_ref2, _excluded);\n      return /*#__PURE__*/React.createElement(Option, _extends({\n        label: label,\n        title: label,\n        icon: icon,\n        variant: label === 'Delete' ? 'danger' : ''\n      }, props));\n    },\n    options: menuOptions\n  }))));\n};\nmodule.exportDefault(UsersTableRow);","map":{"version":3,"names":["_extends","module","link","default","v","_objectWithoutProperties","_objectSpread","Status","UserStatus","Box","Button","Menu","Option","UserAvatar","React","useMemo","useTranslation","Roles","GenericTableRow","GenericTableCell","useChangeAdminStatusAction","useChangeUserStatusAction","useDeleteUserAction","useResetE2EEKeyAction","useResetTOTPAction","useSendWelcomeEmailMutation","useVoipExtensionAction","UsersTableRow","_ref","_user$roles","user","tab","isMobile","isLaptop","isSeatsCapExceeded","showVoipExtension","onClick","onReload","_useTranslation","t","_id","emails","_user$username","username","_user$name","name","roles","status","active","avatarETag","lastLogin","type","freeSwitchExtension","registrationStatusText","usersExcludedFromPending","includes","roleNames","map","roleId","_Roles$findOne","findOne","fields","filter","roleName","join","userId","isAdmin","isActive","isFederatedUser","federated","changeAdminStatusAction","changeUserStatusAction","deleteUserAction","resetTOTPAction","resetE2EKeyAction","resendWelcomeEmail","voipExtensionAction","enabled","extension","isNotPendingDeactivatedNorFederated","menuOptions","label","icon","action","makeAdmin","resetE2EKey","resetTOTP","changeActiveStatus","handleResendWelcomeEmail","mutateAsync","email","address","createElement","onKeyDown","e","tabIndex","role","withTruncatedText","display","alignItems","size","etag","flexGrow","flexShrink","flexBasis","alignSelf","mi","OFFLINE","fontScale","color","length","flexDirection","alignContent","stopPropagation","justifyContent","Fragment","small","secondary","primary","disabled","placement","key","title","renderItem","_ref2","_ref2$label","props","_excluded","variant","options","exportDefault"],"sources":["client/views/admin/users/UsersTable/UsersTableRow.tsx"],"sourcesContent":["import { UserStatus as Status } from '@rocket.chat/core-typings';\nimport type { IRole, IUser, Serialized } from '@rocket.chat/core-typings';\nimport { Box, Button, Menu, Option } from '@rocket.chat/fuselage';\nimport type { DefaultUserInfo } from '@rocket.chat/rest-typings';\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Roles } from '../../../../../app/models/client/models/Roles';\nimport { GenericTableRow, GenericTableCell } from '../../../../components/GenericTable';\nimport { UserStatus } from '../../../../components/UserStatus';\nimport type { AdminUsersTab } from '../AdminUsersPage';\nimport { useChangeAdminStatusAction } from '../hooks/useChangeAdminStatusAction';\nimport { useChangeUserStatusAction } from '../hooks/useChangeUserStatusAction';\nimport { useDeleteUserAction } from '../hooks/useDeleteUserAction';\nimport { useResetE2EEKeyAction } from '../hooks/useResetE2EEKeyAction';\nimport { useResetTOTPAction } from '../hooks/useResetTOTPAction';\nimport { useSendWelcomeEmailMutation } from '../hooks/useSendWelcomeEmailMutation';\nimport { useVoipExtensionAction } from '../voip/hooks/useVoipExtensionAction';\n\ntype UsersTableRowProps = {\n\tuser: Serialized<DefaultUserInfo>;\n\ttab: AdminUsersTab;\n\tisMobile: boolean;\n\tisLaptop: boolean;\n\tonReload: () => void;\n\tonClick: (id: IUser['_id'], e: React.MouseEvent<HTMLElement, MouseEvent> | React.KeyboardEvent<HTMLElement>) => void;\n\tisSeatsCapExceeded: boolean;\n\tshowVoipExtension: boolean;\n};\n\nconst UsersTableRow = ({\n\tuser,\n\ttab,\n\tisMobile,\n\tisLaptop,\n\tisSeatsCapExceeded,\n\tshowVoipExtension,\n\tonClick,\n\tonReload,\n}: UsersTableRowProps): ReactElement => {\n\tconst { t } = useTranslation();\n\n\tconst { _id, emails, username = '', name = '', roles, status, active, avatarETag, lastLogin, type, freeSwitchExtension } = user;\n\tconst registrationStatusText = useMemo(() => {\n\t\tconst usersExcludedFromPending = ['bot', 'app'];\n\n\t\tif (!lastLogin && !usersExcludedFromPending.includes(type)) {\n\t\t\treturn t('Pending');\n\t\t}\n\n\t\tif (active && lastLogin) {\n\t\t\treturn t('Active');\n\t\t}\n\n\t\tif (!active && lastLogin) {\n\t\t\treturn t('Deactivated');\n\t\t}\n\t}, [active, lastLogin, t, type]);\n\n\tconst roleNames = (roles || [])\n\t\t.map((roleId) => (Roles.findOne(roleId, { fields: { name: 1 } }) as IRole | undefined)?.name)\n\t\t.filter((roleName): roleName is string => !!roleName)\n\t\t.join(', ');\n\n\tconst userId = user._id;\n\tconst isAdmin = user.roles?.includes('admin');\n\tconst isActive = user.active;\n\tconst isFederatedUser = !!user.federated;\n\n\tconst changeAdminStatusAction = useChangeAdminStatusAction(userId, isAdmin, onReload);\n\tconst changeUserStatusAction = useChangeUserStatusAction(userId, isActive, onReload);\n\tconst deleteUserAction = useDeleteUserAction(userId, onReload, onReload);\n\tconst resetTOTPAction = useResetTOTPAction(userId);\n\tconst resetE2EKeyAction = useResetE2EEKeyAction(userId);\n\tconst resendWelcomeEmail = useSendWelcomeEmailMutation();\n\tconst voipExtensionAction = useVoipExtensionAction({\n\t\tenabled: showVoipExtension,\n\t\textension: freeSwitchExtension,\n\t\tusername,\n\t\tname,\n\t});\n\n\tconst isNotPendingDeactivatedNorFederated = tab !== 'pending' && tab !== 'deactivated' && !isFederatedUser;\n\tconst menuOptions = useMemo(\n\t\t() => ({\n\t\t\t...(voipExtensionAction && {\n\t\t\t\tvoipExtensionAction: {\n\t\t\t\t\tlabel: { label: voipExtensionAction.label, icon: voipExtensionAction.icon },\n\t\t\t\t\taction: voipExtensionAction.action,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...(isNotPendingDeactivatedNorFederated &&\n\t\t\t\tchangeAdminStatusAction && {\n\t\t\t\t\tmakeAdmin: {\n\t\t\t\t\t\tlabel: { label: changeAdminStatusAction.label, icon: changeAdminStatusAction.icon },\n\t\t\t\t\t\taction: changeAdminStatusAction.action,\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t...(isNotPendingDeactivatedNorFederated &&\n\t\t\t\tresetE2EKeyAction && {\n\t\t\t\t\tresetE2EKey: { label: { label: resetE2EKeyAction.label, icon: resetE2EKeyAction.icon }, action: resetE2EKeyAction.action },\n\t\t\t\t}),\n\t\t\t...(isNotPendingDeactivatedNorFederated &&\n\t\t\t\tresetTOTPAction && {\n\t\t\t\t\tresetTOTP: { label: { label: resetTOTPAction.label, icon: resetTOTPAction.icon }, action: resetTOTPAction.action },\n\t\t\t\t}),\n\t\t\t...(changeUserStatusAction &&\n\t\t\t\t!isFederatedUser && {\n\t\t\t\t\tchangeActiveStatus: {\n\t\t\t\t\t\tlabel: { label: changeUserStatusAction.label, icon: changeUserStatusAction.icon },\n\t\t\t\t\t\taction: changeUserStatusAction.action,\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t...(deleteUserAction && {\n\t\t\t\tdelete: { label: { label: deleteUserAction.label, icon: deleteUserAction.icon }, action: deleteUserAction.action },\n\t\t\t}),\n\t\t}),\n\t\t[\n\t\t\tchangeAdminStatusAction,\n\t\t\tchangeUserStatusAction,\n\t\t\tdeleteUserAction,\n\t\t\tisFederatedUser,\n\t\t\tisNotPendingDeactivatedNorFederated,\n\t\t\tresetE2EKeyAction,\n\t\t\tresetTOTPAction,\n\t\t\tvoipExtensionAction,\n\t\t],\n\t);\n\n\tconst handleResendWelcomeEmail = () => resendWelcomeEmail.mutateAsync({ email: emails?.[0].address });\n\n\treturn (\n\t\t<GenericTableRow\n\t\t\tonKeyDown={(e): void => onClick(_id, e)}\n\t\t\tonClick={(e): void => onClick(_id, e)}\n\t\t\ttabIndex={0}\n\t\t\trole='link'\n\t\t\taction\n\t\t\tqa-user-id={_id}\n\t\t>\n\t\t\t<GenericTableCell withTruncatedText>\n\t\t\t\t<Box display='flex' alignItems='center'>\n\t\t\t\t\t{username && <UserAvatar size={isMobile || isLaptop ? 'x28' : 'x40'} username={username} etag={avatarETag} />}\n\t\t\t\t\t<Box display='flex' flexGrow={1} flexShrink={1} flexBasis='0%' alignSelf='center' alignItems='center' withTruncatedText>\n\t\t\t\t\t\t<Box mi={8}>\n\t\t\t\t\t\t\t<UserStatus status={status || Status.OFFLINE} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box fontScale='p2' withTruncatedText>\n\t\t\t\t\t\t\t{name || username}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box fontScale='p2m' color='hint' withTruncatedText>\n\t\t\t\t\t{username}\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\n\t\t\t{!isLaptop && <GenericTableCell withTruncatedText>{emails?.length && emails[0].address}</GenericTableCell>}\n\n\t\t\t{!isLaptop && <GenericTableCell withTruncatedText>{roleNames}</GenericTableCell>}\n\n\t\t\t{tab === 'all' && !isMobile && (\n\t\t\t\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t\t\t{registrationStatusText}\n\t\t\t\t</GenericTableCell>\n\t\t\t)}\n\n\t\t\t{tab === 'pending' && !isMobile && (\n\t\t\t\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignContent='flex-end'>\n\t\t\t\t\t\t{active ? t('User_first_log_in') : t('Activation')}\n\t\t\t\t\t</Box>\n\t\t\t\t</GenericTableCell>\n\t\t\t)}\n\n\t\t\t{tab === 'all' && showVoipExtension && (\n\t\t\t\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t\t\t{freeSwitchExtension || t('Not_assigned')}\n\t\t\t\t</GenericTableCell>\n\t\t\t)}\n\n\t\t\t<GenericTableCell\n\t\t\t\tonClick={(e): void => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box display='flex' justifyContent='flex-end'>\n\t\t\t\t\t{tab === 'pending' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{active ? (\n\t\t\t\t\t\t\t\t<Button small secondary onClick={handleResendWelcomeEmail}>\n\t\t\t\t\t\t\t\t\t{t('Resend_welcome_email')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Button small primary onClick={changeUserStatusAction?.action} disabled={isSeatsCapExceeded}>\n\t\t\t\t\t\t\t\t\t{t('Activate')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Menu\n\t\t\t\t\t\tmi={4}\n\t\t\t\t\t\tplacement='bottom-start'\n\t\t\t\t\t\tflexShrink={0}\n\t\t\t\t\t\tkey='menu'\n\t\t\t\t\t\taria-label={t('More_actions')}\n\t\t\t\t\t\ttitle={t('More_actions')}\n\t\t\t\t\t\trenderItem={({ label: { label, icon }, ...props }): ReactElement => (\n\t\t\t\t\t\t\t<Option label={label} title={label} icon={icon} variant={label === 'Delete' ? 'danger' : ''} {...props} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\toptions={menuOptions}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default UsersTableRow;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"1e4b23e12af4c89d58ccb5b6ab818dcaf2e39596"}
