{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/hooks/useSingleFileInput.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/hooks/useSingleFileInput.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/hooks/useSingleFileInput.ts","inputSourceMap":{"version":3,"file":"client/hooks/useSingleFileInput.ts","sourceRoot":"","sources":["client/hooks/useSingleFileInput.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,kBAAkB,EAAE,MAAM,6BAA6B,CAAC;AACjE,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAE1C,MAAM,CAAC,MAAM,kBAAkB,GAAG,CACjC,SAA+D,EAC/D,QAAQ,GAAG,SAAS,EACpB,SAAS,GAAG,OAAO,EACwB,EAAE;IAC7C,MAAM,GAAG,GAAG,MAAM,EAAoB,CAAC;IAEvC,SAAS,CAAC,GAAG,EAAE;QACd,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAClD,SAAS,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACvC,SAAS,CAAC,YAAY,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;QACjD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QACrC,GAAG,CAAC,OAAO,GAAG,SAAS,CAAC;QAExB,OAAO,GAAS,EAAE;YACjB,GAAG,CAAC,OAAO,GAAG,SAAS,CAAC;YACxB,SAAS,CAAC,MAAM,EAAE,CAAC;QACpB,CAAC,CAAC;IACH,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,SAAS,CAAC,GAAG,EAAE;QACd,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC;QAC9B,IAAI,CAAC,SAAS,EAAE,CAAC;YAChB,OAAO;QACR,CAAC;QAED,SAAS,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IAC5C,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;IAEf,SAAS,CAAC,GAAG,EAAE;QACd,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC;QAC9B,IAAI,CAAC,SAAS,EAAE,CAAC;YAChB,OAAO;QACR,CAAC;QAED,MAAM,WAAW,GAAG,GAAS,EAAE;YAC9B,IAAI,CAAC,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;gBAC/B,OAAO;YACR,CAAC;YACD,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;YAChC,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/C,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;QACzC,CAAC,CAAC;QAEF,SAAS,CAAC,gBAAgB,CAAC,QAAQ,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;QAEzD,OAAO,GAAS,EAAE;YACjB,SAAS,CAAC,mBAAmB,CAAC,QAAQ,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;QAC7D,CAAC,CAAC;IACH,CAAC,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC;IAErC,MAAM,OAAO,GAAG,kBAAkB,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;IAChE,MAAM,KAAK,GAAG,kBAAkB,CAAC,GAAG,EAAE;QACrC,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;YACjB,GAAG,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;QACxB,CAAC;IACF,CAAC,CAAC,CAAC;IACH,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;AACzB,CAAC,CAAC","sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useRef, useEffect } from 'react';\n\nexport const useSingleFileInput = (\n\tonSetFile: (file: FileList[number], formData: FormData) => void,\n\tfileType = 'image/*',\n\tfileField = 'image',\n): [onClick: () => void, reset: () => void] => {\n\tconst ref = useRef<HTMLInputElement>();\n\n\tuseEffect(() => {\n\t\tconst fileInput = document.createElement('input');\n\t\tfileInput.setAttribute('type', 'file');\n\t\tfileInput.setAttribute('style', 'display: none');\n\t\tdocument.body.appendChild(fileInput);\n\t\tref.current = fileInput;\n\n\t\treturn (): void => {\n\t\t\tref.current = undefined;\n\t\t\tfileInput.remove();\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fileInput = ref.current;\n\t\tif (!fileInput) {\n\t\t\treturn;\n\t\t}\n\n\t\tfileInput.setAttribute('accept', fileType);\n\t}, [fileType]);\n\n\tuseEffect(() => {\n\t\tconst fileInput = ref.current;\n\t\tif (!fileInput) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst handleFiles = (): void => {\n\t\t\tif (!fileInput?.files?.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst formData = new FormData();\n\t\t\tformData.append(fileField, fileInput.files[0]);\n\t\t\tonSetFile(fileInput.files[0], formData);\n\t\t};\n\n\t\tfileInput.addEventListener('change', handleFiles, false);\n\n\t\treturn (): void => {\n\t\t\tfileInput.removeEventListener('change', handleFiles, false);\n\t\t};\n\t}, [fileField, fileType, onSetFile]);\n\n\tconst onClick = useMutableCallback(() => ref?.current?.click());\n\tconst reset = useMutableCallback(() => {\n\t\tif (ref.current) {\n\t\t\tref.current.value = '';\n\t\t}\n\t});\n\treturn [onClick, reset];\n};\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/hooks/useSingleFileInput.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/hooks/useSingleFileInput.ts","inputSourceMap":{"version":3,"file":"client/hooks/useSingleFileInput.ts","sourceRoot":"","sources":["client/hooks/useSingleFileInput.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,kBAAkB,EAAE,MAAM,6BAA6B,CAAC;AACjE,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAE1C,MAAM,CAAC,MAAM,kBAAkB,GAAG,CACjC,SAA+D,EAC/D,QAAQ,GAAG,SAAS,EACpB,SAAS,GAAG,OAAO,EACwB,EAAE;IAC7C,MAAM,GAAG,GAAG,MAAM,EAAoB,CAAC;IAEvC,SAAS,CAAC,GAAG,EAAE;QACd,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAClD,SAAS,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACvC,SAAS,CAAC,YAAY,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;QACjD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QACrC,GAAG,CAAC,OAAO,GAAG,SAAS,CAAC;QAExB,OAAO,GAAS,EAAE;YACjB,GAAG,CAAC,OAAO,GAAG,SAAS,CAAC;YACxB,SAAS,CAAC,MAAM,EAAE,CAAC;QACpB,CAAC,CAAC;IACH,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,SAAS,CAAC,GAAG,EAAE;QACd,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC;QAC9B,IAAI,CAAC,SAAS,EAAE,CAAC;YAChB,OAAO;QACR,CAAC;QAED,SAAS,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IAC5C,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;IAEf,SAAS,CAAC,GAAG,EAAE;QACd,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC;QAC9B,IAAI,CAAC,SAAS,EAAE,CAAC;YAChB,OAAO;QACR,CAAC;QAED,MAAM,WAAW,GAAG,GAAS,EAAE;YAC9B,IAAI,CAAC,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;gBAC/B,OAAO;YACR,CAAC;YACD,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;YAChC,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/C,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;QACzC,CAAC,CAAC;QAEF,SAAS,CAAC,gBAAgB,CAAC,QAAQ,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;QAEzD,OAAO,GAAS,EAAE;YACjB,SAAS,CAAC,mBAAmB,CAAC,QAAQ,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;QAC7D,CAAC,CAAC;IACH,CAAC,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC;IAErC,MAAM,OAAO,GAAG,kBAAkB,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;IAChE,MAAM,KAAK,GAAG,kBAAkB,CAAC,GAAG,EAAE;QACrC,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;YACjB,GAAG,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;QACxB,CAAC;IACF,CAAC,CAAC,CAAC;IACH,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;AACzB,CAAC,CAAC","sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useRef, useEffect } from 'react';\n\nexport const useSingleFileInput = (\n\tonSetFile: (file: FileList[number], formData: FormData) => void,\n\tfileType = 'image/*',\n\tfileField = 'image',\n): [onClick: () => void, reset: () => void] => {\n\tconst ref = useRef<HTMLInputElement>();\n\n\tuseEffect(() => {\n\t\tconst fileInput = document.createElement('input');\n\t\tfileInput.setAttribute('type', 'file');\n\t\tfileInput.setAttribute('style', 'display: none');\n\t\tdocument.body.appendChild(fileInput);\n\t\tref.current = fileInput;\n\n\t\treturn (): void => {\n\t\t\tref.current = undefined;\n\t\t\tfileInput.remove();\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fileInput = ref.current;\n\t\tif (!fileInput) {\n\t\t\treturn;\n\t\t}\n\n\t\tfileInput.setAttribute('accept', fileType);\n\t}, [fileType]);\n\n\tuseEffect(() => {\n\t\tconst fileInput = ref.current;\n\t\tif (!fileInput) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst handleFiles = (): void => {\n\t\t\tif (!fileInput?.files?.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst formData = new FormData();\n\t\t\tformData.append(fileField, fileInput.files[0]);\n\t\t\tonSetFile(fileInput.files[0], formData);\n\t\t};\n\n\t\tfileInput.addEventListener('change', handleFiles, false);\n\n\t\treturn (): void => {\n\t\t\tfileInput.removeEventListener('change', handleFiles, false);\n\t\t};\n\t}, [fileField, fileType, onSetFile]);\n\n\tconst onClick = useMutableCallback(() => ref?.current?.click());\n\tconst reset = useMutableCallback(() => {\n\t\tif (ref.current) {\n\t\t\tref.current.value = '';\n\t\t}\n\t});\n\treturn [onClick, reset];\n};\n"]}}},"code":"module.export({\n  useSingleFileInput: () => useSingleFileInput\n});\nlet useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  }\n}, 0);\nlet useRef, useEffect;\nmodule.link(\"react\", {\n  useRef(v) {\n    useRef = v;\n  },\n  useEffect(v) {\n    useEffect = v;\n  }\n}, 1);\nconst useSingleFileInput = function (onSetFile) {\n  let fileType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'image/*';\n  let fileField = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'image';\n  const ref = useRef();\n  useEffect(() => {\n    const fileInput = document.createElement('input');\n    fileInput.setAttribute('type', 'file');\n    fileInput.setAttribute('style', 'display: none');\n    document.body.appendChild(fileInput);\n    ref.current = fileInput;\n    return () => {\n      ref.current = undefined;\n      fileInput.remove();\n    };\n  }, []);\n  useEffect(() => {\n    const fileInput = ref.current;\n    if (!fileInput) {\n      return;\n    }\n    fileInput.setAttribute('accept', fileType);\n  }, [fileType]);\n  useEffect(() => {\n    const fileInput = ref.current;\n    if (!fileInput) {\n      return;\n    }\n    const handleFiles = () => {\n      var _fileInput$files;\n      if (!(fileInput !== null && fileInput !== void 0 && (_fileInput$files = fileInput.files) !== null && _fileInput$files !== void 0 && _fileInput$files.length)) {\n        return;\n      }\n      const formData = new FormData();\n      formData.append(fileField, fileInput.files[0]);\n      onSetFile(fileInput.files[0], formData);\n    };\n    fileInput.addEventListener('change', handleFiles, false);\n    return () => {\n      fileInput.removeEventListener('change', handleFiles, false);\n    };\n  }, [fileField, fileType, onSetFile]);\n  const onClick = useMutableCallback(() => {\n    var _ref$current;\n    return ref === null || ref === void 0 ? void 0 : (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.click();\n  });\n  const reset = useMutableCallback(() => {\n    if (ref.current) {\n      ref.current.value = '';\n    }\n  });\n  return [onClick, reset];\n};","map":{"version":3,"names":["module","export","useSingleFileInput","useMutableCallback","link","v","useRef","useEffect","onSetFile","fileType","arguments","length","undefined","fileField","ref","fileInput","document","createElement","setAttribute","body","appendChild","current","remove","handleFiles","_fileInput$files","files","formData","FormData","append","addEventListener","removeEventListener","onClick","_ref$current","click","reset","value"],"sources":["client/hooks/useSingleFileInput.ts"],"sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useRef, useEffect } from 'react';\n\nexport const useSingleFileInput = (\n\tonSetFile: (file: FileList[number], formData: FormData) => void,\n\tfileType = 'image/*',\n\tfileField = 'image',\n): [onClick: () => void, reset: () => void] => {\n\tconst ref = useRef<HTMLInputElement>();\n\n\tuseEffect(() => {\n\t\tconst fileInput = document.createElement('input');\n\t\tfileInput.setAttribute('type', 'file');\n\t\tfileInput.setAttribute('style', 'display: none');\n\t\tdocument.body.appendChild(fileInput);\n\t\tref.current = fileInput;\n\n\t\treturn (): void => {\n\t\t\tref.current = undefined;\n\t\t\tfileInput.remove();\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fileInput = ref.current;\n\t\tif (!fileInput) {\n\t\t\treturn;\n\t\t}\n\n\t\tfileInput.setAttribute('accept', fileType);\n\t}, [fileType]);\n\n\tuseEffect(() => {\n\t\tconst fileInput = ref.current;\n\t\tif (!fileInput) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst handleFiles = (): void => {\n\t\t\tif (!fileInput?.files?.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst formData = new FormData();\n\t\t\tformData.append(fileField, fileInput.files[0]);\n\t\t\tonSetFile(fileInput.files[0], formData);\n\t\t};\n\n\t\tfileInput.addEventListener('change', handleFiles, false);\n\n\t\treturn (): void => {\n\t\t\tfileInput.removeEventListener('change', handleFiles, false);\n\t\t};\n\t}, [fileField, fileType, onSetFile]);\n\n\tconst onClick = useMutableCallback(() => ref?.current?.click());\n\tconst reset = useMutableCallback(() => {\n\t\tif (ref.current) {\n\t\t\tref.current.value = '';\n\t\t}\n\t});\n\treturn [onClick, reset];\n};\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"ff05410452d004954800ac1733cf7d0e29c18f96"}
