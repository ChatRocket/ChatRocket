{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/meet/MeetPage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/meet/MeetPage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/meet/MeetPage.tsx","inputSourceMap":{"version":3,"file":"client/views/meet/MeetPage.tsx","sourceRoot":"","sources":["client/views/meet/MeetPage.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,uBAAuB,CAAC;AAC1D,OAAO,EAAE,UAAU,EAAE,MAAM,wBAAwB,CAAC;AACpD,OAAO,EAAE,iBAAiB,EAAE,kBAAkB,EAAE,cAAc,EAAE,MAAM,0BAA0B,CAAC;AACjG,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AACvC,OAAO,KAAK,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,EAAE,MAAM,OAAO,CAAC;AAEhE,OAAO,EAAE,GAAG,EAAE,MAAM,yCAAyC,CAAC;AAC9D,OAAO,EAAE,iBAAiB,EAAE,MAAM,+BAA+B,CAAC;AAClE,OAAO,YAAY,MAAM,0BAA0B,CAAC;AACpD,OAAO,WAAW,MAAM,qBAAqB,CAAC;AAC9C,OAAO,QAAQ,MAAM,YAAY,CAAC;AAClC,OAAO,cAAc,CAAC;AAEtB,MAAM,QAAQ,GAAG,GAAG,EAAE;IACrB,MAAM,CAAC,GAAG,cAAc,EAAE,CAAC;IAC3B,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IACxD,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC3C,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;IACjD,MAAM,MAAM,GAAG,iBAAiB,CAAC,KAAK,CAAC,CAAC;IACxC,MAAM,YAAY,GAAG,kBAAkB,CAAC,OAAO,CAAC,CAAC;IACjD,MAAM,gBAAgB,GAAG,iBAAiB,EAAE,CAAC;IAC7C,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IACnD,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC/C,MAAM,CAAC,aAAa,EAAE,gBAAgB,CAAC,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC;IAE9D,MAAM,cAAc,GAAG,GAAY,EAAE,CAAC,MAAM,CAAC,UAAU,IAAI,GAAG,CAAC;IAC/D,MAAM,YAAY,GAAG,GAAS,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IAEhD,MAAM,mBAAmB,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;QAClD,IAAI,CAAC,YAAY,IAAI,CAAC,MAAM,EAAE,CAAC;YAC9B,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAC;QACvC,CAAC;QAED,MAAM,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,mBAAmB,EAAE;YACrD,KAAK,EAAE,YAAY;YACnB,GAAG,EAAE,MAAM;SACX,CAAC,CAAQ,CAAC;QACX,IAAI,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,KAAK,YAAY,EAAE,CAAC;YAC3C,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAC9B,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAChC,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC3H,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,UAAU,IAAI,OAAO,CAAC,CAAC;YAC7C,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;YAChD,OAAO,eAAe,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC;IACF,CAAC,EAAE,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC,CAAC;IAE3B,MAAM,iBAAiB,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;QAChD,IAAI,CAAC,MAAM,EAAE,CAAC;YACb,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAC;QACvC,CAAC;QAED,MAAM,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,EAAE,EAAE,MAAM,EAAE,CAAC,CAAQ,CAAC;QACvE,IAAI,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,KAAK,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC;YACnD,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAChC,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC3H,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,UAAU,IAAI,OAAO,CAAC,CAAC;YAC7C,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;YAChD,OAAO,eAAe,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC;IACF,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,SAAS,CAAC,GAAG,EAAE;QACd,IAAI,YAAY,EAAE,CAAC;YAClB,mBAAmB,EAAE,CAAC;YACtB,OAAO;QACR,CAAC;QACD,iBAAiB,EAAE,CAAC;IACrB,CAAC,EAAE,CAAC,iBAAiB,EAAE,mBAAmB,EAAE,YAAY,CAAC,CAAC,CAAC;IAE3D,IAAI,MAAM,KAAK,IAAI,EAAE,CAAC;QACrB,OAAO,CAAC,WAAW,CAAC,AAAD,EAAG,CAAC;IACxB,CAAC;IAED,IAAI,CAAC,YAAY,EAAE,CAAC;QACnB,OAAO,CAAC,YAAY,CAAC,AAAD,EAAG,CAAC;IACzB,CAAC;IAED,IAAI,MAAM,KAAK,OAAO,EAAE,CAAC;QACxB,OAAO,CACN,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,QAAQ,CACzD;IAAA,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAChH;KAAA,CAAC,GAAG,CACH,QAAQ,CAAC,UAAU,CACnB,KAAK,CAAC,CAAC;gBACN,GAAG,EAAE,IAAI;gBACT,KAAK,EAAE,IAAI;aACX,CAAC,CACF,SAAS,CAAC,YAAY,CACtB,eAAe,CAAC,MAAM,CACtB,UAAU,CAAC,QAAQ,CAEnB;MAAA,CAAC,GAAG,CACH,KAAK,CAAC,CAAC;gBACN,OAAO,EAAE,OAAO;gBAChB,MAAM,EAAE,MAAM;aACd,CAAC,CAEF;OAAA,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EACtG;MAAA,EAAE,GAAG,CACN;KAAA,EAAE,GAAG,CACL;KAAA,CAAC,GAAG,CACH,QAAQ,CAAC,UAAU,CACnB,MAAM,CAAC,CAAC,CAAC,CAAC,CACV,KAAK,CAAC,CAAC;gBACN,GAAG,EAAE,cAAc,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK;gBACrC,OAAO,EAAE,MAAM;gBACf,cAAc,EAAE,QAAQ;gBACxB,aAAa,EAAE,QAAQ;aACvB,CAAC,CACF,UAAU,CAAC,QAAQ,CAEnB;MAAA,CAAC,GAAG,CACH,KAAK,CAAC,CAAC;gBACN,OAAO,EAAE,OAAO;gBAChB,MAAM,EAAE,MAAM;aACd,CAAC,CAEF;OAAA,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,MAAM,EAC1E;MAAA,EAAE,GAAG,CACL;MAAA,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,CACtE;MAAA,CAAC,CAAC,CACD,KAAK,CAAC,CAAC;gBACN,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,cAAc,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;aACpC,CAAC,CAEF;OAAA,CAAC,YAAY,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CACxC;MAAA,EAAE,CAAC,CACJ;KAAA,EAAE,GAAG,CACL;KAAA,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CACrE;MAAA,CAAC,MAAM,CACN,IAAI,CAAC,OAAO,CACZ,MAAM,CACN,KAAK,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CACzB,OAAO,CAAC,CAAC,YAAY,CAAC,CACtB,eAAe,CAAC,MAAM,CACtB,WAAW,CAAC,YAAY,CACxB,EAAE,MAAM,CACV;KAAA,EAAE,GAAG,CACN;IAAA,EAAE,GAAG,CACN;GAAA,EAAE,IAAI,CAAC,SAAS,CAAC,CACjB,CAAC;IACH,CAAC;IAED,OAAO,CACN,CAAC,QAAQ,CACR,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,YAAY,CAAC,CAAC,YAAY,CAAC,CAC3B,SAAS,CAAC,CAAC,SAAS,CAAC,CACrB,SAAS,CAAC,CAAC,SAAS,CAAC,CACrB,WAAW,CAAC,CAAC,WAAW,CAAC,CACzB,SAAS,CAAC,CAAC,SAAS,CAAC,CACrB,gBAAgB,CAAC,CAAC,gBAAgB,CAAC,CACnC,aAAa,CAAC,CAAC,aAAa,CAAC,EAC5B,CACF,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,QAAQ,CAAC","sourcesContent":["import { Button, Box, Flex } from '@rocket.chat/fuselage';\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\nimport { useRouteParameter, useSearchParameter, useTranslation } from '@rocket.chat/ui-contexts';\nimport { Meteor } from 'meteor/meteor';\nimport React, { useEffect, useState, useCallback } from 'react';\n\nimport { sdk } from '../../../app/utils/client/lib/SDKClient';\nimport { useEmbeddedLayout } from '../../hooks/useEmbeddedLayout';\nimport NotFoundPage from '../notFound/NotFoundPage';\nimport PageLoading from '../root/PageLoading';\nimport CallPage from './CallPage';\nimport './styles.css';\n\nconst MeetPage = () => {\n\tconst t = useTranslation();\n\tconst [isRoomMember, setIsRoomMember] = useState(false);\n\tconst [status, setStatus] = useState(null);\n\tconst [visitorId, setVisitorId] = useState(null);\n\tconst roomId = useRouteParameter('rid');\n\tconst visitorToken = useSearchParameter('token');\n\tconst isLayoutEmbedded = useEmbeddedLayout();\n\tconst [visitorName, setVisitorName] = useState('');\n\tconst [agentName, setAgentName] = useState('');\n\tconst [callStartTime, setCallStartTime] = useState(undefined);\n\n\tconst isMobileDevice = (): boolean => window.innerWidth <= 450;\n\tconst closeCallTab = (): void => window.close();\n\n\tconst setupCallForVisitor = useCallback(async () => {\n\t\tif (!visitorToken || !roomId) {\n\t\t\tthrow new Error('Missing parameters');\n\t\t}\n\n\t\tconst room = (await sdk.rest.get('/v1/livechat/room', {\n\t\t\ttoken: visitorToken,\n\t\t\trid: roomId,\n\t\t})) as any;\n\t\tif (room?.room?.v?.token === visitorToken) {\n\t\t\tsetVisitorId(room.room.v._id);\n\t\t\tsetVisitorName(room.room.fname);\n\t\t\troom?.room?.responseBy?.username ? setAgentName(room.room.responseBy.username) : setAgentName(room.room.servedBy.username);\n\t\t\tsetStatus(room?.room?.callStatus || 'ended');\n\t\t\tsetCallStartTime(room.room.webRtcCallStartTime);\n\t\t\treturn setIsRoomMember(true);\n\t\t}\n\t}, [visitorToken, roomId]);\n\n\tconst setupCallForAgent = useCallback(async () => {\n\t\tif (!roomId) {\n\t\t\tthrow new Error('Missing parameters');\n\t\t}\n\n\t\tconst room = (await sdk.rest.get('/v1/rooms.info', { roomId })) as any;\n\t\tif (room?.room?.servedBy?._id === Meteor.userId()) {\n\t\t\tsetVisitorName(room.room.fname);\n\t\t\troom?.room?.responseBy?.username ? setAgentName(room.room.responseBy.username) : setAgentName(room.room.servedBy.username);\n\t\t\tsetStatus(room?.room?.callStatus || 'ended');\n\t\t\tsetCallStartTime(room.room.webRtcCallStartTime);\n\t\t\treturn setIsRoomMember(true);\n\t\t}\n\t}, [roomId]);\n\n\tuseEffect(() => {\n\t\tif (visitorToken) {\n\t\t\tsetupCallForVisitor();\n\t\t\treturn;\n\t\t}\n\t\tsetupCallForAgent();\n\t}, [setupCallForAgent, setupCallForVisitor, visitorToken]);\n\n\tif (status === null) {\n\t\treturn <PageLoading />;\n\t}\n\n\tif (!isRoomMember) {\n\t\treturn <NotFoundPage />;\n\t}\n\n\tif (status === 'ended') {\n\t\treturn (\n\t\t\t<Flex.Container direction='column' justifyContent='center'>\n\t\t\t\t<Box width='full' minHeight='sh' alignItems='center' backgroundColor='dark' overflow='hidden' position='relative'>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tposition='absolute'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: '5%',\n\t\t\t\t\t\t\tright: '2%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='Self_Video'\n\t\t\t\t\t\tbackgroundColor='dark'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\tmargin: 'auto',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<UserAvatar username={visitorToken ? visitorName : agentName} size={isMobileDevice() ? 'x32' : 'x48'} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tposition='absolute'\n\t\t\t\t\t\tzIndex={1}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: isMobileDevice() ? '30%' : '20%',\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\tmargin: 'auto',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<UserAvatar username={visitorToken ? agentName : visitorName} size='x124' />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<p style={{ color: 'white', fontSize: 16, margin: 15 }}>Call Ended!</p>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\t\tfontSize: isMobileDevice() ? 15 : 22,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{visitorToken ? agentName : visitorName}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box position='absolute' alignItems='center' style={{ bottom: '20%' }}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon='cross'\n\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\ttitle={t('Close_Window')}\n\t\t\t\t\t\t\tonClick={closeCallTab}\n\t\t\t\t\t\t\tbackgroundColor='dark'\n\t\t\t\t\t\t\tborderColor='extra-dark'\n\t\t\t\t\t\t></Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Flex.Container>\n\t\t);\n\t}\n\n\treturn (\n\t\t<CallPage\n\t\t\troomId={roomId}\n\t\t\tstatus={status}\n\t\t\tvisitorToken={visitorToken}\n\t\t\tvisitorId={visitorId}\n\t\t\tsetStatus={setStatus}\n\t\t\tvisitorName={visitorName}\n\t\t\tagentName={agentName}\n\t\t\tisLayoutEmbedded={isLayoutEmbedded}\n\t\t\tcallStartTime={callStartTime}\n\t\t/>\n\t);\n};\n\nexport default MeetPage;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/meet/MeetPage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/meet/MeetPage.tsx","inputSourceMap":{"version":3,"file":"client/views/meet/MeetPage.tsx","sourceRoot":"","sources":["client/views/meet/MeetPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Button, Box, Flex } from '@rocket.chat/fuselage';\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\nimport { useRouteParameter, useSearchParameter, useTranslation } from '@rocket.chat/ui-contexts';\nimport { Meteor } from 'meteor/meteor';\nimport React, { useEffect, useState, useCallback } from 'react';\n\nimport { sdk } from '../../../app/utils/client/lib/SDKClient';\nimport { useEmbeddedLayout } from '../../hooks/useEmbeddedLayout';\nimport NotFoundPage from '../notFound/NotFoundPage';\nimport PageLoading from '../root/PageLoading';\nimport CallPage from './CallPage';\nimport './styles.css';\n\nconst MeetPage = () => {\n\tconst t = useTranslation();\n\tconst [isRoomMember, setIsRoomMember] = useState(false);\n\tconst [status, setStatus] = useState(null);\n\tconst [visitorId, setVisitorId] = useState(null);\n\tconst roomId = useRouteParameter('rid');\n\tconst visitorToken = useSearchParameter('token');\n\tconst isLayoutEmbedded = useEmbeddedLayout();\n\tconst [visitorName, setVisitorName] = useState('');\n\tconst [agentName, setAgentName] = useState('');\n\tconst [callStartTime, setCallStartTime] = useState(undefined);\n\n\tconst isMobileDevice = (): boolean => window.innerWidth <= 450;\n\tconst closeCallTab = (): void => window.close();\n\n\tconst setupCallForVisitor = useCallback(async () => {\n\t\tif (!visitorToken || !roomId) {\n\t\t\tthrow new Error('Missing parameters');\n\t\t}\n\n\t\tconst room = (await sdk.rest.get('/v1/livechat/room', {\n\t\t\ttoken: visitorToken,\n\t\t\trid: roomId,\n\t\t})) as any;\n\t\tif (room?.room?.v?.token === visitorToken) {\n\t\t\tsetVisitorId(room.room.v._id);\n\t\t\tsetVisitorName(room.room.fname);\n\t\t\troom?.room?.responseBy?.username ? setAgentName(room.room.responseBy.username) : setAgentName(room.room.servedBy.username);\n\t\t\tsetStatus(room?.room?.callStatus || 'ended');\n\t\t\tsetCallStartTime(room.room.webRtcCallStartTime);\n\t\t\treturn setIsRoomMember(true);\n\t\t}\n\t}, [visitorToken, roomId]);\n\n\tconst setupCallForAgent = useCallback(async () => {\n\t\tif (!roomId) {\n\t\t\tthrow new Error('Missing parameters');\n\t\t}\n\n\t\tconst room = (await sdk.rest.get('/v1/rooms.info', { roomId })) as any;\n\t\tif (room?.room?.servedBy?._id === Meteor.userId()) {\n\t\t\tsetVisitorName(room.room.fname);\n\t\t\troom?.room?.responseBy?.username ? setAgentName(room.room.responseBy.username) : setAgentName(room.room.servedBy.username);\n\t\t\tsetStatus(room?.room?.callStatus || 'ended');\n\t\t\tsetCallStartTime(room.room.webRtcCallStartTime);\n\t\t\treturn setIsRoomMember(true);\n\t\t}\n\t}, [roomId]);\n\n\tuseEffect(() => {\n\t\tif (visitorToken) {\n\t\t\tsetupCallForVisitor();\n\t\t\treturn;\n\t\t}\n\t\tsetupCallForAgent();\n\t}, [setupCallForAgent, setupCallForVisitor, visitorToken]);\n\n\tif (status === null) {\n\t\treturn <PageLoading />;\n\t}\n\n\tif (!isRoomMember) {\n\t\treturn <NotFoundPage />;\n\t}\n\n\tif (status === 'ended') {\n\t\treturn (\n\t\t\t<Flex.Container direction='column' justifyContent='center'>\n\t\t\t\t<Box width='full' minHeight='sh' alignItems='center' backgroundColor='dark' overflow='hidden' position='relative'>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tposition='absolute'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: '5%',\n\t\t\t\t\t\t\tright: '2%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='Self_Video'\n\t\t\t\t\t\tbackgroundColor='dark'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\tmargin: 'auto',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<UserAvatar username={visitorToken ? visitorName : agentName} size={isMobileDevice() ? 'x32' : 'x48'} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tposition='absolute'\n\t\t\t\t\t\tzIndex={1}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: isMobileDevice() ? '30%' : '20%',\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\tmargin: 'auto',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<UserAvatar username={visitorToken ? agentName : visitorName} size='x124' />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<p style={{ color: 'white', fontSize: 16, margin: 15 }}>Call Ended!</p>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\t\tfontSize: isMobileDevice() ? 15 : 22,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{visitorToken ? agentName : visitorName}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box position='absolute' alignItems='center' style={{ bottom: '20%' }}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon='cross'\n\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\ttitle={t('Close_Window')}\n\t\t\t\t\t\t\tonClick={closeCallTab}\n\t\t\t\t\t\t\tbackgroundColor='dark'\n\t\t\t\t\t\t\tborderColor='extra-dark'\n\t\t\t\t\t\t></Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Flex.Container>\n\t\t);\n\t}\n\n\treturn (\n\t\t<CallPage\n\t\t\troomId={roomId}\n\t\t\tstatus={status}\n\t\t\tvisitorToken={visitorToken}\n\t\t\tvisitorId={visitorId}\n\t\t\tsetStatus={setStatus}\n\t\t\tvisitorName={visitorName}\n\t\t\tagentName={agentName}\n\t\t\tisLayoutEmbedded={isLayoutEmbedded}\n\t\t\tcallStartTime={callStartTime}\n\t\t/>\n\t);\n};\n\nexport default MeetPage;\n"]}}},"code":"var _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nvar Button, Box, Flex;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Button: function (v) {\n    Button = v;\n  },\n  Box: function (v) {\n    Box = v;\n  },\n  Flex: function (v) {\n    Flex = v;\n  }\n}, 0);\nvar UserAvatar;\nmodule.link(\"@rocket.chat/ui-avatar\", {\n  UserAvatar: function (v) {\n    UserAvatar = v;\n  }\n}, 1);\nvar useRouteParameter, useSearchParameter, useTranslation;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useRouteParameter: function (v) {\n    useRouteParameter = v;\n  },\n  useSearchParameter: function (v) {\n    useSearchParameter = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 2);\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 3);\nvar React, useEffect, useState, useCallback;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  }\n}, 4);\nvar sdk;\nmodule.link(\"../../../app/utils/client/lib/SDKClient\", {\n  sdk: function (v) {\n    sdk = v;\n  }\n}, 5);\nvar useEmbeddedLayout;\nmodule.link(\"../../hooks/useEmbeddedLayout\", {\n  useEmbeddedLayout: function (v) {\n    useEmbeddedLayout = v;\n  }\n}, 6);\nvar NotFoundPage;\nmodule.link(\"../notFound/NotFoundPage\", {\n  \"default\": function (v) {\n    NotFoundPage = v;\n  }\n}, 7);\nvar PageLoading;\nmodule.link(\"../root/PageLoading\", {\n  \"default\": function (v) {\n    PageLoading = v;\n  }\n}, 8);\nvar CallPage;\nmodule.link(\"./CallPage\", {\n  \"default\": function (v) {\n    CallPage = v;\n  }\n}, 9);\nmodule.link(\"./styles.css\");\nvar MeetPage = function () {\n  var t = useTranslation();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isRoomMember = _useState2[0],\n    setIsRoomMember = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    status = _useState4[0],\n    setStatus = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    visitorId = _useState6[0],\n    setVisitorId = _useState6[1];\n  var roomId = useRouteParameter('rid');\n  var visitorToken = useSearchParameter('token');\n  var isLayoutEmbedded = useEmbeddedLayout();\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    visitorName = _useState8[0],\n    setVisitorName = _useState8[1];\n  var _useState9 = useState(''),\n    _useState10 = _slicedToArray(_useState9, 2),\n    agentName = _useState10[0],\n    setAgentName = _useState10[1];\n  var _useState11 = useState(undefined),\n    _useState12 = _slicedToArray(_useState11, 2),\n    callStartTime = _useState12[0],\n    setCallStartTime = _useState12[1];\n  var isMobileDevice = function () {\n    return window.innerWidth <= 450;\n  };\n  var closeCallTab = function () {\n    return window.close();\n  };\n  var setupCallForVisitor = useCallback(function () {\n    function _callee() {\n      var _room$room, _room$room$v;\n      var room, _room$room2, _room$room2$responseB, _room$room3;\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (!(!visitorToken || !roomId)) {\n                _context.next = 2;\n                break;\n              }\n              throw new Error('Missing parameters');\n            case 2:\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(sdk.rest.get('/v1/livechat/room', {\n                token: visitorToken,\n                rid: roomId\n              }));\n            case 4:\n              room = _context.sent;\n              if (!((room === null || room === void 0 ? void 0 : (_room$room = room.room) === null || _room$room === void 0 ? void 0 : (_room$room$v = _room$room.v) === null || _room$room$v === void 0 ? void 0 : _room$room$v.token) === visitorToken)) {\n                _context.next = 12;\n                break;\n              }\n              setVisitorId(room.room.v._id);\n              setVisitorName(room.room.fname);\n              room !== null && room !== void 0 && (_room$room2 = room.room) !== null && _room$room2 !== void 0 && (_room$room2$responseB = _room$room2.responseBy) !== null && _room$room2$responseB !== void 0 && _room$room2$responseB.username ? setAgentName(room.room.responseBy.username) : setAgentName(room.room.servedBy.username);\n              setStatus((room === null || room === void 0 ? void 0 : (_room$room3 = room.room) === null || _room$room3 === void 0 ? void 0 : _room$room3.callStatus) || 'ended');\n              setCallStartTime(room.room.webRtcCallStartTime);\n              return _context.abrupt(\"return\", setIsRoomMember(true));\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, null, Promise);\n    }\n    return _callee;\n  }(), [visitorToken, roomId]);\n  var setupCallForAgent = useCallback(function () {\n    function _callee2() {\n      var _room$room4, _room$room4$servedBy;\n      var room, _room$room5, _room$room5$responseB, _room$room6;\n      return _regeneratorRuntime.async(function () {\n        function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (roomId) {\n                _context2.next = 2;\n                break;\n              }\n              throw new Error('Missing parameters');\n            case 2:\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(sdk.rest.get('/v1/rooms.info', {\n                roomId: roomId\n              }));\n            case 4:\n              room = _context2.sent;\n              if (!((room === null || room === void 0 ? void 0 : (_room$room4 = room.room) === null || _room$room4 === void 0 ? void 0 : (_room$room4$servedBy = _room$room4.servedBy) === null || _room$room4$servedBy === void 0 ? void 0 : _room$room4$servedBy._id) === Meteor.userId())) {\n                _context2.next = 11;\n                break;\n              }\n              setVisitorName(room.room.fname);\n              room !== null && room !== void 0 && (_room$room5 = room.room) !== null && _room$room5 !== void 0 && (_room$room5$responseB = _room$room5.responseBy) !== null && _room$room5$responseB !== void 0 && _room$room5$responseB.username ? setAgentName(room.room.responseBy.username) : setAgentName(room.room.servedBy.username);\n              setStatus((room === null || room === void 0 ? void 0 : (_room$room6 = room.room) === null || _room$room6 === void 0 ? void 0 : _room$room6.callStatus) || 'ended');\n              setCallStartTime(room.room.webRtcCallStartTime);\n              return _context2.abrupt(\"return\", setIsRoomMember(true));\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n        return _callee2$;\n      }(), null, null, null, Promise);\n    }\n    return _callee2;\n  }(), [roomId]);\n  useEffect(function () {\n    if (visitorToken) {\n      setupCallForVisitor();\n      return;\n    }\n    setupCallForAgent();\n  }, [setupCallForAgent, setupCallForVisitor, visitorToken]);\n  if (status === null) {\n    return /*#__PURE__*/React.createElement(PageLoading, null);\n  }\n  if (!isRoomMember) {\n    return /*#__PURE__*/React.createElement(NotFoundPage, null);\n  }\n  if (status === 'ended') {\n    return /*#__PURE__*/React.createElement(Flex.Container, {\n      direction: \"column\",\n      justifyContent: \"center\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      width: \"full\",\n      minHeight: \"sh\",\n      alignItems: \"center\",\n      backgroundColor: \"dark\",\n      overflow: \"hidden\",\n      position: \"relative\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      position: \"absolute\",\n      style: {\n        top: '5%',\n        right: '2%'\n      },\n      className: \"Self_Video\",\n      backgroundColor: \"dark\",\n      alignItems: \"center\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      style: {\n        display: 'block',\n        margin: 'auto'\n      }\n    }, /*#__PURE__*/React.createElement(UserAvatar, {\n      username: visitorToken ? visitorName : agentName,\n      size: isMobileDevice() ? 'x32' : 'x48'\n    }))), /*#__PURE__*/React.createElement(Box, {\n      position: \"absolute\",\n      zIndex: 1,\n      style: {\n        top: isMobileDevice() ? '30%' : '20%',\n        display: 'flex',\n        justifyContent: 'center',\n        flexDirection: 'column'\n      },\n      alignItems: \"center\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      style: {\n        display: 'block',\n        margin: 'auto'\n      }\n    }, /*#__PURE__*/React.createElement(UserAvatar, {\n      username: visitorToken ? agentName : visitorName,\n      size: \"x124\"\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'white',\n        fontSize: 16,\n        margin: 15\n      }\n    }, \"Call Ended!\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'white',\n        fontSize: isMobileDevice() ? 15 : 22\n      }\n    }, visitorToken ? agentName : visitorName)), /*#__PURE__*/React.createElement(Box, {\n      position: \"absolute\",\n      alignItems: \"center\",\n      style: {\n        bottom: '20%'\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      icon: \"cross\",\n      square: true,\n      title: t('Close_Window'),\n      onClick: closeCallTab,\n      backgroundColor: \"dark\",\n      borderColor: \"extra-dark\"\n    }))));\n  }\n  return /*#__PURE__*/React.createElement(CallPage, {\n    roomId: roomId,\n    status: status,\n    visitorToken: visitorToken,\n    visitorId: visitorId,\n    setStatus: setStatus,\n    visitorName: visitorName,\n    agentName: agentName,\n    isLayoutEmbedded: isLayoutEmbedded,\n    callStartTime: callStartTime\n  });\n};\nmodule.exportDefault(MeetPage);","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","_slicedToArray","Button","Box","Flex","UserAvatar","useRouteParameter","useSearchParameter","useTranslation","Meteor","React","useEffect","useState","useCallback","sdk","useEmbeddedLayout","NotFoundPage","PageLoading","CallPage","MeetPage","t","_useState","_useState2","isRoomMember","setIsRoomMember","_useState3","_useState4","status","setStatus","_useState5","_useState6","visitorId","setVisitorId","roomId","visitorToken","isLayoutEmbedded","_useState7","_useState8","visitorName","setVisitorName","_useState9","_useState10","agentName","setAgentName","_useState11","undefined","_useState12","callStartTime","setCallStartTime","isMobileDevice","window","innerWidth","closeCallTab","close","setupCallForVisitor","_callee","_room$room","_room$room$v","room","_room$room2","_room$room2$responseB","_room$room3","async","_callee$","_context","prev","next","Error","awrap","rest","get","token","rid","sent","_id","fname","responseBy","username","servedBy","callStatus","webRtcCallStartTime","abrupt","stop","Promise","setupCallForAgent","_callee2","_room$room4","_room$room4$servedBy","_room$room5","_room$room5$responseB","_room$room6","_callee2$","_context2","userId","createElement","Container","direction","justifyContent","width","minHeight","alignItems","backgroundColor","overflow","position","style","top","right","className","display","margin","size","zIndex","flexDirection","color","fontSize","bottom","icon","square","title","onClick","borderColor","exportDefault"],"sources":["client/views/meet/MeetPage.tsx"],"sourcesContent":["import { Button, Box, Flex } from '@rocket.chat/fuselage';\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\nimport { useRouteParameter, useSearchParameter, useTranslation } from '@rocket.chat/ui-contexts';\nimport { Meteor } from 'meteor/meteor';\nimport React, { useEffect, useState, useCallback } from 'react';\n\nimport { sdk } from '../../../app/utils/client/lib/SDKClient';\nimport { useEmbeddedLayout } from '../../hooks/useEmbeddedLayout';\nimport NotFoundPage from '../notFound/NotFoundPage';\nimport PageLoading from '../root/PageLoading';\nimport CallPage from './CallPage';\nimport './styles.css';\n\nconst MeetPage = () => {\n\tconst t = useTranslation();\n\tconst [isRoomMember, setIsRoomMember] = useState(false);\n\tconst [status, setStatus] = useState(null);\n\tconst [visitorId, setVisitorId] = useState(null);\n\tconst roomId = useRouteParameter('rid');\n\tconst visitorToken = useSearchParameter('token');\n\tconst isLayoutEmbedded = useEmbeddedLayout();\n\tconst [visitorName, setVisitorName] = useState('');\n\tconst [agentName, setAgentName] = useState('');\n\tconst [callStartTime, setCallStartTime] = useState(undefined);\n\n\tconst isMobileDevice = (): boolean => window.innerWidth <= 450;\n\tconst closeCallTab = (): void => window.close();\n\n\tconst setupCallForVisitor = useCallback(async () => {\n\t\tif (!visitorToken || !roomId) {\n\t\t\tthrow new Error('Missing parameters');\n\t\t}\n\n\t\tconst room = (await sdk.rest.get('/v1/livechat/room', {\n\t\t\ttoken: visitorToken,\n\t\t\trid: roomId,\n\t\t})) as any;\n\t\tif (room?.room?.v?.token === visitorToken) {\n\t\t\tsetVisitorId(room.room.v._id);\n\t\t\tsetVisitorName(room.room.fname);\n\t\t\troom?.room?.responseBy?.username ? setAgentName(room.room.responseBy.username) : setAgentName(room.room.servedBy.username);\n\t\t\tsetStatus(room?.room?.callStatus || 'ended');\n\t\t\tsetCallStartTime(room.room.webRtcCallStartTime);\n\t\t\treturn setIsRoomMember(true);\n\t\t}\n\t}, [visitorToken, roomId]);\n\n\tconst setupCallForAgent = useCallback(async () => {\n\t\tif (!roomId) {\n\t\t\tthrow new Error('Missing parameters');\n\t\t}\n\n\t\tconst room = (await sdk.rest.get('/v1/rooms.info', { roomId })) as any;\n\t\tif (room?.room?.servedBy?._id === Meteor.userId()) {\n\t\t\tsetVisitorName(room.room.fname);\n\t\t\troom?.room?.responseBy?.username ? setAgentName(room.room.responseBy.username) : setAgentName(room.room.servedBy.username);\n\t\t\tsetStatus(room?.room?.callStatus || 'ended');\n\t\t\tsetCallStartTime(room.room.webRtcCallStartTime);\n\t\t\treturn setIsRoomMember(true);\n\t\t}\n\t}, [roomId]);\n\n\tuseEffect(() => {\n\t\tif (visitorToken) {\n\t\t\tsetupCallForVisitor();\n\t\t\treturn;\n\t\t}\n\t\tsetupCallForAgent();\n\t}, [setupCallForAgent, setupCallForVisitor, visitorToken]);\n\n\tif (status === null) {\n\t\treturn <PageLoading />;\n\t}\n\n\tif (!isRoomMember) {\n\t\treturn <NotFoundPage />;\n\t}\n\n\tif (status === 'ended') {\n\t\treturn (\n\t\t\t<Flex.Container direction='column' justifyContent='center'>\n\t\t\t\t<Box width='full' minHeight='sh' alignItems='center' backgroundColor='dark' overflow='hidden' position='relative'>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tposition='absolute'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: '5%',\n\t\t\t\t\t\t\tright: '2%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='Self_Video'\n\t\t\t\t\t\tbackgroundColor='dark'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\tmargin: 'auto',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<UserAvatar username={visitorToken ? visitorName : agentName} size={isMobileDevice() ? 'x32' : 'x48'} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tposition='absolute'\n\t\t\t\t\t\tzIndex={1}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: isMobileDevice() ? '30%' : '20%',\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\tmargin: 'auto',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<UserAvatar username={visitorToken ? agentName : visitorName} size='x124' />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<p style={{ color: 'white', fontSize: 16, margin: 15 }}>Call Ended!</p>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\t\tfontSize: isMobileDevice() ? 15 : 22,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{visitorToken ? agentName : visitorName}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box position='absolute' alignItems='center' style={{ bottom: '20%' }}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon='cross'\n\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\ttitle={t('Close_Window')}\n\t\t\t\t\t\t\tonClick={closeCallTab}\n\t\t\t\t\t\t\tbackgroundColor='dark'\n\t\t\t\t\t\t\tborderColor='extra-dark'\n\t\t\t\t\t\t></Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Flex.Container>\n\t\t);\n\t}\n\n\treturn (\n\t\t<CallPage\n\t\t\troomId={roomId}\n\t\t\tstatus={status}\n\t\t\tvisitorToken={visitorToken}\n\t\t\tvisitorId={visitorId}\n\t\t\tsetStatus={setStatus}\n\t\t\tvisitorName={visitorName}\n\t\t\tagentName={agentName}\n\t\t\tisLayoutEmbedded={isLayoutEmbedded}\n\t\t\tcallStartTime={callStartTime}\n\t\t/>\n\t);\n};\n\nexport default MeetPage;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"95e8e1c7861133433b90fdc9f5fc38b5eeae8aee"}
