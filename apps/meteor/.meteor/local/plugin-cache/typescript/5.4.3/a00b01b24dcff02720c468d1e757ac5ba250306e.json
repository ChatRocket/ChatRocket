{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/Omnichannel/modals/ForwardChatModal.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/components/Omnichannel/modals/ForwardChatModal.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/Omnichannel/modals/ForwardChatModal.tsx","inputSourceMap":{"version":3,"file":"client/components/Omnichannel/modals/ForwardChatModal.tsx","sourceRoot":"","sources":["client/components/Omnichannel/modals/ForwardChatModal.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IOmnichannelRoom } from '@rocket.chat/core-typings';\nimport {\n\tField,\n\tFieldGroup,\n\tButton,\n\tTextAreaInput,\n\tModal,\n\tBox,\n\tPaginatedSelectFiltered,\n\tDivider,\n\tFieldLabel,\n\tFieldRow,\n\tOption,\n} from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useSetting } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { useRecordList } from '../../../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport AutoCompleteAgent from '../../AutoCompleteAgent';\nimport { useDepartmentsList } from '../hooks/useDepartmentsList';\n\nconst ForwardChatModal = ({\n\tonForward,\n\tonCancel,\n\troom,\n\t...props\n}: {\n\tonForward: (departmentId?: string, userId?: string, comment?: string) => Promise<void>;\n\tonCancel: () => void;\n\troom: IOmnichannelRoom;\n}): ReactElement => {\n\tconst { t } = useTranslation();\n\tconst getUserData = useEndpoint('GET', '/v1/users.info');\n\tconst idleAgentsAllowedForForwarding = useSetting('Livechat_enabled_when_agent_idle') as boolean;\n\n\tconst {\n\t\tgetValues,\n\t\thandleSubmit,\n\t\tregister,\n\t\tsetFocus,\n\t\tsetValue,\n\t\twatch,\n\t\tformState: { isSubmitting },\n\t} = useForm();\n\n\tuseEffect(() => {\n\t\tsetFocus('comment');\n\t}, [setFocus]);\n\n\tconst department = watch('department');\n\tconst username = watch('username');\n\n\tconst [departmentsFilter, setDepartmentsFilter] = useState<string | number | undefined>('');\n\tconst debouncedDepartmentsFilter = useDebouncedValue(departmentsFilter, 500);\n\n\tconst { itemsList: departmentsList, loadMoreItems: loadMoreDepartments } = useDepartmentsList(\n\t\tuseMemo(() => ({ filter: debouncedDepartmentsFilter as string, enabled: true }), [debouncedDepartmentsFilter]),\n\t);\n\tconst { phase: departmentsPhase, items: departments, itemCount: departmentsTotal } = useRecordList(departmentsList);\n\n\tconst endReached = useCallback(\n\t\t(start) => {\n\t\t\tif (departmentsPhase !== AsyncStatePhase.LOADING) {\n\t\t\t\tloadMoreDepartments(start, Math.min(50, departmentsTotal));\n\t\t\t}\n\t\t},\n\t\t[departmentsPhase, departmentsTotal, loadMoreDepartments],\n\t);\n\n\tconst onSubmit = useCallback(\n\t\tasync ({ department: departmentId, username, comment }) => {\n\t\t\tlet uid;\n\n\t\t\tif (username) {\n\t\t\t\tconst { user } = await getUserData({ username });\n\t\t\t\tuid = user?._id;\n\t\t\t}\n\n\t\t\tawait onForward(departmentId, uid, comment);\n\t\t},\n\t\t[getUserData, onForward],\n\t);\n\n\tuseEffect(() => {\n\t\tregister('department');\n\t\tregister('username');\n\t}, [register]);\n\n\treturn (\n\t\t<Modal\n\t\t\twrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(onSubmit)} {...props} />}\n\t\t\t{...props}\n\t\t\tdata-qa-id='forward-chat-modal'\n\t\t>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Icon name='baloon-arrow-top-right' />\n\t\t\t\t<Modal.Title>{t('Forward_chat')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onCancel} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content fontScale='p2'>\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Forward_to_department')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<PaginatedSelectFiltered\n\t\t\t\t\t\t\t\twithTitle={false}\n\t\t\t\t\t\t\t\tfilter={departmentsFilter as string}\n\t\t\t\t\t\t\t\tsetFilter={setDepartmentsFilter}\n\t\t\t\t\t\t\t\toptions={departments}\n\t\t\t\t\t\t\t\tmaxWidth='100%'\n\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\tdata-qa-id='forward-to-department'\n\t\t\t\t\t\t\t\tonChange={(value: string): void => {\n\t\t\t\t\t\t\t\t\tsetValue('department', value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\tendReached={endReached}\n\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => <Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Divider p={0} children={t('or')} />\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Forward_to_user')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<AutoCompleteAgent\n\t\t\t\t\t\t\t\twithTitle\n\t\t\t\t\t\t\t\tonlyAvailable\n\t\t\t\t\t\t\t\tvalue={getValues().username}\n\t\t\t\t\t\t\t\texcludeId={room.servedBy?._id}\n\t\t\t\t\t\t\t\tshowIdleAgents={idleAgentsAllowedForForwarding}\n\t\t\t\t\t\t\t\tplaceholder={t('Username_name_email')}\n\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\tsetValue('username', value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field marginBlock={15}>\n\t\t\t\t\t\t<FieldLabel>\n\t\t\t\t\t\t\t{t('Leave_a_comment')}{' '}\n\t\t\t\t\t\t\t<Box is='span' color='annotation'>\n\t\t\t\t\t\t\t\t({t('Optional')})\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextAreaInput data-qa-id='ForwardChatModalTextAreaInputComment' {...register('comment')} rows={8} flexGrow={1} />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button onClick={onCancel}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button type='submit' disabled={!username && !department} primary loading={isSubmitting}>\n\t\t\t\t\t\t{t('Forward')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default ForwardChatModal;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"production","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/Omnichannel/modals/ForwardChatModal.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/components/Omnichannel/modals/ForwardChatModal.tsx","inputSourceMap":{"version":3,"file":"client/components/Omnichannel/modals/ForwardChatModal.tsx","sourceRoot":"","sources":["client/components/Omnichannel/modals/ForwardChatModal.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IOmnichannelRoom } from '@rocket.chat/core-typings';\nimport {\n\tField,\n\tFieldGroup,\n\tButton,\n\tTextAreaInput,\n\tModal,\n\tBox,\n\tPaginatedSelectFiltered,\n\tDivider,\n\tFieldLabel,\n\tFieldRow,\n\tOption,\n} from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useSetting } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { useRecordList } from '../../../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport AutoCompleteAgent from '../../AutoCompleteAgent';\nimport { useDepartmentsList } from '../hooks/useDepartmentsList';\n\nconst ForwardChatModal = ({\n\tonForward,\n\tonCancel,\n\troom,\n\t...props\n}: {\n\tonForward: (departmentId?: string, userId?: string, comment?: string) => Promise<void>;\n\tonCancel: () => void;\n\troom: IOmnichannelRoom;\n}): ReactElement => {\n\tconst { t } = useTranslation();\n\tconst getUserData = useEndpoint('GET', '/v1/users.info');\n\tconst idleAgentsAllowedForForwarding = useSetting('Livechat_enabled_when_agent_idle') as boolean;\n\n\tconst {\n\t\tgetValues,\n\t\thandleSubmit,\n\t\tregister,\n\t\tsetFocus,\n\t\tsetValue,\n\t\twatch,\n\t\tformState: { isSubmitting },\n\t} = useForm();\n\n\tuseEffect(() => {\n\t\tsetFocus('comment');\n\t}, [setFocus]);\n\n\tconst department = watch('department');\n\tconst username = watch('username');\n\n\tconst [departmentsFilter, setDepartmentsFilter] = useState<string | number | undefined>('');\n\tconst debouncedDepartmentsFilter = useDebouncedValue(departmentsFilter, 500);\n\n\tconst { itemsList: departmentsList, loadMoreItems: loadMoreDepartments } = useDepartmentsList(\n\t\tuseMemo(() => ({ filter: debouncedDepartmentsFilter as string, enabled: true }), [debouncedDepartmentsFilter]),\n\t);\n\tconst { phase: departmentsPhase, items: departments, itemCount: departmentsTotal } = useRecordList(departmentsList);\n\n\tconst endReached = useCallback(\n\t\t(start) => {\n\t\t\tif (departmentsPhase !== AsyncStatePhase.LOADING) {\n\t\t\t\tloadMoreDepartments(start, Math.min(50, departmentsTotal));\n\t\t\t}\n\t\t},\n\t\t[departmentsPhase, departmentsTotal, loadMoreDepartments],\n\t);\n\n\tconst onSubmit = useCallback(\n\t\tasync ({ department: departmentId, username, comment }) => {\n\t\t\tlet uid;\n\n\t\t\tif (username) {\n\t\t\t\tconst { user } = await getUserData({ username });\n\t\t\t\tuid = user?._id;\n\t\t\t}\n\n\t\t\tawait onForward(departmentId, uid, comment);\n\t\t},\n\t\t[getUserData, onForward],\n\t);\n\n\tuseEffect(() => {\n\t\tregister('department');\n\t\tregister('username');\n\t}, [register]);\n\n\treturn (\n\t\t<Modal\n\t\t\twrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(onSubmit)} {...props} />}\n\t\t\t{...props}\n\t\t\tdata-qa-id='forward-chat-modal'\n\t\t>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Icon name='baloon-arrow-top-right' />\n\t\t\t\t<Modal.Title>{t('Forward_chat')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onCancel} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content fontScale='p2'>\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Forward_to_department')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<PaginatedSelectFiltered\n\t\t\t\t\t\t\t\twithTitle={false}\n\t\t\t\t\t\t\t\tfilter={departmentsFilter as string}\n\t\t\t\t\t\t\t\tsetFilter={setDepartmentsFilter}\n\t\t\t\t\t\t\t\toptions={departments}\n\t\t\t\t\t\t\t\tmaxWidth='100%'\n\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\tdata-qa-id='forward-to-department'\n\t\t\t\t\t\t\t\tonChange={(value: string): void => {\n\t\t\t\t\t\t\t\t\tsetValue('department', value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\tendReached={endReached}\n\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => <Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Divider p={0} children={t('or')} />\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Forward_to_user')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<AutoCompleteAgent\n\t\t\t\t\t\t\t\twithTitle\n\t\t\t\t\t\t\t\tonlyAvailable\n\t\t\t\t\t\t\t\tvalue={getValues().username}\n\t\t\t\t\t\t\t\texcludeId={room.servedBy?._id}\n\t\t\t\t\t\t\t\tshowIdleAgents={idleAgentsAllowedForForwarding}\n\t\t\t\t\t\t\t\tplaceholder={t('Username_name_email')}\n\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\tsetValue('username', value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field marginBlock={15}>\n\t\t\t\t\t\t<FieldLabel>\n\t\t\t\t\t\t\t{t('Leave_a_comment')}{' '}\n\t\t\t\t\t\t\t<Box is='span' color='annotation'>\n\t\t\t\t\t\t\t\t({t('Optional')})\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextAreaInput data-qa-id='ForwardChatModalTextAreaInputComment' {...register('comment')} rows={8} flexGrow={1} />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button onClick={onCancel}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button type='submit' disabled={!username && !department} primary loading={isSubmitting}>\n\t\t\t\t\t\t{t('Forward')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default ForwardChatModal;\n"]}}},"code":"var _excluded = [\"onForward\", \"onCancel\", \"room\"],\n  _excluded2 = [\"label\"];\nvar _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 1);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 2);\nvar _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 3);\nvar Field, FieldGroup, Button, TextAreaInput, Modal, Box, PaginatedSelectFiltered, Divider, FieldLabel, FieldRow, Option;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Field: function (v) {\n    Field = v;\n  },\n  FieldGroup: function (v) {\n    FieldGroup = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  TextAreaInput: function (v) {\n    TextAreaInput = v;\n  },\n  Modal: function (v) {\n    Modal = v;\n  },\n  Box: function (v) {\n    Box = v;\n  },\n  PaginatedSelectFiltered: function (v) {\n    PaginatedSelectFiltered = v;\n  },\n  Divider: function (v) {\n    Divider = v;\n  },\n  FieldLabel: function (v) {\n    FieldLabel = v;\n  },\n  FieldRow: function (v) {\n    FieldRow = v;\n  },\n  Option: function (v) {\n    Option = v;\n  }\n}, 0);\nvar useDebouncedValue;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useDebouncedValue: function (v) {\n    useDebouncedValue = v;\n  }\n}, 1);\nvar useEndpoint, useSetting;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useEndpoint: function (v) {\n    useEndpoint = v;\n  },\n  useSetting: function (v) {\n    useSetting = v;\n  }\n}, 2);\nvar React, useCallback, useEffect, useMemo, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 3);\nvar useForm;\nmodule.link(\"react-hook-form\", {\n  useForm: function (v) {\n    useForm = v;\n  }\n}, 4);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 5);\nvar useRecordList;\nmodule.link(\"../../../hooks/lists/useRecordList\", {\n  useRecordList: function (v) {\n    useRecordList = v;\n  }\n}, 6);\nvar AsyncStatePhase;\nmodule.link(\"../../../hooks/useAsyncState\", {\n  AsyncStatePhase: function (v) {\n    AsyncStatePhase = v;\n  }\n}, 7);\nvar AutoCompleteAgent;\nmodule.link(\"../../AutoCompleteAgent\", {\n  \"default\": function (v) {\n    AutoCompleteAgent = v;\n  }\n}, 8);\nvar useDepartmentsList;\nmodule.link(\"../hooks/useDepartmentsList\", {\n  useDepartmentsList: function (v) {\n    useDepartmentsList = v;\n  }\n}, 9);\nvar ForwardChatModal = function (_ref) {\n  var _room$servedBy;\n  var onForward = _ref.onForward,\n    onCancel = _ref.onCancel,\n    room = _ref.room,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var getUserData = useEndpoint('GET', '/v1/users.info');\n  var idleAgentsAllowedForForwarding = useSetting('Livechat_enabled_when_agent_idle');\n  var _useForm = useForm(),\n    getValues = _useForm.getValues,\n    handleSubmit = _useForm.handleSubmit,\n    register = _useForm.register,\n    setFocus = _useForm.setFocus,\n    setValue = _useForm.setValue,\n    watch = _useForm.watch,\n    isSubmitting = _useForm.formState.isSubmitting;\n  useEffect(function () {\n    setFocus('comment');\n  }, [setFocus]);\n  var department = watch('department');\n  var username = watch('username');\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    departmentsFilter = _useState2[0],\n    setDepartmentsFilter = _useState2[1];\n  var debouncedDepartmentsFilter = useDebouncedValue(departmentsFilter, 500);\n  var _useDepartmentsList = useDepartmentsList(useMemo(function () {\n      return {\n        filter: debouncedDepartmentsFilter,\n        enabled: true\n      };\n    }, [debouncedDepartmentsFilter])),\n    departmentsList = _useDepartmentsList.itemsList,\n    loadMoreDepartments = _useDepartmentsList.loadMoreItems;\n  var _useRecordList = useRecordList(departmentsList),\n    departmentsPhase = _useRecordList.phase,\n    departments = _useRecordList.items,\n    departmentsTotal = _useRecordList.itemCount;\n  var endReached = useCallback(function (start) {\n    if (departmentsPhase !== AsyncStatePhase.LOADING) {\n      loadMoreDepartments(start, Math.min(50, departmentsTotal));\n    }\n  }, [departmentsPhase, departmentsTotal, loadMoreDepartments]);\n  var onSubmit = useCallback(function () {\n    function _callee(_ref2) {\n      var departmentId, username, comment, uid, _await$getUserData, user;\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              departmentId = _ref2.department, username = _ref2.username, comment = _ref2.comment;\n              if (!username) {\n                _context.next = 7;\n                break;\n              }\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(getUserData({\n                username: username\n              }));\n            case 4:\n              _await$getUserData = _context.sent;\n              user = _await$getUserData.user;\n              uid = user === null || user === void 0 ? void 0 : user._id;\n            case 7:\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(onForward(departmentId, uid, comment));\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, null, Promise);\n    }\n    return _callee;\n  }(), [getUserData, onForward]);\n  useEffect(function () {\n    register('department');\n    register('username');\n  }, [register]);\n  return /*#__PURE__*/React.createElement(Modal, _extends({\n    wrapperFunction: function (props) {\n      return /*#__PURE__*/React.createElement(Box, _extends({\n        is: \"form\",\n        onSubmit: handleSubmit(onSubmit)\n      }, props));\n    }\n  }, props, {\n    \"data-qa-id\": \"forward-chat-modal\"\n  }), /*#__PURE__*/React.createElement(Modal.Header, null, /*#__PURE__*/React.createElement(Modal.Icon, {\n    name: \"baloon-arrow-top-right\"\n  }), /*#__PURE__*/React.createElement(Modal.Title, null, t('Forward_chat')), /*#__PURE__*/React.createElement(Modal.Close, {\n    onClick: onCancel\n  })), /*#__PURE__*/React.createElement(Modal.Content, {\n    fontScale: \"p2\"\n  }, /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, null, t('Forward_to_department')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(PaginatedSelectFiltered, {\n    withTitle: false,\n    filter: departmentsFilter,\n    setFilter: setDepartmentsFilter,\n    options: departments,\n    maxWidth: \"100%\",\n    placeholder: t('Select_an_option'),\n    \"data-qa-id\": \"forward-to-department\",\n    onChange: function (value) {\n      setValue('department', value);\n    },\n    flexGrow: 1,\n    endReached: endReached,\n    renderItem: function (_ref3) {\n      var label = _ref3.label,\n        props = _objectWithoutProperties(_ref3, _excluded2);\n      return /*#__PURE__*/React.createElement(Option, _extends({}, props, {\n        label: /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            whiteSpace: 'normal'\n          }\n        }, label)\n      }));\n    }\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    p: 0,\n    children: t('or')\n  }), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, null, t('Forward_to_user')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(AutoCompleteAgent, {\n    withTitle: true,\n    onlyAvailable: true,\n    value: getValues().username,\n    excludeId: (_room$servedBy = room.servedBy) === null || _room$servedBy === void 0 ? void 0 : _room$servedBy._id,\n    showIdleAgents: idleAgentsAllowedForForwarding,\n    placeholder: t('Username_name_email'),\n    onChange: function (value) {\n      setValue('username', value);\n    }\n  }))), /*#__PURE__*/React.createElement(Field, {\n    marginBlock: 15\n  }, /*#__PURE__*/React.createElement(FieldLabel, null, t('Leave_a_comment'), ' ', /*#__PURE__*/React.createElement(Box, {\n    is: \"span\",\n    color: \"annotation\"\n  }, \"(\", t('Optional'), \")\")), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextAreaInput, _extends({\n    \"data-qa-id\": \"ForwardChatModalTextAreaInputComment\"\n  }, register('comment'), {\n    rows: 8,\n    flexGrow: 1\n  })))))), /*#__PURE__*/React.createElement(Modal.Footer, null, /*#__PURE__*/React.createElement(Modal.FooterControllers, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: onCancel\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    disabled: !username && !department,\n    primary: true,\n    loading: isSubmitting\n  }, t('Forward')))));\n};\nmodule.exportDefault(ForwardChatModal);","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","_extends","_slicedToArray","_objectWithoutProperties","Field","FieldGroup","Button","TextAreaInput","Modal","Box","PaginatedSelectFiltered","Divider","FieldLabel","FieldRow","Option","useDebouncedValue","useEndpoint","useSetting","React","useCallback","useEffect","useMemo","useState","useForm","useTranslation","useRecordList","AsyncStatePhase","AutoCompleteAgent","useDepartmentsList","ForwardChatModal","_ref","_room$servedBy","onForward","onCancel","room","props","_excluded","_useTranslation","t","getUserData","idleAgentsAllowedForForwarding","_useForm","getValues","handleSubmit","register","setFocus","setValue","watch","isSubmitting","formState","department","username","_useState","_useState2","departmentsFilter","setDepartmentsFilter","debouncedDepartmentsFilter","_useDepartmentsList","filter","enabled","departmentsList","itemsList","loadMoreDepartments","loadMoreItems","_useRecordList","departmentsPhase","phase","departments","items","departmentsTotal","itemCount","endReached","start","LOADING","Math","min","onSubmit","_callee","_ref2","departmentId","comment","uid","_await$getUserData","user","async","_callee$","_context","prev","next","awrap","sent","_id","stop","Promise","createElement","wrapperFunction","is","Header","Icon","name","Title","Close","onClick","Content","fontScale","withTitle","setFilter","options","maxWidth","placeholder","onChange","value","flexGrow","renderItem","_ref3","label","_excluded2","style","whiteSpace","p","children","onlyAvailable","excludeId","servedBy","showIdleAgents","marginBlock","color","rows","Footer","FooterControllers","type","disabled","primary","loading","exportDefault"],"sources":["client/components/Omnichannel/modals/ForwardChatModal.tsx"],"sourcesContent":["import type { IOmnichannelRoom } from '@rocket.chat/core-typings';\nimport {\n\tField,\n\tFieldGroup,\n\tButton,\n\tTextAreaInput,\n\tModal,\n\tBox,\n\tPaginatedSelectFiltered,\n\tDivider,\n\tFieldLabel,\n\tFieldRow,\n\tOption,\n} from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useSetting } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { useRecordList } from '../../../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport AutoCompleteAgent from '../../AutoCompleteAgent';\nimport { useDepartmentsList } from '../hooks/useDepartmentsList';\n\nconst ForwardChatModal = ({\n\tonForward,\n\tonCancel,\n\troom,\n\t...props\n}: {\n\tonForward: (departmentId?: string, userId?: string, comment?: string) => Promise<void>;\n\tonCancel: () => void;\n\troom: IOmnichannelRoom;\n}): ReactElement => {\n\tconst { t } = useTranslation();\n\tconst getUserData = useEndpoint('GET', '/v1/users.info');\n\tconst idleAgentsAllowedForForwarding = useSetting('Livechat_enabled_when_agent_idle') as boolean;\n\n\tconst {\n\t\tgetValues,\n\t\thandleSubmit,\n\t\tregister,\n\t\tsetFocus,\n\t\tsetValue,\n\t\twatch,\n\t\tformState: { isSubmitting },\n\t} = useForm();\n\n\tuseEffect(() => {\n\t\tsetFocus('comment');\n\t}, [setFocus]);\n\n\tconst department = watch('department');\n\tconst username = watch('username');\n\n\tconst [departmentsFilter, setDepartmentsFilter] = useState<string | number | undefined>('');\n\tconst debouncedDepartmentsFilter = useDebouncedValue(departmentsFilter, 500);\n\n\tconst { itemsList: departmentsList, loadMoreItems: loadMoreDepartments } = useDepartmentsList(\n\t\tuseMemo(() => ({ filter: debouncedDepartmentsFilter as string, enabled: true }), [debouncedDepartmentsFilter]),\n\t);\n\tconst { phase: departmentsPhase, items: departments, itemCount: departmentsTotal } = useRecordList(departmentsList);\n\n\tconst endReached = useCallback(\n\t\t(start) => {\n\t\t\tif (departmentsPhase !== AsyncStatePhase.LOADING) {\n\t\t\t\tloadMoreDepartments(start, Math.min(50, departmentsTotal));\n\t\t\t}\n\t\t},\n\t\t[departmentsPhase, departmentsTotal, loadMoreDepartments],\n\t);\n\n\tconst onSubmit = useCallback(\n\t\tasync ({ department: departmentId, username, comment }) => {\n\t\t\tlet uid;\n\n\t\t\tif (username) {\n\t\t\t\tconst { user } = await getUserData({ username });\n\t\t\t\tuid = user?._id;\n\t\t\t}\n\n\t\t\tawait onForward(departmentId, uid, comment);\n\t\t},\n\t\t[getUserData, onForward],\n\t);\n\n\tuseEffect(() => {\n\t\tregister('department');\n\t\tregister('username');\n\t}, [register]);\n\n\treturn (\n\t\t<Modal\n\t\t\twrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(onSubmit)} {...props} />}\n\t\t\t{...props}\n\t\t\tdata-qa-id='forward-chat-modal'\n\t\t>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Icon name='baloon-arrow-top-right' />\n\t\t\t\t<Modal.Title>{t('Forward_chat')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onCancel} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content fontScale='p2'>\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Forward_to_department')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<PaginatedSelectFiltered\n\t\t\t\t\t\t\t\twithTitle={false}\n\t\t\t\t\t\t\t\tfilter={departmentsFilter as string}\n\t\t\t\t\t\t\t\tsetFilter={setDepartmentsFilter}\n\t\t\t\t\t\t\t\toptions={departments}\n\t\t\t\t\t\t\t\tmaxWidth='100%'\n\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\tdata-qa-id='forward-to-department'\n\t\t\t\t\t\t\t\tonChange={(value: string): void => {\n\t\t\t\t\t\t\t\t\tsetValue('department', value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\tendReached={endReached}\n\t\t\t\t\t\t\t\trenderItem={({ label, ...props }) => <Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Divider p={0} children={t('or')} />\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Forward_to_user')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<AutoCompleteAgent\n\t\t\t\t\t\t\t\twithTitle\n\t\t\t\t\t\t\t\tonlyAvailable\n\t\t\t\t\t\t\t\tvalue={getValues().username}\n\t\t\t\t\t\t\t\texcludeId={room.servedBy?._id}\n\t\t\t\t\t\t\t\tshowIdleAgents={idleAgentsAllowedForForwarding}\n\t\t\t\t\t\t\t\tplaceholder={t('Username_name_email')}\n\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\tsetValue('username', value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field marginBlock={15}>\n\t\t\t\t\t\t<FieldLabel>\n\t\t\t\t\t\t\t{t('Leave_a_comment')}{' '}\n\t\t\t\t\t\t\t<Box is='span' color='annotation'>\n\t\t\t\t\t\t\t\t({t('Optional')})\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextAreaInput data-qa-id='ForwardChatModalTextAreaInputComment' {...register('comment')} rows={8} flexGrow={1} />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button onClick={onCancel}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button type='submit' disabled={!username && !department} primary loading={isSubmitting}>\n\t\t\t\t\t\t{t('Forward')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default ForwardChatModal;\n"],"mappings":";;AACA,IAAAA,mBAEC;AAAAC,MACA,CAAAC,IAAM,CACN,4BAGA;EAAAC,OAAA,WAAAA,CAAAC,CAAA;IAAuBJ,mBAEvB,GAAAI,CAAU;EAAA;AAAA,CACV;AAAA,IAAQC,QACF;AAAAJ,MACN,CAAAC,IAAM,iCAAwB;EAAAC,OAAA,WAAAA,CAAAC,CAAA;IAAAC,QAAA,GAAAD,CAAA;EAAA;AAAA;AAAA,IAAAE,cAAA;AAAAL,MAAA,CAAAC,IAAA;EAAAC,OAAA,WAAAA,CAAAC,CAAA;IAAAE,cAAA,GAAAF,CAAA;EAAA;AAAA;AAAA,IAAAG,wBAAA;AAAAN,MAAA,CAAAC,IAAA;EAAAC,OAAA,WAAAA,CAAAC,CAAA;IAAAG,wBAAA,GAAAH,CAAA;EAAA;AAAA;AAZ/B,IAAAI,KACC,EAAAC,UACA,EAAAC,MAAU,EACVC,aACA,EAAAC,KAAA,EAAAC,GACA,EAAAC,uBAEA,EAAAC,OAAA,EAAAC,UACA,EAAOC,QACP,EAAAC,MACA;AAAAjB,MAAQ,CAAAC,IACR,wBACM;EAAAM,KAAA,WAAAA,CAAwBJ,CAAA;IAAAI,KAAA,GAAAJ,CAAA;EAAA;EAAAK,UAAA,WAAAA,CAAAL,CAAA;IAAAK,UAAA,GAAAL,CAAA;EAAA;EAAAM,MAAA,WAAAA,CAAAN,CAAA;IAAAM,MAAA,GAAAN,CAAA;EAAA;EAAAO,aAAA,WAAAA,CAAAP,CAAA;IAAAO,aAAA,GAAAP,CAAA;EAAA;EAAAQ,KAAA,WAAAA,CAAAR,CAAA;IAAAQ,KAAA,GAAAR,CAAA;EAAA;EAAAS,GAAA,WAAAA,CAAAT,CAAA;IAAAS,GAAA,GAAAT,CAAA;EAAA;EAAAU,uBAAA,WAAAA,CAAAV,CAAA;IAAAU,uBAAA,GAAAV,CAAA;EAAA;EAAAW,OAAA,WAAAA,CAAAX,CAAA;IAAAW,OAAA,GAAAX,CAAA;EAAA;EAAAY,UAAA,WAAAA,CAAAZ,CAAA;IAAAY,UAAA,GAAAZ,CAAA;EAAA;EAAAa,QAAA,WAAAA,CAAAb,CAAA;IAAAa,QAAA,GAAAb,CAAA;EAAA;EAAAc,MAAA,WAAAA,CAAAd,CAAA;IAAAc,MAAA,GAAAd,CAAA;EAAA;AAAA;AAAA,IAAAe,iBAAA;AAAAlB,MAAA,CAAAC,IAAA;EAAAiB,iBAAA,WAAAA,CAAAf,CAAA;IAAAe,iBAAA,GAAAf,CAAA;EAAA;AAAA;AAAA,IAAAgB,WAAA,EAAAC,UAAA;AAAApB,MAAA,CAAAC,IAAA;EAAAkB,WAAA,WAAAA,CAAAhB,CAAA;IAAAgB,WAAA,GAAAhB,CAAA;EAAA;EAAAiB,UAAA,WAAAA,CAAAjB,CAAA;IAAAiB,UAAA,GAAAjB,CAAA;EAAA;AAAA;AAAA,IAAAkB,KAAA,EAAAC,WAAA,EAAAC,SAAA,EAAAC,OAAA,EAAAC,QAAA;AAAAzB,MAAA,CAAAC,IAAA;EAAA,oBAAAC,CAAAC,CAAA;IAAAkB,KAAA,GAAAlB,CAAA;EAAA;EAAAmB,WAAA,WAAAA,CAAAnB,CAAA;IAAAmB,WAAA,GAAAnB,CAAA;EAAA;EAAAoB,SAAA,WAAAA,CAAApB,CAAA;IAAAoB,SAAA,GAAApB,CAAA;EAAA;EAAAqB,OAAA,WAAAA,CAAArB,CAAA;IAAAqB,OAAA,GAAArB,CAAA;EAAA;EAAAsB,QAAA,WAAAA,CAAAtB,CAAA;IAAAsB,QAAA,GAAAtB,CAAA;EAAA;AAAA;AAAA,IAAAuB,OAAA;AAAA1B,MAAA,CAAAC,IAAA;EAAAyB,OAAA,WAAAA,CAAAvB,CAAA;IAAAuB,OAAA,GAAAvB,CAAA;EAAA;AAAA;AAAA,IAAAwB,cAAA;AAAA3B,MAAA,CAAAC,IAAA;EAAA0B,cAAA,WAAAA,CAAAxB,CAAA;IAAAwB,cAAA,GAAAxB,CAAA;EAAA;AAAA;AAAA,IAAAyB,aAAA;AAAA5B,MAAA,CAAAC,IAAA;EAAA2B,aAAA,WAAAA,CAAAzB,CAAA;IAAAyB,aAAA,GAAAzB,CAAA;EAAA;AAAA;AAAA,IAAA0B,eAAA;AAAA7B,MAAA,CAAAC,IAAA;EAAA4B,eAAA,WAAAA,CAAA1B,CAAA;IAAA0B,eAAA,GAAA1B,CAAA;EAAA;AAAA;AAAA,IAAA2B,iBAAA;AAAA9B,MAAA,CAAAC,IAAA;EAAA,oBAAAC,CAAAC,CAAA;IAAA2B,iBAAA,GAAA3B,CAAA;EAAA;AAAA;AAAA,IAAA4B,kBAAA;AAAA/B,MAAA,CAAAC,IAAA;EAAA8B,kBAAA,WAAAA,CAAA5B,CAAA;IAAA4B,kBAAA,GAAA5B,CAAA;EAAA;AAAA;AAa/B,IAAM6B,gBAAgB,GAAG,SAAAA,CAAAC,IAAA,EASN;EAAA,IAAAC,cAAA;EAAA,IARlBC,SAAS,GAAAF,IAAA,CAATE,SAAS;IACTC,QAAQ,GAAAH,IAAA,CAARG,QAAQ;IACRC,IAAI,GAAAJ,IAAA,CAAJI,IAAI;IACDC,KAAK,GAAAhC,wBAAA,CAAA2B,IAAA,EAAAM,SAAA;EAMR,IAAAC,eAAA,GAAcb,cAAc,EAAE;IAAtBc,CAAC,GAAAD,eAAA,CAADC,CAAC;EACT,IAAMC,WAAW,GAAGvB,WAAW,CAAC,KAAK,EAAE,gBAAgB,CAAC;EACxD,IAAMwB,8BAA8B,GAAGvB,UAAU,CAAC,kCAAkC,CAAY;EAEhG,IAAAwB,QAAA,GAQIlB,OAAO,EAAE;IAPZmB,SAAS,GAAAD,QAAA,CAATC,SAAS;IACTC,YAAY,GAAAF,QAAA,CAAZE,YAAY;IACZC,QAAQ,GAAAH,QAAA,CAARG,QAAQ;IACRC,QAAQ,GAAAJ,QAAA,CAARI,QAAQ;IACRC,QAAQ,GAAAL,QAAA,CAARK,QAAQ;IACRC,KAAK,GAAAN,QAAA,CAALM,KAAK;IACQC,YAAY,GAAAP,QAAA,CAAzBQ,SAAS,CAAID,YAAY;EAG1B5B,SAAS,CAAC,YAAK;IACdyB,QAAQ,CAAC,SAAS,CAAC;EACpB,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,IAAMK,UAAU,GAAGH,KAAK,CAAC,YAAY,CAAC;EACtC,IAAMI,QAAQ,GAAGJ,KAAK,CAAC,UAAU,CAAC;EAElC,IAAAK,SAAA,GAAkD9B,QAAQ,CAA8B,EAAE,CAAC;IAAA+B,UAAA,GAAAnD,cAAA,CAAAkD,SAAA;IAApFE,iBAAiB,GAAAD,UAAA;IAAEE,oBAAoB,GAAAF,UAAA;EAC9C,IAAMG,0BAA0B,GAAGzC,iBAAiB,CAACuC,iBAAiB,EAAE,GAAG,CAAC;EAE5E,IAAAG,mBAAA,GAA2E7B,kBAAkB,CAC5FP,OAAO,CAAC;MAAA,OAAO;QAAEqC,MAAM,EAAEF,0BAAoC;QAAEG,OAAO,EAAE;MAAI,CAAE;IAAA,CAAC,EAAE,CAACH,0BAA0B,CAAC,CAAC,CAC9G;IAFkBI,eAAe,GAAAH,mBAAA,CAA1BI,SAAS;IAAkCC,mBAAmB,GAAAL,mBAAA,CAAlCM,aAAa;EAGjD,IAAAC,cAAA,GAAqFvC,aAAa,CAACmC,eAAe,CAAC;IAApGK,gBAAgB,GAAAD,cAAA,CAAvBE,KAAK;IAA2BC,WAAW,GAAAH,cAAA,CAAlBI,KAAK;IAA0BC,gBAAgB,GAAAL,cAAA,CAA3BM,SAAS;EAE9D,IAAMC,UAAU,GAAGpD,WAAW,CAC7B,UAACqD,KAAK,EAAI;IACT,IAAIP,gBAAgB,KAAKvC,eAAe,CAAC+C,OAAO,EAAE;MACjDX,mBAAmB,CAACU,KAAK,EAAEE,IAAI,CAACC,GAAG,CAAC,EAAE,EAAEN,gBAAgB,CAAC,CAAC;IAC3D;EACD,CAAC,EACD,CAACJ,gBAAgB,EAAEI,gBAAgB,EAAEP,mBAAmB,CAAC,CACzD;EAED,IAAMc,QAAQ,GAAGzD,WAAW;IAC3B,SAAA0D,QAAAC,KAAA;MAAA,IAAAC,YAAA,EAAA5B,QAAA,EAAA6B,OAAA,EAAAC,GAAA,EAAAC,kBAAA,EAAAC,IAAA;MAAA,OAAAvF,mBAAA,CAAAwF,KAAA;QAAA,SAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAqBT,YAAY,GAAAD,KAAA,CAAxB5B,UAAU,EAAgBC,QAAQ,GAAA2B,KAAA,CAAR3B,QAAQ,EAAE6B,OAAO,GAAAF,KAAA,CAAPE,OAAO;cAAA,KAG/C7B,QAAQ;gBAAAmC,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OAAA5F,mBAAA,CAAA6F,KAAA,CACYlD,WAAW,CAAC;gBAAEY,QAAQ,EAARA;cAAQ,CAAE,CAAC;YAAA;cAAA+B,kBAAA,GAAAI,QAAA,CAAAI,IAAA;cAAxCP,IAAI,GAAAD,kBAAA,CAAJC,IAAI;cACZF,GAAG,GAAGE,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,GAAG;YAAC;cAAAL,QAAA,CAAAE,IAAA;cAAA,OAAA5F,mBAAA,CAAA6F,KAAA,CAGXzD,SAAS,CAAC+C,YAAY,EAAEE,GAAG,EAAED,OAAO,CAAC;YAAA;YAAA;cAAA,OAAAM,QAAA,CAAAM,IAAA;UAAA;QAAA;QAAA,OAAAP,QAAA;MAAA,uBAAAQ,OAAA;IAAA;IAC3C,OAAAhB,OAAA;EAAA,KACD,CAACtC,WAAW,EAAEP,SAAS,CAAC,CACxB;EAEDZ,SAAS,CAAC,YAAK;IACdwB,QAAQ,CAAC,YAAY,CAAC;IACtBA,QAAQ,CAAC,UAAU,CAAC;EACrB,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,oBACC1B,KAAA,CAAA4E,aAAA,CAACtF,KAAK,EAAAP,QAAA;IACL8F,eAAe,EAAE,SAAAA,CAAC5D,KAAK;MAAA,oBAAKjB,KAAA,CAAA4E,aAAA,CAACrF,GAAG,EAAAR,QAAA;QAAC+F,EAAE,EAAC,MAAM;QAACpB,QAAQ,EAAEjC,YAAY,CAACiC,QAAQ;MAAE,GAAKzC,KAAK,CAAC,CAAG;IAAA;EAAC,GACvFA,KAAK;IACT,cAAW;EAAoB,iBAE/BjB,KAAA,CAAA4E,aAAA,CAACtF,KAAK,CAACyF,MAAM,qBACZ/E,KAAA,CAAA4E,aAAA,CAACtF,KAAK,CAAC0F,IAAI;IAACC,IAAI,EAAC;EAAwB,EACzC,eAAAjF,KAAA,CAAA4E,aAAA,CAACtF,KAAK,CAAC4F,KAAK,QAAE9D,CAAC,CAAC,cAAc,CAAe,CAC7C,eAAApB,KAAA,CAAA4E,aAAA,CAACtF,KAAK,CAAC6F,KAAK;IAACC,OAAO,EAAErE;EAAS,EAClB,CACd,eAAAf,KAAA,CAAA4E,aAAA,CAACtF,KAAK,CAAC+F,OAAO;IAACC,SAAS,EAAC;EAAI,gBAC5BtF,KAAA,CAAA4E,aAAA,CAACzF,UAAU,qBACVa,KAAA,CAAA4E,aAAA,CAAC1F,KAAK,qBACLc,KAAA,CAAA4E,aAAA,CAAClF,UAAU,QAAE0B,CAAC,CAAC,uBAAuB,CAAc,CACpD,eAAApB,KAAA,CAAA4E,aAAA,CAACjF,QAAQ,qBACRK,KAAA,CAAA4E,aAAA,CAACpF,uBAAuB;IACvB+F,SAAS,EAAE,KAAM;IACjB/C,MAAM,EAAEJ,iBAA4B;IACpCoD,SAAS,EAAEnD,oBAAqB;IAChCoD,OAAO,EAAExC,WAAY;IACrByC,QAAQ,EAAC,MAAM;IACfC,WAAW,EAAEvE,CAAC,CAAC,kBAAkB,CAAE;IACnC,cAAW,uBAAuB;IAClCwE,QAAQ,EAAE,SAAAA,CAACC,KAAa,EAAU;MACjCjE,QAAQ,CAAC,YAAY,EAAEiE,KAAK,CAAC;IAC9B,CAAE;IACFC,QAAQ,EAAE,CAAE;IACZzC,UAAU,EAAEA,UAAW;IACvB0C,UAAU,EAAE,SAAAA,CAAAC,KAAA;MAAA,IAAGC,KAAK,GAAAD,KAAA,CAALC,KAAK;QAAKhF,KAAK,GAAAhC,wBAAA,CAAA+G,KAAA,EAAAE,UAAA;MAAA,oBAAOlG,KAAA,CAAA4E,aAAA,CAAChF,MAAM,EAAAb,QAAA,KAAKkC,KAAK;QAAEgF,KAAK,eAAEjG,KAAA,CAAA4E,aAAA;UAAMuB,KAAK,EAAE;YAAEC,UAAU,EAAE;UAAQ;QAAG,GAAEH,KAAY;MAAE,GAAG;IAAA;EAAC,EAEjH,CACJ,CACP,eAAAjG,KAAA,CAAA4E,aAAA,CAACnF,OAAO;IAAC4G,CAAC,EAAE,CAAE;IAACC,QAAQ,EAAElF,CAAC,CAAC,IAAI;EAAE,EACjC,eAAApB,KAAA,CAAA4E,aAAA,CAAC1F,KAAK,qBACLc,KAAA,CAAA4E,aAAA,CAAClF,UAAU,QAAE0B,CAAC,CAAC,iBAAiB,CAAc,CAC9C,eAAApB,KAAA,CAAA4E,aAAA,CAACjF,QAAQ,qBACRK,KAAA,CAAA4E,aAAA,CAACnE,iBAAiB;IACjB8E,SAAS;IACTgB,aAAa;IACbV,KAAK,EAAErE,SAAS,EAAE,CAACS,QAAS;IAC5BuE,SAAS,GAAA3F,cAAA,GAAEG,IAAI,CAACyF,QAAQ,cAAA5F,cAAA,uBAAbA,cAAA,CAAe4D,GAAI;IAC9BiC,cAAc,EAAEpF,8BAA+B;IAC/CqE,WAAW,EAAEvE,CAAC,CAAC,qBAAqB,CAAE;IACtCwE,QAAQ,EAAE,SAAAA,CAACC,KAAK,EAAI;MACnBjE,QAAQ,CAAC,UAAU,EAAEiE,KAAK,CAAC;IAC5B;EAAE,EAEM,CACJ,CACP,eAAA7F,KAAA,CAAA4E,aAAA,CAAC1F,KAAK;IAACyH,WAAW,EAAE;EAAG,gBACtB3G,KAAA,CAAA4E,aAAA,CAAClF,UAAU,QACT0B,CAAC,CAAC,iBAAiB,CAAC,EAAE,GAAG,eAC1BpB,KAAA,CAAA4E,aAAA,CAACrF,GAAG;IAACuF,EAAE,EAAC,MAAM;IAAC8B,KAAK,EAAC;EAAY,GAChC,GAAC,EAACxF,CAAC,CAAC,UAAU,CAAC,EAAC,GACZ,CACM,CACZ,eAAApB,KAAA,CAAA4E,aAAA,CAACjF,QAAQ,qBACRK,KAAA,CAAA4E,aAAA,CAACvF,aAAa,EAAAN,QAAA;IAAC,cAAW;EAAsC,GAAK2C,QAAQ,CAAC,SAAS,CAAC;IAAEmF,IAAI,EAAE,CAAE;IAACf,QAAQ,EAAE;EAAE,GACtG,CACJ,CACI,CACE,CACf,eAAA9F,KAAA,CAAA4E,aAAA,CAACtF,KAAK,CAACwH,MAAM,qBACZ9G,KAAA,CAAA4E,aAAA,CAACtF,KAAK,CAACyH,iBAAiB,qBACvB/G,KAAA,CAAA4E,aAAA,CAACxF,MAAM;IAACgG,OAAO,EAAErE;EAAS,GAAEK,CAAC,CAAC,QAAQ,CAAU,CAChD,eAAApB,KAAA,CAAA4E,aAAA,CAACxF,MAAM;IAAC4H,IAAI,EAAC,QAAQ;IAACC,QAAQ,EAAE,CAAChF,QAAQ,IAAI,CAACD,UAAW;IAACkF,OAAO;IAACC,OAAO,EAAErF;EAAa,GACtFV,CAAC,CAAC,SAAS,CACL,CACgB,CACZ,CACR,CAAC;AAEV,CAAC;AArKDzC,MAAA,CAAOyI,aAEN,CAqKczG,gBArKd","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"a00b01b24dcff02720c468d1e757ac5ba250306e"}
