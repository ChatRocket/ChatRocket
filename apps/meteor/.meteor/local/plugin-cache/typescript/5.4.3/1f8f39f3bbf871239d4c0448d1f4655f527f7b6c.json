{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/engagementDashboard/messages/MessagesSentSection.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/admin/engagementDashboard/messages/MessagesSentSection.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/engagementDashboard/messages/MessagesSentSection.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/engagementDashboard/messages/MessagesSentSection.tsx","sourceRoot":"","sources":["client/views/admin/engagementDashboard/messages/MessagesSentSection.tsx"],"names":[],"mappings":"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","sourcesContent":["import { ResponsiveBar } from '@nivo/bar';\nimport { Box, Flex, Skeleton, Palette, Tooltip } from '@rocket.chat/fuselage';\nimport colors from '@rocket.chat/fuselage-tokens/colors.json';\nimport moment from 'moment';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport DownloadDataButton from '../../../../components/dashboards/DownloadDataButton';\nimport PeriodSelector from '../../../../components/dashboards/PeriodSelector';\nimport { usePeriodLabel } from '../../../../components/dashboards/usePeriodLabel';\nimport { usePeriodSelectorState } from '../../../../components/dashboards/usePeriodSelectorState';\nimport CounterSet from '../../../../components/dataView/CounterSet';\nimport EngagementDashboardCardFilter from '../EngagementDashboardCardFilter';\nimport { useMessagesSent } from './useMessagesSent';\n\nconst MessagesSentSection = (): ReactElement => {\n\tconst [period, periodSelectorProps] = usePeriodSelectorState('last 7 days', 'last 30 days', 'last 90 days');\n\tconst periodLabel = usePeriodLabel(period);\n\n\tconst { t } = useTranslation();\n\n\tconst { data } = useMessagesSent({ period });\n\n\tconst [countFromPeriod, variatonFromPeriod, countFromYesterday, variationFromYesterday, values] = useMemo(() => {\n\t\tif (!data) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst values = Array.from({ length: moment(data.end).diff(data.start, 'days') + 1 }, (_, i) => ({\n\t\t\tdate: moment(data.start).add(i, 'days').toISOString(),\n\t\t\tnewMessages: 0,\n\t\t}));\n\n\t\tfor (const { day, messages } of data.days ?? []) {\n\t\t\tconst i = moment(day).diff(data.start, 'days');\n\t\t\tif (i >= 0) {\n\t\t\t\tvalues[i].newMessages += messages;\n\t\t\t}\n\t\t}\n\n\t\treturn [data.period?.count, data.period?.variation, data.yesterday?.count, data.yesterday?.variation, values];\n\t}, [data]);\n\n\treturn (\n\t\t<>\n\t\t\t<EngagementDashboardCardFilter>\n\t\t\t\t<PeriodSelector {...periodSelectorProps} />\n\t\t\t\t<DownloadDataButton\n\t\t\t\t\tattachmentName={`MessagesSentSection_start_${data?.start}_end_${data?.end}`}\n\t\t\t\t\theaders={['Date', 'Messages']}\n\t\t\t\t\tdataAvailable={!!data}\n\t\t\t\t\tdataExtractor={(): unknown[][] | undefined => values?.map(({ date, newMessages }) => [date, newMessages])}\n\t\t\t\t/>\n\t\t\t</EngagementDashboardCardFilter>\n\n\t\t\t<CounterSet\n\t\t\t\tcounters={[\n\t\t\t\t\t{\n\t\t\t\t\t\tcount: countFromPeriod ?? <Skeleton variant='rect' width='3ex' height='1em' />,\n\t\t\t\t\t\tvariation: variatonFromPeriod ?? 0,\n\t\t\t\t\t\tdescription: periodLabel,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcount: countFromYesterday ?? <Skeleton variant='rect' width='3ex' height='1em' />,\n\t\t\t\t\t\tvariation: variationFromYesterday ?? 0,\n\t\t\t\t\t\tdescription: t('Yesterday'),\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t/>\n\t\t\t<Flex.Container>\n\t\t\t\t{values ? (\n\t\t\t\t\t<Box style={{ height: 240 }}>\n\t\t\t\t\t\t<Flex.Item align='stretch' grow={1} shrink={0}>\n\t\t\t\t\t\t\t<Box style={{ position: 'relative' }}>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ResponsiveBar\n\t\t\t\t\t\t\t\t\t\tdata={values}\n\t\t\t\t\t\t\t\t\t\tindexBy='date'\n\t\t\t\t\t\t\t\t\t\tkeys={['newMessages']}\n\t\t\t\t\t\t\t\t\t\tgroupMode='grouped'\n\t\t\t\t\t\t\t\t\t\tpadding={0.25}\n\t\t\t\t\t\t\t\t\t\tmargin={{\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\tbottom: 20,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tcolors={[\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\tPalette.statusColor['status-font-on-info'].toString(),\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tenableLabel={false}\n\t\t\t\t\t\t\t\t\t\tenableGridY={false}\n\t\t\t\t\t\t\t\t\t\taxisTop={null}\n\t\t\t\t\t\t\t\t\t\taxisRight={null}\n\t\t\t\t\t\t\t\t\t\taxisBottom={\n\t\t\t\t\t\t\t\t\t\t\t(values.length === 7 && {\n\t\t\t\t\t\t\t\t\t\t\t\ttickSize: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\t\ttickPadding: 4,\n\t\t\t\t\t\t\t\t\t\t\t\ttickRotation: 0,\n\t\t\t\t\t\t\t\t\t\t\t\tformat: (date): string => moment(date).format('dddd'),\n\t\t\t\t\t\t\t\t\t\t\t}) ||\n\t\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\taxisLeft={null}\n\t\t\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\t\t\tmotionConfig='stiff'\n\t\t\t\t\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: colors.n600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '10px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.2px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttooltip={({ value }) => <Tooltip>{t('Value_messages', { value })}</Tooltip>}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\t<Skeleton variant='rect' height={240} />\n\t\t\t\t)}\n\t\t\t</Flex.Container>\n\t\t</>\n\t);\n};\n\nexport default MessagesSentSection;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/engagementDashboard/messages/MessagesSentSection.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/engagementDashboard/messages/MessagesSentSection.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/engagementDashboard/messages/MessagesSentSection.tsx","sourceRoot":"","sources":["client/views/admin/engagementDashboard/messages/MessagesSentSection.tsx"],"names":[],"mappings":"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","sourcesContent":["import { ResponsiveBar } from '@nivo/bar';\nimport { Box, Flex, Skeleton, Palette, Tooltip } from '@rocket.chat/fuselage';\nimport colors from '@rocket.chat/fuselage-tokens/colors.json';\nimport moment from 'moment';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport DownloadDataButton from '../../../../components/dashboards/DownloadDataButton';\nimport PeriodSelector from '../../../../components/dashboards/PeriodSelector';\nimport { usePeriodLabel } from '../../../../components/dashboards/usePeriodLabel';\nimport { usePeriodSelectorState } from '../../../../components/dashboards/usePeriodSelectorState';\nimport CounterSet from '../../../../components/dataView/CounterSet';\nimport EngagementDashboardCardFilter from '../EngagementDashboardCardFilter';\nimport { useMessagesSent } from './useMessagesSent';\n\nconst MessagesSentSection = (): ReactElement => {\n\tconst [period, periodSelectorProps] = usePeriodSelectorState('last 7 days', 'last 30 days', 'last 90 days');\n\tconst periodLabel = usePeriodLabel(period);\n\n\tconst { t } = useTranslation();\n\n\tconst { data } = useMessagesSent({ period });\n\n\tconst [countFromPeriod, variatonFromPeriod, countFromYesterday, variationFromYesterday, values] = useMemo(() => {\n\t\tif (!data) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst values = Array.from({ length: moment(data.end).diff(data.start, 'days') + 1 }, (_, i) => ({\n\t\t\tdate: moment(data.start).add(i, 'days').toISOString(),\n\t\t\tnewMessages: 0,\n\t\t}));\n\n\t\tfor (const { day, messages } of data.days ?? []) {\n\t\t\tconst i = moment(day).diff(data.start, 'days');\n\t\t\tif (i >= 0) {\n\t\t\t\tvalues[i].newMessages += messages;\n\t\t\t}\n\t\t}\n\n\t\treturn [data.period?.count, data.period?.variation, data.yesterday?.count, data.yesterday?.variation, values];\n\t}, [data]);\n\n\treturn (\n\t\t<>\n\t\t\t<EngagementDashboardCardFilter>\n\t\t\t\t<PeriodSelector {...periodSelectorProps} />\n\t\t\t\t<DownloadDataButton\n\t\t\t\t\tattachmentName={`MessagesSentSection_start_${data?.start}_end_${data?.end}`}\n\t\t\t\t\theaders={['Date', 'Messages']}\n\t\t\t\t\tdataAvailable={!!data}\n\t\t\t\t\tdataExtractor={(): unknown[][] | undefined => values?.map(({ date, newMessages }) => [date, newMessages])}\n\t\t\t\t/>\n\t\t\t</EngagementDashboardCardFilter>\n\n\t\t\t<CounterSet\n\t\t\t\tcounters={[\n\t\t\t\t\t{\n\t\t\t\t\t\tcount: countFromPeriod ?? <Skeleton variant='rect' width='3ex' height='1em' />,\n\t\t\t\t\t\tvariation: variatonFromPeriod ?? 0,\n\t\t\t\t\t\tdescription: periodLabel,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcount: countFromYesterday ?? <Skeleton variant='rect' width='3ex' height='1em' />,\n\t\t\t\t\t\tvariation: variationFromYesterday ?? 0,\n\t\t\t\t\t\tdescription: t('Yesterday'),\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t/>\n\t\t\t<Flex.Container>\n\t\t\t\t{values ? (\n\t\t\t\t\t<Box style={{ height: 240 }}>\n\t\t\t\t\t\t<Flex.Item align='stretch' grow={1} shrink={0}>\n\t\t\t\t\t\t\t<Box style={{ position: 'relative' }}>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ResponsiveBar\n\t\t\t\t\t\t\t\t\t\tdata={values}\n\t\t\t\t\t\t\t\t\t\tindexBy='date'\n\t\t\t\t\t\t\t\t\t\tkeys={['newMessages']}\n\t\t\t\t\t\t\t\t\t\tgroupMode='grouped'\n\t\t\t\t\t\t\t\t\t\tpadding={0.25}\n\t\t\t\t\t\t\t\t\t\tmargin={{\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\tbottom: 20,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tcolors={[\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\tPalette.statusColor['status-font-on-info'].toString(),\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tenableLabel={false}\n\t\t\t\t\t\t\t\t\t\tenableGridY={false}\n\t\t\t\t\t\t\t\t\t\taxisTop={null}\n\t\t\t\t\t\t\t\t\t\taxisRight={null}\n\t\t\t\t\t\t\t\t\t\taxisBottom={\n\t\t\t\t\t\t\t\t\t\t\t(values.length === 7 && {\n\t\t\t\t\t\t\t\t\t\t\t\ttickSize: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\t\ttickPadding: 4,\n\t\t\t\t\t\t\t\t\t\t\t\ttickRotation: 0,\n\t\t\t\t\t\t\t\t\t\t\t\tformat: (date): string => moment(date).format('dddd'),\n\t\t\t\t\t\t\t\t\t\t\t}) ||\n\t\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\taxisLeft={null}\n\t\t\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\t\t\tmotionConfig='stiff'\n\t\t\t\t\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: colors.n600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '10px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.2px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttooltip={({ value }) => <Tooltip>{t('Value_messages', { value })}</Tooltip>}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\t<Skeleton variant='rect' height={240} />\n\t\t\t\t)}\n\t\t\t</Flex.Container>\n\t\t</>\n\t);\n};\n\nexport default MessagesSentSection;\n"]}}},"code":"let ResponsiveBar;\nmodule.link(\"@nivo/bar\", {\n  ResponsiveBar(v) {\n    ResponsiveBar = v;\n  }\n}, 0);\nlet Box, Flex, Skeleton, Palette, Tooltip;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box(v) {\n    Box = v;\n  },\n  Flex(v) {\n    Flex = v;\n  },\n  Skeleton(v) {\n    Skeleton = v;\n  },\n  Palette(v) {\n    Palette = v;\n  },\n  Tooltip(v) {\n    Tooltip = v;\n  }\n}, 1);\nlet colors;\nmodule.link(\"@rocket.chat/fuselage-tokens/colors.json\", {\n  default(v) {\n    colors = v;\n  }\n}, 2);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n}, 3);\nlet React, useMemo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  }\n}, 4);\nlet useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 5);\nlet DownloadDataButton;\nmodule.link(\"../../../../components/dashboards/DownloadDataButton\", {\n  default(v) {\n    DownloadDataButton = v;\n  }\n}, 6);\nlet PeriodSelector;\nmodule.link(\"../../../../components/dashboards/PeriodSelector\", {\n  default(v) {\n    PeriodSelector = v;\n  }\n}, 7);\nlet usePeriodLabel;\nmodule.link(\"../../../../components/dashboards/usePeriodLabel\", {\n  usePeriodLabel(v) {\n    usePeriodLabel = v;\n  }\n}, 8);\nlet usePeriodSelectorState;\nmodule.link(\"../../../../components/dashboards/usePeriodSelectorState\", {\n  usePeriodSelectorState(v) {\n    usePeriodSelectorState = v;\n  }\n}, 9);\nlet CounterSet;\nmodule.link(\"../../../../components/dataView/CounterSet\", {\n  default(v) {\n    CounterSet = v;\n  }\n}, 10);\nlet EngagementDashboardCardFilter;\nmodule.link(\"../EngagementDashboardCardFilter\", {\n  default(v) {\n    EngagementDashboardCardFilter = v;\n  }\n}, 11);\nlet useMessagesSent;\nmodule.link(\"./useMessagesSent\", {\n  useMessagesSent(v) {\n    useMessagesSent = v;\n  }\n}, 12);\nconst MessagesSentSection = () => {\n  const [period, periodSelectorProps] = usePeriodSelectorState('last 7 days', 'last 30 days', 'last 90 days');\n  const periodLabel = usePeriodLabel(period);\n  const {\n    t\n  } = useTranslation();\n  const {\n    data\n  } = useMessagesSent({\n    period\n  });\n  const [countFromPeriod, variatonFromPeriod, countFromYesterday, variationFromYesterday, values] = useMemo(() => {\n    var _data$period, _data$period2, _data$yesterday, _data$yesterday2;\n    if (!data) {\n      return [];\n    }\n    const values = Array.from({\n      length: moment(data.end).diff(data.start, 'days') + 1\n    }, (_, i) => ({\n      date: moment(data.start).add(i, 'days').toISOString(),\n      newMessages: 0\n    }));\n    for (const {\n      day,\n      messages\n    } of (_data$days = data.days) !== null && _data$days !== void 0 ? _data$days : []) {\n      var _data$days;\n      const i = moment(day).diff(data.start, 'days');\n      if (i >= 0) {\n        values[i].newMessages += messages;\n      }\n    }\n    return [(_data$period = data.period) === null || _data$period === void 0 ? void 0 : _data$period.count, (_data$period2 = data.period) === null || _data$period2 === void 0 ? void 0 : _data$period2.variation, (_data$yesterday = data.yesterday) === null || _data$yesterday === void 0 ? void 0 : _data$yesterday.count, (_data$yesterday2 = data.yesterday) === null || _data$yesterday2 === void 0 ? void 0 : _data$yesterday2.variation, values];\n  }, [data]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EngagementDashboardCardFilter, null, /*#__PURE__*/React.createElement(PeriodSelector, periodSelectorProps), /*#__PURE__*/React.createElement(DownloadDataButton, {\n    attachmentName: \"MessagesSentSection_start_\".concat(data === null || data === void 0 ? void 0 : data.start, \"_end_\").concat(data === null || data === void 0 ? void 0 : data.end),\n    headers: ['Date', 'Messages'],\n    dataAvailable: !!data,\n    dataExtractor: () => values === null || values === void 0 ? void 0 : values.map(_ref => {\n      let {\n        date,\n        newMessages\n      } = _ref;\n      return [date, newMessages];\n    })\n  })), /*#__PURE__*/React.createElement(CounterSet, {\n    counters: [{\n      count: countFromPeriod !== null && countFromPeriod !== void 0 ? countFromPeriod : /*#__PURE__*/React.createElement(Skeleton, {\n        variant: \"rect\",\n        width: \"3ex\",\n        height: \"1em\"\n      }),\n      variation: variatonFromPeriod !== null && variatonFromPeriod !== void 0 ? variatonFromPeriod : 0,\n      description: periodLabel\n    }, {\n      count: countFromYesterday !== null && countFromYesterday !== void 0 ? countFromYesterday : /*#__PURE__*/React.createElement(Skeleton, {\n        variant: \"rect\",\n        width: \"3ex\",\n        height: \"1em\"\n      }),\n      variation: variationFromYesterday !== null && variationFromYesterday !== void 0 ? variationFromYesterday : 0,\n      description: t('Yesterday')\n    }]\n  }), /*#__PURE__*/React.createElement(Flex.Container, null, values ? /*#__PURE__*/React.createElement(Box, {\n    style: {\n      height: 240\n    }\n  }, /*#__PURE__*/React.createElement(Flex.Item, {\n    align: \"stretch\",\n    grow: 1,\n    shrink: 0\n  }, /*#__PURE__*/React.createElement(Box, {\n    style: {\n      position: 'relative'\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    style: {\n      position: 'absolute',\n      width: '100%',\n      height: '100%'\n    }\n  }, /*#__PURE__*/React.createElement(ResponsiveBar, {\n    data: values,\n    indexBy: \"date\",\n    keys: ['newMessages'],\n    groupMode: \"grouped\",\n    padding: 0.25,\n    margin: {\n      // TODO: Get it from theme\n      bottom: 20\n    },\n    colors: [\n    // TODO: Get it from theme\n    Palette.statusColor['status-font-on-info'].toString()],\n    enableLabel: false,\n    enableGridY: false,\n    axisTop: null,\n    axisRight: null,\n    axisBottom: values.length === 7 && {\n      tickSize: 0,\n      // TODO: Get it from theme\n      tickPadding: 4,\n      tickRotation: 0,\n      format: date => moment(date).format('dddd')\n    } || null,\n    axisLeft: null,\n    animate: true,\n    motionConfig: \"stiff\",\n    theme: {\n      // TODO: Get it from theme\n      axis: {\n        ticks: {\n          text: {\n            fill: colors.n600,\n            fontFamily: 'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n            fontSize: '10px',\n            fontStyle: 'normal',\n            fontWeight: 600,\n            letterSpacing: '0.2px',\n            lineHeight: '12px'\n          }\n        }\n      }\n    },\n    tooltip: _ref2 => {\n      let {\n        value\n      } = _ref2;\n      return /*#__PURE__*/React.createElement(Tooltip, null, t('Value_messages', {\n        value\n      }));\n    }\n  }))))) : /*#__PURE__*/React.createElement(Skeleton, {\n    variant: \"rect\",\n    height: 240\n  })));\n};\nmodule.exportDefault(MessagesSentSection);","map":{"version":3,"names":["ResponsiveBar","module","link","v","Box","Flex","Skeleton","Palette","Tooltip","colors","default","moment","React","useMemo","useTranslation","DownloadDataButton","PeriodSelector","usePeriodLabel","usePeriodSelectorState","CounterSet","EngagementDashboardCardFilter","useMessagesSent","MessagesSentSection","period","periodSelectorProps","periodLabel","t","data","countFromPeriod","variatonFromPeriod","countFromYesterday","variationFromYesterday","values","_data$period","_data$period2","_data$yesterday","_data$yesterday2","Array","from","length","end","diff","start","_","i","date","add","toISOString","newMessages","day","messages","_data$days","days","count","variation","yesterday","createElement","Fragment","attachmentName","concat","headers","dataAvailable","dataExtractor","map","_ref","counters","variant","width","height","description","Container","style","Item","align","grow","shrink","position","indexBy","keys","groupMode","padding","margin","bottom","statusColor","toString","enableLabel","enableGridY","axisTop","axisRight","axisBottom","tickSize","tickPadding","tickRotation","format","axisLeft","animate","motionConfig","theme","axis","ticks","text","fill","n600","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","tooltip","_ref2","value","exportDefault"],"sources":["client/views/admin/engagementDashboard/messages/MessagesSentSection.tsx"],"sourcesContent":["import { ResponsiveBar } from '@nivo/bar';\nimport { Box, Flex, Skeleton, Palette, Tooltip } from '@rocket.chat/fuselage';\nimport colors from '@rocket.chat/fuselage-tokens/colors.json';\nimport moment from 'moment';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport DownloadDataButton from '../../../../components/dashboards/DownloadDataButton';\nimport PeriodSelector from '../../../../components/dashboards/PeriodSelector';\nimport { usePeriodLabel } from '../../../../components/dashboards/usePeriodLabel';\nimport { usePeriodSelectorState } from '../../../../components/dashboards/usePeriodSelectorState';\nimport CounterSet from '../../../../components/dataView/CounterSet';\nimport EngagementDashboardCardFilter from '../EngagementDashboardCardFilter';\nimport { useMessagesSent } from './useMessagesSent';\n\nconst MessagesSentSection = (): ReactElement => {\n\tconst [period, periodSelectorProps] = usePeriodSelectorState('last 7 days', 'last 30 days', 'last 90 days');\n\tconst periodLabel = usePeriodLabel(period);\n\n\tconst { t } = useTranslation();\n\n\tconst { data } = useMessagesSent({ period });\n\n\tconst [countFromPeriod, variatonFromPeriod, countFromYesterday, variationFromYesterday, values] = useMemo(() => {\n\t\tif (!data) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst values = Array.from({ length: moment(data.end).diff(data.start, 'days') + 1 }, (_, i) => ({\n\t\t\tdate: moment(data.start).add(i, 'days').toISOString(),\n\t\t\tnewMessages: 0,\n\t\t}));\n\n\t\tfor (const { day, messages } of data.days ?? []) {\n\t\t\tconst i = moment(day).diff(data.start, 'days');\n\t\t\tif (i >= 0) {\n\t\t\t\tvalues[i].newMessages += messages;\n\t\t\t}\n\t\t}\n\n\t\treturn [data.period?.count, data.period?.variation, data.yesterday?.count, data.yesterday?.variation, values];\n\t}, [data]);\n\n\treturn (\n\t\t<>\n\t\t\t<EngagementDashboardCardFilter>\n\t\t\t\t<PeriodSelector {...periodSelectorProps} />\n\t\t\t\t<DownloadDataButton\n\t\t\t\t\tattachmentName={`MessagesSentSection_start_${data?.start}_end_${data?.end}`}\n\t\t\t\t\theaders={['Date', 'Messages']}\n\t\t\t\t\tdataAvailable={!!data}\n\t\t\t\t\tdataExtractor={(): unknown[][] | undefined => values?.map(({ date, newMessages }) => [date, newMessages])}\n\t\t\t\t/>\n\t\t\t</EngagementDashboardCardFilter>\n\n\t\t\t<CounterSet\n\t\t\t\tcounters={[\n\t\t\t\t\t{\n\t\t\t\t\t\tcount: countFromPeriod ?? <Skeleton variant='rect' width='3ex' height='1em' />,\n\t\t\t\t\t\tvariation: variatonFromPeriod ?? 0,\n\t\t\t\t\t\tdescription: periodLabel,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcount: countFromYesterday ?? <Skeleton variant='rect' width='3ex' height='1em' />,\n\t\t\t\t\t\tvariation: variationFromYesterday ?? 0,\n\t\t\t\t\t\tdescription: t('Yesterday'),\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t/>\n\t\t\t<Flex.Container>\n\t\t\t\t{values ? (\n\t\t\t\t\t<Box style={{ height: 240 }}>\n\t\t\t\t\t\t<Flex.Item align='stretch' grow={1} shrink={0}>\n\t\t\t\t\t\t\t<Box style={{ position: 'relative' }}>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ResponsiveBar\n\t\t\t\t\t\t\t\t\t\tdata={values}\n\t\t\t\t\t\t\t\t\t\tindexBy='date'\n\t\t\t\t\t\t\t\t\t\tkeys={['newMessages']}\n\t\t\t\t\t\t\t\t\t\tgroupMode='grouped'\n\t\t\t\t\t\t\t\t\t\tpadding={0.25}\n\t\t\t\t\t\t\t\t\t\tmargin={{\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\tbottom: 20,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tcolors={[\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\tPalette.statusColor['status-font-on-info'].toString(),\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tenableLabel={false}\n\t\t\t\t\t\t\t\t\t\tenableGridY={false}\n\t\t\t\t\t\t\t\t\t\taxisTop={null}\n\t\t\t\t\t\t\t\t\t\taxisRight={null}\n\t\t\t\t\t\t\t\t\t\taxisBottom={\n\t\t\t\t\t\t\t\t\t\t\t(values.length === 7 && {\n\t\t\t\t\t\t\t\t\t\t\t\ttickSize: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\t\ttickPadding: 4,\n\t\t\t\t\t\t\t\t\t\t\t\ttickRotation: 0,\n\t\t\t\t\t\t\t\t\t\t\t\tformat: (date): string => moment(date).format('dddd'),\n\t\t\t\t\t\t\t\t\t\t\t}) ||\n\t\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\taxisLeft={null}\n\t\t\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\t\t\tmotionConfig='stiff'\n\t\t\t\t\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: colors.n600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '10px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.2px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttooltip={({ value }) => <Tooltip>{t('Value_messages', { value })}</Tooltip>}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\t<Skeleton variant='rect' height={240} />\n\t\t\t\t)}\n\t\t\t</Flex.Container>\n\t\t</>\n\t);\n};\n\nexport default MessagesSentSection;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"1f8f39f3bbf871239d4c0448d1f4655f527f7b6c"}
