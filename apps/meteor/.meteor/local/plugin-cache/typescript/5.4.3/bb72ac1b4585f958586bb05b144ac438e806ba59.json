{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/settings/Setting/Setting.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/settings/Setting/Setting.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/settings/Setting/Setting.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/settings/Setting/Setting.tsx","sourceRoot":"","sources":["client/views/admin/settings/Setting/Setting.tsx"],"names":[],"mappings":"AACA,OAAO,EAAE,cAAc,EAAE,SAAS,EAAE,MAAM,2BAA2B,CAAC;AACtE,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,uBAAuB,CAAC;AACzD,OAAO,EAAE,oBAAoB,EAAE,MAAM,6BAA6B,CAAC;AACnE,OAAO,EAAE,mBAAmB,EAAE,MAAM,0BAA0B,CAAC;AAE/D,OAAO,KAAK,EAAE,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,MAAM,OAAO,CAAC;AACzE,OAAO,EAAE,cAAc,EAAE,MAAM,eAAe,CAAC;AAE/C,OAAO,YAAY,MAAM,qCAAqC,CAAC;AAC/D,OAAO,EAAE,kBAAkB,EAAE,2BAA2B,EAAE,eAAe,EAAE,MAAM,+BAA+B,CAAC;AACjH,OAAO,eAAe,MAAM,mBAAmB,CAAC;AAQhD,SAAS,OAAO,CAAC,EAAE,SAAS,GAAG,SAAS,EAAE,SAAS,EAAE,cAAc,EAAgB;IAClF,MAAM,OAAO,GAAG,kBAAkB,CAAC,SAAS,CAAC,CAAC;IAC9C,MAAM,gBAAgB,GAAG,mBAAmB,CAAC,SAAS,CAAC,CAAC;IACxD,MAAM,YAAY,GAAG,eAAe,EAAE,CAAC;IAEvC,IAAI,CAAC,OAAO,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACnC,MAAM,IAAI,KAAK,CAAC,WAAW,SAAS,YAAY,CAAC,CAAC;IACnD,CAAC;IAED,uEAAuE;IACvE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC;QACzB,MAAM,IAAI,KAAK,CAAC,WAAW,SAAS,eAAe,CAAC,CAAC;IACtD,CAAC;IAED,MAAM,QAAQ,GAAG,2BAA2B,EAAE,CAAC;IAE/C,MAAM,MAAM,GAAG,oBAAoB,CAClC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAoD,EAAE,EAAE;QACvE,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACvB,OAAO;QACR,CAAC;QAED,QAAQ,CAAC;YACR;gBACC,GAAG,EAAE,gBAAgB,CAAC,GAAG;gBACzB,GAAG,CAAC,KAAK,KAAK,SAAS,IAAI,EAAE,KAAK,EAAE,CAAC;gBACrC,GAAG,CAAC,MAAM,KAAK,SAAS,IAAI,EAAE,MAAM,EAAE,CAAC;gBACvC,OAAO,EACN,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;oBAChE,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;aACzG;SACD,CAAC,CAAC;IACJ,CAAC,EACD,GAAG,EACH,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAC5B,CAAC;IAEF,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,cAAc,EAAE,CAAC;IAErC,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAClD,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;IAE3F,SAAS,CAAC,GAAG,EAAE;QACd,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACzB,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;IAEpB,SAAS,CAAC,GAAG,EAAE;QACd,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAChE,uDAAuD;IACxD,CAAC,EAAE,CAAE,OAAyB,CAAC,MAAM,CAAC,CAAC,CAAC;IAExC,MAAM,aAAa,GAAG,WAAW,CAChC,CAAC,KAAK,EAAE,EAAE;QACT,QAAQ,CAAC,KAAK,CAAC,CAAC;QAChB,MAAM,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;IACnB,CAAC,EACD,CAAC,MAAM,CAAC,CACR,CAAC;IAEF,MAAM,cAAc,GAAG,WAAW,CACjC,CAAC,MAAM,EAAE,EAAE;QACV,SAAS,CAAC,MAAM,CAAC,CAAC;QAClB,MAAM,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;IACpB,CAAC,EACD,CAAC,MAAM,CAAC,CACR,CAAC;IAEF,MAAM,kBAAkB,GAAG,WAAW,CAAC,GAAG,EAAE;QAC3C,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACxB,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAChE,MAAM,CAAC;YACN,KAAK,EAAE,gBAAgB,CAAC,YAAY;YACpC,GAAG,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAI,EAAE,MAAM,EAAE,gBAAgB,CAAC,aAAa,EAAE,CAAC;SACnF,CAAC,CAAC;QACH,uDAAuD;IACxD,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,EAAG,OAAyB,CAAC,MAAM,EAAE,MAAM,EAAE,gBAAgB,CAAC,CAAC,CAAC;IAEjF,MAAM,EAAE,GAAG,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,SAAS,EAAE,eAAe,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,OAAO,CAAC;IAE9G,MAAM,SAAS,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,SAAS,IAAI,GAAG,CAAC;IAE/G,MAAM,IAAI,GAAG,OAAO,CACnB,GAAG,EAAE,CACJ,eAAe,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CACjD,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,EAAG,CAC3E,CAAC,CAAC,CAAC,SAAS,EACd,CAAC,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC,CAC1B,CAAC;IACF,MAAM,OAAO,GAAG,OAAO,CACtB,GAAG,EAAE,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,EAAG,EACnG,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,CAChB,CAAC;IAEF,MAAM,uBAAuB,GAAG,OAAO,CAAC,UAAU,IAAI,CAAC,YAAY,CAAC;IAEpE,MAAM,WAAW,GAAG,2DAA2D,CAAC;IAEhF,MAAM,iBAAiB,GAAG,OAAO,CAChC,GAAG,EAAE,CACJ,uBAAuB,CAAC,CAAC,CAAC,CACzB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,QAAQ,CACxD;KAAA,CAAC,CAAC,CAAC,eAAe,CAAC,CACpB;IAAA,EAAE,MAAM,CAAC,CACT,CAAC,CAAC,CAAC,SAAS,EACd,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAC5B,CAAC;IAEF,MAAM,KAAK,GAAG,OAAO,CAAC,GAAG,EAAE;QAC1B,IAAI,CAAC,uBAAuB,EAAE,CAAC;YAC9B,OAAO,SAAS,CAAC;QAClB,CAAC;QAED,OAAO,CACN,EACC;IAAA,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACrB;KAAA,CAAC,SAAS,CACX;IAAA,EAAE,GAAG,CACL;IAAA,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAC5C;GAAA,GAAG,CACH,CAAC;IACH,CAAC,EAAE,CAAC,SAAS,EAAE,uBAAuB,EAAE,CAAC,CAAC,CAAC,CAAC;IAE5C,MAAM,cAAc,GACnB,CAAC,uBAAuB;QACxB,CAAC,QAAQ;QACT,IAAI,KAAK,OAAO;QAChB,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAC7F,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;QACxD,CAAC,QAAQ,CAAC;IAEX,gDAAgD;IAEhD,OAAO,CACN,CAAC,eAAe,CACf,SAAS,CAAC,CAAC,SAAS,CAAC,CACrB,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,IAAI,CAAC,CAAC,IAAI,CAAC,CACX,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,CACrC,cAAc,CAAC,CAAC,cAAc,CAAC,CAC/B,IAAI,OAAO,CAAC,CACZ,QAAQ,CAAC,CAAC,OAAO,CAAC,QAAQ,IAAI,uBAAuB,CAAC,CACtD,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,cAAc,CAAC,CAAC,cAAc,CAAC,CAC/B,aAAa,CAAC,CAAC,aAAa,CAAC,CAC7B,cAAc,CAAC,CAAC,cAAc,CAAC,CAC/B,kBAAkB,CAAC,CAAC,kBAAkB,CAAC,CACvC,SAAS,CAAC,CAAC,SAAS,CAAC,EACpB,CACF,CAAC;AACH,CAAC;AAED,eAAe,OAAO,CAAC","sourcesContent":["import type { ISettingColor, SettingEditor, SettingValue } from '@rocket.chat/core-typings';\nimport { isSettingColor, isSetting } from '@rocket.chat/core-typings';\nimport { Box, Button, Tag } from '@rocket.chat/fuselage';\nimport { useDebouncedCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSettingStructure } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useEffect, useMemo, useState, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport MarkdownText from '../../../../components/MarkdownText';\nimport { useEditableSetting, useEditableSettingsDispatch, useIsEnterprise } from '../../EditableSettingsContext';\nimport MemoizedSetting from './MemoizedSetting';\n\ntype SettingProps = {\n\tclassName?: string;\n\tsettingId: string;\n\tsectionChanged?: boolean;\n};\n\nfunction Setting({ className = undefined, settingId, sectionChanged }: SettingProps): ReactElement {\n\tconst setting = useEditableSetting(settingId);\n\tconst persistedSetting = useSettingStructure(settingId);\n\tconst isEnterprise = useIsEnterprise();\n\n\tif (!setting || !persistedSetting) {\n\t\tthrow new Error(`Setting ${settingId} not found`);\n\t}\n\n\t// Checks if setting has at least required fields before doing anything\n\tif (!isSetting(setting)) {\n\t\tthrow new Error(`Setting ${settingId} is not valid`);\n\t}\n\n\tconst dispatch = useEditableSettingsDispatch();\n\n\tconst update = useDebouncedCallback(\n\t\t({ value, editor }: { value?: SettingValue; editor?: SettingEditor }) => {\n\t\t\tif (!persistedSetting) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatch([\n\t\t\t\t{\n\t\t\t\t\t_id: persistedSetting._id,\n\t\t\t\t\t...(value !== undefined && { value }),\n\t\t\t\t\t...(editor !== undefined && { editor }),\n\t\t\t\t\tchanged:\n\t\t\t\t\t\tJSON.stringify(persistedSetting.value) !== JSON.stringify(value) ||\n\t\t\t\t\t\t(isSettingColor(persistedSetting) && JSON.stringify(persistedSetting.editor) !== JSON.stringify(editor)),\n\t\t\t\t},\n\t\t\t]);\n\t\t},\n\t\t230,\n\t\t[persistedSetting, dispatch],\n\t);\n\n\tconst { t, i18n } = useTranslation();\n\n\tconst [value, setValue] = useState(setting.value);\n\tconst [editor, setEditor] = useState(isSettingColor(setting) ? setting.editor : undefined);\n\n\tuseEffect(() => {\n\t\tsetValue(setting.value);\n\t}, [setting.value]);\n\n\tuseEffect(() => {\n\t\tsetEditor(isSettingColor(setting) ? setting.editor : undefined);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [(setting as ISettingColor).editor]);\n\n\tconst onChangeValue = useCallback(\n\t\t(value) => {\n\t\t\tsetValue(value);\n\t\t\tupdate({ value });\n\t\t},\n\t\t[update],\n\t);\n\n\tconst onChangeEditor = useCallback(\n\t\t(editor) => {\n\t\t\tsetEditor(editor);\n\t\t\tupdate({ editor });\n\t\t},\n\t\t[update],\n\t);\n\n\tconst onResetButtonClick = useCallback(() => {\n\t\tsetValue(setting.value);\n\t\tsetEditor(isSettingColor(setting) ? setting.editor : undefined);\n\t\tupdate({\n\t\t\tvalue: persistedSetting.packageValue,\n\t\t\t...(isSettingColor(persistedSetting) && { editor: persistedSetting.packageEditor }),\n\t\t});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [setting.value, (setting as ISettingColor).editor, update, persistedSetting]);\n\n\tconst { _id, disabled, readonly, type, packageValue, i18nLabel, i18nDescription, alert, invisible } = setting;\n\n\tconst labelText = (i18n.exists(i18nLabel) && t(i18nLabel)) || (i18n.exists(_id) && t(_id)) || i18nLabel || _id;\n\n\tconst hint = useMemo(\n\t\t() =>\n\t\t\ti18nDescription && i18n.exists(i18nDescription) ? (\n\t\t\t\t<MarkdownText variant='inline' preserveHtml content={t(i18nDescription)} />\n\t\t\t) : undefined,\n\t\t[i18n, i18nDescription, t],\n\t);\n\tconst callout = useMemo(\n\t\t() => alert && <span dangerouslySetInnerHTML={{ __html: i18n.exists(alert) ? t(alert) : alert }} />,\n\t\t[alert, i18n, t],\n\t);\n\n\tconst shouldDisableEnterprise = setting.enterprise && !isEnterprise;\n\n\tconst PRICING_URL = 'https://go.rocket.chat/i/see-paid-plan-customize-homepage';\n\n\tconst showUpgradeButton = useMemo(\n\t\t() =>\n\t\t\tshouldDisableEnterprise ? (\n\t\t\t\t<Button mbs={4} is='a' href={PRICING_URL} target='_blank'>\n\t\t\t\t\t{t('See_Paid_Plan')}\n\t\t\t\t</Button>\n\t\t\t) : undefined,\n\t\t[shouldDisableEnterprise, t],\n\t);\n\n\tconst label = useMemo(() => {\n\t\tif (!shouldDisableEnterprise) {\n\t\t\treturn labelText;\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Box is='span' mie={4}>\n\t\t\t\t\t{labelText}\n\t\t\t\t</Box>\n\t\t\t\t<Tag variant='featured'>{t('Premium')}</Tag>\n\t\t\t</>\n\t\t);\n\t}, [labelText, shouldDisableEnterprise, t]);\n\n\tconst hasResetButton =\n\t\t!shouldDisableEnterprise &&\n\t\t!readonly &&\n\t\ttype !== 'asset' &&\n\t\t((isSettingColor(setting) && JSON.stringify(setting.packageEditor) !== JSON.stringify(editor)) ||\n\t\t\tJSON.stringify(value) !== JSON.stringify(packageValue)) &&\n\t\t!disabled;\n\n\t// @todo: type check props based on setting type\n\n\treturn (\n\t\t<MemoizedSetting\n\t\t\tclassName={className}\n\t\t\tlabel={label}\n\t\t\thint={hint}\n\t\t\tcallout={callout}\n\t\t\tshowUpgradeButton={showUpgradeButton}\n\t\t\tsectionChanged={sectionChanged}\n\t\t\t{...setting}\n\t\t\tdisabled={setting.disabled || shouldDisableEnterprise}\n\t\t\tvalue={value}\n\t\t\teditor={editor}\n\t\t\thasResetButton={hasResetButton}\n\t\t\tonChangeValue={onChangeValue}\n\t\t\tonChangeEditor={onChangeEditor}\n\t\t\tonResetButtonClick={onResetButtonClick}\n\t\t\tinvisible={invisible}\n\t\t/>\n\t);\n}\n\nexport default Setting;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"production","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/settings/Setting/Setting.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/settings/Setting/Setting.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/settings/Setting/Setting.tsx","sourceRoot":"","sources":["client/views/admin/settings/Setting/Setting.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ISettingColor, SettingEditor, SettingValue } from '@rocket.chat/core-typings';\nimport { isSettingColor, isSetting } from '@rocket.chat/core-typings';\nimport { Box, Button, Tag } from '@rocket.chat/fuselage';\nimport { useDebouncedCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSettingStructure } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useEffect, useMemo, useState, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport MarkdownText from '../../../../components/MarkdownText';\nimport { useEditableSetting, useEditableSettingsDispatch, useIsEnterprise } from '../../EditableSettingsContext';\nimport MemoizedSetting from './MemoizedSetting';\n\ntype SettingProps = {\n\tclassName?: string;\n\tsettingId: string;\n\tsectionChanged?: boolean;\n};\n\nfunction Setting({ className = undefined, settingId, sectionChanged }: SettingProps): ReactElement {\n\tconst setting = useEditableSetting(settingId);\n\tconst persistedSetting = useSettingStructure(settingId);\n\tconst isEnterprise = useIsEnterprise();\n\n\tif (!setting || !persistedSetting) {\n\t\tthrow new Error(`Setting ${settingId} not found`);\n\t}\n\n\t// Checks if setting has at least required fields before doing anything\n\tif (!isSetting(setting)) {\n\t\tthrow new Error(`Setting ${settingId} is not valid`);\n\t}\n\n\tconst dispatch = useEditableSettingsDispatch();\n\n\tconst update = useDebouncedCallback(\n\t\t({ value, editor }: { value?: SettingValue; editor?: SettingEditor }) => {\n\t\t\tif (!persistedSetting) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatch([\n\t\t\t\t{\n\t\t\t\t\t_id: persistedSetting._id,\n\t\t\t\t\t...(value !== undefined && { value }),\n\t\t\t\t\t...(editor !== undefined && { editor }),\n\t\t\t\t\tchanged:\n\t\t\t\t\t\tJSON.stringify(persistedSetting.value) !== JSON.stringify(value) ||\n\t\t\t\t\t\t(isSettingColor(persistedSetting) && JSON.stringify(persistedSetting.editor) !== JSON.stringify(editor)),\n\t\t\t\t},\n\t\t\t]);\n\t\t},\n\t\t230,\n\t\t[persistedSetting, dispatch],\n\t);\n\n\tconst { t, i18n } = useTranslation();\n\n\tconst [value, setValue] = useState(setting.value);\n\tconst [editor, setEditor] = useState(isSettingColor(setting) ? setting.editor : undefined);\n\n\tuseEffect(() => {\n\t\tsetValue(setting.value);\n\t}, [setting.value]);\n\n\tuseEffect(() => {\n\t\tsetEditor(isSettingColor(setting) ? setting.editor : undefined);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [(setting as ISettingColor).editor]);\n\n\tconst onChangeValue = useCallback(\n\t\t(value) => {\n\t\t\tsetValue(value);\n\t\t\tupdate({ value });\n\t\t},\n\t\t[update],\n\t);\n\n\tconst onChangeEditor = useCallback(\n\t\t(editor) => {\n\t\t\tsetEditor(editor);\n\t\t\tupdate({ editor });\n\t\t},\n\t\t[update],\n\t);\n\n\tconst onResetButtonClick = useCallback(() => {\n\t\tsetValue(setting.value);\n\t\tsetEditor(isSettingColor(setting) ? setting.editor : undefined);\n\t\tupdate({\n\t\t\tvalue: persistedSetting.packageValue,\n\t\t\t...(isSettingColor(persistedSetting) && { editor: persistedSetting.packageEditor }),\n\t\t});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [setting.value, (setting as ISettingColor).editor, update, persistedSetting]);\n\n\tconst { _id, disabled, readonly, type, packageValue, i18nLabel, i18nDescription, alert, invisible } = setting;\n\n\tconst labelText = (i18n.exists(i18nLabel) && t(i18nLabel)) || (i18n.exists(_id) && t(_id)) || i18nLabel || _id;\n\n\tconst hint = useMemo(\n\t\t() =>\n\t\t\ti18nDescription && i18n.exists(i18nDescription) ? (\n\t\t\t\t<MarkdownText variant='inline' preserveHtml content={t(i18nDescription)} />\n\t\t\t) : undefined,\n\t\t[i18n, i18nDescription, t],\n\t);\n\tconst callout = useMemo(\n\t\t() => alert && <span dangerouslySetInnerHTML={{ __html: i18n.exists(alert) ? t(alert) : alert }} />,\n\t\t[alert, i18n, t],\n\t);\n\n\tconst shouldDisableEnterprise = setting.enterprise && !isEnterprise;\n\n\tconst PRICING_URL = 'https://go.rocket.chat/i/see-paid-plan-customize-homepage';\n\n\tconst showUpgradeButton = useMemo(\n\t\t() =>\n\t\t\tshouldDisableEnterprise ? (\n\t\t\t\t<Button mbs={4} is='a' href={PRICING_URL} target='_blank'>\n\t\t\t\t\t{t('See_Paid_Plan')}\n\t\t\t\t</Button>\n\t\t\t) : undefined,\n\t\t[shouldDisableEnterprise, t],\n\t);\n\n\tconst label = useMemo(() => {\n\t\tif (!shouldDisableEnterprise) {\n\t\t\treturn labelText;\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Box is='span' mie={4}>\n\t\t\t\t\t{labelText}\n\t\t\t\t</Box>\n\t\t\t\t<Tag variant='featured'>{t('Premium')}</Tag>\n\t\t\t</>\n\t\t);\n\t}, [labelText, shouldDisableEnterprise, t]);\n\n\tconst hasResetButton =\n\t\t!shouldDisableEnterprise &&\n\t\t!readonly &&\n\t\ttype !== 'asset' &&\n\t\t((isSettingColor(setting) && JSON.stringify(setting.packageEditor) !== JSON.stringify(editor)) ||\n\t\t\tJSON.stringify(value) !== JSON.stringify(packageValue)) &&\n\t\t!disabled;\n\n\t// @todo: type check props based on setting type\n\n\treturn (\n\t\t<MemoizedSetting\n\t\t\tclassName={className}\n\t\t\tlabel={label}\n\t\t\thint={hint}\n\t\t\tcallout={callout}\n\t\t\tshowUpgradeButton={showUpgradeButton}\n\t\t\tsectionChanged={sectionChanged}\n\t\t\t{...setting}\n\t\t\tdisabled={setting.disabled || shouldDisableEnterprise}\n\t\t\tvalue={value}\n\t\t\teditor={editor}\n\t\t\thasResetButton={hasResetButton}\n\t\t\tonChangeValue={onChangeValue}\n\t\t\tonChangeEditor={onChangeEditor}\n\t\t\tonResetButtonClick={onResetButtonClick}\n\t\t\tinvisible={invisible}\n\t\t/>\n\t);\n}\n\nexport default Setting;\n"]}}},"code":"var _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nvar _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 2);\nvar isSettingColor, isSetting;\nmodule.link(\"@rocket.chat/core-typings\", {\n  isSettingColor: function (v) {\n    isSettingColor = v;\n  },\n  isSetting: function (v) {\n    isSetting = v;\n  }\n}, 0);\nvar Box, Button, Tag;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  Tag: function (v) {\n    Tag = v;\n  }\n}, 1);\nvar useDebouncedCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useDebouncedCallback: function (v) {\n    useDebouncedCallback = v;\n  }\n}, 2);\nvar useSettingStructure;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useSettingStructure: function (v) {\n    useSettingStructure = v;\n  }\n}, 3);\nvar React, useEffect, useMemo, useState, useCallback;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  }\n}, 4);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 5);\nvar MarkdownText;\nmodule.link(\"../../../../components/MarkdownText\", {\n  \"default\": function (v) {\n    MarkdownText = v;\n  }\n}, 6);\nvar useEditableSetting, useEditableSettingsDispatch, useIsEnterprise;\nmodule.link(\"../../EditableSettingsContext\", {\n  useEditableSetting: function (v) {\n    useEditableSetting = v;\n  },\n  useEditableSettingsDispatch: function (v) {\n    useEditableSettingsDispatch = v;\n  },\n  useIsEnterprise: function (v) {\n    useIsEnterprise = v;\n  }\n}, 7);\nvar MemoizedSetting;\nmodule.link(\"./MemoizedSetting\", {\n  \"default\": function (v) {\n    MemoizedSetting = v;\n  }\n}, 8);\nfunction Setting(_ref) {\n  var _ref$className = _ref.className,\n    className = _ref$className === void 0 ? undefined : _ref$className,\n    settingId = _ref.settingId,\n    sectionChanged = _ref.sectionChanged;\n  var setting = useEditableSetting(settingId);\n  var persistedSetting = useSettingStructure(settingId);\n  var isEnterprise = useIsEnterprise();\n  if (!setting || !persistedSetting) {\n    throw new Error(\"Setting \" + settingId + \" not found\");\n  }\n  // Checks if setting has at least required fields before doing anything\n  if (!isSetting(setting)) {\n    throw new Error(\"Setting \" + settingId + \" is not valid\");\n  }\n  var dispatch = useEditableSettingsDispatch();\n  var update = useDebouncedCallback(function (_ref2) {\n    var value = _ref2.value,\n      editor = _ref2.editor;\n    if (!persistedSetting) {\n      return;\n    }\n    dispatch([_objectSpread(_objectSpread(_objectSpread({\n      _id: persistedSetting._id\n    }, value !== undefined && {\n      value: value\n    }), editor !== undefined && {\n      editor: editor\n    }), {}, {\n      changed: JSON.stringify(persistedSetting.value) !== JSON.stringify(value) || isSettingColor(persistedSetting) && JSON.stringify(persistedSetting.editor) !== JSON.stringify(editor)\n    })]);\n  }, 230, [persistedSetting, dispatch]);\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t,\n    i18n = _useTranslation.i18n;\n  var _useState = useState(setting.value),\n    _useState2 = _slicedToArray(_useState, 2),\n    value = _useState2[0],\n    setValue = _useState2[1];\n  var _useState3 = useState(isSettingColor(setting) ? setting.editor : undefined),\n    _useState4 = _slicedToArray(_useState3, 2),\n    editor = _useState4[0],\n    setEditor = _useState4[1];\n  useEffect(function () {\n    setValue(setting.value);\n  }, [setting.value]);\n  useEffect(function () {\n    setEditor(isSettingColor(setting) ? setting.editor : undefined);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [setting.editor]);\n  var onChangeValue = useCallback(function (value) {\n    setValue(value);\n    update({\n      value: value\n    });\n  }, [update]);\n  var onChangeEditor = useCallback(function (editor) {\n    setEditor(editor);\n    update({\n      editor: editor\n    });\n  }, [update]);\n  var onResetButtonClick = useCallback(function () {\n    setValue(setting.value);\n    setEditor(isSettingColor(setting) ? setting.editor : undefined);\n    update(_objectSpread({\n      value: persistedSetting.packageValue\n    }, isSettingColor(persistedSetting) && {\n      editor: persistedSetting.packageEditor\n    }));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [setting.value, setting.editor, update, persistedSetting]);\n  var _id = setting._id,\n    disabled = setting.disabled,\n    readonly = setting.readonly,\n    type = setting.type,\n    packageValue = setting.packageValue,\n    i18nLabel = setting.i18nLabel,\n    i18nDescription = setting.i18nDescription,\n    alert = setting.alert,\n    invisible = setting.invisible;\n  var labelText = i18n.exists(i18nLabel) && t(i18nLabel) || i18n.exists(_id) && t(_id) || i18nLabel || _id;\n  var hint = useMemo(function () {\n    return i18nDescription && i18n.exists(i18nDescription) ? /*#__PURE__*/React.createElement(MarkdownText, {\n      variant: \"inline\",\n      preserveHtml: true,\n      content: t(i18nDescription)\n    }) : undefined;\n  }, [i18n, i18nDescription, t]);\n  var callout = useMemo(function () {\n    return alert && /*#__PURE__*/React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: i18n.exists(alert) ? t(alert) : alert\n      }\n    });\n  }, [alert, i18n, t]);\n  var shouldDisableEnterprise = setting.enterprise && !isEnterprise;\n  var PRICING_URL = 'https://go.rocket.chat/i/see-paid-plan-customize-homepage';\n  var showUpgradeButton = useMemo(function () {\n    return shouldDisableEnterprise ? /*#__PURE__*/React.createElement(Button, {\n      mbs: 4,\n      is: \"a\",\n      href: PRICING_URL,\n      target: \"_blank\"\n    }, t('See_Paid_Plan')) : undefined;\n  }, [shouldDisableEnterprise, t]);\n  var label = useMemo(function () {\n    if (!shouldDisableEnterprise) {\n      return labelText;\n    }\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Box, {\n      is: \"span\",\n      mie: 4\n    }, labelText), /*#__PURE__*/React.createElement(Tag, {\n      variant: \"featured\"\n    }, t('Premium')));\n  }, [labelText, shouldDisableEnterprise, t]);\n  var hasResetButton = !shouldDisableEnterprise && !readonly && type !== 'asset' && (isSettingColor(setting) && JSON.stringify(setting.packageEditor) !== JSON.stringify(editor) || JSON.stringify(value) !== JSON.stringify(packageValue)) && !disabled;\n  // @todo: type check props based on setting type\n  return /*#__PURE__*/React.createElement(MemoizedSetting, _extends({\n    className: className,\n    label: label,\n    hint: hint,\n    callout: callout,\n    showUpgradeButton: showUpgradeButton,\n    sectionChanged: sectionChanged\n  }, setting, {\n    disabled: setting.disabled || shouldDisableEnterprise,\n    value: value,\n    editor: editor,\n    hasResetButton: hasResetButton,\n    onChangeValue: onChangeValue,\n    onChangeEditor: onChangeEditor,\n    onResetButtonClick: onResetButtonClick,\n    invisible: invisible\n  }));\n}\nmodule.exportDefault(Setting);","map":{"version":3,"names":["_extends","module","link","default","v","_slicedToArray","_objectSpread","isSettingColor","isSetting","Box","Button","Tag","useDebouncedCallback","useSettingStructure","React","useEffect","useMemo","useState","useCallback","useTranslation","MarkdownText","useEditableSetting","useEditableSettingsDispatch","useIsEnterprise","MemoizedSetting","Setting","_ref","_ref$className","className","undefined","settingId","sectionChanged","setting","persistedSetting","isEnterprise","Error","dispatch","update","_ref2","value","editor","_id","changed","JSON","stringify","_useTranslation","t","i18n","_useState","_useState2","setValue","_useState3","_useState4","setEditor","onChangeValue","onChangeEditor","onResetButtonClick","packageValue","packageEditor","disabled","readonly","type","i18nLabel","i18nDescription","alert","invisible","labelText","exists","hint","createElement","variant","preserveHtml","content","callout","dangerouslySetInnerHTML","__html","shouldDisableEnterprise","enterprise","PRICING_URL","showUpgradeButton","mbs","is","href","target","label","Fragment","mie","hasResetButton","exportDefault"],"sources":["client/views/admin/settings/Setting/Setting.tsx"],"sourcesContent":["import type { ISettingColor, SettingEditor, SettingValue } from '@rocket.chat/core-typings';\nimport { isSettingColor, isSetting } from '@rocket.chat/core-typings';\nimport { Box, Button, Tag } from '@rocket.chat/fuselage';\nimport { useDebouncedCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSettingStructure } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useEffect, useMemo, useState, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport MarkdownText from '../../../../components/MarkdownText';\nimport { useEditableSetting, useEditableSettingsDispatch, useIsEnterprise } from '../../EditableSettingsContext';\nimport MemoizedSetting from './MemoizedSetting';\n\ntype SettingProps = {\n\tclassName?: string;\n\tsettingId: string;\n\tsectionChanged?: boolean;\n};\n\nfunction Setting({ className = undefined, settingId, sectionChanged }: SettingProps): ReactElement {\n\tconst setting = useEditableSetting(settingId);\n\tconst persistedSetting = useSettingStructure(settingId);\n\tconst isEnterprise = useIsEnterprise();\n\n\tif (!setting || !persistedSetting) {\n\t\tthrow new Error(`Setting ${settingId} not found`);\n\t}\n\n\t// Checks if setting has at least required fields before doing anything\n\tif (!isSetting(setting)) {\n\t\tthrow new Error(`Setting ${settingId} is not valid`);\n\t}\n\n\tconst dispatch = useEditableSettingsDispatch();\n\n\tconst update = useDebouncedCallback(\n\t\t({ value, editor }: { value?: SettingValue; editor?: SettingEditor }) => {\n\t\t\tif (!persistedSetting) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatch([\n\t\t\t\t{\n\t\t\t\t\t_id: persistedSetting._id,\n\t\t\t\t\t...(value !== undefined && { value }),\n\t\t\t\t\t...(editor !== undefined && { editor }),\n\t\t\t\t\tchanged:\n\t\t\t\t\t\tJSON.stringify(persistedSetting.value) !== JSON.stringify(value) ||\n\t\t\t\t\t\t(isSettingColor(persistedSetting) && JSON.stringify(persistedSetting.editor) !== JSON.stringify(editor)),\n\t\t\t\t},\n\t\t\t]);\n\t\t},\n\t\t230,\n\t\t[persistedSetting, dispatch],\n\t);\n\n\tconst { t, i18n } = useTranslation();\n\n\tconst [value, setValue] = useState(setting.value);\n\tconst [editor, setEditor] = useState(isSettingColor(setting) ? setting.editor : undefined);\n\n\tuseEffect(() => {\n\t\tsetValue(setting.value);\n\t}, [setting.value]);\n\n\tuseEffect(() => {\n\t\tsetEditor(isSettingColor(setting) ? setting.editor : undefined);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [(setting as ISettingColor).editor]);\n\n\tconst onChangeValue = useCallback(\n\t\t(value) => {\n\t\t\tsetValue(value);\n\t\t\tupdate({ value });\n\t\t},\n\t\t[update],\n\t);\n\n\tconst onChangeEditor = useCallback(\n\t\t(editor) => {\n\t\t\tsetEditor(editor);\n\t\t\tupdate({ editor });\n\t\t},\n\t\t[update],\n\t);\n\n\tconst onResetButtonClick = useCallback(() => {\n\t\tsetValue(setting.value);\n\t\tsetEditor(isSettingColor(setting) ? setting.editor : undefined);\n\t\tupdate({\n\t\t\tvalue: persistedSetting.packageValue,\n\t\t\t...(isSettingColor(persistedSetting) && { editor: persistedSetting.packageEditor }),\n\t\t});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [setting.value, (setting as ISettingColor).editor, update, persistedSetting]);\n\n\tconst { _id, disabled, readonly, type, packageValue, i18nLabel, i18nDescription, alert, invisible } = setting;\n\n\tconst labelText = (i18n.exists(i18nLabel) && t(i18nLabel)) || (i18n.exists(_id) && t(_id)) || i18nLabel || _id;\n\n\tconst hint = useMemo(\n\t\t() =>\n\t\t\ti18nDescription && i18n.exists(i18nDescription) ? (\n\t\t\t\t<MarkdownText variant='inline' preserveHtml content={t(i18nDescription)} />\n\t\t\t) : undefined,\n\t\t[i18n, i18nDescription, t],\n\t);\n\tconst callout = useMemo(\n\t\t() => alert && <span dangerouslySetInnerHTML={{ __html: i18n.exists(alert) ? t(alert) : alert }} />,\n\t\t[alert, i18n, t],\n\t);\n\n\tconst shouldDisableEnterprise = setting.enterprise && !isEnterprise;\n\n\tconst PRICING_URL = 'https://go.rocket.chat/i/see-paid-plan-customize-homepage';\n\n\tconst showUpgradeButton = useMemo(\n\t\t() =>\n\t\t\tshouldDisableEnterprise ? (\n\t\t\t\t<Button mbs={4} is='a' href={PRICING_URL} target='_blank'>\n\t\t\t\t\t{t('See_Paid_Plan')}\n\t\t\t\t</Button>\n\t\t\t) : undefined,\n\t\t[shouldDisableEnterprise, t],\n\t);\n\n\tconst label = useMemo(() => {\n\t\tif (!shouldDisableEnterprise) {\n\t\t\treturn labelText;\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Box is='span' mie={4}>\n\t\t\t\t\t{labelText}\n\t\t\t\t</Box>\n\t\t\t\t<Tag variant='featured'>{t('Premium')}</Tag>\n\t\t\t</>\n\t\t);\n\t}, [labelText, shouldDisableEnterprise, t]);\n\n\tconst hasResetButton =\n\t\t!shouldDisableEnterprise &&\n\t\t!readonly &&\n\t\ttype !== 'asset' &&\n\t\t((isSettingColor(setting) && JSON.stringify(setting.packageEditor) !== JSON.stringify(editor)) ||\n\t\t\tJSON.stringify(value) !== JSON.stringify(packageValue)) &&\n\t\t!disabled;\n\n\t// @todo: type check props based on setting type\n\n\treturn (\n\t\t<MemoizedSetting\n\t\t\tclassName={className}\n\t\t\tlabel={label}\n\t\t\thint={hint}\n\t\t\tcallout={callout}\n\t\t\tshowUpgradeButton={showUpgradeButton}\n\t\t\tsectionChanged={sectionChanged}\n\t\t\t{...setting}\n\t\t\tdisabled={setting.disabled || shouldDisableEnterprise}\n\t\t\tvalue={value}\n\t\t\teditor={editor}\n\t\t\thasResetButton={hasResetButton}\n\t\t\tonChangeValue={onChangeValue}\n\t\t\tonChangeEditor={onChangeEditor}\n\t\t\tonResetButtonClick={onResetButtonClick}\n\t\t\tinvisible={invisible}\n\t\t/>\n\t);\n}\n\nexport default Setting;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"bb72ac1b4585f958586bb05b144ac438e806ba59"}
