{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/directory/chats/contextualBar/RoomEdit/RoomEdit.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/omnichannel/directory/chats/contextualBar/RoomEdit/RoomEdit.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/directory/chats/contextualBar/RoomEdit/RoomEdit.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/directory/chats/contextualBar/RoomEdit/RoomEdit.tsx","sourceRoot":"","sources":["client/views/omnichannel/directory/chats/contextualBar/RoomEdit/RoomEdit.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ILivechatVisitor, IOmnichannelRoom, Serialized } from '@rocket.chat/core-typings';\nimport { Field, FieldLabel, FieldRow, TextInput, ButtonGroup, Button } from '@rocket.chat/fuselage';\nimport { CustomFieldsForm } from '@rocket.chat/ui-client';\nimport { useToastMessageDispatch, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useCallback } from 'react';\nimport { useController, useForm } from 'react-hook-form';\n\nimport { hasAtLeastOnePermission } from '../../../../../../../app/authorization/client';\nimport { ContextualbarFooter, ContextualbarScrollableContent } from '../../../../../../components/Contextualbar';\nimport Tags from '../../../../../../components/Omnichannel/Tags';\nimport { useOmnichannelPriorities } from '../../../../../../omnichannel/hooks/useOmnichannelPriorities';\nimport { SlaPoliciesSelect, PrioritiesSelect } from '../../../../additionalForms';\nimport { FormSkeleton } from '../../../components/FormSkeleton';\nimport { useCustomFieldsMetadata } from '../../../hooks/useCustomFieldsMetadata';\nimport { useSlaPolicies } from '../../../hooks/useSlaPolicies';\n\ntype RoomEditProps = {\n\troom: Serialized<IOmnichannelRoom>;\n\tvisitor: Serialized<ILivechatVisitor>;\n\treload?: () => void;\n\treloadInfo?: () => void;\n\tonClose: () => void;\n};\n\nconst ROOM_INTIAL_VALUE = {\n\ttopic: '',\n\ttags: [],\n\tlivechatData: {},\n\tslaId: '',\n};\n\nconst getInitialValuesRoom = (room: Serialized<IOmnichannelRoom>) => {\n\tconst { topic, tags, livechatData, slaId, priorityId } = room ?? ROOM_INTIAL_VALUE;\n\n\treturn {\n\t\ttopic: topic ?? '',\n\t\ttags: tags ?? [],\n\t\tlivechatData: livechatData ?? {},\n\t\tslaId: slaId ?? '',\n\t\tpriorityId: priorityId ?? '',\n\t};\n};\n\nfunction RoomEdit({ room, visitor, reload, reloadInfo, onClose }: RoomEditProps) {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst queryClient = useQueryClient();\n\tconst canViewCustomFields = hasAtLeastOnePermission(['view-livechat-room-customfields', 'edit-livechat-room-customfields']);\n\n\tconst saveRoom = useEndpoint('POST', '/v1/livechat/room.saveInfo');\n\n\tconst { data: slaPolicies, isInitialLoading: isSlaPoliciesLoading } = useSlaPolicies();\n\tconst { data: customFieldsMetadata, isInitialLoading: isCustomFieldsLoading } = useCustomFieldsMetadata({\n\t\tscope: 'room',\n\t\tenabled: canViewCustomFields,\n\t});\n\tconst { data: priorities, isLoading: isPrioritiesLoading } = useOmnichannelPriorities();\n\n\tconst {\n\t\tregister,\n\t\tcontrol,\n\t\tformState: { isDirty: isFormDirty, isValid: isFormValid, isSubmitting },\n\t\thandleSubmit,\n\t} = useForm({\n\t\tmode: 'onChange',\n\t\tdefaultValues: getInitialValuesRoom(room),\n\t});\n\n\tconst { field: tagsField } = useController({ control, name: 'tags' });\n\tconst { field: slaIdField } = useController({ control, name: 'slaId' });\n\tconst { field: priorityIdField } = useController({ control, name: 'priorityId' });\n\n\tconst handleSave = useCallback(\n\t\tasync (data) => {\n\t\t\tif (!isFormValid) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { topic, tags, livechatData, slaId, priorityId } = data;\n\n\t\t\tconst guestData = {\n\t\t\t\t_id: visitor._id,\n\t\t\t};\n\n\t\t\tconst roomData = {\n\t\t\t\t_id: room._id,\n\t\t\t\ttopic,\n\t\t\t\ttags: tags.sort(),\n\t\t\t\tlivechatData,\n\t\t\t\tpriorityId,\n\t\t\t\t...(slaId && { slaId }),\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\tawait saveRoom({ guestData, roomData });\n\t\t\t\tawait queryClient.invalidateQueries(['/v1/rooms.info', room._id]);\n\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\t\treload?.();\n\t\t\t\treloadInfo?.();\n\t\t\t\tonClose();\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[dispatchToastMessage, isFormValid, onClose, queryClient, reload, reloadInfo, room._id, saveRoom, t, visitor._id],\n\t);\n\n\tif (isCustomFieldsLoading || isSlaPoliciesLoading || isPrioritiesLoading) {\n\t\treturn (\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<FormSkeleton />\n\t\t\t</ContextualbarScrollableContent>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent is='form' onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t{canViewCustomFields && customFieldsMetadata && (\n\t\t\t\t\t<CustomFieldsForm formName='livechatData' formControl={control} metadata={customFieldsMetadata} />\n\t\t\t\t)}\n\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Topic')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<TextInput {...register('topic')} flexGrow={1} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\n\t\t\t\t<Field>\n\t\t\t\t\t<Tags tags={tagsField.value} handler={tagsField.onChange} department={room.departmentId} />\n\t\t\t\t</Field>\n\n\t\t\t\t{SlaPoliciesSelect && !!slaPolicies?.length && (\n\t\t\t\t\t<SlaPoliciesSelect label={t('SLA_Policy')} value={slaIdField.value} options={slaPolicies} onChange={slaIdField.onChange} />\n\t\t\t\t)}\n\n\t\t\t\t{PrioritiesSelect && !!priorities?.length && (\n\t\t\t\t\t<PrioritiesSelect label={t('Priority')} value={priorityIdField.value} options={priorities} onChange={priorityIdField.onChange} />\n\t\t\t\t)}\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button flexGrow={1} onClick={onClose}>\n\t\t\t\t\t\t{t('Cancel')}\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tmie='none'\n\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\tonClick={handleSubmit(handleSave)}\n\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\tdisabled={!isFormValid || !isFormDirty}\n\t\t\t\t\t\tprimary\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n}\n\nexport default RoomEdit;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/directory/chats/contextualBar/RoomEdit/RoomEdit.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/omnichannel/directory/chats/contextualBar/RoomEdit/RoomEdit.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/directory/chats/contextualBar/RoomEdit/RoomEdit.tsx","sourceRoot":"","sources":["client/views/omnichannel/directory/chats/contextualBar/RoomEdit/RoomEdit.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ILivechatVisitor, IOmnichannelRoom, Serialized } from '@rocket.chat/core-typings';\nimport { Field, FieldLabel, FieldRow, TextInput, ButtonGroup, Button } from '@rocket.chat/fuselage';\nimport { CustomFieldsForm } from '@rocket.chat/ui-client';\nimport { useToastMessageDispatch, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useCallback } from 'react';\nimport { useController, useForm } from 'react-hook-form';\n\nimport { hasAtLeastOnePermission } from '../../../../../../../app/authorization/client';\nimport { ContextualbarFooter, ContextualbarScrollableContent } from '../../../../../../components/Contextualbar';\nimport Tags from '../../../../../../components/Omnichannel/Tags';\nimport { useOmnichannelPriorities } from '../../../../../../omnichannel/hooks/useOmnichannelPriorities';\nimport { SlaPoliciesSelect, PrioritiesSelect } from '../../../../additionalForms';\nimport { FormSkeleton } from '../../../components/FormSkeleton';\nimport { useCustomFieldsMetadata } from '../../../hooks/useCustomFieldsMetadata';\nimport { useSlaPolicies } from '../../../hooks/useSlaPolicies';\n\ntype RoomEditProps = {\n\troom: Serialized<IOmnichannelRoom>;\n\tvisitor: Serialized<ILivechatVisitor>;\n\treload?: () => void;\n\treloadInfo?: () => void;\n\tonClose: () => void;\n};\n\nconst ROOM_INTIAL_VALUE = {\n\ttopic: '',\n\ttags: [],\n\tlivechatData: {},\n\tslaId: '',\n};\n\nconst getInitialValuesRoom = (room: Serialized<IOmnichannelRoom>) => {\n\tconst { topic, tags, livechatData, slaId, priorityId } = room ?? ROOM_INTIAL_VALUE;\n\n\treturn {\n\t\ttopic: topic ?? '',\n\t\ttags: tags ?? [],\n\t\tlivechatData: livechatData ?? {},\n\t\tslaId: slaId ?? '',\n\t\tpriorityId: priorityId ?? '',\n\t};\n};\n\nfunction RoomEdit({ room, visitor, reload, reloadInfo, onClose }: RoomEditProps) {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst queryClient = useQueryClient();\n\tconst canViewCustomFields = hasAtLeastOnePermission(['view-livechat-room-customfields', 'edit-livechat-room-customfields']);\n\n\tconst saveRoom = useEndpoint('POST', '/v1/livechat/room.saveInfo');\n\n\tconst { data: slaPolicies, isInitialLoading: isSlaPoliciesLoading } = useSlaPolicies();\n\tconst { data: customFieldsMetadata, isInitialLoading: isCustomFieldsLoading } = useCustomFieldsMetadata({\n\t\tscope: 'room',\n\t\tenabled: canViewCustomFields,\n\t});\n\tconst { data: priorities, isLoading: isPrioritiesLoading } = useOmnichannelPriorities();\n\n\tconst {\n\t\tregister,\n\t\tcontrol,\n\t\tformState: { isDirty: isFormDirty, isValid: isFormValid, isSubmitting },\n\t\thandleSubmit,\n\t} = useForm({\n\t\tmode: 'onChange',\n\t\tdefaultValues: getInitialValuesRoom(room),\n\t});\n\n\tconst { field: tagsField } = useController({ control, name: 'tags' });\n\tconst { field: slaIdField } = useController({ control, name: 'slaId' });\n\tconst { field: priorityIdField } = useController({ control, name: 'priorityId' });\n\n\tconst handleSave = useCallback(\n\t\tasync (data) => {\n\t\t\tif (!isFormValid) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { topic, tags, livechatData, slaId, priorityId } = data;\n\n\t\t\tconst guestData = {\n\t\t\t\t_id: visitor._id,\n\t\t\t};\n\n\t\t\tconst roomData = {\n\t\t\t\t_id: room._id,\n\t\t\t\ttopic,\n\t\t\t\ttags: tags.sort(),\n\t\t\t\tlivechatData,\n\t\t\t\tpriorityId,\n\t\t\t\t...(slaId && { slaId }),\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\tawait saveRoom({ guestData, roomData });\n\t\t\t\tawait queryClient.invalidateQueries(['/v1/rooms.info', room._id]);\n\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\t\treload?.();\n\t\t\t\treloadInfo?.();\n\t\t\t\tonClose();\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[dispatchToastMessage, isFormValid, onClose, queryClient, reload, reloadInfo, room._id, saveRoom, t, visitor._id],\n\t);\n\n\tif (isCustomFieldsLoading || isSlaPoliciesLoading || isPrioritiesLoading) {\n\t\treturn (\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<FormSkeleton />\n\t\t\t</ContextualbarScrollableContent>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent is='form' onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t{canViewCustomFields && customFieldsMetadata && (\n\t\t\t\t\t<CustomFieldsForm formName='livechatData' formControl={control} metadata={customFieldsMetadata} />\n\t\t\t\t)}\n\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Topic')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<TextInput {...register('topic')} flexGrow={1} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\n\t\t\t\t<Field>\n\t\t\t\t\t<Tags tags={tagsField.value} handler={tagsField.onChange} department={room.departmentId} />\n\t\t\t\t</Field>\n\n\t\t\t\t{SlaPoliciesSelect && !!slaPolicies?.length && (\n\t\t\t\t\t<SlaPoliciesSelect label={t('SLA_Policy')} value={slaIdField.value} options={slaPolicies} onChange={slaIdField.onChange} />\n\t\t\t\t)}\n\n\t\t\t\t{PrioritiesSelect && !!priorities?.length && (\n\t\t\t\t\t<PrioritiesSelect label={t('Priority')} value={priorityIdField.value} options={priorities} onChange={priorityIdField.onChange} />\n\t\t\t\t)}\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button flexGrow={1} onClick={onClose}>\n\t\t\t\t\t\t{t('Cancel')}\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tmie='none'\n\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\tonClick={handleSubmit(handleSave)}\n\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\tdisabled={!isFormValid || !isFormDirty}\n\t\t\t\t\t\tprimary\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n}\n\nexport default RoomEdit;\n"]}}},"code":"var _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 1);\nvar _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 2);\nvar Field, FieldLabel, FieldRow, TextInput, ButtonGroup, Button;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Field: function (v) {\n    Field = v;\n  },\n  FieldLabel: function (v) {\n    FieldLabel = v;\n  },\n  FieldRow: function (v) {\n    FieldRow = v;\n  },\n  TextInput: function (v) {\n    TextInput = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  Button: function (v) {\n    Button = v;\n  }\n}, 0);\nvar CustomFieldsForm;\nmodule.link(\"@rocket.chat/ui-client\", {\n  CustomFieldsForm: function (v) {\n    CustomFieldsForm = v;\n  }\n}, 1);\nvar useToastMessageDispatch, useTranslation, useEndpoint;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useEndpoint: function (v) {\n    useEndpoint = v;\n  }\n}, 2);\nvar useQueryClient;\nmodule.link(\"@tanstack/react-query\", {\n  useQueryClient: function (v) {\n    useQueryClient = v;\n  }\n}, 3);\nvar React, useCallback;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  }\n}, 4);\nvar useController, useForm;\nmodule.link(\"react-hook-form\", {\n  useController: function (v) {\n    useController = v;\n  },\n  useForm: function (v) {\n    useForm = v;\n  }\n}, 5);\nvar hasAtLeastOnePermission;\nmodule.link(\"../../../../../../../app/authorization/client\", {\n  hasAtLeastOnePermission: function (v) {\n    hasAtLeastOnePermission = v;\n  }\n}, 6);\nvar ContextualbarFooter, ContextualbarScrollableContent;\nmodule.link(\"../../../../../../components/Contextualbar\", {\n  ContextualbarFooter: function (v) {\n    ContextualbarFooter = v;\n  },\n  ContextualbarScrollableContent: function (v) {\n    ContextualbarScrollableContent = v;\n  }\n}, 7);\nvar Tags;\nmodule.link(\"../../../../../../components/Omnichannel/Tags\", {\n  \"default\": function (v) {\n    Tags = v;\n  }\n}, 8);\nvar useOmnichannelPriorities;\nmodule.link(\"../../../../../../omnichannel/hooks/useOmnichannelPriorities\", {\n  useOmnichannelPriorities: function (v) {\n    useOmnichannelPriorities = v;\n  }\n}, 9);\nvar SlaPoliciesSelect, PrioritiesSelect;\nmodule.link(\"../../../../additionalForms\", {\n  SlaPoliciesSelect: function (v) {\n    SlaPoliciesSelect = v;\n  },\n  PrioritiesSelect: function (v) {\n    PrioritiesSelect = v;\n  }\n}, 10);\nvar FormSkeleton;\nmodule.link(\"../../../components/FormSkeleton\", {\n  FormSkeleton: function (v) {\n    FormSkeleton = v;\n  }\n}, 11);\nvar useCustomFieldsMetadata;\nmodule.link(\"../../../hooks/useCustomFieldsMetadata\", {\n  useCustomFieldsMetadata: function (v) {\n    useCustomFieldsMetadata = v;\n  }\n}, 12);\nvar useSlaPolicies;\nmodule.link(\"../../../hooks/useSlaPolicies\", {\n  useSlaPolicies: function (v) {\n    useSlaPolicies = v;\n  }\n}, 13);\nvar ROOM_INTIAL_VALUE = {\n  topic: '',\n  tags: [],\n  livechatData: {},\n  slaId: ''\n};\nvar getInitialValuesRoom = function (room) {\n  var _ref = room !== null && room !== void 0 ? room : ROOM_INTIAL_VALUE,\n    topic = _ref.topic,\n    tags = _ref.tags,\n    livechatData = _ref.livechatData,\n    slaId = _ref.slaId,\n    priorityId = _ref.priorityId;\n  return {\n    topic: topic !== null && topic !== void 0 ? topic : '',\n    tags: tags !== null && tags !== void 0 ? tags : [],\n    livechatData: livechatData !== null && livechatData !== void 0 ? livechatData : {},\n    slaId: slaId !== null && slaId !== void 0 ? slaId : '',\n    priorityId: priorityId !== null && priorityId !== void 0 ? priorityId : ''\n  };\n};\nfunction RoomEdit(_ref2) {\n  var room = _ref2.room,\n    visitor = _ref2.visitor,\n    reload = _ref2.reload,\n    reloadInfo = _ref2.reloadInfo,\n    onClose = _ref2.onClose;\n  var t = useTranslation();\n  var dispatchToastMessage = useToastMessageDispatch();\n  var queryClient = useQueryClient();\n  var canViewCustomFields = hasAtLeastOnePermission(['view-livechat-room-customfields', 'edit-livechat-room-customfields']);\n  var saveRoom = useEndpoint('POST', '/v1/livechat/room.saveInfo');\n  var _useSlaPolicies = useSlaPolicies(),\n    slaPolicies = _useSlaPolicies.data,\n    isSlaPoliciesLoading = _useSlaPolicies.isInitialLoading;\n  var _useCustomFieldsMetad = useCustomFieldsMetadata({\n      scope: 'room',\n      enabled: canViewCustomFields\n    }),\n    customFieldsMetadata = _useCustomFieldsMetad.data,\n    isCustomFieldsLoading = _useCustomFieldsMetad.isInitialLoading;\n  var _useOmnichannelPriori = useOmnichannelPriorities(),\n    priorities = _useOmnichannelPriori.data,\n    isPrioritiesLoading = _useOmnichannelPriori.isLoading;\n  var _useForm = useForm({\n      mode: 'onChange',\n      defaultValues: getInitialValuesRoom(room)\n    }),\n    register = _useForm.register,\n    control = _useForm.control,\n    _useForm$formState = _useForm.formState,\n    isFormDirty = _useForm$formState.isDirty,\n    isFormValid = _useForm$formState.isValid,\n    isSubmitting = _useForm$formState.isSubmitting,\n    handleSubmit = _useForm.handleSubmit;\n  var _useController = useController({\n      control: control,\n      name: 'tags'\n    }),\n    tagsField = _useController.field;\n  var _useController2 = useController({\n      control: control,\n      name: 'slaId'\n    }),\n    slaIdField = _useController2.field;\n  var _useController3 = useController({\n      control: control,\n      name: 'priorityId'\n    }),\n    priorityIdField = _useController3.field;\n  var handleSave = useCallback(function () {\n    function _callee(data) {\n      var topic, tags, livechatData, slaId, priorityId, guestData, roomData;\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (isFormValid) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              topic = data.topic, tags = data.tags, livechatData = data.livechatData, slaId = data.slaId, priorityId = data.priorityId;\n              guestData = {\n                _id: visitor._id\n              };\n              roomData = _objectSpread({\n                _id: room._id,\n                topic: topic,\n                tags: tags.sort(),\n                livechatData: livechatData,\n                priorityId: priorityId\n              }, slaId && {\n                slaId: slaId\n              });\n              _context.prev = 5;\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(saveRoom({\n                guestData: guestData,\n                roomData: roomData\n              }));\n            case 8:\n              _context.next = 10;\n              return _regeneratorRuntime.awrap(queryClient.invalidateQueries(['/v1/rooms.info', room._id]));\n            case 10:\n              dispatchToastMessage({\n                type: 'success',\n                message: t('Saved')\n              });\n              reload === null || reload === void 0 ? void 0 : reload();\n              reloadInfo === null || reloadInfo === void 0 ? void 0 : reloadInfo();\n              onClose();\n              _context.next = 19;\n              break;\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](5);\n              dispatchToastMessage({\n                type: 'error',\n                message: _context.t0\n              });\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, [[5, 16]], Promise);\n    }\n    return _callee;\n  }(), [dispatchToastMessage, isFormValid, onClose, queryClient, reload, reloadInfo, room._id, saveRoom, t, visitor._id]);\n  if (isCustomFieldsLoading || isSlaPoliciesLoading || isPrioritiesLoading) {\n    return /*#__PURE__*/React.createElement(ContextualbarScrollableContent, null, /*#__PURE__*/React.createElement(FormSkeleton, null));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ContextualbarScrollableContent, {\n    is: \"form\",\n    onSubmit: handleSubmit(handleSave)\n  }, canViewCustomFields && customFieldsMetadata && /*#__PURE__*/React.createElement(CustomFieldsForm, {\n    formName: \"livechatData\",\n    formControl: control,\n    metadata: customFieldsMetadata\n  }), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, null, t('Topic')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextInput, _extends({}, register('topic'), {\n    flexGrow: 1\n  })))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Tags, {\n    tags: tagsField.value,\n    handler: tagsField.onChange,\n    department: room.departmentId\n  })), SlaPoliciesSelect && !!(slaPolicies !== null && slaPolicies !== void 0 && slaPolicies.length) && /*#__PURE__*/React.createElement(SlaPoliciesSelect, {\n    label: t('SLA_Policy'),\n    value: slaIdField.value,\n    options: slaPolicies,\n    onChange: slaIdField.onChange\n  }), PrioritiesSelect && !!(priorities !== null && priorities !== void 0 && priorities.length) && /*#__PURE__*/React.createElement(PrioritiesSelect, {\n    label: t('Priority'),\n    value: priorityIdField.value,\n    options: priorities,\n    onChange: priorityIdField.onChange\n  })), /*#__PURE__*/React.createElement(ContextualbarFooter, null, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    flexGrow: 1,\n    onClick: onClose\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    mie: \"none\",\n    flexGrow: 1,\n    onClick: handleSubmit(handleSave),\n    loading: isSubmitting,\n    disabled: !isFormValid || !isFormDirty,\n    primary: true\n  }, t('Save')))));\n}\nmodule.exportDefault(RoomEdit);","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","_extends","_objectSpread","Field","FieldLabel","FieldRow","TextInput","ButtonGroup","Button","CustomFieldsForm","useToastMessageDispatch","useTranslation","useEndpoint","useQueryClient","React","useCallback","useController","useForm","hasAtLeastOnePermission","ContextualbarFooter","ContextualbarScrollableContent","Tags","useOmnichannelPriorities","SlaPoliciesSelect","PrioritiesSelect","FormSkeleton","useCustomFieldsMetadata","useSlaPolicies","ROOM_INTIAL_VALUE","topic","tags","livechatData","slaId","getInitialValuesRoom","room","_ref","priorityId","RoomEdit","_ref2","visitor","reload","reloadInfo","onClose","t","dispatchToastMessage","queryClient","canViewCustomFields","saveRoom","_useSlaPolicies","slaPolicies","data","isSlaPoliciesLoading","isInitialLoading","_useCustomFieldsMetad","scope","enabled","customFieldsMetadata","isCustomFieldsLoading","_useOmnichannelPriori","priorities","isPrioritiesLoading","isLoading","_useForm","mode","defaultValues","register","control","_useForm$formState","formState","isFormDirty","isDirty","isFormValid","isValid","isSubmitting","handleSubmit","_useController","name","tagsField","field","_useController2","slaIdField","_useController3","priorityIdField","handleSave","_callee","guestData","roomData","async","_callee$","_context","prev","next","abrupt","_id","sort","awrap","invalidateQueries","type","message","t0","stop","Promise","createElement","Fragment","is","onSubmit","formName","formControl","metadata","flexGrow","value","handler","onChange","department","departmentId","length","label","options","stretch","onClick","mie","loading","disabled","primary","exportDefault"],"sources":["client/views/omnichannel/directory/chats/contextualBar/RoomEdit/RoomEdit.tsx"],"sourcesContent":["import type { ILivechatVisitor, IOmnichannelRoom, Serialized } from '@rocket.chat/core-typings';\nimport { Field, FieldLabel, FieldRow, TextInput, ButtonGroup, Button } from '@rocket.chat/fuselage';\nimport { CustomFieldsForm } from '@rocket.chat/ui-client';\nimport { useToastMessageDispatch, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useCallback } from 'react';\nimport { useController, useForm } from 'react-hook-form';\n\nimport { hasAtLeastOnePermission } from '../../../../../../../app/authorization/client';\nimport { ContextualbarFooter, ContextualbarScrollableContent } from '../../../../../../components/Contextualbar';\nimport Tags from '../../../../../../components/Omnichannel/Tags';\nimport { useOmnichannelPriorities } from '../../../../../../omnichannel/hooks/useOmnichannelPriorities';\nimport { SlaPoliciesSelect, PrioritiesSelect } from '../../../../additionalForms';\nimport { FormSkeleton } from '../../../components/FormSkeleton';\nimport { useCustomFieldsMetadata } from '../../../hooks/useCustomFieldsMetadata';\nimport { useSlaPolicies } from '../../../hooks/useSlaPolicies';\n\ntype RoomEditProps = {\n\troom: Serialized<IOmnichannelRoom>;\n\tvisitor: Serialized<ILivechatVisitor>;\n\treload?: () => void;\n\treloadInfo?: () => void;\n\tonClose: () => void;\n};\n\nconst ROOM_INTIAL_VALUE = {\n\ttopic: '',\n\ttags: [],\n\tlivechatData: {},\n\tslaId: '',\n};\n\nconst getInitialValuesRoom = (room: Serialized<IOmnichannelRoom>) => {\n\tconst { topic, tags, livechatData, slaId, priorityId } = room ?? ROOM_INTIAL_VALUE;\n\n\treturn {\n\t\ttopic: topic ?? '',\n\t\ttags: tags ?? [],\n\t\tlivechatData: livechatData ?? {},\n\t\tslaId: slaId ?? '',\n\t\tpriorityId: priorityId ?? '',\n\t};\n};\n\nfunction RoomEdit({ room, visitor, reload, reloadInfo, onClose }: RoomEditProps) {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst queryClient = useQueryClient();\n\tconst canViewCustomFields = hasAtLeastOnePermission(['view-livechat-room-customfields', 'edit-livechat-room-customfields']);\n\n\tconst saveRoom = useEndpoint('POST', '/v1/livechat/room.saveInfo');\n\n\tconst { data: slaPolicies, isInitialLoading: isSlaPoliciesLoading } = useSlaPolicies();\n\tconst { data: customFieldsMetadata, isInitialLoading: isCustomFieldsLoading } = useCustomFieldsMetadata({\n\t\tscope: 'room',\n\t\tenabled: canViewCustomFields,\n\t});\n\tconst { data: priorities, isLoading: isPrioritiesLoading } = useOmnichannelPriorities();\n\n\tconst {\n\t\tregister,\n\t\tcontrol,\n\t\tformState: { isDirty: isFormDirty, isValid: isFormValid, isSubmitting },\n\t\thandleSubmit,\n\t} = useForm({\n\t\tmode: 'onChange',\n\t\tdefaultValues: getInitialValuesRoom(room),\n\t});\n\n\tconst { field: tagsField } = useController({ control, name: 'tags' });\n\tconst { field: slaIdField } = useController({ control, name: 'slaId' });\n\tconst { field: priorityIdField } = useController({ control, name: 'priorityId' });\n\n\tconst handleSave = useCallback(\n\t\tasync (data) => {\n\t\t\tif (!isFormValid) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { topic, tags, livechatData, slaId, priorityId } = data;\n\n\t\t\tconst guestData = {\n\t\t\t\t_id: visitor._id,\n\t\t\t};\n\n\t\t\tconst roomData = {\n\t\t\t\t_id: room._id,\n\t\t\t\ttopic,\n\t\t\t\ttags: tags.sort(),\n\t\t\t\tlivechatData,\n\t\t\t\tpriorityId,\n\t\t\t\t...(slaId && { slaId }),\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\tawait saveRoom({ guestData, roomData });\n\t\t\t\tawait queryClient.invalidateQueries(['/v1/rooms.info', room._id]);\n\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\t\treload?.();\n\t\t\t\treloadInfo?.();\n\t\t\t\tonClose();\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t},\n\t\t[dispatchToastMessage, isFormValid, onClose, queryClient, reload, reloadInfo, room._id, saveRoom, t, visitor._id],\n\t);\n\n\tif (isCustomFieldsLoading || isSlaPoliciesLoading || isPrioritiesLoading) {\n\t\treturn (\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<FormSkeleton />\n\t\t\t</ContextualbarScrollableContent>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent is='form' onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t{canViewCustomFields && customFieldsMetadata && (\n\t\t\t\t\t<CustomFieldsForm formName='livechatData' formControl={control} metadata={customFieldsMetadata} />\n\t\t\t\t)}\n\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Topic')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<TextInput {...register('topic')} flexGrow={1} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\n\t\t\t\t<Field>\n\t\t\t\t\t<Tags tags={tagsField.value} handler={tagsField.onChange} department={room.departmentId} />\n\t\t\t\t</Field>\n\n\t\t\t\t{SlaPoliciesSelect && !!slaPolicies?.length && (\n\t\t\t\t\t<SlaPoliciesSelect label={t('SLA_Policy')} value={slaIdField.value} options={slaPolicies} onChange={slaIdField.onChange} />\n\t\t\t\t)}\n\n\t\t\t\t{PrioritiesSelect && !!priorities?.length && (\n\t\t\t\t\t<PrioritiesSelect label={t('Priority')} value={priorityIdField.value} options={priorities} onChange={priorityIdField.onChange} />\n\t\t\t\t)}\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button flexGrow={1} onClick={onClose}>\n\t\t\t\t\t\t{t('Cancel')}\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tmie='none'\n\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\tonClick={handleSubmit(handleSave)}\n\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\tdisabled={!isFormValid || !isFormDirty}\n\t\t\t\t\t\tprimary\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n}\n\nexport default RoomEdit;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"ef1192ec74a879c9286ff30da0bfed2857719984"}
