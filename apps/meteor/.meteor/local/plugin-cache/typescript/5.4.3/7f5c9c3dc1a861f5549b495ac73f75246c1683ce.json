{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/mailer/MailerPage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/mailer/MailerPage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/mailer/MailerPage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/mailer/MailerPage.tsx","sourceRoot":"","sources":["client/views/admin/mailer/MailerPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n\tTextInput,\n\tTextAreaInput,\n\tField,\n\tFieldGroup,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tFieldHint,\n\tCheckBox,\n\tButton,\n\tButtonGroup,\n\tBox,\n} from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\nimport React from 'react';\nimport { Controller, useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport { isJSON } from '../../../../lib/utils/isJSON';\nimport { Page, PageHeader, PageScrollableContentWithShadow, PageFooter } from '../../../components/Page';\n\nexport type SendEmailFormValue = {\n\tfromEmail: string;\n\tsubject: string;\n\temailBody: string;\n\tdryRun: boolean;\n\tquery?: string;\n};\n\nconst initialData = { fromEmail: '', query: '', dryRun: false, subject: '', emailBody: '' };\n\nconst MailerPage = () => {\n\tconst { t } = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst {\n\t\tregister,\n\t\tformState: { errors, isDirty },\n\t\thandleSubmit,\n\t\treset,\n\t\tcontrol,\n\t} = useForm({ defaultValues: initialData, mode: 'onBlur' });\n\n\tconst mailerEndpoint = useEndpoint('POST', '/v1/mailer');\n\tconst sendMailAction = useMutation({\n\t\tmutationFn: mailerEndpoint,\n\t\tonSuccess: () => {\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('The_emails_are_being_sent'),\n\t\t\t});\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleSendEmail = async ({ fromEmail, subject, emailBody, dryRun, query }: SendEmailFormValue) => {\n\t\tsendMailAction.mutateAsync({ from: fromEmail, subject, body: emailBody, dryrun: dryRun, query });\n\t};\n\n\tconst mailerFormId = useUniqueId();\n\tconst fromEmailId = useUniqueId();\n\tconst queryId = useUniqueId();\n\tconst dryRunId = useUniqueId();\n\tconst subjectId = useUniqueId();\n\tconst emailBodyId = useUniqueId();\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Mailer')} />\n\t\t\t<PageScrollableContentWithShadow alignSelf='center' w='100%' display='flex' flexDirection='column' alignItems='center'>\n\t\t\t\t<Box id={mailerFormId} is='form' autoComplete='off' maxWidth='x600' onSubmit={handleSubmit(handleSendEmail)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={fromEmailId}>\n\t\t\t\t\t\t\t\t{t('From')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={fromEmailId}\n\t\t\t\t\t\t\t\t\tplaceholder={t('Type_your_email')}\n\t\t\t\t\t\t\t\t\t{...register('fromEmail', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('From') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (fromEmail) => (validateEmail(fromEmail) ? undefined : t('error-invalid-email-address')),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terror={errors.fromEmail?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.fromEmail ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\taria-describedby={`${fromEmailId}-error`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.fromEmail && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${fromEmailId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.fromEmail.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={dryRunId}>{t('Dry_run')}</FieldLabel>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='dryRun'\n\t\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<CheckBox aria-describedby={`${dryRunId}-hint`} ref={ref} id={dryRunId} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t<FieldHint id={`${dryRunId}-hint`}>{t('Dry_run_description')}</FieldHint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={queryId}>{t('Query')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={queryId}\n\t\t\t\t\t\t\t\t\t{...register('query', {\n\t\t\t\t\t\t\t\t\t\tvalidate: (query) => (query && query !== '' && !isJSON(query) ? t('Query_is_not_valid_JSON') : true),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terror={errors.query?.message}\n\t\t\t\t\t\t\t\t\taria-describedby={`${queryId}-error ${queryId}-hint`}\n\t\t\t\t\t\t\t\t\taria-invalid={errors.query ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.query && (\n\t\t\t\t\t\t\t\t<FieldError id={`${queryId}-error`} aria-live='assertive'>\n\t\t\t\t\t\t\t\t\t{errors.query.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FieldHint id={`${queryId}-hint`}>{t('Query_description')}</FieldHint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={subjectId}>\n\t\t\t\t\t\t\t\t{t('Subject')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={subjectId}\n\t\t\t\t\t\t\t\t\t{...register('subject', { required: t('Required_field', { field: t('Subject') }) })}\n\t\t\t\t\t\t\t\t\taria-describedby={`${subjectId}-error`}\n\t\t\t\t\t\t\t\t\terror={errors.subject?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.subject ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.subject && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${subjectId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.subject.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={emailBodyId}>\n\t\t\t\t\t\t\t\t{t('Email_body')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextAreaInput\n\t\t\t\t\t\t\t\t\tid={emailBodyId}\n\t\t\t\t\t\t\t\t\t{...register('emailBody', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Email_body') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (emailBody) => (emailBody?.indexOf('[unsubscribe]') === -1 ? t('error-missing-unsubscribe-link') : true),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\trows={10}\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailBodyId}-error ${emailBodyId}-hint`}\n\t\t\t\t\t\t\t\t\terror={errors.emailBody?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.emailBody ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.emailBody && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${emailBodyId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.emailBody.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FieldHint id={`${emailBodyId}-hint`} dangerouslySetInnerHTML={{ __html: t('Mailer_body_tags') }} />\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t\t<PageFooter isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => reset(initialData)}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={mailerFormId} primary type='submit'>\n\t\t\t\t\t\t{t('Send_email')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageFooter>\n\t\t</Page>\n\t);\n};\n\nexport default MailerPage;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"production","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/mailer/MailerPage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/mailer/MailerPage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/mailer/MailerPage.tsx","sourceRoot":"","sources":["client/views/admin/mailer/MailerPage.tsx"],"names":[],"mappings":"AAAA,OAAO,EACN,SAAS,EACT,aAAa,EACb,KAAK,EACL,UAAU,EACV,UAAU,EACV,QAAQ,EACR,UAAU,EACV,SAAS,EACT,QAAQ,EACR,MAAM,EACN,WAAW,EACX,GAAG,GACH,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAAE,WAAW,EAAE,MAAM,6BAA6B,CAAC;AAC1D,OAAO,EAAE,WAAW,EAAE,uBAAuB,EAAE,MAAM,0BAA0B,CAAC;AAChF,OAAO,EAAE,WAAW,EAAE,MAAM,uBAAuB,CAAC;AACpD,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,iBAAiB,CAAC;AACtD,OAAO,EAAE,cAAc,EAAE,MAAM,eAAe,CAAC;AAE/C,OAAO,EAAE,aAAa,EAAE,MAAM,gCAAgC,CAAC;AAC/D,OAAO,EAAE,MAAM,EAAE,MAAM,8BAA8B,CAAC;AACtD,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,+BAA+B,EAAE,UAAU,EAAE,MAAM,0BAA0B,CAAC;AAUzG,MAAM,WAAW,GAAG,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC;AAE5F,MAAM,UAAU,GAAG,GAAG,EAAE;IACvB,MAAM,EAAE,CAAC,EAAE,GAAG,cAAc,EAAE,CAAC;IAC/B,MAAM,oBAAoB,GAAG,uBAAuB,EAAE,CAAC;IAEvD,MAAM,EACL,QAAQ,EACR,SAAS,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,EAC9B,YAAY,EACZ,KAAK,EACL,OAAO,GACP,GAAG,OAAO,CAAC,EAAE,aAAa,EAAE,WAAW,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;IAE5D,MAAM,cAAc,GAAG,WAAW,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;IACzD,MAAM,cAAc,GAAG,WAAW,CAAC;QAClC,UAAU,EAAE,cAAc;QAC1B,SAAS,EAAE,GAAG,EAAE;YACf,oBAAoB,CAAC;gBACpB,IAAI,EAAE,SAAS;gBACf,OAAO,EAAE,CAAC,CAAC,2BAA2B,CAAC;aACvC,CAAC,CAAC;QACJ,CAAC;QACD,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE;YAClB,oBAAoB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QACzD,CAAC;KACD,CAAC,CAAC;IAEH,MAAM,eAAe,GAAG,KAAK,EAAE,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,KAAK,EAAsB,EAAE,EAAE;QACtG,cAAc,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;IAClG,CAAC,CAAC;IAEF,MAAM,YAAY,GAAG,WAAW,EAAE,CAAC;IACnC,MAAM,WAAW,GAAG,WAAW,EAAE,CAAC;IAClC,MAAM,OAAO,GAAG,WAAW,EAAE,CAAC;IAC9B,MAAM,QAAQ,GAAG,WAAW,EAAE,CAAC;IAC/B,MAAM,SAAS,GAAG,WAAW,EAAE,CAAC;IAChC,MAAM,WAAW,GAAG,WAAW,EAAE,CAAC;IAElC,OAAO,CACN,CAAC,IAAI,CACJ;GAAA,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAC/B;GAAA,CAAC,+BAA+B,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CACrH;IAAA,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAC3G;KAAA,CAAC,UAAU,CACV;MAAA,CAAC,KAAK,CACL;OAAA,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CACzC;QAAA,CAAC,CAAC,CAAC,MAAM,CAAC,CACX;OAAA,EAAE,UAAU,CACZ;OAAA,CAAC,QAAQ,CACR;QAAA,CAAC,SAAS,CACT,EAAE,CAAC,CAAC,WAAW,CAAC,CAChB,WAAW,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAClC,IAAI,QAAQ,CAAC,WAAW,EAAE;QACzB,QAAQ,EAAE,CAAC,CAAC,gBAAgB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC;QACnD,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,6BAA6B,CAAC,CAAC;KAClG,CAAC,CAAC,CACH,KAAK,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,CACjC,aAAa,CAAC,MAAM,CACpB,YAAY,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAClD,gBAAgB,CAAC,CAAC,GAAG,WAAW,QAAQ,CAAC,EAE3C;OAAA,EAAE,QAAQ,CACV;OAAA,CAAC,MAAM,CAAC,SAAS,IAAI,CACpB,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,GAAG,WAAW,QAAQ,CAAC,CAC5D;SAAA,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAC1B;QAAA,EAAE,UAAU,CAAC,CACb,CACF;MAAA,EAAE,KAAK,CACP;MAAA,CAAC,KAAK,CACL;OAAA,CAAC,QAAQ,CACR;QAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,UAAU,CACzD;QAAA,CAAC,UAAU,CACV,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,IAAI,CAAC,QAAQ,CACb,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE,CAAC,CAChD,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC,GAAG,QAAQ,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,EAAG,CAC9G,CAAC,EAEJ;OAAA,EAAE,QAAQ,CACV;OAAA,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,GAAG,QAAQ,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,EAAE,SAAS,CACzE;MAAA,EAAE,KAAK,CACP;MAAA,CAAC,KAAK,CACL;OAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,UAAU,CACtD;OAAA,CAAC,QAAQ,CACR;QAAA,CAAC,SAAS,CACT,EAAE,CAAC,CAAC,OAAO,CAAC,CACZ,IAAI,QAAQ,CAAC,OAAO,EAAE;QACrB,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,KAAK,IAAI,KAAK,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;KACpG,CAAC,CAAC,CACH,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,CAC7B,gBAAgB,CAAC,CAAC,GAAG,OAAO,UAAU,OAAO,OAAO,CAAC,CACrD,YAAY,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,EAEhD;OAAA,EAAE,QAAQ,CACV;OAAA,CAAC,MAAM,CAAC,KAAK,IAAI,CAChB,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,GAAG,OAAO,QAAQ,CAAC,CAAC,SAAS,CAAC,WAAW,CACxD;SAAA,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CACtB;QAAA,EAAE,UAAU,CAAC,CACb,CACD;OAAA,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,GAAG,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,EAAE,SAAS,CACtE;MAAA,EAAE,KAAK,CACP;MAAA,CAAC,KAAK,CACL;OAAA,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CACvC;QAAA,CAAC,CAAC,CAAC,SAAS,CAAC,CACd;OAAA,EAAE,UAAU,CACZ;OAAA,CAAC,QAAQ,CACR;QAAA,CAAC,SAAS,CACT,EAAE,CAAC,CAAC,SAAS,CAAC,CACd,IAAI,QAAQ,CAAC,SAAS,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC,gBAAgB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CACpF,gBAAgB,CAAC,CAAC,GAAG,SAAS,QAAQ,CAAC,CACvC,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,CAC/B,aAAa,CAAC,MAAM,CACpB,YAAY,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,EAElD;OAAA,EAAE,QAAQ,CACV;OAAA,CAAC,MAAM,CAAC,OAAO,IAAI,CAClB,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,GAAG,SAAS,QAAQ,CAAC,CAC1D;SAAA,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CACxB;QAAA,EAAE,UAAU,CAAC,CACb,CACF;MAAA,EAAE,KAAK,CACP;MAAA,CAAC,KAAK,CACL;OAAA,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CACzC;QAAA,CAAC,CAAC,CAAC,YAAY,CAAC,CACjB;OAAA,EAAE,UAAU,CACZ;OAAA,CAAC,QAAQ,CACR;QAAA,CAAC,aAAa,CACb,EAAE,CAAC,CAAC,WAAW,CAAC,CAChB,IAAI,QAAQ,CAAC,WAAW,EAAE;QACzB,QAAQ,EAAE,CAAC,CAAC,gBAAgB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC;QACzD,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,SAAS,EAAE,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,gCAAgC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;KAClH,CAAC,CAAC,CACH,IAAI,CAAC,CAAC,EAAE,CAAC,CACT,gBAAgB,CAAC,CAAC,GAAG,WAAW,UAAU,WAAW,OAAO,CAAC,CAC7D,KAAK,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,CACjC,aAAa,CAAC,MAAM,CACpB,YAAY,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,EAEpD;OAAA,EAAE,QAAQ,CACV;OAAA,CAAC,MAAM,CAAC,SAAS,IAAI,CACpB,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,GAAG,WAAW,QAAQ,CAAC,CAC5D;SAAA,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAC1B;QAAA,EAAE,UAAU,CAAC,CACb,CACD;OAAA,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,GAAG,WAAW,OAAO,CAAC,CAAC,uBAAuB,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,kBAAkB,CAAC,EAAE,CAAC,EAClG;MAAA,EAAE,KAAK,CACR;KAAA,EAAE,UAAU,CACb;IAAA,EAAE,GAAG,CACN;GAAA,EAAE,+BAA+B,CACjC;GAAA,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAC5B;IAAA,CAAC,WAAW,CACX;KAAA,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,MAAM,CAChE;KAAA,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAChD;MAAA,CAAC,CAAC,CAAC,YAAY,CAAC,CACjB;KAAA,EAAE,MAAM,CACT;IAAA,EAAE,WAAW,CACd;GAAA,EAAE,UAAU,CACb;EAAA,EAAE,IAAI,CAAC,CACP,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,UAAU,CAAC","sourcesContent":["import {\n\tTextInput,\n\tTextAreaInput,\n\tField,\n\tFieldGroup,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tFieldHint,\n\tCheckBox,\n\tButton,\n\tButtonGroup,\n\tBox,\n} from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\nimport React from 'react';\nimport { Controller, useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport { isJSON } from '../../../../lib/utils/isJSON';\nimport { Page, PageHeader, PageScrollableContentWithShadow, PageFooter } from '../../../components/Page';\n\nexport type SendEmailFormValue = {\n\tfromEmail: string;\n\tsubject: string;\n\temailBody: string;\n\tdryRun: boolean;\n\tquery?: string;\n};\n\nconst initialData = { fromEmail: '', query: '', dryRun: false, subject: '', emailBody: '' };\n\nconst MailerPage = () => {\n\tconst { t } = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst {\n\t\tregister,\n\t\tformState: { errors, isDirty },\n\t\thandleSubmit,\n\t\treset,\n\t\tcontrol,\n\t} = useForm({ defaultValues: initialData, mode: 'onBlur' });\n\n\tconst mailerEndpoint = useEndpoint('POST', '/v1/mailer');\n\tconst sendMailAction = useMutation({\n\t\tmutationFn: mailerEndpoint,\n\t\tonSuccess: () => {\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('The_emails_are_being_sent'),\n\t\t\t});\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleSendEmail = async ({ fromEmail, subject, emailBody, dryRun, query }: SendEmailFormValue) => {\n\t\tsendMailAction.mutateAsync({ from: fromEmail, subject, body: emailBody, dryrun: dryRun, query });\n\t};\n\n\tconst mailerFormId = useUniqueId();\n\tconst fromEmailId = useUniqueId();\n\tconst queryId = useUniqueId();\n\tconst dryRunId = useUniqueId();\n\tconst subjectId = useUniqueId();\n\tconst emailBodyId = useUniqueId();\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Mailer')} />\n\t\t\t<PageScrollableContentWithShadow alignSelf='center' w='100%' display='flex' flexDirection='column' alignItems='center'>\n\t\t\t\t<Box id={mailerFormId} is='form' autoComplete='off' maxWidth='x600' onSubmit={handleSubmit(handleSendEmail)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={fromEmailId}>\n\t\t\t\t\t\t\t\t{t('From')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={fromEmailId}\n\t\t\t\t\t\t\t\t\tplaceholder={t('Type_your_email')}\n\t\t\t\t\t\t\t\t\t{...register('fromEmail', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('From') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (fromEmail) => (validateEmail(fromEmail) ? undefined : t('error-invalid-email-address')),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terror={errors.fromEmail?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.fromEmail ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\taria-describedby={`${fromEmailId}-error`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.fromEmail && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${fromEmailId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.fromEmail.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={dryRunId}>{t('Dry_run')}</FieldLabel>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='dryRun'\n\t\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<CheckBox aria-describedby={`${dryRunId}-hint`} ref={ref} id={dryRunId} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t<FieldHint id={`${dryRunId}-hint`}>{t('Dry_run_description')}</FieldHint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={queryId}>{t('Query')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={queryId}\n\t\t\t\t\t\t\t\t\t{...register('query', {\n\t\t\t\t\t\t\t\t\t\tvalidate: (query) => (query && query !== '' && !isJSON(query) ? t('Query_is_not_valid_JSON') : true),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terror={errors.query?.message}\n\t\t\t\t\t\t\t\t\taria-describedby={`${queryId}-error ${queryId}-hint`}\n\t\t\t\t\t\t\t\t\taria-invalid={errors.query ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.query && (\n\t\t\t\t\t\t\t\t<FieldError id={`${queryId}-error`} aria-live='assertive'>\n\t\t\t\t\t\t\t\t\t{errors.query.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FieldHint id={`${queryId}-hint`}>{t('Query_description')}</FieldHint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={subjectId}>\n\t\t\t\t\t\t\t\t{t('Subject')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={subjectId}\n\t\t\t\t\t\t\t\t\t{...register('subject', { required: t('Required_field', { field: t('Subject') }) })}\n\t\t\t\t\t\t\t\t\taria-describedby={`${subjectId}-error`}\n\t\t\t\t\t\t\t\t\terror={errors.subject?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.subject ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.subject && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${subjectId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.subject.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={emailBodyId}>\n\t\t\t\t\t\t\t\t{t('Email_body')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextAreaInput\n\t\t\t\t\t\t\t\t\tid={emailBodyId}\n\t\t\t\t\t\t\t\t\t{...register('emailBody', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Email_body') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (emailBody) => (emailBody?.indexOf('[unsubscribe]') === -1 ? t('error-missing-unsubscribe-link') : true),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\trows={10}\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailBodyId}-error ${emailBodyId}-hint`}\n\t\t\t\t\t\t\t\t\terror={errors.emailBody?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.emailBody ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.emailBody && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${emailBodyId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.emailBody.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FieldHint id={`${emailBodyId}-hint`} dangerouslySetInnerHTML={{ __html: t('Mailer_body_tags') }} />\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t\t<PageFooter isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => reset(initialData)}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={mailerFormId} primary type='submit'>\n\t\t\t\t\t\t{t('Send_email')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageFooter>\n\t\t</Page>\n\t);\n};\n\nexport default MailerPage;\n"]}}},"code":"var _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\nvar _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 1);\nvar TextInput, TextAreaInput, Field, FieldGroup, FieldLabel, FieldRow, FieldError, FieldHint, CheckBox, Button, ButtonGroup, Box;\nmodule.link(\"@rocket.chat/fuselage\", {\n  TextInput: function (v) {\n    TextInput = v;\n  },\n  TextAreaInput: function (v) {\n    TextAreaInput = v;\n  },\n  Field: function (v) {\n    Field = v;\n  },\n  FieldGroup: function (v) {\n    FieldGroup = v;\n  },\n  FieldLabel: function (v) {\n    FieldLabel = v;\n  },\n  FieldRow: function (v) {\n    FieldRow = v;\n  },\n  FieldError: function (v) {\n    FieldError = v;\n  },\n  FieldHint: function (v) {\n    FieldHint = v;\n  },\n  CheckBox: function (v) {\n    CheckBox = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  Box: function (v) {\n    Box = v;\n  }\n}, 0);\nvar useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useUniqueId: function (v) {\n    useUniqueId = v;\n  }\n}, 1);\nvar useEndpoint, useToastMessageDispatch;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useEndpoint: function (v) {\n    useEndpoint = v;\n  },\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  }\n}, 2);\nvar useMutation;\nmodule.link(\"@tanstack/react-query\", {\n  useMutation: function (v) {\n    useMutation = v;\n  }\n}, 3);\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 4);\nvar Controller, useForm;\nmodule.link(\"react-hook-form\", {\n  Controller: function (v) {\n    Controller = v;\n  },\n  useForm: function (v) {\n    useForm = v;\n  }\n}, 5);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 6);\nvar validateEmail;\nmodule.link(\"../../../../lib/emailValidator\", {\n  validateEmail: function (v) {\n    validateEmail = v;\n  }\n}, 7);\nvar isJSON;\nmodule.link(\"../../../../lib/utils/isJSON\", {\n  isJSON: function (v) {\n    isJSON = v;\n  }\n}, 8);\nvar Page, PageHeader, PageScrollableContentWithShadow, PageFooter;\nmodule.link(\"../../../components/Page\", {\n  Page: function (v) {\n    Page = v;\n  },\n  PageHeader: function (v) {\n    PageHeader = v;\n  },\n  PageScrollableContentWithShadow: function (v) {\n    PageScrollableContentWithShadow = v;\n  },\n  PageFooter: function (v) {\n    PageFooter = v;\n  }\n}, 9);\nvar initialData = {\n  fromEmail: '',\n  query: '',\n  dryRun: false,\n  subject: '',\n  emailBody: ''\n};\nvar MailerPage = function () {\n  var _errors$fromEmail, _errors$query, _errors$subject, _errors$emailBody;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var dispatchToastMessage = useToastMessageDispatch();\n  var _useForm = useForm({\n      defaultValues: initialData,\n      mode: 'onBlur'\n    }),\n    register = _useForm.register,\n    _useForm$formState = _useForm.formState,\n    errors = _useForm$formState.errors,\n    isDirty = _useForm$formState.isDirty,\n    handleSubmit = _useForm.handleSubmit,\n    reset = _useForm.reset,\n    control = _useForm.control;\n  var mailerEndpoint = useEndpoint('POST', '/v1/mailer');\n  var sendMailAction = useMutation({\n    mutationFn: mailerEndpoint,\n    onSuccess: function () {\n      dispatchToastMessage({\n        type: 'success',\n        message: t('The_emails_are_being_sent')\n      });\n    },\n    onError: function (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    }\n  });\n  var handleSendEmail = function () {\n    function _callee(_ref) {\n      var fromEmail, subject, emailBody, dryRun, query;\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              fromEmail = _ref.fromEmail, subject = _ref.subject, emailBody = _ref.emailBody, dryRun = _ref.dryRun, query = _ref.query;\n              sendMailAction.mutateAsync({\n                from: fromEmail,\n                subject: subject,\n                body: emailBody,\n                dryrun: dryRun,\n                query: query\n              });\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n        return _callee$;\n      }(), null, null, null, Promise);\n    }\n    return _callee;\n  }();\n  var mailerFormId = useUniqueId();\n  var fromEmailId = useUniqueId();\n  var queryId = useUniqueId();\n  var dryRunId = useUniqueId();\n  var subjectId = useUniqueId();\n  var emailBodyId = useUniqueId();\n  return /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: t('Mailer')\n  }), /*#__PURE__*/React.createElement(PageScrollableContentWithShadow, {\n    alignSelf: \"center\",\n    w: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    id: mailerFormId,\n    is: \"form\",\n    autoComplete: \"off\",\n    maxWidth: \"x600\",\n    onSubmit: handleSubmit(handleSendEmail)\n  }, /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    required: true,\n    htmlFor: fromEmailId\n  }, t('From')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextInput, _extends({\n    id: fromEmailId,\n    placeholder: t('Type_your_email')\n  }, register('fromEmail', {\n    required: t('Required_field', {\n      field: t('From')\n    }),\n    validate: function (fromEmail) {\n      return validateEmail(fromEmail) ? undefined : t('error-invalid-email-address');\n    }\n  }), {\n    error: (_errors$fromEmail = errors.fromEmail) === null || _errors$fromEmail === void 0 ? void 0 : _errors$fromEmail.message,\n    \"aria-required\": \"true\",\n    \"aria-invalid\": errors.fromEmail ? 'true' : 'false',\n    \"aria-describedby\": fromEmailId + \"-error\"\n  }))), errors.fromEmail && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: fromEmailId + \"-error\"\n  }, errors.fromEmail.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: dryRunId\n  }, t('Dry_run')), /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"dryRun\",\n    render: function (_ref2) {\n      var _ref2$field = _ref2.field,\n        ref = _ref2$field.ref,\n        value = _ref2$field.value,\n        onChange = _ref2$field.onChange;\n      return /*#__PURE__*/React.createElement(CheckBox, {\n        \"aria-describedby\": dryRunId + \"-hint\",\n        ref: ref,\n        id: dryRunId,\n        checked: value,\n        onChange: onChange\n      });\n    }\n  })), /*#__PURE__*/React.createElement(FieldHint, {\n    id: dryRunId + \"-hint\"\n  }, t('Dry_run_description'))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: queryId\n  }, t('Query')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextInput, _extends({\n    id: queryId\n  }, register('query', {\n    validate: function (query) {\n      return query && query !== '' && !isJSON(query) ? t('Query_is_not_valid_JSON') : true;\n    }\n  }), {\n    error: (_errors$query = errors.query) === null || _errors$query === void 0 ? void 0 : _errors$query.message,\n    \"aria-describedby\": queryId + \"-error \" + queryId + \"-hint\",\n    \"aria-invalid\": errors.query ? 'true' : 'false'\n  }))), errors.query && /*#__PURE__*/React.createElement(FieldError, {\n    id: queryId + \"-error\",\n    \"aria-live\": \"assertive\"\n  }, errors.query.message), /*#__PURE__*/React.createElement(FieldHint, {\n    id: queryId + \"-hint\"\n  }, t('Query_description'))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    required: true,\n    htmlFor: subjectId\n  }, t('Subject')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextInput, _extends({\n    id: subjectId\n  }, register('subject', {\n    required: t('Required_field', {\n      field: t('Subject')\n    })\n  }), {\n    \"aria-describedby\": subjectId + \"-error\",\n    error: (_errors$subject = errors.subject) === null || _errors$subject === void 0 ? void 0 : _errors$subject.message,\n    \"aria-required\": \"true\",\n    \"aria-invalid\": errors.subject ? 'true' : 'false'\n  }))), errors.subject && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: subjectId + \"-error\"\n  }, errors.subject.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    required: true,\n    htmlFor: emailBodyId\n  }, t('Email_body')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextAreaInput, _extends({\n    id: emailBodyId\n  }, register('emailBody', {\n    required: t('Required_field', {\n      field: t('Email_body')\n    }),\n    validate: function (emailBody) {\n      return (emailBody === null || emailBody === void 0 ? void 0 : emailBody.indexOf('[unsubscribe]')) === -1 ? t('error-missing-unsubscribe-link') : true;\n    }\n  }), {\n    rows: 10,\n    \"aria-describedby\": emailBodyId + \"-error \" + emailBodyId + \"-hint\",\n    error: (_errors$emailBody = errors.emailBody) === null || _errors$emailBody === void 0 ? void 0 : _errors$emailBody.message,\n    \"aria-required\": \"true\",\n    \"aria-invalid\": errors.emailBody ? 'true' : 'false'\n  }))), errors.emailBody && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: emailBodyId + \"-error\"\n  }, errors.emailBody.message), /*#__PURE__*/React.createElement(FieldHint, {\n    id: emailBodyId + \"-hint\",\n    dangerouslySetInnerHTML: {\n      __html: t('Mailer_body_tags')\n    }\n  }))))), /*#__PURE__*/React.createElement(PageFooter, {\n    isDirty: isDirty\n  }, /*#__PURE__*/React.createElement(ButtonGroup, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: function () {\n      return reset(initialData);\n    }\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    form: mailerFormId,\n    primary: true,\n    type: \"submit\"\n  }, t('Send_email')))));\n};\nmodule.exportDefault(MailerPage);","map":{"version":3,"names":["_extends","module","link","default","v","_regeneratorRuntime","TextInput","TextAreaInput","Field","FieldGroup","FieldLabel","FieldRow","FieldError","FieldHint","CheckBox","Button","ButtonGroup","Box","useUniqueId","useEndpoint","useToastMessageDispatch","useMutation","React","Controller","useForm","useTranslation","validateEmail","isJSON","Page","PageHeader","PageScrollableContentWithShadow","PageFooter","initialData","fromEmail","query","dryRun","subject","emailBody","MailerPage","_errors$fromEmail","_errors$query","_errors$subject","_errors$emailBody","_useTranslation","t","dispatchToastMessage","_useForm","defaultValues","mode","register","_useForm$formState","formState","errors","isDirty","handleSubmit","reset","control","mailerEndpoint","sendMailAction","mutationFn","onSuccess","type","message","onError","error","handleSendEmail","_callee","_ref","async","_callee$","_context","prev","next","mutateAsync","from","body","dryrun","stop","Promise","mailerFormId","fromEmailId","queryId","dryRunId","subjectId","emailBodyId","createElement","title","alignSelf","w","display","flexDirection","alignItems","id","is","autoComplete","maxWidth","onSubmit","required","htmlFor","placeholder","field","validate","undefined","name","render","_ref2","_ref2$field","ref","value","onChange","checked","indexOf","rows","dangerouslySetInnerHTML","__html","onClick","form","primary","exportDefault"],"sources":["client/views/admin/mailer/MailerPage.tsx"],"sourcesContent":["import {\n\tTextInput,\n\tTextAreaInput,\n\tField,\n\tFieldGroup,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tFieldHint,\n\tCheckBox,\n\tButton,\n\tButtonGroup,\n\tBox,\n} from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\nimport React from 'react';\nimport { Controller, useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport { isJSON } from '../../../../lib/utils/isJSON';\nimport { Page, PageHeader, PageScrollableContentWithShadow, PageFooter } from '../../../components/Page';\n\nexport type SendEmailFormValue = {\n\tfromEmail: string;\n\tsubject: string;\n\temailBody: string;\n\tdryRun: boolean;\n\tquery?: string;\n};\n\nconst initialData = { fromEmail: '', query: '', dryRun: false, subject: '', emailBody: '' };\n\nconst MailerPage = () => {\n\tconst { t } = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst {\n\t\tregister,\n\t\tformState: { errors, isDirty },\n\t\thandleSubmit,\n\t\treset,\n\t\tcontrol,\n\t} = useForm({ defaultValues: initialData, mode: 'onBlur' });\n\n\tconst mailerEndpoint = useEndpoint('POST', '/v1/mailer');\n\tconst sendMailAction = useMutation({\n\t\tmutationFn: mailerEndpoint,\n\t\tonSuccess: () => {\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('The_emails_are_being_sent'),\n\t\t\t});\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleSendEmail = async ({ fromEmail, subject, emailBody, dryRun, query }: SendEmailFormValue) => {\n\t\tsendMailAction.mutateAsync({ from: fromEmail, subject, body: emailBody, dryrun: dryRun, query });\n\t};\n\n\tconst mailerFormId = useUniqueId();\n\tconst fromEmailId = useUniqueId();\n\tconst queryId = useUniqueId();\n\tconst dryRunId = useUniqueId();\n\tconst subjectId = useUniqueId();\n\tconst emailBodyId = useUniqueId();\n\n\treturn (\n\t\t<Page>\n\t\t\t<PageHeader title={t('Mailer')} />\n\t\t\t<PageScrollableContentWithShadow alignSelf='center' w='100%' display='flex' flexDirection='column' alignItems='center'>\n\t\t\t\t<Box id={mailerFormId} is='form' autoComplete='off' maxWidth='x600' onSubmit={handleSubmit(handleSendEmail)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={fromEmailId}>\n\t\t\t\t\t\t\t\t{t('From')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={fromEmailId}\n\t\t\t\t\t\t\t\t\tplaceholder={t('Type_your_email')}\n\t\t\t\t\t\t\t\t\t{...register('fromEmail', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('From') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (fromEmail) => (validateEmail(fromEmail) ? undefined : t('error-invalid-email-address')),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terror={errors.fromEmail?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.fromEmail ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\taria-describedby={`${fromEmailId}-error`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.fromEmail && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${fromEmailId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.fromEmail.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={dryRunId}>{t('Dry_run')}</FieldLabel>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='dryRun'\n\t\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<CheckBox aria-describedby={`${dryRunId}-hint`} ref={ref} id={dryRunId} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t<FieldHint id={`${dryRunId}-hint`}>{t('Dry_run_description')}</FieldHint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={queryId}>{t('Query')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={queryId}\n\t\t\t\t\t\t\t\t\t{...register('query', {\n\t\t\t\t\t\t\t\t\t\tvalidate: (query) => (query && query !== '' && !isJSON(query) ? t('Query_is_not_valid_JSON') : true),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terror={errors.query?.message}\n\t\t\t\t\t\t\t\t\taria-describedby={`${queryId}-error ${queryId}-hint`}\n\t\t\t\t\t\t\t\t\taria-invalid={errors.query ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.query && (\n\t\t\t\t\t\t\t\t<FieldError id={`${queryId}-error`} aria-live='assertive'>\n\t\t\t\t\t\t\t\t\t{errors.query.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FieldHint id={`${queryId}-hint`}>{t('Query_description')}</FieldHint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={subjectId}>\n\t\t\t\t\t\t\t\t{t('Subject')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tid={subjectId}\n\t\t\t\t\t\t\t\t\t{...register('subject', { required: t('Required_field', { field: t('Subject') }) })}\n\t\t\t\t\t\t\t\t\taria-describedby={`${subjectId}-error`}\n\t\t\t\t\t\t\t\t\terror={errors.subject?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.subject ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.subject && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${subjectId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.subject.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel required htmlFor={emailBodyId}>\n\t\t\t\t\t\t\t\t{t('Email_body')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<TextAreaInput\n\t\t\t\t\t\t\t\t\tid={emailBodyId}\n\t\t\t\t\t\t\t\t\t{...register('emailBody', {\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Email_body') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (emailBody) => (emailBody?.indexOf('[unsubscribe]') === -1 ? t('error-missing-unsubscribe-link') : true),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\trows={10}\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailBodyId}-error ${emailBodyId}-hint`}\n\t\t\t\t\t\t\t\t\terror={errors.emailBody?.message}\n\t\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t\t\taria-invalid={errors.emailBody ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.emailBody && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${emailBodyId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.emailBody.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<FieldHint id={`${emailBodyId}-hint`} dangerouslySetInnerHTML={{ __html: t('Mailer_body_tags') }} />\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</PageScrollableContentWithShadow>\n\t\t\t<PageFooter isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => reset(initialData)}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={mailerFormId} primary type='submit'>\n\t\t\t\t\t\t{t('Send_email')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</PageFooter>\n\t\t</Page>\n\t);\n};\n\nexport default MailerPage;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"7f5c9c3dc1a861f5549b495ac73f75246c1683ce"}
