{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/permissions/EditRolePage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/admin/permissions/EditRolePage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/permissions/EditRolePage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/permissions/EditRolePage.tsx","sourceRoot":"","sources":["client/views/admin/permissions/EditRolePage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IRole } from '@rocket.chat/core-typings';\nimport { Box, ButtonGroup, Button, Margins } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useToastMessageDispatch, useRoute, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport { ContextualbarFooter, ContextualbarScrollableContent } from '../../../components/Contextualbar';\nimport GenericModal from '../../../components/GenericModal';\nimport RoleForm from './RoleForm';\n\nconst EditRolePage = ({ role, isEnterprise }: { role?: IRole; isEnterprise: boolean }): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst setModal = useSetModal();\n\tconst usersInRoleRouter = useRoute('admin-permissions');\n\tconst router = useRoute('admin-permissions');\n\n\tconst createRole = useEndpoint('POST', '/v1/roles.create');\n\tconst updateRole = useEndpoint('POST', '/v1/roles.update');\n\tconst deleteRole = useEndpoint('POST', '/v1/roles.delete');\n\n\tconst methods = useForm({\n\t\tdefaultValues: {\n\t\t\troleId: role?._id,\n\t\t\tname: role?.name,\n\t\t\tdescription: role?.description,\n\t\t\tscope: role?.scope || 'Users',\n\t\t\tmandatory2fa: !!role?.mandatory2fa,\n\t\t},\n\t});\n\n\tconst handleManageUsers = useMutableCallback(() => {\n\t\tif (role?._id) {\n\t\t\tusersInRoleRouter.push({\n\t\t\t\tcontext: 'users-in-role',\n\t\t\t\t_id: role._id,\n\t\t\t});\n\t\t}\n\t});\n\n\tconst handleSave = useMutableCallback(async (data) => {\n\t\ttry {\n\t\t\tif (data.roleId) {\n\t\t\t\tawait updateRole(data);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\t\treturn router.push({});\n\t\t\t}\n\n\t\t\tawait createRole(data);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\trouter.push({});\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst handleDelete = useMutableCallback(async () => {\n\t\tif (!role?._id) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst deleteRoleAction = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait deleteRole({ roleId: role._id });\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Role_removed') });\n\t\t\t\tsetModal();\n\n\t\t\t\trouter.push({});\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\tsetModal();\n\t\t\t}\n\t\t};\n\n\t\tconst deleteRoleMessage = isEnterprise ? t('Delete_Role_Warning') : t('Delete_Role_Warning_Not_Enterprise');\n\n\t\tsetModal(\n\t\t\t<GenericModal\n\t\t\t\tvariant='danger'\n\t\t\t\tonConfirm={deleteRoleAction}\n\t\t\t\tonClose={(): void => setModal()}\n\t\t\t\tonCancel={(): void => setModal()}\n\t\t\t\tconfirmText={t('Delete')}\n\t\t\t>\n\t\t\t\t{deleteRoleMessage}\n\t\t\t</GenericModal>,\n\t\t);\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box w='full' alignSelf='center' mb='neg-x8'>\n\t\t\t\t\t<Margins block={8}>\n\t\t\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t\t\t<RoleForm editing={Boolean(role?._id)} isProtected={role?.protected} isDisabled={!isEnterprise} />\n\t\t\t\t\t\t</FormProvider>\n\t\t\t\t\t</Margins>\n\t\t\t\t</Box>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup vertical stretch>\n\t\t\t\t\t<Button primary disabled={!methods.formState.isDirty || !isEnterprise} onClick={methods.handleSubmit(handleSave)}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{!role?.protected && role?._id && (\n\t\t\t\t\t\t<Button secondary danger onClick={handleDelete}>\n\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{role?._id && <Button onClick={handleManageUsers}>{t('Users_in_role')}</Button>}\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default EditRolePage;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/permissions/EditRolePage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/permissions/EditRolePage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/permissions/EditRolePage.tsx","sourceRoot":"","sources":["client/views/admin/permissions/EditRolePage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IRole } from '@rocket.chat/core-typings';\nimport { Box, ButtonGroup, Button, Margins } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useToastMessageDispatch, useRoute, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport { ContextualbarFooter, ContextualbarScrollableContent } from '../../../components/Contextualbar';\nimport GenericModal from '../../../components/GenericModal';\nimport RoleForm from './RoleForm';\n\nconst EditRolePage = ({ role, isEnterprise }: { role?: IRole; isEnterprise: boolean }): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst setModal = useSetModal();\n\tconst usersInRoleRouter = useRoute('admin-permissions');\n\tconst router = useRoute('admin-permissions');\n\n\tconst createRole = useEndpoint('POST', '/v1/roles.create');\n\tconst updateRole = useEndpoint('POST', '/v1/roles.update');\n\tconst deleteRole = useEndpoint('POST', '/v1/roles.delete');\n\n\tconst methods = useForm({\n\t\tdefaultValues: {\n\t\t\troleId: role?._id,\n\t\t\tname: role?.name,\n\t\t\tdescription: role?.description,\n\t\t\tscope: role?.scope || 'Users',\n\t\t\tmandatory2fa: !!role?.mandatory2fa,\n\t\t},\n\t});\n\n\tconst handleManageUsers = useMutableCallback(() => {\n\t\tif (role?._id) {\n\t\t\tusersInRoleRouter.push({\n\t\t\t\tcontext: 'users-in-role',\n\t\t\t\t_id: role._id,\n\t\t\t});\n\t\t}\n\t});\n\n\tconst handleSave = useMutableCallback(async (data) => {\n\t\ttry {\n\t\t\tif (data.roleId) {\n\t\t\t\tawait updateRole(data);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\t\treturn router.push({});\n\t\t\t}\n\n\t\t\tawait createRole(data);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\trouter.push({});\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst handleDelete = useMutableCallback(async () => {\n\t\tif (!role?._id) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst deleteRoleAction = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait deleteRole({ roleId: role._id });\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Role_removed') });\n\t\t\t\tsetModal();\n\n\t\t\t\trouter.push({});\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\tsetModal();\n\t\t\t}\n\t\t};\n\n\t\tconst deleteRoleMessage = isEnterprise ? t('Delete_Role_Warning') : t('Delete_Role_Warning_Not_Enterprise');\n\n\t\tsetModal(\n\t\t\t<GenericModal\n\t\t\t\tvariant='danger'\n\t\t\t\tonConfirm={deleteRoleAction}\n\t\t\t\tonClose={(): void => setModal()}\n\t\t\t\tonCancel={(): void => setModal()}\n\t\t\t\tconfirmText={t('Delete')}\n\t\t\t>\n\t\t\t\t{deleteRoleMessage}\n\t\t\t</GenericModal>,\n\t\t);\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box w='full' alignSelf='center' mb='neg-x8'>\n\t\t\t\t\t<Margins block={8}>\n\t\t\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t\t\t<RoleForm editing={Boolean(role?._id)} isProtected={role?.protected} isDisabled={!isEnterprise} />\n\t\t\t\t\t\t</FormProvider>\n\t\t\t\t\t</Margins>\n\t\t\t\t</Box>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup vertical stretch>\n\t\t\t\t\t<Button primary disabled={!methods.formState.isDirty || !isEnterprise} onClick={methods.handleSubmit(handleSave)}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{!role?.protected && role?._id && (\n\t\t\t\t\t\t<Button secondary danger onClick={handleDelete}>\n\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{role?._id && <Button onClick={handleManageUsers}>{t('Users_in_role')}</Button>}\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default EditRolePage;\n"]}}},"code":"let Box, ButtonGroup, Button, Margins;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box(v) {\n    Box = v;\n  },\n  ButtonGroup(v) {\n    ButtonGroup = v;\n  },\n  Button(v) {\n    Button = v;\n  },\n  Margins(v) {\n    Margins = v;\n  }\n}, 0);\nlet useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  }\n}, 1);\nlet useSetModal, useToastMessageDispatch, useRoute, useEndpoint, useTranslation;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useSetModal(v) {\n    useSetModal = v;\n  },\n  useToastMessageDispatch(v) {\n    useToastMessageDispatch = v;\n  },\n  useRoute(v) {\n    useRoute = v;\n  },\n  useEndpoint(v) {\n    useEndpoint = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 2);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n}, 3);\nlet FormProvider, useForm;\nmodule.link(\"react-hook-form\", {\n  FormProvider(v) {\n    FormProvider = v;\n  },\n  useForm(v) {\n    useForm = v;\n  }\n}, 4);\nlet ContextualbarFooter, ContextualbarScrollableContent;\nmodule.link(\"../../../components/Contextualbar\", {\n  ContextualbarFooter(v) {\n    ContextualbarFooter = v;\n  },\n  ContextualbarScrollableContent(v) {\n    ContextualbarScrollableContent = v;\n  }\n}, 5);\nlet GenericModal;\nmodule.link(\"../../../components/GenericModal\", {\n  default(v) {\n    GenericModal = v;\n  }\n}, 6);\nlet RoleForm;\nmodule.link(\"./RoleForm\", {\n  default(v) {\n    RoleForm = v;\n  }\n}, 7);\nconst EditRolePage = _ref => {\n  let {\n    role,\n    isEnterprise\n  } = _ref;\n  const t = useTranslation();\n  const dispatchToastMessage = useToastMessageDispatch();\n  const setModal = useSetModal();\n  const usersInRoleRouter = useRoute('admin-permissions');\n  const router = useRoute('admin-permissions');\n  const createRole = useEndpoint('POST', '/v1/roles.create');\n  const updateRole = useEndpoint('POST', '/v1/roles.update');\n  const deleteRole = useEndpoint('POST', '/v1/roles.delete');\n  const methods = useForm({\n    defaultValues: {\n      roleId: role === null || role === void 0 ? void 0 : role._id,\n      name: role === null || role === void 0 ? void 0 : role.name,\n      description: role === null || role === void 0 ? void 0 : role.description,\n      scope: (role === null || role === void 0 ? void 0 : role.scope) || 'Users',\n      mandatory2fa: !!(role !== null && role !== void 0 && role.mandatory2fa)\n    }\n  });\n  const handleManageUsers = useMutableCallback(() => {\n    if (role !== null && role !== void 0 && role._id) {\n      usersInRoleRouter.push({\n        context: 'users-in-role',\n        _id: role._id\n      });\n    }\n  });\n  const handleSave = useMutableCallback(async data => {\n    try {\n      if (data.roleId) {\n        await updateRole(data);\n        dispatchToastMessage({\n          type: 'success',\n          message: t('Saved')\n        });\n        return router.push({});\n      }\n      await createRole(data);\n      dispatchToastMessage({\n        type: 'success',\n        message: t('Saved')\n      });\n      router.push({});\n    } catch (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    }\n  });\n  const handleDelete = useMutableCallback(async () => {\n    if (!(role !== null && role !== void 0 && role._id)) {\n      return;\n    }\n    const deleteRoleAction = async () => {\n      try {\n        await deleteRole({\n          roleId: role._id\n        });\n        dispatchToastMessage({\n          type: 'success',\n          message: t('Role_removed')\n        });\n        setModal();\n        router.push({});\n      } catch (error) {\n        dispatchToastMessage({\n          type: 'error',\n          message: error\n        });\n        setModal();\n      }\n    };\n    const deleteRoleMessage = isEnterprise ? t('Delete_Role_Warning') : t('Delete_Role_Warning_Not_Enterprise');\n    setModal( /*#__PURE__*/React.createElement(GenericModal, {\n      variant: \"danger\",\n      onConfirm: deleteRoleAction,\n      onClose: () => setModal(),\n      onCancel: () => setModal(),\n      confirmText: t('Delete')\n    }, deleteRoleMessage));\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ContextualbarScrollableContent, null, /*#__PURE__*/React.createElement(Box, {\n    w: \"full\",\n    alignSelf: \"center\",\n    mb: \"neg-x8\"\n  }, /*#__PURE__*/React.createElement(Margins, {\n    block: 8\n  }, /*#__PURE__*/React.createElement(FormProvider, methods, /*#__PURE__*/React.createElement(RoleForm, {\n    editing: Boolean(role === null || role === void 0 ? void 0 : role._id),\n    isProtected: role === null || role === void 0 ? void 0 : role.protected,\n    isDisabled: !isEnterprise\n  }))))), /*#__PURE__*/React.createElement(ContextualbarFooter, null, /*#__PURE__*/React.createElement(ButtonGroup, {\n    vertical: true,\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    disabled: !methods.formState.isDirty || !isEnterprise,\n    onClick: methods.handleSubmit(handleSave)\n  }, t('Save')), !(role !== null && role !== void 0 && role.protected) && (role === null || role === void 0 ? void 0 : role._id) && /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    danger: true,\n    onClick: handleDelete\n  }, t('Delete')), (role === null || role === void 0 ? void 0 : role._id) && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleManageUsers\n  }, t('Users_in_role')))));\n};\nmodule.exportDefault(EditRolePage);","map":{"version":3,"names":["Box","ButtonGroup","Button","Margins","module","link","v","useMutableCallback","useSetModal","useToastMessageDispatch","useRoute","useEndpoint","useTranslation","React","default","FormProvider","useForm","ContextualbarFooter","ContextualbarScrollableContent","GenericModal","RoleForm","EditRolePage","_ref","role","isEnterprise","t","dispatchToastMessage","setModal","usersInRoleRouter","router","createRole","updateRole","deleteRole","methods","defaultValues","roleId","_id","name","description","scope","mandatory2fa","handleManageUsers","push","context","handleSave","data","type","message","error","handleDelete","deleteRoleAction","deleteRoleMessage","createElement","variant","onConfirm","onClose","onCancel","confirmText","Fragment","w","alignSelf","mb","block","editing","Boolean","isProtected","protected","isDisabled","vertical","stretch","primary","disabled","formState","isDirty","onClick","handleSubmit","secondary","danger","exportDefault"],"sources":["client/views/admin/permissions/EditRolePage.tsx"],"sourcesContent":["import type { IRole } from '@rocket.chat/core-typings';\nimport { Box, ButtonGroup, Button, Margins } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useToastMessageDispatch, useRoute, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport { ContextualbarFooter, ContextualbarScrollableContent } from '../../../components/Contextualbar';\nimport GenericModal from '../../../components/GenericModal';\nimport RoleForm from './RoleForm';\n\nconst EditRolePage = ({ role, isEnterprise }: { role?: IRole; isEnterprise: boolean }): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst setModal = useSetModal();\n\tconst usersInRoleRouter = useRoute('admin-permissions');\n\tconst router = useRoute('admin-permissions');\n\n\tconst createRole = useEndpoint('POST', '/v1/roles.create');\n\tconst updateRole = useEndpoint('POST', '/v1/roles.update');\n\tconst deleteRole = useEndpoint('POST', '/v1/roles.delete');\n\n\tconst methods = useForm({\n\t\tdefaultValues: {\n\t\t\troleId: role?._id,\n\t\t\tname: role?.name,\n\t\t\tdescription: role?.description,\n\t\t\tscope: role?.scope || 'Users',\n\t\t\tmandatory2fa: !!role?.mandatory2fa,\n\t\t},\n\t});\n\n\tconst handleManageUsers = useMutableCallback(() => {\n\t\tif (role?._id) {\n\t\t\tusersInRoleRouter.push({\n\t\t\t\tcontext: 'users-in-role',\n\t\t\t\t_id: role._id,\n\t\t\t});\n\t\t}\n\t});\n\n\tconst handleSave = useMutableCallback(async (data) => {\n\t\ttry {\n\t\t\tif (data.roleId) {\n\t\t\t\tawait updateRole(data);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\t\treturn router.push({});\n\t\t\t}\n\n\t\t\tawait createRole(data);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\trouter.push({});\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst handleDelete = useMutableCallback(async () => {\n\t\tif (!role?._id) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst deleteRoleAction = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait deleteRole({ roleId: role._id });\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Role_removed') });\n\t\t\t\tsetModal();\n\n\t\t\t\trouter.push({});\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\tsetModal();\n\t\t\t}\n\t\t};\n\n\t\tconst deleteRoleMessage = isEnterprise ? t('Delete_Role_Warning') : t('Delete_Role_Warning_Not_Enterprise');\n\n\t\tsetModal(\n\t\t\t<GenericModal\n\t\t\t\tvariant='danger'\n\t\t\t\tonConfirm={deleteRoleAction}\n\t\t\t\tonClose={(): void => setModal()}\n\t\t\t\tonCancel={(): void => setModal()}\n\t\t\t\tconfirmText={t('Delete')}\n\t\t\t>\n\t\t\t\t{deleteRoleMessage}\n\t\t\t</GenericModal>,\n\t\t);\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box w='full' alignSelf='center' mb='neg-x8'>\n\t\t\t\t\t<Margins block={8}>\n\t\t\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t\t\t<RoleForm editing={Boolean(role?._id)} isProtected={role?.protected} isDisabled={!isEnterprise} />\n\t\t\t\t\t\t</FormProvider>\n\t\t\t\t\t</Margins>\n\t\t\t\t</Box>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup vertical stretch>\n\t\t\t\t\t<Button primary disabled={!methods.formState.isDirty || !isEnterprise} onClick={methods.handleSubmit(handleSave)}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{!role?.protected && role?._id && (\n\t\t\t\t\t\t<Button secondary danger onClick={handleDelete}>\n\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{role?._id && <Button onClick={handleManageUsers}>{t('Users_in_role')}</Button>}\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default EditRolePage;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"76b6a2eff2a17891eedf2ed0925fe5814221b369"}
