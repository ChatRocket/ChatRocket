{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/ee/server/settings/saml.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","objectRestSpread","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.arm64"},"sourceFileName":"ee/server/settings/saml.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/ee/server/settings/saml.ts","inputSourceMap":{"version":3,"file":"ee/server/settings/saml.ts","sourceRoot":"","sources":["ee/server/settings/saml.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n\tdefaultAuthnContextTemplate,\n\tdefaultAuthRequestTemplate,\n\tdefaultLogoutResponseTemplate,\n\tdefaultLogoutRequestTemplate,\n\tdefaultNameIDTemplate,\n\tdefaultIdentifierFormat,\n\tdefaultAuthnContext,\n\tdefaultMetadataTemplate,\n\tdefaultMetadataCertificateTemplate,\n} from '../../../app/meteor-accounts-saml/server/lib/constants';\nimport { settingsRegistry } from '../../../app/settings/server';\n\nexport const addSettings = async function (name: string): Promise<void> {\n\tawait settingsRegistry.addGroup('SAML', async function () {\n\t\tawait this.with(\n\t\t\t{\n\t\t\t\ttab: 'SAML_Enterprise',\n\t\t\t\tenterprise: true,\n\t\t\t\tmodules: ['saml-enterprise'],\n\t\t\t},\n\t\t\tasync function () {\n\t\t\t\tawait this.section('SAML_Section_4_Roles', async function () {\n\t\t\t\t\t// Roles Settings\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_role_attribute_sync`, false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\ti18nLabel: 'SAML_Role_Attribute_Sync',\n\t\t\t\t\t\ti18nDescription: 'SAML_Role_Attribute_Sync_Description',\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_role_attribute_name`, '', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\ti18nLabel: 'SAML_Role_Attribute_Name',\n\t\t\t\t\t\ti18nDescription: 'SAML_Role_Attribute_Name_Description',\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tawait this.section('SAML_Section_6_Advanced', async function () {\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_identifier_format`, defaultIdentifierFormat, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultIdentifierFormat,\n\t\t\t\t\t\ti18nLabel: 'SAML_Identifier_Format',\n\t\t\t\t\t\ti18nDescription: 'SAML_Identifier_Format_Description',\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_NameId_template`, defaultNameIDTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultNameIDTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_NameIdPolicy_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_NameIdPolicy_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_custom_authn_context`, defaultAuthnContext, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultAuthnContext,\n\t\t\t\t\t\ti18nLabel: 'SAML_Custom_Authn_Context',\n\t\t\t\t\t\ti18nDescription: 'SAML_Custom_Authn_Context_description',\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_authn_context_comparison`, 'exact', {\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t{ key: 'better', i18nLabel: 'Better' },\n\t\t\t\t\t\t\t{ key: 'exact', i18nLabel: 'Exact' },\n\t\t\t\t\t\t\t{ key: 'maximum', i18nLabel: 'Maximum' },\n\t\t\t\t\t\t\t{ key: 'minimum', i18nLabel: 'Minimum' },\n\t\t\t\t\t\t],\n\t\t\t\t\t\tinvalidValue: 'exact',\n\t\t\t\t\t\ti18nLabel: 'SAML_Custom_Authn_Context_Comparison',\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_AuthnContext_template`, defaultAuthnContextTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultAuthnContextTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_AuthnContext_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_AuthnContext_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_AuthRequest_template`, defaultAuthRequestTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultAuthRequestTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_AuthnRequest_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_AuthnRequest_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_LogoutResponse_template`, defaultLogoutResponseTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultLogoutResponseTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_LogoutResponse_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_LogoutResponse_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_LogoutRequest_template`, defaultLogoutRequestTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultLogoutRequestTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_LogoutRequest_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_LogoutRequest_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_MetadataCertificate_template`, defaultMetadataCertificateTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultMetadataCertificateTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_MetadataCertificate_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_Metadata_Certificate_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_Metadata_template`, defaultMetadataTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultMetadataTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_Metadata_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_Metadata_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tawait this.section('SAML_Section_5_Mapping', async function () {\n\t\t\t\t\t// Data Mapping Settings\n\t\t\t\t\tawait this.add(\n\t\t\t\t\t\t`SAML_Custom_${name}_user_data_custom_fieldmap`,\n\t\t\t\t\t\t'{\"custom1\":\"custom1\", \"custom2\":\"custom2\", \"custom3\":\"custom3\"}',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t\t\ti18nLabel: 'SAML_Custom_user_data_custom_fieldmap',\n\t\t\t\t\t\t\ti18nDescription: 'SAML_Custom_user_data_custom_fieldmap_description',\n\t\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t},\n\t\t);\n\t});\n};\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true,"topLevelAwait":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/ee/server/settings/saml.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"ee/server/settings/saml.ts","inputSourceMap":{"version":3,"file":"ee/server/settings/saml.ts","sourceRoot":"","sources":["ee/server/settings/saml.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n\tdefaultAuthnContextTemplate,\n\tdefaultAuthRequestTemplate,\n\tdefaultLogoutResponseTemplate,\n\tdefaultLogoutRequestTemplate,\n\tdefaultNameIDTemplate,\n\tdefaultIdentifierFormat,\n\tdefaultAuthnContext,\n\tdefaultMetadataTemplate,\n\tdefaultMetadataCertificateTemplate,\n} from '../../../app/meteor-accounts-saml/server/lib/constants';\nimport { settingsRegistry } from '../../../app/settings/server';\n\nexport const addSettings = async function (name: string): Promise<void> {\n\tawait settingsRegistry.addGroup('SAML', async function () {\n\t\tawait this.with(\n\t\t\t{\n\t\t\t\ttab: 'SAML_Enterprise',\n\t\t\t\tenterprise: true,\n\t\t\t\tmodules: ['saml-enterprise'],\n\t\t\t},\n\t\t\tasync function () {\n\t\t\t\tawait this.section('SAML_Section_4_Roles', async function () {\n\t\t\t\t\t// Roles Settings\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_role_attribute_sync`, false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\ti18nLabel: 'SAML_Role_Attribute_Sync',\n\t\t\t\t\t\ti18nDescription: 'SAML_Role_Attribute_Sync_Description',\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_role_attribute_name`, '', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\ti18nLabel: 'SAML_Role_Attribute_Name',\n\t\t\t\t\t\ti18nDescription: 'SAML_Role_Attribute_Name_Description',\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tawait this.section('SAML_Section_6_Advanced', async function () {\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_identifier_format`, defaultIdentifierFormat, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultIdentifierFormat,\n\t\t\t\t\t\ti18nLabel: 'SAML_Identifier_Format',\n\t\t\t\t\t\ti18nDescription: 'SAML_Identifier_Format_Description',\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_NameId_template`, defaultNameIDTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultNameIDTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_NameIdPolicy_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_NameIdPolicy_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_custom_authn_context`, defaultAuthnContext, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultAuthnContext,\n\t\t\t\t\t\ti18nLabel: 'SAML_Custom_Authn_Context',\n\t\t\t\t\t\ti18nDescription: 'SAML_Custom_Authn_Context_description',\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_authn_context_comparison`, 'exact', {\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t{ key: 'better', i18nLabel: 'Better' },\n\t\t\t\t\t\t\t{ key: 'exact', i18nLabel: 'Exact' },\n\t\t\t\t\t\t\t{ key: 'maximum', i18nLabel: 'Maximum' },\n\t\t\t\t\t\t\t{ key: 'minimum', i18nLabel: 'Minimum' },\n\t\t\t\t\t\t],\n\t\t\t\t\t\tinvalidValue: 'exact',\n\t\t\t\t\t\ti18nLabel: 'SAML_Custom_Authn_Context_Comparison',\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_AuthnContext_template`, defaultAuthnContextTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultAuthnContextTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_AuthnContext_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_AuthnContext_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_AuthRequest_template`, defaultAuthRequestTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultAuthRequestTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_AuthnRequest_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_AuthnRequest_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_LogoutResponse_template`, defaultLogoutResponseTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultLogoutResponseTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_LogoutResponse_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_LogoutResponse_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_LogoutRequest_template`, defaultLogoutRequestTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultLogoutRequestTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_LogoutRequest_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_LogoutRequest_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_MetadataCertificate_template`, defaultMetadataCertificateTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultMetadataCertificateTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_MetadataCertificate_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_Metadata_Certificate_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_Metadata_template`, defaultMetadataTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultMetadataTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_Metadata_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_Metadata_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tawait this.section('SAML_Section_5_Mapping', async function () {\n\t\t\t\t\t// Data Mapping Settings\n\t\t\t\t\tawait this.add(\n\t\t\t\t\t\t`SAML_Custom_${name}_user_data_custom_fieldmap`,\n\t\t\t\t\t\t'{\"custom1\":\"custom1\", \"custom2\":\"custom2\", \"custom3\":\"custom3\"}',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t\t\ti18nLabel: 'SAML_Custom_user_data_custom_fieldmap',\n\t\t\t\t\t\t\ti18nDescription: 'SAML_Custom_user_data_custom_fieldmap_description',\n\t\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t},\n\t\t);\n\t});\n};\n"]}}},"code":"!module.wrapAsync(async function (module, __reifyWaitForDeps__, __reify_async_result__) {\n  \"use strict\";\n  try {\n    module.export({\n      addSettings: () => addSettings\n    });\n    let defaultAuthnContextTemplate, defaultAuthRequestTemplate, defaultLogoutResponseTemplate, defaultLogoutRequestTemplate, defaultNameIDTemplate, defaultIdentifierFormat, defaultAuthnContext, defaultMetadataTemplate, defaultMetadataCertificateTemplate;\n    module.link(\"../../../app/meteor-accounts-saml/server/lib/constants\", {\n      defaultAuthnContextTemplate(v) {\n        defaultAuthnContextTemplate = v;\n      },\n      defaultAuthRequestTemplate(v) {\n        defaultAuthRequestTemplate = v;\n      },\n      defaultLogoutResponseTemplate(v) {\n        defaultLogoutResponseTemplate = v;\n      },\n      defaultLogoutRequestTemplate(v) {\n        defaultLogoutRequestTemplate = v;\n      },\n      defaultNameIDTemplate(v) {\n        defaultNameIDTemplate = v;\n      },\n      defaultIdentifierFormat(v) {\n        defaultIdentifierFormat = v;\n      },\n      defaultAuthnContext(v) {\n        defaultAuthnContext = v;\n      },\n      defaultMetadataTemplate(v) {\n        defaultMetadataTemplate = v;\n      },\n      defaultMetadataCertificateTemplate(v) {\n        defaultMetadataCertificateTemplate = v;\n      }\n    }, 0);\n    let settingsRegistry;\n    module.link(\"../../../app/settings/server\", {\n      settingsRegistry(v) {\n        settingsRegistry = v;\n      }\n    }, 1);\n    if (__reifyWaitForDeps__()) (await __reifyWaitForDeps__())();\n    const addSettings = async function (name) {\n      await settingsRegistry.addGroup('SAML', async function () {\n        await this.with({\n          tab: 'SAML_Enterprise',\n          enterprise: true,\n          modules: ['saml-enterprise']\n        }, async function () {\n          await this.section('SAML_Section_4_Roles', async function () {\n            // Roles Settings\n            await this.add(\"SAML_Custom_\".concat(name, \"_role_attribute_sync\"), false, {\n              type: 'boolean',\n              i18nLabel: 'SAML_Role_Attribute_Sync',\n              i18nDescription: 'SAML_Role_Attribute_Sync_Description',\n              invalidValue: false\n            });\n            await this.add(\"SAML_Custom_\".concat(name, \"_role_attribute_name\"), '', {\n              type: 'string',\n              i18nLabel: 'SAML_Role_Attribute_Name',\n              i18nDescription: 'SAML_Role_Attribute_Name_Description',\n              invalidValue: ''\n            });\n          });\n          await this.section('SAML_Section_6_Advanced', async function () {\n            await this.add(\"SAML_Custom_\".concat(name, \"_identifier_format\"), defaultIdentifierFormat, {\n              type: 'string',\n              invalidValue: defaultIdentifierFormat,\n              i18nLabel: 'SAML_Identifier_Format',\n              i18nDescription: 'SAML_Identifier_Format_Description'\n            });\n            await this.add(\"SAML_Custom_\".concat(name, \"_NameId_template\"), defaultNameIDTemplate, {\n              type: 'string',\n              invalidValue: defaultNameIDTemplate,\n              i18nLabel: 'SAML_NameIdPolicy_Template',\n              i18nDescription: 'SAML_NameIdPolicy_Template_Description',\n              multiline: true\n            });\n            await this.add(\"SAML_Custom_\".concat(name, \"_custom_authn_context\"), defaultAuthnContext, {\n              type: 'string',\n              invalidValue: defaultAuthnContext,\n              i18nLabel: 'SAML_Custom_Authn_Context',\n              i18nDescription: 'SAML_Custom_Authn_Context_description'\n            });\n            await this.add(\"SAML_Custom_\".concat(name, \"_authn_context_comparison\"), 'exact', {\n              type: 'select',\n              values: [{\n                key: 'better',\n                i18nLabel: 'Better'\n              }, {\n                key: 'exact',\n                i18nLabel: 'Exact'\n              }, {\n                key: 'maximum',\n                i18nLabel: 'Maximum'\n              }, {\n                key: 'minimum',\n                i18nLabel: 'Minimum'\n              }],\n              invalidValue: 'exact',\n              i18nLabel: 'SAML_Custom_Authn_Context_Comparison'\n            });\n            await this.add(\"SAML_Custom_\".concat(name, \"_AuthnContext_template\"), defaultAuthnContextTemplate, {\n              type: 'string',\n              invalidValue: defaultAuthnContextTemplate,\n              i18nLabel: 'SAML_AuthnContext_Template',\n              i18nDescription: 'SAML_AuthnContext_Template_Description',\n              multiline: true\n            });\n            await this.add(\"SAML_Custom_\".concat(name, \"_AuthRequest_template\"), defaultAuthRequestTemplate, {\n              type: 'string',\n              invalidValue: defaultAuthRequestTemplate,\n              i18nLabel: 'SAML_AuthnRequest_Template',\n              i18nDescription: 'SAML_AuthnRequest_Template_Description',\n              multiline: true\n            });\n            await this.add(\"SAML_Custom_\".concat(name, \"_LogoutResponse_template\"), defaultLogoutResponseTemplate, {\n              type: 'string',\n              invalidValue: defaultLogoutResponseTemplate,\n              i18nLabel: 'SAML_LogoutResponse_Template',\n              i18nDescription: 'SAML_LogoutResponse_Template_Description',\n              multiline: true\n            });\n            await this.add(\"SAML_Custom_\".concat(name, \"_LogoutRequest_template\"), defaultLogoutRequestTemplate, {\n              type: 'string',\n              invalidValue: defaultLogoutRequestTemplate,\n              i18nLabel: 'SAML_LogoutRequest_Template',\n              i18nDescription: 'SAML_LogoutRequest_Template_Description',\n              multiline: true\n            });\n            await this.add(\"SAML_Custom_\".concat(name, \"_MetadataCertificate_template\"), defaultMetadataCertificateTemplate, {\n              type: 'string',\n              invalidValue: defaultMetadataCertificateTemplate,\n              i18nLabel: 'SAML_MetadataCertificate_Template',\n              i18nDescription: 'SAML_Metadata_Certificate_Template_Description',\n              multiline: true\n            });\n            await this.add(\"SAML_Custom_\".concat(name, \"_Metadata_template\"), defaultMetadataTemplate, {\n              type: 'string',\n              invalidValue: defaultMetadataTemplate,\n              i18nLabel: 'SAML_Metadata_Template',\n              i18nDescription: 'SAML_Metadata_Template_Description',\n              multiline: true\n            });\n          });\n          await this.section('SAML_Section_5_Mapping', async function () {\n            // Data Mapping Settings\n            await this.add(\"SAML_Custom_\".concat(name, \"_user_data_custom_fieldmap\"), '{\"custom1\":\"custom1\", \"custom2\":\"custom2\", \"custom3\":\"custom3\"}', {\n              type: 'string',\n              invalidValue: '',\n              i18nLabel: 'SAML_Custom_user_data_custom_fieldmap',\n              i18nDescription: 'SAML_Custom_user_data_custom_fieldmap_description',\n              multiline: true\n            });\n          });\n        });\n      });\n    };\n    __reify_async_result__();\n  } catch (_reifyError) {\n    return __reify_async_result__(_reifyError);\n  }\n  __reify_async_result__()\n}, {\n  self: this,\n  async: false\n});","map":{"version":3,"names":["module","export","addSettings","defaultAuthnContextTemplate","defaultAuthRequestTemplate","defaultLogoutResponseTemplate","defaultLogoutRequestTemplate","defaultNameIDTemplate","defaultIdentifierFormat","defaultAuthnContext","defaultMetadataTemplate","defaultMetadataCertificateTemplate","link","v","settingsRegistry","__reifyWaitForDeps__","name","addGroup","with","tab","enterprise","modules","section","add","concat","type","i18nLabel","i18nDescription","invalidValue","multiline","values","key","__reify_async_result__","_reifyError","self","async"],"sources":["ee/server/settings/saml.ts"],"sourcesContent":["import {\n\tdefaultAuthnContextTemplate,\n\tdefaultAuthRequestTemplate,\n\tdefaultLogoutResponseTemplate,\n\tdefaultLogoutRequestTemplate,\n\tdefaultNameIDTemplate,\n\tdefaultIdentifierFormat,\n\tdefaultAuthnContext,\n\tdefaultMetadataTemplate,\n\tdefaultMetadataCertificateTemplate,\n} from '../../../app/meteor-accounts-saml/server/lib/constants';\nimport { settingsRegistry } from '../../../app/settings/server';\n\nexport const addSettings = async function (name: string): Promise<void> {\n\tawait settingsRegistry.addGroup('SAML', async function () {\n\t\tawait this.with(\n\t\t\t{\n\t\t\t\ttab: 'SAML_Enterprise',\n\t\t\t\tenterprise: true,\n\t\t\t\tmodules: ['saml-enterprise'],\n\t\t\t},\n\t\t\tasync function () {\n\t\t\t\tawait this.section('SAML_Section_4_Roles', async function () {\n\t\t\t\t\t// Roles Settings\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_role_attribute_sync`, false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\ti18nLabel: 'SAML_Role_Attribute_Sync',\n\t\t\t\t\t\ti18nDescription: 'SAML_Role_Attribute_Sync_Description',\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_role_attribute_name`, '', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\ti18nLabel: 'SAML_Role_Attribute_Name',\n\t\t\t\t\t\ti18nDescription: 'SAML_Role_Attribute_Name_Description',\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tawait this.section('SAML_Section_6_Advanced', async function () {\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_identifier_format`, defaultIdentifierFormat, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultIdentifierFormat,\n\t\t\t\t\t\ti18nLabel: 'SAML_Identifier_Format',\n\t\t\t\t\t\ti18nDescription: 'SAML_Identifier_Format_Description',\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_NameId_template`, defaultNameIDTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultNameIDTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_NameIdPolicy_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_NameIdPolicy_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_custom_authn_context`, defaultAuthnContext, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultAuthnContext,\n\t\t\t\t\t\ti18nLabel: 'SAML_Custom_Authn_Context',\n\t\t\t\t\t\ti18nDescription: 'SAML_Custom_Authn_Context_description',\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_authn_context_comparison`, 'exact', {\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t{ key: 'better', i18nLabel: 'Better' },\n\t\t\t\t\t\t\t{ key: 'exact', i18nLabel: 'Exact' },\n\t\t\t\t\t\t\t{ key: 'maximum', i18nLabel: 'Maximum' },\n\t\t\t\t\t\t\t{ key: 'minimum', i18nLabel: 'Minimum' },\n\t\t\t\t\t\t],\n\t\t\t\t\t\tinvalidValue: 'exact',\n\t\t\t\t\t\ti18nLabel: 'SAML_Custom_Authn_Context_Comparison',\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_AuthnContext_template`, defaultAuthnContextTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultAuthnContextTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_AuthnContext_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_AuthnContext_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_AuthRequest_template`, defaultAuthRequestTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultAuthRequestTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_AuthnRequest_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_AuthnRequest_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_LogoutResponse_template`, defaultLogoutResponseTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultLogoutResponseTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_LogoutResponse_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_LogoutResponse_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_LogoutRequest_template`, defaultLogoutRequestTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultLogoutRequestTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_LogoutRequest_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_LogoutRequest_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_MetadataCertificate_template`, defaultMetadataCertificateTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultMetadataCertificateTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_MetadataCertificate_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_Metadata_Certificate_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t\tawait this.add(`SAML_Custom_${name}_Metadata_template`, defaultMetadataTemplate, {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tinvalidValue: defaultMetadataTemplate,\n\t\t\t\t\t\ti18nLabel: 'SAML_Metadata_Template',\n\t\t\t\t\t\ti18nDescription: 'SAML_Metadata_Template_Description',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tawait this.section('SAML_Section_5_Mapping', async function () {\n\t\t\t\t\t// Data Mapping Settings\n\t\t\t\t\tawait this.add(\n\t\t\t\t\t\t`SAML_Custom_${name}_user_data_custom_fieldmap`,\n\t\t\t\t\t\t'{\"custom1\":\"custom1\", \"custom2\":\"custom2\", \"custom3\":\"custom3\"}',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t\t\ti18nLabel: 'SAML_Custom_user_data_custom_fieldmap',\n\t\t\t\t\t\t\ti18nDescription: 'SAML_Custom_user_data_custom_fieldmap_description',\n\t\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t},\n\t\t);\n\t});\n};\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"66f699f4f7a375253b5e920ffafd9b6c28bd2321"}
