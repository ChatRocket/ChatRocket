{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/users/AdminUsersPage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/admin/users/AdminUsersPage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/users/AdminUsersPage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/users/AdminUsersPage.tsx","sourceRoot":"","sources":["client/views/admin/users/AdminUsersPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { LicenseInfo } from '@rocket.chat/core-typings';\nimport { Callout, ContextualbarIcon, Icon, Skeleton, Tabs, TabsItem } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport type { OptionProp } from '@rocket.chat/ui-client';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport { useRouteParameter, useTranslation, useRouter, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Trans } from 'react-i18next';\n\nimport AdminInviteUsers from './AdminInviteUsers';\nimport AdminUserCreated from './AdminUserCreated';\nimport AdminUserForm from './AdminUserForm';\nimport AdminUserFormWithData from './AdminUserFormWithData';\nimport AdminUserInfoWithData from './AdminUserInfoWithData';\nimport AdminUserUpgrade from './AdminUserUpgrade';\nimport UsersPageHeaderContent from './UsersPageHeaderContent';\nimport UsersTable from './UsersTable';\nimport useFilteredUsers from './hooks/useFilteredUsers';\nimport usePendingUsersCount from './hooks/usePendingUsersCount';\nimport { useSeatsCap } from './useSeatsCap';\nimport {\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarDialog,\n} from '../../../components/Contextualbar';\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\nimport { useLicenseLimitsByBehavior } from '../../../hooks/useLicenseLimitsByBehavior';\nimport { useShouldPreventAction } from '../../../hooks/useShouldPreventAction';\nimport { useCheckoutUrl } from '../subscription/hooks/useCheckoutUrl';\n\nexport type UsersFilters = {\n\ttext: string;\n\troles: OptionProp[];\n};\n\nexport type AdminUsersTab = 'all' | 'active' | 'deactivated' | 'pending';\n\nexport type UsersTableSortingOption = 'name' | 'username' | 'emails.address' | 'status' | 'active' | 'freeSwitchExtension';\n\nconst AdminUsersPage = (): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst seatsCap = useSeatsCap();\n\n\tconst isSeatsCapExceeded = useShouldPreventAction('activeUsers');\n\tconst { prevent_action: preventAction } = useLicenseLimitsByBehavior() ?? {};\n\tconst manageSubscriptionUrl = useCheckoutUrl();\n\n\tconst router = useRouter();\n\tconst context = useRouteParameter('context');\n\tconst id = useRouteParameter('id');\n\n\tconst isCreateUserDisabled = useShouldPreventAction('activeUsers');\n\n\tconst getRoles = useEndpoint('GET', '/v1/roles.list');\n\tconst { data, error } = useQuery(['roles'], async () => getRoles());\n\n\tconst paginationData = usePagination();\n\tconst sortData = useSort<UsersTableSortingOption>('name');\n\n\tconst [tab, setTab] = useState<AdminUsersTab>('all');\n\tconst [userFilters, setUserFilters] = useState<UsersFilters>({ text: '', roles: [] });\n\n\tconst searchTerm = useDebouncedValue(userFilters.text, 500);\n\tconst prevSearchTerm = useRef('');\n\n\tconst filteredUsersQueryResult = useFilteredUsers({\n\t\tsearchTerm,\n\t\tprevSearchTerm,\n\t\tsortData,\n\t\tpaginationData,\n\t\ttab,\n\t\tselectedRoles: useMemo(() => userFilters.roles.map((role) => role.id), [userFilters.roles]),\n\t});\n\n\tconst pendingUsersCount = usePendingUsersCount(filteredUsersQueryResult.data?.users);\n\n\tconst handleReload = (): void => {\n\t\tseatsCap?.reload();\n\t\tfilteredUsersQueryResult?.refetch();\n\t};\n\n\tconst handleTabChange = (tab: AdminUsersTab) => {\n\t\tsetTab(tab);\n\n\t\tpaginationData.setCurrent(0);\n\t\tsortData.setSort(tab === 'pending' ? 'active' : 'name', 'asc');\n\t};\n\n\tuseEffect(() => {\n\t\tprevSearchTerm.current = searchTerm;\n\t}, [searchTerm]);\n\n\tconst isRoutePrevented = useMemo(\n\t\t() => context && ['new', 'invite'].includes(context) && isCreateUserDisabled,\n\t\t[context, isCreateUserDisabled],\n\t);\n\n\tconst toTranslationKey = (key: keyof LicenseInfo['limits']) => t(`subscription.callout.${key}`);\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={t('Users')}>\n\t\t\t\t\t<UsersPageHeaderContent isSeatsCapExceeded={isSeatsCapExceeded} seatsCap={seatsCap} />\n\t\t\t\t</PageHeader>\n\t\t\t\t{preventAction?.includes('activeUsers') && (\n\t\t\t\t\t<Callout type='danger' title={t('subscription.callout.servicesDisruptionsOccurring')} mbe={19} mi={24}>\n\t\t\t\t\t\t<Trans i18nKey='subscription.callout.description.limitsExceeded' count={preventAction.length}>\n\t\t\t\t\t\t\tYour workspace exceeded the <>{{ val: preventAction.map(toTranslationKey) }}</> license limit.\n\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\tto={manageSubscriptionUrl({\n\t\t\t\t\t\t\t\t\ttarget: 'callout',\n\t\t\t\t\t\t\t\t\taction: 'prevent_action',\n\t\t\t\t\t\t\t\t\tlimits: preventAction.join(','),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tManage your subscription\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\tto increase limits.\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</Callout>\n\t\t\t\t)}\n\t\t\t\t<Tabs>\n\t\t\t\t\t<TabsItem selected={!tab || tab === 'all'} onClick={() => handleTabChange('all')}>\n\t\t\t\t\t\t{t('All')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'pending'} onClick={() => handleTabChange('pending')} display='flex' flexDirection='row'>\n\t\t\t\t\t\t{`${t('Pending')} `}\n\t\t\t\t\t\t{pendingUsersCount.isLoading && <Skeleton variant='circle' height='x16' width='x16' mis={8} />}\n\t\t\t\t\t\t{pendingUsersCount.isSuccess && `(${pendingUsersCount.data})`}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'active'} onClick={() => handleTabChange('active')}>\n\t\t\t\t\t\t{t('Active')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'deactivated'} onClick={() => handleTabChange('deactivated')}>\n\t\t\t\t\t\t{t('Deactivated')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t</Tabs>\n\t\t\t\t<PageContent>\n\t\t\t\t\t<UsersTable\n\t\t\t\t\t\tfilteredUsersQueryResult={filteredUsersQueryResult}\n\t\t\t\t\t\tsetUserFilters={setUserFilters}\n\t\t\t\t\t\tpaginationData={paginationData}\n\t\t\t\t\t\tsortData={sortData}\n\t\t\t\t\t\ttab={tab}\n\t\t\t\t\t\tisSeatsCapExceeded={isSeatsCapExceeded}\n\t\t\t\t\t\troleData={data}\n\t\t\t\t\t\tonReload={handleReload}\n\t\t\t\t\t/>\n\t\t\t\t</PageContent>\n\t\t\t</Page>\n\t\t\t{context && (\n\t\t\t\t<ContextualbarDialog>\n\t\t\t\t\t<Contextualbar>\n\t\t\t\t\t\t<ContextualbarHeader>\n\t\t\t\t\t\t\t{context === 'upgrade' && <ContextualbarIcon name='user-plus' />}\n\t\t\t\t\t\t\t<ContextualbarTitle>\n\t\t\t\t\t\t\t\t{context === 'info' && t('User_Info')}\n\t\t\t\t\t\t\t\t{context === 'edit' && t('Edit_User')}\n\t\t\t\t\t\t\t\t{(context === 'new' || context === 'created') && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Icon name='user-plus' size={20} /> {t('New_user')}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{context === 'invite' && t('Invite_Users')}\n\t\t\t\t\t\t\t</ContextualbarTitle>\n\t\t\t\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/admin/users')} />\n\t\t\t\t\t\t</ContextualbarHeader>\n\t\t\t\t\t\t{context === 'info' && id && <AdminUserInfoWithData uid={id} onReload={handleReload} tab={tab} />}\n\t\t\t\t\t\t{context === 'edit' && id && (\n\t\t\t\t\t\t\t<AdminUserFormWithData uid={id} onReload={handleReload} context={context} roleData={data} roleError={error} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'new' && (\n\t\t\t\t\t\t\t<AdminUserForm onReload={handleReload} context={context} roleData={data} roleError={error} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'created' && id && <AdminUserCreated uid={id} />}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'invite' && <AdminInviteUsers />}\n\t\t\t\t\t\t{isRoutePrevented && <AdminUserUpgrade />}\n\t\t\t\t\t</Contextualbar>\n\t\t\t\t</ContextualbarDialog>\n\t\t\t)}\n\t\t</Page>\n\t);\n};\n\nexport default AdminUsersPage;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/users/AdminUsersPage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/users/AdminUsersPage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/users/AdminUsersPage.tsx","sourceRoot":"","sources":["client/views/admin/users/AdminUsersPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { LicenseInfo } from '@rocket.chat/core-typings';\nimport { Callout, ContextualbarIcon, Icon, Skeleton, Tabs, TabsItem } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport type { OptionProp } from '@rocket.chat/ui-client';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport { useRouteParameter, useTranslation, useRouter, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Trans } from 'react-i18next';\n\nimport AdminInviteUsers from './AdminInviteUsers';\nimport AdminUserCreated from './AdminUserCreated';\nimport AdminUserForm from './AdminUserForm';\nimport AdminUserFormWithData from './AdminUserFormWithData';\nimport AdminUserInfoWithData from './AdminUserInfoWithData';\nimport AdminUserUpgrade from './AdminUserUpgrade';\nimport UsersPageHeaderContent from './UsersPageHeaderContent';\nimport UsersTable from './UsersTable';\nimport useFilteredUsers from './hooks/useFilteredUsers';\nimport usePendingUsersCount from './hooks/usePendingUsersCount';\nimport { useSeatsCap } from './useSeatsCap';\nimport {\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarDialog,\n} from '../../../components/Contextualbar';\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\nimport { useLicenseLimitsByBehavior } from '../../../hooks/useLicenseLimitsByBehavior';\nimport { useShouldPreventAction } from '../../../hooks/useShouldPreventAction';\nimport { useCheckoutUrl } from '../subscription/hooks/useCheckoutUrl';\n\nexport type UsersFilters = {\n\ttext: string;\n\troles: OptionProp[];\n};\n\nexport type AdminUsersTab = 'all' | 'active' | 'deactivated' | 'pending';\n\nexport type UsersTableSortingOption = 'name' | 'username' | 'emails.address' | 'status' | 'active' | 'freeSwitchExtension';\n\nconst AdminUsersPage = (): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst seatsCap = useSeatsCap();\n\n\tconst isSeatsCapExceeded = useShouldPreventAction('activeUsers');\n\tconst { prevent_action: preventAction } = useLicenseLimitsByBehavior() ?? {};\n\tconst manageSubscriptionUrl = useCheckoutUrl();\n\n\tconst router = useRouter();\n\tconst context = useRouteParameter('context');\n\tconst id = useRouteParameter('id');\n\n\tconst isCreateUserDisabled = useShouldPreventAction('activeUsers');\n\n\tconst getRoles = useEndpoint('GET', '/v1/roles.list');\n\tconst { data, error } = useQuery(['roles'], async () => getRoles());\n\n\tconst paginationData = usePagination();\n\tconst sortData = useSort<UsersTableSortingOption>('name');\n\n\tconst [tab, setTab] = useState<AdminUsersTab>('all');\n\tconst [userFilters, setUserFilters] = useState<UsersFilters>({ text: '', roles: [] });\n\n\tconst searchTerm = useDebouncedValue(userFilters.text, 500);\n\tconst prevSearchTerm = useRef('');\n\n\tconst filteredUsersQueryResult = useFilteredUsers({\n\t\tsearchTerm,\n\t\tprevSearchTerm,\n\t\tsortData,\n\t\tpaginationData,\n\t\ttab,\n\t\tselectedRoles: useMemo(() => userFilters.roles.map((role) => role.id), [userFilters.roles]),\n\t});\n\n\tconst pendingUsersCount = usePendingUsersCount(filteredUsersQueryResult.data?.users);\n\n\tconst handleReload = (): void => {\n\t\tseatsCap?.reload();\n\t\tfilteredUsersQueryResult?.refetch();\n\t};\n\n\tconst handleTabChange = (tab: AdminUsersTab) => {\n\t\tsetTab(tab);\n\n\t\tpaginationData.setCurrent(0);\n\t\tsortData.setSort(tab === 'pending' ? 'active' : 'name', 'asc');\n\t};\n\n\tuseEffect(() => {\n\t\tprevSearchTerm.current = searchTerm;\n\t}, [searchTerm]);\n\n\tconst isRoutePrevented = useMemo(\n\t\t() => context && ['new', 'invite'].includes(context) && isCreateUserDisabled,\n\t\t[context, isCreateUserDisabled],\n\t);\n\n\tconst toTranslationKey = (key: keyof LicenseInfo['limits']) => t(`subscription.callout.${key}`);\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={t('Users')}>\n\t\t\t\t\t<UsersPageHeaderContent isSeatsCapExceeded={isSeatsCapExceeded} seatsCap={seatsCap} />\n\t\t\t\t</PageHeader>\n\t\t\t\t{preventAction?.includes('activeUsers') && (\n\t\t\t\t\t<Callout type='danger' title={t('subscription.callout.servicesDisruptionsOccurring')} mbe={19} mi={24}>\n\t\t\t\t\t\t<Trans i18nKey='subscription.callout.description.limitsExceeded' count={preventAction.length}>\n\t\t\t\t\t\t\tYour workspace exceeded the <>{{ val: preventAction.map(toTranslationKey) }}</> license limit.\n\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\tto={manageSubscriptionUrl({\n\t\t\t\t\t\t\t\t\ttarget: 'callout',\n\t\t\t\t\t\t\t\t\taction: 'prevent_action',\n\t\t\t\t\t\t\t\t\tlimits: preventAction.join(','),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tManage your subscription\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\tto increase limits.\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</Callout>\n\t\t\t\t)}\n\t\t\t\t<Tabs>\n\t\t\t\t\t<TabsItem selected={!tab || tab === 'all'} onClick={() => handleTabChange('all')}>\n\t\t\t\t\t\t{t('All')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'pending'} onClick={() => handleTabChange('pending')} display='flex' flexDirection='row'>\n\t\t\t\t\t\t{`${t('Pending')} `}\n\t\t\t\t\t\t{pendingUsersCount.isLoading && <Skeleton variant='circle' height='x16' width='x16' mis={8} />}\n\t\t\t\t\t\t{pendingUsersCount.isSuccess && `(${pendingUsersCount.data})`}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'active'} onClick={() => handleTabChange('active')}>\n\t\t\t\t\t\t{t('Active')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'deactivated'} onClick={() => handleTabChange('deactivated')}>\n\t\t\t\t\t\t{t('Deactivated')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t</Tabs>\n\t\t\t\t<PageContent>\n\t\t\t\t\t<UsersTable\n\t\t\t\t\t\tfilteredUsersQueryResult={filteredUsersQueryResult}\n\t\t\t\t\t\tsetUserFilters={setUserFilters}\n\t\t\t\t\t\tpaginationData={paginationData}\n\t\t\t\t\t\tsortData={sortData}\n\t\t\t\t\t\ttab={tab}\n\t\t\t\t\t\tisSeatsCapExceeded={isSeatsCapExceeded}\n\t\t\t\t\t\troleData={data}\n\t\t\t\t\t\tonReload={handleReload}\n\t\t\t\t\t/>\n\t\t\t\t</PageContent>\n\t\t\t</Page>\n\t\t\t{context && (\n\t\t\t\t<ContextualbarDialog>\n\t\t\t\t\t<Contextualbar>\n\t\t\t\t\t\t<ContextualbarHeader>\n\t\t\t\t\t\t\t{context === 'upgrade' && <ContextualbarIcon name='user-plus' />}\n\t\t\t\t\t\t\t<ContextualbarTitle>\n\t\t\t\t\t\t\t\t{context === 'info' && t('User_Info')}\n\t\t\t\t\t\t\t\t{context === 'edit' && t('Edit_User')}\n\t\t\t\t\t\t\t\t{(context === 'new' || context === 'created') && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Icon name='user-plus' size={20} /> {t('New_user')}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{context === 'invite' && t('Invite_Users')}\n\t\t\t\t\t\t\t</ContextualbarTitle>\n\t\t\t\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/admin/users')} />\n\t\t\t\t\t\t</ContextualbarHeader>\n\t\t\t\t\t\t{context === 'info' && id && <AdminUserInfoWithData uid={id} onReload={handleReload} tab={tab} />}\n\t\t\t\t\t\t{context === 'edit' && id && (\n\t\t\t\t\t\t\t<AdminUserFormWithData uid={id} onReload={handleReload} context={context} roleData={data} roleError={error} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'new' && (\n\t\t\t\t\t\t\t<AdminUserForm onReload={handleReload} context={context} roleData={data} roleError={error} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'created' && id && <AdminUserCreated uid={id} />}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'invite' && <AdminInviteUsers />}\n\t\t\t\t\t\t{isRoutePrevented && <AdminUserUpgrade />}\n\t\t\t\t\t</Contextualbar>\n\t\t\t\t</ContextualbarDialog>\n\t\t\t)}\n\t\t</Page>\n\t);\n};\n\nexport default AdminUsersPage;\n"]}}},"code":"let Callout, ContextualbarIcon, Icon, Skeleton, Tabs, TabsItem;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Callout(v) {\n    Callout = v;\n  },\n  ContextualbarIcon(v) {\n    ContextualbarIcon = v;\n  },\n  Icon(v) {\n    Icon = v;\n  },\n  Skeleton(v) {\n    Skeleton = v;\n  },\n  Tabs(v) {\n    Tabs = v;\n  },\n  TabsItem(v) {\n    TabsItem = v;\n  }\n}, 0);\nlet useDebouncedValue;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useDebouncedValue(v) {\n    useDebouncedValue = v;\n  }\n}, 1);\nlet ExternalLink;\nmodule.link(\"@rocket.chat/ui-client\", {\n  ExternalLink(v) {\n    ExternalLink = v;\n  }\n}, 2);\nlet useRouteParameter, useTranslation, useRouter, useEndpoint;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useRouteParameter(v) {\n    useRouteParameter = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  },\n  useRouter(v) {\n    useRouter = v;\n  },\n  useEndpoint(v) {\n    useEndpoint = v;\n  }\n}, 3);\nlet useQuery;\nmodule.link(\"@tanstack/react-query\", {\n  useQuery(v) {\n    useQuery = v;\n  }\n}, 4);\nlet React, useEffect, useMemo, useRef, useState;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useEffect(v) {\n    useEffect = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  },\n  useRef(v) {\n    useRef = v;\n  },\n  useState(v) {\n    useState = v;\n  }\n}, 5);\nlet Trans;\nmodule.link(\"react-i18next\", {\n  Trans(v) {\n    Trans = v;\n  }\n}, 6);\nlet AdminInviteUsers;\nmodule.link(\"./AdminInviteUsers\", {\n  default(v) {\n    AdminInviteUsers = v;\n  }\n}, 7);\nlet AdminUserCreated;\nmodule.link(\"./AdminUserCreated\", {\n  default(v) {\n    AdminUserCreated = v;\n  }\n}, 8);\nlet AdminUserForm;\nmodule.link(\"./AdminUserForm\", {\n  default(v) {\n    AdminUserForm = v;\n  }\n}, 9);\nlet AdminUserFormWithData;\nmodule.link(\"./AdminUserFormWithData\", {\n  default(v) {\n    AdminUserFormWithData = v;\n  }\n}, 10);\nlet AdminUserInfoWithData;\nmodule.link(\"./AdminUserInfoWithData\", {\n  default(v) {\n    AdminUserInfoWithData = v;\n  }\n}, 11);\nlet AdminUserUpgrade;\nmodule.link(\"./AdminUserUpgrade\", {\n  default(v) {\n    AdminUserUpgrade = v;\n  }\n}, 12);\nlet UsersPageHeaderContent;\nmodule.link(\"./UsersPageHeaderContent\", {\n  default(v) {\n    UsersPageHeaderContent = v;\n  }\n}, 13);\nlet UsersTable;\nmodule.link(\"./UsersTable\", {\n  default(v) {\n    UsersTable = v;\n  }\n}, 14);\nlet useFilteredUsers;\nmodule.link(\"./hooks/useFilteredUsers\", {\n  default(v) {\n    useFilteredUsers = v;\n  }\n}, 15);\nlet usePendingUsersCount;\nmodule.link(\"./hooks/usePendingUsersCount\", {\n  default(v) {\n    usePendingUsersCount = v;\n  }\n}, 16);\nlet useSeatsCap;\nmodule.link(\"./useSeatsCap\", {\n  useSeatsCap(v) {\n    useSeatsCap = v;\n  }\n}, 17);\nlet Contextualbar, ContextualbarHeader, ContextualbarTitle, ContextualbarClose, ContextualbarDialog;\nmodule.link(\"../../../components/Contextualbar\", {\n  Contextualbar(v) {\n    Contextualbar = v;\n  },\n  ContextualbarHeader(v) {\n    ContextualbarHeader = v;\n  },\n  ContextualbarTitle(v) {\n    ContextualbarTitle = v;\n  },\n  ContextualbarClose(v) {\n    ContextualbarClose = v;\n  },\n  ContextualbarDialog(v) {\n    ContextualbarDialog = v;\n  }\n}, 18);\nlet usePagination;\nmodule.link(\"../../../components/GenericTable/hooks/usePagination\", {\n  usePagination(v) {\n    usePagination = v;\n  }\n}, 19);\nlet useSort;\nmodule.link(\"../../../components/GenericTable/hooks/useSort\", {\n  useSort(v) {\n    useSort = v;\n  }\n}, 20);\nlet Page, PageHeader, PageContent;\nmodule.link(\"../../../components/Page\", {\n  Page(v) {\n    Page = v;\n  },\n  PageHeader(v) {\n    PageHeader = v;\n  },\n  PageContent(v) {\n    PageContent = v;\n  }\n}, 21);\nlet useLicenseLimitsByBehavior;\nmodule.link(\"../../../hooks/useLicenseLimitsByBehavior\", {\n  useLicenseLimitsByBehavior(v) {\n    useLicenseLimitsByBehavior = v;\n  }\n}, 22);\nlet useShouldPreventAction;\nmodule.link(\"../../../hooks/useShouldPreventAction\", {\n  useShouldPreventAction(v) {\n    useShouldPreventAction = v;\n  }\n}, 23);\nlet useCheckoutUrl;\nmodule.link(\"../subscription/hooks/useCheckoutUrl\", {\n  useCheckoutUrl(v) {\n    useCheckoutUrl = v;\n  }\n}, 24);\nconst AdminUsersPage = () => {\n  var _useLicenseLimitsByBe, _filteredUsersQueryRe;\n  const t = useTranslation();\n  const seatsCap = useSeatsCap();\n  const isSeatsCapExceeded = useShouldPreventAction('activeUsers');\n  const {\n    prevent_action: preventAction\n  } = (_useLicenseLimitsByBe = useLicenseLimitsByBehavior()) !== null && _useLicenseLimitsByBe !== void 0 ? _useLicenseLimitsByBe : {};\n  const manageSubscriptionUrl = useCheckoutUrl();\n  const router = useRouter();\n  const context = useRouteParameter('context');\n  const id = useRouteParameter('id');\n  const isCreateUserDisabled = useShouldPreventAction('activeUsers');\n  const getRoles = useEndpoint('GET', '/v1/roles.list');\n  const {\n    data,\n    error\n  } = useQuery(['roles'], async () => getRoles());\n  const paginationData = usePagination();\n  const sortData = useSort('name');\n  const [tab, setTab] = useState('all');\n  const [userFilters, setUserFilters] = useState({\n    text: '',\n    roles: []\n  });\n  const searchTerm = useDebouncedValue(userFilters.text, 500);\n  const prevSearchTerm = useRef('');\n  const filteredUsersQueryResult = useFilteredUsers({\n    searchTerm,\n    prevSearchTerm,\n    sortData,\n    paginationData,\n    tab,\n    selectedRoles: useMemo(() => userFilters.roles.map(role => role.id), [userFilters.roles])\n  });\n  const pendingUsersCount = usePendingUsersCount((_filteredUsersQueryRe = filteredUsersQueryResult.data) === null || _filteredUsersQueryRe === void 0 ? void 0 : _filteredUsersQueryRe.users);\n  const handleReload = () => {\n    seatsCap === null || seatsCap === void 0 ? void 0 : seatsCap.reload();\n    filteredUsersQueryResult === null || filteredUsersQueryResult === void 0 ? void 0 : filteredUsersQueryResult.refetch();\n  };\n  const handleTabChange = tab => {\n    setTab(tab);\n    paginationData.setCurrent(0);\n    sortData.setSort(tab === 'pending' ? 'active' : 'name', 'asc');\n  };\n  useEffect(() => {\n    prevSearchTerm.current = searchTerm;\n  }, [searchTerm]);\n  const isRoutePrevented = useMemo(() => context && ['new', 'invite'].includes(context) && isCreateUserDisabled, [context, isCreateUserDisabled]);\n  const toTranslationKey = key => t(\"subscription.callout.\".concat(key));\n  return /*#__PURE__*/React.createElement(Page, {\n    flexDirection: \"row\"\n  }, /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: t('Users')\n  }, /*#__PURE__*/React.createElement(UsersPageHeaderContent, {\n    isSeatsCapExceeded: isSeatsCapExceeded,\n    seatsCap: seatsCap\n  })), (preventAction === null || preventAction === void 0 ? void 0 : preventAction.includes('activeUsers')) && /*#__PURE__*/React.createElement(Callout, {\n    type: \"danger\",\n    title: t('subscription.callout.servicesDisruptionsOccurring'),\n    mbe: 19,\n    mi: 24\n  }, /*#__PURE__*/React.createElement(Trans, {\n    i18nKey: \"subscription.callout.description.limitsExceeded\",\n    count: preventAction.length\n  }, \"Your workspace exceeded the \", /*#__PURE__*/React.createElement(React.Fragment, null, {\n    val: preventAction.map(toTranslationKey)\n  }), \" license limit.\", /*#__PURE__*/React.createElement(ExternalLink, {\n    to: manageSubscriptionUrl({\n      target: 'callout',\n      action: 'prevent_action',\n      limits: preventAction.join(',')\n    })\n  }, \"Manage your subscription\"), \"to increase limits.\")), /*#__PURE__*/React.createElement(Tabs, null, /*#__PURE__*/React.createElement(TabsItem, {\n    selected: !tab || tab === 'all',\n    onClick: () => handleTabChange('all')\n  }, t('All')), /*#__PURE__*/React.createElement(TabsItem, {\n    selected: tab === 'pending',\n    onClick: () => handleTabChange('pending'),\n    display: \"flex\",\n    flexDirection: \"row\"\n  }, \"\".concat(t('Pending'), \" \"), pendingUsersCount.isLoading && /*#__PURE__*/React.createElement(Skeleton, {\n    variant: \"circle\",\n    height: \"x16\",\n    width: \"x16\",\n    mis: 8\n  }), pendingUsersCount.isSuccess && \"(\".concat(pendingUsersCount.data, \")\")), /*#__PURE__*/React.createElement(TabsItem, {\n    selected: tab === 'active',\n    onClick: () => handleTabChange('active')\n  }, t('Active')), /*#__PURE__*/React.createElement(TabsItem, {\n    selected: tab === 'deactivated',\n    onClick: () => handleTabChange('deactivated')\n  }, t('Deactivated'))), /*#__PURE__*/React.createElement(PageContent, null, /*#__PURE__*/React.createElement(UsersTable, {\n    filteredUsersQueryResult: filteredUsersQueryResult,\n    setUserFilters: setUserFilters,\n    paginationData: paginationData,\n    sortData: sortData,\n    tab: tab,\n    isSeatsCapExceeded: isSeatsCapExceeded,\n    roleData: data,\n    onReload: handleReload\n  }))), context && /*#__PURE__*/React.createElement(ContextualbarDialog, null, /*#__PURE__*/React.createElement(Contextualbar, null, /*#__PURE__*/React.createElement(ContextualbarHeader, null, context === 'upgrade' && /*#__PURE__*/React.createElement(ContextualbarIcon, {\n    name: \"user-plus\"\n  }), /*#__PURE__*/React.createElement(ContextualbarTitle, null, context === 'info' && t('User_Info'), context === 'edit' && t('Edit_User'), (context === 'new' || context === 'created') && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Icon, {\n    name: \"user-plus\",\n    size: 20\n  }), \" \", t('New_user')), context === 'invite' && t('Invite_Users')), /*#__PURE__*/React.createElement(ContextualbarClose, {\n    onClick: () => router.navigate('/admin/users')\n  })), context === 'info' && id && /*#__PURE__*/React.createElement(AdminUserInfoWithData, {\n    uid: id,\n    onReload: handleReload,\n    tab: tab\n  }), context === 'edit' && id && /*#__PURE__*/React.createElement(AdminUserFormWithData, {\n    uid: id,\n    onReload: handleReload,\n    context: context,\n    roleData: data,\n    roleError: error\n  }), !isRoutePrevented && context === 'new' && /*#__PURE__*/React.createElement(AdminUserForm, {\n    onReload: handleReload,\n    context: context,\n    roleData: data,\n    roleError: error\n  }), !isRoutePrevented && context === 'created' && id && /*#__PURE__*/React.createElement(AdminUserCreated, {\n    uid: id\n  }), !isRoutePrevented && context === 'invite' && /*#__PURE__*/React.createElement(AdminInviteUsers, null), isRoutePrevented && /*#__PURE__*/React.createElement(AdminUserUpgrade, null))));\n};\nmodule.exportDefault(AdminUsersPage);","map":{"version":3,"names":["Callout","ContextualbarIcon","Icon","Skeleton","Tabs","TabsItem","module","link","v","useDebouncedValue","ExternalLink","useRouteParameter","useTranslation","useRouter","useEndpoint","useQuery","React","useEffect","useMemo","useRef","useState","default","Trans","AdminInviteUsers","AdminUserCreated","AdminUserForm","AdminUserFormWithData","AdminUserInfoWithData","AdminUserUpgrade","UsersPageHeaderContent","UsersTable","useFilteredUsers","usePendingUsersCount","useSeatsCap","Contextualbar","ContextualbarHeader","ContextualbarTitle","ContextualbarClose","ContextualbarDialog","usePagination","useSort","Page","PageHeader","PageContent","useLicenseLimitsByBehavior","useShouldPreventAction","useCheckoutUrl","AdminUsersPage","_useLicenseLimitsByBe","_filteredUsersQueryRe","t","seatsCap","isSeatsCapExceeded","prevent_action","preventAction","manageSubscriptionUrl","router","context","id","isCreateUserDisabled","getRoles","data","error","paginationData","sortData","tab","setTab","userFilters","setUserFilters","text","roles","searchTerm","prevSearchTerm","filteredUsersQueryResult","selectedRoles","map","role","pendingUsersCount","users","handleReload","reload","refetch","handleTabChange","setCurrent","setSort","current","isRoutePrevented","includes","toTranslationKey","key","concat","createElement","flexDirection","title","type","mbe","mi","i18nKey","count","length","Fragment","val","to","target","action","limits","join","selected","onClick","display","isLoading","variant","height","width","mis","isSuccess","roleData","onReload","name","size","navigate","uid","roleError","exportDefault"],"sources":["client/views/admin/users/AdminUsersPage.tsx"],"sourcesContent":["import type { LicenseInfo } from '@rocket.chat/core-typings';\nimport { Callout, ContextualbarIcon, Icon, Skeleton, Tabs, TabsItem } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport type { OptionProp } from '@rocket.chat/ui-client';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport { useRouteParameter, useTranslation, useRouter, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Trans } from 'react-i18next';\n\nimport AdminInviteUsers from './AdminInviteUsers';\nimport AdminUserCreated from './AdminUserCreated';\nimport AdminUserForm from './AdminUserForm';\nimport AdminUserFormWithData from './AdminUserFormWithData';\nimport AdminUserInfoWithData from './AdminUserInfoWithData';\nimport AdminUserUpgrade from './AdminUserUpgrade';\nimport UsersPageHeaderContent from './UsersPageHeaderContent';\nimport UsersTable from './UsersTable';\nimport useFilteredUsers from './hooks/useFilteredUsers';\nimport usePendingUsersCount from './hooks/usePendingUsersCount';\nimport { useSeatsCap } from './useSeatsCap';\nimport {\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarDialog,\n} from '../../../components/Contextualbar';\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\nimport { useLicenseLimitsByBehavior } from '../../../hooks/useLicenseLimitsByBehavior';\nimport { useShouldPreventAction } from '../../../hooks/useShouldPreventAction';\nimport { useCheckoutUrl } from '../subscription/hooks/useCheckoutUrl';\n\nexport type UsersFilters = {\n\ttext: string;\n\troles: OptionProp[];\n};\n\nexport type AdminUsersTab = 'all' | 'active' | 'deactivated' | 'pending';\n\nexport type UsersTableSortingOption = 'name' | 'username' | 'emails.address' | 'status' | 'active' | 'freeSwitchExtension';\n\nconst AdminUsersPage = (): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst seatsCap = useSeatsCap();\n\n\tconst isSeatsCapExceeded = useShouldPreventAction('activeUsers');\n\tconst { prevent_action: preventAction } = useLicenseLimitsByBehavior() ?? {};\n\tconst manageSubscriptionUrl = useCheckoutUrl();\n\n\tconst router = useRouter();\n\tconst context = useRouteParameter('context');\n\tconst id = useRouteParameter('id');\n\n\tconst isCreateUserDisabled = useShouldPreventAction('activeUsers');\n\n\tconst getRoles = useEndpoint('GET', '/v1/roles.list');\n\tconst { data, error } = useQuery(['roles'], async () => getRoles());\n\n\tconst paginationData = usePagination();\n\tconst sortData = useSort<UsersTableSortingOption>('name');\n\n\tconst [tab, setTab] = useState<AdminUsersTab>('all');\n\tconst [userFilters, setUserFilters] = useState<UsersFilters>({ text: '', roles: [] });\n\n\tconst searchTerm = useDebouncedValue(userFilters.text, 500);\n\tconst prevSearchTerm = useRef('');\n\n\tconst filteredUsersQueryResult = useFilteredUsers({\n\t\tsearchTerm,\n\t\tprevSearchTerm,\n\t\tsortData,\n\t\tpaginationData,\n\t\ttab,\n\t\tselectedRoles: useMemo(() => userFilters.roles.map((role) => role.id), [userFilters.roles]),\n\t});\n\n\tconst pendingUsersCount = usePendingUsersCount(filteredUsersQueryResult.data?.users);\n\n\tconst handleReload = (): void => {\n\t\tseatsCap?.reload();\n\t\tfilteredUsersQueryResult?.refetch();\n\t};\n\n\tconst handleTabChange = (tab: AdminUsersTab) => {\n\t\tsetTab(tab);\n\n\t\tpaginationData.setCurrent(0);\n\t\tsortData.setSort(tab === 'pending' ? 'active' : 'name', 'asc');\n\t};\n\n\tuseEffect(() => {\n\t\tprevSearchTerm.current = searchTerm;\n\t}, [searchTerm]);\n\n\tconst isRoutePrevented = useMemo(\n\t\t() => context && ['new', 'invite'].includes(context) && isCreateUserDisabled,\n\t\t[context, isCreateUserDisabled],\n\t);\n\n\tconst toTranslationKey = (key: keyof LicenseInfo['limits']) => t(`subscription.callout.${key}`);\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={t('Users')}>\n\t\t\t\t\t<UsersPageHeaderContent isSeatsCapExceeded={isSeatsCapExceeded} seatsCap={seatsCap} />\n\t\t\t\t</PageHeader>\n\t\t\t\t{preventAction?.includes('activeUsers') && (\n\t\t\t\t\t<Callout type='danger' title={t('subscription.callout.servicesDisruptionsOccurring')} mbe={19} mi={24}>\n\t\t\t\t\t\t<Trans i18nKey='subscription.callout.description.limitsExceeded' count={preventAction.length}>\n\t\t\t\t\t\t\tYour workspace exceeded the <>{{ val: preventAction.map(toTranslationKey) }}</> license limit.\n\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\tto={manageSubscriptionUrl({\n\t\t\t\t\t\t\t\t\ttarget: 'callout',\n\t\t\t\t\t\t\t\t\taction: 'prevent_action',\n\t\t\t\t\t\t\t\t\tlimits: preventAction.join(','),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tManage your subscription\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\tto increase limits.\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</Callout>\n\t\t\t\t)}\n\t\t\t\t<Tabs>\n\t\t\t\t\t<TabsItem selected={!tab || tab === 'all'} onClick={() => handleTabChange('all')}>\n\t\t\t\t\t\t{t('All')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'pending'} onClick={() => handleTabChange('pending')} display='flex' flexDirection='row'>\n\t\t\t\t\t\t{`${t('Pending')} `}\n\t\t\t\t\t\t{pendingUsersCount.isLoading && <Skeleton variant='circle' height='x16' width='x16' mis={8} />}\n\t\t\t\t\t\t{pendingUsersCount.isSuccess && `(${pendingUsersCount.data})`}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'active'} onClick={() => handleTabChange('active')}>\n\t\t\t\t\t\t{t('Active')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'deactivated'} onClick={() => handleTabChange('deactivated')}>\n\t\t\t\t\t\t{t('Deactivated')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t</Tabs>\n\t\t\t\t<PageContent>\n\t\t\t\t\t<UsersTable\n\t\t\t\t\t\tfilteredUsersQueryResult={filteredUsersQueryResult}\n\t\t\t\t\t\tsetUserFilters={setUserFilters}\n\t\t\t\t\t\tpaginationData={paginationData}\n\t\t\t\t\t\tsortData={sortData}\n\t\t\t\t\t\ttab={tab}\n\t\t\t\t\t\tisSeatsCapExceeded={isSeatsCapExceeded}\n\t\t\t\t\t\troleData={data}\n\t\t\t\t\t\tonReload={handleReload}\n\t\t\t\t\t/>\n\t\t\t\t</PageContent>\n\t\t\t</Page>\n\t\t\t{context && (\n\t\t\t\t<ContextualbarDialog>\n\t\t\t\t\t<Contextualbar>\n\t\t\t\t\t\t<ContextualbarHeader>\n\t\t\t\t\t\t\t{context === 'upgrade' && <ContextualbarIcon name='user-plus' />}\n\t\t\t\t\t\t\t<ContextualbarTitle>\n\t\t\t\t\t\t\t\t{context === 'info' && t('User_Info')}\n\t\t\t\t\t\t\t\t{context === 'edit' && t('Edit_User')}\n\t\t\t\t\t\t\t\t{(context === 'new' || context === 'created') && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Icon name='user-plus' size={20} /> {t('New_user')}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{context === 'invite' && t('Invite_Users')}\n\t\t\t\t\t\t\t</ContextualbarTitle>\n\t\t\t\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/admin/users')} />\n\t\t\t\t\t\t</ContextualbarHeader>\n\t\t\t\t\t\t{context === 'info' && id && <AdminUserInfoWithData uid={id} onReload={handleReload} tab={tab} />}\n\t\t\t\t\t\t{context === 'edit' && id && (\n\t\t\t\t\t\t\t<AdminUserFormWithData uid={id} onReload={handleReload} context={context} roleData={data} roleError={error} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'new' && (\n\t\t\t\t\t\t\t<AdminUserForm onReload={handleReload} context={context} roleData={data} roleError={error} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'created' && id && <AdminUserCreated uid={id} />}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'invite' && <AdminInviteUsers />}\n\t\t\t\t\t\t{isRoutePrevented && <AdminUserUpgrade />}\n\t\t\t\t\t</Contextualbar>\n\t\t\t\t</ContextualbarDialog>\n\t\t\t)}\n\t\t</Page>\n\t);\n};\n\nexport default AdminUsersPage;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"a50014d91b9c5d459ce4e53ac7c1a46d229f0a53"}
