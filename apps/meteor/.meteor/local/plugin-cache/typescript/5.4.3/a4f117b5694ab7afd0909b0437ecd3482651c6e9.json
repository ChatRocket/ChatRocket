{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/emoji-custom/client/lib/emojiCustom.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"app/emoji-custom/client/lib/emojiCustom.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/emoji-custom/client/lib/emojiCustom.ts","inputSourceMap":{"version":3,"file":"app/emoji-custom/client/lib/emojiCustom.ts","sourceRoot":"","sources":["app/emoji-custom/client/lib/emojiCustom.ts"],"names":[],"mappings":"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","sourcesContent":["import type { IEmoji } from '@rocket.chat/core-typings';\nimport { escapeRegExp } from '@rocket.chat/string-helpers';\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nimport { emoji, removeFromRecent, replaceEmojiInRecent } from '../../../emoji/client';\nimport { CachedCollectionManager } from '../../../ui-cached-collection/client';\nimport { getURL } from '../../../utils/client';\nimport { sdk } from '../../../utils/client/lib/SDKClient';\n\nconst isSetNotNull = (fn: () => unknown) => {\n\tlet value;\n\ttry {\n\t\tvalue = fn();\n\t} catch (e) {\n\t\tvalue = null;\n\t}\n\treturn value !== null && value !== undefined;\n};\n\nconst getEmojiUrlFromName = (name: string, extension: string) => {\n\tif (name == null) {\n\t\treturn;\n\t}\n\n\tconst key = `emoji_random_${name}` as const;\n\n\tconst random = (Session as unknown as { keys: Record<string, any> }).keys[key] ?? 0;\n\n\treturn getURL(`/emoji-custom/${encodeURIComponent(name)}.${extension}?_dc=${random}`);\n};\n\nexport const deleteEmojiCustom = (emojiData: IEmoji) => {\n\tdelete emoji.list[`:${emojiData.name}:`];\n\tconst arrayIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(emojiData.name);\n\tif (arrayIndex !== -1) {\n\t\temoji.packages.emojiCustom.emojisByCategory.rocket.splice(arrayIndex, 1);\n\t}\n\tconst arrayIndexList = emoji.packages.emojiCustom.list?.indexOf(`:${emojiData.name}:`) ?? -1;\n\tif (arrayIndexList !== -1) {\n\t\temoji.packages.emojiCustom.list?.splice(arrayIndexList, 1);\n\t}\n\tif (emojiData.aliases) {\n\t\tfor (const alias of emojiData.aliases) {\n\t\t\tdelete emoji.list[`:${alias}:`];\n\t\t\tconst aliasIndex = emoji.packages.emojiCustom.list?.indexOf(`:${alias}:`) ?? -1;\n\t\t\tif (aliasIndex !== -1) {\n\t\t\t\temoji.packages.emojiCustom.list?.splice(aliasIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tremoveFromRecent(emojiData.name, emoji.packages.base.emojisByCategory.recent);\n};\n\nexport const updateEmojiCustom = (emojiData: IEmoji) => {\n\tconst previousExists = isSetNotNull(() => emojiData.previousName);\n\tconst currentAliases = isSetNotNull(() => emojiData.aliases);\n\n\tif (previousExists && isSetNotNull(() => emoji.list[`:${emojiData.previousName}:`].aliases)) {\n\t\tfor (const alias of emoji.list[`:${emojiData.previousName}:`].aliases ?? []) {\n\t\t\tdelete emoji.list[`:${alias}:`];\n\t\t\tconst aliasIndex = emoji.packages.emojiCustom.list?.indexOf(`:${alias}:`) ?? -1;\n\t\t\tif (aliasIndex !== -1) {\n\t\t\t\temoji.packages.emojiCustom.list?.splice(aliasIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (previousExists && emojiData.name !== emojiData.previousName) {\n\t\tconst arrayIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(emojiData.previousName);\n\t\tif (arrayIndex !== -1) {\n\t\t\temoji.packages.emojiCustom.emojisByCategory.rocket.splice(arrayIndex, 1);\n\t\t}\n\t\tconst arrayIndexList = emoji.packages.emojiCustom.list?.indexOf(`:${emojiData.previousName}:`) ?? -1;\n\t\tif (arrayIndexList !== -1) {\n\t\t\temoji.packages.emojiCustom.list?.splice(arrayIndexList, 1);\n\t\t}\n\t\tdelete emoji.list[`:${emojiData.previousName}:`];\n\t}\n\n\tconst categoryIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(`${emojiData.name}`);\n\tif (categoryIndex === -1) {\n\t\temoji.packages.emojiCustom.emojisByCategory.rocket.push(`${emojiData.name}`);\n\t\temoji.packages.emojiCustom.list?.push(`:${emojiData.name}:`);\n\t}\n\temoji.list[`:${emojiData.name}:`] = Object.assign({ emojiPackage: 'emojiCustom' }, emoji.list[`:${emojiData.name}:`], emojiData);\n\tif (currentAliases) {\n\t\tfor (const alias of emojiData.aliases) {\n\t\t\temoji.packages.emojiCustom.list?.push(`:${alias}:`);\n\t\t\temoji.list[`:${alias}:`] = {\n\t\t\t\temojiPackage: 'emojiCustom',\n\t\t\t\taliasOf: emojiData.name,\n\t\t\t};\n\t\t}\n\t}\n\n\tif (previousExists) {\n\t\treplaceEmojiInRecent({ oldEmoji: emojiData.previousName, newEmoji: emojiData.name });\n\t}\n};\n\nconst customRender = (html: string) => {\n\tconst emojisMatchGroup = emoji.packages.emojiCustom.list?.map(escapeRegExp).join('|');\n\tif (emojisMatchGroup !== emoji.packages.emojiCustom._regexpSignature) {\n\t\temoji.packages.emojiCustom._regexpSignature = emojisMatchGroup;\n\t\temoji.packages.emojiCustom._regexp = new RegExp(\n\t\t\t`<object[^>]*>.*?<\\/object>|<span[^>]*>.*?<\\/span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(${emojisMatchGroup})`,\n\t\t\t'gi',\n\t\t);\n\t}\n\n\thtml = html.replace(emoji.packages.emojiCustom._regexp!, (shortname) => {\n\t\tif (typeof shortname === 'undefined' || shortname === '' || (emoji.packages.emojiCustom.list?.indexOf(shortname) ?? -1) === -1) {\n\t\t\treturn shortname;\n\t\t}\n\n\t\tlet emojiAlias = shortname.replace(/:/g, '');\n\n\t\tlet dataCheck = emoji.list[shortname];\n\t\tif (dataCheck.aliasOf) {\n\t\t\temojiAlias = dataCheck.aliasOf;\n\t\t\tdataCheck = emoji.list[`:${emojiAlias}:`];\n\t\t}\n\n\t\treturn `<span class=\"emoji\" style=\"background-image:url(${getEmojiUrlFromName(\n\t\t\temojiAlias,\n\t\t\tdataCheck.extension!,\n\t\t)});\" data-emoji=\"${emojiAlias}\" title=\"${shortname}\">${shortname}</span>`;\n\t});\n\n\treturn html;\n};\n\nemoji.packages.emojiCustom = {\n\temojiCategories: [{ key: 'rocket', i18n: 'Custom' }],\n\tcategoryIndex: 1,\n\ttoneList: {},\n\tlist: [],\n\t_regexpSignature: null,\n\t_regexp: null,\n\temojisByCategory: {},\n\trender: customRender,\n\trenderPicker: customRender,\n};\n\nMeteor.startup(() =>\n\tCachedCollectionManager.onLogin(async () => {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\temojis: { update: emojis },\n\t\t\t} = await sdk.rest.get('/v1/emoji-custom.list', { query: '' });\n\n\t\t\temoji.packages.emojiCustom.emojisByCategory = { rocket: [] };\n\t\t\tfor (const currentEmoji of emojis) {\n\t\t\t\temoji.packages.emojiCustom.emojisByCategory.rocket.push(currentEmoji.name);\n\t\t\t\temoji.packages.emojiCustom.list?.push(`:${currentEmoji.name}:`);\n\t\t\t\temoji.list[`:${currentEmoji.name}:`] = { ...currentEmoji, emojiPackage: 'emojiCustom' } as any;\n\t\t\t\tfor (const alias of currentEmoji.aliases) {\n\t\t\t\t\temoji.packages.emojiCustom.list?.push(`:${alias}:`);\n\t\t\t\t\temoji.list[`:${alias}:`] = {\n\t\t\t\t\t\temojiPackage: 'emojiCustom',\n\t\t\t\t\t\taliasOf: currentEmoji.name,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error('Error getting custom emoji', e);\n\t\t}\n\t}),\n);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/emoji-custom/client/lib/emojiCustom.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"app/emoji-custom/client/lib/emojiCustom.ts","inputSourceMap":{"version":3,"file":"app/emoji-custom/client/lib/emojiCustom.ts","sourceRoot":"","sources":["app/emoji-custom/client/lib/emojiCustom.ts"],"names":[],"mappings":"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","sourcesContent":["import type { IEmoji } from '@rocket.chat/core-typings';\nimport { escapeRegExp } from '@rocket.chat/string-helpers';\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nimport { emoji, removeFromRecent, replaceEmojiInRecent } from '../../../emoji/client';\nimport { CachedCollectionManager } from '../../../ui-cached-collection/client';\nimport { getURL } from '../../../utils/client';\nimport { sdk } from '../../../utils/client/lib/SDKClient';\n\nconst isSetNotNull = (fn: () => unknown) => {\n\tlet value;\n\ttry {\n\t\tvalue = fn();\n\t} catch (e) {\n\t\tvalue = null;\n\t}\n\treturn value !== null && value !== undefined;\n};\n\nconst getEmojiUrlFromName = (name: string, extension: string) => {\n\tif (name == null) {\n\t\treturn;\n\t}\n\n\tconst key = `emoji_random_${name}` as const;\n\n\tconst random = (Session as unknown as { keys: Record<string, any> }).keys[key] ?? 0;\n\n\treturn getURL(`/emoji-custom/${encodeURIComponent(name)}.${extension}?_dc=${random}`);\n};\n\nexport const deleteEmojiCustom = (emojiData: IEmoji) => {\n\tdelete emoji.list[`:${emojiData.name}:`];\n\tconst arrayIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(emojiData.name);\n\tif (arrayIndex !== -1) {\n\t\temoji.packages.emojiCustom.emojisByCategory.rocket.splice(arrayIndex, 1);\n\t}\n\tconst arrayIndexList = emoji.packages.emojiCustom.list?.indexOf(`:${emojiData.name}:`) ?? -1;\n\tif (arrayIndexList !== -1) {\n\t\temoji.packages.emojiCustom.list?.splice(arrayIndexList, 1);\n\t}\n\tif (emojiData.aliases) {\n\t\tfor (const alias of emojiData.aliases) {\n\t\t\tdelete emoji.list[`:${alias}:`];\n\t\t\tconst aliasIndex = emoji.packages.emojiCustom.list?.indexOf(`:${alias}:`) ?? -1;\n\t\t\tif (aliasIndex !== -1) {\n\t\t\t\temoji.packages.emojiCustom.list?.splice(aliasIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tremoveFromRecent(emojiData.name, emoji.packages.base.emojisByCategory.recent);\n};\n\nexport const updateEmojiCustom = (emojiData: IEmoji) => {\n\tconst previousExists = isSetNotNull(() => emojiData.previousName);\n\tconst currentAliases = isSetNotNull(() => emojiData.aliases);\n\n\tif (previousExists && isSetNotNull(() => emoji.list[`:${emojiData.previousName}:`].aliases)) {\n\t\tfor (const alias of emoji.list[`:${emojiData.previousName}:`].aliases ?? []) {\n\t\t\tdelete emoji.list[`:${alias}:`];\n\t\t\tconst aliasIndex = emoji.packages.emojiCustom.list?.indexOf(`:${alias}:`) ?? -1;\n\t\t\tif (aliasIndex !== -1) {\n\t\t\t\temoji.packages.emojiCustom.list?.splice(aliasIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (previousExists && emojiData.name !== emojiData.previousName) {\n\t\tconst arrayIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(emojiData.previousName);\n\t\tif (arrayIndex !== -1) {\n\t\t\temoji.packages.emojiCustom.emojisByCategory.rocket.splice(arrayIndex, 1);\n\t\t}\n\t\tconst arrayIndexList = emoji.packages.emojiCustom.list?.indexOf(`:${emojiData.previousName}:`) ?? -1;\n\t\tif (arrayIndexList !== -1) {\n\t\t\temoji.packages.emojiCustom.list?.splice(arrayIndexList, 1);\n\t\t}\n\t\tdelete emoji.list[`:${emojiData.previousName}:`];\n\t}\n\n\tconst categoryIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(`${emojiData.name}`);\n\tif (categoryIndex === -1) {\n\t\temoji.packages.emojiCustom.emojisByCategory.rocket.push(`${emojiData.name}`);\n\t\temoji.packages.emojiCustom.list?.push(`:${emojiData.name}:`);\n\t}\n\temoji.list[`:${emojiData.name}:`] = Object.assign({ emojiPackage: 'emojiCustom' }, emoji.list[`:${emojiData.name}:`], emojiData);\n\tif (currentAliases) {\n\t\tfor (const alias of emojiData.aliases) {\n\t\t\temoji.packages.emojiCustom.list?.push(`:${alias}:`);\n\t\t\temoji.list[`:${alias}:`] = {\n\t\t\t\temojiPackage: 'emojiCustom',\n\t\t\t\taliasOf: emojiData.name,\n\t\t\t};\n\t\t}\n\t}\n\n\tif (previousExists) {\n\t\treplaceEmojiInRecent({ oldEmoji: emojiData.previousName, newEmoji: emojiData.name });\n\t}\n};\n\nconst customRender = (html: string) => {\n\tconst emojisMatchGroup = emoji.packages.emojiCustom.list?.map(escapeRegExp).join('|');\n\tif (emojisMatchGroup !== emoji.packages.emojiCustom._regexpSignature) {\n\t\temoji.packages.emojiCustom._regexpSignature = emojisMatchGroup;\n\t\temoji.packages.emojiCustom._regexp = new RegExp(\n\t\t\t`<object[^>]*>.*?<\\/object>|<span[^>]*>.*?<\\/span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(${emojisMatchGroup})`,\n\t\t\t'gi',\n\t\t);\n\t}\n\n\thtml = html.replace(emoji.packages.emojiCustom._regexp!, (shortname) => {\n\t\tif (typeof shortname === 'undefined' || shortname === '' || (emoji.packages.emojiCustom.list?.indexOf(shortname) ?? -1) === -1) {\n\t\t\treturn shortname;\n\t\t}\n\n\t\tlet emojiAlias = shortname.replace(/:/g, '');\n\n\t\tlet dataCheck = emoji.list[shortname];\n\t\tif (dataCheck.aliasOf) {\n\t\t\temojiAlias = dataCheck.aliasOf;\n\t\t\tdataCheck = emoji.list[`:${emojiAlias}:`];\n\t\t}\n\n\t\treturn `<span class=\"emoji\" style=\"background-image:url(${getEmojiUrlFromName(\n\t\t\temojiAlias,\n\t\t\tdataCheck.extension!,\n\t\t)});\" data-emoji=\"${emojiAlias}\" title=\"${shortname}\">${shortname}</span>`;\n\t});\n\n\treturn html;\n};\n\nemoji.packages.emojiCustom = {\n\temojiCategories: [{ key: 'rocket', i18n: 'Custom' }],\n\tcategoryIndex: 1,\n\ttoneList: {},\n\tlist: [],\n\t_regexpSignature: null,\n\t_regexp: null,\n\temojisByCategory: {},\n\trender: customRender,\n\trenderPicker: customRender,\n};\n\nMeteor.startup(() =>\n\tCachedCollectionManager.onLogin(async () => {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\temojis: { update: emojis },\n\t\t\t} = await sdk.rest.get('/v1/emoji-custom.list', { query: '' });\n\n\t\t\temoji.packages.emojiCustom.emojisByCategory = { rocket: [] };\n\t\t\tfor (const currentEmoji of emojis) {\n\t\t\t\temoji.packages.emojiCustom.emojisByCategory.rocket.push(currentEmoji.name);\n\t\t\t\temoji.packages.emojiCustom.list?.push(`:${currentEmoji.name}:`);\n\t\t\t\temoji.list[`:${currentEmoji.name}:`] = { ...currentEmoji, emojiPackage: 'emojiCustom' } as any;\n\t\t\t\tfor (const alias of currentEmoji.aliases) {\n\t\t\t\t\temoji.packages.emojiCustom.list?.push(`:${alias}:`);\n\t\t\t\t\temoji.list[`:${alias}:`] = {\n\t\t\t\t\t\temojiPackage: 'emojiCustom',\n\t\t\t\t\t\taliasOf: currentEmoji.name,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error('Error getting custom emoji', e);\n\t\t}\n\t}),\n);\n"]}}},"code":"let _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n}, 0);\nmodule.export({\n  deleteEmojiCustom: () => deleteEmojiCustom,\n  updateEmojiCustom: () => updateEmojiCustom\n});\nlet escapeRegExp;\nmodule.link(\"@rocket.chat/string-helpers\", {\n  escapeRegExp(v) {\n    escapeRegExp = v;\n  }\n}, 0);\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n}, 1);\nlet Session;\nmodule.link(\"meteor/session\", {\n  Session(v) {\n    Session = v;\n  }\n}, 2);\nlet emoji, removeFromRecent, replaceEmojiInRecent;\nmodule.link(\"../../../emoji/client\", {\n  emoji(v) {\n    emoji = v;\n  },\n  removeFromRecent(v) {\n    removeFromRecent = v;\n  },\n  replaceEmojiInRecent(v) {\n    replaceEmojiInRecent = v;\n  }\n}, 3);\nlet CachedCollectionManager;\nmodule.link(\"../../../ui-cached-collection/client\", {\n  CachedCollectionManager(v) {\n    CachedCollectionManager = v;\n  }\n}, 4);\nlet getURL;\nmodule.link(\"../../../utils/client\", {\n  getURL(v) {\n    getURL = v;\n  }\n}, 5);\nlet sdk;\nmodule.link(\"../../../utils/client/lib/SDKClient\", {\n  sdk(v) {\n    sdk = v;\n  }\n}, 6);\nconst isSetNotNull = fn => {\n  let value;\n  try {\n    value = fn();\n  } catch (e) {\n    value = null;\n  }\n  return value !== null && value !== undefined;\n};\nconst getEmojiUrlFromName = (name, extension) => {\n  var _Session$keys$key;\n  if (name == null) {\n    return;\n  }\n  const key = \"emoji_random_\".concat(name);\n  const random = (_Session$keys$key = Session.keys[key]) !== null && _Session$keys$key !== void 0 ? _Session$keys$key : 0;\n  return getURL(\"/emoji-custom/\".concat(encodeURIComponent(name), \".\").concat(extension, \"?_dc=\").concat(random));\n};\nconst deleteEmojiCustom = emojiData => {\n  var _emoji$packages$emoji, _emoji$packages$emoji2;\n  delete emoji.list[\":\".concat(emojiData.name, \":\")];\n  const arrayIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(emojiData.name);\n  if (arrayIndex !== -1) {\n    emoji.packages.emojiCustom.emojisByCategory.rocket.splice(arrayIndex, 1);\n  }\n  const arrayIndexList = (_emoji$packages$emoji = (_emoji$packages$emoji2 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji2 === void 0 ? void 0 : _emoji$packages$emoji2.indexOf(\":\".concat(emojiData.name, \":\"))) !== null && _emoji$packages$emoji !== void 0 ? _emoji$packages$emoji : -1;\n  if (arrayIndexList !== -1) {\n    var _emoji$packages$emoji3;\n    (_emoji$packages$emoji3 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji3 === void 0 ? void 0 : _emoji$packages$emoji3.splice(arrayIndexList, 1);\n  }\n  if (emojiData.aliases) {\n    for (const alias of emojiData.aliases) {\n      var _emoji$packages$emoji4, _emoji$packages$emoji5;\n      delete emoji.list[\":\".concat(alias, \":\")];\n      const aliasIndex = (_emoji$packages$emoji4 = (_emoji$packages$emoji5 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji5 === void 0 ? void 0 : _emoji$packages$emoji5.indexOf(\":\".concat(alias, \":\"))) !== null && _emoji$packages$emoji4 !== void 0 ? _emoji$packages$emoji4 : -1;\n      if (aliasIndex !== -1) {\n        var _emoji$packages$emoji6;\n        (_emoji$packages$emoji6 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji6 === void 0 ? void 0 : _emoji$packages$emoji6.splice(aliasIndex, 1);\n      }\n    }\n  }\n  removeFromRecent(emojiData.name, emoji.packages.base.emojisByCategory.recent);\n};\nconst updateEmojiCustom = emojiData => {\n  const previousExists = isSetNotNull(() => emojiData.previousName);\n  const currentAliases = isSetNotNull(() => emojiData.aliases);\n  if (previousExists && isSetNotNull(() => emoji.list[\":\".concat(emojiData.previousName, \":\")].aliases)) {\n    for (const alias of (_emoji$list$aliases = emoji.list[\":\".concat(emojiData.previousName, \":\")].aliases) !== null && _emoji$list$aliases !== void 0 ? _emoji$list$aliases : []) {\n      var _emoji$list$aliases, _emoji$packages$emoji7, _emoji$packages$emoji8;\n      delete emoji.list[\":\".concat(alias, \":\")];\n      const aliasIndex = (_emoji$packages$emoji7 = (_emoji$packages$emoji8 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji8 === void 0 ? void 0 : _emoji$packages$emoji8.indexOf(\":\".concat(alias, \":\"))) !== null && _emoji$packages$emoji7 !== void 0 ? _emoji$packages$emoji7 : -1;\n      if (aliasIndex !== -1) {\n        var _emoji$packages$emoji9;\n        (_emoji$packages$emoji9 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji9 === void 0 ? void 0 : _emoji$packages$emoji9.splice(aliasIndex, 1);\n      }\n    }\n  }\n  if (previousExists && emojiData.name !== emojiData.previousName) {\n    var _emoji$packages$emoji10, _emoji$packages$emoji11;\n    const arrayIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(emojiData.previousName);\n    if (arrayIndex !== -1) {\n      emoji.packages.emojiCustom.emojisByCategory.rocket.splice(arrayIndex, 1);\n    }\n    const arrayIndexList = (_emoji$packages$emoji10 = (_emoji$packages$emoji11 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji11 === void 0 ? void 0 : _emoji$packages$emoji11.indexOf(\":\".concat(emojiData.previousName, \":\"))) !== null && _emoji$packages$emoji10 !== void 0 ? _emoji$packages$emoji10 : -1;\n    if (arrayIndexList !== -1) {\n      var _emoji$packages$emoji12;\n      (_emoji$packages$emoji12 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji12 === void 0 ? void 0 : _emoji$packages$emoji12.splice(arrayIndexList, 1);\n    }\n    delete emoji.list[\":\".concat(emojiData.previousName, \":\")];\n  }\n  const categoryIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(\"\".concat(emojiData.name));\n  if (categoryIndex === -1) {\n    var _emoji$packages$emoji13;\n    emoji.packages.emojiCustom.emojisByCategory.rocket.push(\"\".concat(emojiData.name));\n    (_emoji$packages$emoji13 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji13 === void 0 ? void 0 : _emoji$packages$emoji13.push(\":\".concat(emojiData.name, \":\"));\n  }\n  emoji.list[\":\".concat(emojiData.name, \":\")] = Object.assign({\n    emojiPackage: 'emojiCustom'\n  }, emoji.list[\":\".concat(emojiData.name, \":\")], emojiData);\n  if (currentAliases) {\n    for (const alias of emojiData.aliases) {\n      var _emoji$packages$emoji14;\n      (_emoji$packages$emoji14 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji14 === void 0 ? void 0 : _emoji$packages$emoji14.push(\":\".concat(alias, \":\"));\n      emoji.list[\":\".concat(alias, \":\")] = {\n        emojiPackage: 'emojiCustom',\n        aliasOf: emojiData.name\n      };\n    }\n  }\n  if (previousExists) {\n    replaceEmojiInRecent({\n      oldEmoji: emojiData.previousName,\n      newEmoji: emojiData.name\n    });\n  }\n};\nconst customRender = html => {\n  var _emoji$packages$emoji15;\n  const emojisMatchGroup = (_emoji$packages$emoji15 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji15 === void 0 ? void 0 : _emoji$packages$emoji15.map(escapeRegExp).join('|');\n  if (emojisMatchGroup !== emoji.packages.emojiCustom._regexpSignature) {\n    emoji.packages.emojiCustom._regexpSignature = emojisMatchGroup;\n    emoji.packages.emojiCustom._regexp = new RegExp(\"<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(\".concat(emojisMatchGroup, \")\"), 'gi');\n  }\n  html = html.replace(emoji.packages.emojiCustom._regexp, shortname => {\n    var _emoji$packages$emoji16, _emoji$packages$emoji17;\n    if (typeof shortname === 'undefined' || shortname === '' || ((_emoji$packages$emoji16 = (_emoji$packages$emoji17 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji17 === void 0 ? void 0 : _emoji$packages$emoji17.indexOf(shortname)) !== null && _emoji$packages$emoji16 !== void 0 ? _emoji$packages$emoji16 : -1) === -1) {\n      return shortname;\n    }\n    let emojiAlias = shortname.replace(/:/g, '');\n    let dataCheck = emoji.list[shortname];\n    if (dataCheck.aliasOf) {\n      emojiAlias = dataCheck.aliasOf;\n      dataCheck = emoji.list[\":\".concat(emojiAlias, \":\")];\n    }\n    return \"<span class=\\\"emoji\\\" style=\\\"background-image:url(\".concat(getEmojiUrlFromName(emojiAlias, dataCheck.extension), \");\\\" data-emoji=\\\"\").concat(emojiAlias, \"\\\" title=\\\"\").concat(shortname, \"\\\">\").concat(shortname, \"</span>\");\n  });\n  return html;\n};\nemoji.packages.emojiCustom = {\n  emojiCategories: [{\n    key: 'rocket',\n    i18n: 'Custom'\n  }],\n  categoryIndex: 1,\n  toneList: {},\n  list: [],\n  _regexpSignature: null,\n  _regexp: null,\n  emojisByCategory: {},\n  render: customRender,\n  renderPicker: customRender\n};\nMeteor.startup(() => CachedCollectionManager.onLogin(async () => {\n  try {\n    const {\n      emojis: {\n        update: emojis\n      }\n    } = await sdk.rest.get('/v1/emoji-custom.list', {\n      query: ''\n    });\n    emoji.packages.emojiCustom.emojisByCategory = {\n      rocket: []\n    };\n    for (const currentEmoji of emojis) {\n      var _emoji$packages$emoji18;\n      emoji.packages.emojiCustom.emojisByCategory.rocket.push(currentEmoji.name);\n      (_emoji$packages$emoji18 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji18 === void 0 ? void 0 : _emoji$packages$emoji18.push(\":\".concat(currentEmoji.name, \":\"));\n      emoji.list[\":\".concat(currentEmoji.name, \":\")] = _objectSpread(_objectSpread({}, currentEmoji), {}, {\n        emojiPackage: 'emojiCustom'\n      });\n      for (const alias of currentEmoji.aliases) {\n        var _emoji$packages$emoji19;\n        (_emoji$packages$emoji19 = emoji.packages.emojiCustom.list) === null || _emoji$packages$emoji19 === void 0 ? void 0 : _emoji$packages$emoji19.push(\":\".concat(alias, \":\"));\n        emoji.list[\":\".concat(alias, \":\")] = {\n          emojiPackage: 'emojiCustom',\n          aliasOf: currentEmoji.name\n        };\n      }\n    }\n  } catch (e) {\n    console.error('Error getting custom emoji', e);\n  }\n}));","map":{"version":3,"names":["_objectSpread","module","link","default","v","export","deleteEmojiCustom","updateEmojiCustom","escapeRegExp","Meteor","Session","emoji","removeFromRecent","replaceEmojiInRecent","CachedCollectionManager","getURL","sdk","isSetNotNull","fn","value","e","undefined","getEmojiUrlFromName","name","extension","_Session$keys$key","key","concat","random","keys","encodeURIComponent","emojiData","_emoji$packages$emoji","_emoji$packages$emoji2","list","arrayIndex","packages","emojiCustom","emojisByCategory","rocket","indexOf","splice","arrayIndexList","_emoji$packages$emoji3","aliases","alias","_emoji$packages$emoji4","_emoji$packages$emoji5","aliasIndex","_emoji$packages$emoji6","base","recent","previousExists","previousName","currentAliases","_emoji$list$aliases","_emoji$packages$emoji7","_emoji$packages$emoji8","_emoji$packages$emoji9","_emoji$packages$emoji10","_emoji$packages$emoji11","_emoji$packages$emoji12","categoryIndex","_emoji$packages$emoji13","push","Object","assign","emojiPackage","_emoji$packages$emoji14","aliasOf","oldEmoji","newEmoji","customRender","html","_emoji$packages$emoji15","emojisMatchGroup","map","join","_regexpSignature","_regexp","RegExp","replace","shortname","_emoji$packages$emoji16","_emoji$packages$emoji17","emojiAlias","dataCheck","emojiCategories","i18n","toneList","render","renderPicker","startup","onLogin","emojis","update","rest","get","query","currentEmoji","_emoji$packages$emoji18","_emoji$packages$emoji19","console","error"],"sources":["app/emoji-custom/client/lib/emojiCustom.ts"],"sourcesContent":["import type { IEmoji } from '@rocket.chat/core-typings';\nimport { escapeRegExp } from '@rocket.chat/string-helpers';\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nimport { emoji, removeFromRecent, replaceEmojiInRecent } from '../../../emoji/client';\nimport { CachedCollectionManager } from '../../../ui-cached-collection/client';\nimport { getURL } from '../../../utils/client';\nimport { sdk } from '../../../utils/client/lib/SDKClient';\n\nconst isSetNotNull = (fn: () => unknown) => {\n\tlet value;\n\ttry {\n\t\tvalue = fn();\n\t} catch (e) {\n\t\tvalue = null;\n\t}\n\treturn value !== null && value !== undefined;\n};\n\nconst getEmojiUrlFromName = (name: string, extension: string) => {\n\tif (name == null) {\n\t\treturn;\n\t}\n\n\tconst key = `emoji_random_${name}` as const;\n\n\tconst random = (Session as unknown as { keys: Record<string, any> }).keys[key] ?? 0;\n\n\treturn getURL(`/emoji-custom/${encodeURIComponent(name)}.${extension}?_dc=${random}`);\n};\n\nexport const deleteEmojiCustom = (emojiData: IEmoji) => {\n\tdelete emoji.list[`:${emojiData.name}:`];\n\tconst arrayIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(emojiData.name);\n\tif (arrayIndex !== -1) {\n\t\temoji.packages.emojiCustom.emojisByCategory.rocket.splice(arrayIndex, 1);\n\t}\n\tconst arrayIndexList = emoji.packages.emojiCustom.list?.indexOf(`:${emojiData.name}:`) ?? -1;\n\tif (arrayIndexList !== -1) {\n\t\temoji.packages.emojiCustom.list?.splice(arrayIndexList, 1);\n\t}\n\tif (emojiData.aliases) {\n\t\tfor (const alias of emojiData.aliases) {\n\t\t\tdelete emoji.list[`:${alias}:`];\n\t\t\tconst aliasIndex = emoji.packages.emojiCustom.list?.indexOf(`:${alias}:`) ?? -1;\n\t\t\tif (aliasIndex !== -1) {\n\t\t\t\temoji.packages.emojiCustom.list?.splice(aliasIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tremoveFromRecent(emojiData.name, emoji.packages.base.emojisByCategory.recent);\n};\n\nexport const updateEmojiCustom = (emojiData: IEmoji) => {\n\tconst previousExists = isSetNotNull(() => emojiData.previousName);\n\tconst currentAliases = isSetNotNull(() => emojiData.aliases);\n\n\tif (previousExists && isSetNotNull(() => emoji.list[`:${emojiData.previousName}:`].aliases)) {\n\t\tfor (const alias of emoji.list[`:${emojiData.previousName}:`].aliases ?? []) {\n\t\t\tdelete emoji.list[`:${alias}:`];\n\t\t\tconst aliasIndex = emoji.packages.emojiCustom.list?.indexOf(`:${alias}:`) ?? -1;\n\t\t\tif (aliasIndex !== -1) {\n\t\t\t\temoji.packages.emojiCustom.list?.splice(aliasIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (previousExists && emojiData.name !== emojiData.previousName) {\n\t\tconst arrayIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(emojiData.previousName);\n\t\tif (arrayIndex !== -1) {\n\t\t\temoji.packages.emojiCustom.emojisByCategory.rocket.splice(arrayIndex, 1);\n\t\t}\n\t\tconst arrayIndexList = emoji.packages.emojiCustom.list?.indexOf(`:${emojiData.previousName}:`) ?? -1;\n\t\tif (arrayIndexList !== -1) {\n\t\t\temoji.packages.emojiCustom.list?.splice(arrayIndexList, 1);\n\t\t}\n\t\tdelete emoji.list[`:${emojiData.previousName}:`];\n\t}\n\n\tconst categoryIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(`${emojiData.name}`);\n\tif (categoryIndex === -1) {\n\t\temoji.packages.emojiCustom.emojisByCategory.rocket.push(`${emojiData.name}`);\n\t\temoji.packages.emojiCustom.list?.push(`:${emojiData.name}:`);\n\t}\n\temoji.list[`:${emojiData.name}:`] = Object.assign({ emojiPackage: 'emojiCustom' }, emoji.list[`:${emojiData.name}:`], emojiData);\n\tif (currentAliases) {\n\t\tfor (const alias of emojiData.aliases) {\n\t\t\temoji.packages.emojiCustom.list?.push(`:${alias}:`);\n\t\t\temoji.list[`:${alias}:`] = {\n\t\t\t\temojiPackage: 'emojiCustom',\n\t\t\t\taliasOf: emojiData.name,\n\t\t\t};\n\t\t}\n\t}\n\n\tif (previousExists) {\n\t\treplaceEmojiInRecent({ oldEmoji: emojiData.previousName, newEmoji: emojiData.name });\n\t}\n};\n\nconst customRender = (html: string) => {\n\tconst emojisMatchGroup = emoji.packages.emojiCustom.list?.map(escapeRegExp).join('|');\n\tif (emojisMatchGroup !== emoji.packages.emojiCustom._regexpSignature) {\n\t\temoji.packages.emojiCustom._regexpSignature = emojisMatchGroup;\n\t\temoji.packages.emojiCustom._regexp = new RegExp(\n\t\t\t`<object[^>]*>.*?<\\/object>|<span[^>]*>.*?<\\/span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(${emojisMatchGroup})`,\n\t\t\t'gi',\n\t\t);\n\t}\n\n\thtml = html.replace(emoji.packages.emojiCustom._regexp!, (shortname) => {\n\t\tif (typeof shortname === 'undefined' || shortname === '' || (emoji.packages.emojiCustom.list?.indexOf(shortname) ?? -1) === -1) {\n\t\t\treturn shortname;\n\t\t}\n\n\t\tlet emojiAlias = shortname.replace(/:/g, '');\n\n\t\tlet dataCheck = emoji.list[shortname];\n\t\tif (dataCheck.aliasOf) {\n\t\t\temojiAlias = dataCheck.aliasOf;\n\t\t\tdataCheck = emoji.list[`:${emojiAlias}:`];\n\t\t}\n\n\t\treturn `<span class=\"emoji\" style=\"background-image:url(${getEmojiUrlFromName(\n\t\t\temojiAlias,\n\t\t\tdataCheck.extension!,\n\t\t)});\" data-emoji=\"${emojiAlias}\" title=\"${shortname}\">${shortname}</span>`;\n\t});\n\n\treturn html;\n};\n\nemoji.packages.emojiCustom = {\n\temojiCategories: [{ key: 'rocket', i18n: 'Custom' }],\n\tcategoryIndex: 1,\n\ttoneList: {},\n\tlist: [],\n\t_regexpSignature: null,\n\t_regexp: null,\n\temojisByCategory: {},\n\trender: customRender,\n\trenderPicker: customRender,\n};\n\nMeteor.startup(() =>\n\tCachedCollectionManager.onLogin(async () => {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\temojis: { update: emojis },\n\t\t\t} = await sdk.rest.get('/v1/emoji-custom.list', { query: '' });\n\n\t\t\temoji.packages.emojiCustom.emojisByCategory = { rocket: [] };\n\t\t\tfor (const currentEmoji of emojis) {\n\t\t\t\temoji.packages.emojiCustom.emojisByCategory.rocket.push(currentEmoji.name);\n\t\t\t\temoji.packages.emojiCustom.list?.push(`:${currentEmoji.name}:`);\n\t\t\t\temoji.list[`:${currentEmoji.name}:`] = { ...currentEmoji, emojiPackage: 'emojiCustom' } as any;\n\t\t\t\tfor (const alias of currentEmoji.aliases) {\n\t\t\t\t\temoji.packages.emojiCustom.list?.push(`:${alias}:`);\n\t\t\t\t\temoji.list[`:${alias}:`] = {\n\t\t\t\t\t\temojiPackage: 'emojiCustom',\n\t\t\t\t\t\taliasOf: currentEmoji.name,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error('Error getting custom emoji', e);\n\t\t}\n\t}),\n);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"a4f117b5694ab7afd0909b0437ecd3482651c6e9"}
