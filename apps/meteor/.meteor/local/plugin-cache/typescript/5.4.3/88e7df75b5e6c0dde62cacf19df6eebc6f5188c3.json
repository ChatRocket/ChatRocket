{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/security/EndToEnd.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/account/security/EndToEnd.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/security/EndToEnd.tsx","inputSourceMap":{"version":3,"file":"client/views/account/security/EndToEnd.tsx","sourceRoot":"","sources":["client/views/account/security/EndToEnd.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, PasswordInput, Field, FieldGroup, FieldLabel, FieldRow, FieldError, FieldHint, Button, Divider } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useTranslation, useLogout } from '@rocket.chat/ui-contexts';\nimport { Accounts } from 'meteor/accounts-base';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { useCallback, useEffect } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\n\nimport { e2e } from '../../../../app/e2e/client/rocketchat.e2e';\n\nconst EndToEnd = (props: ComponentProps<typeof Box>): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst logout = useLogout();\n\n\tconst publicKey = Accounts.storageLocation.getItem('public_key');\n\tconst privateKey = Accounts.storageLocation.getItem('private_key');\n\n\tconst resetE2eKey = useMethod('e2e.resetOwnE2EKey');\n\n\tconst {\n\t\thandleSubmit,\n\t\twatch,\n\t\tresetField,\n\t\tformState: { errors, isValid },\n\t\tcontrol,\n\t} = useForm({\n\t\tdefaultValues: {\n\t\t\tpassword: '',\n\t\t\tpasswordConfirm: '',\n\t\t},\n\t\tmode: 'all',\n\t});\n\n\tconst { password } = watch();\n\n\tconst keysExist = Boolean(publicKey && privateKey);\n\n\tconst hasTypedPassword = Boolean(password?.trim().length);\n\n\tconst saveNewPassword = async (data: { password: string; passwordConfirm: string }) => {\n\t\ttry {\n\t\t\tawait e2e.changePassword(data.password);\n\t\t\tresetField('password');\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Encryption_key_saved_successfully') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst handleResetE2eKey = useCallback(async () => {\n\t\ttry {\n\t\t\tconst result = await resetE2eKey();\n\t\t\tif (result) {\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_e2e_key_was_reset') });\n\t\t\t\tlogout();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, resetE2eKey, logout, t]);\n\n\tuseEffect(() => {\n\t\tif (password?.trim() === '') {\n\t\t\tresetField('passwordConfirm');\n\t\t}\n\t}, [password, resetField]);\n\n\tconst passwordId = useUniqueId();\n\tconst e2ePasswordExplanationId = useUniqueId();\n\tconst passwordConfirmId = useUniqueId();\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' alignItems='flex-start' {...props}>\n\t\t\t<Box\n\t\t\t\tis='p'\n\t\t\t\tfontScale='p1'\n\t\t\t\tid={e2ePasswordExplanationId}\n\t\t\t\tdangerouslySetInnerHTML={{ __html: t('E2E_Encryption_Password_Explanation') }}\n\t\t\t/>\n\n\t\t\t<Box mbs={36} w='full'>\n\t\t\t\t<Box is='h4' fontScale='h4' mbe={12}>\n\t\t\t\t\t{t('E2E_Encryption_Password_Change')}\n\t\t\t\t</Box>\n\n\t\t\t\t<FieldGroup w='full'>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel htmlFor={passwordId}>{t('New_encryption_password')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('New_encryption_password') }) }}\n\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\tid={passwordId}\n\t\t\t\t\t\t\t\t\t\terror={errors.password?.message}\n\t\t\t\t\t\t\t\t\t\tplaceholder={t('New_Password_Placeholder')}\n\t\t\t\t\t\t\t\t\t\tdisabled={!keysExist}\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${e2ePasswordExplanationId} ${passwordId}-hint ${passwordId}-error`}\n\t\t\t\t\t\t\t\t\t\taria-invalid={errors.password ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{!keysExist && <FieldHint id={`${passwordId}-hint`}>{t('EncryptionKey_Change_Disabled')}</FieldHint>}\n\t\t\t\t\t\t{errors?.password && (\n\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${passwordId}-error`}>\n\t\t\t\t\t\t\t\t{errors.password.message}\n\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Field>\n\t\t\t\t\t{hasTypedPassword && (\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={passwordConfirmId}>{t('Confirm_new_encryption_password')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='passwordConfirm'\n\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Confirm_new_encryption_password') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (value: string) => (password !== value ? 'Your passwords do no match' : true),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tid={passwordConfirmId}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.passwordConfirm?.message}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Confirm_New_Password_Placeholder')}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${passwordConfirmId}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={errors.password ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.passwordConfirm && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${passwordConfirmId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.passwordConfirm.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t)}\n\t\t\t\t</FieldGroup>\n\t\t\t\t<Button\n\t\t\t\t\tprimary\n\t\t\t\t\tdisabled={!(keysExist && isValid)}\n\t\t\t\t\tonClick={handleSubmit(saveNewPassword)}\n\t\t\t\t\tmbs={12}\n\t\t\t\t\tdata-qa-type='e2e-encryption-save-password-button'\n\t\t\t\t>\n\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\n\t\t\t<Divider mb={36} width='full' />\n\n\t\t\t<Box>\n\t\t\t\t<Box is='h4' fontScale='h4' mbe={12}>\n\t\t\t\t\t{t('Reset_E2E_Key')}\n\t\t\t\t</Box>\n\t\t\t\t<Box is='p' fontScale='p1' mbe={12} dangerouslySetInnerHTML={{ __html: t('E2E_Reset_Key_Explanation') }} />\n\t\t\t\t<Button onClick={handleResetE2eKey} data-qa-type='e2e-encryption-reset-key-button'>\n\t\t\t\t\t{t('Reset_E2E_Key')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default EndToEnd;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/account/security/EndToEnd.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/account/security/EndToEnd.tsx","inputSourceMap":{"version":3,"file":"client/views/account/security/EndToEnd.tsx","sourceRoot":"","sources":["client/views/account/security/EndToEnd.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, PasswordInput, Field, FieldGroup, FieldLabel, FieldRow, FieldError, FieldHint, Button, Divider } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useTranslation, useLogout } from '@rocket.chat/ui-contexts';\nimport { Accounts } from 'meteor/accounts-base';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { useCallback, useEffect } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\n\nimport { e2e } from '../../../../app/e2e/client/rocketchat.e2e';\n\nconst EndToEnd = (props: ComponentProps<typeof Box>): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst logout = useLogout();\n\n\tconst publicKey = Accounts.storageLocation.getItem('public_key');\n\tconst privateKey = Accounts.storageLocation.getItem('private_key');\n\n\tconst resetE2eKey = useMethod('e2e.resetOwnE2EKey');\n\n\tconst {\n\t\thandleSubmit,\n\t\twatch,\n\t\tresetField,\n\t\tformState: { errors, isValid },\n\t\tcontrol,\n\t} = useForm({\n\t\tdefaultValues: {\n\t\t\tpassword: '',\n\t\t\tpasswordConfirm: '',\n\t\t},\n\t\tmode: 'all',\n\t});\n\n\tconst { password } = watch();\n\n\tconst keysExist = Boolean(publicKey && privateKey);\n\n\tconst hasTypedPassword = Boolean(password?.trim().length);\n\n\tconst saveNewPassword = async (data: { password: string; passwordConfirm: string }) => {\n\t\ttry {\n\t\t\tawait e2e.changePassword(data.password);\n\t\t\tresetField('password');\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Encryption_key_saved_successfully') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst handleResetE2eKey = useCallback(async () => {\n\t\ttry {\n\t\t\tconst result = await resetE2eKey();\n\t\t\tif (result) {\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_e2e_key_was_reset') });\n\t\t\t\tlogout();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, resetE2eKey, logout, t]);\n\n\tuseEffect(() => {\n\t\tif (password?.trim() === '') {\n\t\t\tresetField('passwordConfirm');\n\t\t}\n\t}, [password, resetField]);\n\n\tconst passwordId = useUniqueId();\n\tconst e2ePasswordExplanationId = useUniqueId();\n\tconst passwordConfirmId = useUniqueId();\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' alignItems='flex-start' {...props}>\n\t\t\t<Box\n\t\t\t\tis='p'\n\t\t\t\tfontScale='p1'\n\t\t\t\tid={e2ePasswordExplanationId}\n\t\t\t\tdangerouslySetInnerHTML={{ __html: t('E2E_Encryption_Password_Explanation') }}\n\t\t\t/>\n\n\t\t\t<Box mbs={36} w='full'>\n\t\t\t\t<Box is='h4' fontScale='h4' mbe={12}>\n\t\t\t\t\t{t('E2E_Encryption_Password_Change')}\n\t\t\t\t</Box>\n\n\t\t\t\t<FieldGroup w='full'>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel htmlFor={passwordId}>{t('New_encryption_password')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('New_encryption_password') }) }}\n\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\tid={passwordId}\n\t\t\t\t\t\t\t\t\t\terror={errors.password?.message}\n\t\t\t\t\t\t\t\t\t\tplaceholder={t('New_Password_Placeholder')}\n\t\t\t\t\t\t\t\t\t\tdisabled={!keysExist}\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${e2ePasswordExplanationId} ${passwordId}-hint ${passwordId}-error`}\n\t\t\t\t\t\t\t\t\t\taria-invalid={errors.password ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{!keysExist && <FieldHint id={`${passwordId}-hint`}>{t('EncryptionKey_Change_Disabled')}</FieldHint>}\n\t\t\t\t\t\t{errors?.password && (\n\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${passwordId}-error`}>\n\t\t\t\t\t\t\t\t{errors.password.message}\n\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Field>\n\t\t\t\t\t{hasTypedPassword && (\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={passwordConfirmId}>{t('Confirm_new_encryption_password')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='passwordConfirm'\n\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Confirm_new_encryption_password') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (value: string) => (password !== value ? 'Your passwords do no match' : true),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tid={passwordConfirmId}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.passwordConfirm?.message}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Confirm_New_Password_Placeholder')}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${passwordConfirmId}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={errors.password ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.passwordConfirm && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${passwordConfirmId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.passwordConfirm.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t)}\n\t\t\t\t</FieldGroup>\n\t\t\t\t<Button\n\t\t\t\t\tprimary\n\t\t\t\t\tdisabled={!(keysExist && isValid)}\n\t\t\t\t\tonClick={handleSubmit(saveNewPassword)}\n\t\t\t\t\tmbs={12}\n\t\t\t\t\tdata-qa-type='e2e-encryption-save-password-button'\n\t\t\t\t>\n\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\n\t\t\t<Divider mb={36} width='full' />\n\n\t\t\t<Box>\n\t\t\t\t<Box is='h4' fontScale='h4' mbe={12}>\n\t\t\t\t\t{t('Reset_E2E_Key')}\n\t\t\t\t</Box>\n\t\t\t\t<Box is='p' fontScale='p1' mbe={12} dangerouslySetInnerHTML={{ __html: t('E2E_Reset_Key_Explanation') }} />\n\t\t\t\t<Button onClick={handleResetE2eKey} data-qa-type='e2e-encryption-reset-key-button'>\n\t\t\t\t\t{t('Reset_E2E_Key')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default EndToEnd;\n"]}}},"code":"let _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet Box, PasswordInput, Field, FieldGroup, FieldLabel, FieldRow, FieldError, FieldHint, Button, Divider;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box(v) {\n    Box = v;\n  },\n  PasswordInput(v) {\n    PasswordInput = v;\n  },\n  Field(v) {\n    Field = v;\n  },\n  FieldGroup(v) {\n    FieldGroup = v;\n  },\n  FieldLabel(v) {\n    FieldLabel = v;\n  },\n  FieldRow(v) {\n    FieldRow = v;\n  },\n  FieldError(v) {\n    FieldError = v;\n  },\n  FieldHint(v) {\n    FieldHint = v;\n  },\n  Button(v) {\n    Button = v;\n  },\n  Divider(v) {\n    Divider = v;\n  }\n}, 0);\nlet useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useUniqueId(v) {\n    useUniqueId = v;\n  }\n}, 1);\nlet useToastMessageDispatch, useMethod, useTranslation, useLogout;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch(v) {\n    useToastMessageDispatch = v;\n  },\n  useMethod(v) {\n    useMethod = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  },\n  useLogout(v) {\n    useLogout = v;\n  }\n}, 2);\nlet Accounts;\nmodule.link(\"meteor/accounts-base\", {\n  Accounts(v) {\n    Accounts = v;\n  }\n}, 3);\nlet React, useCallback, useEffect;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useCallback(v) {\n    useCallback = v;\n  },\n  useEffect(v) {\n    useEffect = v;\n  }\n}, 4);\nlet Controller, useForm;\nmodule.link(\"react-hook-form\", {\n  Controller(v) {\n    Controller = v;\n  },\n  useForm(v) {\n    useForm = v;\n  }\n}, 5);\nlet e2e;\nmodule.link(\"../../../../app/e2e/client/rocketchat.e2e\", {\n  e2e(v) {\n    e2e = v;\n  }\n}, 6);\nconst EndToEnd = props => {\n  const t = useTranslation();\n  const dispatchToastMessage = useToastMessageDispatch();\n  const logout = useLogout();\n  const publicKey = Accounts.storageLocation.getItem('public_key');\n  const privateKey = Accounts.storageLocation.getItem('private_key');\n  const resetE2eKey = useMethod('e2e.resetOwnE2EKey');\n  const {\n    handleSubmit,\n    watch,\n    resetField,\n    formState: {\n      errors,\n      isValid\n    },\n    control\n  } = useForm({\n    defaultValues: {\n      password: '',\n      passwordConfirm: ''\n    },\n    mode: 'all'\n  });\n  const {\n    password\n  } = watch();\n  const keysExist = Boolean(publicKey && privateKey);\n  const hasTypedPassword = Boolean(password === null || password === void 0 ? void 0 : password.trim().length);\n  const saveNewPassword = async data => {\n    try {\n      await e2e.changePassword(data.password);\n      resetField('password');\n      dispatchToastMessage({\n        type: 'success',\n        message: t('Encryption_key_saved_successfully')\n      });\n    } catch (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    }\n  };\n  const handleResetE2eKey = useCallback(async () => {\n    try {\n      const result = await resetE2eKey();\n      if (result) {\n        dispatchToastMessage({\n          type: 'success',\n          message: t('User_e2e_key_was_reset')\n        });\n        logout();\n      }\n    } catch (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    }\n  }, [dispatchToastMessage, resetE2eKey, logout, t]);\n  useEffect(() => {\n    if ((password === null || password === void 0 ? void 0 : password.trim()) === '') {\n      resetField('passwordConfirm');\n    }\n  }, [password, resetField]);\n  const passwordId = useUniqueId();\n  const e2ePasswordExplanationId = useUniqueId();\n  const passwordConfirmId = useUniqueId();\n  return /*#__PURE__*/React.createElement(Box, _extends({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\"\n  }, props), /*#__PURE__*/React.createElement(Box, {\n    is: \"p\",\n    fontScale: \"p1\",\n    id: e2ePasswordExplanationId,\n    dangerouslySetInnerHTML: {\n      __html: t('E2E_Encryption_Password_Explanation')\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    mbs: 36,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    is: \"h4\",\n    fontScale: \"h4\",\n    mbe: 12\n  }, t('E2E_Encryption_Password_Change')), /*#__PURE__*/React.createElement(FieldGroup, {\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: passwordId\n  }, t('New_encryption_password')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"password\",\n    rules: {\n      required: t('Required_field', {\n        field: t('New_encryption_password')\n      })\n    },\n    render: _ref => {\n      var _errors$password;\n      let {\n        field\n      } = _ref;\n      return /*#__PURE__*/React.createElement(PasswordInput, _extends({}, field, {\n        id: passwordId,\n        error: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message,\n        placeholder: t('New_Password_Placeholder'),\n        disabled: !keysExist,\n        \"aria-describedby\": \"\".concat(e2ePasswordExplanationId, \" \").concat(passwordId, \"-hint \").concat(passwordId, \"-error\"),\n        \"aria-invalid\": errors.password ? 'true' : 'false'\n      }));\n    }\n  })), !keysExist && /*#__PURE__*/React.createElement(FieldHint, {\n    id: \"\".concat(passwordId, \"-hint\")\n  }, t('EncryptionKey_Change_Disabled')), (errors === null || errors === void 0 ? void 0 : errors.password) && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: \"\".concat(passwordId, \"-error\")\n  }, errors.password.message)), hasTypedPassword && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: passwordConfirmId\n  }, t('Confirm_new_encryption_password')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"passwordConfirm\",\n    rules: {\n      required: t('Required_field', {\n        field: t('Confirm_new_encryption_password')\n      }),\n      validate: value => password !== value ? 'Your passwords do no match' : true\n    },\n    render: _ref2 => {\n      var _errors$passwordConfi;\n      let {\n        field\n      } = _ref2;\n      return /*#__PURE__*/React.createElement(PasswordInput, _extends({}, field, {\n        id: passwordConfirmId,\n        error: (_errors$passwordConfi = errors.passwordConfirm) === null || _errors$passwordConfi === void 0 ? void 0 : _errors$passwordConfi.message,\n        placeholder: t('Confirm_New_Password_Placeholder'),\n        \"aria-describedby\": \"\".concat(passwordConfirmId, \"-error\"),\n        \"aria-invalid\": errors.password ? 'true' : 'false'\n      }));\n    }\n  })), errors.passwordConfirm && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: \"\".concat(passwordConfirmId, \"-error\")\n  }, errors.passwordConfirm.message))), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    disabled: !(keysExist && isValid),\n    onClick: handleSubmit(saveNewPassword),\n    mbs: 12,\n    \"data-qa-type\": \"e2e-encryption-save-password-button\"\n  }, t('Save_changes'))), /*#__PURE__*/React.createElement(Divider, {\n    mb: 36,\n    width: \"full\"\n  }), /*#__PURE__*/React.createElement(Box, null, /*#__PURE__*/React.createElement(Box, {\n    is: \"h4\",\n    fontScale: \"h4\",\n    mbe: 12\n  }, t('Reset_E2E_Key')), /*#__PURE__*/React.createElement(Box, {\n    is: \"p\",\n    fontScale: \"p1\",\n    mbe: 12,\n    dangerouslySetInnerHTML: {\n      __html: t('E2E_Reset_Key_Explanation')\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleResetE2eKey,\n    \"data-qa-type\": \"e2e-encryption-reset-key-button\"\n  }, t('Reset_E2E_Key'))));\n};\nmodule.exportDefault(EndToEnd);","map":{"version":3,"names":["_extends","module","link","default","v","Box","PasswordInput","Field","FieldGroup","FieldLabel","FieldRow","FieldError","FieldHint","Button","Divider","useUniqueId","useToastMessageDispatch","useMethod","useTranslation","useLogout","Accounts","React","useCallback","useEffect","Controller","useForm","e2e","EndToEnd","props","t","dispatchToastMessage","logout","publicKey","storageLocation","getItem","privateKey","resetE2eKey","handleSubmit","watch","resetField","formState","errors","isValid","control","defaultValues","password","passwordConfirm","mode","keysExist","Boolean","hasTypedPassword","trim","length","saveNewPassword","data","changePassword","type","message","error","handleResetE2eKey","result","passwordId","e2ePasswordExplanationId","passwordConfirmId","createElement","display","flexDirection","alignItems","is","fontScale","id","dangerouslySetInnerHTML","__html","mbs","w","mbe","htmlFor","name","rules","required","field","render","_ref","_errors$password","placeholder","disabled","concat","validate","value","_ref2","_errors$passwordConfi","primary","onClick","mb","width","exportDefault"],"sources":["client/views/account/security/EndToEnd.tsx"],"sourcesContent":["import { Box, PasswordInput, Field, FieldGroup, FieldLabel, FieldRow, FieldError, FieldHint, Button, Divider } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useTranslation, useLogout } from '@rocket.chat/ui-contexts';\nimport { Accounts } from 'meteor/accounts-base';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { useCallback, useEffect } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\n\nimport { e2e } from '../../../../app/e2e/client/rocketchat.e2e';\n\nconst EndToEnd = (props: ComponentProps<typeof Box>): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst logout = useLogout();\n\n\tconst publicKey = Accounts.storageLocation.getItem('public_key');\n\tconst privateKey = Accounts.storageLocation.getItem('private_key');\n\n\tconst resetE2eKey = useMethod('e2e.resetOwnE2EKey');\n\n\tconst {\n\t\thandleSubmit,\n\t\twatch,\n\t\tresetField,\n\t\tformState: { errors, isValid },\n\t\tcontrol,\n\t} = useForm({\n\t\tdefaultValues: {\n\t\t\tpassword: '',\n\t\t\tpasswordConfirm: '',\n\t\t},\n\t\tmode: 'all',\n\t});\n\n\tconst { password } = watch();\n\n\tconst keysExist = Boolean(publicKey && privateKey);\n\n\tconst hasTypedPassword = Boolean(password?.trim().length);\n\n\tconst saveNewPassword = async (data: { password: string; passwordConfirm: string }) => {\n\t\ttry {\n\t\t\tawait e2e.changePassword(data.password);\n\t\t\tresetField('password');\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Encryption_key_saved_successfully') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst handleResetE2eKey = useCallback(async () => {\n\t\ttry {\n\t\t\tconst result = await resetE2eKey();\n\t\t\tif (result) {\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_e2e_key_was_reset') });\n\t\t\t\tlogout();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, resetE2eKey, logout, t]);\n\n\tuseEffect(() => {\n\t\tif (password?.trim() === '') {\n\t\t\tresetField('passwordConfirm');\n\t\t}\n\t}, [password, resetField]);\n\n\tconst passwordId = useUniqueId();\n\tconst e2ePasswordExplanationId = useUniqueId();\n\tconst passwordConfirmId = useUniqueId();\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' alignItems='flex-start' {...props}>\n\t\t\t<Box\n\t\t\t\tis='p'\n\t\t\t\tfontScale='p1'\n\t\t\t\tid={e2ePasswordExplanationId}\n\t\t\t\tdangerouslySetInnerHTML={{ __html: t('E2E_Encryption_Password_Explanation') }}\n\t\t\t/>\n\n\t\t\t<Box mbs={36} w='full'>\n\t\t\t\t<Box is='h4' fontScale='h4' mbe={12}>\n\t\t\t\t\t{t('E2E_Encryption_Password_Change')}\n\t\t\t\t</Box>\n\n\t\t\t\t<FieldGroup w='full'>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel htmlFor={passwordId}>{t('New_encryption_password')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('New_encryption_password') }) }}\n\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\tid={passwordId}\n\t\t\t\t\t\t\t\t\t\terror={errors.password?.message}\n\t\t\t\t\t\t\t\t\t\tplaceholder={t('New_Password_Placeholder')}\n\t\t\t\t\t\t\t\t\t\tdisabled={!keysExist}\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${e2ePasswordExplanationId} ${passwordId}-hint ${passwordId}-error`}\n\t\t\t\t\t\t\t\t\t\taria-invalid={errors.password ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{!keysExist && <FieldHint id={`${passwordId}-hint`}>{t('EncryptionKey_Change_Disabled')}</FieldHint>}\n\t\t\t\t\t\t{errors?.password && (\n\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${passwordId}-error`}>\n\t\t\t\t\t\t\t\t{errors.password.message}\n\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Field>\n\t\t\t\t\t{hasTypedPassword && (\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={passwordConfirmId}>{t('Confirm_new_encryption_password')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='passwordConfirm'\n\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Confirm_new_encryption_password') }),\n\t\t\t\t\t\t\t\t\t\tvalidate: (value: string) => (password !== value ? 'Your passwords do no match' : true),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tid={passwordConfirmId}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.passwordConfirm?.message}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Confirm_New_Password_Placeholder')}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${passwordConfirmId}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={errors.password ? 'true' : 'false'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.passwordConfirm && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${passwordConfirmId}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.passwordConfirm.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t)}\n\t\t\t\t</FieldGroup>\n\t\t\t\t<Button\n\t\t\t\t\tprimary\n\t\t\t\t\tdisabled={!(keysExist && isValid)}\n\t\t\t\t\tonClick={handleSubmit(saveNewPassword)}\n\t\t\t\t\tmbs={12}\n\t\t\t\t\tdata-qa-type='e2e-encryption-save-password-button'\n\t\t\t\t>\n\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\n\t\t\t<Divider mb={36} width='full' />\n\n\t\t\t<Box>\n\t\t\t\t<Box is='h4' fontScale='h4' mbe={12}>\n\t\t\t\t\t{t('Reset_E2E_Key')}\n\t\t\t\t</Box>\n\t\t\t\t<Box is='p' fontScale='p1' mbe={12} dangerouslySetInnerHTML={{ __html: t('E2E_Reset_Key_Explanation') }} />\n\t\t\t\t<Button onClick={handleResetE2eKey} data-qa-type='e2e-encryption-reset-key-button'>\n\t\t\t\t\t{t('Reset_E2E_Key')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default EndToEnd;\n"],"mappings":"AAAA,IAAAA,QAAY;AAAAC,MAAE,CAAAC,IAAA,iCAAkC,EAAU;EAAAC,OAAEA,CAAAC,CAAQ;IAAEJ,QAAA,GAAAI,CAAU;EAAA;AAAA,CAAE;AAAlF,IAAAC,GAAO,EAAAC,aAAO,EAAAC,KAAa,EAAAC,UAAS,EAAAC,UAAY,EAAAC,QAAU,EAAAC,UAAU,EAAEC,SAAA,EAAUC,MAAE,EAAAC,OAAW;AAAAb,MAAQ,CAAAC,IAAA,wBAAe;EAAAG,IAAAD,CAAA;IAAuBC,GAAC,GAAAD,CAAA;EAAA;EAAAE,cAAAF,CAAA;IAAAE,aAAA,GAAAF,CAAA;EAAA;EAAAG,MAAAH,CAAA;IAAAG,KAAA,GAAAH,CAAA;EAAA;EAAAI,WAAAJ,CAAA;IAAAI,UAAA,GAAAJ,CAAA;EAAA;EAAAK,WAAAL,CAAA;IAAAK,UAAA,GAAAL,CAAA;EAAA;EAAAM,SAAAN,CAAA;IAAAM,QAAA,GAAAN,CAAA;EAAA;EAAAO,WAAAP,CAAA;IAAAO,UAAA,GAAAP,CAAA;EAAA;EAAAQ,UAAAR,CAAA;IAAAQ,SAAA,GAAAR,CAAA;EAAA;EAAAS,OAAAT,CAAA;IAAAS,MAAA,GAAAT,CAAA;EAAA;EAAAU,QAAAV,CAAA;IAAAU,OAAA,GAAAV,CAAA;EAAA;AAAA;AAAA,IAAAW,WAAA;AAAAd,MAAA,CAAAC,IAAA;EAAAa,YAAAX,CAAA;IAAAW,WAAA,GAAAX,CAAA;EAAA;AAAA;AAAA,IAAAY,uBAAA,EAAAC,SAAA,EAAAC,cAAA,EAAAC,SAAA;AAAAlB,MAAA,CAAAC,IAAA;EAAAc,wBAAAZ,CAAA;IAAAY,uBAAA,GAAAZ,CAAA;EAAA;EAAAa,UAAAb,CAAA;IAAAa,SAAA,GAAAb,CAAA;EAAA;EAAAc,eAAAd,CAAA;IAAAc,cAAA,GAAAd,CAAA;EAAA;EAAAe,UAAAf,CAAA;IAAAe,SAAA,GAAAf,CAAA;EAAA;AAAA;AAAA,IAAAgB,QAAA;AAAAnB,MAAA,CAAAC,IAAA;EAAAkB,SAAAhB,CAAA;IAAAgB,QAAA,GAAAhB,CAAA;EAAA;AAAA;AAAA,IAAAiB,KAAA,EAAAC,WAAA,EAAAC,SAAA;AAAAtB,MAAA,CAAAC,IAAA;EAAAC,QAAAC,CAAA;IAAAiB,KAAA,GAAAjB,CAAA;EAAA;EAAAkB,YAAAlB,CAAA;IAAAkB,WAAA,GAAAlB,CAAA;EAAA;EAAAmB,UAAAnB,CAAA;IAAAmB,SAAA,GAAAnB,CAAA;EAAA;AAAA;AAAA,IAAAoB,UAAA,EAAAC,OAAA;AAAAxB,MAAA,CAAAC,IAAA;EAAAsB,WAAApB,CAAA;IAAAoB,UAAA,GAAApB,CAAA;EAAA;EAAAqB,QAAArB,CAAA;IAAAqB,OAAA,GAAArB,CAAA;EAAA;AAAA;AAAA,IAAAsB,GAAA;AAAAzB,MAAA,CAAAC,IAAA;EAAAwB,IAAAtB,CAAA;IAAAsB,GAAA,GAAAtB,CAAA;EAAA;AAAA;AAU5I,MAAMuB,QAAQ,GAAIC,KAAiC,IAAkB;EACpE,MAAMC,CAAC,GAAGX,cAAc,EAAE;EAC1B,MAAMY,oBAAoB,GAAGd,uBAAuB,EAAE;EACtD,MAAMe,MAAM,GAAGZ,SAAS,EAAE;EAE1B,MAAMa,SAAS,GAAGZ,QAAQ,CAACa,eAAe,CAACC,OAAO,CAAC,YAAY,CAAC;EAChE,MAAMC,UAAU,GAAGf,QAAQ,CAACa,eAAe,CAACC,OAAO,CAAC,aAAa,CAAC;EAElE,MAAME,WAAW,GAAGnB,SAAS,CAAC,oBAAoB,CAAC;EAEnD,MAAM;IACLoB,YAAY;IACZC,KAAK;IACLC,UAAU;IACVC,SAAS,EAAE;MAAEC,MAAM;MAAEC;IAAO,CAAE;IAC9BC;EAAO,CACP,GAAGlB,OAAO,CAAC;IACXmB,aAAa,EAAE;MACdC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE;KACjB;IACDC,IAAI,EAAE;GACN,CAAC;EAEF,MAAM;IAAEF;EAAQ,CAAE,GAAGP,KAAK,EAAE;EAE5B,MAAMU,SAAS,GAAGC,OAAO,CAACjB,SAAS,IAAIG,UAAU,CAAC;EAElD,MAAMe,gBAAgB,GAAGD,OAAO,CAACJ,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEM,IAAI,EAAE,CAACC,MAAM,CAAC;EAEzD,MAAMC,eAAe,GAAG,MAAOC,IAAmD,IAAI;IACrF,IAAI;MACH,MAAM5B,GAAG,CAAC6B,cAAc,CAACD,IAAI,CAACT,QAAQ,CAAC;MACvCN,UAAU,CAAC,UAAU,CAAC;MACtBT,oBAAoB,CAAC;QAAE0B,IAAI,EAAE,SAAS;QAAEC,OAAO,EAAE5B,CAAC,CAAC,mCAAmC;MAAC,CAAE,CAAC;IAC3F,CAAC,CAAC,OAAO6B,KAAK,EAAE;MACf5B,oBAAoB,CAAC;QAAE0B,IAAI,EAAE,OAAO;QAAEC,OAAO,EAAEC;MAAK,CAAE,CAAC;IACxD;EACD,CAAC;EAED,MAAMC,iBAAiB,GAAGrC,WAAW,CAAC,YAAW;IAChD,IAAI;MACH,MAAMsC,MAAM,GAAG,MAAMxB,WAAW,EAAE;MAClC,IAAIwB,MAAM,EAAE;QACX9B,oBAAoB,CAAC;UAAE0B,IAAI,EAAE,SAAS;UAAEC,OAAO,EAAE5B,CAAC,CAAC,wBAAwB;QAAC,CAAE,CAAC;QAC/EE,MAAM,EAAE;MACT;IACD,CAAC,CAAC,OAAO2B,KAAK,EAAE;MACf5B,oBAAoB,CAAC;QAAE0B,IAAI,EAAE,OAAO;QAAEC,OAAO,EAAEC;MAAK,CAAE,CAAC;IACxD;EACD,CAAC,EAAE,CAAC5B,oBAAoB,EAAEM,WAAW,EAAEL,MAAM,EAAEF,CAAC,CAAC,CAAC;EAElDN,SAAS,CAAC,MAAK;IACd,IAAI,CAAAsB,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEM,IAAI,EAAE,MAAK,EAAE,EAAE;MAC5BZ,UAAU,CAAC,iBAAiB,CAAC;IAC9B;EACD,CAAC,EAAE,CAACM,QAAQ,EAAEN,UAAU,CAAC,CAAC;EAE1B,MAAMsB,UAAU,GAAG9C,WAAW,EAAE;EAChC,MAAM+C,wBAAwB,GAAG/C,WAAW,EAAE;EAC9C,MAAMgD,iBAAiB,GAAGhD,WAAW,EAAE;EAEvC,oBACCM,KAAA,CAAA2C,aAAA,CAAC3D,GAAG,EAAAL,QAAA;IAACiE,OAAO,EAAC,MAAM;IAACC,aAAa,EAAC,QAAQ;IAACC,UAAU,EAAC;EAAY,GAAKvC,KAAK,gBAC3EP,KAAA,CAAA2C,aAAA,CAAC3D,GAAG;IACH+D,EAAE,EAAC,GAAG;IACNC,SAAS,EAAC,IAAI;IACdC,EAAE,EAAER,wBAAyB;IAC7BS,uBAAuB,EAAE;MAAEC,MAAM,EAAE3C,CAAC,CAAC,qCAAqC;IAAC;EAAG,EAG/E,eAAAR,KAAA,CAAA2C,aAAA,CAAC3D,GAAG;IAACoE,GAAG,EAAE,EAAG;IAACC,CAAC,EAAC;EAAM,gBACrBrD,KAAA,CAAA2C,aAAA,CAAC3D,GAAG;IAAC+D,EAAE,EAAC,IAAI;IAACC,SAAS,EAAC,IAAI;IAACM,GAAG,EAAE;EAAG,GAClC9C,CAAC,CAAC,gCAAgC,CAC/B,CAEL,eAAAR,KAAA,CAAA2C,aAAA,CAACxD,UAAU;IAACkE,CAAC,EAAC;EAAM,gBACnBrD,KAAA,CAAA2C,aAAA,CAACzD,KAAK,qBACLc,KAAA,CAAA2C,aAAA,CAACvD,UAAU;IAACmE,OAAO,EAAEf;EAAW,GAAEhC,CAAC,CAAC,yBAAyB,CAAc,CAC3E,eAAAR,KAAA,CAAA2C,aAAA,CAACtD,QAAQ,qBACRW,KAAA,CAAA2C,aAAA,CAACxC,UAAU;IACVmB,OAAO,EAAEA,OAAQ;IACjBkC,IAAI,EAAC,UAAU;IACfC,KAAK,EAAE;MAAEC,QAAQ,EAAElD,CAAC,CAAC,gBAAgB,EAAE;QAAEmD,KAAK,EAAEnD,CAAC,CAAC,yBAAyB;MAAC,CAAE;IAAC,CAAG;IAClFoD,MAAM,EAAEC,IAAA;MAAA,IAAAC,gBAAA;MAAA,IAAC;QAAEH;MAAK,CAAE,GAAAE,IAAA;MAAA,oBACjB7D,KAAA,CAAA2C,aAAA,CAAC1D,aAAa,EAAAN,QAAA,KACTgF,KAAK;QACTV,EAAE,EAAET,UAAW;QACfH,KAAK,GAAAyB,gBAAA,GAAE1C,MAAM,CAACI,QAAQ,cAAAsC,gBAAA,uBAAfA,gBAAA,CAAiB1B,OAAQ;QAChC2B,WAAW,EAAEvD,CAAC,CAAC,0BAA0B,CAAE;QAC3CwD,QAAQ,EAAE,CAACrC,SAAU;QACrB,uBAAAsC,MAAA,CAAqBxB,wBAAwB,OAAAwB,MAAA,CAAIzB,UAAU,YAAAyB,MAAA,CAASzB,UAAU,WAAS;QACvF,gBAAcpB,MAAM,CAACI,QAAQ,GAAG,MAAM,GAAG;MAAQ,GAChD;IAAA;EACD,EAEM,CACV,EAAC,CAACG,SAAS,iBAAI3B,KAAA,CAAA2C,aAAA,CAACpD,SAAS;IAAC0D,EAAE,KAAAgB,MAAA,CAAKzB,UAAU;EAAQ,GAAEhC,CAAC,CAAC,+BAA+B,CAAa,CAAC,EACnG,CAAAY,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEI,QAAQ,kBAChBxB,KAAA,CAAA2C,aAAA,CAACrD,UAAU;IAAC,aAAU,WAAW;IAAC2D,EAAE,KAAAgB,MAAA,CAAKzB,UAAU;EAAS,GAC1DpB,MAAM,CAACI,QAAQ,CAACY,OACN,CAEP,CACP,EAACP,gBAAgB,iBAChB7B,KAAA,CAAA2C,aAAA,CAACzD,KAAK,qBACLc,KAAA,CAAA2C,aAAA,CAACvD,UAAU;IAACmE,OAAO,EAAEb;EAAkB,GAAElC,CAAC,CAAC,iCAAiC,CAAc,CAC1F,eAAAR,KAAA,CAAA2C,aAAA,CAACtD,QAAQ,qBACRW,KAAA,CAAA2C,aAAA,CAACxC,UAAU;IACVmB,OAAO,EAAEA,OAAQ;IACjBkC,IAAI,EAAC,iBAAiB;IACtBC,KAAK,EAAE;MACNC,QAAQ,EAAElD,CAAC,CAAC,gBAAgB,EAAE;QAAEmD,KAAK,EAAEnD,CAAC,CAAC,iCAAiC;MAAC,CAAE,CAAC;MAC9E0D,QAAQ,EAAGC,KAAa,IAAM3C,QAAQ,KAAK2C,KAAK,GAAG,4BAA4B,GAAG;KACjF;IACFP,MAAM,EAAEQ,KAAA;MAAA,IAAAC,qBAAA;MAAA,IAAC;QAAEV;MAAK,CAAE,GAAAS,KAAA;MAAA,oBACjBpE,KAAA,CAAA2C,aAAA,CAAC1D,aAAa,EAAAN,QAAA,KACTgF,KAAK;QACTV,EAAE,EAAEP,iBAAkB;QACtBL,KAAK,GAAAgC,qBAAA,GAAEjD,MAAM,CAACK,eAAe,cAAA4C,qBAAA,uBAAtBA,qBAAA,CAAwBjC,OAAQ;QACvC2B,WAAW,EAAEvD,CAAC,CAAC,kCAAkC,CAAE;QACnD,uBAAAyD,MAAA,CAAqBvB,iBAAiB,WAAS;QAC/C,gBAActB,MAAM,CAACI,QAAQ,GAAG,MAAM,GAAG;MAAQ,GAChD;IAAA;EACD,EAEM,CACV,EAACJ,MAAM,CAACK,eAAe,iBACtBzB,KAAA,CAAA2C,aAAA,CAACrD,UAAU;IAAC,aAAU,WAAW;IAAC2D,EAAE,KAAAgB,MAAA,CAAKvB,iBAAiB;EAAS,GACjEtB,MAAM,CAACK,eAAe,CAACW,OACb,CAEP,CAEG,CACZ,eAAApC,KAAA,CAAA2C,aAAA,CAACnD,MAAM;IACN8E,OAAO;IACPN,QAAQ,EAAE,EAAErC,SAAS,IAAIN,OAAO,CAAE;IAClCkD,OAAO,EAAEvD,YAAY,CAACgB,eAAe,CAAE;IACvCoB,GAAG,EAAE,EAAG;IACR,gBAAa;EAAqC,GAEjD5C,CAAC,CAAC,cAAc,CACV,CACJ,CAEL,eAAAR,KAAA,CAAA2C,aAAA,CAAClD,OAAO;IAAC+E,EAAE,EAAE,EAAG;IAACC,KAAK,EAAC;EAAM,EAE7B,eAAAzE,KAAA,CAAA2C,aAAA,CAAC3D,GAAG,qBACHgB,KAAA,CAAA2C,aAAA,CAAC3D,GAAG;IAAC+D,EAAE,EAAC,IAAI;IAACC,SAAS,EAAC,IAAI;IAACM,GAAG,EAAE;EAAG,GAClC9C,CAAC,CAAC,eAAe,CACd,CACL,eAAAR,KAAA,CAAA2C,aAAA,CAAC3D,GAAG;IAAC+D,EAAE,EAAC,GAAG;IAACC,SAAS,EAAC,IAAI;IAACM,GAAG,EAAE,EAAG;IAACJ,uBAAuB,EAAE;MAAEC,MAAM,EAAE3C,CAAC,CAAC,2BAA2B;IAAC;EAAG,EACxG,eAAAR,KAAA,CAAA2C,aAAA,CAACnD,MAAM;IAAC+E,OAAO,EAAEjC,iBAAkB;IAAC,gBAAa;EAAiC,GAChF9B,CAAC,CAAC,eAAe,CACX,CACJ,CACD,CAAC;AAER,CAAC;AAzKD5B,MAAA,CAAO8F,aAAO,CA2KCpE,QA3KD","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"88e7df75b5e6c0dde62cacf19df6eebc6f5188c3"}
