{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/ImageGallery/ImageGallery.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/components/ImageGallery/ImageGallery.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/ImageGallery/ImageGallery.tsx","inputSourceMap":{"version":3,"file":"client/components/ImageGallery/ImageGallery.tsx","sourceRoot":"","sources":["client/components/ImageGallery/ImageGallery.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IUpload } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Box, ButtonGroup, IconButton, Palette, Throbber } from '@rocket.chat/fuselage';\nimport React, { useRef, useState } from 'react';\nimport { FocusScope } from 'react-aria';\nimport { createPortal } from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Keyboard, Navigation, Zoom, A11y } from 'swiper';\nimport type { SwiperClass, SwiperRef } from 'swiper/react';\nimport { Swiper, SwiperSlide } from 'swiper/react';\n\n// Import Swiper styles\nimport 'swiper/swiper.css';\nimport 'swiper/modules/navigation/navigation.min.css';\nimport 'swiper/modules/keyboard/keyboard.min.css';\nimport 'swiper/modules/zoom/zoom.min.css';\n\nimport { usePreventPropagation } from '../../hooks/usePreventPropagation';\n\nconst swiperStyle = css`\n\t.swiper {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t.swiper-container {\n\t\tposition: absolute;\n\t\tz-index: 99;\n\t\ttop: 0;\n\n\t\toverflow: hidden;\n\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\tbackground-color: var(--rcx-color-surface-overlay, rgba(0, 0, 0, 0.6));\n\t}\n\n\t.rcx-swiper-close-button,\n\t.rcx-swiper-prev-button,\n\t.rcx-swiper-next-button {\n\t\tcolor: var(--rcx-color-font-pure-white, #ffffff) !important;\n\t}\n\n\t.rcx-swiper-prev-button,\n\t.rcx-swiper-next-button {\n\t\tposition: absolute;\n\t\tz-index: 10;\n\t\ttop: 50%;\n\n\t\tcursor: pointer;\n\t}\n\n\t.rcx-swiper-prev-button.swiper-button-disabled,\n\t.rcx-swiper-next-button.swiper-button-disabled {\n\t\tcursor: auto;\n\t\tpointer-events: none;\n\n\t\topacity: 0.35;\n\t}\n\n\t.rcx-swiper-prev-button.swiper-button-hidden,\n\t.rcx-swiper-next-button.swiper-button-hidden {\n\t\tcursor: auto;\n\t\tpointer-events: none;\n\n\t\topacity: 0;\n\t}\n\n\t.rcx-swiper-prev-button,\n\t.swiper-rtl .rcx-swiper-next-button {\n\t\tright: auto;\n\t\tleft: 10px;\n\t}\n\n\t.rcx-swiper-next-button,\n\t.swiper-rtl .rcx-swiper-prev-button {\n\t\tright: 10px;\n\t\tleft: auto;\n\t}\n\n\t.rcx-lazy-preloader {\n\t\tposition: absolute;\n\t\tz-index: -1;\n\t\tleft: 50%;\n\t\ttop: 50%;\n\n\t\ttransform: translate(-50%, -50%);\n\n\t\tcolor: ${Palette.text['font-pure-white']};\n\t}\n\n\t.rcx-swiper-controls {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tpadding: 10px;\n\t\tz-index: 2;\n\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\ttransition: background-color 0.2s;\n\t\t&:hover {\n\t\t\tbackground-color: ${Palette.surface['surface-overlay']};\n\t\t\ttransition: background-color 0.2s;\n\t\t}\n\t}\n`;\n\nexport const ImageGallery = ({ images, onClose, loadMore }: { images: IUpload[]; onClose: () => void; loadMore?: () => void }) => {\n\tconst { t } = useTranslation();\n\tconst swiperRef = useRef<SwiperRef>(null);\n\tconst [, setSwiperInst] = useState<SwiperClass>();\n\tconst [zoomScale, setZoomScale] = useState(1);\n\tconst [gridSize, setGridSize] = useState(images.length);\n\n\tconst handleZoom = (ratio: number) => {\n\t\tif (swiperRef.current?.swiper.zoom) {\n\t\t\tconst { scale, in: zoomIn } = swiperRef.current?.swiper.zoom;\n\t\t\tsetZoomScale(scale + ratio);\n\t\t\treturn zoomIn(scale + ratio);\n\t\t}\n\t};\n\n\tconst handleZoomIn = () => handleZoom(1);\n\tconst handleZoomOut = () => handleZoom(-1);\n\tconst handleResize = () => handleZoom(-(zoomScale - 1));\n\n\tconst preventPropagation = usePreventPropagation();\n\n\treturn createPortal(\n\t\t<FocusScope contain autoFocus>\n\t\t\t<Box role='dialog' aria-modal='true' aria-label={t('Image_gallery')} className={swiperStyle}>\n\t\t\t\t<div role='presentation' className='swiper-container' onClick={onClose}>\n\t\t\t\t\t<ButtonGroup role='toolbar' className='rcx-swiper-controls' onClick={preventPropagation}>\n\t\t\t\t\t\t{zoomScale !== 1 && (\n\t\t\t\t\t\t\t<IconButton name='resize' small icon='arrow-collapse' title={t('Resize')} rcx-swiper-zoom-out onClick={handleResize} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tname='zoom-out'\n\t\t\t\t\t\t\tsmall\n\t\t\t\t\t\t\ticon='h-bar'\n\t\t\t\t\t\t\ttitle={t('Zoom_out')}\n\t\t\t\t\t\t\trcx-swiper-zoom-out\n\t\t\t\t\t\t\tonClick={handleZoomOut}\n\t\t\t\t\t\t\tdisabled={zoomScale === 1}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<IconButton name='zoom-in' small icon='plus' title={t('Zoom_in')} rcx-swiper-zoom-in onClick={handleZoomIn} />\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tname='close'\n\t\t\t\t\t\t\tsmall\n\t\t\t\t\t\t\ticon='cross'\n\t\t\t\t\t\t\taria-label={t('Close_gallery')}\n\t\t\t\t\t\t\tclassName='rcx-swiper-close-button'\n\t\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t<IconButton icon='chevron-right' aria-label={t('Next_image')} className='rcx-swiper-prev-button' onClick={preventPropagation} />\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\ticon='chevron-left'\n\t\t\t\t\t\taria-label={t('Previous_image')}\n\t\t\t\t\t\tclassName='rcx-swiper-next-button'\n\t\t\t\t\t\tonClick={preventPropagation}\n\t\t\t\t\t/>\n\t\t\t\t\t<Swiper\n\t\t\t\t\t\tref={swiperRef}\n\t\t\t\t\t\tnavigation={{\n\t\t\t\t\t\t\tnextEl: '.rcx-swiper-next-button',\n\t\t\t\t\t\t\tprevEl: '.rcx-swiper-prev-button',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tkeyboard\n\t\t\t\t\t\tzoom={{ toggle: false }}\n\t\t\t\t\t\tlazyPreloaderClass='rcx-lazy-preloader'\n\t\t\t\t\t\trunCallbacksOnInit\n\t\t\t\t\t\tonKeyPress={(_, keyCode) => String(keyCode) === '27' && onClose()}\n\t\t\t\t\t\tmodules={[Navigation, Zoom, Keyboard, A11y]}\n\t\t\t\t\t\tonInit={(swiper) => setSwiperInst(swiper)}\n\t\t\t\t\t\tonSlidesGridLengthChange={(swiper) => {\n\t\t\t\t\t\t\tswiper.slideTo(images.length - gridSize, 0);\n\t\t\t\t\t\t\tsetGridSize(images.length);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonReachBeginning={loadMore}\n\t\t\t\t\t\tinitialSlide={images.length - 1}\n\t\t\t\t\t>\n\t\t\t\t\t\t{[...images].reverse().map(({ _id, path, url }) => (\n\t\t\t\t\t\t\t<SwiperSlide key={_id}>\n\t\t\t\t\t\t\t\t<div className='swiper-zoom-container'>\n\t\t\t\t\t\t\t\t\t{/* eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\tjsx-a11y/no-noninteractive-element-interactions,\n\t\t\t\t\t\t\t\t\t\tjsx-a11y/click-events-have-key-events\n\t\t\t\t\t\t\t\t\t*/}\n\t\t\t\t\t\t\t\t\t<img src={path || url} loading='lazy' alt='' data-qa-zoom-scale={zoomScale} onClick={preventPropagation} />\n\t\t\t\t\t\t\t\t\t<div className='rcx-lazy-preloader'>\n\t\t\t\t\t\t\t\t\t\t<Throbber inheritColor />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</SwiperSlide>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Swiper>\n\t\t\t\t</div>\n\t\t\t</Box>\n\t\t</FocusScope>,\n\t\tdocument.body,\n\t);\n};\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/ImageGallery/ImageGallery.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/components/ImageGallery/ImageGallery.tsx","inputSourceMap":{"version":3,"file":"client/components/ImageGallery/ImageGallery.tsx","sourceRoot":"","sources":["client/components/ImageGallery/ImageGallery.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IUpload } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Box, ButtonGroup, IconButton, Palette, Throbber } from '@rocket.chat/fuselage';\nimport React, { useRef, useState } from 'react';\nimport { FocusScope } from 'react-aria';\nimport { createPortal } from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Keyboard, Navigation, Zoom, A11y } from 'swiper';\nimport type { SwiperClass, SwiperRef } from 'swiper/react';\nimport { Swiper, SwiperSlide } from 'swiper/react';\n\n// Import Swiper styles\nimport 'swiper/swiper.css';\nimport 'swiper/modules/navigation/navigation.min.css';\nimport 'swiper/modules/keyboard/keyboard.min.css';\nimport 'swiper/modules/zoom/zoom.min.css';\n\nimport { usePreventPropagation } from '../../hooks/usePreventPropagation';\n\nconst swiperStyle = css`\n\t.swiper {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t.swiper-container {\n\t\tposition: absolute;\n\t\tz-index: 99;\n\t\ttop: 0;\n\n\t\toverflow: hidden;\n\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\tbackground-color: var(--rcx-color-surface-overlay, rgba(0, 0, 0, 0.6));\n\t}\n\n\t.rcx-swiper-close-button,\n\t.rcx-swiper-prev-button,\n\t.rcx-swiper-next-button {\n\t\tcolor: var(--rcx-color-font-pure-white, #ffffff) !important;\n\t}\n\n\t.rcx-swiper-prev-button,\n\t.rcx-swiper-next-button {\n\t\tposition: absolute;\n\t\tz-index: 10;\n\t\ttop: 50%;\n\n\t\tcursor: pointer;\n\t}\n\n\t.rcx-swiper-prev-button.swiper-button-disabled,\n\t.rcx-swiper-next-button.swiper-button-disabled {\n\t\tcursor: auto;\n\t\tpointer-events: none;\n\n\t\topacity: 0.35;\n\t}\n\n\t.rcx-swiper-prev-button.swiper-button-hidden,\n\t.rcx-swiper-next-button.swiper-button-hidden {\n\t\tcursor: auto;\n\t\tpointer-events: none;\n\n\t\topacity: 0;\n\t}\n\n\t.rcx-swiper-prev-button,\n\t.swiper-rtl .rcx-swiper-next-button {\n\t\tright: auto;\n\t\tleft: 10px;\n\t}\n\n\t.rcx-swiper-next-button,\n\t.swiper-rtl .rcx-swiper-prev-button {\n\t\tright: 10px;\n\t\tleft: auto;\n\t}\n\n\t.rcx-lazy-preloader {\n\t\tposition: absolute;\n\t\tz-index: -1;\n\t\tleft: 50%;\n\t\ttop: 50%;\n\n\t\ttransform: translate(-50%, -50%);\n\n\t\tcolor: ${Palette.text['font-pure-white']};\n\t}\n\n\t.rcx-swiper-controls {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tpadding: 10px;\n\t\tz-index: 2;\n\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\ttransition: background-color 0.2s;\n\t\t&:hover {\n\t\t\tbackground-color: ${Palette.surface['surface-overlay']};\n\t\t\ttransition: background-color 0.2s;\n\t\t}\n\t}\n`;\n\nexport const ImageGallery = ({ images, onClose, loadMore }: { images: IUpload[]; onClose: () => void; loadMore?: () => void }) => {\n\tconst { t } = useTranslation();\n\tconst swiperRef = useRef<SwiperRef>(null);\n\tconst [, setSwiperInst] = useState<SwiperClass>();\n\tconst [zoomScale, setZoomScale] = useState(1);\n\tconst [gridSize, setGridSize] = useState(images.length);\n\n\tconst handleZoom = (ratio: number) => {\n\t\tif (swiperRef.current?.swiper.zoom) {\n\t\t\tconst { scale, in: zoomIn } = swiperRef.current?.swiper.zoom;\n\t\t\tsetZoomScale(scale + ratio);\n\t\t\treturn zoomIn(scale + ratio);\n\t\t}\n\t};\n\n\tconst handleZoomIn = () => handleZoom(1);\n\tconst handleZoomOut = () => handleZoom(-1);\n\tconst handleResize = () => handleZoom(-(zoomScale - 1));\n\n\tconst preventPropagation = usePreventPropagation();\n\n\treturn createPortal(\n\t\t<FocusScope contain autoFocus>\n\t\t\t<Box role='dialog' aria-modal='true' aria-label={t('Image_gallery')} className={swiperStyle}>\n\t\t\t\t<div role='presentation' className='swiper-container' onClick={onClose}>\n\t\t\t\t\t<ButtonGroup role='toolbar' className='rcx-swiper-controls' onClick={preventPropagation}>\n\t\t\t\t\t\t{zoomScale !== 1 && (\n\t\t\t\t\t\t\t<IconButton name='resize' small icon='arrow-collapse' title={t('Resize')} rcx-swiper-zoom-out onClick={handleResize} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tname='zoom-out'\n\t\t\t\t\t\t\tsmall\n\t\t\t\t\t\t\ticon='h-bar'\n\t\t\t\t\t\t\ttitle={t('Zoom_out')}\n\t\t\t\t\t\t\trcx-swiper-zoom-out\n\t\t\t\t\t\t\tonClick={handleZoomOut}\n\t\t\t\t\t\t\tdisabled={zoomScale === 1}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<IconButton name='zoom-in' small icon='plus' title={t('Zoom_in')} rcx-swiper-zoom-in onClick={handleZoomIn} />\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tname='close'\n\t\t\t\t\t\t\tsmall\n\t\t\t\t\t\t\ticon='cross'\n\t\t\t\t\t\t\taria-label={t('Close_gallery')}\n\t\t\t\t\t\t\tclassName='rcx-swiper-close-button'\n\t\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t<IconButton icon='chevron-right' aria-label={t('Next_image')} className='rcx-swiper-prev-button' onClick={preventPropagation} />\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\ticon='chevron-left'\n\t\t\t\t\t\taria-label={t('Previous_image')}\n\t\t\t\t\t\tclassName='rcx-swiper-next-button'\n\t\t\t\t\t\tonClick={preventPropagation}\n\t\t\t\t\t/>\n\t\t\t\t\t<Swiper\n\t\t\t\t\t\tref={swiperRef}\n\t\t\t\t\t\tnavigation={{\n\t\t\t\t\t\t\tnextEl: '.rcx-swiper-next-button',\n\t\t\t\t\t\t\tprevEl: '.rcx-swiper-prev-button',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tkeyboard\n\t\t\t\t\t\tzoom={{ toggle: false }}\n\t\t\t\t\t\tlazyPreloaderClass='rcx-lazy-preloader'\n\t\t\t\t\t\trunCallbacksOnInit\n\t\t\t\t\t\tonKeyPress={(_, keyCode) => String(keyCode) === '27' && onClose()}\n\t\t\t\t\t\tmodules={[Navigation, Zoom, Keyboard, A11y]}\n\t\t\t\t\t\tonInit={(swiper) => setSwiperInst(swiper)}\n\t\t\t\t\t\tonSlidesGridLengthChange={(swiper) => {\n\t\t\t\t\t\t\tswiper.slideTo(images.length - gridSize, 0);\n\t\t\t\t\t\t\tsetGridSize(images.length);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonReachBeginning={loadMore}\n\t\t\t\t\t\tinitialSlide={images.length - 1}\n\t\t\t\t\t>\n\t\t\t\t\t\t{[...images].reverse().map(({ _id, path, url }) => (\n\t\t\t\t\t\t\t<SwiperSlide key={_id}>\n\t\t\t\t\t\t\t\t<div className='swiper-zoom-container'>\n\t\t\t\t\t\t\t\t\t{/* eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\tjsx-a11y/no-noninteractive-element-interactions,\n\t\t\t\t\t\t\t\t\t\tjsx-a11y/click-events-have-key-events\n\t\t\t\t\t\t\t\t\t*/}\n\t\t\t\t\t\t\t\t\t<img src={path || url} loading='lazy' alt='' data-qa-zoom-scale={zoomScale} onClick={preventPropagation} />\n\t\t\t\t\t\t\t\t\t<div className='rcx-lazy-preloader'>\n\t\t\t\t\t\t\t\t\t\t<Throbber inheritColor />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</SwiperSlide>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Swiper>\n\t\t\t\t</div>\n\t\t\t</Box>\n\t\t</FocusScope>,\n\t\tdocument.body,\n\t);\n};\n"]}}},"code":"var _templateObject;\nvar _toConsumableArray;\nmodule.link(\"@babel/runtime/helpers/toConsumableArray\", {\n  default: function (v) {\n    _toConsumableArray = v;\n  }\n}, 0);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nvar _taggedTemplateLiteralLoose;\nmodule.link(\"@babel/runtime/helpers/taggedTemplateLiteralLoose\", {\n  default: function (v) {\n    _taggedTemplateLiteralLoose = v;\n  }\n}, 2);\nmodule.export({\n  ImageGallery: function () {\n    return ImageGallery;\n  }\n});\nvar css;\nmodule.link(\"@rocket.chat/css-in-js\", {\n  css: function (v) {\n    css = v;\n  }\n}, 0);\nvar Box, ButtonGroup, IconButton, Palette, Throbber;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  IconButton: function (v) {\n    IconButton = v;\n  },\n  Palette: function (v) {\n    Palette = v;\n  },\n  Throbber: function (v) {\n    Throbber = v;\n  }\n}, 1);\nvar React, useRef, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useRef: function (v) {\n    useRef = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 2);\nvar FocusScope;\nmodule.link(\"react-aria\", {\n  FocusScope: function (v) {\n    FocusScope = v;\n  }\n}, 3);\nvar createPortal;\nmodule.link(\"react-dom\", {\n  createPortal: function (v) {\n    createPortal = v;\n  }\n}, 4);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 5);\nvar Keyboard, Navigation, Zoom, A11y;\nmodule.link(\"swiper\", {\n  Keyboard: function (v) {\n    Keyboard = v;\n  },\n  Navigation: function (v) {\n    Navigation = v;\n  },\n  Zoom: function (v) {\n    Zoom = v;\n  },\n  A11y: function (v) {\n    A11y = v;\n  }\n}, 6);\nvar Swiper, SwiperSlide;\nmodule.link(\"swiper/react\", {\n  Swiper: function (v) {\n    Swiper = v;\n  },\n  SwiperSlide: function (v) {\n    SwiperSlide = v;\n  }\n}, 7);\nmodule.link(\"swiper/swiper.css\");\nmodule.link(\"swiper/modules/navigation/navigation.min.css\");\nmodule.link(\"swiper/modules/keyboard/keyboard.min.css\");\nmodule.link(\"swiper/modules/zoom/zoom.min.css\");\nvar usePreventPropagation;\nmodule.link(\"../../hooks/usePreventPropagation\", {\n  usePreventPropagation: function (v) {\n    usePreventPropagation = v;\n  }\n}, 8);\nvar swiperStyle = css(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n\\t.swiper {\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t}\\n\\t.swiper-container {\\n\\t\\tposition: absolute;\\n\\t\\tz-index: 99;\\n\\t\\ttop: 0;\\n\\n\\t\\toverflow: hidden;\\n\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\n\\t\\tbackground-color: var(--rcx-color-surface-overlay, rgba(0, 0, 0, 0.6));\\n\\t}\\n\\n\\t.rcx-swiper-close-button,\\n\\t.rcx-swiper-prev-button,\\n\\t.rcx-swiper-next-button {\\n\\t\\tcolor: var(--rcx-color-font-pure-white, #ffffff) !important;\\n\\t}\\n\\n\\t.rcx-swiper-prev-button,\\n\\t.rcx-swiper-next-button {\\n\\t\\tposition: absolute;\\n\\t\\tz-index: 10;\\n\\t\\ttop: 50%;\\n\\n\\t\\tcursor: pointer;\\n\\t}\\n\\n\\t.rcx-swiper-prev-button.swiper-button-disabled,\\n\\t.rcx-swiper-next-button.swiper-button-disabled {\\n\\t\\tcursor: auto;\\n\\t\\tpointer-events: none;\\n\\n\\t\\topacity: 0.35;\\n\\t}\\n\\n\\t.rcx-swiper-prev-button.swiper-button-hidden,\\n\\t.rcx-swiper-next-button.swiper-button-hidden {\\n\\t\\tcursor: auto;\\n\\t\\tpointer-events: none;\\n\\n\\t\\topacity: 0;\\n\\t}\\n\\n\\t.rcx-swiper-prev-button,\\n\\t.swiper-rtl .rcx-swiper-next-button {\\n\\t\\tright: auto;\\n\\t\\tleft: 10px;\\n\\t}\\n\\n\\t.rcx-swiper-next-button,\\n\\t.swiper-rtl .rcx-swiper-prev-button {\\n\\t\\tright: 10px;\\n\\t\\tleft: auto;\\n\\t}\\n\\n\\t.rcx-lazy-preloader {\\n\\t\\tposition: absolute;\\n\\t\\tz-index: -1;\\n\\t\\tleft: 50%;\\n\\t\\ttop: 50%;\\n\\n\\t\\ttransform: translate(-50%, -50%);\\n\\n\\t\\tcolor: \", \";\\n\\t}\\n\\n\\t.rcx-swiper-controls {\\n\\t\\tposition: absolute;\\n\\t\\ttop: 0;\\n\\t\\tright: 0;\\n\\t\\tpadding: 10px;\\n\\t\\tz-index: 2;\\n\\n\\t\\twidth: 100%;\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: flex-end;\\n\\t\\ttransition: background-color 0.2s;\\n\\t\\t&:hover {\\n\\t\\t\\tbackground-color: \", \";\\n\\t\\t\\ttransition: background-color 0.2s;\\n\\t\\t}\\n\\t}\\n\"])), Palette.text['font-pure-white'], Palette.surface['surface-overlay']);\nvar ImageGallery = function (_ref) {\n  var images = _ref.images,\n    onClose = _ref.onClose,\n    loadMore = _ref.loadMore;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var swiperRef = useRef(null);\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    setSwiperInst = _useState2[1];\n  var _useState3 = useState(1),\n    _useState4 = _slicedToArray(_useState3, 2),\n    zoomScale = _useState4[0],\n    setZoomScale = _useState4[1];\n  var _useState5 = useState(images.length),\n    _useState6 = _slicedToArray(_useState5, 2),\n    gridSize = _useState6[0],\n    setGridSize = _useState6[1];\n  var handleZoom = function (ratio) {\n    var _swiperRef$current;\n    if ((_swiperRef$current = swiperRef.current) !== null && _swiperRef$current !== void 0 && _swiperRef$current.swiper.zoom) {\n      var _swiperRef$current2;\n      var _swiperRef$current$sw = (_swiperRef$current2 = swiperRef.current) === null || _swiperRef$current2 === void 0 ? void 0 : _swiperRef$current2.swiper.zoom,\n        scale = _swiperRef$current$sw.scale,\n        zoomIn = _swiperRef$current$sw.in;\n      setZoomScale(scale + ratio);\n      return zoomIn(scale + ratio);\n    }\n  };\n  var handleZoomIn = function () {\n    return handleZoom(1);\n  };\n  var handleZoomOut = function () {\n    return handleZoom(-1);\n  };\n  var handleResize = function () {\n    return handleZoom(-(zoomScale - 1));\n  };\n  var preventPropagation = usePreventPropagation();\n  return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(FocusScope, {\n    contain: true,\n    autoFocus: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-label\": t('Image_gallery'),\n    className: swiperStyle\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    role: \"presentation\",\n    className: \"swiper-container\",\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    role: \"toolbar\",\n    className: \"rcx-swiper-controls\",\n    onClick: preventPropagation\n  }, zoomScale !== 1 && /*#__PURE__*/React.createElement(IconButton, {\n    name: \"resize\",\n    small: true,\n    icon: \"arrow-collapse\",\n    title: t('Resize'),\n    \"rcx-swiper-zoom-out\": true,\n    onClick: handleResize\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    name: \"zoom-out\",\n    small: true,\n    icon: \"h-bar\",\n    title: t('Zoom_out'),\n    \"rcx-swiper-zoom-out\": true,\n    onClick: handleZoomOut,\n    disabled: zoomScale === 1\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    name: \"zoom-in\",\n    small: true,\n    icon: \"plus\",\n    title: t('Zoom_in'),\n    \"rcx-swiper-zoom-in\": true,\n    onClick: handleZoomIn\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    name: \"close\",\n    small: true,\n    icon: \"cross\",\n    \"aria-label\": t('Close_gallery'),\n    className: \"rcx-swiper-close-button\",\n    onClick: onClose\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    icon: \"chevron-right\",\n    \"aria-label\": t('Next_image'),\n    className: \"rcx-swiper-prev-button\",\n    onClick: preventPropagation\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    icon: \"chevron-left\",\n    \"aria-label\": t('Previous_image'),\n    className: \"rcx-swiper-next-button\",\n    onClick: preventPropagation\n  }), /*#__PURE__*/React.createElement(Swiper, {\n    ref: swiperRef,\n    navigation: {\n      nextEl: '.rcx-swiper-next-button',\n      prevEl: '.rcx-swiper-prev-button'\n    },\n    keyboard: true,\n    zoom: {\n      toggle: false\n    },\n    lazyPreloaderClass: \"rcx-lazy-preloader\",\n    runCallbacksOnInit: true,\n    onKeyPress: function (_, keyCode) {\n      return String(keyCode) === '27' && onClose();\n    },\n    modules: [Navigation, Zoom, Keyboard, A11y],\n    onInit: function (swiper) {\n      return setSwiperInst(swiper);\n    },\n    onSlidesGridLengthChange: function (swiper) {\n      swiper.slideTo(images.length - gridSize, 0);\n      setGridSize(images.length);\n    },\n    onReachBeginning: loadMore,\n    initialSlide: images.length - 1\n  }, _toConsumableArray(images).reverse().map(function (_ref2) {\n    var _id = _ref2._id,\n      path = _ref2.path,\n      url = _ref2.url;\n    return /*#__PURE__*/React.createElement(SwiperSlide, {\n      key: _id\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"swiper-zoom-container\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: path || url,\n      loading: \"lazy\",\n      alt: \"\",\n      \"data-qa-zoom-scale\": zoomScale,\n      onClick: preventPropagation\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rcx-lazy-preloader\"\n    }, /*#__PURE__*/React.createElement(Throbber, {\n      inheritColor: true\n    }))));\n  }))))), document.body);\n};","map":{"version":3,"names":["_toConsumableArray","module","link","default","v","_slicedToArray","_taggedTemplateLiteralLoose","export","ImageGallery","css","Box","ButtonGroup","IconButton","Palette","Throbber","React","useRef","useState","FocusScope","createPortal","useTranslation","Keyboard","Navigation","Zoom","A11y","Swiper","SwiperSlide","usePreventPropagation","swiperStyle","_templateObject","text","surface","_ref","images","onClose","loadMore","_useTranslation","t","swiperRef","_useState","_useState2","setSwiperInst","_useState3","_useState4","zoomScale","setZoomScale","_useState5","length","_useState6","gridSize","setGridSize","handleZoom","ratio","_swiperRef$current","current","swiper","zoom","_swiperRef$current2","_swiperRef$current$sw","scale","zoomIn","in","handleZoomIn","handleZoomOut","handleResize","preventPropagation","createElement","contain","autoFocus","role","className","onClick","name","small","icon","title","disabled","ref","navigation","nextEl","prevEl","keyboard","toggle","lazyPreloaderClass","runCallbacksOnInit","onKeyPress","_","keyCode","String","modules","onInit","onSlidesGridLengthChange","slideTo","onReachBeginning","initialSlide","reverse","map","_ref2","_id","path","url","key","src","loading","alt","inheritColor","document","body"],"sources":["client/components/ImageGallery/ImageGallery.tsx"],"sourcesContent":["import type { IUpload } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Box, ButtonGroup, IconButton, Palette, Throbber } from '@rocket.chat/fuselage';\nimport React, { useRef, useState } from 'react';\nimport { FocusScope } from 'react-aria';\nimport { createPortal } from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Keyboard, Navigation, Zoom, A11y } from 'swiper';\nimport type { SwiperClass, SwiperRef } from 'swiper/react';\nimport { Swiper, SwiperSlide } from 'swiper/react';\n\n// Import Swiper styles\nimport 'swiper/swiper.css';\nimport 'swiper/modules/navigation/navigation.min.css';\nimport 'swiper/modules/keyboard/keyboard.min.css';\nimport 'swiper/modules/zoom/zoom.min.css';\n\nimport { usePreventPropagation } from '../../hooks/usePreventPropagation';\n\nconst swiperStyle = css`\n\t.swiper {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t.swiper-container {\n\t\tposition: absolute;\n\t\tz-index: 99;\n\t\ttop: 0;\n\n\t\toverflow: hidden;\n\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\tbackground-color: var(--rcx-color-surface-overlay, rgba(0, 0, 0, 0.6));\n\t}\n\n\t.rcx-swiper-close-button,\n\t.rcx-swiper-prev-button,\n\t.rcx-swiper-next-button {\n\t\tcolor: var(--rcx-color-font-pure-white, #ffffff) !important;\n\t}\n\n\t.rcx-swiper-prev-button,\n\t.rcx-swiper-next-button {\n\t\tposition: absolute;\n\t\tz-index: 10;\n\t\ttop: 50%;\n\n\t\tcursor: pointer;\n\t}\n\n\t.rcx-swiper-prev-button.swiper-button-disabled,\n\t.rcx-swiper-next-button.swiper-button-disabled {\n\t\tcursor: auto;\n\t\tpointer-events: none;\n\n\t\topacity: 0.35;\n\t}\n\n\t.rcx-swiper-prev-button.swiper-button-hidden,\n\t.rcx-swiper-next-button.swiper-button-hidden {\n\t\tcursor: auto;\n\t\tpointer-events: none;\n\n\t\topacity: 0;\n\t}\n\n\t.rcx-swiper-prev-button,\n\t.swiper-rtl .rcx-swiper-next-button {\n\t\tright: auto;\n\t\tleft: 10px;\n\t}\n\n\t.rcx-swiper-next-button,\n\t.swiper-rtl .rcx-swiper-prev-button {\n\t\tright: 10px;\n\t\tleft: auto;\n\t}\n\n\t.rcx-lazy-preloader {\n\t\tposition: absolute;\n\t\tz-index: -1;\n\t\tleft: 50%;\n\t\ttop: 50%;\n\n\t\ttransform: translate(-50%, -50%);\n\n\t\tcolor: ${Palette.text['font-pure-white']};\n\t}\n\n\t.rcx-swiper-controls {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tpadding: 10px;\n\t\tz-index: 2;\n\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\ttransition: background-color 0.2s;\n\t\t&:hover {\n\t\t\tbackground-color: ${Palette.surface['surface-overlay']};\n\t\t\ttransition: background-color 0.2s;\n\t\t}\n\t}\n`;\n\nexport const ImageGallery = ({ images, onClose, loadMore }: { images: IUpload[]; onClose: () => void; loadMore?: () => void }) => {\n\tconst { t } = useTranslation();\n\tconst swiperRef = useRef<SwiperRef>(null);\n\tconst [, setSwiperInst] = useState<SwiperClass>();\n\tconst [zoomScale, setZoomScale] = useState(1);\n\tconst [gridSize, setGridSize] = useState(images.length);\n\n\tconst handleZoom = (ratio: number) => {\n\t\tif (swiperRef.current?.swiper.zoom) {\n\t\t\tconst { scale, in: zoomIn } = swiperRef.current?.swiper.zoom;\n\t\t\tsetZoomScale(scale + ratio);\n\t\t\treturn zoomIn(scale + ratio);\n\t\t}\n\t};\n\n\tconst handleZoomIn = () => handleZoom(1);\n\tconst handleZoomOut = () => handleZoom(-1);\n\tconst handleResize = () => handleZoom(-(zoomScale - 1));\n\n\tconst preventPropagation = usePreventPropagation();\n\n\treturn createPortal(\n\t\t<FocusScope contain autoFocus>\n\t\t\t<Box role='dialog' aria-modal='true' aria-label={t('Image_gallery')} className={swiperStyle}>\n\t\t\t\t<div role='presentation' className='swiper-container' onClick={onClose}>\n\t\t\t\t\t<ButtonGroup role='toolbar' className='rcx-swiper-controls' onClick={preventPropagation}>\n\t\t\t\t\t\t{zoomScale !== 1 && (\n\t\t\t\t\t\t\t<IconButton name='resize' small icon='arrow-collapse' title={t('Resize')} rcx-swiper-zoom-out onClick={handleResize} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tname='zoom-out'\n\t\t\t\t\t\t\tsmall\n\t\t\t\t\t\t\ticon='h-bar'\n\t\t\t\t\t\t\ttitle={t('Zoom_out')}\n\t\t\t\t\t\t\trcx-swiper-zoom-out\n\t\t\t\t\t\t\tonClick={handleZoomOut}\n\t\t\t\t\t\t\tdisabled={zoomScale === 1}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<IconButton name='zoom-in' small icon='plus' title={t('Zoom_in')} rcx-swiper-zoom-in onClick={handleZoomIn} />\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tname='close'\n\t\t\t\t\t\t\tsmall\n\t\t\t\t\t\t\ticon='cross'\n\t\t\t\t\t\t\taria-label={t('Close_gallery')}\n\t\t\t\t\t\t\tclassName='rcx-swiper-close-button'\n\t\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t<IconButton icon='chevron-right' aria-label={t('Next_image')} className='rcx-swiper-prev-button' onClick={preventPropagation} />\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\ticon='chevron-left'\n\t\t\t\t\t\taria-label={t('Previous_image')}\n\t\t\t\t\t\tclassName='rcx-swiper-next-button'\n\t\t\t\t\t\tonClick={preventPropagation}\n\t\t\t\t\t/>\n\t\t\t\t\t<Swiper\n\t\t\t\t\t\tref={swiperRef}\n\t\t\t\t\t\tnavigation={{\n\t\t\t\t\t\t\tnextEl: '.rcx-swiper-next-button',\n\t\t\t\t\t\t\tprevEl: '.rcx-swiper-prev-button',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tkeyboard\n\t\t\t\t\t\tzoom={{ toggle: false }}\n\t\t\t\t\t\tlazyPreloaderClass='rcx-lazy-preloader'\n\t\t\t\t\t\trunCallbacksOnInit\n\t\t\t\t\t\tonKeyPress={(_, keyCode) => String(keyCode) === '27' && onClose()}\n\t\t\t\t\t\tmodules={[Navigation, Zoom, Keyboard, A11y]}\n\t\t\t\t\t\tonInit={(swiper) => setSwiperInst(swiper)}\n\t\t\t\t\t\tonSlidesGridLengthChange={(swiper) => {\n\t\t\t\t\t\t\tswiper.slideTo(images.length - gridSize, 0);\n\t\t\t\t\t\t\tsetGridSize(images.length);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonReachBeginning={loadMore}\n\t\t\t\t\t\tinitialSlide={images.length - 1}\n\t\t\t\t\t>\n\t\t\t\t\t\t{[...images].reverse().map(({ _id, path, url }) => (\n\t\t\t\t\t\t\t<SwiperSlide key={_id}>\n\t\t\t\t\t\t\t\t<div className='swiper-zoom-container'>\n\t\t\t\t\t\t\t\t\t{/* eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\tjsx-a11y/no-noninteractive-element-interactions,\n\t\t\t\t\t\t\t\t\t\tjsx-a11y/click-events-have-key-events\n\t\t\t\t\t\t\t\t\t*/}\n\t\t\t\t\t\t\t\t\t<img src={path || url} loading='lazy' alt='' data-qa-zoom-scale={zoomScale} onClick={preventPropagation} />\n\t\t\t\t\t\t\t\t\t<div className='rcx-lazy-preloader'>\n\t\t\t\t\t\t\t\t\t\t<Throbber inheritColor />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</SwiperSlide>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Swiper>\n\t\t\t\t</div>\n\t\t\t</Box>\n\t\t</FocusScope>,\n\t\tdocument.body,\n\t);\n};\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"25d0fef12169107ffed1774f46311d4a768be94f"}
