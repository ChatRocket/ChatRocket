{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/e2e/client/helper.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"app/e2e/client/helper.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/e2e/client/helper.ts","inputSourceMap":{"version":3,"file":"app/e2e/client/helper.ts","sourceRoot":"","sources":["app/e2e/client/helper.ts"],"names":[],"mappings":"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","sourcesContent":["import { Random } from '@rocket.chat/random';\nimport ByteBuffer from 'bytebuffer';\n\nexport function toString(thing: any) {\n\tif (typeof thing === 'string') {\n\t\treturn thing;\n\t}\n\n\treturn ByteBuffer.wrap(thing).toString('binary');\n}\n\nexport function toArrayBuffer(thing: any) {\n\tif (thing === undefined) {\n\t\treturn undefined;\n\t}\n\tif (typeof thing === 'object') {\n\t\tif (Object.getPrototypeOf(thing) === ArrayBuffer.prototype) {\n\t\t\treturn thing;\n\t\t}\n\t}\n\n\tif (typeof thing !== 'string') {\n\t\tthrow new Error(`Tried to convert a non-string of type ${typeof thing} to an array buffer`);\n\t}\n\n\treturn ByteBuffer.wrap(thing, 'binary').toArrayBuffer();\n}\n\nexport function joinVectorAndEcryptedData(vector: any, encryptedData: any) {\n\tconst cipherText = new Uint8Array(encryptedData);\n\tconst output = new Uint8Array(vector.length + cipherText.length);\n\toutput.set(vector, 0);\n\toutput.set(cipherText, vector.length);\n\treturn output;\n}\n\nexport function splitVectorAndEcryptedData(cipherText: any) {\n\tconst vector = cipherText.slice(0, 16);\n\tconst encryptedData = cipherText.slice(16);\n\n\treturn [vector, encryptedData];\n}\n\nexport async function encryptRSA(key: any, data: any) {\n\treturn crypto.subtle.encrypt({ name: 'RSA-OAEP' }, key, data);\n}\n\nexport async function encryptAES(vector: any, key: any, data: any) {\n\treturn crypto.subtle.encrypt({ name: 'AES-CBC', iv: vector }, key, data);\n}\n\nexport async function encryptAESCTR(vector: any, key: any, data: any) {\n\treturn crypto.subtle.encrypt({ name: 'AES-CTR', counter: vector, length: 64 }, key, data);\n}\n\nexport async function decryptRSA(key: any, data: any) {\n\treturn crypto.subtle.decrypt({ name: 'RSA-OAEP' }, key, data);\n}\n\nexport async function decryptAES(vector: any, key: any, data: any) {\n\treturn crypto.subtle.decrypt({ name: 'AES-CBC', iv: vector }, key, data);\n}\n\nexport async function generateAESKey() {\n\treturn crypto.subtle.generateKey({ name: 'AES-CBC', length: 128 }, true, ['encrypt', 'decrypt']);\n}\n\nexport async function generateAESCTRKey() {\n\treturn crypto.subtle.generateKey({ name: 'AES-CTR', length: 256 }, true, ['encrypt', 'decrypt']);\n}\n\nexport async function generateRSAKey() {\n\treturn crypto.subtle.generateKey(\n\t\t{\n\t\t\tname: 'RSA-OAEP',\n\t\t\tmodulusLength: 2048,\n\t\t\tpublicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n\t\t\thash: { name: 'SHA-256' },\n\t\t},\n\t\ttrue,\n\t\t['encrypt', 'decrypt'],\n\t);\n}\n\nexport async function exportJWKKey(key: any) {\n\treturn crypto.subtle.exportKey('jwk', key);\n}\n\nexport async function importRSAKey(keyData: any, keyUsages: ReadonlyArray<KeyUsage> = ['encrypt', 'decrypt']) {\n\treturn crypto.subtle.importKey(\n\t\t'jwk' as any,\n\t\tkeyData,\n\t\t{\n\t\t\tname: 'RSA-OAEP',\n\t\t\tmodulusLength: 2048,\n\t\t\tpublicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n\t\t\thash: { name: 'SHA-256' },\n\t\t} as any,\n\t\ttrue,\n\t\tkeyUsages,\n\t);\n}\n\nexport async function importAESKey(keyData: any, keyUsages: ReadonlyArray<KeyUsage> = ['encrypt', 'decrypt']) {\n\treturn crypto.subtle.importKey('jwk', keyData, { name: 'AES-CBC' }, true, keyUsages);\n}\n\nexport async function importRawKey(keyData: any, keyUsages: ReadonlyArray<KeyUsage> = ['deriveKey']) {\n\treturn crypto.subtle.importKey('raw', keyData, { name: 'PBKDF2' }, false, keyUsages);\n}\n\nexport async function deriveKey(salt: any, baseKey: any, keyUsages: ReadonlyArray<KeyUsage> = ['encrypt', 'decrypt']) {\n\tconst iterations = 1000;\n\tconst hash = 'SHA-256';\n\n\treturn crypto.subtle.deriveKey({ name: 'PBKDF2', salt, iterations, hash }, baseKey, { name: 'AES-CBC', length: 256 }, true, keyUsages);\n}\n\nexport async function readFileAsArrayBuffer(file: any) {\n\treturn new Promise<any>((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.onload = (evt) => {\n\t\t\tresolve(evt.target?.result);\n\t\t};\n\t\treader.onerror = (evt) => {\n\t\t\treject(evt);\n\t\t};\n\t\treader.readAsArrayBuffer(file);\n\t});\n}\n\nexport async function generateMnemonicPhrase(n: any, sep = ' ') {\n\tconst { default: wordList } = await import('./wordList');\n\tconst result = new Array(n);\n\tlet len = wordList.length;\n\tconst taken = new Array(len);\n\n\twhile (n--) {\n\t\tconst x = Math.floor(Random.fraction() * len);\n\t\tresult[n] = wordList[x in taken ? taken[x] : x];\n\t\ttaken[x] = --len in taken ? taken[len] : len;\n\t}\n\treturn result.join(sep);\n}\n\nexport async function createSha256HashFromText(data: any) {\n\tconst hash = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(data));\n\treturn Array.from(new Uint8Array(hash))\n\t\t.map((b) => b.toString(16).padStart(2, '0'))\n\t\t.join('');\n}\n\nexport async function sha256HashFromArrayBuffer(arrayBuffer: any) {\n\tconst hashArray = Array.from(new Uint8Array(await crypto.subtle.digest('SHA-256', arrayBuffer)));\n\treturn hashArray.map((b) => b.toString(16).padStart(2, '0')).join('');\n}\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"production","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/e2e/client/helper.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"app/e2e/client/helper.ts","inputSourceMap":{"version":3,"file":"app/e2e/client/helper.ts","sourceRoot":"","sources":["app/e2e/client/helper.ts"],"names":[],"mappings":"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","sourcesContent":["import { Random } from '@rocket.chat/random';\nimport ByteBuffer from 'bytebuffer';\n\nexport function toString(thing: any) {\n\tif (typeof thing === 'string') {\n\t\treturn thing;\n\t}\n\n\treturn ByteBuffer.wrap(thing).toString('binary');\n}\n\nexport function toArrayBuffer(thing: any) {\n\tif (thing === undefined) {\n\t\treturn undefined;\n\t}\n\tif (typeof thing === 'object') {\n\t\tif (Object.getPrototypeOf(thing) === ArrayBuffer.prototype) {\n\t\t\treturn thing;\n\t\t}\n\t}\n\n\tif (typeof thing !== 'string') {\n\t\tthrow new Error(`Tried to convert a non-string of type ${typeof thing} to an array buffer`);\n\t}\n\n\treturn ByteBuffer.wrap(thing, 'binary').toArrayBuffer();\n}\n\nexport function joinVectorAndEcryptedData(vector: any, encryptedData: any) {\n\tconst cipherText = new Uint8Array(encryptedData);\n\tconst output = new Uint8Array(vector.length + cipherText.length);\n\toutput.set(vector, 0);\n\toutput.set(cipherText, vector.length);\n\treturn output;\n}\n\nexport function splitVectorAndEcryptedData(cipherText: any) {\n\tconst vector = cipherText.slice(0, 16);\n\tconst encryptedData = cipherText.slice(16);\n\n\treturn [vector, encryptedData];\n}\n\nexport async function encryptRSA(key: any, data: any) {\n\treturn crypto.subtle.encrypt({ name: 'RSA-OAEP' }, key, data);\n}\n\nexport async function encryptAES(vector: any, key: any, data: any) {\n\treturn crypto.subtle.encrypt({ name: 'AES-CBC', iv: vector }, key, data);\n}\n\nexport async function encryptAESCTR(vector: any, key: any, data: any) {\n\treturn crypto.subtle.encrypt({ name: 'AES-CTR', counter: vector, length: 64 }, key, data);\n}\n\nexport async function decryptRSA(key: any, data: any) {\n\treturn crypto.subtle.decrypt({ name: 'RSA-OAEP' }, key, data);\n}\n\nexport async function decryptAES(vector: any, key: any, data: any) {\n\treturn crypto.subtle.decrypt({ name: 'AES-CBC', iv: vector }, key, data);\n}\n\nexport async function generateAESKey() {\n\treturn crypto.subtle.generateKey({ name: 'AES-CBC', length: 128 }, true, ['encrypt', 'decrypt']);\n}\n\nexport async function generateAESCTRKey() {\n\treturn crypto.subtle.generateKey({ name: 'AES-CTR', length: 256 }, true, ['encrypt', 'decrypt']);\n}\n\nexport async function generateRSAKey() {\n\treturn crypto.subtle.generateKey(\n\t\t{\n\t\t\tname: 'RSA-OAEP',\n\t\t\tmodulusLength: 2048,\n\t\t\tpublicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n\t\t\thash: { name: 'SHA-256' },\n\t\t},\n\t\ttrue,\n\t\t['encrypt', 'decrypt'],\n\t);\n}\n\nexport async function exportJWKKey(key: any) {\n\treturn crypto.subtle.exportKey('jwk', key);\n}\n\nexport async function importRSAKey(keyData: any, keyUsages: ReadonlyArray<KeyUsage> = ['encrypt', 'decrypt']) {\n\treturn crypto.subtle.importKey(\n\t\t'jwk' as any,\n\t\tkeyData,\n\t\t{\n\t\t\tname: 'RSA-OAEP',\n\t\t\tmodulusLength: 2048,\n\t\t\tpublicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n\t\t\thash: { name: 'SHA-256' },\n\t\t} as any,\n\t\ttrue,\n\t\tkeyUsages,\n\t);\n}\n\nexport async function importAESKey(keyData: any, keyUsages: ReadonlyArray<KeyUsage> = ['encrypt', 'decrypt']) {\n\treturn crypto.subtle.importKey('jwk', keyData, { name: 'AES-CBC' }, true, keyUsages);\n}\n\nexport async function importRawKey(keyData: any, keyUsages: ReadonlyArray<KeyUsage> = ['deriveKey']) {\n\treturn crypto.subtle.importKey('raw', keyData, { name: 'PBKDF2' }, false, keyUsages);\n}\n\nexport async function deriveKey(salt: any, baseKey: any, keyUsages: ReadonlyArray<KeyUsage> = ['encrypt', 'decrypt']) {\n\tconst iterations = 1000;\n\tconst hash = 'SHA-256';\n\n\treturn crypto.subtle.deriveKey({ name: 'PBKDF2', salt, iterations, hash }, baseKey, { name: 'AES-CBC', length: 256 }, true, keyUsages);\n}\n\nexport async function readFileAsArrayBuffer(file: any) {\n\treturn new Promise<any>((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.onload = (evt) => {\n\t\t\tresolve(evt.target?.result);\n\t\t};\n\t\treader.onerror = (evt) => {\n\t\t\treject(evt);\n\t\t};\n\t\treader.readAsArrayBuffer(file);\n\t});\n}\n\nexport async function generateMnemonicPhrase(n: any, sep = ' ') {\n\tconst { default: wordList } = await import('./wordList');\n\tconst result = new Array(n);\n\tlet len = wordList.length;\n\tconst taken = new Array(len);\n\n\twhile (n--) {\n\t\tconst x = Math.floor(Random.fraction() * len);\n\t\tresult[n] = wordList[x in taken ? taken[x] : x];\n\t\ttaken[x] = --len in taken ? taken[len] : len;\n\t}\n\treturn result.join(sep);\n}\n\nexport async function createSha256HashFromText(data: any) {\n\tconst hash = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(data));\n\treturn Array.from(new Uint8Array(hash))\n\t\t.map((b) => b.toString(16).padStart(2, '0'))\n\t\t.join('');\n}\n\nexport async function sha256HashFromArrayBuffer(arrayBuffer: any) {\n\tconst hashArray = Array.from(new Uint8Array(await crypto.subtle.digest('SHA-256', arrayBuffer)));\n\treturn hashArray.map((b) => b.toString(16).padStart(2, '0')).join('');\n}\n"]}}},"code":"module.export({\n  toString: () => toString,\n  toArrayBuffer: () => toArrayBuffer,\n  joinVectorAndEcryptedData: () => joinVectorAndEcryptedData,\n  splitVectorAndEcryptedData: () => splitVectorAndEcryptedData,\n  encryptRSA: () => encryptRSA,\n  encryptAES: () => encryptAES,\n  encryptAESCTR: () => encryptAESCTR,\n  decryptRSA: () => decryptRSA,\n  decryptAES: () => decryptAES,\n  generateAESKey: () => generateAESKey,\n  generateAESCTRKey: () => generateAESCTRKey,\n  generateRSAKey: () => generateRSAKey,\n  exportJWKKey: () => exportJWKKey,\n  importRSAKey: () => importRSAKey,\n  importAESKey: () => importAESKey,\n  importRawKey: () => importRawKey,\n  deriveKey: () => deriveKey,\n  readFileAsArrayBuffer: () => readFileAsArrayBuffer,\n  generateMnemonicPhrase: () => generateMnemonicPhrase,\n  createSha256HashFromText: () => createSha256HashFromText,\n  sha256HashFromArrayBuffer: () => sha256HashFromArrayBuffer\n});\nlet Random;\nmodule.link(\"@rocket.chat/random\", {\n  Random(v) {\n    Random = v;\n  }\n}, 0);\nlet ByteBuffer;\nmodule.link(\"bytebuffer\", {\n  default(v) {\n    ByteBuffer = v;\n  }\n}, 1);\nfunction toString(thing) {\n  if (typeof thing === 'string') {\n    return thing;\n  }\n  return ByteBuffer.wrap(thing).toString('binary');\n}\nfunction toArrayBuffer(thing) {\n  if (thing === undefined) {\n    return undefined;\n  }\n  if (typeof thing === 'object') {\n    if (Object.getPrototypeOf(thing) === ArrayBuffer.prototype) {\n      return thing;\n    }\n  }\n  if (typeof thing !== 'string') {\n    throw new Error(\"Tried to convert a non-string of type \".concat(typeof thing, \" to an array buffer\"));\n  }\n  return ByteBuffer.wrap(thing, 'binary').toArrayBuffer();\n}\nfunction joinVectorAndEcryptedData(vector, encryptedData) {\n  const cipherText = new Uint8Array(encryptedData);\n  const output = new Uint8Array(vector.length + cipherText.length);\n  output.set(vector, 0);\n  output.set(cipherText, vector.length);\n  return output;\n}\nfunction splitVectorAndEcryptedData(cipherText) {\n  const vector = cipherText.slice(0, 16);\n  const encryptedData = cipherText.slice(16);\n  return [vector, encryptedData];\n}\nasync function encryptRSA(key, data) {\n  return crypto.subtle.encrypt({\n    name: 'RSA-OAEP'\n  }, key, data);\n}\nasync function encryptAES(vector, key, data) {\n  return crypto.subtle.encrypt({\n    name: 'AES-CBC',\n    iv: vector\n  }, key, data);\n}\nasync function encryptAESCTR(vector, key, data) {\n  return crypto.subtle.encrypt({\n    name: 'AES-CTR',\n    counter: vector,\n    length: 64\n  }, key, data);\n}\nasync function decryptRSA(key, data) {\n  return crypto.subtle.decrypt({\n    name: 'RSA-OAEP'\n  }, key, data);\n}\nasync function decryptAES(vector, key, data) {\n  return crypto.subtle.decrypt({\n    name: 'AES-CBC',\n    iv: vector\n  }, key, data);\n}\nasync function generateAESKey() {\n  return crypto.subtle.generateKey({\n    name: 'AES-CBC',\n    length: 128\n  }, true, ['encrypt', 'decrypt']);\n}\nasync function generateAESCTRKey() {\n  return crypto.subtle.generateKey({\n    name: 'AES-CTR',\n    length: 256\n  }, true, ['encrypt', 'decrypt']);\n}\nasync function generateRSAKey() {\n  return crypto.subtle.generateKey({\n    name: 'RSA-OAEP',\n    modulusLength: 2048,\n    publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n    hash: {\n      name: 'SHA-256'\n    }\n  }, true, ['encrypt', 'decrypt']);\n}\nasync function exportJWKKey(key) {\n  return crypto.subtle.exportKey('jwk', key);\n}\nasync function importRSAKey(keyData) {\n  let keyUsages = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['encrypt', 'decrypt'];\n  return crypto.subtle.importKey('jwk', keyData, {\n    name: 'RSA-OAEP',\n    modulusLength: 2048,\n    publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n    hash: {\n      name: 'SHA-256'\n    }\n  }, true, keyUsages);\n}\nasync function importAESKey(keyData) {\n  let keyUsages = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['encrypt', 'decrypt'];\n  return crypto.subtle.importKey('jwk', keyData, {\n    name: 'AES-CBC'\n  }, true, keyUsages);\n}\nasync function importRawKey(keyData) {\n  let keyUsages = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['deriveKey'];\n  return crypto.subtle.importKey('raw', keyData, {\n    name: 'PBKDF2'\n  }, false, keyUsages);\n}\nasync function deriveKey(salt, baseKey) {\n  let keyUsages = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ['encrypt', 'decrypt'];\n  const iterations = 1000;\n  const hash = 'SHA-256';\n  return crypto.subtle.deriveKey({\n    name: 'PBKDF2',\n    salt,\n    iterations,\n    hash\n  }, baseKey, {\n    name: 'AES-CBC',\n    length: 256\n  }, true, keyUsages);\n}\nasync function readFileAsArrayBuffer(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = evt => {\n      var _evt$target;\n      resolve((_evt$target = evt.target) === null || _evt$target === void 0 ? void 0 : _evt$target.result);\n    };\n    reader.onerror = evt => {\n      reject(evt);\n    };\n    reader.readAsArrayBuffer(file);\n  });\n}\nasync function generateMnemonicPhrase(n) {\n  let sep = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ' ';\n  const {\n    default: wordList\n  } = await module.dynamicImport('./wordList');\n  const result = new Array(n);\n  let len = wordList.length;\n  const taken = new Array(len);\n  while (n--) {\n    const x = Math.floor(Random.fraction() * len);\n    result[n] = wordList[x in taken ? taken[x] : x];\n    taken[x] = --len in taken ? taken[len] : len;\n  }\n  return result.join(sep);\n}\nasync function createSha256HashFromText(data) {\n  const hash = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(data));\n  return Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2, '0')).join('');\n}\nasync function sha256HashFromArrayBuffer(arrayBuffer) {\n  const hashArray = Array.from(new Uint8Array(await crypto.subtle.digest('SHA-256', arrayBuffer)));\n  return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n}","map":{"version":3,"names":["module","export","toString","toArrayBuffer","joinVectorAndEcryptedData","splitVectorAndEcryptedData","encryptRSA","encryptAES","encryptAESCTR","decryptRSA","decryptAES","generateAESKey","generateAESCTRKey","generateRSAKey","exportJWKKey","importRSAKey","importAESKey","importRawKey","deriveKey","readFileAsArrayBuffer","generateMnemonicPhrase","createSha256HashFromText","sha256HashFromArrayBuffer","Random","link","v","ByteBuffer","default","thing","wrap","undefined","Object","getPrototypeOf","ArrayBuffer","prototype","Error","concat","vector","encryptedData","cipherText","Uint8Array","output","length","set","slice","key","data","crypto","subtle","encrypt","name","iv","counter","decrypt","generateKey","modulusLength","publicExponent","hash","exportKey","keyData","keyUsages","arguments","importKey","salt","baseKey","iterations","file","Promise","resolve","reject","reader","FileReader","onload","evt","_evt$target","target","result","onerror","readAsArrayBuffer","n","sep","wordList","dynamicImport","Array","len","taken","x","Math","floor","fraction","join","digest","TextEncoder","encode","from","map","b","padStart","arrayBuffer","hashArray"],"sources":["app/e2e/client/helper.ts"],"sourcesContent":["import { Random } from '@rocket.chat/random';\nimport ByteBuffer from 'bytebuffer';\n\nexport function toString(thing: any) {\n\tif (typeof thing === 'string') {\n\t\treturn thing;\n\t}\n\n\treturn ByteBuffer.wrap(thing).toString('binary');\n}\n\nexport function toArrayBuffer(thing: any) {\n\tif (thing === undefined) {\n\t\treturn undefined;\n\t}\n\tif (typeof thing === 'object') {\n\t\tif (Object.getPrototypeOf(thing) === ArrayBuffer.prototype) {\n\t\t\treturn thing;\n\t\t}\n\t}\n\n\tif (typeof thing !== 'string') {\n\t\tthrow new Error(`Tried to convert a non-string of type ${typeof thing} to an array buffer`);\n\t}\n\n\treturn ByteBuffer.wrap(thing, 'binary').toArrayBuffer();\n}\n\nexport function joinVectorAndEcryptedData(vector: any, encryptedData: any) {\n\tconst cipherText = new Uint8Array(encryptedData);\n\tconst output = new Uint8Array(vector.length + cipherText.length);\n\toutput.set(vector, 0);\n\toutput.set(cipherText, vector.length);\n\treturn output;\n}\n\nexport function splitVectorAndEcryptedData(cipherText: any) {\n\tconst vector = cipherText.slice(0, 16);\n\tconst encryptedData = cipherText.slice(16);\n\n\treturn [vector, encryptedData];\n}\n\nexport async function encryptRSA(key: any, data: any) {\n\treturn crypto.subtle.encrypt({ name: 'RSA-OAEP' }, key, data);\n}\n\nexport async function encryptAES(vector: any, key: any, data: any) {\n\treturn crypto.subtle.encrypt({ name: 'AES-CBC', iv: vector }, key, data);\n}\n\nexport async function encryptAESCTR(vector: any, key: any, data: any) {\n\treturn crypto.subtle.encrypt({ name: 'AES-CTR', counter: vector, length: 64 }, key, data);\n}\n\nexport async function decryptRSA(key: any, data: any) {\n\treturn crypto.subtle.decrypt({ name: 'RSA-OAEP' }, key, data);\n}\n\nexport async function decryptAES(vector: any, key: any, data: any) {\n\treturn crypto.subtle.decrypt({ name: 'AES-CBC', iv: vector }, key, data);\n}\n\nexport async function generateAESKey() {\n\treturn crypto.subtle.generateKey({ name: 'AES-CBC', length: 128 }, true, ['encrypt', 'decrypt']);\n}\n\nexport async function generateAESCTRKey() {\n\treturn crypto.subtle.generateKey({ name: 'AES-CTR', length: 256 }, true, ['encrypt', 'decrypt']);\n}\n\nexport async function generateRSAKey() {\n\treturn crypto.subtle.generateKey(\n\t\t{\n\t\t\tname: 'RSA-OAEP',\n\t\t\tmodulusLength: 2048,\n\t\t\tpublicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n\t\t\thash: { name: 'SHA-256' },\n\t\t},\n\t\ttrue,\n\t\t['encrypt', 'decrypt'],\n\t);\n}\n\nexport async function exportJWKKey(key: any) {\n\treturn crypto.subtle.exportKey('jwk', key);\n}\n\nexport async function importRSAKey(keyData: any, keyUsages: ReadonlyArray<KeyUsage> = ['encrypt', 'decrypt']) {\n\treturn crypto.subtle.importKey(\n\t\t'jwk' as any,\n\t\tkeyData,\n\t\t{\n\t\t\tname: 'RSA-OAEP',\n\t\t\tmodulusLength: 2048,\n\t\t\tpublicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n\t\t\thash: { name: 'SHA-256' },\n\t\t} as any,\n\t\ttrue,\n\t\tkeyUsages,\n\t);\n}\n\nexport async function importAESKey(keyData: any, keyUsages: ReadonlyArray<KeyUsage> = ['encrypt', 'decrypt']) {\n\treturn crypto.subtle.importKey('jwk', keyData, { name: 'AES-CBC' }, true, keyUsages);\n}\n\nexport async function importRawKey(keyData: any, keyUsages: ReadonlyArray<KeyUsage> = ['deriveKey']) {\n\treturn crypto.subtle.importKey('raw', keyData, { name: 'PBKDF2' }, false, keyUsages);\n}\n\nexport async function deriveKey(salt: any, baseKey: any, keyUsages: ReadonlyArray<KeyUsage> = ['encrypt', 'decrypt']) {\n\tconst iterations = 1000;\n\tconst hash = 'SHA-256';\n\n\treturn crypto.subtle.deriveKey({ name: 'PBKDF2', salt, iterations, hash }, baseKey, { name: 'AES-CBC', length: 256 }, true, keyUsages);\n}\n\nexport async function readFileAsArrayBuffer(file: any) {\n\treturn new Promise<any>((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.onload = (evt) => {\n\t\t\tresolve(evt.target?.result);\n\t\t};\n\t\treader.onerror = (evt) => {\n\t\t\treject(evt);\n\t\t};\n\t\treader.readAsArrayBuffer(file);\n\t});\n}\n\nexport async function generateMnemonicPhrase(n: any, sep = ' ') {\n\tconst { default: wordList } = await import('./wordList');\n\tconst result = new Array(n);\n\tlet len = wordList.length;\n\tconst taken = new Array(len);\n\n\twhile (n--) {\n\t\tconst x = Math.floor(Random.fraction() * len);\n\t\tresult[n] = wordList[x in taken ? taken[x] : x];\n\t\ttaken[x] = --len in taken ? taken[len] : len;\n\t}\n\treturn result.join(sep);\n}\n\nexport async function createSha256HashFromText(data: any) {\n\tconst hash = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(data));\n\treturn Array.from(new Uint8Array(hash))\n\t\t.map((b) => b.toString(16).padStart(2, '0'))\n\t\t.join('');\n}\n\nexport async function sha256HashFromArrayBuffer(arrayBuffer: any) {\n\tconst hashArray = Array.from(new Uint8Array(await crypto.subtle.digest('SHA-256', arrayBuffer)));\n\treturn hashArray.map((b) => b.toString(16).padStart(2, '0')).join('');\n}\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"80807e3967baa23126b17961247f615c472b7df9"}
