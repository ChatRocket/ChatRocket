{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/currentChats/CurrentChatsPage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/omnichannel/currentChats/CurrentChatsPage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/currentChats/CurrentChatsPage.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/currentChats/CurrentChatsPage.tsx","sourceRoot":"","sources":["client/views/omnichannel/currentChats/CurrentChatsPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Callout, Pagination } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { GETLivechatRoomsParams } from '@rocket.chat/rest-typings';\nimport { usePermission, useTranslation } from '@rocket.chat/ui-contexts';\nimport { hashQueryKey } from '@tanstack/react-query';\nimport moment from 'moment';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { memo, useCallback, useMemo, useState } from 'react';\n\nimport GenericNoResults from '../../../components/GenericNoResults';\nimport {\n\tGenericTable,\n\tGenericTableBody,\n\tGenericTableCell,\n\tGenericTableHeader,\n\tGenericTableHeaderCell,\n\tGenericTableLoadingTable,\n\tGenericTableRow,\n} from '../../../components/GenericTable';\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\nimport { useIsOverMacLimit } from '../../../hooks/omnichannel/useIsOverMacLimit';\nimport { RoomActivityIcon } from '../../../omnichannel/components/RoomActivityIcon';\nimport { useOmnichannelPriorities } from '../../../omnichannel/hooks/useOmnichannelPriorities';\nimport { PriorityIcon } from '../../../omnichannel/priorities/PriorityIcon';\nimport CustomFieldsList from './CustomFieldsList';\nimport FilterByText from './FilterByText';\nimport RemoveChatButton from './RemoveChatButton';\nimport { useAllCustomFields } from './hooks/useAllCustomFields';\nimport { useCurrentChats } from './hooks/useCurrentChats';\n\ntype DebouncedParams = {\n\tfname: string;\n\tguest: string;\n\tservedBy: string;\n\tdepartment: string;\n\tstatus: string;\n\tfrom: string;\n\tto: string;\n\ttags: any[];\n};\n\ntype CurrentChatQuery = {\n\tagents?: string[];\n\toffset?: number;\n\troomName?: string;\n\tdepartmentId?: string;\n\topen?: boolean;\n\tcreatedAt?: string;\n\tclosedAt?: string;\n\ttags?: string[];\n\tonhold?: boolean;\n\tcustomFields?: string;\n\tsort: string;\n\tcount?: number;\n\tqueued?: boolean;\n};\n\ntype useQueryType = (\n\tdebouncedParams: DebouncedParams,\n\tcustomFields: { [key: string]: string } | undefined,\n\t[column, direction]: [string, 'asc' | 'desc'],\n\tcurrent: number,\n\titemsPerPage: 25 | 50 | 100,\n) => GETLivechatRoomsParams;\n\nconst sortDir = (sortDir: 'asc' | 'desc'): 1 | -1 => (sortDir === 'asc' ? 1 : -1);\n\nconst currentChatQuery: useQueryType = (\n\t{ guest, servedBy, department, status, from, to, tags },\n\tcustomFields,\n\t[column, direction],\n\tcurrent,\n\titemsPerPage,\n) => {\n\tconst query: CurrentChatQuery = {\n\t\t...(guest && { roomName: guest }),\n\t\tsort: JSON.stringify({\n\t\t\t[column]: sortDir(direction),\n\t\t\tts: column === 'ts' ? sortDir(direction) : undefined,\n\t\t}),\n\t\t...(itemsPerPage && { count: itemsPerPage }),\n\t\t...(current && { offset: current }),\n\t};\n\n\tif (from || to) {\n\t\tquery.createdAt = JSON.stringify({\n\t\t\t...(from && {\n\t\t\t\tstart: moment(new Date(from)).set({ hour: 0, minutes: 0, seconds: 0 }).toISOString(),\n\t\t\t}),\n\t\t\t...(to && {\n\t\t\t\tend: moment(new Date(to)).set({ hour: 23, minutes: 59, seconds: 59 }).toISOString(),\n\t\t\t}),\n\t\t});\n\t}\n\n\tif (status !== 'all') {\n\t\tquery.open = status === 'opened' || status === 'onhold' || status === 'queued';\n\t\tquery.onhold = status === 'onhold';\n\t\tquery.queued = status === 'queued';\n\t}\n\tif (servedBy && servedBy !== 'all') {\n\t\tquery.agents = [servedBy];\n\t}\n\tif (department && department !== 'all') {\n\t\tquery.departmentId = department;\n\t}\n\n\tif (tags && tags.length > 0) {\n\t\tquery.tags = tags;\n\t}\n\n\tif (customFields && Object.keys(customFields).length > 0) {\n\t\tconst customFieldsQuery = Object.fromEntries(Object.entries(customFields).filter((item) => item[1] !== undefined && item[1] !== ''));\n\t\tif (Object.keys(customFieldsQuery).length > 0) {\n\t\t\tquery.customFields = JSON.stringify(customFieldsQuery);\n\t\t}\n\t}\n\n\treturn query;\n};\n\nconst CurrentChatsPage = ({ id, onRowClick }: { id?: string; onRowClick: (_id: string) => void }): ReactElement => {\n\tconst isWorkspaceOverMacLimit = useIsOverMacLimit();\n\tconst { sortBy, sortDirection, setSort } = useSort<'fname' | 'departmentId' | 'servedBy' | 'priorityWeight' | 'ts' | 'lm' | 'open'>(\n\t\t'ts',\n\t\t'desc',\n\t);\n\tconst [customFields, setCustomFields] = useState<{ [key: string]: string }>();\n\n\tconst t = useTranslation();\n\n\tconst canRemoveClosedChats = usePermission('remove-closed-livechat-room');\n\tconst { enabled: isPriorityEnabled } = useOmnichannelPriorities();\n\n\tconst { data: allCustomFields } = useAllCustomFields();\n\n\tconst { current, itemsPerPage, setItemsPerPage, setCurrent, ...paginationProps } = usePagination();\n\n\tconst [params, setParams] = useState({\n\t\tguest: '',\n\t\tfname: '',\n\t\tservedBy: '',\n\t\tstatus: 'all',\n\t\tdepartment: '',\n\t\tfrom: '',\n\t\tto: '',\n\t\ttags: [] as string[],\n\t});\n\n\tconst hasCustomFields = useMemo(\n\t\t() => !!allCustomFields?.customFields?.find((customField) => customField.scope === 'room'),\n\t\t[allCustomFields],\n\t);\n\n\tconst query = useMemo(\n\t\t() => currentChatQuery(params, customFields, [sortBy, sortDirection], current, itemsPerPage),\n\t\t[customFields, itemsPerPage, params, sortBy, sortDirection, current],\n\t);\n\n\tconst { data, isLoading, isSuccess } = useCurrentChats(query);\n\n\tconst [defaultQuery] = useState(hashQueryKey([query]));\n\tconst queryHasChanged = defaultQuery !== hashQueryKey([query]);\n\n\tconst onFilter = useMutableCallback((params: DebouncedParams): void => {\n\t\tsetParams(params);\n\t\tsetCurrent(0);\n\t});\n\n\tconst renderRow = useCallback(\n\t\t(room) => {\n\t\t\tconst { _id, fname, servedBy, ts, lm, department, open, onHold, priorityWeight } = room;\n\t\t\tconst getStatusText = (open: boolean, onHold: boolean, servedBy: boolean): string => {\n\t\t\t\tif (!open) return t('Closed');\n\t\t\t\tif (open && !servedBy) return t('Queued');\n\t\t\t\treturn onHold ? t('On_Hold_Chats') : t('Room_Status_Open');\n\t\t\t};\n\n\t\t\treturn (\n\t\t\t\t<GenericTableRow key={_id} onClick={(): void => onRowClick(_id)} action data-qa-id={fname}>\n\t\t\t\t\t{isPriorityEnabled && (\n\t\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-priority'>\n\t\t\t\t\t\t\t<PriorityIcon level={priorityWeight} />\n\t\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t)}\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-name'>\n\t\t\t\t\t\t{fname}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-department'>\n\t\t\t\t\t\t{department ? department.name : ''}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-servedBy'>\n\t\t\t\t\t\t{servedBy?.username}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-startedAt'>\n\t\t\t\t\t\t{moment(ts).format('L LTS')}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-lastMessage'>\n\t\t\t\t\t\t{moment(lm).format('L LTS')}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-status'>\n\t\t\t\t\t\t<RoomActivityIcon room={room} /> {getStatusText(open, onHold, !!servedBy?.username)}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t{canRemoveClosedChats && !open && <RemoveChatButton _id={_id} />}\n\t\t\t\t</GenericTableRow>\n\t\t\t);\n\t\t},\n\t\t[canRemoveClosedChats, onRowClick, isPriorityEnabled, t],\n\t);\n\n\tconst headers = (\n\t\t<>\n\t\t\t{isPriorityEnabled && (\n\t\t\t\t<GenericTableHeaderCell\n\t\t\t\t\tkey='priorityWeight'\n\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\tactive={sortBy === 'priorityWeight'}\n\t\t\t\t\tonClick={setSort}\n\t\t\t\t\tsort='priorityWeight'\n\t\t\t\t\tw='x100'\n\t\t\t\t\talignItems='center'\n\t\t\t\t>\n\t\t\t\t\t{t('Priority')}\n\t\t\t\t</GenericTableHeaderCell>\n\t\t\t)}\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='fname'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'fname'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='fname'\n\t\t\t\tdata-qa='current-chats-header-name'\n\t\t\t>\n\t\t\t\t{t('Name')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='departmentId'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'departmentId'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='departmentId'\n\t\t\t\tdata-qa='current-chats-header-department'\n\t\t\t>\n\t\t\t\t{t('Department')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='servedBy'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'servedBy'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='servedBy'\n\t\t\t\tdata-qa='current-chats-header-servedBy'\n\t\t\t>\n\t\t\t\t{t('Served_By')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='ts'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'ts'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='ts'\n\t\t\t\tdata-qa='current-chats-header-startedAt'\n\t\t\t>\n\t\t\t\t{t('Started_At')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='lm'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'lm'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='lm'\n\t\t\t\tdata-qa='current-chats-header-lastMessage'\n\t\t\t>\n\t\t\t\t{t('Last_Message')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='open'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'open'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='open'\n\t\t\t\tw='x100'\n\t\t\t\tdata-qa='current-chats-header-status'\n\t\t\t>\n\t\t\t\t{t('Status')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t{canRemoveClosedChats && (\n\t\t\t\t<GenericTableHeaderCell key='remove' w='x60' data-qa='current-chats-header-remove'>\n\t\t\t\t\t{t('Remove')}\n\t\t\t\t</GenericTableHeaderCell>\n\t\t\t)}\n\t\t</>\n\t);\n\n\t// TODO: Missing error state\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={t('Current_Chats')} />\n\t\t\t\t<PageContent>\n\t\t\t\t\t{((isSuccess && data?.rooms.length > 0) || queryHasChanged) && (\n\t\t\t\t\t\t<FilterByText\n\t\t\t\t\t\t\tsetFilter={onFilter as ComponentProps<typeof FilterByText>['setFilter']}\n\t\t\t\t\t\t\tsetCustomFields={setCustomFields}\n\t\t\t\t\t\t\tcustomFields={customFields}\n\t\t\t\t\t\t\thasCustomFields={hasCustomFields}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{isWorkspaceOverMacLimit && (\n\t\t\t\t\t\t<Callout\n\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\ticon='warning'\n\t\t\t\t\t\t\ttitle={t('The_workspace_has_exceeded_the_monthly_limit_of_active_contacts')}\n\t\t\t\t\t\t\tstyle={{ marginBlock: '2rem' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Talk_to_your_workspace_admin_to_address_this_issue')}\n\t\t\t\t\t\t</Callout>\n\t\t\t\t\t)}\n\t\t\t\t\t{isSuccess && data?.rooms.length === 0 && queryHasChanged && <GenericNoResults />}\n\t\t\t\t\t{isSuccess && data?.rooms.length === 0 && !queryHasChanged && (\n\t\t\t\t\t\t<GenericNoResults\n\t\t\t\t\t\t\ticon='discussion'\n\t\t\t\t\t\t\ttitle={t('No_chats_yet')}\n\t\t\t\t\t\t\tdescription={t('No_chats_yet_description')}\n\t\t\t\t\t\t\tlinkHref='https://go.rocket.chat/i/omnichannel-docs'\n\t\t\t\t\t\t\tlinkText={t('Learn_more_about_current_chats')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<GenericTable>\n\t\t\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t\t\t<GenericTableLoadingTable headerCells={6} />\n\t\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t\t</GenericTable>\n\t\t\t\t\t)}\n\t\t\t\t\t{isSuccess && data?.rooms.length > 0 && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<GenericTable>\n\t\t\t\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t\t\t\t<GenericTableBody data-qa='GenericTableCurrentChatsBody'>\n\t\t\t\t\t\t\t\t\t{data.rooms.map((room) => renderRow({ ...room }))}\n\t\t\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t\t\t</GenericTable>\n\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\tdivider\n\t\t\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\t\t\tcount={data.total}\n\t\t\t\t\t\t\t\tonSetItemsPerPage={setItemsPerPage}\n\t\t\t\t\t\t\t\tonSetCurrent={setCurrent}\n\t\t\t\t\t\t\t\t{...paginationProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</PageContent>\n\t\t\t</Page>\n\t\t\t{id === 'custom-fields' && hasCustomFields && (\n\t\t\t\t<CustomFieldsList setCustomFields={setCustomFields} allCustomFields={allCustomFields?.customFields || []} />\n\t\t\t)}\n\t\t</Page>\n\t);\n};\n\nexport default memo(CurrentChatsPage);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/currentChats/CurrentChatsPage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/omnichannel/currentChats/CurrentChatsPage.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/currentChats/CurrentChatsPage.tsx","sourceRoot":"","sources":["client/views/omnichannel/currentChats/CurrentChatsPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Callout, Pagination } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { GETLivechatRoomsParams } from '@rocket.chat/rest-typings';\nimport { usePermission, useTranslation } from '@rocket.chat/ui-contexts';\nimport { hashQueryKey } from '@tanstack/react-query';\nimport moment from 'moment';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { memo, useCallback, useMemo, useState } from 'react';\n\nimport GenericNoResults from '../../../components/GenericNoResults';\nimport {\n\tGenericTable,\n\tGenericTableBody,\n\tGenericTableCell,\n\tGenericTableHeader,\n\tGenericTableHeaderCell,\n\tGenericTableLoadingTable,\n\tGenericTableRow,\n} from '../../../components/GenericTable';\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\nimport { useIsOverMacLimit } from '../../../hooks/omnichannel/useIsOverMacLimit';\nimport { RoomActivityIcon } from '../../../omnichannel/components/RoomActivityIcon';\nimport { useOmnichannelPriorities } from '../../../omnichannel/hooks/useOmnichannelPriorities';\nimport { PriorityIcon } from '../../../omnichannel/priorities/PriorityIcon';\nimport CustomFieldsList from './CustomFieldsList';\nimport FilterByText from './FilterByText';\nimport RemoveChatButton from './RemoveChatButton';\nimport { useAllCustomFields } from './hooks/useAllCustomFields';\nimport { useCurrentChats } from './hooks/useCurrentChats';\n\ntype DebouncedParams = {\n\tfname: string;\n\tguest: string;\n\tservedBy: string;\n\tdepartment: string;\n\tstatus: string;\n\tfrom: string;\n\tto: string;\n\ttags: any[];\n};\n\ntype CurrentChatQuery = {\n\tagents?: string[];\n\toffset?: number;\n\troomName?: string;\n\tdepartmentId?: string;\n\topen?: boolean;\n\tcreatedAt?: string;\n\tclosedAt?: string;\n\ttags?: string[];\n\tonhold?: boolean;\n\tcustomFields?: string;\n\tsort: string;\n\tcount?: number;\n\tqueued?: boolean;\n};\n\ntype useQueryType = (\n\tdebouncedParams: DebouncedParams,\n\tcustomFields: { [key: string]: string } | undefined,\n\t[column, direction]: [string, 'asc' | 'desc'],\n\tcurrent: number,\n\titemsPerPage: 25 | 50 | 100,\n) => GETLivechatRoomsParams;\n\nconst sortDir = (sortDir: 'asc' | 'desc'): 1 | -1 => (sortDir === 'asc' ? 1 : -1);\n\nconst currentChatQuery: useQueryType = (\n\t{ guest, servedBy, department, status, from, to, tags },\n\tcustomFields,\n\t[column, direction],\n\tcurrent,\n\titemsPerPage,\n) => {\n\tconst query: CurrentChatQuery = {\n\t\t...(guest && { roomName: guest }),\n\t\tsort: JSON.stringify({\n\t\t\t[column]: sortDir(direction),\n\t\t\tts: column === 'ts' ? sortDir(direction) : undefined,\n\t\t}),\n\t\t...(itemsPerPage && { count: itemsPerPage }),\n\t\t...(current && { offset: current }),\n\t};\n\n\tif (from || to) {\n\t\tquery.createdAt = JSON.stringify({\n\t\t\t...(from && {\n\t\t\t\tstart: moment(new Date(from)).set({ hour: 0, minutes: 0, seconds: 0 }).toISOString(),\n\t\t\t}),\n\t\t\t...(to && {\n\t\t\t\tend: moment(new Date(to)).set({ hour: 23, minutes: 59, seconds: 59 }).toISOString(),\n\t\t\t}),\n\t\t});\n\t}\n\n\tif (status !== 'all') {\n\t\tquery.open = status === 'opened' || status === 'onhold' || status === 'queued';\n\t\tquery.onhold = status === 'onhold';\n\t\tquery.queued = status === 'queued';\n\t}\n\tif (servedBy && servedBy !== 'all') {\n\t\tquery.agents = [servedBy];\n\t}\n\tif (department && department !== 'all') {\n\t\tquery.departmentId = department;\n\t}\n\n\tif (tags && tags.length > 0) {\n\t\tquery.tags = tags;\n\t}\n\n\tif (customFields && Object.keys(customFields).length > 0) {\n\t\tconst customFieldsQuery = Object.fromEntries(Object.entries(customFields).filter((item) => item[1] !== undefined && item[1] !== ''));\n\t\tif (Object.keys(customFieldsQuery).length > 0) {\n\t\t\tquery.customFields = JSON.stringify(customFieldsQuery);\n\t\t}\n\t}\n\n\treturn query;\n};\n\nconst CurrentChatsPage = ({ id, onRowClick }: { id?: string; onRowClick: (_id: string) => void }): ReactElement => {\n\tconst isWorkspaceOverMacLimit = useIsOverMacLimit();\n\tconst { sortBy, sortDirection, setSort } = useSort<'fname' | 'departmentId' | 'servedBy' | 'priorityWeight' | 'ts' | 'lm' | 'open'>(\n\t\t'ts',\n\t\t'desc',\n\t);\n\tconst [customFields, setCustomFields] = useState<{ [key: string]: string }>();\n\n\tconst t = useTranslation();\n\n\tconst canRemoveClosedChats = usePermission('remove-closed-livechat-room');\n\tconst { enabled: isPriorityEnabled } = useOmnichannelPriorities();\n\n\tconst { data: allCustomFields } = useAllCustomFields();\n\n\tconst { current, itemsPerPage, setItemsPerPage, setCurrent, ...paginationProps } = usePagination();\n\n\tconst [params, setParams] = useState({\n\t\tguest: '',\n\t\tfname: '',\n\t\tservedBy: '',\n\t\tstatus: 'all',\n\t\tdepartment: '',\n\t\tfrom: '',\n\t\tto: '',\n\t\ttags: [] as string[],\n\t});\n\n\tconst hasCustomFields = useMemo(\n\t\t() => !!allCustomFields?.customFields?.find((customField) => customField.scope === 'room'),\n\t\t[allCustomFields],\n\t);\n\n\tconst query = useMemo(\n\t\t() => currentChatQuery(params, customFields, [sortBy, sortDirection], current, itemsPerPage),\n\t\t[customFields, itemsPerPage, params, sortBy, sortDirection, current],\n\t);\n\n\tconst { data, isLoading, isSuccess } = useCurrentChats(query);\n\n\tconst [defaultQuery] = useState(hashQueryKey([query]));\n\tconst queryHasChanged = defaultQuery !== hashQueryKey([query]);\n\n\tconst onFilter = useMutableCallback((params: DebouncedParams): void => {\n\t\tsetParams(params);\n\t\tsetCurrent(0);\n\t});\n\n\tconst renderRow = useCallback(\n\t\t(room) => {\n\t\t\tconst { _id, fname, servedBy, ts, lm, department, open, onHold, priorityWeight } = room;\n\t\t\tconst getStatusText = (open: boolean, onHold: boolean, servedBy: boolean): string => {\n\t\t\t\tif (!open) return t('Closed');\n\t\t\t\tif (open && !servedBy) return t('Queued');\n\t\t\t\treturn onHold ? t('On_Hold_Chats') : t('Room_Status_Open');\n\t\t\t};\n\n\t\t\treturn (\n\t\t\t\t<GenericTableRow key={_id} onClick={(): void => onRowClick(_id)} action data-qa-id={fname}>\n\t\t\t\t\t{isPriorityEnabled && (\n\t\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-priority'>\n\t\t\t\t\t\t\t<PriorityIcon level={priorityWeight} />\n\t\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t)}\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-name'>\n\t\t\t\t\t\t{fname}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-department'>\n\t\t\t\t\t\t{department ? department.name : ''}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-servedBy'>\n\t\t\t\t\t\t{servedBy?.username}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-startedAt'>\n\t\t\t\t\t\t{moment(ts).format('L LTS')}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-lastMessage'>\n\t\t\t\t\t\t{moment(lm).format('L LTS')}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-status'>\n\t\t\t\t\t\t<RoomActivityIcon room={room} /> {getStatusText(open, onHold, !!servedBy?.username)}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t{canRemoveClosedChats && !open && <RemoveChatButton _id={_id} />}\n\t\t\t\t</GenericTableRow>\n\t\t\t);\n\t\t},\n\t\t[canRemoveClosedChats, onRowClick, isPriorityEnabled, t],\n\t);\n\n\tconst headers = (\n\t\t<>\n\t\t\t{isPriorityEnabled && (\n\t\t\t\t<GenericTableHeaderCell\n\t\t\t\t\tkey='priorityWeight'\n\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\tactive={sortBy === 'priorityWeight'}\n\t\t\t\t\tonClick={setSort}\n\t\t\t\t\tsort='priorityWeight'\n\t\t\t\t\tw='x100'\n\t\t\t\t\talignItems='center'\n\t\t\t\t>\n\t\t\t\t\t{t('Priority')}\n\t\t\t\t</GenericTableHeaderCell>\n\t\t\t)}\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='fname'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'fname'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='fname'\n\t\t\t\tdata-qa='current-chats-header-name'\n\t\t\t>\n\t\t\t\t{t('Name')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='departmentId'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'departmentId'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='departmentId'\n\t\t\t\tdata-qa='current-chats-header-department'\n\t\t\t>\n\t\t\t\t{t('Department')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='servedBy'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'servedBy'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='servedBy'\n\t\t\t\tdata-qa='current-chats-header-servedBy'\n\t\t\t>\n\t\t\t\t{t('Served_By')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='ts'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'ts'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='ts'\n\t\t\t\tdata-qa='current-chats-header-startedAt'\n\t\t\t>\n\t\t\t\t{t('Started_At')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='lm'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'lm'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='lm'\n\t\t\t\tdata-qa='current-chats-header-lastMessage'\n\t\t\t>\n\t\t\t\t{t('Last_Message')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='open'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'open'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='open'\n\t\t\t\tw='x100'\n\t\t\t\tdata-qa='current-chats-header-status'\n\t\t\t>\n\t\t\t\t{t('Status')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t{canRemoveClosedChats && (\n\t\t\t\t<GenericTableHeaderCell key='remove' w='x60' data-qa='current-chats-header-remove'>\n\t\t\t\t\t{t('Remove')}\n\t\t\t\t</GenericTableHeaderCell>\n\t\t\t)}\n\t\t</>\n\t);\n\n\t// TODO: Missing error state\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={t('Current_Chats')} />\n\t\t\t\t<PageContent>\n\t\t\t\t\t{((isSuccess && data?.rooms.length > 0) || queryHasChanged) && (\n\t\t\t\t\t\t<FilterByText\n\t\t\t\t\t\t\tsetFilter={onFilter as ComponentProps<typeof FilterByText>['setFilter']}\n\t\t\t\t\t\t\tsetCustomFields={setCustomFields}\n\t\t\t\t\t\t\tcustomFields={customFields}\n\t\t\t\t\t\t\thasCustomFields={hasCustomFields}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{isWorkspaceOverMacLimit && (\n\t\t\t\t\t\t<Callout\n\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\ticon='warning'\n\t\t\t\t\t\t\ttitle={t('The_workspace_has_exceeded_the_monthly_limit_of_active_contacts')}\n\t\t\t\t\t\t\tstyle={{ marginBlock: '2rem' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Talk_to_your_workspace_admin_to_address_this_issue')}\n\t\t\t\t\t\t</Callout>\n\t\t\t\t\t)}\n\t\t\t\t\t{isSuccess && data?.rooms.length === 0 && queryHasChanged && <GenericNoResults />}\n\t\t\t\t\t{isSuccess && data?.rooms.length === 0 && !queryHasChanged && (\n\t\t\t\t\t\t<GenericNoResults\n\t\t\t\t\t\t\ticon='discussion'\n\t\t\t\t\t\t\ttitle={t('No_chats_yet')}\n\t\t\t\t\t\t\tdescription={t('No_chats_yet_description')}\n\t\t\t\t\t\t\tlinkHref='https://go.rocket.chat/i/omnichannel-docs'\n\t\t\t\t\t\t\tlinkText={t('Learn_more_about_current_chats')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<GenericTable>\n\t\t\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t\t\t<GenericTableLoadingTable headerCells={6} />\n\t\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t\t</GenericTable>\n\t\t\t\t\t)}\n\t\t\t\t\t{isSuccess && data?.rooms.length > 0 && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<GenericTable>\n\t\t\t\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t\t\t\t<GenericTableBody data-qa='GenericTableCurrentChatsBody'>\n\t\t\t\t\t\t\t\t\t{data.rooms.map((room) => renderRow({ ...room }))}\n\t\t\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t\t\t</GenericTable>\n\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\tdivider\n\t\t\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\t\t\tcount={data.total}\n\t\t\t\t\t\t\t\tonSetItemsPerPage={setItemsPerPage}\n\t\t\t\t\t\t\t\tonSetCurrent={setCurrent}\n\t\t\t\t\t\t\t\t{...paginationProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</PageContent>\n\t\t\t</Page>\n\t\t\t{id === 'custom-fields' && hasCustomFields && (\n\t\t\t\t<CustomFieldsList setCustomFields={setCustomFields} allCustomFields={allCustomFields?.customFields || []} />\n\t\t\t)}\n\t\t</Page>\n\t);\n};\n\nexport default memo(CurrentChatsPage);\n"]}}},"code":"const _excluded = [\"current\", \"itemsPerPage\", \"setItemsPerPage\", \"setCurrent\"];\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 1);\nlet _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n}, 2);\nlet Callout, Pagination;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Callout(v) {\n    Callout = v;\n  },\n  Pagination(v) {\n    Pagination = v;\n  }\n}, 0);\nlet useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  }\n}, 1);\nlet usePermission, useTranslation;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  usePermission(v) {\n    usePermission = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 2);\nlet hashQueryKey;\nmodule.link(\"@tanstack/react-query\", {\n  hashQueryKey(v) {\n    hashQueryKey = v;\n  }\n}, 3);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n}, 4);\nlet React, memo, useCallback, useMemo, useState;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  memo(v) {\n    memo = v;\n  },\n  useCallback(v) {\n    useCallback = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  },\n  useState(v) {\n    useState = v;\n  }\n}, 5);\nlet GenericNoResults;\nmodule.link(\"../../../components/GenericNoResults\", {\n  default(v) {\n    GenericNoResults = v;\n  }\n}, 6);\nlet GenericTable, GenericTableBody, GenericTableCell, GenericTableHeader, GenericTableHeaderCell, GenericTableLoadingTable, GenericTableRow;\nmodule.link(\"../../../components/GenericTable\", {\n  GenericTable(v) {\n    GenericTable = v;\n  },\n  GenericTableBody(v) {\n    GenericTableBody = v;\n  },\n  GenericTableCell(v) {\n    GenericTableCell = v;\n  },\n  GenericTableHeader(v) {\n    GenericTableHeader = v;\n  },\n  GenericTableHeaderCell(v) {\n    GenericTableHeaderCell = v;\n  },\n  GenericTableLoadingTable(v) {\n    GenericTableLoadingTable = v;\n  },\n  GenericTableRow(v) {\n    GenericTableRow = v;\n  }\n}, 7);\nlet usePagination;\nmodule.link(\"../../../components/GenericTable/hooks/usePagination\", {\n  usePagination(v) {\n    usePagination = v;\n  }\n}, 8);\nlet useSort;\nmodule.link(\"../../../components/GenericTable/hooks/useSort\", {\n  useSort(v) {\n    useSort = v;\n  }\n}, 9);\nlet Page, PageHeader, PageContent;\nmodule.link(\"../../../components/Page\", {\n  Page(v) {\n    Page = v;\n  },\n  PageHeader(v) {\n    PageHeader = v;\n  },\n  PageContent(v) {\n    PageContent = v;\n  }\n}, 10);\nlet useIsOverMacLimit;\nmodule.link(\"../../../hooks/omnichannel/useIsOverMacLimit\", {\n  useIsOverMacLimit(v) {\n    useIsOverMacLimit = v;\n  }\n}, 11);\nlet RoomActivityIcon;\nmodule.link(\"../../../omnichannel/components/RoomActivityIcon\", {\n  RoomActivityIcon(v) {\n    RoomActivityIcon = v;\n  }\n}, 12);\nlet useOmnichannelPriorities;\nmodule.link(\"../../../omnichannel/hooks/useOmnichannelPriorities\", {\n  useOmnichannelPriorities(v) {\n    useOmnichannelPriorities = v;\n  }\n}, 13);\nlet PriorityIcon;\nmodule.link(\"../../../omnichannel/priorities/PriorityIcon\", {\n  PriorityIcon(v) {\n    PriorityIcon = v;\n  }\n}, 14);\nlet CustomFieldsList;\nmodule.link(\"./CustomFieldsList\", {\n  default(v) {\n    CustomFieldsList = v;\n  }\n}, 15);\nlet FilterByText;\nmodule.link(\"./FilterByText\", {\n  default(v) {\n    FilterByText = v;\n  }\n}, 16);\nlet RemoveChatButton;\nmodule.link(\"./RemoveChatButton\", {\n  default(v) {\n    RemoveChatButton = v;\n  }\n}, 17);\nlet useAllCustomFields;\nmodule.link(\"./hooks/useAllCustomFields\", {\n  useAllCustomFields(v) {\n    useAllCustomFields = v;\n  }\n}, 18);\nlet useCurrentChats;\nmodule.link(\"./hooks/useCurrentChats\", {\n  useCurrentChats(v) {\n    useCurrentChats = v;\n  }\n}, 19);\nconst sortDir = sortDir => sortDir === 'asc' ? 1 : -1;\nconst currentChatQuery = (_ref, customFields, _ref2, current, itemsPerPage) => {\n  let {\n    guest,\n    servedBy,\n    department,\n    status,\n    from,\n    to,\n    tags\n  } = _ref;\n  let [column, direction] = _ref2;\n  const query = _objectSpread(_objectSpread(_objectSpread({}, guest && {\n    roomName: guest\n  }), {}, {\n    sort: JSON.stringify({\n      [column]: sortDir(direction),\n      ts: column === 'ts' ? sortDir(direction) : undefined\n    })\n  }, itemsPerPage && {\n    count: itemsPerPage\n  }), current && {\n    offset: current\n  });\n  if (from || to) {\n    query.createdAt = JSON.stringify(_objectSpread(_objectSpread({}, from && {\n      start: moment(new Date(from)).set({\n        hour: 0,\n        minutes: 0,\n        seconds: 0\n      }).toISOString()\n    }), to && {\n      end: moment(new Date(to)).set({\n        hour: 23,\n        minutes: 59,\n        seconds: 59\n      }).toISOString()\n    }));\n  }\n  if (status !== 'all') {\n    query.open = status === 'opened' || status === 'onhold' || status === 'queued';\n    query.onhold = status === 'onhold';\n    query.queued = status === 'queued';\n  }\n  if (servedBy && servedBy !== 'all') {\n    query.agents = [servedBy];\n  }\n  if (department && department !== 'all') {\n    query.departmentId = department;\n  }\n  if (tags && tags.length > 0) {\n    query.tags = tags;\n  }\n  if (customFields && Object.keys(customFields).length > 0) {\n    const customFieldsQuery = Object.fromEntries(Object.entries(customFields).filter(item => item[1] !== undefined && item[1] !== ''));\n    if (Object.keys(customFieldsQuery).length > 0) {\n      query.customFields = JSON.stringify(customFieldsQuery);\n    }\n  }\n  return query;\n};\nconst CurrentChatsPage = _ref3 => {\n  let {\n    id,\n    onRowClick\n  } = _ref3;\n  const isWorkspaceOverMacLimit = useIsOverMacLimit();\n  const {\n    sortBy,\n    sortDirection,\n    setSort\n  } = useSort('ts', 'desc');\n  const [customFields, setCustomFields] = useState();\n  const t = useTranslation();\n  const canRemoveClosedChats = usePermission('remove-closed-livechat-room');\n  const {\n    enabled: isPriorityEnabled\n  } = useOmnichannelPriorities();\n  const {\n    data: allCustomFields\n  } = useAllCustomFields();\n  const _usePagination = usePagination(),\n    {\n      current,\n      itemsPerPage,\n      setItemsPerPage,\n      setCurrent\n    } = _usePagination,\n    paginationProps = _objectWithoutProperties(_usePagination, _excluded);\n  const [params, setParams] = useState({\n    guest: '',\n    fname: '',\n    servedBy: '',\n    status: 'all',\n    department: '',\n    from: '',\n    to: '',\n    tags: []\n  });\n  const hasCustomFields = useMemo(() => {\n    var _allCustomFields$cust;\n    return !!(allCustomFields !== null && allCustomFields !== void 0 && (_allCustomFields$cust = allCustomFields.customFields) !== null && _allCustomFields$cust !== void 0 && _allCustomFields$cust.find(customField => customField.scope === 'room'));\n  }, [allCustomFields]);\n  const query = useMemo(() => currentChatQuery(params, customFields, [sortBy, sortDirection], current, itemsPerPage), [customFields, itemsPerPage, params, sortBy, sortDirection, current]);\n  const {\n    data,\n    isLoading,\n    isSuccess\n  } = useCurrentChats(query);\n  const [defaultQuery] = useState(hashQueryKey([query]));\n  const queryHasChanged = defaultQuery !== hashQueryKey([query]);\n  const onFilter = useMutableCallback(params => {\n    setParams(params);\n    setCurrent(0);\n  });\n  const renderRow = useCallback(room => {\n    const {\n      _id,\n      fname,\n      servedBy,\n      ts,\n      lm,\n      department,\n      open,\n      onHold,\n      priorityWeight\n    } = room;\n    const getStatusText = (open, onHold, servedBy) => {\n      if (!open) return t('Closed');\n      if (open && !servedBy) return t('Queued');\n      return onHold ? t('On_Hold_Chats') : t('Room_Status_Open');\n    };\n    return /*#__PURE__*/React.createElement(GenericTableRow, {\n      key: _id,\n      onClick: () => onRowClick(_id),\n      action: true,\n      \"data-qa-id\": fname\n    }, isPriorityEnabled && /*#__PURE__*/React.createElement(GenericTableCell, {\n      withTruncatedText: true,\n      \"data-qa\": \"current-chats-cell-priority\"\n    }, /*#__PURE__*/React.createElement(PriorityIcon, {\n      level: priorityWeight\n    })), /*#__PURE__*/React.createElement(GenericTableCell, {\n      withTruncatedText: true,\n      \"data-qa\": \"current-chats-cell-name\"\n    }, fname), /*#__PURE__*/React.createElement(GenericTableCell, {\n      withTruncatedText: true,\n      \"data-qa\": \"current-chats-cell-department\"\n    }, department ? department.name : ''), /*#__PURE__*/React.createElement(GenericTableCell, {\n      withTruncatedText: true,\n      \"data-qa\": \"current-chats-cell-servedBy\"\n    }, servedBy === null || servedBy === void 0 ? void 0 : servedBy.username), /*#__PURE__*/React.createElement(GenericTableCell, {\n      withTruncatedText: true,\n      \"data-qa\": \"current-chats-cell-startedAt\"\n    }, moment(ts).format('L LTS')), /*#__PURE__*/React.createElement(GenericTableCell, {\n      withTruncatedText: true,\n      \"data-qa\": \"current-chats-cell-lastMessage\"\n    }, moment(lm).format('L LTS')), /*#__PURE__*/React.createElement(GenericTableCell, {\n      withTruncatedText: true,\n      \"data-qa\": \"current-chats-cell-status\"\n    }, /*#__PURE__*/React.createElement(RoomActivityIcon, {\n      room: room\n    }), \" \", getStatusText(open, onHold, !!(servedBy !== null && servedBy !== void 0 && servedBy.username))), canRemoveClosedChats && !open && /*#__PURE__*/React.createElement(RemoveChatButton, {\n      _id: _id\n    }));\n  }, [canRemoveClosedChats, onRowClick, isPriorityEnabled, t]);\n  const headers = /*#__PURE__*/React.createElement(React.Fragment, null, isPriorityEnabled && /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"priorityWeight\",\n    direction: sortDirection,\n    active: sortBy === 'priorityWeight',\n    onClick: setSort,\n    sort: \"priorityWeight\",\n    w: \"x100\",\n    alignItems: \"center\"\n  }, t('Priority')), /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"fname\",\n    direction: sortDirection,\n    active: sortBy === 'fname',\n    onClick: setSort,\n    sort: \"fname\",\n    \"data-qa\": \"current-chats-header-name\"\n  }, t('Name')), /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"departmentId\",\n    direction: sortDirection,\n    active: sortBy === 'departmentId',\n    onClick: setSort,\n    sort: \"departmentId\",\n    \"data-qa\": \"current-chats-header-department\"\n  }, t('Department')), /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"servedBy\",\n    direction: sortDirection,\n    active: sortBy === 'servedBy',\n    onClick: setSort,\n    sort: \"servedBy\",\n    \"data-qa\": \"current-chats-header-servedBy\"\n  }, t('Served_By')), /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"ts\",\n    direction: sortDirection,\n    active: sortBy === 'ts',\n    onClick: setSort,\n    sort: \"ts\",\n    \"data-qa\": \"current-chats-header-startedAt\"\n  }, t('Started_At')), /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"lm\",\n    direction: sortDirection,\n    active: sortBy === 'lm',\n    onClick: setSort,\n    sort: \"lm\",\n    \"data-qa\": \"current-chats-header-lastMessage\"\n  }, t('Last_Message')), /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"open\",\n    direction: sortDirection,\n    active: sortBy === 'open',\n    onClick: setSort,\n    sort: \"open\",\n    w: \"x100\",\n    \"data-qa\": \"current-chats-header-status\"\n  }, t('Status')), canRemoveClosedChats && /*#__PURE__*/React.createElement(GenericTableHeaderCell, {\n    key: \"remove\",\n    w: \"x60\",\n    \"data-qa\": \"current-chats-header-remove\"\n  }, t('Remove')));\n  // TODO: Missing error state\n  return /*#__PURE__*/React.createElement(Page, {\n    flexDirection: \"row\"\n  }, /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: t('Current_Chats')\n  }), /*#__PURE__*/React.createElement(PageContent, null, (isSuccess && (data === null || data === void 0 ? void 0 : data.rooms.length) > 0 || queryHasChanged) && /*#__PURE__*/React.createElement(FilterByText, {\n    setFilter: onFilter,\n    setCustomFields: setCustomFields,\n    customFields: customFields,\n    hasCustomFields: hasCustomFields\n  }), isWorkspaceOverMacLimit && /*#__PURE__*/React.createElement(Callout, {\n    type: \"danger\",\n    icon: \"warning\",\n    title: t('The_workspace_has_exceeded_the_monthly_limit_of_active_contacts'),\n    style: {\n      marginBlock: '2rem'\n    }\n  }, t('Talk_to_your_workspace_admin_to_address_this_issue')), isSuccess && (data === null || data === void 0 ? void 0 : data.rooms.length) === 0 && queryHasChanged && /*#__PURE__*/React.createElement(GenericNoResults, null), isSuccess && (data === null || data === void 0 ? void 0 : data.rooms.length) === 0 && !queryHasChanged && /*#__PURE__*/React.createElement(GenericNoResults, {\n    icon: \"discussion\",\n    title: t('No_chats_yet'),\n    description: t('No_chats_yet_description'),\n    linkHref: \"https://go.rocket.chat/i/omnichannel-docs\",\n    linkText: t('Learn_more_about_current_chats')\n  }), isLoading && /*#__PURE__*/React.createElement(GenericTable, null, /*#__PURE__*/React.createElement(GenericTableHeader, null, headers), /*#__PURE__*/React.createElement(GenericTableBody, null, /*#__PURE__*/React.createElement(GenericTableLoadingTable, {\n    headerCells: 6\n  }))), isSuccess && (data === null || data === void 0 ? void 0 : data.rooms.length) > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(GenericTable, null, /*#__PURE__*/React.createElement(GenericTableHeader, null, headers), /*#__PURE__*/React.createElement(GenericTableBody, {\n    \"data-qa\": \"GenericTableCurrentChatsBody\"\n  }, data.rooms.map(room => renderRow(_objectSpread({}, room))))), /*#__PURE__*/React.createElement(Pagination, _extends({\n    divider: true,\n    current: current,\n    itemsPerPage: itemsPerPage,\n    count: data.total,\n    onSetItemsPerPage: setItemsPerPage,\n    onSetCurrent: setCurrent\n  }, paginationProps))))), id === 'custom-fields' && hasCustomFields && /*#__PURE__*/React.createElement(CustomFieldsList, {\n    setCustomFields: setCustomFields,\n    allCustomFields: (allCustomFields === null || allCustomFields === void 0 ? void 0 : allCustomFields.customFields) || []\n  }));\n};\nmodule.exportDefault( /*#__PURE__*/memo(CurrentChatsPage));","map":{"version":3,"names":["_extends","module","link","default","v","_objectWithoutProperties","_objectSpread","Callout","Pagination","useMutableCallback","usePermission","useTranslation","hashQueryKey","moment","React","memo","useCallback","useMemo","useState","GenericNoResults","GenericTable","GenericTableBody","GenericTableCell","GenericTableHeader","GenericTableHeaderCell","GenericTableLoadingTable","GenericTableRow","usePagination","useSort","Page","PageHeader","PageContent","useIsOverMacLimit","RoomActivityIcon","useOmnichannelPriorities","PriorityIcon","CustomFieldsList","FilterByText","RemoveChatButton","useAllCustomFields","useCurrentChats","sortDir","currentChatQuery","_ref","customFields","_ref2","current","itemsPerPage","guest","servedBy","department","status","from","to","tags","column","direction","query","roomName","sort","JSON","stringify","ts","undefined","count","offset","createdAt","start","Date","set","hour","minutes","seconds","toISOString","end","open","onhold","queued","agents","departmentId","length","Object","keys","customFieldsQuery","fromEntries","entries","filter","item","CurrentChatsPage","_ref3","id","onRowClick","isWorkspaceOverMacLimit","sortBy","sortDirection","setSort","setCustomFields","t","canRemoveClosedChats","enabled","isPriorityEnabled","data","allCustomFields","_usePagination","setItemsPerPage","setCurrent","paginationProps","_excluded","params","setParams","fname","hasCustomFields","_allCustomFields$cust","find","customField","scope","isLoading","isSuccess","defaultQuery","queryHasChanged","onFilter","renderRow","room","_id","lm","onHold","priorityWeight","getStatusText","createElement","key","onClick","action","withTruncatedText","level","name","username","format","headers","Fragment","active","w","alignItems","flexDirection","title","rooms","setFilter","type","icon","style","marginBlock","description","linkHref","linkText","headerCells","map","divider","total","onSetItemsPerPage","onSetCurrent","exportDefault"],"sources":["client/views/omnichannel/currentChats/CurrentChatsPage.tsx"],"sourcesContent":["import { Callout, Pagination } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { GETLivechatRoomsParams } from '@rocket.chat/rest-typings';\nimport { usePermission, useTranslation } from '@rocket.chat/ui-contexts';\nimport { hashQueryKey } from '@tanstack/react-query';\nimport moment from 'moment';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { memo, useCallback, useMemo, useState } from 'react';\n\nimport GenericNoResults from '../../../components/GenericNoResults';\nimport {\n\tGenericTable,\n\tGenericTableBody,\n\tGenericTableCell,\n\tGenericTableHeader,\n\tGenericTableHeaderCell,\n\tGenericTableLoadingTable,\n\tGenericTableRow,\n} from '../../../components/GenericTable';\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\nimport { useIsOverMacLimit } from '../../../hooks/omnichannel/useIsOverMacLimit';\nimport { RoomActivityIcon } from '../../../omnichannel/components/RoomActivityIcon';\nimport { useOmnichannelPriorities } from '../../../omnichannel/hooks/useOmnichannelPriorities';\nimport { PriorityIcon } from '../../../omnichannel/priorities/PriorityIcon';\nimport CustomFieldsList from './CustomFieldsList';\nimport FilterByText from './FilterByText';\nimport RemoveChatButton from './RemoveChatButton';\nimport { useAllCustomFields } from './hooks/useAllCustomFields';\nimport { useCurrentChats } from './hooks/useCurrentChats';\n\ntype DebouncedParams = {\n\tfname: string;\n\tguest: string;\n\tservedBy: string;\n\tdepartment: string;\n\tstatus: string;\n\tfrom: string;\n\tto: string;\n\ttags: any[];\n};\n\ntype CurrentChatQuery = {\n\tagents?: string[];\n\toffset?: number;\n\troomName?: string;\n\tdepartmentId?: string;\n\topen?: boolean;\n\tcreatedAt?: string;\n\tclosedAt?: string;\n\ttags?: string[];\n\tonhold?: boolean;\n\tcustomFields?: string;\n\tsort: string;\n\tcount?: number;\n\tqueued?: boolean;\n};\n\ntype useQueryType = (\n\tdebouncedParams: DebouncedParams,\n\tcustomFields: { [key: string]: string } | undefined,\n\t[column, direction]: [string, 'asc' | 'desc'],\n\tcurrent: number,\n\titemsPerPage: 25 | 50 | 100,\n) => GETLivechatRoomsParams;\n\nconst sortDir = (sortDir: 'asc' | 'desc'): 1 | -1 => (sortDir === 'asc' ? 1 : -1);\n\nconst currentChatQuery: useQueryType = (\n\t{ guest, servedBy, department, status, from, to, tags },\n\tcustomFields,\n\t[column, direction],\n\tcurrent,\n\titemsPerPage,\n) => {\n\tconst query: CurrentChatQuery = {\n\t\t...(guest && { roomName: guest }),\n\t\tsort: JSON.stringify({\n\t\t\t[column]: sortDir(direction),\n\t\t\tts: column === 'ts' ? sortDir(direction) : undefined,\n\t\t}),\n\t\t...(itemsPerPage && { count: itemsPerPage }),\n\t\t...(current && { offset: current }),\n\t};\n\n\tif (from || to) {\n\t\tquery.createdAt = JSON.stringify({\n\t\t\t...(from && {\n\t\t\t\tstart: moment(new Date(from)).set({ hour: 0, minutes: 0, seconds: 0 }).toISOString(),\n\t\t\t}),\n\t\t\t...(to && {\n\t\t\t\tend: moment(new Date(to)).set({ hour: 23, minutes: 59, seconds: 59 }).toISOString(),\n\t\t\t}),\n\t\t});\n\t}\n\n\tif (status !== 'all') {\n\t\tquery.open = status === 'opened' || status === 'onhold' || status === 'queued';\n\t\tquery.onhold = status === 'onhold';\n\t\tquery.queued = status === 'queued';\n\t}\n\tif (servedBy && servedBy !== 'all') {\n\t\tquery.agents = [servedBy];\n\t}\n\tif (department && department !== 'all') {\n\t\tquery.departmentId = department;\n\t}\n\n\tif (tags && tags.length > 0) {\n\t\tquery.tags = tags;\n\t}\n\n\tif (customFields && Object.keys(customFields).length > 0) {\n\t\tconst customFieldsQuery = Object.fromEntries(Object.entries(customFields).filter((item) => item[1] !== undefined && item[1] !== ''));\n\t\tif (Object.keys(customFieldsQuery).length > 0) {\n\t\t\tquery.customFields = JSON.stringify(customFieldsQuery);\n\t\t}\n\t}\n\n\treturn query;\n};\n\nconst CurrentChatsPage = ({ id, onRowClick }: { id?: string; onRowClick: (_id: string) => void }): ReactElement => {\n\tconst isWorkspaceOverMacLimit = useIsOverMacLimit();\n\tconst { sortBy, sortDirection, setSort } = useSort<'fname' | 'departmentId' | 'servedBy' | 'priorityWeight' | 'ts' | 'lm' | 'open'>(\n\t\t'ts',\n\t\t'desc',\n\t);\n\tconst [customFields, setCustomFields] = useState<{ [key: string]: string }>();\n\n\tconst t = useTranslation();\n\n\tconst canRemoveClosedChats = usePermission('remove-closed-livechat-room');\n\tconst { enabled: isPriorityEnabled } = useOmnichannelPriorities();\n\n\tconst { data: allCustomFields } = useAllCustomFields();\n\n\tconst { current, itemsPerPage, setItemsPerPage, setCurrent, ...paginationProps } = usePagination();\n\n\tconst [params, setParams] = useState({\n\t\tguest: '',\n\t\tfname: '',\n\t\tservedBy: '',\n\t\tstatus: 'all',\n\t\tdepartment: '',\n\t\tfrom: '',\n\t\tto: '',\n\t\ttags: [] as string[],\n\t});\n\n\tconst hasCustomFields = useMemo(\n\t\t() => !!allCustomFields?.customFields?.find((customField) => customField.scope === 'room'),\n\t\t[allCustomFields],\n\t);\n\n\tconst query = useMemo(\n\t\t() => currentChatQuery(params, customFields, [sortBy, sortDirection], current, itemsPerPage),\n\t\t[customFields, itemsPerPage, params, sortBy, sortDirection, current],\n\t);\n\n\tconst { data, isLoading, isSuccess } = useCurrentChats(query);\n\n\tconst [defaultQuery] = useState(hashQueryKey([query]));\n\tconst queryHasChanged = defaultQuery !== hashQueryKey([query]);\n\n\tconst onFilter = useMutableCallback((params: DebouncedParams): void => {\n\t\tsetParams(params);\n\t\tsetCurrent(0);\n\t});\n\n\tconst renderRow = useCallback(\n\t\t(room) => {\n\t\t\tconst { _id, fname, servedBy, ts, lm, department, open, onHold, priorityWeight } = room;\n\t\t\tconst getStatusText = (open: boolean, onHold: boolean, servedBy: boolean): string => {\n\t\t\t\tif (!open) return t('Closed');\n\t\t\t\tif (open && !servedBy) return t('Queued');\n\t\t\t\treturn onHold ? t('On_Hold_Chats') : t('Room_Status_Open');\n\t\t\t};\n\n\t\t\treturn (\n\t\t\t\t<GenericTableRow key={_id} onClick={(): void => onRowClick(_id)} action data-qa-id={fname}>\n\t\t\t\t\t{isPriorityEnabled && (\n\t\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-priority'>\n\t\t\t\t\t\t\t<PriorityIcon level={priorityWeight} />\n\t\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t)}\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-name'>\n\t\t\t\t\t\t{fname}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-department'>\n\t\t\t\t\t\t{department ? department.name : ''}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-servedBy'>\n\t\t\t\t\t\t{servedBy?.username}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-startedAt'>\n\t\t\t\t\t\t{moment(ts).format('L LTS')}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-lastMessage'>\n\t\t\t\t\t\t{moment(lm).format('L LTS')}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t<GenericTableCell withTruncatedText data-qa='current-chats-cell-status'>\n\t\t\t\t\t\t<RoomActivityIcon room={room} /> {getStatusText(open, onHold, !!servedBy?.username)}\n\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t{canRemoveClosedChats && !open && <RemoveChatButton _id={_id} />}\n\t\t\t\t</GenericTableRow>\n\t\t\t);\n\t\t},\n\t\t[canRemoveClosedChats, onRowClick, isPriorityEnabled, t],\n\t);\n\n\tconst headers = (\n\t\t<>\n\t\t\t{isPriorityEnabled && (\n\t\t\t\t<GenericTableHeaderCell\n\t\t\t\t\tkey='priorityWeight'\n\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\tactive={sortBy === 'priorityWeight'}\n\t\t\t\t\tonClick={setSort}\n\t\t\t\t\tsort='priorityWeight'\n\t\t\t\t\tw='x100'\n\t\t\t\t\talignItems='center'\n\t\t\t\t>\n\t\t\t\t\t{t('Priority')}\n\t\t\t\t</GenericTableHeaderCell>\n\t\t\t)}\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='fname'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'fname'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='fname'\n\t\t\t\tdata-qa='current-chats-header-name'\n\t\t\t>\n\t\t\t\t{t('Name')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='departmentId'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'departmentId'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='departmentId'\n\t\t\t\tdata-qa='current-chats-header-department'\n\t\t\t>\n\t\t\t\t{t('Department')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='servedBy'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'servedBy'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='servedBy'\n\t\t\t\tdata-qa='current-chats-header-servedBy'\n\t\t\t>\n\t\t\t\t{t('Served_By')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='ts'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'ts'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='ts'\n\t\t\t\tdata-qa='current-chats-header-startedAt'\n\t\t\t>\n\t\t\t\t{t('Started_At')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='lm'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'lm'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='lm'\n\t\t\t\tdata-qa='current-chats-header-lastMessage'\n\t\t\t>\n\t\t\t\t{t('Last_Message')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='open'\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'open'}\n\t\t\t\tonClick={setSort}\n\t\t\t\tsort='open'\n\t\t\t\tw='x100'\n\t\t\t\tdata-qa='current-chats-header-status'\n\t\t\t>\n\t\t\t\t{t('Status')}\n\t\t\t</GenericTableHeaderCell>\n\t\t\t{canRemoveClosedChats && (\n\t\t\t\t<GenericTableHeaderCell key='remove' w='x60' data-qa='current-chats-header-remove'>\n\t\t\t\t\t{t('Remove')}\n\t\t\t\t</GenericTableHeaderCell>\n\t\t\t)}\n\t\t</>\n\t);\n\n\t// TODO: Missing error state\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={t('Current_Chats')} />\n\t\t\t\t<PageContent>\n\t\t\t\t\t{((isSuccess && data?.rooms.length > 0) || queryHasChanged) && (\n\t\t\t\t\t\t<FilterByText\n\t\t\t\t\t\t\tsetFilter={onFilter as ComponentProps<typeof FilterByText>['setFilter']}\n\t\t\t\t\t\t\tsetCustomFields={setCustomFields}\n\t\t\t\t\t\t\tcustomFields={customFields}\n\t\t\t\t\t\t\thasCustomFields={hasCustomFields}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{isWorkspaceOverMacLimit && (\n\t\t\t\t\t\t<Callout\n\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\ticon='warning'\n\t\t\t\t\t\t\ttitle={t('The_workspace_has_exceeded_the_monthly_limit_of_active_contacts')}\n\t\t\t\t\t\t\tstyle={{ marginBlock: '2rem' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Talk_to_your_workspace_admin_to_address_this_issue')}\n\t\t\t\t\t\t</Callout>\n\t\t\t\t\t)}\n\t\t\t\t\t{isSuccess && data?.rooms.length === 0 && queryHasChanged && <GenericNoResults />}\n\t\t\t\t\t{isSuccess && data?.rooms.length === 0 && !queryHasChanged && (\n\t\t\t\t\t\t<GenericNoResults\n\t\t\t\t\t\t\ticon='discussion'\n\t\t\t\t\t\t\ttitle={t('No_chats_yet')}\n\t\t\t\t\t\t\tdescription={t('No_chats_yet_description')}\n\t\t\t\t\t\t\tlinkHref='https://go.rocket.chat/i/omnichannel-docs'\n\t\t\t\t\t\t\tlinkText={t('Learn_more_about_current_chats')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<GenericTable>\n\t\t\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t\t\t<GenericTableLoadingTable headerCells={6} />\n\t\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t\t</GenericTable>\n\t\t\t\t\t)}\n\t\t\t\t\t{isSuccess && data?.rooms.length > 0 && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<GenericTable>\n\t\t\t\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t\t\t\t<GenericTableBody data-qa='GenericTableCurrentChatsBody'>\n\t\t\t\t\t\t\t\t\t{data.rooms.map((room) => renderRow({ ...room }))}\n\t\t\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t\t\t</GenericTable>\n\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\tdivider\n\t\t\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\t\t\tcount={data.total}\n\t\t\t\t\t\t\t\tonSetItemsPerPage={setItemsPerPage}\n\t\t\t\t\t\t\t\tonSetCurrent={setCurrent}\n\t\t\t\t\t\t\t\t{...paginationProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</PageContent>\n\t\t\t</Page>\n\t\t\t{id === 'custom-fields' && hasCustomFields && (\n\t\t\t\t<CustomFieldsList setCustomFields={setCustomFields} allCustomFields={allCustomFields?.customFields || []} />\n\t\t\t)}\n\t\t</Page>\n\t);\n};\n\nexport default memo(CurrentChatsPage);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"abdfdb75c4fc00120e205c138c41bb53add67ea5"}
