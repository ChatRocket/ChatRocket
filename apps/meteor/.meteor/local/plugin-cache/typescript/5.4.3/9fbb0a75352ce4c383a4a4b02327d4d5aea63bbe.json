{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/users/AdminUsersPage.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/users/AdminUsersPage.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/users/AdminUsersPage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/users/AdminUsersPage.tsx","sourceRoot":"","sources":["client/views/admin/users/AdminUsersPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { LicenseInfo } from '@rocket.chat/core-typings';\nimport { Callout, ContextualbarIcon, Icon, Skeleton, Tabs, TabsItem } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport type { OptionProp } from '@rocket.chat/ui-client';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport { useRouteParameter, useTranslation, useRouter, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Trans } from 'react-i18next';\n\nimport {\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarDialog,\n} from '../../../components/Contextualbar';\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\nimport { useLicenseLimitsByBehavior } from '../../../hooks/useLicenseLimitsByBehavior';\nimport { useShouldPreventAction } from '../../../hooks/useShouldPreventAction';\nimport { useCheckoutUrl } from '../subscription/hooks/useCheckoutUrl';\nimport AdminInviteUsers from './AdminInviteUsers';\nimport AdminUserCreated from './AdminUserCreated';\nimport AdminUserForm from './AdminUserForm';\nimport AdminUserFormWithData from './AdminUserFormWithData';\nimport AdminUserInfoWithData from './AdminUserInfoWithData';\nimport AdminUserUpgrade from './AdminUserUpgrade';\nimport UsersPageHeaderContent from './UsersPageHeaderContent';\nimport UsersTable from './UsersTable';\nimport useFilteredUsers from './hooks/useFilteredUsers';\nimport usePendingUsersCount from './hooks/usePendingUsersCount';\nimport { useSeatsCap } from './useSeatsCap';\n\nexport type UsersFilters = {\n\ttext: string;\n\troles: OptionProp[];\n};\n\nexport type AdminUsersTab = 'all' | 'active' | 'deactivated' | 'pending';\n\nexport type UsersTableSortingOption = 'name' | 'username' | 'emails.address' | 'status' | 'active' | 'freeSwitchExtension';\n\nconst AdminUsersPage = (): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst seatsCap = useSeatsCap();\n\n\tconst isSeatsCapExceeded = useShouldPreventAction('activeUsers');\n\tconst { prevent_action: preventAction } = useLicenseLimitsByBehavior() ?? {};\n\tconst manageSubscriptionUrl = useCheckoutUrl();\n\n\tconst router = useRouter();\n\tconst context = useRouteParameter('context');\n\tconst id = useRouteParameter('id');\n\n\tconst isCreateUserDisabled = useShouldPreventAction('activeUsers');\n\n\tconst getRoles = useEndpoint('GET', '/v1/roles.list');\n\tconst { data, error } = useQuery(['roles'], async () => getRoles());\n\n\tconst paginationData = usePagination();\n\tconst sortData = useSort<UsersTableSortingOption>('name');\n\n\tconst [tab, setTab] = useState<AdminUsersTab>('all');\n\tconst [userFilters, setUserFilters] = useState<UsersFilters>({ text: '', roles: [] });\n\n\tconst searchTerm = useDebouncedValue(userFilters.text, 500);\n\tconst prevSearchTerm = useRef('');\n\n\tconst filteredUsersQueryResult = useFilteredUsers({\n\t\tsearchTerm,\n\t\tprevSearchTerm,\n\t\tsortData,\n\t\tpaginationData,\n\t\ttab,\n\t\tselectedRoles: useMemo(() => userFilters.roles.map((role) => role.id), [userFilters.roles]),\n\t});\n\n\tconst pendingUsersCount = usePendingUsersCount(filteredUsersQueryResult.data?.users);\n\n\tconst handleReload = (): void => {\n\t\tseatsCap?.reload();\n\t\tfilteredUsersQueryResult?.refetch();\n\t};\n\n\tconst handleTabChange = (tab: AdminUsersTab) => {\n\t\tsetTab(tab);\n\n\t\tpaginationData.setCurrent(0);\n\t\tsortData.setSort(tab === 'pending' ? 'active' : 'name', 'asc');\n\t};\n\n\tuseEffect(() => {\n\t\tprevSearchTerm.current = searchTerm;\n\t}, [searchTerm]);\n\n\tconst isRoutePrevented = useMemo(\n\t\t() => context && ['new', 'invite'].includes(context) && isCreateUserDisabled,\n\t\t[context, isCreateUserDisabled],\n\t);\n\n\tconst toTranslationKey = (key: keyof LicenseInfo['limits']) => t(`subscription.callout.${key}`);\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={t('Users')}>\n\t\t\t\t\t<UsersPageHeaderContent isSeatsCapExceeded={isSeatsCapExceeded} seatsCap={seatsCap} />\n\t\t\t\t</PageHeader>\n\t\t\t\t{preventAction?.includes('activeUsers') && (\n\t\t\t\t\t<Callout type='danger' title={t('subscription.callout.servicesDisruptionsOccurring')} mbe={19} mi={24}>\n\t\t\t\t\t\t<Trans i18nKey='subscription.callout.description.limitsExceeded' count={preventAction.length}>\n\t\t\t\t\t\t\tYour workspace exceeded the <>{{ val: preventAction.map(toTranslationKey) }}</> license limit.\n\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\tto={manageSubscriptionUrl({\n\t\t\t\t\t\t\t\t\ttarget: 'callout',\n\t\t\t\t\t\t\t\t\taction: 'prevent_action',\n\t\t\t\t\t\t\t\t\tlimits: preventAction.join(','),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tManage your subscription\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\tto increase limits.\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</Callout>\n\t\t\t\t)}\n\t\t\t\t<Tabs>\n\t\t\t\t\t<TabsItem selected={!tab || tab === 'all'} onClick={() => handleTabChange('all')}>\n\t\t\t\t\t\t{t('All')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'pending'} onClick={() => handleTabChange('pending')} display='flex' flexDirection='row'>\n\t\t\t\t\t\t{`${t('Pending')} `}\n\t\t\t\t\t\t{pendingUsersCount.isLoading && <Skeleton variant='circle' height='x16' width='x16' mis={8} />}\n\t\t\t\t\t\t{pendingUsersCount.isSuccess && `(${pendingUsersCount.data})`}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'active'} onClick={() => handleTabChange('active')}>\n\t\t\t\t\t\t{t('Active')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'deactivated'} onClick={() => handleTabChange('deactivated')}>\n\t\t\t\t\t\t{t('Deactivated')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t</Tabs>\n\t\t\t\t<PageContent>\n\t\t\t\t\t<UsersTable\n\t\t\t\t\t\tfilteredUsersQueryResult={filteredUsersQueryResult}\n\t\t\t\t\t\tsetUserFilters={setUserFilters}\n\t\t\t\t\t\tpaginationData={paginationData}\n\t\t\t\t\t\tsortData={sortData}\n\t\t\t\t\t\ttab={tab}\n\t\t\t\t\t\tisSeatsCapExceeded={isSeatsCapExceeded}\n\t\t\t\t\t\troleData={data}\n\t\t\t\t\t\tonReload={handleReload}\n\t\t\t\t\t/>\n\t\t\t\t</PageContent>\n\t\t\t</Page>\n\t\t\t{context && (\n\t\t\t\t<ContextualbarDialog>\n\t\t\t\t\t<Contextualbar>\n\t\t\t\t\t\t<ContextualbarHeader>\n\t\t\t\t\t\t\t{context === 'upgrade' && <ContextualbarIcon name='user-plus' />}\n\t\t\t\t\t\t\t<ContextualbarTitle>\n\t\t\t\t\t\t\t\t{context === 'info' && t('User_Info')}\n\t\t\t\t\t\t\t\t{context === 'edit' && t('Edit_User')}\n\t\t\t\t\t\t\t\t{(context === 'new' || context === 'created') && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Icon name='user-plus' size={20} /> {t('New_user')}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{context === 'invite' && t('Invite_Users')}\n\t\t\t\t\t\t\t</ContextualbarTitle>\n\t\t\t\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/admin/users')} />\n\t\t\t\t\t\t</ContextualbarHeader>\n\t\t\t\t\t\t{context === 'info' && id && <AdminUserInfoWithData uid={id} onReload={handleReload} tab={tab} />}\n\t\t\t\t\t\t{context === 'edit' && id && (\n\t\t\t\t\t\t\t<AdminUserFormWithData uid={id} onReload={handleReload} context={context} roleData={data} roleError={error} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'new' && (\n\t\t\t\t\t\t\t<AdminUserForm onReload={handleReload} context={context} roleData={data} roleError={error} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'created' && id && <AdminUserCreated uid={id} />}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'invite' && <AdminInviteUsers />}\n\t\t\t\t\t\t{isRoutePrevented && <AdminUserUpgrade />}\n\t\t\t\t\t</Contextualbar>\n\t\t\t\t</ContextualbarDialog>\n\t\t\t)}\n\t\t</Page>\n\t);\n};\n\nexport default AdminUsersPage;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/users/AdminUsersPage.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/users/AdminUsersPage.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/users/AdminUsersPage.tsx","sourceRoot":"","sources":["client/views/admin/users/AdminUsersPage.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { LicenseInfo } from '@rocket.chat/core-typings';\nimport { Callout, ContextualbarIcon, Icon, Skeleton, Tabs, TabsItem } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport type { OptionProp } from '@rocket.chat/ui-client';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport { useRouteParameter, useTranslation, useRouter, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Trans } from 'react-i18next';\n\nimport {\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarDialog,\n} from '../../../components/Contextualbar';\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\nimport { useLicenseLimitsByBehavior } from '../../../hooks/useLicenseLimitsByBehavior';\nimport { useShouldPreventAction } from '../../../hooks/useShouldPreventAction';\nimport { useCheckoutUrl } from '../subscription/hooks/useCheckoutUrl';\nimport AdminInviteUsers from './AdminInviteUsers';\nimport AdminUserCreated from './AdminUserCreated';\nimport AdminUserForm from './AdminUserForm';\nimport AdminUserFormWithData from './AdminUserFormWithData';\nimport AdminUserInfoWithData from './AdminUserInfoWithData';\nimport AdminUserUpgrade from './AdminUserUpgrade';\nimport UsersPageHeaderContent from './UsersPageHeaderContent';\nimport UsersTable from './UsersTable';\nimport useFilteredUsers from './hooks/useFilteredUsers';\nimport usePendingUsersCount from './hooks/usePendingUsersCount';\nimport { useSeatsCap } from './useSeatsCap';\n\nexport type UsersFilters = {\n\ttext: string;\n\troles: OptionProp[];\n};\n\nexport type AdminUsersTab = 'all' | 'active' | 'deactivated' | 'pending';\n\nexport type UsersTableSortingOption = 'name' | 'username' | 'emails.address' | 'status' | 'active' | 'freeSwitchExtension';\n\nconst AdminUsersPage = (): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst seatsCap = useSeatsCap();\n\n\tconst isSeatsCapExceeded = useShouldPreventAction('activeUsers');\n\tconst { prevent_action: preventAction } = useLicenseLimitsByBehavior() ?? {};\n\tconst manageSubscriptionUrl = useCheckoutUrl();\n\n\tconst router = useRouter();\n\tconst context = useRouteParameter('context');\n\tconst id = useRouteParameter('id');\n\n\tconst isCreateUserDisabled = useShouldPreventAction('activeUsers');\n\n\tconst getRoles = useEndpoint('GET', '/v1/roles.list');\n\tconst { data, error } = useQuery(['roles'], async () => getRoles());\n\n\tconst paginationData = usePagination();\n\tconst sortData = useSort<UsersTableSortingOption>('name');\n\n\tconst [tab, setTab] = useState<AdminUsersTab>('all');\n\tconst [userFilters, setUserFilters] = useState<UsersFilters>({ text: '', roles: [] });\n\n\tconst searchTerm = useDebouncedValue(userFilters.text, 500);\n\tconst prevSearchTerm = useRef('');\n\n\tconst filteredUsersQueryResult = useFilteredUsers({\n\t\tsearchTerm,\n\t\tprevSearchTerm,\n\t\tsortData,\n\t\tpaginationData,\n\t\ttab,\n\t\tselectedRoles: useMemo(() => userFilters.roles.map((role) => role.id), [userFilters.roles]),\n\t});\n\n\tconst pendingUsersCount = usePendingUsersCount(filteredUsersQueryResult.data?.users);\n\n\tconst handleReload = (): void => {\n\t\tseatsCap?.reload();\n\t\tfilteredUsersQueryResult?.refetch();\n\t};\n\n\tconst handleTabChange = (tab: AdminUsersTab) => {\n\t\tsetTab(tab);\n\n\t\tpaginationData.setCurrent(0);\n\t\tsortData.setSort(tab === 'pending' ? 'active' : 'name', 'asc');\n\t};\n\n\tuseEffect(() => {\n\t\tprevSearchTerm.current = searchTerm;\n\t}, [searchTerm]);\n\n\tconst isRoutePrevented = useMemo(\n\t\t() => context && ['new', 'invite'].includes(context) && isCreateUserDisabled,\n\t\t[context, isCreateUserDisabled],\n\t);\n\n\tconst toTranslationKey = (key: keyof LicenseInfo['limits']) => t(`subscription.callout.${key}`);\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={t('Users')}>\n\t\t\t\t\t<UsersPageHeaderContent isSeatsCapExceeded={isSeatsCapExceeded} seatsCap={seatsCap} />\n\t\t\t\t</PageHeader>\n\t\t\t\t{preventAction?.includes('activeUsers') && (\n\t\t\t\t\t<Callout type='danger' title={t('subscription.callout.servicesDisruptionsOccurring')} mbe={19} mi={24}>\n\t\t\t\t\t\t<Trans i18nKey='subscription.callout.description.limitsExceeded' count={preventAction.length}>\n\t\t\t\t\t\t\tYour workspace exceeded the <>{{ val: preventAction.map(toTranslationKey) }}</> license limit.\n\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\tto={manageSubscriptionUrl({\n\t\t\t\t\t\t\t\t\ttarget: 'callout',\n\t\t\t\t\t\t\t\t\taction: 'prevent_action',\n\t\t\t\t\t\t\t\t\tlimits: preventAction.join(','),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tManage your subscription\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\tto increase limits.\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</Callout>\n\t\t\t\t)}\n\t\t\t\t<Tabs>\n\t\t\t\t\t<TabsItem selected={!tab || tab === 'all'} onClick={() => handleTabChange('all')}>\n\t\t\t\t\t\t{t('All')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'pending'} onClick={() => handleTabChange('pending')} display='flex' flexDirection='row'>\n\t\t\t\t\t\t{`${t('Pending')} `}\n\t\t\t\t\t\t{pendingUsersCount.isLoading && <Skeleton variant='circle' height='x16' width='x16' mis={8} />}\n\t\t\t\t\t\t{pendingUsersCount.isSuccess && `(${pendingUsersCount.data})`}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'active'} onClick={() => handleTabChange('active')}>\n\t\t\t\t\t\t{t('Active')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'deactivated'} onClick={() => handleTabChange('deactivated')}>\n\t\t\t\t\t\t{t('Deactivated')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t</Tabs>\n\t\t\t\t<PageContent>\n\t\t\t\t\t<UsersTable\n\t\t\t\t\t\tfilteredUsersQueryResult={filteredUsersQueryResult}\n\t\t\t\t\t\tsetUserFilters={setUserFilters}\n\t\t\t\t\t\tpaginationData={paginationData}\n\t\t\t\t\t\tsortData={sortData}\n\t\t\t\t\t\ttab={tab}\n\t\t\t\t\t\tisSeatsCapExceeded={isSeatsCapExceeded}\n\t\t\t\t\t\troleData={data}\n\t\t\t\t\t\tonReload={handleReload}\n\t\t\t\t\t/>\n\t\t\t\t</PageContent>\n\t\t\t</Page>\n\t\t\t{context && (\n\t\t\t\t<ContextualbarDialog>\n\t\t\t\t\t<Contextualbar>\n\t\t\t\t\t\t<ContextualbarHeader>\n\t\t\t\t\t\t\t{context === 'upgrade' && <ContextualbarIcon name='user-plus' />}\n\t\t\t\t\t\t\t<ContextualbarTitle>\n\t\t\t\t\t\t\t\t{context === 'info' && t('User_Info')}\n\t\t\t\t\t\t\t\t{context === 'edit' && t('Edit_User')}\n\t\t\t\t\t\t\t\t{(context === 'new' || context === 'created') && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Icon name='user-plus' size={20} /> {t('New_user')}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{context === 'invite' && t('Invite_Users')}\n\t\t\t\t\t\t\t</ContextualbarTitle>\n\t\t\t\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/admin/users')} />\n\t\t\t\t\t\t</ContextualbarHeader>\n\t\t\t\t\t\t{context === 'info' && id && <AdminUserInfoWithData uid={id} onReload={handleReload} tab={tab} />}\n\t\t\t\t\t\t{context === 'edit' && id && (\n\t\t\t\t\t\t\t<AdminUserFormWithData uid={id} onReload={handleReload} context={context} roleData={data} roleError={error} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'new' && (\n\t\t\t\t\t\t\t<AdminUserForm onReload={handleReload} context={context} roleData={data} roleError={error} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'created' && id && <AdminUserCreated uid={id} />}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'invite' && <AdminInviteUsers />}\n\t\t\t\t\t\t{isRoutePrevented && <AdminUserUpgrade />}\n\t\t\t\t\t</Contextualbar>\n\t\t\t\t</ContextualbarDialog>\n\t\t\t)}\n\t\t</Page>\n\t);\n};\n\nexport default AdminUsersPage;\n"]}}},"code":"var _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 0);\nvar _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 1);\nvar Callout, ContextualbarIcon, Icon, Skeleton, Tabs, TabsItem;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Callout: function (v) {\n    Callout = v;\n  },\n  ContextualbarIcon: function (v) {\n    ContextualbarIcon = v;\n  },\n  Icon: function (v) {\n    Icon = v;\n  },\n  Skeleton: function (v) {\n    Skeleton = v;\n  },\n  Tabs: function (v) {\n    Tabs = v;\n  },\n  TabsItem: function (v) {\n    TabsItem = v;\n  }\n}, 0);\nvar useDebouncedValue;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useDebouncedValue: function (v) {\n    useDebouncedValue = v;\n  }\n}, 1);\nvar ExternalLink;\nmodule.link(\"@rocket.chat/ui-client\", {\n  ExternalLink: function (v) {\n    ExternalLink = v;\n  }\n}, 2);\nvar useRouteParameter, useTranslation, useRouter, useEndpoint;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useRouteParameter: function (v) {\n    useRouteParameter = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useRouter: function (v) {\n    useRouter = v;\n  },\n  useEndpoint: function (v) {\n    useEndpoint = v;\n  }\n}, 3);\nvar useQuery;\nmodule.link(\"@tanstack/react-query\", {\n  useQuery: function (v) {\n    useQuery = v;\n  }\n}, 4);\nvar React, useEffect, useMemo, useRef, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useRef: function (v) {\n    useRef = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 5);\nvar Trans;\nmodule.link(\"react-i18next\", {\n  Trans: function (v) {\n    Trans = v;\n  }\n}, 6);\nvar Contextualbar, ContextualbarHeader, ContextualbarTitle, ContextualbarClose, ContextualbarDialog;\nmodule.link(\"../../../components/Contextualbar\", {\n  Contextualbar: function (v) {\n    Contextualbar = v;\n  },\n  ContextualbarHeader: function (v) {\n    ContextualbarHeader = v;\n  },\n  ContextualbarTitle: function (v) {\n    ContextualbarTitle = v;\n  },\n  ContextualbarClose: function (v) {\n    ContextualbarClose = v;\n  },\n  ContextualbarDialog: function (v) {\n    ContextualbarDialog = v;\n  }\n}, 7);\nvar usePagination;\nmodule.link(\"../../../components/GenericTable/hooks/usePagination\", {\n  usePagination: function (v) {\n    usePagination = v;\n  }\n}, 8);\nvar useSort;\nmodule.link(\"../../../components/GenericTable/hooks/useSort\", {\n  useSort: function (v) {\n    useSort = v;\n  }\n}, 9);\nvar Page, PageHeader, PageContent;\nmodule.link(\"../../../components/Page\", {\n  Page: function (v) {\n    Page = v;\n  },\n  PageHeader: function (v) {\n    PageHeader = v;\n  },\n  PageContent: function (v) {\n    PageContent = v;\n  }\n}, 10);\nvar useLicenseLimitsByBehavior;\nmodule.link(\"../../../hooks/useLicenseLimitsByBehavior\", {\n  useLicenseLimitsByBehavior: function (v) {\n    useLicenseLimitsByBehavior = v;\n  }\n}, 11);\nvar useShouldPreventAction;\nmodule.link(\"../../../hooks/useShouldPreventAction\", {\n  useShouldPreventAction: function (v) {\n    useShouldPreventAction = v;\n  }\n}, 12);\nvar useCheckoutUrl;\nmodule.link(\"../subscription/hooks/useCheckoutUrl\", {\n  useCheckoutUrl: function (v) {\n    useCheckoutUrl = v;\n  }\n}, 13);\nvar AdminInviteUsers;\nmodule.link(\"./AdminInviteUsers\", {\n  \"default\": function (v) {\n    AdminInviteUsers = v;\n  }\n}, 14);\nvar AdminUserCreated;\nmodule.link(\"./AdminUserCreated\", {\n  \"default\": function (v) {\n    AdminUserCreated = v;\n  }\n}, 15);\nvar AdminUserForm;\nmodule.link(\"./AdminUserForm\", {\n  \"default\": function (v) {\n    AdminUserForm = v;\n  }\n}, 16);\nvar AdminUserFormWithData;\nmodule.link(\"./AdminUserFormWithData\", {\n  \"default\": function (v) {\n    AdminUserFormWithData = v;\n  }\n}, 17);\nvar AdminUserInfoWithData;\nmodule.link(\"./AdminUserInfoWithData\", {\n  \"default\": function (v) {\n    AdminUserInfoWithData = v;\n  }\n}, 18);\nvar AdminUserUpgrade;\nmodule.link(\"./AdminUserUpgrade\", {\n  \"default\": function (v) {\n    AdminUserUpgrade = v;\n  }\n}, 19);\nvar UsersPageHeaderContent;\nmodule.link(\"./UsersPageHeaderContent\", {\n  \"default\": function (v) {\n    UsersPageHeaderContent = v;\n  }\n}, 20);\nvar UsersTable;\nmodule.link(\"./UsersTable\", {\n  \"default\": function (v) {\n    UsersTable = v;\n  }\n}, 21);\nvar useFilteredUsers;\nmodule.link(\"./hooks/useFilteredUsers\", {\n  \"default\": function (v) {\n    useFilteredUsers = v;\n  }\n}, 22);\nvar usePendingUsersCount;\nmodule.link(\"./hooks/usePendingUsersCount\", {\n  \"default\": function (v) {\n    usePendingUsersCount = v;\n  }\n}, 23);\nvar useSeatsCap;\nmodule.link(\"./useSeatsCap\", {\n  useSeatsCap: function (v) {\n    useSeatsCap = v;\n  }\n}, 24);\nvar AdminUsersPage = function () {\n  var _useLicenseLimitsByBe, _filteredUsersQueryRe;\n  var t = useTranslation();\n  var seatsCap = useSeatsCap();\n  var isSeatsCapExceeded = useShouldPreventAction('activeUsers');\n  var _ref = (_useLicenseLimitsByBe = useLicenseLimitsByBehavior()) !== null && _useLicenseLimitsByBe !== void 0 ? _useLicenseLimitsByBe : {},\n    preventAction = _ref.prevent_action;\n  var manageSubscriptionUrl = useCheckoutUrl();\n  var router = useRouter();\n  var context = useRouteParameter('context');\n  var id = useRouteParameter('id');\n  var isCreateUserDisabled = useShouldPreventAction('activeUsers');\n  var getRoles = useEndpoint('GET', '/v1/roles.list');\n  var _useQuery = useQuery(['roles'], function () {\n      function _callee() {\n        return _regeneratorRuntime.async(function () {\n          function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", getRoles());\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n          return _callee$;\n        }(), null, null, null, Promise);\n      }\n      return _callee;\n    }()),\n    data = _useQuery.data,\n    error = _useQuery.error;\n  var paginationData = usePagination();\n  var sortData = useSort('name');\n  var _useState = useState('all'),\n    _useState2 = _slicedToArray(_useState, 2),\n    tab = _useState2[0],\n    setTab = _useState2[1];\n  var _useState3 = useState({\n      text: '',\n      roles: []\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    userFilters = _useState4[0],\n    setUserFilters = _useState4[1];\n  var searchTerm = useDebouncedValue(userFilters.text, 500);\n  var prevSearchTerm = useRef('');\n  var filteredUsersQueryResult = useFilteredUsers({\n    searchTerm: searchTerm,\n    prevSearchTerm: prevSearchTerm,\n    sortData: sortData,\n    paginationData: paginationData,\n    tab: tab,\n    selectedRoles: useMemo(function () {\n      return userFilters.roles.map(function (role) {\n        return role.id;\n      });\n    }, [userFilters.roles])\n  });\n  var pendingUsersCount = usePendingUsersCount((_filteredUsersQueryRe = filteredUsersQueryResult.data) === null || _filteredUsersQueryRe === void 0 ? void 0 : _filteredUsersQueryRe.users);\n  var handleReload = function () {\n    seatsCap === null || seatsCap === void 0 ? void 0 : seatsCap.reload();\n    filteredUsersQueryResult === null || filteredUsersQueryResult === void 0 ? void 0 : filteredUsersQueryResult.refetch();\n  };\n  var handleTabChange = function (tab) {\n    setTab(tab);\n    paginationData.setCurrent(0);\n    sortData.setSort(tab === 'pending' ? 'active' : 'name', 'asc');\n  };\n  useEffect(function () {\n    prevSearchTerm.current = searchTerm;\n  }, [searchTerm]);\n  var isRoutePrevented = useMemo(function () {\n    return context && ['new', 'invite'].includes(context) && isCreateUserDisabled;\n  }, [context, isCreateUserDisabled]);\n  var toTranslationKey = function (key) {\n    return t(\"subscription.callout.\" + key);\n  };\n  return /*#__PURE__*/React.createElement(Page, {\n    flexDirection: \"row\"\n  }, /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: t('Users')\n  }, /*#__PURE__*/React.createElement(UsersPageHeaderContent, {\n    isSeatsCapExceeded: isSeatsCapExceeded,\n    seatsCap: seatsCap\n  })), (preventAction === null || preventAction === void 0 ? void 0 : preventAction.includes('activeUsers')) && /*#__PURE__*/React.createElement(Callout, {\n    type: \"danger\",\n    title: t('subscription.callout.servicesDisruptionsOccurring'),\n    mbe: 19,\n    mi: 24\n  }, /*#__PURE__*/React.createElement(Trans, {\n    i18nKey: \"subscription.callout.description.limitsExceeded\",\n    count: preventAction.length\n  }, \"Your workspace exceeded the \", /*#__PURE__*/React.createElement(React.Fragment, null, {\n    val: preventAction.map(toTranslationKey)\n  }), \" license limit.\", /*#__PURE__*/React.createElement(ExternalLink, {\n    to: manageSubscriptionUrl({\n      target: 'callout',\n      action: 'prevent_action',\n      limits: preventAction.join(',')\n    })\n  }, \"Manage your subscription\"), \"to increase limits.\")), /*#__PURE__*/React.createElement(Tabs, null, /*#__PURE__*/React.createElement(TabsItem, {\n    selected: !tab || tab === 'all',\n    onClick: function () {\n      return handleTabChange('all');\n    }\n  }, t('All')), /*#__PURE__*/React.createElement(TabsItem, {\n    selected: tab === 'pending',\n    onClick: function () {\n      return handleTabChange('pending');\n    },\n    display: \"flex\",\n    flexDirection: \"row\"\n  }, t('Pending') + \" \", pendingUsersCount.isLoading && /*#__PURE__*/React.createElement(Skeleton, {\n    variant: \"circle\",\n    height: \"x16\",\n    width: \"x16\",\n    mis: 8\n  }), pendingUsersCount.isSuccess && \"(\" + pendingUsersCount.data + \")\"), /*#__PURE__*/React.createElement(TabsItem, {\n    selected: tab === 'active',\n    onClick: function () {\n      return handleTabChange('active');\n    }\n  }, t('Active')), /*#__PURE__*/React.createElement(TabsItem, {\n    selected: tab === 'deactivated',\n    onClick: function () {\n      return handleTabChange('deactivated');\n    }\n  }, t('Deactivated'))), /*#__PURE__*/React.createElement(PageContent, null, /*#__PURE__*/React.createElement(UsersTable, {\n    filteredUsersQueryResult: filteredUsersQueryResult,\n    setUserFilters: setUserFilters,\n    paginationData: paginationData,\n    sortData: sortData,\n    tab: tab,\n    isSeatsCapExceeded: isSeatsCapExceeded,\n    roleData: data,\n    onReload: handleReload\n  }))), context && /*#__PURE__*/React.createElement(ContextualbarDialog, null, /*#__PURE__*/React.createElement(Contextualbar, null, /*#__PURE__*/React.createElement(ContextualbarHeader, null, context === 'upgrade' && /*#__PURE__*/React.createElement(ContextualbarIcon, {\n    name: \"user-plus\"\n  }), /*#__PURE__*/React.createElement(ContextualbarTitle, null, context === 'info' && t('User_Info'), context === 'edit' && t('Edit_User'), (context === 'new' || context === 'created') && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Icon, {\n    name: \"user-plus\",\n    size: 20\n  }), \" \", t('New_user')), context === 'invite' && t('Invite_Users')), /*#__PURE__*/React.createElement(ContextualbarClose, {\n    onClick: function () {\n      return router.navigate('/admin/users');\n    }\n  })), context === 'info' && id && /*#__PURE__*/React.createElement(AdminUserInfoWithData, {\n    uid: id,\n    onReload: handleReload,\n    tab: tab\n  }), context === 'edit' && id && /*#__PURE__*/React.createElement(AdminUserFormWithData, {\n    uid: id,\n    onReload: handleReload,\n    context: context,\n    roleData: data,\n    roleError: error\n  }), !isRoutePrevented && context === 'new' && /*#__PURE__*/React.createElement(AdminUserForm, {\n    onReload: handleReload,\n    context: context,\n    roleData: data,\n    roleError: error\n  }), !isRoutePrevented && context === 'created' && id && /*#__PURE__*/React.createElement(AdminUserCreated, {\n    uid: id\n  }), !isRoutePrevented && context === 'invite' && /*#__PURE__*/React.createElement(AdminInviteUsers, null), isRoutePrevented && /*#__PURE__*/React.createElement(AdminUserUpgrade, null))));\n};\nmodule.exportDefault(AdminUsersPage);","map":{"version":3,"names":["_slicedToArray","module","link","default","v","_regeneratorRuntime","Callout","ContextualbarIcon","Icon","Skeleton","Tabs","TabsItem","useDebouncedValue","ExternalLink","useRouteParameter","useTranslation","useRouter","useEndpoint","useQuery","React","useEffect","useMemo","useRef","useState","Trans","Contextualbar","ContextualbarHeader","ContextualbarTitle","ContextualbarClose","ContextualbarDialog","usePagination","useSort","Page","PageHeader","PageContent","useLicenseLimitsByBehavior","useShouldPreventAction","useCheckoutUrl","AdminInviteUsers","AdminUserCreated","AdminUserForm","AdminUserFormWithData","AdminUserInfoWithData","AdminUserUpgrade","UsersPageHeaderContent","UsersTable","useFilteredUsers","usePendingUsersCount","useSeatsCap","AdminUsersPage","_useLicenseLimitsByBe","_filteredUsersQueryRe","t","seatsCap","isSeatsCapExceeded","_ref","preventAction","prevent_action","manageSubscriptionUrl","router","context","id","isCreateUserDisabled","getRoles","_useQuery","_callee","async","_callee$","_context","prev","next","abrupt","stop","Promise","data","error","paginationData","sortData","_useState","_useState2","tab","setTab","_useState3","text","roles","_useState4","userFilters","setUserFilters","searchTerm","prevSearchTerm","filteredUsersQueryResult","selectedRoles","map","role","pendingUsersCount","users","handleReload","reload","refetch","handleTabChange","setCurrent","setSort","current","isRoutePrevented","includes","toTranslationKey","key","createElement","flexDirection","title","type","mbe","mi","i18nKey","count","length","Fragment","val","to","target","action","limits","join","selected","onClick","display","isLoading","variant","height","width","mis","isSuccess","roleData","onReload","name","size","navigate","uid","roleError","exportDefault"],"sources":["client/views/admin/users/AdminUsersPage.tsx"],"sourcesContent":["import type { LicenseInfo } from '@rocket.chat/core-typings';\nimport { Callout, ContextualbarIcon, Icon, Skeleton, Tabs, TabsItem } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport type { OptionProp } from '@rocket.chat/ui-client';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport { useRouteParameter, useTranslation, useRouter, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Trans } from 'react-i18next';\n\nimport {\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarDialog,\n} from '../../../components/Contextualbar';\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\nimport { useLicenseLimitsByBehavior } from '../../../hooks/useLicenseLimitsByBehavior';\nimport { useShouldPreventAction } from '../../../hooks/useShouldPreventAction';\nimport { useCheckoutUrl } from '../subscription/hooks/useCheckoutUrl';\nimport AdminInviteUsers from './AdminInviteUsers';\nimport AdminUserCreated from './AdminUserCreated';\nimport AdminUserForm from './AdminUserForm';\nimport AdminUserFormWithData from './AdminUserFormWithData';\nimport AdminUserInfoWithData from './AdminUserInfoWithData';\nimport AdminUserUpgrade from './AdminUserUpgrade';\nimport UsersPageHeaderContent from './UsersPageHeaderContent';\nimport UsersTable from './UsersTable';\nimport useFilteredUsers from './hooks/useFilteredUsers';\nimport usePendingUsersCount from './hooks/usePendingUsersCount';\nimport { useSeatsCap } from './useSeatsCap';\n\nexport type UsersFilters = {\n\ttext: string;\n\troles: OptionProp[];\n};\n\nexport type AdminUsersTab = 'all' | 'active' | 'deactivated' | 'pending';\n\nexport type UsersTableSortingOption = 'name' | 'username' | 'emails.address' | 'status' | 'active' | 'freeSwitchExtension';\n\nconst AdminUsersPage = (): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst seatsCap = useSeatsCap();\n\n\tconst isSeatsCapExceeded = useShouldPreventAction('activeUsers');\n\tconst { prevent_action: preventAction } = useLicenseLimitsByBehavior() ?? {};\n\tconst manageSubscriptionUrl = useCheckoutUrl();\n\n\tconst router = useRouter();\n\tconst context = useRouteParameter('context');\n\tconst id = useRouteParameter('id');\n\n\tconst isCreateUserDisabled = useShouldPreventAction('activeUsers');\n\n\tconst getRoles = useEndpoint('GET', '/v1/roles.list');\n\tconst { data, error } = useQuery(['roles'], async () => getRoles());\n\n\tconst paginationData = usePagination();\n\tconst sortData = useSort<UsersTableSortingOption>('name');\n\n\tconst [tab, setTab] = useState<AdminUsersTab>('all');\n\tconst [userFilters, setUserFilters] = useState<UsersFilters>({ text: '', roles: [] });\n\n\tconst searchTerm = useDebouncedValue(userFilters.text, 500);\n\tconst prevSearchTerm = useRef('');\n\n\tconst filteredUsersQueryResult = useFilteredUsers({\n\t\tsearchTerm,\n\t\tprevSearchTerm,\n\t\tsortData,\n\t\tpaginationData,\n\t\ttab,\n\t\tselectedRoles: useMemo(() => userFilters.roles.map((role) => role.id), [userFilters.roles]),\n\t});\n\n\tconst pendingUsersCount = usePendingUsersCount(filteredUsersQueryResult.data?.users);\n\n\tconst handleReload = (): void => {\n\t\tseatsCap?.reload();\n\t\tfilteredUsersQueryResult?.refetch();\n\t};\n\n\tconst handleTabChange = (tab: AdminUsersTab) => {\n\t\tsetTab(tab);\n\n\t\tpaginationData.setCurrent(0);\n\t\tsortData.setSort(tab === 'pending' ? 'active' : 'name', 'asc');\n\t};\n\n\tuseEffect(() => {\n\t\tprevSearchTerm.current = searchTerm;\n\t}, [searchTerm]);\n\n\tconst isRoutePrevented = useMemo(\n\t\t() => context && ['new', 'invite'].includes(context) && isCreateUserDisabled,\n\t\t[context, isCreateUserDisabled],\n\t);\n\n\tconst toTranslationKey = (key: keyof LicenseInfo['limits']) => t(`subscription.callout.${key}`);\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<PageHeader title={t('Users')}>\n\t\t\t\t\t<UsersPageHeaderContent isSeatsCapExceeded={isSeatsCapExceeded} seatsCap={seatsCap} />\n\t\t\t\t</PageHeader>\n\t\t\t\t{preventAction?.includes('activeUsers') && (\n\t\t\t\t\t<Callout type='danger' title={t('subscription.callout.servicesDisruptionsOccurring')} mbe={19} mi={24}>\n\t\t\t\t\t\t<Trans i18nKey='subscription.callout.description.limitsExceeded' count={preventAction.length}>\n\t\t\t\t\t\t\tYour workspace exceeded the <>{{ val: preventAction.map(toTranslationKey) }}</> license limit.\n\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\tto={manageSubscriptionUrl({\n\t\t\t\t\t\t\t\t\ttarget: 'callout',\n\t\t\t\t\t\t\t\t\taction: 'prevent_action',\n\t\t\t\t\t\t\t\t\tlimits: preventAction.join(','),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tManage your subscription\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\tto increase limits.\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</Callout>\n\t\t\t\t)}\n\t\t\t\t<Tabs>\n\t\t\t\t\t<TabsItem selected={!tab || tab === 'all'} onClick={() => handleTabChange('all')}>\n\t\t\t\t\t\t{t('All')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'pending'} onClick={() => handleTabChange('pending')} display='flex' flexDirection='row'>\n\t\t\t\t\t\t{`${t('Pending')} `}\n\t\t\t\t\t\t{pendingUsersCount.isLoading && <Skeleton variant='circle' height='x16' width='x16' mis={8} />}\n\t\t\t\t\t\t{pendingUsersCount.isSuccess && `(${pendingUsersCount.data})`}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'active'} onClick={() => handleTabChange('active')}>\n\t\t\t\t\t\t{t('Active')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t\t<TabsItem selected={tab === 'deactivated'} onClick={() => handleTabChange('deactivated')}>\n\t\t\t\t\t\t{t('Deactivated')}\n\t\t\t\t\t</TabsItem>\n\t\t\t\t</Tabs>\n\t\t\t\t<PageContent>\n\t\t\t\t\t<UsersTable\n\t\t\t\t\t\tfilteredUsersQueryResult={filteredUsersQueryResult}\n\t\t\t\t\t\tsetUserFilters={setUserFilters}\n\t\t\t\t\t\tpaginationData={paginationData}\n\t\t\t\t\t\tsortData={sortData}\n\t\t\t\t\t\ttab={tab}\n\t\t\t\t\t\tisSeatsCapExceeded={isSeatsCapExceeded}\n\t\t\t\t\t\troleData={data}\n\t\t\t\t\t\tonReload={handleReload}\n\t\t\t\t\t/>\n\t\t\t\t</PageContent>\n\t\t\t</Page>\n\t\t\t{context && (\n\t\t\t\t<ContextualbarDialog>\n\t\t\t\t\t<Contextualbar>\n\t\t\t\t\t\t<ContextualbarHeader>\n\t\t\t\t\t\t\t{context === 'upgrade' && <ContextualbarIcon name='user-plus' />}\n\t\t\t\t\t\t\t<ContextualbarTitle>\n\t\t\t\t\t\t\t\t{context === 'info' && t('User_Info')}\n\t\t\t\t\t\t\t\t{context === 'edit' && t('Edit_User')}\n\t\t\t\t\t\t\t\t{(context === 'new' || context === 'created') && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Icon name='user-plus' size={20} /> {t('New_user')}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{context === 'invite' && t('Invite_Users')}\n\t\t\t\t\t\t\t</ContextualbarTitle>\n\t\t\t\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/admin/users')} />\n\t\t\t\t\t\t</ContextualbarHeader>\n\t\t\t\t\t\t{context === 'info' && id && <AdminUserInfoWithData uid={id} onReload={handleReload} tab={tab} />}\n\t\t\t\t\t\t{context === 'edit' && id && (\n\t\t\t\t\t\t\t<AdminUserFormWithData uid={id} onReload={handleReload} context={context} roleData={data} roleError={error} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'new' && (\n\t\t\t\t\t\t\t<AdminUserForm onReload={handleReload} context={context} roleData={data} roleError={error} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'created' && id && <AdminUserCreated uid={id} />}\n\t\t\t\t\t\t{!isRoutePrevented && context === 'invite' && <AdminInviteUsers />}\n\t\t\t\t\t\t{isRoutePrevented && <AdminUserUpgrade />}\n\t\t\t\t\t</Contextualbar>\n\t\t\t\t</ContextualbarDialog>\n\t\t\t)}\n\t\t</Page>\n\t);\n};\n\nexport default AdminUsersPage;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"9fbb0a75352ce4c383a4a4b02327d4d5aea63bbe"}
