{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/sidebar/search/SearchList.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/sidebar/search/SearchList.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/sidebar/search/SearchList.tsx","inputSourceMap":{"version":3,"file":"client/sidebar/search/SearchList.tsx","sourceRoot":"","sources":["client/sidebar/search/SearchList.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IRoom, ISubscription } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Sidebar, TextInput, Box, Icon } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useDebouncedValue, useAutoFocus, useUniqueId, useMergedRefs } from '@rocket.chat/fuselage-hooks';\nimport { escapeRegExp } from '@rocket.chat/string-helpers';\nimport { useUserPreference, useUserSubscriptions, useSetting, useTranslation, useMethod } from '@rocket.chat/ui-contexts';\nimport type { UseQueryResult } from '@tanstack/react-query';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement, MutableRefObject, SetStateAction, Dispatch, FormEventHandler, Ref, MouseEventHandler } from 'react';\nimport React, { forwardRef, useState, useMemo, useEffect, useRef } from 'react';\nimport type { VirtuosoHandle } from 'react-virtuoso';\nimport { Virtuoso } from 'react-virtuoso';\nimport tinykeys from 'tinykeys';\n\nimport Row from './Row';\nimport { VirtuosoScrollbars } from '../../components/CustomScrollbars';\nimport { getConfig } from '../../lib/utils/getConfig';\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\nimport { usePreventDefault } from '../hooks/usePreventDefault';\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\n\nconst mobileCheck = function () {\n\tlet check = false;\n\t(function (a: string) {\n\t\tif (\n\t\t\t/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n\t\t\t\ta,\n\t\t\t) ||\n\t\t\t/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n\t\t\t\ta.substr(0, 4),\n\t\t\t)\n\t\t)\n\t\t\tcheck = true;\n\t})(navigator.userAgent || navigator.vendor || window.opera || '');\n\treturn check;\n};\n\ndeclare global {\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tinterface Window {\n\t\topera?: string;\n\t}\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tinterface Navigator {\n\t\tuserAgentData?: {\n\t\t\tmobile: boolean;\n\t\t};\n\t}\n}\n\nconst shortcut = ((): string => {\n\tif (navigator.userAgentData?.mobile || mobileCheck()) {\n\t\treturn '';\n\t}\n\tif (window.navigator.platform.toLowerCase().includes('mac')) {\n\t\treturn '(\\u2318+K)';\n\t}\n\treturn '(Ctrl+K)';\n})();\n\nconst LIMIT = parseInt(String(getConfig('Sidebar_Search_Spotlight_LIMIT', 20)));\n\nconst options = {\n\tsort: {\n\t\tlm: -1,\n\t\tname: 1,\n\t},\n\tlimit: LIMIT,\n} as const;\n\nconst useSearchItems = (filterText: string): UseQueryResult<(ISubscription & IRoom)[] | undefined, Error> => {\n\tconst [, mention, name] = useMemo(() => filterText.match(/(@|#)?(.*)/i) || [], [filterText]);\n\tconst query = useMemo(() => {\n\t\tconst filterRegex = new RegExp(escapeRegExp(name), 'i');\n\n\t\treturn {\n\t\t\t$or: [{ name: filterRegex }, { fname: filterRegex }],\n\t\t\t...(mention && {\n\t\t\t\tt: mention === '@' ? 'd' : { $ne: 'd' },\n\t\t\t}),\n\t\t};\n\t}, [name, mention]);\n\n\tconst localRooms = useUserSubscriptions(query, options);\n\n\tconst usernamesFromClient = [...localRooms?.map(({ t, name }) => (t === 'd' ? name : null))].filter(Boolean) as string[];\n\n\tconst searchForChannels = mention === '#';\n\tconst searchForDMs = mention === '@';\n\n\tconst type = useMemo(() => {\n\t\tif (searchForChannels) {\n\t\t\treturn { users: false, rooms: true, includeFederatedRooms: true };\n\t\t}\n\t\tif (searchForDMs) {\n\t\t\treturn { users: true, rooms: false };\n\t\t}\n\t\treturn { users: true, rooms: true, includeFederatedRooms: true };\n\t}, [searchForChannels, searchForDMs]);\n\n\tconst getSpotlight = useMethod('spotlight');\n\n\treturn useQuery(\n\t\t['sidebar/search/spotlight', name, usernamesFromClient, type, localRooms.map(({ _id, name }) => _id + name)],\n\t\tasync () => {\n\t\t\tif (localRooms.length === LIMIT) {\n\t\t\t\treturn localRooms;\n\t\t\t}\n\n\t\t\tconst spotlight = await getSpotlight(name, usernamesFromClient, type);\n\n\t\t\tconst filterUsersUnique = ({ _id }: { _id: string }, index: number, arr: { _id: string }[]): boolean =>\n\t\t\t\tindex === arr.findIndex((user) => _id === user._id);\n\n\t\t\tconst roomFilter = (room: { t: string; uids?: string[]; _id: string; name?: string }): boolean =>\n\t\t\t\t!localRooms.find(\n\t\t\t\t\t(item) =>\n\t\t\t\t\t\t(room.t === 'd' && room.uids && room.uids.length > 1 && room.uids?.includes(item._id)) ||\n\t\t\t\t\t\t[item.rid, item._id].includes(room._id),\n\t\t\t\t);\n\t\t\tconst usersFilter = (user: { _id: string }): boolean =>\n\t\t\t\t!localRooms.find((room) => room.t === 'd' && room.uids && room.uids?.length === 2 && room.uids.includes(user._id));\n\n\t\t\tconst userMap = (user: {\n\t\t\t\t_id: string;\n\t\t\t\tname: string;\n\t\t\t\tusername: string;\n\t\t\t\tavatarETag?: string;\n\t\t\t}): {\n\t\t\t\t_id: string;\n\t\t\t\tt: string;\n\t\t\t\tname: string;\n\t\t\t\tfname: string;\n\t\t\t\tavatarETag?: string;\n\t\t\t} => ({\n\t\t\t\t_id: user._id,\n\t\t\t\tt: 'd',\n\t\t\t\tname: user.username,\n\t\t\t\tfname: user.name,\n\t\t\t\tavatarETag: user.avatarETag,\n\t\t\t});\n\n\t\t\ttype resultsFromServerType = {\n\t\t\t\t_id: string;\n\t\t\t\tt: string;\n\t\t\t\tname: string;\n\t\t\t\tteamMain?: boolean;\n\t\t\t\tfname?: string;\n\t\t\t\tavatarETag?: string | undefined;\n\t\t\t\tuids?: string[] | undefined;\n\t\t\t}[];\n\n\t\t\tconst resultsFromServer: resultsFromServerType = [];\n\t\t\tresultsFromServer.push(...spotlight.users.filter(filterUsersUnique).filter(usersFilter).map(userMap));\n\t\t\tresultsFromServer.push(...spotlight.rooms.filter(roomFilter));\n\n\t\t\tconst exact = resultsFromServer?.filter((item) => [item.name, item.fname].includes(name));\n\t\t\treturn Array.from(new Set([...exact, ...localRooms, ...resultsFromServer]));\n\t\t},\n\t\t{\n\t\t\tstaleTime: 60_000,\n\t\t\tkeepPreviousData: true,\n\t\t\tplaceholderData: localRooms,\n\t\t},\n\t);\n};\n\nconst useInput = (initial: string): { value: string; onChange: FormEventHandler; setValue: Dispatch<SetStateAction<string>> } => {\n\tconst [value, setValue] = useState(initial);\n\tconst onChange = useMutableCallback((e) => {\n\t\tsetValue(e.currentTarget.value);\n\t});\n\treturn { value, onChange, setValue };\n};\n\nconst toggleSelectionState = (next: HTMLElement, current: HTMLElement | undefined, input: HTMLElement | undefined): void => {\n\tinput?.setAttribute('aria-activedescendant', next.id);\n\tnext.setAttribute('aria-selected', 'true');\n\tnext.classList.add('rcx-sidebar-item--selected');\n\tif (current) {\n\t\tcurrent.removeAttribute('aria-selected');\n\t\tcurrent.classList.remove('rcx-sidebar-item--selected');\n\t}\n};\n\n/**\n * @type import('react').ForwardRefExoticComponent<{ onClose: unknown } & import('react').RefAttributes<HTMLElement>>\n */\n\ntype SearchListProps = {\n\tonClose: () => void;\n};\n\nconst SearchList = forwardRef(function SearchList({ onClose }: SearchListProps, ref): ReactElement {\n\tconst listId = useUniqueId();\n\tconst t = useTranslation();\n\tconst { setValue: setFilterValue, ...filter } = useInput('');\n\n\tconst cursorRef = useRef<HTMLInputElement>(null);\n\tconst autofocus: Ref<HTMLInputElement> = useMergedRefs(useAutoFocus<HTMLInputElement>(), cursorRef);\n\n\tconst listRef = useRef<VirtuosoHandle>(null);\n\tconst boxRef = useRef<HTMLDivElement>(null);\n\n\tconst selectedElement: MutableRefObject<HTMLElement | null | undefined> = useRef(null);\n\tconst itemIndexRef = useRef(0);\n\n\tconst sidebarViewMode = useUserPreference('sidebarViewMode');\n\tconst useRealName = useSetting('UI_Use_Real_Name');\n\n\tconst sideBarItemTemplate = useTemplateByViewMode();\n\tconst avatarTemplate = useAvatarTemplate();\n\n\tconst extended = sidebarViewMode === 'extended';\n\n\tconst filterText = useDebouncedValue(filter.value, 100);\n\n\tconst placeholder = [t('Search'), shortcut].filter(Boolean).join(' ');\n\n\tconst { data: items = [], isLoading } = useSearchItems(filterText);\n\n\tconst itemData = useMemo(\n\t\t() => ({\n\t\t\titems,\n\t\t\tt,\n\t\t\tSideBarItemTemplate: sideBarItemTemplate,\n\t\t\tavatarTemplate,\n\t\t\tuseRealName,\n\t\t\textended,\n\t\t\tsidebarViewMode,\n\t\t}),\n\t\t[avatarTemplate, extended, items, useRealName, sideBarItemTemplate, sidebarViewMode, t],\n\t);\n\n\tconst changeSelection = useMutableCallback((dir) => {\n\t\tlet nextSelectedElement = null;\n\n\t\tif (dir === 'up') {\n\t\t\tconst potentialElement = selectedElement.current?.parentElement?.previousSibling as HTMLElement;\n\t\t\tif (potentialElement) {\n\t\t\t\tnextSelectedElement = potentialElement.querySelector('a');\n\t\t\t}\n\t\t} else {\n\t\t\tconst potentialElement = selectedElement.current?.parentElement?.nextSibling as HTMLElement;\n\t\t\tif (potentialElement) {\n\t\t\t\tnextSelectedElement = potentialElement.querySelector('a');\n\t\t\t}\n\t\t}\n\n\t\tif (nextSelectedElement) {\n\t\t\ttoggleSelectionState(nextSelectedElement, selectedElement.current || undefined, cursorRef?.current || undefined);\n\t\t\treturn nextSelectedElement;\n\t\t}\n\t\treturn selectedElement.current;\n\t});\n\n\tconst resetCursor = useMutableCallback(() => {\n\t\tsetTimeout(() => {\n\t\t\titemIndexRef.current = 0;\n\t\t\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\n\t\t\tselectedElement.current = boxRef.current?.querySelector('a.rcx-sidebar-item');\n\t\t\tif (selectedElement.current) {\n\t\t\t\ttoggleSelectionState(selectedElement.current, undefined, cursorRef?.current || undefined);\n\t\t\t}\n\t\t}, 0);\n\t});\n\n\tusePreventDefault(boxRef);\n\n\tuseEffect(() => {\n\t\tresetCursor();\n\t});\n\n\tuseEffect(() => {\n\t\tresetCursor();\n\t}, [filterText, resetCursor]);\n\n\tuseEffect(() => {\n\t\tif (!cursorRef?.current) {\n\t\t\treturn;\n\t\t}\n\t\treturn tinykeys(cursorRef?.current, {\n\t\t\tEscape: (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetFilterValue((value) => {\n\t\t\t\t\tif (!value) {\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t}\n\t\t\t\t\tresetCursor();\n\t\t\t\t\treturn '';\n\t\t\t\t});\n\t\t\t},\n\t\t\tTab: onClose,\n\t\t\tArrowUp: () => {\n\t\t\t\tconst currentElement = changeSelection('up');\n\t\t\t\titemIndexRef.current = Math.max(itemIndexRef.current - 1, 0);\n\t\t\t\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\n\t\t\t\tselectedElement.current = currentElement;\n\t\t\t},\n\t\t\tArrowDown: () => {\n\t\t\t\tconst currentElement = changeSelection('down');\n\t\t\t\titemIndexRef.current = Math.min(itemIndexRef.current + 1, items.length + 1);\n\t\t\t\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\n\t\t\t\tselectedElement.current = currentElement;\n\t\t\t},\n\t\t\tEnter: (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (selectedElement.current && items.length > 0) {\n\t\t\t\t\tselectedElement.current.click();\n\t\t\t\t} else {\n\t\t\t\t\tonClose();\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}, [cursorRef, changeSelection, items.length, onClose, resetCursor, setFilterValue]);\n\n\tconst handleClick: MouseEventHandler<HTMLElement> = (e): void => {\n\t\tif (e.target instanceof Element && [e.target.tagName, e.target.parentElement?.tagName].includes('BUTTON')) {\n\t\t\treturn;\n\t\t}\n\t\treturn onClose();\n\t};\n\n\treturn (\n\t\t<Box\n\t\t\tposition='absolute'\n\t\t\trcx-sidebar\n\t\t\th='full'\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\tzIndex={99}\n\t\t\tw='full'\n\t\t\tclassName={css`\n\t\t\t\tleft: 0;\n\t\t\t\ttop: 0;\n\t\t\t`}\n\t\t\tref={ref}\n\t\t\trole='search'\n\t\t>\n\t\t\t<Sidebar.TopBar.Section {...({ flexShrink: 0 } as any)} is='form'>\n\t\t\t\t<Box mb='x12' w='full'>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\taria-owns={listId}\n\t\t\t\t\t\tdata-qa='sidebar-search-input'\n\t\t\t\t\t\tref={autofocus}\n\t\t\t\t\t\t{...filter}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\trole='searchbox'\n\t\t\t\t\t\taddon={<Icon name='cross' size='x20' onClick={onClose} />}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Sidebar.TopBar.Section>\n\t\t\t<Box\n\t\t\t\tref={boxRef}\n\t\t\t\trole='listbox'\n\t\t\t\tid={listId}\n\t\t\t\ttabIndex={-1}\n\t\t\t\tflexShrink={1}\n\t\t\t\th='full'\n\t\t\t\tw='full'\n\t\t\t\tdata-qa='sidebar-search-result'\n\t\t\t\taria-live='polite'\n\t\t\t\taria-atomic='true'\n\t\t\t\taria-busy={isLoading}\n\t\t\t\tonClick={handleClick}\n\t\t\t>\n\t\t\t\t<Virtuoso\n\t\t\t\t\tstyle={{ height: '100%', width: '100%' }}\n\t\t\t\t\ttotalCount={items.length}\n\t\t\t\t\tdata={items}\n\t\t\t\t\tcomponents={{ Scroller: VirtuosoScrollbars }}\n\t\t\t\t\tcomputeItemKey={(_, room) => room._id}\n\t\t\t\t\titemContent={(_, data): ReactElement => <Row data={itemData} item={data} />}\n\t\t\t\t\tref={listRef}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n});\n\nexport default SearchList;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/sidebar/search/SearchList.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/sidebar/search/SearchList.tsx","inputSourceMap":{"version":3,"file":"client/sidebar/search/SearchList.tsx","sourceRoot":"","sources":["client/sidebar/search/SearchList.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IRoom, ISubscription } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Sidebar, TextInput, Box, Icon } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useDebouncedValue, useAutoFocus, useUniqueId, useMergedRefs } from '@rocket.chat/fuselage-hooks';\nimport { escapeRegExp } from '@rocket.chat/string-helpers';\nimport { useUserPreference, useUserSubscriptions, useSetting, useTranslation, useMethod } from '@rocket.chat/ui-contexts';\nimport type { UseQueryResult } from '@tanstack/react-query';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement, MutableRefObject, SetStateAction, Dispatch, FormEventHandler, Ref, MouseEventHandler } from 'react';\nimport React, { forwardRef, useState, useMemo, useEffect, useRef } from 'react';\nimport type { VirtuosoHandle } from 'react-virtuoso';\nimport { Virtuoso } from 'react-virtuoso';\nimport tinykeys from 'tinykeys';\n\nimport Row from './Row';\nimport { VirtuosoScrollbars } from '../../components/CustomScrollbars';\nimport { getConfig } from '../../lib/utils/getConfig';\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\nimport { usePreventDefault } from '../hooks/usePreventDefault';\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\n\nconst mobileCheck = function () {\n\tlet check = false;\n\t(function (a: string) {\n\t\tif (\n\t\t\t/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n\t\t\t\ta,\n\t\t\t) ||\n\t\t\t/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n\t\t\t\ta.substr(0, 4),\n\t\t\t)\n\t\t)\n\t\t\tcheck = true;\n\t})(navigator.userAgent || navigator.vendor || window.opera || '');\n\treturn check;\n};\n\ndeclare global {\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tinterface Window {\n\t\topera?: string;\n\t}\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tinterface Navigator {\n\t\tuserAgentData?: {\n\t\t\tmobile: boolean;\n\t\t};\n\t}\n}\n\nconst shortcut = ((): string => {\n\tif (navigator.userAgentData?.mobile || mobileCheck()) {\n\t\treturn '';\n\t}\n\tif (window.navigator.platform.toLowerCase().includes('mac')) {\n\t\treturn '(\\u2318+K)';\n\t}\n\treturn '(Ctrl+K)';\n})();\n\nconst LIMIT = parseInt(String(getConfig('Sidebar_Search_Spotlight_LIMIT', 20)));\n\nconst options = {\n\tsort: {\n\t\tlm: -1,\n\t\tname: 1,\n\t},\n\tlimit: LIMIT,\n} as const;\n\nconst useSearchItems = (filterText: string): UseQueryResult<(ISubscription & IRoom)[] | undefined, Error> => {\n\tconst [, mention, name] = useMemo(() => filterText.match(/(@|#)?(.*)/i) || [], [filterText]);\n\tconst query = useMemo(() => {\n\t\tconst filterRegex = new RegExp(escapeRegExp(name), 'i');\n\n\t\treturn {\n\t\t\t$or: [{ name: filterRegex }, { fname: filterRegex }],\n\t\t\t...(mention && {\n\t\t\t\tt: mention === '@' ? 'd' : { $ne: 'd' },\n\t\t\t}),\n\t\t};\n\t}, [name, mention]);\n\n\tconst localRooms = useUserSubscriptions(query, options);\n\n\tconst usernamesFromClient = [...localRooms?.map(({ t, name }) => (t === 'd' ? name : null))].filter(Boolean) as string[];\n\n\tconst searchForChannels = mention === '#';\n\tconst searchForDMs = mention === '@';\n\n\tconst type = useMemo(() => {\n\t\tif (searchForChannels) {\n\t\t\treturn { users: false, rooms: true, includeFederatedRooms: true };\n\t\t}\n\t\tif (searchForDMs) {\n\t\t\treturn { users: true, rooms: false };\n\t\t}\n\t\treturn { users: true, rooms: true, includeFederatedRooms: true };\n\t}, [searchForChannels, searchForDMs]);\n\n\tconst getSpotlight = useMethod('spotlight');\n\n\treturn useQuery(\n\t\t['sidebar/search/spotlight', name, usernamesFromClient, type, localRooms.map(({ _id, name }) => _id + name)],\n\t\tasync () => {\n\t\t\tif (localRooms.length === LIMIT) {\n\t\t\t\treturn localRooms;\n\t\t\t}\n\n\t\t\tconst spotlight = await getSpotlight(name, usernamesFromClient, type);\n\n\t\t\tconst filterUsersUnique = ({ _id }: { _id: string }, index: number, arr: { _id: string }[]): boolean =>\n\t\t\t\tindex === arr.findIndex((user) => _id === user._id);\n\n\t\t\tconst roomFilter = (room: { t: string; uids?: string[]; _id: string; name?: string }): boolean =>\n\t\t\t\t!localRooms.find(\n\t\t\t\t\t(item) =>\n\t\t\t\t\t\t(room.t === 'd' && room.uids && room.uids.length > 1 && room.uids?.includes(item._id)) ||\n\t\t\t\t\t\t[item.rid, item._id].includes(room._id),\n\t\t\t\t);\n\t\t\tconst usersFilter = (user: { _id: string }): boolean =>\n\t\t\t\t!localRooms.find((room) => room.t === 'd' && room.uids && room.uids?.length === 2 && room.uids.includes(user._id));\n\n\t\t\tconst userMap = (user: {\n\t\t\t\t_id: string;\n\t\t\t\tname: string;\n\t\t\t\tusername: string;\n\t\t\t\tavatarETag?: string;\n\t\t\t}): {\n\t\t\t\t_id: string;\n\t\t\t\tt: string;\n\t\t\t\tname: string;\n\t\t\t\tfname: string;\n\t\t\t\tavatarETag?: string;\n\t\t\t} => ({\n\t\t\t\t_id: user._id,\n\t\t\t\tt: 'd',\n\t\t\t\tname: user.username,\n\t\t\t\tfname: user.name,\n\t\t\t\tavatarETag: user.avatarETag,\n\t\t\t});\n\n\t\t\ttype resultsFromServerType = {\n\t\t\t\t_id: string;\n\t\t\t\tt: string;\n\t\t\t\tname: string;\n\t\t\t\tteamMain?: boolean;\n\t\t\t\tfname?: string;\n\t\t\t\tavatarETag?: string | undefined;\n\t\t\t\tuids?: string[] | undefined;\n\t\t\t}[];\n\n\t\t\tconst resultsFromServer: resultsFromServerType = [];\n\t\t\tresultsFromServer.push(...spotlight.users.filter(filterUsersUnique).filter(usersFilter).map(userMap));\n\t\t\tresultsFromServer.push(...spotlight.rooms.filter(roomFilter));\n\n\t\t\tconst exact = resultsFromServer?.filter((item) => [item.name, item.fname].includes(name));\n\t\t\treturn Array.from(new Set([...exact, ...localRooms, ...resultsFromServer]));\n\t\t},\n\t\t{\n\t\t\tstaleTime: 60_000,\n\t\t\tkeepPreviousData: true,\n\t\t\tplaceholderData: localRooms,\n\t\t},\n\t);\n};\n\nconst useInput = (initial: string): { value: string; onChange: FormEventHandler; setValue: Dispatch<SetStateAction<string>> } => {\n\tconst [value, setValue] = useState(initial);\n\tconst onChange = useMutableCallback((e) => {\n\t\tsetValue(e.currentTarget.value);\n\t});\n\treturn { value, onChange, setValue };\n};\n\nconst toggleSelectionState = (next: HTMLElement, current: HTMLElement | undefined, input: HTMLElement | undefined): void => {\n\tinput?.setAttribute('aria-activedescendant', next.id);\n\tnext.setAttribute('aria-selected', 'true');\n\tnext.classList.add('rcx-sidebar-item--selected');\n\tif (current) {\n\t\tcurrent.removeAttribute('aria-selected');\n\t\tcurrent.classList.remove('rcx-sidebar-item--selected');\n\t}\n};\n\n/**\n * @type import('react').ForwardRefExoticComponent<{ onClose: unknown } & import('react').RefAttributes<HTMLElement>>\n */\n\ntype SearchListProps = {\n\tonClose: () => void;\n};\n\nconst SearchList = forwardRef(function SearchList({ onClose }: SearchListProps, ref): ReactElement {\n\tconst listId = useUniqueId();\n\tconst t = useTranslation();\n\tconst { setValue: setFilterValue, ...filter } = useInput('');\n\n\tconst cursorRef = useRef<HTMLInputElement>(null);\n\tconst autofocus: Ref<HTMLInputElement> = useMergedRefs(useAutoFocus<HTMLInputElement>(), cursorRef);\n\n\tconst listRef = useRef<VirtuosoHandle>(null);\n\tconst boxRef = useRef<HTMLDivElement>(null);\n\n\tconst selectedElement: MutableRefObject<HTMLElement | null | undefined> = useRef(null);\n\tconst itemIndexRef = useRef(0);\n\n\tconst sidebarViewMode = useUserPreference('sidebarViewMode');\n\tconst useRealName = useSetting('UI_Use_Real_Name');\n\n\tconst sideBarItemTemplate = useTemplateByViewMode();\n\tconst avatarTemplate = useAvatarTemplate();\n\n\tconst extended = sidebarViewMode === 'extended';\n\n\tconst filterText = useDebouncedValue(filter.value, 100);\n\n\tconst placeholder = [t('Search'), shortcut].filter(Boolean).join(' ');\n\n\tconst { data: items = [], isLoading } = useSearchItems(filterText);\n\n\tconst itemData = useMemo(\n\t\t() => ({\n\t\t\titems,\n\t\t\tt,\n\t\t\tSideBarItemTemplate: sideBarItemTemplate,\n\t\t\tavatarTemplate,\n\t\t\tuseRealName,\n\t\t\textended,\n\t\t\tsidebarViewMode,\n\t\t}),\n\t\t[avatarTemplate, extended, items, useRealName, sideBarItemTemplate, sidebarViewMode, t],\n\t);\n\n\tconst changeSelection = useMutableCallback((dir) => {\n\t\tlet nextSelectedElement = null;\n\n\t\tif (dir === 'up') {\n\t\t\tconst potentialElement = selectedElement.current?.parentElement?.previousSibling as HTMLElement;\n\t\t\tif (potentialElement) {\n\t\t\t\tnextSelectedElement = potentialElement.querySelector('a');\n\t\t\t}\n\t\t} else {\n\t\t\tconst potentialElement = selectedElement.current?.parentElement?.nextSibling as HTMLElement;\n\t\t\tif (potentialElement) {\n\t\t\t\tnextSelectedElement = potentialElement.querySelector('a');\n\t\t\t}\n\t\t}\n\n\t\tif (nextSelectedElement) {\n\t\t\ttoggleSelectionState(nextSelectedElement, selectedElement.current || undefined, cursorRef?.current || undefined);\n\t\t\treturn nextSelectedElement;\n\t\t}\n\t\treturn selectedElement.current;\n\t});\n\n\tconst resetCursor = useMutableCallback(() => {\n\t\tsetTimeout(() => {\n\t\t\titemIndexRef.current = 0;\n\t\t\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\n\t\t\tselectedElement.current = boxRef.current?.querySelector('a.rcx-sidebar-item');\n\t\t\tif (selectedElement.current) {\n\t\t\t\ttoggleSelectionState(selectedElement.current, undefined, cursorRef?.current || undefined);\n\t\t\t}\n\t\t}, 0);\n\t});\n\n\tusePreventDefault(boxRef);\n\n\tuseEffect(() => {\n\t\tresetCursor();\n\t});\n\n\tuseEffect(() => {\n\t\tresetCursor();\n\t}, [filterText, resetCursor]);\n\n\tuseEffect(() => {\n\t\tif (!cursorRef?.current) {\n\t\t\treturn;\n\t\t}\n\t\treturn tinykeys(cursorRef?.current, {\n\t\t\tEscape: (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetFilterValue((value) => {\n\t\t\t\t\tif (!value) {\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t}\n\t\t\t\t\tresetCursor();\n\t\t\t\t\treturn '';\n\t\t\t\t});\n\t\t\t},\n\t\t\tTab: onClose,\n\t\t\tArrowUp: () => {\n\t\t\t\tconst currentElement = changeSelection('up');\n\t\t\t\titemIndexRef.current = Math.max(itemIndexRef.current - 1, 0);\n\t\t\t\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\n\t\t\t\tselectedElement.current = currentElement;\n\t\t\t},\n\t\t\tArrowDown: () => {\n\t\t\t\tconst currentElement = changeSelection('down');\n\t\t\t\titemIndexRef.current = Math.min(itemIndexRef.current + 1, items.length + 1);\n\t\t\t\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\n\t\t\t\tselectedElement.current = currentElement;\n\t\t\t},\n\t\t\tEnter: (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (selectedElement.current && items.length > 0) {\n\t\t\t\t\tselectedElement.current.click();\n\t\t\t\t} else {\n\t\t\t\t\tonClose();\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}, [cursorRef, changeSelection, items.length, onClose, resetCursor, setFilterValue]);\n\n\tconst handleClick: MouseEventHandler<HTMLElement> = (e): void => {\n\t\tif (e.target instanceof Element && [e.target.tagName, e.target.parentElement?.tagName].includes('BUTTON')) {\n\t\t\treturn;\n\t\t}\n\t\treturn onClose();\n\t};\n\n\treturn (\n\t\t<Box\n\t\t\tposition='absolute'\n\t\t\trcx-sidebar\n\t\t\th='full'\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\tzIndex={99}\n\t\t\tw='full'\n\t\t\tclassName={css`\n\t\t\t\tleft: 0;\n\t\t\t\ttop: 0;\n\t\t\t`}\n\t\t\tref={ref}\n\t\t\trole='search'\n\t\t>\n\t\t\t<Sidebar.TopBar.Section {...({ flexShrink: 0 } as any)} is='form'>\n\t\t\t\t<Box mb='x12' w='full'>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\taria-owns={listId}\n\t\t\t\t\t\tdata-qa='sidebar-search-input'\n\t\t\t\t\t\tref={autofocus}\n\t\t\t\t\t\t{...filter}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\trole='searchbox'\n\t\t\t\t\t\taddon={<Icon name='cross' size='x20' onClick={onClose} />}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Sidebar.TopBar.Section>\n\t\t\t<Box\n\t\t\t\tref={boxRef}\n\t\t\t\trole='listbox'\n\t\t\t\tid={listId}\n\t\t\t\ttabIndex={-1}\n\t\t\t\tflexShrink={1}\n\t\t\t\th='full'\n\t\t\t\tw='full'\n\t\t\t\tdata-qa='sidebar-search-result'\n\t\t\t\taria-live='polite'\n\t\t\t\taria-atomic='true'\n\t\t\t\taria-busy={isLoading}\n\t\t\t\tonClick={handleClick}\n\t\t\t>\n\t\t\t\t<Virtuoso\n\t\t\t\t\tstyle={{ height: '100%', width: '100%' }}\n\t\t\t\t\ttotalCount={items.length}\n\t\t\t\t\tdata={items}\n\t\t\t\t\tcomponents={{ Scroller: VirtuosoScrollbars }}\n\t\t\t\t\tcomputeItemKey={(_, room) => room._id}\n\t\t\t\t\titemContent={(_, data): ReactElement => <Row data={itemData} item={data} />}\n\t\t\t\t\tref={listRef}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n});\n\nexport default SearchList;\n"]}}},"code":"var _templateObject;\nconst _excluded = [\"setValue\"];\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet _taggedTemplateLiteral;\nmodule.link(\"@babel/runtime/helpers/taggedTemplateLiteral\", {\n  default(v) {\n    _taggedTemplateLiteral = v;\n  }\n}, 1);\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 2);\nlet _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n}, 3);\nlet css;\nmodule.link(\"@rocket.chat/css-in-js\", {\n  css(v) {\n    css = v;\n  }\n}, 0);\nlet Sidebar, TextInput, Box, Icon;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Sidebar(v) {\n    Sidebar = v;\n  },\n  TextInput(v) {\n    TextInput = v;\n  },\n  Box(v) {\n    Box = v;\n  },\n  Icon(v) {\n    Icon = v;\n  }\n}, 1);\nlet useMutableCallback, useDebouncedValue, useAutoFocus, useUniqueId, useMergedRefs;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  },\n  useDebouncedValue(v) {\n    useDebouncedValue = v;\n  },\n  useAutoFocus(v) {\n    useAutoFocus = v;\n  },\n  useUniqueId(v) {\n    useUniqueId = v;\n  },\n  useMergedRefs(v) {\n    useMergedRefs = v;\n  }\n}, 2);\nlet escapeRegExp;\nmodule.link(\"@rocket.chat/string-helpers\", {\n  escapeRegExp(v) {\n    escapeRegExp = v;\n  }\n}, 3);\nlet useUserPreference, useUserSubscriptions, useSetting, useTranslation, useMethod;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useUserPreference(v) {\n    useUserPreference = v;\n  },\n  useUserSubscriptions(v) {\n    useUserSubscriptions = v;\n  },\n  useSetting(v) {\n    useSetting = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  },\n  useMethod(v) {\n    useMethod = v;\n  }\n}, 4);\nlet useQuery;\nmodule.link(\"@tanstack/react-query\", {\n  useQuery(v) {\n    useQuery = v;\n  }\n}, 5);\nlet React, forwardRef, useState, useMemo, useEffect, useRef;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  forwardRef(v) {\n    forwardRef = v;\n  },\n  useState(v) {\n    useState = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  },\n  useEffect(v) {\n    useEffect = v;\n  },\n  useRef(v) {\n    useRef = v;\n  }\n}, 6);\nlet Virtuoso;\nmodule.link(\"react-virtuoso\", {\n  Virtuoso(v) {\n    Virtuoso = v;\n  }\n}, 7);\nlet tinykeys;\nmodule.link(\"tinykeys\", {\n  default(v) {\n    tinykeys = v;\n  }\n}, 8);\nlet Row;\nmodule.link(\"./Row\", {\n  default(v) {\n    Row = v;\n  }\n}, 9);\nlet VirtuosoScrollbars;\nmodule.link(\"../../components/CustomScrollbars\", {\n  VirtuosoScrollbars(v) {\n    VirtuosoScrollbars = v;\n  }\n}, 10);\nlet getConfig;\nmodule.link(\"../../lib/utils/getConfig\", {\n  getConfig(v) {\n    getConfig = v;\n  }\n}, 11);\nlet useAvatarTemplate;\nmodule.link(\"../hooks/useAvatarTemplate\", {\n  useAvatarTemplate(v) {\n    useAvatarTemplate = v;\n  }\n}, 12);\nlet usePreventDefault;\nmodule.link(\"../hooks/usePreventDefault\", {\n  usePreventDefault(v) {\n    usePreventDefault = v;\n  }\n}, 13);\nlet useTemplateByViewMode;\nmodule.link(\"../hooks/useTemplateByViewMode\", {\n  useTemplateByViewMode(v) {\n    useTemplateByViewMode = v;\n  }\n}, 14);\nconst mobileCheck = function () {\n  let check = false;\n  (function (a) {\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera || '');\n  return check;\n};\nconst shortcut = (_navigator$userAgentD => {\n  if ((_navigator$userAgentD = navigator.userAgentData) !== null && _navigator$userAgentD !== void 0 && _navigator$userAgentD.mobile || mobileCheck()) {\n    return '';\n  }\n  if (window.navigator.platform.toLowerCase().includes('mac')) {\n    return \"(\\u2318+K)\";\n  }\n  return '(Ctrl+K)';\n})();\nconst LIMIT = parseInt(String(getConfig('Sidebar_Search_Spotlight_LIMIT', 20)));\nconst options = {\n  sort: {\n    lm: -1,\n    name: 1\n  },\n  limit: LIMIT\n};\nconst useSearchItems = filterText => {\n  const [, mention, name] = useMemo(() => filterText.match(/(@|#)?(.*)/i) || [], [filterText]);\n  const query = useMemo(() => {\n    const filterRegex = new RegExp(escapeRegExp(name), 'i');\n    return _objectSpread({\n      $or: [{\n        name: filterRegex\n      }, {\n        fname: filterRegex\n      }]\n    }, mention && {\n      t: mention === '@' ? 'd' : {\n        $ne: 'd'\n      }\n    });\n  }, [name, mention]);\n  const localRooms = useUserSubscriptions(query, options);\n  const usernamesFromClient = [...(localRooms === null || localRooms === void 0 ? void 0 : localRooms.map(_ref => {\n    let {\n      t,\n      name\n    } = _ref;\n    return t === 'd' ? name : null;\n  }))].filter(Boolean);\n  const searchForChannels = mention === '#';\n  const searchForDMs = mention === '@';\n  const type = useMemo(() => {\n    if (searchForChannels) {\n      return {\n        users: false,\n        rooms: true,\n        includeFederatedRooms: true\n      };\n    }\n    if (searchForDMs) {\n      return {\n        users: true,\n        rooms: false\n      };\n    }\n    return {\n      users: true,\n      rooms: true,\n      includeFederatedRooms: true\n    };\n  }, [searchForChannels, searchForDMs]);\n  const getSpotlight = useMethod('spotlight');\n  return useQuery(['sidebar/search/spotlight', name, usernamesFromClient, type, localRooms.map(_ref2 => {\n    let {\n      _id,\n      name\n    } = _ref2;\n    return _id + name;\n  })], async () => {\n    if (localRooms.length === LIMIT) {\n      return localRooms;\n    }\n    const spotlight = await getSpotlight(name, usernamesFromClient, type);\n    const filterUsersUnique = (_ref3, index, arr) => {\n      let {\n        _id\n      } = _ref3;\n      return index === arr.findIndex(user => _id === user._id);\n    };\n    const roomFilter = room => !localRooms.find(item => {\n      var _room$uids;\n      return room.t === 'd' && room.uids && room.uids.length > 1 && ((_room$uids = room.uids) === null || _room$uids === void 0 ? void 0 : _room$uids.includes(item._id)) || [item.rid, item._id].includes(room._id);\n    });\n    const usersFilter = user => !localRooms.find(room => {\n      var _room$uids2;\n      return room.t === 'd' && room.uids && ((_room$uids2 = room.uids) === null || _room$uids2 === void 0 ? void 0 : _room$uids2.length) === 2 && room.uids.includes(user._id);\n    });\n    const userMap = user => ({\n      _id: user._id,\n      t: 'd',\n      name: user.username,\n      fname: user.name,\n      avatarETag: user.avatarETag\n    });\n    const resultsFromServer = [];\n    resultsFromServer.push(...spotlight.users.filter(filterUsersUnique).filter(usersFilter).map(userMap));\n    resultsFromServer.push(...spotlight.rooms.filter(roomFilter));\n    const exact = resultsFromServer === null || resultsFromServer === void 0 ? void 0 : resultsFromServer.filter(item => [item.name, item.fname].includes(name));\n    return Array.from(new Set([...exact, ...localRooms, ...resultsFromServer]));\n  }, {\n    staleTime: 60_000,\n    keepPreviousData: true,\n    placeholderData: localRooms\n  });\n};\nconst useInput = initial => {\n  const [value, setValue] = useState(initial);\n  const onChange = useMutableCallback(e => {\n    setValue(e.currentTarget.value);\n  });\n  return {\n    value,\n    onChange,\n    setValue\n  };\n};\nconst toggleSelectionState = (next, current, input) => {\n  input === null || input === void 0 ? void 0 : input.setAttribute('aria-activedescendant', next.id);\n  next.setAttribute('aria-selected', 'true');\n  next.classList.add('rcx-sidebar-item--selected');\n  if (current) {\n    current.removeAttribute('aria-selected');\n    current.classList.remove('rcx-sidebar-item--selected');\n  }\n};\nconst SearchList = /*#__PURE__*/forwardRef(function SearchList(_ref4, ref) {\n  let {\n    onClose\n  } = _ref4;\n  const listId = useUniqueId();\n  const t = useTranslation();\n  const _useInput = useInput(''),\n    {\n      setValue: setFilterValue\n    } = _useInput,\n    filter = _objectWithoutProperties(_useInput, _excluded);\n  const cursorRef = useRef(null);\n  const autofocus = useMergedRefs(useAutoFocus(), cursorRef);\n  const listRef = useRef(null);\n  const boxRef = useRef(null);\n  const selectedElement = useRef(null);\n  const itemIndexRef = useRef(0);\n  const sidebarViewMode = useUserPreference('sidebarViewMode');\n  const useRealName = useSetting('UI_Use_Real_Name');\n  const sideBarItemTemplate = useTemplateByViewMode();\n  const avatarTemplate = useAvatarTemplate();\n  const extended = sidebarViewMode === 'extended';\n  const filterText = useDebouncedValue(filter.value, 100);\n  const placeholder = [t('Search'), shortcut].filter(Boolean).join(' ');\n  const {\n    data: items = [],\n    isLoading\n  } = useSearchItems(filterText);\n  const itemData = useMemo(() => ({\n    items,\n    t,\n    SideBarItemTemplate: sideBarItemTemplate,\n    avatarTemplate,\n    useRealName,\n    extended,\n    sidebarViewMode\n  }), [avatarTemplate, extended, items, useRealName, sideBarItemTemplate, sidebarViewMode, t]);\n  const changeSelection = useMutableCallback(dir => {\n    let nextSelectedElement = null;\n    if (dir === 'up') {\n      var _selectedElement$curr, _selectedElement$curr2;\n      const potentialElement = (_selectedElement$curr = selectedElement.current) === null || _selectedElement$curr === void 0 ? void 0 : (_selectedElement$curr2 = _selectedElement$curr.parentElement) === null || _selectedElement$curr2 === void 0 ? void 0 : _selectedElement$curr2.previousSibling;\n      if (potentialElement) {\n        nextSelectedElement = potentialElement.querySelector('a');\n      }\n    } else {\n      var _selectedElement$curr3, _selectedElement$curr4;\n      const potentialElement = (_selectedElement$curr3 = selectedElement.current) === null || _selectedElement$curr3 === void 0 ? void 0 : (_selectedElement$curr4 = _selectedElement$curr3.parentElement) === null || _selectedElement$curr4 === void 0 ? void 0 : _selectedElement$curr4.nextSibling;\n      if (potentialElement) {\n        nextSelectedElement = potentialElement.querySelector('a');\n      }\n    }\n    if (nextSelectedElement) {\n      toggleSelectionState(nextSelectedElement, selectedElement.current || undefined, (cursorRef === null || cursorRef === void 0 ? void 0 : cursorRef.current) || undefined);\n      return nextSelectedElement;\n    }\n    return selectedElement.current;\n  });\n  const resetCursor = useMutableCallback(() => {\n    setTimeout(() => {\n      var _listRef$current, _boxRef$current;\n      itemIndexRef.current = 0;\n      (_listRef$current = listRef.current) === null || _listRef$current === void 0 ? void 0 : _listRef$current.scrollToIndex({\n        index: itemIndexRef.current\n      });\n      selectedElement.current = (_boxRef$current = boxRef.current) === null || _boxRef$current === void 0 ? void 0 : _boxRef$current.querySelector('a.rcx-sidebar-item');\n      if (selectedElement.current) {\n        toggleSelectionState(selectedElement.current, undefined, (cursorRef === null || cursorRef === void 0 ? void 0 : cursorRef.current) || undefined);\n      }\n    }, 0);\n  });\n  usePreventDefault(boxRef);\n  useEffect(() => {\n    resetCursor();\n  });\n  useEffect(() => {\n    resetCursor();\n  }, [filterText, resetCursor]);\n  useEffect(() => {\n    if (!(cursorRef !== null && cursorRef !== void 0 && cursorRef.current)) {\n      return;\n    }\n    return tinykeys(cursorRef === null || cursorRef === void 0 ? void 0 : cursorRef.current, {\n      Escape: event => {\n        event.preventDefault();\n        setFilterValue(value => {\n          if (!value) {\n            onClose();\n          }\n          resetCursor();\n          return '';\n        });\n      },\n      Tab: onClose,\n      ArrowUp: () => {\n        var _listRef$current2;\n        const currentElement = changeSelection('up');\n        itemIndexRef.current = Math.max(itemIndexRef.current - 1, 0);\n        (_listRef$current2 = listRef.current) === null || _listRef$current2 === void 0 ? void 0 : _listRef$current2.scrollToIndex({\n          index: itemIndexRef.current\n        });\n        selectedElement.current = currentElement;\n      },\n      ArrowDown: () => {\n        var _listRef$current3;\n        const currentElement = changeSelection('down');\n        itemIndexRef.current = Math.min(itemIndexRef.current + 1, items.length + 1);\n        (_listRef$current3 = listRef.current) === null || _listRef$current3 === void 0 ? void 0 : _listRef$current3.scrollToIndex({\n          index: itemIndexRef.current\n        });\n        selectedElement.current = currentElement;\n      },\n      Enter: event => {\n        event.preventDefault();\n        if (selectedElement.current && items.length > 0) {\n          selectedElement.current.click();\n        } else {\n          onClose();\n        }\n      }\n    });\n  }, [cursorRef, changeSelection, items.length, onClose, resetCursor, setFilterValue]);\n  const handleClick = e => {\n    var _e$target$parentEleme;\n    if (e.target instanceof Element && [e.target.tagName, (_e$target$parentEleme = e.target.parentElement) === null || _e$target$parentEleme === void 0 ? void 0 : _e$target$parentEleme.tagName].includes('BUTTON')) {\n      return;\n    }\n    return onClose();\n  };\n  return /*#__PURE__*/React.createElement(Box, {\n    position: \"absolute\",\n    \"rcx-sidebar\": true,\n    h: \"full\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    zIndex: 99,\n    w: \"full\",\n    className: css(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n\\t\\t\\t\\tleft: 0;\\n\\t\\t\\t\\ttop: 0;\\n\\t\\t\\t\"]))),\n    ref: ref,\n    role: \"search\"\n  }, /*#__PURE__*/React.createElement(Sidebar.TopBar.Section, {\n    flexShrink: 0,\n    is: \"form\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    mb: \"x12\",\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(TextInput, _extends({\n    \"aria-owns\": listId,\n    \"data-qa\": \"sidebar-search-input\",\n    ref: autofocus\n  }, filter, {\n    placeholder: placeholder,\n    role: \"searchbox\",\n    addon: /*#__PURE__*/React.createElement(Icon, {\n      name: \"cross\",\n      size: \"x20\",\n      onClick: onClose\n    })\n  })))), /*#__PURE__*/React.createElement(Box, {\n    ref: boxRef,\n    role: \"listbox\",\n    id: listId,\n    tabIndex: -1,\n    flexShrink: 1,\n    h: \"full\",\n    w: \"full\",\n    \"data-qa\": \"sidebar-search-result\",\n    \"aria-live\": \"polite\",\n    \"aria-atomic\": \"true\",\n    \"aria-busy\": isLoading,\n    onClick: handleClick\n  }, /*#__PURE__*/React.createElement(Virtuoso, {\n    style: {\n      height: '100%',\n      width: '100%'\n    },\n    totalCount: items.length,\n    data: items,\n    components: {\n      Scroller: VirtuosoScrollbars\n    },\n    computeItemKey: (_, room) => room._id,\n    itemContent: (_, data) => /*#__PURE__*/React.createElement(Row, {\n      data: itemData,\n      item: data\n    }),\n    ref: listRef\n  })));\n});\nmodule.exportDefault(SearchList);","map":{"version":3,"names":["_extends","module","link","default","v","_taggedTemplateLiteral","_objectWithoutProperties","_objectSpread","css","Sidebar","TextInput","Box","Icon","useMutableCallback","useDebouncedValue","useAutoFocus","useUniqueId","useMergedRefs","escapeRegExp","useUserPreference","useUserSubscriptions","useSetting","useTranslation","useMethod","useQuery","React","forwardRef","useState","useMemo","useEffect","useRef","Virtuoso","tinykeys","Row","VirtuosoScrollbars","getConfig","useAvatarTemplate","usePreventDefault","useTemplateByViewMode","mobileCheck","check","a","test","substr","navigator","userAgent","vendor","window","opera","shortcut","_navigator$userAgentD","userAgentData","mobile","platform","toLowerCase","includes","LIMIT","parseInt","String","options","sort","lm","name","limit","useSearchItems","filterText","mention","match","query","filterRegex","RegExp","$or","fname","t","$ne","localRooms","usernamesFromClient","map","_ref","filter","Boolean","searchForChannels","searchForDMs","type","users","rooms","includeFederatedRooms","getSpotlight","_ref2","_id","length","spotlight","filterUsersUnique","_ref3","index","arr","findIndex","user","roomFilter","room","find","item","_room$uids","uids","rid","usersFilter","_room$uids2","userMap","username","avatarETag","resultsFromServer","push","exact","Array","from","Set","staleTime","keepPreviousData","placeholderData","useInput","initial","value","setValue","onChange","e","currentTarget","toggleSelectionState","next","current","input","setAttribute","id","classList","add","removeAttribute","remove","SearchList","_ref4","ref","onClose","listId","_useInput","setFilterValue","_excluded","cursorRef","autofocus","listRef","boxRef","selectedElement","itemIndexRef","sidebarViewMode","useRealName","sideBarItemTemplate","avatarTemplate","extended","placeholder","join","data","items","isLoading","itemData","SideBarItemTemplate","changeSelection","dir","nextSelectedElement","_selectedElement$curr","_selectedElement$curr2","potentialElement","parentElement","previousSibling","querySelector","_selectedElement$curr3","_selectedElement$curr4","nextSibling","undefined","resetCursor","setTimeout","_listRef$current","_boxRef$current","scrollToIndex","Escape","event","preventDefault","Tab","ArrowUp","_listRef$current2","currentElement","Math","max","ArrowDown","_listRef$current3","min","Enter","click","handleClick","_e$target$parentEleme","target","Element","tagName","createElement","position","h","display","flexDirection","zIndex","w","className","_templateObject","role","TopBar","Section","flexShrink","is","mb","addon","size","onClick","tabIndex","style","height","width","totalCount","components","Scroller","computeItemKey","_","itemContent","exportDefault"],"sources":["client/sidebar/search/SearchList.tsx"],"sourcesContent":["import type { IRoom, ISubscription } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Sidebar, TextInput, Box, Icon } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useDebouncedValue, useAutoFocus, useUniqueId, useMergedRefs } from '@rocket.chat/fuselage-hooks';\nimport { escapeRegExp } from '@rocket.chat/string-helpers';\nimport { useUserPreference, useUserSubscriptions, useSetting, useTranslation, useMethod } from '@rocket.chat/ui-contexts';\nimport type { UseQueryResult } from '@tanstack/react-query';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement, MutableRefObject, SetStateAction, Dispatch, FormEventHandler, Ref, MouseEventHandler } from 'react';\nimport React, { forwardRef, useState, useMemo, useEffect, useRef } from 'react';\nimport type { VirtuosoHandle } from 'react-virtuoso';\nimport { Virtuoso } from 'react-virtuoso';\nimport tinykeys from 'tinykeys';\n\nimport Row from './Row';\nimport { VirtuosoScrollbars } from '../../components/CustomScrollbars';\nimport { getConfig } from '../../lib/utils/getConfig';\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\nimport { usePreventDefault } from '../hooks/usePreventDefault';\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\n\nconst mobileCheck = function () {\n\tlet check = false;\n\t(function (a: string) {\n\t\tif (\n\t\t\t/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n\t\t\t\ta,\n\t\t\t) ||\n\t\t\t/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n\t\t\t\ta.substr(0, 4),\n\t\t\t)\n\t\t)\n\t\t\tcheck = true;\n\t})(navigator.userAgent || navigator.vendor || window.opera || '');\n\treturn check;\n};\n\ndeclare global {\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tinterface Window {\n\t\topera?: string;\n\t}\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tinterface Navigator {\n\t\tuserAgentData?: {\n\t\t\tmobile: boolean;\n\t\t};\n\t}\n}\n\nconst shortcut = ((): string => {\n\tif (navigator.userAgentData?.mobile || mobileCheck()) {\n\t\treturn '';\n\t}\n\tif (window.navigator.platform.toLowerCase().includes('mac')) {\n\t\treturn '(\\u2318+K)';\n\t}\n\treturn '(Ctrl+K)';\n})();\n\nconst LIMIT = parseInt(String(getConfig('Sidebar_Search_Spotlight_LIMIT', 20)));\n\nconst options = {\n\tsort: {\n\t\tlm: -1,\n\t\tname: 1,\n\t},\n\tlimit: LIMIT,\n} as const;\n\nconst useSearchItems = (filterText: string): UseQueryResult<(ISubscription & IRoom)[] | undefined, Error> => {\n\tconst [, mention, name] = useMemo(() => filterText.match(/(@|#)?(.*)/i) || [], [filterText]);\n\tconst query = useMemo(() => {\n\t\tconst filterRegex = new RegExp(escapeRegExp(name), 'i');\n\n\t\treturn {\n\t\t\t$or: [{ name: filterRegex }, { fname: filterRegex }],\n\t\t\t...(mention && {\n\t\t\t\tt: mention === '@' ? 'd' : { $ne: 'd' },\n\t\t\t}),\n\t\t};\n\t}, [name, mention]);\n\n\tconst localRooms = useUserSubscriptions(query, options);\n\n\tconst usernamesFromClient = [...localRooms?.map(({ t, name }) => (t === 'd' ? name : null))].filter(Boolean) as string[];\n\n\tconst searchForChannels = mention === '#';\n\tconst searchForDMs = mention === '@';\n\n\tconst type = useMemo(() => {\n\t\tif (searchForChannels) {\n\t\t\treturn { users: false, rooms: true, includeFederatedRooms: true };\n\t\t}\n\t\tif (searchForDMs) {\n\t\t\treturn { users: true, rooms: false };\n\t\t}\n\t\treturn { users: true, rooms: true, includeFederatedRooms: true };\n\t}, [searchForChannels, searchForDMs]);\n\n\tconst getSpotlight = useMethod('spotlight');\n\n\treturn useQuery(\n\t\t['sidebar/search/spotlight', name, usernamesFromClient, type, localRooms.map(({ _id, name }) => _id + name)],\n\t\tasync () => {\n\t\t\tif (localRooms.length === LIMIT) {\n\t\t\t\treturn localRooms;\n\t\t\t}\n\n\t\t\tconst spotlight = await getSpotlight(name, usernamesFromClient, type);\n\n\t\t\tconst filterUsersUnique = ({ _id }: { _id: string }, index: number, arr: { _id: string }[]): boolean =>\n\t\t\t\tindex === arr.findIndex((user) => _id === user._id);\n\n\t\t\tconst roomFilter = (room: { t: string; uids?: string[]; _id: string; name?: string }): boolean =>\n\t\t\t\t!localRooms.find(\n\t\t\t\t\t(item) =>\n\t\t\t\t\t\t(room.t === 'd' && room.uids && room.uids.length > 1 && room.uids?.includes(item._id)) ||\n\t\t\t\t\t\t[item.rid, item._id].includes(room._id),\n\t\t\t\t);\n\t\t\tconst usersFilter = (user: { _id: string }): boolean =>\n\t\t\t\t!localRooms.find((room) => room.t === 'd' && room.uids && room.uids?.length === 2 && room.uids.includes(user._id));\n\n\t\t\tconst userMap = (user: {\n\t\t\t\t_id: string;\n\t\t\t\tname: string;\n\t\t\t\tusername: string;\n\t\t\t\tavatarETag?: string;\n\t\t\t}): {\n\t\t\t\t_id: string;\n\t\t\t\tt: string;\n\t\t\t\tname: string;\n\t\t\t\tfname: string;\n\t\t\t\tavatarETag?: string;\n\t\t\t} => ({\n\t\t\t\t_id: user._id,\n\t\t\t\tt: 'd',\n\t\t\t\tname: user.username,\n\t\t\t\tfname: user.name,\n\t\t\t\tavatarETag: user.avatarETag,\n\t\t\t});\n\n\t\t\ttype resultsFromServerType = {\n\t\t\t\t_id: string;\n\t\t\t\tt: string;\n\t\t\t\tname: string;\n\t\t\t\tteamMain?: boolean;\n\t\t\t\tfname?: string;\n\t\t\t\tavatarETag?: string | undefined;\n\t\t\t\tuids?: string[] | undefined;\n\t\t\t}[];\n\n\t\t\tconst resultsFromServer: resultsFromServerType = [];\n\t\t\tresultsFromServer.push(...spotlight.users.filter(filterUsersUnique).filter(usersFilter).map(userMap));\n\t\t\tresultsFromServer.push(...spotlight.rooms.filter(roomFilter));\n\n\t\t\tconst exact = resultsFromServer?.filter((item) => [item.name, item.fname].includes(name));\n\t\t\treturn Array.from(new Set([...exact, ...localRooms, ...resultsFromServer]));\n\t\t},\n\t\t{\n\t\t\tstaleTime: 60_000,\n\t\t\tkeepPreviousData: true,\n\t\t\tplaceholderData: localRooms,\n\t\t},\n\t);\n};\n\nconst useInput = (initial: string): { value: string; onChange: FormEventHandler; setValue: Dispatch<SetStateAction<string>> } => {\n\tconst [value, setValue] = useState(initial);\n\tconst onChange = useMutableCallback((e) => {\n\t\tsetValue(e.currentTarget.value);\n\t});\n\treturn { value, onChange, setValue };\n};\n\nconst toggleSelectionState = (next: HTMLElement, current: HTMLElement | undefined, input: HTMLElement | undefined): void => {\n\tinput?.setAttribute('aria-activedescendant', next.id);\n\tnext.setAttribute('aria-selected', 'true');\n\tnext.classList.add('rcx-sidebar-item--selected');\n\tif (current) {\n\t\tcurrent.removeAttribute('aria-selected');\n\t\tcurrent.classList.remove('rcx-sidebar-item--selected');\n\t}\n};\n\n/**\n * @type import('react').ForwardRefExoticComponent<{ onClose: unknown } & import('react').RefAttributes<HTMLElement>>\n */\n\ntype SearchListProps = {\n\tonClose: () => void;\n};\n\nconst SearchList = forwardRef(function SearchList({ onClose }: SearchListProps, ref): ReactElement {\n\tconst listId = useUniqueId();\n\tconst t = useTranslation();\n\tconst { setValue: setFilterValue, ...filter } = useInput('');\n\n\tconst cursorRef = useRef<HTMLInputElement>(null);\n\tconst autofocus: Ref<HTMLInputElement> = useMergedRefs(useAutoFocus<HTMLInputElement>(), cursorRef);\n\n\tconst listRef = useRef<VirtuosoHandle>(null);\n\tconst boxRef = useRef<HTMLDivElement>(null);\n\n\tconst selectedElement: MutableRefObject<HTMLElement | null | undefined> = useRef(null);\n\tconst itemIndexRef = useRef(0);\n\n\tconst sidebarViewMode = useUserPreference('sidebarViewMode');\n\tconst useRealName = useSetting('UI_Use_Real_Name');\n\n\tconst sideBarItemTemplate = useTemplateByViewMode();\n\tconst avatarTemplate = useAvatarTemplate();\n\n\tconst extended = sidebarViewMode === 'extended';\n\n\tconst filterText = useDebouncedValue(filter.value, 100);\n\n\tconst placeholder = [t('Search'), shortcut].filter(Boolean).join(' ');\n\n\tconst { data: items = [], isLoading } = useSearchItems(filterText);\n\n\tconst itemData = useMemo(\n\t\t() => ({\n\t\t\titems,\n\t\t\tt,\n\t\t\tSideBarItemTemplate: sideBarItemTemplate,\n\t\t\tavatarTemplate,\n\t\t\tuseRealName,\n\t\t\textended,\n\t\t\tsidebarViewMode,\n\t\t}),\n\t\t[avatarTemplate, extended, items, useRealName, sideBarItemTemplate, sidebarViewMode, t],\n\t);\n\n\tconst changeSelection = useMutableCallback((dir) => {\n\t\tlet nextSelectedElement = null;\n\n\t\tif (dir === 'up') {\n\t\t\tconst potentialElement = selectedElement.current?.parentElement?.previousSibling as HTMLElement;\n\t\t\tif (potentialElement) {\n\t\t\t\tnextSelectedElement = potentialElement.querySelector('a');\n\t\t\t}\n\t\t} else {\n\t\t\tconst potentialElement = selectedElement.current?.parentElement?.nextSibling as HTMLElement;\n\t\t\tif (potentialElement) {\n\t\t\t\tnextSelectedElement = potentialElement.querySelector('a');\n\t\t\t}\n\t\t}\n\n\t\tif (nextSelectedElement) {\n\t\t\ttoggleSelectionState(nextSelectedElement, selectedElement.current || undefined, cursorRef?.current || undefined);\n\t\t\treturn nextSelectedElement;\n\t\t}\n\t\treturn selectedElement.current;\n\t});\n\n\tconst resetCursor = useMutableCallback(() => {\n\t\tsetTimeout(() => {\n\t\t\titemIndexRef.current = 0;\n\t\t\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\n\t\t\tselectedElement.current = boxRef.current?.querySelector('a.rcx-sidebar-item');\n\t\t\tif (selectedElement.current) {\n\t\t\t\ttoggleSelectionState(selectedElement.current, undefined, cursorRef?.current || undefined);\n\t\t\t}\n\t\t}, 0);\n\t});\n\n\tusePreventDefault(boxRef);\n\n\tuseEffect(() => {\n\t\tresetCursor();\n\t});\n\n\tuseEffect(() => {\n\t\tresetCursor();\n\t}, [filterText, resetCursor]);\n\n\tuseEffect(() => {\n\t\tif (!cursorRef?.current) {\n\t\t\treturn;\n\t\t}\n\t\treturn tinykeys(cursorRef?.current, {\n\t\t\tEscape: (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetFilterValue((value) => {\n\t\t\t\t\tif (!value) {\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t}\n\t\t\t\t\tresetCursor();\n\t\t\t\t\treturn '';\n\t\t\t\t});\n\t\t\t},\n\t\t\tTab: onClose,\n\t\t\tArrowUp: () => {\n\t\t\t\tconst currentElement = changeSelection('up');\n\t\t\t\titemIndexRef.current = Math.max(itemIndexRef.current - 1, 0);\n\t\t\t\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\n\t\t\t\tselectedElement.current = currentElement;\n\t\t\t},\n\t\t\tArrowDown: () => {\n\t\t\t\tconst currentElement = changeSelection('down');\n\t\t\t\titemIndexRef.current = Math.min(itemIndexRef.current + 1, items.length + 1);\n\t\t\t\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\n\t\t\t\tselectedElement.current = currentElement;\n\t\t\t},\n\t\t\tEnter: (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (selectedElement.current && items.length > 0) {\n\t\t\t\t\tselectedElement.current.click();\n\t\t\t\t} else {\n\t\t\t\t\tonClose();\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}, [cursorRef, changeSelection, items.length, onClose, resetCursor, setFilterValue]);\n\n\tconst handleClick: MouseEventHandler<HTMLElement> = (e): void => {\n\t\tif (e.target instanceof Element && [e.target.tagName, e.target.parentElement?.tagName].includes('BUTTON')) {\n\t\t\treturn;\n\t\t}\n\t\treturn onClose();\n\t};\n\n\treturn (\n\t\t<Box\n\t\t\tposition='absolute'\n\t\t\trcx-sidebar\n\t\t\th='full'\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\tzIndex={99}\n\t\t\tw='full'\n\t\t\tclassName={css`\n\t\t\t\tleft: 0;\n\t\t\t\ttop: 0;\n\t\t\t`}\n\t\t\tref={ref}\n\t\t\trole='search'\n\t\t>\n\t\t\t<Sidebar.TopBar.Section {...({ flexShrink: 0 } as any)} is='form'>\n\t\t\t\t<Box mb='x12' w='full'>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\taria-owns={listId}\n\t\t\t\t\t\tdata-qa='sidebar-search-input'\n\t\t\t\t\t\tref={autofocus}\n\t\t\t\t\t\t{...filter}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\trole='searchbox'\n\t\t\t\t\t\taddon={<Icon name='cross' size='x20' onClick={onClose} />}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Sidebar.TopBar.Section>\n\t\t\t<Box\n\t\t\t\tref={boxRef}\n\t\t\t\trole='listbox'\n\t\t\t\tid={listId}\n\t\t\t\ttabIndex={-1}\n\t\t\t\tflexShrink={1}\n\t\t\t\th='full'\n\t\t\t\tw='full'\n\t\t\t\tdata-qa='sidebar-search-result'\n\t\t\t\taria-live='polite'\n\t\t\t\taria-atomic='true'\n\t\t\t\taria-busy={isLoading}\n\t\t\t\tonClick={handleClick}\n\t\t\t>\n\t\t\t\t<Virtuoso\n\t\t\t\t\tstyle={{ height: '100%', width: '100%' }}\n\t\t\t\t\ttotalCount={items.length}\n\t\t\t\t\tdata={items}\n\t\t\t\t\tcomponents={{ Scroller: VirtuosoScrollbars }}\n\t\t\t\t\tcomputeItemKey={(_, room) => room._id}\n\t\t\t\t\titemContent={(_, data): ReactElement => <Row data={itemData} item={data} />}\n\t\t\t\t\tref={listRef}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n});\n\nexport default SearchList;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"a8e4e4a8f305d7e0bcbdb4f32779a9ffa7409f46"}
