{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/message/toolbar/MessageToolbar.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/components/message/toolbar/MessageToolbar.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/message/toolbar/MessageToolbar.tsx","inputSourceMap":{"version":3,"file":"client/components/message/toolbar/MessageToolbar.tsx","sourceRoot":"","sources":["client/components/message/toolbar/MessageToolbar.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useToolbar } from '@react-aria/toolbar';\nimport type { IMessage, IRoom, ISubscription, ITranslatedMessage } from '@rocket.chat/core-typings';\nimport { isThreadMessage, isRoomFederated, isVideoConfMessage, isE2EEMessage } from '@rocket.chat/core-typings';\nimport { MessageToolbar as FuselageMessageToolbar, MessageToolbarItem } from '@rocket.chat/fuselage';\nimport { useFeaturePreview } from '@rocket.chat/ui-client';\nimport { useUser, useSettings, useTranslation, useMethod, useLayoutHiddenActions } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { memo, useMemo, useRef } from 'react';\n\nimport MessageActionMenu from './MessageActionMenu';\nimport MessageToolbarStarsActionMenu from './MessageToolbarStarsActionMenu';\nimport { useWebDAVMessageAction } from './useWebDAVMessageAction';\nimport type { MessageActionContext } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { MessageAction } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { useEmojiPickerData } from '../../../contexts/EmojiPickerContext';\nimport { useMessageActionAppsActionButtons } from '../../../hooks/useAppActionButtons';\nimport { useEmbeddedLayout } from '../../../hooks/useEmbeddedLayout';\nimport EmojiElement from '../../../views/composer/EmojiPicker/EmojiElement';\nimport { useIsSelecting } from '../../../views/room/MessageList/contexts/SelectedMessagesContext';\nimport { useAutoTranslate } from '../../../views/room/MessageList/hooks/useAutoTranslate';\nimport { useChat } from '../../../views/room/contexts/ChatContext';\nimport { useRoomToolbox } from '../../../views/room/contexts/RoomToolboxContext';\n\nconst getMessageContext = (message: IMessage, room: IRoom, context?: MessageActionContext): MessageActionContext => {\n\tif (context) {\n\t\treturn context;\n\t}\n\n\tif (isVideoConfMessage(message)) {\n\t\treturn 'videoconf';\n\t}\n\n\tif (isRoomFederated(room)) {\n\t\treturn 'federated';\n\t}\n\n\tif (isThreadMessage(message)) {\n\t\treturn 'threads';\n\t}\n\n\treturn 'message';\n};\n\ntype MessageToolbarProps = {\n\tmessage: IMessage & Partial<ITranslatedMessage>;\n\tmessageContext?: MessageActionContext;\n\troom: IRoom;\n\tsubscription?: ISubscription;\n\tonChangeMenuVisibility: (visible: boolean) => void;\n} & ComponentProps<typeof FuselageMessageToolbar>;\n\nconst MessageToolbar = ({\n\tmessage,\n\tmessageContext,\n\troom,\n\tsubscription,\n\tonChangeMenuVisibility,\n\t...props\n}: MessageToolbarProps): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst user = useUser() ?? undefined;\n\tconst settings = useSettings();\n\tconst isLayoutEmbedded = useEmbeddedLayout();\n\n\tconst toolbarRef = useRef(null);\n\tconst { toolbarProps } = useToolbar(props, toolbarRef);\n\n\tconst quickReactionsEnabled = useFeaturePreview('quickReactions');\n\n\tconst setReaction = useMethod('setReaction');\n\n\tconst context = getMessageContext(message, room, messageContext);\n\n\tconst mapSettings = useMemo(() => Object.fromEntries(settings.map((setting) => [setting._id, setting.value])), [settings]);\n\n\tconst chat = useChat();\n\tconst { quickReactions, addRecentEmoji } = useEmojiPickerData();\n\n\tconst actionButtonApps = useMessageActionAppsActionButtons(context);\n\n\tconst starsAction = useMessageActionAppsActionButtons(context, 'ai');\n\n\tconst { messageToolbox: hiddenActions } = useLayoutHiddenActions();\n\n\t// TODO: move this to another place\n\tuseWebDAVMessageAction();\n\n\tconst actionsQueryResult = useQuery(['rooms', room._id, 'messages', message._id, 'actions'] as const, async () => {\n\t\tconst props = { message, room, user, subscription, settings: mapSettings, chat };\n\n\t\tconst toolboxItems = await MessageAction.getAll(props, context, 'message');\n\t\tconst menuItems = await MessageAction.getAll(props, context, 'menu');\n\n\t\treturn {\n\t\t\tmessage: toolboxItems.filter((action) => !hiddenActions.includes(action.id)),\n\t\t\tmenu: menuItems.filter((action) => !(isLayoutEmbedded && action.id === 'reply-directly') && !hiddenActions.includes(action.id)),\n\t\t};\n\t});\n\n\tconst toolbox = useRoomToolbox();\n\n\tconst selecting = useIsSelecting();\n\n\tconst autoTranslateOptions = useAutoTranslate(subscription);\n\n\tif (selecting || (!actionsQueryResult.data?.message.length && !actionsQueryResult.data?.menu.length)) {\n\t\treturn null;\n\t}\n\n\tconst isReactionAllowed = actionsQueryResult.data?.message.find(({ id }) => id === 'reaction-message');\n\n\tconst handleSetReaction = (emoji: string) => {\n\t\tsetReaction(`:${emoji}:`, message._id);\n\t\taddRecentEmoji(emoji);\n\t};\n\n\treturn (\n\t\t<FuselageMessageToolbar ref={toolbarRef} {...toolbarProps} aria-label={t('Message_actions')} {...props}>\n\t\t\t{quickReactionsEnabled &&\n\t\t\t\tisReactionAllowed &&\n\t\t\t\tquickReactions.slice(0, 3).map(({ emoji, image }) => {\n\t\t\t\t\treturn <EmojiElement small key={emoji} title={emoji} emoji={emoji} image={image} onClick={() => handleSetReaction(emoji)} />;\n\t\t\t\t})}\n\t\t\t{actionsQueryResult.isSuccess &&\n\t\t\t\tactionsQueryResult.data.message.map((action) => (\n\t\t\t\t\t<MessageToolbarItem\n\t\t\t\t\t\tonClick={(e): void => action.action(e, { message, tabbar: toolbox, room, chat, autoTranslateOptions })}\n\t\t\t\t\t\tkey={action.id}\n\t\t\t\t\t\ticon={action.icon}\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\taction?.disabled?.({ message, room, user, subscription, settings: mapSettings, chat, context })\n\t\t\t\t\t\t\t\t? t('Action_not_available_encrypted_content', { action: t(action.label) })\n\t\t\t\t\t\t\t\t: t(action.label)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata-qa-id={action.label}\n\t\t\t\t\t\tdata-qa-type='message-action-menu'\n\t\t\t\t\t\tdisabled={action?.disabled?.({ message, room, user, subscription, settings: mapSettings, chat, context })}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t{starsAction.data && starsAction.data.length > 0 && (\n\t\t\t\t<MessageToolbarStarsActionMenu\n\t\t\t\t\toptions={starsAction.data.map((action) => ({\n\t\t\t\t\t\t...action,\n\t\t\t\t\t\taction: (e) => action.action(e, { message, tabbar: toolbox, room, chat, autoTranslateOptions }),\n\t\t\t\t\t}))}\n\t\t\t\t\tonChangeMenuVisibility={onChangeMenuVisibility}\n\t\t\t\t\tdata-qa-type='message-action-stars-menu-options'\n\t\t\t\t\tcontext={{ message, room, user, subscription, settings: mapSettings, chat, context }}\n\t\t\t\t\tisMessageEncrypted={isE2EEMessage(message)}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{actionsQueryResult.isSuccess && actionsQueryResult.data.menu.length > 0 && (\n\t\t\t\t<MessageActionMenu\n\t\t\t\t\toptions={[...actionsQueryResult.data?.menu, ...(actionButtonApps.data ?? [])].filter(Boolean).map((action) => ({\n\t\t\t\t\t\t...action,\n\t\t\t\t\t\taction: (e) => action.action(e, { message, tabbar: toolbox, room, chat, autoTranslateOptions }),\n\t\t\t\t\t}))}\n\t\t\t\t\tonChangeMenuVisibility={onChangeMenuVisibility}\n\t\t\t\t\tdata-qa-type='message-action-menu-options'\n\t\t\t\t\tcontext={{ message, room, user, subscription, settings: mapSettings, chat, context }}\n\t\t\t\t\tisMessageEncrypted={isE2EEMessage(message)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</FuselageMessageToolbar>\n\t);\n};\n\nexport default memo(MessageToolbar);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/message/toolbar/MessageToolbar.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/components/message/toolbar/MessageToolbar.tsx","inputSourceMap":{"version":3,"file":"client/components/message/toolbar/MessageToolbar.tsx","sourceRoot":"","sources":["client/components/message/toolbar/MessageToolbar.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useToolbar } from '@react-aria/toolbar';\nimport type { IMessage, IRoom, ISubscription, ITranslatedMessage } from '@rocket.chat/core-typings';\nimport { isThreadMessage, isRoomFederated, isVideoConfMessage, isE2EEMessage } from '@rocket.chat/core-typings';\nimport { MessageToolbar as FuselageMessageToolbar, MessageToolbarItem } from '@rocket.chat/fuselage';\nimport { useFeaturePreview } from '@rocket.chat/ui-client';\nimport { useUser, useSettings, useTranslation, useMethod, useLayoutHiddenActions } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { memo, useMemo, useRef } from 'react';\n\nimport MessageActionMenu from './MessageActionMenu';\nimport MessageToolbarStarsActionMenu from './MessageToolbarStarsActionMenu';\nimport { useWebDAVMessageAction } from './useWebDAVMessageAction';\nimport type { MessageActionContext } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { MessageAction } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { useEmojiPickerData } from '../../../contexts/EmojiPickerContext';\nimport { useMessageActionAppsActionButtons } from '../../../hooks/useAppActionButtons';\nimport { useEmbeddedLayout } from '../../../hooks/useEmbeddedLayout';\nimport EmojiElement from '../../../views/composer/EmojiPicker/EmojiElement';\nimport { useIsSelecting } from '../../../views/room/MessageList/contexts/SelectedMessagesContext';\nimport { useAutoTranslate } from '../../../views/room/MessageList/hooks/useAutoTranslate';\nimport { useChat } from '../../../views/room/contexts/ChatContext';\nimport { useRoomToolbox } from '../../../views/room/contexts/RoomToolboxContext';\n\nconst getMessageContext = (message: IMessage, room: IRoom, context?: MessageActionContext): MessageActionContext => {\n\tif (context) {\n\t\treturn context;\n\t}\n\n\tif (isVideoConfMessage(message)) {\n\t\treturn 'videoconf';\n\t}\n\n\tif (isRoomFederated(room)) {\n\t\treturn 'federated';\n\t}\n\n\tif (isThreadMessage(message)) {\n\t\treturn 'threads';\n\t}\n\n\treturn 'message';\n};\n\ntype MessageToolbarProps = {\n\tmessage: IMessage & Partial<ITranslatedMessage>;\n\tmessageContext?: MessageActionContext;\n\troom: IRoom;\n\tsubscription?: ISubscription;\n\tonChangeMenuVisibility: (visible: boolean) => void;\n} & ComponentProps<typeof FuselageMessageToolbar>;\n\nconst MessageToolbar = ({\n\tmessage,\n\tmessageContext,\n\troom,\n\tsubscription,\n\tonChangeMenuVisibility,\n\t...props\n}: MessageToolbarProps): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst user = useUser() ?? undefined;\n\tconst settings = useSettings();\n\tconst isLayoutEmbedded = useEmbeddedLayout();\n\n\tconst toolbarRef = useRef(null);\n\tconst { toolbarProps } = useToolbar(props, toolbarRef);\n\n\tconst quickReactionsEnabled = useFeaturePreview('quickReactions');\n\n\tconst setReaction = useMethod('setReaction');\n\n\tconst context = getMessageContext(message, room, messageContext);\n\n\tconst mapSettings = useMemo(() => Object.fromEntries(settings.map((setting) => [setting._id, setting.value])), [settings]);\n\n\tconst chat = useChat();\n\tconst { quickReactions, addRecentEmoji } = useEmojiPickerData();\n\n\tconst actionButtonApps = useMessageActionAppsActionButtons(context);\n\n\tconst starsAction = useMessageActionAppsActionButtons(context, 'ai');\n\n\tconst { messageToolbox: hiddenActions } = useLayoutHiddenActions();\n\n\t// TODO: move this to another place\n\tuseWebDAVMessageAction();\n\n\tconst actionsQueryResult = useQuery(['rooms', room._id, 'messages', message._id, 'actions'] as const, async () => {\n\t\tconst props = { message, room, user, subscription, settings: mapSettings, chat };\n\n\t\tconst toolboxItems = await MessageAction.getAll(props, context, 'message');\n\t\tconst menuItems = await MessageAction.getAll(props, context, 'menu');\n\n\t\treturn {\n\t\t\tmessage: toolboxItems.filter((action) => !hiddenActions.includes(action.id)),\n\t\t\tmenu: menuItems.filter((action) => !(isLayoutEmbedded && action.id === 'reply-directly') && !hiddenActions.includes(action.id)),\n\t\t};\n\t});\n\n\tconst toolbox = useRoomToolbox();\n\n\tconst selecting = useIsSelecting();\n\n\tconst autoTranslateOptions = useAutoTranslate(subscription);\n\n\tif (selecting || (!actionsQueryResult.data?.message.length && !actionsQueryResult.data?.menu.length)) {\n\t\treturn null;\n\t}\n\n\tconst isReactionAllowed = actionsQueryResult.data?.message.find(({ id }) => id === 'reaction-message');\n\n\tconst handleSetReaction = (emoji: string) => {\n\t\tsetReaction(`:${emoji}:`, message._id);\n\t\taddRecentEmoji(emoji);\n\t};\n\n\treturn (\n\t\t<FuselageMessageToolbar ref={toolbarRef} {...toolbarProps} aria-label={t('Message_actions')} {...props}>\n\t\t\t{quickReactionsEnabled &&\n\t\t\t\tisReactionAllowed &&\n\t\t\t\tquickReactions.slice(0, 3).map(({ emoji, image }) => {\n\t\t\t\t\treturn <EmojiElement small key={emoji} title={emoji} emoji={emoji} image={image} onClick={() => handleSetReaction(emoji)} />;\n\t\t\t\t})}\n\t\t\t{actionsQueryResult.isSuccess &&\n\t\t\t\tactionsQueryResult.data.message.map((action) => (\n\t\t\t\t\t<MessageToolbarItem\n\t\t\t\t\t\tonClick={(e): void => action.action(e, { message, tabbar: toolbox, room, chat, autoTranslateOptions })}\n\t\t\t\t\t\tkey={action.id}\n\t\t\t\t\t\ticon={action.icon}\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\taction?.disabled?.({ message, room, user, subscription, settings: mapSettings, chat, context })\n\t\t\t\t\t\t\t\t? t('Action_not_available_encrypted_content', { action: t(action.label) })\n\t\t\t\t\t\t\t\t: t(action.label)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata-qa-id={action.label}\n\t\t\t\t\t\tdata-qa-type='message-action-menu'\n\t\t\t\t\t\tdisabled={action?.disabled?.({ message, room, user, subscription, settings: mapSettings, chat, context })}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t{starsAction.data && starsAction.data.length > 0 && (\n\t\t\t\t<MessageToolbarStarsActionMenu\n\t\t\t\t\toptions={starsAction.data.map((action) => ({\n\t\t\t\t\t\t...action,\n\t\t\t\t\t\taction: (e) => action.action(e, { message, tabbar: toolbox, room, chat, autoTranslateOptions }),\n\t\t\t\t\t}))}\n\t\t\t\t\tonChangeMenuVisibility={onChangeMenuVisibility}\n\t\t\t\t\tdata-qa-type='message-action-stars-menu-options'\n\t\t\t\t\tcontext={{ message, room, user, subscription, settings: mapSettings, chat, context }}\n\t\t\t\t\tisMessageEncrypted={isE2EEMessage(message)}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{actionsQueryResult.isSuccess && actionsQueryResult.data.menu.length > 0 && (\n\t\t\t\t<MessageActionMenu\n\t\t\t\t\toptions={[...actionsQueryResult.data?.menu, ...(actionButtonApps.data ?? [])].filter(Boolean).map((action) => ({\n\t\t\t\t\t\t...action,\n\t\t\t\t\t\taction: (e) => action.action(e, { message, tabbar: toolbox, room, chat, autoTranslateOptions }),\n\t\t\t\t\t}))}\n\t\t\t\t\tonChangeMenuVisibility={onChangeMenuVisibility}\n\t\t\t\t\tdata-qa-type='message-action-menu-options'\n\t\t\t\t\tcontext={{ message, room, user, subscription, settings: mapSettings, chat, context }}\n\t\t\t\t\tisMessageEncrypted={isE2EEMessage(message)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</FuselageMessageToolbar>\n\t);\n};\n\nexport default memo(MessageToolbar);\n"]}}},"code":"const _excluded = [\"message\", \"messageContext\", \"room\", \"subscription\", \"onChangeMenuVisibility\"];\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n}, 1);\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 2);\nlet useToolbar;\nmodule.link(\"@react-aria/toolbar\", {\n  useToolbar(v) {\n    useToolbar = v;\n  }\n}, 0);\nlet isThreadMessage, isRoomFederated, isVideoConfMessage, isE2EEMessage;\nmodule.link(\"@rocket.chat/core-typings\", {\n  isThreadMessage(v) {\n    isThreadMessage = v;\n  },\n  isRoomFederated(v) {\n    isRoomFederated = v;\n  },\n  isVideoConfMessage(v) {\n    isVideoConfMessage = v;\n  },\n  isE2EEMessage(v) {\n    isE2EEMessage = v;\n  }\n}, 1);\nlet FuselageMessageToolbar, MessageToolbarItem;\nmodule.link(\"@rocket.chat/fuselage\", {\n  MessageToolbar(v) {\n    FuselageMessageToolbar = v;\n  },\n  MessageToolbarItem(v) {\n    MessageToolbarItem = v;\n  }\n}, 2);\nlet useFeaturePreview;\nmodule.link(\"@rocket.chat/ui-client\", {\n  useFeaturePreview(v) {\n    useFeaturePreview = v;\n  }\n}, 3);\nlet useUser, useSettings, useTranslation, useMethod, useLayoutHiddenActions;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useUser(v) {\n    useUser = v;\n  },\n  useSettings(v) {\n    useSettings = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  },\n  useMethod(v) {\n    useMethod = v;\n  },\n  useLayoutHiddenActions(v) {\n    useLayoutHiddenActions = v;\n  }\n}, 4);\nlet useQuery;\nmodule.link(\"@tanstack/react-query\", {\n  useQuery(v) {\n    useQuery = v;\n  }\n}, 5);\nlet React, memo, useMemo, useRef;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  memo(v) {\n    memo = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  },\n  useRef(v) {\n    useRef = v;\n  }\n}, 6);\nlet MessageActionMenu;\nmodule.link(\"./MessageActionMenu\", {\n  default(v) {\n    MessageActionMenu = v;\n  }\n}, 7);\nlet MessageToolbarStarsActionMenu;\nmodule.link(\"./MessageToolbarStarsActionMenu\", {\n  default(v) {\n    MessageToolbarStarsActionMenu = v;\n  }\n}, 8);\nlet useWebDAVMessageAction;\nmodule.link(\"./useWebDAVMessageAction\", {\n  useWebDAVMessageAction(v) {\n    useWebDAVMessageAction = v;\n  }\n}, 9);\nlet MessageAction;\nmodule.link(\"../../../../app/ui-utils/client/lib/MessageAction\", {\n  MessageAction(v) {\n    MessageAction = v;\n  }\n}, 10);\nlet useEmojiPickerData;\nmodule.link(\"../../../contexts/EmojiPickerContext\", {\n  useEmojiPickerData(v) {\n    useEmojiPickerData = v;\n  }\n}, 11);\nlet useMessageActionAppsActionButtons;\nmodule.link(\"../../../hooks/useAppActionButtons\", {\n  useMessageActionAppsActionButtons(v) {\n    useMessageActionAppsActionButtons = v;\n  }\n}, 12);\nlet useEmbeddedLayout;\nmodule.link(\"../../../hooks/useEmbeddedLayout\", {\n  useEmbeddedLayout(v) {\n    useEmbeddedLayout = v;\n  }\n}, 13);\nlet EmojiElement;\nmodule.link(\"../../../views/composer/EmojiPicker/EmojiElement\", {\n  default(v) {\n    EmojiElement = v;\n  }\n}, 14);\nlet useIsSelecting;\nmodule.link(\"../../../views/room/MessageList/contexts/SelectedMessagesContext\", {\n  useIsSelecting(v) {\n    useIsSelecting = v;\n  }\n}, 15);\nlet useAutoTranslate;\nmodule.link(\"../../../views/room/MessageList/hooks/useAutoTranslate\", {\n  useAutoTranslate(v) {\n    useAutoTranslate = v;\n  }\n}, 16);\nlet useChat;\nmodule.link(\"../../../views/room/contexts/ChatContext\", {\n  useChat(v) {\n    useChat = v;\n  }\n}, 17);\nlet useRoomToolbox;\nmodule.link(\"../../../views/room/contexts/RoomToolboxContext\", {\n  useRoomToolbox(v) {\n    useRoomToolbox = v;\n  }\n}, 18);\nconst getMessageContext = (message, room, context) => {\n  if (context) {\n    return context;\n  }\n  if (isVideoConfMessage(message)) {\n    return 'videoconf';\n  }\n  if (isRoomFederated(room)) {\n    return 'federated';\n  }\n  if (isThreadMessage(message)) {\n    return 'threads';\n  }\n  return 'message';\n};\nconst MessageToolbar = _ref => {\n  var _useUser, _actionsQueryResult$d, _actionsQueryResult$d2, _actionsQueryResult$d3, _actionsQueryResult$d4, _actionButtonApps$dat;\n  let {\n      message,\n      messageContext,\n      room,\n      subscription,\n      onChangeMenuVisibility\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const t = useTranslation();\n  const user = (_useUser = useUser()) !== null && _useUser !== void 0 ? _useUser : undefined;\n  const settings = useSettings();\n  const isLayoutEmbedded = useEmbeddedLayout();\n  const toolbarRef = useRef(null);\n  const {\n    toolbarProps\n  } = useToolbar(props, toolbarRef);\n  const quickReactionsEnabled = useFeaturePreview('quickReactions');\n  const setReaction = useMethod('setReaction');\n  const context = getMessageContext(message, room, messageContext);\n  const mapSettings = useMemo(() => Object.fromEntries(settings.map(setting => [setting._id, setting.value])), [settings]);\n  const chat = useChat();\n  const {\n    quickReactions,\n    addRecentEmoji\n  } = useEmojiPickerData();\n  const actionButtonApps = useMessageActionAppsActionButtons(context);\n  const starsAction = useMessageActionAppsActionButtons(context, 'ai');\n  const {\n    messageToolbox: hiddenActions\n  } = useLayoutHiddenActions();\n  // TODO: move this to another place\n  useWebDAVMessageAction();\n  const actionsQueryResult = useQuery(['rooms', room._id, 'messages', message._id, 'actions'], async () => {\n    const props = {\n      message,\n      room,\n      user,\n      subscription,\n      settings: mapSettings,\n      chat\n    };\n    const toolboxItems = await MessageAction.getAll(props, context, 'message');\n    const menuItems = await MessageAction.getAll(props, context, 'menu');\n    return {\n      message: toolboxItems.filter(action => !hiddenActions.includes(action.id)),\n      menu: menuItems.filter(action => !(isLayoutEmbedded && action.id === 'reply-directly') && !hiddenActions.includes(action.id))\n    };\n  });\n  const toolbox = useRoomToolbox();\n  const selecting = useIsSelecting();\n  const autoTranslateOptions = useAutoTranslate(subscription);\n  if (selecting || !((_actionsQueryResult$d = actionsQueryResult.data) !== null && _actionsQueryResult$d !== void 0 && _actionsQueryResult$d.message.length) && !((_actionsQueryResult$d2 = actionsQueryResult.data) !== null && _actionsQueryResult$d2 !== void 0 && _actionsQueryResult$d2.menu.length)) {\n    return null;\n  }\n  const isReactionAllowed = (_actionsQueryResult$d3 = actionsQueryResult.data) === null || _actionsQueryResult$d3 === void 0 ? void 0 : _actionsQueryResult$d3.message.find(_ref2 => {\n    let {\n      id\n    } = _ref2;\n    return id === 'reaction-message';\n  });\n  const handleSetReaction = emoji => {\n    setReaction(\":\".concat(emoji, \":\"), message._id);\n    addRecentEmoji(emoji);\n  };\n  return /*#__PURE__*/React.createElement(FuselageMessageToolbar, _extends({\n    ref: toolbarRef\n  }, toolbarProps, {\n    \"aria-label\": t('Message_actions')\n  }, props), quickReactionsEnabled && isReactionAllowed && quickReactions.slice(0, 3).map(_ref3 => {\n    let {\n      emoji,\n      image\n    } = _ref3;\n    return /*#__PURE__*/React.createElement(EmojiElement, {\n      small: true,\n      key: emoji,\n      title: emoji,\n      emoji: emoji,\n      image: image,\n      onClick: () => handleSetReaction(emoji)\n    });\n  }), actionsQueryResult.isSuccess && actionsQueryResult.data.message.map(action => {\n    var _action$disabled, _action$disabled2;\n    return /*#__PURE__*/React.createElement(MessageToolbarItem, {\n      onClick: e => action.action(e, {\n        message,\n        tabbar: toolbox,\n        room,\n        chat,\n        autoTranslateOptions\n      }),\n      key: action.id,\n      icon: action.icon,\n      title: action !== null && action !== void 0 && (_action$disabled = action.disabled) !== null && _action$disabled !== void 0 && _action$disabled.call(action, {\n        message,\n        room,\n        user,\n        subscription,\n        settings: mapSettings,\n        chat,\n        context\n      }) ? t('Action_not_available_encrypted_content', {\n        action: t(action.label)\n      }) : t(action.label),\n      \"data-qa-id\": action.label,\n      \"data-qa-type\": \"message-action-menu\",\n      disabled: action === null || action === void 0 ? void 0 : (_action$disabled2 = action.disabled) === null || _action$disabled2 === void 0 ? void 0 : _action$disabled2.call(action, {\n        message,\n        room,\n        user,\n        subscription,\n        settings: mapSettings,\n        chat,\n        context\n      })\n    });\n  }), starsAction.data && starsAction.data.length > 0 && /*#__PURE__*/React.createElement(MessageToolbarStarsActionMenu, {\n    options: starsAction.data.map(action => _objectSpread(_objectSpread({}, action), {}, {\n      action: e => action.action(e, {\n        message,\n        tabbar: toolbox,\n        room,\n        chat,\n        autoTranslateOptions\n      })\n    })),\n    onChangeMenuVisibility: onChangeMenuVisibility,\n    \"data-qa-type\": \"message-action-stars-menu-options\",\n    context: {\n      message,\n      room,\n      user,\n      subscription,\n      settings: mapSettings,\n      chat,\n      context\n    },\n    isMessageEncrypted: isE2EEMessage(message)\n  }), actionsQueryResult.isSuccess && actionsQueryResult.data.menu.length > 0 && /*#__PURE__*/React.createElement(MessageActionMenu, {\n    options: [...((_actionsQueryResult$d4 = actionsQueryResult.data) === null || _actionsQueryResult$d4 === void 0 ? void 0 : _actionsQueryResult$d4.menu), ...((_actionButtonApps$dat = actionButtonApps.data) !== null && _actionButtonApps$dat !== void 0 ? _actionButtonApps$dat : [])].filter(Boolean).map(action => _objectSpread(_objectSpread({}, action), {}, {\n      action: e => action.action(e, {\n        message,\n        tabbar: toolbox,\n        room,\n        chat,\n        autoTranslateOptions\n      })\n    })),\n    onChangeMenuVisibility: onChangeMenuVisibility,\n    \"data-qa-type\": \"message-action-menu-options\",\n    context: {\n      message,\n      room,\n      user,\n      subscription,\n      settings: mapSettings,\n      chat,\n      context\n    },\n    isMessageEncrypted: isE2EEMessage(message)\n  }));\n};\nmodule.exportDefault( /*#__PURE__*/memo(MessageToolbar));","map":{"version":3,"names":["_extends","module","link","default","v","_objectSpread","_objectWithoutProperties","useToolbar","isThreadMessage","isRoomFederated","isVideoConfMessage","isE2EEMessage","FuselageMessageToolbar","MessageToolbarItem","MessageToolbar","useFeaturePreview","useUser","useSettings","useTranslation","useMethod","useLayoutHiddenActions","useQuery","React","memo","useMemo","useRef","MessageActionMenu","MessageToolbarStarsActionMenu","useWebDAVMessageAction","MessageAction","useEmojiPickerData","useMessageActionAppsActionButtons","useEmbeddedLayout","EmojiElement","useIsSelecting","useAutoTranslate","useChat","useRoomToolbox","getMessageContext","message","room","context","_ref","_useUser","_actionsQueryResult$d","_actionsQueryResult$d2","_actionsQueryResult$d3","_actionsQueryResult$d4","_actionButtonApps$dat","messageContext","subscription","onChangeMenuVisibility","props","_excluded","t","user","undefined","settings","isLayoutEmbedded","toolbarRef","toolbarProps","quickReactionsEnabled","setReaction","mapSettings","Object","fromEntries","map","setting","_id","value","chat","quickReactions","addRecentEmoji","actionButtonApps","starsAction","messageToolbox","hiddenActions","actionsQueryResult","toolboxItems","getAll","menuItems","filter","action","includes","id","menu","toolbox","selecting","autoTranslateOptions","data","length","isReactionAllowed","find","_ref2","handleSetReaction","emoji","concat","createElement","ref","slice","_ref3","image","small","key","title","onClick","isSuccess","_action$disabled","_action$disabled2","e","tabbar","icon","disabled","call","label","options","isMessageEncrypted","Boolean","exportDefault"],"sources":["client/components/message/toolbar/MessageToolbar.tsx"],"sourcesContent":["import { useToolbar } from '@react-aria/toolbar';\nimport type { IMessage, IRoom, ISubscription, ITranslatedMessage } from '@rocket.chat/core-typings';\nimport { isThreadMessage, isRoomFederated, isVideoConfMessage, isE2EEMessage } from '@rocket.chat/core-typings';\nimport { MessageToolbar as FuselageMessageToolbar, MessageToolbarItem } from '@rocket.chat/fuselage';\nimport { useFeaturePreview } from '@rocket.chat/ui-client';\nimport { useUser, useSettings, useTranslation, useMethod, useLayoutHiddenActions } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { memo, useMemo, useRef } from 'react';\n\nimport MessageActionMenu from './MessageActionMenu';\nimport MessageToolbarStarsActionMenu from './MessageToolbarStarsActionMenu';\nimport { useWebDAVMessageAction } from './useWebDAVMessageAction';\nimport type { MessageActionContext } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { MessageAction } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { useEmojiPickerData } from '../../../contexts/EmojiPickerContext';\nimport { useMessageActionAppsActionButtons } from '../../../hooks/useAppActionButtons';\nimport { useEmbeddedLayout } from '../../../hooks/useEmbeddedLayout';\nimport EmojiElement from '../../../views/composer/EmojiPicker/EmojiElement';\nimport { useIsSelecting } from '../../../views/room/MessageList/contexts/SelectedMessagesContext';\nimport { useAutoTranslate } from '../../../views/room/MessageList/hooks/useAutoTranslate';\nimport { useChat } from '../../../views/room/contexts/ChatContext';\nimport { useRoomToolbox } from '../../../views/room/contexts/RoomToolboxContext';\n\nconst getMessageContext = (message: IMessage, room: IRoom, context?: MessageActionContext): MessageActionContext => {\n\tif (context) {\n\t\treturn context;\n\t}\n\n\tif (isVideoConfMessage(message)) {\n\t\treturn 'videoconf';\n\t}\n\n\tif (isRoomFederated(room)) {\n\t\treturn 'federated';\n\t}\n\n\tif (isThreadMessage(message)) {\n\t\treturn 'threads';\n\t}\n\n\treturn 'message';\n};\n\ntype MessageToolbarProps = {\n\tmessage: IMessage & Partial<ITranslatedMessage>;\n\tmessageContext?: MessageActionContext;\n\troom: IRoom;\n\tsubscription?: ISubscription;\n\tonChangeMenuVisibility: (visible: boolean) => void;\n} & ComponentProps<typeof FuselageMessageToolbar>;\n\nconst MessageToolbar = ({\n\tmessage,\n\tmessageContext,\n\troom,\n\tsubscription,\n\tonChangeMenuVisibility,\n\t...props\n}: MessageToolbarProps): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst user = useUser() ?? undefined;\n\tconst settings = useSettings();\n\tconst isLayoutEmbedded = useEmbeddedLayout();\n\n\tconst toolbarRef = useRef(null);\n\tconst { toolbarProps } = useToolbar(props, toolbarRef);\n\n\tconst quickReactionsEnabled = useFeaturePreview('quickReactions');\n\n\tconst setReaction = useMethod('setReaction');\n\n\tconst context = getMessageContext(message, room, messageContext);\n\n\tconst mapSettings = useMemo(() => Object.fromEntries(settings.map((setting) => [setting._id, setting.value])), [settings]);\n\n\tconst chat = useChat();\n\tconst { quickReactions, addRecentEmoji } = useEmojiPickerData();\n\n\tconst actionButtonApps = useMessageActionAppsActionButtons(context);\n\n\tconst starsAction = useMessageActionAppsActionButtons(context, 'ai');\n\n\tconst { messageToolbox: hiddenActions } = useLayoutHiddenActions();\n\n\t// TODO: move this to another place\n\tuseWebDAVMessageAction();\n\n\tconst actionsQueryResult = useQuery(['rooms', room._id, 'messages', message._id, 'actions'] as const, async () => {\n\t\tconst props = { message, room, user, subscription, settings: mapSettings, chat };\n\n\t\tconst toolboxItems = await MessageAction.getAll(props, context, 'message');\n\t\tconst menuItems = await MessageAction.getAll(props, context, 'menu');\n\n\t\treturn {\n\t\t\tmessage: toolboxItems.filter((action) => !hiddenActions.includes(action.id)),\n\t\t\tmenu: menuItems.filter((action) => !(isLayoutEmbedded && action.id === 'reply-directly') && !hiddenActions.includes(action.id)),\n\t\t};\n\t});\n\n\tconst toolbox = useRoomToolbox();\n\n\tconst selecting = useIsSelecting();\n\n\tconst autoTranslateOptions = useAutoTranslate(subscription);\n\n\tif (selecting || (!actionsQueryResult.data?.message.length && !actionsQueryResult.data?.menu.length)) {\n\t\treturn null;\n\t}\n\n\tconst isReactionAllowed = actionsQueryResult.data?.message.find(({ id }) => id === 'reaction-message');\n\n\tconst handleSetReaction = (emoji: string) => {\n\t\tsetReaction(`:${emoji}:`, message._id);\n\t\taddRecentEmoji(emoji);\n\t};\n\n\treturn (\n\t\t<FuselageMessageToolbar ref={toolbarRef} {...toolbarProps} aria-label={t('Message_actions')} {...props}>\n\t\t\t{quickReactionsEnabled &&\n\t\t\t\tisReactionAllowed &&\n\t\t\t\tquickReactions.slice(0, 3).map(({ emoji, image }) => {\n\t\t\t\t\treturn <EmojiElement small key={emoji} title={emoji} emoji={emoji} image={image} onClick={() => handleSetReaction(emoji)} />;\n\t\t\t\t})}\n\t\t\t{actionsQueryResult.isSuccess &&\n\t\t\t\tactionsQueryResult.data.message.map((action) => (\n\t\t\t\t\t<MessageToolbarItem\n\t\t\t\t\t\tonClick={(e): void => action.action(e, { message, tabbar: toolbox, room, chat, autoTranslateOptions })}\n\t\t\t\t\t\tkey={action.id}\n\t\t\t\t\t\ticon={action.icon}\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\taction?.disabled?.({ message, room, user, subscription, settings: mapSettings, chat, context })\n\t\t\t\t\t\t\t\t? t('Action_not_available_encrypted_content', { action: t(action.label) })\n\t\t\t\t\t\t\t\t: t(action.label)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata-qa-id={action.label}\n\t\t\t\t\t\tdata-qa-type='message-action-menu'\n\t\t\t\t\t\tdisabled={action?.disabled?.({ message, room, user, subscription, settings: mapSettings, chat, context })}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t{starsAction.data && starsAction.data.length > 0 && (\n\t\t\t\t<MessageToolbarStarsActionMenu\n\t\t\t\t\toptions={starsAction.data.map((action) => ({\n\t\t\t\t\t\t...action,\n\t\t\t\t\t\taction: (e) => action.action(e, { message, tabbar: toolbox, room, chat, autoTranslateOptions }),\n\t\t\t\t\t}))}\n\t\t\t\t\tonChangeMenuVisibility={onChangeMenuVisibility}\n\t\t\t\t\tdata-qa-type='message-action-stars-menu-options'\n\t\t\t\t\tcontext={{ message, room, user, subscription, settings: mapSettings, chat, context }}\n\t\t\t\t\tisMessageEncrypted={isE2EEMessage(message)}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{actionsQueryResult.isSuccess && actionsQueryResult.data.menu.length > 0 && (\n\t\t\t\t<MessageActionMenu\n\t\t\t\t\toptions={[...actionsQueryResult.data?.menu, ...(actionButtonApps.data ?? [])].filter(Boolean).map((action) => ({\n\t\t\t\t\t\t...action,\n\t\t\t\t\t\taction: (e) => action.action(e, { message, tabbar: toolbox, room, chat, autoTranslateOptions }),\n\t\t\t\t\t}))}\n\t\t\t\t\tonChangeMenuVisibility={onChangeMenuVisibility}\n\t\t\t\t\tdata-qa-type='message-action-menu-options'\n\t\t\t\t\tcontext={{ message, room, user, subscription, settings: mapSettings, chat, context }}\n\t\t\t\t\tisMessageEncrypted={isE2EEMessage(message)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</FuselageMessageToolbar>\n\t);\n};\n\nexport default memo(MessageToolbar);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"64bc9fa5aa27948773d21f508a7cdbcfcf7b7427"}
