{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/Threads/Thread.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/room/contextualBar/Threads/Thread.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/Threads/Thread.tsx","inputSourceMap":{"version":3,"file":"client/views/room/contextualBar/Threads/Thread.tsx","sourceRoot":"","sources":["client/views/room/contextualBar/Threads/Thread.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Box, Modal, Skeleton } from '@rocket.chat/fuselage';\nimport { useLocalStorage } from '@rocket.chat/fuselage-hooks';\nimport { useLayoutContextualBarExpanded, useToastMessageDispatch, useTranslation, useUserId } from '@rocket.chat/ui-contexts';\nimport React from 'react';\n\nimport {\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarAction,\n\tContextualbarActions,\n\tContextualbarClose,\n\tContextualbarBack,\n\tContextualbarInnerContent,\n} from '../../../../components/Contextualbar';\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\nimport { useGoToThreadList } from '../../hooks/useGoToThreadList';\nimport ChatProvider from '../../providers/ChatProvider';\nimport ThreadChat from './components/ThreadChat';\nimport ThreadSkeleton from './components/ThreadSkeleton';\nimport ThreadTitle from './components/ThreadTitle';\nimport { useThreadMainMessageQuery } from './hooks/useThreadMainMessageQuery';\nimport { useToggleFollowingThreadMutation } from './hooks/useToggleFollowingThreadMutation';\n\ntype ThreadProps = {\n\ttmid: IMessage['_id'];\n};\n\nconst Thread = ({ tmid }: ThreadProps) => {\n\tconst goToThreadList = useGoToThreadList({ replace: true });\n\tconst { closeTab } = useRoomToolbox();\n\n\tconst mainMessageQueryResult = useThreadMainMessageQuery(tmid, {\n\t\tonDelete: () => {\n\t\t\tcloseTab();\n\t\t},\n\t});\n\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst canExpand = useLayoutContextualBarExpanded();\n\tconst [expanded, setExpanded] = useLocalStorage('expand-threads', false);\n\n\tconst uid = useUserId();\n\tconst following = uid ? mainMessageQueryResult.data?.replies?.includes(uid) ?? false : false;\n\tconst toggleFollowingMutation = useToggleFollowingThreadMutation({\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleBackdropClick = () => {\n\t\tcloseTab();\n\t};\n\n\tconst handleGoBack = () => {\n\t\tgoToThreadList();\n\t};\n\n\tconst handleToggleExpand = () => {\n\t\tsetExpanded((expanded) => !expanded);\n\t};\n\n\tconst handleToggleFollowing = () => {\n\t\tconst rid = mainMessageQueryResult.data?.rid;\n\n\t\tif (!rid) {\n\t\t\treturn;\n\t\t}\n\n\t\ttoggleFollowingMutation.mutate({ rid, tmid, follow: !following });\n\t};\n\n\tconst handleClose = () => {\n\t\tcloseTab();\n\t};\n\n\treturn (\n\t\t<ContextualbarInnerContent>\n\t\t\t{canExpand && expanded && <Modal.Backdrop onClick={handleBackdropClick} />}\n\t\t\t<Box flexGrow={1} position={expanded ? 'static' : 'relative'}>\n\t\t\t\t<Contextualbar\n\t\t\t\t\trcx-thread-view\n\t\t\t\t\tclassName={\n\t\t\t\t\t\tcanExpand && expanded\n\t\t\t\t\t\t\t? css`\n\t\t\t\t\t\t\t\t\tmax-width: 855px !important;\n\t\t\t\t\t\t\t\t\t@media (min-width: 780px) and (max-width: 1135px) {\n\t\t\t\t\t\t\t\t\t\tmax-width: calc(100% - var(--sidebar-width)) !important;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t  `\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\tposition={expanded ? 'fixed' : 'absolute'}\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\twidth='full'\n\t\t\t\t\toverflow='hidden'\n\t\t\t\t\tzIndex={100}\n\t\t\t\t\tinsetBlock={0}\n\t\t\t\t\tborder='none'\n\t\t\t\t>\n\t\t\t\t\t<ContextualbarHeader expanded={expanded}>\n\t\t\t\t\t\t<ContextualbarBack onClick={handleGoBack} />\n\t\t\t\t\t\t{(mainMessageQueryResult.isLoading && <Skeleton width='100%' />) ||\n\t\t\t\t\t\t\t(mainMessageQueryResult.isSuccess && <ThreadTitle mainMessage={mainMessageQueryResult.data} />) ||\n\t\t\t\t\t\t\tnull}\n\t\t\t\t\t\t<ContextualbarActions>\n\t\t\t\t\t\t\t{canExpand && (\n\t\t\t\t\t\t\t\t<ContextualbarAction\n\t\t\t\t\t\t\t\t\tname={expanded ? 'arrow-collapse' : 'arrow-expand'}\n\t\t\t\t\t\t\t\t\ttitle={expanded ? t('Collapse') : t('Expand')}\n\t\t\t\t\t\t\t\t\tonClick={handleToggleExpand}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<ContextualbarAction\n\t\t\t\t\t\t\t\tname={following ? 'bell' : 'bell-off'}\n\t\t\t\t\t\t\t\ttitle={following ? t('Following') : t('Not_Following')}\n\t\t\t\t\t\t\t\tdisabled={!mainMessageQueryResult.isSuccess || toggleFollowingMutation.isLoading}\n\t\t\t\t\t\t\t\tonClick={handleToggleFollowing}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ContextualbarClose onClick={handleClose} />\n\t\t\t\t\t\t</ContextualbarActions>\n\t\t\t\t\t</ContextualbarHeader>\n\n\t\t\t\t\t{(mainMessageQueryResult.isLoading && <ThreadSkeleton />) ||\n\t\t\t\t\t\t(mainMessageQueryResult.isSuccess && (\n\t\t\t\t\t\t\t<ChatProvider tmid={tmid}>\n\t\t\t\t\t\t\t\t<ThreadChat mainMessage={mainMessageQueryResult.data} />\n\t\t\t\t\t\t\t</ChatProvider>\n\t\t\t\t\t\t)) ||\n\t\t\t\t\t\tnull}\n\t\t\t\t</Contextualbar>\n\t\t\t</Box>\n\t\t</ContextualbarInnerContent>\n\t);\n};\n\nexport default Thread;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/contextualBar/Threads/Thread.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/contextualBar/Threads/Thread.tsx","inputSourceMap":{"version":3,"file":"client/views/room/contextualBar/Threads/Thread.tsx","sourceRoot":"","sources":["client/views/room/contextualBar/Threads/Thread.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Box, Modal, Skeleton } from '@rocket.chat/fuselage';\nimport { useLocalStorage } from '@rocket.chat/fuselage-hooks';\nimport { useLayoutContextualBarExpanded, useToastMessageDispatch, useTranslation, useUserId } from '@rocket.chat/ui-contexts';\nimport React from 'react';\n\nimport {\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarAction,\n\tContextualbarActions,\n\tContextualbarClose,\n\tContextualbarBack,\n\tContextualbarInnerContent,\n} from '../../../../components/Contextualbar';\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\nimport { useGoToThreadList } from '../../hooks/useGoToThreadList';\nimport ChatProvider from '../../providers/ChatProvider';\nimport ThreadChat from './components/ThreadChat';\nimport ThreadSkeleton from './components/ThreadSkeleton';\nimport ThreadTitle from './components/ThreadTitle';\nimport { useThreadMainMessageQuery } from './hooks/useThreadMainMessageQuery';\nimport { useToggleFollowingThreadMutation } from './hooks/useToggleFollowingThreadMutation';\n\ntype ThreadProps = {\n\ttmid: IMessage['_id'];\n};\n\nconst Thread = ({ tmid }: ThreadProps) => {\n\tconst goToThreadList = useGoToThreadList({ replace: true });\n\tconst { closeTab } = useRoomToolbox();\n\n\tconst mainMessageQueryResult = useThreadMainMessageQuery(tmid, {\n\t\tonDelete: () => {\n\t\t\tcloseTab();\n\t\t},\n\t});\n\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst canExpand = useLayoutContextualBarExpanded();\n\tconst [expanded, setExpanded] = useLocalStorage('expand-threads', false);\n\n\tconst uid = useUserId();\n\tconst following = uid ? mainMessageQueryResult.data?.replies?.includes(uid) ?? false : false;\n\tconst toggleFollowingMutation = useToggleFollowingThreadMutation({\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleBackdropClick = () => {\n\t\tcloseTab();\n\t};\n\n\tconst handleGoBack = () => {\n\t\tgoToThreadList();\n\t};\n\n\tconst handleToggleExpand = () => {\n\t\tsetExpanded((expanded) => !expanded);\n\t};\n\n\tconst handleToggleFollowing = () => {\n\t\tconst rid = mainMessageQueryResult.data?.rid;\n\n\t\tif (!rid) {\n\t\t\treturn;\n\t\t}\n\n\t\ttoggleFollowingMutation.mutate({ rid, tmid, follow: !following });\n\t};\n\n\tconst handleClose = () => {\n\t\tcloseTab();\n\t};\n\n\treturn (\n\t\t<ContextualbarInnerContent>\n\t\t\t{canExpand && expanded && <Modal.Backdrop onClick={handleBackdropClick} />}\n\t\t\t<Box flexGrow={1} position={expanded ? 'static' : 'relative'}>\n\t\t\t\t<Contextualbar\n\t\t\t\t\trcx-thread-view\n\t\t\t\t\tclassName={\n\t\t\t\t\t\tcanExpand && expanded\n\t\t\t\t\t\t\t? css`\n\t\t\t\t\t\t\t\t\tmax-width: 855px !important;\n\t\t\t\t\t\t\t\t\t@media (min-width: 780px) and (max-width: 1135px) {\n\t\t\t\t\t\t\t\t\t\tmax-width: calc(100% - var(--sidebar-width)) !important;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t  `\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\tposition={expanded ? 'fixed' : 'absolute'}\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\twidth='full'\n\t\t\t\t\toverflow='hidden'\n\t\t\t\t\tzIndex={100}\n\t\t\t\t\tinsetBlock={0}\n\t\t\t\t\tborder='none'\n\t\t\t\t>\n\t\t\t\t\t<ContextualbarHeader expanded={expanded}>\n\t\t\t\t\t\t<ContextualbarBack onClick={handleGoBack} />\n\t\t\t\t\t\t{(mainMessageQueryResult.isLoading && <Skeleton width='100%' />) ||\n\t\t\t\t\t\t\t(mainMessageQueryResult.isSuccess && <ThreadTitle mainMessage={mainMessageQueryResult.data} />) ||\n\t\t\t\t\t\t\tnull}\n\t\t\t\t\t\t<ContextualbarActions>\n\t\t\t\t\t\t\t{canExpand && (\n\t\t\t\t\t\t\t\t<ContextualbarAction\n\t\t\t\t\t\t\t\t\tname={expanded ? 'arrow-collapse' : 'arrow-expand'}\n\t\t\t\t\t\t\t\t\ttitle={expanded ? t('Collapse') : t('Expand')}\n\t\t\t\t\t\t\t\t\tonClick={handleToggleExpand}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<ContextualbarAction\n\t\t\t\t\t\t\t\tname={following ? 'bell' : 'bell-off'}\n\t\t\t\t\t\t\t\ttitle={following ? t('Following') : t('Not_Following')}\n\t\t\t\t\t\t\t\tdisabled={!mainMessageQueryResult.isSuccess || toggleFollowingMutation.isLoading}\n\t\t\t\t\t\t\t\tonClick={handleToggleFollowing}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ContextualbarClose onClick={handleClose} />\n\t\t\t\t\t\t</ContextualbarActions>\n\t\t\t\t\t</ContextualbarHeader>\n\n\t\t\t\t\t{(mainMessageQueryResult.isLoading && <ThreadSkeleton />) ||\n\t\t\t\t\t\t(mainMessageQueryResult.isSuccess && (\n\t\t\t\t\t\t\t<ChatProvider tmid={tmid}>\n\t\t\t\t\t\t\t\t<ThreadChat mainMessage={mainMessageQueryResult.data} />\n\t\t\t\t\t\t\t</ChatProvider>\n\t\t\t\t\t\t)) ||\n\t\t\t\t\t\tnull}\n\t\t\t\t</Contextualbar>\n\t\t\t</Box>\n\t\t</ContextualbarInnerContent>\n\t);\n};\n\nexport default Thread;\n"]}}},"code":"var _templateObject;\nvar _taggedTemplateLiteralLoose;\nmodule.link(\"@babel/runtime/helpers/taggedTemplateLiteralLoose\", {\n  default: function (v) {\n    _taggedTemplateLiteralLoose = v;\n  }\n}, 0);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nvar css;\nmodule.link(\"@rocket.chat/css-in-js\", {\n  css: function (v) {\n    css = v;\n  }\n}, 0);\nvar Box, Modal, Skeleton;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Modal: function (v) {\n    Modal = v;\n  },\n  Skeleton: function (v) {\n    Skeleton = v;\n  }\n}, 1);\nvar useLocalStorage;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useLocalStorage: function (v) {\n    useLocalStorage = v;\n  }\n}, 2);\nvar useLayoutContextualBarExpanded, useToastMessageDispatch, useTranslation, useUserId;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useLayoutContextualBarExpanded: function (v) {\n    useLayoutContextualBarExpanded = v;\n  },\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  },\n  useUserId: function (v) {\n    useUserId = v;\n  }\n}, 3);\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 4);\nvar Contextualbar, ContextualbarHeader, ContextualbarAction, ContextualbarActions, ContextualbarClose, ContextualbarBack, ContextualbarInnerContent;\nmodule.link(\"../../../../components/Contextualbar\", {\n  Contextualbar: function (v) {\n    Contextualbar = v;\n  },\n  ContextualbarHeader: function (v) {\n    ContextualbarHeader = v;\n  },\n  ContextualbarAction: function (v) {\n    ContextualbarAction = v;\n  },\n  ContextualbarActions: function (v) {\n    ContextualbarActions = v;\n  },\n  ContextualbarClose: function (v) {\n    ContextualbarClose = v;\n  },\n  ContextualbarBack: function (v) {\n    ContextualbarBack = v;\n  },\n  ContextualbarInnerContent: function (v) {\n    ContextualbarInnerContent = v;\n  }\n}, 5);\nvar useRoomToolbox;\nmodule.link(\"../../contexts/RoomToolboxContext\", {\n  useRoomToolbox: function (v) {\n    useRoomToolbox = v;\n  }\n}, 6);\nvar useGoToThreadList;\nmodule.link(\"../../hooks/useGoToThreadList\", {\n  useGoToThreadList: function (v) {\n    useGoToThreadList = v;\n  }\n}, 7);\nvar ChatProvider;\nmodule.link(\"../../providers/ChatProvider\", {\n  \"default\": function (v) {\n    ChatProvider = v;\n  }\n}, 8);\nvar ThreadChat;\nmodule.link(\"./components/ThreadChat\", {\n  \"default\": function (v) {\n    ThreadChat = v;\n  }\n}, 9);\nvar ThreadSkeleton;\nmodule.link(\"./components/ThreadSkeleton\", {\n  \"default\": function (v) {\n    ThreadSkeleton = v;\n  }\n}, 10);\nvar ThreadTitle;\nmodule.link(\"./components/ThreadTitle\", {\n  \"default\": function (v) {\n    ThreadTitle = v;\n  }\n}, 11);\nvar useThreadMainMessageQuery;\nmodule.link(\"./hooks/useThreadMainMessageQuery\", {\n  useThreadMainMessageQuery: function (v) {\n    useThreadMainMessageQuery = v;\n  }\n}, 12);\nvar useToggleFollowingThreadMutation;\nmodule.link(\"./hooks/useToggleFollowingThreadMutation\", {\n  useToggleFollowingThreadMutation: function (v) {\n    useToggleFollowingThreadMutation = v;\n  }\n}, 13);\nvar Thread = function (_ref) {\n  var _mainMessageQueryResu, _mainMessageQueryResu2, _mainMessageQueryResu3;\n  var tmid = _ref.tmid;\n  var goToThreadList = useGoToThreadList({\n    replace: true\n  });\n  var _useRoomToolbox = useRoomToolbox(),\n    closeTab = _useRoomToolbox.closeTab;\n  var mainMessageQueryResult = useThreadMainMessageQuery(tmid, {\n    onDelete: function () {\n      closeTab();\n    }\n  });\n  var t = useTranslation();\n  var dispatchToastMessage = useToastMessageDispatch();\n  var canExpand = useLayoutContextualBarExpanded();\n  var _useLocalStorage = useLocalStorage('expand-threads', false),\n    _useLocalStorage2 = _slicedToArray(_useLocalStorage, 2),\n    expanded = _useLocalStorage2[0],\n    setExpanded = _useLocalStorage2[1];\n  var uid = useUserId();\n  var following = uid ? (_mainMessageQueryResu = (_mainMessageQueryResu2 = mainMessageQueryResult.data) === null || _mainMessageQueryResu2 === void 0 ? void 0 : (_mainMessageQueryResu3 = _mainMessageQueryResu2.replies) === null || _mainMessageQueryResu3 === void 0 ? void 0 : _mainMessageQueryResu3.includes(uid)) !== null && _mainMessageQueryResu !== void 0 ? _mainMessageQueryResu : false : false;\n  var toggleFollowingMutation = useToggleFollowingThreadMutation({\n    onError: function (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    }\n  });\n  var handleBackdropClick = function () {\n    closeTab();\n  };\n  var handleGoBack = function () {\n    goToThreadList();\n  };\n  var handleToggleExpand = function () {\n    setExpanded(function (expanded) {\n      return !expanded;\n    });\n  };\n  var handleToggleFollowing = function () {\n    var _mainMessageQueryResu4;\n    var rid = (_mainMessageQueryResu4 = mainMessageQueryResult.data) === null || _mainMessageQueryResu4 === void 0 ? void 0 : _mainMessageQueryResu4.rid;\n    if (!rid) {\n      return;\n    }\n    toggleFollowingMutation.mutate({\n      rid: rid,\n      tmid: tmid,\n      follow: !following\n    });\n  };\n  var handleClose = function () {\n    closeTab();\n  };\n  return /*#__PURE__*/React.createElement(ContextualbarInnerContent, null, canExpand && expanded && /*#__PURE__*/React.createElement(Modal.Backdrop, {\n    onClick: handleBackdropClick\n  }), /*#__PURE__*/React.createElement(Box, {\n    flexGrow: 1,\n    position: expanded ? 'static' : 'relative'\n  }, /*#__PURE__*/React.createElement(Contextualbar, {\n    \"rcx-thread-view\": true,\n    className: canExpand && expanded ? css(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmax-width: 855px !important;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t@media (min-width: 780px) and (max-width: 1135px) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmax-width: calc(100% - var(--sidebar-width)) !important;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t  \"]))) : undefined,\n    position: expanded ? 'fixed' : 'absolute',\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"full\",\n    overflow: \"hidden\",\n    zIndex: 100,\n    insetBlock: 0,\n    border: \"none\"\n  }, /*#__PURE__*/React.createElement(ContextualbarHeader, {\n    expanded: expanded\n  }, /*#__PURE__*/React.createElement(ContextualbarBack, {\n    onClick: handleGoBack\n  }), mainMessageQueryResult.isLoading && /*#__PURE__*/React.createElement(Skeleton, {\n    width: \"100%\"\n  }) || mainMessageQueryResult.isSuccess && /*#__PURE__*/React.createElement(ThreadTitle, {\n    mainMessage: mainMessageQueryResult.data\n  }) || null, /*#__PURE__*/React.createElement(ContextualbarActions, null, canExpand && /*#__PURE__*/React.createElement(ContextualbarAction, {\n    name: expanded ? 'arrow-collapse' : 'arrow-expand',\n    title: expanded ? t('Collapse') : t('Expand'),\n    onClick: handleToggleExpand\n  }), /*#__PURE__*/React.createElement(ContextualbarAction, {\n    name: following ? 'bell' : 'bell-off',\n    title: following ? t('Following') : t('Not_Following'),\n    disabled: !mainMessageQueryResult.isSuccess || toggleFollowingMutation.isLoading,\n    onClick: handleToggleFollowing\n  }), /*#__PURE__*/React.createElement(ContextualbarClose, {\n    onClick: handleClose\n  }))), mainMessageQueryResult.isLoading && /*#__PURE__*/React.createElement(ThreadSkeleton, null) || mainMessageQueryResult.isSuccess && /*#__PURE__*/React.createElement(ChatProvider, {\n    tmid: tmid\n  }, /*#__PURE__*/React.createElement(ThreadChat, {\n    mainMessage: mainMessageQueryResult.data\n  })) || null)));\n};\nmodule.exportDefault(Thread);","map":{"version":3,"names":["_taggedTemplateLiteralLoose","module","link","default","v","_slicedToArray","css","Box","Modal","Skeleton","useLocalStorage","useLayoutContextualBarExpanded","useToastMessageDispatch","useTranslation","useUserId","React","Contextualbar","ContextualbarHeader","ContextualbarAction","ContextualbarActions","ContextualbarClose","ContextualbarBack","ContextualbarInnerContent","useRoomToolbox","useGoToThreadList","ChatProvider","ThreadChat","ThreadSkeleton","ThreadTitle","useThreadMainMessageQuery","useToggleFollowingThreadMutation","Thread","_ref","_mainMessageQueryResu","_mainMessageQueryResu2","_mainMessageQueryResu3","tmid","goToThreadList","replace","_useRoomToolbox","closeTab","mainMessageQueryResult","onDelete","t","dispatchToastMessage","canExpand","_useLocalStorage","_useLocalStorage2","expanded","setExpanded","uid","following","data","replies","includes","toggleFollowingMutation","onError","error","type","message","handleBackdropClick","handleGoBack","handleToggleExpand","handleToggleFollowing","_mainMessageQueryResu4","rid","mutate","follow","handleClose","createElement","Backdrop","onClick","flexGrow","position","className","_templateObject","undefined","display","flexDirection","width","overflow","zIndex","insetBlock","border","isLoading","isSuccess","mainMessage","name","title","disabled","exportDefault"],"sources":["client/views/room/contextualBar/Threads/Thread.tsx"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Box, Modal, Skeleton } from '@rocket.chat/fuselage';\nimport { useLocalStorage } from '@rocket.chat/fuselage-hooks';\nimport { useLayoutContextualBarExpanded, useToastMessageDispatch, useTranslation, useUserId } from '@rocket.chat/ui-contexts';\nimport React from 'react';\n\nimport {\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarAction,\n\tContextualbarActions,\n\tContextualbarClose,\n\tContextualbarBack,\n\tContextualbarInnerContent,\n} from '../../../../components/Contextualbar';\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\nimport { useGoToThreadList } from '../../hooks/useGoToThreadList';\nimport ChatProvider from '../../providers/ChatProvider';\nimport ThreadChat from './components/ThreadChat';\nimport ThreadSkeleton from './components/ThreadSkeleton';\nimport ThreadTitle from './components/ThreadTitle';\nimport { useThreadMainMessageQuery } from './hooks/useThreadMainMessageQuery';\nimport { useToggleFollowingThreadMutation } from './hooks/useToggleFollowingThreadMutation';\n\ntype ThreadProps = {\n\ttmid: IMessage['_id'];\n};\n\nconst Thread = ({ tmid }: ThreadProps) => {\n\tconst goToThreadList = useGoToThreadList({ replace: true });\n\tconst { closeTab } = useRoomToolbox();\n\n\tconst mainMessageQueryResult = useThreadMainMessageQuery(tmid, {\n\t\tonDelete: () => {\n\t\t\tcloseTab();\n\t\t},\n\t});\n\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst canExpand = useLayoutContextualBarExpanded();\n\tconst [expanded, setExpanded] = useLocalStorage('expand-threads', false);\n\n\tconst uid = useUserId();\n\tconst following = uid ? mainMessageQueryResult.data?.replies?.includes(uid) ?? false : false;\n\tconst toggleFollowingMutation = useToggleFollowingThreadMutation({\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleBackdropClick = () => {\n\t\tcloseTab();\n\t};\n\n\tconst handleGoBack = () => {\n\t\tgoToThreadList();\n\t};\n\n\tconst handleToggleExpand = () => {\n\t\tsetExpanded((expanded) => !expanded);\n\t};\n\n\tconst handleToggleFollowing = () => {\n\t\tconst rid = mainMessageQueryResult.data?.rid;\n\n\t\tif (!rid) {\n\t\t\treturn;\n\t\t}\n\n\t\ttoggleFollowingMutation.mutate({ rid, tmid, follow: !following });\n\t};\n\n\tconst handleClose = () => {\n\t\tcloseTab();\n\t};\n\n\treturn (\n\t\t<ContextualbarInnerContent>\n\t\t\t{canExpand && expanded && <Modal.Backdrop onClick={handleBackdropClick} />}\n\t\t\t<Box flexGrow={1} position={expanded ? 'static' : 'relative'}>\n\t\t\t\t<Contextualbar\n\t\t\t\t\trcx-thread-view\n\t\t\t\t\tclassName={\n\t\t\t\t\t\tcanExpand && expanded\n\t\t\t\t\t\t\t? css`\n\t\t\t\t\t\t\t\t\tmax-width: 855px !important;\n\t\t\t\t\t\t\t\t\t@media (min-width: 780px) and (max-width: 1135px) {\n\t\t\t\t\t\t\t\t\t\tmax-width: calc(100% - var(--sidebar-width)) !important;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t  `\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\tposition={expanded ? 'fixed' : 'absolute'}\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\twidth='full'\n\t\t\t\t\toverflow='hidden'\n\t\t\t\t\tzIndex={100}\n\t\t\t\t\tinsetBlock={0}\n\t\t\t\t\tborder='none'\n\t\t\t\t>\n\t\t\t\t\t<ContextualbarHeader expanded={expanded}>\n\t\t\t\t\t\t<ContextualbarBack onClick={handleGoBack} />\n\t\t\t\t\t\t{(mainMessageQueryResult.isLoading && <Skeleton width='100%' />) ||\n\t\t\t\t\t\t\t(mainMessageQueryResult.isSuccess && <ThreadTitle mainMessage={mainMessageQueryResult.data} />) ||\n\t\t\t\t\t\t\tnull}\n\t\t\t\t\t\t<ContextualbarActions>\n\t\t\t\t\t\t\t{canExpand && (\n\t\t\t\t\t\t\t\t<ContextualbarAction\n\t\t\t\t\t\t\t\t\tname={expanded ? 'arrow-collapse' : 'arrow-expand'}\n\t\t\t\t\t\t\t\t\ttitle={expanded ? t('Collapse') : t('Expand')}\n\t\t\t\t\t\t\t\t\tonClick={handleToggleExpand}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<ContextualbarAction\n\t\t\t\t\t\t\t\tname={following ? 'bell' : 'bell-off'}\n\t\t\t\t\t\t\t\ttitle={following ? t('Following') : t('Not_Following')}\n\t\t\t\t\t\t\t\tdisabled={!mainMessageQueryResult.isSuccess || toggleFollowingMutation.isLoading}\n\t\t\t\t\t\t\t\tonClick={handleToggleFollowing}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ContextualbarClose onClick={handleClose} />\n\t\t\t\t\t\t</ContextualbarActions>\n\t\t\t\t\t</ContextualbarHeader>\n\n\t\t\t\t\t{(mainMessageQueryResult.isLoading && <ThreadSkeleton />) ||\n\t\t\t\t\t\t(mainMessageQueryResult.isSuccess && (\n\t\t\t\t\t\t\t<ChatProvider tmid={tmid}>\n\t\t\t\t\t\t\t\t<ThreadChat mainMessage={mainMessageQueryResult.data} />\n\t\t\t\t\t\t\t</ChatProvider>\n\t\t\t\t\t\t)) ||\n\t\t\t\t\t\tnull}\n\t\t\t\t</Contextualbar>\n\t\t\t</Box>\n\t\t</ContextualbarInnerContent>\n\t);\n};\n\nexport default Thread;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"19a0cacf09390596df82b1356b9b25364e0ea713"}
