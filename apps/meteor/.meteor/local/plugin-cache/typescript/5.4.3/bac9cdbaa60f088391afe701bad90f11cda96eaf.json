{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated.tsx","inputSourceMap":{"version":3,"file":"client/components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated.tsx","sourceRoot":"","sources":["client/components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,mBAAmB,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,uBAAuB,CAAC;AAC7E,OAAO,EAAE,iBAAiB,EAAE,MAAM,6BAA6B,CAAC;AAChE,OAAO,EAAE,UAAU,EAAE,MAAM,wBAAwB,CAAC;AACpD,OAAO,EAAE,WAAW,EAAE,MAAM,0BAA0B,CAAC;AACvD,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAC;AAEjD,OAAO,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,OAAO,EAAE,MAAM,OAAO,CAAC;AAEpE,OAAO,mBAAmB,EAAE,EAAE,cAAc,EAAE,MAAM,mCAAmC,CAAC;AAkBxF,MAAM,WAAW,GAAG,IAAI,MAAM,CAAC,UAAU,CAAC,CAAC;AAE3C,MAAM,iCAAiC,GAAG,CAAC,EAC1C,QAAQ,EACR,KAAK,EACL,WAAW,EACX,GAAG,KAAK,EACgC,EAAgB,EAAE;IAC1D,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IACzC,MAAM,CAAC,aAAa,EAAE,gBAAgB,CAAC,GAAG,QAAQ,CAA0B,EAAE,CAAC,CAAC;IAEhF,MAAM,eAAe,GAAG,iBAAiB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;IACvD,MAAM,QAAQ,GAAG,WAAW,CAAC,KAAK,EAAE,wBAAwB,CAAC,CAAC;IAE9D,MAAM,EAAE,IAAI,EAAE,GAAG,QAAQ,CACxB,CAAC,oBAAoB,EAAE,eAAe,CAAC,EACvC,KAAK,IAAI,EAAE;QACV,MAAM,KAAK,GAAG,MAAM,QAAQ,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC,EAAE,CAAC,CAAC;QACtF,MAAM,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAwC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC;QAEvG,4DAA4D;QAC5D,oDAAoD;QACpD,IAAI,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC;YACvC,OAAO,CAAC,OAAO,CAAC,CAAC,eAAe,EAAE,EAAE,IAAI,EAAE,eAAe,EAAE,QAAQ,EAAE,eAAe,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC5G,CAAC;QAED,OAAO,OAAO,CAAC;IAChB,CAAC,EACD,EAAE,gBAAgB,EAAE,IAAI,EAAE,CAC1B,CAAC;IAEF,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC,IAAI,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;IAElD,MAAM,SAAS,GAAG,WAAW,CAC5B,CAAC,QAAgB,EAAQ,EAAE;QAC1B,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,IAAI,EAAE,CAAC;YACX,MAAM,IAAI,KAAK,CAAC,mEAAmE,CAAC,CAAC;QACtF,CAAC;QACD,gBAAgB,CAAC,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,aAAa,EAAE,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAC/E,CAAC,EACD,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAC3B,CAAC;IAEF,MAAM,YAAY,GAAG,WAAW,CAC/B,CAAC,QAAgB,EAAQ,EAAE,CAC1B,gBAAgB,CAAC,CAAC,aAAa,EAAE,EAAE;QAClC,MAAM,KAAK,GAAG,EAAE,GAAG,aAAa,EAAE,CAAC;QACnC,OAAO,KAAK,CAAC,QAAQ,CAAC,CAAC;QACvB,OAAO,KAAK,CAAC;IACd,CAAC,CAAC,EACH,CAAC,gBAAgB,CAAC,CAClB,CAAC;IAEF,MAAM,cAAc,GAAG,WAAW,CACjC,CAAC,SAAmB,EAAE,EAAE;QACvB,QAAQ,CAAC,SAAS,CAAC,CAAC;QACpB,MAAM,gBAAgB,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtF,MAAM,eAAe,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrF,SAAS,CAAC,EAAE,CAAC,CAAC;QACd,gBAAgB,IAAI,SAAS,CAAC,gBAAgB,CAAC,CAAC;QAChD,eAAe,IAAI,YAAY,CAAC,eAAe,CAAC,CAAC;IAClD,CAAC,EACD,CAAC,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,YAAY,EAAE,KAAK,CAAC,CACrD,CAAC;IAEF,OAAO,CACN,CAAC,cAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,EAAE,CAAC,CAC3C;GAAA,CAAC,mBAAmB,CACnB,IAAI,KAAK,CAAC,CACV,YAAY,CAAC,0BAA0B,CACvC,WAAW,CAAC,CAAC,WAAW,CAAC,CACzB,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,QAAQ,CAAC,CAAC,cAAc,CAAC,CACzB,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,SAAS,CAAC,CAAC,SAAS,CAAC,CACrB,cAAc,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,WAAW,EAA8C,EAAE,EAAE;YACtF,MAAM,mBAAmB,GAAG,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YAEvD,OAAO,CACN,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CACtE;OAAA,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,EAAG,CAC/G;OAAA,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACnC;QAAA,CAAC,mBAAmB,CAAC,IAAI,IAAI,mBAAmB,CAAC,QAAQ,IAAI,KAAK,CACnE;OAAA,EAAE,GAAG,CACN;MAAA,EAAE,IAAI,CAAC,CACP,CAAC;QACH,CAAC,CAAC,CACF,aAAa,CAAC,CAAC,mBAAmB,CAAC,CACnC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CACtH,OAAO,CAAC,mCAAmC,EAE7C;EAAA,EAAE,cAAc,CAAC,QAAQ,CAAC,CAC1B,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,IAAI,CAAC,iCAAiC,CAAC,CAAC","sourcesContent":["import { MultiSelectFiltered, Icon, Box, Chip } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement, AllHTMLAttributes } from 'react';\nimport React, { memo, useState, useCallback, useMemo } from 'react';\n\nimport AutocompleteOptions, { OptionsContext } from './UserAutoCompleteMultipleOptions';\n\ntype UserAutoCompleteMultipleFederatedProps = {\n\tonChange: (value: Array<string>) => void;\n\tvalue: Array<string>;\n\tplaceholder?: string;\n} & Omit<AllHTMLAttributes<HTMLElement>, 'is' | 'onChange'>;\n\ntype UserAutoCompleteOptionType = {\n\tname: string;\n\tusername: string;\n\t_federated?: boolean;\n};\n\ntype UserAutoCompleteOptions = {\n\t[k: string]: UserAutoCompleteOptionType;\n};\n\nconst matrixRegex = new RegExp('@(.*:.*)');\n\nconst UserAutoCompleteMultipleFederated = ({\n\tonChange,\n\tvalue,\n\tplaceholder,\n\t...props\n}: UserAutoCompleteMultipleFederatedProps): ReactElement => {\n\tconst [filter, setFilter] = useState('');\n\tconst [selectedCache, setSelectedCache] = useState<UserAutoCompleteOptions>({});\n\n\tconst debouncedFilter = useDebouncedValue(filter, 500);\n\tconst getUsers = useEndpoint('GET', '/v1/users.autocomplete');\n\n\tconst { data } = useQuery(\n\t\t['users.autocomplete', debouncedFilter],\n\t\tasync () => {\n\t\t\tconst users = await getUsers({ selector: JSON.stringify({ term: debouncedFilter }) });\n\t\t\tconst options = users.items.map((item): [string, UserAutoCompleteOptionType] => [item.username, item]);\n\n\t\t\t// Add extra option if filter text matches `username:server`\n\t\t\t// Used to add federated users that do not exist yet\n\t\t\tif (matrixRegex.test(debouncedFilter)) {\n\t\t\t\toptions.unshift([debouncedFilter, { name: debouncedFilter, username: debouncedFilter, _federated: true }]);\n\t\t\t}\n\n\t\t\treturn options;\n\t\t},\n\t\t{ keepPreviousData: true },\n\t);\n\n\tconst options = useMemo(() => data || [], [data]);\n\n\tconst onAddUser = useCallback(\n\t\t(username: string): void => {\n\t\t\tconst user = options.find(([val]) => val === username)?.[1];\n\t\t\tif (!user) {\n\t\t\t\tthrow new Error('UserAutoCompleteMultiple - onAddSelected - failed to cache option');\n\t\t\t}\n\t\t\tsetSelectedCache((selectedCache) => ({ ...selectedCache, [username]: user }));\n\t\t},\n\t\t[setSelectedCache, options],\n\t);\n\n\tconst onRemoveUser = useCallback(\n\t\t(username: string): void =>\n\t\t\tsetSelectedCache((selectedCache) => {\n\t\t\t\tconst users = { ...selectedCache };\n\t\t\t\tdelete users[username];\n\t\t\t\treturn users;\n\t\t\t}),\n\t\t[setSelectedCache],\n\t);\n\n\tconst handleOnChange = useCallback(\n\t\t(usernames: string[]) => {\n\t\t\tonChange(usernames);\n\t\t\tconst newAddedUsername = usernames.filter((username) => !value.includes(username))[0];\n\t\t\tconst removedUsername = value.filter((username) => !usernames.includes(username))[0];\n\t\t\tsetFilter('');\n\t\t\tnewAddedUsername && onAddUser(newAddedUsername);\n\t\t\tremovedUsername && onRemoveUser(removedUsername);\n\t\t},\n\t\t[onChange, setFilter, onAddUser, onRemoveUser, value],\n\t);\n\n\treturn (\n\t\t<OptionsContext.Provider value={{ options }}>\n\t\t\t<MultiSelectFiltered\n\t\t\t\t{...props}\n\t\t\t\tdata-qa-type='user-auto-complete-input'\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={handleOnChange}\n\t\t\t\tfilter={filter}\n\t\t\t\tsetFilter={setFilter}\n\t\t\t\trenderSelected={({ value, onMouseDown }: { value: string; onMouseDown: () => void }) => {\n\t\t\t\t\tconst currentCachedOption = selectedCache[value] || {};\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Chip key={value} height='x20' onMouseDown={onMouseDown} mie={4} mb={2}>\n\t\t\t\t\t\t\t{currentCachedOption._federated ? <Icon size='x20' name='globe' /> : <UserAvatar size='x20' username={value} />}\n\t\t\t\t\t\t\t<Box is='span' margin='none' mis={4}>\n\t\t\t\t\t\t\t\t{currentCachedOption.name || currentCachedOption.username || value}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Chip>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t\trenderOptions={AutocompleteOptions}\n\t\t\t\toptions={options.concat(Object.entries(selectedCache)).map(([, item]) => [item.username, item.name || item.username])}\n\t\t\t\tdata-qa='create-channel-users-autocomplete'\n\t\t\t/>\n\t\t</OptionsContext.Provider>\n\t);\n};\n\nexport default memo(UserAutoCompleteMultipleFederated);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated.tsx","inputSourceMap":{"version":3,"file":"client/components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated.tsx","sourceRoot":"","sources":["client/components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated.tsx"],"names":[],"mappings":"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","sourcesContent":["import { MultiSelectFiltered, Icon, Box, Chip } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement, AllHTMLAttributes } from 'react';\nimport React, { memo, useState, useCallback, useMemo } from 'react';\n\nimport AutocompleteOptions, { OptionsContext } from './UserAutoCompleteMultipleOptions';\n\ntype UserAutoCompleteMultipleFederatedProps = {\n\tonChange: (value: Array<string>) => void;\n\tvalue: Array<string>;\n\tplaceholder?: string;\n} & Omit<AllHTMLAttributes<HTMLElement>, 'is' | 'onChange'>;\n\ntype UserAutoCompleteOptionType = {\n\tname: string;\n\tusername: string;\n\t_federated?: boolean;\n};\n\ntype UserAutoCompleteOptions = {\n\t[k: string]: UserAutoCompleteOptionType;\n};\n\nconst matrixRegex = new RegExp('@(.*:.*)');\n\nconst UserAutoCompleteMultipleFederated = ({\n\tonChange,\n\tvalue,\n\tplaceholder,\n\t...props\n}: UserAutoCompleteMultipleFederatedProps): ReactElement => {\n\tconst [filter, setFilter] = useState('');\n\tconst [selectedCache, setSelectedCache] = useState<UserAutoCompleteOptions>({});\n\n\tconst debouncedFilter = useDebouncedValue(filter, 500);\n\tconst getUsers = useEndpoint('GET', '/v1/users.autocomplete');\n\n\tconst { data } = useQuery(\n\t\t['users.autocomplete', debouncedFilter],\n\t\tasync () => {\n\t\t\tconst users = await getUsers({ selector: JSON.stringify({ term: debouncedFilter }) });\n\t\t\tconst options = users.items.map((item): [string, UserAutoCompleteOptionType] => [item.username, item]);\n\n\t\t\t// Add extra option if filter text matches `username:server`\n\t\t\t// Used to add federated users that do not exist yet\n\t\t\tif (matrixRegex.test(debouncedFilter)) {\n\t\t\t\toptions.unshift([debouncedFilter, { name: debouncedFilter, username: debouncedFilter, _federated: true }]);\n\t\t\t}\n\n\t\t\treturn options;\n\t\t},\n\t\t{ keepPreviousData: true },\n\t);\n\n\tconst options = useMemo(() => data || [], [data]);\n\n\tconst onAddUser = useCallback(\n\t\t(username: string): void => {\n\t\t\tconst user = options.find(([val]) => val === username)?.[1];\n\t\t\tif (!user) {\n\t\t\t\tthrow new Error('UserAutoCompleteMultiple - onAddSelected - failed to cache option');\n\t\t\t}\n\t\t\tsetSelectedCache((selectedCache) => ({ ...selectedCache, [username]: user }));\n\t\t},\n\t\t[setSelectedCache, options],\n\t);\n\n\tconst onRemoveUser = useCallback(\n\t\t(username: string): void =>\n\t\t\tsetSelectedCache((selectedCache) => {\n\t\t\t\tconst users = { ...selectedCache };\n\t\t\t\tdelete users[username];\n\t\t\t\treturn users;\n\t\t\t}),\n\t\t[setSelectedCache],\n\t);\n\n\tconst handleOnChange = useCallback(\n\t\t(usernames: string[]) => {\n\t\t\tonChange(usernames);\n\t\t\tconst newAddedUsername = usernames.filter((username) => !value.includes(username))[0];\n\t\t\tconst removedUsername = value.filter((username) => !usernames.includes(username))[0];\n\t\t\tsetFilter('');\n\t\t\tnewAddedUsername && onAddUser(newAddedUsername);\n\t\t\tremovedUsername && onRemoveUser(removedUsername);\n\t\t},\n\t\t[onChange, setFilter, onAddUser, onRemoveUser, value],\n\t);\n\n\treturn (\n\t\t<OptionsContext.Provider value={{ options }}>\n\t\t\t<MultiSelectFiltered\n\t\t\t\t{...props}\n\t\t\t\tdata-qa-type='user-auto-complete-input'\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={handleOnChange}\n\t\t\t\tfilter={filter}\n\t\t\t\tsetFilter={setFilter}\n\t\t\t\trenderSelected={({ value, onMouseDown }: { value: string; onMouseDown: () => void }) => {\n\t\t\t\t\tconst currentCachedOption = selectedCache[value] || {};\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Chip key={value} height='x20' onMouseDown={onMouseDown} mie={4} mb={2}>\n\t\t\t\t\t\t\t{currentCachedOption._federated ? <Icon size='x20' name='globe' /> : <UserAvatar size='x20' username={value} />}\n\t\t\t\t\t\t\t<Box is='span' margin='none' mis={4}>\n\t\t\t\t\t\t\t\t{currentCachedOption.name || currentCachedOption.username || value}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Chip>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t\trenderOptions={AutocompleteOptions}\n\t\t\t\toptions={options.concat(Object.entries(selectedCache)).map(([, item]) => [item.username, item.name || item.username])}\n\t\t\t\tdata-qa='create-channel-users-autocomplete'\n\t\t\t/>\n\t\t</OptionsContext.Provider>\n\t);\n};\n\nexport default memo(UserAutoCompleteMultipleFederated);\n"]}}},"code":"var _excluded = [\"onChange\", \"value\", \"placeholder\"];\nvar _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 1);\nvar _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 2);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 3);\nvar _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 4);\nvar MultiSelectFiltered, Icon, Box, Chip;\nmodule.link(\"@rocket.chat/fuselage\", {\n  MultiSelectFiltered: function (v) {\n    MultiSelectFiltered = v;\n  },\n  Icon: function (v) {\n    Icon = v;\n  },\n  Box: function (v) {\n    Box = v;\n  },\n  Chip: function (v) {\n    Chip = v;\n  }\n}, 0);\nvar useDebouncedValue;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useDebouncedValue: function (v) {\n    useDebouncedValue = v;\n  }\n}, 1);\nvar UserAvatar;\nmodule.link(\"@rocket.chat/ui-avatar\", {\n  UserAvatar: function (v) {\n    UserAvatar = v;\n  }\n}, 2);\nvar useEndpoint;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useEndpoint: function (v) {\n    useEndpoint = v;\n  }\n}, 3);\nvar useQuery;\nmodule.link(\"@tanstack/react-query\", {\n  useQuery: function (v) {\n    useQuery = v;\n  }\n}, 4);\nvar React, memo, useState, useCallback, useMemo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  memo: function (v) {\n    memo = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  }\n}, 5);\nvar AutocompleteOptions, OptionsContext;\nmodule.link(\"./UserAutoCompleteMultipleOptions\", {\n  \"default\": function (v) {\n    AutocompleteOptions = v;\n  },\n  OptionsContext: function (v) {\n    OptionsContext = v;\n  }\n}, 6);\nvar matrixRegex = new RegExp('@(.*:.*)');\nvar UserAutoCompleteMultipleFederated = function (_ref) {\n  var onChange = _ref.onChange,\n    value = _ref.value,\n    placeholder = _ref.placeholder,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    filter = _useState2[0],\n    setFilter = _useState2[1];\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedCache = _useState4[0],\n    setSelectedCache = _useState4[1];\n  var debouncedFilter = useDebouncedValue(filter, 500);\n  var getUsers = useEndpoint('GET', '/v1/users.autocomplete');\n  var _useQuery = useQuery(['users.autocomplete', debouncedFilter], function () {\n      function _callee() {\n        var users, options;\n        return _regeneratorRuntime.async(function () {\n          function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regeneratorRuntime.awrap(getUsers({\n                  selector: JSON.stringify({\n                    term: debouncedFilter\n                  })\n                }));\n              case 2:\n                users = _context.sent;\n                options = users.items.map(function (item) {\n                  return [item.username, item];\n                }); // Add extra option if filter text matches `username:server`\n                // Used to add federated users that do not exist yet\n                if (matrixRegex.test(debouncedFilter)) {\n                  options.unshift([debouncedFilter, {\n                    name: debouncedFilter,\n                    username: debouncedFilter,\n                    _federated: true\n                  }]);\n                }\n                return _context.abrupt(\"return\", options);\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n          return _callee$;\n        }(), null, null, null, Promise);\n      }\n      return _callee;\n    }(), {\n      keepPreviousData: true\n    }),\n    data = _useQuery.data;\n  var options = useMemo(function () {\n    return data || [];\n  }, [data]);\n  var onAddUser = useCallback(function (username) {\n    var _options$find;\n    var user = (_options$find = options.find(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 1),\n        val = _ref3[0];\n      return val === username;\n    })) === null || _options$find === void 0 ? void 0 : _options$find[1];\n    if (!user) {\n      throw new Error('UserAutoCompleteMultiple - onAddSelected - failed to cache option');\n    }\n    setSelectedCache(function (selectedCache) {\n      var _objectSpread2;\n      return _objectSpread(_objectSpread({}, selectedCache), {}, (_objectSpread2 = {}, _objectSpread2[username] = user, _objectSpread2));\n    });\n  }, [setSelectedCache, options]);\n  var onRemoveUser = useCallback(function (username) {\n    return setSelectedCache(function (selectedCache) {\n      var users = _objectSpread({}, selectedCache);\n      delete users[username];\n      return users;\n    });\n  }, [setSelectedCache]);\n  var handleOnChange = useCallback(function (usernames) {\n    onChange(usernames);\n    var newAddedUsername = usernames.filter(function (username) {\n      return !value.includes(username);\n    })[0];\n    var removedUsername = value.filter(function (username) {\n      return !usernames.includes(username);\n    })[0];\n    setFilter('');\n    newAddedUsername && onAddUser(newAddedUsername);\n    removedUsername && onRemoveUser(removedUsername);\n  }, [onChange, setFilter, onAddUser, onRemoveUser, value]);\n  return /*#__PURE__*/React.createElement(OptionsContext.Provider, {\n    value: {\n      options: options\n    }\n  }, /*#__PURE__*/React.createElement(MultiSelectFiltered, _extends({}, props, {\n    \"data-qa-type\": \"user-auto-complete-input\",\n    placeholder: placeholder,\n    value: value,\n    onChange: handleOnChange,\n    filter: filter,\n    setFilter: setFilter,\n    renderSelected: function (_ref4) {\n      var value = _ref4.value,\n        onMouseDown = _ref4.onMouseDown;\n      var currentCachedOption = selectedCache[value] || {};\n      return /*#__PURE__*/React.createElement(Chip, {\n        key: value,\n        height: \"x20\",\n        onMouseDown: onMouseDown,\n        mie: 4,\n        mb: 2\n      }, currentCachedOption._federated ? /*#__PURE__*/React.createElement(Icon, {\n        size: \"x20\",\n        name: \"globe\"\n      }) : /*#__PURE__*/React.createElement(UserAvatar, {\n        size: \"x20\",\n        username: value\n      }), /*#__PURE__*/React.createElement(Box, {\n        is: \"span\",\n        margin: \"none\",\n        mis: 4\n      }, currentCachedOption.name || currentCachedOption.username || value));\n    },\n    renderOptions: AutocompleteOptions,\n    options: options.concat(Object.entries(selectedCache)).map(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n        item = _ref6[1];\n      return [item.username, item.name || item.username];\n    }),\n    \"data-qa\": \"create-channel-users-autocomplete\"\n  })));\n};\nmodule.exportDefault( /*#__PURE__*/memo(UserAutoCompleteMultipleFederated));","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","_extends","_objectSpread","_slicedToArray","_objectWithoutProperties","MultiSelectFiltered","Icon","Box","Chip","useDebouncedValue","UserAvatar","useEndpoint","useQuery","React","memo","useState","useCallback","useMemo","AutocompleteOptions","OptionsContext","matrixRegex","RegExp","UserAutoCompleteMultipleFederated","_ref","onChange","value","placeholder","props","_excluded","_useState","_useState2","filter","setFilter","_useState3","_useState4","selectedCache","setSelectedCache","debouncedFilter","getUsers","_useQuery","_callee","users","options","async","_callee$","_context","prev","next","awrap","selector","JSON","stringify","term","sent","items","map","item","username","test","unshift","name","_federated","abrupt","stop","Promise","keepPreviousData","data","onAddUser","_options$find","user","find","_ref2","_ref3","val","Error","_objectSpread2","onRemoveUser","handleOnChange","usernames","newAddedUsername","includes","removedUsername","createElement","Provider","renderSelected","_ref4","onMouseDown","currentCachedOption","key","height","mie","mb","size","is","margin","mis","renderOptions","concat","Object","entries","_ref5","_ref6","exportDefault"],"sources":["client/components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated.tsx"],"sourcesContent":["import { MultiSelectFiltered, Icon, Box, Chip } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement, AllHTMLAttributes } from 'react';\nimport React, { memo, useState, useCallback, useMemo } from 'react';\n\nimport AutocompleteOptions, { OptionsContext } from './UserAutoCompleteMultipleOptions';\n\ntype UserAutoCompleteMultipleFederatedProps = {\n\tonChange: (value: Array<string>) => void;\n\tvalue: Array<string>;\n\tplaceholder?: string;\n} & Omit<AllHTMLAttributes<HTMLElement>, 'is' | 'onChange'>;\n\ntype UserAutoCompleteOptionType = {\n\tname: string;\n\tusername: string;\n\t_federated?: boolean;\n};\n\ntype UserAutoCompleteOptions = {\n\t[k: string]: UserAutoCompleteOptionType;\n};\n\nconst matrixRegex = new RegExp('@(.*:.*)');\n\nconst UserAutoCompleteMultipleFederated = ({\n\tonChange,\n\tvalue,\n\tplaceholder,\n\t...props\n}: UserAutoCompleteMultipleFederatedProps): ReactElement => {\n\tconst [filter, setFilter] = useState('');\n\tconst [selectedCache, setSelectedCache] = useState<UserAutoCompleteOptions>({});\n\n\tconst debouncedFilter = useDebouncedValue(filter, 500);\n\tconst getUsers = useEndpoint('GET', '/v1/users.autocomplete');\n\n\tconst { data } = useQuery(\n\t\t['users.autocomplete', debouncedFilter],\n\t\tasync () => {\n\t\t\tconst users = await getUsers({ selector: JSON.stringify({ term: debouncedFilter }) });\n\t\t\tconst options = users.items.map((item): [string, UserAutoCompleteOptionType] => [item.username, item]);\n\n\t\t\t// Add extra option if filter text matches `username:server`\n\t\t\t// Used to add federated users that do not exist yet\n\t\t\tif (matrixRegex.test(debouncedFilter)) {\n\t\t\t\toptions.unshift([debouncedFilter, { name: debouncedFilter, username: debouncedFilter, _federated: true }]);\n\t\t\t}\n\n\t\t\treturn options;\n\t\t},\n\t\t{ keepPreviousData: true },\n\t);\n\n\tconst options = useMemo(() => data || [], [data]);\n\n\tconst onAddUser = useCallback(\n\t\t(username: string): void => {\n\t\t\tconst user = options.find(([val]) => val === username)?.[1];\n\t\t\tif (!user) {\n\t\t\t\tthrow new Error('UserAutoCompleteMultiple - onAddSelected - failed to cache option');\n\t\t\t}\n\t\t\tsetSelectedCache((selectedCache) => ({ ...selectedCache, [username]: user }));\n\t\t},\n\t\t[setSelectedCache, options],\n\t);\n\n\tconst onRemoveUser = useCallback(\n\t\t(username: string): void =>\n\t\t\tsetSelectedCache((selectedCache) => {\n\t\t\t\tconst users = { ...selectedCache };\n\t\t\t\tdelete users[username];\n\t\t\t\treturn users;\n\t\t\t}),\n\t\t[setSelectedCache],\n\t);\n\n\tconst handleOnChange = useCallback(\n\t\t(usernames: string[]) => {\n\t\t\tonChange(usernames);\n\t\t\tconst newAddedUsername = usernames.filter((username) => !value.includes(username))[0];\n\t\t\tconst removedUsername = value.filter((username) => !usernames.includes(username))[0];\n\t\t\tsetFilter('');\n\t\t\tnewAddedUsername && onAddUser(newAddedUsername);\n\t\t\tremovedUsername && onRemoveUser(removedUsername);\n\t\t},\n\t\t[onChange, setFilter, onAddUser, onRemoveUser, value],\n\t);\n\n\treturn (\n\t\t<OptionsContext.Provider value={{ options }}>\n\t\t\t<MultiSelectFiltered\n\t\t\t\t{...props}\n\t\t\t\tdata-qa-type='user-auto-complete-input'\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={handleOnChange}\n\t\t\t\tfilter={filter}\n\t\t\t\tsetFilter={setFilter}\n\t\t\t\trenderSelected={({ value, onMouseDown }: { value: string; onMouseDown: () => void }) => {\n\t\t\t\t\tconst currentCachedOption = selectedCache[value] || {};\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Chip key={value} height='x20' onMouseDown={onMouseDown} mie={4} mb={2}>\n\t\t\t\t\t\t\t{currentCachedOption._federated ? <Icon size='x20' name='globe' /> : <UserAvatar size='x20' username={value} />}\n\t\t\t\t\t\t\t<Box is='span' margin='none' mis={4}>\n\t\t\t\t\t\t\t\t{currentCachedOption.name || currentCachedOption.username || value}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Chip>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t\trenderOptions={AutocompleteOptions}\n\t\t\t\toptions={options.concat(Object.entries(selectedCache)).map(([, item]) => [item.username, item.name || item.username])}\n\t\t\t\tdata-qa='create-channel-users-autocomplete'\n\t\t\t/>\n\t\t</OptionsContext.Provider>\n\t);\n};\n\nexport default memo(UserAutoCompleteMultipleFederated);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"bac9cdbaa60f088391afe701bad90f11cda96eaf"}
