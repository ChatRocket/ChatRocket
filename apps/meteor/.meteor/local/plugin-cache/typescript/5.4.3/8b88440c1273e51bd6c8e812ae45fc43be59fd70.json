{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/rooms/RoomRow.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/rooms/RoomRow.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/rooms/RoomRow.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/rooms/RoomRow.tsx","sourceRoot":"","sources":["client/views/admin/rooms/RoomRow.tsx"],"names":[],"mappings":"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","sourcesContent":["import { isDiscussion } from '@rocket.chat/core-typings';\nimport type { IRoom, RoomAdminFieldsType, Serialized } from '@rocket.chat/core-typings';\nimport { Box, Icon } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport { RoomAvatar } from '@rocket.chat/ui-avatar';\nimport { useRouter } from '@rocket.chat/ui-contexts';\nimport React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\nimport { useFormatDate } from '../../../hooks/useFormatDate';\nimport { roomCoordinator } from '../../../lib/rooms/roomCoordinator';\n\nconst roomTypeI18nMap = {\n\tl: 'Omnichannel',\n\tc: 'Channel',\n\td: 'Direct_Message',\n\tp: 'Private_Channel',\n} as const;\n\nconst getRoomDisplayName = (room: Pick<Serialized<IRoom>, RoomAdminFieldsType>): string | undefined =>\n\troom.t === 'd' ? room.usernames?.join(' x ') : roomCoordinator.getRoomName(room.t, room as IRoom);\n\nconst RoomRow = ({ room }: { room: Pick<Serialized<IRoom>, RoomAdminFieldsType> }) => {\n\tconst { t } = useTranslation();\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\tconst router = useRouter();\n\tconst formatDate = useFormatDate();\n\n\tconst { _id, t: type, usersCount, msgs, default: isDefault, featured, ts, ...args } = room;\n\tconst icon = roomCoordinator.getRoomDirectives(room.t).getIcon?.(room as IRoom);\n\tconst roomName = getRoomDisplayName(room);\n\n\tconst getRoomType = (\n\t\troom: Pick<Serialized<IRoom>, RoomAdminFieldsType>,\n\t): (typeof roomTypeI18nMap)[keyof typeof roomTypeI18nMap] | 'Teams_Public_Team' | 'Teams_Private_Team' | 'Discussion' => {\n\t\tif (room.teamMain) {\n\t\t\treturn room.t === 'c' ? 'Teams_Public_Team' : 'Teams_Private_Team';\n\t\t}\n\t\tif (isDiscussion(room as IRoom)) {\n\t\t\treturn 'Discussion';\n\t\t}\n\t\treturn roomTypeI18nMap[(room as IRoom).t as keyof typeof roomTypeI18nMap];\n\t};\n\n\tconst onClick = useCallback(\n\t\t(rid) => (): void =>\n\t\t\trouter.navigate({\n\t\t\t\tname: 'admin-rooms',\n\t\t\t\tparams: {\n\t\t\t\t\tcontext: 'edit',\n\t\t\t\t\tid: rid,\n\t\t\t\t},\n\t\t\t}),\n\t\t[router],\n\t);\n\n\treturn (\n\t\t<GenericTableRow action key={_id} onKeyDown={onClick(_id)} onClick={onClick(_id)} tabIndex={0} role='link' qa-room-id={_id}>\n\t\t\t<GenericTableCell withTruncatedText>\n\t\t\t\t<Box display='flex' alignContent='center'>\n\t\t\t\t\t<RoomAvatar size={mediaQuery ? 'x28' : 'x40'} room={{ type, name: roomName, _id, ...args }} />\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\tflexShrink={1}\n\t\t\t\t\t\tflexBasis='0%'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignSelf='center'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\twithTruncatedText\n\t\t\t\t\t>\n\t\t\t\t\t\t{icon && <Icon mi={4} name={icon} fontScale='p2m' color='hint' />}\n\t\t\t\t\t\t<Box fontScale='p2m' withTruncatedText color='default' qa-room-name={roomName}>\n\t\t\t\t\t\t\t{roomName}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box color='hint' fontScale='p2m' withTruncatedText>\n\t\t\t\t\t{t(getRoomType(room))}\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{usersCount}</GenericTableCell>\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{msgs}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{isDefault ? t('True') : t('False')}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{featured ? t('True') : t('False')}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{ts ? formatDate(ts) : ''}</GenericTableCell>}\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default RoomRow;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"production","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/rooms/RoomRow.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/rooms/RoomRow.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/rooms/RoomRow.tsx","sourceRoot":"","sources":["client/views/admin/rooms/RoomRow.tsx"],"names":[],"mappings":"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","sourcesContent":["import { isDiscussion } from '@rocket.chat/core-typings';\nimport type { IRoom, RoomAdminFieldsType, Serialized } from '@rocket.chat/core-typings';\nimport { Box, Icon } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport { RoomAvatar } from '@rocket.chat/ui-avatar';\nimport { useRouter } from '@rocket.chat/ui-contexts';\nimport React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\nimport { useFormatDate } from '../../../hooks/useFormatDate';\nimport { roomCoordinator } from '../../../lib/rooms/roomCoordinator';\n\nconst roomTypeI18nMap = {\n\tl: 'Omnichannel',\n\tc: 'Channel',\n\td: 'Direct_Message',\n\tp: 'Private_Channel',\n} as const;\n\nconst getRoomDisplayName = (room: Pick<Serialized<IRoom>, RoomAdminFieldsType>): string | undefined =>\n\troom.t === 'd' ? room.usernames?.join(' x ') : roomCoordinator.getRoomName(room.t, room as IRoom);\n\nconst RoomRow = ({ room }: { room: Pick<Serialized<IRoom>, RoomAdminFieldsType> }) => {\n\tconst { t } = useTranslation();\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\tconst router = useRouter();\n\tconst formatDate = useFormatDate();\n\n\tconst { _id, t: type, usersCount, msgs, default: isDefault, featured, ts, ...args } = room;\n\tconst icon = roomCoordinator.getRoomDirectives(room.t).getIcon?.(room as IRoom);\n\tconst roomName = getRoomDisplayName(room);\n\n\tconst getRoomType = (\n\t\troom: Pick<Serialized<IRoom>, RoomAdminFieldsType>,\n\t): (typeof roomTypeI18nMap)[keyof typeof roomTypeI18nMap] | 'Teams_Public_Team' | 'Teams_Private_Team' | 'Discussion' => {\n\t\tif (room.teamMain) {\n\t\t\treturn room.t === 'c' ? 'Teams_Public_Team' : 'Teams_Private_Team';\n\t\t}\n\t\tif (isDiscussion(room as IRoom)) {\n\t\t\treturn 'Discussion';\n\t\t}\n\t\treturn roomTypeI18nMap[(room as IRoom).t as keyof typeof roomTypeI18nMap];\n\t};\n\n\tconst onClick = useCallback(\n\t\t(rid) => (): void =>\n\t\t\trouter.navigate({\n\t\t\t\tname: 'admin-rooms',\n\t\t\t\tparams: {\n\t\t\t\t\tcontext: 'edit',\n\t\t\t\t\tid: rid,\n\t\t\t\t},\n\t\t\t}),\n\t\t[router],\n\t);\n\n\treturn (\n\t\t<GenericTableRow action key={_id} onKeyDown={onClick(_id)} onClick={onClick(_id)} tabIndex={0} role='link' qa-room-id={_id}>\n\t\t\t<GenericTableCell withTruncatedText>\n\t\t\t\t<Box display='flex' alignContent='center'>\n\t\t\t\t\t<RoomAvatar size={mediaQuery ? 'x28' : 'x40'} room={{ type, name: roomName, _id, ...args }} />\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\tflexShrink={1}\n\t\t\t\t\t\tflexBasis='0%'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignSelf='center'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\twithTruncatedText\n\t\t\t\t\t>\n\t\t\t\t\t\t{icon && <Icon mi={4} name={icon} fontScale='p2m' color='hint' />}\n\t\t\t\t\t\t<Box fontScale='p2m' withTruncatedText color='default' qa-room-name={roomName}>\n\t\t\t\t\t\t\t{roomName}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box color='hint' fontScale='p2m' withTruncatedText>\n\t\t\t\t\t{t(getRoomType(room))}\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{usersCount}</GenericTableCell>\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{msgs}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{isDefault ? t('True') : t('False')}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{featured ? t('True') : t('False')}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{ts ? formatDate(ts) : ''}</GenericTableCell>}\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default RoomRow;\n"]}}},"code":"var _excluded = [\"_id\", \"t\", \"usersCount\", \"msgs\", \"default\", \"featured\", \"ts\"];\nvar _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 1);\nvar isDiscussion;\nmodule.link(\"@rocket.chat/core-typings\", {\n  isDiscussion: function (v) {\n    isDiscussion = v;\n  }\n}, 0);\nvar Box, Icon;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Icon: function (v) {\n    Icon = v;\n  }\n}, 1);\nvar useMediaQuery;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMediaQuery: function (v) {\n    useMediaQuery = v;\n  }\n}, 2);\nvar RoomAvatar;\nmodule.link(\"@rocket.chat/ui-avatar\", {\n  RoomAvatar: function (v) {\n    RoomAvatar = v;\n  }\n}, 3);\nvar useRouter;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useRouter: function (v) {\n    useRouter = v;\n  }\n}, 4);\nvar React, useCallback;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  }\n}, 5);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 6);\nvar GenericTableCell, GenericTableRow;\nmodule.link(\"../../../components/GenericTable\", {\n  GenericTableCell: function (v) {\n    GenericTableCell = v;\n  },\n  GenericTableRow: function (v) {\n    GenericTableRow = v;\n  }\n}, 7);\nvar useFormatDate;\nmodule.link(\"../../../hooks/useFormatDate\", {\n  useFormatDate: function (v) {\n    useFormatDate = v;\n  }\n}, 8);\nvar roomCoordinator;\nmodule.link(\"../../../lib/rooms/roomCoordinator\", {\n  roomCoordinator: function (v) {\n    roomCoordinator = v;\n  }\n}, 9);\nvar roomTypeI18nMap = {\n  l: 'Omnichannel',\n  c: 'Channel',\n  d: 'Direct_Message',\n  p: 'Private_Channel'\n};\nvar getRoomDisplayName = function (room) {\n  var _room$usernames;\n  return room.t === 'd' ? (_room$usernames = room.usernames) === null || _room$usernames === void 0 ? void 0 : _room$usernames.join(' x ') : roomCoordinator.getRoomName(room.t, room);\n};\nvar RoomRow = function (_ref) {\n  var _roomCoordinator$getR, _roomCoordinator$getR2;\n  var room = _ref.room;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var mediaQuery = useMediaQuery('(min-width: 1024px)');\n  var router = useRouter();\n  var formatDate = useFormatDate();\n  var _id = room._id,\n    type = room.t,\n    usersCount = room.usersCount,\n    msgs = room.msgs,\n    isDefault = room.default,\n    featured = room.featured,\n    ts = room.ts,\n    args = _objectWithoutProperties(room, _excluded);\n  var icon = (_roomCoordinator$getR = (_roomCoordinator$getR2 = roomCoordinator.getRoomDirectives(room.t)).getIcon) === null || _roomCoordinator$getR === void 0 ? void 0 : _roomCoordinator$getR.call(_roomCoordinator$getR2, room);\n  var roomName = getRoomDisplayName(room);\n  var getRoomType = function (room) {\n    if (room.teamMain) {\n      return room.t === 'c' ? 'Teams_Public_Team' : 'Teams_Private_Team';\n    }\n    if (isDiscussion(room)) {\n      return 'Discussion';\n    }\n    return roomTypeI18nMap[room.t];\n  };\n  var onClick = useCallback(function (rid) {\n    return function () {\n      return router.navigate({\n        name: 'admin-rooms',\n        params: {\n          context: 'edit',\n          id: rid\n        }\n      });\n    };\n  }, [router]);\n  return /*#__PURE__*/React.createElement(GenericTableRow, {\n    action: true,\n    key: _id,\n    onKeyDown: onClick(_id),\n    onClick: onClick(_id),\n    tabIndex: 0,\n    role: \"link\",\n    \"qa-room-id\": _id\n  }, /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignContent: \"center\"\n  }, /*#__PURE__*/React.createElement(RoomAvatar, {\n    size: mediaQuery ? 'x28' : 'x40',\n    room: _objectSpread({\n      type: type,\n      name: roomName,\n      _id: _id\n    }, args)\n  }), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexGrow: 1,\n    flexShrink: 1,\n    flexBasis: \"0%\",\n    flexDirection: \"row\",\n    alignSelf: \"center\",\n    alignItems: \"center\",\n    withTruncatedText: true\n  }, icon && /*#__PURE__*/React.createElement(Icon, {\n    mi: 4,\n    name: icon,\n    fontScale: \"p2m\",\n    color: \"hint\"\n  }), /*#__PURE__*/React.createElement(Box, {\n    fontScale: \"p2m\",\n    withTruncatedText: true,\n    color: \"default\",\n    \"qa-room-name\": roomName\n  }, roomName)))), /*#__PURE__*/React.createElement(GenericTableCell, null, /*#__PURE__*/React.createElement(Box, {\n    color: \"hint\",\n    fontScale: \"p2m\",\n    withTruncatedText: true\n  }, t(getRoomType(room)))), /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, usersCount), mediaQuery && /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, msgs), mediaQuery && /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, isDefault ? t('True') : t('False')), mediaQuery && /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, featured ? t('True') : t('False')), mediaQuery && /*#__PURE__*/React.createElement(GenericTableCell, {\n    withTruncatedText: true\n  }, ts ? formatDate(ts) : ''));\n};\nmodule.exportDefault(RoomRow);","map":{"version":3,"names":["_objectSpread","module","link","default","v","_objectWithoutProperties","isDiscussion","Box","Icon","useMediaQuery","RoomAvatar","useRouter","React","useCallback","useTranslation","GenericTableCell","GenericTableRow","useFormatDate","roomCoordinator","roomTypeI18nMap","l","c","d","p","getRoomDisplayName","room","_room$usernames","t","usernames","join","getRoomName","RoomRow","_ref","_roomCoordinator$getR","_roomCoordinator$getR2","_useTranslation","mediaQuery","router","formatDate","_id","type","usersCount","msgs","isDefault","featured","ts","args","_excluded","icon","getRoomDirectives","getIcon","call","roomName","getRoomType","teamMain","onClick","rid","navigate","name","params","context","id","createElement","action","key","onKeyDown","tabIndex","role","withTruncatedText","display","alignContent","size","flexGrow","flexShrink","flexBasis","flexDirection","alignSelf","alignItems","mi","fontScale","color","exportDefault"],"sources":["client/views/admin/rooms/RoomRow.tsx"],"sourcesContent":["import { isDiscussion } from '@rocket.chat/core-typings';\nimport type { IRoom, RoomAdminFieldsType, Serialized } from '@rocket.chat/core-typings';\nimport { Box, Icon } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport { RoomAvatar } from '@rocket.chat/ui-avatar';\nimport { useRouter } from '@rocket.chat/ui-contexts';\nimport React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\nimport { useFormatDate } from '../../../hooks/useFormatDate';\nimport { roomCoordinator } from '../../../lib/rooms/roomCoordinator';\n\nconst roomTypeI18nMap = {\n\tl: 'Omnichannel',\n\tc: 'Channel',\n\td: 'Direct_Message',\n\tp: 'Private_Channel',\n} as const;\n\nconst getRoomDisplayName = (room: Pick<Serialized<IRoom>, RoomAdminFieldsType>): string | undefined =>\n\troom.t === 'd' ? room.usernames?.join(' x ') : roomCoordinator.getRoomName(room.t, room as IRoom);\n\nconst RoomRow = ({ room }: { room: Pick<Serialized<IRoom>, RoomAdminFieldsType> }) => {\n\tconst { t } = useTranslation();\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\tconst router = useRouter();\n\tconst formatDate = useFormatDate();\n\n\tconst { _id, t: type, usersCount, msgs, default: isDefault, featured, ts, ...args } = room;\n\tconst icon = roomCoordinator.getRoomDirectives(room.t).getIcon?.(room as IRoom);\n\tconst roomName = getRoomDisplayName(room);\n\n\tconst getRoomType = (\n\t\troom: Pick<Serialized<IRoom>, RoomAdminFieldsType>,\n\t): (typeof roomTypeI18nMap)[keyof typeof roomTypeI18nMap] | 'Teams_Public_Team' | 'Teams_Private_Team' | 'Discussion' => {\n\t\tif (room.teamMain) {\n\t\t\treturn room.t === 'c' ? 'Teams_Public_Team' : 'Teams_Private_Team';\n\t\t}\n\t\tif (isDiscussion(room as IRoom)) {\n\t\t\treturn 'Discussion';\n\t\t}\n\t\treturn roomTypeI18nMap[(room as IRoom).t as keyof typeof roomTypeI18nMap];\n\t};\n\n\tconst onClick = useCallback(\n\t\t(rid) => (): void =>\n\t\t\trouter.navigate({\n\t\t\t\tname: 'admin-rooms',\n\t\t\t\tparams: {\n\t\t\t\t\tcontext: 'edit',\n\t\t\t\t\tid: rid,\n\t\t\t\t},\n\t\t\t}),\n\t\t[router],\n\t);\n\n\treturn (\n\t\t<GenericTableRow action key={_id} onKeyDown={onClick(_id)} onClick={onClick(_id)} tabIndex={0} role='link' qa-room-id={_id}>\n\t\t\t<GenericTableCell withTruncatedText>\n\t\t\t\t<Box display='flex' alignContent='center'>\n\t\t\t\t\t<RoomAvatar size={mediaQuery ? 'x28' : 'x40'} room={{ type, name: roomName, _id, ...args }} />\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\tflexShrink={1}\n\t\t\t\t\t\tflexBasis='0%'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignSelf='center'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\twithTruncatedText\n\t\t\t\t\t>\n\t\t\t\t\t\t{icon && <Icon mi={4} name={icon} fontScale='p2m' color='hint' />}\n\t\t\t\t\t\t<Box fontScale='p2m' withTruncatedText color='default' qa-room-name={roomName}>\n\t\t\t\t\t\t\t{roomName}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box color='hint' fontScale='p2m' withTruncatedText>\n\t\t\t\t\t{t(getRoomType(room))}\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{usersCount}</GenericTableCell>\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{msgs}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{isDefault ? t('True') : t('False')}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{featured ? t('True') : t('False')}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{ts ? formatDate(ts) : ''}</GenericTableCell>}\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default RoomRow;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"8b88440c1273e51bd6c8e812ae45fc43be59fd70"}
