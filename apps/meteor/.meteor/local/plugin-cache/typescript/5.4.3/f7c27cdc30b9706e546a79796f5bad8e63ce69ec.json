{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/utils/lib/i18n.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"app/utils/lib/i18n.ts","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/utils/lib/i18n.ts","inputSourceMap":{"version":3,"file":"app/utils/lib/i18n.ts","sourceRoot":"","sources":["app/utils/lib/i18n.ts"],"names":[],"mappings":"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","sourcesContent":["import type { RocketchatI18nKeys } from '@rocket.chat/i18n';\nimport type { TOptions } from 'i18next';\nimport i18next from 'i18next';\nimport sprintf from 'i18next-sprintf-postprocessor';\n\nimport { isObject } from '../../../lib/utils/isObject';\n\ndeclare module 'i18next' {\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tinterface TFunction {\n\t\t(key: RocketchatI18nKeys): string;\n\t\t(key: RocketchatI18nKeys, options: TOptions): string;\n\t}\n}\n\nexport const i18n = i18next.use(sprintf);\n\nexport const addSprinfToI18n = function (t: (typeof i18n)['t']) {\n\treturn function (key: string, ...replaces: any): string {\n\t\tif (replaces[0] === undefined) {\n\t\t\treturn t(key);\n\t\t}\n\n\t\tif (isObject(replaces[0]) && !Array.isArray(replaces[0])) {\n\t\t\treturn t(key, replaces[0]);\n\t\t}\n\n\t\treturn t(key, {\n\t\t\tpostProcess: 'sprintf',\n\t\t\tsprintf: replaces,\n\t\t});\n\t};\n};\n\nexport const t = addSprinfToI18n(i18n.t.bind(i18n));\n\n/**\n * Extract the translation keys from a flat object and group them by namespace\n *\n * Example:\n *\n * ```js\n * const source = {\n *   'core.key1': 'value1',\n *   'core.key2': 'value2',\n *   'onboarding.key1': 'value1',\n *   'onboarding.key2': 'value2',\n *   'registration.key1': 'value1',\n *   'registration.key2': 'value2',\n *   'cloud.key1': 'value1',\n *   'cloud.key2': 'value2',\n *   'subscription.key1': 'value1',\n *   'subscription.key2': 'value2',\n * };\n *\n * const result = extractTranslationNamespaces(source);\n *\n * console.log(result);\n *\n * // {\n * //   core: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   },\n * //   onboarding: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   },\n * //   registration: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   },\n * //   cloud: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   },\n * //   subscription: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   }\n * // }\n * ```\n *\n * @param source the flat object with the translation keys\n */\nexport const extractTranslationNamespaces = (source: Record<string, string>): Record<TranslationNamespace, Record<string, string>> => {\n\tconst result: Record<TranslationNamespace, Record<string, string>> = {\n\t\tcore: {},\n\t\tonboarding: {},\n\t\tregistration: {},\n\t\tcloud: {},\n\t\tsubscription: {},\n\t};\n\n\tfor (const [key, value] of Object.entries(source)) {\n\t\tconst prefix = availableTranslationNamespaces.find((namespace) => key.startsWith(`${namespace}.`));\n\t\tconst keyWithoutNamespace = prefix ? key.slice(prefix.length + 1) : key;\n\t\tconst ns = prefix ?? defaultTranslationNamespace;\n\t\tresult[ns][keyWithoutNamespace] = value;\n\t}\n\n\treturn result;\n};\n\n/**\n * Extract only the translation keys that match the given namespaces\n *\n * @param source the flat object with the translation keys\n * @param namespaces the namespaces to extract\n */\nexport const extractTranslationKeys = (source: Record<string, string>, namespaces: string | string[] = []): { [key: string]: any } => {\n\tconst all = extractTranslationNamespaces(source);\n\treturn Array.isArray(namespaces)\n\t\t? (namespaces as TranslationNamespace[]).reduce((result, namespace) => ({ ...result, ...all[namespace] }), {})\n\t\t: all[namespaces as TranslationNamespace];\n};\n\nexport type TranslationNamespace =\n\t| (Extract<RocketchatI18nKeys, `${string}.${string}`> extends `${infer T}.${string}` ? (T extends Lowercase<T> ? T : never) : never)\n\t| 'core';\n\nconst namespacesMap: Record<TranslationNamespace, true> = {\n\tcore: true,\n\tonboarding: true,\n\tregistration: true,\n\tcloud: true,\n\tsubscription: true,\n};\n\nexport const availableTranslationNamespaces = Object.keys(namespacesMap) as TranslationNamespace[];\nexport const defaultTranslationNamespace: TranslationNamespace = 'core';\n\nexport const applyCustomTranslations = (\n\ti18n: typeof i18next,\n\tparsedCustomTranslations: Record<string, Record<string, string>>,\n\t{ namespaces, languages }: { namespaces?: string[]; languages?: string[] } = {},\n) => {\n\tfor (const [lng, translations] of Object.entries(parsedCustomTranslations)) {\n\t\tif (languages && !languages.includes(lng)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tfor (const [key, value] of Object.entries(translations)) {\n\t\t\tconst prefix = availableTranslationNamespaces.find((namespace) => key.startsWith(`${namespace}.`));\n\t\t\tconst keyWithoutNamespace = prefix ? key.slice(prefix.length + 1) : key;\n\t\t\tconst ns = prefix ?? defaultTranslationNamespace;\n\n\t\t\tif (namespaces && !namespaces.includes(ns)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ti18n.addResourceBundle(lng, ns, { [keyWithoutNamespace]: value }, true, true);\n\t\t}\n\t}\n};\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"production","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/app/utils/lib/i18n.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"app/utils/lib/i18n.ts","inputSourceMap":{"version":3,"file":"app/utils/lib/i18n.ts","sourceRoot":"","sources":["app/utils/lib/i18n.ts"],"names":[],"mappings":"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","sourcesContent":["import type { RocketchatI18nKeys } from '@rocket.chat/i18n';\nimport type { TOptions } from 'i18next';\nimport i18next from 'i18next';\nimport sprintf from 'i18next-sprintf-postprocessor';\n\nimport { isObject } from '../../../lib/utils/isObject';\n\ndeclare module 'i18next' {\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tinterface TFunction {\n\t\t(key: RocketchatI18nKeys): string;\n\t\t(key: RocketchatI18nKeys, options: TOptions): string;\n\t}\n}\n\nexport const i18n = i18next.use(sprintf);\n\nexport const addSprinfToI18n = function (t: (typeof i18n)['t']) {\n\treturn function (key: string, ...replaces: any): string {\n\t\tif (replaces[0] === undefined) {\n\t\t\treturn t(key);\n\t\t}\n\n\t\tif (isObject(replaces[0]) && !Array.isArray(replaces[0])) {\n\t\t\treturn t(key, replaces[0]);\n\t\t}\n\n\t\treturn t(key, {\n\t\t\tpostProcess: 'sprintf',\n\t\t\tsprintf: replaces,\n\t\t});\n\t};\n};\n\nexport const t = addSprinfToI18n(i18n.t.bind(i18n));\n\n/**\n * Extract the translation keys from a flat object and group them by namespace\n *\n * Example:\n *\n * ```js\n * const source = {\n *   'core.key1': 'value1',\n *   'core.key2': 'value2',\n *   'onboarding.key1': 'value1',\n *   'onboarding.key2': 'value2',\n *   'registration.key1': 'value1',\n *   'registration.key2': 'value2',\n *   'cloud.key1': 'value1',\n *   'cloud.key2': 'value2',\n *   'subscription.key1': 'value1',\n *   'subscription.key2': 'value2',\n * };\n *\n * const result = extractTranslationNamespaces(source);\n *\n * console.log(result);\n *\n * // {\n * //   core: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   },\n * //   onboarding: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   },\n * //   registration: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   },\n * //   cloud: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   },\n * //   subscription: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   }\n * // }\n * ```\n *\n * @param source the flat object with the translation keys\n */\nexport const extractTranslationNamespaces = (source: Record<string, string>): Record<TranslationNamespace, Record<string, string>> => {\n\tconst result: Record<TranslationNamespace, Record<string, string>> = {\n\t\tcore: {},\n\t\tonboarding: {},\n\t\tregistration: {},\n\t\tcloud: {},\n\t\tsubscription: {},\n\t};\n\n\tfor (const [key, value] of Object.entries(source)) {\n\t\tconst prefix = availableTranslationNamespaces.find((namespace) => key.startsWith(`${namespace}.`));\n\t\tconst keyWithoutNamespace = prefix ? key.slice(prefix.length + 1) : key;\n\t\tconst ns = prefix ?? defaultTranslationNamespace;\n\t\tresult[ns][keyWithoutNamespace] = value;\n\t}\n\n\treturn result;\n};\n\n/**\n * Extract only the translation keys that match the given namespaces\n *\n * @param source the flat object with the translation keys\n * @param namespaces the namespaces to extract\n */\nexport const extractTranslationKeys = (source: Record<string, string>, namespaces: string | string[] = []): { [key: string]: any } => {\n\tconst all = extractTranslationNamespaces(source);\n\treturn Array.isArray(namespaces)\n\t\t? (namespaces as TranslationNamespace[]).reduce((result, namespace) => ({ ...result, ...all[namespace] }), {})\n\t\t: all[namespaces as TranslationNamespace];\n};\n\nexport type TranslationNamespace =\n\t| (Extract<RocketchatI18nKeys, `${string}.${string}`> extends `${infer T}.${string}` ? (T extends Lowercase<T> ? T : never) : never)\n\t| 'core';\n\nconst namespacesMap: Record<TranslationNamespace, true> = {\n\tcore: true,\n\tonboarding: true,\n\tregistration: true,\n\tcloud: true,\n\tsubscription: true,\n};\n\nexport const availableTranslationNamespaces = Object.keys(namespacesMap) as TranslationNamespace[];\nexport const defaultTranslationNamespace: TranslationNamespace = 'core';\n\nexport const applyCustomTranslations = (\n\ti18n: typeof i18next,\n\tparsedCustomTranslations: Record<string, Record<string, string>>,\n\t{ namespaces, languages }: { namespaces?: string[]; languages?: string[] } = {},\n) => {\n\tfor (const [lng, translations] of Object.entries(parsedCustomTranslations)) {\n\t\tif (languages && !languages.includes(lng)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tfor (const [key, value] of Object.entries(translations)) {\n\t\t\tconst prefix = availableTranslationNamespaces.find((namespace) => key.startsWith(`${namespace}.`));\n\t\t\tconst keyWithoutNamespace = prefix ? key.slice(prefix.length + 1) : key;\n\t\t\tconst ns = prefix ?? defaultTranslationNamespace;\n\n\t\t\tif (namespaces && !namespaces.includes(ns)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ti18n.addResourceBundle(lng, ns, { [keyWithoutNamespace]: value }, true, true);\n\t\t}\n\t}\n};\n"]}}},"code":"var _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nmodule.export({\n  i18n: function () {\n    return i18n;\n  },\n  addSprinfToI18n: function () {\n    return addSprinfToI18n;\n  },\n  t: function () {\n    return t;\n  },\n  extractTranslationNamespaces: function () {\n    return extractTranslationNamespaces;\n  },\n  extractTranslationKeys: function () {\n    return extractTranslationKeys;\n  },\n  availableTranslationNamespaces: function () {\n    return availableTranslationNamespaces;\n  },\n  defaultTranslationNamespace: function () {\n    return defaultTranslationNamespace;\n  },\n  applyCustomTranslations: function () {\n    return applyCustomTranslations;\n  }\n});\nvar i18next;\nmodule.link(\"i18next\", {\n  \"default\": function (v) {\n    i18next = v;\n  }\n}, 0);\nvar sprintf;\nmodule.link(\"i18next-sprintf-postprocessor\", {\n  \"default\": function (v) {\n    sprintf = v;\n  }\n}, 1);\nvar isObject;\nmodule.link(\"../../../lib/utils/isObject\", {\n  isObject: function (v) {\n    isObject = v;\n  }\n}, 2);\nvar i18n = i18next.use(sprintf);\nvar addSprinfToI18n = function (t) {\n  return function (key) {\n    for (var _len = arguments.length, replaces = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      replaces[_key - 1] = arguments[_key];\n    }\n    if (replaces[0] === undefined) {\n      return t(key);\n    }\n    if (isObject(replaces[0]) && !Array.isArray(replaces[0])) {\n      return t(key, replaces[0]);\n    }\n    return t(key, {\n      postProcess: 'sprintf',\n      sprintf: replaces\n    });\n  };\n};\nvar t = addSprinfToI18n(i18n.t.bind(i18n));\nvar extractTranslationNamespaces = function (source) {\n  var result = {\n    core: {},\n    onboarding: {},\n    registration: {},\n    cloud: {},\n    subscription: {}\n  };\n  var _loop = function (key) {\n    var prefix = availableTranslationNamespaces.find(function (namespace) {\n      return key.startsWith(namespace + \".\");\n    });\n    var keyWithoutNamespace = prefix ? key.slice(prefix.length + 1) : key;\n    var ns = prefix !== null && prefix !== void 0 ? prefix : defaultTranslationNamespace;\n    result[ns][keyWithoutNamespace] = value;\n  };\n  for (var _i = 0, _Object$entries = Object.entries(source); _i < _Object$entries.length; _i++) {\n    var _ref = _Object$entries[_i];\n    var _ref2 = _slicedToArray(_ref, 2);\n    var key = _ref2[0];\n    var value = _ref2[1];\n    _loop(key);\n  }\n  return result;\n};\nvar extractTranslationKeys = function (source) {\n  var namespaces = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var all = extractTranslationNamespaces(source);\n  return Array.isArray(namespaces) ? namespaces.reduce(function (result, namespace) {\n    return _objectSpread(_objectSpread({}, result), all[namespace]);\n  }, {}) : all[namespaces];\n};\nvar namespacesMap = {\n  core: true,\n  onboarding: true,\n  registration: true,\n  cloud: true,\n  subscription: true\n};\nvar availableTranslationNamespaces = Object.keys(namespacesMap);\nvar defaultTranslationNamespace = 'core';\nvar applyCustomTranslations = function (i18n, parsedCustomTranslations) {\n  var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    namespaces = _ref3.namespaces,\n    languages = _ref3.languages;\n  for (var _i2 = 0, _Object$entries2 = Object.entries(parsedCustomTranslations); _i2 < _Object$entries2.length; _i2++) {\n    var _ref4 = _Object$entries2[_i2];\n    var _ref5 = _slicedToArray(_ref4, 2);\n    var lng = _ref5[0];\n    var translations = _ref5[1];\n    if (languages && !languages.includes(lng)) {\n      continue;\n    }\n    var _loop2 = function (key) {\n      var _i18n$addResourceBund;\n      var prefix = availableTranslationNamespaces.find(function (namespace) {\n        return key.startsWith(namespace + \".\");\n      });\n      var keyWithoutNamespace = prefix ? key.slice(prefix.length + 1) : key;\n      var ns = prefix !== null && prefix !== void 0 ? prefix : defaultTranslationNamespace;\n      if (namespaces && !namespaces.includes(ns)) {\n        return 1; // continue\n      }\n      i18n.addResourceBundle(lng, ns, (_i18n$addResourceBund = {}, _i18n$addResourceBund[keyWithoutNamespace] = value, _i18n$addResourceBund), true, true);\n    };\n    for (var _i3 = 0, _Object$entries3 = Object.entries(translations); _i3 < _Object$entries3.length; _i3++) {\n      var _ref6 = _Object$entries3[_i3];\n      var _ref7 = _slicedToArray(_ref6, 2);\n      var key = _ref7[0];\n      var value = _ref7[1];\n      if (_loop2(key)) continue;\n    }\n  }\n};","map":{"version":3,"names":["_objectSpread","module","link","default","v","_slicedToArray","export","i18n","addSprinfToI18n","t","extractTranslationNamespaces","extractTranslationKeys","availableTranslationNamespaces","defaultTranslationNamespace","applyCustomTranslations","i18next","sprintf","isObject","use","key","_len","arguments","length","replaces","Array","_key","undefined","isArray","postProcess","bind","source","result","core","onboarding","registration","cloud","subscription","_loop","prefix","find","namespace","startsWith","keyWithoutNamespace","slice","ns","value","_i","_Object$entries","Object","entries","_ref","_ref2","namespaces","all","reduce","namespacesMap","keys","parsedCustomTranslations","_ref3","languages","_i2","_Object$entries2","_ref4","_ref5","lng","translations","includes","_loop2","_i18n$addResourceBund","addResourceBundle","_i3","_Object$entries3","_ref6","_ref7"],"sources":["app/utils/lib/i18n.ts"],"sourcesContent":["import type { RocketchatI18nKeys } from '@rocket.chat/i18n';\nimport type { TOptions } from 'i18next';\nimport i18next from 'i18next';\nimport sprintf from 'i18next-sprintf-postprocessor';\n\nimport { isObject } from '../../../lib/utils/isObject';\n\ndeclare module 'i18next' {\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tinterface TFunction {\n\t\t(key: RocketchatI18nKeys): string;\n\t\t(key: RocketchatI18nKeys, options: TOptions): string;\n\t}\n}\n\nexport const i18n = i18next.use(sprintf);\n\nexport const addSprinfToI18n = function (t: (typeof i18n)['t']) {\n\treturn function (key: string, ...replaces: any): string {\n\t\tif (replaces[0] === undefined) {\n\t\t\treturn t(key);\n\t\t}\n\n\t\tif (isObject(replaces[0]) && !Array.isArray(replaces[0])) {\n\t\t\treturn t(key, replaces[0]);\n\t\t}\n\n\t\treturn t(key, {\n\t\t\tpostProcess: 'sprintf',\n\t\t\tsprintf: replaces,\n\t\t});\n\t};\n};\n\nexport const t = addSprinfToI18n(i18n.t.bind(i18n));\n\n/**\n * Extract the translation keys from a flat object and group them by namespace\n *\n * Example:\n *\n * ```js\n * const source = {\n *   'core.key1': 'value1',\n *   'core.key2': 'value2',\n *   'onboarding.key1': 'value1',\n *   'onboarding.key2': 'value2',\n *   'registration.key1': 'value1',\n *   'registration.key2': 'value2',\n *   'cloud.key1': 'value1',\n *   'cloud.key2': 'value2',\n *   'subscription.key1': 'value1',\n *   'subscription.key2': 'value2',\n * };\n *\n * const result = extractTranslationNamespaces(source);\n *\n * console.log(result);\n *\n * // {\n * //   core: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   },\n * //   onboarding: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   },\n * //   registration: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   },\n * //   cloud: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   },\n * //   subscription: {\n * //     key1: 'value1',\n * //     key2: 'value2'\n * //   }\n * // }\n * ```\n *\n * @param source the flat object with the translation keys\n */\nexport const extractTranslationNamespaces = (source: Record<string, string>): Record<TranslationNamespace, Record<string, string>> => {\n\tconst result: Record<TranslationNamespace, Record<string, string>> = {\n\t\tcore: {},\n\t\tonboarding: {},\n\t\tregistration: {},\n\t\tcloud: {},\n\t\tsubscription: {},\n\t};\n\n\tfor (const [key, value] of Object.entries(source)) {\n\t\tconst prefix = availableTranslationNamespaces.find((namespace) => key.startsWith(`${namespace}.`));\n\t\tconst keyWithoutNamespace = prefix ? key.slice(prefix.length + 1) : key;\n\t\tconst ns = prefix ?? defaultTranslationNamespace;\n\t\tresult[ns][keyWithoutNamespace] = value;\n\t}\n\n\treturn result;\n};\n\n/**\n * Extract only the translation keys that match the given namespaces\n *\n * @param source the flat object with the translation keys\n * @param namespaces the namespaces to extract\n */\nexport const extractTranslationKeys = (source: Record<string, string>, namespaces: string | string[] = []): { [key: string]: any } => {\n\tconst all = extractTranslationNamespaces(source);\n\treturn Array.isArray(namespaces)\n\t\t? (namespaces as TranslationNamespace[]).reduce((result, namespace) => ({ ...result, ...all[namespace] }), {})\n\t\t: all[namespaces as TranslationNamespace];\n};\n\nexport type TranslationNamespace =\n\t| (Extract<RocketchatI18nKeys, `${string}.${string}`> extends `${infer T}.${string}` ? (T extends Lowercase<T> ? T : never) : never)\n\t| 'core';\n\nconst namespacesMap: Record<TranslationNamespace, true> = {\n\tcore: true,\n\tonboarding: true,\n\tregistration: true,\n\tcloud: true,\n\tsubscription: true,\n};\n\nexport const availableTranslationNamespaces = Object.keys(namespacesMap) as TranslationNamespace[];\nexport const defaultTranslationNamespace: TranslationNamespace = 'core';\n\nexport const applyCustomTranslations = (\n\ti18n: typeof i18next,\n\tparsedCustomTranslations: Record<string, Record<string, string>>,\n\t{ namespaces, languages }: { namespaces?: string[]; languages?: string[] } = {},\n) => {\n\tfor (const [lng, translations] of Object.entries(parsedCustomTranslations)) {\n\t\tif (languages && !languages.includes(lng)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tfor (const [key, value] of Object.entries(translations)) {\n\t\t\tconst prefix = availableTranslationNamespaces.find((namespace) => key.startsWith(`${namespace}.`));\n\t\t\tconst keyWithoutNamespace = prefix ? key.slice(prefix.length + 1) : key;\n\t\t\tconst ns = prefix ?? defaultTranslationNamespace;\n\n\t\t\tif (namespaces && !namespaces.includes(ns)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ti18n.addResourceBundle(lng, ns, { [keyWithoutNamespace]: value }, true, true);\n\t\t}\n\t}\n};\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"f7c27cdc30b9706e546a79796f5bad8e63ce69ec"}
