{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/sidebar/RoomMenu.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/sidebar/RoomMenu.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/sidebar/RoomMenu.tsx","inputSourceMap":{"version":3,"file":"client/sidebar/RoomMenu.tsx","sourceRoot":"","sources":["client/sidebar/RoomMenu.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { RoomType } from '@rocket.chat/core-typings';\nimport { Option, Menu } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { TranslationKey, Fields } from '@rocket.chat/ui-contexts';\nimport {\n\tuseRouter,\n\tuseSetModal,\n\tuseToastMessageDispatch,\n\tuseUserSubscription,\n\tuseSetting,\n\tusePermission,\n\tuseMethod,\n\tuseTranslation,\n\tuseEndpoint,\n} from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React, { memo, useMemo } from 'react';\n\nimport { LegacyRoomManager } from '../../app/ui-utils/client';\nimport { UiTextContext } from '../../definition/IRoomTypeConfig';\nimport { GenericModalDoNotAskAgain } from '../components/GenericModal';\nimport WarningModal from '../components/WarningModal';\nimport { useDontAskAgain } from '../hooks/useDontAskAgain';\nimport { roomCoordinator } from '../lib/rooms/roomCoordinator';\nimport { useOmnichannelPrioritiesMenu } from '../omnichannel/hooks/useOmnichannelPrioritiesMenu';\n\nconst fields: Fields = {\n\tf: true,\n\tt: true,\n\tname: true,\n};\n\ntype RoomMenuProps = {\n\trid: string;\n\tunread?: boolean;\n\tthreadUnread?: boolean;\n\talert?: boolean;\n\troomOpen?: boolean;\n\ttype: RoomType;\n\tcl?: boolean;\n\tname?: string;\n\thideDefaultOptions: boolean;\n};\n\nconst closeEndpoints = {\n\tp: '/v1/groups.close',\n\tc: '/v1/channels.close',\n\td: '/v1/im.close',\n\n\tv: '/v1/channels.close',\n\tl: '/v1/groups.close',\n} as const;\n\nconst leaveEndpoints = {\n\tp: '/v1/groups.leave',\n\tc: '/v1/channels.leave',\n\td: '/v1/im.leave',\n\n\tv: '/v1/channels.leave',\n\tl: '/v1/groups.leave',\n} as const;\n\nconst RoomMenu = ({\n\trid,\n\tunread,\n\tthreadUnread,\n\talert,\n\troomOpen,\n\ttype,\n\tcl,\n\tname = '',\n\thideDefaultOptions = false,\n}: RoomMenuProps): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst setModal = useSetModal();\n\n\tconst closeModal = useMutableCallback(() => setModal());\n\n\tconst router = useRouter();\n\n\tconst subscription = useUserSubscription(rid, fields);\n\tconst canFavorite = useSetting('Favorite_Rooms');\n\tconst isFavorite = Boolean(subscription?.f);\n\n\tconst dontAskHideRoom = useDontAskAgain('hideRoom');\n\n\tconst hideRoom = useEndpoint('POST', closeEndpoints[type]);\n\tconst readMessages = useEndpoint('POST', '/v1/subscriptions.read');\n\tconst toggleFavorite = useEndpoint('POST', '/v1/rooms.favorite');\n\tconst leaveRoom = useEndpoint('POST', leaveEndpoints[type]);\n\n\tconst unreadMessages = useMethod('unreadMessages');\n\n\tconst isUnread = alert || unread || threadUnread;\n\n\tconst canLeaveChannel = usePermission('leave-c');\n\tconst canLeavePrivate = usePermission('leave-p');\n\n\tconst isOmnichannelRoom = type === 'l';\n\tconst prioritiesMenu = useOmnichannelPrioritiesMenu(rid);\n\n\tconst queryClient = useQueryClient();\n\n\tconst canLeave = ((): boolean => {\n\t\tif (type === 'c' && !canLeaveChannel) {\n\t\t\treturn false;\n\t\t}\n\t\tif (type === 'p' && !canLeavePrivate) {\n\t\t\treturn false;\n\t\t}\n\t\treturn !((cl != null && !cl) || ['d', 'l'].includes(type));\n\t})();\n\n\tconst handleLeave = useMutableCallback(() => {\n\t\tconst leave = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait leaveRoom({ roomId: rid });\n\t\t\t\tif (roomOpen) {\n\t\t\t\t\trouter.navigate('/home');\n\t\t\t\t}\n\t\t\t\tLegacyRoomManager.close(rid);\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tcloseModal();\n\t\t};\n\n\t\tconst warnText = roomCoordinator.getRoomDirectives(type).getUiText(UiTextContext.LEAVE_WARNING);\n\n\t\tsetModal(\n\t\t\t<WarningModal\n\t\t\t\ttext={t(warnText as TranslationKey, name)}\n\t\t\t\tconfirmText={t('Leave_room')}\n\t\t\t\tclose={closeModal}\n\t\t\t\tcancelText={t('Cancel')}\n\t\t\t\tconfirm={leave}\n\t\t\t/>,\n\t\t);\n\t});\n\n\tconst handleHide = useMutableCallback(async () => {\n\t\tconst hide = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait hideRoom({ roomId: rid });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tcloseModal();\n\t\t};\n\n\t\tconst warnText = roomCoordinator.getRoomDirectives(type).getUiText(UiTextContext.HIDE_WARNING);\n\n\t\tif (dontAskHideRoom) {\n\t\t\treturn hide();\n\t\t}\n\n\t\tsetModal(\n\t\t\t<GenericModalDoNotAskAgain\n\t\t\t\tvariant='danger'\n\t\t\t\tconfirmText={t('Yes_hide_it')}\n\t\t\t\tcancelText={t('Cancel')}\n\t\t\t\tonClose={closeModal}\n\t\t\t\tonCancel={closeModal}\n\t\t\t\tonConfirm={hide}\n\t\t\t\tdontAskAgain={{\n\t\t\t\t\taction: 'hideRoom',\n\t\t\t\t\tlabel: t('Hide_room'),\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{t(warnText as TranslationKey, name)}\n\t\t\t</GenericModalDoNotAskAgain>,\n\t\t);\n\t});\n\n\tconst handleToggleRead = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tqueryClient.invalidateQueries(['sidebar/search/spotlight']);\n\n\t\t\tif (isUnread) {\n\t\t\t\tawait readMessages({ rid, readThreads: true });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (subscription == null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tLegacyRoomManager.close(subscription.t + subscription.name);\n\n\t\t\trouter.navigate('/home');\n\n\t\t\tawait unreadMessages(undefined, rid);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst handleToggleFavorite = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait toggleFavorite({ roomId: rid, favorite: !isFavorite });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst menuOptions = useMemo(\n\t\t() => ({\n\t\t\t...(!hideDefaultOptions && {\n\t\t\t\t...(isOmnichannelRoom\n\t\t\t\t\t? {}\n\t\t\t\t\t: {\n\t\t\t\t\t\t\thideRoom: {\n\t\t\t\t\t\t\t\tlabel: { label: t('Hide'), icon: 'eye-off' },\n\t\t\t\t\t\t\t\taction: handleHide,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}),\n\t\t\t\ttoggleRead: {\n\t\t\t\t\tlabel: { label: isUnread ? t('Mark_read') : t('Mark_unread'), icon: 'flag' },\n\t\t\t\t\taction: handleToggleRead,\n\t\t\t\t},\n\t\t\t\t...(canFavorite\n\t\t\t\t\t? {\n\t\t\t\t\t\t\ttoggleFavorite: {\n\t\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\t\tlabel: isFavorite ? t('Unfavorite') : t('Favorite'),\n\t\t\t\t\t\t\t\t\ticon: isFavorite ? 'star-filled' : 'star',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\taction: handleToggleFavorite,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t: {}),\n\t\t\t\t...(canLeave && {\n\t\t\t\t\tleaveRoom: {\n\t\t\t\t\t\tlabel: { label: t('Leave_room'), icon: 'sign-out' },\n\t\t\t\t\t\taction: handleLeave,\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t}),\n\t\t\t...(isOmnichannelRoom && prioritiesMenu),\n\t\t}),\n\t\t[\n\t\t\thideDefaultOptions,\n\t\t\tt,\n\t\t\thandleHide,\n\t\t\tisUnread,\n\t\t\thandleToggleRead,\n\t\t\tcanFavorite,\n\t\t\tisFavorite,\n\t\t\thandleToggleFavorite,\n\t\t\tcanLeave,\n\t\t\thandleLeave,\n\t\t\tisOmnichannelRoom,\n\t\t\tprioritiesMenu,\n\t\t],\n\t);\n\n\treturn (\n\t\t<Menu\n\t\t\trcx-sidebar-item__menu\n\t\t\ttitle={t('Options')}\n\t\t\tmini\n\t\t\taria-keyshortcuts='alt'\n\t\t\toptions={menuOptions}\n\t\t\tmaxHeight={300}\n\t\t\trenderItem={({ label: { label, icon }, ...props }): JSX.Element => <Option label={label} icon={icon} {...props} />}\n\t\t/>\n\t);\n};\n\nexport default memo(RoomMenu);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/sidebar/RoomMenu.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/sidebar/RoomMenu.tsx","inputSourceMap":{"version":3,"file":"client/sidebar/RoomMenu.tsx","sourceRoot":"","sources":["client/sidebar/RoomMenu.tsx"],"names":[],"mappings":"AACA,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,uBAAuB,CAAC;AACrD,OAAO,EAAE,kBAAkB,EAAE,MAAM,6BAA6B,CAAC;AAEjE,OAAO,EACN,SAAS,EACT,WAAW,EACX,uBAAuB,EACvB,mBAAmB,EACnB,UAAU,EACV,aAAa,EACb,SAAS,EACT,cAAc,EACd,WAAW,GACX,MAAM,0BAA0B,CAAC;AAClC,OAAO,EAAE,cAAc,EAAE,MAAM,uBAAuB,CAAC;AAEvD,OAAO,KAAK,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,OAAO,CAAC;AAE7C,OAAO,EAAE,iBAAiB,EAAE,MAAM,2BAA2B,CAAC;AAC9D,OAAO,EAAE,aAAa,EAAE,MAAM,kCAAkC,CAAC;AACjE,OAAO,EAAE,yBAAyB,EAAE,MAAM,4BAA4B,CAAC;AACvE,OAAO,YAAY,MAAM,4BAA4B,CAAC;AACtD,OAAO,EAAE,eAAe,EAAE,MAAM,0BAA0B,CAAC;AAC3D,OAAO,EAAE,eAAe,EAAE,MAAM,8BAA8B,CAAC;AAC/D,OAAO,EAAE,4BAA4B,EAAE,MAAM,mDAAmD,CAAC;AAEjG,MAAM,MAAM,GAAW;IACtB,CAAC,EAAE,IAAI;IACP,CAAC,EAAE,IAAI;IACP,IAAI,EAAE,IAAI;CACV,CAAC;AAcF,MAAM,cAAc,GAAG;IACtB,CAAC,EAAE,kBAAkB;IACrB,CAAC,EAAE,oBAAoB;IACvB,CAAC,EAAE,cAAc;IAEjB,CAAC,EAAE,oBAAoB;IACvB,CAAC,EAAE,kBAAkB;CACZ,CAAC;AAEX,MAAM,cAAc,GAAG;IACtB,CAAC,EAAE,kBAAkB;IACrB,CAAC,EAAE,oBAAoB;IACvB,CAAC,EAAE,cAAc;IAEjB,CAAC,EAAE,oBAAoB;IACvB,CAAC,EAAE,kBAAkB;CACZ,CAAC;AAEX,MAAM,QAAQ,GAAG,CAAC,EACjB,GAAG,EACH,MAAM,EACN,YAAY,EACZ,KAAK,EACL,QAAQ,EACR,IAAI,EACJ,EAAE,EACF,IAAI,GAAG,EAAE,EACT,kBAAkB,GAAG,KAAK,GACX,EAAuB,EAAE;IACxC,MAAM,CAAC,GAAG,cAAc,EAAE,CAAC;IAC3B,MAAM,oBAAoB,GAAG,uBAAuB,EAAE,CAAC;IACvD,MAAM,QAAQ,GAAG,WAAW,EAAE,CAAC;IAE/B,MAAM,UAAU,GAAG,kBAAkB,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;IAExD,MAAM,MAAM,GAAG,SAAS,EAAE,CAAC;IAE3B,MAAM,YAAY,GAAG,mBAAmB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACtD,MAAM,WAAW,GAAG,UAAU,CAAC,gBAAgB,CAAC,CAAC;IACjD,MAAM,UAAU,GAAG,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;IAE5C,MAAM,eAAe,GAAG,eAAe,CAAC,UAAU,CAAC,CAAC;IAEpD,MAAM,QAAQ,GAAG,WAAW,CAAC,MAAM,EAAE,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3D,MAAM,YAAY,GAAG,WAAW,CAAC,MAAM,EAAE,wBAAwB,CAAC,CAAC;IACnE,MAAM,cAAc,GAAG,WAAW,CAAC,MAAM,EAAE,oBAAoB,CAAC,CAAC;IACjE,MAAM,SAAS,GAAG,WAAW,CAAC,MAAM,EAAE,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;IAE5D,MAAM,cAAc,GAAG,SAAS,CAAC,gBAAgB,CAAC,CAAC;IAEnD,MAAM,QAAQ,GAAG,KAAK,IAAI,MAAM,IAAI,YAAY,CAAC;IAEjD,MAAM,eAAe,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC;IACjD,MAAM,eAAe,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC;IAEjD,MAAM,iBAAiB,GAAG,IAAI,KAAK,GAAG,CAAC;IACvC,MAAM,cAAc,GAAG,4BAA4B,CAAC,GAAG,CAAC,CAAC;IAEzD,MAAM,WAAW,GAAG,cAAc,EAAE,CAAC;IAErC,MAAM,QAAQ,GAAG,CAAC,GAAY,EAAE;QAC/B,IAAI,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;YACtC,OAAO,KAAK,CAAC;QACd,CAAC;QACD,IAAI,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;YACtC,OAAO,KAAK,CAAC;QACd,CAAC;QACD,OAAO,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5D,CAAC,CAAC,EAAE,CAAC;IAEL,MAAM,WAAW,GAAG,kBAAkB,CAAC,GAAG,EAAE;QAC3C,MAAM,KAAK,GAAG,KAAK,IAAmB,EAAE;YACvC,IAAI,CAAC;gBACJ,MAAM,SAAS,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;gBACjC,IAAI,QAAQ,EAAE,CAAC;oBACd,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;gBAC1B,CAAC;gBACD,iBAAiB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC9B,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBAChB,oBAAoB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;YACzD,CAAC;YACD,UAAU,EAAE,CAAC;QACd,CAAC,CAAC;QAEF,MAAM,QAAQ,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;QAEhG,QAAQ,CACP,CAAC,YAAY,CACZ,IAAI,CAAC,CAAC,CAAC,CAAC,QAA0B,EAAE,IAAI,CAAC,CAAC,CAC1C,WAAW,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAC7B,KAAK,CAAC,CAAC,UAAU,CAAC,CAClB,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CACxB,OAAO,CAAC,CAAC,KAAK,CAAC,EACd,CACF,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,MAAM,UAAU,GAAG,kBAAkB,CAAC,KAAK,IAAI,EAAE;QAChD,MAAM,IAAI,GAAG,KAAK,IAAmB,EAAE;YACtC,IAAI,CAAC;gBACJ,MAAM,QAAQ,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;YACjC,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBAChB,oBAAoB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;YACzD,CAAC;YACD,UAAU,EAAE,CAAC;QACd,CAAC,CAAC;QAEF,MAAM,QAAQ,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;QAE/F,IAAI,eAAe,EAAE,CAAC;YACrB,OAAO,IAAI,EAAE,CAAC;QACf,CAAC;QAED,QAAQ,CACP,CAAC,yBAAyB,CACzB,OAAO,CAAC,QAAQ,CAChB,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAC9B,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CACxB,OAAO,CAAC,CAAC,UAAU,CAAC,CACpB,QAAQ,CAAC,CAAC,UAAU,CAAC,CACrB,SAAS,CAAC,CAAC,IAAI,CAAC,CAChB,YAAY,CAAC,CAAC;gBACb,MAAM,EAAE,UAAU;gBAClB,KAAK,EAAE,CAAC,CAAC,WAAW,CAAC;aACrB,CAAC,CAEF;IAAA,CAAC,CAAC,CAAC,QAA0B,EAAE,IAAI,CAAC,CACrC;GAAA,EAAE,yBAAyB,CAAC,CAC5B,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,MAAM,gBAAgB,GAAG,kBAAkB,CAAC,KAAK,IAAI,EAAE;QACtD,IAAI,CAAC;YACJ,WAAW,CAAC,iBAAiB,CAAC,CAAC,0BAA0B,CAAC,CAAC,CAAC;YAE5D,IAAI,QAAQ,EAAE,CAAC;gBACd,MAAM,YAAY,CAAC,EAAE,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;gBAC/C,OAAO;YACR,CAAC;YAED,IAAI,YAAY,IAAI,IAAI,EAAE,CAAC;gBAC1B,OAAO;YACR,CAAC;YAED,iBAAiB,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;YAE5D,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAEzB,MAAM,cAAc,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;QACtC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YAChB,oBAAoB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QACzD,CAAC;IACF,CAAC,CAAC,CAAC;IAEH,MAAM,oBAAoB,GAAG,kBAAkB,CAAC,KAAK,IAAI,EAAE;QAC1D,IAAI,CAAC;YACJ,MAAM,cAAc,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC;QAC9D,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YAChB,oBAAoB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QACzD,CAAC;IACF,CAAC,CAAC,CAAC;IAEH,MAAM,WAAW,GAAG,OAAO,CAC1B,GAAG,EAAE,CAAC,CAAC;QACN,GAAG,CAAC,CAAC,kBAAkB,IAAI;YAC1B,GAAG,CAAC,iBAAiB;gBACpB,CAAC,CAAC,EAAE;gBACJ,CAAC,CAAC;oBACA,QAAQ,EAAE;wBACT,KAAK,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE;wBAC5C,MAAM,EAAE,UAAU;qBAClB;iBACD,CAAC;YACJ,UAAU,EAAE;gBACX,KAAK,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE;gBAC5E,MAAM,EAAE,gBAAgB;aACxB;YACD,GAAG,CAAC,WAAW;gBACd,CAAC,CAAC;oBACA,cAAc,EAAE;wBACf,KAAK,EAAE;4BACN,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;4BACnD,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,MAAM;yBACzC;wBACD,MAAM,EAAE,oBAAoB;qBAC5B;iBACD;gBACF,CAAC,CAAC,EAAE,CAAC;YACN,GAAG,CAAC,QAAQ,IAAI;gBACf,SAAS,EAAE;oBACV,KAAK,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE;oBACnD,MAAM,EAAE,WAAW;iBACnB;aACD,CAAC;SACF,CAAC;QACF,GAAG,CAAC,iBAAiB,IAAI,cAAc,CAAC;KACxC,CAAC,EACF;QACC,kBAAkB;QAClB,CAAC;QACD,UAAU;QACV,QAAQ;QACR,gBAAgB;QAChB,WAAW;QACX,UAAU;QACV,oBAAoB;QACpB,QAAQ;QACR,WAAW;QACX,iBAAiB;QACjB,cAAc;KACd,CACD,CAAC;IAEF,OAAO,CACN,CAAC,IAAI,CACJ,sBAAsB,CACtB,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CACpB,IAAI,CACJ,iBAAiB,CAAC,KAAK,CACvB,OAAO,CAAC,CAAC,WAAW,CAAC,CACrB,SAAS,CAAC,CAAC,GAAG,CAAC,CACf,UAAU,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,GAAG,KAAK,EAAE,EAAe,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,EAAG,CAAC,EAClH,CACF,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,IAAI,CAAC,QAAQ,CAAC,CAAC","sourcesContent":["import type { RoomType } from '@rocket.chat/core-typings';\nimport { Option, Menu } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { TranslationKey, Fields } from '@rocket.chat/ui-contexts';\nimport {\n\tuseRouter,\n\tuseSetModal,\n\tuseToastMessageDispatch,\n\tuseUserSubscription,\n\tuseSetting,\n\tusePermission,\n\tuseMethod,\n\tuseTranslation,\n\tuseEndpoint,\n} from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React, { memo, useMemo } from 'react';\n\nimport { LegacyRoomManager } from '../../app/ui-utils/client';\nimport { UiTextContext } from '../../definition/IRoomTypeConfig';\nimport { GenericModalDoNotAskAgain } from '../components/GenericModal';\nimport WarningModal from '../components/WarningModal';\nimport { useDontAskAgain } from '../hooks/useDontAskAgain';\nimport { roomCoordinator } from '../lib/rooms/roomCoordinator';\nimport { useOmnichannelPrioritiesMenu } from '../omnichannel/hooks/useOmnichannelPrioritiesMenu';\n\nconst fields: Fields = {\n\tf: true,\n\tt: true,\n\tname: true,\n};\n\ntype RoomMenuProps = {\n\trid: string;\n\tunread?: boolean;\n\tthreadUnread?: boolean;\n\talert?: boolean;\n\troomOpen?: boolean;\n\ttype: RoomType;\n\tcl?: boolean;\n\tname?: string;\n\thideDefaultOptions: boolean;\n};\n\nconst closeEndpoints = {\n\tp: '/v1/groups.close',\n\tc: '/v1/channels.close',\n\td: '/v1/im.close',\n\n\tv: '/v1/channels.close',\n\tl: '/v1/groups.close',\n} as const;\n\nconst leaveEndpoints = {\n\tp: '/v1/groups.leave',\n\tc: '/v1/channels.leave',\n\td: '/v1/im.leave',\n\n\tv: '/v1/channels.leave',\n\tl: '/v1/groups.leave',\n} as const;\n\nconst RoomMenu = ({\n\trid,\n\tunread,\n\tthreadUnread,\n\talert,\n\troomOpen,\n\ttype,\n\tcl,\n\tname = '',\n\thideDefaultOptions = false,\n}: RoomMenuProps): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst setModal = useSetModal();\n\n\tconst closeModal = useMutableCallback(() => setModal());\n\n\tconst router = useRouter();\n\n\tconst subscription = useUserSubscription(rid, fields);\n\tconst canFavorite = useSetting('Favorite_Rooms');\n\tconst isFavorite = Boolean(subscription?.f);\n\n\tconst dontAskHideRoom = useDontAskAgain('hideRoom');\n\n\tconst hideRoom = useEndpoint('POST', closeEndpoints[type]);\n\tconst readMessages = useEndpoint('POST', '/v1/subscriptions.read');\n\tconst toggleFavorite = useEndpoint('POST', '/v1/rooms.favorite');\n\tconst leaveRoom = useEndpoint('POST', leaveEndpoints[type]);\n\n\tconst unreadMessages = useMethod('unreadMessages');\n\n\tconst isUnread = alert || unread || threadUnread;\n\n\tconst canLeaveChannel = usePermission('leave-c');\n\tconst canLeavePrivate = usePermission('leave-p');\n\n\tconst isOmnichannelRoom = type === 'l';\n\tconst prioritiesMenu = useOmnichannelPrioritiesMenu(rid);\n\n\tconst queryClient = useQueryClient();\n\n\tconst canLeave = ((): boolean => {\n\t\tif (type === 'c' && !canLeaveChannel) {\n\t\t\treturn false;\n\t\t}\n\t\tif (type === 'p' && !canLeavePrivate) {\n\t\t\treturn false;\n\t\t}\n\t\treturn !((cl != null && !cl) || ['d', 'l'].includes(type));\n\t})();\n\n\tconst handleLeave = useMutableCallback(() => {\n\t\tconst leave = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait leaveRoom({ roomId: rid });\n\t\t\t\tif (roomOpen) {\n\t\t\t\t\trouter.navigate('/home');\n\t\t\t\t}\n\t\t\t\tLegacyRoomManager.close(rid);\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tcloseModal();\n\t\t};\n\n\t\tconst warnText = roomCoordinator.getRoomDirectives(type).getUiText(UiTextContext.LEAVE_WARNING);\n\n\t\tsetModal(\n\t\t\t<WarningModal\n\t\t\t\ttext={t(warnText as TranslationKey, name)}\n\t\t\t\tconfirmText={t('Leave_room')}\n\t\t\t\tclose={closeModal}\n\t\t\t\tcancelText={t('Cancel')}\n\t\t\t\tconfirm={leave}\n\t\t\t/>,\n\t\t);\n\t});\n\n\tconst handleHide = useMutableCallback(async () => {\n\t\tconst hide = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait hideRoom({ roomId: rid });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tcloseModal();\n\t\t};\n\n\t\tconst warnText = roomCoordinator.getRoomDirectives(type).getUiText(UiTextContext.HIDE_WARNING);\n\n\t\tif (dontAskHideRoom) {\n\t\t\treturn hide();\n\t\t}\n\n\t\tsetModal(\n\t\t\t<GenericModalDoNotAskAgain\n\t\t\t\tvariant='danger'\n\t\t\t\tconfirmText={t('Yes_hide_it')}\n\t\t\t\tcancelText={t('Cancel')}\n\t\t\t\tonClose={closeModal}\n\t\t\t\tonCancel={closeModal}\n\t\t\t\tonConfirm={hide}\n\t\t\t\tdontAskAgain={{\n\t\t\t\t\taction: 'hideRoom',\n\t\t\t\t\tlabel: t('Hide_room'),\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{t(warnText as TranslationKey, name)}\n\t\t\t</GenericModalDoNotAskAgain>,\n\t\t);\n\t});\n\n\tconst handleToggleRead = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tqueryClient.invalidateQueries(['sidebar/search/spotlight']);\n\n\t\t\tif (isUnread) {\n\t\t\t\tawait readMessages({ rid, readThreads: true });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (subscription == null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tLegacyRoomManager.close(subscription.t + subscription.name);\n\n\t\t\trouter.navigate('/home');\n\n\t\t\tawait unreadMessages(undefined, rid);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst handleToggleFavorite = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait toggleFavorite({ roomId: rid, favorite: !isFavorite });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst menuOptions = useMemo(\n\t\t() => ({\n\t\t\t...(!hideDefaultOptions && {\n\t\t\t\t...(isOmnichannelRoom\n\t\t\t\t\t? {}\n\t\t\t\t\t: {\n\t\t\t\t\t\t\thideRoom: {\n\t\t\t\t\t\t\t\tlabel: { label: t('Hide'), icon: 'eye-off' },\n\t\t\t\t\t\t\t\taction: handleHide,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}),\n\t\t\t\ttoggleRead: {\n\t\t\t\t\tlabel: { label: isUnread ? t('Mark_read') : t('Mark_unread'), icon: 'flag' },\n\t\t\t\t\taction: handleToggleRead,\n\t\t\t\t},\n\t\t\t\t...(canFavorite\n\t\t\t\t\t? {\n\t\t\t\t\t\t\ttoggleFavorite: {\n\t\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\t\tlabel: isFavorite ? t('Unfavorite') : t('Favorite'),\n\t\t\t\t\t\t\t\t\ticon: isFavorite ? 'star-filled' : 'star',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\taction: handleToggleFavorite,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t: {}),\n\t\t\t\t...(canLeave && {\n\t\t\t\t\tleaveRoom: {\n\t\t\t\t\t\tlabel: { label: t('Leave_room'), icon: 'sign-out' },\n\t\t\t\t\t\taction: handleLeave,\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t}),\n\t\t\t...(isOmnichannelRoom && prioritiesMenu),\n\t\t}),\n\t\t[\n\t\t\thideDefaultOptions,\n\t\t\tt,\n\t\t\thandleHide,\n\t\t\tisUnread,\n\t\t\thandleToggleRead,\n\t\t\tcanFavorite,\n\t\t\tisFavorite,\n\t\t\thandleToggleFavorite,\n\t\t\tcanLeave,\n\t\t\thandleLeave,\n\t\t\tisOmnichannelRoom,\n\t\t\tprioritiesMenu,\n\t\t],\n\t);\n\n\treturn (\n\t\t<Menu\n\t\t\trcx-sidebar-item__menu\n\t\t\ttitle={t('Options')}\n\t\t\tmini\n\t\t\taria-keyshortcuts='alt'\n\t\t\toptions={menuOptions}\n\t\t\tmaxHeight={300}\n\t\t\trenderItem={({ label: { label, icon }, ...props }): JSX.Element => <Option label={label} icon={icon} {...props} />}\n\t\t/>\n\t);\n};\n\nexport default memo(RoomMenu);\n"]}}},"code":"const _excluded = [\"label\"];\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 1);\nlet _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n}, 2);\nlet Option, Menu;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Option(v) {\n    Option = v;\n  },\n  Menu(v) {\n    Menu = v;\n  }\n}, 0);\nlet useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  }\n}, 1);\nlet useRouter, useSetModal, useToastMessageDispatch, useUserSubscription, useSetting, usePermission, useMethod, useTranslation, useEndpoint;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useRouter(v) {\n    useRouter = v;\n  },\n  useSetModal(v) {\n    useSetModal = v;\n  },\n  useToastMessageDispatch(v) {\n    useToastMessageDispatch = v;\n  },\n  useUserSubscription(v) {\n    useUserSubscription = v;\n  },\n  useSetting(v) {\n    useSetting = v;\n  },\n  usePermission(v) {\n    usePermission = v;\n  },\n  useMethod(v) {\n    useMethod = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  },\n  useEndpoint(v) {\n    useEndpoint = v;\n  }\n}, 2);\nlet useQueryClient;\nmodule.link(\"@tanstack/react-query\", {\n  useQueryClient(v) {\n    useQueryClient = v;\n  }\n}, 3);\nlet React, memo, useMemo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  memo(v) {\n    memo = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  }\n}, 4);\nlet LegacyRoomManager;\nmodule.link(\"../../app/ui-utils/client\", {\n  LegacyRoomManager(v) {\n    LegacyRoomManager = v;\n  }\n}, 5);\nlet UiTextContext;\nmodule.link(\"../../definition/IRoomTypeConfig\", {\n  UiTextContext(v) {\n    UiTextContext = v;\n  }\n}, 6);\nlet GenericModalDoNotAskAgain;\nmodule.link(\"../components/GenericModal\", {\n  GenericModalDoNotAskAgain(v) {\n    GenericModalDoNotAskAgain = v;\n  }\n}, 7);\nlet WarningModal;\nmodule.link(\"../components/WarningModal\", {\n  default(v) {\n    WarningModal = v;\n  }\n}, 8);\nlet useDontAskAgain;\nmodule.link(\"../hooks/useDontAskAgain\", {\n  useDontAskAgain(v) {\n    useDontAskAgain = v;\n  }\n}, 9);\nlet roomCoordinator;\nmodule.link(\"../lib/rooms/roomCoordinator\", {\n  roomCoordinator(v) {\n    roomCoordinator = v;\n  }\n}, 10);\nlet useOmnichannelPrioritiesMenu;\nmodule.link(\"../omnichannel/hooks/useOmnichannelPrioritiesMenu\", {\n  useOmnichannelPrioritiesMenu(v) {\n    useOmnichannelPrioritiesMenu = v;\n  }\n}, 11);\nconst fields = {\n  f: true,\n  t: true,\n  name: true\n};\nconst closeEndpoints = {\n  p: '/v1/groups.close',\n  c: '/v1/channels.close',\n  d: '/v1/im.close',\n  v: '/v1/channels.close',\n  l: '/v1/groups.close'\n};\nconst leaveEndpoints = {\n  p: '/v1/groups.leave',\n  c: '/v1/channels.leave',\n  d: '/v1/im.leave',\n  v: '/v1/channels.leave',\n  l: '/v1/groups.leave'\n};\nconst RoomMenu = _ref => {\n  let {\n    rid,\n    unread,\n    threadUnread,\n    alert,\n    roomOpen,\n    type,\n    cl,\n    name = '',\n    hideDefaultOptions = false\n  } = _ref;\n  const t = useTranslation();\n  const dispatchToastMessage = useToastMessageDispatch();\n  const setModal = useSetModal();\n  const closeModal = useMutableCallback(() => setModal());\n  const router = useRouter();\n  const subscription = useUserSubscription(rid, fields);\n  const canFavorite = useSetting('Favorite_Rooms');\n  const isFavorite = Boolean(subscription === null || subscription === void 0 ? void 0 : subscription.f);\n  const dontAskHideRoom = useDontAskAgain('hideRoom');\n  const hideRoom = useEndpoint('POST', closeEndpoints[type]);\n  const readMessages = useEndpoint('POST', '/v1/subscriptions.read');\n  const toggleFavorite = useEndpoint('POST', '/v1/rooms.favorite');\n  const leaveRoom = useEndpoint('POST', leaveEndpoints[type]);\n  const unreadMessages = useMethod('unreadMessages');\n  const isUnread = alert || unread || threadUnread;\n  const canLeaveChannel = usePermission('leave-c');\n  const canLeavePrivate = usePermission('leave-p');\n  const isOmnichannelRoom = type === 'l';\n  const prioritiesMenu = useOmnichannelPrioritiesMenu(rid);\n  const queryClient = useQueryClient();\n  const canLeave = (() => {\n    if (type === 'c' && !canLeaveChannel) {\n      return false;\n    }\n    if (type === 'p' && !canLeavePrivate) {\n      return false;\n    }\n    return !(cl != null && !cl || ['d', 'l'].includes(type));\n  })();\n  const handleLeave = useMutableCallback(() => {\n    const leave = async () => {\n      try {\n        await leaveRoom({\n          roomId: rid\n        });\n        if (roomOpen) {\n          router.navigate('/home');\n        }\n        LegacyRoomManager.close(rid);\n      } catch (error) {\n        dispatchToastMessage({\n          type: 'error',\n          message: error\n        });\n      }\n      closeModal();\n    };\n    const warnText = roomCoordinator.getRoomDirectives(type).getUiText(UiTextContext.LEAVE_WARNING);\n    setModal( /*#__PURE__*/React.createElement(WarningModal, {\n      text: t(warnText, name),\n      confirmText: t('Leave_room'),\n      close: closeModal,\n      cancelText: t('Cancel'),\n      confirm: leave\n    }));\n  });\n  const handleHide = useMutableCallback(async () => {\n    const hide = async () => {\n      try {\n        await hideRoom({\n          roomId: rid\n        });\n      } catch (error) {\n        dispatchToastMessage({\n          type: 'error',\n          message: error\n        });\n      }\n      closeModal();\n    };\n    const warnText = roomCoordinator.getRoomDirectives(type).getUiText(UiTextContext.HIDE_WARNING);\n    if (dontAskHideRoom) {\n      return hide();\n    }\n    setModal( /*#__PURE__*/React.createElement(GenericModalDoNotAskAgain, {\n      variant: \"danger\",\n      confirmText: t('Yes_hide_it'),\n      cancelText: t('Cancel'),\n      onClose: closeModal,\n      onCancel: closeModal,\n      onConfirm: hide,\n      dontAskAgain: {\n        action: 'hideRoom',\n        label: t('Hide_room')\n      }\n    }, t(warnText, name)));\n  });\n  const handleToggleRead = useMutableCallback(async () => {\n    try {\n      queryClient.invalidateQueries(['sidebar/search/spotlight']);\n      if (isUnread) {\n        await readMessages({\n          rid,\n          readThreads: true\n        });\n        return;\n      }\n      if (subscription == null) {\n        return;\n      }\n      LegacyRoomManager.close(subscription.t + subscription.name);\n      router.navigate('/home');\n      await unreadMessages(undefined, rid);\n    } catch (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    }\n  });\n  const handleToggleFavorite = useMutableCallback(async () => {\n    try {\n      await toggleFavorite({\n        roomId: rid,\n        favorite: !isFavorite\n      });\n    } catch (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    }\n  });\n  const menuOptions = useMemo(() => _objectSpread(_objectSpread({}, !hideDefaultOptions && _objectSpread(_objectSpread(_objectSpread({}, isOmnichannelRoom ? {} : {\n    hideRoom: {\n      label: {\n        label: t('Hide'),\n        icon: 'eye-off'\n      },\n      action: handleHide\n    }\n  }), {}, {\n    toggleRead: {\n      label: {\n        label: isUnread ? t('Mark_read') : t('Mark_unread'),\n        icon: 'flag'\n      },\n      action: handleToggleRead\n    }\n  }, canFavorite ? {\n    toggleFavorite: {\n      label: {\n        label: isFavorite ? t('Unfavorite') : t('Favorite'),\n        icon: isFavorite ? 'star-filled' : 'star'\n      },\n      action: handleToggleFavorite\n    }\n  } : {}), canLeave && {\n    leaveRoom: {\n      label: {\n        label: t('Leave_room'),\n        icon: 'sign-out'\n      },\n      action: handleLeave\n    }\n  })), isOmnichannelRoom && prioritiesMenu), [hideDefaultOptions, t, handleHide, isUnread, handleToggleRead, canFavorite, isFavorite, handleToggleFavorite, canLeave, handleLeave, isOmnichannelRoom, prioritiesMenu]);\n  return /*#__PURE__*/React.createElement(Menu, {\n    \"rcx-sidebar-item__menu\": true,\n    title: t('Options'),\n    mini: true,\n    \"aria-keyshortcuts\": \"alt\",\n    options: menuOptions,\n    maxHeight: 300,\n    renderItem: _ref2 => {\n      let {\n          label: {\n            label,\n            icon\n          }\n        } = _ref2,\n        props = _objectWithoutProperties(_ref2, _excluded);\n      return /*#__PURE__*/React.createElement(Option, _extends({\n        label: label,\n        icon: icon\n      }, props));\n    }\n  });\n};\nmodule.exportDefault( /*#__PURE__*/memo(RoomMenu));","map":{"version":3,"names":["_extends","module","link","default","v","_objectWithoutProperties","_objectSpread","Option","Menu","useMutableCallback","useRouter","useSetModal","useToastMessageDispatch","useUserSubscription","useSetting","usePermission","useMethod","useTranslation","useEndpoint","useQueryClient","React","memo","useMemo","LegacyRoomManager","UiTextContext","GenericModalDoNotAskAgain","WarningModal","useDontAskAgain","roomCoordinator","useOmnichannelPrioritiesMenu","fields","f","t","name","closeEndpoints","p","c","d","l","leaveEndpoints","RoomMenu","_ref","rid","unread","threadUnread","alert","roomOpen","type","cl","hideDefaultOptions","dispatchToastMessage","setModal","closeModal","router","subscription","canFavorite","isFavorite","Boolean","dontAskHideRoom","hideRoom","readMessages","toggleFavorite","leaveRoom","unreadMessages","isUnread","canLeaveChannel","canLeavePrivate","isOmnichannelRoom","prioritiesMenu","queryClient","canLeave","includes","handleLeave","leave","roomId","navigate","close","error","message","warnText","getRoomDirectives","getUiText","LEAVE_WARNING","createElement","text","confirmText","cancelText","confirm","handleHide","hide","HIDE_WARNING","variant","onClose","onCancel","onConfirm","dontAskAgain","action","label","handleToggleRead","invalidateQueries","readThreads","undefined","handleToggleFavorite","favorite","menuOptions","icon","toggleRead","title","mini","options","maxHeight","renderItem","_ref2","props","_excluded","exportDefault"],"sources":["client/sidebar/RoomMenu.tsx"],"sourcesContent":["import type { RoomType } from '@rocket.chat/core-typings';\nimport { Option, Menu } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { TranslationKey, Fields } from '@rocket.chat/ui-contexts';\nimport {\n\tuseRouter,\n\tuseSetModal,\n\tuseToastMessageDispatch,\n\tuseUserSubscription,\n\tuseSetting,\n\tusePermission,\n\tuseMethod,\n\tuseTranslation,\n\tuseEndpoint,\n} from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React, { memo, useMemo } from 'react';\n\nimport { LegacyRoomManager } from '../../app/ui-utils/client';\nimport { UiTextContext } from '../../definition/IRoomTypeConfig';\nimport { GenericModalDoNotAskAgain } from '../components/GenericModal';\nimport WarningModal from '../components/WarningModal';\nimport { useDontAskAgain } from '../hooks/useDontAskAgain';\nimport { roomCoordinator } from '../lib/rooms/roomCoordinator';\nimport { useOmnichannelPrioritiesMenu } from '../omnichannel/hooks/useOmnichannelPrioritiesMenu';\n\nconst fields: Fields = {\n\tf: true,\n\tt: true,\n\tname: true,\n};\n\ntype RoomMenuProps = {\n\trid: string;\n\tunread?: boolean;\n\tthreadUnread?: boolean;\n\talert?: boolean;\n\troomOpen?: boolean;\n\ttype: RoomType;\n\tcl?: boolean;\n\tname?: string;\n\thideDefaultOptions: boolean;\n};\n\nconst closeEndpoints = {\n\tp: '/v1/groups.close',\n\tc: '/v1/channels.close',\n\td: '/v1/im.close',\n\n\tv: '/v1/channels.close',\n\tl: '/v1/groups.close',\n} as const;\n\nconst leaveEndpoints = {\n\tp: '/v1/groups.leave',\n\tc: '/v1/channels.leave',\n\td: '/v1/im.leave',\n\n\tv: '/v1/channels.leave',\n\tl: '/v1/groups.leave',\n} as const;\n\nconst RoomMenu = ({\n\trid,\n\tunread,\n\tthreadUnread,\n\talert,\n\troomOpen,\n\ttype,\n\tcl,\n\tname = '',\n\thideDefaultOptions = false,\n}: RoomMenuProps): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst setModal = useSetModal();\n\n\tconst closeModal = useMutableCallback(() => setModal());\n\n\tconst router = useRouter();\n\n\tconst subscription = useUserSubscription(rid, fields);\n\tconst canFavorite = useSetting('Favorite_Rooms');\n\tconst isFavorite = Boolean(subscription?.f);\n\n\tconst dontAskHideRoom = useDontAskAgain('hideRoom');\n\n\tconst hideRoom = useEndpoint('POST', closeEndpoints[type]);\n\tconst readMessages = useEndpoint('POST', '/v1/subscriptions.read');\n\tconst toggleFavorite = useEndpoint('POST', '/v1/rooms.favorite');\n\tconst leaveRoom = useEndpoint('POST', leaveEndpoints[type]);\n\n\tconst unreadMessages = useMethod('unreadMessages');\n\n\tconst isUnread = alert || unread || threadUnread;\n\n\tconst canLeaveChannel = usePermission('leave-c');\n\tconst canLeavePrivate = usePermission('leave-p');\n\n\tconst isOmnichannelRoom = type === 'l';\n\tconst prioritiesMenu = useOmnichannelPrioritiesMenu(rid);\n\n\tconst queryClient = useQueryClient();\n\n\tconst canLeave = ((): boolean => {\n\t\tif (type === 'c' && !canLeaveChannel) {\n\t\t\treturn false;\n\t\t}\n\t\tif (type === 'p' && !canLeavePrivate) {\n\t\t\treturn false;\n\t\t}\n\t\treturn !((cl != null && !cl) || ['d', 'l'].includes(type));\n\t})();\n\n\tconst handleLeave = useMutableCallback(() => {\n\t\tconst leave = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait leaveRoom({ roomId: rid });\n\t\t\t\tif (roomOpen) {\n\t\t\t\t\trouter.navigate('/home');\n\t\t\t\t}\n\t\t\t\tLegacyRoomManager.close(rid);\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tcloseModal();\n\t\t};\n\n\t\tconst warnText = roomCoordinator.getRoomDirectives(type).getUiText(UiTextContext.LEAVE_WARNING);\n\n\t\tsetModal(\n\t\t\t<WarningModal\n\t\t\t\ttext={t(warnText as TranslationKey, name)}\n\t\t\t\tconfirmText={t('Leave_room')}\n\t\t\t\tclose={closeModal}\n\t\t\t\tcancelText={t('Cancel')}\n\t\t\t\tconfirm={leave}\n\t\t\t/>,\n\t\t);\n\t});\n\n\tconst handleHide = useMutableCallback(async () => {\n\t\tconst hide = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait hideRoom({ roomId: rid });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tcloseModal();\n\t\t};\n\n\t\tconst warnText = roomCoordinator.getRoomDirectives(type).getUiText(UiTextContext.HIDE_WARNING);\n\n\t\tif (dontAskHideRoom) {\n\t\t\treturn hide();\n\t\t}\n\n\t\tsetModal(\n\t\t\t<GenericModalDoNotAskAgain\n\t\t\t\tvariant='danger'\n\t\t\t\tconfirmText={t('Yes_hide_it')}\n\t\t\t\tcancelText={t('Cancel')}\n\t\t\t\tonClose={closeModal}\n\t\t\t\tonCancel={closeModal}\n\t\t\t\tonConfirm={hide}\n\t\t\t\tdontAskAgain={{\n\t\t\t\t\taction: 'hideRoom',\n\t\t\t\t\tlabel: t('Hide_room'),\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{t(warnText as TranslationKey, name)}\n\t\t\t</GenericModalDoNotAskAgain>,\n\t\t);\n\t});\n\n\tconst handleToggleRead = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tqueryClient.invalidateQueries(['sidebar/search/spotlight']);\n\n\t\t\tif (isUnread) {\n\t\t\t\tawait readMessages({ rid, readThreads: true });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (subscription == null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tLegacyRoomManager.close(subscription.t + subscription.name);\n\n\t\t\trouter.navigate('/home');\n\n\t\t\tawait unreadMessages(undefined, rid);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst handleToggleFavorite = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait toggleFavorite({ roomId: rid, favorite: !isFavorite });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst menuOptions = useMemo(\n\t\t() => ({\n\t\t\t...(!hideDefaultOptions && {\n\t\t\t\t...(isOmnichannelRoom\n\t\t\t\t\t? {}\n\t\t\t\t\t: {\n\t\t\t\t\t\t\thideRoom: {\n\t\t\t\t\t\t\t\tlabel: { label: t('Hide'), icon: 'eye-off' },\n\t\t\t\t\t\t\t\taction: handleHide,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}),\n\t\t\t\ttoggleRead: {\n\t\t\t\t\tlabel: { label: isUnread ? t('Mark_read') : t('Mark_unread'), icon: 'flag' },\n\t\t\t\t\taction: handleToggleRead,\n\t\t\t\t},\n\t\t\t\t...(canFavorite\n\t\t\t\t\t? {\n\t\t\t\t\t\t\ttoggleFavorite: {\n\t\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\t\tlabel: isFavorite ? t('Unfavorite') : t('Favorite'),\n\t\t\t\t\t\t\t\t\ticon: isFavorite ? 'star-filled' : 'star',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\taction: handleToggleFavorite,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t: {}),\n\t\t\t\t...(canLeave && {\n\t\t\t\t\tleaveRoom: {\n\t\t\t\t\t\tlabel: { label: t('Leave_room'), icon: 'sign-out' },\n\t\t\t\t\t\taction: handleLeave,\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t}),\n\t\t\t...(isOmnichannelRoom && prioritiesMenu),\n\t\t}),\n\t\t[\n\t\t\thideDefaultOptions,\n\t\t\tt,\n\t\t\thandleHide,\n\t\t\tisUnread,\n\t\t\thandleToggleRead,\n\t\t\tcanFavorite,\n\t\t\tisFavorite,\n\t\t\thandleToggleFavorite,\n\t\t\tcanLeave,\n\t\t\thandleLeave,\n\t\t\tisOmnichannelRoom,\n\t\t\tprioritiesMenu,\n\t\t],\n\t);\n\n\treturn (\n\t\t<Menu\n\t\t\trcx-sidebar-item__menu\n\t\t\ttitle={t('Options')}\n\t\t\tmini\n\t\t\taria-keyshortcuts='alt'\n\t\t\toptions={menuOptions}\n\t\t\tmaxHeight={300}\n\t\t\trenderItem={({ label: { label, icon }, ...props }): JSX.Element => <Option label={label} icon={icon} {...props} />}\n\t\t/>\n\t);\n};\n\nexport default memo(RoomMenu);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"dfee8d6eef44dd7edd27b8760348952d343ab946"}
