{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/Omnichannel/modals/TranscriptModal.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/components/Omnichannel/modals/TranscriptModal.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/Omnichannel/modals/TranscriptModal.tsx","inputSourceMap":{"version":3,"file":"client/components/Omnichannel/modals/TranscriptModal.tsx","sourceRoot":"","sources":["client/components/Omnichannel/modals/TranscriptModal.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IOmnichannelRoom } from '@rocket.chat/core-typings';\nimport { Field, Button, TextInput, Modal, Box, FieldGroup, FieldLabel, FieldRow, FieldError } from '@rocket.chat/fuselage';\nimport React, { useCallback, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\ntype TranscriptModalProps = {\n\temail: string;\n\troom: IOmnichannelRoom;\n\tonRequest: (email: string, subject: string) => void;\n\tonSend?: (email: string, subject: string, token: string) => void;\n\tonCancel: () => void;\n\tonDiscard: () => void;\n};\n\nconst TranscriptModal = ({ email: emailDefault = '', room, onRequest, onSend, onCancel, onDiscard, ...props }: TranscriptModalProps) => {\n\tconst { t } = useTranslation();\n\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tsetValue,\n\t\tsetFocus,\n\t\tformState: { errors, isSubmitting },\n\t} = useForm({\n\t\tdefaultValues: { email: emailDefault || '', subject: t('Transcript_of_your_livechat_conversation') },\n\t});\n\n\tuseEffect(() => {\n\t\tsetFocus('subject');\n\t}, [setFocus]);\n\n\tconst { transcriptRequest } = room;\n\tconst roomOpen = room?.open;\n\tconst token = room?.v?.token;\n\n\tconst handleDiscard = useCallback(() => onDiscard(), [onDiscard]);\n\n\tconst submit = useCallback(\n\t\t({ email, subject }: { email: string; subject: string }) => {\n\t\t\tif (roomOpen && !transcriptRequest) {\n\t\t\t\tonRequest(email, subject);\n\t\t\t}\n\t\t\tif (!roomOpen && onSend && token) {\n\t\t\t\tonSend(email, subject, token);\n\t\t\t}\n\t\t},\n\t\t[onRequest, onSend, roomOpen, token, transcriptRequest],\n\t);\n\n\tuseEffect(() => {\n\t\tif (transcriptRequest) {\n\t\t\tsetValue('email', transcriptRequest.email);\n\t\t\tsetValue('subject', transcriptRequest.subject);\n\t\t}\n\t}, [setValue, transcriptRequest]);\n\n\t// const canSubmit = isValid && Boolean(watch('subject'));\n\n\treturn (\n\t\t<Modal open wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(submit)} {...props} />} {...props}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Icon name='mail-arrow-top-right' />\n\t\t\t\t<Modal.Title>{t('Transcript')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onCancel} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content fontScale='p2'>\n\t\t\t\t{!!transcriptRequest && <p>{t('Livechat_transcript_already_requested_warning')}</p>}\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Email')}*</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tdisabled={!!emailDefault || !!transcriptRequest}\n\t\t\t\t\t\t\t\terror={errors.email?.message}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\t{...register('email', { required: t('Required_field', { field: t('Email') }) })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t<FieldError>{errors.email?.message}</FieldError>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Subject')}*</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tdisabled={!!transcriptRequest}\n\t\t\t\t\t\t\t\terror={errors.subject?.message}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\t{...register('subject', { required: t('Required_field', { field: t('Subject') }) })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t<FieldError>{errors.subject?.message}</FieldError>\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button onClick={onCancel}>{t('Cancel')}</Button>\n\t\t\t\t\t{roomOpen && transcriptRequest && (\n\t\t\t\t\t\t<Button danger onClick={handleDiscard}>\n\t\t\t\t\t\t\t{t('Undo_request')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{roomOpen && !transcriptRequest && (\n\t\t\t\t\t\t<Button aria-label='request-button' disabled={isSubmitting} loading={isSubmitting} primary type='submit'>\n\t\t\t\t\t\t\t{t('Request')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{!roomOpen && (\n\t\t\t\t\t\t<Button aria-label='send-button' disabled={isSubmitting} loading={isSubmitting} primary type='submit'>\n\t\t\t\t\t\t\t{t('Send')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default TranscriptModal;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/Omnichannel/modals/TranscriptModal.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/components/Omnichannel/modals/TranscriptModal.tsx","inputSourceMap":{"version":3,"file":"client/components/Omnichannel/modals/TranscriptModal.tsx","sourceRoot":"","sources":["client/components/Omnichannel/modals/TranscriptModal.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IOmnichannelRoom } from '@rocket.chat/core-typings';\nimport { Field, Button, TextInput, Modal, Box, FieldGroup, FieldLabel, FieldRow, FieldError } from '@rocket.chat/fuselage';\nimport React, { useCallback, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\ntype TranscriptModalProps = {\n\temail: string;\n\troom: IOmnichannelRoom;\n\tonRequest: (email: string, subject: string) => void;\n\tonSend?: (email: string, subject: string, token: string) => void;\n\tonCancel: () => void;\n\tonDiscard: () => void;\n};\n\nconst TranscriptModal = ({ email: emailDefault = '', room, onRequest, onSend, onCancel, onDiscard, ...props }: TranscriptModalProps) => {\n\tconst { t } = useTranslation();\n\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tsetValue,\n\t\tsetFocus,\n\t\tformState: { errors, isSubmitting },\n\t} = useForm({\n\t\tdefaultValues: { email: emailDefault || '', subject: t('Transcript_of_your_livechat_conversation') },\n\t});\n\n\tuseEffect(() => {\n\t\tsetFocus('subject');\n\t}, [setFocus]);\n\n\tconst { transcriptRequest } = room;\n\tconst roomOpen = room?.open;\n\tconst token = room?.v?.token;\n\n\tconst handleDiscard = useCallback(() => onDiscard(), [onDiscard]);\n\n\tconst submit = useCallback(\n\t\t({ email, subject }: { email: string; subject: string }) => {\n\t\t\tif (roomOpen && !transcriptRequest) {\n\t\t\t\tonRequest(email, subject);\n\t\t\t}\n\t\t\tif (!roomOpen && onSend && token) {\n\t\t\t\tonSend(email, subject, token);\n\t\t\t}\n\t\t},\n\t\t[onRequest, onSend, roomOpen, token, transcriptRequest],\n\t);\n\n\tuseEffect(() => {\n\t\tif (transcriptRequest) {\n\t\t\tsetValue('email', transcriptRequest.email);\n\t\t\tsetValue('subject', transcriptRequest.subject);\n\t\t}\n\t}, [setValue, transcriptRequest]);\n\n\t// const canSubmit = isValid && Boolean(watch('subject'));\n\n\treturn (\n\t\t<Modal open wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(submit)} {...props} />} {...props}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Icon name='mail-arrow-top-right' />\n\t\t\t\t<Modal.Title>{t('Transcript')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onCancel} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content fontScale='p2'>\n\t\t\t\t{!!transcriptRequest && <p>{t('Livechat_transcript_already_requested_warning')}</p>}\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Email')}*</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tdisabled={!!emailDefault || !!transcriptRequest}\n\t\t\t\t\t\t\t\terror={errors.email?.message}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\t{...register('email', { required: t('Required_field', { field: t('Email') }) })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t<FieldError>{errors.email?.message}</FieldError>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Subject')}*</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tdisabled={!!transcriptRequest}\n\t\t\t\t\t\t\t\terror={errors.subject?.message}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\t{...register('subject', { required: t('Required_field', { field: t('Subject') }) })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t<FieldError>{errors.subject?.message}</FieldError>\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button onClick={onCancel}>{t('Cancel')}</Button>\n\t\t\t\t\t{roomOpen && transcriptRequest && (\n\t\t\t\t\t\t<Button danger onClick={handleDiscard}>\n\t\t\t\t\t\t\t{t('Undo_request')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{roomOpen && !transcriptRequest && (\n\t\t\t\t\t\t<Button aria-label='request-button' disabled={isSubmitting} loading={isSubmitting} primary type='submit'>\n\t\t\t\t\t\t\t{t('Request')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{!roomOpen && (\n\t\t\t\t\t\t<Button aria-label='send-button' disabled={isSubmitting} loading={isSubmitting} primary type='submit'>\n\t\t\t\t\t\t\t{t('Send')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default TranscriptModal;\n"]}}},"code":"var _excluded = [\"email\", \"room\", \"onRequest\", \"onSend\", \"onCancel\", \"onDiscard\"];\nvar _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\nvar _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 1);\nvar Field, Button, TextInput, Modal, Box, FieldGroup, FieldLabel, FieldRow, FieldError;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Field: function (v) {\n    Field = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  TextInput: function (v) {\n    TextInput = v;\n  },\n  Modal: function (v) {\n    Modal = v;\n  },\n  Box: function (v) {\n    Box = v;\n  },\n  FieldGroup: function (v) {\n    FieldGroup = v;\n  },\n  FieldLabel: function (v) {\n    FieldLabel = v;\n  },\n  FieldRow: function (v) {\n    FieldRow = v;\n  },\n  FieldError: function (v) {\n    FieldError = v;\n  }\n}, 0);\nvar React, useCallback, useEffect;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  }\n}, 1);\nvar useForm;\nmodule.link(\"react-hook-form\", {\n  useForm: function (v) {\n    useForm = v;\n  }\n}, 2);\nvar useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 3);\nvar TranscriptModal = function (_ref) {\n  var _room$v, _errors$email, _errors$email2, _errors$subject, _errors$subject2;\n  var _ref$email = _ref.email,\n    emailDefault = _ref$email === void 0 ? '' : _ref$email,\n    room = _ref.room,\n    onRequest = _ref.onRequest,\n    onSend = _ref.onSend,\n    onCancel = _ref.onCancel,\n    onDiscard = _ref.onDiscard,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useForm = useForm({\n      defaultValues: {\n        email: emailDefault || '',\n        subject: t('Transcript_of_your_livechat_conversation')\n      }\n    }),\n    register = _useForm.register,\n    handleSubmit = _useForm.handleSubmit,\n    setValue = _useForm.setValue,\n    setFocus = _useForm.setFocus,\n    _useForm$formState = _useForm.formState,\n    errors = _useForm$formState.errors,\n    isSubmitting = _useForm$formState.isSubmitting;\n  useEffect(function () {\n    setFocus('subject');\n  }, [setFocus]);\n  var transcriptRequest = room.transcriptRequest;\n  var roomOpen = room === null || room === void 0 ? void 0 : room.open;\n  var token = room === null || room === void 0 ? void 0 : (_room$v = room.v) === null || _room$v === void 0 ? void 0 : _room$v.token;\n  var handleDiscard = useCallback(function () {\n    return onDiscard();\n  }, [onDiscard]);\n  var submit = useCallback(function (_ref2) {\n    var email = _ref2.email,\n      subject = _ref2.subject;\n    if (roomOpen && !transcriptRequest) {\n      onRequest(email, subject);\n    }\n    if (!roomOpen && onSend && token) {\n      onSend(email, subject, token);\n    }\n  }, [onRequest, onSend, roomOpen, token, transcriptRequest]);\n  useEffect(function () {\n    if (transcriptRequest) {\n      setValue('email', transcriptRequest.email);\n      setValue('subject', transcriptRequest.subject);\n    }\n  }, [setValue, transcriptRequest]);\n  // const canSubmit = isValid && Boolean(watch('subject'));\n  return /*#__PURE__*/React.createElement(Modal, _extends({\n    open: true,\n    wrapperFunction: function (props) {\n      return /*#__PURE__*/React.createElement(Box, _extends({\n        is: \"form\",\n        onSubmit: handleSubmit(submit)\n      }, props));\n    }\n  }, props), /*#__PURE__*/React.createElement(Modal.Header, null, /*#__PURE__*/React.createElement(Modal.Icon, {\n    name: \"mail-arrow-top-right\"\n  }), /*#__PURE__*/React.createElement(Modal.Title, null, t('Transcript')), /*#__PURE__*/React.createElement(Modal.Close, {\n    onClick: onCancel\n  })), /*#__PURE__*/React.createElement(Modal.Content, {\n    fontScale: \"p2\"\n  }, !!transcriptRequest && /*#__PURE__*/React.createElement(\"p\", null, t('Livechat_transcript_already_requested_warning')), /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, null, t('Email'), \"*\"), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextInput, _extends({\n    disabled: !!emailDefault || !!transcriptRequest,\n    error: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message,\n    flexGrow: 1\n  }, register('email', {\n    required: t('Required_field', {\n      field: t('Email')\n    })\n  })))), /*#__PURE__*/React.createElement(FieldError, null, (_errors$email2 = errors.email) === null || _errors$email2 === void 0 ? void 0 : _errors$email2.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, null, t('Subject'), \"*\"), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(TextInput, _extends({\n    disabled: !!transcriptRequest,\n    error: (_errors$subject = errors.subject) === null || _errors$subject === void 0 ? void 0 : _errors$subject.message,\n    flexGrow: 1\n  }, register('subject', {\n    required: t('Required_field', {\n      field: t('Subject')\n    })\n  })))), /*#__PURE__*/React.createElement(FieldError, null, (_errors$subject2 = errors.subject) === null || _errors$subject2 === void 0 ? void 0 : _errors$subject2.message)))), /*#__PURE__*/React.createElement(Modal.Footer, null, /*#__PURE__*/React.createElement(Modal.FooterControllers, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: onCancel\n  }, t('Cancel')), roomOpen && transcriptRequest && /*#__PURE__*/React.createElement(Button, {\n    danger: true,\n    onClick: handleDiscard\n  }, t('Undo_request')), roomOpen && !transcriptRequest && /*#__PURE__*/React.createElement(Button, {\n    \"aria-label\": \"request-button\",\n    disabled: isSubmitting,\n    loading: isSubmitting,\n    primary: true,\n    type: \"submit\"\n  }, t('Request')), !roomOpen && /*#__PURE__*/React.createElement(Button, {\n    \"aria-label\": \"send-button\",\n    disabled: isSubmitting,\n    loading: isSubmitting,\n    primary: true,\n    type: \"submit\"\n  }, t('Send')))));\n};\nmodule.exportDefault(TranscriptModal);","map":{"version":3,"names":["_extends","module","link","default","v","_objectWithoutProperties","Field","Button","TextInput","Modal","Box","FieldGroup","FieldLabel","FieldRow","FieldError","React","useCallback","useEffect","useForm","useTranslation","TranscriptModal","_ref","_room$v","_errors$email","_errors$email2","_errors$subject","_errors$subject2","_ref$email","email","emailDefault","room","onRequest","onSend","onCancel","onDiscard","props","_excluded","_useTranslation","t","_useForm","defaultValues","subject","register","handleSubmit","setValue","setFocus","_useForm$formState","formState","errors","isSubmitting","transcriptRequest","roomOpen","open","token","handleDiscard","submit","_ref2","createElement","wrapperFunction","is","onSubmit","Header","Icon","name","Title","Close","onClick","Content","fontScale","disabled","error","message","flexGrow","required","field","Footer","FooterControllers","danger","loading","primary","type","exportDefault"],"sources":["client/components/Omnichannel/modals/TranscriptModal.tsx"],"sourcesContent":["import type { IOmnichannelRoom } from '@rocket.chat/core-typings';\nimport { Field, Button, TextInput, Modal, Box, FieldGroup, FieldLabel, FieldRow, FieldError } from '@rocket.chat/fuselage';\nimport React, { useCallback, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\ntype TranscriptModalProps = {\n\temail: string;\n\troom: IOmnichannelRoom;\n\tonRequest: (email: string, subject: string) => void;\n\tonSend?: (email: string, subject: string, token: string) => void;\n\tonCancel: () => void;\n\tonDiscard: () => void;\n};\n\nconst TranscriptModal = ({ email: emailDefault = '', room, onRequest, onSend, onCancel, onDiscard, ...props }: TranscriptModalProps) => {\n\tconst { t } = useTranslation();\n\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tsetValue,\n\t\tsetFocus,\n\t\tformState: { errors, isSubmitting },\n\t} = useForm({\n\t\tdefaultValues: { email: emailDefault || '', subject: t('Transcript_of_your_livechat_conversation') },\n\t});\n\n\tuseEffect(() => {\n\t\tsetFocus('subject');\n\t}, [setFocus]);\n\n\tconst { transcriptRequest } = room;\n\tconst roomOpen = room?.open;\n\tconst token = room?.v?.token;\n\n\tconst handleDiscard = useCallback(() => onDiscard(), [onDiscard]);\n\n\tconst submit = useCallback(\n\t\t({ email, subject }: { email: string; subject: string }) => {\n\t\t\tif (roomOpen && !transcriptRequest) {\n\t\t\t\tonRequest(email, subject);\n\t\t\t}\n\t\t\tif (!roomOpen && onSend && token) {\n\t\t\t\tonSend(email, subject, token);\n\t\t\t}\n\t\t},\n\t\t[onRequest, onSend, roomOpen, token, transcriptRequest],\n\t);\n\n\tuseEffect(() => {\n\t\tif (transcriptRequest) {\n\t\t\tsetValue('email', transcriptRequest.email);\n\t\t\tsetValue('subject', transcriptRequest.subject);\n\t\t}\n\t}, [setValue, transcriptRequest]);\n\n\t// const canSubmit = isValid && Boolean(watch('subject'));\n\n\treturn (\n\t\t<Modal open wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(submit)} {...props} />} {...props}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Icon name='mail-arrow-top-right' />\n\t\t\t\t<Modal.Title>{t('Transcript')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onCancel} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content fontScale='p2'>\n\t\t\t\t{!!transcriptRequest && <p>{t('Livechat_transcript_already_requested_warning')}</p>}\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Email')}*</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tdisabled={!!emailDefault || !!transcriptRequest}\n\t\t\t\t\t\t\t\terror={errors.email?.message}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\t{...register('email', { required: t('Required_field', { field: t('Email') }) })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t<FieldError>{errors.email?.message}</FieldError>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Subject')}*</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tdisabled={!!transcriptRequest}\n\t\t\t\t\t\t\t\terror={errors.subject?.message}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\t{...register('subject', { required: t('Required_field', { field: t('Subject') }) })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t<FieldError>{errors.subject?.message}</FieldError>\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button onClick={onCancel}>{t('Cancel')}</Button>\n\t\t\t\t\t{roomOpen && transcriptRequest && (\n\t\t\t\t\t\t<Button danger onClick={handleDiscard}>\n\t\t\t\t\t\t\t{t('Undo_request')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{roomOpen && !transcriptRequest && (\n\t\t\t\t\t\t<Button aria-label='request-button' disabled={isSubmitting} loading={isSubmitting} primary type='submit'>\n\t\t\t\t\t\t\t{t('Request')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{!roomOpen && (\n\t\t\t\t\t\t<Button aria-label='send-button' disabled={isSubmitting} loading={isSubmitting} primary type='submit'>\n\t\t\t\t\t\t\t{t('Send')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default TranscriptModal;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"15fcf1cbec7d2afeb824f76df3d8b439b5d95108"}
