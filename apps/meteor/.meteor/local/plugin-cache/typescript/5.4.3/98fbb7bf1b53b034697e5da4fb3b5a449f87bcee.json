{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/customFields/EditCustomFields.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/omnichannel/customFields/EditCustomFields.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/customFields/EditCustomFields.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/customFields/EditCustomFields.tsx","sourceRoot":"","sources":["client/views/omnichannel/customFields/EditCustomFields.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ILivechatCustomField, Serialized } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tFieldError,\n\tButton,\n\tButtonGroup,\n\tField,\n\tFieldGroup,\n\tFieldLabel,\n\tFieldRow,\n\tSelect,\n\tTextInput,\n\tToggleSwitch,\n\tBox,\n} from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\nimport { FormProvider, useForm, Controller } from 'react-hook-form';\n\nimport {\n\tContextualbar,\n\tContextualbarTitle,\n\tContextualbarHeader,\n\tContextualbarClose,\n\tContextualbarFooter,\n\tContextualbarScrollableContent,\n} from '../../../components/Contextualbar';\nimport { CustomFieldsAdditionalForm } from '../additionalForms';\nimport { useRemoveCustomField } from './useRemoveCustomField';\n\nconst getInitialValues = (customFieldData: Serialized<ILivechatCustomField> | undefined) => ({\n\tfield: customFieldData?._id || '',\n\tlabel: customFieldData?.label || '',\n\tscope: customFieldData?.scope || 'visitor',\n\tvisibility: customFieldData?.visibility === 'visible',\n\tsearchable: !!customFieldData?.searchable,\n\tregexp: customFieldData?.regexp || '',\n\t// additional props\n\ttype: customFieldData?.type || 'input',\n\trequired: !!customFieldData?.required,\n\tdefaultValue: customFieldData?.defaultValue || '',\n\toptions: customFieldData?.options || '',\n\tpublic: !!customFieldData?.public,\n});\n\nconst EditCustomFields = ({ customFieldData }: { customFieldData?: Serialized<ILivechatCustomField> }) => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleDelete = useRemoveCustomField();\n\n\tconst methods = useForm({ mode: 'onBlur', values: getInitialValues(customFieldData) });\n\tconst {\n\t\tcontrol,\n\t\thandleSubmit,\n\t\tformState: { isDirty, errors },\n\t} = methods;\n\n\tconst saveCustomField = useMethod('livechat:saveCustomField');\n\n\tconst handleSave = useMutableCallback(async ({ visibility, ...data }) => {\n\t\ttry {\n\t\t\tawait saveCustomField(customFieldData?._id as unknown as string, {\n\t\t\t\tvisibility: visibility ? 'visible' : 'hidden',\n\t\t\t\t...data,\n\t\t\t});\n\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-customFields']);\n\t\t\trouter.navigate('/omnichannel/customfields');\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst scopeOptions: SelectOption[] = useMemo(\n\t\t() => [\n\t\t\t['visitor', t('Visitor')],\n\t\t\t['room', t('Room')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst formId = useUniqueId();\n\tconst fieldField = useUniqueId();\n\tconst labelField = useUniqueId();\n\tconst scopeField = useUniqueId();\n\tconst visibilityField = useUniqueId();\n\tconst searchableField = useUniqueId();\n\tconst regexpField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{customFieldData?._id ? t('Edit_Custom_Field') : t('New_Custom_Field')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/customfields')} />\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t<form id={formId} onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={fieldField} required>\n\t\t\t\t\t\t\t\t\t{t('Field')}\n\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='field'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Field') }),\n\t\t\t\t\t\t\t\t\t\t\tvalidate: (value) => (!/^[0-9a-zA-Z-_]+$/.test(value) ? t('error-invalid-custom-field-name') : undefined),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\tid={fieldField}\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly={Boolean(customFieldData?._id)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.field)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${fieldField}-error`}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t{errors?.field && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${fieldField}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.field.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={labelField} required>\n\t\t\t\t\t\t\t\t\t{t('Label')}\n\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='label'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Label') }) }}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\tid={labelField}\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.label)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${labelField}-error`}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t{errors?.label && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${labelField}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.label.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={scopeField}>{t('Scope')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='scope'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => <Select id={scopeField} {...field} options={scopeOptions} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={visibilityField}>{t('Visible')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='visibility'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => <ToggleSwitch id={visibilityField} {...field} checked={value} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={searchableField}>{t('Searchable')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='searchable'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => <ToggleSwitch id={searchableField} {...field} checked={value} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={regexpField}>{t('Validation')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller name='regexp' control={control} render={({ field }) => <TextInput id={regexpField} {...field} />} />\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t{CustomFieldsAdditionalForm && <CustomFieldsAdditionalForm />}\n\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t</form>\n\t\t\t\t</FormProvider>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/customfields')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} data-qa-id='BtnSaveEditCustomFieldsPage' primary type='submit' disabled={!isDirty}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{customFieldData?._id && (\n\t\t\t\t\t<Box mbs={8}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button icon='trash' danger onClick={() => handleDelete(customFieldData._id)}>\n\t\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default EditCustomFields;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/omnichannel/customFields/EditCustomFields.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/omnichannel/customFields/EditCustomFields.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/customFields/EditCustomFields.tsx","sourceRoot":"","sources":["client/views/omnichannel/customFields/EditCustomFields.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ILivechatCustomField, Serialized } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tFieldError,\n\tButton,\n\tButtonGroup,\n\tField,\n\tFieldGroup,\n\tFieldLabel,\n\tFieldRow,\n\tSelect,\n\tTextInput,\n\tToggleSwitch,\n\tBox,\n} from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\nimport { FormProvider, useForm, Controller } from 'react-hook-form';\n\nimport {\n\tContextualbar,\n\tContextualbarTitle,\n\tContextualbarHeader,\n\tContextualbarClose,\n\tContextualbarFooter,\n\tContextualbarScrollableContent,\n} from '../../../components/Contextualbar';\nimport { CustomFieldsAdditionalForm } from '../additionalForms';\nimport { useRemoveCustomField } from './useRemoveCustomField';\n\nconst getInitialValues = (customFieldData: Serialized<ILivechatCustomField> | undefined) => ({\n\tfield: customFieldData?._id || '',\n\tlabel: customFieldData?.label || '',\n\tscope: customFieldData?.scope || 'visitor',\n\tvisibility: customFieldData?.visibility === 'visible',\n\tsearchable: !!customFieldData?.searchable,\n\tregexp: customFieldData?.regexp || '',\n\t// additional props\n\ttype: customFieldData?.type || 'input',\n\trequired: !!customFieldData?.required,\n\tdefaultValue: customFieldData?.defaultValue || '',\n\toptions: customFieldData?.options || '',\n\tpublic: !!customFieldData?.public,\n});\n\nconst EditCustomFields = ({ customFieldData }: { customFieldData?: Serialized<ILivechatCustomField> }) => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleDelete = useRemoveCustomField();\n\n\tconst methods = useForm({ mode: 'onBlur', values: getInitialValues(customFieldData) });\n\tconst {\n\t\tcontrol,\n\t\thandleSubmit,\n\t\tformState: { isDirty, errors },\n\t} = methods;\n\n\tconst saveCustomField = useMethod('livechat:saveCustomField');\n\n\tconst handleSave = useMutableCallback(async ({ visibility, ...data }) => {\n\t\ttry {\n\t\t\tawait saveCustomField(customFieldData?._id as unknown as string, {\n\t\t\t\tvisibility: visibility ? 'visible' : 'hidden',\n\t\t\t\t...data,\n\t\t\t});\n\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-customFields']);\n\t\t\trouter.navigate('/omnichannel/customfields');\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst scopeOptions: SelectOption[] = useMemo(\n\t\t() => [\n\t\t\t['visitor', t('Visitor')],\n\t\t\t['room', t('Room')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst formId = useUniqueId();\n\tconst fieldField = useUniqueId();\n\tconst labelField = useUniqueId();\n\tconst scopeField = useUniqueId();\n\tconst visibilityField = useUniqueId();\n\tconst searchableField = useUniqueId();\n\tconst regexpField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{customFieldData?._id ? t('Edit_Custom_Field') : t('New_Custom_Field')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/customfields')} />\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t<form id={formId} onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={fieldField} required>\n\t\t\t\t\t\t\t\t\t{t('Field')}\n\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='field'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Field') }),\n\t\t\t\t\t\t\t\t\t\t\tvalidate: (value) => (!/^[0-9a-zA-Z-_]+$/.test(value) ? t('error-invalid-custom-field-name') : undefined),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\tid={fieldField}\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly={Boolean(customFieldData?._id)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.field)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${fieldField}-error`}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t{errors?.field && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${fieldField}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.field.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={labelField} required>\n\t\t\t\t\t\t\t\t\t{t('Label')}\n\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='label'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Label') }) }}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\tid={labelField}\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.label)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${labelField}-error`}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t{errors?.label && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${labelField}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.label.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={scopeField}>{t('Scope')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='scope'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => <Select id={scopeField} {...field} options={scopeOptions} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={visibilityField}>{t('Visible')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='visibility'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => <ToggleSwitch id={visibilityField} {...field} checked={value} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={searchableField}>{t('Searchable')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='searchable'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => <ToggleSwitch id={searchableField} {...field} checked={value} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={regexpField}>{t('Validation')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller name='regexp' control={control} render={({ field }) => <TextInput id={regexpField} {...field} />} />\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t{CustomFieldsAdditionalForm && <CustomFieldsAdditionalForm />}\n\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t</form>\n\t\t\t\t</FormProvider>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/customfields')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} data-qa-id='BtnSaveEditCustomFieldsPage' primary type='submit' disabled={!isDirty}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{customFieldData?._id && (\n\t\t\t\t\t<Box mbs={8}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button icon='trash' danger onClick={() => handleDelete(customFieldData._id)}>\n\t\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default EditCustomFields;\n"]}}},"code":"const _excluded = [\"visibility\"],\n  _excluded2 = [\"value\"],\n  _excluded3 = [\"value\"];\nlet _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n}, 1);\nlet _objectWithoutProperties;\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n}, 2);\nlet FieldError, Button, ButtonGroup, Field, FieldGroup, FieldLabel, FieldRow, Select, TextInput, ToggleSwitch, Box;\nmodule.link(\"@rocket.chat/fuselage\", {\n  FieldError(v) {\n    FieldError = v;\n  },\n  Button(v) {\n    Button = v;\n  },\n  ButtonGroup(v) {\n    ButtonGroup = v;\n  },\n  Field(v) {\n    Field = v;\n  },\n  FieldGroup(v) {\n    FieldGroup = v;\n  },\n  FieldLabel(v) {\n    FieldLabel = v;\n  },\n  FieldRow(v) {\n    FieldRow = v;\n  },\n  Select(v) {\n    Select = v;\n  },\n  TextInput(v) {\n    TextInput = v;\n  },\n  ToggleSwitch(v) {\n    ToggleSwitch = v;\n  },\n  Box(v) {\n    Box = v;\n  }\n}, 0);\nlet useMutableCallback, useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  },\n  useUniqueId(v) {\n    useUniqueId = v;\n  }\n}, 1);\nlet useToastMessageDispatch, useMethod, useTranslation, useRouter;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch(v) {\n    useToastMessageDispatch = v;\n  },\n  useMethod(v) {\n    useMethod = v;\n  },\n  useTranslation(v) {\n    useTranslation = v;\n  },\n  useRouter(v) {\n    useRouter = v;\n  }\n}, 2);\nlet useQueryClient;\nmodule.link(\"@tanstack/react-query\", {\n  useQueryClient(v) {\n    useQueryClient = v;\n  }\n}, 3);\nlet React, useMemo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  }\n}, 4);\nlet FormProvider, useForm, Controller;\nmodule.link(\"react-hook-form\", {\n  FormProvider(v) {\n    FormProvider = v;\n  },\n  useForm(v) {\n    useForm = v;\n  },\n  Controller(v) {\n    Controller = v;\n  }\n}, 5);\nlet Contextualbar, ContextualbarTitle, ContextualbarHeader, ContextualbarClose, ContextualbarFooter, ContextualbarScrollableContent;\nmodule.link(\"../../../components/Contextualbar\", {\n  Contextualbar(v) {\n    Contextualbar = v;\n  },\n  ContextualbarTitle(v) {\n    ContextualbarTitle = v;\n  },\n  ContextualbarHeader(v) {\n    ContextualbarHeader = v;\n  },\n  ContextualbarClose(v) {\n    ContextualbarClose = v;\n  },\n  ContextualbarFooter(v) {\n    ContextualbarFooter = v;\n  },\n  ContextualbarScrollableContent(v) {\n    ContextualbarScrollableContent = v;\n  }\n}, 6);\nlet CustomFieldsAdditionalForm;\nmodule.link(\"../additionalForms\", {\n  CustomFieldsAdditionalForm(v) {\n    CustomFieldsAdditionalForm = v;\n  }\n}, 7);\nlet useRemoveCustomField;\nmodule.link(\"./useRemoveCustomField\", {\n  useRemoveCustomField(v) {\n    useRemoveCustomField = v;\n  }\n}, 8);\nconst getInitialValues = customFieldData => ({\n  field: (customFieldData === null || customFieldData === void 0 ? void 0 : customFieldData._id) || '',\n  label: (customFieldData === null || customFieldData === void 0 ? void 0 : customFieldData.label) || '',\n  scope: (customFieldData === null || customFieldData === void 0 ? void 0 : customFieldData.scope) || 'visitor',\n  visibility: (customFieldData === null || customFieldData === void 0 ? void 0 : customFieldData.visibility) === 'visible',\n  searchable: !!(customFieldData !== null && customFieldData !== void 0 && customFieldData.searchable),\n  regexp: (customFieldData === null || customFieldData === void 0 ? void 0 : customFieldData.regexp) || '',\n  // additional props\n  type: (customFieldData === null || customFieldData === void 0 ? void 0 : customFieldData.type) || 'input',\n  required: !!(customFieldData !== null && customFieldData !== void 0 && customFieldData.required),\n  defaultValue: (customFieldData === null || customFieldData === void 0 ? void 0 : customFieldData.defaultValue) || '',\n  options: (customFieldData === null || customFieldData === void 0 ? void 0 : customFieldData.options) || '',\n  public: !!(customFieldData !== null && customFieldData !== void 0 && customFieldData.public)\n});\nconst EditCustomFields = _ref => {\n  let {\n    customFieldData\n  } = _ref;\n  const t = useTranslation();\n  const router = useRouter();\n  const queryClient = useQueryClient();\n  const dispatchToastMessage = useToastMessageDispatch();\n  const handleDelete = useRemoveCustomField();\n  const methods = useForm({\n    mode: 'onBlur',\n    values: getInitialValues(customFieldData)\n  });\n  const {\n    control,\n    handleSubmit,\n    formState: {\n      isDirty,\n      errors\n    }\n  } = methods;\n  const saveCustomField = useMethod('livechat:saveCustomField');\n  const handleSave = useMutableCallback(async _ref2 => {\n    let {\n        visibility\n      } = _ref2,\n      data = _objectWithoutProperties(_ref2, _excluded);\n    try {\n      await saveCustomField(customFieldData === null || customFieldData === void 0 ? void 0 : customFieldData._id, _objectSpread({\n        visibility: visibility ? 'visible' : 'hidden'\n      }, data));\n      dispatchToastMessage({\n        type: 'success',\n        message: t('Saved')\n      });\n      queryClient.invalidateQueries(['livechat-customFields']);\n      router.navigate('/omnichannel/customfields');\n    } catch (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    }\n  });\n  const scopeOptions = useMemo(() => [['visitor', t('Visitor')], ['room', t('Room')]], [t]);\n  const formId = useUniqueId();\n  const fieldField = useUniqueId();\n  const labelField = useUniqueId();\n  const scopeField = useUniqueId();\n  const visibilityField = useUniqueId();\n  const searchableField = useUniqueId();\n  const regexpField = useUniqueId();\n  return /*#__PURE__*/React.createElement(Contextualbar, null, /*#__PURE__*/React.createElement(ContextualbarHeader, null, /*#__PURE__*/React.createElement(ContextualbarTitle, null, customFieldData !== null && customFieldData !== void 0 && customFieldData._id ? t('Edit_Custom_Field') : t('New_Custom_Field')), /*#__PURE__*/React.createElement(ContextualbarClose, {\n    onClick: () => router.navigate('/omnichannel/customfields')\n  })), /*#__PURE__*/React.createElement(ContextualbarScrollableContent, null, /*#__PURE__*/React.createElement(FormProvider, methods, /*#__PURE__*/React.createElement(\"form\", {\n    id: formId,\n    onSubmit: handleSubmit(handleSave)\n  }, /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: fieldField,\n    required: true\n  }, t('Field')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"field\",\n    control: control,\n    rules: {\n      required: t('Required_field', {\n        field: t('Field')\n      }),\n      validate: value => !/^[0-9a-zA-Z-_]+$/.test(value) ? t('error-invalid-custom-field-name') : undefined\n    },\n    render: _ref3 => {\n      let {\n        field\n      } = _ref3;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({\n        id: fieldField\n      }, field, {\n        readOnly: Boolean(customFieldData === null || customFieldData === void 0 ? void 0 : customFieldData._id),\n        \"aria-required\": true,\n        \"aria-invalid\": Boolean(errors.field),\n        \"aria-describedby\": \"\".concat(fieldField, \"-error\")\n      }));\n    }\n  })), (errors === null || errors === void 0 ? void 0 : errors.field) && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: \"\".concat(fieldField, \"-error\")\n  }, errors.field.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: labelField,\n    required: true\n  }, t('Label')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"label\",\n    control: control,\n    rules: {\n      required: t('Required_field', {\n        field: t('Label')\n      })\n    },\n    render: _ref4 => {\n      let {\n        field\n      } = _ref4;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({\n        id: labelField\n      }, field, {\n        \"aria-required\": true,\n        \"aria-invalid\": Boolean(errors.label),\n        \"aria-describedby\": \"\".concat(labelField, \"-error\")\n      }));\n    }\n  })), (errors === null || errors === void 0 ? void 0 : errors.label) && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: \"\".concat(labelField, \"-error\")\n  }, errors.label.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: scopeField\n  }, t('Scope')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"scope\",\n    control: control,\n    render: _ref5 => {\n      let {\n        field\n      } = _ref5;\n      return /*#__PURE__*/React.createElement(Select, _extends({\n        id: scopeField\n      }, field, {\n        options: scopeOptions\n      }));\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: visibilityField\n  }, t('Visible')), /*#__PURE__*/React.createElement(Controller, {\n    name: \"visibility\",\n    control: control,\n    render: _ref6 => {\n      let {\n          field: {\n            value\n          }\n        } = _ref6,\n        field = _objectWithoutProperties(_ref6.field, _excluded2);\n      return /*#__PURE__*/React.createElement(ToggleSwitch, _extends({\n        id: visibilityField\n      }, field, {\n        checked: value\n      }));\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: searchableField\n  }, t('Searchable')), /*#__PURE__*/React.createElement(Controller, {\n    name: \"searchable\",\n    control: control,\n    render: _ref7 => {\n      let {\n          field: {\n            value\n          }\n        } = _ref7,\n        field = _objectWithoutProperties(_ref7.field, _excluded3);\n      return /*#__PURE__*/React.createElement(ToggleSwitch, _extends({\n        id: searchableField\n      }, field, {\n        checked: value\n      }));\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: regexpField\n  }, t('Validation')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"regexp\",\n    control: control,\n    render: _ref8 => {\n      let {\n        field\n      } = _ref8;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({\n        id: regexpField\n      }, field));\n    }\n  }))), CustomFieldsAdditionalForm && /*#__PURE__*/React.createElement(CustomFieldsAdditionalForm, null))))), /*#__PURE__*/React.createElement(ContextualbarFooter, null, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => router.navigate('/omnichannel/customfields')\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    form: formId,\n    \"data-qa-id\": \"BtnSaveEditCustomFieldsPage\",\n    primary: true,\n    type: \"submit\",\n    disabled: !isDirty\n  }, t('Save'))), (customFieldData === null || customFieldData === void 0 ? void 0 : customFieldData._id) && /*#__PURE__*/React.createElement(Box, {\n    mbs: 8\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    icon: \"trash\",\n    danger: true,\n    onClick: () => handleDelete(customFieldData._id)\n  }, t('Delete'))))));\n};\nmodule.exportDefault(EditCustomFields);","map":{"version":3,"names":["_extends","module","link","default","v","_objectSpread","_objectWithoutProperties","FieldError","Button","ButtonGroup","Field","FieldGroup","FieldLabel","FieldRow","Select","TextInput","ToggleSwitch","Box","useMutableCallback","useUniqueId","useToastMessageDispatch","useMethod","useTranslation","useRouter","useQueryClient","React","useMemo","FormProvider","useForm","Controller","Contextualbar","ContextualbarTitle","ContextualbarHeader","ContextualbarClose","ContextualbarFooter","ContextualbarScrollableContent","CustomFieldsAdditionalForm","useRemoveCustomField","getInitialValues","customFieldData","field","_id","label","scope","visibility","searchable","regexp","type","required","defaultValue","options","public","EditCustomFields","_ref","t","router","queryClient","dispatchToastMessage","handleDelete","methods","mode","values","control","handleSubmit","formState","isDirty","errors","saveCustomField","handleSave","_ref2","data","_excluded","message","invalidateQueries","navigate","error","scopeOptions","formId","fieldField","labelField","scopeField","visibilityField","searchableField","regexpField","createElement","onClick","id","onSubmit","htmlFor","name","rules","validate","value","test","undefined","render","_ref3","readOnly","Boolean","concat","_ref4","_ref5","_ref6","_excluded2","checked","_ref7","_excluded3","_ref8","stretch","form","primary","disabled","mbs","icon","danger","exportDefault"],"sources":["client/views/omnichannel/customFields/EditCustomFields.tsx"],"sourcesContent":["import type { ILivechatCustomField, Serialized } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tFieldError,\n\tButton,\n\tButtonGroup,\n\tField,\n\tFieldGroup,\n\tFieldLabel,\n\tFieldRow,\n\tSelect,\n\tTextInput,\n\tToggleSwitch,\n\tBox,\n} from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useMethod, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\nimport { FormProvider, useForm, Controller } from 'react-hook-form';\n\nimport {\n\tContextualbar,\n\tContextualbarTitle,\n\tContextualbarHeader,\n\tContextualbarClose,\n\tContextualbarFooter,\n\tContextualbarScrollableContent,\n} from '../../../components/Contextualbar';\nimport { CustomFieldsAdditionalForm } from '../additionalForms';\nimport { useRemoveCustomField } from './useRemoveCustomField';\n\nconst getInitialValues = (customFieldData: Serialized<ILivechatCustomField> | undefined) => ({\n\tfield: customFieldData?._id || '',\n\tlabel: customFieldData?.label || '',\n\tscope: customFieldData?.scope || 'visitor',\n\tvisibility: customFieldData?.visibility === 'visible',\n\tsearchable: !!customFieldData?.searchable,\n\tregexp: customFieldData?.regexp || '',\n\t// additional props\n\ttype: customFieldData?.type || 'input',\n\trequired: !!customFieldData?.required,\n\tdefaultValue: customFieldData?.defaultValue || '',\n\toptions: customFieldData?.options || '',\n\tpublic: !!customFieldData?.public,\n});\n\nconst EditCustomFields = ({ customFieldData }: { customFieldData?: Serialized<ILivechatCustomField> }) => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleDelete = useRemoveCustomField();\n\n\tconst methods = useForm({ mode: 'onBlur', values: getInitialValues(customFieldData) });\n\tconst {\n\t\tcontrol,\n\t\thandleSubmit,\n\t\tformState: { isDirty, errors },\n\t} = methods;\n\n\tconst saveCustomField = useMethod('livechat:saveCustomField');\n\n\tconst handleSave = useMutableCallback(async ({ visibility, ...data }) => {\n\t\ttry {\n\t\t\tawait saveCustomField(customFieldData?._id as unknown as string, {\n\t\t\t\tvisibility: visibility ? 'visible' : 'hidden',\n\t\t\t\t...data,\n\t\t\t});\n\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-customFields']);\n\t\t\trouter.navigate('/omnichannel/customfields');\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst scopeOptions: SelectOption[] = useMemo(\n\t\t() => [\n\t\t\t['visitor', t('Visitor')],\n\t\t\t['room', t('Room')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst formId = useUniqueId();\n\tconst fieldField = useUniqueId();\n\tconst labelField = useUniqueId();\n\tconst scopeField = useUniqueId();\n\tconst visibilityField = useUniqueId();\n\tconst searchableField = useUniqueId();\n\tconst regexpField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{customFieldData?._id ? t('Edit_Custom_Field') : t('New_Custom_Field')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/customfields')} />\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t<form id={formId} onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={fieldField} required>\n\t\t\t\t\t\t\t\t\t{t('Field')}\n\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='field'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\t\trequired: t('Required_field', { field: t('Field') }),\n\t\t\t\t\t\t\t\t\t\t\tvalidate: (value) => (!/^[0-9a-zA-Z-_]+$/.test(value) ? t('error-invalid-custom-field-name') : undefined),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\tid={fieldField}\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly={Boolean(customFieldData?._id)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.field)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${fieldField}-error`}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t{errors?.field && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${fieldField}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.field.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={labelField} required>\n\t\t\t\t\t\t\t\t\t{t('Label')}\n\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='label'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Label') }) }}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\tid={labelField}\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.label)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${labelField}-error`}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t{errors?.label && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${labelField}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.label.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={scopeField}>{t('Scope')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='scope'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => <Select id={scopeField} {...field} options={scopeOptions} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={visibilityField}>{t('Visible')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='visibility'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => <ToggleSwitch id={visibilityField} {...field} checked={value} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={searchableField}>{t('Searchable')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='searchable'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => <ToggleSwitch id={searchableField} {...field} checked={value} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={regexpField}>{t('Validation')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller name='regexp' control={control} render={({ field }) => <TextInput id={regexpField} {...field} />} />\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t{CustomFieldsAdditionalForm && <CustomFieldsAdditionalForm />}\n\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t</form>\n\t\t\t\t</FormProvider>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/customfields')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} data-qa-id='BtnSaveEditCustomFieldsPage' primary type='submit' disabled={!isDirty}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{customFieldData?._id && (\n\t\t\t\t\t<Box mbs={8}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button icon='trash' danger onClick={() => handleDelete(customFieldData._id)}>\n\t\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default EditCustomFields;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"98fbb7bf1b53b034697e5da4fb3b5a449f87bcee"}
