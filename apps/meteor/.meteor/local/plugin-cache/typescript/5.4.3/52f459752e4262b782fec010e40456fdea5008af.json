{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/MessageList/providers/MessageListProvider.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/room/MessageList/providers/MessageListProvider.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/MessageList/providers/MessageListProvider.tsx","inputSourceMap":{"version":3,"file":"client/views/room/MessageList/providers/MessageListProvider.tsx","sourceRoot":"","sources":["client/views/room/MessageList/providers/MessageListProvider.tsx"],"names":[],"mappings":"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","sourcesContent":["import { isThreadMainMessage } from '@rocket.chat/core-typings';\nimport { useLayout, useUser, useUserPreference, useSetting, useEndpoint, useSearchParameter } from '@rocket.chat/ui-contexts';\nimport type { ReactNode } from 'react';\nimport React, { useMemo, memo } from 'react';\n\nimport { getRegexHighlight, getRegexHighlightUrl } from '../../../../../app/highlight-words/client/helper';\nimport type { MessageListContextValue } from '../../../../components/message/list/MessageListContext';\nimport { MessageListContext } from '../../../../components/message/list/MessageListContext';\nimport AttachmentProvider from '../../../../providers/AttachmentProvider';\nimport { useChat } from '../../contexts/ChatContext';\nimport { useRoom, useRoomSubscription } from '../../contexts/RoomContext';\nimport { useAutoTranslate } from '../hooks/useAutoTranslate';\nimport { useKatex } from '../hooks/useKatex';\nimport { useLoadSurroundingMessages } from '../hooks/useLoadSurroundingMessages';\n\ntype MessageListProviderProps = {\n\tchildren: ReactNode;\n\tmessageListRef?: React.RefObject<HTMLElement>;\n\tattachmentDimension?: {\n\t\twidth?: number;\n\t\theight?: number;\n\t};\n};\n\nconst MessageListProvider = ({ children, messageListRef, attachmentDimension }: MessageListProviderProps) => {\n\tconst room = useRoom();\n\n\tif (!room) {\n\t\tthrow new Error('Room not found');\n\t}\n\n\tconst reactToMessage = useEndpoint('POST', '/v1/chat.react');\n\tconst user = useUser();\n\tconst uid = user?._id;\n\tconst username = user?.username;\n\tconst subscription = useRoomSubscription();\n\n\tconst { isMobile } = useLayout();\n\n\tconst showRealName = Boolean(useSetting('UI_Use_Real_Name'));\n\tconst showColors = useSetting('HexColorPreview_Enabled') as boolean;\n\n\tconst displayRolesGlobal = Boolean(useSetting('UI_DisplayRoles'));\n\tconst hideRolesPreference = Boolean(!useUserPreference<boolean>('hideRoles') && !isMobile);\n\tconst showRoles = displayRolesGlobal && hideRolesPreference;\n\tconst showUsername = Boolean(!useUserPreference<boolean>('hideUsernames') && !isMobile);\n\tconst highlights = useUserPreference<string[]>('highlights');\n\n\tconst { showAutoTranslate, autoTranslateLanguage } = useAutoTranslate(subscription);\n\tconst { katexEnabled, katexDollarSyntaxEnabled, katexParenthesisSyntaxEnabled } = useKatex();\n\n\tconst hasSubscription = Boolean(subscription);\n\tconst msgParameter = useSearchParameter('msg');\n\n\tuseLoadSurroundingMessages(msgParameter);\n\n\tconst chat = useChat();\n\n\tconst context: MessageListContextValue = useMemo(\n\t\t() => ({\n\t\t\tshowColors,\n\t\t\tuseUserHasReacted: username\n\t\t\t\t? (message) =>\n\t\t\t\t\t\t(reaction): boolean =>\n\t\t\t\t\t\t\tBoolean(message.reactions?.[reaction].usernames.includes(username))\n\t\t\t\t: () => (): boolean => false,\n\t\t\tuseShowFollowing: uid\n\t\t\t\t? ({ message }): boolean => Boolean(message.replies && message.replies.indexOf(uid) > -1 && !isThreadMainMessage(message))\n\t\t\t\t: (): boolean => false,\n\t\t\tautoTranslateLanguage,\n\t\t\tuseShowTranslated: showAutoTranslate,\n\t\t\tuseShowStarred: hasSubscription\n\t\t\t\t? ({ message }): boolean => Boolean(Array.isArray(message.starred) && message.starred.find((star) => star._id === uid))\n\t\t\t\t: (): boolean => false,\n\t\t\tuseMessageDateFormatter:\n\t\t\t\t() =>\n\t\t\t\t(date: Date): string =>\n\t\t\t\t\tdate.toLocaleString(),\n\t\t\tshowRoles,\n\t\t\tshowRealName,\n\t\t\tshowUsername,\n\t\t\tmessageListRef,\n\t\t\tjumpToMessageParam: msgParameter,\n\t\t\t...(katexEnabled && {\n\t\t\t\tkatex: {\n\t\t\t\t\tdollarSyntaxEnabled: katexDollarSyntaxEnabled,\n\t\t\t\t\tparenthesisSyntaxEnabled: katexParenthesisSyntaxEnabled,\n\t\t\t\t},\n\t\t\t}),\n\t\t\thighlights: highlights\n\t\t\t\t?.map((str) => str.trim())\n\t\t\t\t.map((highlight) => ({\n\t\t\t\t\thighlight,\n\t\t\t\t\tregex: getRegexHighlight(highlight),\n\t\t\t\t\turlRegex: getRegexHighlightUrl(highlight),\n\t\t\t\t})),\n\n\t\t\tuseOpenEmojiPicker: uid\n\t\t\t\t? (message) =>\n\t\t\t\t\t\t(e): void => {\n\t\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation();\n\t\t\t\t\t\t\tchat?.emojiPicker.open(e.currentTarget, (emoji: string) => reactToMessage({ messageId: message._id, reaction: emoji }));\n\t\t\t\t\t\t}\n\t\t\t\t: () => (): void => undefined,\n\t\t\tusername,\n\t\t}),\n\t\t[\n\t\t\tusername,\n\t\t\tuid,\n\t\t\tshowAutoTranslate,\n\t\t\thasSubscription,\n\t\t\tautoTranslateLanguage,\n\t\t\tshowRoles,\n\t\t\tshowRealName,\n\t\t\tshowUsername,\n\t\t\tkatexEnabled,\n\t\t\tkatexDollarSyntaxEnabled,\n\t\t\tkatexParenthesisSyntaxEnabled,\n\t\t\thighlights,\n\t\t\treactToMessage,\n\t\t\tshowColors,\n\t\t\tmsgParameter,\n\t\t\tmessageListRef,\n\t\t\tchat?.emojiPicker,\n\t\t],\n\t);\n\n\treturn (\n\t\t<AttachmentProvider width={attachmentDimension?.width} height={attachmentDimension?.height}>\n\t\t\t<MessageListContext.Provider value={context}>{children}</MessageListContext.Provider>\n\t\t</AttachmentProvider>\n\t);\n};\n\nexport default memo(MessageListProvider);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/room/MessageList/providers/MessageListProvider.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/MessageList/providers/MessageListProvider.tsx","inputSourceMap":{"version":3,"file":"client/views/room/MessageList/providers/MessageListProvider.tsx","sourceRoot":"","sources":["client/views/room/MessageList/providers/MessageListProvider.tsx"],"names":[],"mappings":"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","sourcesContent":["import { isThreadMainMessage } from '@rocket.chat/core-typings';\nimport { useLayout, useUser, useUserPreference, useSetting, useEndpoint, useSearchParameter } from '@rocket.chat/ui-contexts';\nimport type { ReactNode } from 'react';\nimport React, { useMemo, memo } from 'react';\n\nimport { getRegexHighlight, getRegexHighlightUrl } from '../../../../../app/highlight-words/client/helper';\nimport type { MessageListContextValue } from '../../../../components/message/list/MessageListContext';\nimport { MessageListContext } from '../../../../components/message/list/MessageListContext';\nimport AttachmentProvider from '../../../../providers/AttachmentProvider';\nimport { useChat } from '../../contexts/ChatContext';\nimport { useRoom, useRoomSubscription } from '../../contexts/RoomContext';\nimport { useAutoTranslate } from '../hooks/useAutoTranslate';\nimport { useKatex } from '../hooks/useKatex';\nimport { useLoadSurroundingMessages } from '../hooks/useLoadSurroundingMessages';\n\ntype MessageListProviderProps = {\n\tchildren: ReactNode;\n\tmessageListRef?: React.RefObject<HTMLElement>;\n\tattachmentDimension?: {\n\t\twidth?: number;\n\t\theight?: number;\n\t};\n};\n\nconst MessageListProvider = ({ children, messageListRef, attachmentDimension }: MessageListProviderProps) => {\n\tconst room = useRoom();\n\n\tif (!room) {\n\t\tthrow new Error('Room not found');\n\t}\n\n\tconst reactToMessage = useEndpoint('POST', '/v1/chat.react');\n\tconst user = useUser();\n\tconst uid = user?._id;\n\tconst username = user?.username;\n\tconst subscription = useRoomSubscription();\n\n\tconst { isMobile } = useLayout();\n\n\tconst showRealName = Boolean(useSetting('UI_Use_Real_Name'));\n\tconst showColors = useSetting('HexColorPreview_Enabled') as boolean;\n\n\tconst displayRolesGlobal = Boolean(useSetting('UI_DisplayRoles'));\n\tconst hideRolesPreference = Boolean(!useUserPreference<boolean>('hideRoles') && !isMobile);\n\tconst showRoles = displayRolesGlobal && hideRolesPreference;\n\tconst showUsername = Boolean(!useUserPreference<boolean>('hideUsernames') && !isMobile);\n\tconst highlights = useUserPreference<string[]>('highlights');\n\n\tconst { showAutoTranslate, autoTranslateLanguage } = useAutoTranslate(subscription);\n\tconst { katexEnabled, katexDollarSyntaxEnabled, katexParenthesisSyntaxEnabled } = useKatex();\n\n\tconst hasSubscription = Boolean(subscription);\n\tconst msgParameter = useSearchParameter('msg');\n\n\tuseLoadSurroundingMessages(msgParameter);\n\n\tconst chat = useChat();\n\n\tconst context: MessageListContextValue = useMemo(\n\t\t() => ({\n\t\t\tshowColors,\n\t\t\tuseUserHasReacted: username\n\t\t\t\t? (message) =>\n\t\t\t\t\t\t(reaction): boolean =>\n\t\t\t\t\t\t\tBoolean(message.reactions?.[reaction].usernames.includes(username))\n\t\t\t\t: () => (): boolean => false,\n\t\t\tuseShowFollowing: uid\n\t\t\t\t? ({ message }): boolean => Boolean(message.replies && message.replies.indexOf(uid) > -1 && !isThreadMainMessage(message))\n\t\t\t\t: (): boolean => false,\n\t\t\tautoTranslateLanguage,\n\t\t\tuseShowTranslated: showAutoTranslate,\n\t\t\tuseShowStarred: hasSubscription\n\t\t\t\t? ({ message }): boolean => Boolean(Array.isArray(message.starred) && message.starred.find((star) => star._id === uid))\n\t\t\t\t: (): boolean => false,\n\t\t\tuseMessageDateFormatter:\n\t\t\t\t() =>\n\t\t\t\t(date: Date): string =>\n\t\t\t\t\tdate.toLocaleString(),\n\t\t\tshowRoles,\n\t\t\tshowRealName,\n\t\t\tshowUsername,\n\t\t\tmessageListRef,\n\t\t\tjumpToMessageParam: msgParameter,\n\t\t\t...(katexEnabled && {\n\t\t\t\tkatex: {\n\t\t\t\t\tdollarSyntaxEnabled: katexDollarSyntaxEnabled,\n\t\t\t\t\tparenthesisSyntaxEnabled: katexParenthesisSyntaxEnabled,\n\t\t\t\t},\n\t\t\t}),\n\t\t\thighlights: highlights\n\t\t\t\t?.map((str) => str.trim())\n\t\t\t\t.map((highlight) => ({\n\t\t\t\t\thighlight,\n\t\t\t\t\tregex: getRegexHighlight(highlight),\n\t\t\t\t\turlRegex: getRegexHighlightUrl(highlight),\n\t\t\t\t})),\n\n\t\t\tuseOpenEmojiPicker: uid\n\t\t\t\t? (message) =>\n\t\t\t\t\t\t(e): void => {\n\t\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation();\n\t\t\t\t\t\t\tchat?.emojiPicker.open(e.currentTarget, (emoji: string) => reactToMessage({ messageId: message._id, reaction: emoji }));\n\t\t\t\t\t\t}\n\t\t\t\t: () => (): void => undefined,\n\t\t\tusername,\n\t\t}),\n\t\t[\n\t\t\tusername,\n\t\t\tuid,\n\t\t\tshowAutoTranslate,\n\t\t\thasSubscription,\n\t\t\tautoTranslateLanguage,\n\t\t\tshowRoles,\n\t\t\tshowRealName,\n\t\t\tshowUsername,\n\t\t\tkatexEnabled,\n\t\t\tkatexDollarSyntaxEnabled,\n\t\t\tkatexParenthesisSyntaxEnabled,\n\t\t\thighlights,\n\t\t\treactToMessage,\n\t\t\tshowColors,\n\t\t\tmsgParameter,\n\t\t\tmessageListRef,\n\t\t\tchat?.emojiPicker,\n\t\t],\n\t);\n\n\treturn (\n\t\t<AttachmentProvider width={attachmentDimension?.width} height={attachmentDimension?.height}>\n\t\t\t<MessageListContext.Provider value={context}>{children}</MessageListContext.Provider>\n\t\t</AttachmentProvider>\n\t);\n};\n\nexport default memo(MessageListProvider);\n"]}}},"code":"var _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar isThreadMainMessage;\nmodule.link(\"@rocket.chat/core-typings\", {\n  isThreadMainMessage: function (v) {\n    isThreadMainMessage = v;\n  }\n}, 0);\nvar useLayout, useUser, useUserPreference, useSetting, useEndpoint, useSearchParameter;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useLayout: function (v) {\n    useLayout = v;\n  },\n  useUser: function (v) {\n    useUser = v;\n  },\n  useUserPreference: function (v) {\n    useUserPreference = v;\n  },\n  useSetting: function (v) {\n    useSetting = v;\n  },\n  useEndpoint: function (v) {\n    useEndpoint = v;\n  },\n  useSearchParameter: function (v) {\n    useSearchParameter = v;\n  }\n}, 1);\nvar React, useMemo, memo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  memo: function (v) {\n    memo = v;\n  }\n}, 2);\nvar getRegexHighlight, getRegexHighlightUrl;\nmodule.link(\"../../../../../app/highlight-words/client/helper\", {\n  getRegexHighlight: function (v) {\n    getRegexHighlight = v;\n  },\n  getRegexHighlightUrl: function (v) {\n    getRegexHighlightUrl = v;\n  }\n}, 3);\nvar MessageListContext;\nmodule.link(\"../../../../components/message/list/MessageListContext\", {\n  MessageListContext: function (v) {\n    MessageListContext = v;\n  }\n}, 4);\nvar AttachmentProvider;\nmodule.link(\"../../../../providers/AttachmentProvider\", {\n  \"default\": function (v) {\n    AttachmentProvider = v;\n  }\n}, 5);\nvar useChat;\nmodule.link(\"../../contexts/ChatContext\", {\n  useChat: function (v) {\n    useChat = v;\n  }\n}, 6);\nvar useRoom, useRoomSubscription;\nmodule.link(\"../../contexts/RoomContext\", {\n  useRoom: function (v) {\n    useRoom = v;\n  },\n  useRoomSubscription: function (v) {\n    useRoomSubscription = v;\n  }\n}, 7);\nvar useAutoTranslate;\nmodule.link(\"../hooks/useAutoTranslate\", {\n  useAutoTranslate: function (v) {\n    useAutoTranslate = v;\n  }\n}, 8);\nvar useKatex;\nmodule.link(\"../hooks/useKatex\", {\n  useKatex: function (v) {\n    useKatex = v;\n  }\n}, 9);\nvar useLoadSurroundingMessages;\nmodule.link(\"../hooks/useLoadSurroundingMessages\", {\n  useLoadSurroundingMessages: function (v) {\n    useLoadSurroundingMessages = v;\n  }\n}, 10);\nvar MessageListProvider = function (_ref) {\n  var children = _ref.children,\n    messageListRef = _ref.messageListRef,\n    attachmentDimension = _ref.attachmentDimension;\n  var room = useRoom();\n  if (!room) {\n    throw new Error('Room not found');\n  }\n  var reactToMessage = useEndpoint('POST', '/v1/chat.react');\n  var user = useUser();\n  var uid = user === null || user === void 0 ? void 0 : user._id;\n  var username = user === null || user === void 0 ? void 0 : user.username;\n  var subscription = useRoomSubscription();\n  var _useLayout = useLayout(),\n    isMobile = _useLayout.isMobile;\n  var showRealName = Boolean(useSetting('UI_Use_Real_Name'));\n  var showColors = useSetting('HexColorPreview_Enabled');\n  var displayRolesGlobal = Boolean(useSetting('UI_DisplayRoles'));\n  var hideRolesPreference = Boolean(!useUserPreference('hideRoles') && !isMobile);\n  var showRoles = displayRolesGlobal && hideRolesPreference;\n  var showUsername = Boolean(!useUserPreference('hideUsernames') && !isMobile);\n  var highlights = useUserPreference('highlights');\n  var _useAutoTranslate = useAutoTranslate(subscription),\n    showAutoTranslate = _useAutoTranslate.showAutoTranslate,\n    autoTranslateLanguage = _useAutoTranslate.autoTranslateLanguage;\n  var _useKatex = useKatex(),\n    katexEnabled = _useKatex.katexEnabled,\n    katexDollarSyntaxEnabled = _useKatex.katexDollarSyntaxEnabled,\n    katexParenthesisSyntaxEnabled = _useKatex.katexParenthesisSyntaxEnabled;\n  var hasSubscription = Boolean(subscription);\n  var msgParameter = useSearchParameter('msg');\n  useLoadSurroundingMessages(msgParameter);\n  var chat = useChat();\n  var context = useMemo(function () {\n    return _objectSpread(_objectSpread({\n      showColors: showColors,\n      useUserHasReacted: username ? function (message) {\n        return function (reaction) {\n          var _message$reactions;\n          return Boolean((_message$reactions = message.reactions) === null || _message$reactions === void 0 ? void 0 : _message$reactions[reaction].usernames.includes(username));\n        };\n      } : function () {\n        return function () {\n          return false;\n        };\n      },\n      useShowFollowing: uid ? function (_ref2) {\n        var message = _ref2.message;\n        return Boolean(message.replies && message.replies.indexOf(uid) > -1 && !isThreadMainMessage(message));\n      } : function () {\n        return false;\n      },\n      autoTranslateLanguage: autoTranslateLanguage,\n      useShowTranslated: showAutoTranslate,\n      useShowStarred: hasSubscription ? function (_ref3) {\n        var message = _ref3.message;\n        return Boolean(Array.isArray(message.starred) && message.starred.find(function (star) {\n          return star._id === uid;\n        }));\n      } : function () {\n        return false;\n      },\n      useMessageDateFormatter: function () {\n        return function (date) {\n          return date.toLocaleString();\n        };\n      },\n      showRoles: showRoles,\n      showRealName: showRealName,\n      showUsername: showUsername,\n      messageListRef: messageListRef,\n      jumpToMessageParam: msgParameter\n    }, katexEnabled && {\n      katex: {\n        dollarSyntaxEnabled: katexDollarSyntaxEnabled,\n        parenthesisSyntaxEnabled: katexParenthesisSyntaxEnabled\n      }\n    }), {}, {\n      highlights: highlights === null || highlights === void 0 ? void 0 : highlights.map(function (str) {\n        return str.trim();\n      }).map(function (highlight) {\n        return {\n          highlight: highlight,\n          regex: getRegexHighlight(highlight),\n          urlRegex: getRegexHighlightUrl(highlight)\n        };\n      }),\n      useOpenEmojiPicker: uid ? function (message) {\n        return function (e) {\n          e.nativeEvent.stopImmediatePropagation();\n          chat === null || chat === void 0 ? void 0 : chat.emojiPicker.open(e.currentTarget, function (emoji) {\n            return reactToMessage({\n              messageId: message._id,\n              reaction: emoji\n            });\n          });\n        };\n      } : function () {\n        return function () {\n          return undefined;\n        };\n      },\n      username: username\n    });\n  }, [username, uid, showAutoTranslate, hasSubscription, autoTranslateLanguage, showRoles, showRealName, showUsername, katexEnabled, katexDollarSyntaxEnabled, katexParenthesisSyntaxEnabled, highlights, reactToMessage, showColors, msgParameter, messageListRef, chat === null || chat === void 0 ? void 0 : chat.emojiPicker]);\n  return /*#__PURE__*/React.createElement(AttachmentProvider, {\n    width: attachmentDimension === null || attachmentDimension === void 0 ? void 0 : attachmentDimension.width,\n    height: attachmentDimension === null || attachmentDimension === void 0 ? void 0 : attachmentDimension.height\n  }, /*#__PURE__*/React.createElement(MessageListContext.Provider, {\n    value: context\n  }, children));\n};\nmodule.exportDefault( /*#__PURE__*/memo(MessageListProvider));","map":{"version":3,"names":["_objectSpread","module","link","default","v","isThreadMainMessage","useLayout","useUser","useUserPreference","useSetting","useEndpoint","useSearchParameter","React","useMemo","memo","getRegexHighlight","getRegexHighlightUrl","MessageListContext","AttachmentProvider","useChat","useRoom","useRoomSubscription","useAutoTranslate","useKatex","useLoadSurroundingMessages","MessageListProvider","_ref","children","messageListRef","attachmentDimension","room","Error","reactToMessage","user","uid","_id","username","subscription","_useLayout","isMobile","showRealName","Boolean","showColors","displayRolesGlobal","hideRolesPreference","showRoles","showUsername","highlights","_useAutoTranslate","showAutoTranslate","autoTranslateLanguage","_useKatex","katexEnabled","katexDollarSyntaxEnabled","katexParenthesisSyntaxEnabled","hasSubscription","msgParameter","chat","context","useUserHasReacted","message","reaction","_message$reactions","reactions","usernames","includes","useShowFollowing","_ref2","replies","indexOf","useShowTranslated","useShowStarred","_ref3","Array","isArray","starred","find","star","useMessageDateFormatter","date","toLocaleString","jumpToMessageParam","katex","dollarSyntaxEnabled","parenthesisSyntaxEnabled","map","str","trim","highlight","regex","urlRegex","useOpenEmojiPicker","e","nativeEvent","stopImmediatePropagation","emojiPicker","open","currentTarget","emoji","messageId","undefined","createElement","width","height","Provider","value","exportDefault"],"sources":["client/views/room/MessageList/providers/MessageListProvider.tsx"],"sourcesContent":["import { isThreadMainMessage } from '@rocket.chat/core-typings';\nimport { useLayout, useUser, useUserPreference, useSetting, useEndpoint, useSearchParameter } from '@rocket.chat/ui-contexts';\nimport type { ReactNode } from 'react';\nimport React, { useMemo, memo } from 'react';\n\nimport { getRegexHighlight, getRegexHighlightUrl } from '../../../../../app/highlight-words/client/helper';\nimport type { MessageListContextValue } from '../../../../components/message/list/MessageListContext';\nimport { MessageListContext } from '../../../../components/message/list/MessageListContext';\nimport AttachmentProvider from '../../../../providers/AttachmentProvider';\nimport { useChat } from '../../contexts/ChatContext';\nimport { useRoom, useRoomSubscription } from '../../contexts/RoomContext';\nimport { useAutoTranslate } from '../hooks/useAutoTranslate';\nimport { useKatex } from '../hooks/useKatex';\nimport { useLoadSurroundingMessages } from '../hooks/useLoadSurroundingMessages';\n\ntype MessageListProviderProps = {\n\tchildren: ReactNode;\n\tmessageListRef?: React.RefObject<HTMLElement>;\n\tattachmentDimension?: {\n\t\twidth?: number;\n\t\theight?: number;\n\t};\n};\n\nconst MessageListProvider = ({ children, messageListRef, attachmentDimension }: MessageListProviderProps) => {\n\tconst room = useRoom();\n\n\tif (!room) {\n\t\tthrow new Error('Room not found');\n\t}\n\n\tconst reactToMessage = useEndpoint('POST', '/v1/chat.react');\n\tconst user = useUser();\n\tconst uid = user?._id;\n\tconst username = user?.username;\n\tconst subscription = useRoomSubscription();\n\n\tconst { isMobile } = useLayout();\n\n\tconst showRealName = Boolean(useSetting('UI_Use_Real_Name'));\n\tconst showColors = useSetting('HexColorPreview_Enabled') as boolean;\n\n\tconst displayRolesGlobal = Boolean(useSetting('UI_DisplayRoles'));\n\tconst hideRolesPreference = Boolean(!useUserPreference<boolean>('hideRoles') && !isMobile);\n\tconst showRoles = displayRolesGlobal && hideRolesPreference;\n\tconst showUsername = Boolean(!useUserPreference<boolean>('hideUsernames') && !isMobile);\n\tconst highlights = useUserPreference<string[]>('highlights');\n\n\tconst { showAutoTranslate, autoTranslateLanguage } = useAutoTranslate(subscription);\n\tconst { katexEnabled, katexDollarSyntaxEnabled, katexParenthesisSyntaxEnabled } = useKatex();\n\n\tconst hasSubscription = Boolean(subscription);\n\tconst msgParameter = useSearchParameter('msg');\n\n\tuseLoadSurroundingMessages(msgParameter);\n\n\tconst chat = useChat();\n\n\tconst context: MessageListContextValue = useMemo(\n\t\t() => ({\n\t\t\tshowColors,\n\t\t\tuseUserHasReacted: username\n\t\t\t\t? (message) =>\n\t\t\t\t\t\t(reaction): boolean =>\n\t\t\t\t\t\t\tBoolean(message.reactions?.[reaction].usernames.includes(username))\n\t\t\t\t: () => (): boolean => false,\n\t\t\tuseShowFollowing: uid\n\t\t\t\t? ({ message }): boolean => Boolean(message.replies && message.replies.indexOf(uid) > -1 && !isThreadMainMessage(message))\n\t\t\t\t: (): boolean => false,\n\t\t\tautoTranslateLanguage,\n\t\t\tuseShowTranslated: showAutoTranslate,\n\t\t\tuseShowStarred: hasSubscription\n\t\t\t\t? ({ message }): boolean => Boolean(Array.isArray(message.starred) && message.starred.find((star) => star._id === uid))\n\t\t\t\t: (): boolean => false,\n\t\t\tuseMessageDateFormatter:\n\t\t\t\t() =>\n\t\t\t\t(date: Date): string =>\n\t\t\t\t\tdate.toLocaleString(),\n\t\t\tshowRoles,\n\t\t\tshowRealName,\n\t\t\tshowUsername,\n\t\t\tmessageListRef,\n\t\t\tjumpToMessageParam: msgParameter,\n\t\t\t...(katexEnabled && {\n\t\t\t\tkatex: {\n\t\t\t\t\tdollarSyntaxEnabled: katexDollarSyntaxEnabled,\n\t\t\t\t\tparenthesisSyntaxEnabled: katexParenthesisSyntaxEnabled,\n\t\t\t\t},\n\t\t\t}),\n\t\t\thighlights: highlights\n\t\t\t\t?.map((str) => str.trim())\n\t\t\t\t.map((highlight) => ({\n\t\t\t\t\thighlight,\n\t\t\t\t\tregex: getRegexHighlight(highlight),\n\t\t\t\t\turlRegex: getRegexHighlightUrl(highlight),\n\t\t\t\t})),\n\n\t\t\tuseOpenEmojiPicker: uid\n\t\t\t\t? (message) =>\n\t\t\t\t\t\t(e): void => {\n\t\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation();\n\t\t\t\t\t\t\tchat?.emojiPicker.open(e.currentTarget, (emoji: string) => reactToMessage({ messageId: message._id, reaction: emoji }));\n\t\t\t\t\t\t}\n\t\t\t\t: () => (): void => undefined,\n\t\t\tusername,\n\t\t}),\n\t\t[\n\t\t\tusername,\n\t\t\tuid,\n\t\t\tshowAutoTranslate,\n\t\t\thasSubscription,\n\t\t\tautoTranslateLanguage,\n\t\t\tshowRoles,\n\t\t\tshowRealName,\n\t\t\tshowUsername,\n\t\t\tkatexEnabled,\n\t\t\tkatexDollarSyntaxEnabled,\n\t\t\tkatexParenthesisSyntaxEnabled,\n\t\t\thighlights,\n\t\t\treactToMessage,\n\t\t\tshowColors,\n\t\t\tmsgParameter,\n\t\t\tmessageListRef,\n\t\t\tchat?.emojiPicker,\n\t\t],\n\t);\n\n\treturn (\n\t\t<AttachmentProvider width={attachmentDimension?.width} height={attachmentDimension?.height}>\n\t\t\t<MessageListContext.Provider value={context}>{children}</MessageListContext.Provider>\n\t\t</AttachmentProvider>\n\t);\n};\n\nexport default memo(MessageListProvider);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"52f459752e4262b782fec010e40456fdea5008af"}
