{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/AutoCompleteAgentWithoutExtension.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/components/AutoCompleteAgentWithoutExtension.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/AutoCompleteAgentWithoutExtension.tsx","inputSourceMap":{"version":3,"file":"client/components/AutoCompleteAgentWithoutExtension.tsx","sourceRoot":"","sources":["client/components/AutoCompleteAgentWithoutExtension.tsx"],"names":[],"mappings":"AACA,OAAO,EAAE,uBAAuB,EAAE,MAAM,uBAAuB,CAAC;AAChE,OAAO,EAAE,iBAAiB,EAAE,MAAM,6BAA6B,CAAC;AAChE,OAAO,KAAK,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAEvD,OAAO,EAAE,aAAa,EAAE,MAAM,8BAA8B,CAAC;AAC7D,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AACpD,OAAO,EAAE,sBAAsB,EAAE,MAAM,4CAA4C,CAAC;AASpF,MAAM,iCAAiC,GAAG,CAAC,KAA6B,EAAE,EAAE;IAC3E,MAAM,EAAE,KAAK,EAAE,gBAAgB,EAAE,QAAQ,GAAG,GAAS,EAAE,CAAC,SAAS,EAAE,OAAO,GAAG,KAAK,EAAE,GAAG,KAAK,CAAC;IAC7F,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,QAAQ,CAA8B,EAAE,CAAC,CAAC;IAElF,MAAM,qBAAqB,GAAG,iBAAiB,CAAC,YAAsB,EAAE,GAAG,CAAC,CAAC;IAE7E,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,aAAa,EAAE,cAAc,EAAE,GAAG,sBAAsB,CACtF,OAAO,CACN,GAAG,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,qBAAqB,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,OAAO,EAAE,CAAC,EACpF,CAAC,gBAAgB,EAAE,qBAAqB,EAAE,OAAO,CAAC,CAClD,CACD,CAAC;IACF,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,EAAE,GAAG,aAAa,CAAC,UAAU,CAAC,CAAC;IACrG,MAAM,YAAY,GAAG,WAAW;SAC9B,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACd,IAAI,KAAK,KAAK,KAAK,EAAE,CAAC;YACrB,OAAO,CAAC,CAAC,CAAC;QACX,CAAC;QAED,IAAI,CAAC,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC,EAAE,QAAQ,IAAI,EAAE,CAAC,EAAE,CAAC;YACnD,OAAO,CAAC,CAAC;QACV,CAAC;QACD,IAAI,CAAC,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC,EAAE,QAAQ,IAAI,EAAE,CAAC,EAAE,CAAC;YACnD,OAAO,CAAC,CAAC,CAAC;QACX,CAAC;QAED,OAAO,CAAC,CAAC;IACV,CAAC,CAAC;SACD,GAAG,CAAC,CAAC,KAAK,EAAqD,EAAE,CAAC,CAAC;QACnE,GAAG,KAAK;QACR,KAAK,EAAE,KAAK,EAAE,QAAQ,IAAI,EAAE;QAC5B,KAAK,EAAE,KAAK,EAAE,QAAQ,IAAI,EAAE;KAC5B,CAAC,CAAC,CAAC;IAEL,OAAO,CACN,CAAC,uBAAuB,CACvB,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,UAAU,CAAC,CAAC,CAAC,CAAC,CACd,MAAM,CAAC,CAAC,YAAkC,CAAC,CAC3C,SAAS,CAAC,CAAC,eAAe,CAAC,CAC3B,OAAO,CAAC,CAAC,YAAY,CAAC,CACtB,UAAU,CAAC,CACV,WAAW,KAAK,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,GAAS,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,EAAQ,EAAE,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,WAAW,CAAC,CACnI,CAAC,EACA,CACF,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,IAAI,CAAC,iCAAiC,CAAC,CAAC","sourcesContent":["import type { ILivechatAgent } from '@rocket.chat/core-typings';\nimport { PaginatedSelectFiltered } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport { useRecordList } from '../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../lib/asyncState';\nimport { useAvailableAgentsList } from './Omnichannel/hooks/useAvailableAgentsList';\n\ntype AutoCompleteAgentProps = {\n\tonChange: (value: string) => void;\n\thaveAll?: boolean;\n\tvalue?: string;\n\tcurrentExtension?: string;\n};\n\nconst AutoCompleteAgentWithoutExtension = (props: AutoCompleteAgentProps) => {\n\tconst { value, currentExtension, onChange = (): void => undefined, haveAll = false } = props;\n\tconst [agentsFilter, setAgentsFilter] = useState<string | number | undefined>('');\n\n\tconst debouncedAgentsFilter = useDebouncedValue(agentsFilter as string, 500);\n\n\tconst { itemsList: AgentsList, loadMoreItems: loadMoreAgents } = useAvailableAgentsList(\n\t\tuseMemo(\n\t\t\t() => ({ text: debouncedAgentsFilter, includeExtension: currentExtension, haveAll }),\n\t\t\t[currentExtension, debouncedAgentsFilter, haveAll],\n\t\t),\n\t);\n\tconst { phase: agentsPhase, items: agentsItems, itemCount: agentsTotal } = useRecordList(AgentsList);\n\tconst sortedByName = agentsItems\n\t\t.sort((a, b) => {\n\t\t\tif (value === 'all') {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\tif (a?.username?.localeCompare(b?.username || '')) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (b?.username?.localeCompare(b?.username || '')) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t})\n\t\t.map((agent): ILivechatAgent & { label: string; value: string } => ({\n\t\t\t...agent,\n\t\t\tlabel: agent?.username || '',\n\t\t\tvalue: agent?.username || '',\n\t\t}));\n\n\treturn (\n\t\t<PaginatedSelectFiltered\n\t\t\tvalue={value}\n\t\t\tonChange={onChange}\n\t\t\tflexShrink={0}\n\t\t\tfilter={agentsFilter as string | undefined}\n\t\t\tsetFilter={setAgentsFilter}\n\t\t\toptions={sortedByName}\n\t\t\tendReached={\n\t\t\t\tagentsPhase === AsyncStatePhase.LOADING ? (): void => undefined : (start): void => loadMoreAgents(start, Math.min(50, agentsTotal))\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default memo(AutoCompleteAgentWithoutExtension);\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/components/AutoCompleteAgentWithoutExtension.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/components/AutoCompleteAgentWithoutExtension.tsx","inputSourceMap":{"version":3,"file":"client/components/AutoCompleteAgentWithoutExtension.tsx","sourceRoot":"","sources":["client/components/AutoCompleteAgentWithoutExtension.tsx"],"names":[],"mappings":"AACA,OAAO,EAAE,uBAAuB,EAAE,MAAM,uBAAuB,CAAC;AAChE,OAAO,EAAE,iBAAiB,EAAE,MAAM,6BAA6B,CAAC;AAChE,OAAO,KAAK,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAEvD,OAAO,EAAE,aAAa,EAAE,MAAM,8BAA8B,CAAC;AAC7D,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AACpD,OAAO,EAAE,sBAAsB,EAAE,MAAM,4CAA4C,CAAC;AASpF,MAAM,iCAAiC,GAAG,CAAC,KAA6B,EAAE,EAAE;IAC3E,MAAM,EAAE,KAAK,EAAE,gBAAgB,EAAE,QAAQ,GAAG,GAAS,EAAE,CAAC,SAAS,EAAE,OAAO,GAAG,KAAK,EAAE,GAAG,KAAK,CAAC;IAC7F,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,QAAQ,CAA8B,EAAE,CAAC,CAAC;IAElF,MAAM,qBAAqB,GAAG,iBAAiB,CAAC,YAAsB,EAAE,GAAG,CAAC,CAAC;IAE7E,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,aAAa,EAAE,cAAc,EAAE,GAAG,sBAAsB,CACtF,OAAO,CACN,GAAG,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,qBAAqB,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,OAAO,EAAE,CAAC,EACpF,CAAC,gBAAgB,EAAE,qBAAqB,EAAE,OAAO,CAAC,CAClD,CACD,CAAC;IACF,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,EAAE,GAAG,aAAa,CAAC,UAAU,CAAC,CAAC;IACrG,MAAM,YAAY,GAAG,WAAW;SAC9B,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACd,IAAI,KAAK,KAAK,KAAK,EAAE,CAAC;YACrB,OAAO,CAAC,CAAC,CAAC;QACX,CAAC;QAED,IAAI,CAAC,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC,EAAE,QAAQ,IAAI,EAAE,CAAC,EAAE,CAAC;YACnD,OAAO,CAAC,CAAC;QACV,CAAC;QACD,IAAI,CAAC,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC,EAAE,QAAQ,IAAI,EAAE,CAAC,EAAE,CAAC;YACnD,OAAO,CAAC,CAAC,CAAC;QACX,CAAC;QAED,OAAO,CAAC,CAAC;IACV,CAAC,CAAC;SACD,GAAG,CAAC,CAAC,KAAK,EAAqD,EAAE,CAAC,CAAC;QACnE,GAAG,KAAK;QACR,KAAK,EAAE,KAAK,EAAE,QAAQ,IAAI,EAAE;QAC5B,KAAK,EAAE,KAAK,EAAE,QAAQ,IAAI,EAAE;KAC5B,CAAC,CAAC,CAAC;IAEL,OAAO,CACN,CAAC,uBAAuB,CACvB,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,UAAU,CAAC,CAAC,CAAC,CAAC,CACd,MAAM,CAAC,CAAC,YAAkC,CAAC,CAC3C,SAAS,CAAC,CAAC,eAAe,CAAC,CAC3B,OAAO,CAAC,CAAC,YAAY,CAAC,CACtB,UAAU,CAAC,CACV,WAAW,KAAK,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,GAAS,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,EAAQ,EAAE,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,WAAW,CAAC,CACnI,CAAC,EACA,CACF,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,IAAI,CAAC,iCAAiC,CAAC,CAAC","sourcesContent":["import type { ILivechatAgent } from '@rocket.chat/core-typings';\nimport { PaginatedSelectFiltered } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport { useRecordList } from '../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../lib/asyncState';\nimport { useAvailableAgentsList } from './Omnichannel/hooks/useAvailableAgentsList';\n\ntype AutoCompleteAgentProps = {\n\tonChange: (value: string) => void;\n\thaveAll?: boolean;\n\tvalue?: string;\n\tcurrentExtension?: string;\n};\n\nconst AutoCompleteAgentWithoutExtension = (props: AutoCompleteAgentProps) => {\n\tconst { value, currentExtension, onChange = (): void => undefined, haveAll = false } = props;\n\tconst [agentsFilter, setAgentsFilter] = useState<string | number | undefined>('');\n\n\tconst debouncedAgentsFilter = useDebouncedValue(agentsFilter as string, 500);\n\n\tconst { itemsList: AgentsList, loadMoreItems: loadMoreAgents } = useAvailableAgentsList(\n\t\tuseMemo(\n\t\t\t() => ({ text: debouncedAgentsFilter, includeExtension: currentExtension, haveAll }),\n\t\t\t[currentExtension, debouncedAgentsFilter, haveAll],\n\t\t),\n\t);\n\tconst { phase: agentsPhase, items: agentsItems, itemCount: agentsTotal } = useRecordList(AgentsList);\n\tconst sortedByName = agentsItems\n\t\t.sort((a, b) => {\n\t\t\tif (value === 'all') {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\tif (a?.username?.localeCompare(b?.username || '')) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (b?.username?.localeCompare(b?.username || '')) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t})\n\t\t.map((agent): ILivechatAgent & { label: string; value: string } => ({\n\t\t\t...agent,\n\t\t\tlabel: agent?.username || '',\n\t\t\tvalue: agent?.username || '',\n\t\t}));\n\n\treturn (\n\t\t<PaginatedSelectFiltered\n\t\t\tvalue={value}\n\t\t\tonChange={onChange}\n\t\t\tflexShrink={0}\n\t\t\tfilter={agentsFilter as string | undefined}\n\t\t\tsetFilter={setAgentsFilter}\n\t\t\toptions={sortedByName}\n\t\t\tendReached={\n\t\t\t\tagentsPhase === AsyncStatePhase.LOADING ? (): void => undefined : (start): void => loadMoreAgents(start, Math.min(50, agentsTotal))\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default memo(AutoCompleteAgentWithoutExtension);\n"]}}},"code":"var _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nvar PaginatedSelectFiltered;\nmodule.link(\"@rocket.chat/fuselage\", {\n  PaginatedSelectFiltered: function (v) {\n    PaginatedSelectFiltered = v;\n  }\n}, 0);\nvar useDebouncedValue;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useDebouncedValue: function (v) {\n    useDebouncedValue = v;\n  }\n}, 1);\nvar React, memo, useMemo, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  memo: function (v) {\n    memo = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 2);\nvar useRecordList;\nmodule.link(\"../hooks/lists/useRecordList\", {\n  useRecordList: function (v) {\n    useRecordList = v;\n  }\n}, 3);\nvar AsyncStatePhase;\nmodule.link(\"../lib/asyncState\", {\n  AsyncStatePhase: function (v) {\n    AsyncStatePhase = v;\n  }\n}, 4);\nvar useAvailableAgentsList;\nmodule.link(\"./Omnichannel/hooks/useAvailableAgentsList\", {\n  useAvailableAgentsList: function (v) {\n    useAvailableAgentsList = v;\n  }\n}, 5);\nvar AutoCompleteAgentWithoutExtension = function (props) {\n  var value = props.value,\n    currentExtension = props.currentExtension,\n    _props$onChange = props.onChange,\n    onChange = _props$onChange === void 0 ? function () {\n      return undefined;\n    } : _props$onChange,\n    _props$haveAll = props.haveAll,\n    haveAll = _props$haveAll === void 0 ? false : _props$haveAll;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    agentsFilter = _useState2[0],\n    setAgentsFilter = _useState2[1];\n  var debouncedAgentsFilter = useDebouncedValue(agentsFilter, 500);\n  var _useAvailableAgentsLi = useAvailableAgentsList(useMemo(function () {\n      return {\n        text: debouncedAgentsFilter,\n        includeExtension: currentExtension,\n        haveAll: haveAll\n      };\n    }, [currentExtension, debouncedAgentsFilter, haveAll])),\n    AgentsList = _useAvailableAgentsLi.itemsList,\n    loadMoreAgents = _useAvailableAgentsLi.loadMoreItems;\n  var _useRecordList = useRecordList(AgentsList),\n    agentsPhase = _useRecordList.phase,\n    agentsItems = _useRecordList.items,\n    agentsTotal = _useRecordList.itemCount;\n  var sortedByName = agentsItems.sort(function (a, b) {\n    var _a$username, _b$username;\n    if (value === 'all') {\n      return -1;\n    }\n    if (a !== null && a !== void 0 && (_a$username = a.username) !== null && _a$username !== void 0 && _a$username.localeCompare((b === null || b === void 0 ? void 0 : b.username) || '')) {\n      return 1;\n    }\n    if (b !== null && b !== void 0 && (_b$username = b.username) !== null && _b$username !== void 0 && _b$username.localeCompare((b === null || b === void 0 ? void 0 : b.username) || '')) {\n      return -1;\n    }\n    return 0;\n  }).map(function (agent) {\n    return _objectSpread(_objectSpread({}, agent), {}, {\n      label: (agent === null || agent === void 0 ? void 0 : agent.username) || '',\n      value: (agent === null || agent === void 0 ? void 0 : agent.username) || ''\n    });\n  });\n  return /*#__PURE__*/React.createElement(PaginatedSelectFiltered, {\n    value: value,\n    onChange: onChange,\n    flexShrink: 0,\n    filter: agentsFilter,\n    setFilter: setAgentsFilter,\n    options: sortedByName,\n    endReached: agentsPhase === AsyncStatePhase.LOADING ? function () {\n      return undefined;\n    } : function (start) {\n      return loadMoreAgents(start, Math.min(50, agentsTotal));\n    }\n  });\n};\nmodule.exportDefault( /*#__PURE__*/memo(AutoCompleteAgentWithoutExtension));","map":{"version":3,"names":["_objectSpread","module","link","default","v","_slicedToArray","PaginatedSelectFiltered","useDebouncedValue","React","memo","useMemo","useState","useRecordList","AsyncStatePhase","useAvailableAgentsList","AutoCompleteAgentWithoutExtension","props","value","currentExtension","_props$onChange","onChange","undefined","_props$haveAll","haveAll","_useState","_useState2","agentsFilter","setAgentsFilter","debouncedAgentsFilter","_useAvailableAgentsLi","text","includeExtension","AgentsList","itemsList","loadMoreAgents","loadMoreItems","_useRecordList","agentsPhase","phase","agentsItems","items","agentsTotal","itemCount","sortedByName","sort","a","b","_a$username","_b$username","username","localeCompare","map","agent","label","createElement","flexShrink","filter","setFilter","options","endReached","LOADING","start","Math","min","exportDefault"],"sources":["client/components/AutoCompleteAgentWithoutExtension.tsx"],"sourcesContent":["import type { ILivechatAgent } from '@rocket.chat/core-typings';\nimport { PaginatedSelectFiltered } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport { useRecordList } from '../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../lib/asyncState';\nimport { useAvailableAgentsList } from './Omnichannel/hooks/useAvailableAgentsList';\n\ntype AutoCompleteAgentProps = {\n\tonChange: (value: string) => void;\n\thaveAll?: boolean;\n\tvalue?: string;\n\tcurrentExtension?: string;\n};\n\nconst AutoCompleteAgentWithoutExtension = (props: AutoCompleteAgentProps) => {\n\tconst { value, currentExtension, onChange = (): void => undefined, haveAll = false } = props;\n\tconst [agentsFilter, setAgentsFilter] = useState<string | number | undefined>('');\n\n\tconst debouncedAgentsFilter = useDebouncedValue(agentsFilter as string, 500);\n\n\tconst { itemsList: AgentsList, loadMoreItems: loadMoreAgents } = useAvailableAgentsList(\n\t\tuseMemo(\n\t\t\t() => ({ text: debouncedAgentsFilter, includeExtension: currentExtension, haveAll }),\n\t\t\t[currentExtension, debouncedAgentsFilter, haveAll],\n\t\t),\n\t);\n\tconst { phase: agentsPhase, items: agentsItems, itemCount: agentsTotal } = useRecordList(AgentsList);\n\tconst sortedByName = agentsItems\n\t\t.sort((a, b) => {\n\t\t\tif (value === 'all') {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\tif (a?.username?.localeCompare(b?.username || '')) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (b?.username?.localeCompare(b?.username || '')) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t})\n\t\t.map((agent): ILivechatAgent & { label: string; value: string } => ({\n\t\t\t...agent,\n\t\t\tlabel: agent?.username || '',\n\t\t\tvalue: agent?.username || '',\n\t\t}));\n\n\treturn (\n\t\t<PaginatedSelectFiltered\n\t\t\tvalue={value}\n\t\t\tonChange={onChange}\n\t\t\tflexShrink={0}\n\t\t\tfilter={agentsFilter as string | undefined}\n\t\t\tsetFilter={setAgentsFilter}\n\t\t\toptions={sortedByName}\n\t\t\tendReached={\n\t\t\t\tagentsPhase === AsyncStatePhase.LOADING ? (): void => undefined : (start): void => loadMoreAgents(start, Math.min(50, agentsTotal))\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default memo(AutoCompleteAgentWithoutExtension);\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"7a1b1b56d9b2f270ecfa4dc3165f9194d5c44406"}
