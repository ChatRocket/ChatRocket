{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx","inputSourceMap":{"version":3,"file":"client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx","sourceRoot":"","sources":["client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx"],"names":[],"mappings":"AACA,OAAO,EAAE,mBAAmB,EAAE,2BAA2B,EAAE,iBAAiB,EAAE,kBAAkB,EAAE,MAAM,2BAA2B,CAAC;AACpI,OAAO,EAAE,eAAe,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,iBAAiB,EAAE,MAAM,uBAAuB,CAAC;AACjH,OAAO,EAAE,SAAS,EAAE,MAAM,0BAA0B,CAAC;AAGrD,OAAO,KAAK,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,OAAO,CAAC;AAE7C,OAAO,EAAE,QAAQ,EAAE,MAAM,2BAA2B,CAAC;AACrD,OAAO,EAAE,eAAe,EAAE,MAAM,iCAAiC,CAAC;AAClE,OAAO,EAAE,WAAW,EAAE,MAAM,6BAA6B,CAAC;AAC1D,OAAO,EAAE,wBAAwB,EAAE,MAAM,kDAAkD,CAAC;AAC5F,OAAO,QAAQ,MAAM,aAAa,CAAC;AACnC,OAAO,EAAE,iBAAiB,EAAE,MAAM,6BAA6B,CAAC;AAEhE,OAAO,EAAE,uBAAuB,EAAE,MAAM,2BAA2B,CAAC;AAEpE,MAAM,CAAC,MAAM,UAAU,GAAG,CAAC,IAAW,EAAE,WAAiC,EAAE,CAAY,EAAsB,EAAE;IAC9G,IAAI,CAAC,WAAW,EAAE,CAAC;QAClB,OAAO,CAAC,CAAC,iBAAiB,CAAC,CAAC;IAC7B,CAAC;IACD,IAAI,kBAAkB,CAAC,WAAW,CAAC,EAAE,CAAC;QACrC,OAAO,CAAC,CAAC,cAAc,CAAC,CAAC;IAC1B,CAAC;IACD,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC;QACpB,OAAO,uBAAuB,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IAChD,CAAC;IACD,IAAI,WAAW,CAAC,CAAC,EAAE,QAAQ,KAAK,IAAI,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC;QAClD,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,uBAAuB,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC;IAClE,CAAC;IACD,IAAI,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,EAAE,CAAC;QACrE,OAAO,uBAAuB,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IAChD,CAAC;IACD,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,IAAI,IAAI,WAAW,CAAC,CAAC,CAAC,QAAQ,KAAK,uBAAuB,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC;AACtG,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,aAAa,GAAG,CAAC,YAAoB,EAAE,YAAoB,EAAE,aAAqB,EAAE,MAAc,EAAE,CAAY,EAAE,EAAE;IAChI,MAAM,KAAK,GAAG,EAAc,CAAC;IAC7B,IAAI,YAAY,EAAE,CAAC;QAClB,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,kBAAkB,EAAE,EAAE,KAAK,EAAE,YAAY,EAAE,CAAC,CAAC,CAAC;IAC5D,CAAC;IACD,IAAI,YAAY,EAAE,CAAC;QAClB,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,iBAAiB,EAAE,EAAE,KAAK,EAAE,YAAY,EAAE,CAAC,CAAC,CAAC;IAC3D,CAAC;IACD,IAAI,aAAa,EAAE,CAAC;QACnB,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,wBAAwB,EAAE,EAAE,KAAK,EAAE,aAAa,EAAE,CAAC,CAAC,CAAC;IACnE,CAAC;IACD,MAAM,KAAK,GAAG,MAAM,GAAG,YAAY,GAAG,aAAa,CAAC;IACpD,IAAI,KAAK,GAAG,CAAC,EAAE,CAAC;QACf,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,yBAAyB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;IACrD,CAAC;IACD,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACzB,CAAC,CAAC;AA0CF,MAAM,2BAA2B,GAAG,CAAC,EACpC,IAAI,EACJ,EAAE,EACF,QAAQ,EACR,KAAK,EACL,QAAQ,EACR,mBAAmB,EACnB,cAAc,EACd,CAAC,EACD,WAAW,EACX,gBAAgB,GACE,EAAE,EAAE;IACtB,MAAM,EAAE,OAAO,EAAE,GAAG,SAAS,EAAE,CAAC;IAEhC,MAAM,IAAI,GAAG,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC;IAC9D,MAAM,KAAK,GAAG,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC;IAE9D,MAAM,EACL,WAAW,EACX,gBAAgB,EAChB,iBAAiB,EACjB,MAAM,GAAG,CAAC,EACV,KAAK,EACL,YAAY,EACZ,aAAa,EACb,OAAO,GAAG,EAAE,EACZ,WAAW,GAAG,EAAE,EAChB,GAAG,EACH,CAAC,EAAE,IAAI,EACP,EAAE,GACF,GAAG,IAAI,CAAC;IAET,MAAM,WAAW,GAAG,OAAO,CAAC,CAAC,gBAAgB,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,CAAC,CAAC;IACpE,MAAM,IAAI,GAAG,CACZ,CAAC,iBAAiB,CACjB,WAAW,CAAC,CAAC,WAAW,CAAC,CACzB,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,EAAG,CAAC,EACxG,CACF,CAAC;IAEF,MAAM,OAAO,GAAG,OAAO,CACtB,GAAG,EAAE,CACJ,gBAAgB,IAAI,CACnB,CAAC,gBAAgB,CAChB;KAAA,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAC1F;KAAA,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAC9F;IAAA,EAAE,gBAAgB,CAAC,CACnB,EACF,CAAC,gBAAgB,CAAC,CAClB,CAAC;IAEF,MAAM,QAAQ,GAAG,iBAAiB,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,QAAQ,CAAC;IACrE,MAAM,EAAE,OAAO,EAAE,iBAAiB,EAAE,GAAG,wBAAwB,EAAE,CAAC;IAElE,MAAM,OAAO,GAAG,QAAQ,IAAI,UAAU,CAAC,IAAI,EAAE,WAAW,EAAE,CAAC,CAAC,CAAC;IAC7D,MAAM,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAG,CAAC,CAAC,CAAC,IAAI,CAAC;IAE5H,MAAM,YAAY,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;IACxC,MAAM,OAAO,GACZ,CAAC,CAAC,YAAY,IAAI,WAAW,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,YAAY,IAAI,SAAS,CAAC,IAAI,CAAC,aAAa,IAAI,SAAS,CAAC,IAAI,WAAW,CAAC;IAElI,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,IAAI,YAAY,CAAC;IAC5C,MAAM,SAAS,GAAG,CAAC,gBAAgB,IAAI,CAAC,CAAC,iBAAiB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;IAEjH,MAAM,UAAU,GAAG,aAAa,CAAC,YAAY,EAAE,OAAO,CAAC,MAAM,EAAE,aAAa,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;IAEzF,MAAM,MAAM,GAAG,CACd,EACC;GAAA,CAAC,SAAS,IAAI,QAAQ,IAAI,CACzB,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,CACvD;KAAA,CAAC,MAAM,GAAG,OAAO,EAAE,MAAM,CAC1B;IAAA,EAAE,kBAAkB,CAAC,CACrB,CACD;GAAA,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAG,CAC9D;EAAA,GAAG,CACH,CAAC;IAEF,OAAO,CACN,CAAC,mBAAmB,CACnB,EAAE,CAAC,GAAG,CACN,EAAE,CAAC,CAAC,EAAE,CAAC,CACP,OAAO,CAAC,cAAc,CACtB,WAAW,CAAC,CAAC,WAAW,CAAC,CACzB,MAAM,CAAC,CAAC,WAAW,CAAC,CACpB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,IAAI,CAAC,CAAC,IAAI,CAAC,CACX,OAAO,CAAC,CAAC,GAAS,EAAE;YACnB,CAAC,QAAQ,IAAI,OAAO,CAAC,MAAM,EAAE,CAAC;QAC/B,CAAC,CAAC,CACF,UAAU,CAAC,CAAC,KAAK,CAAC,CAClB,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,IAAI,CAAC,CAAC,WAAW,EAAE,EAAE,CAAC,CACtB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,IAAI,CAAC,CAAC,IAAI,CAAC,CACX,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,MAAM,CAAC,CAAC,cAAc,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,CAAC,EAAG,CAAC,CACvD,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,IAAI,CAAC,CACJ,CAAC,WAAW;YACZ,CAAC,WAAW;YACZ,CAAC,CAAC,QAAQ,IAAI,CAAC,QAAQ,IAAI,iBAAiB,CAAC,CAAC;YAC9C,CAAC,GAAiB,EAAE,CAAC,CACpB,CAAC,QAAQ,CACR,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,YAAY,CAAC,CAAC,YAAY,CAAC,CAC3B,GAAG,CAAC,CAAC,GAAG,CAAC,CACT,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CACjB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,IAAI,CAAC,CAAC,IAAI,CAAC,CACX,EAAE,CAAC,CAAC,EAAE,CAAC,CACP,IAAI,CAAC,CAAC,KAAK,CAAC,CACZ,kBAAkB,CAAC,CAAC,QAAQ,CAAC,EAC5B,CACF,CACF,CAAC,EACA,CACF,CAAC;AACH,CAAC,CAAC;AAEF,SAAS,qBAAqB,CAAC,CAA4B,EAAE,CAA4B;IACxF,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC;QACd,OAAO,CAAC,KAAK,CAAC,CAAC;IAChB,CAAC;IACD,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;AAChE,CAAC;AAED,MAAM,IAAI,GAA+B;IACxC,IAAI;IACJ,OAAO;IACP,UAAU;IACV,UAAU;IACV,qBAAqB;IACrB,gBAAgB;IAChB,GAAG;IACH,iBAAiB;IACjB,kBAAkB;CAClB,CAAC;AAEF,+CAA+C;AAC/C,eAAe,IAAI,CAAC,2BAA2B,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,EAAE;IACzE,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;QAC3D,OAAO,KAAK,CAAC;IACd,CAAC;IAED,IAAI,SAAS,CAAC,IAAI,KAAK,SAAS,CAAC,IAAI,EAAE,CAAC;QACvC,OAAO,IAAI,CAAC;IACb,CAAC;IAED,IAAI,SAAS,CAAC,IAAI,CAAC,GAAG,KAAK,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;QAC/C,OAAO,KAAK,CAAC;IACd,CAAC;IACD,IAAI,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,WAAW,EAAE,KAAK,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,WAAW,EAAE,EAAE,CAAC;QAC3F,OAAO,KAAK,CAAC;IACd,CAAC;IACD,IAAI,qBAAqB,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,UAAU,EAAE,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,UAAU,CAAC,EAAE,CAAC;QAC3G,OAAO,KAAK,CAAC;IACd,CAAC;IACD,IAAI,SAAS,CAAC,IAAI,CAAC,KAAK,KAAK,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QACnD,OAAO,KAAK,CAAC;IACd,CAAC;IACD,IAAI,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,IAAI,EAAE,CAAC,EAAE,MAAM,KAAK,SAAS,CAAC,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC;QACvI,OAAO,KAAK,CAAC;IACd,CAAC;IACD,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,KAAK,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;QACzD,OAAO,KAAK,CAAC;IACd,CAAC;IAED,IACC,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC;QACjC,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC;QACjC,SAAS,CAAC,IAAI,CAAC,cAAc,KAAK,SAAS,CAAC,IAAI,CAAC,cAAc,EAC9D,CAAC;QACF,OAAO,KAAK,CAAC;IACd,CAAC;IAED,OAAO,IAAI,CAAC;AACb,CAAC,CAAC,CAAC","sourcesContent":["import type { IMessage, IRoom, ISubscription } from '@rocket.chat/core-typings';\nimport { isDirectMessageRoom, isMultipleDirectMessageRoom, isOmnichannelRoom, isVideoConfMessage } from '@rocket.chat/core-typings';\nimport { SidebarV2Action, SidebarV2Actions, SidebarV2ItemBadge, SidebarV2ItemIcon } from '@rocket.chat/fuselage';\nimport { useLayout } from '@rocket.chat/ui-contexts';\nimport type { TFunction } from 'i18next';\nimport type { AllHTMLAttributes, ComponentType, ReactElement, ReactNode } from 'react';\nimport React, { memo, useMemo } from 'react';\n\nimport { RoomIcon } from '../../components/RoomIcon';\nimport { roomCoordinator } from '../../lib/rooms/roomCoordinator';\nimport { isIOsDevice } from '../../lib/utils/isIOsDevice';\nimport { useOmnichannelPriorities } from '../../omnichannel/hooks/useOmnichannelPriorities';\nimport RoomMenu from '../RoomMenu';\nimport { OmnichannelBadges } from '../badges/OmnichannelBadges';\nimport type { useAvatarTemplate } from '../hooks/useAvatarTemplate';\nimport { normalizeSidebarMessage } from './normalizeSidebarMessage';\n\nexport const getMessage = (room: IRoom, lastMessage: IMessage | undefined, t: TFunction): string | undefined => {\n\tif (!lastMessage) {\n\t\treturn t('No_messages_yet');\n\t}\n\tif (isVideoConfMessage(lastMessage)) {\n\t\treturn t('Call_started');\n\t}\n\tif (!lastMessage.u) {\n\t\treturn normalizeSidebarMessage(lastMessage, t);\n\t}\n\tif (lastMessage.u?.username === room.u?.username) {\n\t\treturn `${t('You')}: ${normalizeSidebarMessage(lastMessage, t)}`;\n\t}\n\tif (isDirectMessageRoom(room) && !isMultipleDirectMessageRoom(room)) {\n\t\treturn normalizeSidebarMessage(lastMessage, t);\n\t}\n\treturn `${lastMessage.u.name || lastMessage.u.username}: ${normalizeSidebarMessage(lastMessage, t)}`;\n};\n\nexport const getBadgeTitle = (userMentions: number, threadUnread: number, groupMentions: number, unread: number, t: TFunction) => {\n\tconst title = [] as string[];\n\tif (userMentions) {\n\t\ttitle.push(t('mentions_counter', { count: userMentions }));\n\t}\n\tif (threadUnread) {\n\t\ttitle.push(t('threads_counter', { count: threadUnread }));\n\t}\n\tif (groupMentions) {\n\t\ttitle.push(t('group_mentions_counter', { count: groupMentions }));\n\t}\n\tconst count = unread - userMentions - groupMentions;\n\tif (count > 0) {\n\t\ttitle.push(t('unread_messages_counter', { count }));\n\t}\n\treturn title.join(', ');\n};\n\ntype RoomListRowProps = {\n\textended: boolean;\n\tt: TFunction;\n\tSidebarItemTemplate: ComponentType<\n\t\t{\n\t\t\ticon: ReactNode;\n\t\t\ttitle: ReactNode;\n\t\t\tavatar: ReactNode;\n\t\t\tactions: unknown;\n\t\t\thref: string;\n\t\t\ttime?: Date;\n\t\t\tmenu?: ReactNode;\n\t\t\tmenuOptions?: unknown;\n\t\t\tsubtitle?: ReactNode;\n\t\t\ttitleIcon?: string;\n\t\t\tbadges?: ReactNode;\n\t\t\tthreadUnread?: boolean;\n\t\t\tunread?: boolean;\n\t\t\tselected?: boolean;\n\t\t\tis?: string;\n\t\t} & AllHTMLAttributes<HTMLElement>\n\t>;\n\tAvatarTemplate: ReturnType<typeof useAvatarTemplate>;\n\topenedRoom?: string;\n\t// sidebarViewMode: 'extended';\n\tisAnonymous?: boolean;\n\n\troom: ISubscription & IRoom;\n\tid?: string;\n\t/* @deprecated */\n\tstyle?: AllHTMLAttributes<HTMLElement>['style'];\n\n\tselected?: boolean;\n\n\tsidebarViewMode?: unknown;\n\tvideoConfActions?: {\n\t\t[action: string]: () => void;\n\t};\n};\n\nconst SidebarItemTemplateWithData = ({\n\troom,\n\tid,\n\tselected,\n\tstyle,\n\textended,\n\tSidebarItemTemplate,\n\tAvatarTemplate,\n\tt,\n\tisAnonymous,\n\tvideoConfActions,\n}: RoomListRowProps) => {\n\tconst { sidebar } = useLayout();\n\n\tconst href = roomCoordinator.getRouteLink(room.t, room) || '';\n\tconst title = roomCoordinator.getRoomName(room.t, room) || '';\n\n\tconst {\n\t\tlastMessage,\n\t\thideUnreadStatus,\n\t\thideMentionStatus,\n\t\tunread = 0,\n\t\talert,\n\t\tuserMentions,\n\t\tgroupMentions,\n\t\ttunread = [],\n\t\ttunreadUser = [],\n\t\trid,\n\t\tt: type,\n\t\tcl,\n\t} = room;\n\n\tconst highlighted = Boolean(!hideUnreadStatus && (alert || unread));\n\tconst icon = (\n\t\t<SidebarV2ItemIcon\n\t\t\thighlighted={highlighted}\n\t\t\ticon={<RoomIcon room={room} placement='sidebar' size='x20' isIncomingCall={Boolean(videoConfActions)} />}\n\t\t/>\n\t);\n\n\tconst actions = useMemo(\n\t\t() =>\n\t\t\tvideoConfActions && (\n\t\t\t\t<SidebarV2Actions>\n\t\t\t\t\t<SidebarV2Action onClick={videoConfActions.acceptCall} mini secondary success icon='phone' />\n\t\t\t\t\t<SidebarV2Action onClick={videoConfActions.rejectCall} mini secondary danger icon='phone-off' />\n\t\t\t\t</SidebarV2Actions>\n\t\t\t),\n\t\t[videoConfActions],\n\t);\n\n\tconst isQueued = isOmnichannelRoom(room) && room.status === 'queued';\n\tconst { enabled: isPriorityEnabled } = useOmnichannelPriorities();\n\n\tconst message = extended && getMessage(room, lastMessage, t);\n\tconst subtitle = message ? <span className='message-body--unstyled' dangerouslySetInnerHTML={{ __html: message }} /> : null;\n\n\tconst threadUnread = tunread.length > 0;\n\tconst variant =\n\t\t((userMentions || tunreadUser.length) && 'danger') || (threadUnread && 'primary') || (groupMentions && 'warning') || 'secondary';\n\n\tconst isUnread = unread > 0 || threadUnread;\n\tconst showBadge = !hideUnreadStatus || (!hideMentionStatus && (Boolean(userMentions) || tunreadUser.length > 0));\n\n\tconst badgeTitle = getBadgeTitle(userMentions, tunread.length, groupMentions, unread, t);\n\n\tconst badges = (\n\t\t<>\n\t\t\t{showBadge && isUnread && (\n\t\t\t\t<SidebarV2ItemBadge variant={variant} title={badgeTitle}>\n\t\t\t\t\t{unread + tunread?.length}\n\t\t\t\t</SidebarV2ItemBadge>\n\t\t\t)}\n\t\t\t{isOmnichannelRoom(room) && <OmnichannelBadges room={room} />}\n\t\t</>\n\t);\n\n\treturn (\n\t\t<SidebarItemTemplate\n\t\t\tis='a'\n\t\t\tid={id}\n\t\t\tdata-qa='sidebar-item'\n\t\t\tdata-unread={highlighted}\n\t\t\tunread={highlighted}\n\t\t\tselected={selected}\n\t\t\thref={href}\n\t\t\tonClick={(): void => {\n\t\t\t\t!selected && sidebar.toggle();\n\t\t\t}}\n\t\t\taria-label={title}\n\t\t\ttitle={title}\n\t\t\ttime={lastMessage?.ts}\n\t\t\tsubtitle={subtitle}\n\t\t\ticon={icon}\n\t\t\tstyle={style}\n\t\t\tbadges={badges}\n\t\t\tavatar={AvatarTemplate && <AvatarTemplate {...room} />}\n\t\t\tactions={actions}\n\t\t\tmenu={\n\t\t\t\t!isIOsDevice &&\n\t\t\t\t!isAnonymous &&\n\t\t\t\t(!isQueued || (isQueued && isPriorityEnabled)) &&\n\t\t\t\t((): ReactElement => (\n\t\t\t\t\t<RoomMenu\n\t\t\t\t\t\talert={alert}\n\t\t\t\t\t\tthreadUnread={threadUnread}\n\t\t\t\t\t\trid={rid}\n\t\t\t\t\t\tunread={!!unread}\n\t\t\t\t\t\troomOpen={selected}\n\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\tcl={cl}\n\t\t\t\t\t\tname={title}\n\t\t\t\t\t\thideDefaultOptions={isQueued}\n\t\t\t\t\t/>\n\t\t\t\t))\n\t\t\t}\n\t\t/>\n\t);\n};\n\nfunction safeDateNotEqualCheck(a: Date | string | undefined, b: Date | string | undefined): boolean {\n\tif (!a || !b) {\n\t\treturn a !== b;\n\t}\n\treturn new Date(a).toISOString() !== new Date(b).toISOString();\n}\n\nconst keys: (keyof RoomListRowProps)[] = [\n\t'id',\n\t'style',\n\t'extended',\n\t'selected',\n\t'SidebarItemTemplate',\n\t'AvatarTemplate',\n\t't',\n\t'sidebarViewMode',\n\t'videoConfActions',\n];\n\n// eslint-disable-next-line react/no-multi-comp\nexport default memo(SidebarItemTemplateWithData, (prevProps, nextProps) => {\n\tif (keys.some((key) => prevProps[key] !== nextProps[key])) {\n\t\treturn false;\n\t}\n\n\tif (prevProps.room === nextProps.room) {\n\t\treturn true;\n\t}\n\n\tif (prevProps.room._id !== nextProps.room._id) {\n\t\treturn false;\n\t}\n\tif (prevProps.room._updatedAt?.toISOString() !== nextProps.room._updatedAt?.toISOString()) {\n\t\treturn false;\n\t}\n\tif (safeDateNotEqualCheck(prevProps.room.lastMessage?._updatedAt, nextProps.room.lastMessage?._updatedAt)) {\n\t\treturn false;\n\t}\n\tif (prevProps.room.alert !== nextProps.room.alert) {\n\t\treturn false;\n\t}\n\tif (isOmnichannelRoom(prevProps.room) && isOmnichannelRoom(nextProps.room) && prevProps.room?.v?.status !== nextProps.room?.v?.status) {\n\t\treturn false;\n\t}\n\tif (prevProps.room.teamMain !== nextProps.room.teamMain) {\n\t\treturn false;\n\t}\n\n\tif (\n\t\tisOmnichannelRoom(prevProps.room) &&\n\t\tisOmnichannelRoom(nextProps.room) &&\n\t\tprevProps.room.priorityWeight !== nextProps.room.priorityWeight\n\t) {\n\t\treturn false;\n\t}\n\n\treturn true;\n});\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx","inputSourceMap":{"version":3,"file":"client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx","sourceRoot":"","sources":["client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IMessage, IRoom, ISubscription } from '@rocket.chat/core-typings';\nimport { isDirectMessageRoom, isMultipleDirectMessageRoom, isOmnichannelRoom, isVideoConfMessage } from '@rocket.chat/core-typings';\nimport { SidebarV2Action, SidebarV2Actions, SidebarV2ItemBadge, SidebarV2ItemIcon } from '@rocket.chat/fuselage';\nimport { useLayout } from '@rocket.chat/ui-contexts';\nimport type { TFunction } from 'i18next';\nimport type { AllHTMLAttributes, ComponentType, ReactElement, ReactNode } from 'react';\nimport React, { memo, useMemo } from 'react';\n\nimport { RoomIcon } from '../../components/RoomIcon';\nimport { roomCoordinator } from '../../lib/rooms/roomCoordinator';\nimport { isIOsDevice } from '../../lib/utils/isIOsDevice';\nimport { useOmnichannelPriorities } from '../../omnichannel/hooks/useOmnichannelPriorities';\nimport RoomMenu from '../RoomMenu';\nimport { OmnichannelBadges } from '../badges/OmnichannelBadges';\nimport type { useAvatarTemplate } from '../hooks/useAvatarTemplate';\nimport { normalizeSidebarMessage } from './normalizeSidebarMessage';\n\nexport const getMessage = (room: IRoom, lastMessage: IMessage | undefined, t: TFunction): string | undefined => {\n\tif (!lastMessage) {\n\t\treturn t('No_messages_yet');\n\t}\n\tif (isVideoConfMessage(lastMessage)) {\n\t\treturn t('Call_started');\n\t}\n\tif (!lastMessage.u) {\n\t\treturn normalizeSidebarMessage(lastMessage, t);\n\t}\n\tif (lastMessage.u?.username === room.u?.username) {\n\t\treturn `${t('You')}: ${normalizeSidebarMessage(lastMessage, t)}`;\n\t}\n\tif (isDirectMessageRoom(room) && !isMultipleDirectMessageRoom(room)) {\n\t\treturn normalizeSidebarMessage(lastMessage, t);\n\t}\n\treturn `${lastMessage.u.name || lastMessage.u.username}: ${normalizeSidebarMessage(lastMessage, t)}`;\n};\n\nexport const getBadgeTitle = (userMentions: number, threadUnread: number, groupMentions: number, unread: number, t: TFunction) => {\n\tconst title = [] as string[];\n\tif (userMentions) {\n\t\ttitle.push(t('mentions_counter', { count: userMentions }));\n\t}\n\tif (threadUnread) {\n\t\ttitle.push(t('threads_counter', { count: threadUnread }));\n\t}\n\tif (groupMentions) {\n\t\ttitle.push(t('group_mentions_counter', { count: groupMentions }));\n\t}\n\tconst count = unread - userMentions - groupMentions;\n\tif (count > 0) {\n\t\ttitle.push(t('unread_messages_counter', { count }));\n\t}\n\treturn title.join(', ');\n};\n\ntype RoomListRowProps = {\n\textended: boolean;\n\tt: TFunction;\n\tSidebarItemTemplate: ComponentType<\n\t\t{\n\t\t\ticon: ReactNode;\n\t\t\ttitle: ReactNode;\n\t\t\tavatar: ReactNode;\n\t\t\tactions: unknown;\n\t\t\thref: string;\n\t\t\ttime?: Date;\n\t\t\tmenu?: ReactNode;\n\t\t\tmenuOptions?: unknown;\n\t\t\tsubtitle?: ReactNode;\n\t\t\ttitleIcon?: string;\n\t\t\tbadges?: ReactNode;\n\t\t\tthreadUnread?: boolean;\n\t\t\tunread?: boolean;\n\t\t\tselected?: boolean;\n\t\t\tis?: string;\n\t\t} & AllHTMLAttributes<HTMLElement>\n\t>;\n\tAvatarTemplate: ReturnType<typeof useAvatarTemplate>;\n\topenedRoom?: string;\n\t// sidebarViewMode: 'extended';\n\tisAnonymous?: boolean;\n\n\troom: ISubscription & IRoom;\n\tid?: string;\n\t/* @deprecated */\n\tstyle?: AllHTMLAttributes<HTMLElement>['style'];\n\n\tselected?: boolean;\n\n\tsidebarViewMode?: unknown;\n\tvideoConfActions?: {\n\t\t[action: string]: () => void;\n\t};\n};\n\nconst SidebarItemTemplateWithData = ({\n\troom,\n\tid,\n\tselected,\n\tstyle,\n\textended,\n\tSidebarItemTemplate,\n\tAvatarTemplate,\n\tt,\n\tisAnonymous,\n\tvideoConfActions,\n}: RoomListRowProps) => {\n\tconst { sidebar } = useLayout();\n\n\tconst href = roomCoordinator.getRouteLink(room.t, room) || '';\n\tconst title = roomCoordinator.getRoomName(room.t, room) || '';\n\n\tconst {\n\t\tlastMessage,\n\t\thideUnreadStatus,\n\t\thideMentionStatus,\n\t\tunread = 0,\n\t\talert,\n\t\tuserMentions,\n\t\tgroupMentions,\n\t\ttunread = [],\n\t\ttunreadUser = [],\n\t\trid,\n\t\tt: type,\n\t\tcl,\n\t} = room;\n\n\tconst highlighted = Boolean(!hideUnreadStatus && (alert || unread));\n\tconst icon = (\n\t\t<SidebarV2ItemIcon\n\t\t\thighlighted={highlighted}\n\t\t\ticon={<RoomIcon room={room} placement='sidebar' size='x20' isIncomingCall={Boolean(videoConfActions)} />}\n\t\t/>\n\t);\n\n\tconst actions = useMemo(\n\t\t() =>\n\t\t\tvideoConfActions && (\n\t\t\t\t<SidebarV2Actions>\n\t\t\t\t\t<SidebarV2Action onClick={videoConfActions.acceptCall} mini secondary success icon='phone' />\n\t\t\t\t\t<SidebarV2Action onClick={videoConfActions.rejectCall} mini secondary danger icon='phone-off' />\n\t\t\t\t</SidebarV2Actions>\n\t\t\t),\n\t\t[videoConfActions],\n\t);\n\n\tconst isQueued = isOmnichannelRoom(room) && room.status === 'queued';\n\tconst { enabled: isPriorityEnabled } = useOmnichannelPriorities();\n\n\tconst message = extended && getMessage(room, lastMessage, t);\n\tconst subtitle = message ? <span className='message-body--unstyled' dangerouslySetInnerHTML={{ __html: message }} /> : null;\n\n\tconst threadUnread = tunread.length > 0;\n\tconst variant =\n\t\t((userMentions || tunreadUser.length) && 'danger') || (threadUnread && 'primary') || (groupMentions && 'warning') || 'secondary';\n\n\tconst isUnread = unread > 0 || threadUnread;\n\tconst showBadge = !hideUnreadStatus || (!hideMentionStatus && (Boolean(userMentions) || tunreadUser.length > 0));\n\n\tconst badgeTitle = getBadgeTitle(userMentions, tunread.length, groupMentions, unread, t);\n\n\tconst badges = (\n\t\t<>\n\t\t\t{showBadge && isUnread && (\n\t\t\t\t<SidebarV2ItemBadge variant={variant} title={badgeTitle}>\n\t\t\t\t\t{unread + tunread?.length}\n\t\t\t\t</SidebarV2ItemBadge>\n\t\t\t)}\n\t\t\t{isOmnichannelRoom(room) && <OmnichannelBadges room={room} />}\n\t\t</>\n\t);\n\n\treturn (\n\t\t<SidebarItemTemplate\n\t\t\tis='a'\n\t\t\tid={id}\n\t\t\tdata-qa='sidebar-item'\n\t\t\tdata-unread={highlighted}\n\t\t\tunread={highlighted}\n\t\t\tselected={selected}\n\t\t\thref={href}\n\t\t\tonClick={(): void => {\n\t\t\t\t!selected && sidebar.toggle();\n\t\t\t}}\n\t\t\taria-label={title}\n\t\t\ttitle={title}\n\t\t\ttime={lastMessage?.ts}\n\t\t\tsubtitle={subtitle}\n\t\t\ticon={icon}\n\t\t\tstyle={style}\n\t\t\tbadges={badges}\n\t\t\tavatar={AvatarTemplate && <AvatarTemplate {...room} />}\n\t\t\tactions={actions}\n\t\t\tmenu={\n\t\t\t\t!isIOsDevice &&\n\t\t\t\t!isAnonymous &&\n\t\t\t\t(!isQueued || (isQueued && isPriorityEnabled)) &&\n\t\t\t\t((): ReactElement => (\n\t\t\t\t\t<RoomMenu\n\t\t\t\t\t\talert={alert}\n\t\t\t\t\t\tthreadUnread={threadUnread}\n\t\t\t\t\t\trid={rid}\n\t\t\t\t\t\tunread={!!unread}\n\t\t\t\t\t\troomOpen={selected}\n\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\tcl={cl}\n\t\t\t\t\t\tname={title}\n\t\t\t\t\t\thideDefaultOptions={isQueued}\n\t\t\t\t\t/>\n\t\t\t\t))\n\t\t\t}\n\t\t/>\n\t);\n};\n\nfunction safeDateNotEqualCheck(a: Date | string | undefined, b: Date | string | undefined): boolean {\n\tif (!a || !b) {\n\t\treturn a !== b;\n\t}\n\treturn new Date(a).toISOString() !== new Date(b).toISOString();\n}\n\nconst keys: (keyof RoomListRowProps)[] = [\n\t'id',\n\t'style',\n\t'extended',\n\t'selected',\n\t'SidebarItemTemplate',\n\t'AvatarTemplate',\n\t't',\n\t'sidebarViewMode',\n\t'videoConfActions',\n];\n\n// eslint-disable-next-line react/no-multi-comp\nexport default memo(SidebarItemTemplateWithData, (prevProps, nextProps) => {\n\tif (keys.some((key) => prevProps[key] !== nextProps[key])) {\n\t\treturn false;\n\t}\n\n\tif (prevProps.room === nextProps.room) {\n\t\treturn true;\n\t}\n\n\tif (prevProps.room._id !== nextProps.room._id) {\n\t\treturn false;\n\t}\n\tif (prevProps.room._updatedAt?.toISOString() !== nextProps.room._updatedAt?.toISOString()) {\n\t\treturn false;\n\t}\n\tif (safeDateNotEqualCheck(prevProps.room.lastMessage?._updatedAt, nextProps.room.lastMessage?._updatedAt)) {\n\t\treturn false;\n\t}\n\tif (prevProps.room.alert !== nextProps.room.alert) {\n\t\treturn false;\n\t}\n\tif (isOmnichannelRoom(prevProps.room) && isOmnichannelRoom(nextProps.room) && prevProps.room?.v?.status !== nextProps.room?.v?.status) {\n\t\treturn false;\n\t}\n\tif (prevProps.room.teamMain !== nextProps.room.teamMain) {\n\t\treturn false;\n\t}\n\n\tif (\n\t\tisOmnichannelRoom(prevProps.room) &&\n\t\tisOmnichannelRoom(nextProps.room) &&\n\t\tprevProps.room.priorityWeight !== nextProps.room.priorityWeight\n\t) {\n\t\treturn false;\n\t}\n\n\treturn true;\n});\n"]}}},"code":"module.export({\n  getMessage: () => getMessage,\n  getBadgeTitle: () => getBadgeTitle\n});\nlet isDirectMessageRoom, isMultipleDirectMessageRoom, isOmnichannelRoom, isVideoConfMessage;\nmodule.link(\"@rocket.chat/core-typings\", {\n  isDirectMessageRoom(v) {\n    isDirectMessageRoom = v;\n  },\n  isMultipleDirectMessageRoom(v) {\n    isMultipleDirectMessageRoom = v;\n  },\n  isOmnichannelRoom(v) {\n    isOmnichannelRoom = v;\n  },\n  isVideoConfMessage(v) {\n    isVideoConfMessage = v;\n  }\n}, 0);\nlet SidebarV2Action, SidebarV2Actions, SidebarV2ItemBadge, SidebarV2ItemIcon;\nmodule.link(\"@rocket.chat/fuselage\", {\n  SidebarV2Action(v) {\n    SidebarV2Action = v;\n  },\n  SidebarV2Actions(v) {\n    SidebarV2Actions = v;\n  },\n  SidebarV2ItemBadge(v) {\n    SidebarV2ItemBadge = v;\n  },\n  SidebarV2ItemIcon(v) {\n    SidebarV2ItemIcon = v;\n  }\n}, 1);\nlet useLayout;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useLayout(v) {\n    useLayout = v;\n  }\n}, 2);\nlet React, memo, useMemo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n  memo(v) {\n    memo = v;\n  },\n  useMemo(v) {\n    useMemo = v;\n  }\n}, 3);\nlet RoomIcon;\nmodule.link(\"../../components/RoomIcon\", {\n  RoomIcon(v) {\n    RoomIcon = v;\n  }\n}, 4);\nlet roomCoordinator;\nmodule.link(\"../../lib/rooms/roomCoordinator\", {\n  roomCoordinator(v) {\n    roomCoordinator = v;\n  }\n}, 5);\nlet isIOsDevice;\nmodule.link(\"../../lib/utils/isIOsDevice\", {\n  isIOsDevice(v) {\n    isIOsDevice = v;\n  }\n}, 6);\nlet useOmnichannelPriorities;\nmodule.link(\"../../omnichannel/hooks/useOmnichannelPriorities\", {\n  useOmnichannelPriorities(v) {\n    useOmnichannelPriorities = v;\n  }\n}, 7);\nlet RoomMenu;\nmodule.link(\"../RoomMenu\", {\n  default(v) {\n    RoomMenu = v;\n  }\n}, 8);\nlet OmnichannelBadges;\nmodule.link(\"../badges/OmnichannelBadges\", {\n  OmnichannelBadges(v) {\n    OmnichannelBadges = v;\n  }\n}, 9);\nlet normalizeSidebarMessage;\nmodule.link(\"./normalizeSidebarMessage\", {\n  normalizeSidebarMessage(v) {\n    normalizeSidebarMessage = v;\n  }\n}, 10);\nconst getMessage = (room, lastMessage, t) => {\n  var _lastMessage$u, _room$u;\n  if (!lastMessage) {\n    return t('No_messages_yet');\n  }\n  if (isVideoConfMessage(lastMessage)) {\n    return t('Call_started');\n  }\n  if (!lastMessage.u) {\n    return normalizeSidebarMessage(lastMessage, t);\n  }\n  if (((_lastMessage$u = lastMessage.u) === null || _lastMessage$u === void 0 ? void 0 : _lastMessage$u.username) === ((_room$u = room.u) === null || _room$u === void 0 ? void 0 : _room$u.username)) {\n    return \"\".concat(t('You'), \": \").concat(normalizeSidebarMessage(lastMessage, t));\n  }\n  if (isDirectMessageRoom(room) && !isMultipleDirectMessageRoom(room)) {\n    return normalizeSidebarMessage(lastMessage, t);\n  }\n  return \"\".concat(lastMessage.u.name || lastMessage.u.username, \": \").concat(normalizeSidebarMessage(lastMessage, t));\n};\nconst getBadgeTitle = (userMentions, threadUnread, groupMentions, unread, t) => {\n  const title = [];\n  if (userMentions) {\n    title.push(t('mentions_counter', {\n      count: userMentions\n    }));\n  }\n  if (threadUnread) {\n    title.push(t('threads_counter', {\n      count: threadUnread\n    }));\n  }\n  if (groupMentions) {\n    title.push(t('group_mentions_counter', {\n      count: groupMentions\n    }));\n  }\n  const count = unread - userMentions - groupMentions;\n  if (count > 0) {\n    title.push(t('unread_messages_counter', {\n      count\n    }));\n  }\n  return title.join(', ');\n};\nconst SidebarItemTemplateWithData = _ref => {\n  let {\n    room,\n    id,\n    selected,\n    style,\n    extended,\n    SidebarItemTemplate,\n    AvatarTemplate,\n    t,\n    isAnonymous,\n    videoConfActions\n  } = _ref;\n  const {\n    sidebar\n  } = useLayout();\n  const href = roomCoordinator.getRouteLink(room.t, room) || '';\n  const title = roomCoordinator.getRoomName(room.t, room) || '';\n  const {\n    lastMessage,\n    hideUnreadStatus,\n    hideMentionStatus,\n    unread = 0,\n    alert,\n    userMentions,\n    groupMentions,\n    tunread = [],\n    tunreadUser = [],\n    rid,\n    t: type,\n    cl\n  } = room;\n  const highlighted = Boolean(!hideUnreadStatus && (alert || unread));\n  const icon = /*#__PURE__*/React.createElement(SidebarV2ItemIcon, {\n    highlighted: highlighted,\n    icon: /*#__PURE__*/React.createElement(RoomIcon, {\n      room: room,\n      placement: \"sidebar\",\n      size: \"x20\",\n      isIncomingCall: Boolean(videoConfActions)\n    })\n  });\n  const actions = useMemo(() => videoConfActions && /*#__PURE__*/React.createElement(SidebarV2Actions, null, /*#__PURE__*/React.createElement(SidebarV2Action, {\n    onClick: videoConfActions.acceptCall,\n    mini: true,\n    secondary: true,\n    success: true,\n    icon: \"phone\"\n  }), /*#__PURE__*/React.createElement(SidebarV2Action, {\n    onClick: videoConfActions.rejectCall,\n    mini: true,\n    secondary: true,\n    danger: true,\n    icon: \"phone-off\"\n  })), [videoConfActions]);\n  const isQueued = isOmnichannelRoom(room) && room.status === 'queued';\n  const {\n    enabled: isPriorityEnabled\n  } = useOmnichannelPriorities();\n  const message = extended && getMessage(room, lastMessage, t);\n  const subtitle = message ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"message-body--unstyled\",\n    dangerouslySetInnerHTML: {\n      __html: message\n    }\n  }) : null;\n  const threadUnread = tunread.length > 0;\n  const variant = (userMentions || tunreadUser.length) && 'danger' || threadUnread && 'primary' || groupMentions && 'warning' || 'secondary';\n  const isUnread = unread > 0 || threadUnread;\n  const showBadge = !hideUnreadStatus || !hideMentionStatus && (Boolean(userMentions) || tunreadUser.length > 0);\n  const badgeTitle = getBadgeTitle(userMentions, tunread.length, groupMentions, unread, t);\n  const badges = /*#__PURE__*/React.createElement(React.Fragment, null, showBadge && isUnread && /*#__PURE__*/React.createElement(SidebarV2ItemBadge, {\n    variant: variant,\n    title: badgeTitle\n  }, unread + (tunread === null || tunread === void 0 ? void 0 : tunread.length)), isOmnichannelRoom(room) && /*#__PURE__*/React.createElement(OmnichannelBadges, {\n    room: room\n  }));\n  return /*#__PURE__*/React.createElement(SidebarItemTemplate, {\n    is: \"a\",\n    id: id,\n    \"data-qa\": \"sidebar-item\",\n    \"data-unread\": highlighted,\n    unread: highlighted,\n    selected: selected,\n    href: href,\n    onClick: () => {\n      !selected && sidebar.toggle();\n    },\n    \"aria-label\": title,\n    title: title,\n    time: lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.ts,\n    subtitle: subtitle,\n    icon: icon,\n    style: style,\n    badges: badges,\n    avatar: AvatarTemplate && /*#__PURE__*/React.createElement(AvatarTemplate, room),\n    actions: actions,\n    menu: !isIOsDevice && !isAnonymous && (!isQueued || isQueued && isPriorityEnabled) && (() => /*#__PURE__*/React.createElement(RoomMenu, {\n      alert: alert,\n      threadUnread: threadUnread,\n      rid: rid,\n      unread: !!unread,\n      roomOpen: selected,\n      type: type,\n      cl: cl,\n      name: title,\n      hideDefaultOptions: isQueued\n    }))\n  });\n};\nfunction safeDateNotEqualCheck(a, b) {\n  if (!a || !b) {\n    return a !== b;\n  }\n  return new Date(a).toISOString() !== new Date(b).toISOString();\n}\nconst keys = ['id', 'style', 'extended', 'selected', 'SidebarItemTemplate', 'AvatarTemplate', 't', 'sidebarViewMode', 'videoConfActions'];\n// eslint-disable-next-line react/no-multi-comp\nmodule.exportDefault( /*#__PURE__*/memo(SidebarItemTemplateWithData, (prevProps, nextProps) => {\n  var _prevProps$room$_upda, _nextProps$room$_upda, _prevProps$room$lastM, _nextProps$room$lastM, _prevProps$room, _prevProps$room$v, _nextProps$room, _nextProps$room$v;\n  if (keys.some(key => prevProps[key] !== nextProps[key])) {\n    return false;\n  }\n  if (prevProps.room === nextProps.room) {\n    return true;\n  }\n  if (prevProps.room._id !== nextProps.room._id) {\n    return false;\n  }\n  if (((_prevProps$room$_upda = prevProps.room._updatedAt) === null || _prevProps$room$_upda === void 0 ? void 0 : _prevProps$room$_upda.toISOString()) !== ((_nextProps$room$_upda = nextProps.room._updatedAt) === null || _nextProps$room$_upda === void 0 ? void 0 : _nextProps$room$_upda.toISOString())) {\n    return false;\n  }\n  if (safeDateNotEqualCheck((_prevProps$room$lastM = prevProps.room.lastMessage) === null || _prevProps$room$lastM === void 0 ? void 0 : _prevProps$room$lastM._updatedAt, (_nextProps$room$lastM = nextProps.room.lastMessage) === null || _nextProps$room$lastM === void 0 ? void 0 : _nextProps$room$lastM._updatedAt)) {\n    return false;\n  }\n  if (prevProps.room.alert !== nextProps.room.alert) {\n    return false;\n  }\n  if (isOmnichannelRoom(prevProps.room) && isOmnichannelRoom(nextProps.room) && ((_prevProps$room = prevProps.room) === null || _prevProps$room === void 0 ? void 0 : (_prevProps$room$v = _prevProps$room.v) === null || _prevProps$room$v === void 0 ? void 0 : _prevProps$room$v.status) !== ((_nextProps$room = nextProps.room) === null || _nextProps$room === void 0 ? void 0 : (_nextProps$room$v = _nextProps$room.v) === null || _nextProps$room$v === void 0 ? void 0 : _nextProps$room$v.status)) {\n    return false;\n  }\n  if (prevProps.room.teamMain !== nextProps.room.teamMain) {\n    return false;\n  }\n  if (isOmnichannelRoom(prevProps.room) && isOmnichannelRoom(nextProps.room) && prevProps.room.priorityWeight !== nextProps.room.priorityWeight) {\n    return false;\n  }\n  return true;\n}));","map":{"version":3,"names":["module","export","getMessage","getBadgeTitle","isDirectMessageRoom","isMultipleDirectMessageRoom","isOmnichannelRoom","isVideoConfMessage","link","v","SidebarV2Action","SidebarV2Actions","SidebarV2ItemBadge","SidebarV2ItemIcon","useLayout","React","memo","useMemo","default","RoomIcon","roomCoordinator","isIOsDevice","useOmnichannelPriorities","RoomMenu","OmnichannelBadges","normalizeSidebarMessage","room","lastMessage","t","_lastMessage$u","_room$u","u","username","concat","name","userMentions","threadUnread","groupMentions","unread","title","push","count","join","SidebarItemTemplateWithData","_ref","id","selected","style","extended","SidebarItemTemplate","AvatarTemplate","isAnonymous","videoConfActions","sidebar","href","getRouteLink","getRoomName","hideUnreadStatus","hideMentionStatus","alert","tunread","tunreadUser","rid","type","cl","highlighted","Boolean","icon","createElement","placement","size","isIncomingCall","actions","onClick","acceptCall","mini","secondary","success","rejectCall","danger","isQueued","status","enabled","isPriorityEnabled","message","subtitle","className","dangerouslySetInnerHTML","__html","length","variant","isUnread","showBadge","badgeTitle","badges","Fragment","is","toggle","time","ts","avatar","menu","roomOpen","hideDefaultOptions","safeDateNotEqualCheck","a","b","Date","toISOString","keys","exportDefault","prevProps","nextProps","_prevProps$room$_upda","_nextProps$room$_upda","_prevProps$room$lastM","_nextProps$room$lastM","_prevProps$room","_prevProps$room$v","_nextProps$room","_nextProps$room$v","some","key","_id","_updatedAt","teamMain","priorityWeight"],"sources":["client/sidebarv2/RoomList/SidebarItemTemplateWithData.tsx"],"sourcesContent":["import type { IMessage, IRoom, ISubscription } from '@rocket.chat/core-typings';\nimport { isDirectMessageRoom, isMultipleDirectMessageRoom, isOmnichannelRoom, isVideoConfMessage } from '@rocket.chat/core-typings';\nimport { SidebarV2Action, SidebarV2Actions, SidebarV2ItemBadge, SidebarV2ItemIcon } from '@rocket.chat/fuselage';\nimport { useLayout } from '@rocket.chat/ui-contexts';\nimport type { TFunction } from 'i18next';\nimport type { AllHTMLAttributes, ComponentType, ReactElement, ReactNode } from 'react';\nimport React, { memo, useMemo } from 'react';\n\nimport { RoomIcon } from '../../components/RoomIcon';\nimport { roomCoordinator } from '../../lib/rooms/roomCoordinator';\nimport { isIOsDevice } from '../../lib/utils/isIOsDevice';\nimport { useOmnichannelPriorities } from '../../omnichannel/hooks/useOmnichannelPriorities';\nimport RoomMenu from '../RoomMenu';\nimport { OmnichannelBadges } from '../badges/OmnichannelBadges';\nimport type { useAvatarTemplate } from '../hooks/useAvatarTemplate';\nimport { normalizeSidebarMessage } from './normalizeSidebarMessage';\n\nexport const getMessage = (room: IRoom, lastMessage: IMessage | undefined, t: TFunction): string | undefined => {\n\tif (!lastMessage) {\n\t\treturn t('No_messages_yet');\n\t}\n\tif (isVideoConfMessage(lastMessage)) {\n\t\treturn t('Call_started');\n\t}\n\tif (!lastMessage.u) {\n\t\treturn normalizeSidebarMessage(lastMessage, t);\n\t}\n\tif (lastMessage.u?.username === room.u?.username) {\n\t\treturn `${t('You')}: ${normalizeSidebarMessage(lastMessage, t)}`;\n\t}\n\tif (isDirectMessageRoom(room) && !isMultipleDirectMessageRoom(room)) {\n\t\treturn normalizeSidebarMessage(lastMessage, t);\n\t}\n\treturn `${lastMessage.u.name || lastMessage.u.username}: ${normalizeSidebarMessage(lastMessage, t)}`;\n};\n\nexport const getBadgeTitle = (userMentions: number, threadUnread: number, groupMentions: number, unread: number, t: TFunction) => {\n\tconst title = [] as string[];\n\tif (userMentions) {\n\t\ttitle.push(t('mentions_counter', { count: userMentions }));\n\t}\n\tif (threadUnread) {\n\t\ttitle.push(t('threads_counter', { count: threadUnread }));\n\t}\n\tif (groupMentions) {\n\t\ttitle.push(t('group_mentions_counter', { count: groupMentions }));\n\t}\n\tconst count = unread - userMentions - groupMentions;\n\tif (count > 0) {\n\t\ttitle.push(t('unread_messages_counter', { count }));\n\t}\n\treturn title.join(', ');\n};\n\ntype RoomListRowProps = {\n\textended: boolean;\n\tt: TFunction;\n\tSidebarItemTemplate: ComponentType<\n\t\t{\n\t\t\ticon: ReactNode;\n\t\t\ttitle: ReactNode;\n\t\t\tavatar: ReactNode;\n\t\t\tactions: unknown;\n\t\t\thref: string;\n\t\t\ttime?: Date;\n\t\t\tmenu?: ReactNode;\n\t\t\tmenuOptions?: unknown;\n\t\t\tsubtitle?: ReactNode;\n\t\t\ttitleIcon?: string;\n\t\t\tbadges?: ReactNode;\n\t\t\tthreadUnread?: boolean;\n\t\t\tunread?: boolean;\n\t\t\tselected?: boolean;\n\t\t\tis?: string;\n\t\t} & AllHTMLAttributes<HTMLElement>\n\t>;\n\tAvatarTemplate: ReturnType<typeof useAvatarTemplate>;\n\topenedRoom?: string;\n\t// sidebarViewMode: 'extended';\n\tisAnonymous?: boolean;\n\n\troom: ISubscription & IRoom;\n\tid?: string;\n\t/* @deprecated */\n\tstyle?: AllHTMLAttributes<HTMLElement>['style'];\n\n\tselected?: boolean;\n\n\tsidebarViewMode?: unknown;\n\tvideoConfActions?: {\n\t\t[action: string]: () => void;\n\t};\n};\n\nconst SidebarItemTemplateWithData = ({\n\troom,\n\tid,\n\tselected,\n\tstyle,\n\textended,\n\tSidebarItemTemplate,\n\tAvatarTemplate,\n\tt,\n\tisAnonymous,\n\tvideoConfActions,\n}: RoomListRowProps) => {\n\tconst { sidebar } = useLayout();\n\n\tconst href = roomCoordinator.getRouteLink(room.t, room) || '';\n\tconst title = roomCoordinator.getRoomName(room.t, room) || '';\n\n\tconst {\n\t\tlastMessage,\n\t\thideUnreadStatus,\n\t\thideMentionStatus,\n\t\tunread = 0,\n\t\talert,\n\t\tuserMentions,\n\t\tgroupMentions,\n\t\ttunread = [],\n\t\ttunreadUser = [],\n\t\trid,\n\t\tt: type,\n\t\tcl,\n\t} = room;\n\n\tconst highlighted = Boolean(!hideUnreadStatus && (alert || unread));\n\tconst icon = (\n\t\t<SidebarV2ItemIcon\n\t\t\thighlighted={highlighted}\n\t\t\ticon={<RoomIcon room={room} placement='sidebar' size='x20' isIncomingCall={Boolean(videoConfActions)} />}\n\t\t/>\n\t);\n\n\tconst actions = useMemo(\n\t\t() =>\n\t\t\tvideoConfActions && (\n\t\t\t\t<SidebarV2Actions>\n\t\t\t\t\t<SidebarV2Action onClick={videoConfActions.acceptCall} mini secondary success icon='phone' />\n\t\t\t\t\t<SidebarV2Action onClick={videoConfActions.rejectCall} mini secondary danger icon='phone-off' />\n\t\t\t\t</SidebarV2Actions>\n\t\t\t),\n\t\t[videoConfActions],\n\t);\n\n\tconst isQueued = isOmnichannelRoom(room) && room.status === 'queued';\n\tconst { enabled: isPriorityEnabled } = useOmnichannelPriorities();\n\n\tconst message = extended && getMessage(room, lastMessage, t);\n\tconst subtitle = message ? <span className='message-body--unstyled' dangerouslySetInnerHTML={{ __html: message }} /> : null;\n\n\tconst threadUnread = tunread.length > 0;\n\tconst variant =\n\t\t((userMentions || tunreadUser.length) && 'danger') || (threadUnread && 'primary') || (groupMentions && 'warning') || 'secondary';\n\n\tconst isUnread = unread > 0 || threadUnread;\n\tconst showBadge = !hideUnreadStatus || (!hideMentionStatus && (Boolean(userMentions) || tunreadUser.length > 0));\n\n\tconst badgeTitle = getBadgeTitle(userMentions, tunread.length, groupMentions, unread, t);\n\n\tconst badges = (\n\t\t<>\n\t\t\t{showBadge && isUnread && (\n\t\t\t\t<SidebarV2ItemBadge variant={variant} title={badgeTitle}>\n\t\t\t\t\t{unread + tunread?.length}\n\t\t\t\t</SidebarV2ItemBadge>\n\t\t\t)}\n\t\t\t{isOmnichannelRoom(room) && <OmnichannelBadges room={room} />}\n\t\t</>\n\t);\n\n\treturn (\n\t\t<SidebarItemTemplate\n\t\t\tis='a'\n\t\t\tid={id}\n\t\t\tdata-qa='sidebar-item'\n\t\t\tdata-unread={highlighted}\n\t\t\tunread={highlighted}\n\t\t\tselected={selected}\n\t\t\thref={href}\n\t\t\tonClick={(): void => {\n\t\t\t\t!selected && sidebar.toggle();\n\t\t\t}}\n\t\t\taria-label={title}\n\t\t\ttitle={title}\n\t\t\ttime={lastMessage?.ts}\n\t\t\tsubtitle={subtitle}\n\t\t\ticon={icon}\n\t\t\tstyle={style}\n\t\t\tbadges={badges}\n\t\t\tavatar={AvatarTemplate && <AvatarTemplate {...room} />}\n\t\t\tactions={actions}\n\t\t\tmenu={\n\t\t\t\t!isIOsDevice &&\n\t\t\t\t!isAnonymous &&\n\t\t\t\t(!isQueued || (isQueued && isPriorityEnabled)) &&\n\t\t\t\t((): ReactElement => (\n\t\t\t\t\t<RoomMenu\n\t\t\t\t\t\talert={alert}\n\t\t\t\t\t\tthreadUnread={threadUnread}\n\t\t\t\t\t\trid={rid}\n\t\t\t\t\t\tunread={!!unread}\n\t\t\t\t\t\troomOpen={selected}\n\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\tcl={cl}\n\t\t\t\t\t\tname={title}\n\t\t\t\t\t\thideDefaultOptions={isQueued}\n\t\t\t\t\t/>\n\t\t\t\t))\n\t\t\t}\n\t\t/>\n\t);\n};\n\nfunction safeDateNotEqualCheck(a: Date | string | undefined, b: Date | string | undefined): boolean {\n\tif (!a || !b) {\n\t\treturn a !== b;\n\t}\n\treturn new Date(a).toISOString() !== new Date(b).toISOString();\n}\n\nconst keys: (keyof RoomListRowProps)[] = [\n\t'id',\n\t'style',\n\t'extended',\n\t'selected',\n\t'SidebarItemTemplate',\n\t'AvatarTemplate',\n\t't',\n\t'sidebarViewMode',\n\t'videoConfActions',\n];\n\n// eslint-disable-next-line react/no-multi-comp\nexport default memo(SidebarItemTemplateWithData, (prevProps, nextProps) => {\n\tif (keys.some((key) => prevProps[key] !== nextProps[key])) {\n\t\treturn false;\n\t}\n\n\tif (prevProps.room === nextProps.room) {\n\t\treturn true;\n\t}\n\n\tif (prevProps.room._id !== nextProps.room._id) {\n\t\treturn false;\n\t}\n\tif (prevProps.room._updatedAt?.toISOString() !== nextProps.room._updatedAt?.toISOString()) {\n\t\treturn false;\n\t}\n\tif (safeDateNotEqualCheck(prevProps.room.lastMessage?._updatedAt, nextProps.room.lastMessage?._updatedAt)) {\n\t\treturn false;\n\t}\n\tif (prevProps.room.alert !== nextProps.room.alert) {\n\t\treturn false;\n\t}\n\tif (isOmnichannelRoom(prevProps.room) && isOmnichannelRoom(nextProps.room) && prevProps.room?.v?.status !== nextProps.room?.v?.status) {\n\t\treturn false;\n\t}\n\tif (prevProps.room.teamMain !== nextProps.room.teamMain) {\n\t\treturn false;\n\t}\n\n\tif (\n\t\tisOmnichannelRoom(prevProps.room) &&\n\t\tisOmnichannelRoom(nextProps.room) &&\n\t\tprevProps.room.priorityWeight !== nextProps.room.priorityWeight\n\t) {\n\t\treturn false;\n\t}\n\n\treturn true;\n});\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"371664bd04d364dcdea2ceb98be8dc5d9d9e6c38"}
