{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/tags/TagEdit.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/omnichannel/tags/TagEdit.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/tags/TagEdit.tsx","inputSourceMap":{"version":3,"file":"client/omnichannel/tags/TagEdit.tsx","sourceRoot":"","sources":["client/omnichannel/tags/TagEdit.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ILivechatDepartment, ILivechatTag, Serialized } from '@rocket.chat/core-typings';\nimport { Field, FieldLabel, FieldRow, FieldError, TextInput, Button, ButtonGroup, FieldGroup, Box } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useRouter, useMethod } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport AutoCompleteDepartmentMultiple from '../../components/AutoCompleteDepartmentMultiple';\nimport {\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarTitle,\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarClose,\n} from '../../components/Contextualbar';\nimport { useRemoveTag } from './useRemoveTag';\n\ntype TagEditPayload = {\n\tname: string;\n\tdescription: string;\n\tdepartments: { label: string; value: string }[];\n};\n\ntype TagEditProps = {\n\ttagData?: ILivechatTag;\n\tcurrentDepartments?: Serialized<ILivechatDepartment>[];\n};\n\nconst TagEdit = ({ tagData, currentDepartments }: TagEditProps) => {\n\tconst { t } = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\tconst handleDeleteTag = useRemoveTag();\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst saveTag = useMethod('livechat:saveTag');\n\n\tconst { _id, name, description } = tagData || {};\n\n\tconst {\n\t\tcontrol,\n\t\tformState: { isDirty, errors },\n\t\thandleSubmit,\n\t} = useForm<TagEditPayload>({\n\t\tmode: 'onBlur',\n\t\tvalues: {\n\t\t\tname: name || '',\n\t\t\tdescription: description || '',\n\t\t\tdepartments: currentDepartments?.map((dep) => ({ label: dep.name, value: dep._id })) || [],\n\t\t},\n\t});\n\n\tconst handleSave = useMutableCallback(async ({ name, description, departments }: TagEditPayload) => {\n\t\tconst departmentsId = departments?.map((dep) => dep.value) || [''];\n\n\t\ttry {\n\t\t\tawait saveTag(_id as unknown as string, { name, description }, departmentsId);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-tags']);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t} finally {\n\t\t\trouter.navigate('/omnichannel/tags');\n\t\t}\n\t});\n\n\tconst formId = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst descriptionField = useUniqueId();\n\tconst departmentsField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{_id ? t('Edit_Tag') : t('New_Tag')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/tags')}></ContextualbarClose>\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box id={formId} is='form' autoComplete='off' onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Name') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput {...field} error={errors?.name?.message} aria-describedby={`${nameField}-error`} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.name?.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller name='description' control={control} render={({ field }) => <TextInput id={descriptionField} {...field} />} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={departmentsField}>{t('Departments')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='departments'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <AutoCompleteDepartmentMultiple id={departmentsField} showArchived {...field} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/tags')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} disabled={!isDirty} type='submit' primary>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{_id && (\n\t\t\t\t\t<Box mbs={8}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button icon='trash' danger onClick={() => handleDeleteTag(_id)}>\n\t\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default TagEdit;\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/omnichannel/tags/TagEdit.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/omnichannel/tags/TagEdit.tsx","inputSourceMap":{"version":3,"file":"client/omnichannel/tags/TagEdit.tsx","sourceRoot":"","sources":["client/omnichannel/tags/TagEdit.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { ILivechatDepartment, ILivechatTag, Serialized } from '@rocket.chat/core-typings';\nimport { Field, FieldLabel, FieldRow, FieldError, TextInput, Button, ButtonGroup, FieldGroup, Box } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useRouter, useMethod } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport AutoCompleteDepartmentMultiple from '../../components/AutoCompleteDepartmentMultiple';\nimport {\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarTitle,\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarClose,\n} from '../../components/Contextualbar';\nimport { useRemoveTag } from './useRemoveTag';\n\ntype TagEditPayload = {\n\tname: string;\n\tdescription: string;\n\tdepartments: { label: string; value: string }[];\n};\n\ntype TagEditProps = {\n\ttagData?: ILivechatTag;\n\tcurrentDepartments?: Serialized<ILivechatDepartment>[];\n};\n\nconst TagEdit = ({ tagData, currentDepartments }: TagEditProps) => {\n\tconst { t } = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\tconst handleDeleteTag = useRemoveTag();\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst saveTag = useMethod('livechat:saveTag');\n\n\tconst { _id, name, description } = tagData || {};\n\n\tconst {\n\t\tcontrol,\n\t\tformState: { isDirty, errors },\n\t\thandleSubmit,\n\t} = useForm<TagEditPayload>({\n\t\tmode: 'onBlur',\n\t\tvalues: {\n\t\t\tname: name || '',\n\t\t\tdescription: description || '',\n\t\t\tdepartments: currentDepartments?.map((dep) => ({ label: dep.name, value: dep._id })) || [],\n\t\t},\n\t});\n\n\tconst handleSave = useMutableCallback(async ({ name, description, departments }: TagEditPayload) => {\n\t\tconst departmentsId = departments?.map((dep) => dep.value) || [''];\n\n\t\ttry {\n\t\t\tawait saveTag(_id as unknown as string, { name, description }, departmentsId);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-tags']);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t} finally {\n\t\t\trouter.navigate('/omnichannel/tags');\n\t\t}\n\t});\n\n\tconst formId = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst descriptionField = useUniqueId();\n\tconst departmentsField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{_id ? t('Edit_Tag') : t('New_Tag')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/tags')}></ContextualbarClose>\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box id={formId} is='form' autoComplete='off' onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Name') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput {...field} error={errors?.name?.message} aria-describedby={`${nameField}-error`} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.name?.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller name='description' control={control} render={({ field }) => <TextInput id={descriptionField} {...field} />} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={departmentsField}>{t('Departments')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='departments'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <AutoCompleteDepartmentMultiple id={departmentsField} showArchived {...field} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/tags')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} disabled={!isDirty} type='submit' primary>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{_id && (\n\t\t\t\t\t<Box mbs={8}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button icon='trash' danger onClick={() => handleDeleteTag(_id)}>\n\t\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default TagEdit;\n"]}}},"code":"let _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n}, 0);\nlet Field, FieldLabel, FieldRow, FieldError, TextInput, Button, ButtonGroup, FieldGroup, Box;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Field(v) {\n    Field = v;\n  },\n  FieldLabel(v) {\n    FieldLabel = v;\n  },\n  FieldRow(v) {\n    FieldRow = v;\n  },\n  FieldError(v) {\n    FieldError = v;\n  },\n  TextInput(v) {\n    TextInput = v;\n  },\n  Button(v) {\n    Button = v;\n  },\n  ButtonGroup(v) {\n    ButtonGroup = v;\n  },\n  FieldGroup(v) {\n    FieldGroup = v;\n  },\n  Box(v) {\n    Box = v;\n  }\n}, 0);\nlet useMutableCallback, useUniqueId;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  },\n  useUniqueId(v) {\n    useUniqueId = v;\n  }\n}, 1);\nlet useToastMessageDispatch, useRouter, useMethod;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useToastMessageDispatch(v) {\n    useToastMessageDispatch = v;\n  },\n  useRouter(v) {\n    useRouter = v;\n  },\n  useMethod(v) {\n    useMethod = v;\n  }\n}, 2);\nlet useQueryClient;\nmodule.link(\"@tanstack/react-query\", {\n  useQueryClient(v) {\n    useQueryClient = v;\n  }\n}, 3);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n}, 4);\nlet useForm, Controller;\nmodule.link(\"react-hook-form\", {\n  useForm(v) {\n    useForm = v;\n  },\n  Controller(v) {\n    Controller = v;\n  }\n}, 5);\nlet useTranslation;\nmodule.link(\"react-i18next\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n}, 6);\nlet AutoCompleteDepartmentMultiple;\nmodule.link(\"../../components/AutoCompleteDepartmentMultiple\", {\n  default(v) {\n    AutoCompleteDepartmentMultiple = v;\n  }\n}, 7);\nlet ContextualbarScrollableContent, ContextualbarFooter, ContextualbarTitle, Contextualbar, ContextualbarHeader, ContextualbarClose;\nmodule.link(\"../../components/Contextualbar\", {\n  ContextualbarScrollableContent(v) {\n    ContextualbarScrollableContent = v;\n  },\n  ContextualbarFooter(v) {\n    ContextualbarFooter = v;\n  },\n  ContextualbarTitle(v) {\n    ContextualbarTitle = v;\n  },\n  Contextualbar(v) {\n    Contextualbar = v;\n  },\n  ContextualbarHeader(v) {\n    ContextualbarHeader = v;\n  },\n  ContextualbarClose(v) {\n    ContextualbarClose = v;\n  }\n}, 8);\nlet useRemoveTag;\nmodule.link(\"./useRemoveTag\", {\n  useRemoveTag(v) {\n    useRemoveTag = v;\n  }\n}, 9);\nconst TagEdit = _ref => {\n  var _errors$name2;\n  let {\n    tagData,\n    currentDepartments\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const router = useRouter();\n  const queryClient = useQueryClient();\n  const handleDeleteTag = useRemoveTag();\n  const dispatchToastMessage = useToastMessageDispatch();\n  const saveTag = useMethod('livechat:saveTag');\n  const {\n    _id,\n    name,\n    description\n  } = tagData || {};\n  const {\n    control,\n    formState: {\n      isDirty,\n      errors\n    },\n    handleSubmit\n  } = useForm({\n    mode: 'onBlur',\n    values: {\n      name: name || '',\n      description: description || '',\n      departments: (currentDepartments === null || currentDepartments === void 0 ? void 0 : currentDepartments.map(dep => ({\n        label: dep.name,\n        value: dep._id\n      }))) || []\n    }\n  });\n  const handleSave = useMutableCallback(async _ref2 => {\n    let {\n      name,\n      description,\n      departments\n    } = _ref2;\n    const departmentsId = (departments === null || departments === void 0 ? void 0 : departments.map(dep => dep.value)) || [''];\n    try {\n      await saveTag(_id, {\n        name,\n        description\n      }, departmentsId);\n      dispatchToastMessage({\n        type: 'success',\n        message: t('Saved')\n      });\n      queryClient.invalidateQueries(['livechat-tags']);\n    } catch (error) {\n      dispatchToastMessage({\n        type: 'error',\n        message: error\n      });\n    } finally {\n      router.navigate('/omnichannel/tags');\n    }\n  });\n  const formId = useUniqueId();\n  const nameField = useUniqueId();\n  const descriptionField = useUniqueId();\n  const departmentsField = useUniqueId();\n  return /*#__PURE__*/React.createElement(Contextualbar, null, /*#__PURE__*/React.createElement(ContextualbarHeader, null, /*#__PURE__*/React.createElement(ContextualbarTitle, null, _id ? t('Edit_Tag') : t('New_Tag')), /*#__PURE__*/React.createElement(ContextualbarClose, {\n    onClick: () => router.navigate('/omnichannel/tags')\n  })), /*#__PURE__*/React.createElement(ContextualbarScrollableContent, null, /*#__PURE__*/React.createElement(Box, {\n    id: formId,\n    is: \"form\",\n    autoComplete: \"off\",\n    onSubmit: handleSubmit(handleSave)\n  }, /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: nameField,\n    required: true\n  }, t('Name')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"name\",\n    control: control,\n    rules: {\n      required: t('Required_field', {\n        field: t('Name')\n      })\n    },\n    render: _ref3 => {\n      var _errors$name;\n      let {\n        field\n      } = _ref3;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({}, field, {\n        error: errors === null || errors === void 0 ? void 0 : (_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.message,\n        \"aria-describedby\": \"\".concat(nameField, \"-error\")\n      }));\n    }\n  })), (errors === null || errors === void 0 ? void 0 : errors.name) && /*#__PURE__*/React.createElement(FieldError, {\n    \"aria-live\": \"assertive\",\n    id: \"\".concat(nameField, \"-error\")\n  }, errors === null || errors === void 0 ? void 0 : (_errors$name2 = errors.name) === null || _errors$name2 === void 0 ? void 0 : _errors$name2.message)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: descriptionField\n  }, t('Description')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"description\",\n    control: control,\n    render: _ref4 => {\n      let {\n        field\n      } = _ref4;\n      return /*#__PURE__*/React.createElement(TextInput, _extends({\n        id: descriptionField\n      }, field));\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(FieldLabel, {\n    htmlFor: departmentsField\n  }, t('Departments')), /*#__PURE__*/React.createElement(FieldRow, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"departments\",\n    control: control,\n    render: _ref5 => {\n      let {\n        field\n      } = _ref5;\n      return /*#__PURE__*/React.createElement(AutoCompleteDepartmentMultiple, _extends({\n        id: departmentsField,\n        showArchived: true\n      }, field));\n    }\n  })))))), /*#__PURE__*/React.createElement(ContextualbarFooter, null, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => router.navigate('/omnichannel/tags')\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    form: formId,\n    disabled: !isDirty,\n    type: \"submit\",\n    primary: true\n  }, t('Save'))), _id && /*#__PURE__*/React.createElement(Box, {\n    mbs: 8\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    icon: \"trash\",\n    danger: true,\n    onClick: () => handleDeleteTag(_id)\n  }, t('Delete'))))));\n};\nmodule.exportDefault(TagEdit);","map":{"version":3,"names":["_extends","module","link","default","v","Field","FieldLabel","FieldRow","FieldError","TextInput","Button","ButtonGroup","FieldGroup","Box","useMutableCallback","useUniqueId","useToastMessageDispatch","useRouter","useMethod","useQueryClient","React","useForm","Controller","useTranslation","AutoCompleteDepartmentMultiple","ContextualbarScrollableContent","ContextualbarFooter","ContextualbarTitle","Contextualbar","ContextualbarHeader","ContextualbarClose","useRemoveTag","TagEdit","_ref","_errors$name2","tagData","currentDepartments","t","router","queryClient","handleDeleteTag","dispatchToastMessage","saveTag","_id","name","description","control","formState","isDirty","errors","handleSubmit","mode","values","departments","map","dep","label","value","handleSave","_ref2","departmentsId","type","message","invalidateQueries","error","navigate","formId","nameField","descriptionField","departmentsField","createElement","onClick","id","is","autoComplete","onSubmit","htmlFor","required","rules","field","render","_ref3","_errors$name","concat","_ref4","_ref5","showArchived","stretch","form","disabled","primary","mbs","icon","danger","exportDefault"],"sources":["client/omnichannel/tags/TagEdit.tsx"],"sourcesContent":["import type { ILivechatDepartment, ILivechatTag, Serialized } from '@rocket.chat/core-typings';\nimport { Field, FieldLabel, FieldRow, FieldError, TextInput, Button, ButtonGroup, FieldGroup, Box } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useRouter, useMethod } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport AutoCompleteDepartmentMultiple from '../../components/AutoCompleteDepartmentMultiple';\nimport {\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarTitle,\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarClose,\n} from '../../components/Contextualbar';\nimport { useRemoveTag } from './useRemoveTag';\n\ntype TagEditPayload = {\n\tname: string;\n\tdescription: string;\n\tdepartments: { label: string; value: string }[];\n};\n\ntype TagEditProps = {\n\ttagData?: ILivechatTag;\n\tcurrentDepartments?: Serialized<ILivechatDepartment>[];\n};\n\nconst TagEdit = ({ tagData, currentDepartments }: TagEditProps) => {\n\tconst { t } = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\tconst handleDeleteTag = useRemoveTag();\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst saveTag = useMethod('livechat:saveTag');\n\n\tconst { _id, name, description } = tagData || {};\n\n\tconst {\n\t\tcontrol,\n\t\tformState: { isDirty, errors },\n\t\thandleSubmit,\n\t} = useForm<TagEditPayload>({\n\t\tmode: 'onBlur',\n\t\tvalues: {\n\t\t\tname: name || '',\n\t\t\tdescription: description || '',\n\t\t\tdepartments: currentDepartments?.map((dep) => ({ label: dep.name, value: dep._id })) || [],\n\t\t},\n\t});\n\n\tconst handleSave = useMutableCallback(async ({ name, description, departments }: TagEditPayload) => {\n\t\tconst departmentsId = departments?.map((dep) => dep.value) || [''];\n\n\t\ttry {\n\t\t\tawait saveTag(_id as unknown as string, { name, description }, departmentsId);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-tags']);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t} finally {\n\t\t\trouter.navigate('/omnichannel/tags');\n\t\t}\n\t});\n\n\tconst formId = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst descriptionField = useUniqueId();\n\tconst departmentsField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{_id ? t('Edit_Tag') : t('New_Tag')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/tags')}></ContextualbarClose>\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box id={formId} is='form' autoComplete='off' onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('Required_field', { field: t('Name') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput {...field} error={errors?.name?.message} aria-describedby={`${nameField}-error`} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.name?.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller name='description' control={control} render={({ field }) => <TextInput id={descriptionField} {...field} />} />\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={departmentsField}>{t('Departments')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='departments'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <AutoCompleteDepartmentMultiple id={departmentsField} showArchived {...field} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/tags')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} disabled={!isDirty} type='submit' primary>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{_id && (\n\t\t\t\t\t<Box mbs={8}>\n\t\t\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t\t\t<Button icon='trash' danger onClick={() => handleDeleteTag(_id)}>\n\t\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default TagEdit;\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"8cde7292525916a2ee91033669ecbdec77c26c1b"}
