{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/workspace/VersionCard/VersionCard.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/workspace/VersionCard/VersionCard.tsx","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/workspace/VersionCard/VersionCard.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/workspace/VersionCard/VersionCard.tsx","sourceRoot":"","sources":["client/views/admin/workspace/VersionCard/VersionCard.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IWorkspaceInfo } from '@rocket.chat/core-typings';\nimport { Box, Card, CardBody, CardCol, CardControls, CardHeader, CardTitle, Icon } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport type { SupportedVersions } from '@rocket.chat/server-cloud-communication';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport type { LocationPathname } from '@rocket.chat/ui-contexts';\nimport { useSetModal, useMediaUrl } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ReactNode } from 'react';\nimport React, { useMemo } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport { useFormatDate } from '../../../../hooks/useFormatDate';\nimport { useLicense, useLicenseName } from '../../../../hooks/useLicense';\nimport { useRegistrationStatus } from '../../../../hooks/useRegistrationStatus';\nimport { isOverLicenseLimits } from '../../../../lib/utils/isOverLicenseLimits';\nimport VersionCardActionButton from './components/VersionCardActionButton';\nimport type { VersionActionItem } from './components/VersionCardActionItem';\nimport VersionCardActionItem from './components/VersionCardActionItem';\nimport { VersionCardSkeleton } from './components/VersionCardSkeleton';\nimport { VersionTag } from './components/VersionTag';\nimport { getVersionStatus } from './getVersionStatus';\nimport RegisterWorkspaceModal from './modals/RegisterWorkspaceModal';\n\nconst SUPPORT_EXTERNAL_LINK = 'https://go.rocket.chat/i/version-support';\nconst RELEASES_EXTERNAL_LINK = 'https://go.rocket.chat/i/update-product';\n\ntype VersionCardProps = {\n\tserverInfo: IWorkspaceInfo;\n};\n\nconst VersionCard = ({ serverInfo }: VersionCardProps): ReactElement => {\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\n\tconst getUrl = useMediaUrl();\n\tconst cardBackground = {\n\t\tbackgroundImage: `url(${getUrl('images/globe.png')})`,\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundPosition: 'right 20px center',\n\t\tbackgroundSize: mediaQuery ? 'auto' : 'contain',\n\t};\n\n\tconst setModal = useSetModal();\n\n\tconst { t } = useTranslation();\n\n\tconst formatDate = useFormatDate();\n\n\tconst { data: licenseData, isLoading, refetch: refetchLicense } = useLicense({ loadValues: true });\n\tconst { isRegistered } = useRegistrationStatus();\n\n\tconst { license, limits } = licenseData || {};\n\tconst isAirgapped = license?.information?.offline;\n\tconst licenseName = useLicenseName();\n\n\tconst serverVersion = serverInfo.version;\n\n\tconst { versionStatus, versions } = useMemo(() => {\n\t\tconst supportedVersions = serverInfo?.supportedVersions?.signed ? decodeBase64(serverInfo?.supportedVersions?.signed) : undefined;\n\n\t\tif (!supportedVersions) {\n\t\t\treturn {};\n\t\t}\n\n\t\tconst versionStatus = getVersionStatus(serverVersion, supportedVersions?.versions);\n\n\t\treturn {\n\t\t\tversionStatus,\n\t\t\tversions: supportedVersions?.versions,\n\t\t};\n\t}, [serverInfo?.supportedVersions?.signed, serverVersion]);\n\n\tconst isOverLimits = limits && isOverLicenseLimits(limits);\n\n\tconst actionButton:\n\t\t| undefined\n\t\t| {\n\t\t\t\tpath: LocationPathname;\n\t\t\t\tlabel: ReactNode;\n\t\t  }\n\t\t| {\n\t\t\t\taction: () => void;\n\t\t\t\tlabel: ReactNode;\n\t\t  } = useMemo(() => {\n\t\tif (!isRegistered) {\n\t\t\treturn {\n\t\t\t\taction: () => {\n\t\t\t\t\tconst handleModalClose = (): void => {\n\t\t\t\t\t\tsetModal(null);\n\t\t\t\t\t\trefetchLicense();\n\t\t\t\t\t};\n\t\t\t\t\tsetModal(<RegisterWorkspaceModal onClose={handleModalClose} onStatusChange={refetchLicense} />);\n\t\t\t\t},\n\t\t\t\tlabel: t('RegisterWorkspace_Button'),\n\t\t\t};\n\t\t}\n\n\t\tif (versionStatus?.label === 'outdated') {\n\t\t\treturn {\n\t\t\t\taction: () => {\n\t\t\t\t\twindow.open(RELEASES_EXTERNAL_LINK, '_blank');\n\t\t\t\t},\n\t\t\t\tlabel: t('Update_version'),\n\t\t\t};\n\t\t}\n\n\t\tif (isOverLimits) {\n\t\t\treturn { path: '/admin/subscription', label: t('Manage_subscription') };\n\t\t}\n\t}, [isRegistered, versionStatus, isOverLimits, t, setModal, refetchLicense]);\n\n\tconst actionItems = useMemo(() => {\n\t\treturn (\n\t\t\t[\n\t\t\t\tisOverLimits\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tdanger: true,\n\t\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\t\tlabel: t('Plan_limits_reached'),\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\t\tlabel: t('Operating_withing_plan_limits'),\n\t\t\t\t\t  },\n\t\t\t\t(isAirgapped || !versions) && {\n\t\t\t\t\ticon: 'warning',\n\t\t\t\t\tlabel: (\n\t\t\t\t\t\t<Trans i18nKey='Check_support_availability'>\n\t\t\t\t\t\t\tCheck\n\t\t\t\t\t\t\t<ExternalLink to={SUPPORT_EXTERNAL_LINK}>support</ExternalLink>\n\t\t\t\t\t\t\tavailability\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t),\n\t\t\t\t},\n\n\t\t\t\tversionStatus?.label !== 'outdated' &&\n\t\t\t\t\tversionStatus?.expiration && {\n\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t<Trans i18nKey='Version_supported_until' values={{ date: formatDate(versionStatus?.expiration) }}>\n\t\t\t\t\t\t\t\tVersion\n\t\t\t\t\t\t\t\t<ExternalLink to={SUPPORT_EXTERNAL_LINK}>supported</ExternalLink>\n\t\t\t\t\t\t\t\tuntil {formatDate(versionStatus?.expiration)}\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\tversionStatus?.label === 'outdated' && {\n\t\t\t\t\tdanger: true,\n\t\t\t\t\ticon: 'warning',\n\t\t\t\t\tlabel: (\n\t\t\t\t\t\t<Trans i18nKey='Version_not_supported'>\n\t\t\t\t\t\t\tVersion\n\t\t\t\t\t\t\t<ExternalLink to={SUPPORT_EXTERNAL_LINK}>not supported</ExternalLink>\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\tisRegistered\n\t\t\t\t\t? {\n\t\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\t\tlabel: t('Workspace_registered'),\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\tdanger: true,\n\t\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\t\tlabel: t('Workspace_not_registered'),\n\t\t\t\t\t  },\n\t\t\t].filter(Boolean) as VersionActionItem[]\n\t\t).sort((a) => (a.danger ? -1 : 1));\n\t}, [isOverLimits, t, isAirgapped, versions, versionStatus?.label, versionStatus?.expiration, formatDate, isRegistered]);\n\n\tif (isLoading && !licenseData) {\n\t\treturn (\n\t\t\t<Card style={{ ...cardBackground }}>\n\t\t\t\t<VersionCardSkeleton />\n\t\t\t</Card>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Card style={{ ...cardBackground }}>\n\t\t\t<CardCol>\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<CardTitle variant='h3'>{t('Version_version', { version: serverVersion })}</CardTitle>\n\t\t\t\t\t{!isAirgapped && versions && <VersionTag versionStatus={versionStatus?.label} title={versionStatus.version} />}\n\t\t\t\t</CardHeader>\n\n\t\t\t\t<Box color='secondary-info'>\n\t\t\t\t\t<Icon name='rocketchat' size={16} /> {licenseName.data}\n\t\t\t\t</Box>\n\t\t\t</CardCol>\n\n\t\t\t<CardBody flexDirection='column'>\n\t\t\t\t{actionItems.length > 0 && actionItems.map((item, index) => <VersionCardActionItem key={index} {...item} />)}\n\t\t\t</CardBody>\n\n\t\t\t{actionButton && (\n\t\t\t\t<CardControls>\n\t\t\t\t\t<VersionCardActionButton {...actionButton} />\n\t\t\t\t</CardControls>\n\t\t\t)}\n\t\t</Card>\n\t);\n};\n\nexport default VersionCard;\n\nconst decodeBase64 = (b64: string): SupportedVersions | undefined => {\n\tconst [, bodyEncoded] = b64.split('.');\n\tif (!bodyEncoded) {\n\t\treturn;\n\t}\n\n\treturn JSON.parse(atob(bodyEncoded));\n};\n"]},"targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/client/views/admin/workspace/VersionCard/VersionCard.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/workspace/VersionCard/VersionCard.tsx","inputSourceMap":{"version":3,"file":"client/views/admin/workspace/VersionCard/VersionCard.tsx","sourceRoot":"","sources":["client/views/admin/workspace/VersionCard/VersionCard.tsx"],"names":[],"mappings":"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","sourcesContent":["import type { IWorkspaceInfo } from '@rocket.chat/core-typings';\nimport { Box, Card, CardBody, CardCol, CardControls, CardHeader, CardTitle, Icon } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport type { SupportedVersions } from '@rocket.chat/server-cloud-communication';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport type { LocationPathname } from '@rocket.chat/ui-contexts';\nimport { useSetModal, useMediaUrl } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ReactNode } from 'react';\nimport React, { useMemo } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport { useFormatDate } from '../../../../hooks/useFormatDate';\nimport { useLicense, useLicenseName } from '../../../../hooks/useLicense';\nimport { useRegistrationStatus } from '../../../../hooks/useRegistrationStatus';\nimport { isOverLicenseLimits } from '../../../../lib/utils/isOverLicenseLimits';\nimport VersionCardActionButton from './components/VersionCardActionButton';\nimport type { VersionActionItem } from './components/VersionCardActionItem';\nimport VersionCardActionItem from './components/VersionCardActionItem';\nimport { VersionCardSkeleton } from './components/VersionCardSkeleton';\nimport { VersionTag } from './components/VersionTag';\nimport { getVersionStatus } from './getVersionStatus';\nimport RegisterWorkspaceModal from './modals/RegisterWorkspaceModal';\n\nconst SUPPORT_EXTERNAL_LINK = 'https://go.rocket.chat/i/version-support';\nconst RELEASES_EXTERNAL_LINK = 'https://go.rocket.chat/i/update-product';\n\ntype VersionCardProps = {\n\tserverInfo: IWorkspaceInfo;\n};\n\nconst VersionCard = ({ serverInfo }: VersionCardProps): ReactElement => {\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\n\tconst getUrl = useMediaUrl();\n\tconst cardBackground = {\n\t\tbackgroundImage: `url(${getUrl('images/globe.png')})`,\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundPosition: 'right 20px center',\n\t\tbackgroundSize: mediaQuery ? 'auto' : 'contain',\n\t};\n\n\tconst setModal = useSetModal();\n\n\tconst { t } = useTranslation();\n\n\tconst formatDate = useFormatDate();\n\n\tconst { data: licenseData, isLoading, refetch: refetchLicense } = useLicense({ loadValues: true });\n\tconst { isRegistered } = useRegistrationStatus();\n\n\tconst { license, limits } = licenseData || {};\n\tconst isAirgapped = license?.information?.offline;\n\tconst licenseName = useLicenseName();\n\n\tconst serverVersion = serverInfo.version;\n\n\tconst { versionStatus, versions } = useMemo(() => {\n\t\tconst supportedVersions = serverInfo?.supportedVersions?.signed ? decodeBase64(serverInfo?.supportedVersions?.signed) : undefined;\n\n\t\tif (!supportedVersions) {\n\t\t\treturn {};\n\t\t}\n\n\t\tconst versionStatus = getVersionStatus(serverVersion, supportedVersions?.versions);\n\n\t\treturn {\n\t\t\tversionStatus,\n\t\t\tversions: supportedVersions?.versions,\n\t\t};\n\t}, [serverInfo?.supportedVersions?.signed, serverVersion]);\n\n\tconst isOverLimits = limits && isOverLicenseLimits(limits);\n\n\tconst actionButton:\n\t\t| undefined\n\t\t| {\n\t\t\t\tpath: LocationPathname;\n\t\t\t\tlabel: ReactNode;\n\t\t  }\n\t\t| {\n\t\t\t\taction: () => void;\n\t\t\t\tlabel: ReactNode;\n\t\t  } = useMemo(() => {\n\t\tif (!isRegistered) {\n\t\t\treturn {\n\t\t\t\taction: () => {\n\t\t\t\t\tconst handleModalClose = (): void => {\n\t\t\t\t\t\tsetModal(null);\n\t\t\t\t\t\trefetchLicense();\n\t\t\t\t\t};\n\t\t\t\t\tsetModal(<RegisterWorkspaceModal onClose={handleModalClose} onStatusChange={refetchLicense} />);\n\t\t\t\t},\n\t\t\t\tlabel: t('RegisterWorkspace_Button'),\n\t\t\t};\n\t\t}\n\n\t\tif (versionStatus?.label === 'outdated') {\n\t\t\treturn {\n\t\t\t\taction: () => {\n\t\t\t\t\twindow.open(RELEASES_EXTERNAL_LINK, '_blank');\n\t\t\t\t},\n\t\t\t\tlabel: t('Update_version'),\n\t\t\t};\n\t\t}\n\n\t\tif (isOverLimits) {\n\t\t\treturn { path: '/admin/subscription', label: t('Manage_subscription') };\n\t\t}\n\t}, [isRegistered, versionStatus, isOverLimits, t, setModal, refetchLicense]);\n\n\tconst actionItems = useMemo(() => {\n\t\treturn (\n\t\t\t[\n\t\t\t\tisOverLimits\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tdanger: true,\n\t\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\t\tlabel: t('Plan_limits_reached'),\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\t\tlabel: t('Operating_withing_plan_limits'),\n\t\t\t\t\t  },\n\t\t\t\t(isAirgapped || !versions) && {\n\t\t\t\t\ticon: 'warning',\n\t\t\t\t\tlabel: (\n\t\t\t\t\t\t<Trans i18nKey='Check_support_availability'>\n\t\t\t\t\t\t\tCheck\n\t\t\t\t\t\t\t<ExternalLink to={SUPPORT_EXTERNAL_LINK}>support</ExternalLink>\n\t\t\t\t\t\t\tavailability\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t),\n\t\t\t\t},\n\n\t\t\t\tversionStatus?.label !== 'outdated' &&\n\t\t\t\t\tversionStatus?.expiration && {\n\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t<Trans i18nKey='Version_supported_until' values={{ date: formatDate(versionStatus?.expiration) }}>\n\t\t\t\t\t\t\t\tVersion\n\t\t\t\t\t\t\t\t<ExternalLink to={SUPPORT_EXTERNAL_LINK}>supported</ExternalLink>\n\t\t\t\t\t\t\t\tuntil {formatDate(versionStatus?.expiration)}\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\tversionStatus?.label === 'outdated' && {\n\t\t\t\t\tdanger: true,\n\t\t\t\t\ticon: 'warning',\n\t\t\t\t\tlabel: (\n\t\t\t\t\t\t<Trans i18nKey='Version_not_supported'>\n\t\t\t\t\t\t\tVersion\n\t\t\t\t\t\t\t<ExternalLink to={SUPPORT_EXTERNAL_LINK}>not supported</ExternalLink>\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\tisRegistered\n\t\t\t\t\t? {\n\t\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\t\tlabel: t('Workspace_registered'),\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\tdanger: true,\n\t\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\t\tlabel: t('Workspace_not_registered'),\n\t\t\t\t\t  },\n\t\t\t].filter(Boolean) as VersionActionItem[]\n\t\t).sort((a) => (a.danger ? -1 : 1));\n\t}, [isOverLimits, t, isAirgapped, versions, versionStatus?.label, versionStatus?.expiration, formatDate, isRegistered]);\n\n\tif (isLoading && !licenseData) {\n\t\treturn (\n\t\t\t<Card style={{ ...cardBackground }}>\n\t\t\t\t<VersionCardSkeleton />\n\t\t\t</Card>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Card style={{ ...cardBackground }}>\n\t\t\t<CardCol>\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<CardTitle variant='h3'>{t('Version_version', { version: serverVersion })}</CardTitle>\n\t\t\t\t\t{!isAirgapped && versions && <VersionTag versionStatus={versionStatus?.label} title={versionStatus.version} />}\n\t\t\t\t</CardHeader>\n\n\t\t\t\t<Box color='secondary-info'>\n\t\t\t\t\t<Icon name='rocketchat' size={16} /> {licenseName.data}\n\t\t\t\t</Box>\n\t\t\t</CardCol>\n\n\t\t\t<CardBody flexDirection='column'>\n\t\t\t\t{actionItems.length > 0 && actionItems.map((item, index) => <VersionCardActionItem key={index} {...item} />)}\n\t\t\t</CardBody>\n\n\t\t\t{actionButton && (\n\t\t\t\t<CardControls>\n\t\t\t\t\t<VersionCardActionButton {...actionButton} />\n\t\t\t\t</CardControls>\n\t\t\t)}\n\t\t</Card>\n\t);\n};\n\nexport default VersionCard;\n\nconst decodeBase64 = (b64: string): SupportedVersions | undefined => {\n\tconst [, bodyEncoded] = b64.split('.');\n\tif (!bodyEncoded) {\n\t\treturn;\n\t}\n\n\treturn JSON.parse(atob(bodyEncoded));\n};\n"]}}},"code":"var _slicedToArray;\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 0);\nvar _extends;\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 1);\nvar _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 2);\nvar Box, Card, CardBody, CardCol, CardControls, CardHeader, CardTitle, Icon;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Card: function (v) {\n    Card = v;\n  },\n  CardBody: function (v) {\n    CardBody = v;\n  },\n  CardCol: function (v) {\n    CardCol = v;\n  },\n  CardControls: function (v) {\n    CardControls = v;\n  },\n  CardHeader: function (v) {\n    CardHeader = v;\n  },\n  CardTitle: function (v) {\n    CardTitle = v;\n  },\n  Icon: function (v) {\n    Icon = v;\n  }\n}, 0);\nvar useMediaQuery;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMediaQuery: function (v) {\n    useMediaQuery = v;\n  }\n}, 1);\nvar ExternalLink;\nmodule.link(\"@rocket.chat/ui-client\", {\n  ExternalLink: function (v) {\n    ExternalLink = v;\n  }\n}, 2);\nvar useSetModal, useMediaUrl;\nmodule.link(\"@rocket.chat/ui-contexts\", {\n  useSetModal: function (v) {\n    useSetModal = v;\n  },\n  useMediaUrl: function (v) {\n    useMediaUrl = v;\n  }\n}, 3);\nvar React, useMemo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  }\n}, 4);\nvar Trans, useTranslation;\nmodule.link(\"react-i18next\", {\n  Trans: function (v) {\n    Trans = v;\n  },\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 5);\nvar useFormatDate;\nmodule.link(\"../../../../hooks/useFormatDate\", {\n  useFormatDate: function (v) {\n    useFormatDate = v;\n  }\n}, 6);\nvar useLicense, useLicenseName;\nmodule.link(\"../../../../hooks/useLicense\", {\n  useLicense: function (v) {\n    useLicense = v;\n  },\n  useLicenseName: function (v) {\n    useLicenseName = v;\n  }\n}, 7);\nvar useRegistrationStatus;\nmodule.link(\"../../../../hooks/useRegistrationStatus\", {\n  useRegistrationStatus: function (v) {\n    useRegistrationStatus = v;\n  }\n}, 8);\nvar isOverLicenseLimits;\nmodule.link(\"../../../../lib/utils/isOverLicenseLimits\", {\n  isOverLicenseLimits: function (v) {\n    isOverLicenseLimits = v;\n  }\n}, 9);\nvar VersionCardActionButton;\nmodule.link(\"./components/VersionCardActionButton\", {\n  \"default\": function (v) {\n    VersionCardActionButton = v;\n  }\n}, 10);\nvar VersionCardActionItem;\nmodule.link(\"./components/VersionCardActionItem\", {\n  \"default\": function (v) {\n    VersionCardActionItem = v;\n  }\n}, 11);\nvar VersionCardSkeleton;\nmodule.link(\"./components/VersionCardSkeleton\", {\n  VersionCardSkeleton: function (v) {\n    VersionCardSkeleton = v;\n  }\n}, 12);\nvar VersionTag;\nmodule.link(\"./components/VersionTag\", {\n  VersionTag: function (v) {\n    VersionTag = v;\n  }\n}, 13);\nvar getVersionStatus;\nmodule.link(\"./getVersionStatus\", {\n  getVersionStatus: function (v) {\n    getVersionStatus = v;\n  }\n}, 14);\nvar RegisterWorkspaceModal;\nmodule.link(\"./modals/RegisterWorkspaceModal\", {\n  \"default\": function (v) {\n    RegisterWorkspaceModal = v;\n  }\n}, 15);\nvar SUPPORT_EXTERNAL_LINK = 'https://go.rocket.chat/i/version-support';\nvar RELEASES_EXTERNAL_LINK = 'https://go.rocket.chat/i/update-product';\nvar VersionCard = function (_ref) {\n  var _license$information, _serverInfo$supported3;\n  var serverInfo = _ref.serverInfo;\n  var mediaQuery = useMediaQuery('(min-width: 1024px)');\n  var getUrl = useMediaUrl();\n  var cardBackground = {\n    backgroundImage: \"url(\" + getUrl('images/globe.png') + \")\",\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'right 20px center',\n    backgroundSize: mediaQuery ? 'auto' : 'contain'\n  };\n  var setModal = useSetModal();\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var formatDate = useFormatDate();\n  var _useLicense = useLicense({\n      loadValues: true\n    }),\n    licenseData = _useLicense.data,\n    isLoading = _useLicense.isLoading,\n    refetchLicense = _useLicense.refetch;\n  var _useRegistrationStatu = useRegistrationStatus(),\n    isRegistered = _useRegistrationStatu.isRegistered;\n  var _ref2 = licenseData || {},\n    license = _ref2.license,\n    limits = _ref2.limits;\n  var isAirgapped = license === null || license === void 0 ? void 0 : (_license$information = license.information) === null || _license$information === void 0 ? void 0 : _license$information.offline;\n  var licenseName = useLicenseName();\n  var serverVersion = serverInfo.version;\n  var _useMemo = useMemo(function () {\n      var _serverInfo$supported, _serverInfo$supported2;\n      var supportedVersions = serverInfo !== null && serverInfo !== void 0 && (_serverInfo$supported = serverInfo.supportedVersions) !== null && _serverInfo$supported !== void 0 && _serverInfo$supported.signed ? decodeBase64(serverInfo === null || serverInfo === void 0 ? void 0 : (_serverInfo$supported2 = serverInfo.supportedVersions) === null || _serverInfo$supported2 === void 0 ? void 0 : _serverInfo$supported2.signed) : undefined;\n      if (!supportedVersions) {\n        return {};\n      }\n      var versionStatus = getVersionStatus(serverVersion, supportedVersions === null || supportedVersions === void 0 ? void 0 : supportedVersions.versions);\n      return {\n        versionStatus: versionStatus,\n        versions: supportedVersions === null || supportedVersions === void 0 ? void 0 : supportedVersions.versions\n      };\n    }, [serverInfo === null || serverInfo === void 0 ? void 0 : (_serverInfo$supported3 = serverInfo.supportedVersions) === null || _serverInfo$supported3 === void 0 ? void 0 : _serverInfo$supported3.signed, serverVersion]),\n    versionStatus = _useMemo.versionStatus,\n    versions = _useMemo.versions;\n  var isOverLimits = limits && isOverLicenseLimits(limits);\n  var actionButton = useMemo(function () {\n    if (!isRegistered) {\n      return {\n        action: function () {\n          var handleModalClose = function () {\n            setModal(null);\n            refetchLicense();\n          };\n          setModal( /*#__PURE__*/React.createElement(RegisterWorkspaceModal, {\n            onClose: handleModalClose,\n            onStatusChange: refetchLicense\n          }));\n        },\n        label: t('RegisterWorkspace_Button')\n      };\n    }\n    if ((versionStatus === null || versionStatus === void 0 ? void 0 : versionStatus.label) === 'outdated') {\n      return {\n        action: function () {\n          window.open(RELEASES_EXTERNAL_LINK, '_blank');\n        },\n        label: t('Update_version')\n      };\n    }\n    if (isOverLimits) {\n      return {\n        path: '/admin/subscription',\n        label: t('Manage_subscription')\n      };\n    }\n  }, [isRegistered, versionStatus, isOverLimits, t, setModal, refetchLicense]);\n  var actionItems = useMemo(function () {\n    return [isOverLimits ? {\n      danger: true,\n      icon: 'warning',\n      label: t('Plan_limits_reached')\n    } : {\n      icon: 'check',\n      label: t('Operating_withing_plan_limits')\n    }, (isAirgapped || !versions) && {\n      icon: 'warning',\n      label: /*#__PURE__*/React.createElement(Trans, {\n        i18nKey: \"Check_support_availability\"\n      }, \"Check\", /*#__PURE__*/React.createElement(ExternalLink, {\n        to: SUPPORT_EXTERNAL_LINK\n      }, \"support\"), \"availability\")\n    }, (versionStatus === null || versionStatus === void 0 ? void 0 : versionStatus.label) !== 'outdated' && (versionStatus === null || versionStatus === void 0 ? void 0 : versionStatus.expiration) && {\n      icon: 'check',\n      label: /*#__PURE__*/React.createElement(Trans, {\n        i18nKey: \"Version_supported_until\",\n        values: {\n          date: formatDate(versionStatus === null || versionStatus === void 0 ? void 0 : versionStatus.expiration)\n        }\n      }, \"Version\", /*#__PURE__*/React.createElement(ExternalLink, {\n        to: SUPPORT_EXTERNAL_LINK\n      }, \"supported\"), \"until \", formatDate(versionStatus === null || versionStatus === void 0 ? void 0 : versionStatus.expiration))\n    }, (versionStatus === null || versionStatus === void 0 ? void 0 : versionStatus.label) === 'outdated' && {\n      danger: true,\n      icon: 'warning',\n      label: /*#__PURE__*/React.createElement(Trans, {\n        i18nKey: \"Version_not_supported\"\n      }, \"Version\", /*#__PURE__*/React.createElement(ExternalLink, {\n        to: SUPPORT_EXTERNAL_LINK\n      }, \"not supported\"))\n    }, isRegistered ? {\n      icon: 'check',\n      label: t('Workspace_registered')\n    } : {\n      danger: true,\n      icon: 'warning',\n      label: t('Workspace_not_registered')\n    }].filter(Boolean).sort(function (a) {\n      return a.danger ? -1 : 1;\n    });\n  }, [isOverLimits, t, isAirgapped, versions, versionStatus === null || versionStatus === void 0 ? void 0 : versionStatus.label, versionStatus === null || versionStatus === void 0 ? void 0 : versionStatus.expiration, formatDate, isRegistered]);\n  if (isLoading && !licenseData) {\n    return /*#__PURE__*/React.createElement(Card, {\n      style: _objectSpread({}, cardBackground)\n    }, /*#__PURE__*/React.createElement(VersionCardSkeleton, null));\n  }\n  return /*#__PURE__*/React.createElement(Card, {\n    style: _objectSpread({}, cardBackground)\n  }, /*#__PURE__*/React.createElement(CardCol, null, /*#__PURE__*/React.createElement(CardHeader, null, /*#__PURE__*/React.createElement(CardTitle, {\n    variant: \"h3\"\n  }, t('Version_version', {\n    version: serverVersion\n  })), !isAirgapped && versions && /*#__PURE__*/React.createElement(VersionTag, {\n    versionStatus: versionStatus === null || versionStatus === void 0 ? void 0 : versionStatus.label,\n    title: versionStatus.version\n  })), /*#__PURE__*/React.createElement(Box, {\n    color: \"secondary-info\"\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"rocketchat\",\n    size: 16\n  }), \" \", licenseName.data)), /*#__PURE__*/React.createElement(CardBody, {\n    flexDirection: \"column\"\n  }, actionItems.length > 0 && actionItems.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(VersionCardActionItem, _extends({\n      key: index\n    }, item));\n  })), actionButton && /*#__PURE__*/React.createElement(CardControls, null, /*#__PURE__*/React.createElement(VersionCardActionButton, actionButton)));\n};\nmodule.exportDefault(VersionCard);\nvar decodeBase64 = function (b64) {\n  var _b64$split = b64.split('.'),\n    _b64$split2 = _slicedToArray(_b64$split, 2),\n    bodyEncoded = _b64$split2[1];\n  if (!bodyEncoded) {\n    return;\n  }\n  return JSON.parse(atob(bodyEncoded));\n};","map":{"version":3,"names":["_slicedToArray","module","link","default","v","_extends","_objectSpread","Box","Card","CardBody","CardCol","CardControls","CardHeader","CardTitle","Icon","useMediaQuery","ExternalLink","useSetModal","useMediaUrl","React","useMemo","Trans","useTranslation","useFormatDate","useLicense","useLicenseName","useRegistrationStatus","isOverLicenseLimits","VersionCardActionButton","VersionCardActionItem","VersionCardSkeleton","VersionTag","getVersionStatus","RegisterWorkspaceModal","SUPPORT_EXTERNAL_LINK","RELEASES_EXTERNAL_LINK","VersionCard","_ref","_license$information","_serverInfo$supported3","serverInfo","mediaQuery","getUrl","cardBackground","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","setModal","_useTranslation","t","formatDate","_useLicense","loadValues","licenseData","data","isLoading","refetchLicense","refetch","_useRegistrationStatu","isRegistered","_ref2","license","limits","isAirgapped","information","offline","licenseName","serverVersion","version","_useMemo","_serverInfo$supported","_serverInfo$supported2","supportedVersions","signed","decodeBase64","undefined","versionStatus","versions","isOverLimits","actionButton","action","handleModalClose","createElement","onClose","onStatusChange","label","window","open","path","actionItems","danger","icon","i18nKey","to","expiration","values","date","filter","Boolean","sort","a","style","variant","title","color","name","size","flexDirection","length","map","item","index","key","exportDefault","b64","_b64$split","split","_b64$split2","bodyEncoded","JSON","parse","atob"],"sources":["client/views/admin/workspace/VersionCard/VersionCard.tsx"],"sourcesContent":["import type { IWorkspaceInfo } from '@rocket.chat/core-typings';\nimport { Box, Card, CardBody, CardCol, CardControls, CardHeader, CardTitle, Icon } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport type { SupportedVersions } from '@rocket.chat/server-cloud-communication';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport type { LocationPathname } from '@rocket.chat/ui-contexts';\nimport { useSetModal, useMediaUrl } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ReactNode } from 'react';\nimport React, { useMemo } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport { useFormatDate } from '../../../../hooks/useFormatDate';\nimport { useLicense, useLicenseName } from '../../../../hooks/useLicense';\nimport { useRegistrationStatus } from '../../../../hooks/useRegistrationStatus';\nimport { isOverLicenseLimits } from '../../../../lib/utils/isOverLicenseLimits';\nimport VersionCardActionButton from './components/VersionCardActionButton';\nimport type { VersionActionItem } from './components/VersionCardActionItem';\nimport VersionCardActionItem from './components/VersionCardActionItem';\nimport { VersionCardSkeleton } from './components/VersionCardSkeleton';\nimport { VersionTag } from './components/VersionTag';\nimport { getVersionStatus } from './getVersionStatus';\nimport RegisterWorkspaceModal from './modals/RegisterWorkspaceModal';\n\nconst SUPPORT_EXTERNAL_LINK = 'https://go.rocket.chat/i/version-support';\nconst RELEASES_EXTERNAL_LINK = 'https://go.rocket.chat/i/update-product';\n\ntype VersionCardProps = {\n\tserverInfo: IWorkspaceInfo;\n};\n\nconst VersionCard = ({ serverInfo }: VersionCardProps): ReactElement => {\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\n\tconst getUrl = useMediaUrl();\n\tconst cardBackground = {\n\t\tbackgroundImage: `url(${getUrl('images/globe.png')})`,\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundPosition: 'right 20px center',\n\t\tbackgroundSize: mediaQuery ? 'auto' : 'contain',\n\t};\n\n\tconst setModal = useSetModal();\n\n\tconst { t } = useTranslation();\n\n\tconst formatDate = useFormatDate();\n\n\tconst { data: licenseData, isLoading, refetch: refetchLicense } = useLicense({ loadValues: true });\n\tconst { isRegistered } = useRegistrationStatus();\n\n\tconst { license, limits } = licenseData || {};\n\tconst isAirgapped = license?.information?.offline;\n\tconst licenseName = useLicenseName();\n\n\tconst serverVersion = serverInfo.version;\n\n\tconst { versionStatus, versions } = useMemo(() => {\n\t\tconst supportedVersions = serverInfo?.supportedVersions?.signed ? decodeBase64(serverInfo?.supportedVersions?.signed) : undefined;\n\n\t\tif (!supportedVersions) {\n\t\t\treturn {};\n\t\t}\n\n\t\tconst versionStatus = getVersionStatus(serverVersion, supportedVersions?.versions);\n\n\t\treturn {\n\t\t\tversionStatus,\n\t\t\tversions: supportedVersions?.versions,\n\t\t};\n\t}, [serverInfo?.supportedVersions?.signed, serverVersion]);\n\n\tconst isOverLimits = limits && isOverLicenseLimits(limits);\n\n\tconst actionButton:\n\t\t| undefined\n\t\t| {\n\t\t\t\tpath: LocationPathname;\n\t\t\t\tlabel: ReactNode;\n\t\t  }\n\t\t| {\n\t\t\t\taction: () => void;\n\t\t\t\tlabel: ReactNode;\n\t\t  } = useMemo(() => {\n\t\tif (!isRegistered) {\n\t\t\treturn {\n\t\t\t\taction: () => {\n\t\t\t\t\tconst handleModalClose = (): void => {\n\t\t\t\t\t\tsetModal(null);\n\t\t\t\t\t\trefetchLicense();\n\t\t\t\t\t};\n\t\t\t\t\tsetModal(<RegisterWorkspaceModal onClose={handleModalClose} onStatusChange={refetchLicense} />);\n\t\t\t\t},\n\t\t\t\tlabel: t('RegisterWorkspace_Button'),\n\t\t\t};\n\t\t}\n\n\t\tif (versionStatus?.label === 'outdated') {\n\t\t\treturn {\n\t\t\t\taction: () => {\n\t\t\t\t\twindow.open(RELEASES_EXTERNAL_LINK, '_blank');\n\t\t\t\t},\n\t\t\t\tlabel: t('Update_version'),\n\t\t\t};\n\t\t}\n\n\t\tif (isOverLimits) {\n\t\t\treturn { path: '/admin/subscription', label: t('Manage_subscription') };\n\t\t}\n\t}, [isRegistered, versionStatus, isOverLimits, t, setModal, refetchLicense]);\n\n\tconst actionItems = useMemo(() => {\n\t\treturn (\n\t\t\t[\n\t\t\t\tisOverLimits\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tdanger: true,\n\t\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\t\tlabel: t('Plan_limits_reached'),\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\t\tlabel: t('Operating_withing_plan_limits'),\n\t\t\t\t\t  },\n\t\t\t\t(isAirgapped || !versions) && {\n\t\t\t\t\ticon: 'warning',\n\t\t\t\t\tlabel: (\n\t\t\t\t\t\t<Trans i18nKey='Check_support_availability'>\n\t\t\t\t\t\t\tCheck\n\t\t\t\t\t\t\t<ExternalLink to={SUPPORT_EXTERNAL_LINK}>support</ExternalLink>\n\t\t\t\t\t\t\tavailability\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t),\n\t\t\t\t},\n\n\t\t\t\tversionStatus?.label !== 'outdated' &&\n\t\t\t\t\tversionStatus?.expiration && {\n\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t<Trans i18nKey='Version_supported_until' values={{ date: formatDate(versionStatus?.expiration) }}>\n\t\t\t\t\t\t\t\tVersion\n\t\t\t\t\t\t\t\t<ExternalLink to={SUPPORT_EXTERNAL_LINK}>supported</ExternalLink>\n\t\t\t\t\t\t\t\tuntil {formatDate(versionStatus?.expiration)}\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\tversionStatus?.label === 'outdated' && {\n\t\t\t\t\tdanger: true,\n\t\t\t\t\ticon: 'warning',\n\t\t\t\t\tlabel: (\n\t\t\t\t\t\t<Trans i18nKey='Version_not_supported'>\n\t\t\t\t\t\t\tVersion\n\t\t\t\t\t\t\t<ExternalLink to={SUPPORT_EXTERNAL_LINK}>not supported</ExternalLink>\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\tisRegistered\n\t\t\t\t\t? {\n\t\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\t\tlabel: t('Workspace_registered'),\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\tdanger: true,\n\t\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\t\tlabel: t('Workspace_not_registered'),\n\t\t\t\t\t  },\n\t\t\t].filter(Boolean) as VersionActionItem[]\n\t\t).sort((a) => (a.danger ? -1 : 1));\n\t}, [isOverLimits, t, isAirgapped, versions, versionStatus?.label, versionStatus?.expiration, formatDate, isRegistered]);\n\n\tif (isLoading && !licenseData) {\n\t\treturn (\n\t\t\t<Card style={{ ...cardBackground }}>\n\t\t\t\t<VersionCardSkeleton />\n\t\t\t</Card>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Card style={{ ...cardBackground }}>\n\t\t\t<CardCol>\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<CardTitle variant='h3'>{t('Version_version', { version: serverVersion })}</CardTitle>\n\t\t\t\t\t{!isAirgapped && versions && <VersionTag versionStatus={versionStatus?.label} title={versionStatus.version} />}\n\t\t\t\t</CardHeader>\n\n\t\t\t\t<Box color='secondary-info'>\n\t\t\t\t\t<Icon name='rocketchat' size={16} /> {licenseName.data}\n\t\t\t\t</Box>\n\t\t\t</CardCol>\n\n\t\t\t<CardBody flexDirection='column'>\n\t\t\t\t{actionItems.length > 0 && actionItems.map((item, index) => <VersionCardActionItem key={index} {...item} />)}\n\t\t\t</CardBody>\n\n\t\t\t{actionButton && (\n\t\t\t\t<CardControls>\n\t\t\t\t\t<VersionCardActionButton {...actionButton} />\n\t\t\t\t</CardControls>\n\t\t\t)}\n\t\t</Card>\n\t);\n};\n\nexport default VersionCard;\n\nconst decodeBase64 = (b64: string): SupportedVersions | undefined => {\n\tconst [, bodyEncoded] = b64.split('.');\n\tif (!bodyEncoded) {\n\t\treturn;\n\t}\n\n\treturn JSON.parse(atob(bodyEncoded));\n};\n"],"mappings":"AACA,IAAAA,cAAkB;AAAAC,MAAE,CAAAC,IAAU,uCAAmC;EAAAC,OAAW,WAAAA,CAAYC,CAAA;IAAAJ,cAAA,GAAAI,CAAA;EAAA;AAAA,IAAuB,CAAC;AAAA,IAAAC,QAAA;AAAAJ,MAAA,CAAAC,IAAA;EAAAC,OAAA,WAAAA,CAAAC,CAAA;IAAAC,QAAA,GAAAD,CAAA;EAAA;AAAA;AAAA,IAAAE,aAAA;AAAAL,MAAA,CAAAC,IAAA;EAAAC,OAAA,WAAAA,CAAAC,CAAA;IAAAE,aAAA,GAAAF,CAAA;EAAA;AAAA;AAAhH,IAAAG,GAAO,EAAAC,IAAK,EAAAC,QAAQ,EAAAC,OAAQ,EAAEC,YAAS,EAAAC,UAAc,EAAAC,SAAU,EAAAC,IAAE;AAAAb,MAAS,CAAEC,IAAI,wBAAQ;EAAAK,GAAA,WAAAA,CAAwBH,CAAA;IAAAG,GAAA,GAAAH,CAAA;EAAA;EAAAI,IAAA,WAAAA,CAAAJ,CAAA;IAAAI,IAAA,GAAAJ,CAAA;EAAA;EAAAK,QAAA,WAAAA,CAAAL,CAAA;IAAAK,QAAA,GAAAL,CAAA;EAAA;EAAAM,OAAA,WAAAA,CAAAN,CAAA;IAAAM,OAAA,GAAAN,CAAA;EAAA;EAAAO,YAAA,WAAAA,CAAAP,CAAA;IAAAO,YAAA,GAAAP,CAAA;EAAA;EAAAQ,UAAA,WAAAA,CAAAR,CAAA;IAAAQ,UAAA,GAAAR,CAAA;EAAA;EAAAS,SAAA,WAAAA,CAAAT,CAAA;IAAAS,SAAA,GAAAT,CAAA;EAAA;EAAAU,IAAA,WAAAA,CAAAV,CAAA;IAAAU,IAAA,GAAAV,CAAA;EAAA;AAAA;AAAA,IAAAW,aAAA;AAAAd,MAAA,CAAAC,IAAA;EAAAa,aAAA,WAAAA,CAAAX,CAAA;IAAAW,aAAA,GAAAX,CAAA;EAAA;AAAA;AAAA,IAAAY,YAAA;AAAAf,MAAA,CAAAC,IAAA;EAAAc,YAAA,WAAAA,CAAAZ,CAAA;IAAAY,YAAA,GAAAZ,CAAA;EAAA;AAAA;AAAA,IAAAa,WAAA,EAAAC,WAAA;AAAAjB,MAAA,CAAAC,IAAA;EAAAe,WAAA,WAAAA,CAAAb,CAAA;IAAAa,WAAA,GAAAb,CAAA;EAAA;EAAAc,WAAA,WAAAA,CAAAd,CAAA;IAAAc,WAAA,GAAAd,CAAA;EAAA;AAAA;AAAA,IAAAe,KAAA,EAAAC,OAAA;AAAAnB,MAAA,CAAAC,IAAA;EAAA,oBAAAC,CAAAC,CAAA;IAAAe,KAAA,GAAAf,CAAA;EAAA;EAAAgB,OAAA,WAAAA,CAAAhB,CAAA;IAAAgB,OAAA,GAAAhB,CAAA;EAAA;AAAA;AAAA,IAAAiB,KAAA,EAAAC,cAAA;AAAArB,MAAA,CAAAC,IAAA;EAAAmB,KAAA,WAAAA,CAAAjB,CAAA;IAAAiB,KAAA,GAAAjB,CAAA;EAAA;EAAAkB,cAAA,WAAAA,CAAAlB,CAAA;IAAAkB,cAAA,GAAAlB,CAAA;EAAA;AAAA;AAAA,IAAAmB,aAAA;AAAAtB,MAAA,CAAAC,IAAA;EAAAqB,aAAA,WAAAA,CAAAnB,CAAA;IAAAmB,aAAA,GAAAnB,CAAA;EAAA;AAAA;AAAA,IAAAoB,UAAA,EAAAC,cAAA;AAAAxB,MAAA,CAAAC,IAAA;EAAAsB,UAAA,WAAAA,CAAApB,CAAA;IAAAoB,UAAA,GAAApB,CAAA;EAAA;EAAAqB,cAAA,WAAAA,CAAArB,CAAA;IAAAqB,cAAA,GAAArB,CAAA;EAAA;AAAA;AAAA,IAAAsB,qBAAA;AAAAzB,MAAA,CAAAC,IAAA;EAAAwB,qBAAA,WAAAA,CAAAtB,CAAA;IAAAsB,qBAAA,GAAAtB,CAAA;EAAA;AAAA;AAAA,IAAAuB,mBAAA;AAAA1B,MAAA,CAAAC,IAAA;EAAAyB,mBAAA,WAAAA,CAAAvB,CAAA;IAAAuB,mBAAA,GAAAvB,CAAA;EAAA;AAAA;AAAA,IAAAwB,uBAAA;AAAA3B,MAAA,CAAAC,IAAA;EAAA,oBAAAC,CAAAC,CAAA;IAAAwB,uBAAA,GAAAxB,CAAA;EAAA;AAAA;AAAA,IAAAyB,qBAAA;AAAA5B,MAAA,CAAAC,IAAA;EAAA,oBAAAC,CAAAC,CAAA;IAAAyB,qBAAA,GAAAzB,CAAA;EAAA;AAAA;AAAA,IAAA0B,mBAAA;AAAA7B,MAAA,CAAAC,IAAA;EAAA4B,mBAAA,WAAAA,CAAA1B,CAAA;IAAA0B,mBAAA,GAAA1B,CAAA;EAAA;AAAA;AAAA,IAAA2B,UAAA;AAAA9B,MAAA,CAAAC,IAAA;EAAA6B,UAAA,WAAAA,CAAA3B,CAAA;IAAA2B,UAAA,GAAA3B,CAAA;EAAA;AAAA;AAAA,IAAA4B,gBAAA;AAAA/B,MAAA,CAAAC,IAAA;EAAA8B,gBAAA,WAAAA,CAAA5B,CAAA;IAAA4B,gBAAA,GAAA5B,CAAA;EAAA;AAAA;AAAA,IAAA6B,sBAAA;AAAAhC,MAAA,CAAAC,IAAA;EAAA,oBAAAC,CAAAC,CAAA;IAAA6B,sBAAA,GAAA7B,CAAA;EAAA;AAAA;AAsBhH,IAAM8B,qBAAqB,GAAG,0CAA0C;AACxE,IAAMC,sBAAsB,GAAG,yCAAyC;AAMxE,IAAMC,WAAW,GAAG,SAAAA,CAAAC,IAAA,EAAmD;EAAA,IAAAC,oBAAA,EAAAC,sBAAA;EAAA,IAAhDC,UAAU,GAAAH,IAAA,CAAVG,UAAU;EAChC,IAAMC,UAAU,GAAG1B,aAAa,CAAC,qBAAqB,CAAC;EAEvD,IAAM2B,MAAM,GAAGxB,WAAW,EAAE;EAC5B,IAAMyB,cAAc,GAAG;IACtBC,eAAe,WAASF,MAAM,CAAC,kBAAkB,CAAC,MAAG;IACrDG,gBAAgB,EAAE,WAAW;IAC7BC,kBAAkB,EAAE,mBAAmB;IACvCC,cAAc,EAAEN,UAAU,GAAG,MAAM,GAAG;GACtC;EAED,IAAMO,QAAQ,GAAG/B,WAAW,EAAE;EAE9B,IAAAgC,eAAA,GAAc3B,cAAc,EAAE;IAAtB4B,CAAC,GAAAD,eAAA,CAADC,CAAC;EAET,IAAMC,UAAU,GAAG5B,aAAa,EAAE;EAElC,IAAA6B,WAAA,GAAkE5B,UAAU,CAAC;MAAE6B,UAAU,EAAE;IAAI,CAAE,CAAC;IAApFC,WAAW,GAAAF,WAAA,CAAjBG,IAAI;IAAeC,SAAS,GAAAJ,WAAA,CAATI,SAAS;IAAWC,cAAc,GAAAL,WAAA,CAAvBM,OAAO;EAC7C,IAAAC,qBAAA,GAAyBjC,qBAAqB,EAAE;IAAxCkC,YAAY,GAAAD,qBAAA,CAAZC,YAAY;EAEpB,IAAAC,KAAA,GAA4BP,WAAW,IAAI,EAAE;IAArCQ,OAAO,GAAAD,KAAA,CAAPC,OAAO;IAAEC,MAAM,GAAAF,KAAA,CAANE,MAAM;EACvB,IAAMC,WAAW,GAAGF,OAAO,aAAPA,OAAO,wBAAAxB,oBAAA,GAAPwB,OAAO,CAAEG,WAAW,cAAA3B,oBAAA,uBAApBA,oBAAA,CAAsB4B,OAAO;EACjD,IAAMC,WAAW,GAAG1C,cAAc,EAAE;EAEpC,IAAM2C,aAAa,GAAG5B,UAAU,CAAC6B,OAAO;EAExC,IAAAC,QAAA,GAAoClD,OAAO,CAAC,YAAK;MAAA,IAAAmD,qBAAA,EAAAC,sBAAA;MAChD,IAAMC,iBAAiB,GAAGjC,UAAU,aAAVA,UAAU,gBAAA+B,qBAAA,GAAV/B,UAAU,CAAEiC,iBAAiB,cAAAF,qBAAA,eAA7BA,qBAAA,CAA+BG,MAAM,GAAGC,YAAY,CAACnC,UAAU,aAAVA,UAAU,wBAAAgC,sBAAA,GAAVhC,UAAU,CAAEiC,iBAAiB,cAAAD,sBAAA,uBAA7BA,sBAAA,CAA+BE,MAAM,CAAC,GAAGE,SAAS;MAEjI,IAAI,CAACH,iBAAiB,EAAE;QACvB,OAAO,EAAE;MACV;MAEA,IAAMI,aAAa,GAAG7C,gBAAgB,CAACoC,aAAa,EAAEK,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEK,QAAQ,CAAC;MAElF,OAAO;QACND,aAAa,EAAbA,aAAa;QACbC,QAAQ,EAAEL,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEK;OAC7B;IACF,CAAC,EAAE,CAACtC,UAAU,aAAVA,UAAU,wBAAAD,sBAAA,GAAVC,UAAU,CAAEiC,iBAAiB,cAAAlC,sBAAA,uBAA7BA,sBAAA,CAA+BmC,MAAM,EAAEN,aAAa,CAAC,CAAC;IAblDS,aAAa,GAAAP,QAAA,CAAbO,aAAa;IAAEC,QAAQ,GAAAR,QAAA,CAARQ,QAAQ;EAe/B,IAAMC,YAAY,GAAGhB,MAAM,IAAIpC,mBAAmB,CAACoC,MAAM,CAAC;EAE1D,IAAMiB,YAAY,GASX5D,OAAO,CAAC,YAAK;IACnB,IAAI,CAACwC,YAAY,EAAE;MAClB,OAAO;QACNqB,MAAM,EAAE,SAAAA,CAAA,EAAK;UACZ,IAAMC,gBAAgB,GAAG,SAAAA,CAAA,EAAW;YACnClC,QAAQ,CAAC,IAAI,CAAC;YACdS,cAAc,EAAE;UACjB,CAAC;UACDT,QAAQ,eAAC7B,KAAA,CAAAgE,aAAA,CAAClD,sBAAsB;YAACmD,OAAO,EAAEF,gBAAiB;YAACG,cAAc,EAAE5B;UAAe,EAAG,CAAC;QAChG,CAAC;QACD6B,KAAK,EAAEpC,CAAC,CAAC,0BAA0B;OACnC;IACF;IAEA,IAAI,CAAA2B,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAES,KAAK,MAAK,UAAU,EAAE;MACxC,OAAO;QACNL,MAAM,EAAE,SAAAA,CAAA,EAAK;UACZM,MAAM,CAACC,IAAI,CAACrD,sBAAsB,EAAE,QAAQ,CAAC;QAC9C,CAAC;QACDmD,KAAK,EAAEpC,CAAC,CAAC,gBAAgB;OACzB;IACF;IAEA,IAAI6B,YAAY,EAAE;MACjB,OAAO;QAAEU,IAAI,EAAE,qBAAqB;QAAEH,KAAK,EAAEpC,CAAC,CAAC,qBAAqB;MAAC,CAAE;IACxE;EACD,CAAC,EAAE,CAACU,YAAY,EAAEiB,aAAa,EAAEE,YAAY,EAAE7B,CAAC,EAAEF,QAAQ,EAAES,cAAc,CAAC,CAAC;EAE5E,IAAMiC,WAAW,GAAGtE,OAAO,CAAC,YAAK;IAChC,OACC,CACC2D,YAAY,GACT;MACAY,MAAM,EAAE,IAAI;MACZC,IAAI,EAAE,SAAS;MACfN,KAAK,EAAEpC,CAAC,CAAC,qBAAqB;KAC7B,GACD;MACA0C,IAAI,EAAE,OAAO;MACbN,KAAK,EAAEpC,CAAC,CAAC,+BAA+B;KACvC,EACJ,CAACc,WAAW,IAAI,CAACc,QAAQ,KAAK;MAC7Bc,IAAI,EAAE,SAAS;MACfN,KAAK,eACJnE,KAAA,CAAAgE,aAAA,CAAC9D,KAAK;QAACwE,OAAO,EAAC;MAA4B,GAC1C,OACA,eAAA1E,KAAA,CAAAgE,aAAA,CAACnE,YAAY;QAAC8E,EAAE,EAAE5D;MAAsB,GAAC,SAAqB,CAC9D,gBACM;KAER,EAED,CAAA2C,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAES,KAAK,MAAK,UAAU,KAClCT,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEkB,UAAU,KAAI;MAC5BH,IAAI,EAAE,OAAO;MACbN,KAAK,eACJnE,KAAA,CAAAgE,aAAA,CAAC9D,KAAK;QAACwE,OAAO,EAAC,yBAAyB;QAACG,MAAM,EAAE;UAAEC,IAAI,EAAE9C,UAAU,CAAC0B,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEkB,UAAU;QAAC;MAAG,GAChG,SACA,eAAA5E,KAAA,CAAAgE,aAAA,CAACnE,YAAY;QAAC8E,EAAE,EAAE5D;MAAsB,GAAC,WAAuB,CAChE,UAAM,EAACiB,UAAU,CAAC0B,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEkB,UAAU,CACrC;KAER,EACF,CAAAlB,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAES,KAAK,MAAK,UAAU,IAAI;MACtCK,MAAM,EAAE,IAAI;MACZC,IAAI,EAAE,SAAS;MACfN,KAAK,eACJnE,KAAA,CAAAgE,aAAA,CAAC9D,KAAK;QAACwE,OAAO,EAAC;MAAuB,GACrC,SACA,eAAA1E,KAAA,CAAAgE,aAAA,CAACnE,YAAY;QAAC8E,EAAE,EAAE5D;MAAsB,GAAC,eAA2B,CAC9D;KAER,EACD0B,YAAY,GACT;MACAgC,IAAI,EAAE,OAAO;MACbN,KAAK,EAAEpC,CAAC,CAAC,sBAAsB;KAC9B,GACD;MACAyC,MAAM,EAAE,IAAI;MACZC,IAAI,EAAE,SAAS;MACfN,KAAK,EAAEpC,CAAC,CAAC,0BAA0B;KAClC,CACJ,CAACgD,MAAM,CAACC,OAAO,CAChB,CAACC,IAAI,CAAC,UAACC,CAAC;MAAA,OAAMA,CAAC,CAACV,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC;IAAA,CAAC,CAAC;EACnC,CAAC,EAAE,CAACZ,YAAY,EAAE7B,CAAC,EAAEc,WAAW,EAAEc,QAAQ,EAAED,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAES,KAAK,EAAET,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEkB,UAAU,EAAE5C,UAAU,EAAES,YAAY,CAAC,CAAC;EAEvH,IAAIJ,SAAS,IAAI,CAACF,WAAW,EAAE;IAC9B,oBACCnC,KAAA,CAAAgE,aAAA,CAAC3E,IAAI;MAAC8F,KAAK,EAAAhG,aAAA,KAAOqC,cAAc;IAAG,gBAClCxB,KAAA,CAAAgE,aAAA,CAACrD,mBAAmB,OACf,CAAC;EAET;EAEA,oBACCX,KAAA,CAAAgE,aAAA,CAAC3E,IAAI;IAAC8F,KAAK,EAAAhG,aAAA,KAAOqC,cAAc;EAAG,gBAClCxB,KAAA,CAAAgE,aAAA,CAACzE,OAAO,qBACPS,KAAA,CAAAgE,aAAA,CAACvE,UAAU,qBACVO,KAAA,CAAAgE,aAAA,CAACtE,SAAS;IAAC0F,OAAO,EAAC;EAAI,GAAErD,CAAC,CAAC,iBAAiB,EAAE;IAAEmB,OAAO,EAAED;EAAa,CAAE,CAAa,CACrF,EAAC,CAACJ,WAAW,IAAIc,QAAQ,iBAAI3D,KAAA,CAAAgE,aAAA,CAACpD,UAAU;IAAC8C,aAAa,EAAEA,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAES,KAAM;IAACkB,KAAK,EAAE3B,aAAa,CAACR;EAAQ,EAChG,CAEZ,eAAAlD,KAAA,CAAAgE,aAAA,CAAC5E,GAAG;IAACkG,KAAK,EAAC;EAAgB,gBAC1BtF,KAAA,CAAAgE,aAAA,CAACrE,IAAI;IAAC4F,IAAI,EAAC,YAAY;IAACC,IAAI,EAAE;EAAG,EAAI,OAACxC,WAAW,CAACZ,IAC9C,CACG,CAET,eAAApC,KAAA,CAAAgE,aAAA,CAAC1E,QAAQ;IAACmG,aAAa,EAAC;EAAQ,GAC9BlB,WAAW,CAACmB,MAAM,GAAG,CAAC,IAAInB,WAAW,CAACoB,GAAG,CAAC,UAACC,IAAI,EAAEC,KAAK;IAAA,oBAAK7F,KAAA,CAAAgE,aAAA,CAACtD,qBAAqB,EAAAxB,QAAA;MAAC4G,GAAG,EAAED;IAAM,GAAKD,IAAI,CAAC,CAAG;EAAA,EAClG,CAEV,EAAC/B,YAAY,iBACZ7D,KAAA,CAAAgE,aAAA,CAACxE,YAAY,qBACZQ,KAAA,CAAAgE,aAAA,CAACvD,uBAAuB,EAAKoD,YAAa,CAC7B,CAEV,CAAC;AAET,CAAC;AAxMD/E,MAAA,CAAOiH,aAAa,CA0ML9E,WA1MK;AA4MpB,IAAMuC,YAAY,GAAG,SAAAA,CAACwC,GAAW,EAAmC;EACnE,IAAAC,UAAA,GAAwBD,GAAG,CAACE,KAAK,CAAC,GAAG,CAAC;IAAAC,WAAA,GAAAtH,cAAA,CAAAoH,UAAA;IAA7BG,WAAW,GAAAD,WAAA;EACpB,IAAI,CAACC,WAAW,EAAE;IACjB;EACD;EAEA,OAAOC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACH,WAAW,CAAC,CAAC;AACrC,CAAC","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"ce5c770f6d85e1cade8ecc1a296cc86d0b257085"}
