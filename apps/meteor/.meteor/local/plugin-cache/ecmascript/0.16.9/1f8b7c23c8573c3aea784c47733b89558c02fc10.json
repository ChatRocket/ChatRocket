{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/packages/rocketchat:user-presence/client/client.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"packages/rocketchat:user-presence/client/client.js","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/packages/rocketchat:user-presence/client/client.js","targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/packages/rocketchat:user-presence/client/client.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/rocketchat:user-presence/client/client.js"}},"code":"var _regeneratorRuntime;\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nmodule.export({\n  UserPresence: function () {\n    return UserPresence;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Tracker;\nmodule.link(\"meteor/tracker\", {\n  Tracker: function (v) {\n    Tracker = v;\n  }\n}, 1);\nvar check;\nmodule.link(\"meteor/check\", {\n  check: function (v) {\n    check = v;\n  }\n}, 2);\nvar debounce;\nmodule.link(\"./utils\", {\n  debounce: function (v) {\n    debounce = v;\n  }\n}, 3);\nvar timer;\nvar status;\nvar UserPresence = {\n  awayTime: 60000,\n  // 1 minute\n  awayOnWindowBlur: false,\n  callbacks: [],\n  connected: true,\n  started: false,\n  userId: null,\n  /**\n   * The callback will receive the following parameters: user, status\n   */\n  onSetUserStatus: function (callback) {\n    this.callbacks.push(callback);\n  },\n  runCallbacks: function (user, status) {\n    this.callbacks.forEach(function (callback) {\n      callback.call(null, user, status);\n    });\n  },\n  startTimer: function () {\n    UserPresence.stopTimer();\n    if (!UserPresence.awayTime) {\n      return;\n    }\n    timer = setTimeout(UserPresence.setAway, UserPresence.awayTime);\n  },\n  stopTimer: function () {\n    clearTimeout(timer);\n  },\n  restartTimer: function () {\n    UserPresence.startTimer();\n  },\n  // eslint-disable-next-line no-use-before-define\n  setAway: function () {\n    return setUserPresence('away');\n  },\n  // eslint-disable-next-line no-use-before-define\n  setOnline: function () {\n    return setUserPresence('online');\n  },\n  start: function (userId) {\n    var _this = this;\n    // after first call overwrite start function to only call startTimer\n    this.start = function () {\n      _this.startTimer();\n    };\n    this.userId = userId;\n\n    // register a tracker on connection status so we can setup the away timer again (on reconnect)\n    Tracker.autorun(function () {\n      var _Meteor$status = Meteor.status(),\n        connected = _Meteor$status.connected;\n      _this.connected = connected;\n      if (connected) {\n        _this.startTimer();\n        status = 'online';\n        return;\n      }\n      _this.stopTimer();\n      status = 'offline';\n    });\n    ['mousemove', 'mousedown', 'touchend', 'keydown'].forEach(function (key) {\n      return document.addEventListener(key, _this.setOnline);\n    });\n    window.addEventListener('focus', this.setOnline);\n    if (this.awayOnWindowBlur === true) {\n      window.addEventListener('blur', this.setAway);\n    }\n  }\n};\nvar setUserPresence = debounce(function () {\n  function _callee(newStatus) {\n    return _regeneratorRuntime.async(function () {\n      function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (!(!UserPresence.connected || newStatus === status)) {\n              _context.next = 3;\n              break;\n            }\n            UserPresence.startTimer();\n            return _context.abrupt(\"return\");\n          case 3:\n            _context.t0 = newStatus;\n            _context.next = _context.t0 === 'online' ? 6 : _context.t0 === 'away' ? 9 : 13;\n            break;\n          case 6:\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(Meteor.callAsync('UserPresence:online', UserPresence.userId));\n          case 8:\n            return _context.abrupt(\"break\", 14);\n          case 9:\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(Meteor.callAsync('UserPresence:away', UserPresence.userId));\n          case 11:\n            UserPresence.stopTimer();\n            return _context.abrupt(\"break\", 14);\n          case 13:\n            return _context.abrupt(\"return\");\n          case 14:\n            status = newStatus;\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n      return _callee$;\n    }(), null, null, null, Promise);\n  }\n  return _callee;\n}(), 1000);\nMeteor.methods({\n  'UserPresence:setDefaultStatus': function () {\n    function _callee2(status) {\n      return _regeneratorRuntime.async(function () {\n        function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              check(status, String);\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(Meteor.users.updateAsync({\n                _id: Meteor.userId()\n              }, {\n                $set: {\n                  status: status,\n                  statusDefault: status\n                }\n              }));\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n        return _callee2$;\n      }(), null, null, null, Promise);\n    }\n    return _callee2;\n  }(),\n  'UserPresence:online': function () {\n    function _callee3() {\n      var user;\n      return _regeneratorRuntime.async(function () {\n        function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(Meteor.userAsync());\n            case 2:\n              user = _context3.sent;\n              if (!(user && user.status !== 'online' && user.statusDefault === 'online')) {\n                _context3.next = 6;\n                break;\n              }\n              _context3.next = 6;\n              return _regeneratorRuntime.awrap(Meteor.users.updateAsync({\n                _id: Meteor.userId()\n              }, {\n                $set: {\n                  status: 'online'\n                }\n              }));\n            case 6:\n              UserPresence.runCallbacks(user, 'online');\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n        return _callee3$;\n      }(), null, null, null, Promise);\n    }\n    return _callee3;\n  }(),\n  'UserPresence:away': function () {\n    function _callee4() {\n      var user;\n      return _regeneratorRuntime.async(function () {\n        function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(Meteor.userAsync());\n            case 2:\n              user = _context4.sent;\n              UserPresence.runCallbacks(user, 'away');\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n        return _callee4$;\n      }(), null, null, null, Promise);\n    }\n    return _callee4;\n  }()\n});","map":{"version":3,"names":["_regeneratorRuntime","module","link","default","v","export","UserPresence","Meteor","Tracker","check","debounce","timer","status","awayTime","awayOnWindowBlur","callbacks","connected","started","userId","onSetUserStatus","callback","push","runCallbacks","user","forEach","call","startTimer","stopTimer","setTimeout","setAway","clearTimeout","restartTimer","setUserPresence","setOnline","start","_this","autorun","_Meteor$status","key","document","addEventListener","window","_callee","newStatus","async","_callee$","_context","prev","next","abrupt","t0","awrap","callAsync","stop","Promise","methods","_callee2","_callee2$","_context2","String","users","updateAsync","_id","$set","statusDefault","_callee3","_callee3$","_context3","userAsync","sent","_callee4","_callee4$","_context4"],"sources":["packages/rocketchat:user-presence/client/client.js"],"sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Tracker } from 'meteor/tracker';\nimport { check } from 'meteor/check';\n\nimport { debounce } from './utils';\n\nlet timer;\nlet status;\n\nexport const UserPresence = {\n\tawayTime: 60000, // 1 minute\n\tawayOnWindowBlur: false,\n\tcallbacks: [],\n\tconnected: true,\n\tstarted: false,\n\tuserId: null,\n\n\t/**\n\t * The callback will receive the following parameters: user, status\n\t */\n\tonSetUserStatus(callback) {\n\t\tthis.callbacks.push(callback);\n\t},\n\n\trunCallbacks(user, status) {\n\t\tthis.callbacks.forEach(function (callback) {\n\t\t\tcallback.call(null, user, status);\n\t\t});\n\t},\n\n\tstartTimer() {\n\t\tUserPresence.stopTimer();\n\t\tif (!UserPresence.awayTime) {\n\t\t\treturn;\n\t\t}\n\t\ttimer = setTimeout(UserPresence.setAway, UserPresence.awayTime);\n\t},\n\tstopTimer() {\n\t\tclearTimeout(timer);\n\t},\n\trestartTimer() {\n\t\tUserPresence.startTimer();\n\t},\n\t// eslint-disable-next-line no-use-before-define\n\tsetAway: () => setUserPresence('away'),\n\t// eslint-disable-next-line no-use-before-define\n\tsetOnline: () => setUserPresence('online'),\n\tstart(userId) {\n\t\t// after first call overwrite start function to only call startTimer\n\t\tthis.start = () => {\n\t\t\tthis.startTimer();\n\t\t};\n\t\tthis.userId = userId;\n\n\t\t// register a tracker on connection status so we can setup the away timer again (on reconnect)\n\t\tTracker.autorun(() => {\n\t\t\tconst { connected } = Meteor.status();\n\t\t\tthis.connected = connected;\n\t\t\tif (connected) {\n\t\t\t\tthis.startTimer();\n\t\t\t\tstatus = 'online';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.stopTimer();\n\t\t\tstatus = 'offline';\n\t\t});\n\n\t\t['mousemove', 'mousedown', 'touchend', 'keydown'].forEach((key) => document.addEventListener(key, this.setOnline));\n\n\t\twindow.addEventListener('focus', this.setOnline);\n\n\t\tif (this.awayOnWindowBlur === true) {\n\t\t\twindow.addEventListener('blur', this.setAway);\n\t\t}\n\t},\n};\n\nconst setUserPresence = debounce(async (newStatus) => {\n\tif (!UserPresence.connected || newStatus === status) {\n\t\tUserPresence.startTimer();\n\t\treturn;\n\t}\n\tswitch (newStatus) {\n\t\tcase 'online':\n\t\t\tawait Meteor.callAsync('UserPresence:online', UserPresence.userId);\n\t\t\tbreak;\n\t\tcase 'away':\n\t\t\tawait Meteor.callAsync('UserPresence:away', UserPresence.userId);\n\t\t\tUserPresence.stopTimer();\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn;\n\t}\n\tstatus = newStatus;\n}, 1000);\n\nMeteor.methods({\n\tasync 'UserPresence:setDefaultStatus'(status) {\n\t\tcheck(status, String);\n\t\tawait Meteor.users.updateAsync({ _id: Meteor.userId() }, { $set: { status, statusDefault: status } });\n\t},\n\tasync 'UserPresence:online'() {\n\t\tconst user = await Meteor.userAsync();\n\t\tif (user && user.status !== 'online' && user.statusDefault === 'online') {\n\t\t\tawait Meteor.users.updateAsync({ _id: Meteor.userId() }, { $set: { status: 'online' } });\n\t\t}\n\t\tUserPresence.runCallbacks(user, 'online');\n\t},\n\tasync 'UserPresence:away'() {\n\t\tconst user = await Meteor.userAsync();\n\t\tUserPresence.runCallbacks(user, 'away');\n\t},\n});\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"1f8b7c23c8573c3aea784c47733b89558c02fc10"}
