{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/server/routes/avatar/user.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","objectRestSpread","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.arm64"},"sourceFileName":"server/routes/avatar/user.js","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/server/routes/avatar/user.js","targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true,"topLevelAwait":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/server/routes/avatar/user.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"server/routes/avatar/user.js"}},"code":"!module.wrapAsync(async function (module, __reifyWaitForDeps__, __reify_async_result__) {\n  \"use strict\";\n  try {\n    module.export({\n      userAvatar: () => userAvatar\n    });\n    let Avatars, Users;\n    module.link(\"@rocket.chat/models\", {\n      Avatars(v) {\n        Avatars = v;\n      },\n      Users(v) {\n        Users = v;\n      }\n    }, 0);\n    let fetch;\n    module.link(\"@rocket.chat/server-fetch\", {\n      serverFetch(v) {\n        fetch = v;\n      }\n    }, 1);\n    let FileUpload;\n    module.link(\"../../../app/file-upload/server\", {\n      FileUpload(v) {\n        FileUpload = v;\n      }\n    }, 2);\n    let settings;\n    module.link(\"../../../app/settings/server\", {\n      settings(v) {\n        settings = v;\n      }\n    }, 3);\n    let renderSVGLetters, serveAvatar, wasFallbackModified, setCacheAndDispositionHeaders;\n    module.link(\"./utils\", {\n      renderSVGLetters(v) {\n        renderSVGLetters = v;\n      },\n      serveAvatar(v) {\n        serveAvatar = v;\n      },\n      wasFallbackModified(v) {\n        wasFallbackModified = v;\n      },\n      setCacheAndDispositionHeaders(v) {\n        setCacheAndDispositionHeaders = v;\n      }\n    }, 4);\n    if (__reifyWaitForDeps__()) (await __reifyWaitForDeps__())();\n    const MAX_USER_SVG_AVATAR_SIZE = 1024;\n    const MIN_USER_SVG_AVATAR_SIZE = 16;\n\n    // request /avatar/@name forces returning the svg\n    const userAvatar = async function (req, res) {\n      const requestUsername = decodeURIComponent(req.url.substr(1).replace(/\\?.*$/, ''));\n      if (!requestUsername) {\n        res.writeHead(404);\n        res.end();\n        return;\n      }\n      let avatarSize = req.query.size && parseInt(req.query.size);\n      if (avatarSize) {\n        avatarSize = Math.min(Math.max(avatarSize, MIN_USER_SVG_AVATAR_SIZE), MAX_USER_SVG_AVATAR_SIZE);\n      }\n      setCacheAndDispositionHeaders(req, res);\n\n      // if request starts with @ always return the svg letters\n      if (requestUsername[0] === '@') {\n        const svg = renderSVGLetters(requestUsername.substr(1), avatarSize);\n        serveAvatar(svg, req.query.format, res);\n        return;\n      }\n      if (settings.get('Accounts_AvatarExternalProviderUrl')) {\n        const response = await fetch(settings.get('Accounts_AvatarExternalProviderUrl').replace('{username}', requestUsername));\n        response.headers.forEach((value, key) => res.setHeader(key, value));\n        response.body.pipe(res);\n        return;\n      }\n      const reqModifiedHeader = req.headers['if-modified-since'];\n      const file = await Avatars.findOneByName(requestUsername);\n      if (file) {\n        res.setHeader('Content-Security-Policy', \"default-src 'none'\");\n        if (reqModifiedHeader && reqModifiedHeader === (file.uploadedAt && file.uploadedAt.toUTCString())) {\n          res.setHeader('Last-Modified', reqModifiedHeader);\n          res.writeHead(304);\n          res.end();\n          return;\n        }\n        res.setHeader('Last-Modified', file.uploadedAt.toUTCString());\n        res.setHeader('Content-Type', file.type);\n        res.setHeader('Content-Length', file.size);\n        return FileUpload.get(file, req, res);\n      }\n\n      // if still using \"letters fallback\"\n      if (!wasFallbackModified(reqModifiedHeader, res)) {\n        res.writeHead(304);\n        res.end();\n        return;\n      }\n      let svg = renderSVGLetters(requestUsername, avatarSize);\n      if (settings.get('UI_Use_Name_Avatar')) {\n        const user = await Users.findOneByUsernameIgnoringCase(requestUsername, {\n          projection: {\n            name: 1\n          }\n        });\n        if (user && user.name) {\n          svg = renderSVGLetters(user.name, avatarSize);\n        }\n      }\n      serveAvatar(svg, req.query.format, res);\n    };\n    __reify_async_result__();\n  } catch (_reifyError) {\n    return __reify_async_result__(_reifyError);\n  }\n  __reify_async_result__()\n}, {\n  self: this,\n  async: false\n});","map":{"version":3,"names":["module","export","userAvatar","Avatars","Users","link","v","fetch","serverFetch","FileUpload","settings","renderSVGLetters","serveAvatar","wasFallbackModified","setCacheAndDispositionHeaders","__reifyWaitForDeps__","MAX_USER_SVG_AVATAR_SIZE","MIN_USER_SVG_AVATAR_SIZE","req","res","requestUsername","decodeURIComponent","url","substr","replace","writeHead","end","avatarSize","query","size","parseInt","Math","min","max","svg","format","get","response","headers","forEach","value","key","setHeader","body","pipe","reqModifiedHeader","file","findOneByName","uploadedAt","toUTCString","type","user","findOneByUsernameIgnoringCase","projection","name","__reify_async_result__","_reifyError","self","async"],"sources":["server/routes/avatar/user.js"],"sourcesContent":["import { Avatars, Users } from '@rocket.chat/models';\nimport { serverFetch as fetch } from '@rocket.chat/server-fetch';\n\nimport { FileUpload } from '../../../app/file-upload/server';\nimport { settings } from '../../../app/settings/server';\nimport { renderSVGLetters, serveAvatar, wasFallbackModified, setCacheAndDispositionHeaders } from './utils';\n\nconst MAX_USER_SVG_AVATAR_SIZE = 1024;\nconst MIN_USER_SVG_AVATAR_SIZE = 16;\n\n// request /avatar/@name forces returning the svg\nexport const userAvatar = async function (req, res) {\n\tconst requestUsername = decodeURIComponent(req.url.substr(1).replace(/\\?.*$/, ''));\n\n\tif (!requestUsername) {\n\t\tres.writeHead(404);\n\t\tres.end();\n\t\treturn;\n\t}\n\n\tlet avatarSize = req.query.size && parseInt(req.query.size);\n\tif (avatarSize) {\n\t\tavatarSize = Math.min(Math.max(avatarSize, MIN_USER_SVG_AVATAR_SIZE), MAX_USER_SVG_AVATAR_SIZE);\n\t}\n\n\tsetCacheAndDispositionHeaders(req, res);\n\n\t// if request starts with @ always return the svg letters\n\tif (requestUsername[0] === '@') {\n\t\tconst svg = renderSVGLetters(requestUsername.substr(1), avatarSize);\n\t\tserveAvatar(svg, req.query.format, res);\n\t\treturn;\n\t}\n\n\tif (settings.get('Accounts_AvatarExternalProviderUrl')) {\n\t\tconst response = await fetch(settings.get('Accounts_AvatarExternalProviderUrl').replace('{username}', requestUsername));\n\t\tresponse.headers.forEach((value, key) => res.setHeader(key, value));\n\t\tresponse.body.pipe(res);\n\t\treturn;\n\t}\n\n\tconst reqModifiedHeader = req.headers['if-modified-since'];\n\n\tconst file = await Avatars.findOneByName(requestUsername);\n\tif (file) {\n\t\tres.setHeader('Content-Security-Policy', \"default-src 'none'\");\n\n\t\tif (reqModifiedHeader && reqModifiedHeader === (file.uploadedAt && file.uploadedAt.toUTCString())) {\n\t\t\tres.setHeader('Last-Modified', reqModifiedHeader);\n\t\t\tres.writeHead(304);\n\t\t\tres.end();\n\t\t\treturn;\n\t\t}\n\n\t\tres.setHeader('Last-Modified', file.uploadedAt.toUTCString());\n\t\tres.setHeader('Content-Type', file.type);\n\t\tres.setHeader('Content-Length', file.size);\n\n\t\treturn FileUpload.get(file, req, res);\n\t}\n\n\t// if still using \"letters fallback\"\n\tif (!wasFallbackModified(reqModifiedHeader, res)) {\n\t\tres.writeHead(304);\n\t\tres.end();\n\t\treturn;\n\t}\n\n\tlet svg = renderSVGLetters(requestUsername, avatarSize);\n\n\tif (settings.get('UI_Use_Name_Avatar')) {\n\t\tconst user = await Users.findOneByUsernameIgnoringCase(requestUsername, {\n\t\t\tprojection: {\n\t\t\t\tname: 1,\n\t\t\t},\n\t\t});\n\n\t\tif (user && user.name) {\n\t\t\tsvg = renderSVGLetters(user.name, avatarSize);\n\t\t}\n\t}\n\n\tserveAvatar(svg, req.query.format, res);\n};\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"449e113c84adc5e71120a6952f5d97a89a897214"}
