{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/packages/meteor-developer-oauth/meteor_developer_client.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"packages/meteor-developer-oauth/meteor_developer_client.js","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/packages/meteor-developer-oauth/meteor_developer_client.js","targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/packages/meteor-developer-oauth/meteor_developer_client.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/meteor-developer-oauth/meteor_developer_client.js"}},"code":"// Request Meteor developer account credentials for the user\n// @param credentialRequestCompleteCallback {Function} Callback function to call on\n//   completion. Takes one argument, credentialToken on success, or Error on\n//   error.\nconst requestCredential = (options, credentialRequestCompleteCallback) => {\n  // support a callback without options\n  if (!credentialRequestCompleteCallback && typeof options === \"function\") {\n    credentialRequestCompleteCallback = options;\n    options = null;\n  }\n  const config = ServiceConfiguration.configurations.findOne({\n    service: 'meteor-developer'\n  });\n  if (!config) {\n    credentialRequestCompleteCallback && credentialRequestCompleteCallback(new ServiceConfiguration.ConfigError());\n    return;\n  }\n  const credentialToken = Random.secret();\n  const loginStyle = OAuth._loginStyle('meteor-developer', config, options);\n  let loginUrl = MeteorDeveloperAccounts._server + \"/oauth2/authorize?\" + \"state=\".concat(OAuth._stateParam(loginStyle, credentialToken, options && options.redirectUrl)) + \"&response_type=code&\" + \"client_id=\".concat(config.clientId).concat(options && options.details ? \"&details=\".concat(options && options.details) : '');\n\n  /**\n   * @deprecated in 1.3.0\n   */\n  if (options && options.userEmail && !options.loginHint) {\n    options.loginHint = options.userEmail;\n    delete options.userEmail;\n  }\n  if (options && options.loginHint) {\n    loginUrl += \"&user_email=\".concat(encodeURIComponent(options.loginHint));\n  }\n  loginUrl += \"&redirect_uri=\".concat(OAuth._redirectUri('meteor-developer', config));\n  OAuth.launchLogin({\n    loginService: \"meteor-developer\",\n    loginStyle,\n    loginUrl,\n    credentialRequestCompleteCallback,\n    credentialToken,\n    popupOptions: {\n      width: 497,\n      height: 749\n    }\n  });\n};\nMeteorDeveloperAccounts.requestCredential = requestCredential;","map":{"version":3,"names":["requestCredential","options","credentialRequestCompleteCallback","config","ServiceConfiguration","configurations","findOne","service","ConfigError","credentialToken","Random","secret","loginStyle","OAuth","_loginStyle","loginUrl","MeteorDeveloperAccounts","_server","concat","_stateParam","redirectUrl","clientId","details","userEmail","loginHint","encodeURIComponent","_redirectUri","launchLogin","loginService","popupOptions","width","height"],"sources":["packages/meteor-developer-oauth/meteor_developer_client.js"],"sourcesContent":["// Request Meteor developer account credentials for the user\n// @param credentialRequestCompleteCallback {Function} Callback function to call on\n//   completion. Takes one argument, credentialToken on success, or Error on\n//   error.\nconst requestCredential = (options, credentialRequestCompleteCallback) => {\n  // support a callback without options\n  if (! credentialRequestCompleteCallback && typeof options === \"function\") {\n    credentialRequestCompleteCallback = options;\n    options = null;\n  }\n\n  const config = ServiceConfiguration.configurations.findOne({\n    service: 'meteor-developer'\n  });\n  if (!config) {\n    credentialRequestCompleteCallback &&\n      credentialRequestCompleteCallback(new ServiceConfiguration.ConfigError());\n    return;\n  }\n\n  const credentialToken = Random.secret();\n\n  const loginStyle = OAuth._loginStyle('meteor-developer', config, options);\n\n  let loginUrl =\n        MeteorDeveloperAccounts._server +\n        \"/oauth2/authorize?\" +\n        `state=${OAuth._stateParam(loginStyle, credentialToken, options && options.redirectUrl)}` +\n        \"&response_type=code&\" +\n        `client_id=${config.clientId}${options && options.details ? `&details=${options && options.details}` : ''}`;\n\n  /**\n   * @deprecated in 1.3.0\n   */\n  if (options && options.userEmail && !options.loginHint) {\n    options.loginHint = options.userEmail;\n    delete options.userEmail;\n  }\n\n  if (options && options.loginHint) {\n    loginUrl += `&user_email=${encodeURIComponent(options.loginHint)}`;\n  }\n\n  loginUrl += `&redirect_uri=${OAuth._redirectUri('meteor-developer', config)}`;\n\n  OAuth.launchLogin({\n    loginService: \"meteor-developer\",\n    loginStyle,\n    loginUrl,\n    credentialRequestCompleteCallback,\n    credentialToken,\n    popupOptions: {width: 497, height: 749}\n  });\n};\n\nMeteorDeveloperAccounts.requestCredential = requestCredential;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,MAAMA,iBAAiB,GAAGA,CAACC,OAAO,EAAEC,iCAAiC,KAAK;EACxE;EACA,IAAI,CAAEA,iCAAiC,IAAI,OAAOD,OAAO,KAAK,UAAU,EAAE;IACxEC,iCAAiC,GAAGD,OAAO;IAC3CA,OAAO,GAAG,IAAI;EAChB;EAEA,MAAME,MAAM,GAAGC,oBAAoB,CAACC,cAAc,CAACC,OAAO,CAAC;IACzDC,OAAO,EAAE;EACX,CAAC,CAAC;EACF,IAAI,CAACJ,MAAM,EAAE;IACXD,iCAAiC,IAC/BA,iCAAiC,CAAC,IAAIE,oBAAoB,CAACI,WAAW,CAAC,CAAC,CAAC;IAC3E;EACF;EAEA,MAAMC,eAAe,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC;EAEvC,MAAMC,UAAU,GAAGC,KAAK,CAACC,WAAW,CAAC,kBAAkB,EAAEX,MAAM,EAAEF,OAAO,CAAC;EAEzE,IAAIc,QAAQ,GACNC,uBAAuB,CAACC,OAAO,GAC/B,oBAAoB,YAAAC,MAAA,CACXL,KAAK,CAACM,WAAW,CAACP,UAAU,EAAEH,eAAe,EAAER,OAAO,IAAIA,OAAO,CAACmB,WAAW,CAAC,CAAE,GACzF,sBAAsB,gBAAAF,MAAA,CACTf,MAAM,CAACkB,QAAQ,EAAAH,MAAA,CAAGjB,OAAO,IAAIA,OAAO,CAACqB,OAAO,eAAAJ,MAAA,CAAejB,OAAO,IAAIA,OAAO,CAACqB,OAAO,IAAK,EAAE,CAAE;;EAEjH;AACF;AACA;EACE,IAAIrB,OAAO,IAAIA,OAAO,CAACsB,SAAS,IAAI,CAACtB,OAAO,CAACuB,SAAS,EAAE;IACtDvB,OAAO,CAACuB,SAAS,GAAGvB,OAAO,CAACsB,SAAS;IACrC,OAAOtB,OAAO,CAACsB,SAAS;EAC1B;EAEA,IAAItB,OAAO,IAAIA,OAAO,CAACuB,SAAS,EAAE;IAChCT,QAAQ,mBAAAG,MAAA,CAAmBO,kBAAkB,CAACxB,OAAO,CAACuB,SAAS,CAAC,CAAE;EACpE;EAEAT,QAAQ,qBAAAG,MAAA,CAAqBL,KAAK,CAACa,YAAY,CAAC,kBAAkB,EAAEvB,MAAM,CAAC,CAAE;EAE7EU,KAAK,CAACc,WAAW,CAAC;IAChBC,YAAY,EAAE,kBAAkB;IAChChB,UAAU;IACVG,QAAQ;IACRb,iCAAiC;IACjCO,eAAe;IACfoB,YAAY,EAAE;MAACC,KAAK,EAAE,GAAG;MAAEC,MAAM,EAAE;IAAG;EACxC,CAAC,CAAC;AACJ,CAAC;AAEDf,uBAAuB,CAAChB,iBAAiB,GAAGA,iBAAiB","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"b7308a450ea8d0e276724f8ef7bb2aa113816080"}
