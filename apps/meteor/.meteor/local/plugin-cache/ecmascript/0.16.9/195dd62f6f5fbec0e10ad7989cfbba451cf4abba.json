{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/server/routes/avatar/room.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","objectRestSpread","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.arm64"},"sourceFileName":"server/routes/avatar/room.js","filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/server/routes/avatar/room.js","targets":{"android":"125.0.0","chrome":"125.0.0","edge":"125.0.0","firefox":"115.0.0","ie":"10.0.0","ios":"17.4.0","opera":"110.0.0","opera_mobile":"80.0.0","safari":"17.4.0","samsung":"24.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","root":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true,"topLevelAwait":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/guilhermegazzo/dev/Rocket.Chat/apps/meteor/server/routes/avatar/room.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"server/routes/avatar/room.js"}},"code":"!module.wrapAsync(async function (module, __reifyWaitForDeps__, __reify_async_result__) {\n  \"use strict\";\n  try {\n    module.export({\n      roomAvatar: () => roomAvatar\n    });\n    let Avatars, Rooms;\n    module.link(\"@rocket.chat/models\", {\n      Avatars(v) {\n        Avatars = v;\n      },\n      Rooms(v) {\n        Rooms = v;\n      }\n    }, 0);\n    let Cookies;\n    module.link(\"meteor/ostrio:cookies\", {\n      Cookies(v) {\n        Cookies = v;\n      }\n    }, 1);\n    let FileUpload;\n    module.link(\"../../../app/file-upload/server\", {\n      FileUpload(v) {\n        FileUpload = v;\n      }\n    }, 2);\n    let roomCoordinator;\n    module.link(\"../../lib/rooms/roomCoordinator\", {\n      roomCoordinator(v) {\n        roomCoordinator = v;\n      }\n    }, 3);\n    let renderSVGLetters, serveAvatar, wasFallbackModified, setCacheAndDispositionHeaders;\n    module.link(\"./utils\", {\n      renderSVGLetters(v) {\n        renderSVGLetters = v;\n      },\n      serveAvatar(v) {\n        serveAvatar = v;\n      },\n      wasFallbackModified(v) {\n        wasFallbackModified = v;\n      },\n      setCacheAndDispositionHeaders(v) {\n        setCacheAndDispositionHeaders = v;\n      }\n    }, 4);\n    if (__reifyWaitForDeps__()) (await __reifyWaitForDeps__())();\n    const MAX_ROOM_SVG_AVATAR_SIZE = 1024;\n    const MIN_ROOM_SVG_AVATAR_SIZE = 16;\n    const cookie = new Cookies();\n    const getRoomAvatar = async roomId => {\n      const room = await Rooms.findOneById(roomId, {\n        projection: {\n          t: 1,\n          prid: 1,\n          name: 1,\n          fname: 1,\n          federated: 1\n        }\n      });\n      if (!room) {\n        return {};\n      }\n      const file = await Avatars.findOneByRoomId(room._id);\n\n      // if it is a discussion that doesn't have it's own avatar, returns the parent's room avatar\n      if (room.prid && !file) {\n        return getRoomAvatar(room.prid);\n      }\n      return {\n        room,\n        file\n      };\n    };\n    const roomAvatar = async function (req, res /* , next*/) {\n      const roomId = decodeURIComponent(req.url.substr(1).replace(/\\?.*$/, ''));\n      const {\n        room,\n        file\n      } = await getRoomAvatar(roomId);\n      if (!room) {\n        res.writeHead(404);\n        res.end();\n        return;\n      }\n      const uid = req.headers.cookie && cookie.get('rc_uid', req.headers.cookie);\n      const reqModifiedHeader = req.headers['if-modified-since'];\n      if (file) {\n        var _file$uploadedAt;\n        res.setHeader('Content-Security-Policy', \"default-src 'none'\");\n        if (reqModifiedHeader && reqModifiedHeader === ((_file$uploadedAt = file.uploadedAt) === null || _file$uploadedAt === void 0 ? void 0 : _file$uploadedAt.toUTCString())) {\n          res.setHeader('Last-Modified', reqModifiedHeader);\n          res.writeHead(304);\n          res.end();\n          return;\n        }\n        if (file.uploadedAt) {\n          res.setHeader('Last-Modified', file.uploadedAt.toUTCString());\n        }\n        res.setHeader('Content-Type', file.type);\n        res.setHeader('Content-Length', file.size);\n        return FileUpload.get(file, req, res);\n      }\n      const roomName = await roomCoordinator.getRoomName(room.t, room, uid);\n      setCacheAndDispositionHeaders(req, res);\n      if (!wasFallbackModified(reqModifiedHeader, res)) {\n        res.writeHead(304);\n        res.end();\n        return;\n      }\n      let avatarSize = req.query.size && parseInt(req.query.size);\n      if (avatarSize) {\n        avatarSize = Math.min(Math.max(avatarSize, MIN_ROOM_SVG_AVATAR_SIZE), MAX_ROOM_SVG_AVATAR_SIZE);\n      }\n      const svg = renderSVGLetters(roomName, avatarSize);\n      return serveAvatar(svg, req.query.format, res);\n    };\n    __reify_async_result__();\n  } catch (_reifyError) {\n    return __reify_async_result__(_reifyError);\n  }\n  __reify_async_result__()\n}, {\n  self: this,\n  async: false\n});","map":{"version":3,"names":["module","export","roomAvatar","Avatars","Rooms","link","v","Cookies","FileUpload","roomCoordinator","renderSVGLetters","serveAvatar","wasFallbackModified","setCacheAndDispositionHeaders","__reifyWaitForDeps__","MAX_ROOM_SVG_AVATAR_SIZE","MIN_ROOM_SVG_AVATAR_SIZE","cookie","getRoomAvatar","roomId","room","findOneById","projection","t","prid","name","fname","federated","file","findOneByRoomId","_id","req","res","decodeURIComponent","url","substr","replace","writeHead","end","uid","headers","get","reqModifiedHeader","_file$uploadedAt","setHeader","uploadedAt","toUTCString","type","size","roomName","getRoomName","avatarSize","query","parseInt","Math","min","max","svg","format","__reify_async_result__","_reifyError","self","async"],"sources":["server/routes/avatar/room.js"],"sourcesContent":["import { Avatars, Rooms } from '@rocket.chat/models';\nimport { Cookies } from 'meteor/ostrio:cookies';\n\nimport { FileUpload } from '../../../app/file-upload/server';\nimport { roomCoordinator } from '../../lib/rooms/roomCoordinator';\nimport { renderSVGLetters, serveAvatar, wasFallbackModified, setCacheAndDispositionHeaders } from './utils';\n\nconst MAX_ROOM_SVG_AVATAR_SIZE = 1024;\nconst MIN_ROOM_SVG_AVATAR_SIZE = 16;\n\nconst cookie = new Cookies();\nconst getRoomAvatar = async (roomId) => {\n\tconst room = await Rooms.findOneById(roomId, { projection: { t: 1, prid: 1, name: 1, fname: 1, federated: 1 } });\n\tif (!room) {\n\t\treturn {};\n\t}\n\n\tconst file = await Avatars.findOneByRoomId(room._id);\n\n\t// if it is a discussion that doesn't have it's own avatar, returns the parent's room avatar\n\tif (room.prid && !file) {\n\t\treturn getRoomAvatar(room.prid);\n\t}\n\n\treturn { room, file };\n};\n\nexport const roomAvatar = async function (req, res /* , next*/) {\n\tconst roomId = decodeURIComponent(req.url.substr(1).replace(/\\?.*$/, ''));\n\n\tconst { room, file } = await getRoomAvatar(roomId);\n\tif (!room) {\n\t\tres.writeHead(404);\n\t\tres.end();\n\t\treturn;\n\t}\n\n\tconst uid = req.headers.cookie && cookie.get('rc_uid', req.headers.cookie);\n\n\tconst reqModifiedHeader = req.headers['if-modified-since'];\n\tif (file) {\n\t\tres.setHeader('Content-Security-Policy', \"default-src 'none'\");\n\n\t\tif (reqModifiedHeader && reqModifiedHeader === file.uploadedAt?.toUTCString()) {\n\t\t\tres.setHeader('Last-Modified', reqModifiedHeader);\n\t\t\tres.writeHead(304);\n\t\t\tres.end();\n\t\t\treturn;\n\t\t}\n\n\t\tif (file.uploadedAt) {\n\t\t\tres.setHeader('Last-Modified', file.uploadedAt.toUTCString());\n\t\t}\n\t\tres.setHeader('Content-Type', file.type);\n\t\tres.setHeader('Content-Length', file.size);\n\n\t\treturn FileUpload.get(file, req, res);\n\t}\n\n\tconst roomName = await roomCoordinator.getRoomName(room.t, room, uid);\n\n\tsetCacheAndDispositionHeaders(req, res);\n\n\tif (!wasFallbackModified(reqModifiedHeader, res)) {\n\t\tres.writeHead(304);\n\t\tres.end();\n\t\treturn;\n\t}\n\n\tlet avatarSize = req.query.size && parseInt(req.query.size);\n\tif (avatarSize) {\n\t\tavatarSize = Math.min(Math.max(avatarSize, MIN_ROOM_SVG_AVATAR_SIZE), MAX_ROOM_SVG_AVATAR_SIZE);\n\t}\n\n\tconst svg = renderSVGLetters(roomName, avatarSize);\n\n\treturn serveAvatar(svg, req.query.format, res);\n};\n"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"195dd62f6f5fbec0e10ad7989cfbba451cf4abba"}
