{"code":"function module(e,n,t){t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){i=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){o=e}},0),t.link(\"react\",{default:function(e){r=e},useState:function(e){l=e},memo:function(e){a=e}},1),t.link(\"react-i18next\",{useTranslation:function(e){u=e}},2),t.link(\"../../../../../app/authorization/lib\",{CONSTANTS:function(e){c=e}},3),t.link(\"../../../../components/GenericTable\",{GenericTableRow:function(e){s=e},GenericTableCell:function(e){f=e}},4),t.link(\"../hooks/useChangeRole\",{useChangeRole:function(e){d=e}},5),t.link(\"./RoleCell\",{default:function(e){m=e}},6);var i,o,r,l,a,u,c,s,f,d,m,k=function(e,n){if(n.level===c.SETTINGS_LEVEL){var t=\"\";return n.group&&(t=e(n.group)+\" > \"),n.section&&(t=\"\"+t+e(n.section)+\" > \"),\"\"+t+e(n.settingId)}return e(n._id)};t.exportDefault(a(function(e){var n=e.permission,t=e.roleList,a=e.onGrant,c=e.onRemove,p=u().t,T=n._id,h=n.roles,b=l(!1),v=i(b,2),g=v[0],C=v[1],E=d({onGrant:a,onRemove:c,permissionId:T}),R=o(function(){return C(!0)}),x=o(function(){return C(!1)});return r.createElement(s,{key:T,role:\"link\",action:!0,tabIndex:0,onMouseEnter:R,onMouseLeave:x},r.createElement(f,{maxWidth:\"x300\",withTruncatedText:!0,title:p(T+\"_description\")},k(p,n)),t.map(function(e){var n=e._id,t=e.name,i=e.description;return r.createElement(m,{key:n,_id:n,name:t,description:i,grantedRoles:h,onChange:E,lineHovered:g,permissionId:n})}))}))}","map":"{\"version\":3,\"sources\":[\"client/views/admin/permissions/PermissionsTable/PermissionRow.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRole, IPermission } from '@rocket.chat/core-typings';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\\nimport type { TFunction } from 'i18next';\\nimport type { ReactElement } from 'react';\\nimport React, { useState, memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { CONSTANTS } from '../../../../../app/authorization/lib';\\nimport { GenericTableRow, GenericTableCell } from '../../../../components/GenericTable';\\nimport { useChangeRole } from '../hooks/useChangeRole';\\nimport RoleCell from './RoleCell';\\n\\nconst getName = (t: TFunction, permission: IPermission): string => {\\n\\tif (permission.level === CONSTANTS.SETTINGS_LEVEL) {\\n\\t\\tlet path = '';\\n\\t\\tif (permission.group) {\\n\\t\\t\\tpath = `${t(permission.group as TranslationKey)} > `;\\n\\t\\t}\\n\\t\\tif (permission.section) {\\n\\t\\t\\tpath = `${path}${t(permission.section as TranslationKey)} > `;\\n\\t\\t}\\n\\t\\treturn `${path}${t(permission.settingId as TranslationKey)}`;\\n\\t}\\n\\n\\treturn t(permission._id as TranslationKey);\\n};\\n\\ntype PermissionRowProps = {\\n\\tpermission: IPermission;\\n\\troleList: IRole[];\\n\\tonGrant: (permissionId: IPermission['_id'], roleId: IRole['_id']) => Promise<void>;\\n\\tonRemove: (permissionId: IPermission['_id'], roleId: IRole['_id']) => Promise<void>;\\n};\\n\\nconst PermissionRow = ({ permission, roleList, onGrant, onRemove }: PermissionRowProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst { _id, roles } = permission;\\n\\tconst [hovered, setHovered] = useState(false);\\n\\tconst changeRole = useChangeRole({ onGrant, onRemove, permissionId: _id });\\n\\n\\tconst onMouseEnter = useMutableCallback(() => setHovered(true));\\n\\tconst onMouseLeave = useMutableCallback(() => setHovered(false));\\n\\n\\treturn (\\n\\t\\t<GenericTableRow key={_id} role='link' action tabIndex={0} onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave}>\\n\\t\\t\\t<GenericTableCell maxWidth='x300' withTruncatedText title={t(`${_id}_description` as TranslationKey)}>\\n\\t\\t\\t\\t{getName(t, permission)}\\n\\t\\t\\t</GenericTableCell>\\n\\t\\t\\t{roleList.map(({ _id, name, description }) => (\\n\\t\\t\\t\\t<RoleCell\\n\\t\\t\\t\\t\\tkey={_id}\\n\\t\\t\\t\\t\\t_id={_id}\\n\\t\\t\\t\\t\\tname={name}\\n\\t\\t\\t\\t\\tdescription={description}\\n\\t\\t\\t\\t\\tgrantedRoles={roles}\\n\\t\\t\\t\\t\\tonChange={changeRole}\\n\\t\\t\\t\\t\\tlineHovered={hovered}\\n\\t\\t\\t\\t\\tpermissionId={_id}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t))}\\n\\t\\t</GenericTableRow>\\n\\t);\\n};\\n\\nexport default memo(PermissionRow);\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_slicedToArray\",\"useMutableCallback\",\"React\",\"useState\",\"memo\",\"useTranslation\",\"CONSTANTS\",\"GenericTableRow\",\"GenericTableCell\",\"useChangeRole\",\"RoleCell\",\"getName\",\"t\",\"permission\",\"level\",\"SETTINGS_LEVEL\",\"path\",\"group\",\"section\",\"settingId\",\"_id\",\"exportDefault\",\"_ref\",\"roleList\",\"onGrant\",\"onRemove\",\"_useTranslation\",\"roles\",\"_useState\",\"_useState2\",\"hovered\",\"setHovered\",\"changeRole\",\"permissionId\",\"onMouseEnter\",\"onMouseLeave\",\"createElement\",\"key\",\"role\",\"action\",\"tabIndex\",\"maxWidth\",\"withTruncatedText\",\"title\",\"map\",\"_ref2\",\"name\",\"description\",\"grantedRoles\",\"onChange\",\"lineHovered\"],\"mappings\":\"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\"}"}