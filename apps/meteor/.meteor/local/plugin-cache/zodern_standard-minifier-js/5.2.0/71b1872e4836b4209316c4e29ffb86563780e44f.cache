{"code":"function module(e,t,n){var i,l,o,r,a,u,s,c,f,m,d,g,h,p;n.link(\"@babel/runtime/helpers/createForOfIteratorHelperLoose\",{default:function(e){i=e}},0),n.link(\"@nivo/bar\",{ResponsiveBar:function(e){l=e}},0),n.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},Button:function(e){r=e},Chevron:function(e){a=e},Skeleton:function(e){u=e},Tooltip:function(e){s=e}},1),n.link(\"@rocket.chat/fuselage-hooks\",{useBreakpoints:function(e){c=e}},2),n.link(\"@rocket.chat/fuselage-tokens/colors.json\",{default:function(e){f=e}},3),n.link(\"moment\",{default:function(e){m=e}},4),n.link(\"react\",{default:function(e){d=e},useMemo:function(e){g=e}},5),n.link(\"react-i18next\",{useTranslation:function(e){h=e}},6),n.link(\"./useHourlyChatActivity\",{useHourlyChatActivity:function(e){p=e}},7),n.exportDefault(function(e){var t=e.displacement,n=e.onPreviousDateClick,k=e.onNextDateClick,x=e.timezone,v=p({displacement:t,utc:\"utc\"===x}).data,y=h().t,E=c().includes(\"lg\"),S=g(function(){if(!v)return[];for(var e,t=Array.from({length:12},function(e,t){return{hour:String(2*t),users:0}}),n=i(null!==(l=null==v?void 0:v.hours)&&void 0!==l?l:[]);!(e=n()).done;){var l,o=e.value,r=o.hour,a=o.users,u=Math.floor(r/2);t[u]=t[u]||{hour:String(2*u),users:0},t[u].users+=a}return t},[v]);return d.createElement(d.Fragment,null,d.createElement(o,{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},d.createElement(r,{square:!0,small:!0,onClick:n},d.createElement(a,{left:!0,size:\"x20\",style:{verticalAlign:\"middle\"}})),d.createElement(o,{mi:8,flexBasis:\"25%\",is:\"span\",style:{textAlign:\"center\"}},v?m(v.day).format(t<7?\"dddd\":\"L\"):null),d.createElement(r,{square:!0,small:!0,disabled:0===t,onClick:k},d.createElement(a,{right:!0,size:\"x20\",style:{verticalAlign:\"middle\"}}))),v?d.createElement(o,{display:\"flex\",height:\"196px\"},d.createElement(o,{alignSelf:\"stretch\",flexGrow:1,flexShrink:0,position:\"relative\"},d.createElement(o,{position:\"absolute\",width:\"100%\",height:\"100%\"},d.createElement(l,{data:S,indexBy:\"hour\",keys:[\"users\"],groupMode:\"grouped\",padding:.25,margin:{bottom:30,right:5},colors:[f.p500],enableLabel:!1,enableGridY:!1,axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:4,tickRotation:E?0:25,tickValues:\"every 2 hours\",format:function(e){return m().set({hour:e,minute:0,second:0}).format(\"LT\")}},axisLeft:null,animate:!0,motionConfig:\"stiff\",theme:{axis:{ticks:{text:{fill:f.n600,fontFamily:'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',fontSize:\"10px\",fontStyle:\"normal\",fontWeight:600,letterSpacing:\"0.2px\",lineHeight:\"12px\"}}}},tooltip:function(e){var t=e.value;return d.createElement(s,null,y(\"Value_users\",{value:t}))}})))):d.createElement(u,{variant:\"rect\",height:196}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/engagementDashboard/users/ContentForHours.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { ResponsiveBar } from '@nivo/bar';\\nimport { Box, Button, Chevron, Skeleton, Tooltip } from '@rocket.chat/fuselage';\\nimport { useBreakpoints } from '@rocket.chat/fuselage-hooks';\\nimport colors from '@rocket.chat/fuselage-tokens/colors.json';\\nimport moment from 'moment';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useHourlyChatActivity } from './useHourlyChatActivity';\\n\\ntype ContentForHoursProps = {\\n\\tdisplacement: number;\\n\\tonPreviousDateClick: () => void;\\n\\tonNextDateClick: () => void;\\n\\ttimezone: 'utc' | 'local';\\n};\\n\\nconst ContentForHours = ({ displacement, onPreviousDateClick, onNextDateClick, timezone }: ContentForHoursProps): ReactElement => {\\n\\tconst utc = timezone === 'utc';\\n\\tconst { data } = useHourlyChatActivity({ displacement, utc });\\n\\n\\tconst { t } = useTranslation();\\n\\tconst isLgScreen = useBreakpoints().includes('lg');\\n\\n\\tconst values = useMemo(() => {\\n\\t\\tif (!data) {\\n\\t\\t\\treturn [];\\n\\t\\t}\\n\\n\\t\\tconst divider = 2;\\n\\t\\tconst values = Array.from({ length: 24 / divider }, (_, i) => ({\\n\\t\\t\\thour: String(divider * i),\\n\\t\\t\\tusers: 0,\\n\\t\\t}));\\n\\n\\t\\tfor (const { hour, users } of data?.hours ?? []) {\\n\\t\\t\\tconst i = Math.floor(hour / divider);\\n\\t\\t\\tvalues[i] = values[i] || { hour: String(divider * i), users: 0 };\\n\\t\\t\\tvalues[i].users += users;\\n\\t\\t}\\n\\n\\t\\treturn values;\\n\\t}, [data]);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<Box display='flex' alignItems='center' justifyContent='center'>\\n\\t\\t\\t\\t<Button square small onClick={onPreviousDateClick}>\\n\\t\\t\\t\\t\\t<Chevron left size='x20' style={{ verticalAlign: 'middle' }} />\\n\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t<Box mi={8} flexBasis='25%' is='span' style={{ textAlign: 'center' }}>\\n\\t\\t\\t\\t\\t{data ? moment(data.day).format(displacement < 7 ? 'dddd' : 'L') : null}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<Button square small disabled={displacement === 0} onClick={onNextDateClick}>\\n\\t\\t\\t\\t\\t<Chevron right size='x20' style={{ verticalAlign: 'middle' }} />\\n\\t\\t\\t\\t</Button>\\n\\t\\t\\t</Box>\\n\\t\\t\\t{data ? (\\n\\t\\t\\t\\t<Box display='flex' height='196px'>\\n\\t\\t\\t\\t\\t<Box alignSelf='stretch' flexGrow={1} flexShrink={0} position='relative'>\\n\\t\\t\\t\\t\\t\\t<Box position='absolute' width='100%' height='100%'>\\n\\t\\t\\t\\t\\t\\t\\t<ResponsiveBar\\n\\t\\t\\t\\t\\t\\t\\t\\tdata={values}\\n\\t\\t\\t\\t\\t\\t\\t\\tindexBy='hour'\\n\\t\\t\\t\\t\\t\\t\\t\\tkeys={['users']}\\n\\t\\t\\t\\t\\t\\t\\t\\tgroupMode='grouped'\\n\\t\\t\\t\\t\\t\\t\\t\\tpadding={0.25}\\n\\t\\t\\t\\t\\t\\t\\t\\tmargin={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: Get it from theme\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tbottom: 30,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tright: 5,\\n\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t\\tcolors={[\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: Get it from theme\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcolors.p500,\\n\\t\\t\\t\\t\\t\\t\\t\\t]}\\n\\t\\t\\t\\t\\t\\t\\t\\tenableLabel={false}\\n\\t\\t\\t\\t\\t\\t\\t\\tenableGridY={false}\\n\\t\\t\\t\\t\\t\\t\\t\\taxisTop={null}\\n\\t\\t\\t\\t\\t\\t\\t\\taxisRight={null}\\n\\t\\t\\t\\t\\t\\t\\t\\taxisBottom={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttickSize: 0,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: Get it from theme\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttickPadding: 4,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttickRotation: isLgScreen ? 0 : 25,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttickValues: 'every 2 hours',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tformat: (hour): string => moment().set({ hour, minute: 0, second: 0 }).format('LT'),\\n\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t\\taxisLeft={null}\\n\\t\\t\\t\\t\\t\\t\\t\\tanimate={true}\\n\\t\\t\\t\\t\\t\\t\\t\\tmotionConfig='stiff'\\n\\t\\t\\t\\t\\t\\t\\t\\ttheme={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: Get it from theme\\n\\t\\t\\t\\t\\t\\t\\t\\t\\taxis: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tticks: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttext: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfill: colors.n600,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfontFamily:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'Inter, -apple-system, system-ui, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\", \\\"Meiryo UI\\\", Arial, sans-serif',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfontSize: '10px',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfontStyle: 'normal',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfontWeight: 600,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tletterSpacing: '0.2px',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlineHeight: '12px',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t\\ttooltip={({ value }) => <Tooltip>{t('Value_users', { value })}</Tooltip>}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t) : (\\n\\t\\t\\t\\t<Skeleton variant='rect' height={196} />\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default ContentForHours;\\n\",null],\"names\":[\"_createForOfIteratorHelperLoose\",\"ResponsiveBar\",\"Box\",\"Button\",\"Chevron\",\"Skeleton\",\"Tooltip\",\"useBreakpoints\",\"colors\",\"moment\",\"React\",\"useMemo\",\"useTranslation\",\"useHourlyChatActivity\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"displacement\",\"onPreviousDateClick\",\"onNextDateClick\",\"timezone\",\"data\",\"_useHourlyChatActivit\",\"utc\",\"t\",\"_useTranslation\",\"isLgScreen\",\"includes\",\"values\",\"_step\",\"Array\",\"from\",\"length\",\"_\",\"i\",\"hour\",\"String\",\"divider\",\"users\",\"_iterator\",\"_data$hours\",\"hours\",\"done\",\"_ref2\",\"value\",\"Math\",\"floor\",\"createElement\",\"Fragment\",\"display\",\"alignItems\",\"justifyContent\",\"square\",\"small\",\"onClick\",\"left\",\"size\",\"style\",\"verticalAlign\",\"mi\",\"flexBasis\",\"is\",\"textAlign\",\"day\",\"format\",\"disabled\",\"right\",\"height\",\"alignSelf\",\"flexGrow\",\"flexShrink\",\"position\",\"width\",\"indexBy\",\"keys\",\"groupMode\",\"padding\",\"margin\",\"bottom\",\"p500\",\"enableLabel\",\"enableGridY\",\"axisTop\",\"axisRight\",\"axisBottom\",\"tickSize\",\"tickPadding\",\"tickRotation\",\"tickValues\",\"set\",\"minute\",\"second\",\"axisLeft\",\"animate\",\"motionConfig\",\"theme\",\"axis\",\"ticks\",\"text\",\"fill\",\"n600\",\"fontFamily\",\"fontSize\",\"fontStyle\",\"fontWeight\",\"letterSpacing\",\"lineHeight\",\"tooltip\",\"_ref3\",\"variant\"],\"mappings\":\"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\"}"}