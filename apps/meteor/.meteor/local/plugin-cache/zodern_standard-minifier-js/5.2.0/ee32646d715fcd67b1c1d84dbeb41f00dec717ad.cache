{"code":"function module(e,n,t){t.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),t.export({useDeleteFile:function(){return f}}),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){a=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){c=e},useToastMessageDispatch:function(e){u=e},useMethod:function(e){i=e}},1),t.link(\"react\",{default:function(e){o=e}},2),t.link(\"react-i18next\",{useTranslation:function(e){l=e}},3),t.link(\"../../../../../components/GenericModal\",{default:function(e){s=e}},4);var r,a,c,u,i,o,l,s,f=function(e){var n=l().t,t=c(),f=u(),d=i(\"deleteFileMessage\");return a(function(a){t(o.createElement(s,{variant:\"danger\",onConfirm:function(){return r.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,r.awrap(d(a));case 3:f({type:\"success\",message:n(\"Deleted\")}),e(),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),f({type:\"error\",message:c.t0});case 10:return c.prev=10,t(null),c.finish(10);case 13:case\"end\":return c.stop()}},null,null,[[0,7,10,13]],Promise)},onCancel:function(){return t(null)},confirmText:n(\"Delete\")},n(\"Delete_File_Warning\")))})}}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/RoomFiles/hooks/useDeleteFile.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useMethod } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../../../components/GenericModal';\\n\\nexport const useDeleteFile = (reload: () => void) => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst deleteFile = useMethod('deleteFileMessage');\\n\\n\\tconst handleDelete = useMutableCallback((_id) => {\\n\\t\\tconst onConfirm = async () => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait deleteFile(_id);\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Deleted') });\\n\\t\\t\\t\\treload();\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tsetModal(null);\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tsetModal(\\n\\t\\t\\t<GenericModal variant='danger' onConfirm={onConfirm} onCancel={() => setModal(null)} confirmText={t('Delete')}>\\n\\t\\t\\t\\t{t('Delete_File_Warning')}\\n\\t\\t\\t</GenericModal>,\\n\\t\\t);\\n\\t});\\n\\n\\treturn handleDelete;\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"export\",\"useDeleteFile\",\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useMethod\",\"React\",\"useTranslation\",\"GenericModal\",\"reload\",\"t\",\"_useTranslation\",\"setModal\",\"dispatchToastMessage\",\"deleteFile\",\"_id\",\"createElement\",\"variant\",\"onConfirm\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"type\",\"message\",\"t0\",\"finish\",\"stop\",\"Promise\",\"onCancel\",\"confirmText\"],\"mappings\":\"uBAASA,EAAoBC,IAAM,CAAA,6BAA8B,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAjEH,EAAOK,MAAE,CAAA,CAAAC,cAAoB,WAAM,OAAAA,CAAA,CAAA,GAA8BN,EAAAC,IAAA,CAAA,8BAAA,CAAAM,mBAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAO,YAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,wBAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,EAAAO,UAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAW,eAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,yCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAU,EAAAV,CAAA,CAAA,EAAA,GAO1D,IAPPC,EAAiEG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAOpDP,EAAgB,SAACQ,CAAkB,EAC/C,IAAQC,EAACC,AAAKJ,IAANG,CAAC,CACHE,EAAWT,IACXU,EAAuBT,IACvBU,EAAaT,EAAU,qBAsB7B,OApBqBH,EAAmB,SAACa,CAAG,EAa3CH,EACCN,EAAAU,aAAA,CAACR,EAAY,CAACS,QAAQ,SAASC,UAbd,WAAA,OAAAnB,EAAAoB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAAvB,EAAAwB,KAAA,CAEVT,EAAWC,GAAI,MAAA,EACrBF,EAAqB,CAAEW,KAAM,UAAWC,QAASf,EAAE,UAAU,GAC7DD,IAASW,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,EAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAM,EAAA,CAAAN,EAAA,KAAA,CAAA,GAETP,EAAqB,CAAEW,KAAM,QAASC,QAAOL,EAAAM,EAAAA,AAAO,EAAI,MAAA,GAEzC,OAFyCN,EAAAC,IAAA,CAAA,GAExDT,EAAS,MAAMQ,EAAAO,MAAA,CAAA,GAAA,MAAA,GAAA,IAAA,MAAA,OAAAP,EAAAQ,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,GAAA,GAAA,CAAA,CAAAC,QAAA,EAKqCC,SAAU,WAAA,OAAMlB,EAAS,KAAK,EAAEmB,YAAarB,EAAE,SAAU,EAC5GA,EAAE,wBAGN,EAGD\"}"}