{"code":"function module(e,n,t){var o,r,i,a,u,l,s,c,f,m,d,k,E,p,C,b,x,U,h,A,I;t.link(\"@babel/runtime/helpers/extends\",{default:function(e){o=e}},0),t.link(\"@rocket.chat/fuselage\",{Callout:function(e){r=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useRolesDescription:function(e){i=e},useTranslation:function(e){a=e}},1),t.link(\"react\",{default:function(e){u=e},useMemo:function(e){l=e}},2),t.link(\"../../../../../lib/getUserEmailAddress\",{getUserEmailAddress:function(e){s=e}},3),t.link(\"../../../../components/Contextualbar\",{ContextualbarHeader:function(e){c=e},ContextualbarBack:function(e){f=e},ContextualbarIcon:function(e){m=e},ContextualbarTitle:function(e){d=e},ContextualbarClose:function(e){k=e},ContextualbarContent:function(e){E=e}},4),t.link(\"../../../../components/Skeleton\",{FormSkeleton:function(e){p=e}},5),t.link(\"../../../../components/UserCard\",{UserCardRole:function(e){C=e}},6),t.link(\"../../../../components/UserInfo\",{UserInfo:function(e){b=e}},7),t.link(\"../../../../components/UserStatus\",{ReactiveUserStatus:function(e){x=e}},8),t.link(\"../../../../hooks/useAsyncState\",{AsyncStatePhase:function(e){U=e}},9),t.link(\"../../../../hooks/useEndpointData\",{useEndpointData:function(e){h=e}},10),t.link(\"../../../../lib/utils/getUserEmailVerified\",{getUserEmailVerified:function(e){A=e}},11),t.link(\"./UserInfoActions\",{default:function(e){I=e}},12),t.exportDefault(function(e){var n=e.uid,t=e.username,g=e.rid,v=e.onClose,S=e.onClickBack,w=a(),D=i(),T=h(\"/v1/users.info\",{params:l(function(){if(n)return{userId:n};if(t)return{username:t};throw Error(\"userId or username is required\")},[n,t])}),_=T.value,y=T.phase,F=T.error,L=y===U.LOADING,V=l(function(){if(null!=_&&_.user){var e=_.user,n=e._id,t=e.name,o=e.username,r=e.roles,i=void 0===r?[]:r,a=e.statusText,l=e.bio,c=e.utcOffset,f=e.lastLogin,m=e.customFields,d=e.phone,k=e.nickname,E=e.createdAt,p=e.canViewAllInfo,b=e.freeSwitchExtension;return{_id:n,name:t,username:o,lastLogin:f,roles:i&&D(i).map(function(e,n){return u.createElement(C,{key:n},e)}),bio:l,canViewAllInfo:p,phone:d,customFields:m,verified:A(_.user),email:s(_.user),utcOffset:c,createdAt:E,status:u.createElement(x,{uid:n}),statusText:a,nickname:k,freeSwitchExtension:b}}},[_,D]);return u.createElement(u.Fragment,null,u.createElement(c,null,S&&u.createElement(f,{onClick:S}),!S&&u.createElement(m,{name:\"user\"}),u.createElement(d,null,w(\"User_Info\")),v&&u.createElement(k,{onClick:v})),L&&u.createElement(E,null,u.createElement(p,null)),F&&!V&&u.createElement(E,{pb:16},u.createElement(r,{type:\"danger\"},w(\"User_not_found\"))),!L&&V&&u.createElement(b,o({},V,{actions:u.createElement(I,{user:V,rid:g,backToList:S})})))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/UserInfo/UserInfoWithData.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IUser, IRoom } from '@rocket.chat/core-typings';\\nimport { Callout } from '@rocket.chat/fuselage';\\nimport { useRolesDescription, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\n\\nimport { getUserEmailAddress } from '../../../../../lib/getUserEmailAddress';\\nimport {\\n\\tContextualbarHeader,\\n\\tContextualbarBack,\\n\\tContextualbarIcon,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarContent,\\n} from '../../../../components/Contextualbar';\\nimport { FormSkeleton } from '../../../../components/Skeleton';\\nimport { UserCardRole } from '../../../../components/UserCard';\\nimport { UserInfo } from '../../../../components/UserInfo';\\nimport { ReactiveUserStatus } from '../../../../components/UserStatus';\\nimport { AsyncStatePhase } from '../../../../hooks/useAsyncState';\\nimport { useEndpointData } from '../../../../hooks/useEndpointData';\\nimport { getUserEmailVerified } from '../../../../lib/utils/getUserEmailVerified';\\nimport UserInfoActions from './UserInfoActions';\\n\\ntype UserInfoWithDataProps = {\\n\\tuid?: IUser['_id'];\\n\\tusername?: IUser['username'];\\n\\trid: IRoom['_id'];\\n\\tonClose: () => void;\\n\\tonClickBack?: () => void;\\n};\\n\\nconst UserInfoWithData = ({ uid, username, rid, onClose, onClickBack }: UserInfoWithDataProps): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst getRoles = useRolesDescription();\\n\\n\\tconst {\\n\\t\\tvalue: data,\\n\\t\\tphase: state,\\n\\t\\terror,\\n\\t} = useEndpointData('/v1/users.info', {\\n\\t\\tparams: useMemo(() => {\\n\\t\\t\\tif (uid) {\\n\\t\\t\\t\\treturn { userId: uid };\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (username) {\\n\\t\\t\\t\\treturn { username };\\n\\t\\t\\t}\\n\\n\\t\\t\\tthrow new Error('userId or username is required');\\n\\t\\t}, [uid, username]),\\n\\t});\\n\\n\\tconst isLoading = state === AsyncStatePhase.LOADING;\\n\\n\\tconst user = useMemo(() => {\\n\\t\\tif (!data?.user) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst {\\n\\t\\t\\t_id,\\n\\t\\t\\tname,\\n\\t\\t\\tusername,\\n\\t\\t\\troles = [],\\n\\t\\t\\tstatusText,\\n\\t\\t\\tbio,\\n\\t\\t\\tutcOffset,\\n\\t\\t\\tlastLogin,\\n\\t\\t\\tcustomFields,\\n\\t\\t\\tphone,\\n\\t\\t\\tnickname,\\n\\t\\t\\tcreatedAt,\\n\\t\\t\\tcanViewAllInfo,\\n\\t\\t\\tfreeSwitchExtension,\\n\\t\\t} = data.user;\\n\\n\\t\\treturn {\\n\\t\\t\\t_id,\\n\\t\\t\\tname,\\n\\t\\t\\tusername,\\n\\t\\t\\tlastLogin,\\n\\t\\t\\troles: roles && getRoles(roles).map((role, index) => <UserCardRole key={index}>{role}</UserCardRole>),\\n\\t\\t\\tbio,\\n\\t\\t\\tcanViewAllInfo,\\n\\t\\t\\tphone,\\n\\t\\t\\tcustomFields,\\n\\t\\t\\tverified: getUserEmailVerified(data.user),\\n\\t\\t\\temail: getUserEmailAddress(data.user),\\n\\t\\t\\tutcOffset,\\n\\t\\t\\tcreatedAt,\\n\\t\\t\\tstatus: <ReactiveUserStatus uid={_id} />,\\n\\t\\t\\tstatusText,\\n\\t\\t\\tnickname,\\n\\t\\t\\tfreeSwitchExtension,\\n\\t\\t};\\n\\t}, [data, getRoles]);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t{onClickBack && <ContextualbarBack onClick={onClickBack} />}\\n\\t\\t\\t\\t{!onClickBack && <ContextualbarIcon name='user' />}\\n\\t\\t\\t\\t<ContextualbarTitle>{t('User_Info')}</ContextualbarTitle>\\n\\t\\t\\t\\t{onClose && <ContextualbarClose onClick={onClose} />}\\n\\t\\t\\t</ContextualbarHeader>\\n\\n\\t\\t\\t{isLoading && (\\n\\t\\t\\t\\t<ContextualbarContent>\\n\\t\\t\\t\\t\\t<FormSkeleton />\\n\\t\\t\\t\\t</ContextualbarContent>\\n\\t\\t\\t)}\\n\\n\\t\\t\\t{error && !user && (\\n\\t\\t\\t\\t<ContextualbarContent pb={16}>\\n\\t\\t\\t\\t\\t<Callout type='danger'>{t('User_not_found')}</Callout>\\n\\t\\t\\t\\t</ContextualbarContent>\\n\\t\\t\\t)}\\n\\n\\t\\t\\t{!isLoading && user && <UserInfo {...user} actions={<UserInfoActions user={user} rid={rid} backToList={onClickBack} />} />}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default UserInfoWithData;\\n\",null],\"names\":[\"_extends\",\"Callout\",\"useRolesDescription\",\"useTranslation\",\"React\",\"useMemo\",\"getUserEmailAddress\",\"ContextualbarHeader\",\"ContextualbarBack\",\"ContextualbarIcon\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarContent\",\"FormSkeleton\",\"UserCardRole\",\"UserInfo\",\"ReactiveUserStatus\",\"AsyncStatePhase\",\"useEndpointData\",\"getUserEmailVerified\",\"UserInfoActions\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"uid\",\"username\",\"rid\",\"onClose\",\"onClickBack\",\"t\",\"getRoles\",\"_useEndpointData\",\"params\",\"userId\",\"Error\",\"data\",\"value\",\"state\",\"phase\",\"error\",\"isLoading\",\"LOADING\",\"user\",\"_data$user\",\"_id\",\"name\",\"_data$user$roles\",\"roles\",\"statusText\",\"bio\",\"utcOffset\",\"lastLogin\",\"customFields\",\"phone\",\"nickname\",\"createdAt\",\"canViewAllInfo\",\"freeSwitchExtension\",\"map\",\"role\",\"index\",\"createElement\",\"key\",\"verified\",\"email\",\"status\",\"Fragment\",\"onClick\",\"pb\",\"type\",\"actions\",\"backToList\"],\"mappings\":\"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\"}"}