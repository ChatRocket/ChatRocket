{"code":"function module(e,t,r){var a,i,l;let n,o,s,u,c,d,m,p,v,b,g,f,h,k,w,x,y,S,T,E,_,I,q,z,A,D,C,M,j,R,B,V,U,L,N,P;let F=[\"setValue\"];r.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),r.link(\"@babel/runtime/helpers/taggedTemplateLiteral\",{default(e){o=e}},1),r.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){s=e}},2),r.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){u=e}},3),r.link(\"@rocket.chat/css-in-js\",{css(e){c=e}},0),r.link(\"@rocket.chat/fuselage\",{Sidebar(e){d=e},TextInput(e){m=e},Box(e){p=e},Icon(e){v=e}},1),r.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){b=e},useDebouncedValue(e){g=e},useAutoFocus(e){f=e},useUniqueId(e){h=e},useMergedRefs(e){k=e}},2),r.link(\"@rocket.chat/string-helpers\",{escapeRegExp(e){w=e}},3),r.link(\"@rocket.chat/ui-contexts\",{useUserPreference(e){x=e},useUserSubscriptions(e){y=e},useSetting(e){S=e},useTranslation(e){T=e},useMethod(e){E=e}},4),r.link(\"@tanstack/react-query\",{useQuery(e){_=e}},5),r.link(\"react\",{default(e){I=e},forwardRef(e){q=e},useState(e){z=e},useMemo(e){A=e},useEffect(e){D=e},useRef(e){C=e}},6),r.link(\"react-virtuoso\",{Virtuoso(e){M=e}},7),r.link(\"tinykeys\",{default(e){j=e}},8),r.link(\"../../components/CustomScrollbars\",{VirtuosoScrollbars(e){R=e}},9),r.link(\"../../lib/utils/getConfig\",{getConfig(e){B=e}},10),r.link(\"../hooks/useAvatarTemplate\",{useAvatarTemplate(e){V=e}},11),r.link(\"../hooks/usePreventDefault\",{usePreventDefault(e){U=e}},12),r.link(\"../hooks/useTemplateByViewMode\",{useTemplateByViewMode(e){L=e}},13),r.link(\"./Row\",{default(e){N=e}},14);let K=null!==(i=navigator.userAgentData)&&void 0!==i&&i.mobile||(P=!1,l=navigator.userAgent||navigator.vendor||window.opera||\"\",(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(l)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(l.substr(0,4)))&&(P=!0),P)?\"\":window.navigator.platform.toLowerCase().includes(\"mac\")?\"(âŒ˜+K)\":\"(Ctrl+K)\",$=parseInt(String(B(\"Sidebar_Search_Spotlight_LIMIT\",20))),O={sort:{lm:-1,name:1},limit:$},Q=e=>{let[,t,r]=A(()=>e.match(/(@|#)?(.*)/i)||[],[e]),a=A(()=>{let e=RegExp(w(r),\"i\");return u({$or:[{name:e},{fname:e}]},t&&{t:\"@\"===t?\"d\":{$ne:\"d\"}})},[r,t]),i=y(a,O),l=[...null==i?void 0:i.map(e=>{let{t,name:r}=e;return\"d\"===t?r:null})].filter(Boolean),n=\"#\"===t,o=\"@\"===t,s=A(()=>n?{users:!1,rooms:!0,includeFederatedRooms:!0}:o?{users:!0,rooms:!1}:{users:!0,rooms:!0,includeFederatedRooms:!0},[n,o]),c=E(\"spotlight\");return _([\"sidebar/search/spotlight\",r,l,s,i.map(e=>{let{_id:t,name:r}=e;return t+r})],async()=>{if(i.length===$)return i;let e=await c(r,l,s),t=[];t.push(...e.users.filter((e,t,r)=>{let{_id:a}=e;return t===r.findIndex(e=>a===e._id)}).filter(e=>!i.find(t=>{var r;return\"d\"===t.t&&t.uids&&(null===(r=t.uids)||void 0===r?void 0:r.length)===2&&t.uids.includes(e._id)})).map(e=>({_id:e._id,t:\"d\",name:e.username,fname:e.name,avatarETag:e.avatarETag}))),t.push(...e.rooms.filter(e=>!i.find(t=>{var r;return\"d\"===e.t&&e.uids&&e.uids.length>1&&(null===(r=e.uids)||void 0===r?void 0:r.includes(t._id))||[t.rid,t._id].includes(e._id)})));let a=null==t?void 0:t.filter(e=>[e.name,e.fname].includes(r));return Array.from(new Set([...a,...i,...t]))},{staleTime:6e4,keepPreviousData:!0,placeholderData:i})},W=e=>{let[t,r]=z(e),a=b(e=>{r(e.currentTarget.value)});return{value:t,onChange:a,setValue:r}},G=(e,t,r)=>{null==r||r.setAttribute(\"aria-activedescendant\",e.id),e.setAttribute(\"aria-selected\",\"true\"),e.classList.add(\"rcx-sidebar-item--selected\"),t&&(t.removeAttribute(\"aria-selected\"),t.classList.remove(\"rcx-sidebar-item--selected\"))},H=q(function e(e,t){let{onClose:r}=e,i=h(),l=T(),u=W(\"\"),{setValue:w}=u,y=s(u,F),E=C(null),_=k(f(),E),q=C(null),z=C(null),B=C(null),P=C(0),$=x(\"sidebarViewMode\"),O=S(\"UI_Use_Real_Name\"),H=L(),J=V(),X=\"extended\"===$,Y=g(y.value,100),Z=[l(\"Search\"),K].filter(Boolean).join(\" \"),{data:ee=[],isLoading:et}=Q(Y),er=A(()=>({items:ee,t:l,SideBarItemTemplate:H,avatarTemplate:J,useRealName:O,extended:X,sidebarViewMode:$}),[J,X,ee,O,H,$,l]),ea=b(e=>{var t,r,a,i;let l=null;if(\"up\"===e){let e=null===(t=B.current)||void 0===t?void 0:null===(r=t.parentElement)||void 0===r?void 0:r.previousSibling;e&&(l=e.querySelector(\"a\"))}else{let e=null===(a=B.current)||void 0===a?void 0:null===(i=a.parentElement)||void 0===i?void 0:i.nextSibling;e&&(l=e.querySelector(\"a\"))}return l?(G(l,B.current||void 0,(null==E?void 0:E.current)||void 0),l):B.current}),ei=b(()=>{setTimeout(()=>{var e,t;P.current=0,null===(e=q.current)||void 0===e||e.scrollToIndex({index:P.current}),B.current=null===(t=z.current)||void 0===t?void 0:t.querySelector(\"a.rcx-sidebar-item\"),B.current&&G(B.current,void 0,(null==E?void 0:E.current)||void 0)},0)});return U(z),D(()=>{ei()}),D(()=>{ei()},[Y,ei]),D(()=>{if(null!=E&&E.current)return j(null==E?void 0:E.current,{Escape:e=>{e.preventDefault(),w(e=>(e||r(),ei(),\"\"))},Tab:r,ArrowUp:()=>{var e;let t=ea(\"up\");P.current=Math.max(P.current-1,0),null===(e=q.current)||void 0===e||e.scrollToIndex({index:P.current}),B.current=t},ArrowDown:()=>{var e;let t=ea(\"down\");P.current=Math.min(P.current+1,ee.length+1),null===(e=q.current)||void 0===e||e.scrollToIndex({index:P.current}),B.current=t},Enter:e=>{e.preventDefault(),B.current&&ee.length>0?B.current.click():r()}})},[E,ea,ee.length,r,ei,w]),I.createElement(p,{position:\"absolute\",\"rcx-sidebar\":!0,h:\"full\",display:\"flex\",flexDirection:\"column\",zIndex:99,w:\"full\",className:c(a||(a=o([\"\\n\t\t\t\tleft: 0;\\n\t\t\t\ttop: 0;\\n\t\t\t\"]))),ref:t,role:\"search\"},I.createElement(d.TopBar.Section,{flexShrink:0,is:\"form\"},I.createElement(p,{mb:\"x12\",w:\"full\"},I.createElement(m,n({\"aria-owns\":i,\"data-qa\":\"sidebar-search-input\",ref:_},y,{placeholder:Z,role:\"searchbox\",addon:I.createElement(v,{name:\"cross\",size:\"x20\",onClick:r})})))),I.createElement(p,{ref:z,role:\"listbox\",id:i,tabIndex:-1,flexShrink:1,h:\"full\",w:\"full\",\"data-qa\":\"sidebar-search-result\",\"aria-live\":\"polite\",\"aria-atomic\":\"true\",\"aria-busy\":et,onClick:e=>{var t;if(!(e.target instanceof Element&&[e.target.tagName,null===(t=e.target.parentElement)||void 0===t?void 0:t.tagName].includes(\"BUTTON\")))return r()}},I.createElement(M,{style:{height:\"100%\",width:\"100%\"},totalCount:ee.length,data:ee,components:{Scroller:R},computeItemKey:(e,t)=>t._id,itemContent:(e,t)=>I.createElement(N,{data:er,item:t}),ref:q})))});r.exportDefault(H)}","map":"{\"version\":3,\"sources\":[\"client/sidebar/search/SearchList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom, ISubscription } from '@rocket.chat/core-typings';\\nimport { css } from '@rocket.chat/css-in-js';\\nimport { Sidebar, TextInput, Box, Icon } from '@rocket.chat/fuselage';\\nimport { useMutableCallback, useDebouncedValue, useAutoFocus, useUniqueId, useMergedRefs } from '@rocket.chat/fuselage-hooks';\\nimport { escapeRegExp } from '@rocket.chat/string-helpers';\\nimport { useUserPreference, useUserSubscriptions, useSetting, useTranslation, useMethod } from '@rocket.chat/ui-contexts';\\nimport type { UseQueryResult } from '@tanstack/react-query';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement, MutableRefObject, SetStateAction, Dispatch, FormEventHandler, Ref, MouseEventHandler } from 'react';\\nimport React, { forwardRef, useState, useMemo, useEffect, useRef } from 'react';\\nimport type { VirtuosoHandle } from 'react-virtuoso';\\nimport { Virtuoso } from 'react-virtuoso';\\nimport tinykeys from 'tinykeys';\\n\\nimport { VirtuosoScrollbars } from '../../components/CustomScrollbars';\\nimport { getConfig } from '../../lib/utils/getConfig';\\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\\nimport { usePreventDefault } from '../hooks/usePreventDefault';\\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\\nimport Row from './Row';\\n\\nconst mobileCheck = function () {\\n\\tlet check = false;\\n\\t(function (a: string) {\\n\\t\\tif (\\n\\t\\t\\t/(android|bb\\\\d+|meego).+mobile|avantgo|bada\\\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\\n\\t\\t\\t\\ta,\\n\\t\\t\\t) ||\\n\\t\\t\\t/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(\\n\\t\\t\\t\\ta.substr(0, 4),\\n\\t\\t\\t)\\n\\t\\t)\\n\\t\\t\\tcheck = true;\\n\\t})(navigator.userAgent || navigator.vendor || window.opera || '');\\n\\treturn check;\\n};\\n\\ndeclare global {\\n\\t// eslint-disable-next-line @typescript-eslint/naming-convention\\n\\tinterface Window {\\n\\t\\topera?: string;\\n\\t}\\n\\t// eslint-disable-next-line @typescript-eslint/naming-convention\\n\\tinterface Navigator {\\n\\t\\tuserAgentData?: {\\n\\t\\t\\tmobile: boolean;\\n\\t\\t};\\n\\t}\\n}\\n\\nconst shortcut = ((): string => {\\n\\tif (navigator.userAgentData?.mobile || mobileCheck()) {\\n\\t\\treturn '';\\n\\t}\\n\\tif (window.navigator.platform.toLowerCase().includes('mac')) {\\n\\t\\treturn '(\\\\u2318+K)';\\n\\t}\\n\\treturn '(Ctrl+K)';\\n})();\\n\\nconst LIMIT = parseInt(String(getConfig('Sidebar_Search_Spotlight_LIMIT', 20)));\\n\\nconst options = {\\n\\tsort: {\\n\\t\\tlm: -1,\\n\\t\\tname: 1,\\n\\t},\\n\\tlimit: LIMIT,\\n} as const;\\n\\nconst useSearchItems = (filterText: string): UseQueryResult<(ISubscription & IRoom)[] | undefined, Error> => {\\n\\tconst [, mention, name] = useMemo(() => filterText.match(/(@|#)?(.*)/i) || [], [filterText]);\\n\\tconst query = useMemo(() => {\\n\\t\\tconst filterRegex = new RegExp(escapeRegExp(name), 'i');\\n\\n\\t\\treturn {\\n\\t\\t\\t$or: [{ name: filterRegex }, { fname: filterRegex }],\\n\\t\\t\\t...(mention && {\\n\\t\\t\\t\\tt: mention === '@' ? 'd' : { $ne: 'd' },\\n\\t\\t\\t}),\\n\\t\\t};\\n\\t}, [name, mention]);\\n\\n\\tconst localRooms = useUserSubscriptions(query, options);\\n\\n\\tconst usernamesFromClient = [...localRooms?.map(({ t, name }) => (t === 'd' ? name : null))].filter(Boolean) as string[];\\n\\n\\tconst searchForChannels = mention === '#';\\n\\tconst searchForDMs = mention === '@';\\n\\n\\tconst type = useMemo(() => {\\n\\t\\tif (searchForChannels) {\\n\\t\\t\\treturn { users: false, rooms: true, includeFederatedRooms: true };\\n\\t\\t}\\n\\t\\tif (searchForDMs) {\\n\\t\\t\\treturn { users: true, rooms: false };\\n\\t\\t}\\n\\t\\treturn { users: true, rooms: true, includeFederatedRooms: true };\\n\\t}, [searchForChannels, searchForDMs]);\\n\\n\\tconst getSpotlight = useMethod('spotlight');\\n\\n\\treturn useQuery(\\n\\t\\t['sidebar/search/spotlight', name, usernamesFromClient, type, localRooms.map(({ _id, name }) => _id + name)],\\n\\t\\tasync () => {\\n\\t\\t\\tif (localRooms.length === LIMIT) {\\n\\t\\t\\t\\treturn localRooms;\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst spotlight = await getSpotlight(name, usernamesFromClient, type);\\n\\n\\t\\t\\tconst filterUsersUnique = ({ _id }: { _id: string }, index: number, arr: { _id: string }[]): boolean =>\\n\\t\\t\\t\\tindex === arr.findIndex((user) => _id === user._id);\\n\\n\\t\\t\\tconst roomFilter = (room: { t: string; uids?: string[]; _id: string; name?: string }): boolean =>\\n\\t\\t\\t\\t!localRooms.find(\\n\\t\\t\\t\\t\\t(item) =>\\n\\t\\t\\t\\t\\t\\t(room.t === 'd' && room.uids && room.uids.length > 1 && room.uids?.includes(item._id)) ||\\n\\t\\t\\t\\t\\t\\t[item.rid, item._id].includes(room._id),\\n\\t\\t\\t\\t);\\n\\t\\t\\tconst usersFilter = (user: { _id: string }): boolean =>\\n\\t\\t\\t\\t!localRooms.find((room) => room.t === 'd' && room.uids && room.uids?.length === 2 && room.uids.includes(user._id));\\n\\n\\t\\t\\tconst userMap = (user: {\\n\\t\\t\\t\\t_id: string;\\n\\t\\t\\t\\tname: string;\\n\\t\\t\\t\\tusername: string;\\n\\t\\t\\t\\tavatarETag?: string;\\n\\t\\t\\t}): {\\n\\t\\t\\t\\t_id: string;\\n\\t\\t\\t\\tt: string;\\n\\t\\t\\t\\tname: string;\\n\\t\\t\\t\\tfname: string;\\n\\t\\t\\t\\tavatarETag?: string;\\n\\t\\t\\t} => ({\\n\\t\\t\\t\\t_id: user._id,\\n\\t\\t\\t\\tt: 'd',\\n\\t\\t\\t\\tname: user.username,\\n\\t\\t\\t\\tfname: user.name,\\n\\t\\t\\t\\tavatarETag: user.avatarETag,\\n\\t\\t\\t});\\n\\n\\t\\t\\ttype resultsFromServerType = {\\n\\t\\t\\t\\t_id: string;\\n\\t\\t\\t\\tt: string;\\n\\t\\t\\t\\tname: string;\\n\\t\\t\\t\\tteamMain?: boolean;\\n\\t\\t\\t\\tfname?: string;\\n\\t\\t\\t\\tavatarETag?: string | undefined;\\n\\t\\t\\t\\tuids?: string[] | undefined;\\n\\t\\t\\t}[];\\n\\n\\t\\t\\tconst resultsFromServer: resultsFromServerType = [];\\n\\t\\t\\tresultsFromServer.push(...spotlight.users.filter(filterUsersUnique).filter(usersFilter).map(userMap));\\n\\t\\t\\tresultsFromServer.push(...spotlight.rooms.filter(roomFilter));\\n\\n\\t\\t\\tconst exact = resultsFromServer?.filter((item) => [item.name, item.fname].includes(name));\\n\\t\\t\\treturn Array.from(new Set([...exact, ...localRooms, ...resultsFromServer]));\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tstaleTime: 60_000,\\n\\t\\t\\tkeepPreviousData: true,\\n\\t\\t\\tplaceholderData: localRooms,\\n\\t\\t},\\n\\t);\\n};\\n\\nconst useInput = (initial: string): { value: string; onChange: FormEventHandler; setValue: Dispatch<SetStateAction<string>> } => {\\n\\tconst [value, setValue] = useState(initial);\\n\\tconst onChange = useMutableCallback((e) => {\\n\\t\\tsetValue(e.currentTarget.value);\\n\\t});\\n\\treturn { value, onChange, setValue };\\n};\\n\\nconst toggleSelectionState = (next: HTMLElement, current: HTMLElement | undefined, input: HTMLElement | undefined): void => {\\n\\tinput?.setAttribute('aria-activedescendant', next.id);\\n\\tnext.setAttribute('aria-selected', 'true');\\n\\tnext.classList.add('rcx-sidebar-item--selected');\\n\\tif (current) {\\n\\t\\tcurrent.removeAttribute('aria-selected');\\n\\t\\tcurrent.classList.remove('rcx-sidebar-item--selected');\\n\\t}\\n};\\n\\n/**\\n * @type import('react').ForwardRefExoticComponent<{ onClose: unknown } & import('react').RefAttributes<HTMLElement>>\\n */\\n\\ntype SearchListProps = {\\n\\tonClose: () => void;\\n};\\n\\nconst SearchList = forwardRef(function SearchList({ onClose }: SearchListProps, ref): ReactElement {\\n\\tconst listId = useUniqueId();\\n\\tconst t = useTranslation();\\n\\tconst { setValue: setFilterValue, ...filter } = useInput('');\\n\\n\\tconst cursorRef = useRef<HTMLInputElement>(null);\\n\\tconst autofocus: Ref<HTMLInputElement> = useMergedRefs(useAutoFocus<HTMLInputElement>(), cursorRef);\\n\\n\\tconst listRef = useRef<VirtuosoHandle>(null);\\n\\tconst boxRef = useRef<HTMLDivElement>(null);\\n\\n\\tconst selectedElement: MutableRefObject<HTMLElement | null | undefined> = useRef(null);\\n\\tconst itemIndexRef = useRef(0);\\n\\n\\tconst sidebarViewMode = useUserPreference('sidebarViewMode');\\n\\tconst useRealName = useSetting('UI_Use_Real_Name');\\n\\n\\tconst sideBarItemTemplate = useTemplateByViewMode();\\n\\tconst avatarTemplate = useAvatarTemplate();\\n\\n\\tconst extended = sidebarViewMode === 'extended';\\n\\n\\tconst filterText = useDebouncedValue(filter.value, 100);\\n\\n\\tconst placeholder = [t('Search'), shortcut].filter(Boolean).join(' ');\\n\\n\\tconst { data: items = [], isLoading } = useSearchItems(filterText);\\n\\n\\tconst itemData = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\titems,\\n\\t\\t\\tt,\\n\\t\\t\\tSideBarItemTemplate: sideBarItemTemplate,\\n\\t\\t\\tavatarTemplate,\\n\\t\\t\\tuseRealName,\\n\\t\\t\\textended,\\n\\t\\t\\tsidebarViewMode,\\n\\t\\t}),\\n\\t\\t[avatarTemplate, extended, items, useRealName, sideBarItemTemplate, sidebarViewMode, t],\\n\\t);\\n\\n\\tconst changeSelection = useMutableCallback((dir) => {\\n\\t\\tlet nextSelectedElement = null;\\n\\n\\t\\tif (dir === 'up') {\\n\\t\\t\\tconst potentialElement = selectedElement.current?.parentElement?.previousSibling as HTMLElement;\\n\\t\\t\\tif (potentialElement) {\\n\\t\\t\\t\\tnextSelectedElement = potentialElement.querySelector('a');\\n\\t\\t\\t}\\n\\t\\t} else {\\n\\t\\t\\tconst potentialElement = selectedElement.current?.parentElement?.nextSibling as HTMLElement;\\n\\t\\t\\tif (potentialElement) {\\n\\t\\t\\t\\tnextSelectedElement = potentialElement.querySelector('a');\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (nextSelectedElement) {\\n\\t\\t\\ttoggleSelectionState(nextSelectedElement, selectedElement.current || undefined, cursorRef?.current || undefined);\\n\\t\\t\\treturn nextSelectedElement;\\n\\t\\t}\\n\\t\\treturn selectedElement.current;\\n\\t});\\n\\n\\tconst resetCursor = useMutableCallback(() => {\\n\\t\\tsetTimeout(() => {\\n\\t\\t\\titemIndexRef.current = 0;\\n\\t\\t\\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\\n\\t\\t\\tselectedElement.current = boxRef.current?.querySelector('a.rcx-sidebar-item');\\n\\t\\t\\tif (selectedElement.current) {\\n\\t\\t\\t\\ttoggleSelectionState(selectedElement.current, undefined, cursorRef?.current || undefined);\\n\\t\\t\\t}\\n\\t\\t}, 0);\\n\\t});\\n\\n\\tusePreventDefault(boxRef);\\n\\n\\tuseEffect(() => {\\n\\t\\tresetCursor();\\n\\t});\\n\\n\\tuseEffect(() => {\\n\\t\\tresetCursor();\\n\\t}, [filterText, resetCursor]);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!cursorRef?.current) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\treturn tinykeys(cursorRef?.current, {\\n\\t\\t\\tEscape: (event) => {\\n\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\tsetFilterValue((value) => {\\n\\t\\t\\t\\t\\tif (!value) {\\n\\t\\t\\t\\t\\t\\tonClose();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tresetCursor();\\n\\t\\t\\t\\t\\treturn '';\\n\\t\\t\\t\\t});\\n\\t\\t\\t},\\n\\t\\t\\tTab: onClose,\\n\\t\\t\\tArrowUp: () => {\\n\\t\\t\\t\\tconst currentElement = changeSelection('up');\\n\\t\\t\\t\\titemIndexRef.current = Math.max(itemIndexRef.current - 1, 0);\\n\\t\\t\\t\\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\\n\\t\\t\\t\\tselectedElement.current = currentElement;\\n\\t\\t\\t},\\n\\t\\t\\tArrowDown: () => {\\n\\t\\t\\t\\tconst currentElement = changeSelection('down');\\n\\t\\t\\t\\titemIndexRef.current = Math.min(itemIndexRef.current + 1, items.length + 1);\\n\\t\\t\\t\\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\\n\\t\\t\\t\\tselectedElement.current = currentElement;\\n\\t\\t\\t},\\n\\t\\t\\tEnter: (event) => {\\n\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\tif (selectedElement.current && items.length > 0) {\\n\\t\\t\\t\\t\\tselectedElement.current.click();\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tonClose();\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t});\\n\\t}, [cursorRef, changeSelection, items.length, onClose, resetCursor, setFilterValue]);\\n\\n\\tconst handleClick: MouseEventHandler<HTMLElement> = (e): void => {\\n\\t\\tif (e.target instanceof Element && [e.target.tagName, e.target.parentElement?.tagName].includes('BUTTON')) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\treturn onClose();\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Box\\n\\t\\t\\tposition='absolute'\\n\\t\\t\\trcx-sidebar\\n\\t\\t\\th='full'\\n\\t\\t\\tdisplay='flex'\\n\\t\\t\\tflexDirection='column'\\n\\t\\t\\tzIndex={99}\\n\\t\\t\\tw='full'\\n\\t\\t\\tclassName={css`\\n\\t\\t\\t\\tleft: 0;\\n\\t\\t\\t\\ttop: 0;\\n\\t\\t\\t`}\\n\\t\\t\\tref={ref}\\n\\t\\t\\trole='search'\\n\\t\\t>\\n\\t\\t\\t<Sidebar.TopBar.Section {...({ flexShrink: 0 } as any)} is='form'>\\n\\t\\t\\t\\t<Box mb='x12' w='full'>\\n\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\taria-owns={listId}\\n\\t\\t\\t\\t\\t\\tdata-qa='sidebar-search-input'\\n\\t\\t\\t\\t\\t\\tref={autofocus}\\n\\t\\t\\t\\t\\t\\t{...filter}\\n\\t\\t\\t\\t\\t\\tplaceholder={placeholder}\\n\\t\\t\\t\\t\\t\\trole='searchbox'\\n\\t\\t\\t\\t\\t\\taddon={<Icon name='cross' size='x20' onClick={onClose} />}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Sidebar.TopBar.Section>\\n\\t\\t\\t<Box\\n\\t\\t\\t\\tref={boxRef}\\n\\t\\t\\t\\trole='listbox'\\n\\t\\t\\t\\tid={listId}\\n\\t\\t\\t\\ttabIndex={-1}\\n\\t\\t\\t\\tflexShrink={1}\\n\\t\\t\\t\\th='full'\\n\\t\\t\\t\\tw='full'\\n\\t\\t\\t\\tdata-qa='sidebar-search-result'\\n\\t\\t\\t\\taria-live='polite'\\n\\t\\t\\t\\taria-atomic='true'\\n\\t\\t\\t\\taria-busy={isLoading}\\n\\t\\t\\t\\tonClick={handleClick}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\t\\tstyle={{ height: '100%', width: '100%' }}\\n\\t\\t\\t\\t\\ttotalCount={items.length}\\n\\t\\t\\t\\t\\tdata={items}\\n\\t\\t\\t\\t\\tcomponents={{ Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t\\t\\tcomputeItemKey={(_, room) => room._id}\\n\\t\\t\\t\\t\\titemContent={(_, data): ReactElement => <Row data={itemData} item={data} />}\\n\\t\\t\\t\\t\\tref={listRef}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</Box>\\n\\t\\t</Box>\\n\\t);\\n});\\n\\nexport default SearchList;\\n\",null],\"names\":[\"_navigator$userAgentD\",\"a\",\"_extends\",\"_taggedTemplateLiteral\",\"_objectWithoutProperties\",\"_objectSpread\",\"css\",\"Sidebar\",\"TextInput\",\"Box\",\"Icon\",\"useMutableCallback\",\"useDebouncedValue\",\"useAutoFocus\",\"useUniqueId\",\"useMergedRefs\",\"escapeRegExp\",\"useUserPreference\",\"useUserSubscriptions\",\"useSetting\",\"useTranslation\",\"useMethod\",\"useQuery\",\"React\",\"forwardRef\",\"useState\",\"useMemo\",\"useEffect\",\"useRef\",\"Virtuoso\",\"tinykeys\",\"VirtuosoScrollbars\",\"getConfig\",\"useAvatarTemplate\",\"usePreventDefault\",\"useTemplateByViewMode\",\"Row\",\"check\",\"module\",\"link\",\"default\",\"v\",\"shortcut\",\"navigator\",\"userAgentData\",\"mobile\",\"userAgent\",\"vendor\",\"window\",\"opera\",\"test\",\"substr\",\"platform\",\"toLowerCase\",\"includes\",\"LIMIT\",\"parseInt\",\"String\",\"options\",\"sort\",\"lm\",\"name\",\"limit\",\"useSearchItems\",\"filterText\",\"mention\",\"match\",\"query\",\"filterRegex\",\"RegExp\",\"$or\",\"fname\",\"t\",\"$ne\",\"localRooms\",\"usernamesFromClient\",\"map\",\"_ref\",\"filter\",\"Boolean\",\"searchForChannels\",\"searchForDMs\",\"type\",\"users\",\"rooms\",\"includeFederatedRooms\",\"getSpotlight\",\"_ref2\",\"_id\",\"length\",\"spotlight\",\"resultsFromServer\",\"push\",\"filterUsersUnique\",\"_ref3\",\"index\",\"arr\",\"findIndex\",\"user\",\"find\",\"room\",\"_room$uids2\",\"uids\",\"username\",\"avatarETag\",\"item\",\"_room$uids\",\"rid\",\"exact\",\"Array\",\"from\",\"Set\",\"staleTime\",\"keepPreviousData\",\"placeholderData\",\"useInput\",\"initial\",\"value\",\"setValue\",\"onChange\",\"e\",\"currentTarget\",\"toggleSelectionState\",\"next\",\"current\",\"input\",\"setAttribute\",\"id\",\"classList\",\"add\",\"removeAttribute\",\"remove\",\"SearchList\",\"_ref4\",\"ref\",\"onClose\",\"listId\",\"_useInput\",\"setFilterValue\",\"_excluded\",\"cursorRef\",\"autofocus\",\"listRef\",\"boxRef\",\"selectedElement\",\"itemIndexRef\",\"sidebarViewMode\",\"useRealName\",\"sideBarItemTemplate\",\"avatarTemplate\",\"extended\",\"placeholder\",\"join\",\"data\",\"items\",\"isLoading\",\"itemData\",\"SideBarItemTemplate\",\"changeSelection\",\"dir\",\"_selectedElement$curr\",\"_selectedElement$curr2\",\"_selectedElement$curr3\",\"_selectedElement$curr4\",\"nextSelectedElement\",\"potentialElement\",\"parentElement\",\"previousSibling\",\"querySelector\",\"nextSibling\",\"undefined\",\"resetCursor\",\"setTimeout\",\"_listRef$current\",\"_boxRef$current\",\"scrollToIndex\",\"Escape\",\"event\",\"preventDefault\",\"Tab\",\"ArrowUp\",\"_listRef$current2\",\"currentElement\",\"Math\",\"max\",\"ArrowDown\",\"_listRef$current3\",\"min\",\"Enter\",\"click\",\"createElement\",\"position\",\"h\",\"display\",\"flexDirection\",\"zIndex\",\"w\",\"className\",\"_templateObject\",\"role\",\"TopBar\",\"Section\",\"flexShrink\",\"is\",\"mb\",\"addon\",\"size\",\"onClick\",\"tabIndex\",\"_e$target$parentEleme\",\"target\",\"Element\",\"tagName\",\"style\",\"height\",\"width\",\"totalCount\",\"components\",\"Scroller\",\"computeItemKey\",\"_\",\"itemContent\",\"exportDefault\"],\"mappings\":\"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\"}"}