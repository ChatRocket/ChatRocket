{"code":"function module(e,t,n){let o,s,r,i,c,a,l,m,E;n.link(\"@rocket.chat/fuselage\",{Box(e){o=e},Modal(e){s=e}},0),n.link(\"@rocket.chat/ui-client\",{ExternalLink(e){r=e}},1),n.link(\"react\",{default(e){i=e}},2),n.link(\"react-i18next\",{Trans(e){c=e},useTranslation(e){a=e}},3),n.link(\"../../../../components/GenericModal\",{default(e){l=e}},4),n.link(\"../../../../lib/toast\",{dispatchToastMessage(e){m=e}},5),n.link(\"../../hooks/useE2EEResetRoomKey\",{useE2EEResetRoomKey(e){E=e}},6),n.exportDefault(e=>{let{roomType:t,roomId:n,onCancel:y}=e,{t:_}=a(),k=E();return i.createElement(l,{icon:i.createElement(s.Icon,{color:\"danger\",name:\"key\"}),title:_(\"E2E_reset_encryption_keys\"),variant:\"danger\",confirmText:_(\"E2E_reset_encryption_keys\"),dontAskAgain:i.createElement(s.FooterAnnotation,null,_(\"This_action_cannot_be_undone\")),onCancel:y,onConfirm:()=>{k.mutate({roomId:n},{onSuccess:()=>{m({type:\"success\",message:_(\"E2E_reset_encryption_keys_success\")})},onError:()=>{m({type:\"error\",message:_(\"E2E_reset_encryption_keys_error\")})},onSettled:()=>{y()}})},onDismiss:()=>void 0},i.createElement(o,{mbe:16,is:\"p\"},i.createElement(c,{i18nKey:\"E2E_reset_encryption_keys_modal_description\",tOptions:{roomType:t}},\"Resetting E2EE keys is only recommend if no \",t,\" member has a valid key to regain access to the previously encrypted content. All members may lose access to previously encrypted content.\",i.createElement(r,{to:\"https://go.rocket.chat/i/e2ee-guide\"},\"Learn more\"),\" about resetting encryption keys. Proceed with caution.\")))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/modals/E2EEModals/ResetKeysE2EEModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Modal } from '@rocket.chat/fuselage';\\nimport { ExternalLink } from '@rocket.chat/ui-client';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { Trans, useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../../components/GenericModal';\\nimport { dispatchToastMessage } from '../../../../lib/toast';\\nimport { useE2EEResetRoomKey } from '../../hooks/useE2EEResetRoomKey';\\n\\nconst E2EE_RESET_KEY_LINK = 'https://go.rocket.chat/i/e2ee-guide';\\n\\ntype ResetKeysE2EEModalProps = {\\n\\troomType: string;\\n\\troomId: string;\\n\\tonCancel: () => void;\\n};\\n\\nconst ResetKeysE2EEModal = ({ roomType, roomId, onCancel }: ResetKeysE2EEModalProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst resetRoomKeyMutation = useE2EEResetRoomKey();\\n\\n\\tconst handleResetRoomKey = () => {\\n\\t\\tresetRoomKeyMutation.mutate(\\n\\t\\t\\t{ roomId },\\n\\t\\t\\t{\\n\\t\\t\\t\\tonSuccess: () => {\\n\\t\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('E2E_reset_encryption_keys_success') });\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tonError: () => {\\n\\t\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('E2E_reset_encryption_keys_error') });\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tonSettled: () => {\\n\\t\\t\\t\\t\\tonCancel();\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t);\\n\\t};\\n\\n\\treturn (\\n\\t\\t<GenericModal\\n\\t\\t\\ticon={<Modal.Icon color='danger' name='key' />}\\n\\t\\t\\ttitle={t('E2E_reset_encryption_keys')}\\n\\t\\t\\tvariant='danger'\\n\\t\\t\\tconfirmText={t('E2E_reset_encryption_keys')}\\n\\t\\t\\tdontAskAgain={<Modal.FooterAnnotation>{t('This_action_cannot_be_undone')}</Modal.FooterAnnotation>}\\n\\t\\t\\tonCancel={onCancel}\\n\\t\\t\\tonConfirm={handleResetRoomKey}\\n\\t\\t\\tonDismiss={() => undefined}\\n\\t\\t>\\n\\t\\t\\t<Box mbe={16} is='p'>\\n\\t\\t\\t\\t<Trans i18nKey='E2E_reset_encryption_keys_modal_description' tOptions={{ roomType }}>\\n\\t\\t\\t\\t\\tResetting E2EE keys is only recommend if no {roomType} member has a valid key to regain access to the previously encrypted\\n\\t\\t\\t\\t\\tcontent. All members may lose access to previously encrypted content.\\n\\t\\t\\t\\t\\t<ExternalLink to={E2EE_RESET_KEY_LINK}>Learn more</ExternalLink> about resetting encryption keys. Proceed with caution.\\n\\t\\t\\t\\t</Trans>\\n\\t\\t\\t</Box>\\n\\t\\t</GenericModal>\\n\\t);\\n};\\n\\nexport default ResetKeysE2EEModal;\\n\",null],\"names\":[\"Box\",\"Modal\",\"ExternalLink\",\"React\",\"Trans\",\"useTranslation\",\"GenericModal\",\"dispatchToastMessage\",\"useE2EEResetRoomKey\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"roomType\",\"roomId\",\"onCancel\",\"t\",\"resetRoomKeyMutation\",\"createElement\",\"icon\",\"Icon\",\"color\",\"name\",\"title\",\"variant\",\"confirmText\",\"dontAskAgain\",\"FooterAnnotation\",\"onConfirm\",\"handleResetRoomKey\",\"mutate\",\"onSuccess\",\"type\",\"message\",\"onError\",\"onSettled\",\"onDismiss\",\"undefined\",\"mbe\",\"is\",\"i18nKey\",\"tOptions\",\"to\"],\"mappings\":\"2BAAAA,EAAOC,EAA4CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAArCC,EAAOC,IAAA,CAAA,wBAA6B,CAACV,IAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,MAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yBAAA,CAAAR,aAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAN,MAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,sCAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAH,qBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kCAAA,CAAAF,oBAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAnDF,EAAOI,aAAY,CAkBQC,IAA0E,GAAzE,CAAEC,SAAAA,CAAQ,CAAEC,OAAAA,CAAM,CAAEC,SAAAA,CAAAA,CAAmC,CAAAH,EAC5E,CAAEI,EAAAA,CAAAA,CAAG,CAAGb,IACRc,EAAuBX,IAmB7B,OACCL,EAAAiB,aAAA,CAACd,EAAY,CACZe,KAAMlB,EAAAiB,aAAA,CAACnB,EAAMqB,IAAI,CAAA,CAACC,MAAM,SAASC,KAAK,KAAK,GAC3CC,MAAOP,EAAE,6BACTQ,QAAQ,SACRC,YAAaT,EAAE,6BACfU,aAAczB,EAAAiB,aAAA,CAACnB,EAAM4B,gBAAgB,CAAA,KAAEX,EAAE,iCACzCD,SAAUA,EACVa,UAzByBC,KAC1BZ,EAAqBa,MAAM,CAC1B,CAAEhB,OAAAA,CAAM,EACR,CACCiB,UAAWA,KACV1B,EAAqB,CAAE2B,KAAM,UAAWC,QAASjB,EAAE,oCAAoC,EACxF,EACAkB,QAASA,KACR7B,EAAqB,CAAE2B,KAAM,QAASC,QAASjB,EAAE,kCAAkC,EACpF,EACAmB,UAAWA,KACVpB,GACD,GAGH,EAWEqB,UAAWA,IAAMC,KAAAA,CAAU,EAE3BpC,EAAAiB,aAAA,CAACpB,EAAG,CAACwC,IAAK,GAAIC,GAAG,GAAG,EACnBtC,EAAAiB,aAAA,CAAChB,EAAK,CAACsC,QAAQ,8CAA8CC,SAAU,CAAE5B,SAAAA,CAAQ,CAAG,EACnF,+CAA6CA,EAAU,6IAEvDZ,EAAAiB,aAAA,CAAClB,EAAY,CAAC0C,GA5CS,qCA4Ce,EAAC,cAA0B,4DAKtE\"}"}