{"code":"function module(e,t,l){let n,a,c;l.export({useScrollableRecordList:()=>i}),l.link(\"react\",{useCallback(e){n=e},useEffect(e){a=e}},0),l.link(\"../../lib/asyncState\",{AsyncStatePhase(e){c=e}},1);let i=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,i=n(n=>{(e.phase===c.LOADING||n+1<e.itemCount)&&e.batchHandle(()=>t(n,l))},[e,t,l]);return a(()=>{i(0)},[i]),{loadMoreItems:i,initialItemCount:l}}}","map":"{\"version\":3,\"sources\":[\"client/hooks/lists/useScrollableRecordList.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useCallback, useEffect } from 'react';\\n\\nimport { AsyncStatePhase } from '../../lib/asyncState';\\nimport type { RecordList, RecordListBatchChanges } from '../../lib/lists/RecordList';\\n\\nconst INITIAL_ITEM_COUNT = 25;\\n\\nexport const useScrollableRecordList = <T extends { _id: string; _updatedAt?: Date }>(\\n\\trecordList: RecordList<T>,\\n\\tfetchBatchChanges: (start: number, end: number) => Promise<RecordListBatchChanges<T>>,\\n\\tinitialItemCount: number = INITIAL_ITEM_COUNT,\\n): {\\n\\tloadMoreItems: (start: number) => void;\\n\\tinitialItemCount: number;\\n} => {\\n\\tconst loadMoreItems = useCallback(\\n\\t\\t(start: number) => {\\n\\t\\t\\tif (recordList.phase === AsyncStatePhase.LOADING || start + 1 < recordList.itemCount) {\\n\\t\\t\\t\\trecordList.batchHandle(() => fetchBatchChanges(start, initialItemCount));\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[recordList, fetchBatchChanges, initialItemCount],\\n\\t);\\n\\n\\tuseEffect(() => {\\n\\t\\tloadMoreItems(0);\\n\\t}, [loadMoreItems]);\\n\\n\\treturn { loadMoreItems, initialItemCount };\\n};\\n\",null],\"names\":[\"useCallback\",\"useEffect\",\"AsyncStatePhase\",\"module\",\"export\",\"useScrollableRecordList\",\"link\",\"v\",\"recordList\",\"fetchBatchChanges\",\"initialItemCount\",\"arguments\",\"length\",\"undefined\",\"loadMoreItems\",\"start\",\"phase\",\"LOADING\",\"itemCount\",\"batchHandle\"],\"mappings\":\"2BAA+CA,EAAAC,EAAAC,EAA/CC,EAAOC,MAAE,CAAA,CAAAC,wBAA8BA,IAAAA,CAAQ,GAAAF,EAAAG,IAAA,CAAA,QAAA,CAAAN,YAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,UAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,uBAAA,CAAAJ,gBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAOxC,IAAMF,EAA0B,SACtCG,CAAyB,CACzBC,CAAqF,EAKlF,IAJHC,EAAAC,UAAAC,MAAA,CAAA,GAAAD,AAAAE,KAAAA,IAAAF,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAL0B,GAUpBG,EAAgBd,EACpBe,IACIP,CAAAA,EAAWQ,KAAK,GAAKd,EAAgBe,OAAO,EAAIF,EAAQ,EAAIP,EAAWU,SAAS,AAATA,GAC1EV,EAAWW,WAAW,CAAC,IAAMV,EAAkBM,EAAOL,GAExD,EACA,CAACF,EAAYC,EAAmBC,EAAiB,EAOlD,OAJAT,EAAU,KACTa,EAAc,EACf,EAAG,CAACA,EAAc,EAEX,CAAEA,cAAAA,EAAeJ,iBAAAA,CAAgB,CACzC\"}"}