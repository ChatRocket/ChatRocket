{"code":"function module(e,t,n){let a,l,o,r,i,s,u,c,m,d,f,E,k,b,v,g,x,C,I,h,A,U;n.link(\"@rocket.chat/fuselage\",{Box(e){a=e},Margins(e){l=e},ButtonGroup(e){o=e},ContextualbarSkeleton(e){r=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){i=e},useRouter(e){s=e},useTranslation(e){u=e}},1),n.link(\"@tanstack/react-query\",{useQuery(e){c=e}},2),n.link(\"react\",{default(e){m=e}},3),n.link(\"../../../components/Contextualbar\",{Contextualbar(e){d=e},ContextualbarTitle(e){f=e},ContextualbarClose(e){E=e},ContextualbarHeader(e){k=e},ContextualbarScrollableContent(e){b=e}},4),n.link(\"../../../components/InfoPanel\",{InfoPanelLabel(e){v=e},InfoPanelText(e){g=e}},5),n.link(\"../../../components/UserInfo\",{UserInfoAvatar(e){x=e},UserInfoUsername(e){C=e}},6),n.link(\"../../../components/UserStatus\",{UserStatus(e){I=e}},7),n.link(\"../additionalForms\",{MaxChatsPerAgentDisplay(e){h=e}},8),n.link(\"./AgentInfoAction\",{default(e){A=e}},9),n.link(\"./hooks/useRemoveAgent\",{useRemoveAgent(e){U=e}},10),n.exportDefault(e=>{var t;let{uid:n}=e,p=u(),y=s(),S=i(\"GET\",\"/v1/livechat/users/agent/:_id\",{_id:n}),{data:_,isLoading:R,isError:q}=c([\"livechat-getAgentInfoById\",n],async()=>S(),{refetchOnWindowFocus:!1}),N=U(n);if(R)return m.createElement(r,null);if(q)return m.createElement(a,{mbs:16},p(\"User_not_found\"));let{username:P,statusLivechat:T,status:B}=null==_?void 0:_.user;return m.createElement(d,{\"data-qa-id\":\"agent-info-contextual-bar\"},m.createElement(k,null,m.createElement(f,null,p(\"User_Info\")),m.createElement(E,{onClick:()=>y.navigate(\"/omnichannel/agents\")})),m.createElement(b,null,P&&m.createElement(a,{alignSelf:\"center\"},m.createElement(x,{\"data-qa\":\"AgentUserInfoAvatar\",username:P})),m.createElement(o,{align:\"center\"},m.createElement(A,{key:p(\"Edit\"),title:p(\"Edit\"),label:p(\"Edit\"),onClick:()=>y.navigate(\"/omnichannel/agents/edit/\".concat(n)),icon:\"edit\"}),m.createElement(A,{key:p(\"Remove\"),title:p(\"Remove\"),label:p(\"Remove\"),onClick:N,icon:\"trash\"})),m.createElement(l,{block:4},m.createElement(a,{mb:2},m.createElement(C,{\"data-qa\":\"AgentInfoUserInfoUserName\",username:P,status:m.createElement(I,{status:B})})),T&&m.createElement(m.Fragment,null,m.createElement(v,{\"data-qa\":\"AgentInfoUserInfoLabel\"},p(\"Livechat_status\")),m.createElement(g,null,p(\"available\"===T?\"Available\":\"Not_Available\"))),h&&m.createElement(h,{maxNumberSimultaneousChat:null===(t=_.user.livechat)||void 0===t?void 0:t.maxNumberSimultaneousChat}))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/agents/AgentInfo.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Margins, ButtonGroup, ContextualbarSkeleton } from '@rocket.chat/fuselage';\\nimport { useEndpoint, useRouter, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { HTMLAttributes } from 'react';\\nimport React from 'react';\\n\\nimport {\\n\\tContextualbar,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarHeader,\\n\\tContextualbarScrollableContent,\\n} from '../../../components/Contextualbar';\\nimport { InfoPanelLabel, InfoPanelText } from '../../../components/InfoPanel';\\nimport { UserInfoAvatar, UserInfoUsername } from '../../../components/UserInfo';\\nimport { UserStatus } from '../../../components/UserStatus';\\nimport { MaxChatsPerAgentDisplay } from '../additionalForms';\\nimport AgentInfoAction from './AgentInfoAction';\\nimport { useRemoveAgent } from './hooks/useRemoveAgent';\\n\\ntype AgentInfoProps = {\\n\\tuid: string;\\n} & Omit<HTMLAttributes<HTMLElement>, 'is'>;\\n\\nconst AgentInfo = ({ uid }: AgentInfoProps) => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst getAgentById = useEndpoint('GET', '/v1/livechat/users/agent/:_id', { _id: uid });\\n\\tconst { data, isLoading, isError } = useQuery(['livechat-getAgentInfoById', uid], async () => getAgentById(), {\\n\\t\\trefetchOnWindowFocus: false,\\n\\t});\\n\\n\\tconst handleDelete = useRemoveAgent(uid);\\n\\n\\tif (isLoading) {\\n\\t\\treturn <ContextualbarSkeleton />;\\n\\t}\\n\\n\\tif (isError) {\\n\\t\\treturn <Box mbs={16}>{t('User_not_found')}</Box>;\\n\\t}\\n\\n\\tconst { username, statusLivechat, status: userStatus } = data?.user;\\n\\n\\treturn (\\n\\t\\t<Contextualbar data-qa-id='agent-info-contextual-bar'>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarTitle>{t('User_Info')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/agents')} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t{username && (\\n\\t\\t\\t\\t\\t<Box alignSelf='center'>\\n\\t\\t\\t\\t\\t\\t<UserInfoAvatar data-qa='AgentUserInfoAvatar' username={username} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t<ButtonGroup align='center'>\\n\\t\\t\\t\\t\\t<AgentInfoAction\\n\\t\\t\\t\\t\\t\\tkey={t('Edit')}\\n\\t\\t\\t\\t\\t\\ttitle={t('Edit')}\\n\\t\\t\\t\\t\\t\\tlabel={t('Edit')}\\n\\t\\t\\t\\t\\t\\tonClick={() => router.navigate(`/omnichannel/agents/edit/${uid}`)}\\n\\t\\t\\t\\t\\t\\ticon='edit'\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t<AgentInfoAction key={t('Remove')} title={t('Remove')} label={t('Remove')} onClick={handleDelete} icon='trash' />\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t<Margins block={4}>\\n\\t\\t\\t\\t\\t<Box mb={2}>\\n\\t\\t\\t\\t\\t\\t<UserInfoUsername data-qa='AgentInfoUserInfoUserName' username={username} status={<UserStatus status={userStatus} />} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t{statusLivechat && (\\n\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel data-qa='AgentInfoUserInfoLabel'>{t('Livechat_status')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{t(statusLivechat === 'available' ? 'Available' : 'Not_Available')}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{MaxChatsPerAgentDisplay && <MaxChatsPerAgentDisplay maxNumberSimultaneousChat={data.user.livechat?.maxNumberSimultaneousChat} />}\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t</Contextualbar>\\n\\t);\\n};\\n\\nexport default AgentInfo;\\n\",null],\"names\":[\"Box\",\"Margins\",\"ButtonGroup\",\"ContextualbarSkeleton\",\"useEndpoint\",\"useRouter\",\"useTranslation\",\"useQuery\",\"React\",\"Contextualbar\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarHeader\",\"ContextualbarScrollableContent\",\"InfoPanelLabel\",\"InfoPanelText\",\"UserInfoAvatar\",\"UserInfoUsername\",\"UserStatus\",\"MaxChatsPerAgentDisplay\",\"AgentInfoAction\",\"useRemoveAgent\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"_data$user$livechat\",\"uid\",\"t\",\"router\",\"getAgentById\",\"_id\",\"data\",\"isLoading\",\"isError\",\"refetchOnWindowFocus\",\"handleDelete\",\"createElement\",\"mbs\",\"username\",\"statusLivechat\",\"status\",\"userStatus\",\"user\",\"onClick\",\"navigate\",\"alignSelf\",\"align\",\"key\",\"title\",\"label\",\"concat\",\"icon\",\"block\",\"mb\",\"Fragment\",\"maxNumberSimultaneousChat\",\"livechat\"],\"mappings\":\"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\"}"}