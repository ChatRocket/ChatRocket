{"code":"function module(e,n,t){var u,a,o,r,i,c,l;t.link(\"@babel/runtime/regenerator\",{default:function(e){u=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useRouter:function(e){a=e},useUser:function(e){o=e},useUserId:function(e){r=e}},0),t.link(\"react\",{default:function(e){i=e},useEffect:function(e){c=e}},1),t.link(\"./PageLoading\",{default:function(e){l=e}},2),t.exportDefault(function(){var e=a(),n=r(),t=o();return c(function(){if(!n){e.navigate(\"/home\");return}var a=Tracker.autorun(function(n){setTimeout(function(){var n;return u.async(function(u){for(;;)switch(u.prev=u.next){case 0:null!=t&&t.defaultRoom?(n=t.defaultRoom.split(\"/\"),e.navigate({name:n[0],params:{name:n[1]},search:e.getSearchParameters()})):e.navigate(\"/home\");case 1:case\"end\":return u.stop()}},null,null,null,Promise)},0),n.stop()});return function(){a.stop()}},[e,n,null==t?void 0:t.defaultRoom]),i.createElement(l,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/root/IndexRoute.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { RouteName } from '@rocket.chat/ui-contexts';\\nimport { useRouter, useUser, useUserId } from '@rocket.chat/ui-contexts';\\nimport React, { useEffect } from 'react';\\n\\nimport PageLoading from './PageLoading';\\n\\nconst IndexRoute = () => {\\n\\tconst router = useRouter();\\n\\tconst uid = useUserId();\\n\\tconst user = useUser();\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!uid) {\\n\\t\\t\\trouter.navigate('/home');\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst computation = Tracker.autorun((c) => {\\n\\t\\t\\tsetTimeout(async () => {\\n\\t\\t\\t\\tif (user?.defaultRoom) {\\n\\t\\t\\t\\t\\tconst room = user.defaultRoom.split('/') as [routeName: RouteName, routeParam: string];\\n\\t\\t\\t\\t\\trouter.navigate({\\n\\t\\t\\t\\t\\t\\tname: room[0],\\n\\t\\t\\t\\t\\t\\tparams: { name: room[1] },\\n\\t\\t\\t\\t\\t\\tsearch: router.getSearchParameters(),\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trouter.navigate('/home');\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, 0);\\n\\t\\t\\tc.stop();\\n\\t\\t});\\n\\n\\t\\treturn () => {\\n\\t\\t\\tcomputation.stop();\\n\\t\\t};\\n\\t}, [router, uid, user?.defaultRoom]);\\n\\n\\treturn <PageLoading />;\\n};\\n\\nexport default IndexRoute;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"useRouter\",\"useUser\",\"useUserId\",\"React\",\"useEffect\",\"PageLoading\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"router\",\"uid\",\"user\",\"navigate\",\"computation\",\"Tracker\",\"autorun\",\"c\",\"setTimeout\",\"room\",\"async\",\"_context\",\"prev\",\"next\",\"defaultRoom\",\"split\",\"name\",\"params\",\"search\",\"getSearchParameters\",\"stop\",\"Promise\",\"createElement\"],\"mappings\":\"uBAMA,IALAA,EAAAC,EAASC,EAAWC,EAAqDC,EAAAC,EAAAC,EAArDC,EAASC,IAAA,CAAA,6BAAiB,CAAAC,QAA2B,SAAAC,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAA5CH,EAASC,IAAE,CAAA,2BAAM,CAA0BP,UAAC,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,QAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,UAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAM,CAAA,EAAAL,UAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAzEH,EAAOI,aAAa,CAKD,WAClB,IAAMC,EAASX,IACTY,EAAMV,IACNW,EAAOZ,IA6Bb,OA3BAG,EAAU,WACT,GAAI,CAACQ,EAAK,CACTD,EAAOG,QAAQ,CAAC,SAChB,MACD,CAEA,IAAMC,EAAcC,QAAQC,OAAO,CAAC,SAACC,CAAC,EACrCC,WAAW,WAAA,IAAAC,EAAA,OAAArB,EAAAsB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EACNX,MAAAA,GAAAA,EAAMY,WAAW,EACdL,EAAOP,EAAKY,WAAW,CAACC,KAAK,CAAC,KACpCf,EAAOG,QAAQ,CAAC,CACfa,KAAMP,CAAI,CAAC,EAAE,CACbQ,OAAQ,CAAED,KAAMP,CAAI,CAAC,EAAC,AAAC,EACvBS,OAAQlB,EAAOmB,mBAAmB,MAGnCnB,EAAOG,QAAQ,CAAC,QAChB,MAAA,EAAA,IAAA,MAAA,OAAAQ,EAAAS,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EACC,GACHd,EAAEa,IAAI,EACP,GAEA,OAAO,WACNhB,EAAYgB,IAAI,EACjB,CACD,EAAG,CAACpB,EAAQC,EAAKC,MAAAA,EAAI,KAAA,EAAJA,EAAMY,WAAW,CAAC,EAE5BtB,EAAA8B,aAAA,CAAC5B,EAAW,KACpB\"}"}