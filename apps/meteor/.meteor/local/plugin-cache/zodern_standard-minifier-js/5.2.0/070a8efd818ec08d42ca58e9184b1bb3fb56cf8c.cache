{"code":"function module(e,n,t){var r,o,l,i,u,a,s,c,f,d;t.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},Message:function(e){l=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){i=e},useSetting:function(e){u=e},useToastMessageDispatch:function(e){a=e}},1),t.link(\"@tanstack/react-query\",{useQuery:function(e){s=e}},2),t.link(\"react\",{default:function(e){c=e}},3),t.link(\"react-i18next\",{useTranslation:function(e){f=e}},4),t.link(\"./helpers/ReportReason\",{default:function(e){d=e}},5),t.exportDefault(function(e){var n=e.msgId,t=f().t,m=a(),p=i(\"GET\",\"/v1/moderation.reports\"),h=!!u(\"UI_Use_Real_Name\"),g=s([\"moderation\",\"msgReports\",\"fetchReasons\",{msgId:n}],function(){var e;return r.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.awrap(p({msgId:n}));case 2:return e=t.sent,t.abrupt(\"return\",e);case 4:case\"end\":return t.stop()}},null,null,null,Promise)},{onError:function(e){m({type:\"error\",message:e})}}),v=g.data,x=g.isLoading,E=g.isSuccess,k=g.isError;if(x)return c.createElement(o,{display:\"flex\",flexDirection:\"column\",width:\"full\",height:\"full\",overflow:\"hidden\"},c.createElement(l,null,t(\"Loading\")));if(k)return c.createElement(o,{display:\"flex\",flexDirection:\"column\",width:\"full\",height:\"full\",overflow:\"hidden\"},c.createElement(l,null,t(\"Error\")));var w=v.reports;return c.createElement(c.Fragment,null,E&&(null==v?void 0:v.reports)&&c.createElement(o,{display:\"flex\",flexDirection:\"column\",width:\"full\",height:\"full\",overflowX:\"hidden\",overflowY:\"auto\"},w.map(function(e,n){var t,r;return c.createElement(d,{key:e._id,ind:n+1,uinfo:h?null===(t=e.reportedBy)||void 0===t?void 0:t.name:null===(r=e.reportedBy)||void 0===r?void 0:r.username,msg:e.description,ts:new Date(e.ts)})})))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/moderation/MessageReportInfo.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Message } from '@rocket.chat/fuselage';\\nimport { useEndpoint, useSetting, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport ReportReason from './helpers/ReportReason';\\n\\nconst MessageReportInfo = ({ msgId }: { msgId: string }): JSX.Element => {\\n\\tconst { t } = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst getReportsByMessage = useEndpoint('GET', `/v1/moderation.reports`);\\n\\n\\tconst useRealName = Boolean(useSetting('UI_Use_Real_Name'));\\n\\n\\tconst {\\n\\t\\tdata: reportsByMessage,\\n\\t\\tisLoading: isLoadingReportsByMessage,\\n\\t\\tisSuccess: isSuccessReportsByMessage,\\n\\t\\tisError: isErrorReportsByMessage,\\n\\t} = useQuery(\\n\\t\\t['moderation', 'msgReports', 'fetchReasons', { msgId }],\\n\\t\\tasync () => {\\n\\t\\t\\tconst reports = await getReportsByMessage({ msgId });\\n\\t\\t\\treturn reports;\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tonError: (error) => {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t},\\n\\t\\t},\\n\\t);\\n\\n\\tif (isLoadingReportsByMessage) {\\n\\t\\treturn (\\n\\t\\t\\t<Box display='flex' flexDirection='column' width='full' height='full' overflow='hidden'>\\n\\t\\t\\t\\t<Message>{t('Loading')}</Message>\\n\\t\\t\\t</Box>\\n\\t\\t);\\n\\t}\\n\\n\\tif (isErrorReportsByMessage) {\\n\\t\\treturn (\\n\\t\\t\\t<Box display='flex' flexDirection='column' width='full' height='full' overflow='hidden'>\\n\\t\\t\\t\\t<Message>{t('Error')}</Message>\\n\\t\\t\\t</Box>\\n\\t\\t);\\n\\t}\\n\\n\\tconst { reports } = reportsByMessage;\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{isSuccessReportsByMessage && reportsByMessage?.reports && (\\n\\t\\t\\t\\t<Box display='flex' flexDirection='column' width='full' height='full' overflowX='hidden' overflowY='auto'>\\n\\t\\t\\t\\t\\t{reports.map((report, index) => (\\n\\t\\t\\t\\t\\t\\t<ReportReason\\n\\t\\t\\t\\t\\t\\t\\tkey={report._id}\\n\\t\\t\\t\\t\\t\\t\\tind={index + 1}\\n\\t\\t\\t\\t\\t\\t\\tuinfo={useRealName ? report.reportedBy?.name : report.reportedBy?.username}\\n\\t\\t\\t\\t\\t\\t\\tmsg={report.description}\\n\\t\\t\\t\\t\\t\\t\\tts={new Date(report.ts)}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default MessageReportInfo;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"Box\",\"Message\",\"useEndpoint\",\"useSetting\",\"useToastMessageDispatch\",\"useQuery\",\"React\",\"useTranslation\",\"ReportReason\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"msgId\",\"t\",\"_useTranslation\",\"dispatchToastMessage\",\"getReportsByMessage\",\"useRealName\",\"Boolean\",\"_useQuery\",\"reports\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"sent\",\"abrupt\",\"stop\",\"Promise\",\"onError\",\"error\",\"type\",\"message\",\"reportsByMessage\",\"data\",\"isLoadingReportsByMessage\",\"isLoading\",\"isSuccessReportsByMessage\",\"isSuccess\",\"isErrorReportsByMessage\",\"isError\",\"createElement\",\"display\",\"flexDirection\",\"width\",\"height\",\"overflow\",\"Fragment\",\"overflowX\",\"overflowY\",\"map\",\"report\",\"index\",\"_report$reportedBy\",\"_report$reportedBy2\",\"key\",\"_id\",\"ind\",\"uinfo\",\"reportedBy\",\"name\",\"username\",\"msg\",\"description\",\"ts\",\"Date\"],\"mappings\":\"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\"}"}