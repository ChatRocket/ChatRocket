{"code":"function module(e,t,n){let l,o,a,r,u,i,s,c,d,m,h,k,x,C,b,p,v,E,g,f,T,S,I,L,R,w,y,G,A,D,z,N,O;n.link(\"@rocket.chat/fuselage\",{Box(e){l=e},Icon(e){o=e},TextInput(e){a=e},Select(e){r=e},Callout(e){u=e},Throbber(e){i=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useResizeObserver(e){s=e},useAutoFocus(e){c=e},useLocalStorage(e){d=e},useDebouncedValue(e){m=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useTranslation(e){h=e},useUserId(e){k=e}},2),n.link(\"react\",{default(e){x=e},useMemo(e){C=e},useState(e){b=e},useCallback(e){p=e}},3),n.link(\"react-virtuoso\",{Virtuoso(e){v=e}},4),n.link(\"../../../../components/Contextualbar\",{ContextualbarClose(e){E=e},ContextualbarContent(e){g=e},ContextualbarHeader(e){f=e},ContextualbarIcon(e){T=e},ContextualbarTitle(e){S=e},ContextualbarEmptyContent(e){I=e},ContextualbarSection(e){L=e}},5),n.link(\"../../../../components/CustomScrollbars\",{VirtuosoScrollbars(e){R=e}},6),n.link(\"../../../../hooks/lists/useRecordList\",{useRecordList(e){w=e}},7),n.link(\"../../../../lib/asyncState\",{AsyncStatePhase(e){y=e}},8),n.link(\"../../contexts/RoomContext\",{useRoom(e){G=e},useRoomSubscription(e){A=e}},9),n.link(\"../../contexts/RoomToolboxContext\",{useRoomToolbox(e){D=e}},10),n.link(\"../../hooks/useGoToThread\",{useGoToThread(e){z=e}},11),n.link(\"./components/ThreadListItem\",{default(e){N=e}},12),n.link(\"./hooks/useThreadsList\",{useThreadsList(e){O=e}},13),n.exportDefault(()=>{var e;let t=h(),{closeTab:n}=D(),U=p(()=>{n()},[n]),{ref:F,contentBoxSize:{inlineSize:M=378,blockSize:V=1}={}}=s({debounceDelay:200}),_=c(!0),[B,j]=b(\"\"),H=p(e=>{j(e.currentTarget.value)},[j]),P=C(()=>[[\"all\",t(\"All\")],[\"following\",t(\"Following\")],[\"unread\",t(\"Unread\")]],[t]),[q,J]=d(\"thread-list-type\",\"all\"),K=p(e=>{let t=P.find(t=>{let[n]=t;return n===e});t&&J(t[0])},[J,P]),Q=G(),W=Q._id,X=A(),Y=!!X,Z=k(),$=null==X?void 0:null===(e=X.tunread)||void 0===e?void 0:e.sort().join(\",\"),ee=m(B,400),et=m(C(()=>{if(\"all\"===q||!Y||!Z)return{rid:W,text:ee};switch(q){case\"following\":return{rid:W,text:ee,type:q,uid:Z};case\"unread\":return{rid:W,text:ee,type:q,tunread:null==$?void 0:$.split(\",\")}}},[W,Y,ee,$,q,Z]),300),{threadsList:en,loadMoreItems:el}=O(et,Z),{phase:eo,error:ea,items:er,itemCount:eu}=w(en),ei=z({replace:!0}),es=p(e=>{ei({rid:W,tmid:e})},[W,ei]);return x.createElement(x.Fragment,null,x.createElement(f,null,x.createElement(T,{name:\"thread\"}),x.createElement(S,null,t(\"Threads\")),x.createElement(E,{onClick:U})),x.createElement(L,null,x.createElement(a,{placeholder:t(\"Search_Messages\"),addon:x.createElement(o,{name:\"magnifier\",size:\"x20\"}),ref:_,value:B,onChange:H}),x.createElement(l,{w:\"x144\",mis:8},x.createElement(r,{options:P,value:q,onChange:e=>K(String(e))}))),x.createElement(g,{paddingInline:0},eo===y.LOADING&&x.createElement(l,{pi:24,pb:12},x.createElement(i,{size:\"x12\"})),ea&&x.createElement(u,{mi:24,type:\"danger\"},ea.toString()),eo!==y.LOADING&&0===eu&&x.createElement(I,{title:t(\"No_Threads\")}),x.createElement(l,{flexGrow:1,flexShrink:1,overflow:\"hidden\",display:\"flex\",ref:F},!ea&&eu>0&&er.length>0&&x.createElement(v,{style:{height:V,width:M},totalCount:eu,endReached:eo===y.LOADING?()=>void 0:e=>{el(e,Math.min(50,eu-e))},overscan:25,data:er,components:{Scroller:R},itemContent:(e,t)=>{var n,l,o;return x.createElement(N,{thread:t,unread:null!==(n=null==X?void 0:X.tunread)&&void 0!==n?n:[],unreadUser:null!==(l=null==X?void 0:X.tunreadUser)&&void 0!==l?l:[],unreadGroup:null!==(o=null==X?void 0:X.tunreadGroup)&&void 0!==o?o:[],onClick:es})}}))))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/Threads/ThreadList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { Box, Icon, TextInput, Select, Callout, Throbber } from '@rocket.chat/fuselage';\\nimport { useResizeObserver, useAutoFocus, useLocalStorage, useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { useTranslation, useUserId } from '@rocket.chat/ui-contexts';\\nimport type { FormEvent, ReactElement } from 'react';\\nimport React, { useMemo, useState, useCallback } from 'react';\\nimport { Virtuoso } from 'react-virtuoso';\\n\\nimport {\\n\\tContextualbarClose,\\n\\tContextualbarContent,\\n\\tContextualbarHeader,\\n\\tContextualbarIcon,\\n\\tContextualbarTitle,\\n\\tContextualbarEmptyContent,\\n\\tContextualbarSection,\\n} from '../../../../components/Contextualbar';\\nimport { VirtuosoScrollbars } from '../../../../components/CustomScrollbars';\\nimport { useRecordList } from '../../../../hooks/lists/useRecordList';\\nimport { AsyncStatePhase } from '../../../../lib/asyncState';\\nimport type { ThreadsListOptions } from '../../../../lib/lists/ThreadsList';\\nimport { useRoom, useRoomSubscription } from '../../contexts/RoomContext';\\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\\nimport { useGoToThread } from '../../hooks/useGoToThread';\\nimport ThreadListItem from './components/ThreadListItem';\\nimport { useThreadsList } from './hooks/useThreadsList';\\n\\ntype ThreadType = 'all' | 'following' | 'unread';\\n\\nconst ThreadList = () => {\\n\\tconst t = useTranslation();\\n\\n\\tconst { closeTab } = useRoomToolbox();\\n\\n\\tconst handleTabBarCloseButtonClick = useCallback(() => {\\n\\t\\tcloseTab();\\n\\t}, [closeTab]);\\n\\n\\tconst { ref, contentBoxSize: { inlineSize = 378, blockSize = 1 } = {} } = useResizeObserver<HTMLElement>({\\n\\t\\tdebounceDelay: 200,\\n\\t});\\n\\n\\tconst autoFocusRef = useAutoFocus<HTMLInputElement>(true);\\n\\n\\tconst [searchText, setSearchText] = useState('');\\n\\n\\tconst handleSearchTextChange = useCallback(\\n\\t\\t(event: FormEvent<HTMLInputElement>) => {\\n\\t\\t\\tsetSearchText(event.currentTarget.value);\\n\\t\\t},\\n\\t\\t[setSearchText],\\n\\t);\\n\\n\\tconst typeOptions: (readonly [type: ThreadType, label: string])[] = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['all', t('All')],\\n\\t\\t\\t['following', t('Following')],\\n\\t\\t\\t['unread', t('Unread')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst [type, setType] = useLocalStorage<ThreadType>('thread-list-type', 'all');\\n\\n\\tconst handleTypeChange = useCallback(\\n\\t\\t(type: string) => {\\n\\t\\t\\tconst typeOption = typeOptions.find(([t]) => t === type);\\n\\t\\t\\tif (typeOption) setType(typeOption[0]);\\n\\t\\t},\\n\\t\\t[setType, typeOptions],\\n\\t);\\n\\n\\tconst room = useRoom();\\n\\tconst rid = room._id;\\n\\tconst subscription = useRoomSubscription();\\n\\tconst subscribed = !!subscription;\\n\\tconst uid = useUserId();\\n\\tconst tunread = subscription?.tunread?.sort().join(',');\\n\\tconst text = useDebouncedValue(searchText, 400);\\n\\tconst options: ThreadsListOptions = useDebouncedValue(\\n\\t\\tuseMemo(() => {\\n\\t\\t\\tif (type === 'all' || !subscribed || !uid) {\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\trid,\\n\\t\\t\\t\\t\\ttext,\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\t\\t\\tswitch (type) {\\n\\t\\t\\t\\tcase 'following':\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\trid,\\n\\t\\t\\t\\t\\t\\ttext,\\n\\t\\t\\t\\t\\t\\ttype,\\n\\t\\t\\t\\t\\t\\tuid,\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\tcase 'unread':\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\trid,\\n\\t\\t\\t\\t\\t\\ttext,\\n\\t\\t\\t\\t\\t\\ttype,\\n\\t\\t\\t\\t\\t\\ttunread: tunread?.split(','),\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\t\\t}, [rid, subscribed, text, tunread, type, uid]),\\n\\t\\t300,\\n\\t);\\n\\n\\tconst { threadsList, loadMoreItems } = useThreadsList(options, uid);\\n\\tconst { phase, error, items, itemCount } = useRecordList(threadsList);\\n\\n\\tconst goToThread = useGoToThread({ replace: true });\\n\\tconst handleThreadClick = useCallback(\\n\\t\\t(tmid: IMessage['_id']) => {\\n\\t\\t\\tgoToThread({ rid, tmid });\\n\\t\\t},\\n\\t\\t[rid, goToThread],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarIcon name='thread' />\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Threads')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={handleTabBarCloseButtonClick} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarSection>\\n\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\tplaceholder={t('Search_Messages')}\\n\\t\\t\\t\\t\\taddon={<Icon name='magnifier' size='x20' />}\\n\\t\\t\\t\\t\\tref={autoFocusRef}\\n\\t\\t\\t\\t\\tvalue={searchText}\\n\\t\\t\\t\\t\\tonChange={handleSearchTextChange}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t\\t<Box w='x144' mis={8}>\\n\\t\\t\\t\\t\\t<Select options={typeOptions} value={type} onChange={(value) => handleTypeChange(String(value))} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</ContextualbarSection>\\n\\t\\t\\t<ContextualbarContent paddingInline={0}>\\n\\t\\t\\t\\t{phase === AsyncStatePhase.LOADING && (\\n\\t\\t\\t\\t\\t<Box pi={24} pb={12}>\\n\\t\\t\\t\\t\\t\\t<Throbber size='x12' />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t{error && (\\n\\t\\t\\t\\t\\t<Callout mi={24} type='danger'>\\n\\t\\t\\t\\t\\t\\t{error.toString()}\\n\\t\\t\\t\\t\\t</Callout>\\n\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t{phase !== AsyncStatePhase.LOADING && itemCount === 0 && <ContextualbarEmptyContent title={t('No_Threads')} />}\\n\\n\\t\\t\\t\\t<Box flexGrow={1} flexShrink={1} overflow='hidden' display='flex' ref={ref}>\\n\\t\\t\\t\\t\\t{!error && itemCount > 0 && items.length > 0 && (\\n\\t\\t\\t\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\theight: blockSize,\\n\\t\\t\\t\\t\\t\\t\\t\\twidth: inlineSize,\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\ttotalCount={itemCount}\\n\\t\\t\\t\\t\\t\\t\\tendReached={\\n\\t\\t\\t\\t\\t\\t\\t\\tphase === AsyncStatePhase.LOADING\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t? (): void => undefined\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t: (start): void => {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tloadMoreItems(start, Math.min(50, itemCount - start));\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t  }\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\toverscan={25}\\n\\t\\t\\t\\t\\t\\t\\tdata={items}\\n\\t\\t\\t\\t\\t\\t\\tcomponents={{ Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t\\t\\t\\t\\titemContent={(_index, data: IMessage): ReactElement => (\\n\\t\\t\\t\\t\\t\\t\\t\\t<ThreadListItem\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tthread={data}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tunread={subscription?.tunread ?? []}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tunreadUser={subscription?.tunreadUser ?? []}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tunreadGroup={subscription?.tunreadGroup ?? []}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClick={handleThreadClick}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</ContextualbarContent>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default ThreadList;\\n\",null],\"names\":[\"Box\",\"Icon\",\"TextInput\",\"Select\",\"Callout\",\"Throbber\",\"useResizeObserver\",\"useAutoFocus\",\"useLocalStorage\",\"useDebouncedValue\",\"useTranslation\",\"useUserId\",\"React\",\"useMemo\",\"useState\",\"useCallback\",\"Virtuoso\",\"ContextualbarClose\",\"ContextualbarContent\",\"ContextualbarHeader\",\"ContextualbarIcon\",\"ContextualbarTitle\",\"ContextualbarEmptyContent\",\"ContextualbarSection\",\"VirtuosoScrollbars\",\"useRecordList\",\"AsyncStatePhase\",\"useRoom\",\"useRoomSubscription\",\"useRoomToolbox\",\"useGoToThread\",\"ThreadListItem\",\"useThreadsList\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"ThreadList\",\"_subscription$tunread\",\"t\",\"closeTab\",\"handleTabBarCloseButtonClick\",\"ref\",\"contentBoxSize\",\"inlineSize\",\"blockSize\",\"debounceDelay\",\"autoFocusRef\",\"searchText\",\"setSearchText\",\"handleSearchTextChange\",\"event\",\"currentTarget\",\"value\",\"typeOptions\",\"type\",\"setType\",\"handleTypeChange\",\"typeOption\",\"find\",\"_ref\",\"room\",\"rid\",\"_id\",\"subscription\",\"subscribed\",\"uid\",\"tunread\",\"sort\",\"join\",\"text\",\"options\",\"split\",\"threadsList\",\"loadMoreItems\",\"phase\",\"error\",\"items\",\"itemCount\",\"goToThread\",\"replace\",\"handleThreadClick\",\"tmid\",\"createElement\",\"Fragment\",\"name\",\"onClick\",\"placeholder\",\"addon\",\"size\",\"onChange\",\"w\",\"mis\",\"String\",\"paddingInline\",\"LOADING\",\"pi\",\"pb\",\"mi\",\"toString\",\"title\",\"flexGrow\",\"flexShrink\",\"overflow\",\"display\",\"length\",\"style\",\"height\",\"width\",\"totalCount\",\"endReached\",\"undefined\",\"start\",\"Math\",\"min\",\"overscan\",\"data\",\"components\",\"Scroller\",\"itemContent\",\"_index\",\"_subscription$tunread2\",\"_subscription$tunread3\",\"_subscription$tunread4\",\"thread\",\"unread\",\"unreadUser\",\"tunreadUser\",\"unreadGroup\",\"tunreadGroup\"],\"mappings\":\"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\"}"}