{"code":"function module(e,l,n){let u,t,r;function c(e,l){let n=u();t(()=>()=>{var e,l;null===(e=n.current)||void 0===e||null===(l=e[1])||void 0===l||l.call(e)},[]);let c=r(l);if(!n.current||!c){var i,a;null===(i=n.current)||void 0===i||null===(a=i[1])||void 0===a||a.call(i),n.current=e()}return n.current[0]}n.export({useInstance:()=>c}),n.link(\"react\",{useRef(e){u=e},useEffect(e){t=e}},0),n.link(\"./useDepsMatch\",{useDepsMatch(e){r=e}},1)}","map":"{\"version\":3,\"sources\":[\"client/views/room/providers/hooks/useInstance.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useRef, useEffect } from 'react';\\n\\nimport { useDepsMatch } from './useDepsMatch';\\n\\nexport function useInstance<T>(factory: () => [instance: T, release?: () => void], deps: unknown[]): T {\\n\\tconst ref = useRef<[instance: T, release?: () => void]>();\\n\\n\\tuseEffect(\\n\\t\\t() => () => {\\n\\t\\t\\tref.current?.[1]?.();\\n\\t\\t},\\n\\t\\t[],\\n\\t);\\n\\n\\tconst depsMatch = useDepsMatch(deps);\\n\\n\\tif (!ref.current || !depsMatch) {\\n\\t\\tref.current?.[1]?.();\\n\\t\\tref.current = factory();\\n\\t}\\n\\n\\treturn ref.current[0];\\n}\\n\",null],\"names\":[\"useRef\",\"useEffect\",\"useDepsMatch\",\"useInstance\",\"factory\",\"deps\",\"ref\",\"_ref$current\",\"_ref$current$\",\"current\",\"call\",\"depsMatch\",\"_ref$current2\",\"_ref$current2$\",\"module\",\"export\",\"link\",\"v\"],\"mappings\":\"2BAA0CA,EAAAC,EAAAC,EAIpC,SAAUC,EAAeC,CAAkD,CAAEC,CAAe,EACjG,IAAMC,EAAMN,IAEZC,EACC,IAAM,KAAK,IAAAM,EAAAC,CACV,AAAW,QAAXD,CAAAA,EAAAD,EAAIG,OAAO,AAAPA,GAAOF,AAAA,KAAA,IAAAA,GAAA,AAAK,OAALC,CAAAA,EAAXD,CAAA,CAAc,EAAE,AAAD,GAACC,AAAA,KAAA,IAAAA,GAAhBA,EAAAE,IAAA,CAAAH,EACD,EACA,EAAE,EAGH,IAAMI,EAAYT,EAAaG,GAE/B,GAAI,CAACC,EAAIG,OAAO,EAAI,CAACE,EAAW,CAAA,IAAAC,EAAAC,CAC/B,AAAW,QAAXD,CAAAA,EAAAN,EAAIG,OAAO,AAAPA,GAAOG,AAAA,KAAA,IAAAA,GAAA,AAAK,OAALC,CAAAA,EAAXD,CAAA,CAAc,EAAE,AAAD,GAACC,AAAA,KAAA,IAAAA,GAAhBA,EAAAH,IAAA,CAAAE,GACAN,EAAIG,OAAO,CAAGL,GACf,CAEA,OAAOE,EAAIG,OAAO,CAAC,EAAE,AACtB,CAtBAK,EAAOC,MAAE,CAAA,CAAMZ,YAAWA,IAAEA,CAAc,GAAAW,EAAAE,IAAA,CAAA,QAAA,CAAAhB,OAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,EAAAhB,UAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAAAH,EAAAE,IAAA,CAAA,iBAAA,CAAAd,aAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA\"}"}