{"code":"function module(e,n,t){var i,o,l,a,c,u,r,s,f;t.link(\"@babel/runtime/helpers/extends\",{default:function(e){i=e}},0),t.link(\"@rocket.chat/fuselage\",{NavBarItem:function(e){o=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useEffectEvent:function(e){l=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useLayout:function(e){a=e}},2),t.link(\"@rocket.chat/ui-voip\",{useVoipDialer:function(e){c=e},useVoipState:function(e){u=e}},3),t.link(\"react\",{default:function(e){r=e},useMemo:function(e){s=e}},4),t.link(\"react-i18next\",{useTranslation:function(e){f=e}},5),t.exportDefault(function(e){var n=f().t,t=a().sidebar,d=u(),k=d.clientError,p=d.isEnabled,g=d.isReady,h=d.isRegistered,b=c(),m=b.open,v=b.openDialer,E=b.closeDialer,x=l(function(){t.toggle(),m?E():v()}),D=s(function(){return g||k?!h||k?n(\"Voice_calling_disabled\"):n(\"New_Call\"):n(\"Loading\")},[k,g,h,n]);return p?r.createElement(o,i({},e,{title:D,icon:\"phone\",onClick:x,pressed:m,disabled:!g||!h})):null})}","map":"{\"version\":3,\"sources\":[\"client/NavBarV2/NavBarVoipToolbar/NavBarItemVoipDialer.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { NavBarItem } from '@rocket.chat/fuselage';\\nimport { useEffectEvent } from '@rocket.chat/fuselage-hooks';\\nimport { useLayout } from '@rocket.chat/ui-contexts';\\nimport { useVoipDialer, useVoipState } from '@rocket.chat/ui-voip';\\nimport type { HTMLAttributes } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\ntype NavBarItemVoipDialerProps = Omit<HTMLAttributes<HTMLElement>, 'is'> & {\\n\\tprimary?: boolean;\\n};\\n\\nconst NavBarItemVoipDialer = (props: NavBarItemVoipDialerProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst { sidebar } = useLayout();\\n\\tconst { clientError, isEnabled, isReady, isRegistered } = useVoipState();\\n\\tconst { open: isDialerOpen, openDialer, closeDialer } = useVoipDialer();\\n\\n\\tconst handleToggleDialer = useEffectEvent(() => {\\n\\t\\tsidebar.toggle();\\n\\t\\tisDialerOpen ? closeDialer() : openDialer();\\n\\t});\\n\\n\\tconst title = useMemo(() => {\\n\\t\\tif (!isReady && !clientError) {\\n\\t\\t\\treturn t('Loading');\\n\\t\\t}\\n\\n\\t\\tif (!isRegistered || clientError) {\\n\\t\\t\\treturn t('Voice_calling_disabled');\\n\\t\\t}\\n\\n\\t\\treturn t('New_Call');\\n\\t}, [clientError, isReady, isRegistered, t]);\\n\\n\\treturn isEnabled ? (\\n\\t\\t<NavBarItem\\n\\t\\t\\t{...props}\\n\\t\\t\\ttitle={title}\\n\\t\\t\\ticon='phone'\\n\\t\\t\\tonClick={handleToggleDialer}\\n\\t\\t\\tpressed={isDialerOpen}\\n\\t\\t\\tdisabled={!isReady || !isRegistered}\\n\\t\\t/>\\n\\t) : null;\\n};\\n\\nexport default NavBarItemVoipDialer;\\n\",null],\"names\":[\"_extends\",\"NavBarItem\",\"useEffectEvent\",\"useLayout\",\"useVoipDialer\",\"useVoipState\",\"React\",\"useMemo\",\"useTranslation\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"props\",\"t\",\"_useTranslation\",\"sidebar\",\"_useLayout\",\"_useVoipState\",\"clientError\",\"isEnabled\",\"isReady\",\"isRegistered\",\"_useVoipDialer\",\"isDialerOpen\",\"open\",\"openDialer\",\"closeDialer\",\"handleToggleDialer\",\"toggle\",\"title\",\"createElement\",\"icon\",\"onClick\",\"pressed\",\"disabled\"],\"mappings\":\"uBAYA,IAZAA,EAAAC,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA1CC,EAAUC,IAAE,CAAA,iCAA8B,CAAAC,QAAA,SAAAC,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAA1CH,EAAYC,IAAA,CAAM,wBAAwB,CAAAT,WAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAR,eAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAP,UAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uBAAA,CAAAN,cAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,aAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAM,CAAA,EAAAL,QAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAF,eAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAnDH,EAAOI,aAAY,CAYU,SAACC,CAAgC,EAC7D,IAAQC,EAACC,AAAKR,IAANO,CAAC,CACDE,EAAOC,AAAKf,IAAZc,OAAO,CACfE,EAA0Dd,IAAlDe,EAAWD,EAAXC,WAAW,CAAEC,EAASF,EAATE,SAAS,CAAEC,EAAOH,EAAPG,OAAO,CAAEC,EAAYJ,EAAZI,YAAY,CACrDC,EAAwDpB,IAA1CqB,EAAYD,EAAlBE,IAAI,CAAgBC,EAAUH,EAAVG,UAAU,CAAEC,EAAWJ,EAAXI,WAAW,CAE7CC,EAAqB3B,EAAe,WACzCe,EAAQa,MAAM,GACdL,EAAeG,IAAgBD,GAChC,GAEMI,EAAQxB,EAAQ,kBACrB,AAAI,AAACe,GAAYF,EAIb,CAACG,GAAgBH,EACbL,EAAE,0BAGHA,EAAE,YAPDA,EAAE,UAQX,EAAG,CAACK,EAAaE,EAASC,EAAcR,EAAE,EAE1C,OAAOM,EACNf,EAAA0B,aAAA,CAAC/B,EAAUD,EAAA,CAAA,EACNc,EAAK,CACTiB,MAAOA,EACPE,KAAK,QACLC,QAASL,EACTM,QAASV,EACTW,SAAU,CAACd,GAAW,CAACC,CAAa,IAElC,IACL\"}"}