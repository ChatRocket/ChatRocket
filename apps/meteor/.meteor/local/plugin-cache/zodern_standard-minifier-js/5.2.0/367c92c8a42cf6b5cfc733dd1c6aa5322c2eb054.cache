{"code":"function module(e,t,l){let n,a,s,o,i,r,m,c,u,d,k,g,E,h,_,p,f,v,M,D,A,b;l.link(\"@rocket.chat/core-typings\",{isE2EEMessage(e){n=e},isQuoteAttachment(e){a=e}},0),l.link(\"@rocket.chat/fuselage\",{Message(e){s=e},MessageName(e){o=e},MessageToolbarItem(e){i=e},MessageToolbarWrapper(e){r=e},MessageUsername(e){m=e}},1),l.link(\"@rocket.chat/ui-avatar\",{UserAvatar(e){c=e}},2),l.link(\"@rocket.chat/ui-contexts\",{useSetting(e){u=e},useTranslation(e){d=e}},3),l.link(\"react\",{default(e){k=e}},4),l.link(\"../../../../components/message/MessageContentBody\",{default(e){g=e}},5),l.link(\"../../../../components/message/content/Attachments\",{default(e){E=e}},6),l.link(\"../../../../components/message/uikit/UiKitMessageBlock\",{default(e){h=e}},7),l.link(\"../../../../hooks/useFormatDate\",{useFormatDate(e){_=e}},8),l.link(\"../../../../hooks/useFormatDateAndTime\",{useFormatDateAndTime(e){p=e}},9),l.link(\"../../../../hooks/useFormatTime\",{useFormatTime(e){f=e}},10),l.link(\"../../../../hooks/useUserDisplayName\",{useUserDisplayName(e){v=e}},11),l.link(\"../MessageReportInfo\",{default(e){M=e}},12),l.link(\"../hooks/useDeleteMessage\",{default(e){D=e}},13),l.link(\"../hooks/useDismissMessageAction\",{useDismissMessageAction(e){A=e}},14),l.link(\"./ReportReasonCollapsible\",{default(e){b=e}},15),l.exportDefault(e=>{var t,l,F,T,C,U;let{message:y,room:R,deleted:I,onRedirect:N,onChange:x}=e,B=d(),w=n(y),G=D(y._id,y.rid,x),H=A(y._id),K=p(),L=f(),Q=_(),S=!!u(\"UI_Use_Real_Name\"),W=y.u.name||\"\",j=y.u.username||\"\",q=v({name:W,username:j}),z=(null==y?void 0:null===(t=y.attachments)||void 0===t?void 0:t.filter(a))||[],J=(null==y?void 0:null===(l=y.attachments)||void 0===l?void 0:l.filter(e=>!a(e)))||[];return k.createElement(k.Fragment,null,k.createElement(s.Divider,null,Q(y._updatedAt)),k.createElement(s,null,k.createElement(s.LeftContainer,null,k.createElement(c,{username:y.u.username})),k.createElement(s.Container,null,k.createElement(s.Header,null,k.createElement(o,null,q),k.createElement(k.Fragment,null,S&&k.createElement(m,null,\"\\xa0\",\"@\".concat(y.u.username))),k.createElement(s.Timestamp,{title:K(y._updatedAt)},L(y._updatedAt!==y.ts?y._updatedAt:y.ts),y._updatedAt!==y.ts&&\" (\".concat(B(\"edited\"),\")\")),k.createElement(s.Role,null,R.name||R.fname||\"DM\")),k.createElement(s.Body,null,!!(null!=z&&z.length)&&k.createElement(E,{attachments:z}),!(null!==(F=y.blocks)&&void 0!==F&&F.length)&&null!==(T=y.md)&&void 0!==T&&T.length?k.createElement(k.Fragment,null,(!w||\"done\"===y.e2e)&&k.createElement(g,{md:y.md,mentions:y.mentions,channels:y.channels}),\"pending\"===y.e2e&&B(\"E2E_message_encrypted_placeholder\")):y.msg,!!J&&k.createElement(E,{id:null===(C=y.files)||void 0===C?void 0:null===(U=C[0])||void 0===U?void 0:U._id,attachments:J}),y.blocks&&k.createElement(h,{rid:y.rid,mid:y._id,blocks:y.blocks})),k.createElement(b,null,k.createElement(M,{msgId:y._id}))),k.createElement(r,null,k.createElement(s.Toolbar,null,k.createElement(i,{icon:\"checkmark-circled\",title:B(\"Moderation_Dismiss_reports\"),onClick:()=>H.action()}),k.createElement(i,{icon:\"arrow-forward\",title:B(\"Moderation_Go_to_message\"),onClick:()=>N(y._id)}),k.createElement(i,{disabled:I,icon:\"trash\",title:B(\"Moderation_Delete_message\"),onClick:()=>G()})))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/moderation/helpers/ContextMessage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage, MessageReport, MessageAttachment } from '@rocket.chat/core-typings';\\nimport { isE2EEMessage, isQuoteAttachment } from '@rocket.chat/core-typings';\\nimport { Message, MessageName, MessageToolbarItem, MessageToolbarWrapper, MessageUsername } from '@rocket.chat/fuselage';\\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\\nimport { useSetting, useTranslation } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\n\\nimport MessageContentBody from '../../../../components/message/MessageContentBody';\\nimport Attachments from '../../../../components/message/content/Attachments';\\nimport UiKitMessageBlock from '../../../../components/message/uikit/UiKitMessageBlock';\\nimport { useFormatDate } from '../../../../hooks/useFormatDate';\\nimport { useFormatDateAndTime } from '../../../../hooks/useFormatDateAndTime';\\nimport { useFormatTime } from '../../../../hooks/useFormatTime';\\nimport { useUserDisplayName } from '../../../../hooks/useUserDisplayName';\\nimport MessageReportInfo from '../MessageReportInfo';\\nimport useDeleteMessage from '../hooks/useDeleteMessage';\\nimport { useDismissMessageAction } from '../hooks/useDismissMessageAction';\\nimport ReportReasonCollapsible from './ReportReasonCollapsible';\\n\\nconst ContextMessage = ({\\n\\tmessage,\\n\\troom,\\n\\tdeleted,\\n\\tonRedirect,\\n\\tonChange,\\n}: {\\n\\tmessage: any;\\n\\troom: MessageReport['room'];\\n\\tdeleted: boolean;\\n\\tonRedirect: (id: IMessage['_id']) => void;\\n\\tonChange: () => void;\\n}): JSX.Element => {\\n\\tconst t = useTranslation();\\n\\n\\tconst isEncryptedMessage = isE2EEMessage(message);\\n\\n\\tconst deleteMessage = useDeleteMessage(message._id, message.rid, onChange);\\n\\tconst dismissMsgReport = useDismissMessageAction(message._id);\\n\\n\\tconst formatDateAndTime = useFormatDateAndTime();\\n\\tconst formatTime = useFormatTime();\\n\\tconst formatDate = useFormatDate();\\n\\tconst useRealName = Boolean(useSetting('UI_Use_Real_Name'));\\n\\n\\tconst name = message.u.name || '';\\n\\tconst username = message.u.username || '';\\n\\n\\tconst displayName = useUserDisplayName({ name, username });\\n\\n\\tconst quotes = message?.attachments?.filter(isQuoteAttachment) || [];\\n\\n\\tconst attachments = message?.attachments?.filter((attachment: MessageAttachment) => !isQuoteAttachment(attachment)) || [];\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<Message.Divider>{formatDate(message._updatedAt)}</Message.Divider>\\n\\t\\t\\t<Message>\\n\\t\\t\\t\\t<Message.LeftContainer>\\n\\t\\t\\t\\t\\t<UserAvatar username={message.u.username} />\\n\\t\\t\\t\\t</Message.LeftContainer>\\n\\t\\t\\t\\t<Message.Container>\\n\\t\\t\\t\\t\\t<Message.Header>\\n\\t\\t\\t\\t\\t\\t<MessageName>{displayName}</MessageName>\\n\\t\\t\\t\\t\\t\\t<>{useRealName && <MessageUsername>&nbsp;{`@${message.u.username}`}</MessageUsername>}</>\\n\\t\\t\\t\\t\\t\\t<Message.Timestamp title={formatDateAndTime(message._updatedAt)}>\\n\\t\\t\\t\\t\\t\\t\\t{formatTime(message._updatedAt !== message.ts ? message._updatedAt : message.ts)}\\n\\t\\t\\t\\t\\t\\t\\t{message._updatedAt !== message.ts && ` (${t('edited')})`}\\n\\t\\t\\t\\t\\t\\t</Message.Timestamp>\\n\\t\\t\\t\\t\\t\\t<Message.Role>{room.name || room.fname || 'DM'}</Message.Role>\\n\\t\\t\\t\\t\\t</Message.Header>\\n\\t\\t\\t\\t\\t<Message.Body>\\n\\t\\t\\t\\t\\t\\t{!!quotes?.length && <Attachments attachments={quotes} />}\\n\\t\\t\\t\\t\\t\\t{!message.blocks?.length && !!message.md?.length ? (\\n\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t{(!isEncryptedMessage || message.e2e === 'done') && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<MessageContentBody md={message.md} mentions={message.mentions} channels={message.channels} />\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t{message.e2e === 'pending' && t('E2E_message_encrypted_placeholder')}\\n\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t\\tmessage.msg\\n\\t\\t\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t\\t\\t{!!attachments && <Attachments id={message.files?.[0]?._id} attachments={attachments} />}\\n\\t\\t\\t\\t\\t\\t{message.blocks && <UiKitMessageBlock rid={message.rid} mid={message._id} blocks={message.blocks} />}\\n\\t\\t\\t\\t\\t</Message.Body>\\n\\t\\t\\t\\t\\t<ReportReasonCollapsible>\\n\\t\\t\\t\\t\\t\\t<MessageReportInfo msgId={message._id} />\\n\\t\\t\\t\\t\\t</ReportReasonCollapsible>\\n\\t\\t\\t\\t</Message.Container>\\n\\t\\t\\t\\t<MessageToolbarWrapper>\\n\\t\\t\\t\\t\\t<Message.Toolbar>\\n\\t\\t\\t\\t\\t\\t<MessageToolbarItem\\n\\t\\t\\t\\t\\t\\t\\ticon='checkmark-circled'\\n\\t\\t\\t\\t\\t\\t\\ttitle={t('Moderation_Dismiss_reports')}\\n\\t\\t\\t\\t\\t\\t\\tonClick={() => dismissMsgReport.action()}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t<MessageToolbarItem icon='arrow-forward' title={t('Moderation_Go_to_message')} onClick={() => onRedirect(message._id)} />\\n\\t\\t\\t\\t\\t\\t<MessageToolbarItem disabled={deleted} icon='trash' title={t('Moderation_Delete_message')} onClick={() => deleteMessage()} />\\n\\t\\t\\t\\t\\t</Message.Toolbar>\\n\\t\\t\\t\\t</MessageToolbarWrapper>\\n\\t\\t\\t</Message>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default ContextMessage;\\n\",null],\"names\":[\"isE2EEMessage\",\"isQuoteAttachment\",\"Message\",\"MessageName\",\"MessageToolbarItem\",\"MessageToolbarWrapper\",\"MessageUsername\",\"UserAvatar\",\"useSetting\",\"useTranslation\",\"React\",\"MessageContentBody\",\"Attachments\",\"UiKitMessageBlock\",\"useFormatDate\",\"useFormatDateAndTime\",\"useFormatTime\",\"useUserDisplayName\",\"MessageReportInfo\",\"useDeleteMessage\",\"useDismissMessageAction\",\"ReportReasonCollapsible\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"_message$attachments\",\"_message$attachments2\",\"_message$blocks\",\"_message$md\",\"_message$files\",\"_message$files$\",\"message\",\"room\",\"deleted\",\"onRedirect\",\"onChange\",\"t\",\"isEncryptedMessage\",\"deleteMessage\",\"_id\",\"rid\",\"dismissMsgReport\",\"formatDateAndTime\",\"formatTime\",\"formatDate\",\"useRealName\",\"Boolean\",\"name\",\"u\",\"username\",\"displayName\",\"quotes\",\"attachments\",\"filter\",\"attachment\",\"createElement\",\"Fragment\",\"Divider\",\"_updatedAt\",\"LeftContainer\",\"Container\",\"Header\",\"concat\",\"Timestamp\",\"title\",\"ts\",\"Role\",\"fname\",\"Body\",\"length\",\"blocks\",\"md\",\"e2e\",\"mentions\",\"channels\",\"msg\",\"id\",\"files\",\"mid\",\"msgId\",\"Toolbar\",\"icon\",\"onClick\",\"action\",\"disabled\"],\"mappings\":\"2BACAA,EAASC,EAAoEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAArDC,EAAmBC,IAAA,CAAA,4BAAiC,CAACvB,cAAAwB,CAAA,EAAAxB,EAAAwB,CAAA,EAAAvB,kBAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAArB,QAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,EAAArB,YAAAqB,CAAA,EAAArB,EAAAqB,CAAA,EAAApB,mBAAAoB,CAAA,EAAApB,EAAAoB,CAAA,EAAAnB,sBAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,EAAAlB,gBAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yBAAA,CAAAhB,WAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAf,WAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,EAAAf,eAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oDAAA,CAAAE,QAAAD,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,qDAAA,CAAAE,QAAAD,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yDAAA,CAAAE,QAAAD,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kCAAA,CAAAT,cAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yCAAA,CAAAR,qBAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kCAAA,CAAAP,cAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,IAAAF,EAAAC,IAAA,CAAA,uCAAA,CAAAN,mBAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,IAAAF,EAAAC,IAAA,CAAA,uBAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,IAAAF,EAAAC,IAAA,CAAA,4BAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,IAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAAH,wBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,IAAAF,EAAAC,IAAA,CAAA,4BAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,IAA7EF,EAAOI,aAAE,CAkBcC,IAYL,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,GAZM,CACvBC,QAAAA,CAAO,CACPC,KAAAA,CAAI,CACJC,QAAAA,CAAO,CACPC,WAAAA,CAAU,CACVC,SAAAA,CAAAA,CAOA,CAAAX,EACMY,EAAI9B,IAEJ+B,EAAqBxC,EAAckC,GAEnCO,EAAgBtB,EAAiBe,EAAQQ,GAAG,CAAER,EAAQS,GAAG,CAAEL,GAC3DM,EAAmBxB,EAAwBc,EAAQQ,GAAG,EAEtDG,EAAoB9B,IACpB+B,EAAa9B,IACb+B,EAAajC,IACbkC,EAAcC,CAAAA,CAAQzC,EAAW,oBAEjC0C,EAAOhB,EAAQiB,CAAC,CAACD,IAAI,EAAI,GACzBE,EAAWlB,EAAQiB,CAAC,CAACC,QAAQ,EAAI,GAEjCC,EAAcpC,EAAmB,CAAEiC,KAAAA,EAAME,SAAAA,CAAQ,GAEjDE,EAAS,AAAApB,CAAAA,MAAAA,EAAO,KAAA,EAAA,AAAa,OAAbN,CAAAA,EAAPM,EAASqB,WAAW,AAAXA,GAAW3B,AAAA,KAAA,IAAAA,EAAA,KAAA,EAApBA,EAAsB4B,MAAM,CAACvD,EAAiB,GAAK,EAAE,CAE9DsD,EAAc,AAAArB,CAAAA,MAAAA,EAAO,KAAA,EAAA,AAAa,OAAbL,CAAAA,EAAPK,EAASqB,WAAW,AAAXA,GAAW1B,AAAA,KAAA,IAAAA,EAAA,KAAA,EAApBA,EAAsB2B,MAAM,CAAEC,GAAkC,CAACxD,EAAkBwD,GAAW,GAAK,EAAE,CAEzH,OACC/C,EAAAgD,aAAA,CAAAhD,EAAAiD,QAAA,CAAA,KACCjD,EAAAgD,aAAA,CAACxD,EAAQ0D,OAAO,CAAA,KAAEb,EAAWb,EAAQ2B,UAAU,GAC/CnD,EAAAgD,aAAA,CAACxD,EAAO,KACPQ,EAAAgD,aAAA,CAACxD,EAAQ4D,aAAa,CAAA,KACrBpD,EAAAgD,aAAA,CAACnD,EAAU,CAAC6C,SAAUlB,EAAQiB,CAAC,CAACC,QAAAA,AAAS,IAE1C1C,EAAAgD,aAAA,CAACxD,EAAQ6D,SAAS,CAAA,KACjBrD,EAAAgD,aAAA,CAACxD,EAAQ8D,MAAM,CAAA,KACdtD,EAAAgD,aAAA,CAACvD,EAAW,KAAEkD,GACd3C,EAAAgD,aAAA,CAAAhD,EAAAiD,QAAA,CAAA,KAAGX,GAAetC,EAAAgD,aAAA,CAACpD,EAAe,KAAC,OAAM,IAAA2D,MAAA,CAAK/B,EAAQiB,CAAC,CAACC,QAAQ,IAChE1C,EAAAgD,aAAA,CAACxD,EAAQgE,SAAS,CAAA,CAACC,MAAOtB,EAAkBX,EAAQ2B,UAAU,CAAE,EAC9Df,EAAWZ,EAAQ2B,UAAU,GAAK3B,EAAQkC,EAAE,CAAGlC,EAAQ2B,UAAU,CAAG3B,EAAQkC,EAAE,EAC9ElC,EAAQ2B,UAAU,GAAK3B,EAAQkC,EAAE,EAAA,KAAAH,MAAA,CAAS1B,EAAE,UAAS,MAEvD7B,EAAAgD,aAAA,CAACxD,EAAQmE,IAAI,CAAA,KAAElC,EAAKe,IAAI,EAAIf,EAAKmC,KAAK,EAAI,OAE3C5D,EAAAgD,aAAA,CAACxD,EAAQqE,IAAI,CAAA,KACX,CAAC,CAACjB,CAAAA,MAAAA,GAAAA,EAAQkB,MAAM,AAANA,GAAU9D,EAAAgD,aAAA,CAAC9C,EAAW,CAAC2C,YAAaD,CAAO,GACrD,CAAA,CAAA,AAAe,OAAfxB,CAAAA,EAACI,EAAQuC,MAAM,AAANA,GAAM3C,AAAA,KAAA,IAAAA,GAAdA,EAAgB0C,MAAM,AAANA,GAAW,AAAW,OAAXzC,CAAAA,EAACG,EAAQwC,EAAE,AAAFA,GAAE3C,AAAA,KAAA,IAAAA,GAAVA,EAAYyC,MAAM,CAC/C9D,EAAAgD,aAAA,CAAAhD,EAAAiD,QAAA,CAAA,KACE,AAAC,CAAA,CAACnB,GAAsBN,AAAgB,SAAhBA,EAAQyC,GAAG,AAAK,GACxCjE,EAAAgD,aAAA,CAAC/C,EAAkB,CAAC+D,GAAIxC,EAAQwC,EAAG,CAACE,SAAU1C,EAAQ0C,QAAS,CAACC,SAAU3C,EAAQ2C,QAAAA,AAAS,GAE3F3C,AAAgB,YAAhBA,EAAQyC,GAAG,EAAkBpC,EAAE,sCAGjCL,EAAQ4C,GACR,CAEA,CAAC,CAACvB,GAAe7C,EAAAgD,aAAA,CAAC9C,EAAW,CAACmE,GAAE,AAAe,OAAf/C,CAAAA,EAAEE,EAAQ8C,KAAK,AAALA,GAAKhD,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAA,AAAK,OAALC,CAAAA,EAAbD,CAAA,CAAgB,EAAE,AAAD,GAACC,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAlBA,EAAoBS,GAAI,CAACa,YAAaA,CAAY,GACpFrB,EAAQuC,MAAM,EAAI/D,EAAAgD,aAAA,CAAC7C,EAAiB,CAAC8B,IAAKT,EAAQS,GAAI,CAACsC,IAAK/C,EAAQQ,GAAI,CAAC+B,OAAQvC,EAAQuC,MAAAA,AAAO,IAElG/D,EAAAgD,aAAA,CAACrC,EAAuB,KACvBX,EAAAgD,aAAA,CAACxC,EAAiB,CAACgE,MAAOhD,EAAQQ,GAAAA,AAAI,KAGxChC,EAAAgD,aAAA,CAACrD,EAAqB,KACrBK,EAAAgD,aAAA,CAACxD,EAAQiF,OAAO,CAAA,KACfzE,EAAAgD,aAAA,CAACtD,EAAkB,CAClBgF,KAAK,oBACLjB,MAAO5B,EAAE,8BACT8C,QAASA,IAAMzC,EAAiB0C,MAAM,EAAG,GAE1C5E,EAAAgD,aAAA,CAACtD,EAAkB,CAACgF,KAAK,gBAAgBjB,MAAO5B,EAAE,4BAA6B8C,QAASA,IAAMhD,EAAWH,EAAQQ,GAAG,CAAE,GACtHhC,EAAAgD,aAAA,CAACtD,EAAkB,CAACmF,SAAUnD,EAASgD,KAAK,QAAQjB,MAAO5B,EAAE,6BAA8B8C,QAASA,IAAM5C,GAAgB,MAMhI\"}"}