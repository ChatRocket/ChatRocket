{"code":"function module(e,t){\"use strict\";var n=e(\"lodash/uniq\"),a=e(\"lodash/uniqBy\"),r=e(\"lodash/sortBy\"),i=e(\"lodash/last\"),o=e(\"lodash/isDate\"),u=e(\"d3-time-format\"),c=e(\"d3-scale\"),s=e(\"d3-time\");function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var l=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],m={millisecond:[],second:l.slice(0,1),minute:l.slice(0,2),hour:l.slice(0,3),day:l.slice(0,4),month:l.slice(0,5),year:l.slice(0,6)},f=function(e){return function(t){return m[e].forEach(function(e){e(t)}),t}},v=function(e){var t=e.format,n=void 0===t?\"native\":t,a=e.precision,r=e.useUTC,i=void 0===r||r,o=f(void 0===a?\"millisecond\":a);return function(e){return void 0===e?e:\"native\"===n||e instanceof Date?o(e):o((i?u.utcParse(n):u.timeParse(n))(e))}},y=function(e,t,n,a){var r,i,o,u,s=e.min,d=void 0===s?0:s,l=e.max,m=void 0===l?\"auto\":l,f=e.stacked,v=void 0!==f&&f,y=e.reverse,p=void 0!==y&&y,g=e.clamp,x=void 0!==g&&g,S=e.nice,k=void 0!==S&&S;r=\"auto\"===d?!0===v?null!=(i=t.minStacked)?i:0:t.min:d,o=\"auto\"===m?!0===v?null!=(u=t.maxStacked)?u:0:t.max:m;var T=c.scaleLinear().rangeRound(\"x\"===a?[0,n]:[n,0]).domain(p?[o,r]:[r,o]).clamp(x);return!0===k?T.nice():\"number\"==typeof k&&T.nice(k),h(T,v)},h=function(e,t){return void 0===t&&(t=!1),e.type=\"linear\",e.stacked=t,e},p=function(e,t,n){var a=c.scalePoint().range([0,n]).domain(t.all);return a.type=\"point\",a},g=function(e,t,n,a){var r=e.round;return x(c.scaleBand().range(\"x\"===a?[0,n]:[n,0]).domain(t.all).round(void 0===r||r))},x=function(e){return e.type=\"band\",e},S=function(e,t,n){var a,r,i=e.format,o=void 0===i?\"native\":i,u=e.precision,s=e.min,d=void 0===s?\"auto\":s,l=e.max,m=void 0===l?\"auto\":l,f=e.useUTC,y=void 0===f||f,h=e.nice,p=void 0!==h&&h,g=v({format:o,precision:void 0===u?\"millisecond\":u,useUTC:y});a=\"auto\"===d?g(t.min):\"native\"!==o?g(d):d,r=\"auto\"===m?g(t.max):\"native\"!==o?g(m):m;var x=y?c.scaleUtc():c.scaleTime();return x.range([0,n]),a&&r&&x.domain([a,r]),!0===p?x.nice():\"object\"!=typeof p&&\"number\"!=typeof p||x.nice(p),x.type=\"time\",x.useUTC=y,x},k=function(e,t,n,a){var r,i=e.base,o=void 0===i?10:i,u=e.min,s=void 0===u?\"auto\":u,d=e.max,l=void 0===d?\"auto\":d;if(t.all.some(function(e){return 0===e}))throw Error(\"a log scale domain must not include or cross zero\");var m,f,v=!1;if(t.all.filter(function(e){return null!=e}).forEach(function(e){v||(void 0===r?r=Math.sign(e):Math.sign(e)!==r&&(v=!0))}),v)throw Error(\"a log scale domain must be strictly-positive or strictly-negative\");m=\"auto\"===s?t.min:s,f=\"auto\"===l?t.max:l;var y=c.scaleLog().domain([m,f]).rangeRound(\"x\"===a?[0,n]:[n,0]).base(o).nice();return y.type=\"log\",y},T=function(e,t,n,a){var r,i,o=e.constant,u=void 0===o?1:o,s=e.min,d=void 0===s?\"auto\":s,l=e.max,m=void 0===l?\"auto\":l,f=e.reverse;r=\"auto\"===d?t.min:d,i=\"auto\"===m?t.max:m;var v=c.scaleSymlog().constant(u).rangeRound(\"x\"===a?[0,n]:[n,0]).nice();return!0===(void 0!==f&&f)?v.domain([i,r]):v.domain([r,i]),v.type=\"symlog\",v},M=function(e){return\"x\"===e?\"y\":\"x\"},b=function(e,t){return e===t},E=function(e,t){return e.getTime()===t.getTime()};function D(e,t,n,a){switch(e.type){case\"linear\":return y(e,t,n,a);case\"point\":return p(e,t,n);case\"band\":return g(e,t,n,a);case\"time\":return S(e,t,n);case\"log\":return k(e,t,n,a);case\"symlog\":return T(e,t,n,a);default:throw Error(\"invalid scale spec\")}}var w=function(e,t,n){var a;if(\"stacked\"in n&&n.stacked){var r=e.data[\"x\"===t?\"xStacked\":\"yStacked\"];return null==r?null:n(r)}return null!=(a=n(e.data[t]))?a:null},C=function(e,t,n){return{x:U(e,\"x\",t),y:U(e,\"y\",n)}},U=function(e,t,o,u){var c=void 0===u?{}:u,s=c.getValue,d=void 0===s?function(e){return e.data[t]}:s,l=c.setValue,m=void 0===l?function(e,n){e.data[t]=n}:l;if(\"linear\"===o.type)e.forEach(function(e){e.data.forEach(function(e){var t=d(e);t&&m(e,parseFloat(String(t)))})});else if(\"time\"===o.type&&\"native\"!==o.format){var f=v(o);e.forEach(function(e){e.data.forEach(function(e){var t=d(e);t&&m(e,f(t))})})}var y=[];switch(e.forEach(function(e){e.data.forEach(function(e){y.push(d(e))})}),o.type){case\"linear\":var h=r(n(y).filter(function(e){return null!==e}),function(e){return e});return{all:h,min:Math.min.apply(Math,h),max:Math.max.apply(Math,h)};case\"time\":var p=a(y,function(e){return e.getTime()}).slice(0).sort(function(e,t){return t.getTime()-e.getTime()}).reverse();return{all:p,min:p[0],max:i(p)};default:var g=n(y);return{all:g,min:g[0],max:i(g)}}},O=function(e,t,n){var a=M(e),r=[];t[a].all.forEach(function(t){var u=o(t)?E:b,c=[];n.forEach(function(n){var o=n.data.find(function(e){return u(e.data[a],t)}),s=null,d=null;if(void 0!==o){if(null!==(s=o.data[e])){var l=i(c);void 0===l?d=s:null!==l&&(d=l+s)}o.data[\"x\"===e?\"xStacked\":\"yStacked\"]=d}c.push(d),null!==d&&r.push(d)})}),t[e].minStacked=Math.min.apply(Math,r),t[e].maxStacked=Math.max.apply(Math,r)},P=s.timeInterval(function(e){return e.setHours(0,0,0,0)},function(e,t){return e.setDate(e.getDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),j=s.timeInterval(function(e){return e.setUTCHours(0,0,0,0)},function(e,t){return e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),B={millisecond:[s.timeMillisecond,s.utcMillisecond],second:[s.timeSecond,s.utcSecond],minute:[s.timeMinute,s.utcMinute],hour:[s.timeHour,s.utcHour],day:[P,j],week:[s.timeWeek,s.utcWeek],sunday:[s.timeSunday,s.utcSunday],monday:[s.timeMonday,s.utcMonday],tuesday:[s.timeTuesday,s.utcTuesday],wednesday:[s.timeWednesday,s.utcWednesday],thursday:[s.timeThursday,s.utcThursday],friday:[s.timeFriday,s.utcFriday],saturday:[s.timeSaturday,s.utcSaturday],month:[s.timeMonth,s.utcMonth],year:[s.timeYear,s.utcYear]},A=RegExp(\"^every\\\\s*(\\\\d+)?\\\\s*(\"+Object.keys(B).join(\"|\")+\")s?$\",\"i\");t.castBandScale=x,t.castLinearScale=h,t.castPointScale=function(e){return e.type=\"point\",e},t.centerScale=function(e){var t=e.bandwidth();if(0===t)return e;var n=t/2;return e.round()&&(n=Math.round(n)),function(t){var a;return(null!=(a=e(t))?a:0)+n}},t.compareDateValues=E,t.compareValues=b,t.computeScale=D,t.computeXYScalesForSeries=function(e,t,n,a,r){var i=e.map(function(e){return d({},e,{data:e.data.map(function(e){return{data:d({},e)}})})}),o=C(i,t,n);\"stacked\"in t&&!0===t.stacked&&O(\"x\",o,i),\"stacked\"in n&&!0===n.stacked&&O(\"y\",o,i);var u=D(t,o.x,a,\"x\"),c=D(n,o.y,r,\"y\"),s=i.map(function(e){return d({},e,{data:e.data.map(function(e){return d({},e,{position:{x:w(e,\"x\",u),y:w(e,\"y\",c)}})})})});return d({},o,{series:s,xScale:u,yScale:c})},t.createBandScale=g,t.createDateNormalizer=v,t.createLinearScale=y,t.createLogScale=k,t.createPointScale=p,t.createPrecisionMethod=f,t.createSymlogScale=T,t.createTimeScale=S,t.generateSeriesAxis=U,t.generateSeriesXY=C,t.getOtherAxis=M,t.getScaleTicks=function(e,t){if(Array.isArray(t))return t;if(\"string\"==typeof t&&\"useUTC\"in e){var n=t.match(A);if(n){var a=n[1],r=n[2],i=B[r][e.useUTC?1:0];if(\"day\"===r){var o,u,c=e.domain(),s=c[0],d=new Date(c[1]);return d.setDate(d.getDate()+1),null!=(o=null==(u=i.every(Number(null!=a?a:1)))?void 0:u.range(s,d))?o:[]}if(void 0===a)return e.ticks(i);var l=i.every(Number(a));if(l)return e.ticks(l)}throw Error(\"Invalid tickValues: \"+t)}if(\"ticks\"in e){if(void 0===t)return e.ticks();if(\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t)return e.ticks(t)}return e.domain()},t.precisionCutOffs=l,t.precisionCutOffsByType=m,t.stackAxis=O,t.timePrecisions=[\"millisecond\",\"second\",\"minute\",\"hour\",\"day\",\"month\",\"year\"]}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}