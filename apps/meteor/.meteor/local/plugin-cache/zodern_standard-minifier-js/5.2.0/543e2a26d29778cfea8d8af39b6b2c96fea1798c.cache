{"code":"function module(e,t,a){let n,l,i,o,c,s,r,u,d;a.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),a.link(\"@rocket.chat/fuselage\",{Box(e){l=e},Button(e){i=e},Margins(e){o=e}},0),a.link(\"@rocket.chat/ui-contexts\",{useUser(e){c=e},useTranslation(e){s=e}},1),a.link(\"react\",{default(e){r=e},useCallback(e){u=e}},2),a.link(\"../../../hooks/useEndpointAction\",{useEndpointAction(e){d=e}},3),a.exportDefault(e=>{var t,a;let m=s(),f=c(),_=null==f?void 0:null===(t=f.services)||void 0===t?void 0:null===(a=t.email2fa)||void 0===a?void 0:a.enabled,b=d(\"POST\",\"/v1/users.2fa.enableEmail\",{successMessage:m(\"Two-factor_authentication_enabled\")}),E=d(\"POST\",\"/v1/users.2fa.disableEmail\",{successMessage:m(\"Two-factor_authentication_disabled\")}),k=u(async()=>{await b()},[b]),h=u(async()=>{await E()},[E]);return r.createElement(l,n({display:\"flex\",flexDirection:\"column\",alignItems:\"flex-start\",mbs:16},e),r.createElement(o,{blockEnd:8},r.createElement(l,{fontScale:\"h4\"},m(\"Two-factor_authentication_email\")),_&&r.createElement(i,{danger:!0,onClick:h},m(\"Disable_two-factor_authentication_email\")),!_&&r.createElement(r.Fragment,null,r.createElement(l,null,m(\"Two-factor_authentication_email_is_currently_disabled\")),r.createElement(i,{primary:!0,onClick:k},m(\"Enable_two-factor_authentication_email\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/account/security/TwoFactorEmail.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Button, Margins } from '@rocket.chat/fuselage';\\nimport { useUser, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps } from 'react';\\nimport React, { useCallback } from 'react';\\n\\nimport { useEndpointAction } from '../../../hooks/useEndpointAction';\\n\\nconst TwoFactorEmail = (props: ComponentProps<typeof Box>) => {\\n\\tconst t = useTranslation();\\n\\tconst user = useUser();\\n\\n\\tconst isEnabled = user?.services?.email2fa?.enabled;\\n\\n\\tconst enable2faAction = useEndpointAction('POST', '/v1/users.2fa.enableEmail', {\\n\\t\\tsuccessMessage: t('Two-factor_authentication_enabled'),\\n\\t});\\n\\tconst disable2faAction = useEndpointAction('POST', '/v1/users.2fa.disableEmail', {\\n\\t\\tsuccessMessage: t('Two-factor_authentication_disabled'),\\n\\t});\\n\\n\\tconst handleEnable = useCallback(async () => {\\n\\t\\tawait enable2faAction();\\n\\t}, [enable2faAction]);\\n\\tconst handleDisable = useCallback(async () => {\\n\\t\\tawait disable2faAction();\\n\\t}, [disable2faAction]);\\n\\n\\treturn (\\n\\t\\t<Box display='flex' flexDirection='column' alignItems='flex-start' mbs={16} {...props}>\\n\\t\\t\\t<Margins blockEnd={8}>\\n\\t\\t\\t\\t<Box fontScale='h4'>{t('Two-factor_authentication_email')}</Box>\\n\\t\\t\\t\\t{isEnabled && (\\n\\t\\t\\t\\t\\t<Button danger onClick={handleDisable}>\\n\\t\\t\\t\\t\\t\\t{t('Disable_two-factor_authentication_email')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{!isEnabled && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t<Box>{t('Two-factor_authentication_email_is_currently_disabled')}</Box>\\n\\t\\t\\t\\t\\t\\t<Button primary onClick={handleEnable}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Enable_two-factor_authentication_email')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</Margins>\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default TwoFactorEmail;\\n\",null],\"names\":[\"_extends\",\"Box\",\"Button\",\"Margins\",\"useUser\",\"useTranslation\",\"React\",\"useCallback\",\"useEndpointAction\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"props\",\"_user$services\",\"_user$services$email\",\"t\",\"user\",\"isEnabled\",\"services\",\"email2fa\",\"enabled\",\"enable2faAction\",\"successMessage\",\"disable2faAction\",\"handleEnable\",\"handleDisable\",\"createElement\",\"display\",\"flexDirection\",\"alignItems\",\"mbs\",\"blockEnd\",\"fontScale\",\"danger\",\"onClick\",\"Fragment\",\"primary\"],\"mappings\":\"2BAAAA,EAAAC,EAAOC,EAAOC,EAA+CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjDC,EAAQC,IAAE,CAAA,iCAAe,CAAAC,QAAwBC,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAvCH,EAAOC,IAAE,CAAA,wBAAM,CAAuBT,IAACW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,OAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,QAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAN,QAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,eAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAN,EAAAM,CAAA,EAAAL,YAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,mCAAA,CAAAF,kBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAA7DH,EAAOI,aAAa,CAOIC,IAAqC,IAAAC,EAAAC,EAC5D,IAAMC,EAAIZ,IACJa,EAAOd,IAEPe,EAAYD,MAAAA,EAAI,KAAA,EAAA,AAAU,OAAVH,CAAAA,EAAJG,EAAME,QAAQ,AAARA,GAAQL,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAA,AAAU,OAAVC,CAAAA,EAAdD,EAAgBM,QAAQ,AAARA,GAAQL,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAxBA,EAA0BM,OAAO,CAE7CC,EAAkBf,EAAkB,OAAQ,4BAA6B,CAC9EgB,eAAgBP,EAAE,uCAEbQ,EAAmBjB,EAAkB,OAAQ,6BAA8B,CAChFgB,eAAgBP,EAAE,wCAGbS,EAAenB,EAAY,UAChC,MAAMgB,GACP,EAAG,CAACA,EAAgB,EACdI,EAAgBpB,EAAY,UACjC,MAAMkB,GACP,EAAG,CAACA,EAAiB,EAErB,OACCnB,EAAAsB,aAAA,CAAC3B,EAAGD,EAAA,CAAC6B,QAAQ,OAAOC,cAAc,SAASC,WAAW,aAAaC,IAAK,EAAG,EAAKlB,GAC/ER,EAAAsB,aAAA,CAACzB,EAAO,CAAC8B,SAAU,CAAE,EACpB3B,EAAAsB,aAAA,CAAC3B,EAAG,CAACiC,UAAU,IAAI,EAAEjB,EAAE,oCACtBE,GACAb,EAAAsB,aAAA,CAAC1B,EAAM,CAACiC,OAAM,CAAA,EAACC,QAAST,CAAc,EACpCV,EAAE,4CAGJ,CAACE,GACDb,EAAAsB,aAAA,CAAAtB,EAAA+B,QAAA,CAAA,KACC/B,EAAAsB,aAAA,CAAC3B,EAAG,KAAEgB,EAAE,0DACRX,EAAAsB,aAAA,CAAC1B,EAAM,CAACoC,QAAO,CAAA,EAACF,QAASV,CAAa,EACpCT,EAAE,6CAOV\"}"}