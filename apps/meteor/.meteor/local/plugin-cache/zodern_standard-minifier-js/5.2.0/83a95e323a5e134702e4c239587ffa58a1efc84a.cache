{"code":"function module(e,t,n){var l,i,a,r,o,c,u;n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){l=e}},0),n.link(\"react\",{default:function(e){i=e},useEffect:function(e){a=e},useState:function(e){r=e}},0),n.link(\"../components/ImageGallery\",{ImageGallery:function(e){o=e}},1),n.link(\"../contexts/ImageGalleryContext\",{ImageGalleryContext:function(e){c=e}},2),n.link(\"../views/room/ImageGallery/ImageGalleryData\",{default:function(e){u=e}},3),n.exportDefault(function(e){var t=e.children,n=r(),s=l(n,2),d=s[0],m=s[1],v=r(),f=l(v,2),g=f[0],y=f[1];return a(function(){var e=function(e){var t,n=null==e?void 0:e.target;if(null!=n&&n.closest(\".rcx-attachment__details\")||null!=n&&n.classList.contains(\"preview-image\"))return y(n.dataset.id);if(null!=n&&n.classList.contains(\"gallery-item\")){var l,i=(null===(l=n.closest(\".gallery-item-container\"))||void 0===l?void 0:l.getAttribute(\"data-id\"))||void 0;return m(n.dataset.id||i)}return null!=n&&n.classList.contains(\"gallery-item-container\")?m(n.dataset.id):null!=n&&n.classList.contains(\"rcx-avatar__element\")&&n.closest(\".gallery-item\")?m((null===(t=n.closest(\".gallery-item-container\"))||void 0===t?void 0:t.getAttribute(\"data-id\"))||void 0):void 0};return document.addEventListener(\"click\",e),function(){return document.removeEventListener(\"click\",e)}},[]),i.createElement(c.Provider,{value:{imageId:d||\"\",isOpen:!!d,onClose:function(){return m(void 0)}}},t,!!g&&i.createElement(o,{images:[{_id:g,url:g}],onClose:function(){return y(void 0)}}),!!d&&i.createElement(u,null))})}","map":"{\"version\":3,\"sources\":[\"client/providers/ImageGalleryProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import React, { type ReactNode, useEffect, useState } from 'react';\\n\\nimport { ImageGallery } from '../components/ImageGallery';\\nimport { ImageGalleryContext } from '../contexts/ImageGalleryContext';\\nimport ImageGalleryData from '../views/room/ImageGallery/ImageGalleryData';\\n\\ntype ImageGalleryProviderProps = {\\n\\tchildren: ReactNode;\\n};\\n\\nconst ImageGalleryProvider = ({ children }: ImageGalleryProviderProps) => {\\n\\tconst [imageId, setImageId] = useState<string>();\\n\\tconst [singleImageUrl, setSingleImageUrl] = useState<string>();\\n\\n\\tuseEffect(() => {\\n\\t\\tconst handleImageClick = (event: Event) => {\\n\\t\\t\\tconst target = event?.target as HTMLElement | null;\\n\\n\\t\\t\\tif (target?.closest('.rcx-attachment__details')) {\\n\\t\\t\\t\\treturn setSingleImageUrl(target.dataset.id);\\n\\t\\t\\t}\\n\\t\\t\\tif (target?.classList.contains('preview-image')) {\\n\\t\\t\\t\\treturn setSingleImageUrl(target.dataset.id);\\n\\t\\t\\t}\\n\\t\\t\\tif (target?.classList.contains('gallery-item')) {\\n\\t\\t\\t\\tconst id = target.closest('.gallery-item-container')?.getAttribute('data-id') || undefined;\\n\\t\\t\\t\\treturn setImageId(target.dataset.id || id);\\n\\t\\t\\t}\\n\\t\\t\\tif (target?.classList.contains('gallery-item-container')) {\\n\\t\\t\\t\\treturn setImageId(target.dataset.id);\\n\\t\\t\\t}\\n\\t\\t\\tif (target?.classList.contains('rcx-avatar__element') && target.closest('.gallery-item')) {\\n\\t\\t\\t\\tconst avatarTarget = target.closest('.gallery-item-container')?.getAttribute('data-id') || undefined;\\n\\t\\t\\t\\treturn setImageId(avatarTarget);\\n\\t\\t\\t}\\n\\t\\t};\\n\\t\\tdocument.addEventListener('click', handleImageClick);\\n\\n\\t\\treturn () => document.removeEventListener('click', handleImageClick);\\n\\t}, []);\\n\\n\\treturn (\\n\\t\\t<ImageGalleryContext.Provider value={{ imageId: imageId || '', isOpen: !!imageId, onClose: () => setImageId(undefined) }}>\\n\\t\\t\\t{children}\\n\\t\\t\\t{!!singleImageUrl && (\\n\\t\\t\\t\\t<ImageGallery images={[{ _id: singleImageUrl, url: singleImageUrl }]} onClose={() => setSingleImageUrl(undefined)} />\\n\\t\\t\\t)}\\n\\t\\t\\t{!!imageId && <ImageGalleryData />}\\n\\t\\t</ImageGalleryContext.Provider>\\n\\t);\\n};\\n\\nexport default ImageGalleryProvider;\\n\",null],\"names\":[\"_slicedToArray\",\"React\",\"useEffect\",\"useState\",\"ImageGallery\",\"ImageGalleryContext\",\"ImageGalleryData\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"children\",\"_useState\",\"_useState2\",\"imageId\",\"setImageId\",\"_useState3\",\"_useState4\",\"singleImageUrl\",\"setSingleImageUrl\",\"handleImageClick\",\"event\",\"_target$closest2\",\"target\",\"closest\",\"classList\",\"contains\",\"dataset\",\"id\",\"_target$closest\",\"getAttribute\",\"undefined\",\"document\",\"addEventListener\",\"removeEventListener\",\"createElement\",\"Provider\",\"value\",\"isOpen\",\"onClose\",\"images\",\"_id\",\"url\"],\"mappings\":\"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\"}"}