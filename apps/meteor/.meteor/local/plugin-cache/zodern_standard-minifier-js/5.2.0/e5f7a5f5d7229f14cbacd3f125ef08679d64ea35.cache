{"code":"function module(t,e,n){let i,a,r,o,u,l;n.link(\"@babel/runtime/helpers/objectSpread2\",{default(t){i=t}},0),n.link(\"@rocket.chat/onboarding-ui\",{OrganizationInfoPage(t){a=t}},0),n.link(\"@rocket.chat/ui-contexts\",{useRole(t){r=t}},1),n.link(\"react\",{default(t){o=t}},2),n.link(\"react-i18next\",{useTranslation(t){u=t}},3),n.link(\"../contexts/SetupWizardContext\",{useSetupWizardContext(t){l=t}},4);let s=(t,e,n)=>{if(!t)return[];let i=t.find(t=>{let{_id:n}=t;return n===e});return null!=i&&i.values?i.values.map(t=>{let{i18nLabel:e,key:i}=t;return[String(i),n(e)]}):[]};n.exportDefault(()=>{let{t}=u(),e=r(\"admin\"),{setupWizardData:{organizationData:n},saveOrganizationData:c,setSetupWizardData:d,settings:p,goToPreviousStep:k,goToNextStep:z,completeSetupWizard:S,currentStep:f,skipCloudRegistration:g,maxSteps:x}=l(),m=s(p,\"Country\",t),b=s(p,\"Industry\",t),y=s(p,\"Size\",t),C=async t=>{if(g)return S();d(e=>i(i({},e),{},{organizationData:t})),await c(t),z()};return o.createElement(a,{initialValues:n,onSubmit:C,onBackButtonClick:e?void 0:k,currentStep:f,stepCount:x,organizationIndustryOptions:b,organizationSizeOptions:y,countryOptions:m,nextStep:g?t(\"Register\"):void 0})})}","map":"{\"version\":3,\"sources\":[\"client/views/setupWizard/steps/OrganizationInfoStep.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ISetting } from '@rocket.chat/core-typings';\\nimport { OrganizationInfoPage } from '@rocket.chat/onboarding-ui';\\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\\nimport { useRole } from '@rocket.chat/ui-contexts';\\nimport type { TFunction } from 'i18next';\\nimport type { ComponentProps, ReactElement } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useSetupWizardContext } from '../contexts/SetupWizardContext';\\n\\nconst getSettingOptions = (\\n\\tsettings: Array<ISetting> | undefined,\\n\\tsettingId: ISetting['_id'],\\n\\tt: TFunction,\\n): Array<[key: string, text: string]> => {\\n\\tif (!settings) {\\n\\t\\treturn [];\\n\\t}\\n\\n\\tconst setting = settings.find(({ _id }) => _id === settingId);\\n\\n\\tif (!setting?.values) {\\n\\t\\treturn [];\\n\\t}\\n\\n\\treturn setting.values.map(({ i18nLabel, key }) => [String(key), t(i18nLabel as TranslationKey)]);\\n};\\n\\nconst OrganizationInfoStep = (): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst hasAdminRole = useRole('admin');\\n\\n\\tconst {\\n\\t\\tsetupWizardData: { organizationData },\\n\\t\\tsaveOrganizationData,\\n\\t\\tsetSetupWizardData,\\n\\t\\tsettings,\\n\\t\\tgoToPreviousStep,\\n\\t\\tgoToNextStep,\\n\\t\\tcompleteSetupWizard,\\n\\t\\tcurrentStep,\\n\\t\\tskipCloudRegistration,\\n\\t\\tmaxSteps,\\n\\t} = useSetupWizardContext();\\n\\n\\tconst countryOptions = getSettingOptions(settings, 'Country', t);\\n\\tconst organizationIndustryOptions = getSettingOptions(settings, 'Industry', t);\\n\\tconst organizationSizeOptions = getSettingOptions(settings, 'Size', t);\\n\\n\\tconst handleSubmit: ComponentProps<typeof OrganizationInfoPage>['onSubmit'] = async (data) => {\\n\\t\\tif (skipCloudRegistration) {\\n\\t\\t\\treturn completeSetupWizard();\\n\\t\\t}\\n\\n\\t\\tsetSetupWizardData((prevState) => ({ ...prevState, organizationData: data }));\\n\\n\\t\\tawait saveOrganizationData(data);\\n\\n\\t\\tgoToNextStep();\\n\\t};\\n\\n\\treturn (\\n\\t\\t<OrganizationInfoPage\\n\\t\\t\\tinitialValues={organizationData}\\n\\t\\t\\tonSubmit={handleSubmit}\\n\\t\\t\\tonBackButtonClick={!hasAdminRole ? goToPreviousStep : undefined}\\n\\t\\t\\tcurrentStep={currentStep}\\n\\t\\t\\tstepCount={maxSteps}\\n\\t\\t\\torganizationIndustryOptions={organizationIndustryOptions}\\n\\t\\t\\torganizationSizeOptions={organizationSizeOptions}\\n\\t\\t\\tcountryOptions={countryOptions}\\n\\t\\t\\tnextStep={skipCloudRegistration ? t('Register') : undefined}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default OrganizationInfoStep;\\n\",null],\"names\":[\"_objectSpread\",\"OrganizationInfoPage\",\"useRole\",\"React\",\"useTranslation\",\"useSetupWizardContext\",\"module\",\"link\",\"default\",\"v\",\"getSettingOptions\",\"settings\",\"settingId\",\"t\",\"setting\",\"find\",\"_ref\",\"_id\",\"values\",\"map\",\"_ref2\",\"i18nLabel\",\"key\",\"String\",\"exportDefault\",\"OrganizationInfoStep\",\"hasAdminRole\",\"setupWizardData\",\"organizationData\",\"saveOrganizationData\",\"setSetupWizardData\",\"goToPreviousStep\",\"goToNextStep\",\"completeSetupWizard\",\"currentStep\",\"skipCloudRegistration\",\"maxSteps\",\"countryOptions\",\"organizationIndustryOptions\",\"organizationSizeOptions\",\"handleSubmit\",\"data\",\"prevState\",\"createElement\",\"initialValues\",\"onSubmit\",\"onBackButtonClick\",\"undefined\",\"stepCount\",\"nextStep\"],\"mappings\":\"2BACAA,EAAAC,EAAkEC,EAAAC,EAAAC,EAAAC,EAAzDC,EAAAC,IAAoB,CAAA,uCAAqC,CAAAC,QAAAC,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAzDH,EAAsBC,IAAA,CAAM,6BAA6B,CAAAN,qBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAL,QAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAH,eAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAF,sBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAUlE,IAAMC,EAAoBA,CACzBC,EACAC,EACAC,KAEA,GAAI,CAACF,EACJ,MAAO,EAAE,CAGV,IAAMG,EAAUH,EAASI,IAAI,CAACC,IAAA,GAAC,CAAEC,IAAAA,CAAAA,CAAK,CAAAD,EAAA,OAAKC,IAAQL,CAAS,UAE5D,AAAKE,MAAAA,GAAAA,EAASI,MAAM,CAIbJ,EAAQI,MAAM,CAACC,GAAG,CAACC,IAAA,GAAC,CAAEC,UAAAA,CAAS,CAAEC,IAAAA,CAAAA,CAAK,CAAAF,EAAA,MAAK,CAACG,OAAOD,GAAMT,EAAEQ,GAA6B,GAHvF,EAAE,AAIX,EA1BAf,EAAOkB,aAAE,CA4BoBC,KAC5B,GAAM,CAAEZ,CAAAA,CAAG,CAAGT,IACRsB,EAAexB,EAAQ,SAEvB,CACLyB,gBAAiB,CAAEC,iBAAAA,CAAAA,CAAkB,CACrCC,qBAAAA,CAAoB,CACpBC,mBAAAA,CAAkB,CAClBnB,SAAAA,CAAQ,CACRoB,iBAAAA,CAAgB,CAChBC,aAAAA,CAAY,CACZC,oBAAAA,CAAmB,CACnBC,YAAAA,CAAW,CACXC,sBAAAA,CAAqB,CACrBC,SAAAA,CAAAA,CACA,CAAG/B,IAEEgC,EAAiB3B,EAAkBC,EAAU,UAAWE,GACxDyB,EAA8B5B,EAAkBC,EAAU,WAAYE,GACtE0B,EAA0B7B,EAAkBC,EAAU,OAAQE,GAE9D2B,EAAwE,MAAOC,IACpF,GAAIN,EACH,OAAOF,IAGRH,EAAoBY,GAAS1C,EAAAA,EAAA,CAAA,EAAW0C,GAAS,CAAA,EAAA,CAAEd,iBAAkBa,CAAI,IAEzE,MAAMZ,EAAqBY,GAE3BT,GACD,EAEA,OACC7B,EAAAwC,aAAA,CAAC1C,EAAoB,CACpB2C,cAAehB,EACfiB,SAAUL,EACVM,kBAAmB,AAACpB,EAAkCqB,KAAAA,EAAnBhB,EACnCG,YAAaA,EACbc,UAAWZ,EACXE,4BAA6BA,EAC7BC,wBAAyBA,EACzBF,eAAgBA,EAChBY,SAAUd,EAAwBtB,EAAE,YAAckC,KAAAA,CAAU,EAG/D\"}"}