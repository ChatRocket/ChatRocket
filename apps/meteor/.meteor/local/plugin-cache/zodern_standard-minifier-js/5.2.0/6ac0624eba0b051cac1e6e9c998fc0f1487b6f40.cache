{"code":"function module(e,t,o){let a,s,n,r,c,i,l,m,u;o.link(\"@rocket.chat/fuselage-hooks\",{useEffectEvent(e){a=e}},0),o.link(\"@rocket.chat/ui-contexts\",{useSetting(e){s=e},useMethod(e){n=e},useTranslation(e){r=e},useToastMessageDispatch(e){c=e}},1),o.link(\"react\",{default(e){i=e},memo(e){l=e}},2),o.link(\"../../../../components/Header\",{HeaderState(e){m=e}},3),o.link(\"../../contexts/RoomContext\",{useUserIsSubscribed(e){u=e}},4),o.exportDefault(l(e=>{let{room:{_id:t,f:o=!1,t:l,name:_}}=e,f=r(),d=u(),k=c(),g=s(\"Favorite_Rooms\")&&[\"c\",\"p\",\"d\",\"t\"].includes(l),v=n(\"toggleFavorite\"),h=a(()=>{if(g)try{v(t,!o),k({type:\"success\",message:o?f(\"__roomName__was_removed_from_favorites\",{roomName:_}):f(\"__roomName__was_added_to_favorites\",{roomName:_})})}catch(e){k({type:\"error\",message:e})}}),p=o?\"\".concat(f(\"Unfavorite\"),\" \").concat(_):\"\".concat(f(\"Favorite\"),\" \").concat(_);return d&&g?i.createElement(m,{title:p,icon:o?\"star-filled\":\"star\",onClick:h,color:o?\"status-font-on-warning\":null,tiny:!0}):null}))}","map":"{\"version\":3,\"sources\":[\"client/views/room/Header/icons/Favorite.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom, ISubscription } from '@rocket.chat/core-typings';\\nimport { useEffectEvent } from '@rocket.chat/fuselage-hooks';\\nimport { useSetting, useMethod, useTranslation, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport React, { memo } from 'react';\\n\\nimport { HeaderState } from '../../../../components/Header';\\nimport { useUserIsSubscribed } from '../../contexts/RoomContext';\\n\\nconst Favorite = ({ room: { _id, f: favorite = false, t: type, name } }: { room: IRoom & { f?: ISubscription['f'] } }) => {\\n\\tconst t = useTranslation();\\n\\tconst subscribed = useUserIsSubscribed();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst isFavoritesEnabled = useSetting('Favorite_Rooms') && ['c', 'p', 'd', 't'].includes(type);\\n\\tconst toggleFavorite = useMethod('toggleFavorite');\\n\\n\\tconst handleFavoriteClick = useEffectEvent(() => {\\n\\t\\tif (!isFavoritesEnabled) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\ttry {\\n\\t\\t\\ttoggleFavorite(_id, !favorite);\\n\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\ttype: 'success',\\n\\t\\t\\t\\tmessage: !favorite\\n\\t\\t\\t\\t\\t? t('__roomName__was_added_to_favorites', { roomName: name })\\n\\t\\t\\t\\t\\t: t('__roomName__was_removed_from_favorites', { roomName: name }),\\n\\t\\t\\t});\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t});\\n\\n\\tconst favoriteLabel = favorite ? `${t('Unfavorite')} ${name}` : `${t('Favorite')} ${name}`;\\n\\n\\tif (!subscribed || !isFavoritesEnabled) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<HeaderState\\n\\t\\t\\ttitle={favoriteLabel}\\n\\t\\t\\ticon={favorite ? 'star-filled' : 'star'}\\n\\t\\t\\tonClick={handleFavoriteClick}\\n\\t\\t\\tcolor={favorite ? 'status-font-on-warning' : null}\\n\\t\\t\\ttiny\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default memo(Favorite);\\n\",null],\"names\":[\"useEffectEvent\",\"useSetting\",\"useMethod\",\"useTranslation\",\"useToastMessageDispatch\",\"React\",\"memo\",\"HeaderState\",\"useUserIsSubscribed\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"room\",\"_id\",\"f\",\"favorite\",\"t\",\"type\",\"name\",\"subscribed\",\"dispatchToastMessage\",\"isFavoritesEnabled\",\"includes\",\"toggleFavorite\",\"handleFavoriteClick\",\"message\",\"roomName\",\"error\",\"favoriteLabel\",\"concat\",\"createElement\",\"title\",\"icon\",\"onClick\",\"color\",\"tiny\"],\"mappings\":\"2BACAA,EAA6DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAApDC,EAAgBC,IAAA,CAAM,8BAA8B,CAAAV,eAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAT,WAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,UAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,eAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,wBAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,EAAAL,KAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gCAAA,CAAAH,YAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,6BAAA,CAAAF,oBAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA7DF,EAAOI,aAAE,CAkDMP,EA3CEQ,IAAwG,GAAvG,CAAEC,KAAM,CAAEC,IAAAA,CAAG,CAAEC,EAAGC,EAAW,CAAA,CAAK,CAAEC,EAAGC,CAAI,CAAEC,KAAAA,CAAAA,CAAI,CAAkD,CAAAP,EAC9GK,EAAIhB,IACJmB,EAAad,IACbe,EAAuBnB,IAEvBoB,EAAqBvB,EAAW,mBAAqB,CAAC,IAAK,IAAK,IAAK,IAAI,CAACwB,QAAQ,CAACL,GACnFM,EAAiBxB,EAAU,kBAE3ByB,EAAsB3B,EAAe,KAC1C,GAAKwB,EAIL,GAAI,CACHE,EAAeV,EAAK,CAACE,GACrBK,EAAqB,CACpBH,KAAM,UACNQ,QAAS,AAACV,EAEPC,EAAE,yCAA0C,CAAEU,SAAUR,CAAI,GAD5DF,EAAE,qCAAsC,CAAEU,SAAUR,CAAI,IAG7D,CAAE,MAAOS,EAAO,CACfP,EAAqB,CAAEH,KAAM,QAASQ,QAASE,CAAK,EACrD,CACD,GAEMC,EAAgBb,EAAQ,GAAAc,MAAA,CAAMb,EAAE,cAAa,KAAAa,MAAA,CAAIX,GAAI,GAAAW,MAAA,CAAQb,EAAE,YAAW,KAAAa,MAAA,CAAIX,UAEpF,AAAI,AAACC,GAAeE,EAKnBnB,EAAA4B,aAAA,CAAC1B,EAAW,CACX2B,MAAOH,EACPI,KAAMjB,EAAW,cAAgB,OACjCkB,QAAST,EACTU,MAAOnB,EAAW,yBAA2B,KAC7CoB,KAAI,CAAA,CAAA,GATE,IAYT\"}"}