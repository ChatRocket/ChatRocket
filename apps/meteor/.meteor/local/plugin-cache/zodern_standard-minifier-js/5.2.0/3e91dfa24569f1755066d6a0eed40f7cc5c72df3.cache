{"code":"function module(e,o,t){let i,a,s,l,c,n,m,u,r;t.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){i=e}},0),t.export({deleteEmojiCustom:()=>j,updateEmojiCustom:()=>d}),t.link(\"@rocket.chat/string-helpers\",{escapeRegExp(e){a=e}},0),t.link(\"meteor/meteor\",{Meteor(e){s=e}},1),t.link(\"meteor/session\",{Session(e){l=e}},2),t.link(\"../../../emoji/client\",{emoji(e){c=e},updateRecent(e){n=e}},3),t.link(\"../../../ui-cached-collection/client\",{CachedCollectionManager(e){m=e}},4),t.link(\"../../../utils/client\",{getURL(e){u=e}},5),t.link(\"../../../utils/client/lib/SDKClient\",{sdk(e){r=e}},6);let p=e=>{let o;try{o=e()}catch(e){o=null}return null!=o},g=(e,o)=>{var t;if(null==e)return;let i=null!==(t=l.keys[\"emoji_random_\".concat(e)])&&void 0!==t?t:0;return u(\"/emoji-custom/\".concat(encodeURIComponent(e),\".\").concat(o,\"?_dc=\").concat(i))},j=e=>{var o,t,i,a,s,l;delete c.list[\":\".concat(e.name,\":\")];let m=c.packages.emojiCustom.emojisByCategory.rocket.indexOf(e.name);-1!==m&&c.packages.emojiCustom.emojisByCategory.rocket.splice(m,1);let u=null!==(o=null===(t=c.packages.emojiCustom.list)||void 0===t?void 0:t.indexOf(\":\".concat(e.name,\":\")))&&void 0!==o?o:-1;if(-1!==u&&(null===(i=c.packages.emojiCustom.list)||void 0===i||i.splice(u,1)),e.aliases)for(let o of e.aliases){delete c.list[\":\".concat(o,\":\")];let e=null!==(a=null===(s=c.packages.emojiCustom.list)||void 0===s?void 0:s.indexOf(\":\".concat(o,\":\")))&&void 0!==a?a:-1;-1!==e&&(null===(l=c.packages.emojiCustom.list)||void 0===l||l.splice(e,1))}n([\"rocket\"])},d=e=>{var o,t,i,a,s,l,m,u,r;let g=p(()=>e.previousName),j=p(()=>e.aliases);if(g&&p(()=>c.list[\":\".concat(e.previousName,\":\")].aliases))for(let s of null!==(o=c.list[\":\".concat(e.previousName,\":\")].aliases)&&void 0!==o?o:[]){delete c.list[\":\".concat(s,\":\")];let e=null!==(t=null===(i=c.packages.emojiCustom.list)||void 0===i?void 0:i.indexOf(\":\".concat(s,\":\")))&&void 0!==t?t:-1;-1!==e&&(null===(a=c.packages.emojiCustom.list)||void 0===a||a.splice(e,1))}if(g&&e.name!==e.previousName){let o=c.packages.emojiCustom.emojisByCategory.rocket.indexOf(e.previousName);-1!==o&&c.packages.emojiCustom.emojisByCategory.rocket.splice(o,1);let t=null!==(s=null===(l=c.packages.emojiCustom.list)||void 0===l?void 0:l.indexOf(\":\".concat(e.previousName,\":\")))&&void 0!==s?s:-1;-1!==t&&(null===(m=c.packages.emojiCustom.list)||void 0===m||m.splice(t,1)),delete c.list[\":\".concat(e.previousName,\":\")]}let d=c.packages.emojiCustom.emojisByCategory.rocket.indexOf(\"\".concat(e.name));if(-1===d&&(c.packages.emojiCustom.emojisByCategory.rocket.push(\"\".concat(e.name)),null===(u=c.packages.emojiCustom.list)||void 0===u||u.push(\":\".concat(e.name,\":\"))),c.list[\":\".concat(e.name,\":\")]=Object.assign({emojiPackage:\"emojiCustom\"},c.list[\":\".concat(e.name,\":\")],e),j)for(let o of e.aliases)null===(r=c.packages.emojiCustom.list)||void 0===r||r.push(\":\".concat(o,\":\")),c.list[\":\".concat(o,\":\")]={emojiPackage:\"emojiCustom\",aliasOf:e.name};n([\"rocket\"])},k=e=>{var o;let t=null===(o=c.packages.emojiCustom.list)||void 0===o?void 0:o.map(a).join(\"|\");return t!==c.packages.emojiCustom._regexpSignature&&(c.packages.emojiCustom._regexpSignature=t,c.packages.emojiCustom._regexp=RegExp(\"<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(\".concat(t,\")\"),\"gi\")),e=e.replace(c.packages.emojiCustom._regexp,e=>{var o,t;if(void 0===e||\"\"===e||(null!==(o=null===(t=c.packages.emojiCustom.list)||void 0===t?void 0:t.indexOf(e))&&void 0!==o?o:-1)===-1)return e;let i=e.replace(/:/g,\"\"),a=c.list[e];return a.aliasOf&&(i=a.aliasOf,a=c.list[\":\".concat(i,\":\")]),'<span class=\"emoji\" style=\"background-image:url('.concat(g(i,a.extension),');\" data-emoji=\"').concat(i,'\" title=\"').concat(e,'\">').concat(e,\"</span>\")})};c.packages.emojiCustom={emojiCategories:[{key:\"rocket\",i18n:\"Custom\"}],categoryIndex:1,toneList:{},list:[],_regexpSignature:null,_regexp:null,emojisByCategory:{},render:k,renderPicker:k},s.startup(()=>m.onLogin(async()=>{try{let{emojis:{update:t}}=await r.rest.get(\"/v1/emoji-custom.list\",{query:\"\"});for(let a of(c.packages.emojiCustom.emojisByCategory={rocket:[]},t)){var e,o;for(let t of(c.packages.emojiCustom.emojisByCategory.rocket.push(a.name),null===(e=c.packages.emojiCustom.list)||void 0===e||e.push(\":\".concat(a.name,\":\")),c.list[\":\".concat(a.name,\":\")]=i(i({},a),{},{emojiPackage:\"emojiCustom\"}),a.aliases))null===(o=c.packages.emojiCustom.list)||void 0===o||o.push(\":\".concat(t,\":\")),c.list[\":\".concat(t,\":\")]={emojiPackage:\"emojiCustom\",aliasOf:a.name}}}catch(e){console.error(\"Error getting custom emoji\",e)}}))}","map":"{\"version\":3,\"sources\":[\"app/emoji-custom/client/lib/emojiCustom.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IEmoji } from '@rocket.chat/core-typings';\\nimport { escapeRegExp } from '@rocket.chat/string-helpers';\\nimport { Meteor } from 'meteor/meteor';\\nimport { Session } from 'meteor/session';\\n\\nimport { emoji, updateRecent } from '../../../emoji/client';\\nimport { CachedCollectionManager } from '../../../ui-cached-collection/client';\\nimport { getURL } from '../../../utils/client';\\nimport { sdk } from '../../../utils/client/lib/SDKClient';\\n\\nconst isSetNotNull = (fn: () => unknown) => {\\n\\tlet value;\\n\\ttry {\\n\\t\\tvalue = fn();\\n\\t} catch (e) {\\n\\t\\tvalue = null;\\n\\t}\\n\\treturn value !== null && value !== undefined;\\n};\\n\\nconst getEmojiUrlFromName = (name: string, extension: string) => {\\n\\tif (name == null) {\\n\\t\\treturn;\\n\\t}\\n\\n\\tconst key = `emoji_random_${name}` as const;\\n\\n\\tconst random = (Session as unknown as { keys: Record<string, any> }).keys[key] ?? 0;\\n\\n\\treturn getURL(`/emoji-custom/${encodeURIComponent(name)}.${extension}?_dc=${random}`);\\n};\\n\\nexport const deleteEmojiCustom = (emojiData: IEmoji) => {\\n\\tdelete emoji.list[`:${emojiData.name}:`];\\n\\tconst arrayIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(emojiData.name);\\n\\tif (arrayIndex !== -1) {\\n\\t\\temoji.packages.emojiCustom.emojisByCategory.rocket.splice(arrayIndex, 1);\\n\\t}\\n\\tconst arrayIndexList = emoji.packages.emojiCustom.list?.indexOf(`:${emojiData.name}:`) ?? -1;\\n\\tif (arrayIndexList !== -1) {\\n\\t\\temoji.packages.emojiCustom.list?.splice(arrayIndexList, 1);\\n\\t}\\n\\tif (emojiData.aliases) {\\n\\t\\tfor (const alias of emojiData.aliases) {\\n\\t\\t\\tdelete emoji.list[`:${alias}:`];\\n\\t\\t\\tconst aliasIndex = emoji.packages.emojiCustom.list?.indexOf(`:${alias}:`) ?? -1;\\n\\t\\t\\tif (aliasIndex !== -1) {\\n\\t\\t\\t\\temoji.packages.emojiCustom.list?.splice(aliasIndex, 1);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\tupdateRecent(['rocket']);\\n};\\n\\nexport const updateEmojiCustom = (emojiData: IEmoji) => {\\n\\tconst previousExists = isSetNotNull(() => emojiData.previousName);\\n\\tconst currentAliases = isSetNotNull(() => emojiData.aliases);\\n\\n\\tif (previousExists && isSetNotNull(() => emoji.list[`:${emojiData.previousName}:`].aliases)) {\\n\\t\\tfor (const alias of emoji.list[`:${emojiData.previousName}:`].aliases ?? []) {\\n\\t\\t\\tdelete emoji.list[`:${alias}:`];\\n\\t\\t\\tconst aliasIndex = emoji.packages.emojiCustom.list?.indexOf(`:${alias}:`) ?? -1;\\n\\t\\t\\tif (aliasIndex !== -1) {\\n\\t\\t\\t\\temoji.packages.emojiCustom.list?.splice(aliasIndex, 1);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\tif (previousExists && emojiData.name !== emojiData.previousName) {\\n\\t\\tconst arrayIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(emojiData.previousName);\\n\\t\\tif (arrayIndex !== -1) {\\n\\t\\t\\temoji.packages.emojiCustom.emojisByCategory.rocket.splice(arrayIndex, 1);\\n\\t\\t}\\n\\t\\tconst arrayIndexList = emoji.packages.emojiCustom.list?.indexOf(`:${emojiData.previousName}:`) ?? -1;\\n\\t\\tif (arrayIndexList !== -1) {\\n\\t\\t\\temoji.packages.emojiCustom.list?.splice(arrayIndexList, 1);\\n\\t\\t}\\n\\t\\tdelete emoji.list[`:${emojiData.previousName}:`];\\n\\t}\\n\\n\\tconst categoryIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(`${emojiData.name}`);\\n\\tif (categoryIndex === -1) {\\n\\t\\temoji.packages.emojiCustom.emojisByCategory.rocket.push(`${emojiData.name}`);\\n\\t\\temoji.packages.emojiCustom.list?.push(`:${emojiData.name}:`);\\n\\t}\\n\\temoji.list[`:${emojiData.name}:`] = Object.assign({ emojiPackage: 'emojiCustom' }, emoji.list[`:${emojiData.name}:`], emojiData);\\n\\tif (currentAliases) {\\n\\t\\tfor (const alias of emojiData.aliases) {\\n\\t\\t\\temoji.packages.emojiCustom.list?.push(`:${alias}:`);\\n\\t\\t\\temoji.list[`:${alias}:`] = {\\n\\t\\t\\t\\temojiPackage: 'emojiCustom',\\n\\t\\t\\t\\taliasOf: emojiData.name,\\n\\t\\t\\t};\\n\\t\\t}\\n\\t}\\n\\n\\tupdateRecent(['rocket']);\\n};\\n\\nconst customRender = (html: string) => {\\n\\tconst emojisMatchGroup = emoji.packages.emojiCustom.list?.map(escapeRegExp).join('|');\\n\\tif (emojisMatchGroup !== emoji.packages.emojiCustom._regexpSignature) {\\n\\t\\temoji.packages.emojiCustom._regexpSignature = emojisMatchGroup;\\n\\t\\temoji.packages.emojiCustom._regexp = new RegExp(\\n\\t\\t\\t`<object[^>]*>.*?<\\\\/object>|<span[^>]*>.*?<\\\\/span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(${emojisMatchGroup})`,\\n\\t\\t\\t'gi',\\n\\t\\t);\\n\\t}\\n\\n\\thtml = html.replace(emoji.packages.emojiCustom._regexp!, (shortname) => {\\n\\t\\tif (typeof shortname === 'undefined' || shortname === '' || (emoji.packages.emojiCustom.list?.indexOf(shortname) ?? -1) === -1) {\\n\\t\\t\\treturn shortname;\\n\\t\\t}\\n\\n\\t\\tlet emojiAlias = shortname.replace(/:/g, '');\\n\\n\\t\\tlet dataCheck = emoji.list[shortname];\\n\\t\\tif (dataCheck.aliasOf) {\\n\\t\\t\\temojiAlias = dataCheck.aliasOf;\\n\\t\\t\\tdataCheck = emoji.list[`:${emojiAlias}:`];\\n\\t\\t}\\n\\n\\t\\treturn `<span class=\\\"emoji\\\" style=\\\"background-image:url(${getEmojiUrlFromName(\\n\\t\\t\\temojiAlias,\\n\\t\\t\\tdataCheck.extension!,\\n\\t\\t)});\\\" data-emoji=\\\"${emojiAlias}\\\" title=\\\"${shortname}\\\">${shortname}</span>`;\\n\\t});\\n\\n\\treturn html;\\n};\\n\\nemoji.packages.emojiCustom = {\\n\\temojiCategories: [{ key: 'rocket', i18n: 'Custom' }],\\n\\tcategoryIndex: 1,\\n\\ttoneList: {},\\n\\tlist: [],\\n\\t_regexpSignature: null,\\n\\t_regexp: null,\\n\\temojisByCategory: {},\\n\\trender: customRender,\\n\\trenderPicker: customRender,\\n};\\n\\nMeteor.startup(() =>\\n\\tCachedCollectionManager.onLogin(async () => {\\n\\t\\ttry {\\n\\t\\t\\tconst {\\n\\t\\t\\t\\temojis: { update: emojis },\\n\\t\\t\\t} = await sdk.rest.get('/v1/emoji-custom.list', { query: '' });\\n\\n\\t\\t\\temoji.packages.emojiCustom.emojisByCategory = { rocket: [] };\\n\\t\\t\\tfor (const currentEmoji of emojis) {\\n\\t\\t\\t\\temoji.packages.emojiCustom.emojisByCategory.rocket.push(currentEmoji.name);\\n\\t\\t\\t\\temoji.packages.emojiCustom.list?.push(`:${currentEmoji.name}:`);\\n\\t\\t\\t\\temoji.list[`:${currentEmoji.name}:`] = { ...currentEmoji, emojiPackage: 'emojiCustom' } as any;\\n\\t\\t\\t\\tfor (const alias of currentEmoji.aliases) {\\n\\t\\t\\t\\t\\temoji.packages.emojiCustom.list?.push(`:${alias}:`);\\n\\t\\t\\t\\t\\temoji.list[`:${alias}:`] = {\\n\\t\\t\\t\\t\\t\\temojiPackage: 'emojiCustom',\\n\\t\\t\\t\\t\\t\\taliasOf: currentEmoji.name,\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t} catch (e) {\\n\\t\\t\\tconsole.error('Error getting custom emoji', e);\\n\\t\\t}\\n\\t}),\\n);\\n\",null],\"names\":[\"_objectSpread\",\"escapeRegExp\",\"Meteor\",\"Session\",\"emoji\",\"updateRecent\",\"CachedCollectionManager\",\"getURL\",\"sdk\",\"module\",\"link\",\"default\",\"v\",\"export\",\"deleteEmojiCustom\",\"updateEmojiCustom\",\"isSetNotNull\",\"fn\",\"value\",\"e\",\"getEmojiUrlFromName\",\"name\",\"extension\",\"_Session$keys$key\",\"random\",\"keys\",\"concat\",\"encodeURIComponent\",\"emojiData\",\"_emoji$packages$emoji\",\"_emoji$packages$emoji2\",\"_emoji$packages$emoji3\",\"_emoji$packages$emoji4\",\"_emoji$packages$emoji5\",\"_emoji$packages$emoji6\",\"list\",\"arrayIndex\",\"packages\",\"emojiCustom\",\"emojisByCategory\",\"rocket\",\"indexOf\",\"splice\",\"arrayIndexList\",\"aliases\",\"alias\",\"aliasIndex\",\"_emoji$list$aliases\",\"_emoji$packages$emoji7\",\"_emoji$packages$emoji8\",\"_emoji$packages$emoji9\",\"_emoji$packages$emoji10\",\"_emoji$packages$emoji11\",\"_emoji$packages$emoji12\",\"_emoji$packages$emoji13\",\"_emoji$packages$emoji14\",\"previousExists\",\"previousName\",\"currentAliases\",\"categoryIndex\",\"push\",\"Object\",\"assign\",\"emojiPackage\",\"aliasOf\",\"customRender\",\"html\",\"_emoji$packages$emoji15\",\"emojisMatchGroup\",\"map\",\"join\",\"_regexpSignature\",\"_regexp\",\"RegExp\",\"replace\",\"shortname\",\"_emoji$packages$emoji16\",\"_emoji$packages$emoji17\",\"emojiAlias\",\"dataCheck\",\"emojiCategories\",\"key\",\"i18n\",\"toneList\",\"render\",\"renderPicker\",\"startup\",\"onLogin\",\"emojis\",\"update\",\"rest\",\"get\",\"query\",\"currentEmoji\",\"_emoji$packages$emoji18\",\"_emoji$packages$emoji19\",\"console\",\"error\"],\"mappings\":\"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\"}"}