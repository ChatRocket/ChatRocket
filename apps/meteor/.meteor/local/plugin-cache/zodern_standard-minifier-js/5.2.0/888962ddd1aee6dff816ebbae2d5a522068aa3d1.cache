{"code":"function module(e,t,n){var l,o,i,a,c,r,u,s,f,m,d,g,k,E,M,h,T;n.link(\"@rocket.chat/fuselage\",{MessageMetricsItem:function(e){l=e},MessageBlock:function(e){o=e},MessageMetrics:function(e){i=e},MessageMetricsReply:function(e){a=e},MessageMetricsFollowing:function(e){c=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){r=e}},1),n.link(\"react\",{default:function(e){u=e},useCallback:function(e){s=e}},2),n.link(\"react-i18next\",{useTranslation:function(e){f=e}},3),n.link(\"../../../hooks/useTimeAgo\",{useTimeAgo:function(e){m=e}},4),n.link(\"../../../views/room/contextualBar/Threads/hooks/useToggleFollowingThreadMutation\",{useToggleFollowingThreadMutation:function(e){d=e}},5),n.link(\"../../../views/room/hooks/useGoToThread\",{useGoToThread:function(e){g=e}},6),n.link(\"../helpers/followSyle\",{followStyle:function(e){k=e},anchor:function(e){E=e}},7),n.link(\"../notification/AllMentionNotification\",{default:function(e){M=e}},8),n.link(\"../notification/MeMentionNotification\",{default:function(e){h=e}},9),n.link(\"../notification/UnreadMessagesNotification\",{default:function(e){T=e}},10),n.exportDefault(function(e){var t=e.unread,n=e.mention,w=e.all,p=e.rid,b=e.mid,v=e.counter,N=e.participants,y=e.following,L=e.lm,x=f().t,F=m(),I=g(),A=r(),C=d({onError:function(e){A({type:\"error\",message:e})}}),R=s(function(){C.mutate({rid:p,tmid:b,follow:!y})},[y,p,b,C]);return u.createElement(o,{className:k},u.createElement(i,null,u.createElement(a,{\"data-rid\":p,\"data-mid\":b,onClick:function(){return I({rid:p,tmid:b})}},x(\"Reply\")),u.createElement(l,{title:x(\"Replies\")},u.createElement(l.Icon,{name:\"thread\"}),u.createElement(l.Label,null,v)),!!N&&u.createElement(l,{title:x(\"Participants\")},u.createElement(l.Icon,{name:\"user\"}),u.createElement(l.Label,null,N)),u.createElement(l,{title:null==L?void 0:L.toLocaleString()},u.createElement(l.Icon,{name:\"clock\"}),u.createElement(l.Label,null,F(L))),u.createElement(l,{className:y?void 0:E,\"data-rid\":p},u.createElement(c,{title:x(y?\"Following\":\"Not_following\"),name:y?\"bell\":\"bell-off\",onClick:R})),(n||w||t)&&u.createElement(l,null,u.createElement(l.Label,null,n&&u.createElement(h,null)||w&&u.createElement(M,null)||t&&u.createElement(T,null)))))})}","map":"{\"version\":3,\"sources\":[\"client/components/message/content/ThreadMetrics.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { MessageMetricsItem, MessageBlock, MessageMetrics, MessageMetricsReply, MessageMetricsFollowing } from '@rocket.chat/fuselage';\\nimport { useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useTimeAgo } from '../../../hooks/useTimeAgo';\\nimport { useToggleFollowingThreadMutation } from '../../../views/room/contextualBar/Threads/hooks/useToggleFollowingThreadMutation';\\nimport { useGoToThread } from '../../../views/room/hooks/useGoToThread';\\nimport { followStyle, anchor } from '../helpers/followSyle';\\nimport AllMentionNotification from '../notification/AllMentionNotification';\\nimport MeMentionNotification from '../notification/MeMentionNotification';\\nimport UnreadMessagesNotification from '../notification/UnreadMessagesNotification';\\n\\ntype ThreadMetricsProps = {\\n\\tunread: boolean;\\n\\tmention: boolean;\\n\\tall: boolean;\\n\\tlm: Date;\\n\\tmid: string;\\n\\trid: string;\\n\\tcounter: number;\\n\\tparticipants: number;\\n\\tfollowing: boolean;\\n};\\n\\nconst ThreadMetrics = ({ unread, mention, all, rid, mid, counter, participants, following, lm }: ThreadMetricsProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst format = useTimeAgo();\\n\\n\\tconst goToThread = useGoToThread();\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst toggleFollowingThreadMutation = useToggleFollowingThreadMutation({\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t});\\n\\n\\tconst handleFollow = useCallback(() => {\\n\\t\\ttoggleFollowingThreadMutation.mutate({ rid, tmid: mid, follow: !following });\\n\\t}, [following, rid, mid, toggleFollowingThreadMutation]);\\n\\n\\treturn (\\n\\t\\t<MessageBlock className={followStyle}>\\n\\t\\t\\t<MessageMetrics>\\n\\t\\t\\t\\t<MessageMetricsReply data-rid={rid} data-mid={mid} onClick={() => goToThread({ rid, tmid: mid })}>\\n\\t\\t\\t\\t\\t{t('Reply')}\\n\\t\\t\\t\\t</MessageMetricsReply>\\n\\t\\t\\t\\t<MessageMetricsItem title={t('Replies')}>\\n\\t\\t\\t\\t\\t<MessageMetricsItem.Icon name='thread' />\\n\\t\\t\\t\\t\\t<MessageMetricsItem.Label>{counter}</MessageMetricsItem.Label>\\n\\t\\t\\t\\t</MessageMetricsItem>\\n\\t\\t\\t\\t{!!participants && (\\n\\t\\t\\t\\t\\t<MessageMetricsItem title={t('Participants')}>\\n\\t\\t\\t\\t\\t\\t<MessageMetricsItem.Icon name='user' />\\n\\t\\t\\t\\t\\t\\t<MessageMetricsItem.Label>{participants}</MessageMetricsItem.Label>\\n\\t\\t\\t\\t\\t</MessageMetricsItem>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t<MessageMetricsItem title={lm?.toLocaleString()}>\\n\\t\\t\\t\\t\\t<MessageMetricsItem.Icon name='clock' />\\n\\t\\t\\t\\t\\t<MessageMetricsItem.Label>{format(lm)}</MessageMetricsItem.Label>\\n\\t\\t\\t\\t</MessageMetricsItem>\\n\\t\\t\\t\\t<MessageMetricsItem className={!following ? anchor : undefined} data-rid={rid}>\\n\\t\\t\\t\\t\\t<MessageMetricsFollowing\\n\\t\\t\\t\\t\\t\\ttitle={following ? t('Following') : t('Not_following')}\\n\\t\\t\\t\\t\\t\\tname={following ? 'bell' : 'bell-off'}\\n\\t\\t\\t\\t\\t\\tonClick={handleFollow}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</MessageMetricsItem>\\n\\t\\t\\t\\t{(mention || all || unread) && (\\n\\t\\t\\t\\t\\t<MessageMetricsItem>\\n\\t\\t\\t\\t\\t\\t<MessageMetricsItem.Label>\\n\\t\\t\\t\\t\\t\\t\\t{(mention && <MeMentionNotification />) || (all && <AllMentionNotification />) || (unread && <UnreadMessagesNotification />)}\\n\\t\\t\\t\\t\\t\\t</MessageMetricsItem.Label>\\n\\t\\t\\t\\t\\t</MessageMetricsItem>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</MessageMetrics>\\n\\t\\t</MessageBlock>\\n\\t);\\n};\\n\\nexport default ThreadMetrics;\\n\",null],\"names\":[\"MessageMetricsItem\",\"MessageBlock\",\"MessageMetrics\",\"MessageMetricsReply\",\"MessageMetricsFollowing\",\"useToastMessageDispatch\",\"React\",\"useCallback\",\"useTranslation\",\"useTimeAgo\",\"useToggleFollowingThreadMutation\",\"useGoToThread\",\"followStyle\",\"anchor\",\"AllMentionNotification\",\"MeMentionNotification\",\"UnreadMessagesNotification\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"unread\",\"mention\",\"all\",\"rid\",\"mid\",\"counter\",\"participants\",\"following\",\"lm\",\"t\",\"_useTranslation\",\"format\",\"goToThread\",\"dispatchToastMessage\",\"toggleFollowingThreadMutation\",\"onError\",\"error\",\"type\",\"message\",\"handleFollow\",\"mutate\",\"tmid\",\"follow\",\"createElement\",\"className\",\"onClick\",\"title\",\"Icon\",\"name\",\"Label\",\"toLocaleString\",\"undefined\"],\"mappings\":\"uBA0BA,IA1BAA,EAASC,EAAoBC,EAAcC,EAAgBC,EAA4EC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAAC,IAAyB,CAAA,wBAAM,CAAAlB,mBAAwB,SAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,EAAAlB,aAAA,SAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,EAAAjB,eAAA,SAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,EAAAhB,oBAAA,SAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,EAAAf,wBAAA,SAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAb,wBAAA,SAAAc,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,YAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAV,eAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,4BAAA,CAAAT,WAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mFAAA,CAAAR,iCAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0CAAA,CAAAP,cAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAN,YAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,OAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,6CAAA,CAAA,QAAA,SAAAC,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,IAAvIF,EAAOG,aAAE,CA0Ba,SAAAC,CAAA,EAA+G,IAA5GC,EAAMD,EAANC,MAAM,CAAEC,EAAOF,EAAPE,OAAO,CAAEC,EAAGH,EAAHG,GAAG,CAAEC,EAAGJ,EAAHI,GAAG,CAAEC,EAAGL,EAAHK,GAAG,CAAEC,EAAON,EAAPM,OAAO,CAAEC,EAAYP,EAAZO,YAAY,CAAEC,EAASR,EAATQ,SAAS,CAAEC,EAAET,EAAFS,EAAE,CACpFC,EAACC,AAAKxB,IAANuB,CAAC,CAEHE,EAASxB,IAETyB,EAAavB,IAEbwB,EAAuB9B,IACvB+B,EAAgC1B,EAAiC,CACtE2B,QAAS,SAACC,CAAK,EACdH,EAAqB,CAAEI,KAAM,QAASC,QAASF,CAAK,EACrD,IAGKG,EAAelC,EAAY,WAChC6B,EAA8BM,MAAM,CAAC,CAAEjB,IAAAA,EAAKkB,KAAMjB,EAAKkB,OAAQ,CAACf,CAAS,EAC1E,EAAG,CAACA,EAAWJ,EAAKC,EAAKU,EAA8B,EAEvD,OACC9B,EAAAuC,aAAA,CAAC5C,EAAY,CAAC6C,UAAWlC,CAAY,EACpCN,EAAAuC,aAAA,CAAC3C,EAAc,KACdI,EAAAuC,aAAA,CAAC1C,EAAmB,CAAC,WAAUsB,EAAK,WAAUC,EAAKqB,QAAS,WAAA,OAAMb,EAAW,CAAET,IAAAA,EAAKkB,KAAMjB,CAAG,EAAG,CAAC,EAC/FK,EAAE,UAEJzB,EAAAuC,aAAA,CAAC7C,EAAkB,CAACgD,MAAOjB,EAAE,UAAW,EACvCzB,EAAAuC,aAAA,CAAC7C,EAAmBiD,IAAI,CAAA,CAACC,KAAK,QAAQ,GACtC5C,EAAAuC,aAAA,CAAC7C,EAAmBmD,KAAK,CAAA,KAAExB,IAE3B,CAAC,CAACC,GACFtB,EAAAuC,aAAA,CAAC7C,EAAkB,CAACgD,MAAOjB,EAAE,eAAgB,EAC5CzB,EAAAuC,aAAA,CAAC7C,EAAmBiD,IAAI,CAAA,CAACC,KAAK,MAAM,GACpC5C,EAAAuC,aAAA,CAAC7C,EAAmBmD,KAAK,CAAA,KAAEvB,IAG7BtB,EAAAuC,aAAA,CAAC7C,EAAkB,CAACgD,MAAOlB,MAAAA,EAAE,KAAA,EAAFA,EAAIsB,cAAc,EAAG,EAC/C9C,EAAAuC,aAAA,CAAC7C,EAAmBiD,IAAI,CAAA,CAACC,KAAK,OAAO,GACrC5C,EAAAuC,aAAA,CAAC7C,EAAmBmD,KAAK,CAAA,KAAElB,EAAOH,KAEnCxB,EAAAuC,aAAA,CAAC7C,EAAkB,CAAC8C,UAAW,AAACjB,EAAqBwB,KAAAA,EAATxC,EAAoB,WAAUY,CAAI,EAC7EnB,EAAAuC,aAAA,CAACzC,EAAuB,CACvB4C,KAAK,CAAcjB,EAAE,AAAdF,EAAc,YAAiB,iBACtCqB,KAAMrB,EAAY,OAAS,WAC3BkB,QAASN,CAAa,IAGvB,AAAClB,CAAAA,GAAWC,GAAOF,CAAAA,GACnBhB,EAAAuC,aAAA,CAAC7C,EAAkB,KAClBM,EAAAuC,aAAA,CAAC7C,EAAmBmD,KAAK,CAAA,KACtB5B,GAAWjB,EAAAuC,aAAA,CAAC9B,EAAqB,OAASS,GAAOlB,EAAAuC,aAAA,CAAC/B,EAAsB,OAASQ,GAAUhB,EAAAuC,aAAA,CAAC7B,EAA0B,SAO/H\"}"}