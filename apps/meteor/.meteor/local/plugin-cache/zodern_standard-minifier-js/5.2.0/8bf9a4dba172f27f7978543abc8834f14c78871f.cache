{"code":"function module(n,o,e){var i,t,u,l,c,f,r,a,s,d,C,m,p,g;e.link(\"@babel/runtime/regenerator\",{default:function(n){i=n}},0),e.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(n){t=n}},1),e.link(\"@rocket.chat/ui-contexts\",{useUserRoom:function(n){u=n}},0),e.link(\"react\",{default:function(n){l=n},useState:function(n){c=n}},1),e.link(\"../../../../../../contexts/VideoConfContext\",{useVideoConfAcceptCall:function(n){f=n},useVideoConfAbortCall:function(n){r=n},useVideoConfRejectIncomingCall:function(n){a=n},useVideoConfDismissCall:function(n){s=n},useVideoConfStartCall:function(n){d=n},useVideoConfDismissOutgoing:function(n){C=n}},2),e.link(\"./IncomingPopup\",{default:function(n){m=n}},3),e.link(\"./OutgoingPopup\",{default:function(n){p=n}},4),e.link(\"./StartCallPopup\",{default:function(n){g=n}},5),e.exportDefault(function(n){var o=n.id,e=n.rid,k=n.isReceiving,v=void 0!==k&&k,V=n.isCalling,b=n.position,x=c(!1),P=t(x,2),h=P[0],A=P[1],D=f(),E=r(),R=a(),S=s(),y=d(),I=C(),O=u(e);if(!O)return null;var j=function(n){if(v){R(n);return}E()};return v?l.createElement(m,{room:O,id:o,position:b,onClose:j,onMute:function(){S(o)},onConfirm:function(){D(o)}}):void 0!==V&&V?l.createElement(p,{room:O,id:o,onClose:j}):l.createElement(g,{loading:h,room:O,id:o,onClose:I,onConfirm:function(){return i.async(function(n){for(;;)switch(n.prev=n.next){case 0:A(!0),y(e);case 2:case\"end\":return n.stop()}},null,null,null,Promise)}})})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport { useUserRoom } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useState } from 'react';\\n\\nimport {\\n\\tuseVideoConfAcceptCall,\\n\\tuseVideoConfAbortCall,\\n\\tuseVideoConfRejectIncomingCall,\\n\\tuseVideoConfDismissCall,\\n\\tuseVideoConfStartCall,\\n\\tuseVideoConfDismissOutgoing,\\n} from '../../../../../../contexts/VideoConfContext';\\nimport IncomingPopup from './IncomingPopup';\\nimport OutgoingPopup from './OutgoingPopup';\\nimport StartCallPopup from './StartCallPopup';\\n\\ntype TimedVideoConfPopupProps = {\\n\\tid: string;\\n\\trid: IRoom['_id'];\\n\\tisReceiving?: boolean;\\n\\tisCalling?: boolean;\\n\\tposition: number;\\n\\tonClose?: (id: string) => void;\\n};\\n\\nconst TimedVideoConfPopup = ({\\n\\tid,\\n\\trid,\\n\\tisReceiving = false,\\n\\tisCalling = false,\\n\\tposition,\\n}: TimedVideoConfPopupProps): ReactElement | null => {\\n\\tconst [starting, setStarting] = useState(false);\\n\\tconst acceptCall = useVideoConfAcceptCall();\\n\\tconst abortCall = useVideoConfAbortCall();\\n\\tconst rejectCall = useVideoConfRejectIncomingCall();\\n\\tconst dismissCall = useVideoConfDismissCall();\\n\\tconst startCall = useVideoConfStartCall();\\n\\tconst dismissOutgoing = useVideoConfDismissOutgoing();\\n\\tconst room = useUserRoom(rid);\\n\\n\\tif (!room) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\tconst handleConfirm = (): void => {\\n\\t\\tacceptCall(id);\\n\\t};\\n\\n\\tconst handleClose = (id: string): void => {\\n\\t\\tif (isReceiving) {\\n\\t\\t\\trejectCall(id);\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tabortCall();\\n\\t};\\n\\n\\tconst handleMute = (): void => {\\n\\t\\tdismissCall(id);\\n\\t};\\n\\n\\tconst handleStartCall = async (): Promise<void> => {\\n\\t\\tsetStarting(true);\\n\\t\\tstartCall(rid);\\n\\t};\\n\\n\\tif (isReceiving) {\\n\\t\\treturn <IncomingPopup room={room} id={id} position={position} onClose={handleClose} onMute={handleMute} onConfirm={handleConfirm} />;\\n\\t}\\n\\n\\tif (isCalling) {\\n\\t\\treturn <OutgoingPopup room={room} id={id} onClose={handleClose} />;\\n\\t}\\n\\n\\treturn <StartCallPopup loading={starting} room={room} id={id} onClose={dismissOutgoing} onConfirm={handleStartCall} />;\\n};\\n\\nexport default TimedVideoConfPopup;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_slicedToArray\",\"useUserRoom\",\"React\",\"useState\",\"useVideoConfAcceptCall\",\"useVideoConfAbortCall\",\"useVideoConfRejectIncomingCall\",\"useVideoConfDismissCall\",\"useVideoConfStartCall\",\"useVideoConfDismissOutgoing\",\"IncomingPopup\",\"OutgoingPopup\",\"StartCallPopup\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"id\",\"rid\",\"_ref$isReceiving\",\"isReceiving\",\"_ref$isCalling\",\"isCalling\",\"position\",\"_useState\",\"_useState2\",\"starting\",\"setStarting\",\"acceptCall\",\"abortCall\",\"rejectCall\",\"dismissCall\",\"startCall\",\"dismissOutgoing\",\"room\",\"handleClose\",\"createElement\",\"onClose\",\"onMute\",\"onConfirm\",\"loading\",\"async\",\"_context\",\"prev\",\"next\",\"stop\",\"Promise\"],\"mappings\":\"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\"}"}