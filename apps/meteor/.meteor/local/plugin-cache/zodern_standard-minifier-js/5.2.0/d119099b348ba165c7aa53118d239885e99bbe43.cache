{"code":"function module(e,t,l){let n,i,o,a,s,r,c,u,f;l.link(\"@nivo/pie\",{Pie(e){n=e}},0),l.link(\"@rocket.chat/fuselage\",{Box(e){i=e},Palette(e){o=e}},1),l.link(\"react\",{default(e){a=e},useMemo(e){s=e},useCallback(e){r=e},memo(e){c=e}},2),l.link(\"react-i18next\",{useTranslation(e){u=e}},3),l.link(\"../../../../hooks/useLocalePercentage\",{useLocalePercentage(e){f=e}},4);let m=e=>({used:e||o.statusColor[\"status-font-on-success\"].toString(),free:o.stroke[\"stroke-extra-light\"].toString()});l.exportDefault(c(e=>{let{used:t=0,total:l=0,label:o,color:c,size:d=140}=e,{t:g}=u(),p=s(()=>[{id:\"used\",label:\"used\",value:t},{id:\"free\",label:\"free\",value:l-t}],[l,t]),b=r(e=>e&&\"string\"==typeof e.id?m(c)[e.id]:\"\",[c]),k=0===l,h=f(l,t,0);return a.createElement(i,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},a.createElement(i,{size:\"x\".concat(d)},a.createElement(i,{position:\"relative\"},a.createElement(n,{data:p,margin:{top:10,right:10,bottom:10,left:10},innerRadius:.8,colors:b,width:d,height:d,enableArcLabels:!1,enableArcLinkLabels:!1}),a.createElement(i,{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",position:\"absolute\",fontScale:\"p2m\",style:{left:0,right:0,top:0,bottom:0}},k?\"∞\":h))),a.createElement(i,{is:\"span\",fontScale:\"p2\",color:\"font-secondary-info\"},k&&g(\"used_limit_infinite\",{used:t}),!k&&g(\"used_limit\",{used:t,limit:l})),o&&a.createElement(i,{is:\"span\",mbs:4,color:\"font-secondary-info\"},o))}))}","map":"{\"version\":3,\"sources\":[\"client/views/admin/subscription/components/UsagePieGraph.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { DatumId } from '@nivo/pie';\\nimport { Pie } from '@nivo/pie';\\nimport { Box, Palette } from '@rocket.chat/fuselage';\\nimport type { ReactElement, CSSProperties, ReactNode } from 'react';\\nimport React, { useMemo, useCallback, memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useLocalePercentage } from '../../../../hooks/useLocalePercentage';\\n\\ntype GraphColorsReturn = { [key: string]: string };\\n\\nconst graphColors = (color: CSSProperties['color']): GraphColorsReturn => ({\\n\\tused: color || Palette.statusColor['status-font-on-success'].toString(),\\n\\tfree: Palette.stroke['stroke-extra-light'].toString(),\\n});\\n\\nexport type UsagePieGraphProps = {\\n\\tused: number;\\n\\ttotal: number;\\n\\tlabel?: ReactNode;\\n\\tcolor?: string;\\n\\tsize?: number;\\n};\\n\\ntype GraphData = Array<{\\n\\tid: string;\\n\\tlabel: string;\\n\\tvalue: number;\\n}>;\\n\\nconst UsagePieGraph = ({ used = 0, total = 0, label, color, size = 140 }: UsagePieGraphProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst parsedData = useMemo(\\n\\t\\t(): GraphData => [\\n\\t\\t\\t{\\n\\t\\t\\t\\tid: 'used',\\n\\t\\t\\t\\tlabel: 'used',\\n\\t\\t\\t\\tvalue: used,\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\tid: 'free',\\n\\t\\t\\t\\tlabel: 'free',\\n\\t\\t\\t\\tvalue: total - used,\\n\\t\\t\\t},\\n\\t\\t],\\n\\t\\t[total, used],\\n\\t);\\n\\n\\tconst getColor = useCallback(\\n\\t\\t(datum: { id: DatumId } | undefined) => {\\n\\t\\t\\tif (!datum || typeof datum.id !== 'string') {\\n\\t\\t\\t\\treturn '';\\n\\t\\t\\t}\\n\\t\\t\\treturn graphColors(color)[datum.id];\\n\\t\\t},\\n\\t\\t[color],\\n\\t);\\n\\n\\tconst unlimited = total === 0;\\n\\n\\tconst localePercentage = useLocalePercentage(total, used, 0);\\n\\n\\treturn (\\n\\t\\t<Box display='flex' flexDirection='column' alignItems='center'>\\n\\t\\t\\t<Box size={`x${size}`}>\\n\\t\\t\\t\\t<Box position='relative'>\\n\\t\\t\\t\\t\\t<Pie\\n\\t\\t\\t\\t\\t\\tdata={parsedData}\\n\\t\\t\\t\\t\\t\\tmargin={{ top: 10, right: 10, bottom: 10, left: 10 }}\\n\\t\\t\\t\\t\\t\\tinnerRadius={0.8}\\n\\t\\t\\t\\t\\t\\tcolors={getColor}\\n\\t\\t\\t\\t\\t\\twidth={size}\\n\\t\\t\\t\\t\\t\\theight={size}\\n\\t\\t\\t\\t\\t\\tenableArcLabels={false}\\n\\t\\t\\t\\t\\t\\tenableArcLinkLabels={false}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\tdisplay='flex'\\n\\t\\t\\t\\t\\t\\talignItems='center'\\n\\t\\t\\t\\t\\t\\tjustifyContent='center'\\n\\t\\t\\t\\t\\t\\tposition='absolute'\\n\\t\\t\\t\\t\\t\\tfontScale='p2m'\\n\\t\\t\\t\\t\\t\\tstyle={{ left: 0, right: 0, top: 0, bottom: 0 }}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t{unlimited ? '∞' : localePercentage}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Box>\\n\\t\\t\\t<Box is='span' fontScale='p2' color='font-secondary-info'>\\n\\t\\t\\t\\t{unlimited &&\\n\\t\\t\\t\\t\\tt('used_limit_infinite', {\\n\\t\\t\\t\\t\\t\\tused,\\n\\t\\t\\t\\t\\t})}\\n\\t\\t\\t\\t{!unlimited &&\\n\\t\\t\\t\\t\\tt('used_limit', {\\n\\t\\t\\t\\t\\t\\tused,\\n\\t\\t\\t\\t\\t\\tlimit: total,\\n\\t\\t\\t\\t\\t})}\\n\\t\\t\\t</Box>\\n\\t\\t\\t{label && (\\n\\t\\t\\t\\t<Box is='span' mbs={4} color='font-secondary-info'>\\n\\t\\t\\t\\t\\t{label}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t)}\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default memo(UsagePieGraph);\\n\",null],\"names\":[\"Pie\",\"Box\",\"Palette\",\"React\",\"useMemo\",\"useCallback\",\"memo\",\"useTranslation\",\"useLocalePercentage\",\"module\",\"link\",\"v\",\"default\",\"graphColors\",\"color\",\"used\",\"statusColor\",\"toString\",\"free\",\"stroke\",\"exportDefault\",\"_ref\",\"total\",\"label\",\"size\",\"t\",\"parsedData\",\"id\",\"value\",\"getColor\",\"datum\",\"unlimited\",\"localePercentage\",\"createElement\",\"display\",\"flexDirection\",\"alignItems\",\"concat\",\"position\",\"data\",\"margin\",\"top\",\"right\",\"bottom\",\"left\",\"innerRadius\",\"colors\",\"width\",\"height\",\"enableArcLabels\",\"enableArcLinkLabels\",\"justifyContent\",\"fontScale\",\"style\",\"is\",\"limit\",\"mbs\"],\"mappings\":\"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\"}"}