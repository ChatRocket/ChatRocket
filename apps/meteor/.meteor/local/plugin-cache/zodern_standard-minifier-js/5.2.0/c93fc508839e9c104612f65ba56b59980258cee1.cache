{"code":"function module(e,t,n){var i,o,l,a,r,s,c,u,f;n.link(\"@nivo/pie\",{Pie:function(e){i=e}},0),n.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},Palette:function(e){l=e}},1),n.link(\"react\",{default:function(e){a=e},useMemo:function(e){r=e},useCallback:function(e){s=e},memo:function(e){c=e}},2),n.link(\"react-i18next\",{useTranslation:function(e){u=e}},3),n.link(\"../../../../hooks/useLocalePercentage\",{useLocalePercentage:function(e){f=e}},4),n.exportDefault(c(function(e){var t=e.used,n=void 0===t?0:t,c=e.total,d=void 0===c?0:c,m=e.label,g=e.color,p=e.size,b=void 0===p?140:p,k=u().t,v=r(function(){return[{id:\"used\",label:\"used\",value:n},{id:\"free\",label:\"free\",value:d-n}]},[d,n]),h=s(function(e){return e&&\"string\"==typeof e.id?({used:g||l.statusColor[\"status-font-on-success\"].toString(),free:l.stroke[\"stroke-extra-light\"].toString()})[e.id]:\"\"},[g]),x=0===d,y=f(d,n,0);return a.createElement(o,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},a.createElement(o,{size:\"x\"+b},a.createElement(o,{position:\"relative\"},a.createElement(i,{data:v,margin:{top:10,right:10,bottom:10,left:10},innerRadius:.8,colors:h,width:b,height:b,enableArcLabels:!1,enableArcLinkLabels:!1}),a.createElement(o,{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",position:\"absolute\",fontScale:\"p2m\",style:{left:0,right:0,top:0,bottom:0}},x?\"∞\":y))),a.createElement(o,{is:\"span\",fontScale:\"p2\",color:\"font-secondary-info\"},x&&k(\"used_limit_infinite\",{used:n}),!x&&k(\"used_limit\",{used:n,limit:d})),m&&a.createElement(o,{is:\"span\",mbs:4,color:\"font-secondary-info\"},m))}))}","map":"{\"version\":3,\"sources\":[\"client/views/admin/subscription/components/UsagePieGraph.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { DatumId } from '@nivo/pie';\\nimport { Pie } from '@nivo/pie';\\nimport { Box, Palette } from '@rocket.chat/fuselage';\\nimport type { ReactElement, CSSProperties, ReactNode } from 'react';\\nimport React, { useMemo, useCallback, memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useLocalePercentage } from '../../../../hooks/useLocalePercentage';\\n\\ntype GraphColorsReturn = { [key: string]: string };\\n\\nconst graphColors = (color: CSSProperties['color']): GraphColorsReturn => ({\\n\\tused: color || Palette.statusColor['status-font-on-success'].toString(),\\n\\tfree: Palette.stroke['stroke-extra-light'].toString(),\\n});\\n\\nexport type UsagePieGraphProps = {\\n\\tused: number;\\n\\ttotal: number;\\n\\tlabel?: ReactNode;\\n\\tcolor?: string;\\n\\tsize?: number;\\n};\\n\\ntype GraphData = Array<{\\n\\tid: string;\\n\\tlabel: string;\\n\\tvalue: number;\\n}>;\\n\\nconst UsagePieGraph = ({ used = 0, total = 0, label, color, size = 140 }: UsagePieGraphProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst parsedData = useMemo(\\n\\t\\t(): GraphData => [\\n\\t\\t\\t{\\n\\t\\t\\t\\tid: 'used',\\n\\t\\t\\t\\tlabel: 'used',\\n\\t\\t\\t\\tvalue: used,\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\tid: 'free',\\n\\t\\t\\t\\tlabel: 'free',\\n\\t\\t\\t\\tvalue: total - used,\\n\\t\\t\\t},\\n\\t\\t],\\n\\t\\t[total, used],\\n\\t);\\n\\n\\tconst getColor = useCallback(\\n\\t\\t(datum: { id: DatumId } | undefined) => {\\n\\t\\t\\tif (!datum || typeof datum.id !== 'string') {\\n\\t\\t\\t\\treturn '';\\n\\t\\t\\t}\\n\\t\\t\\treturn graphColors(color)[datum.id];\\n\\t\\t},\\n\\t\\t[color],\\n\\t);\\n\\n\\tconst unlimited = total === 0;\\n\\n\\tconst localePercentage = useLocalePercentage(total, used, 0);\\n\\n\\treturn (\\n\\t\\t<Box display='flex' flexDirection='column' alignItems='center'>\\n\\t\\t\\t<Box size={`x${size}`}>\\n\\t\\t\\t\\t<Box position='relative'>\\n\\t\\t\\t\\t\\t<Pie\\n\\t\\t\\t\\t\\t\\tdata={parsedData}\\n\\t\\t\\t\\t\\t\\tmargin={{ top: 10, right: 10, bottom: 10, left: 10 }}\\n\\t\\t\\t\\t\\t\\tinnerRadius={0.8}\\n\\t\\t\\t\\t\\t\\tcolors={getColor}\\n\\t\\t\\t\\t\\t\\twidth={size}\\n\\t\\t\\t\\t\\t\\theight={size}\\n\\t\\t\\t\\t\\t\\tenableArcLabels={false}\\n\\t\\t\\t\\t\\t\\tenableArcLinkLabels={false}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\tdisplay='flex'\\n\\t\\t\\t\\t\\t\\talignItems='center'\\n\\t\\t\\t\\t\\t\\tjustifyContent='center'\\n\\t\\t\\t\\t\\t\\tposition='absolute'\\n\\t\\t\\t\\t\\t\\tfontScale='p2m'\\n\\t\\t\\t\\t\\t\\tstyle={{ left: 0, right: 0, top: 0, bottom: 0 }}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t{unlimited ? '∞' : localePercentage}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Box>\\n\\t\\t\\t<Box is='span' fontScale='p2' color='font-secondary-info'>\\n\\t\\t\\t\\t{unlimited &&\\n\\t\\t\\t\\t\\tt('used_limit_infinite', {\\n\\t\\t\\t\\t\\t\\tused,\\n\\t\\t\\t\\t\\t})}\\n\\t\\t\\t\\t{!unlimited &&\\n\\t\\t\\t\\t\\tt('used_limit', {\\n\\t\\t\\t\\t\\t\\tused,\\n\\t\\t\\t\\t\\t\\tlimit: total,\\n\\t\\t\\t\\t\\t})}\\n\\t\\t\\t</Box>\\n\\t\\t\\t{label && (\\n\\t\\t\\t\\t<Box is='span' mbs={4} color='font-secondary-info'>\\n\\t\\t\\t\\t\\t{label}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t)}\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default memo(UsagePieGraph);\\n\",null],\"names\":[\"Pie\",\"Box\",\"Palette\",\"React\",\"useMemo\",\"useCallback\",\"memo\",\"useTranslation\",\"useLocalePercentage\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"_ref$used\",\"used\",\"_ref$total\",\"total\",\"label\",\"color\",\"_ref$size\",\"size\",\"t\",\"_useTranslation\",\"parsedData\",\"id\",\"value\",\"getColor\",\"datum\",\"graphColors\",\"statusColor\",\"toString\",\"free\",\"stroke\",\"unlimited\",\"localePercentage\",\"createElement\",\"display\",\"flexDirection\",\"alignItems\",\"position\",\"data\",\"margin\",\"top\",\"right\",\"bottom\",\"left\",\"innerRadius\",\"colors\",\"width\",\"height\",\"enableArcLabels\",\"enableArcLinkLabels\",\"justifyContent\",\"fontScale\",\"style\",\"is\",\"limit\",\"mbs\"],\"mappings\":\"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\"}"}