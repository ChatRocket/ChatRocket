{"code":"Package[\"core-runtime\"].queue(\"accounts-password\",function(){var e=Package.meteor.Meteor;Package.meteor.global,Package.meteor.meteorEnv;var r=Package[\"accounts-base\"].Accounts,o=Package.sha.SHA256;Package.ejson.EJSON,Package[\"ddp-client\"].DDP;var s=Package.modules.meteorInstall;Package.modules.meteorBabelHelpers;var a=Package.promise.Promise;return Package[\"ecmascript-runtime-client\"].Symbol,Package[\"ecmascript-runtime-client\"].Map,Package[\"ecmascript-runtime-client\"].Set,{require:s({node_modules:{meteor:{\"accounts-password\":{\"password_client.js\":function s(s,t,n){n.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){c=e}},0);var c,i=function(e,r){if(r)r(e);else throw e},d=function(e){var o=e.selector,s=e.password,a=e.code,t=e.callback;return\"string\"==typeof o&&(o=o.includes(\"@\")?{email:o}:{username:o}),r.callLoginMethod({methodArguments:[{user:o,password:r._hashPassword(s),code:a}],userCallback:function(e,r){e?i(e,t):t&&t(e,r)}}),o};e.loginWithPassword=function(e,r,o){return d({selector:e,password:r,callback:o})},r._hashPassword=function(e){return{digest:o(e),algorithm:\"sha-256\"}},e.loginWithPasswordAnd2faCode=function(r,o,s,a){if(null==s||\"string\"!=typeof s||!s)throw new e.Error(400,\"token is required to use loginWithPasswordAnd2faCode and must be a string\");return d({selector:r,password:o,code:s,callback:a})},r.createUser=function(o,s){if(\"string\"!=typeof(o=c({},o)).password)throw Error(\"options.password must be a string\");if(!o.password)return i(new e.Error(400,\"Password may not be empty\"),s);o.password=r._hashPassword(o.password),r.callLoginMethod({methodName:\"createUser\",methodArguments:[o],userCallback:s})},r.createUserAsync=function(e){return new a(function(o,s){return r.createUser(e,function(e){e?s(e):o()})})},r.changePassword=function(o,s,a){return e.user()?\"string\"==typeof s||s instanceof String?s?void r.connection.apply(\"changePassword\",[o?r._hashPassword(o):null,r._hashPassword(s)],function(e,r){e||!r?i(e||Error(\"No result from changePassword.\"),a):a&&a()}):i(new e.Error(400,\"Password may not be empty\"),a):i(new e.Error(400,\"Password must be a string\"),a):i(Error(\"Must be logged in to change password.\"),a)},r.forgotPassword=function(o,s){if(!o.email)return i(new e.Error(400,\"Must pass options.email\"),s);s?r.connection.call(\"forgotPassword\",o,s):r.connection.call(\"forgotPassword\",o)},r.resetPassword=function(o,s,a){return\"string\"==typeof o||o instanceof String?\"string\"==typeof s||s instanceof String?s?void r.callLoginMethod({methodName:\"resetPassword\",methodArguments:[o,r._hashPassword(s)],userCallback:a}):i(new e.Error(400,\"Password may not be empty\"),a):i(new e.Error(400,\"Password must be a string\"),a):i(new e.Error(400,\"Token must be a string\"),a)},r.verifyEmail=function(o,s){if(!o)return i(new e.Error(400,\"Need to pass token\"),s);r.callLoginMethod({methodName:\"verifyEmail\",methodArguments:[o],userCallback:s})}}}}}},{extensions:[\".js\",\".json\"]}),eagerModulePaths:[\"/node_modules/meteor/accounts-password/password_client.js\"]}});","map":"{\"version\":3,\"sources\":[\"packages/accounts-password/password_client.js\",\"<anon>\"],\"sourcesContent\":[\"// Used in the various functions below to handle errors consistently\\nconst reportError = (error, callback) => {\\n   if (callback) {\\n     callback(error);\\n   } else {\\n     throw error;\\n   }\\n};\\n\\nconst internalLoginWithPassword = ({ selector, password, code, callback }) => {\\n  if (typeof selector === 'string')\\n    if (!selector.includes('@')) selector = { username: selector };\\n    else selector = { email: selector };\\n  Accounts.callLoginMethod({\\n    methodArguments: [\\n      {\\n        user: selector,\\n        password: Accounts._hashPassword(password),\\n        code,\\n      },\\n    ],\\n    userCallback: (error, result) => {\\n      if (error) {\\n        reportError(error, callback);\\n      } else {\\n        callback && callback(error, result);\\n      }\\n    },\\n  });\\n  return selector;\\n};\\n\\n// Attempt to log in with a password.\\n//\\n// @param selector {String|Object} One of the following:\\n//   - {username: (username)}\\n//   - {email: (email)}\\n//   - a string which may be a username or email, depending on whether\\n//     it contains \\\"@\\\".\\n// @param password {String}\\n// @param callback {Function(error|undefined)}\\n\\n/**\\n * @summary Log the user in with a password.\\n * @locus Client\\n * @param {Object | String} selector\\n *   Either a string interpreted as a username or an email; or an object with a\\n *   single key: `email`, `username` or `id`. Username or email match in a case\\n *   insensitive manner.\\n * @param {String} password The user's password.\\n * @param {Function} [callback] Optional callback.\\n *   Called with no arguments on success, or with a single `Error` argument\\n *   on failure.\\n * @importFromPackage meteor\\n */\\nMeteor.loginWithPassword = (selector, password, callback) => {\\n  return internalLoginWithPassword({ selector, password, callback });\\n};\\n\\nAccounts._hashPassword = password => ({\\n  digest: SHA256(password),\\n  algorithm: \\\"sha-256\\\"\\n});\\n\\n\\n/**\\n * @summary Log the user in with a password and token.\\n * @locus Client\\n * @param {Object | String} selector\\n *   Either a string interpreted as a username or an email; or an object with a\\n *   single key: `email`, `username` or `id`. Username or email match in a case\\n *   insensitive manner.\\n * @param {String} password The user's password.\\n * @param {String} token Token provide by the user's authenticator app.\\n * @param {Function} [callback] Optional callback.\\n *   Called with no arguments on success, or with a single `Error` argument\\n *   on failure.\\n * @importFromPackage meteor\\n */\\n\\nMeteor.loginWithPasswordAnd2faCode = (selector, password, code, callback) => {\\n  if (code == null || typeof code !== 'string' || !code) {\\n    throw new Meteor.Error(\\n      400,\\n      'token is required to use loginWithPasswordAnd2faCode and must be a string'\\n    );\\n  }\\n  return internalLoginWithPassword({ selector, password, code, callback });\\n};\\n\\n\\n// Attempt to log in as a new user.\\n\\n/**\\n * @summary Create a new user.\\n * @locus Anywhere\\n * @param {Object} options\\n * @param {String} options.username A unique name for this user.\\n * @param {String} options.email The user's email address.\\n * @param {String} options.password The user's password. This is __not__ sent in plain text over the wire.\\n * @param {Object} options.profile The user's profile, typically including the `name` field.\\n * @param {Function} [callback] Client only, optional callback. Called with no arguments on success, or with a single `Error` argument on failure.\\n * @importFromPackage accounts-base\\n */\\nAccounts.createUser = (options, callback) => {\\n  options = { ...options }; // we'll be modifying options\\n\\n  if (typeof options.password !== 'string')\\n    throw new Error(\\\"options.password must be a string\\\");\\n  if (!options.password) {\\n    return reportError(new Meteor.Error(400, \\\"Password may not be empty\\\"), callback);\\n  }\\n\\n  // Replace password with the hashed password.\\n  options.password = Accounts._hashPassword(options.password);\\n\\n  Accounts.callLoginMethod({\\n    methodName: 'createUser',\\n    methodArguments: [options],\\n    userCallback: callback\\n  });\\n};\\n\\n\\n/**\\n * @summary Create a new user and returns a promise of its result.\\n * @locus Anywhere\\n * @param {Object} options\\n * @param {String} options.username A unique name for this user.\\n * @param {String} options.email The user's email address.\\n * @param {String} options.password The user's password. This is __not__ sent in plain text over the wire.\\n * @param {Object} options.profile The user's profile, typically including the `name` field.\\n * @importFromPackage accounts-base\\n */\\nAccounts.createUserAsync = (options) => {\\n  return new Promise((resolve, reject) =>\\n    Accounts.createUser(options, (e) => {\\n      if (e) {\\n        reject(e);\\n      } else {\\n        resolve();\\n      }\\n    })\\n  );\\n};\\n\\n// Change password. Must be logged in.\\n//\\n// @param oldPassword {String|null} By default servers no longer allow\\n//   changing password without the old password, but they could so we\\n//   support passing no password to the server and letting it decide.\\n// @param newPassword {String}\\n// @param callback {Function(error|undefined)}\\n\\n/**\\n * @summary Change the current user's password. Must be logged in.\\n * @locus Client\\n * @param {String} oldPassword The user's current password. This is __not__ sent in plain text over the wire.\\n * @param {String} newPassword A new password for the user. This is __not__ sent in plain text over the wire.\\n * @param {Function} [callback] Optional callback. Called with no arguments on success, or with a single `Error` argument on failure.\\n * @importFromPackage accounts-base\\n */\\nAccounts.changePassword = (oldPassword, newPassword, callback) => {\\n  if (!Meteor.user()) {\\n    return reportError(new Error(\\\"Must be logged in to change password.\\\"), callback);\\n  }\\n\\n  if (!(typeof newPassword === \\\"string\\\" || newPassword instanceof String)) {\\n    return reportError(new Meteor.Error(400, \\\"Password must be a string\\\"), callback);\\n  }\\n\\n  if (!newPassword) {\\n    return reportError(new Meteor.Error(400, \\\"Password may not be empty\\\"), callback);\\n  }\\n\\n  Accounts.connection.apply(\\n    'changePassword',\\n    [oldPassword ? Accounts._hashPassword(oldPassword) : null,\\n     Accounts._hashPassword(newPassword)],\\n    (error, result) => {\\n    if (error || !result) {\\n        // A normal error, not an error telling us to upgrade to bcrypt\\n        reportError(\\n          error || new Error(\\\"No result from changePassword.\\\"), callback);\\n      } else {\\n        callback && callback();\\n      }\\n    }\\n  );\\n};\\n\\n// Sends an email to a user with a link that can be used to reset\\n// their password\\n//\\n// @param options {Object}\\n//   - email: (email)\\n// @param callback (optional) {Function(error|undefined)}\\n\\n/**\\n * @summary Request a forgot password email.\\n * @locus Client\\n * @param {Object} options\\n * @param {String} options.email The email address to send a password reset link.\\n * @param {Function} [callback] Optional callback. Called with no arguments on success, or with a single `Error` argument on failure.\\n * @importFromPackage accounts-base\\n */\\nAccounts.forgotPassword = (options, callback) => {\\n  if (!options.email) {\\n    return reportError(new Meteor.Error(400, \\\"Must pass options.email\\\"), callback);\\n  }\\n\\n  if (callback) {\\n    Accounts.connection.call(\\\"forgotPassword\\\", options, callback);\\n  } else {\\n    Accounts.connection.call(\\\"forgotPassword\\\", options);\\n  }\\n};\\n\\n// Resets a password based on a token originally created by\\n// Accounts.forgotPassword, and then logs in the matching user.\\n//\\n// @param token {String}\\n// @param newPassword {String}\\n// @param callback (optional) {Function(error|undefined)}\\n\\n/**\\n * @summary Reset the password for a user using a token received in email. Logs the user in afterwards if the user doesn't have 2FA enabled.\\n * @locus Client\\n * @param {String} token The token retrieved from the reset password URL.\\n * @param {String} newPassword A new password for the user. This is __not__ sent in plain text over the wire.\\n * @param {Function} [callback] Optional callback. Called with no arguments on success, or with a single `Error` argument on failure.\\n * @importFromPackage accounts-base\\n */\\nAccounts.resetPassword = (token, newPassword, callback) => {\\n  if (!(typeof token === \\\"string\\\" || token instanceof String)) {\\n    return reportError(new Meteor.Error(400, \\\"Token must be a string\\\"), callback);\\n  }\\n\\n  if (!(typeof newPassword === \\\"string\\\" || newPassword instanceof String)) {\\n    return reportError(new Meteor.Error(400, \\\"Password must be a string\\\"), callback);\\n  }\\n\\n  if (!newPassword) {\\n    return reportError(new Meteor.Error(400, \\\"Password may not be empty\\\"), callback);\\n  }\\n\\n  Accounts.callLoginMethod({\\n    methodName: 'resetPassword',\\n    methodArguments: [token, Accounts._hashPassword(newPassword)],\\n    userCallback: callback});\\n};\\n\\n// Verifies a user's email address based on a token originally\\n// created by Accounts.sendVerificationEmail\\n//\\n// @param token {String}\\n// @param callback (optional) {Function(error|undefined)}\\n\\n/**\\n * @summary Marks the user's email address as verified. Logs the user in afterwards if the user doesn't have 2FA enabled.\\n * @locus Client\\n * @param {String} token The token retrieved from the verification URL.\\n * @param {Function} [callback] Optional callback. Called with no arguments on success, or with a single `Error` argument on failure.\\n * @importFromPackage accounts-base\\n */\\nAccounts.verifyEmail = (token, callback) => {\\n  if (!token) {\\n    return reportError(new Meteor.Error(400, \\\"Need to pass token\\\"), callback);\\n  }\\n\\n  Accounts.callLoginMethod({\\n    methodName: 'verifyEmail',\\n    methodArguments: [token],\\n    userCallback: callback});\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_objectSpread\",\"reportError\",\"error\",\"callback\",\"internalLoginWithPassword\",\"_ref\",\"selector\",\"password\",\"code\",\"includes\",\"email\",\"username\",\"Accounts\",\"callLoginMethod\",\"methodArguments\",\"user\",\"_hashPassword\",\"userCallback\",\"result\",\"Meteor\",\"loginWithPassword\",\"digest\",\"SHA256\",\"algorithm\",\"loginWithPasswordAnd2faCode\",\"Error\",\"createUser\",\"options\",\"methodName\",\"createUserAsync\",\"Promise\",\"resolve\",\"reject\",\"e\",\"changePassword\",\"oldPassword\",\"newPassword\",\"String\",\"connection\",\"apply\",\"forgotPassword\",\"call\",\"resetPassword\",\"token\",\"verifyEmail\"],\"mappings\":\"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\"}"}