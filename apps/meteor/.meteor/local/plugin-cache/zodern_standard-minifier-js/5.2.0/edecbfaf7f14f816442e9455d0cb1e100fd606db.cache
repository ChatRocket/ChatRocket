{"code":"function module(e,n,t){var r,o,i,a,u,c,l,s,f,d;t.link(\"@babel/runtime/helpers/extends\",{default:function(e){r=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useMethod:function(e){o=e},useToastMessageDispatch:function(e){i=e},useTranslation:function(e){a=e}},0),t.link(\"@tanstack/react-query\",{useQuery:function(e){u=e}},1),t.link(\"react\",{default:function(e){c=e},useEffect:function(e){l=e}},2),t.link(\"../../../../components/GenericModal\",{default:function(e){s=e}},3),t.link(\"../../../../components/GenericModal/GenericModalSkeleton\",{default:function(e){f=e}},4),t.link(\"./ReadReceiptRow\",{default:function(e){d=e}},5),t.exportDefault(function(e){var n=e.messageId,t=e.onClose,m=a(),k=i(),p=o(\"getReadReceipts\"),g=u([\"read-receipts\",n],function(){return p({messageId:n})});if(l(function(){g.isError&&(k({type:\"error\",message:g.error}),t())},[k,m,t,g.isError,g.error]),g.isLoading||g.isError)return c.createElement(f,null);var E=g.data;return c.createElement(s,{title:m(\"Read_by\"),onConfirm:t,onClose:t},E.length<1&&m(\"No_results_found\"),E.length>0&&c.createElement(\"div\",{role:\"list\"},E.map(function(e){return c.createElement(d,r({},e,{key:e._id}))})))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/modals/ReadReceiptsModal/ReadReceiptsModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage, ReadReceipt } from '@rocket.chat/core-typings';\\nimport { useMethod, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React, { useEffect } from 'react';\\n\\nimport GenericModal from '../../../../components/GenericModal';\\nimport GenericModalSkeleton from '../../../../components/GenericModal/GenericModalSkeleton';\\nimport ReadReceiptRow from './ReadReceiptRow';\\n\\ntype ReadReceiptsModalProps = {\\n\\tmessageId: IMessage['_id'];\\n\\tonClose: () => void;\\n};\\n\\nconst ReadReceiptsModal = ({ messageId, onClose }: ReadReceiptsModalProps): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst getReadReceipts = useMethod('getReadReceipts');\\n\\n\\tconst readReceiptsResult = useQuery<ReadReceipt[], Error>(['read-receipts', messageId], () => getReadReceipts({ messageId }));\\n\\n\\tuseEffect(() => {\\n\\t\\tif (readReceiptsResult.isError) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: readReceiptsResult.error });\\n\\t\\t\\tonClose();\\n\\t\\t}\\n\\t}, [dispatchToastMessage, t, onClose, readReceiptsResult.isError, readReceiptsResult.error]);\\n\\n\\tif (readReceiptsResult.isLoading || readReceiptsResult.isError) {\\n\\t\\treturn <GenericModalSkeleton />;\\n\\t}\\n\\n\\tconst readReceipts = readReceiptsResult.data;\\n\\n\\treturn (\\n\\t\\t<GenericModal title={t('Read_by')} onConfirm={onClose} onClose={onClose}>\\n\\t\\t\\t{readReceipts.length < 1 && t('No_results_found')}\\n\\t\\t\\t{readReceipts.length > 0 && (\\n\\t\\t\\t\\t<div role='list'>\\n\\t\\t\\t\\t\\t{readReceipts.map((receipt) => (\\n\\t\\t\\t\\t\\t\\t<ReadReceiptRow {...receipt} key={receipt._id} />\\n\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t)}\\n\\t\\t</GenericModal>\\n\\t);\\n};\\n\\nexport default ReadReceiptsModal;\\n\",null],\"names\":[\"_extends\",\"useMethod\",\"useToastMessageDispatch\",\"useTranslation\",\"useQuery\",\"React\",\"useEffect\",\"GenericModal\",\"GenericModalSkeleton\",\"ReadReceiptRow\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"messageId\",\"onClose\",\"t\",\"dispatchToastMessage\",\"getReadReceipts\",\"readReceiptsResult\",\"isError\",\"type\",\"message\",\"error\",\"isLoading\",\"createElement\",\"readReceipts\",\"data\",\"title\",\"onConfirm\",\"length\",\"role\",\"map\",\"receipt\",\"key\",\"_id\"],\"mappings\":\"uBAeA,IAdAA,EAAAC,EAASC,EAAWC,EAA0EC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAArFC,EAAWC,IAAA,CAAA,iCAAyB,CAAcC,QAAQ,SAAAC,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAtBH,EAAcC,IAAE,CAAA,2BAAM,CAA0BV,UAAC,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,wBAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,eAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAP,SAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,UAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,sCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2DAAA,CAAA,QAAA,SAAAE,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,mBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAA9FH,EAAOI,aAAa,CAcM,SAAAC,CAAA,EAAiE,IAA9DC,EAASD,EAATC,SAAS,CAAEC,EAAOF,EAAPE,OAAO,CACxCC,EAAIf,IACJgB,EAAuBjB,IAEvBkB,EAAkBnB,EAAU,mBAE5BoB,EAAqBjB,EAA+B,CAAC,gBAAiBY,EAAU,CAAE,WAAA,OAAMI,EAAgB,CAAEJ,UAAAA,CAAS,EAAG,GAS5H,GAPAV,EAAU,WACLe,EAAmBC,OAAO,GAC7BH,EAAqB,CAAEI,KAAM,QAASC,QAASH,EAAmBI,KAAAA,AAAK,GACvER,IAEF,EAAG,CAACE,EAAsBD,EAAGD,EAASI,EAAmBC,OAAO,CAAED,EAAmBI,KAAK,CAAC,EAEvFJ,EAAmBK,SAAS,EAAIL,EAAmBC,OAAO,CAC7D,OAAOjB,EAAAsB,aAAA,CAACnB,EAAoB,MAG7B,IAAMoB,EAAeP,EAAmBQ,IAAI,CAE5C,OACCxB,EAAAsB,aAAA,CAACpB,EAAY,CAACuB,MAAOZ,EAAE,WAAYa,UAAWd,EAASA,QAASA,CAAQ,EACtEW,EAAaI,MAAM,CAAG,GAAKd,EAAE,oBAC7BU,EAAaI,MAAM,CAAG,GACtB3B,EAAAsB,aAAA,CAAA,MAAA,CAAKM,KAAK,MAAM,EACdL,EAAaM,GAAG,CAAC,SAACC,CAAO,EAAA,OACzB9B,EAAAsB,aAAA,CAAClB,EAAcT,EAAA,CAAA,EAAKmC,EAAO,CAAEC,IAAKD,EAAQE,GAAAA,AAAI,GAAG,IAMvD\"}"}