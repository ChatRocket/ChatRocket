{"code":"function module(e,t,l){let n,a,o,r,i,c,m,u,s,d,h,x,C,E,f,p,b,g;l.link(\"@rocket.chat/fuselage\",{Box(e){n=e},Icon(e){a=e},TextInput(e){o=e},Select(e){r=e},Throbber(e){i=e},ContextualbarSection(e){c=e}},0),l.link(\"react\",{default(e){m=e},useMemo(e){u=e}},1),l.link(\"react-i18next\",{useTranslation(e){s=e}},2),l.link(\"react-virtuoso\",{Virtuoso(e){d=e}},3),l.link(\"../../../../components/Contextualbar\",{ContextualbarHeader(e){h=e},ContextualbarIcon(e){x=e},ContextualbarTitle(e){C=e},ContextualbarClose(e){E=e},ContextualbarContent(e){f=e},ContextualbarEmptyContent(e){p=e}},4),l.link(\"../../../../components/CustomScrollbars\",{VirtuosoScrollbars(e){b=e}},5),l.link(\"./components/FileItem\",{default(e){g=e}},6),l.exportDefault(e=>{let{loading:t,type:l,text:k,filesItems:S=[],loadMoreItems:v,setType:I,setText:F,total:T,onClickClose:w,onClickDelete:D}=e,{t:V}=s(),_=u(()=>[[\"all\",V(\"All\")],[\"image\",V(\"Images\")],[\"video\",V(\"Videos\")],[\"audio\",V(\"Audios\")],[\"text\",V(\"Texts\")],[\"application\",V(\"Files\")]],[V]);return m.createElement(m.Fragment,null,m.createElement(h,null,m.createElement(x,{name:\"attachment\"}),m.createElement(C,null,V(\"Files\")),w&&m.createElement(E,{onClick:w})),m.createElement(c,null,m.createElement(o,{\"data-qa-files-search\":!0,placeholder:V(\"Search_Files\"),value:k,onChange:F,addon:m.createElement(a,{name:\"magnifier\",size:\"x20\"})}),m.createElement(n,{w:\"x144\",mis:8},m.createElement(r,{onChange:I,value:l,options:_}))),m.createElement(f,{paddingInline:0},t&&m.createElement(n,{p:24},m.createElement(i,{size:\"x12\"})),!t&&0===S.length&&m.createElement(p,{title:V(\"No_files_found\")}),!t&&S.length>0&&m.createElement(n,{w:\"full\",h:\"full\",flexShrink:1,overflow:\"hidden\"},m.createElement(d,{style:{height:\"100%\",width:\"100%\"},totalCount:T,endReached:e=>v(e,Math.min(50,T-e)),overscan:50,data:S,components:{Scroller:b},itemContent:(e,t)=>m.createElement(g,{fileData:t,onClickDelete:D})}))))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/RoomFiles/RoomFiles.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IUpload, IUploadWithUser } from '@rocket.chat/core-typings';\\nimport type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Box, Icon, TextInput, Select, Throbber, ContextualbarSection } from '@rocket.chat/fuselage';\\nimport type { FormEvent } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\nimport { Virtuoso } from 'react-virtuoso';\\n\\nimport {\\n\\tContextualbarHeader,\\n\\tContextualbarIcon,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarContent,\\n\\tContextualbarEmptyContent,\\n} from '../../../../components/Contextualbar';\\nimport { VirtuosoScrollbars } from '../../../../components/CustomScrollbars';\\nimport FileItem from './components/FileItem';\\n\\ntype RoomFilesProps = {\\n\\tloading: boolean;\\n\\ttype: string;\\n\\ttext: string;\\n\\tfilesItems: IUploadWithUser[];\\n\\tloadMoreItems: (start: number, end: number) => void;\\n\\tsetType: (value: any) => void;\\n\\tsetText: (e: FormEvent<HTMLElement>) => void;\\n\\ttotal: number;\\n\\tonClickClose: () => void;\\n\\tonClickDelete: (id: IUpload['_id']) => void;\\n};\\n\\nconst RoomFiles = ({\\n\\tloading,\\n\\ttype,\\n\\ttext,\\n\\tfilesItems = [],\\n\\tloadMoreItems,\\n\\tsetType,\\n\\tsetText,\\n\\ttotal,\\n\\tonClickClose,\\n\\tonClickDelete,\\n}: RoomFilesProps) => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst options: SelectOption[] = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['all', t('All')],\\n\\t\\t\\t['image', t('Images')],\\n\\t\\t\\t['video', t('Videos')],\\n\\t\\t\\t['audio', t('Audios')],\\n\\t\\t\\t['text', t('Texts')],\\n\\t\\t\\t['application', t('Files')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarIcon name='attachment' />\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Files')}</ContextualbarTitle>\\n\\t\\t\\t\\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarSection>\\n\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\tdata-qa-files-search\\n\\t\\t\\t\\t\\tplaceholder={t('Search_Files')}\\n\\t\\t\\t\\t\\tvalue={text}\\n\\t\\t\\t\\t\\tonChange={setText}\\n\\t\\t\\t\\t\\taddon={<Icon name='magnifier' size='x20' />}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t\\t<Box w='x144' mis={8}>\\n\\t\\t\\t\\t\\t<Select onChange={setType} value={type} options={options} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</ContextualbarSection>\\n\\t\\t\\t<ContextualbarContent paddingInline={0}>\\n\\t\\t\\t\\t{loading && (\\n\\t\\t\\t\\t\\t<Box p={24}>\\n\\t\\t\\t\\t\\t\\t<Throbber size='x12' />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{!loading && filesItems.length === 0 && <ContextualbarEmptyContent title={t('No_files_found')} />}\\n\\t\\t\\t\\t{!loading && filesItems.length > 0 && (\\n\\t\\t\\t\\t\\t<Box w='full' h='full' flexShrink={1} overflow='hidden'>\\n\\t\\t\\t\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\theight: '100%',\\n\\t\\t\\t\\t\\t\\t\\t\\twidth: '100%',\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\ttotalCount={total}\\n\\t\\t\\t\\t\\t\\t\\tendReached={(start) => loadMoreItems(start, Math.min(50, total - start))}\\n\\t\\t\\t\\t\\t\\t\\toverscan={50}\\n\\t\\t\\t\\t\\t\\t\\tdata={filesItems}\\n\\t\\t\\t\\t\\t\\t\\tcomponents={{ Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t\\t\\t\\t\\titemContent={(_, data) => <FileItem fileData={data} onClickDelete={onClickDelete} />}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</ContextualbarContent>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default RoomFiles;\\n\",null],\"names\":[\"Box\",\"Icon\",\"TextInput\",\"Select\",\"Throbber\",\"ContextualbarSection\",\"React\",\"useMemo\",\"useTranslation\",\"Virtuoso\",\"ContextualbarHeader\",\"ContextualbarIcon\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarContent\",\"ContextualbarEmptyContent\",\"VirtuosoScrollbars\",\"FileItem\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"loading\",\"type\",\"text\",\"filesItems\",\"loadMoreItems\",\"setType\",\"setText\",\"total\",\"onClickClose\",\"onClickDelete\",\"t\",\"options\",\"createElement\",\"Fragment\",\"name\",\"onClick\",\"placeholder\",\"value\",\"onChange\",\"addon\",\"size\",\"w\",\"mis\",\"paddingInline\",\"p\",\"length\",\"title\",\"h\",\"flexShrink\",\"overflow\",\"style\",\"height\",\"width\",\"totalCount\",\"endReached\",\"start\",\"Math\",\"min\",\"overscan\",\"data\",\"components\",\"Scroller\",\"itemContent\",\"_\",\"fileData\"],\"mappings\":\"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\"}"}