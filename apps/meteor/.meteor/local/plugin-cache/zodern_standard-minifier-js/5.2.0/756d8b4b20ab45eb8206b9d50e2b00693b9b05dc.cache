{"code":"function module(e,t,n){var r,o,i,a,u,c,s,l,f=[\"resolve\",\"reject\",\"reset\"];n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){r=e}},0),n.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){o=e}},1),n.export({useEndpointData:function(){return d}}),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){i=e},useEndpoint:function(e){a=e}},0),n.link(\"react\",{useCallback:function(e){u=e},useEffect:function(e){c=e}},1),n.link(\"../lib/utils/getConfig\",{getConfig:function(e){s=e}},2),n.link(\"./useAsyncState\",{useAsyncState:function(e){l=e}},3);var p=\"true\"===s(\"debug\")?function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,[\"useEndpointData is deprecated, use @tanstack/react-query instead\"].concat(n))}:function(){},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(o({endpoint:e},t));var n=l(t.initialValue),s=n.resolve,d=n.reject,k=n.reset,b=r(n,f),g=i(),h=a(\"GET\",e,t.keys),v=u(function(){k(),h(t.params).then(s).catch(function(e){console.error(e),g({type:\"error\",message:e}),d(e)})},[k,h,t.params,s,g,d]);return c(function(){v()},[v]),o(o({},b),{},{reload:v})}}","map":"{\"version\":3,\"sources\":[\"client/hooks/useEndpointData.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { Serialized } from '@rocket.chat/core-typings';\\nimport type { OperationParams, OperationResult, PathPattern, UrlParams } from '@rocket.chat/rest-typings';\\nimport { useToastMessageDispatch, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useCallback, useEffect } from 'react';\\n\\nimport { getConfig } from '../lib/utils/getConfig';\\nimport type { AsyncState } from './useAsyncState';\\nimport { useAsyncState } from './useAsyncState';\\n\\nconst log = (name: string): Console['log'] =>\\n\\tprocess.env.NODE_ENV !== 'production' || getConfig('debug') === 'true'\\n\\t\\t? (...args): void => console.warn(name, ...args)\\n\\t\\t: (): void => undefined;\\n\\nconst deprecationWarning = log('useEndpointData is deprecated, use @tanstack/react-query instead');\\n\\n/**\\n * use @tanstack/react-query with useEndpoint instead\\n * @deprecated\\n */\\nexport const useEndpointData = <TPathPattern extends PathPattern>(\\n\\tendpoint: TPathPattern,\\n\\toptions: NoInfer<{\\n\\t\\tkeys?: UrlParams<TPathPattern>;\\n\\t\\tparams?: OperationParams<'GET', TPathPattern>;\\n\\t\\tinitialValue?: Serialized<OperationResult<'GET', TPathPattern>> | (() => Serialized<OperationResult<'GET', TPathPattern>>);\\n\\t}> = {},\\n): AsyncState<Serialized<OperationResult<'GET', TPathPattern>>> & {\\n\\treload: () => void;\\n} => {\\n\\tdeprecationWarning({ endpoint, ...options });\\n\\tconst { resolve, reject, reset, ...state } = useAsyncState(options.initialValue);\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst getData = useEndpoint('GET', endpoint, options.keys as UrlParams<TPathPattern>);\\n\\n\\tconst fetchData = useCallback(() => {\\n\\t\\treset();\\n\\t\\tgetData(options.params as OperationParams<'GET', TPathPattern>)\\n\\t\\t\\t.then(resolve)\\n\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\tconsole.error(error);\\n\\t\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\t\\ttype: 'error',\\n\\t\\t\\t\\t\\tmessage: error,\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\treject(error);\\n\\t\\t\\t});\\n\\t}, [reset, getData, options.params, resolve, dispatchToastMessage, reject]);\\n\\n\\tuseEffect(() => {\\n\\t\\tfetchData();\\n\\t}, [fetchData]);\\n\\n\\treturn {\\n\\t\\t...state,\\n\\t\\treload: fetchData,\\n\\t};\\n};\\n\",null],\"names\":[\"_objectWithoutProperties\",\"_objectSpread\",\"useToastMessageDispatch\",\"useEndpoint\",\"useCallback\",\"useEffect\",\"getConfig\",\"useAsyncState\",\"module\",\"link\",\"default\",\"v\",\"export\",\"useEndpointData\",\"deprecationWarning\",\"process\",\"_console\",\"_len\",\"arguments\",\"length\",\"args\",\"Array\",\"_key\",\"console\",\"warn\",\"apply\",\"concat\",\"endpoint\",\"options\",\"undefined\",\"_useAsyncState\",\"initialValue\",\"resolve\",\"reject\",\"reset\",\"state\",\"_excluded\",\"dispatchToastMessage\",\"getData\",\"keys\",\"fetchData\",\"params\",\"then\",\"catch\",\"error\",\"type\",\"message\",\"reload\"],\"mappings\":\"2BAEAA,EAAgFC,EAA3BC,EAA2BC,EAAAC,EAAAC,EAAAC,EAAAC,iCAAvEC,EAAyBC,IAAA,CAAA,iDAA8C,CAAAC,QAAA,SAAAC,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAhFH,EAAOI,MAAE,CAAA,CAAAC,gBAAA,WAAyB,OAAaA,CAAM,CAAA,GAA2BL,EAAAC,IAAA,CAAA,2BAAA,CAAAP,wBAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,YAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAL,YAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,UAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,yBAAA,CAAAH,UAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kBAAA,CAAAF,cAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAYhF,IAAMG,EAJLC,AAAyCT,AAAuB,SAAvBA,EAAU,SAChD,WAAA,IAAA,IAAAU,EAAAC,EAAAC,UAAAC,MAAA,CAAIC,EAAI,AAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAJF,CAAI,CAAAE,EAAA,CAAAJ,SAAA,CAAAI,EAAA,CAAA,MAAW,AAAAN,CAAAA,EAAAO,OAAAA,EAAQC,IAAI,CAAAC,KAAA,CAAAT,EAAA,CAGJ,mEAHS,CAAAU,MAAA,CAAKN,GAAK,EAC9C,WAAqB,EAQZP,EAAkB,SAC9Bc,CAAsB,EAQnB,IAPHC,EAAAV,UAAAC,MAAA,CAAA,GAAAD,AAAAW,KAAAA,IAAAX,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAIK,CAAA,EAILJ,EAAkBb,EAAA,CAAG0B,SAAAA,CAAQ,EAAKC,IAClC,IAAAE,EAA6CvB,EAAcqB,EAAQG,YAAY,EAAvEC,EAAOF,EAAPE,OAAO,CAAEC,EAAMH,EAANG,MAAM,CAAEC,EAAKJ,EAALI,KAAK,CAAKC,EAAKnC,EAAA8B,EAAAM,GAClCC,EAAuBnC,IACvBoC,EAAUnC,EAAY,MAAOwB,EAAUC,EAAQW,IAA+B,EAE9EC,EAAYpC,EAAY,WAC7B8B,IACAI,EAAQV,EAAQa,MAA8C,EAC5DC,IAAI,CAACV,GACLW,KAAK,CAAC,SAACC,CAAK,EACZrB,QAAQqB,KAAK,CAACA,GACdP,EAAqB,CACpBQ,KAAM,QACNC,QAASF,IAEVX,EAAOW,EACR,EACF,EAAG,CAACV,EAAOI,EAASV,EAAQa,MAAM,CAAET,EAASK,EAAsBJ,EAAO,EAM1E,OAJA5B,EAAU,WACTmC,GACD,EAAG,CAACA,EAAU,EAEdvC,EAAAA,EAAA,CAAA,EACIkC,GAAK,CAAA,EAAA,CACRY,OAAQP,CAAS,EAEnB\"}"}