{"code":"function module(e,n,t){var r,o,u,i,c,l,f=[\"loadMore\"];t.link(\"@babel/runtime/helpers/extends\",{default:function(e){r=e}},0),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){o=e}},1),t.link(\"@rocket.chat/fuselage\",{Box:function(e){u=e}},0),t.link(\"react\",{default:function(e){i=e},useEffect:function(e){c=e},useRef:function(e){l=e}},1),t.exportDefault(function(e){var n=e.loadMore,t=o(e,f),a=l(null);return c(function(){var e=a.current;if(e){var t=new IntersectionObserver(function(e){e[0].isIntersecting&&n()},{root:null,threshold:.1});return t.observe(e),function(){return t.disconnect()}}},[n]),i.createElement(u,r({width:5,height:5,ref:a},t))})}","map":"{\"version\":3,\"sources\":[\"client/components/InfiniteListAnchor.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box } from '@rocket.chat/fuselage';\\nimport type { ComponentProps } from 'react';\\nimport React, { useEffect, useRef } from 'react';\\n\\ntype InfiniteListAnchorProps = {\\n\\tloadMore: () => void;\\n} & ComponentProps<typeof Box>;\\n\\nconst InfiniteListAnchor = ({ loadMore, ...props }: InfiniteListAnchorProps) => {\\n\\tconst ref = useRef<HTMLDivElement | null>(null);\\n\\n\\tuseEffect(() => {\\n\\t\\tconst target = ref.current;\\n\\n\\t\\tif (!target) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst observer = new IntersectionObserver(\\n\\t\\t\\t(e) => {\\n\\t\\t\\t\\tif (e[0].isIntersecting) {\\n\\t\\t\\t\\t\\tloadMore();\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\troot: null,\\n\\t\\t\\t\\tthreshold: 0.1,\\n\\t\\t\\t},\\n\\t\\t);\\n\\n\\t\\tobserver.observe(target);\\n\\n\\t\\treturn () => observer.disconnect();\\n\\t}, [loadMore]);\\n\\n\\treturn <Box width={5} height={5} ref={ref} {...props} />;\\n};\\n\\nexport default InfiniteListAnchor;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Box\",\"React\",\"useEffect\",\"useRef\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"loadMore\",\"props\",\"_excluded\",\"ref\",\"target\",\"current\",\"observer\",\"IntersectionObserver\",\"e\",\"isIntersecting\",\"root\",\"threshold\",\"observe\",\"disconnect\",\"createElement\",\"width\",\"height\"],\"mappings\":\"2BAAAA,EAA4CC,EAA5CC,EAA4CC,EAAAC,EAAAC,iBAAhCC,EAAQC,IAAA,CAAA,iCAAwB,CAAAC,QAAA,SAAAC,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iDAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAArCH,EAAOC,IAAA,CAAM,wBAAwB,CAAAL,IAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAM,CAAA,EAAAL,UAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,EAAAJ,OAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAA5CH,EAAOI,aAAa,CAQO,SAAAC,CAAA,EAAoD,IAAjDC,EAAQD,EAARC,QAAQ,CAAKC,EAAKZ,EAAAU,EAAAG,GACzCC,EAAMV,EAA8B,MA0B1C,OAxBAD,EAAU,WACT,IAAMY,EAASD,EAAIE,OAAO,CAE1B,GAAKD,GAIL,IAAME,EAAW,IAAIC,qBACpB,SAACC,CAAC,EACGA,CAAC,CAAC,EAAE,CAACC,cAAc,EACtBT,GAEF,EACA,CACCU,KAAM,KACNC,UAAW,KAMb,OAFAL,EAASM,OAAO,CAACR,GAEV,WAAA,OAAME,EAASO,UAAU,EAAE,EACnC,EAAG,CAACb,EAAS,EAENT,EAAAuB,aAAA,CAACxB,EAAGF,EAAA,CAAC2B,MAAO,EAAGC,OAAQ,EAAGb,IAAKA,CAAI,EAAKF,GAChD\"}"}