{"code":"function module(e,t,n){var r,a,o,i,l,s,u,c,d,m,p,f,g,_,E,v,y,w,h,S,k,P,b,T,F;n.link(\"@babel/runtime/helpers/extends\",{default:function(e){r=e}},0),n.link(\"@babel/runtime/regenerator\",{default:function(e){a=e}},1),n.link(\"@rocket.chat/fuselage\",{Button:function(e){o=e},ButtonGroup:function(e){i=e},Table:function(e){l=e},TableHead:function(e){s=e},TableCell:function(e){u=e},TableRow:function(e){c=e},TableBody:function(e){d=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMediaQuery:function(e){m=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){p=e},useEndpoint:function(e){f=e},useTranslation:function(e){g=e},useRouter:function(e){_=e}},2),n.link(\"@tanstack/react-query\",{useQuery:function(e){E=e},useMutation:function(e){v=e},useQueryClient:function(e){y=e}},3),n.link(\"react\",{default:function(e){w=e},useMemo:function(e){h=e}},4),n.link(\"../../../../app/importer/lib/ImporterProgressStep\",{ProgressStep:function(e){S=e}},5),n.link(\"../../../components/Page\",{Page:function(e){k=e},PageHeader:function(e){P=e},PageScrollableContentWithShadow:function(e){b=e}},6),n.link(\"./ImportOperationSummary\",{default:function(e){T=e}},7),n.link(\"./ImportOperationSummarySkeleton\",{default:function(e){F=e}},8),n.exportDefault(function(){var e,t=y(),n=g(),I=p(),x=f(\"POST\",\"/v1/downloadPendingFiles\"),O=f(\"POST\",\"/v1/downloadPendingAvatars\"),L=f(\"GET\",\"/v1/getCurrentImportOperation\"),C=f(\"GET\",\"/v1/getLatestImportOperations\"),D=_(),H=E([\"ImportHistoryPage\",\"currentOperation\"],function(){var e,t;return a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.awrap(L());case 2:return t=void 0===(e=n.sent.operation)?{valid:!1}:e,n.abrupt(\"return\",t);case 6:case\"end\":return n.stop()}},null,null,null,Promise)},{onError:function(){return I({type:\"error\",message:n(\"Failed_To_Load_Import_Operation\")})}}),Q=E([\"ImportHistoryPage\",\"latestOperations\"],function(){var e;return a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.awrap(C());case 2:return e=t.sent,t.abrupt(\"return\",e);case 4:case\"end\":return t.stop()}},null,null,null,Promise)},{onError:function(){return I({type:\"error\",message:n(\"Failed_To_Load_Import_History\")})}}),M=H.isLoading||Q.isLoading,N=h(function(){return Q.isSuccess&&Q.data.some(function(e){return e.status===S.DONE})},[Q.isSuccess,Q.data]),A=v({mutationFn:function(){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",x());case 1:case\"end\":return e.stop()}},null,null,null,Promise)},onError:function(e){console.error(e),I({type:\"error\",message:n(\"Failed_To_Download_Files\")})},onSuccess:function(e){var r=e.count;if(t.invalidateQueries([\"ImportHistoryPage\",\"currentOperation\"]),t.invalidateQueries([\"ImportHistoryPage\",\"latestOperations\"]),!r){I({type:\"info\",message:n(\"No_files_left_to_download\")});return}I({type:\"info\",message:n(\"File_Downloads_Started\")}),D.navigate(\"/admin/import/progress\")}}),B=v({mutationFn:function(){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",O());case 1:case\"end\":return e.stop()}},null,null,null,Promise)},onError:function(e){console.error(e),I({type:\"error\",message:n(\"Failed_To_Download_Files\")})},onSuccess:function(e){var r=e.count;if(t.invalidateQueries([\"ImportHistoryPage\",\"currentOperation\"]),t.invalidateQueries([\"ImportHistoryPage\",\"latestOperations\"]),!r){I({type:\"info\",message:n(\"No_files_left_to_download\")});return}I({type:\"info\",message:n(\"File_Downloads_Started\")}),D.navigate(\"/admin/import/progress\")}}),G=m(\"(max-width: 768px)\");return w.createElement(k,null,w.createElement(P,{title:n(\"Import\")},w.createElement(i,null,w.createElement(o,{primary:!0,disabled:M,onClick:function(){D.navigate(\"/admin/import/new\")}},n(\"Import_New_File\")),N&&w.createElement(o,{loading:A.isLoading,disabled:B.isLoading,onClick:function(){return A.mutate()}},n(\"Download_Pending_Files\")),N&&w.createElement(o,{loading:B.isLoading,disabled:A.isLoading,onClick:function(){return B.mutate()}},n(\"Download_Pending_Avatars\")))),w.createElement(b,null,w.createElement(l,{fixed:!0,\"data-qa-id\":\"ImportTable\"},w.createElement(s,null,w.createElement(c,null,w.createElement(u,{is:\"th\",rowSpan:2,width:\"x140\"},n(\"Import_Type\")),w.createElement(u,{is:\"th\",rowSpan:2},n(\"Last_Updated\")),!G&&w.createElement(w.Fragment,null,w.createElement(u,{is:\"th\",rowSpan:2},n(\"Last_Status\")),w.createElement(u,{is:\"th\",rowSpan:2},n(\"File\")),w.createElement(u,{is:\"th\",align:\"center\",colSpan:4,width:\"x320\"},n(\"Counters\")))),!G&&w.createElement(c,null,w.createElement(u,{is:\"th\",align:\"center\"},n(\"Users\")),w.createElement(u,{is:\"th\",align:\"center\"},n(\"Channels\")),w.createElement(u,{is:\"th\",align:\"center\"},n(\"Messages\")),w.createElement(u,{is:\"th\",align:\"center\"},n(\"Total\")))),w.createElement(d,null,M&&w.createElement(w.Fragment,null,Array.from({length:20},function(e,t){return w.createElement(F,{key:t,small:G})})),H.isSuccess&&H.data.valid&&w.createElement(T,r({},H.data,{small:G})),H.isSuccess&&Q.isSuccess&&w.createElement(w.Fragment,null,null===(e=Q.data.filter(function(e){var t=e._id;return!H.data.valid||H.data._id!==t}))||void 0===e?void 0:e.map(function(e){return w.createElement(T,r({key:e._id},e,{valid:!1,small:G}))}))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/import/ImportHistoryPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Button, ButtonGroup, Table, TableHead, TableCell, TableRow, TableBody } from '@rocket.chat/fuselage';\\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\\nimport { useToastMessageDispatch, useEndpoint, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\\nimport React, { useMemo } from 'react';\\n\\nimport { ProgressStep } from '../../../../app/importer/lib/ImporterProgressStep';\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport ImportOperationSummary from './ImportOperationSummary';\\nimport ImportOperationSummarySkeleton from './ImportOperationSummarySkeleton';\\n\\n// TODO: review inner logic\\nfunction ImportHistoryPage() {\\n\\tconst queryClient = useQueryClient();\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst downloadPendingFiles = useEndpoint('POST', '/v1/downloadPendingFiles');\\n\\tconst downloadPendingAvatars = useEndpoint('POST', '/v1/downloadPendingAvatars');\\n\\n\\tconst getCurrentImportOperation = useEndpoint('GET', '/v1/getCurrentImportOperation');\\n\\tconst getLatestImportOperations = useEndpoint('GET', '/v1/getLatestImportOperations');\\n\\n\\tconst router = useRouter();\\n\\n\\tconst currentOperation = useQuery(\\n\\t\\t['ImportHistoryPage', 'currentOperation'],\\n\\t\\tasync () => {\\n\\t\\t\\tconst { operation = { valid: false } } = await getCurrentImportOperation();\\n\\t\\t\\treturn operation;\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tonError: () => dispatchToastMessage({ type: 'error', message: t('Failed_To_Load_Import_Operation') }),\\n\\t\\t},\\n\\t);\\n\\n\\tconst latestOperations = useQuery(\\n\\t\\t['ImportHistoryPage', 'latestOperations'],\\n\\t\\tasync () => {\\n\\t\\t\\tconst operations = await getLatestImportOperations();\\n\\t\\t\\treturn operations;\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tonError: () => dispatchToastMessage({ type: 'error', message: t('Failed_To_Load_Import_History') }),\\n\\t\\t},\\n\\t);\\n\\n\\tconst isLoading = currentOperation.isLoading || latestOperations.isLoading;\\n\\n\\tconst hasAnySuccessfulImport = useMemo(() => {\\n\\t\\treturn latestOperations.isSuccess && latestOperations.data.some(({ status }) => status === ProgressStep.DONE);\\n\\t}, [latestOperations.isSuccess, latestOperations.data]);\\n\\n\\tconst handleNewImportClick = () => {\\n\\t\\trouter.navigate('/admin/import/new');\\n\\t};\\n\\n\\tconst downloadPendingFilesResult = useMutation({\\n\\t\\tmutationFn: async () => downloadPendingFiles(),\\n\\t\\tonError: (error) => {\\n\\t\\t\\tconsole.error(error);\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('Failed_To_Download_Files') });\\n\\t\\t},\\n\\t\\tonSuccess: ({ count }) => {\\n\\t\\t\\tqueryClient.invalidateQueries(['ImportHistoryPage', 'currentOperation']);\\n\\t\\t\\tqueryClient.invalidateQueries(['ImportHistoryPage', 'latestOperations']);\\n\\t\\t\\tif (!count) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'info', message: t('No_files_left_to_download') });\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tdispatchToastMessage({ type: 'info', message: t('File_Downloads_Started') });\\n\\t\\t\\trouter.navigate('/admin/import/progress');\\n\\t\\t},\\n\\t});\\n\\n\\tconst downloadPendingAvatarsResult = useMutation({\\n\\t\\tmutationFn: async () => downloadPendingAvatars(),\\n\\t\\tonError: (error) => {\\n\\t\\t\\tconsole.error(error);\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('Failed_To_Download_Files') });\\n\\t\\t},\\n\\t\\tonSuccess: ({ count }) => {\\n\\t\\t\\tqueryClient.invalidateQueries(['ImportHistoryPage', 'currentOperation']);\\n\\t\\t\\tqueryClient.invalidateQueries(['ImportHistoryPage', 'latestOperations']);\\n\\t\\t\\tif (!count) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'info', message: t('No_files_left_to_download') });\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tdispatchToastMessage({ type: 'info', message: t('File_Downloads_Started') });\\n\\t\\t\\trouter.navigate('/admin/import/progress');\\n\\t\\t},\\n\\t});\\n\\n\\tconst small = useMediaQuery('(max-width: 768px)');\\n\\n\\treturn (\\n\\t\\t<Page>\\n\\t\\t\\t<PageHeader title={t('Import')}>\\n\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t<Button primary disabled={isLoading} onClick={handleNewImportClick}>\\n\\t\\t\\t\\t\\t\\t{t('Import_New_File')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t{hasAnySuccessfulImport && (\\n\\t\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\t\\tloading={downloadPendingFilesResult.isLoading}\\n\\t\\t\\t\\t\\t\\t\\tdisabled={downloadPendingAvatarsResult.isLoading}\\n\\t\\t\\t\\t\\t\\t\\tonClick={() => downloadPendingFilesResult.mutate()}\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t{t('Download_Pending_Files')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{hasAnySuccessfulImport && (\\n\\t\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\t\\tloading={downloadPendingAvatarsResult.isLoading}\\n\\t\\t\\t\\t\\t\\t\\tdisabled={downloadPendingFilesResult.isLoading}\\n\\t\\t\\t\\t\\t\\t\\tonClick={() => downloadPendingAvatarsResult.mutate()}\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t{t('Download_Pending_Avatars')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</PageHeader>\\n\\t\\t\\t<PageScrollableContentWithShadow>\\n\\t\\t\\t\\t<Table fixed data-qa-id='ImportTable'>\\n\\t\\t\\t\\t\\t<TableHead>\\n\\t\\t\\t\\t\\t\\t<TableRow>\\n\\t\\t\\t\\t\\t\\t\\t<TableCell is='th' rowSpan={2} width='x140'>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Import_Type')}\\n\\t\\t\\t\\t\\t\\t\\t</TableCell>\\n\\t\\t\\t\\t\\t\\t\\t<TableCell is='th' rowSpan={2}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Last_Updated')}\\n\\t\\t\\t\\t\\t\\t\\t</TableCell>\\n\\t\\t\\t\\t\\t\\t\\t{!small && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<TableCell is='th' rowSpan={2}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Last_Status')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</TableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<TableCell is='th' rowSpan={2}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('File')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</TableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<TableCell is='th' align='center' colSpan={4} width='x320'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Counters')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</TableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</TableRow>\\n\\t\\t\\t\\t\\t\\t{!small && (\\n\\t\\t\\t\\t\\t\\t\\t<TableRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<TableCell is='th' align='center'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Users')}\\n\\t\\t\\t\\t\\t\\t\\t\\t</TableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t<TableCell is='th' align='center'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Channels')}\\n\\t\\t\\t\\t\\t\\t\\t\\t</TableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t<TableCell is='th' align='center'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Messages')}\\n\\t\\t\\t\\t\\t\\t\\t\\t</TableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t<TableCell is='th' align='center'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Total')}\\n\\t\\t\\t\\t\\t\\t\\t\\t</TableCell>\\n\\t\\t\\t\\t\\t\\t\\t</TableRow>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</TableHead>\\n\\t\\t\\t\\t\\t<TableBody>\\n\\t\\t\\t\\t\\t\\t{isLoading && (\\n\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t{Array.from({ length: 20 }, (_, i) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ImportOperationSummarySkeleton key={i} small={small} />\\n\\t\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t\\t\\t{currentOperation.isSuccess && currentOperation.data.valid && (\\n\\t\\t\\t\\t\\t\\t\\t<ImportOperationSummary {...currentOperation.data} small={small} />\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t{currentOperation.isSuccess && latestOperations.isSuccess && (\\n\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t{latestOperations.data\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t.filter(({ _id }) => !currentOperation.data.valid || currentOperation.data._id !== _id)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// Forcing valid=false as the current API only accept preparation/progress over currentOperation\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t?.map((operation) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ImportOperationSummary key={operation._id} {...operation} valid={false} small={small} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</TableBody>\\n\\t\\t\\t\\t</Table>\\n\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t</Page>\\n\\t);\\n}\\n\\nexport default ImportHistoryPage;\\n\",null],\"names\":[\"_extends\",\"_regeneratorRuntime\",\"Button\",\"ButtonGroup\",\"Table\",\"TableHead\",\"TableCell\",\"TableRow\",\"TableBody\",\"useMediaQuery\",\"useToastMessageDispatch\",\"useEndpoint\",\"useTranslation\",\"useRouter\",\"useQuery\",\"useMutation\",\"useQueryClient\",\"React\",\"useMemo\",\"ProgressStep\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"ImportOperationSummary\",\"ImportOperationSummarySkeleton\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_latestOperations$dat\",\"queryClient\",\"t\",\"dispatchToastMessage\",\"downloadPendingFiles\",\"downloadPendingAvatars\",\"getCurrentImportOperation\",\"getLatestImportOperations\",\"router\",\"currentOperation\",\"_await$getCurrentImpo2\",\"operation\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"_await$getCurrentImpo\",\"sent\",\"valid\",\"abrupt\",\"stop\",\"Promise\",\"onError\",\"type\",\"message\",\"latestOperations\",\"operations\",\"_context2\",\"isLoading\",\"hasAnySuccessfulImport\",\"isSuccess\",\"data\",\"some\",\"_ref\",\"status\",\"DONE\",\"downloadPendingFilesResult\",\"mutationFn\",\"_context3\",\"error\",\"console\",\"onSuccess\",\"_ref2\",\"count\",\"invalidateQueries\",\"navigate\",\"downloadPendingAvatarsResult\",\"_context4\",\"_ref3\",\"small\",\"createElement\",\"title\",\"primary\",\"disabled\",\"onClick\",\"loading\",\"mutate\",\"fixed\",\"is\",\"rowSpan\",\"width\",\"Fragment\",\"align\",\"colSpan\",\"Array\",\"from\",\"length\",\"_\",\"i\",\"key\",\"filter\",\"_ref4\",\"_id\",\"map\"],\"mappings\":\"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\"}"}