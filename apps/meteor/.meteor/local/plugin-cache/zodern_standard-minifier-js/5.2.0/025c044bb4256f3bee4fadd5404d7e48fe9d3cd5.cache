{"code":"function module(t,n,e){var i,a,c,o,u,r,l,s,f,g,d,k,p;e.link(\"@rocket.chat/core-typings\",{isSetting:function(t){i=t},isSettingColor:function(t){a=t}},0),e.link(\"@rocket.chat/fuselage\",{Accordion:function(t){c=t},Box:function(t){o=t},Button:function(t){u=t},FieldGroup:function(t){r=t}},1),e.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(t){l=t}},2),e.link(\"react\",{default:function(t){s=t},useMemo:function(t){f=t}},3),e.link(\"react-i18next\",{useTranslation:function(t){g=t}},4),e.link(\"../../EditableSettingsContext\",{useEditableSettings:function(t){d=t},useEditableSettingsDispatch:function(t){k=t}},5),e.link(\"../Setting\",{default:function(t){p=t}},6),e.exportDefault(function(t){var n=t.groupId,e=t.hasReset,S=void 0===e||e,h=t.sectionName,m=t.currentTab,y=t.solo,E=t.help,b=t.children,v=g().t,N=d(f(function(){return{group:n,section:h,tab:m}},[n,h,m])),J=f(function(){return N.some(function(t){return t.changed})},[N]),O=f(function(){return N.some(function(t){var n=t.value,e=t.packageValue;return JSON.stringify(n)!==JSON.stringify(e)})},[N]),_=k(),C=l(function(){_(N.filter(function(t){return!t.disabled}).map(function(t){return a(t)?{_id:t._id,value:t.packageValue,editor:t.packageEditor,changed:JSON.stringify(t.value)!==JSON.stringify(t.packageValue)||JSON.stringify(t.editor)!==JSON.stringify(t.packageEditor)}:{_id:t._id,value:t.packageValue,changed:JSON.stringify(t.value)!==JSON.stringify(t.packageValue)}}))});return s.createElement(c.Item,{\"data-qa-section\":h,noncollapsible:y||!h,title:h&&v(h)},E&&s.createElement(o,{is:\"p\",color:\"hint\",fontScale:\"p2\"},E),s.createElement(r,null,N.map(function(t){return i(t)&&s.createElement(p,{key:t._id,settingId:t._id,sectionChanged:J})}),b),S&&O&&s.createElement(u,{children:v(\"Reset_section_settings\"),secondary:!0,danger:!0,marginBlockStart:16,\"data-section\":h,onClick:function(){C()}}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/settings/SettingsSection/SettingsSection.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { isSetting, isSettingColor } from '@rocket.chat/core-typings';\\nimport { Accordion, Box, Button, FieldGroup } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement, ReactNode } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useEditableSettings, useEditableSettingsDispatch } from '../../EditableSettingsContext';\\nimport Setting from '../Setting';\\n\\ntype SettingsSectionProps = {\\n\\tgroupId: string;\\n\\thasReset?: boolean;\\n\\tsectionName: string;\\n\\tcurrentTab?: string;\\n\\tsolo: boolean;\\n\\thelp?: ReactNode;\\n\\tchildren?: ReactNode;\\n};\\n\\nfunction SettingsSection({ groupId, hasReset = true, sectionName, currentTab, solo, help, children }: SettingsSectionProps): ReactElement {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst editableSettings = useEditableSettings(\\n\\t\\tuseMemo(\\n\\t\\t\\t() => ({\\n\\t\\t\\t\\tgroup: groupId,\\n\\t\\t\\t\\tsection: sectionName,\\n\\t\\t\\t\\ttab: currentTab,\\n\\t\\t\\t}),\\n\\t\\t\\t[groupId, sectionName, currentTab],\\n\\t\\t),\\n\\t);\\n\\n\\tconst changed = useMemo(() => editableSettings.some(({ changed }) => changed), [editableSettings]);\\n\\n\\tconst canReset = useMemo(\\n\\t\\t() => editableSettings.some(({ value, packageValue }) => JSON.stringify(value) !== JSON.stringify(packageValue)),\\n\\t\\t[editableSettings],\\n\\t);\\n\\n\\tconst dispatch = useEditableSettingsDispatch();\\n\\n\\tconst reset = useMutableCallback(() => {\\n\\t\\tdispatch(\\n\\t\\t\\teditableSettings\\n\\t\\t\\t\\t.filter(({ disabled }) => !disabled)\\n\\t\\t\\t\\t.map((setting) => {\\n\\t\\t\\t\\t\\tif (isSettingColor(setting)) {\\n\\t\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\t\\t_id: setting._id,\\n\\t\\t\\t\\t\\t\\t\\tvalue: setting.packageValue,\\n\\t\\t\\t\\t\\t\\t\\teditor: setting.packageEditor,\\n\\t\\t\\t\\t\\t\\t\\tchanged:\\n\\t\\t\\t\\t\\t\\t\\t\\tJSON.stringify(setting.value) !== JSON.stringify(setting.packageValue) ||\\n\\t\\t\\t\\t\\t\\t\\t\\tJSON.stringify(setting.editor) !== JSON.stringify(setting.packageEditor),\\n\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\t_id: setting._id,\\n\\t\\t\\t\\t\\t\\tvalue: setting.packageValue,\\n\\t\\t\\t\\t\\t\\tchanged: JSON.stringify(setting.value) !== JSON.stringify(setting.packageValue),\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}),\\n\\t\\t);\\n\\t});\\n\\n\\tconst handleResetSectionClick = (): void => {\\n\\t\\treset();\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Accordion.Item\\n\\t\\t\\tdata-qa-section={sectionName}\\n\\t\\t\\tnoncollapsible={solo || !sectionName}\\n\\t\\t\\ttitle={sectionName && t(sectionName as TranslationKey)}\\n\\t\\t>\\n\\t\\t\\t{help && (\\n\\t\\t\\t\\t<Box is='p' color='hint' fontScale='p2'>\\n\\t\\t\\t\\t\\t{help}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t)}\\n\\t\\t\\t<FieldGroup>\\n\\t\\t\\t\\t{editableSettings.map(\\n\\t\\t\\t\\t\\t(setting) => isSetting(setting) && <Setting key={setting._id} settingId={setting._id} sectionChanged={changed} />,\\n\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t{children}\\n\\t\\t\\t</FieldGroup>\\n\\t\\t\\t{hasReset && canReset && (\\n\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\tchildren={t('Reset_section_settings')}\\n\\t\\t\\t\\t\\tsecondary\\n\\t\\t\\t\\t\\tdanger\\n\\t\\t\\t\\t\\tmarginBlockStart={16}\\n\\t\\t\\t\\t\\tdata-section={sectionName}\\n\\t\\t\\t\\t\\tonClick={handleResetSectionClick}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\t\\t</Accordion.Item>\\n\\t);\\n}\\n\\nexport default SettingsSection;\\n\",null],\"names\":[\"isSetting\",\"isSettingColor\",\"Accordion\",\"Box\",\"Button\",\"FieldGroup\",\"useMutableCallback\",\"React\",\"useMemo\",\"useTranslation\",\"useEditableSettings\",\"useEditableSettingsDispatch\",\"Setting\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"groupId\",\"_ref$hasReset\",\"hasReset\",\"sectionName\",\"currentTab\",\"solo\",\"help\",\"children\",\"t\",\"_useTranslation\",\"editableSettings\",\"group\",\"section\",\"tab\",\"changed\",\"some\",\"_ref2\",\"canReset\",\"_ref3\",\"value\",\"packageValue\",\"JSON\",\"stringify\",\"dispatch\",\"reset\",\"filter\",\"_ref4\",\"disabled\",\"map\",\"setting\",\"_id\",\"editor\",\"packageEditor\",\"createElement\",\"Item\",\"noncollapsible\",\"title\",\"is\",\"color\",\"fontScale\",\"key\",\"settingId\",\"sectionChanged\",\"secondary\",\"danger\",\"marginBlockStart\",\"onClick\"],\"mappings\":\"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\"}"}