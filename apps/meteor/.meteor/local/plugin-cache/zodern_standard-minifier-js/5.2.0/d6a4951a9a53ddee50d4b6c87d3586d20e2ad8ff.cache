{"code":"function module(e,t,o){let l,n,a,i,u,r,s;o.export({useOTR:()=>R}),o.link(\"@rocket.chat/ui-contexts\",{useUserId(e){l=e}},0),o.link(\"react\",{useMemo(e){n=e},useCallback(e){a=e}},1),o.link(\"../../app/otr/client/OTR\",{default(e){i=e}},2),o.link(\"../../app/otr/lib/OtrRoomState\",{OtrRoomState(e){u=e}},3),o.link(\"../views/room/contexts/RoomContext\",{useRoom(e){r=e}},4),o.link(\"./useReactiveValue\",{useReactiveValue(e){s=e}},5);let R=()=>{let e=l(),t=r(),o=n(()=>{if(e&&t)return i.getInstanceByRoomId(e,t._id)},[e,t]),R=s(a(()=>o?o.getState():u.ERROR,[o]));return{otr:o,otrState:R}}}","map":"{\"version\":3,\"sources\":[\"client/hooks/useOTR.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useUserId } from '@rocket.chat/ui-contexts';\\nimport { useMemo, useCallback } from 'react';\\n\\nimport OTR from '../../app/otr/client/OTR';\\nimport type { OTRRoom } from '../../app/otr/client/OTRRoom';\\nimport { OtrRoomState } from '../../app/otr/lib/OtrRoomState';\\nimport { useRoom } from '../views/room/contexts/RoomContext';\\nimport { useReactiveValue } from './useReactiveValue';\\n\\nexport const useOTR = (): { otr: OTRRoom | undefined; otrState: OtrRoomState } => {\\n\\tconst uid = useUserId();\\n\\tconst room = useRoom();\\n\\n\\tconst otr = useMemo(() => {\\n\\t\\tif (!uid || !room) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\treturn OTR.getInstanceByRoomId(uid, room._id);\\n\\t}, [uid, room]);\\n\\n\\tconst otrState = useReactiveValue(useCallback(() => (otr ? otr.getState() : OtrRoomState.ERROR), [otr]));\\n\\n\\treturn {\\n\\t\\totr,\\n\\t\\totrState,\\n\\t};\\n};\\n\",null],\"names\":[\"useUserId\",\"useMemo\",\"useCallback\",\"OTR\",\"OtrRoomState\",\"useRoom\",\"useReactiveValue\",\"module\",\"export\",\"useOTR\",\"link\",\"v\",\"default\",\"uid\",\"room\",\"otr\",\"getInstanceByRoomId\",\"_id\",\"otrState\",\"getState\",\"ERROR\"],\"mappings\":\"2BAA0BA,EAA2BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAArDC,EAAOC,MAAE,CAAA,CAAAC,OAAWA,IAAMA,CAAA,GAAAF,EAA2BG,IAAA,CAAA,2BAAA,CAAAV,UAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAT,QAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,YAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,2BAAA,CAAAE,QAAAD,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,iCAAA,CAAAN,aAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,qCAAA,CAAAL,QAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,qBAAA,CAAAJ,iBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAS9C,IAAMF,EAASA,KACrB,IAAMI,EAAMb,IACNc,EAAOT,IAEPU,EAAMd,EAAQ,KACnB,GAAI,AAACY,GAAQC,EAIb,OAAOX,EAAIa,mBAAmB,CAACH,EAAKC,EAAKG,GAAG,CAC7C,EAAG,CAACJ,EAAKC,EAAK,EAERI,EAAWZ,EAAiBJ,EAAY,IAAOa,EAAMA,EAAII,QAAQ,GAAKf,EAAagB,KAAM,CAAE,CAACL,EAAI,GAEtG,MAAO,CACNA,IAAAA,EACAG,SAAAA,EAEF\"}"}