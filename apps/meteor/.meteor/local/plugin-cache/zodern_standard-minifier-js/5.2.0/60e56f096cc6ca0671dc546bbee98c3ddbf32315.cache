{"code":"function module(e,n,t){var o,i,l,r,a,c,u,m,s,d,f;t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},CheckBox:function(e){i=e}},0),t.link(\"react\",{default:function(e){l=e},useMemo:function(e){r=e}},1),t.link(\"react-i18next\",{useTranslation:function(e){a=e}},2),t.link(\"../../../components/GenericTable\",{GenericTable:function(e){c=e},GenericTableHeaderCell:function(e){u=e},GenericTableHeader:function(e){m=e},GenericTableBody:function(e){s=e}},3),t.link(\"../../../components/GenericTable/hooks/useSort\",{useSort:function(e){d=e}},4),t.link(\"./ChannelDesertionTableRow\",{default:function(e){f=e}},5),t.exportDefault(function(e){var n=e.rooms,t=e.eligibleRoomsLength,k=e.onChangeRoomSelection,h=e.selectedRooms,g=e.onToggleAllRooms,v=e.lastOwnerWarning,b=d(\"name\"),C=b.sortBy,E=b.sortDirection,x=b.setSort,T=a().t,p=Object.values(h).filter(Boolean).length,y=r(function(){if(!n)return[];var e=\"asc\"===E?1:-1;return n.sort(function(n,t){var o,i,l;return n[C]&&t[C]?(null!==(o=null===(i=n[C])||void 0===i?void 0:i.localeCompare(null!==(l=t[C])&&void 0!==l?l:\"\"))&&void 0!==o?o:1)*e:e})},[n,C,E]);return l.createElement(o,{display:\"flex\",flexDirection:\"column\",height:\"x200\",mbs:24},l.createElement(c,{fixed:!1},l.createElement(m,null,l.createElement(u,{key:\"name\",sort:\"name\",onClick:x,direction:E,active:\"name\"===C},l.createElement(i,{indeterminate:!!t&&t>p&&p>0,checked:t===p,onChange:g}),l.createElement(o,{mi:8},T(\"Channel_name\"))),l.createElement(u,{key:\"ts\",sort:\"ts\",onClick:x,direction:E,active:\"ts\"===C},l.createElement(o,{width:\"100%\",textAlign:\"end\"},T(\"Joined_at\")))),l.createElement(s,null,null==y?void 0:y.map(function(e,n){return l.createElement(f,{key:n,room:e,onChange:k,selected:\"_id\"in e&&!!e._id&&!!h[e._id],lastOwnerWarning:v})}))))})}","map":"{\"version\":3,\"sources\":[\"client/views/teams/ChannelDesertionTable/ChannelDesertionTable.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom, Serialized } from '@rocket.chat/core-typings';\\nimport { Box, CheckBox } from '@rocket.chat/fuselage';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { GenericTable, GenericTableHeaderCell, GenericTableHeader, GenericTableBody } from '../../../components/GenericTable';\\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\\nimport ChannelDesertionTableRow from './ChannelDesertionTableRow';\\n\\ntype ChannelDesertionTableProps = {\\n\\tlastOwnerWarning?: string;\\n\\trooms?: (Serialized<IRoom> & { isLastOwner?: boolean })[];\\n\\teligibleRoomsLength: number | undefined;\\n\\tonChangeRoomSelection: (room: Serialized<IRoom>) => void;\\n\\tselectedRooms: { [key: string]: Serialized<IRoom> };\\n\\tonToggleAllRooms: () => void;\\n};\\n\\nconst ChannelDesertionTable = ({\\n\\trooms,\\n\\teligibleRoomsLength,\\n\\tonChangeRoomSelection,\\n\\tselectedRooms,\\n\\tonToggleAllRooms,\\n\\tlastOwnerWarning,\\n}: ChannelDesertionTableProps) => {\\n\\tconst { sortBy, sortDirection, setSort } = useSort<'name' | 'ts'>('name');\\n\\n\\tconst { t } = useTranslation();\\n\\n\\tconst selectedRoomsLength = Object.values(selectedRooms).filter(Boolean).length;\\n\\n\\tconst checked = eligibleRoomsLength === selectedRoomsLength;\\n\\tconst indeterminate = eligibleRoomsLength && eligibleRoomsLength > selectedRoomsLength ? selectedRoomsLength > 0 : false;\\n\\n\\tconst results = useMemo(() => {\\n\\t\\tif (!rooms) {\\n\\t\\t\\treturn [];\\n\\t\\t}\\n\\n\\t\\tconst direction = sortDirection === 'asc' ? 1 : -1;\\n\\n\\t\\treturn rooms.sort((a, b) =>\\n\\t\\t\\t// eslint-disable-next-line no-nested-ternary\\n\\t\\t\\ta[sortBy] && b[sortBy] ? (a[sortBy]?.localeCompare(b[sortBy] ?? '') ?? 1) * direction : direction,\\n\\t\\t);\\n\\t}, [rooms, sortBy, sortDirection]);\\n\\n\\treturn (\\n\\t\\t<Box display='flex' flexDirection='column' height='x200' mbs={24}>\\n\\t\\t\\t<GenericTable fixed={false}>\\n\\t\\t\\t\\t<GenericTableHeader>\\n\\t\\t\\t\\t\\t<GenericTableHeaderCell key='name' sort='name' onClick={setSort} direction={sortDirection} active={sortBy === 'name'}>\\n\\t\\t\\t\\t\\t\\t<CheckBox indeterminate={indeterminate} checked={checked} onChange={onToggleAllRooms} />\\n\\t\\t\\t\\t\\t\\t<Box mi={8}>{t('Channel_name')}</Box>\\n\\t\\t\\t\\t\\t</GenericTableHeaderCell>\\n\\t\\t\\t\\t\\t<GenericTableHeaderCell key='ts' sort='ts' onClick={setSort} direction={sortDirection} active={sortBy === 'ts'}>\\n\\t\\t\\t\\t\\t\\t<Box width='100%' textAlign='end'>\\n\\t\\t\\t\\t\\t\\t\\t{t('Joined_at')}\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</GenericTableHeaderCell>\\n\\t\\t\\t\\t</GenericTableHeader>\\n\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t{results?.map(\\n\\t\\t\\t\\t\\t\\t(room, key): ReactElement => (\\n\\t\\t\\t\\t\\t\\t\\t<ChannelDesertionTableRow\\n\\t\\t\\t\\t\\t\\t\\t\\tkey={key}\\n\\t\\t\\t\\t\\t\\t\\t\\troom={room}\\n\\t\\t\\t\\t\\t\\t\\t\\tonChange={onChangeRoomSelection}\\n\\t\\t\\t\\t\\t\\t\\t\\tselected={'_id' in room && room._id ? !!selectedRooms[room._id] : false}\\n\\t\\t\\t\\t\\t\\t\\t\\tlastOwnerWarning={lastOwnerWarning}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t),\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t</GenericTable>\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default ChannelDesertionTable;\\n\",null],\"names\":[\"Box\",\"CheckBox\",\"React\",\"useMemo\",\"useTranslation\",\"GenericTable\",\"GenericTableHeaderCell\",\"GenericTableHeader\",\"GenericTableBody\",\"useSort\",\"ChannelDesertionTableRow\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"rooms\",\"eligibleRoomsLength\",\"onChangeRoomSelection\",\"selectedRooms\",\"onToggleAllRooms\",\"lastOwnerWarning\",\"_useSort\",\"sortBy\",\"sortDirection\",\"setSort\",\"t\",\"_useTranslation\",\"selectedRoomsLength\",\"Object\",\"values\",\"filter\",\"Boolean\",\"length\",\"results\",\"direction\",\"sort\",\"a\",\"b\",\"_a$sortBy$localeCompa\",\"_a$sortBy\",\"_b$sortBy\",\"localeCompare\",\"createElement\",\"display\",\"flexDirection\",\"height\",\"mbs\",\"fixed\",\"key\",\"onClick\",\"active\",\"indeterminate\",\"checked\",\"onChange\",\"mi\",\"width\",\"textAlign\",\"map\",\"room\",\"selected\",\"_id\"],\"mappings\":\"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\"}"}