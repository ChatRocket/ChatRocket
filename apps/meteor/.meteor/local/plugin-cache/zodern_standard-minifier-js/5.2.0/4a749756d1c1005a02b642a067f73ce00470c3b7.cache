{"code":"function module(e,t,n){let l,r,a,i,c,o,u,s,g,m,d,k,E,b,h,p,f,P,T,G,_;let y=[\"current\",\"itemsPerPage\",\"setItemsPerPage\",\"setCurrent\"];n.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){r=e}},1),n.link(\"@rocket.chat/fuselage\",{Pagination(e){a=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){i=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useTranslation(e){c=e},useEndpoint(e){o=e},useRouter(e){u=e}},2),n.link(\"@tanstack/react-query\",{useQuery(e){s=e},hashQueryKey(e){g=e}},3),n.link(\"react\",{default(e){m=e},useMemo(e){d=e},useState(e){k=e}},4),n.link(\"../../../components/GenericError\",{default(e){E=e}},5),n.link(\"../../../components/GenericNoResults\",{default(e){b=e}},6),n.link(\"../../../components/GenericTable\",{GenericTable(e){h=e},GenericTableHeader(e){p=e},GenericTableBody(e){f=e},GenericTableHeaderCell(e){P=e},GenericTableLoadingRow(e){T=e}},7),n.link(\"../../../components/GenericTable/hooks/usePagination\",{usePagination(e){G=e}},8),n.link(\"./TriggersRow\",{default(e){_=e}},9),n.exportDefault(()=>{let e=c(),t=u(),n=i(()=>{t.navigate(\"/omnichannel/triggers/new\")}),v=G(),{current:x,itemsPerPage:C,setItemsPerPage:w,setCurrent:N}=v,R=r(v,y),F=d(()=>({offset:x,count:C}),[x,C]),H=o(\"GET\",\"/v1/livechat/triggers\"),{data:S,refetch:A,isSuccess:D,isLoading:I,isError:L}=s([\"livechat-triggers\",F],async()=>H(F)),[M]=k(g([F])),Q=M!==g([F]),j=m.createElement(m.Fragment,null,m.createElement(P,null,e(\"Name\")),m.createElement(P,null,e(\"Description\")),m.createElement(P,null,e(\"Enabled\")),m.createElement(P,{width:\"x60\"}));return m.createElement(m.Fragment,null,I&&m.createElement(h,null,m.createElement(p,null,j),m.createElement(f,null,m.createElement(T,{cols:4}))),D&&0===S.triggers.length&&Q&&m.createElement(b,null),D&&0===S.triggers.length&&!Q&&m.createElement(b,{icon:\"smart\",title:e(\"No_triggers_yet\"),description:e(\"No_triggers_yet_description\"),buttonAction:n,buttonTitle:e(\"Create_trigger\"),linkHref:\"https://go.rocket.chat/i/omnichannel-docs\",linkText:e(\"Learn_more_about_triggers\")}),D&&S.triggers.length>0&&m.createElement(m.Fragment,null,m.createElement(h,null,m.createElement(p,null,j),m.createElement(f,null,S.triggers.map(e=>{let{_id:t,name:n,description:l,enabled:r}=e;return m.createElement(_,{key:t,_id:t,name:n,description:l,enabled:r,reload:A})}))),m.createElement(a,l({divider:!0,current:x,itemsPerPage:C,count:(null==S?void 0:S.total)||0,onSetItemsPerPage:w,onSetCurrent:N},R))),L&&m.createElement(E,{buttonAction:A}))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/triggers/TriggersTable.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Pagination } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useTranslation, useEndpoint, useRouter } from '@rocket.chat/ui-contexts';\\nimport { useQuery, hashQueryKey } from '@tanstack/react-query';\\nimport React, { useMemo, useState } from 'react';\\n\\nimport GenericError from '../../../components/GenericError';\\nimport GenericNoResults from '../../../components/GenericNoResults';\\nimport {\\n\\tGenericTable,\\n\\tGenericTableHeader,\\n\\tGenericTableBody,\\n\\tGenericTableHeaderCell,\\n\\tGenericTableLoadingRow,\\n} from '../../../components/GenericTable';\\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\\nimport TriggersRow from './TriggersRow';\\n\\nconst TriggersTable = () => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\n\\tconst handleAddNew = useMutableCallback(() => {\\n\\t\\trouter.navigate('/omnichannel/triggers/new');\\n\\t});\\n\\n\\tconst { current, itemsPerPage, setItemsPerPage, setCurrent, ...paginationProps } = usePagination();\\n\\n\\tconst query = useMemo(() => ({ offset: current, count: itemsPerPage }), [current, itemsPerPage]);\\n\\n\\tconst getTriggers = useEndpoint('GET', '/v1/livechat/triggers');\\n\\tconst { data, refetch, isSuccess, isLoading, isError } = useQuery(['livechat-triggers', query], async () => getTriggers(query));\\n\\n\\tconst [defaultQuery] = useState(hashQueryKey([query]));\\n\\tconst queryHasChanged = defaultQuery !== hashQueryKey([query]);\\n\\n\\tconst headers = (\\n\\t\\t<>\\n\\t\\t\\t<GenericTableHeaderCell>{t('Name')}</GenericTableHeaderCell>\\n\\t\\t\\t<GenericTableHeaderCell>{t('Description')}</GenericTableHeaderCell>\\n\\t\\t\\t<GenericTableHeaderCell>{t('Enabled')}</GenericTableHeaderCell>\\n\\t\\t\\t<GenericTableHeaderCell width='x60' />\\n\\t\\t</>\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{isLoading && (\\n\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t<GenericTableLoadingRow cols={4} />\\n\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t)}\\n\\t\\t\\t{isSuccess && data.triggers.length === 0 && queryHasChanged && <GenericNoResults />}\\n\\t\\t\\t{isSuccess && data.triggers.length === 0 && !queryHasChanged && (\\n\\t\\t\\t\\t<GenericNoResults\\n\\t\\t\\t\\t\\ticon='smart'\\n\\t\\t\\t\\t\\ttitle={t('No_triggers_yet')}\\n\\t\\t\\t\\t\\tdescription={t('No_triggers_yet_description')}\\n\\t\\t\\t\\t\\tbuttonAction={handleAddNew}\\n\\t\\t\\t\\t\\tbuttonTitle={t('Create_trigger')}\\n\\t\\t\\t\\t\\tlinkHref='https://go.rocket.chat/i/omnichannel-docs'\\n\\t\\t\\t\\t\\tlinkText={t('Learn_more_about_triggers')}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\t\\t\\t{isSuccess && data.triggers.length > 0 && (\\n\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t\\t{data.triggers.map(({ _id, name, description, enabled }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t<TriggersRow key={_id} _id={_id} name={name} description={description} enabled={enabled} reload={refetch} />\\n\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t\\t\\t<Pagination\\n\\t\\t\\t\\t\\t\\tdivider\\n\\t\\t\\t\\t\\t\\tcurrent={current}\\n\\t\\t\\t\\t\\t\\titemsPerPage={itemsPerPage}\\n\\t\\t\\t\\t\\t\\tcount={data?.total || 0}\\n\\t\\t\\t\\t\\t\\tonSetItemsPerPage={setItemsPerPage}\\n\\t\\t\\t\\t\\t\\tonSetCurrent={setCurrent}\\n\\t\\t\\t\\t\\t\\t{...paginationProps}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</>\\n\\t\\t\\t)}\\n\\t\\t\\t{isError && <GenericError buttonAction={refetch} />}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default TriggersTable;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Pagination\",\"useMutableCallback\",\"useTranslation\",\"useEndpoint\",\"useRouter\",\"useQuery\",\"hashQueryKey\",\"React\",\"useMemo\",\"useState\",\"GenericError\",\"GenericNoResults\",\"GenericTable\",\"GenericTableHeader\",\"GenericTableBody\",\"GenericTableHeaderCell\",\"GenericTableLoadingRow\",\"usePagination\",\"TriggersRow\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"TriggersTable\",\"t\",\"router\",\"handleAddNew\",\"navigate\",\"_usePagination\",\"current\",\"itemsPerPage\",\"setItemsPerPage\",\"setCurrent\",\"paginationProps\",\"_excluded\",\"query\",\"offset\",\"count\",\"getTriggers\",\"data\",\"refetch\",\"isSuccess\",\"isLoading\",\"isError\",\"defaultQuery\",\"queryHasChanged\",\"headers\",\"createElement\",\"Fragment\",\"width\",\"cols\",\"triggers\",\"length\",\"icon\",\"title\",\"description\",\"buttonAction\",\"buttonTitle\",\"linkHref\",\"linkText\",\"map\",\"_ref\",\"_id\",\"name\",\"enabled\",\"key\",\"reload\",\"divider\",\"total\",\"onSetItemsPerPage\",\"onSetCurrent\"],\"mappings\":\"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\"}"}