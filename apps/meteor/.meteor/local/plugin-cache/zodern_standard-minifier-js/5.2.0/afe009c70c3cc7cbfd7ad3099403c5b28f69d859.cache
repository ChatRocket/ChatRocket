{"code":"function module(e,t,i){let n,a,l,r,o,s,u,d,c,g,f,k,m,h,S,p,v,b,E,x;i.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),i.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){a=e}},1),i.link(\"@rocket.chat/core-typings\",{isSettingColor(e){l=e},isSetting(e){r=e}},0),i.link(\"@rocket.chat/fuselage\",{Box(e){o=e},Button(e){s=e},Tag(e){u=e}},1),i.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedCallback(e){d=e}},2),i.link(\"@rocket.chat/ui-contexts\",{useSettingStructure(e){c=e}},3),i.link(\"react\",{default(e){g=e},useEffect(e){f=e},useMemo(e){k=e},useState(e){m=e},useCallback(e){h=e}},4),i.link(\"react-i18next\",{useTranslation(e){S=e}},5),i.link(\"../../../../components/MarkdownText\",{default(e){p=e}},6),i.link(\"../../EditableSettingsContext\",{useEditableSetting(e){v=e},useEditableSettingsDispatch(e){b=e},useIsEnterprise(e){E=e}},7),i.link(\"./MemoizedSetting\",{default(e){x=e}},8),i.exportDefault(function(e){let{className:t,settingId:i,sectionChanged:y}=e,N=v(i),C=c(i),J=E();if(!N||!C)throw Error(\"Setting \".concat(i,\" not found\"));if(!r(N))throw Error(\"Setting \".concat(i,\" is not valid\"));let O=b(),_=d(e=>{let{value:t,editor:i}=e;C&&O([a(a(a({_id:C._id},void 0!==t&&{value:t}),void 0!==i&&{editor:i}),{},{changed:JSON.stringify(C.value)!==JSON.stringify(t)||l(C)&&JSON.stringify(C.editor)!==JSON.stringify(i)})])},230,[C,O]),{t:B,i18n:w}=S(),[M,T]=m(N.value),[D,P]=m(l(N)?N.editor:void 0);f(()=>{T(N.value)},[N.value]),f(()=>{P(l(N)?N.editor:void 0)},[N.editor]);let z=h(e=>{T(e),_({value:e})},[_]),H=h(e=>{P(e),_({editor:e})},[_]),I=h(()=>{T(N.value),P(l(N)?N.editor:void 0),_(a({value:C.packageValue},l(C)&&{editor:C.packageEditor}))},[N.value,N.editor,_,C]),{_id:R,disabled:V,readonly:j,type:F,packageValue:L,i18nLabel:U,i18nDescription:q,alert:A,invisible:G}=N,K=w.exists(U)&&B(U)||w.exists(R)&&B(R)||U||R,Q=k(()=>q&&w.exists(q)?g.createElement(p,{variant:\"inline\",preserveHtml:!0,content:B(q)}):void 0,[w,q,B]),W=k(()=>A&&g.createElement(\"span\",{dangerouslySetInnerHTML:{__html:w.exists(A)?B(A):A}}),[A,w,B]),X=N.enterprise&&!J,Y=k(()=>X?g.createElement(s,{mbs:4,is:\"a\",href:\"https://go.rocket.chat/i/see-paid-plan-customize-homepage\",target:\"_blank\"},B(\"See_Paid_Plan\")):void 0,[X,B]),Z=k(()=>X?g.createElement(g.Fragment,null,g.createElement(o,{is:\"span\",mie:4},K),g.createElement(u,{variant:\"featured\"},B(\"Premium\"))):K,[K,X,B]),$=!X&&!j&&\"asset\"!==F&&(l(N)&&JSON.stringify(N.packageEditor)!==JSON.stringify(D)||JSON.stringify(M)!==JSON.stringify(L))&&!V;return g.createElement(x,n({className:t,label:Z,hint:Q,callout:W,showUpgradeButton:Y,sectionChanged:y},N,{disabled:N.disabled||X,value:M,editor:D,hasResetButton:$,onChangeValue:z,onChangeEditor:H,onResetButtonClick:I,invisible:G}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/settings/Setting/Setting.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ISettingColor, SettingEditor, SettingValue } from '@rocket.chat/core-typings';\\nimport { isSettingColor, isSetting } from '@rocket.chat/core-typings';\\nimport { Box, Button, Tag } from '@rocket.chat/fuselage';\\nimport { useDebouncedCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSettingStructure } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useEffect, useMemo, useState, useCallback } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport MarkdownText from '../../../../components/MarkdownText';\\nimport { useEditableSetting, useEditableSettingsDispatch, useIsEnterprise } from '../../EditableSettingsContext';\\nimport MemoizedSetting from './MemoizedSetting';\\n\\ntype SettingProps = {\\n\\tclassName?: string;\\n\\tsettingId: string;\\n\\tsectionChanged?: boolean;\\n};\\n\\nfunction Setting({ className = undefined, settingId, sectionChanged }: SettingProps): ReactElement {\\n\\tconst setting = useEditableSetting(settingId);\\n\\tconst persistedSetting = useSettingStructure(settingId);\\n\\tconst isEnterprise = useIsEnterprise();\\n\\n\\tif (!setting || !persistedSetting) {\\n\\t\\tthrow new Error(`Setting ${settingId} not found`);\\n\\t}\\n\\n\\t// Checks if setting has at least required fields before doing anything\\n\\tif (!isSetting(setting)) {\\n\\t\\tthrow new Error(`Setting ${settingId} is not valid`);\\n\\t}\\n\\n\\tconst dispatch = useEditableSettingsDispatch();\\n\\n\\tconst update = useDebouncedCallback(\\n\\t\\t({ value, editor }: { value?: SettingValue; editor?: SettingEditor }) => {\\n\\t\\t\\tif (!persistedSetting) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tdispatch([\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t_id: persistedSetting._id,\\n\\t\\t\\t\\t\\t...(value !== undefined && { value }),\\n\\t\\t\\t\\t\\t...(editor !== undefined && { editor }),\\n\\t\\t\\t\\t\\tchanged:\\n\\t\\t\\t\\t\\t\\tJSON.stringify(persistedSetting.value) !== JSON.stringify(value) ||\\n\\t\\t\\t\\t\\t\\t(isSettingColor(persistedSetting) && JSON.stringify(persistedSetting.editor) !== JSON.stringify(editor)),\\n\\t\\t\\t\\t},\\n\\t\\t\\t]);\\n\\t\\t},\\n\\t\\t230,\\n\\t\\t[persistedSetting, dispatch],\\n\\t);\\n\\n\\tconst { t, i18n } = useTranslation();\\n\\n\\tconst [value, setValue] = useState(setting.value);\\n\\tconst [editor, setEditor] = useState(isSettingColor(setting) ? setting.editor : undefined);\\n\\n\\tuseEffect(() => {\\n\\t\\tsetValue(setting.value);\\n\\t}, [setting.value]);\\n\\n\\tuseEffect(() => {\\n\\t\\tsetEditor(isSettingColor(setting) ? setting.editor : undefined);\\n\\t\\t// eslint-disable-next-line react-hooks/exhaustive-deps\\n\\t}, [(setting as ISettingColor).editor]);\\n\\n\\tconst onChangeValue = useCallback(\\n\\t\\t(value) => {\\n\\t\\t\\tsetValue(value);\\n\\t\\t\\tupdate({ value });\\n\\t\\t},\\n\\t\\t[update],\\n\\t);\\n\\n\\tconst onChangeEditor = useCallback(\\n\\t\\t(editor) => {\\n\\t\\t\\tsetEditor(editor);\\n\\t\\t\\tupdate({ editor });\\n\\t\\t},\\n\\t\\t[update],\\n\\t);\\n\\n\\tconst onResetButtonClick = useCallback(() => {\\n\\t\\tsetValue(setting.value);\\n\\t\\tsetEditor(isSettingColor(setting) ? setting.editor : undefined);\\n\\t\\tupdate({\\n\\t\\t\\tvalue: persistedSetting.packageValue,\\n\\t\\t\\t...(isSettingColor(persistedSetting) && { editor: persistedSetting.packageEditor }),\\n\\t\\t});\\n\\t\\t// eslint-disable-next-line react-hooks/exhaustive-deps\\n\\t}, [setting.value, (setting as ISettingColor).editor, update, persistedSetting]);\\n\\n\\tconst { _id, disabled, readonly, type, packageValue, i18nLabel, i18nDescription, alert, invisible } = setting;\\n\\n\\tconst labelText = (i18n.exists(i18nLabel) && t(i18nLabel)) || (i18n.exists(_id) && t(_id)) || i18nLabel || _id;\\n\\n\\tconst hint = useMemo(\\n\\t\\t() =>\\n\\t\\t\\ti18nDescription && i18n.exists(i18nDescription) ? (\\n\\t\\t\\t\\t<MarkdownText variant='inline' preserveHtml content={t(i18nDescription)} />\\n\\t\\t\\t) : undefined,\\n\\t\\t[i18n, i18nDescription, t],\\n\\t);\\n\\tconst callout = useMemo(\\n\\t\\t() => alert && <span dangerouslySetInnerHTML={{ __html: i18n.exists(alert) ? t(alert) : alert }} />,\\n\\t\\t[alert, i18n, t],\\n\\t);\\n\\n\\tconst shouldDisableEnterprise = setting.enterprise && !isEnterprise;\\n\\n\\tconst PRICING_URL = 'https://go.rocket.chat/i/see-paid-plan-customize-homepage';\\n\\n\\tconst showUpgradeButton = useMemo(\\n\\t\\t() =>\\n\\t\\t\\tshouldDisableEnterprise ? (\\n\\t\\t\\t\\t<Button mbs={4} is='a' href={PRICING_URL} target='_blank'>\\n\\t\\t\\t\\t\\t{t('See_Paid_Plan')}\\n\\t\\t\\t\\t</Button>\\n\\t\\t\\t) : undefined,\\n\\t\\t[shouldDisableEnterprise, t],\\n\\t);\\n\\n\\tconst label = useMemo(() => {\\n\\t\\tif (!shouldDisableEnterprise) {\\n\\t\\t\\treturn labelText;\\n\\t\\t}\\n\\n\\t\\treturn (\\n\\t\\t\\t<>\\n\\t\\t\\t\\t<Box is='span' mie={4}>\\n\\t\\t\\t\\t\\t{labelText}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<Tag variant='featured'>{t('Premium')}</Tag>\\n\\t\\t\\t</>\\n\\t\\t);\\n\\t}, [labelText, shouldDisableEnterprise, t]);\\n\\n\\tconst hasResetButton =\\n\\t\\t!shouldDisableEnterprise &&\\n\\t\\t!readonly &&\\n\\t\\ttype !== 'asset' &&\\n\\t\\t((isSettingColor(setting) && JSON.stringify(setting.packageEditor) !== JSON.stringify(editor)) ||\\n\\t\\t\\tJSON.stringify(value) !== JSON.stringify(packageValue)) &&\\n\\t\\t!disabled;\\n\\n\\t// @todo: type check props based on setting type\\n\\n\\treturn (\\n\\t\\t<MemoizedSetting\\n\\t\\t\\tclassName={className}\\n\\t\\t\\tlabel={label}\\n\\t\\t\\thint={hint}\\n\\t\\t\\tcallout={callout}\\n\\t\\t\\tshowUpgradeButton={showUpgradeButton}\\n\\t\\t\\tsectionChanged={sectionChanged}\\n\\t\\t\\t{...setting}\\n\\t\\t\\tdisabled={setting.disabled || shouldDisableEnterprise}\\n\\t\\t\\tvalue={value}\\n\\t\\t\\teditor={editor}\\n\\t\\t\\thasResetButton={hasResetButton}\\n\\t\\t\\tonChangeValue={onChangeValue}\\n\\t\\t\\tonChangeEditor={onChangeEditor}\\n\\t\\t\\tonResetButtonClick={onResetButtonClick}\\n\\t\\t\\tinvisible={invisible}\\n\\t\\t/>\\n\\t);\\n}\\n\\nexport default Setting;\\n\",null],\"names\":[\"_extends\",\"_objectSpread\",\"isSettingColor\",\"isSetting\",\"Box\",\"Button\",\"Tag\",\"useDebouncedCallback\",\"useSettingStructure\",\"React\",\"useEffect\",\"useMemo\",\"useState\",\"useCallback\",\"useTranslation\",\"MarkdownText\",\"useEditableSetting\",\"useEditableSettingsDispatch\",\"useIsEnterprise\",\"MemoizedSetting\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"className\",\"settingId\",\"sectionChanged\",\"setting\",\"persistedSetting\",\"isEnterprise\",\"Error\",\"concat\",\"dispatch\",\"update\",\"_ref2\",\"value\",\"editor\",\"_id\",\"undefined\",\"changed\",\"JSON\",\"stringify\",\"t\",\"i18n\",\"setValue\",\"setEditor\",\"onChangeValue\",\"onChangeEditor\",\"onResetButtonClick\",\"packageValue\",\"packageEditor\",\"disabled\",\"readonly\",\"type\",\"i18nLabel\",\"i18nDescription\",\"alert\",\"invisible\",\"labelText\",\"exists\",\"hint\",\"createElement\",\"variant\",\"preserveHtml\",\"content\",\"callout\",\"dangerouslySetInnerHTML\",\"__html\",\"shouldDisableEnterprise\",\"enterprise\",\"showUpgradeButton\",\"mbs\",\"is\",\"href\",\"target\",\"label\",\"Fragment\",\"mie\",\"hasResetButton\"],\"mappings\":\"2BACAA,EAAsEC,EAAtEC,EAASC,EAA6DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA7DC,EAAAC,IAAc,CAAE,iCAAiB,CAAAC,QAAAC,CAAA,EAA4BvB,EAAAuB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAAC,CAAA,EAAAtB,EAAAsB,CAAA,CAAA,EAAA,GAA7CH,EAAWC,IAAA,CAAA,4BAAiC,CAACnB,eAAAqB,CAAA,EAAArB,EAAAqB,CAAA,EAAApB,UAAAoB,CAAA,EAAApB,EAAAoB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAjB,IAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,EAAAlB,OAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,EAAAjB,IAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAd,qBAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAb,oBAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAd,EAAAc,CAAA,EAAAb,UAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,QAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,YAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAP,eAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,sCAAA,CAAAC,QAAAC,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAAL,mBAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,4BAAAM,CAAA,EAAAN,EAAAM,CAAA,EAAAL,gBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oBAAA,CAAAC,QAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAtEH,EAAOI,aAAE,CAkBT,SAAgBC,CAAA,EAAmE,GAAlE,CAAEC,UAAAA,CAAS,CAAcC,UAAAA,CAAS,CAAEC,eAAAA,CAAAA,CAA8B,CAAAH,EAC5EI,EAAUb,EAAmBW,GAC7BG,EAAmBtB,EAAoBmB,GACvCI,EAAeb,IAErB,GAAI,CAACW,GAAW,CAACC,EAChB,MAAM,AAAIE,MAAK,WAAAC,MAAA,CAAYN,EAAS,eAIrC,GAAI,CAACxB,EAAU0B,GACd,MAAM,AAAIG,MAAK,WAAAC,MAAA,CAAYN,EAAS,kBAGrC,IAAMO,EAAWjB,IAEXkB,EAAS5B,EACd6B,IAAwE,GAAvE,CAAEC,MAAAA,CAAK,CAAEC,OAAAA,CAAAA,CAA0D,CAAAF,EAC9DN,GAILI,EAAS,CAAAjC,EAAAA,EAAAA,EAAA,CAEPsC,IAAKT,EAAiBS,GAAAA,AAAG,EACrBF,AAAUG,KAAAA,IAAVH,GAAuB,CAAEA,MAAAA,CAAK,GAC9BC,AAAWE,KAAAA,IAAXF,GAAwB,CAAEA,OAAAA,CAAM,GAAE,CAAA,EAAA,CACtCG,QACCC,KAAKC,SAAS,CAACb,EAAiBO,KAAK,IAAMK,KAAKC,SAAS,CAACN,IACzDnC,EAAe4B,IAAqBY,KAAKC,SAAS,CAACb,EAAiBQ,MAAM,IAAMI,KAAKC,SAAS,CAACL,EAAQ,GAE1G,CACF,EACA,IACA,CAACR,EAAkBI,EAAS,EAGvB,CAAEU,EAAAA,CAAC,CAAEC,KAAAA,CAAAA,CAAM,CAAG/B,IAEd,CAACuB,EAAOS,EAAS,CAAGlC,EAASiB,EAAQQ,KAAK,EAC1C,CAACC,EAAQS,EAAU,CAAGnC,EAASV,EAAe2B,GAAWA,EAAQS,MAAM,CAAGE,KAAAA,GAEhF9B,EAAU,KACToC,EAASjB,EAAQQ,KAAK,CACvB,EAAG,CAACR,EAAQQ,KAAK,CAAC,EAElB3B,EAAU,KACTqC,EAAU7C,EAAe2B,GAAWA,EAAQS,MAAM,CAAGE,KAAAA,EAEtD,EAAG,CAAEX,EAA0BS,MAAM,CAAC,EAEtC,IAAMU,EAAgBnC,EACpBwB,IACAS,EAAST,GACTF,EAAO,CAAEE,MAAAA,CAAK,EACf,EACA,CAACF,EAAO,EAGHc,EAAiBpC,EACrByB,IACAS,EAAUT,GACVH,EAAO,CAAEG,OAAAA,CAAM,EAChB,EACA,CAACH,EAAO,EAGHe,EAAqBrC,EAAY,KACtCiC,EAASjB,EAAQQ,KAAK,EACtBU,EAAU7C,EAAe2B,GAAWA,EAAQS,MAAM,CAAGE,KAAAA,GACrDL,EAAMlC,EAAA,CACLoC,MAAOP,EAAiBqB,YAAAA,AAAY,EAChCjD,EAAe4B,IAAqB,CAAEQ,OAAQR,EAAiBsB,aAAAA,AAAa,GAGlF,EAAG,CAACvB,EAAQQ,KAAK,CAAGR,EAA0BS,MAAM,CAAEH,EAAQL,EAAiB,EAEzE,CAAES,IAAAA,CAAG,CAAEc,SAAAA,CAAQ,CAAEC,SAAAA,CAAQ,CAAEC,KAAAA,CAAI,CAAEJ,aAAAA,CAAY,CAAEK,UAAAA,CAAS,CAAEC,gBAAAA,CAAe,CAAEC,MAAAA,CAAK,CAAEC,UAAAA,CAAAA,CAAW,CAAG9B,EAEhG+B,EAAaf,EAAKgB,MAAM,CAACL,IAAcZ,EAAEY,IAAgBX,EAAKgB,MAAM,CAACtB,IAAQK,EAAEL,IAASiB,GAAajB,EAErGuB,EAAOnD,EACZ,IACC8C,GAAmBZ,EAAKgB,MAAM,CAACJ,GAC9BhD,EAAAsD,aAAA,CAAChD,EAAY,CAACiD,QAAQ,SAASC,aAAY,CAAA,EAACC,QAAStB,EAAEa,EAAiB,GACrEjB,KAAAA,EACL,CAACK,EAAMY,EAAiBb,EAAE,EAErBuB,EAAUxD,EACf,IAAM+C,GAASjD,EAAAsD,aAAA,CAAA,OAAA,CAAMK,wBAAyB,CAAEC,OAAQxB,EAAKgB,MAAM,CAACH,GAASd,EAAEc,GAASA,CAAK,CAAG,GAChG,CAACA,EAAOb,EAAMD,EAAE,EAGX0B,EAA0BzC,EAAQ0C,UAAU,EAAI,CAACxC,EAIjDyC,EAAoB7D,EACzB,IACC2D,EACC7D,EAAAsD,aAAA,CAAC1D,EAAM,CAACoE,IAAK,EAAGC,GAAG,IAAIC,KALN,4DAKyBC,OAAO,QAAQ,EACvDhC,EAAE,kBAEDJ,KAAAA,EACL,CAAC8B,EAAyB1B,EAAE,EAGvBiC,EAAQlE,EAAQ,IACrB,AAAK2D,EAKJ7D,EAAAsD,aAAA,CAAAtD,EAAAqE,QAAA,CAAA,KACCrE,EAAAsD,aAAA,CAAC3D,EAAG,CAACsE,GAAG,OAAOK,IAAK,CAAE,EACpBnB,GAEFnD,EAAAsD,aAAA,CAACzD,EAAG,CAAC0D,QAAQ,UAAU,EAAEpB,EAAE,aARrBgB,EAWN,CAACA,EAAWU,EAAyB1B,EAAE,EAEpCoC,EACL,CAACV,GACD,CAAChB,GACDC,AAAS,UAATA,GACErD,CAAAA,EAAe2B,IAAYa,KAAKC,SAAS,CAACd,EAAQuB,aAAa,IAAMV,KAAKC,SAAS,CAACL,IACrFI,KAAKC,SAAS,CAACN,KAAWK,KAAKC,SAAS,CAACQ,EAAY,GACtD,CAACE,EAIF,OACC5C,EAAAsD,aAAA,CAAC5C,EAAenB,EAAA,CACf0B,UAAWA,EACXmD,MAAOA,EACPf,KAAMA,EACNK,QAASA,EACTK,kBAAmBA,EACnB5C,eAAgBA,CAAe,EAC3BC,EAAO,CACXwB,SAAUxB,EAAQwB,QAAQ,EAAIiB,EAC9BjC,MAAOA,EACPC,OAAQA,EACR0C,eAAgBA,EAChBhC,cAAeA,EACfC,eAAgBA,EAChBC,mBAAoBA,EACpBS,UAAWA,CAAU,GAGxB\"}"}