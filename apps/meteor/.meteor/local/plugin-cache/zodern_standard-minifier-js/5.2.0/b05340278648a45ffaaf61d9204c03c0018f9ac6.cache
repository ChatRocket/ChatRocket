{"code":"function module(e,t,n){let l,o,r,u,c,a,i,s,m,f;n.link(\"@rocket.chat/fuselage\",{IconButton(e){l=e},useCursor(e){o=e},PositionAnimated(e){r=e},Options(e){u=e}},0),n.link(\"react\",{default(e){c=e},useMemo(e){a=e},useRef(e){i=e},useCallback(e){s=e},useEffect(e){m=e}},1),n.link(\"./ToneItem\",{default(e){f=e}},2),n.exportDefault(e=>{let{tone:t,setTone:n}=e,d=a(()=>{let e=e=>c.createElement(f,{tone:e}),n=[[0,e(0),0===t],[1,e(1),1===t],[2,e(2),2===t],[3,e(3),3===t],[4,e(4),4===t],[5,e(5),5===t]];return n},[t]),[E,k,p,b,[h,C,g]]=o(-1,d,(e,t)=>{let[l]=e,[,o]=t;n(l),b(),o()}),v=i(null),w=s(()=>{null!=v&&v.current&&(v.current.focus(),g(),v.current.classList.add(\"focus-visible\"))},[g]),y=s(e=>{let[t]=e;n(t),b(),C()},[C,b,n]);return m(()=>n(t),[t,n]),c.createElement(c.Fragment,null,c.createElement(l,{medium:!0,ref:v,onClick:w,onBlur:C,onKeyUp:p,onKeyDown:k,mis:4,icon:c.createElement(f,{tone:t})}),c.createElement(r,{width:\"auto\",visible:h,anchor:v,placement:\"left-middle\"},c.createElement(u,{onSelect:y,options:d,cursor:E})))})}","map":"{\"version\":3,\"sources\":[\"client/views/composer/EmojiPicker/ToneSelector/ToneSelector.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { IconButton, useCursor, PositionAnimated, Options } from '@rocket.chat/fuselage';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo, useRef, useCallback, useEffect } from 'react';\\n\\nimport ToneItem from './ToneItem';\\n\\nconst ToneSelector = ({ tone, setTone }: { tone: number; setTone: (tone: number) => void }) => {\\n\\tconst options = useMemo(() => {\\n\\t\\tconst renderOption = (tone: number): ReactElement => <ToneItem tone={tone} />;\\n\\n\\t\\tconst statuses: Array<[value: number, label: ReactElement, selected: boolean]> = [\\n\\t\\t\\t[0, renderOption(0), tone === 0],\\n\\t\\t\\t[1, renderOption(1), tone === 1],\\n\\t\\t\\t[2, renderOption(2), tone === 2],\\n\\t\\t\\t[3, renderOption(3), tone === 3],\\n\\t\\t\\t[4, renderOption(4), tone === 4],\\n\\t\\t\\t[5, renderOption(5), tone === 5],\\n\\t\\t];\\n\\n\\t\\treturn statuses;\\n\\t}, [tone]);\\n\\n\\tconst [cursor, handleKeyDown, handleKeyUp, reset, [visible, hide, show]] = useCursor(-1, options, ([selected], [, hide]) => {\\n\\t\\tsetTone(selected);\\n\\t\\treset();\\n\\t\\thide();\\n\\t});\\n\\n\\tconst ref = useRef<HTMLButtonElement>(null);\\n\\tconst onClick = useCallback(() => {\\n\\t\\tif (!ref?.current) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tref.current.focus();\\n\\t\\tshow();\\n\\t\\tref.current.classList.add('focus-visible');\\n\\t}, [show]);\\n\\n\\tconst handleSelection = useCallback(\\n\\t\\t([selected]) => {\\n\\t\\t\\tsetTone(selected);\\n\\t\\t\\treset();\\n\\t\\t\\thide();\\n\\t\\t},\\n\\t\\t[hide, reset, setTone],\\n\\t);\\n\\n\\tuseEffect(() => setTone(tone), [tone, setTone]);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<IconButton\\n\\t\\t\\t\\tmedium\\n\\t\\t\\t\\tref={ref}\\n\\t\\t\\t\\tonClick={onClick}\\n\\t\\t\\t\\tonBlur={hide}\\n\\t\\t\\t\\tonKeyUp={handleKeyUp}\\n\\t\\t\\t\\tonKeyDown={handleKeyDown}\\n\\t\\t\\t\\tmis={4}\\n\\t\\t\\t\\ticon={<ToneItem tone={tone} />}\\n\\t\\t\\t/>\\n\\t\\t\\t<PositionAnimated width='auto' visible={visible} anchor={ref} placement='left-middle'>\\n\\t\\t\\t\\t<Options onSelect={handleSelection} options={options} cursor={cursor} />\\n\\t\\t\\t</PositionAnimated>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default ToneSelector;\\n\",null],\"names\":[\"IconButton\",\"useCursor\",\"PositionAnimated\",\"Options\",\"React\",\"useMemo\",\"useRef\",\"useCallback\",\"useEffect\",\"ToneItem\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"tone\",\"setTone\",\"options\",\"renderOption\",\"createElement\",\"statuses\",\"cursor\",\"handleKeyDown\",\"handleKeyUp\",\"reset\",\"visible\",\"hide\",\"show\",\"_ref2\",\"_ref3\",\"selected\",\"ref\",\"onClick\",\"current\",\"focus\",\"classList\",\"add\",\"handleSelection\",\"_ref4\",\"Fragment\",\"medium\",\"onBlur\",\"onKeyUp\",\"onKeyDown\",\"mis\",\"icon\",\"width\",\"anchor\",\"placement\",\"onSelect\"],\"mappings\":\"2BAAAA,EAASC,EAAYC,EAAWC,EAAyDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAAOC,IAAE,CAAA,wBAAM,CAAAX,WAAwBY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,UAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,iBAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,QAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,QAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,OAAAM,CAAA,EAAAN,EAAAM,CAAA,EAAAL,YAAAK,CAAA,EAAAL,EAAAK,CAAA,EAAAJ,UAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,aAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAzFF,EAAOI,aAAY,CAMEC,IAAyE,GAAxE,CAAEC,KAAAA,CAAI,CAAEC,QAAAA,CAAAA,CAA4D,CAAAF,EACnFG,EAAUb,EAAQ,KACvB,IAAMc,EAAgBH,GAA+BZ,EAAAgB,aAAA,CAACX,EAAQ,CAACO,KAAMA,CAAK,GAEpEK,EAA2E,CAChF,CAAC,EAAGF,EAAa,GAAIH,AAAS,IAATA,EAAW,CAChC,CAAC,EAAGG,EAAa,GAAIH,AAAS,IAATA,EAAW,CAChC,CAAC,EAAGG,EAAa,GAAIH,AAAS,IAATA,EAAW,CAChC,CAAC,EAAGG,EAAa,GAAIH,AAAS,IAATA,EAAW,CAChC,CAAC,EAAGG,EAAa,GAAIH,AAAS,IAATA,EAAW,CAChC,CAAC,EAAGG,EAAa,GAAIH,AAAS,IAATA,EAAW,CAChC,CAED,OAAOK,CACR,EAAG,CAACL,EAAK,EAEH,CAACM,EAAQC,EAAeC,EAAaC,EAAO,CAACC,EAASC,EAAMC,EAAK,CAAC,CAAG3B,EAAU,GAAIiB,EAAS,CAAAW,EAAAC,KAAyB,GAAxB,CAACC,EAAS,CAAAF,EAAE,EAAGF,EAAK,CAAAG,EACtHb,EAAQc,GACRN,IACAE,GACD,GAEMK,EAAM1B,EAA0B,MAChC2B,EAAU1B,EAAY,WACtByB,GAAAA,EAAKE,OAAO,GAGjBF,EAAIE,OAAO,CAACC,KAAK,GACjBP,IACAI,EAAIE,OAAO,CAACE,SAAS,CAACC,GAAG,CAAC,iBAC3B,EAAG,CAACT,EAAK,EAEHU,EAAkB/B,EACvBgC,IAAe,GAAd,CAACR,EAAS,CAAAQ,EACVtB,EAAQc,GACRN,IACAE,GACD,EACA,CAACA,EAAMF,EAAOR,EAAQ,EAKvB,OAFAT,EAAU,IAAMS,EAAQD,GAAO,CAACA,EAAMC,EAAQ,EAG7Cb,EAAAgB,aAAA,CAAAhB,EAAAoC,QAAA,CAAA,KACCpC,EAAAgB,aAAA,CAACpB,EAAU,CACVyC,OAAM,CAAA,EACNT,IAAKA,EACLC,QAASA,EACTS,OAAQf,EACRgB,QAASnB,EACToB,UAAWrB,EACXsB,IAAK,EACLC,KAAM1C,EAAAgB,aAAA,CAACX,EAAQ,CAACO,KAAMA,CAAK,EAAI,GAEhCZ,EAAAgB,aAAA,CAAClB,EAAgB,CAAC6C,MAAM,OAAOrB,QAASA,EAASsB,OAAQhB,EAAKiB,UAAU,aAAa,EACpF7C,EAAAgB,aAAA,CAACjB,EAAO,CAAC+C,SAAUZ,EAAiBpB,QAASA,EAASI,OAAQA,CAAO,IAIzE\"}"}