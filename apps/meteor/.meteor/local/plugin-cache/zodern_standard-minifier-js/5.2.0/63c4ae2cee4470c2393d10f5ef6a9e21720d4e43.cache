{"code":"function module(e,n,r){var t,i,l,o,a,u,c,d,s,f,m,k,h,b,g=[\"control\",\"index\"];r.link(\"@babel/runtime/helpers/extends\",{default:function(e){t=e}},0),r.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){i=e}},1),r.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){l=e}},2),r.export({SendMessageActionForm:function(){return E}}),r.link(\"@rocket.chat/fuselage\",{Field:function(e){o=e},FieldError:function(e){a=e},FieldLabel:function(e){u=e},FieldRow:function(e){c=e},TextAreaInput:function(e){d=e}},0),r.link(\"@rocket.chat/fuselage-hooks\",{useUniqueId:function(e){s=e}},1),r.link(\"react\",{default:function(e){f=e}},2),r.link(\"react-hook-form\",{Controller:function(e){m=e}},3),r.link(\"react-i18next\",{useTranslation:function(e){k=e}},4),r.link(\"../hooks\",{useFieldError:function(e){h=e}},5),r.link(\"./ActionSender\",{ActionSender:function(e){b=e}},6);var E=function(e){var n=e.control,r=e.index,E=l(e,g),p=k().t,v=s(),F=\"actions.\"+r+\".params.msg\",x=h({control:n,name:F}),q=i(x,1)[0];return f.createElement(f.Fragment,null,f.createElement(b,t({},E,{control:n,index:r})),f.createElement(o,E,f.createElement(u,{required:!0,htmlFor:v},p(\"Message\")),f.createElement(c,null,f.createElement(m,{control:n,name:F,defaultValue:\"\",rules:{required:p(\"Required_field\",{field:p(\"Message\")})},render:function(e){var n=e.field;return f.createElement(d,t({error:null==q?void 0:q.message,\"aria-invalid\":!!q,\"aria-describedby\":v+\"-error\",\"aria-required\":!0},n,{rows:3,placeholder:p(\"Message\")+\"*\"}))}})),q&&f.createElement(a,{\"aria-live\":\"assertive\",id:v+\"-error\"},q.message)))}}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/triggers/actions/SendMessageActionForm.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Field, FieldError, FieldLabel, FieldRow, TextAreaInput } from '@rocket.chat/fuselage';\\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport type { ComponentProps } from 'react';\\nimport React from 'react';\\nimport type { Control } from 'react-hook-form';\\nimport { Controller } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport type { TriggersPayload } from '../EditTrigger';\\nimport { useFieldError } from '../hooks';\\nimport { ActionSender } from './ActionSender';\\n\\ntype SendMessageActionFormType = ComponentProps<typeof Field> & {\\n\\tindex: number;\\n\\tcontrol: Control<TriggersPayload>;\\n};\\n\\nexport const SendMessageActionForm = ({ control, index, ...props }: SendMessageActionFormType) => {\\n\\tconst { t } = useTranslation();\\n\\tconst messageFieldId = useUniqueId();\\n\\tconst name = `actions.${index}.params.msg` as const;\\n\\tconst [messageError] = useFieldError({ control, name });\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ActionSender {...props} control={control} index={index} />\\n\\n\\t\\t\\t<Field {...props}>\\n\\t\\t\\t\\t<FieldLabel required htmlFor={messageFieldId}>\\n\\t\\t\\t\\t\\t{t('Message')}\\n\\t\\t\\t\\t</FieldLabel>\\n\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\tname={name}\\n\\t\\t\\t\\t\\t\\tdefaultValue=''\\n\\t\\t\\t\\t\\t\\trules={{ required: t('Required_field', { field: t('Message') }) }}\\n\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t<TextAreaInput\\n\\t\\t\\t\\t\\t\\t\\t\\terror={messageError?.message}\\n\\t\\t\\t\\t\\t\\t\\t\\taria-invalid={Boolean(messageError)}\\n\\t\\t\\t\\t\\t\\t\\t\\taria-describedby={`${messageFieldId}-error`}\\n\\t\\t\\t\\t\\t\\t\\t\\taria-required={true}\\n\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\trows={3}\\n\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={`${t('Message')}*`}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</FieldRow>\\n\\n\\t\\t\\t\\t{messageError && (\\n\\t\\t\\t\\t\\t<FieldError aria-live='assertive' id={`${messageFieldId}-error`}>\\n\\t\\t\\t\\t\\t\\t{messageError.message}\\n\\t\\t\\t\\t\\t</FieldError>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</Field>\\n\\t\\t</>\\n\\t);\\n};\\n\",null],\"names\":[\"_extends\",\"_slicedToArray\",\"_objectWithoutProperties\",\"Field\",\"FieldError\",\"FieldLabel\",\"FieldRow\",\"TextAreaInput\",\"useUniqueId\",\"React\",\"Controller\",\"useTranslation\",\"useFieldError\",\"ActionSender\",\"module\",\"link\",\"default\",\"v\",\"export\",\"SendMessageActionForm\",\"_ref\",\"control\",\"index\",\"props\",\"_excluded\",\"t\",\"_useTranslation\",\"messageFieldId\",\"name\",\"_useFieldError\",\"messageError\",\"_useFieldError2\",\"createElement\",\"Fragment\",\"required\",\"htmlFor\",\"defaultValue\",\"rules\",\"field\",\"render\",\"_ref2\",\"error\",\"message\",\"Boolean\",\"rows\",\"placeholder\",\"id\"],\"mappings\":\"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\"}"}