{"code":"function module(e,n,t){var i,a,c,l,r,o,u,s,m,f,d,k,E,b,g,T,h,P,S,p,x,v,C,G,y,w,I,_=[\"current\",\"itemsPerPage\",\"setItemsPerPage\",\"setCurrent\"];t.link(\"@babel/runtime/helpers/extends\",{default:function(e){i=e}},0),t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},1),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){c=e}},2),t.link(\"@rocket.chat/fuselage\",{Pagination:function(e){l=e},States:function(e){r=e},StatesAction:function(e){o=e},StatesActions:function(e){u=e},StatesIcon:function(e){s=e},StatesTitle:function(e){m=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useRoute:function(e){f=e},useTranslation:function(e){d=e},useEndpoint:function(e){k=e}},1),t.link(\"@tanstack/react-query\",{useQuery:function(e){E=e}},2),t.link(\"react\",{default:function(e){b=e},useMemo:function(e){g=e},useCallback:function(e){T=e}},3),t.link(\"../../../components/GenericNoResults\",{default:function(e){h=e}},4),t.link(\"../../../components/GenericTable\",{GenericTable:function(e){P=e},GenericTableBody:function(e){S=e},GenericTableCell:function(e){p=e},GenericTableHeader:function(e){x=e},GenericTableHeaderCell:function(e){v=e},GenericTableLoadingTable:function(e){C=e},GenericTableRow:function(e){G=e}},5),t.link(\"../../../components/GenericTable/hooks/usePagination\",{usePagination:function(e){y=e}},6),t.link(\"../../../components/GenericTable/hooks/useSort\",{useSort:function(e){w=e}},7),t.link(\"./SendTestButton\",{default:function(e){I=e}},8),t.exportDefault(function(){var e,n=d(),t=f(\"admin-email-inboxes\"),A=y(),N=A.current,R=A.itemsPerPage,B=A.setItemsPerPage,D=A.setCurrent,j=c(A,_),F=w(\"name\"),H=F.sortBy,L=F.sortDirection,q=F.setSort,J=T(function(e){return function(){t.push({context:\"edit\",_id:e})}},[t]),K=k(\"GET\",\"/v1/email-inbox.list\"),M=a(a({sort:JSON.stringify(((e={})[H]=\"asc\"===L?1:-1,e))},R&&{count:R}),N&&{offset:N}),O=E([\"email-list\",M],function(){return K(M)}),Q=g(function(){return[b.createElement(v,{key:\"name\",direction:L,active:\"name\"===H,onClick:q},n(\"Name\")),b.createElement(v,{key:\"email\",direction:L,active:\"email\"===H,onClick:q},n(\"Email\")),b.createElement(v,{key:\"active\",direction:L,active:\"active\"===H,onClick:q},n(\"Active\")),b.createElement(v,{key:\"action\"},n(\"Action\"))]},[q,H,L,n]);return b.createElement(b.Fragment,null,O.isLoading&&b.createElement(P,null,b.createElement(x,null,Q),b.createElement(S,null,b.createElement(C,{headerCells:4}))),O.isSuccess&&O.data.emailInboxes.length>0&&b.createElement(b.Fragment,null,b.createElement(P,null,b.createElement(x,null,Q),b.createElement(S,null,O.data.emailInboxes.map(function(e){return b.createElement(G,{key:e._id,onKeyDown:J(e._id),onClick:J(e._id),tabIndex:0,role:\"link\",action:!0,width:\"full\"},b.createElement(p,{withTruncatedText:!0},e.name),b.createElement(p,{withTruncatedText:!0},e.email),b.createElement(p,{withTruncatedText:!0},e.active?n(\"Yes\"):n(\"No\")),b.createElement(I,{id:e._id}))}))),b.createElement(l,i({divider:!0,current:N,itemsPerPage:R,count:O.data.count,onSetItemsPerPage:B,onSetCurrent:D},j))),O.isSuccess&&0===O.data.emailInboxes.length&&b.createElement(h,null),O.isError&&b.createElement(r,null,b.createElement(s,{name:\"warning\",variation:\"danger\"}),b.createElement(m,null,n(\"Something_went_wrong\")),b.createElement(u,null,b.createElement(o,{onClick:function(){return O.refetch()}},n(\"Reload_page\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/emailInbox/EmailInboxTable.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Pagination, States, StatesAction, StatesActions, StatesIcon, StatesTitle } from '@rocket.chat/fuselage';\\nimport { useRoute, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo, useCallback } from 'react';\\n\\nimport GenericNoResults from '../../../components/GenericNoResults';\\nimport {\\n\\tGenericTable,\\n\\tGenericTableBody,\\n\\tGenericTableCell,\\n\\tGenericTableHeader,\\n\\tGenericTableHeaderCell,\\n\\tGenericTableLoadingTable,\\n\\tGenericTableRow,\\n} from '../../../components/GenericTable';\\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\\nimport SendTestButton from './SendTestButton';\\n\\nconst EmailInboxTable = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRoute('admin-email-inboxes');\\n\\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\\n\\tconst { sortBy, sortDirection, setSort } = useSort<'name' | 'email' | 'active'>('name');\\n\\n\\tconst onClick = useCallback(\\n\\t\\t(_id) => (): void => {\\n\\t\\t\\trouter.push({\\n\\t\\t\\t\\tcontext: 'edit',\\n\\t\\t\\t\\t_id,\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\t[router],\\n\\t);\\n\\n\\tconst endpoint = useEndpoint('GET', '/v1/email-inbox.list');\\n\\n\\tconst query = {\\n\\t\\tsort: JSON.stringify({ [sortBy]: sortDirection === 'asc' ? 1 : -1 }),\\n\\t\\t...(itemsPerPage && { count: itemsPerPage }),\\n\\t\\t...(current && { offset: current }),\\n\\t};\\n\\n\\tconst result = useQuery(['email-list', query], () => endpoint(query));\\n\\n\\tconst headers = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t<GenericTableHeaderCell key='name' direction={sortDirection} active={sortBy === 'name'} onClick={setSort}>\\n\\t\\t\\t\\t{t('Name')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='email' direction={sortDirection} active={sortBy === 'email'} onClick={setSort}>\\n\\t\\t\\t\\t{t('Email')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='active' direction={sortDirection} active={sortBy === 'active'} onClick={setSort}>\\n\\t\\t\\t\\t{t('Active')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='action'>{t('Action')}</GenericTableHeaderCell>,\\n\\t\\t],\\n\\t\\t[setSort, sortBy, sortDirection, t],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{result.isLoading && (\\n\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t<GenericTableLoadingTable headerCells={4} />\\n\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t)}\\n\\t\\t\\t{result.isSuccess && result.data.emailInboxes.length > 0 && (\\n\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t\\t{result.data.emailInboxes.map((emailInbox) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t<GenericTableRow\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tkey={emailInbox._id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonKeyDown={onClick(emailInbox._id)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClick={onClick(emailInbox._id)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttabIndex={0}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trole='link'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\taction\\n\\t\\t\\t\\t\\t\\t\\t\\t\\twidth='full'\\n\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<GenericTableCell withTruncatedText>{emailInbox.name}</GenericTableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<GenericTableCell withTruncatedText>{emailInbox.email}</GenericTableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<GenericTableCell withTruncatedText>{emailInbox.active ? t('Yes') : t('No')}</GenericTableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<SendTestButton id={emailInbox._id} />\\n\\t\\t\\t\\t\\t\\t\\t\\t</GenericTableRow>\\n\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t\\t\\t<Pagination\\n\\t\\t\\t\\t\\t\\tdivider\\n\\t\\t\\t\\t\\t\\tcurrent={current}\\n\\t\\t\\t\\t\\t\\titemsPerPage={itemsPerPage}\\n\\t\\t\\t\\t\\t\\tcount={result.data.count}\\n\\t\\t\\t\\t\\t\\tonSetItemsPerPage={onSetItemsPerPage}\\n\\t\\t\\t\\t\\t\\tonSetCurrent={onSetCurrent}\\n\\t\\t\\t\\t\\t\\t{...paginationProps}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</>\\n\\t\\t\\t)}\\n\\t\\t\\t{result.isSuccess && result.data.emailInboxes.length === 0 && <GenericNoResults />}\\n\\t\\t\\t{result.isError && (\\n\\t\\t\\t\\t<States>\\n\\t\\t\\t\\t\\t<StatesIcon name='warning' variation='danger' />\\n\\t\\t\\t\\t\\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\\n\\t\\t\\t\\t\\t<StatesActions>\\n\\t\\t\\t\\t\\t\\t<StatesAction onClick={() => result.refetch()}>{t('Reload_page')}</StatesAction>\\n\\t\\t\\t\\t\\t</StatesActions>\\n\\t\\t\\t\\t</States>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default EmailInboxTable;\\n\",null],\"names\":[\"_extends\",\"_objectSpread\",\"_objectWithoutProperties\",\"Pagination\",\"States\",\"StatesAction\",\"StatesActions\",\"StatesIcon\",\"StatesTitle\",\"useRoute\",\"useTranslation\",\"useEndpoint\",\"useQuery\",\"React\",\"useMemo\",\"useCallback\",\"GenericNoResults\",\"GenericTable\",\"GenericTableBody\",\"GenericTableCell\",\"GenericTableHeader\",\"GenericTableHeaderCell\",\"GenericTableLoadingTable\",\"GenericTableRow\",\"usePagination\",\"useSort\",\"SendTestButton\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_JSON$stringify\",\"t\",\"router\",\"_usePagination\",\"current\",\"itemsPerPage\",\"onSetItemsPerPage\",\"setItemsPerPage\",\"onSetCurrent\",\"setCurrent\",\"paginationProps\",\"_excluded\",\"_useSort\",\"sortBy\",\"sortDirection\",\"setSort\",\"onClick\",\"_id\",\"push\",\"context\",\"endpoint\",\"query\",\"sort\",\"JSON\",\"stringify\",\"count\",\"offset\",\"result\",\"headers\",\"createElement\",\"key\",\"direction\",\"active\",\"Fragment\",\"isLoading\",\"headerCells\",\"isSuccess\",\"data\",\"emailInboxes\",\"length\",\"map\",\"emailInbox\",\"onKeyDown\",\"tabIndex\",\"role\",\"action\",\"width\",\"withTruncatedText\",\"name\",\"email\",\"id\",\"divider\",\"isError\",\"variation\",\"refetch\"],\"mappings\":\"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\"}"}