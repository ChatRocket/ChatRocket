{"code":"function module(e,t,n){let l,a,r,c,o,i,s,m,u,E,d,g,k,_,p,y,f,h,T,w,v,b,C,G,x;n.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),n.link(\"@rocket.chat/fuselage\",{States(e){a=e},StatesIcon(e){r=e},StatesTitle(e){c=e},StatesActions(e){o=e},StatesAction(e){i=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMediaQuery(e){s=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){m=e},useToastMessageDispatch(e){u=e},useTranslation(e){E=e},useEndpoint(e){d=e}},2),n.link(\"@tanstack/react-query\",{useQuery(e){g=e}},3),n.link(\"react\",{default(e){k=e},useMemo(e){_=e}},4),n.link(\"../../../components/GenericModal\",{default(e){p=e}},5),n.link(\"../../../components/GenericNoResults\",{default(e){y=e}},6),n.link(\"../../../components/GenericTable\",{GenericTable(e){f=e},GenericTableBody(e){h=e},GenericTableHeader(e){T=e},GenericTableHeaderCell(e){w=e},GenericTableLoadingTable(e){v=e}},7),n.link(\"../../../components/Page\",{Page(e){b=e},PageHeader(e){C=e},PageContent(e){G=e}},8),n.link(\"./InviteRow\",{default(e){x=e}},9),n.exportDefault(()=>{let e=E(),t=u(),n=m(),S=d(\"GET\",\"/v1/listInvites\"),{data:I,isLoading:M,refetch:A,isSuccess:P,isError:R}=g([\"invites\"],async()=>{let e=await S();return e},{onError:e=>{t({type:\"error\",message:e})}}),F=l=>{let a=async()=>{try{await l(),t({type:\"success\",message:e(\"Invite_removed\")}),A()}catch(e){(\"string\"==typeof e||e instanceof Error)&&t({type:\"error\",message:e})}finally{n()}};n(k.createElement(p,{title:e(\"Are_you_sure\"),children:e(\"Are_you_sure_you_want_to_delete_this_record\"),variant:\"danger\",confirmText:e(\"Yes\"),cancelText:e(\"No\"),onClose:()=>n(),onCancel:()=>n(),onConfirm:a}))},H=s(\"(min-width: 768px)\"),D=_(()=>k.createElement(k.Fragment,null,k.createElement(w,{w:H?\"20%\":\"80%\"},e(\"Token\")),H&&k.createElement(k.Fragment,null,k.createElement(w,{w:\"35%\"},e(\"Created_at\")),k.createElement(w,{w:\"20%\"},e(\"Expiration\")),k.createElement(w,{w:\"10%\"},e(\"Uses\")),k.createElement(w,{w:\"10%\"},e(\"Uses_left\")),k.createElement(w,null))),[H,e]);return k.createElement(b,null,k.createElement(C,{title:e(\"Invites\")}),k.createElement(G,null,k.createElement(k.Fragment,null,M&&k.createElement(f,null,k.createElement(T,null,D),k.createElement(h,null,k.createElement(v,{headerCells:4}))),P&&I&&I.length>0&&k.createElement(f,null,k.createElement(T,null,D),k.createElement(h,null,M&&k.createElement(v,{headerCells:H?4:1}),I.map(e=>k.createElement(x,l({key:e._id},e,{onRemove:F}))))),P&&I&&0===I.length&&k.createElement(y,null),R&&k.createElement(a,null,k.createElement(r,{name:\"warning\",variation:\"danger\"}),k.createElement(c,null,e(\"Something_went_wrong\")),k.createElement(o,null,k.createElement(i,{onClick:()=>A()},e(\"Reload_page\")))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/invites/InvitesPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { States, StatesIcon, StatesTitle, StatesActions, StatesAction } from '@rocket.chat/fuselage';\\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\n\\nimport GenericModal from '../../../components/GenericModal';\\nimport GenericNoResults from '../../../components/GenericNoResults';\\nimport {\\n\\tGenericTable,\\n\\tGenericTableBody,\\n\\tGenericTableHeader,\\n\\tGenericTableHeaderCell,\\n\\tGenericTableLoadingTable,\\n} from '../../../components/GenericTable';\\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\\nimport InviteRow from './InviteRow';\\n\\nconst InvitesPage = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst setModal = useSetModal();\\n\\n\\tconst getInvites = useEndpoint('GET', '/v1/listInvites');\\n\\n\\tconst { data, isLoading, refetch, isSuccess, isError } = useQuery(\\n\\t\\t['invites'],\\n\\t\\tasync () => {\\n\\t\\t\\tconst invites = await getInvites();\\n\\t\\t\\treturn invites;\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tonError: (error) => {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t},\\n\\t\\t},\\n\\t);\\n\\n\\tconst onRemove = (removeInvite: () => Promise<boolean>): void => {\\n\\t\\tconst confirmRemove = async (): Promise<void> => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait removeInvite();\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Invite_removed') });\\n\\t\\t\\t\\trefetch();\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tif (typeof error === 'string' || error instanceof Error) {\\n\\t\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t\\t}\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tsetModal();\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tsetModal(\\n\\t\\t\\t<GenericModal\\n\\t\\t\\t\\ttitle={t('Are_you_sure')}\\n\\t\\t\\t\\tchildren={t('Are_you_sure_you_want_to_delete_this_record')}\\n\\t\\t\\t\\tvariant='danger'\\n\\t\\t\\t\\tconfirmText={t('Yes')}\\n\\t\\t\\t\\tcancelText={t('No')}\\n\\t\\t\\t\\tonClose={(): void => setModal()}\\n\\t\\t\\t\\tonCancel={(): void => setModal()}\\n\\t\\t\\t\\tonConfirm={confirmRemove}\\n\\t\\t\\t/>,\\n\\t\\t);\\n\\t};\\n\\n\\tconst notSmall = useMediaQuery('(min-width: 768px)');\\n\\n\\tconst headers = useMemo(\\n\\t\\t() => (\\n\\t\\t\\t<>\\n\\t\\t\\t\\t<GenericTableHeaderCell w={notSmall ? '20%' : '80%'}>{t('Token')}</GenericTableHeaderCell>\\n\\t\\t\\t\\t{notSmall && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t<GenericTableHeaderCell w='35%'>{t('Created_at')}</GenericTableHeaderCell>\\n\\t\\t\\t\\t\\t\\t<GenericTableHeaderCell w='20%'>{t('Expiration')}</GenericTableHeaderCell>\\n\\t\\t\\t\\t\\t\\t<GenericTableHeaderCell w='10%'>{t('Uses')}</GenericTableHeaderCell>\\n\\t\\t\\t\\t\\t\\t<GenericTableHeaderCell w='10%'>{t('Uses_left')}</GenericTableHeaderCell>\\n\\t\\t\\t\\t\\t\\t<GenericTableHeaderCell />\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</>\\n\\t\\t),\\n\\t\\t[notSmall, t],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<Page>\\n\\t\\t\\t<PageHeader title={t('Invites')} />\\n\\t\\t\\t<PageContent>\\n\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t{isLoading && (\\n\\t\\t\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t\\t\\t<GenericTableLoadingTable headerCells={4} />\\n\\t\\t\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{isSuccess && data && data.length > 0 && (\\n\\t\\t\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t\\t\\t{isLoading && <GenericTableLoadingTable headerCells={notSmall ? 4 : 1} />}\\n\\t\\t\\t\\t\\t\\t\\t\\t{data.map((invite) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<InviteRow key={invite._id} {...invite} onRemove={onRemove} />\\n\\t\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{isSuccess && data && data.length === 0 && <GenericNoResults />}\\n\\t\\t\\t\\t\\t{isError && (\\n\\t\\t\\t\\t\\t\\t<States>\\n\\t\\t\\t\\t\\t\\t\\t<StatesIcon name='warning' variation='danger' />\\n\\t\\t\\t\\t\\t\\t\\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\\n\\t\\t\\t\\t\\t\\t\\t<StatesActions>\\n\\t\\t\\t\\t\\t\\t\\t\\t<StatesAction onClick={() => refetch()}>{t('Reload_page')}</StatesAction>\\n\\t\\t\\t\\t\\t\\t\\t</StatesActions>\\n\\t\\t\\t\\t\\t\\t</States>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</>\\n\\t\\t\\t</PageContent>\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default InvitesPage;\\n\",null],\"names\":[\"_extends\",\"States\",\"StatesIcon\",\"StatesTitle\",\"StatesActions\",\"StatesAction\",\"useMediaQuery\",\"useSetModal\",\"useToastMessageDispatch\",\"useTranslation\",\"useEndpoint\",\"useQuery\",\"React\",\"useMemo\",\"GenericModal\",\"GenericNoResults\",\"GenericTable\",\"GenericTableBody\",\"GenericTableHeader\",\"GenericTableHeaderCell\",\"GenericTableLoadingTable\",\"Page\",\"PageHeader\",\"PageContent\",\"InviteRow\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"InvitesPage\",\"t\",\"dispatchToastMessage\",\"setModal\",\"getInvites\",\"data\",\"isLoading\",\"refetch\",\"isSuccess\",\"isError\",\"invites\",\"onError\",\"error\",\"type\",\"message\",\"onRemove\",\"removeInvite\",\"confirmRemove\",\"Error\",\"createElement\",\"title\",\"children\",\"variant\",\"confirmText\",\"cancelText\",\"onClose\",\"onCancel\",\"onConfirm\",\"notSmall\",\"headers\",\"Fragment\",\"w\",\"headerCells\",\"length\",\"map\",\"invite\",\"key\",\"_id\",\"name\",\"variation\",\"onClick\"],\"mappings\":\"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\"}"}