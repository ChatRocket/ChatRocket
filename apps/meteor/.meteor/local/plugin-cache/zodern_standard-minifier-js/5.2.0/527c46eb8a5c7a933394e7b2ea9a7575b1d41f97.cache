{"code":"function module(e,n,o){o.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){i=e}},0),o.export({useEditRoomInitialValues:function(){return a}}),o.link(\"@rocket.chat/ui-contexts\",{usePermission:function(e){l=e}},0),o.link(\"react\",{useMemo:function(e){r=e}},1),o.link(\"../../../../../lib/convertTimeUnit\",{msToTimeUnit:function(e){t=e},TIMEUNIT:function(e){d=e}},2),o.link(\"../../../../../lib/rooms/roomCoordinator\",{roomCoordinator:function(e){s=e}},3),o.link(\"../../../hooks/useRetentionPolicy\",{useRetentionPolicy:function(e){u=e}},4);var i,l,r,t,d,s,u,a=function(e){var n=u(e),o=l(\"edit-room-retention-policy\",e._id),a=e.t,c=e.ro,m=e.archived,v=e.topic,y=e.description,h=e.announcement,f=e.joinCodeRequired,p=e.sysMes,b=e.encrypted,A=e.retention,T=e.reactWhenReadOnly,g=e.sidepanel;return r(function(){var l,r,u,x,k;return i(i({roomName:\"d\"===a&&e.usernames?e.usernames.join(\" x \"):s.getRoomName(a,e),roomType:a,readOnly:!!c,reactWhenReadOnly:T,archived:!!m,roomTopic:null!=v?v:\"\",roomDescription:null!=y?y:\"\",roomAnnouncement:null!=h?h:\"\",roomAvatar:void 0,joinCode:\"\",joinCodeRequired:!!f,systemMessages:Array.isArray(p)?p:[],hideSysMes:Array.isArray(p)?!!(null!=p&&p.length):!!p,encrypted:b},o&&(null==n?void 0:n.enabled)&&{retentionEnabled:null!==(l=null==A?void 0:A.enabled)&&void 0!==l?l:n.isActive,retentionOverrideGlobal:!!(null!=A&&A.overrideGlobal),retentionMaxAge:null!==(r=null==A?void 0:A.maxAge)&&void 0!==r?r:t(d.days,n.maxAge),retentionExcludePinned:null!==(u=null==A?void 0:A.excludePinned)&&void 0!==u?u:n.excludePinned,retentionFilesOnly:null!==(x=null==A?void 0:A.filesOnly)&&void 0!==x?x:n.filesOnly,retentionIgnoreThreads:null!==(k=null==A?void 0:A.ignoreThreads)&&void 0!==k?k:n.ignoreThreads}),{},{showDiscussions:null==g?void 0:g.items.includes(\"discussions\"),showChannels:null==g?void 0:g.items.includes(\"channels\")})},[h,m,y,f,A,n,c,e,p,a,v,b,T,o,g])}}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/Info/EditRoomInfo/useEditRoomInitialValues.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoomWithRetentionPolicy } from '@rocket.chat/core-typings';\\nimport { usePermission } from '@rocket.chat/ui-contexts';\\nimport { useMemo } from 'react';\\n\\nimport { msToTimeUnit, TIMEUNIT } from '../../../../../lib/convertTimeUnit';\\nimport { roomCoordinator } from '../../../../../lib/rooms/roomCoordinator';\\nimport { useRetentionPolicy } from '../../../hooks/useRetentionPolicy';\\n\\nexport const useEditRoomInitialValues = (room: IRoomWithRetentionPolicy) => {\\n\\tconst retentionPolicy = useRetentionPolicy(room);\\n\\tconst canEditRoomRetentionPolicy = usePermission('edit-room-retention-policy', room._id);\\n\\n\\tconst {\\n\\t\\tt,\\n\\t\\tro,\\n\\t\\tarchived,\\n\\t\\ttopic,\\n\\t\\tdescription,\\n\\t\\tannouncement,\\n\\t\\tjoinCodeRequired,\\n\\t\\tsysMes,\\n\\t\\tencrypted,\\n\\t\\tretention,\\n\\t\\treactWhenReadOnly,\\n\\t\\tsidepanel,\\n\\t} = room;\\n\\n\\treturn useMemo(\\n\\t\\t() => ({\\n\\t\\t\\troomName: t === 'd' && room.usernames ? room.usernames.join(' x ') : roomCoordinator.getRoomName(t, room),\\n\\t\\t\\troomType: t,\\n\\t\\t\\treadOnly: !!ro,\\n\\t\\t\\treactWhenReadOnly,\\n\\t\\t\\tarchived: !!archived,\\n\\t\\t\\troomTopic: topic ?? '',\\n\\t\\t\\troomDescription: description ?? '',\\n\\t\\t\\troomAnnouncement: announcement ?? '',\\n\\t\\t\\troomAvatar: undefined,\\n\\t\\t\\tjoinCode: '',\\n\\t\\t\\tjoinCodeRequired: !!joinCodeRequired,\\n\\t\\t\\tsystemMessages: Array.isArray(sysMes) ? sysMes : [],\\n\\t\\t\\thideSysMes: Array.isArray(sysMes) ? !!sysMes?.length : !!sysMes,\\n\\t\\t\\tencrypted,\\n\\t\\t\\t...(canEditRoomRetentionPolicy &&\\n\\t\\t\\t\\tretentionPolicy?.enabled && {\\n\\t\\t\\t\\t\\tretentionEnabled: retention?.enabled ?? retentionPolicy.isActive,\\n\\t\\t\\t\\t\\tretentionOverrideGlobal: !!retention?.overrideGlobal,\\n\\t\\t\\t\\t\\tretentionMaxAge: retention?.maxAge ?? msToTimeUnit(TIMEUNIT.days, retentionPolicy.maxAge),\\n\\t\\t\\t\\t\\tretentionExcludePinned: retention?.excludePinned ?? retentionPolicy.excludePinned,\\n\\t\\t\\t\\t\\tretentionFilesOnly: retention?.filesOnly ?? retentionPolicy.filesOnly,\\n\\t\\t\\t\\t\\tretentionIgnoreThreads: retention?.ignoreThreads ?? retentionPolicy.ignoreThreads,\\n\\t\\t\\t\\t}),\\n\\t\\t\\tshowDiscussions: sidepanel?.items.includes('discussions'),\\n\\t\\t\\tshowChannels: sidepanel?.items.includes('channels'),\\n\\t\\t}),\\n\\t\\t[\\n\\t\\t\\tannouncement,\\n\\t\\t\\tarchived,\\n\\t\\t\\tdescription,\\n\\t\\t\\tjoinCodeRequired,\\n\\t\\t\\tretention,\\n\\t\\t\\tretentionPolicy,\\n\\t\\t\\tro,\\n\\t\\t\\troom,\\n\\t\\t\\tsysMes,\\n\\t\\t\\tt,\\n\\t\\t\\ttopic,\\n\\t\\t\\tencrypted,\\n\\t\\t\\treactWhenReadOnly,\\n\\t\\t\\tcanEditRoomRetentionPolicy,\\n\\t\\t\\tsidepanel,\\n\\t\\t],\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_objectSpread\",\"export\",\"useEditRoomInitialValues\",\"usePermission\",\"useMemo\",\"msToTimeUnit\",\"TIMEUNIT\",\"roomCoordinator\",\"useRetentionPolicy\",\"room\",\"retentionPolicy\",\"canEditRoomRetentionPolicy\",\"_id\",\"t\",\"ro\",\"archived\",\"topic\",\"description\",\"announcement\",\"joinCodeRequired\",\"sysMes\",\"encrypted\",\"retention\",\"reactWhenReadOnly\",\"sidepanel\",\"_retention$enabled\",\"_retention$maxAge\",\"_retention$excludePin\",\"_retention$filesOnly\",\"_retention$ignoreThre\",\"roomName\",\"usernames\",\"join\",\"getRoomName\",\"roomType\",\"readOnly\",\"roomTopic\",\"roomDescription\",\"roomAnnouncement\",\"roomAvatar\",\"undefined\",\"joinCode\",\"systemMessages\",\"Array\",\"isArray\",\"hideSysMes\",\"length\",\"enabled\",\"retentionEnabled\",\"isActive\",\"retentionOverrideGlobal\",\"overrideGlobal\",\"retentionMaxAge\",\"maxAge\",\"days\",\"retentionExcludePinned\",\"excludePinned\",\"retentionFilesOnly\",\"filesOnly\",\"retentionIgnoreThreads\",\"ignoreThreads\",\"showDiscussions\",\"items\",\"includes\",\"showChannels\"],\"mappings\":\"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\"}"}