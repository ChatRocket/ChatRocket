{"code":"function module(e,t,n){var l,i,a,o,c,s,r,u,m,d,f,g,v,E,h,M=[\"history\",\"setChatId\"];n.link(\"@babel/runtime/helpers/extends\",{default:function(e){l=e}},0),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){i=e}},1),n.link(\"@rocket.chat/fuselage\",{Message:function(e){a=e},Box:function(e){o=e},MessageGenericPreview:function(e){c=e},MessageGenericPreviewContent:function(e){s=e},MessageGenericPreviewDescription:function(e){r=e},MessageGenericPreviewTitle:function(e){u=e},MessageSystemBody:function(e){m=e}},0),n.link(\"@rocket.chat/ui-avatar\",{UserAvatar:function(e){d=e}},1),n.link(\"react\",{default:function(e){f=e},memo:function(e){g=e}},2),n.link(\"react-i18next\",{useTranslation:function(e){v=e}},3),n.link(\"../../../hooks/useFormatDateAndTime\",{useFormatDateAndTime:function(e){E=e}},4),n.link(\"../../../lib/clickableItem\",{clickableItem:function(e){h=e}},5),n.exportDefault(g(h(function(e){var t,n,g,h,k,b,C,_=e.history,p=e.setChatId,I=i(e,M),y=v().t,w=E(),x=null===(t=_.servedBy)||void 0===t?void 0:t.username,P=!!(null!==(n=_.closingMessage)&&void 0!==n&&null!==(g=n.msg)&&void 0!==g&&g.trim());return f.createElement(o,l({pbs:16,is:a,onClick:function(){p(_._id)},\"data-qa\":\"chat-history-item\"},I),f.createElement(a.LeftContainer,null,x&&f.createElement(d,{username:x,size:\"x36\"})),f.createElement(a.Container,null,f.createElement(a.Header,null,f.createElement(a.Name,{title:x},x),(null===(h=_.closingMessage)||void 0===h?void 0:h.ts)&&f.createElement(a.Timestamp,null,w(null===(k=_.closingMessage)||void 0===k?void 0:k.ts))),f.createElement(a.Body,null,f.createElement(m,{title:y(\"Conversation_closed_without_comment\")},y(\"Conversation_closed_without_comment\")),P&&f.createElement(c,null,f.createElement(s,null,f.createElement(u,null,y(\"Closing_chat_message\"),\":\"),f.createElement(r,{clamp:!0},f.createElement(o,{title:null===(b=_.closingMessage)||void 0===b?void 0:b.msg},null===(C=_.closingMessage)||void 0===C?void 0:C.msg))))),f.createElement(a.Metrics,null,f.createElement(a.Metrics.Item,null,f.createElement(a.Metrics.Item.Icon,{name:\"thread\"}),f.createElement(a.Metrics.Item.Label,null,_.msgs)))))})))}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/contactHistory/ContactHistoryItem.tsx\",\"<anon>\"],\"sourcesContent\":[\"import {\\n\\tMessage,\\n\\tBox,\\n\\tMessageGenericPreview,\\n\\tMessageGenericPreviewContent,\\n\\tMessageGenericPreviewDescription,\\n\\tMessageGenericPreviewTitle,\\n\\tMessageSystemBody,\\n} from '@rocket.chat/fuselage';\\nimport type { VisitorSearchChatsResult } from '@rocket.chat/rest-typings';\\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\\nimport type { ComponentPropsWithoutRef, Dispatch, ReactElement, SetStateAction } from 'react';\\nimport React, { memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\\nimport { clickableItem } from '../../../lib/clickableItem';\\n\\ntype ContactHistoryItemProps = {\\n\\thistory: VisitorSearchChatsResult;\\n\\tsetChatId: Dispatch<SetStateAction<string>>;\\n} & ComponentPropsWithoutRef<typeof Box>;\\n\\nfunction ContactHistoryItem({ history, setChatId, ...props }: ContactHistoryItemProps): ReactElement {\\n\\tconst { t } = useTranslation();\\n\\tconst formatDate = useFormatDateAndTime();\\n\\tconst username = history.servedBy?.username;\\n\\tconst hasClosingMessage = !!history.closingMessage?.msg?.trim();\\n\\tconst onClick = (): void => {\\n\\t\\tsetChatId(history._id);\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Box pbs={16} is={Message} onClick={onClick} data-qa='chat-history-item' {...props}>\\n\\t\\t\\t<Message.LeftContainer>{username && <UserAvatar username={username} size='x36' />}</Message.LeftContainer>\\n\\t\\t\\t<Message.Container>\\n\\t\\t\\t\\t<Message.Header>\\n\\t\\t\\t\\t\\t<Message.Name title={username}>{username}</Message.Name>\\n\\t\\t\\t\\t\\t{history.closingMessage?.ts && <Message.Timestamp>{formatDate(history.closingMessage?.ts)}</Message.Timestamp>}\\n\\t\\t\\t\\t</Message.Header>\\n\\t\\t\\t\\t<Message.Body>\\n\\t\\t\\t\\t\\t<MessageSystemBody title={t('Conversation_closed_without_comment')}>{t('Conversation_closed_without_comment')}</MessageSystemBody>\\n\\t\\t\\t\\t\\t{hasClosingMessage && (\\n\\t\\t\\t\\t\\t\\t<MessageGenericPreview>\\n\\t\\t\\t\\t\\t\\t\\t<MessageGenericPreviewContent>\\n\\t\\t\\t\\t\\t\\t\\t\\t<MessageGenericPreviewTitle>{t('Closing_chat_message')}:</MessageGenericPreviewTitle>\\n\\t\\t\\t\\t\\t\\t\\t\\t<MessageGenericPreviewDescription clamp>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Box title={history.closingMessage?.msg}>{history.closingMessage?.msg}</Box>\\n\\t\\t\\t\\t\\t\\t\\t\\t</MessageGenericPreviewDescription>\\n\\t\\t\\t\\t\\t\\t\\t</MessageGenericPreviewContent>\\n\\t\\t\\t\\t\\t\\t</MessageGenericPreview>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</Message.Body>\\n\\t\\t\\t\\t<Message.Metrics>\\n\\t\\t\\t\\t\\t<Message.Metrics.Item>\\n\\t\\t\\t\\t\\t\\t<Message.Metrics.Item.Icon name='thread' />\\n\\t\\t\\t\\t\\t\\t<Message.Metrics.Item.Label>{history.msgs}</Message.Metrics.Item.Label>\\n\\t\\t\\t\\t\\t</Message.Metrics.Item>\\n\\t\\t\\t\\t</Message.Metrics>\\n\\t\\t\\t</Message.Container>\\n\\t\\t</Box>\\n\\t);\\n}\\n\\nexport default memo(clickableItem(ContactHistoryItem));\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Message\",\"Box\",\"MessageGenericPreview\",\"MessageGenericPreviewContent\",\"MessageGenericPreviewDescription\",\"MessageGenericPreviewTitle\",\"MessageSystemBody\",\"UserAvatar\",\"React\",\"memo\",\"useTranslation\",\"useFormatDateAndTime\",\"clickableItem\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_history$servedBy\",\"_history$closingMessa\",\"_history$closingMessa2\",\"_history$closingMessa3\",\"_history$closingMessa4\",\"_history$closingMessa5\",\"_history$closingMessa6\",\"history\",\"setChatId\",\"props\",\"_excluded\",\"t\",\"_useTranslation\",\"formatDate\",\"username\",\"servedBy\",\"hasClosingMessage\",\"closingMessage\",\"msg\",\"trim\",\"createElement\",\"pbs\",\"is\",\"onClick\",\"_id\",\"LeftContainer\",\"size\",\"Container\",\"Header\",\"Name\",\"title\",\"ts\",\"Timestamp\",\"Body\",\"clamp\",\"Metrics\",\"Item\",\"Icon\",\"name\",\"Label\",\"msgs\"],\"mappings\":\"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\"}"}