{"code":"function module(n,u,r){var t,e,c;function l(n,u){var r,l,i=t();e(function(){return function(){var n,u;null===(n=i.current)||void 0===n||null===(u=n[1])||void 0===u||u.call(n)}},[]);var o=c(u);return i.current&&o||(null===(r=i.current)||void 0===r||null===(l=r[1])||void 0===l||l.call(r),i.current=n()),i.current[0]}r.export({useInstance:function(){return l}}),r.link(\"react\",{useRef:function(n){t=n},useEffect:function(n){e=n}},0),r.link(\"./useDepsMatch\",{useDepsMatch:function(n){c=n}},1)}","map":"{\"version\":3,\"sources\":[\"client/views/room/providers/hooks/useInstance.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useRef, useEffect } from 'react';\\n\\nimport { useDepsMatch } from './useDepsMatch';\\n\\nexport function useInstance<T>(factory: () => [instance: T, release?: () => void], deps: unknown[]): T {\\n\\tconst ref = useRef<[instance: T, release?: () => void]>();\\n\\n\\tuseEffect(\\n\\t\\t() => () => {\\n\\t\\t\\tref.current?.[1]?.();\\n\\t\\t},\\n\\t\\t[],\\n\\t);\\n\\n\\tconst depsMatch = useDepsMatch(deps);\\n\\n\\tif (!ref.current || !depsMatch) {\\n\\t\\tref.current?.[1]?.();\\n\\t\\tref.current = factory();\\n\\t}\\n\\n\\treturn ref.current[0];\\n}\\n\",null],\"names\":[\"useRef\",\"useEffect\",\"useDepsMatch\",\"useInstance\",\"factory\",\"deps\",\"_ref$current2\",\"_ref$current2$\",\"ref\",\"_ref$current\",\"_ref$current$\",\"current\",\"call\",\"depsMatch\",\"module\",\"export\",\"link\",\"v\"],\"mappings\":\"2BAA0CA,EAAAC,EAAAC,EAIpC,SAAUC,EAAeC,CAAkD,CAAEC,CAAe,EACjG,IAWgCC,EAAAC,EAX1BC,EAAMR,IAEZC,EACC,WAAA,OAAM,WAAK,IAAAQ,EAAAC,CACV,AAAW,QAAXD,CAAAA,EAAAD,EAAIG,OAAO,AAAPA,GAAOF,AAAA,KAAA,IAAAA,GAAA,AAAK,OAALC,CAAAA,EAAXD,CAAA,CAAc,EAAE,AAAD,GAACC,AAAA,KAAA,IAAAA,GAAhBA,EAAAE,IAAA,CAAAH,EACD,CAAC,EACD,EAAE,EAGH,IAAMI,EAAYX,EAAaG,GAO/B,OALKG,EAAIG,OAAO,EAAKE,IACpB,AAAW,OAAXP,CAAAA,EAAAE,EAAIG,OAAO,AAAPA,GAAOL,AAAA,KAAA,IAAAA,GAAA,AAAK,OAALC,CAAAA,EAAXD,CAAA,CAAc,EAAE,AAAD,GAACC,AAAA,KAAA,IAAAA,GAAhBA,EAAAK,IAAA,CAAAN,GACAE,EAAIG,OAAO,CAAGP,KAGRI,EAAIG,OAAO,CAAC,EAAE,AACtB,CAtBAG,EAAOC,MAAE,CAAA,CAAMZ,YAAW,WAAQ,OAAQA,CAAA,CAAA,GAAAW,EAAAE,IAAA,CAAA,QAAA,CAAAhB,OAAA,SAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,EAAAhB,UAAA,SAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAAAH,EAAAE,IAAA,CAAA,iBAAA,CAAAd,aAAA,SAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA\"}"}