{"code":"function module(e,n,t){t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){o=e}},0),t.export({useCleanHistoryRoomAction:function(){return f}}),t.link(\"@rocket.chat/core-typings\",{isRoomFederated:function(e){i=e}},0),t.link(\"@rocket.chat/ui-contexts\",{usePermission:function(e){r=e}},1),t.link(\"react\",{lazy:function(e){c=e},useMemo:function(e){u=e}},2),t.link(\"react-i18next\",{useTranslation:function(e){a=e}},3),t.link(\"../../views/room/contexts/RoomContext\",{useRoom:function(e){s=e}},4);var o,i,r,c,u,a,s,l=c(function(){return t.dynamicImport(\"../../views/room/contextualBar/PruneMessages\")}),f=function(){var e=s(),n=i(e),t=r(\"clean-channel-history\",e._id),c=a().t;return u(function(){if(t)return o(o({id:\"clean-history\",groups:[\"channel\",\"group\",\"team\",\"direct_multiple\",\"direct\"],full:!0,title:\"Prune_Messages\",icon:\"eraser\"},n&&{tooltip:c(\"core.Clean_History_unavailable_for_federation\"),disabled:!0}),{},{tabComponent:l,order:250,type:\"customization\"})},[n,t,c])}}","map":"{\"version\":3,\"sources\":[\"client/hooks/roomActions/useCleanHistoryRoomAction.ts\",\"<anon>\"],\"sourcesContent\":[\"import { isRoomFederated } from '@rocket.chat/core-typings';\\nimport { usePermission } from '@rocket.chat/ui-contexts';\\nimport { lazy, useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useRoom } from '../../views/room/contexts/RoomContext';\\nimport type { RoomToolboxActionConfig } from '../../views/room/contexts/RoomToolboxContext';\\n\\nconst PruneMessages = lazy(() => import('../../views/room/contextualBar/PruneMessages'));\\n\\nexport const useCleanHistoryRoomAction = () => {\\n\\tconst room = useRoom();\\n\\tconst federated = isRoomFederated(room);\\n\\tconst permitted = usePermission('clean-channel-history', room._id);\\n\\tconst { t } = useTranslation();\\n\\n\\treturn useMemo((): RoomToolboxActionConfig | undefined => {\\n\\t\\tif (!permitted) {\\n\\t\\t\\treturn undefined;\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tid: 'clean-history',\\n\\t\\t\\tgroups: ['channel', 'group', 'team', 'direct_multiple', 'direct'],\\n\\t\\t\\tfull: true,\\n\\t\\t\\ttitle: 'Prune_Messages',\\n\\t\\t\\ticon: 'eraser',\\n\\t\\t\\t...(federated && {\\n\\t\\t\\t\\ttooltip: t('core.Clean_History_unavailable_for_federation'),\\n\\t\\t\\t\\tdisabled: true,\\n\\t\\t\\t}),\\n\\t\\t\\ttabComponent: PruneMessages,\\n\\t\\t\\torder: 250,\\n\\t\\t\\ttype: 'customization',\\n\\t\\t};\\n\\t}, [federated, permitted, t]);\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_objectSpread\",\"export\",\"useCleanHistoryRoomAction\",\"isRoomFederated\",\"usePermission\",\"lazy\",\"useMemo\",\"useTranslation\",\"useRoom\",\"PruneMessages\",\"dynamicImport\",\"room\",\"federated\",\"permitted\",\"_id\",\"t\",\"_useTranslation\",\"id\",\"groups\",\"full\",\"title\",\"icon\",\"tooltip\",\"disabled\",\"tabComponent\",\"order\",\"type\"],\"mappings\":\"uBAASA,EAAeC,IAAE,CAAA,uCAAkC,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAA5DH,EAAOK,MAAE,CAAA,CAAAC,0BAAuB,WAAA,OAA2BA,CAAC,CAAA,GAAAN,EAAAC,IAAA,CAAA,4BAAA,CAAAM,gBAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAO,cAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAQ,KAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,EAAAO,QAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAU,eAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wCAAA,CAAAW,QAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAQ5D,IARAC,EAA4DG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAQtDC,EAAgBJ,EAAK,WAAA,OAAMT,EAAAc,aAAA,CAAO,+CAA+C,GAE1ER,EAA4B,WACxC,IAAMS,EAAOH,IACPI,EAAYT,EAAgBQ,GAC5BE,EAAYT,EAAc,wBAAyBO,EAAKG,GAAG,EACzDC,EAACC,AAAKT,IAANQ,CAAC,CAET,OAAOT,EAAQ,WACd,GAAKO,EAIL,OAAAb,EAAAA,EAAA,CACCiB,GAAI,gBACJC,OAAQ,CAAC,UAAW,QAAS,OAAQ,kBAAmB,SAAS,CACjEC,KAAM,CAAA,EACNC,MAAO,iBACPC,KAAM,QAAQ,EACVT,GAAa,CAChBU,QAASP,EAAE,iDACXQ,SAAU,CAAA,IACV,CAAA,EAAA,CACDC,aAAcf,EACdgB,MAAO,IACPC,KAAM,eAAe,EAEvB,EAAG,CAACd,EAAWC,EAAWE,EAAE,CAC7B\"}"}