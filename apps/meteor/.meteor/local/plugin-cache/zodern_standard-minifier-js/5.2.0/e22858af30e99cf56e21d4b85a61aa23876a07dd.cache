{"code":"function module(e,t,n){var o,l,i,a,c,r,s,u,m,d,f;n.link(\"@rocket.chat/fuselage\",{Button:function(e){o=e},Card:function(e){l=e},CardControls:function(e){i=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){a=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){c=e},useTranslation:function(e){r=e}},2),n.link(\"react\",{default:function(e){s=e},memo:function(e){u=e}},3),n.link(\"../../../../hooks/useFormatDateAndTime\",{useFormatDateAndTime:function(e){m=e}},4),n.link(\"../components/WorkspaceCardSection\",{default:function(e){d=e}},5),n.link(\"./components/InstancesModal\",{default:function(e){f=e}},6),n.exportDefault(u(function(e){var t=e.serverInfo,n=t.info,u=t.cloudWorkspaceId,E=e.statistics,b=e.instances,k=r(),p=m(),g=c(),h=n||{},y=h.commit,D=void 0===y?{}:y,C=h.marketplaceApiVersion,_=a(function(){g(s.createElement(f,{instances:b,onClose:function(){return g()}}))});return s.createElement(l,{\"data-qa-id\":\"deployment-card\",height:\"full\"},s.createElement(d,{title:k(\"Deployment\")}),s.createElement(d,{title:k(\"Version\"),body:E.version}),s.createElement(d,{title:k(\"Deployment_ID\"),body:E.uniqueId}),u&&s.createElement(d,{title:k(\"Cloud_Workspace_Id\"),body:u}),C&&s.createElement(d,{title:k(\"Apps_Engine_Version\"),body:C}),s.createElement(d,{title:k(\"Node_version\"),body:E.process.nodeVersion}),s.createElement(d,{title:k(\"DB_Migration\"),body:E.migration.version+\" (\"+p(E.migration.lockedAt)+\")\"}),s.createElement(d,{title:k(\"MongoDB\"),body:E.mongoVersion+\" / \"+E.mongoStorageEngine+\" \"+(E.msEnabled?\"\":\"(oplog \"+k(E.oplogEnabled?\"Enabled\":\"Disabled\")+\")\")}),s.createElement(d,{title:k(\"Commit_details\"),body:s.createElement(s.Fragment,null,k(\"github_HEAD\"),\": (\",D.hash?D.hash.slice(0,9):\"\",\") \",s.createElement(\"br\",null),k(\"Branch\"),\": \",D.branch,\" \",s.createElement(\"br\",null),D.subject)}),s.createElement(d,{title:k(\"PID\"),body:E.process.pid}),!!b.length&&s.createElement(i,null,s.createElement(o,{medium:!0,onClick:_},k(\"Instances\"))))}))}","map":"{\"version\":3,\"sources\":[\"client/views/admin/workspace/DeploymentCard/DeploymentCard.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IWorkspaceInfo, IStats } from '@rocket.chat/core-typings';\\nimport { Button, Card, CardControls } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { IInstance } from '@rocket.chat/rest-typings';\\nimport { useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { memo } from 'react';\\n\\nimport { useFormatDateAndTime } from '../../../../hooks/useFormatDateAndTime';\\nimport WorkspaceCardSection from '../components/WorkspaceCardSection';\\nimport InstancesModal from './components/InstancesModal';\\n\\ntype DeploymentCardProps = {\\n\\tserverInfo: IWorkspaceInfo;\\n\\tinstances: IInstance[];\\n\\tstatistics: IStats;\\n};\\n\\nconst DeploymentCard = ({ serverInfo: { info, cloudWorkspaceId }, statistics, instances }: DeploymentCardProps): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst formatDateAndTime = useFormatDateAndTime();\\n\\tconst setModal = useSetModal();\\n\\n\\tconst { commit = {}, marketplaceApiVersion: appsEngineVersion } = info || {};\\n\\n\\tconst handleInstancesModal = useMutableCallback(() => {\\n\\t\\tsetModal(<InstancesModal instances={instances} onClose={(): void => setModal()} />);\\n\\t});\\n\\n\\treturn (\\n\\t\\t<Card data-qa-id='deployment-card' height='full'>\\n\\t\\t\\t<WorkspaceCardSection title={t('Deployment')} />\\n\\t\\t\\t<WorkspaceCardSection title={t('Version')} body={statistics.version} />\\n\\t\\t\\t<WorkspaceCardSection title={t('Deployment_ID')} body={statistics.uniqueId} />\\n\\n\\t\\t\\t{cloudWorkspaceId && <WorkspaceCardSection title={t('Cloud_Workspace_Id')} body={cloudWorkspaceId} />}\\n\\n\\t\\t\\t{appsEngineVersion && <WorkspaceCardSection title={t('Apps_Engine_Version')} body={appsEngineVersion} />}\\n\\t\\t\\t<WorkspaceCardSection title={t('Node_version')} body={statistics.process.nodeVersion} />\\n\\t\\t\\t<WorkspaceCardSection\\n\\t\\t\\t\\ttitle={t('DB_Migration')}\\n\\t\\t\\t\\tbody={`${statistics.migration.version} (${formatDateAndTime(statistics.migration.lockedAt)})`}\\n\\t\\t\\t/>\\n\\t\\t\\t<WorkspaceCardSection\\n\\t\\t\\t\\ttitle={t('MongoDB')}\\n\\t\\t\\t\\tbody={`${statistics.mongoVersion} / ${statistics.mongoStorageEngine} ${\\n\\t\\t\\t\\t\\t!statistics.msEnabled ? `(oplog ${statistics.oplogEnabled ? t('Enabled') : t('Disabled')})` : ''\\n\\t\\t\\t\\t}`}\\n\\t\\t\\t/>\\n\\t\\t\\t<WorkspaceCardSection\\n\\t\\t\\t\\ttitle={t('Commit_details')}\\n\\t\\t\\t\\tbody={\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t{t('github_HEAD')}: ({commit.hash ? commit.hash.slice(0, 9) : ''}) <br />\\n\\t\\t\\t\\t\\t\\t{t('Branch')}: {commit.branch} <br />\\n\\t\\t\\t\\t\\t\\t{commit.subject}\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t}\\n\\t\\t\\t/>\\n\\t\\t\\t<WorkspaceCardSection title={t('PID')} body={statistics.process.pid} />\\n\\n\\t\\t\\t{!!instances.length && (\\n\\t\\t\\t\\t<CardControls>\\n\\t\\t\\t\\t\\t<Button medium onClick={handleInstancesModal}>\\n\\t\\t\\t\\t\\t\\t{t('Instances')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</CardControls>\\n\\t\\t\\t)}\\n\\t\\t</Card>\\n\\t);\\n};\\n\\nexport default memo(DeploymentCard);\\n\",null],\"names\":[\"Button\",\"Card\",\"CardControls\",\"useMutableCallback\",\"useSetModal\",\"useTranslation\",\"React\",\"memo\",\"useFormatDateAndTime\",\"WorkspaceCardSection\",\"InstancesModal\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"_ref$serverInfo\",\"serverInfo\",\"info\",\"cloudWorkspaceId\",\"statistics\",\"instances\",\"t\",\"formatDateAndTime\",\"setModal\",\"_ref2\",\"_ref2$commit\",\"commit\",\"appsEngineVersion\",\"marketplaceApiVersion\",\"handleInstancesModal\",\"createElement\",\"onClose\",\"height\",\"title\",\"body\",\"version\",\"uniqueId\",\"process\",\"nodeVersion\",\"migration\",\"lockedAt\",\"mongoVersion\",\"mongoStorageEngine\",\"msEnabled\",\"oplogEnabled\",\"Fragment\",\"hash\",\"slice\",\"branch\",\"subject\",\"pid\",\"length\",\"medium\",\"onClick\"],\"mappings\":\"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\"}"}