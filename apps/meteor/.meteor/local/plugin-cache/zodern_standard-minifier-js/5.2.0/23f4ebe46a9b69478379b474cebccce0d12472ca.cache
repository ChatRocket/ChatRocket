{"code":"function module(e,n,t){t.export({useAsyncImage:function(){return o}}),t.link(\"react\",{useEffect:function(e){r=e}},0),t.link(\"../../../../../hooks/useAsyncState\",{useAsyncState:function(e){c=e}},1);var r,c,o=function(e){var n=c(),t=n.value,o=n.resolve,u=n.reject,s=n.reset;return r(function(){if(s(),e){var n=new Image;n.addEventListener(\"load\",function(){o(n.src)}),n.addEventListener(\"error\",function(e){u(e.error)}),n.src=e}},[e,o,u,s]),t}}","map":"{\"version\":3,\"sources\":[\"client/components/message/content/location/hooks/useAsyncImage.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEffect } from 'react';\\n\\nimport { useAsyncState } from '../../../../../hooks/useAsyncState';\\n\\nexport const useAsyncImage = (src: string | undefined): string | undefined => {\\n\\tconst { value, resolve, reject, reset } = useAsyncState<string>();\\n\\n\\tuseEffect(() => {\\n\\t\\treset();\\n\\n\\t\\tif (!src) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst image = new Image();\\n\\t\\timage.addEventListener('load', () => {\\n\\t\\t\\tresolve(image.src);\\n\\t\\t});\\n\\t\\timage.addEventListener('error', (e) => {\\n\\t\\t\\treject(e.error);\\n\\t\\t});\\n\\t\\timage.src = src;\\n\\t}, [src, resolve, reject, reset]);\\n\\n\\treturn value;\\n};\\n\",null],\"names\":[\"module\",\"export\",\"useAsyncImage\",\"link\",\"useEffect\",\"v\",\"useAsyncState\",\"src\",\"_useAsyncState\",\"value\",\"resolve\",\"reject\",\"reset\",\"image\",\"Image\",\"addEventListener\",\"e\",\"error\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,cAAiB,WAAQ,OAAAA,CAAA,CAAA,GAAAF,EAAAG,IAAA,CAAA,QAAA,CAAAC,UAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,qCAAA,CAAAG,cAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAI3B,IAJ2BD,EAAAE,EAIrBJ,EAAgB,SAACK,CAAuB,EACpD,IAAAC,EAA0CF,IAAlCG,EAAKD,EAALC,KAAK,CAAEC,EAAOF,EAAPE,OAAO,CAAEC,EAAMH,EAANG,MAAM,CAAEC,EAAKJ,EAALI,KAAK,CAmBrC,OAjBAR,EAAU,WAGT,GAFAQ,IAEKL,GAIL,IAAMM,EAAQ,IAAIC,MAClBD,EAAME,gBAAgB,CAAC,OAAQ,WAC9BL,EAAQG,EAAMN,GAAG,CAClB,GACAM,EAAME,gBAAgB,CAAC,QAAS,SAACC,CAAC,EACjCL,EAAOK,EAAEC,KAAK,CACf,GACAJ,EAAMN,GAAG,CAAGA,EACb,EAAG,CAACA,EAAKG,EAASC,EAAQC,EAAM,EAEzBH,CACR\"}"}