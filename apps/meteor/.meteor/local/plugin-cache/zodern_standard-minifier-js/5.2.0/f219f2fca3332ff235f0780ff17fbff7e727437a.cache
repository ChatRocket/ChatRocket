{"code":"function module(t,n,e){e.link(\"@babel/runtime/regenerator\",{default:function(t){i=t}},0),e.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(t){r=t}},1),e.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(t){o=t}},2),e.export({useAppActionButtons:function(){return h},useMessageboxAppsActionButtons:function(){return B},useUserDropdownAppsActionButtons:function(){return T},useMessageActionAppsActionButtons:function(){return U}}),e.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedCallback:function(t){u=t}},0),e.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(t){a=t},useStream:function(t){c=t},useToastMessageDispatch:function(t){s=t},useUserId:function(t){l=t}},1),e.link(\"@tanstack/react-query\",{useQuery:function(t){p=t},useQueryClient:function(t){f=t}},2),e.link(\"react\",{useEffect:function(t){d=t},useMemo:function(t){m=t}},3),e.link(\"react-i18next\",{useTranslation:function(t){I=t}},4),e.link(\"../../app/ui-message/client/UiKitTriggerTimeoutError\",{UiKitTriggerTimeoutError:function(t){b=t}},5),e.link(\"../../ee/lib/misc/Utilities\",{Utilities:function(t){v=t}},6),e.link(\"../uikit/hooks/useUiKitActionManager\",{useUiKitActionManager:function(t){g=t}},7),e.link(\"./useApplyButtonFilters\",{useApplyButtonFilters:function(t){k=t},useApplyButtonAuthFilter:function(t){y=t}},8),e.link(\"./useFilterActions\",{useFilterActionsByContext:function(t){A=t}},9);var i,r,o,u,a,c,s,l,p,f,d,m,I,b,v,g,k,y,A,x=function(t){return t.appId+\"/\"+t.actionId},h=function(t){var n=f(),e=c(\"apps\"),i=l(),s=a(\"GET\",\"/apps/actionButtons\"),m=p([\"apps\",\"actionButtons\"],function(){return s()},o(o({},t&&{select:function(n){return n.filter(function(n){return n.context===t})}}),{},{staleTime:1/0})),I=u(function(){n.invalidateQueries([\"apps\",\"actionButtons\"])},100,[]);return d(function(){if(i)return e(\"apps\",function(t){[\"actions/changed\"].includes(r(t,1)[0])&&I()})},[i,e,I]),m},B=function(){var t=h(\"messageBoxAction\"),n=g(),e=s(),r=I().t,u=k(),a=m(function(){var o;return null===(o=t.data)||void 0===o?void 0:o.filter(function(t){return u(t)}).map(function(t){return{id:x(t),label:v.getI18nKeyForApp(t.labelI18n,t.appId),action:function(o){var u,a;n.emitInteraction(t.appId,{type:\"actionButton\",rid:o.rid,tmid:o.tmid,actionId:t.actionId,payload:{context:t.context,message:null!==(u=null===(a=o.chat.composer)||void 0===a?void 0:a.text)&&void 0!==u?u:\"\"}}).catch(function(t){return i.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t instanceof b)){n.next=3;break}return e({type:\"error\",message:r(\"UIKit_Interaction_Timeout\")}),n.abrupt(\"return\");case 3:return n.abrupt(\"return\",t);case 4:case\"end\":return n.stop()}},null,null,null,Promise)})}}})},[n,u,e,t.data,r]);return o(o({},t),{},{data:a})},T=function(){var t=h(\"userDropdownAction\"),n=g(),e=s(),r=I().t,u=y(),a=m(function(){var o;return null===(o=t.data)||void 0===o?void 0:o.filter(function(t){return u(t)}).map(function(t){return{id:t.appId+\"_\"+t.actionId,content:t.labelI18n,onClick:function(){n.emitInteraction(t.appId,{type:\"actionButton\",actionId:t.actionId,payload:{context:t.context}}).catch(function(t){return i.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t instanceof b)){n.next=3;break}return e({type:\"error\",message:r(\"UIKit_Interaction_Timeout\")}),n.abrupt(\"return\");case 3:return n.abrupt(\"return\",t);case 4:case\"end\":return n.stop()}},null,null,null,Promise)})}}})},[n,u,e,t.data,r]);return o(o({},t),{},{data:a})},U=function(t,n){var e=h(\"messageAction\"),r=g(),u=k(n),a=s(),c=I().t,l=A(t),p=m(function(){var t;return null===(t=e.data)||void 0===t?void 0:t.filter(function(t){return!!l(t)&&u(t)}).map(function(t){return{icon:void 0,id:x(t),label:v.getI18nKeyForApp(t.labelI18n,t.appId),order:7,type:\"apps\",variant:t.variant,action:function(n,e){r.emitInteraction(t.appId,{type:\"actionButton\",rid:e.message.rid,tmid:e.message.tmid,mid:e.message._id,actionId:t.actionId,payload:{context:t.context}}).catch(function(t){return i.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t instanceof b)){n.next=3;break}return a({type:\"error\",message:c(\"UIKit_Interaction_Timeout\")}),n.abrupt(\"return\");case 3:return n.abrupt(\"return\",t);case 4:case\"end\":return n.stop()}},null,null,null,Promise)})}}})},[r,u,a,l,e.data,c]);return o(o({},e),{},{data:p})}}","map":"{\"version\":3,\"sources\":[\"client/hooks/useAppActionButtons.ts\",\"<anon>\"],\"sourcesContent\":[\"import { type IUIActionButton, type UIActionButtonContext } from '@rocket.chat/apps-engine/definition/ui';\\nimport { useDebouncedCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { GenericMenuItemProps } from '@rocket.chat/ui-client';\\nimport { useEndpoint, useStream, useToastMessageDispatch, useUserId } from '@rocket.chat/ui-contexts';\\nimport type { UseQueryResult } from '@tanstack/react-query';\\nimport { useQuery, useQueryClient } from '@tanstack/react-query';\\nimport { useEffect, useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { UiKitTriggerTimeoutError } from '../../app/ui-message/client/UiKitTriggerTimeoutError';\\nimport type { MessageActionConfig, MessageActionContext } from '../../app/ui-utils/client/lib/MessageAction';\\nimport type { MessageBoxAction } from '../../app/ui-utils/client/lib/messageBox';\\nimport { Utilities } from '../../ee/lib/misc/Utilities';\\nimport { useUiKitActionManager } from '../uikit/hooks/useUiKitActionManager';\\nimport { useApplyButtonFilters, useApplyButtonAuthFilter } from './useApplyButtonFilters';\\nimport { useFilterActionsByContext } from './useFilterActions';\\n\\nconst getIdForActionButton = ({ appId, actionId }: IUIActionButton): string => `${appId}/${actionId}`;\\n\\nexport const useAppActionButtons = <TContext extends `${UIActionButtonContext}`>(context?: TContext) => {\\n\\tconst queryClient = useQueryClient();\\n\\n\\tconst apps = useStream('apps');\\n\\tconst uid = useUserId();\\n\\n\\tconst getActionButtons = useEndpoint('GET', '/apps/actionButtons');\\n\\n\\tconst result = useQuery(['apps', 'actionButtons'], () => getActionButtons(), {\\n\\t\\t...(context && {\\n\\t\\t\\tselect: (data) =>\\n\\t\\t\\t\\tdata.filter(\\n\\t\\t\\t\\t\\t(\\n\\t\\t\\t\\t\\t\\tbutton,\\n\\t\\t\\t\\t\\t): button is IUIActionButton & {\\n\\t\\t\\t\\t\\t\\tcontext: UIActionButtonContext extends infer X ? (X extends TContext ? X : never) : never;\\n\\t\\t\\t\\t\\t} => button.context === context,\\n\\t\\t\\t\\t),\\n\\t\\t}),\\n\\t\\tstaleTime: Infinity,\\n\\t});\\n\\n\\tconst invalidate = useDebouncedCallback(\\n\\t\\t() => {\\n\\t\\t\\tqueryClient.invalidateQueries(['apps', 'actionButtons']);\\n\\t\\t},\\n\\t\\t100,\\n\\t\\t[],\\n\\t);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!uid) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\treturn apps('apps', ([key]) => {\\n\\t\\t\\tif (['actions/changed'].includes(key)) {\\n\\t\\t\\t\\tinvalidate();\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}, [uid, apps, invalidate]);\\n\\n\\treturn result;\\n};\\n\\nexport const useMessageboxAppsActionButtons = () => {\\n\\tconst result = useAppActionButtons('messageBoxAction');\\n\\tconst actionManager = useUiKitActionManager();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst { t } = useTranslation();\\n\\n\\tconst applyButtonFilters = useApplyButtonFilters();\\n\\n\\tconst data = useMemo(\\n\\t\\t() =>\\n\\t\\t\\tresult.data\\n\\t\\t\\t\\t?.filter((action) => {\\n\\t\\t\\t\\t\\treturn applyButtonFilters(action);\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.map((action) => {\\n\\t\\t\\t\\t\\tconst item: Omit<MessageBoxAction, 'icon'> = {\\n\\t\\t\\t\\t\\t\\tid: getIdForActionButton(action),\\n\\t\\t\\t\\t\\t\\tlabel: Utilities.getI18nKeyForApp(action.labelI18n, action.appId),\\n\\t\\t\\t\\t\\t\\taction: (params) => {\\n\\t\\t\\t\\t\\t\\t\\tvoid actionManager\\n\\t\\t\\t\\t\\t\\t\\t\\t.emitInteraction(action.appId, {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttype: 'actionButton',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trid: params.rid,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttmid: params.tmid,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tactionId: action.actionId,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tpayload: { context: action.context, message: params.chat.composer?.text ?? '' },\\n\\t\\t\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t\\t\\t\\t.catch(async (reason) => {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (reason instanceof UiKitTriggerTimeoutError) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype: 'error',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmessage: t('UIKit_Interaction_Timeout'),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn reason;\\n\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\treturn item;\\n\\t\\t\\t\\t}),\\n\\t\\t[actionManager, applyButtonFilters, dispatchToastMessage, result.data, t],\\n\\t);\\n\\treturn {\\n\\t\\t...result,\\n\\t\\tdata,\\n\\t} as UseQueryResult<MessageBoxAction[]>;\\n};\\n\\nexport const useUserDropdownAppsActionButtons = () => {\\n\\tconst result = useAppActionButtons('userDropdownAction');\\n\\tconst actionManager = useUiKitActionManager();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst { t } = useTranslation();\\n\\n\\tconst applyButtonFilters = useApplyButtonAuthFilter();\\n\\n\\tconst data = useMemo(\\n\\t\\t() =>\\n\\t\\t\\tresult.data\\n\\t\\t\\t\\t?.filter((action) => {\\n\\t\\t\\t\\t\\treturn applyButtonFilters(action);\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.map((action) => {\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tid: `${action.appId}_${action.actionId}`,\\n\\t\\t\\t\\t\\t\\t// icon: action.icon as GenericMenuItemProps['icon'],\\n\\t\\t\\t\\t\\t\\tcontent: action.labelI18n,\\n\\t\\t\\t\\t\\t\\tonClick: () => {\\n\\t\\t\\t\\t\\t\\t\\tvoid actionManager\\n\\t\\t\\t\\t\\t\\t\\t\\t.emitInteraction(action.appId, {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttype: 'actionButton',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tactionId: action.actionId,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tpayload: { context: action.context },\\n\\t\\t\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t\\t\\t\\t.catch(async (reason) => {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (reason instanceof UiKitTriggerTimeoutError) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype: 'error',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmessage: t('UIKit_Interaction_Timeout'),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn reason;\\n\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}),\\n\\t\\t[actionManager, applyButtonFilters, dispatchToastMessage, result.data, t],\\n\\t);\\n\\treturn {\\n\\t\\t...result,\\n\\t\\tdata,\\n\\t} as UseQueryResult<GenericMenuItemProps[]>;\\n};\\n\\nexport const useMessageActionAppsActionButtons = (context?: MessageActionContext, category?: string) => {\\n\\tconst result = useAppActionButtons('messageAction');\\n\\tconst actionManager = useUiKitActionManager();\\n\\tconst applyButtonFilters = useApplyButtonFilters(category);\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst { t } = useTranslation();\\n\\tconst filterActionsByContext = useFilterActionsByContext(context);\\n\\tconst data = useMemo(\\n\\t\\t() =>\\n\\t\\t\\tresult.data\\n\\t\\t\\t\\t?.filter((action) => {\\n\\t\\t\\t\\t\\tif (!filterActionsByContext(action)) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn applyButtonFilters(action);\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.map((action) => {\\n\\t\\t\\t\\t\\tconst item: MessageActionConfig = {\\n\\t\\t\\t\\t\\t\\ticon: undefined as any,\\n\\t\\t\\t\\t\\t\\tid: getIdForActionButton(action),\\n\\t\\t\\t\\t\\t\\tlabel: Utilities.getI18nKeyForApp(action.labelI18n, action.appId),\\n\\t\\t\\t\\t\\t\\torder: 7,\\n\\t\\t\\t\\t\\t\\ttype: 'apps',\\n\\t\\t\\t\\t\\t\\tvariant: action.variant,\\n\\t\\t\\t\\t\\t\\taction: (_, params) => {\\n\\t\\t\\t\\t\\t\\t\\tvoid actionManager\\n\\t\\t\\t\\t\\t\\t\\t\\t.emitInteraction(action.appId, {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttype: 'actionButton',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trid: params.message.rid,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttmid: params.message.tmid,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmid: params.message._id,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tactionId: action.actionId,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tpayload: { context: action.context },\\n\\t\\t\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t\\t\\t\\t.catch(async (reason) => {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (reason instanceof UiKitTriggerTimeoutError) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype: 'error',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmessage: t('UIKit_Interaction_Timeout'),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn reason;\\n\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\treturn item;\\n\\t\\t\\t\\t}),\\n\\t\\t[actionManager, applyButtonFilters, dispatchToastMessage, filterActionsByContext, result.data, t],\\n\\t);\\n\\treturn {\\n\\t\\t...result,\\n\\t\\tdata,\\n\\t} as UseQueryResult<MessageActionConfig[]>;\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_slicedToArray\",\"_objectSpread\",\"export\",\"useAppActionButtons\",\"useMessageboxAppsActionButtons\",\"useUserDropdownAppsActionButtons\",\"useMessageActionAppsActionButtons\",\"useDebouncedCallback\",\"useEndpoint\",\"useStream\",\"useToastMessageDispatch\",\"useUserId\",\"useQuery\",\"useQueryClient\",\"useEffect\",\"useMemo\",\"useTranslation\",\"UiKitTriggerTimeoutError\",\"Utilities\",\"useUiKitActionManager\",\"useApplyButtonFilters\",\"useApplyButtonAuthFilter\",\"useFilterActionsByContext\",\"getIdForActionButton\",\"_ref\",\"appId\",\"actionId\",\"context\",\"queryClient\",\"apps\",\"uid\",\"getActionButtons\",\"result\",\"select\",\"data\",\"filter\",\"button\",\"staleTime\",\"Infinity\",\"invalidate\",\"invalidateQueries\",\"_ref2\",\"includes\",\"_ref3\",\"actionManager\",\"dispatchToastMessage\",\"t\",\"_useTranslation\",\"applyButtonFilters\",\"_result$data\",\"action\",\"map\",\"id\",\"label\",\"getI18nKeyForApp\",\"labelI18n\",\"params\",\"_params$chat$composer\",\"_params$chat$composer2\",\"emitInteraction\",\"type\",\"rid\",\"tmid\",\"payload\",\"message\",\"chat\",\"composer\",\"text\",\"catch\",\"reason\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"stop\",\"Promise\",\"_useTranslation2\",\"_result$data2\",\"content\",\"onClick\",\"_context2\",\"category\",\"_useTranslation3\",\"filterActionsByContext\",\"_result$data3\",\"icon\",\"undefined\",\"order\",\"variant\",\"_\",\"mid\",\"_id\",\"_context3\"],\"mappings\":\"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\"}"}