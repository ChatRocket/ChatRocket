{"code":"function module(e,l,t){let a,n,r,o,i,u,c,m,s,d,f,k,x,h;t.link(\"@rocket.chat/fuselage\",{Box(e){a=e},Select(e){n=e},TextInput(e){r=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue(e){o=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){i=e}},2),t.link(\"react\",{default(e){u=e},useCallback(e){c=e},useState(e){m=e},useMemo(e){s=e}},3),t.link(\"react-i18next\",{useTranslation(e){d=e}},4),t.link(\"./FederatedRoomList\",{default(e){f=e}},5),t.link(\"./FederatedRoomListErrorBoundary\",{default(e){k=e}},6),t.link(\"./MatrixFederationManageServerModal\",{default(e){x=e}},7),t.link(\"./MatrixFederationSearch\",{default(e){h=e}},8),t.exportDefault(e=>{let{defaultSelectedServer:l,servers:t}=e,[E,g]=m(()=>{var e;let a=t.find(e=>e.name===l);return null!==(e=null==a?void 0:a.name)&&void 0!==e?e:t[0].name}),[v,S]=m(\"\"),p=i(),C=o(v,400),{t:M}=d(),F=s(()=>t.map(e=>[e.name,e.name]),[t]),w=c(()=>{p(u.createElement(x,{onClickClose:()=>p(u.createElement(h,{onClose:()=>p(null)}))}))},[p]);return u.createElement(u.Fragment,null,u.createElement(a,{display:\"flex\",flexDirection:\"row\"},u.createElement(a,{mie:4,flexGrow:0,flexShrink:4},u.createElement(n,{options:F,value:E,onChange:e=>g(String(e))})),u.createElement(r,{placeholder:M(\"Search_rooms\"),flexGrow:4,flexShrink:0,value:v,onChange:e=>S(e.currentTarget.value)})),u.createElement(a,{is:\"a\",display:\"flex\",flexDirection:\"row\",mbe:16,onClick:w},M(\"Manage_server_list\")),u.createElement(k,null,u.createElement(f,{serverName:E,roomName:C})))})}","map":"{\"version\":3,\"sources\":[\"client/sidebarv2/header/MatrixFederationSearch/MatrixFederationSearchModalContent.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Box, Select, TextInput } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal } from '@rocket.chat/ui-contexts';\\nimport type { FormEvent } from 'react';\\nimport React, { useCallback, useState, useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport FederatedRoomList from './FederatedRoomList';\\nimport FederatedRoomListErrorBoundary from './FederatedRoomListErrorBoundary';\\nimport MatrixFederationManageServersModal from './MatrixFederationManageServerModal';\\nimport MatrixFederationSearch from './MatrixFederationSearch';\\n\\ntype MatrixFederationSearchModalContentProps = {\\n\\tservers: Array<{\\n\\t\\tname: string;\\n\\t\\tdefault: boolean;\\n\\t\\tlocal: boolean;\\n\\t}>;\\n\\tdefaultSelectedServer?: string;\\n};\\n\\nconst MatrixFederationSearchModalContent = ({ defaultSelectedServer, servers }: MatrixFederationSearchModalContentProps) => {\\n\\tconst [serverName, setServerName] = useState(() => {\\n\\t\\tconst defaultServer = servers.find((server) => server.name === defaultSelectedServer);\\n\\t\\treturn defaultServer?.name ?? servers[0].name;\\n\\t});\\n\\n\\tconst [roomName, setRoomName] = useState('');\\n\\n\\tconst setModal = useSetModal();\\n\\n\\tconst debouncedRoomName = useDebouncedValue(roomName, 400);\\n\\n\\tconst { t } = useTranslation();\\n\\n\\tconst serverOptions = useMemo<Array<SelectOption>>(() => servers.map((server): SelectOption => [server.name, server.name]), [servers]);\\n\\n\\tconst manageServers = useCallback(() => {\\n\\t\\tsetModal(\\n\\t\\t\\t<MatrixFederationManageServersModal onClickClose={() => setModal(<MatrixFederationSearch onClose={() => setModal(null)} />)} />,\\n\\t\\t);\\n\\t}, [setModal]);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<Box display='flex' flexDirection='row'>\\n\\t\\t\\t\\t<Box mie={4} flexGrow={0} flexShrink={4}>\\n\\t\\t\\t\\t\\t<Select options={serverOptions} value={serverName} onChange={(value) => setServerName(String(value))} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\tplaceholder={t('Search_rooms')}\\n\\t\\t\\t\\t\\tflexGrow={4}\\n\\t\\t\\t\\t\\tflexShrink={0}\\n\\t\\t\\t\\t\\tvalue={roomName}\\n\\t\\t\\t\\t\\tonChange={(e: FormEvent<HTMLInputElement>) => setRoomName(e.currentTarget.value)}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</Box>\\n\\t\\t\\t<Box is='a' display='flex' flexDirection='row' mbe={16} onClick={manageServers}>\\n\\t\\t\\t\\t{t('Manage_server_list')}\\n\\t\\t\\t</Box>\\n\\t\\t\\t<FederatedRoomListErrorBoundary>\\n\\t\\t\\t\\t<FederatedRoomList serverName={serverName} roomName={debouncedRoomName} />\\n\\t\\t\\t</FederatedRoomListErrorBoundary>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default MatrixFederationSearchModalContent;\\n\",null],\"names\":[\"Box\",\"Select\",\"TextInput\",\"useDebouncedValue\",\"useSetModal\",\"React\",\"useCallback\",\"useState\",\"useMemo\",\"useTranslation\",\"FederatedRoomList\",\"FederatedRoomListErrorBoundary\",\"MatrixFederationManageServersModal\",\"MatrixFederationSearch\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"defaultSelectedServer\",\"servers\",\"serverName\",\"setServerName\",\"_defaultServer$name\",\"defaultServer\",\"find\",\"server\",\"name\",\"roomName\",\"setRoomName\",\"setModal\",\"debouncedRoomName\",\"t\",\"serverOptions\",\"map\",\"manageServers\",\"createElement\",\"onClickClose\",\"onClose\",\"Fragment\",\"display\",\"flexDirection\",\"mie\",\"flexGrow\",\"flexShrink\",\"options\",\"value\",\"onChange\",\"String\",\"placeholder\",\"e\",\"currentTarget\",\"is\",\"mbe\",\"onClick\"],\"mappings\":\"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\"}"}