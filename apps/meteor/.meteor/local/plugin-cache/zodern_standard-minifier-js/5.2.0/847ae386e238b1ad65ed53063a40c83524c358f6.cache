{"code":"function module(e,n,u){u.export({useFeaturePreviewEnableQuery:function(){return t}}),u.link(\"react\",{useMemo:function(e){r=e}},0);var r,i=function(e,n,u){if(e.enableQuery){var r;e.enableQuery.value!==(null===(r=u.find(function(n){var u;return n.name===(null===(u=e.enableQuery)||void 0===u?void 0:u.name)}))||void 0===r?void 0:r.value)?(e.disabled=!0,e.value=!1):e.disabled=!1}return e},t=function(e){return r(function(){return Object.entries(e.map(i).reduce(function(e,n){return(e[n.group]=e[n.group]||[]).push(n),e},{}))},[e])}}","map":"{\"version\":3,\"sources\":[\"client/hooks/useFeaturePreviewEnableQuery.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { FeaturePreviewProps } from '@rocket.chat/ui-client';\\nimport { useMemo } from 'react';\\n\\nconst handleFeaturePreviewEnableQuery = (item: FeaturePreviewProps, _: any, features: FeaturePreviewProps[]) => {\\n\\tif (item.enableQuery) {\\n\\t\\tconst expected = item.enableQuery.value;\\n\\t\\tconst received = features.find((el) => el.name === item.enableQuery?.name)?.value;\\n\\t\\tif (expected !== received) {\\n\\t\\t\\titem.disabled = true;\\n\\t\\t\\titem.value = false;\\n\\t\\t} else {\\n\\t\\t\\titem.disabled = false;\\n\\t\\t}\\n\\t}\\n\\treturn item;\\n};\\n\\nconst groupFeaturePreview = (features: FeaturePreviewProps[]) =>\\n\\tObject.entries(\\n\\t\\tfeatures.reduce((result, currentValue) => {\\n\\t\\t\\t(result[currentValue.group] = result[currentValue.group] || []).push(currentValue);\\n\\t\\t\\treturn result;\\n\\t\\t}, {} as Record<FeaturePreviewProps['group'], FeaturePreviewProps[]>),\\n\\t);\\n\\nexport const useFeaturePreviewEnableQuery = (features: FeaturePreviewProps[]) => {\\n\\treturn useMemo(() => groupFeaturePreview(features.map(handleFeaturePreviewEnableQuery)), [features]);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"useFeaturePreviewEnableQuery\",\"link\",\"useMemo\",\"v\",\"handleFeaturePreviewEnableQuery\",\"item\",\"_\",\"features\",\"enableQuery\",\"_features$find\",\"expected\",\"value\",\"find\",\"el\",\"_item$enableQuery\",\"name\",\"disabled\",\"Object\",\"entries\",\"map\",\"reduce\",\"result\",\"currentValue\",\"group\",\"push\"],\"mappings\":\"uBACAA,EAAOC,MAAE,CAAA,CAAAC,6BAAuB,WAAA,OAAAA,CAAA,CAAA,GAAAF,EAAAG,IAAA,CAAA,QAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAEhC,IAFgCD,EAE1BE,EAAkC,SAACC,CAAyB,CAAEC,CAAM,CAAEC,CAA+B,EAC1G,GAAIF,EAAKG,WAAW,CAAE,KAAAC,CAGjBC,AAFaL,CAAAA,EAAKG,WAAW,CAACG,KAAK,GACzB,CAAA,AAA4D,OAA5DF,CAAAA,EAAGF,EAASK,IAAI,CAAC,SAACC,CAAE,EAAA,IAAAC,EAAA,OAAKD,EAAGE,IAAI,GAAA,CAAA,AAAqB,OAArBD,CAAAA,EAAKT,EAAKG,WAAW,AAAXA,GAAWM,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAhBA,EAAkBC,IAAI,AAAJA,CAAI,EAAA,GAACN,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAzDA,EAA2DE,KAAK,AAALA,GAE3EN,EAAKW,QAAQ,CAAG,CAAA,EAChBX,EAAKM,KAAK,CAAG,CAAA,GAEbN,EAAKW,QAAQ,CAAG,CAAA,CAElB,CACA,OAAOX,CACR,EAUaL,EAA+B,SAACO,CAA+B,EAC3E,OAAOL,EAAQ,WAAA,OARfe,OAAOC,OAAO,CACbX,AAOwCA,EAASY,GAAG,CAACf,GAP5CgB,MAAM,CAAC,SAACC,CAAM,CAAEC,CAAY,EAEpC,MADA,AAACD,CAAAA,CAAM,CAACC,EAAaC,KAAK,CAAC,CAAGF,CAAM,CAACC,EAAaC,KAAK,CAAC,EAAI,EAAE,AAAF,EAAIC,IAAI,CAACF,GAC9DD,CACR,EAAG,CAAA,GAImF,EAAE,CAACd,EAAS,CACpG\"}"}