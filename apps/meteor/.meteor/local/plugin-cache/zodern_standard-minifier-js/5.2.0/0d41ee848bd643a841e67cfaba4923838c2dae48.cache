{"code":"function module(e,t,i){let s,o,a,l,n,r,d;i.link(\"meteor/meteor\",{Meteor(e){s=e}},0),i.link(\"meteor/tracker\",{Tracker(e){o=e}},1),i.link(\"../../app/settings/client\",{settings(e){a=e}},2),i.link(\"../../app/ui-utils/client\",{MessageAction(e){l=e}},3),i.link(\"../lib/imperativeModal\",{imperativeModal(e){n=e}},4),i.link(\"../lib/utils/messageArgs\",{messageArgs(e){r=e}},5),i.link(\"../views/room/modals/ReadReceiptsModal\",{default(e){d=e}},6),s.startup(()=>{o.autorun(()=>{let e=a.get(\"Message_Read_Receipt_Enabled\")&&a.get(\"Message_Read_Receipt_Store_Users\");if(!e)return l.removeButton(\"receipt-detail\");l.addButton({id:\"receipt-detail\",icon:\"check-double\",label:\"Read_Receipts\",context:[\"starred\",\"message\",\"message-mobile\",\"threads\",\"videoconf\",\"videoconf-threads\"],type:\"duplication\",action(e,t){let{message:i=r(this).msg}=t;n.open({component:d,props:{messageId:i._id,onClose:n.close}})},order:10,group:\"menu\"})})})}","map":"{\"version\":3,\"sources\":[\"client/startup/readReceipt.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Meteor } from 'meteor/meteor';\\nimport { Tracker } from 'meteor/tracker';\\n\\nimport { settings } from '../../app/settings/client';\\nimport { MessageAction } from '../../app/ui-utils/client';\\nimport { imperativeModal } from '../lib/imperativeModal';\\nimport { messageArgs } from '../lib/utils/messageArgs';\\nimport ReadReceiptsModal from '../views/room/modals/ReadReceiptsModal';\\n\\nMeteor.startup(() => {\\n\\tTracker.autorun(() => {\\n\\t\\tconst enabled = settings.get('Message_Read_Receipt_Enabled') && settings.get('Message_Read_Receipt_Store_Users');\\n\\n\\t\\tif (!enabled) {\\n\\t\\t\\treturn MessageAction.removeButton('receipt-detail');\\n\\t\\t}\\n\\n\\t\\tMessageAction.addButton({\\n\\t\\t\\tid: 'receipt-detail',\\n\\t\\t\\ticon: 'check-double',\\n\\t\\t\\tlabel: 'Read_Receipts',\\n\\t\\t\\tcontext: ['starred', 'message', 'message-mobile', 'threads', 'videoconf', 'videoconf-threads'],\\n\\t\\t\\ttype: 'duplication',\\n\\t\\t\\taction(_, props) {\\n\\t\\t\\t\\tconst { message = messageArgs(this).msg } = props;\\n\\t\\t\\t\\timperativeModal.open({\\n\\t\\t\\t\\t\\tcomponent: ReadReceiptsModal,\\n\\t\\t\\t\\t\\tprops: { messageId: message._id, onClose: imperativeModal.close },\\n\\t\\t\\t\\t});\\n\\t\\t\\t},\\n\\t\\t\\torder: 10,\\n\\t\\t\\tgroup: 'menu',\\n\\t\\t});\\n\\t});\\n});\\n\",null],\"names\":[\"Meteor\",\"Tracker\",\"settings\",\"MessageAction\",\"imperativeModal\",\"messageArgs\",\"ReadReceiptsModal\",\"module\",\"link\",\"v\",\"default\",\"startup\",\"autorun\",\"enabled\",\"get\",\"removeButton\",\"addButton\",\"id\",\"icon\",\"label\",\"context\",\"type\",\"action\",\"_\",\"props\",\"message\",\"msg\",\"open\",\"component\",\"messageId\",\"_id\",\"onClose\",\"close\",\"order\",\"group\"],\"mappings\":\"2BAAAA,EAAuCC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAQC,IAAA,CAAM,gBAAgB,CAAAR,OAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,iBAAA,CAAAP,QAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,4BAAA,CAAAN,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,4BAAA,CAAAL,cAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yBAAA,CAAAJ,gBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAH,YAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yCAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GASvCT,EAAOW,OAAO,CAAC,KACdV,EAAQW,OAAO,CAAC,KACf,IAAMC,EAAUX,EAASY,GAAG,CAAC,iCAAmCZ,EAASY,GAAG,CAAC,oCAE7E,GAAI,CAACD,EACJ,OAAOV,EAAcY,YAAY,CAAC,kBAGnCZ,EAAca,SAAS,CAAC,CACvBC,GAAI,iBACJC,KAAM,eACNC,MAAO,gBACPC,QAAS,CAAC,UAAW,UAAW,iBAAkB,UAAW,YAAa,oBAAoB,CAC9FC,KAAM,cACNC,OAAOC,CAAC,CAAEC,CAAK,EACd,GAAM,CAAEC,QAAAA,EAAUpB,EAAY,IAAI,EAAEqB,GAAAA,CAAK,CAAGF,EAC5CpB,EAAgBuB,IAAI,CAAC,CACpBC,UAAWtB,EACXkB,MAAO,CAAEK,UAAWJ,EAAQK,GAAG,CAAEC,QAAS3B,EAAgB4B,KAAAA,AAAK,GAEjE,EACAC,MAAO,GACPC,MAAO,QAET,EACD\"}"}