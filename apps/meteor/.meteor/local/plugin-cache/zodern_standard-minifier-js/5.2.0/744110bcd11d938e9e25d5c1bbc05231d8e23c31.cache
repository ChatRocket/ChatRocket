{"code":"function module(e,t,n){n.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),n.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},1),n.export({useWeeklyChatActivity:function(){return o}}),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){u=e}},0),n.link(\"@tanstack/react-query\",{useQuery:function(e){c=e}},1),n.link(\"moment\",{default:function(e){i=e}},2);var r,a,u,c,i,o=function(e){var t=e.displacement,n=e.utc,o=u(\"GET\",\"/v1/engagement-dashboard/users/chat-busier/weekly-data\");return c([\"admin/engagement-dashboard/users/weekly-chat-activity\",{displacement:t,utc:n}],function(){var e,u;return r.async(function(c){for(;;)switch(c.prev=c.next){case 0:return e=(n?i.utc().endOf(\"day\"):i().endOf(\"day\")).subtract(t,\"weeks\").toDate(),c.next=3,r.awrap(o({start:e.toISOString()}));case 3:return u=c.sent,c.abrupt(\"return\",u?a(a({},u),{},{day:e}):void 0);case 5:case\"end\":return c.stop()}},null,null,null,Promise)},{refetchInterval:3e5,useErrorBoundary:!0})}}","map":"{\"version\":3,\"sources\":[\"client/views/admin/engagementDashboard/users/useWeeklyChatActivity.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport moment from 'moment';\\n\\ntype UseWeeklyChatActivityOptions = {\\n\\tdisplacement: number;\\n\\tutc: boolean;\\n};\\n\\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\\nexport const useWeeklyChatActivity = ({ displacement, utc }: UseWeeklyChatActivityOptions) => {\\n\\tconst getWeeklyChatActivity = useEndpoint('GET', '/v1/engagement-dashboard/users/chat-busier/weekly-data');\\n\\n\\treturn useQuery(\\n\\t\\t['admin/engagement-dashboard/users/weekly-chat-activity', { displacement, utc }],\\n\\t\\tasync () => {\\n\\t\\t\\tconst day = (utc ? moment.utc().endOf('day') : moment().endOf('day')).subtract(displacement, 'weeks').toDate();\\n\\n\\t\\t\\tconst response = await getWeeklyChatActivity({\\n\\t\\t\\t\\tstart: day.toISOString(),\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn response\\n\\t\\t\\t\\t? {\\n\\t\\t\\t\\t\\t\\t...response,\\n\\t\\t\\t\\t\\t\\tday,\\n\\t\\t\\t\\t  }\\n\\t\\t\\t\\t: undefined;\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\trefetchInterval: 5 * 60 * 1000,\\n\\t\\t\\tuseErrorBoundary: true,\\n\\t\\t},\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_objectSpread\",\"export\",\"useWeeklyChatActivity\",\"useEndpoint\",\"useQuery\",\"moment\",\"_ref\",\"displacement\",\"utc\",\"getWeeklyChatActivity\",\"day\",\"response\",\"async\",\"_context\",\"prev\",\"next\",\"endOf\",\"subtract\",\"toDate\",\"awrap\",\"start\",\"toISOString\",\"sent\",\"abrupt\",\"undefined\",\"stop\",\"Promise\",\"refetchInterval\",\"useErrorBoundary\"],\"mappings\":\"uBAAsBA,EAAMC,IAAA,CAAA,6BAA2B,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAvDH,EAAOM,MAAE,CAAA,CAAAC,sBAAmB,WAAA,OAA2BA,CAAA,CAAA,GAAAP,EAAAC,IAAA,CAAA,2BAAA,CAAAO,YAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAQ,SAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,SAAA,CAAA,QAAA,SAAAE,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAUhD,IAVPC,EAAuDC,EAAAG,EAAAC,EAAAC,EAU1CH,EAAwB,SAAAI,CAAA,EAAwD,IAArDC,EAAYD,EAAZC,YAAY,CAAEC,EAAGF,EAAHE,GAAG,CAClDC,EAAwBN,EAAY,MAAO,0DAEjD,OAAOC,EACN,CAAC,wDAAyD,CAAEG,aAAAA,EAAcC,IAAAA,CAAG,EAAG,CAChF,WAAA,IAAAE,EAAAC,EAAA,OAAAZ,EAAAa,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAC+G,OAAxGL,EAAM,AAACF,CAAAA,EAAMH,EAAOG,GAAG,GAAGQ,KAAK,CAAC,OAASX,IAASW,KAAK,CAAC,MAAK,EAAGC,QAAQ,CAACV,EAAc,SAASW,MAAM,GAAEL,EAAAE,IAAA,CAAA,EAAAhB,EAAAoB,KAAA,CAEvFV,EAAsB,CAC5CW,MAAOV,EAAIW,WAAW,KACrB,MAAA,EAFY,OAARV,EAAQE,EAAAS,IAAA,CAAAT,EAAAU,MAAA,CAAA,SAIPZ,EAAQX,EAAAA,EAAA,CAAA,EAETW,GAAQ,CAAA,EAAA,CACXD,IAAAA,CAAG,GAEHc,KAAAA,EAAS,MAAA,EAAA,IAAA,MAAA,OAAAX,EAAAY,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAEb,CACCC,gBAAiB,IACjBC,iBAAkB,CAAA,GAGrB\"}"}