{"code":"function module(e,t,n){let l,r,a,o,c,u,i,s,m,d,b,g,k,v,f,h,E,p,S,A,W,D,_;let x=[\"_id\"];n.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){r=e}},1),n.link(\"@rocket.chat/fuselage\",{SelectLegacy(e){a=e},Box(e){o=e},Button(e){c=e},Field(e){u=e},FieldLabel(e){i=e},FieldRow(e){s=e},FieldError(e){m=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useEffectEvent(e){d=e},useUniqueId(e){b=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){g=e},useTranslation(e){k=e}},2),n.link(\"react\",{default(e){v=e},useMemo(e){f=e}},3),n.link(\"react-hook-form\",{useForm(e){h=e},Controller(e){E=e}},4),n.link(\"../../../components/Page\",{Page(e){p=e},PageHeader(e){S=e},PageScrollableContentWithShadow(e){A=e}},5),n.link(\"../../../hooks/webdav/useWebDAVAccountIntegrationsQuery\",{useWebDAVAccountIntegrationsQuery(e){W=e}},6),n.link(\"../../../lib/getWebdavServerName\",{getWebdavServerName(e){D=e}},7),n.link(\"./hooks/useRemoveWebDAVAccountIntegrationMutation\",{useRemoveWebDAVAccountIntegrationMutation(e){_=e}},8),n.exportDefault(()=>{let{data:e}=W(),{handleSubmit:t,control:n,formState:{errors:y}}=h(),I=f(()=>{var t;return null!==(t=null==e?void 0:e.map(e=>{let{_id:t}=e,n=r(e,x);return[t,D(n)]}))&&void 0!==t?t:[]},[e]),V=g(),F=k(),P=_({onSuccess:()=>{V({type:\"success\",message:F(\"Webdav_account_removed\")})},onError:e=>{V({type:\"error\",message:e})}}),R=d(e=>{let{accountSelected:t}=e;P.mutate({accountSelected:t})}),w=b();return v.createElement(p,null,v.createElement(S,{title:F(\"Integrations\")}),v.createElement(A,null,v.createElement(o,{is:\"form\",maxWidth:\"x600\",w:\"full\",alignSelf:\"center\",onSubmit:t(R)},v.createElement(u,null,v.createElement(i,null,F(\"WebDAV_Accounts\")),v.createElement(s,null,v.createElement(E,{control:n,name:\"accountSelected\",rules:{required:F(\"Required_field\",{field:F(\"WebDAV_Accounts\")})},render:e=>{let{field:t}=e;return v.createElement(a,l({},t,{options:I,placeholder:F(\"Select_an_option\")}))}}),v.createElement(c,{type:\"submit\",danger:!0},F(\"Remove\"))),(null==y?void 0:y.accountSelected)&&v.createElement(m,{\"aria-live\":\"assertive\",id:\"\".concat(w,\"-error\")},y.accountSelected.message)))))})}","map":"{\"version\":3,\"sources\":[\"client/views/account/integrations/AccountIntegrationsPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { SelectOption } from '@rocket.chat/fuselage';\\nimport { SelectLegacy, Box, Button, Field, FieldLabel, FieldRow, FieldError } from '@rocket.chat/fuselage';\\nimport { useEffectEvent, useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport { useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\\nimport React, { useMemo } from 'react';\\nimport { useForm, Controller } from 'react-hook-form';\\n\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport { useWebDAVAccountIntegrationsQuery } from '../../../hooks/webdav/useWebDAVAccountIntegrationsQuery';\\nimport { getWebdavServerName } from '../../../lib/getWebdavServerName';\\nimport { useRemoveWebDAVAccountIntegrationMutation } from './hooks/useRemoveWebDAVAccountIntegrationMutation';\\n\\nconst AccountIntegrationsPage = () => {\\n\\tconst { data: webdavAccountIntegrations } = useWebDAVAccountIntegrationsQuery();\\n\\n\\tconst {\\n\\t\\thandleSubmit,\\n\\t\\tcontrol,\\n\\t\\tformState: { errors },\\n\\t} = useForm<{ accountSelected: string }>();\\n\\n\\tconst options: SelectOption[] = useMemo(\\n\\t\\t() => webdavAccountIntegrations?.map(({ _id, ...current }) => [_id, getWebdavServerName(current)]) ?? [],\\n\\t\\t[webdavAccountIntegrations],\\n\\t);\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst t = useTranslation();\\n\\n\\tconst removeMutation = useRemoveWebDAVAccountIntegrationMutation({\\n\\t\\tonSuccess: () => {\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Webdav_account_removed') });\\n\\t\\t},\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t});\\n\\n\\tconst handleSubmitForm = useEffectEvent(({ accountSelected }) => {\\n\\t\\tremoveMutation.mutate({ accountSelected });\\n\\t});\\n\\n\\tconst accountSelectedId = useUniqueId();\\n\\n\\treturn (\\n\\t\\t<Page>\\n\\t\\t\\t<PageHeader title={t('Integrations')} />\\n\\t\\t\\t<PageScrollableContentWithShadow>\\n\\t\\t\\t\\t<Box is='form' maxWidth='x600' w='full' alignSelf='center' onSubmit={handleSubmit(handleSubmitForm)}>\\n\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t<FieldLabel>{t('WebDAV_Accounts')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\tname='accountSelected'\\n\\t\\t\\t\\t\\t\\t\\t\\trules={{ required: t('Required_field', { field: t('WebDAV_Accounts') }) }}\\n\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <SelectLegacy {...field} options={options} placeholder={t('Select_an_option')} />}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t<Button type='submit' danger>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Remove')}\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t{errors?.accountSelected && (\\n\\t\\t\\t\\t\\t\\t\\t<FieldError aria-live='assertive' id={`${accountSelectedId}-error`}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{errors.accountSelected.message}\\n\\t\\t\\t\\t\\t\\t\\t</FieldError>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default AccountIntegrationsPage;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"SelectLegacy\",\"Box\",\"Button\",\"Field\",\"FieldLabel\",\"FieldRow\",\"FieldError\",\"useEffectEvent\",\"useUniqueId\",\"useToastMessageDispatch\",\"useTranslation\",\"React\",\"useMemo\",\"useForm\",\"Controller\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"useWebDAVAccountIntegrationsQuery\",\"getWebdavServerName\",\"useRemoveWebDAVAccountIntegrationMutation\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"AccountIntegrationsPage\",\"data\",\"webdavAccountIntegrations\",\"handleSubmit\",\"control\",\"formState\",\"errors\",\"options\",\"_webdavAccountIntegra\",\"map\",\"_ref\",\"_id\",\"current\",\"_excluded\",\"dispatchToastMessage\",\"t\",\"removeMutation\",\"onSuccess\",\"type\",\"message\",\"onError\",\"error\",\"handleSubmitForm\",\"_ref2\",\"accountSelected\",\"mutate\",\"accountSelectedId\",\"createElement\",\"title\",\"is\",\"maxWidth\",\"w\",\"alignSelf\",\"onSubmit\",\"name\",\"rules\",\"required\",\"field\",\"render\",\"_ref3\",\"placeholder\",\"danger\",\"id\",\"concat\"],\"mappings\":\"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\"}"}