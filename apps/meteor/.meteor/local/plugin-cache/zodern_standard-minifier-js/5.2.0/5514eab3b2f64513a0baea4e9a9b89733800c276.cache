{"code":"function module(e,n,t){t.export({useEscapeKeyStroke:function(){return c}}),t.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){o=e}},0),t.link(\"react\",{useEffect:function(e){a=e}},1),t.link(\"react-i18next\",{useTranslation:function(e){r=e}},2),t.link(\"../../../components/GenericModal\",{default:function(e){i=e}},3),t.link(\"../../../lib/imperativeModal\",{imperativeModal:function(e){s=e}},4),t.link(\"./useClearUnreadAllMessagesMutation\",{useClearUnreadAllMessagesMutation:function(e){u=e}},5);var o,a,r,i,s,u,c=function(){var e=o(),n=r().t,t=u({onError:function(n){e({type:\"error\",message:n})},onMutate:function(){s.close()}});a(function(){var e=function(e){\"Escape\"===e.code&&(!0===e.shiftKey||!0===e.ctrlKey)&&(e.preventDefault(),e.stopPropagation(),s.open({component:i,props:{children:n(\"Are_you_sure_you_want_to_clear_all_unread_messages\"),variant:\"warning\",title:n(\"Clear_all_unreads_question\"),confirmText:n(\"Yes_clear_all\"),onClose:s.close,onCancel:s.close,onConfirm:t.mutate}}))};return document.body.addEventListener(\"keydown\",e),function(){document.body.removeEventListener(\"keydown\",e)}},[t.mutate,e,n])}}","map":"{\"version\":3,\"sources\":[\"client/views/root/hooks/useEscapeKeyStroke.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport { useEffect } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../components/GenericModal';\\nimport { imperativeModal } from '../../../lib/imperativeModal';\\nimport { useClearUnreadAllMessagesMutation } from './useClearUnreadAllMessagesMutation';\\n\\nexport const useEscapeKeyStroke = () => {\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst { t } = useTranslation();\\n\\n\\tconst clearUnreadAllMessagesMutation = useClearUnreadAllMessagesMutation({\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t\\tonMutate: () => {\\n\\t\\t\\timperativeModal.close();\\n\\t\\t},\\n\\t});\\n\\n\\tuseEffect(() => {\\n\\t\\tconst handleKeyDown = (event: KeyboardEvent) => {\\n\\t\\t\\tif (event.code !== 'Escape' || !(event.shiftKey === true || event.ctrlKey === true)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tevent.preventDefault();\\n\\t\\t\\tevent.stopPropagation();\\n\\n\\t\\t\\timperativeModal.open({\\n\\t\\t\\t\\tcomponent: GenericModal,\\n\\t\\t\\t\\tprops: {\\n\\t\\t\\t\\t\\tchildren: t('Are_you_sure_you_want_to_clear_all_unread_messages'),\\n\\t\\t\\t\\t\\tvariant: 'warning',\\n\\t\\t\\t\\t\\ttitle: t('Clear_all_unreads_question'),\\n\\t\\t\\t\\t\\tconfirmText: t('Yes_clear_all'),\\n\\t\\t\\t\\t\\tonClose: imperativeModal.close,\\n\\t\\t\\t\\t\\tonCancel: imperativeModal.close,\\n\\t\\t\\t\\t\\tonConfirm: clearUnreadAllMessagesMutation.mutate,\\n\\t\\t\\t\\t},\\n\\t\\t\\t});\\n\\t\\t};\\n\\n\\t\\tdocument.body.addEventListener('keydown', handleKeyDown);\\n\\n\\t\\treturn () => {\\n\\t\\t\\tdocument.body.removeEventListener('keydown', handleKeyDown);\\n\\t\\t};\\n\\t}, [clearUnreadAllMessagesMutation.mutate, dispatchToastMessage, t]);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"useEscapeKeyStroke\",\"link\",\"useToastMessageDispatch\",\"v\",\"useEffect\",\"useTranslation\",\"GenericModal\",\"imperativeModal\",\"useClearUnreadAllMessagesMutation\",\"dispatchToastMessage\",\"t\",\"_useTranslation\",\"clearUnreadAllMessagesMutation\",\"onError\",\"error\",\"type\",\"message\",\"onMutate\",\"close\",\"handleKeyDown\",\"event\",\"code\",\"shiftKey\",\"ctrlKey\",\"preventDefault\",\"stopPropagation\",\"open\",\"component\",\"props\",\"children\",\"variant\",\"title\",\"confirmText\",\"onClose\",\"onCancel\",\"onConfirm\",\"mutate\",\"document\",\"body\",\"addEventListener\",\"removeEventListener\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,mBAAyB,WAAM,OAAAA,CAA2B,CAAA,GAAAF,EAAAG,IAAA,CAAA,2BAAA,CAAAC,wBAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,QAAA,CAAAG,UAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,gBAAA,CAAAI,eAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,mCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,+BAAA,CAAAM,gBAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,sCAAA,CAAAO,kCAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAQ5D,IAR4DD,EAAAE,EAAAC,EAAAC,EAAAC,EAAAC,EAQtDR,EAAqB,WACjC,IAAMS,EAAuBP,IACrBQ,EAACC,AAAKN,IAANK,CAAC,CAEHE,EAAiCJ,EAAkC,CACxEK,QAAS,SAACC,CAAK,EACdL,EAAqB,CAAEM,KAAM,QAASC,QAASF,CAAK,EACrD,EACAG,SAAU,WACTV,EAAgBW,KAAK,EACtB,IAGDd,EAAU,WACT,IAAMe,EAAgB,SAACC,CAAoB,EACvB,WAAfA,EAAMC,IAAI,EAAmBD,CAAAA,AAAmB,CAAA,IAAnBA,EAAME,QAAQ,EAAaF,AAAkB,CAAA,IAAlBA,EAAMG,OAAO,AAAK,IAI9EH,EAAMI,cAAc,GACpBJ,EAAMK,eAAe,GAErBlB,EAAgBmB,IAAI,CAAC,CACpBC,UAAWrB,EACXsB,MAAO,CACNC,SAAUnB,EAAE,sDACZoB,QAAS,UACTC,MAAOrB,EAAE,8BACTsB,YAAatB,EAAE,iBACfuB,QAAS1B,EAAgBW,KAAK,CAC9BgB,SAAU3B,EAAgBW,KAAK,CAC/BiB,UAAWvB,EAA+BwB,MAAAA,IAG7C,EAIA,OAFAC,SAASC,IAAI,CAACC,gBAAgB,CAAC,UAAWpB,GAEnC,WACNkB,SAASC,IAAI,CAACE,mBAAmB,CAAC,UAAWrB,EAC9C,CACD,EAAG,CAACP,EAA+BwB,MAAM,CAAE3B,EAAsBC,EAAE,CACpE\"}"}