{"code":"function module(n,e,t){t.link(\"@babel/runtime/regenerator\",{default:function(n){l=n}},0),t.link(\"meteor/meteor\",{Meteor:function(n){r=n}},0),t.link(\"meteor/tracker\",{Tracker:function(n){u=n}},1),t.link(\"../../../app/utils/client\",{slashCommands:function(n){i=n}},2),t.link(\"../../../app/utils/client/lib/SDKClient\",{sdk:function(n){o=n}},3);var l,r,u,i,o,c=null;u.autorun(function(){var n;return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:n=r.userId(),null===c&&n&&o.rest.get(\"/v1/commands.list\").then(function(n){n.commands.forEach(function(n){i.add(n)})}),c=r.userId();case 3:case\"end\":return e.stop()}},null,null,null,Promise)})}","map":"{\"version\":3,\"sources\":[\"client/startup/slashCommands/list.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IUser } from '@rocket.chat/core-typings';\\nimport { Meteor } from 'meteor/meteor';\\nimport { Tracker } from 'meteor/tracker';\\n\\nimport { slashCommands } from '../../../app/utils/client';\\nimport { sdk } from '../../../app/utils/client/lib/SDKClient';\\n\\nlet oldUserId: IUser['_id'] | null = null;\\n\\nTracker.autorun(async () => {\\n\\tconst newUserId = Meteor.userId();\\n\\tif (oldUserId === null && newUserId) {\\n\\t\\tsdk.rest.get('/v1/commands.list').then((result) => {\\n\\t\\t\\tresult.commands.forEach((command) => {\\n\\t\\t\\t\\tslashCommands.add(command);\\n\\t\\t\\t});\\n\\t\\t});\\n\\t}\\n\\n\\toldUserId = Meteor.userId();\\n});\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"Meteor\",\"Tracker\",\"slashCommands\",\"sdk\",\"oldUserId\",\"autorun\",\"newUserId\",\"async\",\"_context\",\"prev\",\"next\",\"userId\",\"rest\",\"get\",\"then\",\"result\",\"commands\",\"forEach\",\"command\",\"add\",\"stop\",\"Promise\"],\"mappings\":\"uBACuBA,EAAAC,IAAA,CAAA,6BAAgB,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAA9BH,EAAQC,IAAA,CAAM,gBAAgB,CAAAI,OAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iBAAA,CAAAK,QAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAAM,cAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0CAAA,CAAAO,IAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAMvC,IANAC,EAAAC,EAAuCC,EAAAC,EAAAC,EAMnCC,EAAiC,KAErCH,EAAQI,OAAO,CAAC,WAAA,IAAAC,EAAA,OAAAP,EAAAQ,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EACTJ,EAAYN,EAAOW,MAAM,GACb,OAAdP,GAAsBE,GACzBH,EAAIS,IAAI,CAACC,GAAG,CAAC,qBAAqBC,IAAI,CAAC,SAACC,CAAM,EAC7CA,EAAOC,QAAQ,CAACC,OAAO,CAAC,SAACC,CAAO,EAC/BhB,EAAciB,GAAG,CAACD,EACnB,EACD,GAGDd,EAAYJ,EAAOW,MAAM,EAAG,MAAA,EAAA,IAAA,MAAA,OAAAH,EAAAY,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA\"}"}