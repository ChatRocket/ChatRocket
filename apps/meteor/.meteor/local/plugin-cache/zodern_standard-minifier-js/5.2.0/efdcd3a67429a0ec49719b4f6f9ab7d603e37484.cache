{"code":"function module(e,o,t){let a,s,l,n,r,c,i,u,d;t.export({useRoomMoveToTeam:()=>m}),t.link(\"@rocket.chat/core-typings\",{isRoomFederated(e){a=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){s=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){l=e},useToastMessageDispatch(e){n=e},useTranslation(e){r=e},useEndpoint(e){c=e}},2),t.link(\"react\",{default(e){i=e}},3),t.link(\"../../ChannelToTeamModal\",{default(e){u=e}},4),t.link(\"../useCanEditRoom\",{useCanEditRoom(e){d=e}},5);let m=e=>{let o=r(),t=l(),m=n(),k=d(e),f=!a(e)&&!e.teamId&&!e.prid&&k,h=c(\"POST\",\"/v1/teams.addRooms\"),p=s(async()=>{let a=async a=>{if(!a)throw Error(\"teamId not provided\");try{await h({rooms:[e._id],teamId:a}),m({type:\"success\",message:o(\"Rooms_added_successfully\")})}catch(e){m({type:\"error\",message:e})}finally{t(null)}};t(i.createElement(u,{onCancel:()=>t(null),onConfirm:a}))});return f?p:null}}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/Info/hooks/actions/useRoomMoveToTeam.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { isRoomFederated } from '@rocket.chat/core-typings';\\nimport type { IRoom } from '@rocket.chat/core-typings';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\n\\nimport ChannelToTeamModal from '../../ChannelToTeamModal';\\nimport { useCanEditRoom } from '../useCanEditRoom';\\n\\nexport const useRoomMoveToTeam = (room: IRoom) => {\\n\\tconst t = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst canEdit = useCanEditRoom(room);\\n\\tconst canMoveToTeam = !isRoomFederated(room) && !room.teamId && !room.prid && canEdit;\\n\\n\\tconst moveChannelToTeam = useEndpoint('POST', '/v1/teams.addRooms');\\n\\n\\tconst handleMoveToTeam = useMutableCallback(async () => {\\n\\t\\tconst onConfirm = async (teamId: IRoom['teamId']) => {\\n\\t\\t\\tif (!teamId) {\\n\\t\\t\\t\\tthrow new Error('teamId not provided');\\n\\t\\t\\t}\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait moveChannelToTeam({ rooms: [room._id], teamId });\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Rooms_added_successfully') });\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tsetModal(null);\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tsetModal(<ChannelToTeamModal onCancel={() => setModal(null)} onConfirm={onConfirm} />);\\n\\t});\\n\\n\\treturn canMoveToTeam ? handleMoveToTeam : null;\\n};\\n\",null],\"names\":[\"isRoomFederated\",\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useTranslation\",\"useEndpoint\",\"React\",\"ChannelToTeamModal\",\"useCanEditRoom\",\"module\",\"export\",\"useRoomMoveToTeam\",\"link\",\"v\",\"default\",\"room\",\"t\",\"setModal\",\"dispatchToastMessage\",\"canEdit\",\"canMoveToTeam\",\"teamId\",\"prid\",\"moveChannelToTeam\",\"handleMoveToTeam\",\"onConfirm\",\"Error\",\"rooms\",\"_id\",\"type\",\"message\",\"error\",\"createElement\",\"onCancel\"],\"mappings\":\"2BAA4DA,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA5DC,EAAOC,MAAE,CAAA,CAAAC,kBAAuBA,IAAAA,CAAA,GAA4BF,EAAAG,IAAA,CAAA,4BAAA,CAAAZ,gBAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,8BAAA,CAAAX,mBAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,2BAAA,CAAAV,YAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,wBAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,eAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,YAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,2BAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,oBAAA,CAAAJ,eAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GASrD,IAAMF,EAAqBI,IACjC,IAAMC,EAAIZ,IACJa,EAAWf,IACXgB,EAAuBf,IAEvBgB,EAAUX,EAAeO,GACzBK,EAAgB,CAACpB,EAAgBe,IAAS,CAACA,EAAKM,MAAM,EAAI,CAACN,EAAKO,IAAI,EAAIH,EAExEI,EAAoBlB,EAAY,OAAQ,sBAExCmB,EAAmBvB,EAAmB,UAC3C,IAAMwB,EAAY,MAAOJ,IACxB,GAAI,CAACA,EACJ,MAAM,AAAIK,MAAM,uBAGjB,GAAI,CACH,MAAMH,EAAkB,CAAEI,MAAO,CAACZ,EAAKa,GAAG,CAAC,CAAEP,OAAAA,CAAM,GACnDH,EAAqB,CAAEW,KAAM,UAAWC,QAASd,EAAE,2BAA2B,EAC/E,CAAE,MAAOe,EAAO,CACfb,EAAqB,CAAEW,KAAM,QAASC,QAASC,CAAK,EACrD,QAAU,CACTd,EAAS,KACV,CACD,EAEAA,EAASX,EAAA0B,aAAA,CAACzB,EAAkB,CAAC0B,SAAUA,IAAMhB,EAAS,MAAOQ,UAAWA,CAAU,GACnF,GAEA,OAAOL,EAAgBI,EAAmB,IAC3C\"}"}