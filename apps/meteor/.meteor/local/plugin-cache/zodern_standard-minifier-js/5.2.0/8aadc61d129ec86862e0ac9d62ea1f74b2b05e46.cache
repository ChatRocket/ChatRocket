{"code":"function module(e,n,t){var i,l,o,r,c,a,u,s,f,d,m,b;t.link(\"@babel/runtime/regenerator\",{default:function(e){i=e}},0),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){l=e}},1),t.link(\"@rocket.chat/fuselage\",{Margins:function(e){o=e},Box:function(e){r=e},CheckBox:function(e){c=e},Throbber:function(e){a=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){u=e}},1),t.link(\"react\",{default:function(e){s=e},useState:function(e){f=e},memo:function(e){d=e}},2),t.link(\"../../../../../app/authorization/lib\",{AuthorizationUtils:function(e){m=e}},3),t.link(\"../../../../components/GenericTable\",{GenericTableCell:function(e){b=e}},4),t.exportDefault(d(function(e){var n=e._id,t=e.name,d=e.description,h=e.onChange,k=e.lineHovered,p=e.permissionId,g=e.grantedRoles,x=void 0===g?[]:g,v=f(function(){return!!x.includes(n)}),T=l(v,2),C=T[0],E=T[1],y=f(!1),w=l(y,2),z=w[0],R=w[1],A=m.isPermissionRestrictedForRole(p,n),B=u(function(){return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,i.awrap(h(n,C));case 3:E(e.sent),R(!1);case 6:case\"end\":return e.stop()}},null,null,null,Promise)}),G=!!z||!!A;return s.createElement(b,{withTruncatedText:!0},s.createElement(o,{inline:2},s.createElement(c,{checked:C,onChange:B,disabled:G}),!z&&s.createElement(r,{display:\"inline\",color:\"hint\",invisible:!k},d||t),z&&s.createElement(a,{size:\"x12\",display:\"inline-block\"})))}))}","map":"{\"version\":3,\"sources\":[\"client/views/admin/permissions/PermissionsTable/RoleCell.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRole } from '@rocket.chat/core-typings';\\nimport { Margins, Box, CheckBox, Throbber } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { ReactElement } from 'react';\\nimport React, { useState, memo } from 'react';\\n\\nimport { AuthorizationUtils } from '../../../../../app/authorization/lib';\\nimport { GenericTableCell } from '../../../../components/GenericTable';\\n\\ntype RoleCellProps = {\\n\\t_id: IRole['_id'];\\n\\tname: IRole['name'];\\n\\tdescription: IRole['description'];\\n\\tonChange: (roleId: IRole['_id'], granted: boolean) => Promise<boolean>;\\n\\tlineHovered: boolean;\\n\\tpermissionId: string;\\n\\tgrantedRoles: IRole['_id'][];\\n};\\n\\nconst RoleCell = ({ _id, name, description, onChange, lineHovered, permissionId, grantedRoles = [] }: RoleCellProps): ReactElement => {\\n\\tconst [granted, setGranted] = useState(() => !!grantedRoles.includes(_id));\\n\\tconst [loading, setLoading] = useState(false);\\n\\n\\tconst isRestrictedForRole = AuthorizationUtils.isPermissionRestrictedForRole(permissionId, _id);\\n\\n\\tconst handleChange = useMutableCallback(async () => {\\n\\t\\tsetLoading(true);\\n\\t\\tconst result = await onChange(_id, granted);\\n\\t\\tsetGranted(result);\\n\\t\\tsetLoading(false);\\n\\t});\\n\\n\\tconst isDisabled = !!loading || !!isRestrictedForRole;\\n\\n\\treturn (\\n\\t\\t<GenericTableCell withTruncatedText>\\n\\t\\t\\t<Margins inline={2}>\\n\\t\\t\\t\\t<CheckBox checked={granted} onChange={handleChange} disabled={isDisabled} />\\n\\t\\t\\t\\t{!loading && (\\n\\t\\t\\t\\t\\t<Box display='inline' color='hint' invisible={!lineHovered}>\\n\\t\\t\\t\\t\\t\\t{description || name}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{loading && <Throbber size='x12' display='inline-block' />}\\n\\t\\t\\t</Margins>\\n\\t\\t</GenericTableCell>\\n\\t);\\n};\\n\\nexport default memo(RoleCell);\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_slicedToArray\",\"Margins\",\"Box\",\"CheckBox\",\"Throbber\",\"useMutableCallback\",\"React\",\"useState\",\"memo\",\"AuthorizationUtils\",\"GenericTableCell\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_id\",\"name\",\"description\",\"onChange\",\"lineHovered\",\"permissionId\",\"_ref$grantedRoles\",\"grantedRoles\",\"_useState\",\"includes\",\"_useState2\",\"granted\",\"setGranted\",\"_useState3\",\"_useState4\",\"loading\",\"setLoading\",\"isRestrictedForRole\",\"isPermissionRestrictedForRole\",\"handleChange\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"sent\",\"stop\",\"Promise\",\"isDisabled\",\"createElement\",\"withTruncatedText\",\"inline\",\"checked\",\"disabled\",\"display\",\"color\",\"invisible\",\"size\"],\"mappings\":\"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\"}"}