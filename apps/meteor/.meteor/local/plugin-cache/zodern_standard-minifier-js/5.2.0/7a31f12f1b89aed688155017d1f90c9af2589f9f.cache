{"code":"function module(e,n,o){var t,u,i,l,r,s,a,c,f,d,p,k,m,h,x,v,b,R,C,g,w;o.link(\"@babel/runtime/helpers/extends\",{default:function(e){t=e}},0),o.link(\"@rocket.chat/fuselage\",{Box:function(e){u=e},SidebarV2CollapseGroup:function(e){i=e}},0),o.link(\"@rocket.chat/fuselage-hooks\",{useResizeObserver:function(e){l=e}},1),o.link(\"@rocket.chat/ui-contexts\",{useUserPreference:function(e){r=e},useUserId:function(e){s=e}},2),o.link(\"react\",{default:function(e){a=e},useMemo:function(e){c=e}},3),o.link(\"react-i18next\",{useTranslation:function(e){f=e}},4),o.link(\"react-virtuoso\",{GroupedVirtuoso:function(e){d=e}},5),o.link(\"../../components/CustomScrollbars\",{VirtuosoScrollbars:function(e){p=e}},6),o.link(\"../../lib/RoomManager\",{useOpenedRoom:function(e){k=e}},7),o.link(\"../hooks/useAvatarTemplate\",{useAvatarTemplate:function(e){m=e}},8),o.link(\"../hooks/useCollapsedGroups\",{useCollapsedGroups:function(e){h=e}},9),o.link(\"../hooks/usePreventDefault\",{usePreventDefault:function(e){x=e}},10),o.link(\"../hooks/useRoomList\",{useRoomList:function(e){v=e}},11),o.link(\"../hooks/useShortcutOpenMenu\",{useShortcutOpenMenu:function(e){b=e}},12),o.link(\"../hooks/useTemplateByViewMode\",{useTemplateByViewMode:function(e){R=e}},13),o.link(\"./RoomListRow\",{default:function(e){C=e}},14),o.link(\"./RoomListRowWrapper\",{default:function(e){g=e}},15),o.link(\"./RoomListWrapper\",{default:function(e){w=e}},16),o.exportDefault(function(){var e,n=f().t,o=!s(),G=h(),L=G.collapsedGroups,M=G.handleCollapsedGroups,S=v({collapsedGroups:L}),T=S.groupsCount,V=S.groupsList,y=S.roomList,D=m(),A=R(),B=l({debounceDelay:100}).ref,E=null!==(e=k())&&void 0!==e?e:\"\",O=r(\"sidebarViewMode\")||\"extended\",I=\"extended\"===O,P=c(function(){return{extended:I,t:n,SidebarItemTemplate:A,AvatarTemplate:D,openedRoom:E,sidebarViewMode:O,isAnonymous:o}},[D,I,o,E,A,O,n]);return x(B),b(B),a.createElement(u,{position:\"relative\",display:\"flex\",overflow:\"hidden\",height:\"full\",flexGrow:1,flexShrink:1,flexBasis:\"auto\",ref:B},a.createElement(d,t({groupCounts:T,groupContent:function(e){return a.createElement(i,{title:n(V[e]),onClick:function(){return M(V[e])},onKeyDown:function(){return M(V[e])},expanded:!L.includes(V[e])})}},y.length>0&&{itemContent:function(e){return y[e]&&a.createElement(C,{data:P,item:y[e]})}},{components:{Item:g,List:w,Scroller:p}})))})}","map":"{\"version\":3,\"sources\":[\"client/sidebarv2/RoomList/RoomList.tsx\",\"<anon>\"],\"sourcesContent\":[\"/* eslint-disable react/no-multi-comp */\\nimport { Box, SidebarV2CollapseGroup } from '@rocket.chat/fuselage';\\nimport { useResizeObserver } from '@rocket.chat/fuselage-hooks';\\nimport { useUserPreference, useUserId } from '@rocket.chat/ui-contexts';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\nimport { GroupedVirtuoso } from 'react-virtuoso';\\n\\nimport { VirtuosoScrollbars } from '../../components/CustomScrollbars';\\nimport { useOpenedRoom } from '../../lib/RoomManager';\\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\\nimport { useCollapsedGroups } from '../hooks/useCollapsedGroups';\\nimport { usePreventDefault } from '../hooks/usePreventDefault';\\nimport { useRoomList } from '../hooks/useRoomList';\\nimport { useShortcutOpenMenu } from '../hooks/useShortcutOpenMenu';\\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\\nimport RoomListRow from './RoomListRow';\\nimport RoomListRowWrapper from './RoomListRowWrapper';\\nimport RoomListWrapper from './RoomListWrapper';\\n\\nconst RoomList = () => {\\n\\tconst { t } = useTranslation();\\n\\tconst isAnonymous = !useUserId();\\n\\n\\tconst { collapsedGroups, handleCollapsedGroups } = useCollapsedGroups();\\n\\tconst { groupsCount, groupsList, roomList } = useRoomList({ collapsedGroups });\\n\\tconst avatarTemplate = useAvatarTemplate();\\n\\tconst sideBarItemTemplate = useTemplateByViewMode();\\n\\tconst { ref } = useResizeObserver<HTMLElement>({ debounceDelay: 100 });\\n\\tconst openedRoom = useOpenedRoom() ?? '';\\n\\tconst sidebarViewMode = useUserPreference<'extended' | 'medium' | 'condensed'>('sidebarViewMode') || 'extended';\\n\\n\\tconst extended = sidebarViewMode === 'extended';\\n\\tconst itemData = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\textended,\\n\\t\\t\\tt,\\n\\t\\t\\tSidebarItemTemplate: sideBarItemTemplate,\\n\\t\\t\\tAvatarTemplate: avatarTemplate,\\n\\t\\t\\topenedRoom,\\n\\t\\t\\tsidebarViewMode,\\n\\t\\t\\tisAnonymous,\\n\\t\\t}),\\n\\t\\t[avatarTemplate, extended, isAnonymous, openedRoom, sideBarItemTemplate, sidebarViewMode, t],\\n\\t);\\n\\n\\tusePreventDefault(ref);\\n\\tuseShortcutOpenMenu(ref);\\n\\n\\treturn (\\n\\t\\t<Box position='relative' display='flex' overflow='hidden' height='full' flexGrow={1} flexShrink={1} flexBasis='auto' ref={ref}>\\n\\t\\t\\t<GroupedVirtuoso\\n\\t\\t\\t\\tgroupCounts={groupsCount}\\n\\t\\t\\t\\tgroupContent={(index) => (\\n\\t\\t\\t\\t\\t<SidebarV2CollapseGroup\\n\\t\\t\\t\\t\\t\\ttitle={t(groupsList[index])}\\n\\t\\t\\t\\t\\t\\tonClick={() => handleCollapsedGroups(groupsList[index])}\\n\\t\\t\\t\\t\\t\\tonKeyDown={() => handleCollapsedGroups(groupsList[index])}\\n\\t\\t\\t\\t\\t\\texpanded={!collapsedGroups.includes(groupsList[index])}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{...(roomList.length > 0 && {\\n\\t\\t\\t\\t\\titemContent: (index) => roomList[index] && <RoomListRow data={itemData} item={roomList[index]} />,\\n\\t\\t\\t\\t})}\\n\\t\\t\\t\\tcomponents={{ Item: RoomListRowWrapper, List: RoomListWrapper, Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t/>\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default RoomList;\\n\",null],\"names\":[\"_extends\",\"Box\",\"SidebarV2CollapseGroup\",\"useResizeObserver\",\"useUserPreference\",\"useUserId\",\"React\",\"useMemo\",\"useTranslation\",\"GroupedVirtuoso\",\"VirtuosoScrollbars\",\"useOpenedRoom\",\"useAvatarTemplate\",\"useCollapsedGroups\",\"usePreventDefault\",\"useRoomList\",\"useShortcutOpenMenu\",\"useTemplateByViewMode\",\"RoomListRow\",\"RoomListRowWrapper\",\"RoomListWrapper\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_useOpenedRoom\",\"t\",\"_useTranslation\",\"isAnonymous\",\"_useCollapsedGroups\",\"collapsedGroups\",\"handleCollapsedGroups\",\"_useRoomList\",\"groupsCount\",\"groupsList\",\"roomList\",\"avatarTemplate\",\"sideBarItemTemplate\",\"ref\",\"_useResizeObserver\",\"debounceDelay\",\"openedRoom\",\"sidebarViewMode\",\"extended\",\"itemData\",\"SidebarItemTemplate\",\"AvatarTemplate\",\"createElement\",\"position\",\"display\",\"overflow\",\"height\",\"flexGrow\",\"flexShrink\",\"flexBasis\",\"groupCounts\",\"groupContent\",\"index\",\"title\",\"onClick\",\"onKeyDown\",\"expanded\",\"includes\",\"length\",\"itemContent\",\"data\",\"item\",\"components\",\"Item\",\"List\",\"Scroller\"],\"mappings\":\"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\"}"}