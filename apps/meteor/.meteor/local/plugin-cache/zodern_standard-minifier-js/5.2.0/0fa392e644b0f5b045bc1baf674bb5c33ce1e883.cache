{"code":"function module(e,t,r){let l,a,n,i,s,u,o;let c=[\"url\",\"confirm\",\"cancel\",\"wrapperHeight\"];r.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),r.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){a=e}},1),r.link(\"@rocket.chat/fuselage\",{Box(e){n=e},Modal(e){i=e}},0),r.link(\"react\",{default(e){s=e},useEffect(e){u=e}},1),r.link(\"react-i18next\",{useTranslation(e){o=e}},2);let d=(e,t)=>r=>{let l;try{l=JSON.parse(r.data)}catch(e){return}l.result?e(l):t()};r.exportDefault(e=>{let{url:t,confirm:r,cancel:f,wrapperHeight:h=\"x360\"}=e,m=a(e,c),{t:p}=o();return u(()=>{let e=d(r,f);return window.addEventListener(\"message\",e),()=>{window.removeEventListener(\"message\",e)}},[r,f]),s.createElement(i,l({height:h},m),s.createElement(n,{padding:\"x12\",w:\"full\",h:\"full\",flexGrow:1,bg:\"white\",borderRadius:\"x8\"},s.createElement(\"iframe\",{title:p(\"Marketplace_apps\"),style:{border:\"none\",height:\"100%\",width:\"100%\"},src:t})))})}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/IframeModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Modal } from '@rocket.chat/fuselage';\\nimport type { ComponentProps } from 'react';\\nimport React, { useEffect } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nconst iframeMsgListener = (confirm: (data: any) => void, cancel: () => void) => (e: MessageEvent<any>) => {\\n\\tlet data;\\n\\ttry {\\n\\t\\tdata = JSON.parse(e.data);\\n\\t} catch (e) {\\n\\t\\treturn;\\n\\t}\\n\\n\\tdata.result ? confirm(data) : cancel();\\n};\\n\\ntype IframeModalProps = {\\n\\turl: string;\\n\\tconfirm: (data: any) => void;\\n\\tcancel: () => void;\\n\\twrapperHeight?: string;\\n} & ComponentProps<typeof Modal>;\\n\\nconst IframeModal = ({ url, confirm, cancel, wrapperHeight = 'x360', ...props }: IframeModalProps) => {\\n\\tconst { t } = useTranslation();\\n\\n\\tuseEffect(() => {\\n\\t\\tconst listener = iframeMsgListener(confirm, cancel);\\n\\n\\t\\twindow.addEventListener('message', listener);\\n\\n\\t\\treturn () => {\\n\\t\\t\\twindow.removeEventListener('message', listener);\\n\\t\\t};\\n\\t}, [confirm, cancel]);\\n\\n\\treturn (\\n\\t\\t<Modal height={wrapperHeight} {...props}>\\n\\t\\t\\t<Box padding='x12' w='full' h='full' flexGrow={1} bg='white' borderRadius='x8'>\\n\\t\\t\\t\\t<iframe title={t('Marketplace_apps')} style={{ border: 'none', height: '100%', width: '100%' }} src={url} />\\n\\t\\t\\t</Box>\\n\\t\\t</Modal>\\n\\t);\\n};\\n\\nexport default IframeModal;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Box\",\"Modal\",\"React\",\"useEffect\",\"useTranslation\",\"module\",\"link\",\"default\",\"v\",\"iframeMsgListener\",\"confirm\",\"cancel\",\"e\",\"data\",\"JSON\",\"parse\",\"result\",\"exportDefault\",\"_ref\",\"url\",\"wrapperHeight\",\"props\",\"_excluded\",\"t\",\"listener\",\"window\",\"addEventListener\",\"removeEventListener\",\"createElement\",\"height\",\"padding\",\"w\",\"h\",\"flexGrow\",\"bg\",\"borderRadius\",\"title\",\"style\",\"border\",\"width\",\"src\"],\"mappings\":\"2BAAAA,EAAmDC,EAAnDC,EAAOC,EAA4CC,EAAAC,EAAAC,mDAAvCC,EAAOC,IAAE,CAAA,iCAA8B,CAAAC,QAAAC,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iDAAA,CAAAC,QAAAC,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAArCH,EAAOC,IAAA,CAAA,wBAA6B,CAACN,IAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,MAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAN,EAAAM,CAAA,EAAAL,UAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAF,eAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAKnD,IAAMC,EAAoBA,CAACC,EAA8BC,IAAwBC,IAChF,IAAIC,EACJ,GAAI,CACHA,EAAOC,KAAKC,KAAK,CAACH,EAAEC,IAAI,CACzB,CAAE,MAAOD,EAAG,CACX,MACD,CAEAC,EAAKG,MAAM,CAAGN,EAAQG,GAAQF,GAC/B,EAdAN,EAAOY,aAAY,CAuBCC,IAAiF,GAAhF,CAAEC,IAAAA,CAAG,CAAET,QAAAA,CAAO,CAAEC,OAAAA,CAAM,CAAES,cAAAA,EAAgB,MAAA,CAAoC,CAAAF,EAAzBG,EAAKtB,EAAAmB,EAAAI,GACtE,CAAEC,EAAAA,CAAAA,CAAG,CAAGnB,IAYd,OAVAD,EAAU,KACT,IAAMqB,EAAWf,EAAkBC,EAASC,GAI5C,OAFAc,OAAOC,gBAAgB,CAAC,UAAWF,GAE5B,KACNC,OAAOE,mBAAmB,CAAC,UAAWH,EACvC,CACD,EAAG,CAACd,EAASC,EAAO,EAGnBT,EAAA0B,aAAA,CAAC3B,EAAKH,EAAA,CAAC+B,OAAQT,CAAc,EAAKC,GACjCnB,EAAA0B,aAAA,CAAC5B,EAAG,CAAC8B,QAAQ,MAAMC,EAAE,OAAOC,EAAE,OAAOC,SAAU,EAAGC,GAAG,QAAQC,aAAa,IAAI,EAC7EjC,EAAA0B,aAAA,CAAA,SAAA,CAAQQ,MAAOb,EAAE,oBAAqBc,MAAO,CAAEC,OAAQ,OAAQT,OAAQ,OAAQU,MAAO,MAAM,EAAIC,IAAKrB,CAAI,IAI7G\"}"}