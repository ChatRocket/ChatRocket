{"code":"function module(e,n,t){var o,r,a,i,l,s,u,c,f,d,m,p,_;t.link(\"@babel/runtime/helpers/extends\",{default:function(e){o=e}},0),t.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},1),t.link(\"@rocket.chat/fuselage\",{PasswordInput:function(e){a=e}},0),t.link(\"@rocket.chat/ui-composer\",{MessageFooterCallout:function(e){i=e},MessageFooterCalloutAction:function(e){l=e},MessageFooterCalloutContent:function(e){s=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useTranslation:function(e){u=e},useEndpoint:function(e){c=e},useToastMessageDispatch:function(e){f=e}},2),t.link(\"react\",{default:function(e){d=e}},3),t.link(\"react-hook-form\",{Controller:function(e){m=e},useForm:function(e){p=e}},4),t.link(\"../contexts/RoomContext\",{useRoom:function(e){_=e}},5),t.exportDefault(function(){var e=u(),n=_(),t=f(),h=c(\"POST\",\"/v1/channels.join\"),k=p({defaultValues:{joinCode:\"\"}}),v=k.control,C=k.handleSubmit,b=k.setError,w=k.formState,g=w.errors,x=w.isDirty;return d.createElement(i,{is:\"form\",\"aria-label\":e(\"Join_with_password\"),onSubmit:C(function(e){var o;return r.async(function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.joinCode,a.prev=1,a.next=4,r.awrap(h({roomId:n._id,joinCode:o}));case 4:a.next=10;break;case 6:a.prev=6,a.t0=a.catch(1),b(\"joinCode\",{type:a.t0.errorType,message:a.t0.error}),t({type:\"error\",message:a.t0});case 10:case\"end\":return a.stop()}},null,null,[[1,6]],Promise)})},d.createElement(s,null,e(\"you_are_in_preview\")),d.createElement(s,null,d.createElement(m,{name:\"joinCode\",control:v,render:function(n){var t,r=n.field;return d.createElement(a,o({error:null===(t=g.joinCode)||void 0===t?void 0:t.message},r,{placeholder:e(\"you_are_in_preview_please_insert_the_password\")}))}})),d.createElement(l,{type:\"submit\",disabled:!x},e(\"Join_with_password\")))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/composer/ComposerJoinWithPassword.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { PasswordInput } from '@rocket.chat/fuselage';\\nimport { MessageFooterCallout, MessageFooterCalloutAction, MessageFooterCalloutContent } from '@rocket.chat/ui-composer';\\nimport { useTranslation, useEndpoint, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { Controller, useForm } from 'react-hook-form';\\n\\nimport { useRoom } from '../contexts/RoomContext';\\n\\nconst ComposerJoinWithPassword = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst room = useRoom();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst joinChannelEndpoint = useEndpoint('POST', '/v1/channels.join');\\n\\tconst {\\n\\t\\tcontrol,\\n\\t\\thandleSubmit,\\n\\t\\tsetError,\\n\\t\\tformState: { errors, isDirty },\\n\\t} = useForm({ defaultValues: { joinCode: '' } });\\n\\n\\tconst handleJoinChannel = async ({ joinCode }: { joinCode: string }) => {\\n\\t\\ttry {\\n\\t\\t\\tawait joinChannelEndpoint({\\n\\t\\t\\t\\troomId: room._id,\\n\\t\\t\\t\\tjoinCode,\\n\\t\\t\\t});\\n\\t\\t} catch (error: any) {\\n\\t\\t\\tsetError('joinCode', { type: error.errorType, message: error.error });\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t};\\n\\n\\treturn (\\n\\t\\t<MessageFooterCallout is='form' aria-label={t('Join_with_password')} onSubmit={handleSubmit(handleJoinChannel)}>\\n\\t\\t\\t<MessageFooterCalloutContent>{t('you_are_in_preview')}</MessageFooterCalloutContent>\\n\\t\\t\\t<MessageFooterCalloutContent>\\n\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\tname='joinCode'\\n\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t<PasswordInput error={errors.joinCode?.message} {...field} placeholder={t('you_are_in_preview_please_insert_the_password')} />\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</MessageFooterCalloutContent>\\n\\t\\t\\t<MessageFooterCalloutAction type='submit' disabled={!isDirty}>\\n\\t\\t\\t\\t{t('Join_with_password')}\\n\\t\\t\\t</MessageFooterCalloutAction>\\n\\t\\t</MessageFooterCallout>\\n\\t);\\n};\\n\\nexport default ComposerJoinWithPassword;\\n\",null],\"names\":[\"_extends\",\"_regeneratorRuntime\",\"PasswordInput\",\"MessageFooterCallout\",\"MessageFooterCalloutAction\",\"MessageFooterCalloutContent\",\"useTranslation\",\"useEndpoint\",\"useToastMessageDispatch\",\"React\",\"Controller\",\"useForm\",\"useRoom\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"t\",\"room\",\"dispatchToastMessage\",\"joinChannelEndpoint\",\"_useForm\",\"defaultValues\",\"joinCode\",\"control\",\"handleSubmit\",\"setError\",\"_useForm$formState\",\"formState\",\"errors\",\"isDirty\",\"createElement\",\"is\",\"onSubmit\",\"_ref\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"roomId\",\"_id\",\"t0\",\"type\",\"errorType\",\"message\",\"error\",\"stop\",\"Promise\",\"name\",\"render\",\"_ref2\",\"_errors$joinCode\",\"field\",\"placeholder\",\"disabled\"],\"mappings\":\"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\"}"}