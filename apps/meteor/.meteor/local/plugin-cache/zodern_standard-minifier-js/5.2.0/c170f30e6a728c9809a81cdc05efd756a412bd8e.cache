{"code":"function module(e,t,a){let l,n,o,c,s,i,r,u,m,k;a.link(\"@rocket.chat/fuselage\",{IconButton(e){l=e}},0),a.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){n=e}},1),a.link(\"@rocket.chat/ui-contexts\",{useRoute(e){o=e},useEndpoint(e){c=e},useSetModal(e){s=e},useToastMessageDispatch(e){i=e}},2),a.link(\"react\",{default(e){r=e}},3),a.link(\"react-i18next\",{useTranslation(e){u=e}},4),a.link(\"../../components/GenericModal\",{default(e){m=e}},5),a.link(\"../../components/GenericTable\",{GenericTableCell(e){k=e}},6),a.exportDefault(e=>{let{_id:t,reload:a}=e,{t:h}=u(),p=s(),d=o(\"omnichannel-sla-policies\"),f=i(),T=c(\"DELETE\",\"/v1/livechat/sla/:slaId\",{slaId:t}),g=n(e=>{e.stopPropagation();let t=async()=>{try{await T(),f({type:\"success\",message:h(\"SLA_removed\")}),a(),d.push({})}catch(e){f({type:\"error\",message:e})}finally{p()}};p(r.createElement(m,{variant:\"danger\",onConfirm:t,onCancel:()=>p(),confirmText:h(\"Delete\")}))});return r.createElement(k,{fontScale:\"p2\",color:\"hint\",withTruncatedText:!0},r.createElement(l,{icon:\"trash\",small:!0,title:h(\"Remove\"),onClick:g}))})}","map":"{\"version\":3,\"sources\":[\"client/omnichannel/slaPolicies/RemoveSlaButton.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { IconButton } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useRoute, useEndpoint, useSetModal, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../components/GenericModal';\\nimport { GenericTableCell } from '../../components/GenericTable';\\n\\nconst RemoveSlaButton = ({ _id, reload }: { _id: string; reload: () => void }) => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst slaRoute = useRoute('omnichannel-sla-policies');\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst removeSLA = useEndpoint('DELETE', `/v1/livechat/sla/:slaId`, { slaId: _id });\\n\\n\\tconst handleDelete = useMutableCallback((e) => {\\n\\t\\te.stopPropagation();\\n\\t\\tconst onDeleteAgent = async (): Promise<void> => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait removeSLA();\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('SLA_removed') });\\n\\t\\t\\t\\treload();\\n\\t\\t\\t\\tslaRoute.push({});\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tsetModal();\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteAgent} onCancel={(): void => setModal()} confirmText={t('Delete')} />);\\n\\t});\\n\\n\\treturn (\\n\\t\\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\\n\\t\\t\\t<IconButton icon='trash' small title={t('Remove')} onClick={handleDelete} />\\n\\t\\t</GenericTableCell>\\n\\t);\\n};\\n\\nexport default RemoveSlaButton;\\n\",null],\"names\":[\"IconButton\",\"useMutableCallback\",\"useRoute\",\"useEndpoint\",\"useSetModal\",\"useToastMessageDispatch\",\"React\",\"useTranslation\",\"GenericModal\",\"GenericTableCell\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"_id\",\"reload\",\"t\",\"setModal\",\"slaRoute\",\"dispatchToastMessage\",\"removeSLA\",\"slaId\",\"handleDelete\",\"e\",\"stopPropagation\",\"onDeleteAgent\",\"type\",\"message\",\"push\",\"error\",\"createElement\",\"variant\",\"onConfirm\",\"onCancel\",\"confirmText\",\"fontScale\",\"color\",\"withTruncatedText\",\"icon\",\"small\",\"title\",\"onClick\"],\"mappings\":\"2BAAAA,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA1CC,EAAYC,IAAA,CAAM,wBAAwB,CAAAX,WAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAV,mBAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAT,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,YAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,wBAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAJ,eAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gCAAA,CAAAE,QAAAD,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gCAAA,CAAAF,iBAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAnDF,EAAOI,aAAY,CASKC,IAAyD,GAAxD,CAAEC,IAAAA,CAAG,CAAEC,OAAAA,CAAAA,CAA6C,CAAAF,EACtE,CAAEG,EAAAA,CAAAA,CAAG,CAAGX,IACRY,EAAWf,IACXgB,EAAWlB,EAAS,4BACpBmB,EAAuBhB,IAEvBiB,EAAYnB,EAAY,SAAQ,0BAA6B,CAAEoB,MAAOP,CAAG,GAEzEQ,EAAevB,EAAoBwB,IACxCA,EAAEC,eAAe,GACjB,IAAMC,EAAgB,UACrB,GAAI,CACH,MAAML,IACND,EAAqB,CAAEO,KAAM,UAAWC,QAASX,EAAE,cAAc,GACjED,IACAG,EAASU,IAAI,CAAC,CAAA,EACf,CAAE,MAAOC,EAAO,CACfV,EAAqB,CAAEO,KAAM,QAASC,QAASE,CAAK,EACrD,QAAU,CACTZ,GACD,CACD,EAEAA,EAASb,EAAA0B,aAAA,CAACxB,EAAY,CAACyB,QAAQ,SAASC,UAAWP,EAAeQ,SAAUA,IAAYhB,IAAYiB,YAAalB,EAAE,SAAU,GAC9H,GAEA,OACCZ,EAAA0B,aAAA,CAACvB,EAAgB,CAAC4B,UAAU,KAAKC,MAAM,OAAOC,kBAAiB,CAAA,CAAA,EAC9DjC,EAAA0B,aAAA,CAAChC,EAAU,CAACwC,KAAK,QAAQC,MAAK,CAAA,EAACC,MAAOxB,EAAE,UAAWyB,QAASnB,CAAa,GAG5E\"}"}