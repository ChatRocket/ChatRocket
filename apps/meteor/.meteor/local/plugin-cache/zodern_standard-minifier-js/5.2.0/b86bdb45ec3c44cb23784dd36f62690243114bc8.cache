{"code":"function module(e,t,i){let a,n,l,r,c,o,s,g,u,d,k,f,p;i.link(\"@rocket.chat/core-typings\",{isSetting(e){a=e},isSettingColor(e){n=e}},0),i.link(\"@rocket.chat/fuselage\",{Accordion(e){l=e},Box(e){r=e},Button(e){c=e},FieldGroup(e){o=e}},1),i.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){s=e}},2),i.link(\"react\",{default(e){g=e},useMemo(e){u=e}},3),i.link(\"react-i18next\",{useTranslation(e){d=e}},4),i.link(\"../../EditableSettingsContext\",{useEditableSettings(e){k=e},useEditableSettingsDispatch(e){f=e}},5),i.link(\"../Setting\",{default(e){p=e}},6),i.exportDefault(function(e){let{groupId:t,hasReset:i=!0,sectionName:S,currentTab:m,solo:y,help:h,children:E}=e,{t:J}=d(),N=k(u(()=>({group:t,section:S,tab:m}),[t,S,m])),O=u(()=>N.some(e=>{let{changed:t}=e;return t}),[N]),_=u(()=>N.some(e=>{let{value:t,packageValue:i}=e;return JSON.stringify(t)!==JSON.stringify(i)}),[N]),b=f(),C=s(()=>{b(N.filter(e=>{let{disabled:t}=e;return!t}).map(e=>n(e)?{_id:e._id,value:e.packageValue,editor:e.packageEditor,changed:JSON.stringify(e.value)!==JSON.stringify(e.packageValue)||JSON.stringify(e.editor)!==JSON.stringify(e.packageEditor)}:{_id:e._id,value:e.packageValue,changed:JSON.stringify(e.value)!==JSON.stringify(e.packageValue)}))});return g.createElement(l.Item,{\"data-qa-section\":S,noncollapsible:y||!S,title:S&&J(S)},h&&g.createElement(r,{is:\"p\",color:\"hint\",fontScale:\"p2\"},h),g.createElement(o,null,N.map(e=>a(e)&&g.createElement(p,{key:e._id,settingId:e._id,sectionChanged:O})),E),i&&_&&g.createElement(c,{children:J(\"Reset_section_settings\"),secondary:!0,danger:!0,marginBlockStart:16,\"data-section\":S,onClick:()=>{C()}}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/settings/SettingsSection/SettingsSection.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { isSetting, isSettingColor } from '@rocket.chat/core-typings';\\nimport { Accordion, Box, Button, FieldGroup } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement, ReactNode } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useEditableSettings, useEditableSettingsDispatch } from '../../EditableSettingsContext';\\nimport Setting from '../Setting';\\n\\ntype SettingsSectionProps = {\\n\\tgroupId: string;\\n\\thasReset?: boolean;\\n\\tsectionName: string;\\n\\tcurrentTab?: string;\\n\\tsolo: boolean;\\n\\thelp?: ReactNode;\\n\\tchildren?: ReactNode;\\n};\\n\\nfunction SettingsSection({ groupId, hasReset = true, sectionName, currentTab, solo, help, children }: SettingsSectionProps): ReactElement {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst editableSettings = useEditableSettings(\\n\\t\\tuseMemo(\\n\\t\\t\\t() => ({\\n\\t\\t\\t\\tgroup: groupId,\\n\\t\\t\\t\\tsection: sectionName,\\n\\t\\t\\t\\ttab: currentTab,\\n\\t\\t\\t}),\\n\\t\\t\\t[groupId, sectionName, currentTab],\\n\\t\\t),\\n\\t);\\n\\n\\tconst changed = useMemo(() => editableSettings.some(({ changed }) => changed), [editableSettings]);\\n\\n\\tconst canReset = useMemo(\\n\\t\\t() => editableSettings.some(({ value, packageValue }) => JSON.stringify(value) !== JSON.stringify(packageValue)),\\n\\t\\t[editableSettings],\\n\\t);\\n\\n\\tconst dispatch = useEditableSettingsDispatch();\\n\\n\\tconst reset = useMutableCallback(() => {\\n\\t\\tdispatch(\\n\\t\\t\\teditableSettings\\n\\t\\t\\t\\t.filter(({ disabled }) => !disabled)\\n\\t\\t\\t\\t.map((setting) => {\\n\\t\\t\\t\\t\\tif (isSettingColor(setting)) {\\n\\t\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\t\\t_id: setting._id,\\n\\t\\t\\t\\t\\t\\t\\tvalue: setting.packageValue,\\n\\t\\t\\t\\t\\t\\t\\teditor: setting.packageEditor,\\n\\t\\t\\t\\t\\t\\t\\tchanged:\\n\\t\\t\\t\\t\\t\\t\\t\\tJSON.stringify(setting.value) !== JSON.stringify(setting.packageValue) ||\\n\\t\\t\\t\\t\\t\\t\\t\\tJSON.stringify(setting.editor) !== JSON.stringify(setting.packageEditor),\\n\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\t_id: setting._id,\\n\\t\\t\\t\\t\\t\\tvalue: setting.packageValue,\\n\\t\\t\\t\\t\\t\\tchanged: JSON.stringify(setting.value) !== JSON.stringify(setting.packageValue),\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}),\\n\\t\\t);\\n\\t});\\n\\n\\tconst handleResetSectionClick = (): void => {\\n\\t\\treset();\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Accordion.Item\\n\\t\\t\\tdata-qa-section={sectionName}\\n\\t\\t\\tnoncollapsible={solo || !sectionName}\\n\\t\\t\\ttitle={sectionName && t(sectionName as TranslationKey)}\\n\\t\\t>\\n\\t\\t\\t{help && (\\n\\t\\t\\t\\t<Box is='p' color='hint' fontScale='p2'>\\n\\t\\t\\t\\t\\t{help}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t)}\\n\\t\\t\\t<FieldGroup>\\n\\t\\t\\t\\t{editableSettings.map(\\n\\t\\t\\t\\t\\t(setting) => isSetting(setting) && <Setting key={setting._id} settingId={setting._id} sectionChanged={changed} />,\\n\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t{children}\\n\\t\\t\\t</FieldGroup>\\n\\t\\t\\t{hasReset && canReset && (\\n\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\tchildren={t('Reset_section_settings')}\\n\\t\\t\\t\\t\\tsecondary\\n\\t\\t\\t\\t\\tdanger\\n\\t\\t\\t\\t\\tmarginBlockStart={16}\\n\\t\\t\\t\\t\\tdata-section={sectionName}\\n\\t\\t\\t\\t\\tonClick={handleResetSectionClick}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\t\\t</Accordion.Item>\\n\\t);\\n}\\n\\nexport default SettingsSection;\\n\",null],\"names\":[\"isSetting\",\"isSettingColor\",\"Accordion\",\"Box\",\"Button\",\"FieldGroup\",\"useMutableCallback\",\"React\",\"useMemo\",\"useTranslation\",\"useEditableSettings\",\"useEditableSettingsDispatch\",\"Setting\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"groupId\",\"hasReset\",\"sectionName\",\"currentTab\",\"solo\",\"help\",\"children\",\"t\",\"editableSettings\",\"group\",\"section\",\"tab\",\"changed\",\"some\",\"_ref2\",\"canReset\",\"_ref3\",\"value\",\"packageValue\",\"JSON\",\"stringify\",\"dispatch\",\"reset\",\"filter\",\"_ref4\",\"disabled\",\"map\",\"setting\",\"_id\",\"editor\",\"packageEditor\",\"createElement\",\"Item\",\"noncollapsible\",\"title\",\"is\",\"color\",\"fontScale\",\"key\",\"settingId\",\"sectionChanged\",\"secondary\",\"danger\",\"marginBlockStart\",\"onClick\",\"handleResetSectionClick\"],\"mappings\":\"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\"}"}