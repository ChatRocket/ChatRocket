{"code":"function module(t,a,e){var n,r,s,o,i;e.link(\"meteor/meteor\",{Meteor:function(t){n=t}},0),e.link(\"meteor/tracker\",{Tracker:function(t){r=t}},1),e.link(\"../../../app/authorization/client\",{hasPermission:function(t){s=t}},2),e.link(\"../../../app/settings/client\",{settings:function(t){o=t}},3),e.link(\"../../../lib/callbacks\",{callbacks:function(t){i=t}},4),n.startup(function(){r.autorun(function(){if(!(o.get(\"AutoTranslate_Enabled\")&&s(\"auto-translate\"))){i.remove(\"streamMessage\",\"autotranslate-stream\");return}e.dynamicImport(\"../../../app/autotranslate/client\").then(function(t){var a=(0,t.createAutoTranslateMessageStreamHandler)();i.remove(\"streamMessage\",\"autotranslate-stream\"),i.add(\"streamMessage\",a,i.priority.HIGH-3,\"autotranslate-stream\")})})})}","map":"{\"version\":3,\"sources\":[\"client/startup/streamMessage/autotranslate.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Meteor } from 'meteor/meteor';\\nimport { Tracker } from 'meteor/tracker';\\n\\nimport { hasPermission } from '../../../app/authorization/client';\\nimport { settings } from '../../../app/settings/client';\\nimport { callbacks } from '../../../lib/callbacks';\\n\\nMeteor.startup(() => {\\n\\tTracker.autorun(() => {\\n\\t\\tconst isEnabled = settings.get('AutoTranslate_Enabled') && hasPermission('auto-translate');\\n\\n\\t\\tif (!isEnabled) {\\n\\t\\t\\tcallbacks.remove('streamMessage', 'autotranslate-stream');\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\timport('../../../app/autotranslate/client').then(({ createAutoTranslateMessageStreamHandler }) => {\\n\\t\\t\\tconst streamMessage = createAutoTranslateMessageStreamHandler();\\n\\t\\t\\tcallbacks.remove('streamMessage', 'autotranslate-stream');\\n\\t\\t\\tcallbacks.add('streamMessage', streamMessage, callbacks.priority.HIGH - 3, 'autotranslate-stream');\\n\\t\\t});\\n\\t});\\n});\\n\",null],\"names\":[\"Meteor\",\"Tracker\",\"hasPermission\",\"settings\",\"callbacks\",\"module\",\"link\",\"v\",\"startup\",\"autorun\",\"get\",\"remove\",\"dynamicImport\",\"then\",\"_ref\",\"streamMessage\",\"createAutoTranslateMessageStreamHandler\",\"add\",\"priority\",\"HIGH\"],\"mappings\":\"2BAAAA,EAAuCC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAQC,IAAA,CAAM,gBAAgB,CAAAN,OAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,iBAAA,CAAAL,QAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oCAAA,CAAAJ,cAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,+BAAA,CAAAH,SAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yBAAA,CAAAF,UAAA,SAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAOvCP,EAAOQ,OAAO,CAAC,WACdP,EAAQQ,OAAO,CAAC,WAGf,GAAI,CAFcN,CAAAA,EAASO,GAAG,CAAC,0BAA4BR,EAAc,iBAAgB,EAEzE,CACfE,EAAUO,MAAM,CAAC,gBAAiB,wBAClC,MACD,CAEAN,EAAAO,aAAA,CAAO,qCAAqCC,IAAI,CAAC,SAAAC,CAAA,EAChD,IAAMC,EAAgBC,AADoEF,CAAAA,EAAAA,EAAvCE,uCAAuC,AAAvCA,IAEnDZ,EAAUO,MAAM,CAAC,gBAAiB,wBAClCP,EAAUa,GAAG,CAAC,gBAAiBF,EAAeX,EAAUc,QAAQ,CAACC,IAAI,CAAG,EAAG,uBAC5E,EACD,EACD\"}"}