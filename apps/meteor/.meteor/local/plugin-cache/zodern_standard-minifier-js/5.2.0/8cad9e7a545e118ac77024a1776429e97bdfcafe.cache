{"code":"function module(e,t,n){var l,r,a,c,u,i,o,s,f,m,d,p,E,_,h,k,b,v,x,g,C,w;n.link(\"@babel/runtime/helpers/extends\",{default:function(e){l=e}},0),n.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},1),n.link(\"@rocket.chat/fuselage\",{Button:function(e){a=e},ButtonGroup:function(e){c=e},TextInput:function(e){u=e},Field:function(e){i=e},FieldLabel:function(e){o=e},FieldRow:function(e){s=e},FieldError:function(e){f=e},FieldHint:function(e){m=e},TextAreaInput:function(e){d=e},ToggleSwitch:function(e){p=e},FieldGroup:function(e){E=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){_=e},useRoute:function(e){h=e},useEndpoint:function(e){k=e}},1),n.link(\"react\",{default:function(e){b=e},useCallback:function(e){v=e}},2),n.link(\"react-hook-form\",{useForm:function(e){x=e},Controller:function(e){g=e}},3),n.link(\"react-i18next\",{useTranslation:function(e){C=e}},4),n.link(\"../../../components/Contextualbar\",{ContextualbarScrollableContent:function(e){w=e}},5),n.exportDefault(function(){var e=C().t,t=_(),n=x(),R=n.register,F=n.handleSubmit,S=n.formState.errors,T=n.control,y=k(\"POST\",\"/v1/oauth-apps.create\"),A=h(\"admin-oauth-apps\"),U=v(function(){return A.push({})},[A]);return b.createElement(w,{w:\"full\"},b.createElement(E,{maxWidth:\"x600\",alignSelf:\"center\",w:\"full\"},b.createElement(i,null,b.createElement(s,null,b.createElement(o,null,e(\"Active\")),b.createElement(g,{name:\"active\",control:T,defaultValue:!1,render:function(e){var t=e.field;return b.createElement(p,{onChange:t.onChange,checked:t.value})}}))),b.createElement(i,null,b.createElement(o,null,e(\"Application_Name\")),b.createElement(s,null,b.createElement(u,R(\"name\",{required:e(\"Required_field\",{field:e(\"Name\")})}))),b.createElement(m,null,e(\"Give_the_application_a_name_This_will_be_seen_by_your_users\")),(null==S?void 0:S.name)&&b.createElement(f,null,S.name.message)),b.createElement(i,null,b.createElement(o,null,e(\"Redirect_URI\")),b.createElement(s,null,b.createElement(d,l({rows:5},R(\"redirectUri\",{required:!0})))),b.createElement(m,null,e(\"After_OAuth2_authentication_users_will_be_redirected_to_this_URL\")),(null==S?void 0:S.redirectUri)&&b.createElement(f,null,e(\"Required_field\",{field:e(\"Redirect_URI\")}))),b.createElement(i,null,b.createElement(s,null,b.createElement(c,{stretch:!0},b.createElement(a,{onClick:U},e(\"Cancel\")),b.createElement(a,{primary:!0,onClick:F(function(n){return r.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,r.awrap(y(n));case 3:U(),t({type:\"success\",message:e(\"Application_added\")}),l.next=10;break;case 7:l.prev=7,l.t0=l.catch(0),t({type:\"error\",message:l.t0});case 10:case\"end\":return l.stop()}},null,null,[[0,7]],Promise)})},e(\"Save\")))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/oauthApps/OAuthAddApp.tsx\",\"<anon>\"],\"sourcesContent\":[\"import {\\n\\tButton,\\n\\tButtonGroup,\\n\\tTextInput,\\n\\tField,\\n\\tFieldLabel,\\n\\tFieldRow,\\n\\tFieldError,\\n\\tFieldHint,\\n\\tTextAreaInput,\\n\\tToggleSwitch,\\n\\tFieldGroup,\\n} from '@rocket.chat/fuselage';\\nimport { useToastMessageDispatch, useRoute, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback } from 'react';\\nimport type { SubmitHandler } from 'react-hook-form';\\nimport { useForm, Controller } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { ContextualbarScrollableContent } from '../../../components/Contextualbar';\\n\\ntype OAuthAddAppPayload = {\\n\\tname: string;\\n\\tactive: boolean;\\n\\tredirectUri: string;\\n};\\n\\nconst OAuthAddApp = (): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst {\\n\\t\\tregister,\\n\\t\\thandleSubmit,\\n\\t\\tformState: { errors },\\n\\t\\tcontrol,\\n\\t} = useForm<OAuthAddAppPayload>();\\n\\n\\tconst saveApp = useEndpoint('POST', '/v1/oauth-apps.create');\\n\\n\\tconst router = useRoute('admin-oauth-apps');\\n\\n\\tconst close = useCallback(() => router.push({}), [router]);\\n\\n\\tconst onSubmit: SubmitHandler<OAuthAddAppPayload> = async (data) => {\\n\\t\\ttry {\\n\\t\\t\\tawait saveApp(data);\\n\\t\\t\\tclose();\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Application_added') });\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t};\\n\\n\\treturn (\\n\\t\\t<ContextualbarScrollableContent w='full'>\\n\\t\\t\\t<FieldGroup maxWidth='x600' alignSelf='center' w='full'>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<FieldLabel>{t('Active')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\tname='active'\\n\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\tdefaultValue={false}\\n\\t\\t\\t\\t\\t\\t\\trender={({ field }): ReactElement => <ToggleSwitch onChange={field.onChange} checked={field.value} />}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<FieldLabel>{t('Application_Name')}</FieldLabel>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<TextInput {...register('name', { required: t('Required_field', { field: t('Name') }) })} />\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t<FieldHint>{t('Give_the_application_a_name_This_will_be_seen_by_your_users')}</FieldHint>\\n\\t\\t\\t\\t\\t{errors?.name && <FieldError>{errors.name.message}</FieldError>}\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<FieldLabel>{t('Redirect_URI')}</FieldLabel>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<TextAreaInput rows={5} {...register('redirectUri', { required: true })} />\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t<FieldHint>{t('After_OAuth2_authentication_users_will_be_redirected_to_this_URL')}</FieldHint>\\n\\t\\t\\t\\t\\t{errors?.redirectUri && <FieldError>{t('Required_field', { field: t('Redirect_URI') })}</FieldError>}\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t\\t\\t<Button onClick={close}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t\\t\\t<Button primary onClick={handleSubmit(onSubmit)}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Save')}\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t</FieldGroup>\\n\\t\\t</ContextualbarScrollableContent>\\n\\t);\\n};\\n\\nexport default OAuthAddApp;\\n\",null],\"names\":[\"_extends\",\"_regeneratorRuntime\",\"Button\",\"ButtonGroup\",\"TextInput\",\"Field\",\"FieldLabel\",\"FieldRow\",\"FieldError\",\"FieldHint\",\"TextAreaInput\",\"ToggleSwitch\",\"FieldGroup\",\"useToastMessageDispatch\",\"useRoute\",\"useEndpoint\",\"React\",\"useCallback\",\"useForm\",\"Controller\",\"useTranslation\",\"ContextualbarScrollableContent\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"t\",\"_useTranslation\",\"dispatchToastMessage\",\"_useForm\",\"register\",\"handleSubmit\",\"errors\",\"formState\",\"control\",\"saveApp\",\"router\",\"close\",\"push\",\"createElement\",\"w\",\"maxWidth\",\"alignSelf\",\"name\",\"defaultValue\",\"render\",\"_ref\",\"field\",\"onChange\",\"checked\",\"value\",\"required\",\"message\",\"rows\",\"redirectUri\",\"stretch\",\"onClick\",\"primary\",\"data\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"type\",\"t0\",\"stop\",\"Promise\"],\"mappings\":\"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\"}"}