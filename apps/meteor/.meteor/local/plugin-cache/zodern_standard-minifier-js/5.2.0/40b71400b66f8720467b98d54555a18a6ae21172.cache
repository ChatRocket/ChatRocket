{"code":"function module(e,t,l){let n,r,a,o,m,c,u,i,E,d,p,s,b,h,F,f,k,x,y,C;l.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),l.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){r=e}},1),l.link(\"@rocket.chat/fuselage\",{Field(e){a=e},FieldLabel(e){o=e},FieldRow(e){m=e},Select(e){c=e},ButtonGroup(e){u=e},Button(e){i=e},FieldGroup(e){E=e},InputBox(e){d=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useAutoFocus(e){p=e},useUniqueId(e){s=e}},1),l.link(\"react\",{default(e){b=e},useMemo(e){h=e}},2),l.link(\"react-hook-form\",{Controller(e){F=e},useFormContext(e){f=e}},3),l.link(\"react-i18next\",{useTranslation(e){k=e}},4),l.link(\"../../../../components/Contextualbar\",{ContextualbarScrollableContent(e){x=e},ContextualbarFooter(e){y=e}},5),l.link(\"./useRoomExportMutation\",{useRoomExportMutation(e){C=e}},6),l.exportDefault(e=>{let{formId:t,rid:l,exportOptions:M,onCancel:S}=e,{t:T}=k(),{control:g,handleSubmit:B}=f(),D=C(),I=p(),R=h(()=>[[\"html\",T(\"HTML\")],[\"json\",T(\"JSON\")]],[T]),_=s(),j=s(),A=s(),G=s();return b.createElement(b.Fragment,null,b.createElement(x,null,b.createElement(\"form\",{ref:I,tabIndex:-1,\"aria-labelledby\":\"\".concat(t,\"-title\"),id:t,onSubmit:B(e=>{let{dateFrom:t,dateTo:n,format:a}=e;D.mutateAsync(r(r(r({rid:l,type:\"file\"},t&&{dateFrom:t}),n&&{dateTo:n}),{},{format:a}))})},b.createElement(E,null,b.createElement(a,null,b.createElement(o,{htmlFor:_},T(\"Method\")),b.createElement(m,null,b.createElement(F,{name:\"type\",control:g,render:e=>{let{field:t}=e;return b.createElement(c,n({id:_},t,{placeholder:T(\"Type\"),options:M}))}}))),b.createElement(a,null,b.createElement(o,{htmlFor:j},T(\"Date_From\")),b.createElement(m,null,b.createElement(F,{name:\"dateFrom\",control:g,render:e=>{let{field:t}=e;return b.createElement(d,n({id:j,type:\"date\"},t))}}))),b.createElement(a,null,b.createElement(o,{htmlFor:A},T(\"Date_to\")),b.createElement(m,null,b.createElement(F,{name:\"dateTo\",control:g,render:e=>{let{field:t}=e;return b.createElement(d,n({id:A},t,{type:\"date\"}))}}))),b.createElement(a,null,b.createElement(o,{htmlFor:G},T(\"Output_format\")),b.createElement(m,null,b.createElement(F,{name:\"format\",control:g,render:e=>{let{field:t}=e;return b.createElement(c,n({},t,{id:G,placeholder:T(\"Format\"),options:R}))}})))))),b.createElement(y,null,b.createElement(u,{stretch:!0},b.createElement(i,{onClick:S},T(\"Cancel\")),b.createElement(i,{form:t,primary:!0,type:\"submit\"},T(\"Export\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/ExportMessages/FileExport.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Field, FieldLabel, FieldRow, Select, ButtonGroup, Button, FieldGroup, InputBox } from '@rocket.chat/fuselage';\\nimport { useAutoFocus, useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport React, { useMemo } from 'react';\\nimport { Controller, useFormContext } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../../components/Contextualbar';\\nimport type { MailExportFormValues } from './ExportMessages';\\nimport { useRoomExportMutation } from './useRoomExportMutation';\\n\\ntype FileExportProps = {\\n\\tformId: string;\\n\\trid: IRoom['_id'];\\n\\tonCancel: () => void;\\n\\texportOptions: SelectOption[];\\n};\\n\\nconst FileExport = ({ formId, rid, exportOptions, onCancel }: FileExportProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst { control, handleSubmit } = useFormContext<MailExportFormValues>();\\n\\tconst roomExportMutation = useRoomExportMutation();\\n\\tconst formFocus = useAutoFocus<HTMLFormElement>();\\n\\n\\tconst outputOptions = useMemo<SelectOption[]>(\\n\\t\\t() => [\\n\\t\\t\\t['html', t('HTML')],\\n\\t\\t\\t['json', t('JSON')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst handleExport = ({ dateFrom, dateTo, format }: MailExportFormValues) => {\\n\\t\\troomExportMutation.mutateAsync({\\n\\t\\t\\trid,\\n\\t\\t\\ttype: 'file',\\n\\t\\t\\t...(dateFrom && { dateFrom }),\\n\\t\\t\\t...(dateTo && { dateTo }),\\n\\t\\t\\tformat,\\n\\t\\t});\\n\\t};\\n\\n\\tconst typeField = useUniqueId();\\n\\tconst dateFromField = useUniqueId();\\n\\tconst dateToField = useUniqueId();\\n\\tconst formatField = useUniqueId();\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t<form ref={formFocus} tabIndex={-1} aria-labelledby={`${formId}-title`} id={formId} onSubmit={handleSubmit(handleExport)}>\\n\\t\\t\\t\\t\\t<FieldGroup>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={typeField}>{t('Method')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='type'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <Select id={typeField} {...field} placeholder={t('Type')} options={exportOptions} />}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={dateFromField}>{t('Date_From')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='dateFrom'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <InputBox id={dateFromField} type='date' {...field} />}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={dateToField}>{t('Date_to')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller name='dateTo' control={control} render={({ field }) => <InputBox id={dateToField} {...field} type='date' />} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={formatField}>{t('Output_format')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='format'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <Select {...field} id={formatField} placeholder={t('Format')} options={outputOptions} />}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t\\t</form>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t<Button onClick={onCancel}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t<Button form={formId} primary type='submit'>\\n\\t\\t\\t\\t\\t\\t{t('Export')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default FileExport;\\n\",null],\"names\":[\"_extends\",\"_objectSpread\",\"Field\",\"FieldLabel\",\"FieldRow\",\"Select\",\"ButtonGroup\",\"Button\",\"FieldGroup\",\"InputBox\",\"useAutoFocus\",\"useUniqueId\",\"React\",\"useMemo\",\"Controller\",\"useFormContext\",\"useTranslation\",\"ContextualbarScrollableContent\",\"ContextualbarFooter\",\"useRoomExportMutation\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"formId\",\"rid\",\"exportOptions\",\"onCancel\",\"t\",\"control\",\"handleSubmit\",\"roomExportMutation\",\"formFocus\",\"outputOptions\",\"typeField\",\"dateFromField\",\"dateToField\",\"formatField\",\"createElement\",\"Fragment\",\"ref\",\"tabIndex\",\"concat\",\"id\",\"onSubmit\",\"_ref2\",\"dateFrom\",\"dateTo\",\"format\",\"mutateAsync\",\"type\",\"htmlFor\",\"name\",\"render\",\"_ref3\",\"field\",\"placeholder\",\"options\",\"_ref4\",\"_ref5\",\"_ref6\",\"stretch\",\"onClick\",\"form\",\"primary\"],\"mappings\":\"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\"}"}