{"code":"function module(e,t,r){let n,a,o,u,c,l,i;r.link(\"@rocket.chat/fuselage\",{Box(e){n=e},Skeleton(e){a=e}},0),r.link(\"@rocket.chat/ui-contexts\",{useMethod(e){o=e}},1),r.link(\"@tanstack/react-query\",{useQuery(e){u=e}},2),r.link(\"react\",{default(e){c=e}},3),r.link(\"react-i18next\",{useTranslation(e){l=e}},4),r.link(\"../../../components/dataView/CounterSet\",{default(e){i=e}},5);let s=()=>{let e=o(\"federation:getOverviewData\"),t=u([\"admin/federation-dashboard/overview\"],async()=>e(),{refetchInterval:1e4});if(t.isLoading)return[c.createElement(a,{key:\"event-count\",variant:\"text\"}),c.createElement(a,{key:\"user-count\",variant:\"text\"}),c.createElement(a,{key:\"server-count\",variant:\"text\"})];if(t.isError)return[c.createElement(n,{key:\"event-count\",color:\"status-font-on-danger\"},\"Error\"),c.createElement(n,{key:\"user-count\",color:\"status-font-on-danger\"},\"Error\"),c.createElement(n,{key:\"server-count\",color:\"status-font-on-danger\"},\"Error\")];let{data:r}=t.data;return[r[0].value,r[1].value,r[2].value]};r.exportDefault(function(){let{t:e}=l(),[t,r,n]=s();return c.createElement(i,{counters:[{count:t,description:e(\"Number_of_events\")},{count:r,description:e(\"Number_of_federated_users\")},{count:n,description:e(\"Number_of_federated_servers\")}]})})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/federationDashboard/OverviewSection.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Skeleton } from '@rocket.chat/fuselage';\\nimport { useMethod } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement, ReactNode } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport CounterSet from '../../../components/dataView/CounterSet';\\n\\nconst useOverviewData = (): [eventCount: ReactNode, userCount: ReactNode, serverCount: ReactNode] => {\\n\\tconst getFederationOverviewData = useMethod('federation:getOverviewData');\\n\\n\\tconst result = useQuery(['admin/federation-dashboard/overview'], async () => getFederationOverviewData(), {\\n\\t\\trefetchInterval: 10_000,\\n\\t});\\n\\n\\tif (result.isLoading) {\\n\\t\\treturn [\\n\\t\\t\\t<Skeleton key='event-count' variant='text' />,\\n\\t\\t\\t<Skeleton key='user-count' variant='text' />,\\n\\t\\t\\t<Skeleton key='server-count' variant='text' />,\\n\\t\\t];\\n\\t}\\n\\n\\tif (result.isError) {\\n\\t\\treturn [\\n\\t\\t\\t<Box key='event-count' color='status-font-on-danger'>\\n\\t\\t\\t\\tError\\n\\t\\t\\t</Box>,\\n\\t\\t\\t<Box key='user-count' color='status-font-on-danger'>\\n\\t\\t\\t\\tError\\n\\t\\t\\t</Box>,\\n\\t\\t\\t<Box key='server-count' color='status-font-on-danger'>\\n\\t\\t\\t\\tError\\n\\t\\t\\t</Box>,\\n\\t\\t];\\n\\t}\\n\\n\\tconst { data } = result.data;\\n\\n\\treturn [data[0].value, data[1].value, data[2].value];\\n};\\n\\nfunction OverviewSection(): ReactElement {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst [eventCount, userCount, serverCount] = useOverviewData();\\n\\n\\treturn (\\n\\t\\t<CounterSet\\n\\t\\t\\tcounters={[\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tcount: eventCount,\\n\\t\\t\\t\\t\\tdescription: t('Number_of_events'),\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tcount: userCount,\\n\\t\\t\\t\\t\\tdescription: t('Number_of_federated_users'),\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tcount: serverCount,\\n\\t\\t\\t\\t\\tdescription: t('Number_of_federated_servers'),\\n\\t\\t\\t\\t},\\n\\t\\t\\t]}\\n\\t\\t/>\\n\\t);\\n}\\n\\nexport default OverviewSection;\\n\",null],\"names\":[\"Box\",\"Skeleton\",\"useMethod\",\"useQuery\",\"React\",\"useTranslation\",\"CounterSet\",\"module\",\"link\",\"v\",\"default\",\"useOverviewData\",\"getFederationOverviewData\",\"result\",\"refetchInterval\",\"isLoading\",\"createElement\",\"key\",\"variant\",\"isError\",\"color\",\"data\",\"value\",\"exportDefault\",\"t\",\"eventCount\",\"userCount\",\"serverCount\",\"counters\",\"count\",\"description\"],\"mappings\":\"2BAAAA,EAAOC,EAA+CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxCC,EAAUC,IAAA,CAAA,wBAA6B,CAACR,IAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAN,UAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAL,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAH,eAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0CAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAStD,IAAME,EAAkBA,KACvB,IAAMC,EAA4BV,EAAU,8BAEtCW,EAASV,EAAS,CAAC,sCAAsC,CAAE,SAAYS,IAA6B,CACzGE,gBAAiB,MAGlB,GAAID,EAAOE,SAAS,CACnB,MAAO,CACNX,EAAAY,aAAA,CAACf,EAAQ,CAACgB,IAAI,cAAcC,QAAQ,MAAM,GAC1Cd,EAAAY,aAAA,CAACf,EAAQ,CAACgB,IAAI,aAAaC,QAAQ,MAAM,GACzCd,EAAAY,aAAA,CAACf,EAAQ,CAACgB,IAAI,eAAeC,QAAQ,MAAM,GAC3C,CAGF,GAAIL,EAAOM,OAAO,CACjB,MAAO,CACNf,EAAAY,aAAA,CAAChB,EAAG,CAACiB,IAAI,cAAcG,MAAM,uBAAuB,EACnD,SAEDhB,EAAAY,aAAA,CAAChB,EAAG,CAACiB,IAAI,aAAaG,MAAM,uBAAuB,EAClD,SAEDhB,EAAAY,aAAA,CAAChB,EAAG,CAACiB,IAAI,eAAeG,MAAM,uBAAuB,EACpD,SAED,CAGF,GAAM,CAAEC,KAAAA,CAAAA,CAAM,CAAGR,EAAOQ,IAAI,CAE5B,MAAO,CAACA,CAAI,CAAC,EAAE,CAACC,KAAK,CAAED,CAAI,CAAC,EAAE,CAACC,KAAK,CAAED,CAAI,CAAC,EAAE,CAACC,KAAK,CAAC,AACrD,EAzCAf,EAAOgB,aAAO,CA2Cd,WACC,GAAM,CAAEC,EAAAA,CAAAA,CAAG,CAAGnB,IAER,CAACoB,EAAYC,EAAWC,EAAY,CAAGhB,IAE7C,OACCP,EAAAY,aAAA,CAACV,EAAU,CACVsB,SAAU,CACT,CACCC,MAAOJ,EACPK,YAAaN,EAAE,qBAEhB,CACCK,MAAOH,EACPI,YAAaN,EAAE,8BAEhB,CACCK,MAAOF,EACPG,YAAaN,EAAE,gCACf,AACA,EAGL\"}"}