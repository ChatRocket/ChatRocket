{"code":"function module(e,r,t){let a,i,o,n,d,l,s;t.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){a=e}},0),t.export({legacyJumpToMessage:()=>u}),t.link(\"@rocket.chat/core-typings\",{isThreadMessage(e){i=e}},0),t.link(\"../../../app/models/client\",{ChatRoom(e){o=e}},1),t.link(\"../../../app/ui-utils/client\",{RoomHistoryManager(e){n=e}},2),t.link(\"../../providers/RouterProvider\",{router(e){d=e}},3),t.link(\"../RoomManager\",{RoomManager(e){l=e}},4),t.link(\"./goToRoomById\",{goToRoomById(e){s=e}},5);let u=async e=>{if(i(e)||e.tcount){var r,t;let{tab:i,context:n}=d.getRouteParameters();if(\"thread\"===i&&(n===e.tmid||n===e._id))return;d.navigate({name:d.getRouteName(),params:{tab:\"thread\",context:e.tmid||e._id,rid:e.rid,name:null!==(r=null===(t=o.findOne({_id:e.rid}))||void 0===t?void 0:t.name)&&void 0!==r?r:\"\"},search:a(a({},d.getSearchParameters()),{},{msg:e._id})},{replace:!1});return}if(l.opened===e.rid){n.getSurroundingMessages(e);return}await s(e.rid),setTimeout(()=>{n.getSurroundingMessages(e)},400)}}","map":"{\"version\":3,\"sources\":[\"client/lib/utils/legacyJumpToMessage.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { isThreadMessage } from '@rocket.chat/core-typings';\\n\\nimport { ChatRoom } from '../../../app/models/client';\\nimport { RoomHistoryManager } from '../../../app/ui-utils/client';\\nimport { router } from '../../providers/RouterProvider';\\nimport { RoomManager } from '../RoomManager';\\nimport { goToRoomById } from './goToRoomById';\\n\\n/** @deprecated */\\nexport const legacyJumpToMessage = async (message: IMessage) => {\\n\\tif (isThreadMessage(message) || message.tcount) {\\n\\t\\tconst { tab, context } = router.getRouteParameters();\\n\\n\\t\\tif (tab === 'thread' && (context === message.tmid || context === message._id)) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\trouter.navigate(\\n\\t\\t\\t{\\n\\t\\t\\t\\tname: router.getRouteName()!,\\n\\t\\t\\t\\tparams: {\\n\\t\\t\\t\\t\\ttab: 'thread',\\n\\t\\t\\t\\t\\tcontext: message.tmid || message._id,\\n\\t\\t\\t\\t\\trid: message.rid,\\n\\t\\t\\t\\t\\tname: ChatRoom.findOne({ _id: message.rid })?.name ?? '',\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tsearch: {\\n\\t\\t\\t\\t\\t...router.getSearchParameters(),\\n\\t\\t\\t\\t\\tmsg: message._id,\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t\\t{ replace: false },\\n\\t\\t);\\n\\t\\treturn;\\n\\t}\\n\\n\\tif (RoomManager.opened === message.rid) {\\n\\t\\tRoomHistoryManager.getSurroundingMessages(message);\\n\\t\\treturn;\\n\\t}\\n\\n\\tawait goToRoomById(message.rid);\\n\\n\\tsetTimeout(() => {\\n\\t\\tRoomHistoryManager.getSurroundingMessages(message);\\n\\t}, 400);\\n};\\n\",null],\"names\":[\"_objectSpread\",\"isThreadMessage\",\"ChatRoom\",\"RoomHistoryManager\",\"router\",\"RoomManager\",\"goToRoomById\",\"module\",\"link\",\"default\",\"v\",\"export\",\"legacyJumpToMessage\",\"message\",\"tcount\",\"_ChatRoom$findOne$nam\",\"_ChatRoom$findOne\",\"tab\",\"context\",\"getRouteParameters\",\"tmid\",\"_id\",\"navigate\",\"name\",\"getRouteName\",\"params\",\"rid\",\"findOne\",\"search\",\"getSearchParameters\",\"msg\",\"replace\",\"opened\",\"getSurroundingMessages\",\"setTimeout\"],\"mappings\":\"2BACAA,EAA4DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAnDC,EAAeC,IAAE,CAAA,uCAAkC,CAAAC,QAAAC,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAA5DH,EAAOI,MAAE,CAAA,CAAAC,oBAAuBA,IAAAA,CAAA,GAA4BL,EAAAC,IAAA,CAAA,4BAAA,CAAAP,gBAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,6BAAA,CAAAN,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,+BAAA,CAAAL,mBAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAJ,OAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iBAAA,CAAAH,YAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iBAAA,CAAAF,aAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GASrD,IAAME,EAAsB,MAAOC,IACzC,GAAIZ,EAAgBY,IAAYA,EAAQC,MAAM,CAAE,CAAA,IAAAC,EAAAC,EAC/C,GAAM,CAAEC,IAAAA,CAAG,CAAEC,QAAAA,CAAAA,CAAS,CAAGd,EAAOe,kBAAkB,GAElD,GAAIF,AAAQ,WAARA,GAAqBC,CAAAA,IAAYL,EAAQO,IAAI,EAAIF,IAAYL,EAAQQ,GAAG,AAAHA,EACxE,OAGDjB,EAAOkB,QAAQ,CACd,CACCC,KAAMnB,EAAOoB,YAAY,GACzBC,OAAQ,CACPR,IAAK,SACLC,QAASL,EAAQO,IAAI,EAAIP,EAAQQ,GAAG,CACpCK,IAAKb,EAAQa,GAAG,CAChBH,KAAI,AAA8C,OAA9CR,CAAAA,EAAA,AAAwC,OAAxCC,CAAAA,EAAEd,EAASyB,OAAO,CAAC,CAAEN,IAAKR,EAAQa,GAAAA,AAAG,EAAE,GAACV,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAtCA,EAAwCO,IAAI,AAAJA,GAAIR,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAEvDa,OAAM5B,EAAAA,EAAA,CAAA,EACFI,EAAOyB,mBAAmB,IAAE,CAAA,EAAA,CAC/BC,IAAKjB,EAAQQ,GAAAA,AAAG,IAGlB,CAAEU,QAAS,CAAA,CAAK,GAEjB,MACD,CAEA,GAAI1B,EAAY2B,MAAM,GAAKnB,EAAQa,GAAG,CAAE,CACvCvB,EAAmB8B,sBAAsB,CAACpB,GAC1C,MACD,CAEA,MAAMP,EAAaO,EAAQa,GAAG,EAE9BQ,WAAW,KACV/B,EAAmB8B,sBAAsB,CAACpB,EAC3C,EAAG,IACJ\"}"}