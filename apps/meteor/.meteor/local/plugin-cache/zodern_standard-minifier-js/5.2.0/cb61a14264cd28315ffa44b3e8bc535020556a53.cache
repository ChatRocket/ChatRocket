{"code":"function module(e,o,t){let n,i,l;t.link(\"@rocket.chat/random\",{Random(e){n=e}},0),t.link(\"meteor/meteor\",{Meteor(e){i=e}},1),t.link(\"../../lib/2fa/overrideLoginMethod\",{callLoginMethod(e){l=e}},2),i.loginWithCas=(e,o)=>{let i=n.id();t.dynamicImport(\"../../lib/openCASLoginPopup\").then(e=>{let{openCASLoginPopup:o}=e;return o(i)}).then(()=>l({methodArguments:[{cas:{credentialToken:i}}]})).then(()=>null==o?void 0:o()).catch(o)}}","map":"{\"version\":3,\"sources\":[\"client/meteorOverrides/login/cas.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Random } from '@rocket.chat/random';\\nimport { Meteor } from 'meteor/meteor';\\n\\nimport { callLoginMethod } from '../../lib/2fa/overrideLoginMethod';\\n\\ndeclare module 'meteor/meteor' {\\n\\t// eslint-disable-next-line @typescript-eslint/no-namespace\\n\\tnamespace Meteor {\\n\\t\\tfunction loginWithCas(_?: unknown, callback?: (err?: any) => void): void;\\n\\t}\\n}\\n\\nMeteor.loginWithCas = (_, callback) => {\\n\\tconst credentialToken = Random.id();\\n\\timport('../../lib/openCASLoginPopup')\\n\\t\\t.then(({ openCASLoginPopup }) => openCASLoginPopup(credentialToken))\\n\\t\\t.then(() => callLoginMethod({ methodArguments: [{ cas: { credentialToken } }] }))\\n\\t\\t.then(() => callback?.())\\n\\t\\t.catch(callback);\\n};\\n\",null],\"names\":[\"Random\",\"Meteor\",\"callLoginMethod\",\"module\",\"link\",\"v\",\"loginWithCas\",\"_\",\"callback\",\"credentialToken\",\"id\",\"dynamicImport\",\"then\",\"_ref\",\"openCASLoginPopup\",\"methodArguments\",\"cas\",\"catch\"],\"mappings\":\"2BAAAA,EAA6CC,EAAAC,EAApCC,EAAQC,IAAA,CAAM,sBAAsB,CAAAJ,OAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAH,OAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oCAAA,CAAAF,gBAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAY7CJ,EAAOK,YAAY,CAAG,CAACC,EAAGC,KACzB,IAAMC,EAAkBT,EAAOU,EAAE,GACjCP,EAAAQ,aAAA,CAAO,+BACLC,IAAI,CAACC,IAAA,GAAC,CAAEC,kBAAAA,CAAAA,CAAmB,CAAAD,EAAA,OAAKC,EAAkBL,EAAgB,GAClEG,IAAI,CAAC,IAAMV,EAAgB,CAAEa,gBAAiB,CAAC,CAAEC,IAAK,CAAEP,gBAAAA,CAAe,CAAE,EAAE,AAAC,IAC5EG,IAAI,CAAC,IAAMJ,MAAAA,EAAQ,KAAA,EAARA,KACXS,KAAK,CAACT,EACT\"}"}