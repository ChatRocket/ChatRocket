{"code":"function module(e,t,o){let n,i,r,l,a,c,u;o.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){n=e}},0),o.export({useOTRRoomAction:()=>m}),o.link(\"@rocket.chat/core-typings\",{isRoomFederated(e){i=e}},0),o.link(\"@rocket.chat/ui-contexts\",{useSetting(e){r=e}},1),o.link(\"react\",{lazy(e){l=e},useMemo(e){a=e}},2),o.link(\"react-i18next\",{useTranslation(e){c=e}},3),o.link(\"../../views/room/contexts/RoomContext\",{useRoom(e){u=e}},4);let s=l(()=>o.dynamicImport(\"../../views/room/contextualBar/OTR\")),m=()=>{let e=r(\"OTR_Enable\",!1),t=u(),o=i(t),l=!!global.crypto,{t:m}=c();return a(()=>{if(e&&l)return n({id:\"otr\",groups:[\"direct\"],title:\"OTR\",icon:\"stopwatch\",tabComponent:s,order:13,full:!0,type:\"communication\"},o&&{tooltip:m(\"core.OTR_unavailable_for_federation\"),disabled:!0})},[e,l,o,m])}}","map":"{\"version\":3,\"sources\":[\"client/hooks/roomActions/useOTRRoomAction.ts\",\"<anon>\"],\"sourcesContent\":[\"import { isRoomFederated } from '@rocket.chat/core-typings';\\nimport { useSetting } from '@rocket.chat/ui-contexts';\\nimport { lazy, useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useRoom } from '../../views/room/contexts/RoomContext';\\nimport type { RoomToolboxActionConfig } from '../../views/room/contexts/RoomToolboxContext';\\n\\nconst OTR = lazy(() => import('../../views/room/contextualBar/OTR'));\\n\\nexport const useOTRRoomAction = () => {\\n\\tconst enabled = useSetting('OTR_Enable', false);\\n\\tconst room = useRoom();\\n\\tconst federated = isRoomFederated(room);\\n\\tconst capable = !!global.crypto;\\n\\tconst { t } = useTranslation();\\n\\n\\treturn useMemo((): RoomToolboxActionConfig | undefined => {\\n\\t\\tif (!enabled || !capable) {\\n\\t\\t\\treturn undefined;\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tid: 'otr',\\n\\t\\t\\tgroups: ['direct'],\\n\\t\\t\\ttitle: 'OTR',\\n\\t\\t\\ticon: 'stopwatch',\\n\\t\\t\\ttabComponent: OTR,\\n\\t\\t\\torder: 13,\\n\\t\\t\\tfull: true,\\n\\t\\t\\ttype: 'communication',\\n\\t\\t\\t...(federated && {\\n\\t\\t\\t\\ttooltip: t('core.OTR_unavailable_for_federation'),\\n\\t\\t\\t\\tdisabled: true,\\n\\t\\t\\t}),\\n\\t\\t};\\n\\t}, [enabled, capable, federated, t]);\\n};\\n\",null],\"names\":[\"_objectSpread\",\"isRoomFederated\",\"useSetting\",\"lazy\",\"useMemo\",\"useTranslation\",\"useRoom\",\"module\",\"link\",\"default\",\"v\",\"export\",\"useOTRRoomAction\",\"OTR\",\"dynamicImport\",\"enabled\",\"room\",\"federated\",\"capable\",\"global\",\"crypto\",\"t\",\"id\",\"groups\",\"title\",\"icon\",\"tabComponent\",\"order\",\"full\",\"type\",\"tooltip\",\"disabled\"],\"mappings\":\"2BAAAA,EAA2DC,EAACC,EAAAC,EAAAC,EAAAC,EAAAC,EAAnDC,EAAeC,IAAE,CAAA,uCAAkC,CAAAC,QAAAC,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAA5DH,EAAOI,MAAE,CAAA,CAAAC,iBAAuBA,IAAAA,CAAA,GAA4BL,EAAAC,IAAA,CAAA,4BAAA,CAAAP,gBAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAN,WAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAL,KAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,QAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAH,eAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wCAAA,CAAAF,QAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAQ5D,IAAMG,EAAMV,EAAK,IAAMI,EAAAO,aAAA,CAAO,uCAEjBF,EAAmBA,KAC/B,IAAMG,EAAUb,EAAW,aAAc,CAAA,GACnCc,EAAOV,IACPW,EAAYhB,EAAgBe,GAC5BE,EAAU,CAAC,CAACC,OAAOC,MAAM,CACzB,CAAEC,EAAAA,CAAAA,CAAG,CAAGhB,IAEd,OAAOD,EAAQ,KACd,GAAI,AAACW,GAAYG,EAIjB,OAAAlB,EAAA,CACCsB,GAAI,MACJC,OAAQ,CAAC,SAAS,CAClBC,MAAO,MACPC,KAAM,YACNC,aAAcb,EACdc,MAAO,GACPC,KAAM,CAAA,EACNC,KAAM,eAAe,EACjBZ,GAAa,CAChBa,QAAST,EAAE,uCACXU,SAAU,CAAA,GAGb,EAAG,CAAChB,EAASG,EAASD,EAAWI,EAAE,CACpC\"}"}