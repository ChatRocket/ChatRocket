{"code":"function module(e,n,o){o.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){t=e}},0),o.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){i=e}},1),o.export({useUserInfoActions:function(){return M}}),o.link(\"@rocket.chat/ui-contexts\",{useLayoutHiddenActions:function(e){s=e}},0),o.link(\"react\",{useMemo:function(e){c=e}},1),o.link(\"../../../../hooks/useEmbeddedLayout\",{useEmbeddedLayout:function(e){r=e}},2),o.link(\"./actions/useAddUserAction\",{useAddUserAction:function(e){u=e}},3),o.link(\"./actions/useBlockUserAction\",{useBlockUserAction:function(e){a=e}},4),o.link(\"./actions/useChangeLeaderAction\",{useChangeLeaderAction:function(e){l=e}},5),o.link(\"./actions/useChangeModeratorAction\",{useChangeModeratorAction:function(e){d=e}},6),o.link(\"./actions/useChangeOwnerAction\",{useChangeOwnerAction:function(e){f=e}},7),o.link(\"./actions/useDirectMessageAction\",{useDirectMessageAction:function(e){A=e}},8),o.link(\"./actions/useIgnoreUserAction\",{useIgnoreUserAction:function(e){k=e}},9),o.link(\"./actions/useMuteUserAction\",{useMuteUserAction:function(e){g=e}},10),o.link(\"./actions/useRedirectModerationConsole\",{useRedirectModerationConsole:function(e){U=e}},11),o.link(\"./actions/useRemoveUserAction\",{useRemoveUserAction:function(e){h=e}},12),o.link(\"./actions/useReportUser\",{useReportUser:function(e){p=e}},13),o.link(\"./actions/useVideoCallAction\",{useVideoCallAction:function(e){C=e}},14),o.link(\"./actions/useVoipCallAction\",{useVoipCallAction:function(e){m=e}},15);var t,i,s,c,r,u,a,l,d,f,A,k,g,U,h,p,C,m,M=function(e){var n=e.user,o=e.rid,M=e.reload,v=e.size,b=void 0===v?2:v,y=e.isMember,L=u(n,o,M),R=a(n,o),O=l(n,o),V=d(n,o),w=U(n._id),x=f(n,o),B=A(n,o),D=k(n,o),I=g(n,o),j=h(n,o,M),E=C(n),T=m(n),z=p(n),H=r(),S=s().userToolbox,_=c(function(){return i(i(i(i(i(i(i(i(i(i(i(i(i({},B&&!H&&{openDirectMessage:B}),E&&{videoCall:E}),T&&{voipCall:T}),!y&&L&&{addUser:L}),y&&x&&{changeOwner:x}),y&&O&&{changeLeader:O}),y&&V&&{changeModerator:V}),y&&w&&{openModerationConsole:w}),y&&D&&{ignoreUser:D}),y&&I&&{muteUser:I}),R&&{toggleBlock:R}),z&&{reportUser:z}),y&&j&&{removeUser:j})},[B,H,E,T,x,O,V,D,I,R,j,z,w,L,y]);return c(function(){var e=Object.entries(_).filter(function(e){var n=t(e,1)[0];return!S.includes(n)});return{actions:e.slice(0,b),menuActions:e.slice(b,e.length).reduce(function(e,n){var o=t(n,2),s=(o[0],o[1]),c=s.type?s.type:\"\",r=e.find(function(e){return e.id===c}),u=i(i({},s),{},{id:s.content||s.title||\"\",content:s.content||s.title});return r?r.items.push(u):e.push({id:c,title:\"\",items:[u]}),e},[])}},[b,_,S])}}","map":"{\"version\":3,\"sources\":[\"client/views/room/hooks/useUserInfoActions/useUserInfoActions.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom, IUser } from '@rocket.chat/core-typings';\\nimport type { Icon } from '@rocket.chat/fuselage';\\nimport type { GenericMenuItemProps } from '@rocket.chat/ui-client';\\nimport { useLayoutHiddenActions } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps } from 'react';\\nimport { useMemo } from 'react';\\n\\nimport { useEmbeddedLayout } from '../../../../hooks/useEmbeddedLayout';\\nimport { useAddUserAction } from './actions/useAddUserAction';\\nimport { useBlockUserAction } from './actions/useBlockUserAction';\\nimport { useChangeLeaderAction } from './actions/useChangeLeaderAction';\\nimport { useChangeModeratorAction } from './actions/useChangeModeratorAction';\\nimport { useChangeOwnerAction } from './actions/useChangeOwnerAction';\\nimport { useDirectMessageAction } from './actions/useDirectMessageAction';\\nimport { useIgnoreUserAction } from './actions/useIgnoreUserAction';\\nimport { useMuteUserAction } from './actions/useMuteUserAction';\\nimport { useRedirectModerationConsole } from './actions/useRedirectModerationConsole';\\nimport { useRemoveUserAction } from './actions/useRemoveUserAction';\\nimport { useReportUser } from './actions/useReportUser';\\nimport { useVideoCallAction } from './actions/useVideoCallAction';\\nimport { useVoipCallAction } from './actions/useVoipCallAction';\\n\\nexport type UserInfoActionType = 'communication' | 'privileges' | 'management' | 'moderation';\\n\\ntype UserInfoActionWithOnlyIcon = {\\n\\ttype?: UserInfoActionType;\\n\\tcontent?: string;\\n\\ticon: ComponentProps<typeof Icon>['name'];\\n\\ttitle: string;\\n\\tvariant?: 'danger';\\n\\tonClick: () => void;\\n};\\n\\ntype UserInfoActionWithContent = {\\n\\ttype?: UserInfoActionType;\\n\\tcontent: string;\\n\\ticon?: ComponentProps<typeof Icon>['name'];\\n\\ttitle?: string;\\n\\tvariant?: 'danger';\\n\\tonClick: () => void;\\n};\\n\\nexport type UserInfoAction = UserInfoActionWithContent | UserInfoActionWithOnlyIcon;\\n\\ntype UserMenuAction = {\\n\\tid: string;\\n\\ttitle: string;\\n\\titems: GenericMenuItemProps[];\\n}[];\\n\\ntype UserInfoActionsParams = {\\n\\tuser: Pick<IUser, '_id' | 'username' | 'name' | 'freeSwitchExtension'>;\\n\\trid: IRoom['_id'];\\n\\treload?: () => void;\\n\\tsize?: number;\\n\\tisMember?: boolean;\\n};\\n\\nexport const useUserInfoActions = ({\\n\\tuser,\\n\\trid,\\n\\treload,\\n\\tsize = 2,\\n\\tisMember,\\n}: UserInfoActionsParams): { actions: [string, UserInfoAction][]; menuActions: any | undefined } => {\\n\\tconst addUser = useAddUserAction(user, rid, reload);\\n\\tconst blockUser = useBlockUserAction(user, rid);\\n\\tconst changeLeader = useChangeLeaderAction(user, rid);\\n\\tconst changeModerator = useChangeModeratorAction(user, rid);\\n\\tconst openModerationConsole = useRedirectModerationConsole(user._id);\\n\\tconst changeOwner = useChangeOwnerAction(user, rid);\\n\\tconst openDirectMessage = useDirectMessageAction(user, rid);\\n\\tconst ignoreUser = useIgnoreUserAction(user, rid);\\n\\tconst muteUser = useMuteUserAction(user, rid);\\n\\tconst removeUser = useRemoveUserAction(user, rid, reload);\\n\\tconst videoCall = useVideoCallAction(user);\\n\\tconst voipCall = useVoipCallAction(user);\\n\\tconst reportUserOption = useReportUser(user);\\n\\tconst isLayoutEmbedded = useEmbeddedLayout();\\n\\tconst { userToolbox: hiddenActions } = useLayoutHiddenActions();\\n\\n\\tconst userinfoActions = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\t...(openDirectMessage && !isLayoutEmbedded && { openDirectMessage }),\\n\\t\\t\\t...(videoCall && { videoCall }),\\n\\t\\t\\t...(voipCall && { voipCall }),\\n\\t\\t\\t...(!isMember && addUser && { addUser }),\\n\\t\\t\\t...(isMember && changeOwner && { changeOwner }),\\n\\t\\t\\t...(isMember && changeLeader && { changeLeader }),\\n\\t\\t\\t...(isMember && changeModerator && { changeModerator }),\\n\\t\\t\\t...(isMember && openModerationConsole && { openModerationConsole }),\\n\\t\\t\\t...(isMember && ignoreUser && { ignoreUser }),\\n\\t\\t\\t...(isMember && muteUser && { muteUser }),\\n\\t\\t\\t...(blockUser && { toggleBlock: blockUser }),\\n\\t\\t\\t...(reportUserOption && { reportUser: reportUserOption }),\\n\\t\\t\\t...(isMember && removeUser && { removeUser }),\\n\\t\\t}),\\n\\t\\t[\\n\\t\\t\\topenDirectMessage,\\n\\t\\t\\tisLayoutEmbedded,\\n\\t\\t\\tvideoCall,\\n\\t\\t\\tvoipCall,\\n\\t\\t\\tchangeOwner,\\n\\t\\t\\tchangeLeader,\\n\\t\\t\\tchangeModerator,\\n\\t\\t\\tignoreUser,\\n\\t\\t\\tmuteUser,\\n\\t\\t\\tblockUser,\\n\\t\\t\\tremoveUser,\\n\\t\\t\\treportUserOption,\\n\\t\\t\\topenModerationConsole,\\n\\t\\t\\taddUser,\\n\\t\\t\\tisMember,\\n\\t\\t],\\n\\t);\\n\\n\\tconst actionSpread = useMemo(() => {\\n\\t\\tconst entries = Object.entries(userinfoActions).filter(([key]) => !hiddenActions.includes(key));\\n\\n\\t\\tconst options = entries.slice(0, size);\\n\\t\\tconst slicedOptions = entries.slice(size, entries.length);\\n\\n\\t\\tconst menuActions = slicedOptions.reduce((acc, [_key, item]) => {\\n\\t\\t\\tconst group = item.type ? item.type : '';\\n\\t\\t\\tconst section = acc.find((section: { id: string }) => section.id === group);\\n\\n\\t\\t\\tconst newItem = {\\n\\t\\t\\t\\t...item,\\n\\t\\t\\t\\tid: item.content || item.title || '',\\n\\t\\t\\t\\tcontent: item.content || item.title,\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (section) {\\n\\t\\t\\t\\tsection.items.push(newItem);\\n\\t\\t\\t\\treturn acc;\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst newSection = { id: group, title: '', items: [newItem] };\\n\\t\\t\\tacc.push(newSection);\\n\\n\\t\\t\\treturn acc;\\n\\t\\t}, [] as UserMenuAction);\\n\\n\\t\\treturn { actions: options, menuActions };\\n\\t}, [size, userinfoActions, hiddenActions]);\\n\\n\\treturn actionSpread;\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_slicedToArray\",\"_objectSpread\",\"export\",\"useUserInfoActions\",\"useLayoutHiddenActions\",\"useMemo\",\"useEmbeddedLayout\",\"useAddUserAction\",\"useBlockUserAction\",\"useChangeLeaderAction\",\"useChangeModeratorAction\",\"useChangeOwnerAction\",\"useDirectMessageAction\",\"useIgnoreUserAction\",\"useMuteUserAction\",\"useRedirectModerationConsole\",\"useRemoveUserAction\",\"useReportUser\",\"useVideoCallAction\",\"useVoipCallAction\",\"_ref\",\"user\",\"rid\",\"reload\",\"_ref$size\",\"size\",\"isMember\",\"addUser\",\"blockUser\",\"changeLeader\",\"changeModerator\",\"openModerationConsole\",\"_id\",\"changeOwner\",\"openDirectMessage\",\"ignoreUser\",\"muteUser\",\"removeUser\",\"videoCall\",\"voipCall\",\"reportUserOption\",\"isLayoutEmbedded\",\"hiddenActions\",\"_useLayoutHiddenActio\",\"userToolbox\",\"userinfoActions\",\"toggleBlock\",\"reportUser\",\"entries\",\"Object\",\"filter\",\"_ref2\",\"key\",\"_ref3\",\"includes\",\"actions\",\"slice\",\"menuActions\",\"slicedOptions\",\"length\",\"reduce\",\"acc\",\"_ref4\",\"_ref5\",\"item\",\"group\",\"type\",\"section\",\"find\",\"id\",\"newItem\",\"content\",\"title\",\"items\",\"push\"],\"mappings\":\"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\"}"}