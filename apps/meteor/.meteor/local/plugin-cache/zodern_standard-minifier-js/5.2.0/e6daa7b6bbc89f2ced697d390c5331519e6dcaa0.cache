{"code":"function module(e,t,a){let l,n,c,r,o,i,u,s,m,h,C,d,k,g,E,f,b,p;a.link(\"@rocket.chat/fuselage\",{Tabs(e){l=e}},0),a.link(\"@rocket.chat/ui-contexts\",{useRouteParameter(e){n=e},usePermission(e){c=e},useTranslation(e){r=e},useRouter(e){o=e}},1),a.link(\"react\",{default(e){i=e},useEffect(e){u=e},useCallback(e){s=e}},2),a.link(\"../../../components/Contextualbar\",{ContextualbarDialog(e){m=e}},3),a.link(\"../../../components/Page\",{Page(e){h=e},PageHeader(e){C=e},PageContent(e){d=e}},4),a.link(\"../../../lib/queryClient\",{queryClient(e){k=e}},5),a.link(\"../../notAuthorized/NotAuthorizedPage\",{default(e){g=e}},6),a.link(\"./ContextualBar\",{default(e){E=e}},7),a.link(\"./calls/CallTab\",{default(e){f=e}},8),a.link(\"./chats/ChatTab\",{default(e){b=e}},9),a.link(\"./contacts/ContactTab\",{default(e){p=e}},10),a.exportDefault(()=>{let e=r(),t=o(),a=n(\"page\"),P=n(\"bar\"),x=c(\"view-omnichannel-contact-center\");u(()=>t.subscribeToRouteChange(()=>{\"omnichannel-directory\"!==t.getRouteName()||t.getRouteParameters().page||t.navigate({name:\"omnichannel-directory\",params:{page:\"contacts\"}})}),[t]);let y=s(e=>()=>t.navigate({name:\"omnichannel-directory\",params:{tab:e}}),[t]);return x?i.createElement(h,{flexDirection:\"row\"},i.createElement(h,null,i.createElement(C,{title:e(\"Omnichannel_Contact_Center\")}),i.createElement(l,{flexShrink:0},i.createElement(l.Item,{selected:\"contacts\"===a,onClick:y(\"contacts\")},e(\"Contacts\")),i.createElement(l.Item,{selected:\"chats\"===a,onClick:y(\"chats\")},e(\"Chats\")),i.createElement(l.Item,{selected:\"calls\"===a,onClick:y(\"calls\")},e(\"Calls\"))),i.createElement(d,null,\"contacts\"===a&&i.createElement(p,null)||\"chats\"===a&&i.createElement(b,null)||\"calls\"===a&&i.createElement(f,null))),P&&i.createElement(m,null,i.createElement(E,{chatReload:()=>k.invalidateQueries({queryKey:[\"current-chats\"]})}))):i.createElement(g,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/OmnichannelDirectoryPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Tabs } from '@rocket.chat/fuselage';\\nimport { useRouteParameter, usePermission, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useEffect, useCallback } from 'react';\\n\\nimport { ContextualbarDialog } from '../../../components/Contextualbar';\\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\\nimport { queryClient } from '../../../lib/queryClient';\\nimport NotAuthorizedPage from '../../notAuthorized/NotAuthorizedPage';\\nimport ContextualBar from './ContextualBar';\\nimport CallTab from './calls/CallTab';\\nimport ChatTab from './chats/ChatTab';\\nimport ContactTab from './contacts/ContactTab';\\n\\nconst DEFAULT_TAB = 'contacts';\\n\\nconst OmnichannelDirectoryPage = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst page = useRouteParameter('page');\\n\\tconst bar = useRouteParameter('bar');\\n\\tconst canViewDirectory = usePermission('view-omnichannel-contact-center');\\n\\n\\tuseEffect(\\n\\t\\t() =>\\n\\t\\t\\trouter.subscribeToRouteChange(() => {\\n\\t\\t\\t\\tif (router.getRouteName() !== 'omnichannel-directory' || !!router.getRouteParameters().page) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\trouter.navigate({\\n\\t\\t\\t\\t\\tname: 'omnichannel-directory',\\n\\t\\t\\t\\t\\tparams: { page: DEFAULT_TAB },\\n\\t\\t\\t\\t});\\n\\t\\t\\t}),\\n\\t\\t[router],\\n\\t);\\n\\n\\tconst handleTabClick = useCallback((tab) => () => router.navigate({ name: 'omnichannel-directory', params: { tab } }), [router]);\\n\\n\\tconst chatReload = () => queryClient.invalidateQueries({ queryKey: ['current-chats'] });\\n\\n\\tif (!canViewDirectory) {\\n\\t\\treturn <NotAuthorizedPage />;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<Page flexDirection='row'>\\n\\t\\t\\t<Page>\\n\\t\\t\\t\\t<PageHeader title={t('Omnichannel_Contact_Center')} />\\n\\t\\t\\t\\t<Tabs flexShrink={0}>\\n\\t\\t\\t\\t\\t<Tabs.Item selected={page === 'contacts'} onClick={handleTabClick('contacts')}>\\n\\t\\t\\t\\t\\t\\t{t('Contacts')}\\n\\t\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t\\t\\t<Tabs.Item selected={page === 'chats'} onClick={handleTabClick('chats')}>\\n\\t\\t\\t\\t\\t\\t{t('Chats' as 'color')}\\n\\t\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t\\t\\t<Tabs.Item selected={page === 'calls'} onClick={handleTabClick('calls')}>\\n\\t\\t\\t\\t\\t\\t{t('Calls' as 'color')}\\n\\t\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t\\t</Tabs>\\n\\t\\t\\t\\t<PageContent>\\n\\t\\t\\t\\t\\t{(page === 'contacts' && <ContactTab />) || (page === 'chats' && <ChatTab />) || (page === 'calls' && <CallTab />)}\\n\\t\\t\\t\\t</PageContent>\\n\\t\\t\\t</Page>\\n\\t\\t\\t{bar && (\\n\\t\\t\\t\\t<ContextualbarDialog>\\n\\t\\t\\t\\t\\t<ContextualBar chatReload={chatReload} />\\n\\t\\t\\t\\t</ContextualbarDialog>\\n\\t\\t\\t)}\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default OmnichannelDirectoryPage;\\n\",null],\"names\":[\"Tabs\",\"useRouteParameter\",\"usePermission\",\"useTranslation\",\"useRouter\",\"React\",\"useEffect\",\"useCallback\",\"ContextualbarDialog\",\"Page\",\"PageHeader\",\"PageContent\",\"queryClient\",\"NotAuthorizedPage\",\"ContextualBar\",\"CallTab\",\"ChatTab\",\"ContactTab\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"OmnichannelDirectoryPage\",\"t\",\"router\",\"page\",\"bar\",\"canViewDirectory\",\"subscribeToRouteChange\",\"getRouteName\",\"getRouteParameters\",\"navigate\",\"name\",\"params\",\"handleTabClick\",\"tab\",\"createElement\",\"flexDirection\",\"title\",\"flexShrink\",\"Item\",\"selected\",\"onClick\",\"chatReload\",\"invalidateQueries\",\"queryKey\"],\"mappings\":\"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\"}"}