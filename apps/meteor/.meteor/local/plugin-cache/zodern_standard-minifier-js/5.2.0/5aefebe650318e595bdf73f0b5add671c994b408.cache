{"code":"function module(e,o,i){i.link(\"@babel/runtime/regenerator\",{default:function(e){t=e}},0),i.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},1),i.link(\"@babel/runtime/helpers/createForOfIteratorHelperLoose\",{default:function(e){s=e}},2),i.export({deleteEmojiCustom:function(){return j},updateEmojiCustom:function(){return k}}),i.link(\"@rocket.chat/string-helpers\",{escapeRegExp:function(e){n=e}},0),i.link(\"meteor/meteor\",{Meteor:function(e){l=e}},1),i.link(\"meteor/session\",{Session:function(e){u=e}},2),i.link(\"../../../emoji/client\",{emoji:function(e){r=e},updateRecent:function(e){m=e}},3),i.link(\"../../../ui-cached-collection/client\",{CachedCollectionManager:function(e){c=e}},4),i.link(\"../../../utils/client\",{getURL:function(e){p=e}},5),i.link(\"../../../utils/client/lib/SDKClient\",{sdk:function(e){d=e}},6);var t,a,s,n,l,u,r,m,c,p,d,g=function(e){var o;try{o=e()}catch(e){o=null}return null!=o},v=function(e,o){if(null!=e){var i,t=null!==(i=u.keys[\"emoji_random_\"+e])&&void 0!==i?i:0;return p(\"/emoji-custom/\"+encodeURIComponent(e)+\".\"+o+\"?_dc=\"+t)}},j=function(e){delete r.list[\":\"+e.name+\":\"];var o=r.packages.emojiCustom.emojisByCategory.rocket.indexOf(e.name);-1!==o&&r.packages.emojiCustom.emojisByCategory.rocket.splice(o,1);var i=null!==(t=null===(a=r.packages.emojiCustom.list)||void 0===a?void 0:a.indexOf(\":\"+e.name+\":\"))&&void 0!==t?t:-1;if(-1!==i&&(null===(n=r.packages.emojiCustom.list)||void 0===n||n.splice(i,1)),e.aliases)for(var t,a,n,l,u=s(e.aliases);!(l=u()).done;){var c,p,d,g=l.value;delete r.list[\":\"+g+\":\"];var v=null!==(c=null===(p=r.packages.emojiCustom.list)||void 0===p?void 0:p.indexOf(\":\"+g+\":\"))&&void 0!==c?c:-1;-1!==v&&(null===(d=r.packages.emojiCustom.list)||void 0===d||d.splice(v,1))}m([\"rocket\"])},k=function(e){var o=g(function(){return e.previousName}),i=g(function(){return e.aliases});if(o&&g(function(){return r.list[\":\"+e.previousName+\":\"].aliases}))for(var t,a=s(null!==(n=r.list[\":\"+e.previousName+\":\"].aliases)&&void 0!==n?n:[]);!(t=a()).done;){var n,l,u,c,p=t.value;delete r.list[\":\"+p+\":\"];var d=null!==(l=null===(u=r.packages.emojiCustom.list)||void 0===u?void 0:u.indexOf(\":\"+p+\":\"))&&void 0!==l?l:-1;-1!==d&&(null===(c=r.packages.emojiCustom.list)||void 0===c||c.splice(d,1))}if(o&&e.name!==e.previousName){var v,j,k,f=r.packages.emojiCustom.emojisByCategory.rocket.indexOf(e.previousName);-1!==f&&r.packages.emojiCustom.emojisByCategory.rocket.splice(f,1);var C=null!==(v=null===(j=r.packages.emojiCustom.list)||void 0===j?void 0:j.indexOf(\":\"+e.previousName+\":\"))&&void 0!==v?v:-1;-1!==C&&(null===(k=r.packages.emojiCustom.list)||void 0===k||k.splice(C,1)),delete r.list[\":\"+e.previousName+\":\"]}if(-1===r.packages.emojiCustom.emojisByCategory.rocket.indexOf(\"\"+e.name)&&(r.packages.emojiCustom.emojisByCategory.rocket.push(\"\"+e.name),null===(y=r.packages.emojiCustom.list)||void 0===y||y.push(\":\"+e.name+\":\")),r.list[\":\"+e.name+\":\"]=Object.assign({emojiPackage:\"emojiCustom\"},r.list[\":\"+e.name+\":\"],e),i)for(var y,x,b=s(e.aliases);!(x=b()).done;){var h,O=x.value;null===(h=r.packages.emojiCustom.list)||void 0===h||h.push(\":\"+O+\":\"),r.list[\":\"+O+\":\"]={emojiPackage:\"emojiCustom\",aliasOf:e.name}}m([\"rocket\"])},f=function(e){var o,i=null===(o=r.packages.emojiCustom.list)||void 0===o?void 0:o.map(n).join(\"|\");return i!==r.packages.emojiCustom._regexpSignature&&(r.packages.emojiCustom._regexpSignature=i,r.packages.emojiCustom._regexp=RegExp(\"<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(\"+i+\")\",\"gi\")),e=e.replace(r.packages.emojiCustom._regexp,function(e){if(void 0===e||\"\"===e||(null!==(o=null===(i=r.packages.emojiCustom.list)||void 0===i?void 0:i.indexOf(e))&&void 0!==o?o:-1)===-1)return e;var o,i,t=e.replace(/:/g,\"\"),a=r.list[e];return a.aliasOf&&(t=a.aliasOf,a=r.list[\":\"+t+\":\"]),'<span class=\"emoji\" style=\"background-image:url('+v(t,a.extension)+');\" data-emoji=\"'+t+'\" title=\"'+e+'\">'+e+\"</span>\"})};r.packages.emojiCustom={emojiCategories:[{key:\"rocket\",i18n:\"Custom\"}],categoryIndex:1,toneList:{},list:[],_regexpSignature:null,_regexp:null,emojisByCategory:{},render:f,renderPicker:f},l.startup(function(){return c.onLogin(function(){var e,o,i,n,l,u,m,c,p;return t.async(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,g.next=3,t.awrap(d.rest.get(\"/v1/emoji-custom.list\",{query:\"\"}));case 3:for(e=g.sent.emojis.update,r.packages.emojiCustom.emojisByCategory={rocket:[]},o=s(e);!(i=o()).done;)for(l=i.value,r.packages.emojiCustom.emojisByCategory.rocket.push(l.name),null===(n=r.packages.emojiCustom.list)||void 0===n||n.push(\":\"+l.name+\":\"),r.list[\":\"+l.name+\":\"]=a(a({},l),{},{emojiPackage:\"emojiCustom\"}),u=s(l.aliases);!(m=u()).done;)p=m.value,null===(c=r.packages.emojiCustom.list)||void 0===c||c.push(\":\"+p+\":\"),r.list[\":\"+p+\":\"]={emojiPackage:\"emojiCustom\",aliasOf:l.name};g.next=12;break;case 9:g.prev=9,g.t0=g.catch(0),console.error(\"Error getting custom emoji\",g.t0);case 12:case\"end\":return g.stop()}},null,null,[[0,9]],Promise)})})}","map":"{\"version\":3,\"sources\":[\"app/emoji-custom/client/lib/emojiCustom.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IEmoji } from '@rocket.chat/core-typings';\\nimport { escapeRegExp } from '@rocket.chat/string-helpers';\\nimport { Meteor } from 'meteor/meteor';\\nimport { Session } from 'meteor/session';\\n\\nimport { emoji, updateRecent } from '../../../emoji/client';\\nimport { CachedCollectionManager } from '../../../ui-cached-collection/client';\\nimport { getURL } from '../../../utils/client';\\nimport { sdk } from '../../../utils/client/lib/SDKClient';\\n\\nconst isSetNotNull = (fn: () => unknown) => {\\n\\tlet value;\\n\\ttry {\\n\\t\\tvalue = fn();\\n\\t} catch (e) {\\n\\t\\tvalue = null;\\n\\t}\\n\\treturn value !== null && value !== undefined;\\n};\\n\\nconst getEmojiUrlFromName = (name: string, extension: string) => {\\n\\tif (name == null) {\\n\\t\\treturn;\\n\\t}\\n\\n\\tconst key = `emoji_random_${name}` as const;\\n\\n\\tconst random = (Session as unknown as { keys: Record<string, any> }).keys[key] ?? 0;\\n\\n\\treturn getURL(`/emoji-custom/${encodeURIComponent(name)}.${extension}?_dc=${random}`);\\n};\\n\\nexport const deleteEmojiCustom = (emojiData: IEmoji) => {\\n\\tdelete emoji.list[`:${emojiData.name}:`];\\n\\tconst arrayIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(emojiData.name);\\n\\tif (arrayIndex !== -1) {\\n\\t\\temoji.packages.emojiCustom.emojisByCategory.rocket.splice(arrayIndex, 1);\\n\\t}\\n\\tconst arrayIndexList = emoji.packages.emojiCustom.list?.indexOf(`:${emojiData.name}:`) ?? -1;\\n\\tif (arrayIndexList !== -1) {\\n\\t\\temoji.packages.emojiCustom.list?.splice(arrayIndexList, 1);\\n\\t}\\n\\tif (emojiData.aliases) {\\n\\t\\tfor (const alias of emojiData.aliases) {\\n\\t\\t\\tdelete emoji.list[`:${alias}:`];\\n\\t\\t\\tconst aliasIndex = emoji.packages.emojiCustom.list?.indexOf(`:${alias}:`) ?? -1;\\n\\t\\t\\tif (aliasIndex !== -1) {\\n\\t\\t\\t\\temoji.packages.emojiCustom.list?.splice(aliasIndex, 1);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\tupdateRecent(['rocket']);\\n};\\n\\nexport const updateEmojiCustom = (emojiData: IEmoji) => {\\n\\tconst previousExists = isSetNotNull(() => emojiData.previousName);\\n\\tconst currentAliases = isSetNotNull(() => emojiData.aliases);\\n\\n\\tif (previousExists && isSetNotNull(() => emoji.list[`:${emojiData.previousName}:`].aliases)) {\\n\\t\\tfor (const alias of emoji.list[`:${emojiData.previousName}:`].aliases ?? []) {\\n\\t\\t\\tdelete emoji.list[`:${alias}:`];\\n\\t\\t\\tconst aliasIndex = emoji.packages.emojiCustom.list?.indexOf(`:${alias}:`) ?? -1;\\n\\t\\t\\tif (aliasIndex !== -1) {\\n\\t\\t\\t\\temoji.packages.emojiCustom.list?.splice(aliasIndex, 1);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\tif (previousExists && emojiData.name !== emojiData.previousName) {\\n\\t\\tconst arrayIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(emojiData.previousName);\\n\\t\\tif (arrayIndex !== -1) {\\n\\t\\t\\temoji.packages.emojiCustom.emojisByCategory.rocket.splice(arrayIndex, 1);\\n\\t\\t}\\n\\t\\tconst arrayIndexList = emoji.packages.emojiCustom.list?.indexOf(`:${emojiData.previousName}:`) ?? -1;\\n\\t\\tif (arrayIndexList !== -1) {\\n\\t\\t\\temoji.packages.emojiCustom.list?.splice(arrayIndexList, 1);\\n\\t\\t}\\n\\t\\tdelete emoji.list[`:${emojiData.previousName}:`];\\n\\t}\\n\\n\\tconst categoryIndex = emoji.packages.emojiCustom.emojisByCategory.rocket.indexOf(`${emojiData.name}`);\\n\\tif (categoryIndex === -1) {\\n\\t\\temoji.packages.emojiCustom.emojisByCategory.rocket.push(`${emojiData.name}`);\\n\\t\\temoji.packages.emojiCustom.list?.push(`:${emojiData.name}:`);\\n\\t}\\n\\temoji.list[`:${emojiData.name}:`] = Object.assign({ emojiPackage: 'emojiCustom' }, emoji.list[`:${emojiData.name}:`], emojiData);\\n\\tif (currentAliases) {\\n\\t\\tfor (const alias of emojiData.aliases) {\\n\\t\\t\\temoji.packages.emojiCustom.list?.push(`:${alias}:`);\\n\\t\\t\\temoji.list[`:${alias}:`] = {\\n\\t\\t\\t\\temojiPackage: 'emojiCustom',\\n\\t\\t\\t\\taliasOf: emojiData.name,\\n\\t\\t\\t};\\n\\t\\t}\\n\\t}\\n\\n\\tupdateRecent(['rocket']);\\n};\\n\\nconst customRender = (html: string) => {\\n\\tconst emojisMatchGroup = emoji.packages.emojiCustom.list?.map(escapeRegExp).join('|');\\n\\tif (emojisMatchGroup !== emoji.packages.emojiCustom._regexpSignature) {\\n\\t\\temoji.packages.emojiCustom._regexpSignature = emojisMatchGroup;\\n\\t\\temoji.packages.emojiCustom._regexp = new RegExp(\\n\\t\\t\\t`<object[^>]*>.*?<\\\\/object>|<span[^>]*>.*?<\\\\/span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(${emojisMatchGroup})`,\\n\\t\\t\\t'gi',\\n\\t\\t);\\n\\t}\\n\\n\\thtml = html.replace(emoji.packages.emojiCustom._regexp!, (shortname) => {\\n\\t\\tif (typeof shortname === 'undefined' || shortname === '' || (emoji.packages.emojiCustom.list?.indexOf(shortname) ?? -1) === -1) {\\n\\t\\t\\treturn shortname;\\n\\t\\t}\\n\\n\\t\\tlet emojiAlias = shortname.replace(/:/g, '');\\n\\n\\t\\tlet dataCheck = emoji.list[shortname];\\n\\t\\tif (dataCheck.aliasOf) {\\n\\t\\t\\temojiAlias = dataCheck.aliasOf;\\n\\t\\t\\tdataCheck = emoji.list[`:${emojiAlias}:`];\\n\\t\\t}\\n\\n\\t\\treturn `<span class=\\\"emoji\\\" style=\\\"background-image:url(${getEmojiUrlFromName(\\n\\t\\t\\temojiAlias,\\n\\t\\t\\tdataCheck.extension!,\\n\\t\\t)});\\\" data-emoji=\\\"${emojiAlias}\\\" title=\\\"${shortname}\\\">${shortname}</span>`;\\n\\t});\\n\\n\\treturn html;\\n};\\n\\nemoji.packages.emojiCustom = {\\n\\temojiCategories: [{ key: 'rocket', i18n: 'Custom' }],\\n\\tcategoryIndex: 1,\\n\\ttoneList: {},\\n\\tlist: [],\\n\\t_regexpSignature: null,\\n\\t_regexp: null,\\n\\temojisByCategory: {},\\n\\trender: customRender,\\n\\trenderPicker: customRender,\\n};\\n\\nMeteor.startup(() =>\\n\\tCachedCollectionManager.onLogin(async () => {\\n\\t\\ttry {\\n\\t\\t\\tconst {\\n\\t\\t\\t\\temojis: { update: emojis },\\n\\t\\t\\t} = await sdk.rest.get('/v1/emoji-custom.list', { query: '' });\\n\\n\\t\\t\\temoji.packages.emojiCustom.emojisByCategory = { rocket: [] };\\n\\t\\t\\tfor (const currentEmoji of emojis) {\\n\\t\\t\\t\\temoji.packages.emojiCustom.emojisByCategory.rocket.push(currentEmoji.name);\\n\\t\\t\\t\\temoji.packages.emojiCustom.list?.push(`:${currentEmoji.name}:`);\\n\\t\\t\\t\\temoji.list[`:${currentEmoji.name}:`] = { ...currentEmoji, emojiPackage: 'emojiCustom' } as any;\\n\\t\\t\\t\\tfor (const alias of currentEmoji.aliases) {\\n\\t\\t\\t\\t\\temoji.packages.emojiCustom.list?.push(`:${alias}:`);\\n\\t\\t\\t\\t\\temoji.list[`:${alias}:`] = {\\n\\t\\t\\t\\t\\t\\temojiPackage: 'emojiCustom',\\n\\t\\t\\t\\t\\t\\taliasOf: currentEmoji.name,\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t} catch (e) {\\n\\t\\t\\tconsole.error('Error getting custom emoji', e);\\n\\t\\t}\\n\\t}),\\n);\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_objectSpread\",\"_createForOfIteratorHelperLoose\",\"export\",\"deleteEmojiCustom\",\"updateEmojiCustom\",\"escapeRegExp\",\"Meteor\",\"Session\",\"emoji\",\"updateRecent\",\"CachedCollectionManager\",\"getURL\",\"sdk\",\"isSetNotNull\",\"fn\",\"value\",\"e\",\"getEmojiUrlFromName\",\"name\",\"extension\",\"_Session$keys$key\",\"random\",\"keys\",\"encodeURIComponent\",\"emojiData\",\"list\",\"arrayIndex\",\"packages\",\"emojiCustom\",\"emojisByCategory\",\"rocket\",\"indexOf\",\"splice\",\"arrayIndexList\",\"_emoji$packages$emoji\",\"_emoji$packages$emoji2\",\"_emoji$packages$emoji3\",\"aliases\",\"_step\",\"_iterator\",\"done\",\"_emoji$packages$emoji4\",\"_emoji$packages$emoji5\",\"_emoji$packages$emoji6\",\"alias\",\"aliasIndex\",\"previousExists\",\"previousName\",\"currentAliases\",\"_step2\",\"_iterator2\",\"_emoji$list$aliases\",\"_emoji$packages$emoji7\",\"_emoji$packages$emoji8\",\"_emoji$packages$emoji9\",\"_emoji$packages$emoji10\",\"_emoji$packages$emoji11\",\"_emoji$packages$emoji12\",\"push\",\"_emoji$packages$emoji13\",\"Object\",\"assign\",\"emojiPackage\",\"_step3\",\"_iterator3\",\"_emoji$packages$emoji14\",\"aliasOf\",\"customRender\",\"html\",\"_emoji$packages$emoji15\",\"emojisMatchGroup\",\"map\",\"join\",\"_regexpSignature\",\"_regexp\",\"RegExp\",\"replace\",\"shortname\",\"_emoji$packages$emoji16\",\"_emoji$packages$emoji17\",\"emojiAlias\",\"dataCheck\",\"emojiCategories\",\"key\",\"i18n\",\"categoryIndex\",\"toneList\",\"render\",\"renderPicker\",\"startup\",\"onLogin\",\"emojis\",\"_iterator4\",\"_step4\",\"_emoji$packages$emoji18\",\"currentEmoji\",\"_iterator5\",\"_step5\",\"_emoji$packages$emoji19\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"rest\",\"get\",\"query\",\"_await$sdk$rest$get\",\"sent\",\"update\",\"t0\",\"console\",\"error\",\"stop\",\"Promise\"],\"mappings\":\"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\"}"}