{"code":"function module(e,t,a){let l,o,r,n,i,m,u,s,c,p,d,k,v,b,h,E;let f=[\"value\",\"onChange\"],g=[\"value\",\"label\"];a.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),a.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){o=e}},1),a.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){r=e}},2),a.link(\"@rocket.chat/fuselage\",{AutoComplete(e){n=e},Box(e){i=e},Option(e){m=e},Chip(e){u=e}},0),a.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue(e){s=e}},1),a.link(\"@rocket.chat/ui-avatar\",{RoomAvatar(e){c=e}},2),a.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){p=e}},3),a.link(\"@tanstack/react-query\",{useQuery(e){d=e}},4),a.link(\"react\",{default(e){k=e},memo(e){v=e},useMemo(e){b=e},useState(e){h=e}},5),a.link(\"../../../../../lib/rooms/roomCoordinator\",{roomCoordinator(e){E=e}},6),a.exportDefault(v(e=>{let{value:t,onChange:a}=e,v=r(e,f),[y,C]=h(\"\"),x=s(y,1e3),T=p(\"GET\",\"/v1/rooms.autocomplete.availableForTeams\"),{data:_}=d([\"roomsAvailableForTeamsAutoComplete\",x],async()=>T({name:x}),{keepPreviousData:!0}),A=b(()=>_?_.items.map(e=>({value:e._id,label:{name:E.getRoomName(e.t,{_id:e._id,name:e.name,fname:e.fname,prid:e.prid}),type:e.t,avatarETag:e.avatarETag}})):[],[_]);return k.createElement(n,l({},v,{multiple:!0,value:t,onChange:a,filter:y,setFilter:C,renderSelected:e=>{let{selected:{value:t,label:a},onRemove:l}=e;return k.createElement(u,{key:t,height:\"x20\",value:t,onClick:l,mb:2,mie:4},k.createElement(c,{size:\"x20\",room:o({type:(null==a?void 0:a.type)||\"c\",_id:t},a)}),k.createElement(i,{is:\"span\",margin:\"none\",mis:4},a.name))},renderItem:e=>{let{value:t,label:a}=e,o=r(e,g);return k.createElement(m,l({key:t},o,{label:a.name,avatar:k.createElement(c,{room:{_id:t,type:a.type,avatarETag:a.avatarETag},size:\"x20\"})}))},options:A}))}))}","map":"{\"version\":3,\"sources\":[\"client/views/teams/contextualBar/channels/AddExistingModal/RoomsAvailableForTeamsAutoComplete.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { AutoComplete, Box, Option, Chip } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { RoomAvatar } from '@rocket.chat/ui-avatar';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ComponentProps } from 'react';\\nimport React, { memo, useMemo, useState } from 'react';\\n\\nimport { roomCoordinator } from '../../../../../lib/rooms/roomCoordinator';\\n\\ntype RoomsAvailableForTeamsAutoCompleteProps = Omit<ComponentProps<typeof AutoComplete>, 'filter'>;\\n\\nconst RoomsAvailableForTeamsAutoComplete = ({ value, onChange, ...props }: RoomsAvailableForTeamsAutoCompleteProps) => {\\n\\tconst [filter, setFilter] = useState('');\\n\\tconst debouncedFilter = useDebouncedValue(filter, 1000);\\n\\n\\tconst roomsAvailableForTeamsAutoCompleteEndpoint = useEndpoint('GET', '/v1/rooms.autocomplete.availableForTeams');\\n\\n\\tconst { data } = useQuery(\\n\\t\\t['roomsAvailableForTeamsAutoComplete', debouncedFilter],\\n\\t\\tasync () => roomsAvailableForTeamsAutoCompleteEndpoint({ name: debouncedFilter }),\\n\\t\\t{ keepPreviousData: true },\\n\\t);\\n\\n\\tconst options = useMemo(() => {\\n\\t\\tif (!data) {\\n\\t\\t\\treturn [];\\n\\t\\t}\\n\\n\\t\\treturn data.items.map((room) => ({\\n\\t\\t\\tvalue: room._id,\\n\\t\\t\\tlabel: {\\n\\t\\t\\t\\tname: roomCoordinator.getRoomName(room.t, { _id: room._id, name: room.name, fname: room.fname, prid: room.prid }),\\n\\t\\t\\t\\ttype: room.t,\\n\\t\\t\\t\\tavatarETag: room.avatarETag,\\n\\t\\t\\t},\\n\\t\\t}));\\n\\t}, [data]);\\n\\n\\treturn (\\n\\t\\t<AutoComplete\\n\\t\\t\\t{...props}\\n\\t\\t\\tmultiple\\n\\t\\t\\tvalue={value}\\n\\t\\t\\tonChange={onChange}\\n\\t\\t\\tfilter={filter}\\n\\t\\t\\tsetFilter={setFilter}\\n\\t\\t\\trenderSelected={({ selected: { value, label }, onRemove }) => (\\n\\t\\t\\t\\t<Chip key={value} height='x20' value={value} onClick={onRemove} mb={2} mie={4}>\\n\\t\\t\\t\\t\\t<RoomAvatar size='x20' room={{ type: label?.type || 'c', _id: value, ...label }} />\\n\\t\\t\\t\\t\\t<Box is='span' margin='none' mis={4}>\\n\\t\\t\\t\\t\\t\\t{label.name}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Chip>\\n\\t\\t\\t)}\\n\\t\\t\\trenderItem={({ value, label, ...props }) => (\\n\\t\\t\\t\\t<Option\\n\\t\\t\\t\\t\\tkey={value}\\n\\t\\t\\t\\t\\t{...props}\\n\\t\\t\\t\\t\\tlabel={label.name}\\n\\t\\t\\t\\t\\tavatar={<RoomAvatar room={{ _id: value, type: label.type, avatarETag: label.avatarETag }} size='x20' />}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\t\\t\\toptions={options}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default memo(RoomsAvailableForTeamsAutoComplete);\\n\",null],\"names\":[\"_extends\",\"_objectSpread\",\"_objectWithoutProperties\",\"AutoComplete\",\"Box\",\"Option\",\"Chip\",\"useDebouncedValue\",\"RoomAvatar\",\"useEndpoint\",\"useQuery\",\"React\",\"memo\",\"useMemo\",\"useState\",\"roomCoordinator\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"value\",\"onChange\",\"props\",\"_excluded\",\"filter\",\"setFilter\",\"debouncedFilter\",\"roomsAvailableForTeamsAutoCompleteEndpoint\",\"data\",\"name\",\"keepPreviousData\",\"options\",\"items\",\"map\",\"room\",\"_id\",\"label\",\"getRoomName\",\"t\",\"fname\",\"prid\",\"type\",\"avatarETag\",\"createElement\",\"multiple\",\"renderSelected\",\"_ref2\",\"selected\",\"onRemove\",\"key\",\"height\",\"onClick\",\"mb\",\"mie\",\"size\",\"is\",\"margin\",\"mis\",\"renderItem\",\"_ref3\",\"_excluded2\",\"avatar\"],\"mappings\":\"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\"}"}