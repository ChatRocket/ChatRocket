{"code":"function module(e,t,n){var a,r,l,i,o,u,c,m,s,d,f,E,p,v,b,h,g,x,k,C,S,y,F,I,_,q,A,D,P,U,M,w,N,O,T,B,R,z,G,L=[\"status\",\"departments\"],Q=[\"label\"];n.link(\"@babel/runtime/regenerator\",{default:function(e){a=e}},0),n.link(\"@babel/runtime/helpers/extends\",{default:function(e){r=e}},1),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){l=e}},2),n.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){i=e}},3),n.link(\"@rocket.chat/fuselage\",{Field:function(e){o=e},FieldLabel:function(e){u=e},FieldGroup:function(e){c=e},FieldRow:function(e){m=e},TextInput:function(e){s=e},Button:function(e){d=e},Box:function(e){f=e},MultiSelect:function(e){E=e},Icon:function(e){p=e},Select:function(e){v=e},ContextualbarFooter:function(e){b=e},ButtonGroup:function(e){h=e},CheckOption:function(e){g=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){x=e},useUniqueId:function(e){k=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){C=e},useSetting:function(e){S=e},useMethod:function(e){y=e},useTranslation:function(e){F=e},useEndpoint:function(e){I=e},useRouter:function(e){_=e}},2),n.link(\"@tanstack/react-query\",{useQueryClient:function(e){q=e}},3),n.link(\"react\",{default:function(e){A=e},useMemo:function(e){D=e}},4),n.link(\"react-hook-form\",{useForm:function(e){P=e},Controller:function(e){U=e},FormProvider:function(e){M=e}},5),n.link(\"../../../../lib/getUserEmailAddress\",{getUserEmailAddress:function(e){w=e}},6),n.link(\"../../../components/Contextualbar\",{Contextualbar:function(e){N=e},ContextualbarTitle:function(e){O=e},ContextualbarClose:function(e){T=e},ContextualbarHeader:function(e){B=e},ContextualbarScrollableContent:function(e){R=e}},7),n.link(\"../../../components/UserInfo\",{UserInfoAvatar:function(e){z=e}},8),n.link(\"../additionalForms\",{MaxChatsPerAgent:function(e){G=e}},9),n.exportDefault(function(e){var t=e.agentData,n=e.userDepartments,V=e.availableDepartments,j=F(),H=_(),W=q(),J=S(\"VoIP_Enabled\"),K=C(),X=t.name,Y=t.username,Z=t.livechat,$=t.statusLivechat,ee=w(t),et=D(function(){var e=n.filter(function(e){var t=e.departmentId;return!V.find(function(e){return e._id===t})}).map(function(e){return{_id:e.departmentId,name:e.departmentName}});return[].concat(i(V),i(e))},[V,n]),en=D(function(){var e=function(e,t){return t?e+\" [\"+j(\"Archived\")+\"]\":e};return et.map(function(t){var n=t._id,a=t.name,r=t.archived;return a?[n,e(a,r)]:[n,e(n,r)]})||[]},[et,j]),ea=D(function(){return[[\"available\",j(\"Available\")],[\"not-available\",j(\"Not_Available\")]]},[j]),er=D(function(){return n.map(function(e){return e.departmentId})||[]},[n]),el=P({values:{name:X,username:Y,email:ee,departments:er,status:$,maxNumberSimultaneousChat:(null==Z?void 0:Z.maxNumberSimultaneousChat)||0,voipExtension:\"\"}}),ei=el.control,eo=el.handleSubmit,eu=el.reset,ec=el.formState.isDirty,em=y(\"livechat:saveAgentInfo\"),es=I(\"POST\",\"/v1/livechat/agent.status\"),ed=x(function(e){var n,r,i;return a.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.status,r=e.departments,i=l(e,L),o.prev=1,o.next=4,a.awrap(es({agentId:t._id,status:n}));case 4:return o.next=6,a.awrap(em(t._id,i,r));case 6:K({type:\"success\",message:j(\"Success\")}),H.navigate(\"/omnichannel/agents\"),W.invalidateQueries([\"livechat-agents\"]),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),K({type:\"error\",message:o.t0});case 14:case\"end\":return o.stop()}},null,null,[[1,11]],Promise)}),ef=k(),eE=k(),ep=k(),ev=k(),eb=k(),eh=k(),eg=k();return A.createElement(N,{\"data-qa-id\":\"agent-edit-contextual-bar\"},A.createElement(B,null,A.createElement(O,null,j(\"Edit_User\")),A.createElement(T,{onClick:function(){return H.navigate(\"/omnichannel/agents\")}})),A.createElement(R,null,A.createElement(M,el,A.createElement(\"form\",{id:ef,onSubmit:eo(ed)},Y&&A.createElement(f,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},A.createElement(z,{\"data-qa-id\":\"agent-edit-avatar\",username:Y})),A.createElement(c,null,A.createElement(o,null,A.createElement(u,{htmlFor:eE},j(\"Name\")),A.createElement(m,null,A.createElement(U,{name:\"name\",control:ei,render:function(e){var t=e.field;return A.createElement(s,r({id:eE,\"data-qa-id\":\"agent-edit-name\"},t,{readOnly:!0}))}}))),A.createElement(o,null,A.createElement(u,{htmlFor:ep},j(\"Username\")),A.createElement(m,null,A.createElement(U,{name:\"username\",control:ei,render:function(e){var t=e.field;return A.createElement(s,r({id:ep,\"data-qa-id\":\"agent-edit-username\"},t,{readOnly:!0,addon:A.createElement(p,{name:\"at\",size:\"x20\"})}))}}))),A.createElement(o,null,A.createElement(u,{htmlFor:ev},j(\"Email\")),A.createElement(m,null,A.createElement(U,{name:\"email\",control:ei,render:function(e){var t=e.field;return A.createElement(s,r({id:ev,\"data-qa-id\":\"agent-edit-email\"},t,{readOnly:!0,addon:A.createElement(p,{name:\"mail\",size:\"x20\"})}))}}))),A.createElement(o,null,A.createElement(u,{htmlFor:eb},j(\"Departments\")),A.createElement(m,null,A.createElement(U,{name:\"departments\",control:ei,render:function(e){var t=e.field;return A.createElement(E,r({id:eb,\"data-qa-id\":\"agent-edit-departments\",options:en},t,{placeholder:j(\"Select_an_option\"),renderItem:function(e){var t=e.label,n=l(e,Q);return A.createElement(g,r({},n,{label:A.createElement(\"span\",{style:{whiteSpace:\"normal\"}},t)}))}}))}}))),A.createElement(o,null,A.createElement(u,{htmlFor:eh},j(\"Status\")),A.createElement(m,null,A.createElement(U,{name:\"status\",control:ei,render:function(e){var t=e.field;return A.createElement(v,r({id:eh,\"data-qa-id\":\"agent-edit-status\"},t,{options:ea,placeholder:j(\"Select_an_option\")}))}}))),G&&A.createElement(G,null),J&&A.createElement(o,null,A.createElement(u,{htmlFor:eg},j(\"VoIP_Extension\")),A.createElement(m,null,A.createElement(U,{name:\"voipExtension\",control:ei,render:function(e){var t=e.field;return A.createElement(s,r({id:eg},t,{\"data-qa-id\":\"agent-edit-voip-extension\"}))}}))))))),A.createElement(b,null,A.createElement(h,{stretch:!0},A.createElement(d,{\"data-qa-id\":\"agent-edit-reset\",type:\"reset\",disabled:!ec,onClick:function(){return eu()}},j(\"Reset\")),A.createElement(d,{form:ef,primary:!0,type:\"submit\",\"data-qa-id\":\"agent-edit-save\",disabled:!ec},j(\"Save\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/agents/AgentEdit.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatAgent, ILivechatDepartment, ILivechatDepartmentAgents } from '@rocket.chat/core-typings';\\nimport {\\n\\tField,\\n\\tFieldLabel,\\n\\tFieldGroup,\\n\\tFieldRow,\\n\\tTextInput,\\n\\tButton,\\n\\tBox,\\n\\tMultiSelect,\\n\\tIcon,\\n\\tSelect,\\n\\tContextualbarFooter,\\n\\tButtonGroup,\\n\\tCheckOption,\\n} from '@rocket.chat/fuselage';\\nimport type { SelectOption } from '@rocket.chat/fuselage';\\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport { useToastMessageDispatch, useSetting, useMethod, useTranslation, useEndpoint, useRouter } from '@rocket.chat/ui-contexts';\\nimport { useQueryClient } from '@tanstack/react-query';\\nimport React, { useMemo } from 'react';\\nimport { useForm, Controller, FormProvider } from 'react-hook-form';\\n\\nimport { getUserEmailAddress } from '../../../../lib/getUserEmailAddress';\\nimport {\\n\\tContextualbar,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarHeader,\\n\\tContextualbarScrollableContent,\\n} from '../../../components/Contextualbar';\\nimport { UserInfoAvatar } from '../../../components/UserInfo';\\nimport { MaxChatsPerAgent } from '../additionalForms';\\n\\ntype AgentEditProps = {\\n\\tagentData: Pick<ILivechatAgent, '_id' | 'username' | 'name' | 'status' | 'statusLivechat' | 'emails' | 'livechat'>;\\n\\tuserDepartments: (Pick<ILivechatDepartmentAgents, 'departmentId'> & { departmentName: string })[];\\n\\tavailableDepartments: Pick<ILivechatDepartment, '_id' | 'name' | 'archived'>[];\\n};\\n\\nconst AgentEdit = ({ agentData, userDepartments, availableDepartments }: AgentEditProps) => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst queryClient = useQueryClient();\\n\\n\\tconst voipEnabled = useSetting('VoIP_Enabled');\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst { name, username, livechat, statusLivechat } = agentData;\\n\\n\\tconst email = getUserEmailAddress(agentData);\\n\\n\\tconst departments: Pick<ILivechatDepartment, '_id' | 'name' | 'archived'>[] = useMemo(() => {\\n\\t\\tconst pending = userDepartments\\n\\t\\t\\t.filter(({ departmentId }) => !availableDepartments.find((dep) => dep._id === departmentId))\\n\\t\\t\\t.map((dep) => ({\\n\\t\\t\\t\\t_id: dep.departmentId,\\n\\t\\t\\t\\tname: dep.departmentName,\\n\\t\\t\\t}));\\n\\n\\t\\treturn [...availableDepartments, ...pending];\\n\\t}, [availableDepartments, userDepartments]);\\n\\n\\tconst departmentsOptions: SelectOption[] = useMemo(() => {\\n\\t\\tconst archivedDepartment = (name: string, archived?: boolean) => (archived ? `${name} [${t('Archived')}]` : name);\\n\\n\\t\\treturn (\\n\\t\\t\\tdepartments.map(({ _id, name, archived }) =>\\n\\t\\t\\t\\tname ? [_id, archivedDepartment(name, archived)] : [_id, archivedDepartment(_id, archived)],\\n\\t\\t\\t) || []\\n\\t\\t);\\n\\t}, [departments, t]);\\n\\n\\tconst statusOptions: SelectOption[] = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['available', t('Available')],\\n\\t\\t\\t['not-available', t('Not_Available')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst initialDepartmentValue = useMemo(() => userDepartments.map(({ departmentId }) => departmentId) || [], [userDepartments]);\\n\\n\\tconst methods = useForm({\\n\\t\\tvalues: {\\n\\t\\t\\tname,\\n\\t\\t\\tusername,\\n\\t\\t\\temail,\\n\\t\\t\\tdepartments: initialDepartmentValue,\\n\\t\\t\\tstatus: statusLivechat,\\n\\t\\t\\tmaxNumberSimultaneousChat: livechat?.maxNumberSimultaneousChat || 0,\\n\\t\\t\\tvoipExtension: '',\\n\\t\\t},\\n\\t});\\n\\n\\tconst {\\n\\t\\tcontrol,\\n\\t\\thandleSubmit,\\n\\t\\treset,\\n\\t\\tformState: { isDirty },\\n\\t} = methods;\\n\\n\\tconst saveAgentInfo = useMethod('livechat:saveAgentInfo');\\n\\tconst saveAgentStatus = useEndpoint('POST', '/v1/livechat/agent.status');\\n\\n\\tconst handleSave = useMutableCallback(async ({ status, departments, ...data }) => {\\n\\t\\ttry {\\n\\t\\t\\tawait saveAgentStatus({ agentId: agentData._id, status });\\n\\t\\t\\tawait saveAgentInfo(agentData._id, data, departments);\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Success') });\\n\\t\\t\\trouter.navigate('/omnichannel/agents');\\n\\t\\t\\tqueryClient.invalidateQueries(['livechat-agents']);\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t});\\n\\n\\tconst formId = useUniqueId();\\n\\tconst nameField = useUniqueId();\\n\\tconst usernameField = useUniqueId();\\n\\tconst emailField = useUniqueId();\\n\\tconst departmentsField = useUniqueId();\\n\\tconst statusField = useUniqueId();\\n\\tconst voipExtensionField = useUniqueId();\\n\\n\\treturn (\\n\\t\\t<Contextualbar data-qa-id='agent-edit-contextual-bar'>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Edit_User')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/agents')} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t<FormProvider {...methods}>\\n\\t\\t\\t\\t\\t<form id={formId} onSubmit={handleSubmit(handleSave)}>\\n\\t\\t\\t\\t\\t\\t{username && (\\n\\t\\t\\t\\t\\t\\t\\t<Box display='flex' flexDirection='column' alignItems='center'>\\n\\t\\t\\t\\t\\t\\t\\t\\t<UserInfoAvatar data-qa-id='agent-edit-avatar' username={username} />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t<FieldGroup>\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={nameField}>{t('Name')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='name'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <TextInput id={nameField} data-qa-id='agent-edit-name' {...field} readOnly />}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={usernameField}>{t('Username')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='username'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={usernameField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa-id='agent-edit-username'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\treadOnly\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taddon={<Icon name='at' size='x20' />}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={emailField}>{t('Email')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='email'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={emailField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa-id='agent-edit-email'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\treadOnly\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taddon={<Icon name='mail' size='x20' />}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={departmentsField}>{t('Departments')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='departments'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<MultiSelect\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={departmentsField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa-id='agent-edit-departments'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\toptions={departmentsOptions}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Select_an_option')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trenderItem={({ label, ...props }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<CheckOption {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={statusField}>{t('Status')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='status'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Select\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={statusField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa-id='agent-edit-status'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\toptions={statusOptions}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Select_an_option')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t{MaxChatsPerAgent && <MaxChatsPerAgent />}\\n\\t\\t\\t\\t\\t\\t\\t{voipEnabled && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={voipExtensionField}>{t('VoIP_Extension')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='voipExtension'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <TextInput id={voipExtensionField} {...field} data-qa-id='agent-edit-voip-extension' />}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t\\t\\t</form>\\n\\t\\t\\t\\t</FormProvider>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t<Button data-qa-id='agent-edit-reset' type='reset' disabled={!isDirty} onClick={() => reset()}>\\n\\t\\t\\t\\t\\t\\t{t('Reset')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t<Button form={formId} primary type='submit' data-qa-id='agent-edit-save' disabled={!isDirty}>\\n\\t\\t\\t\\t\\t\\t{t('Save')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</Contextualbar>\\n\\t);\\n};\\n\\nexport default AgentEdit;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_extends\",\"_objectWithoutProperties\",\"_toConsumableArray\",\"Field\",\"FieldLabel\",\"FieldGroup\",\"FieldRow\",\"TextInput\",\"Button\",\"Box\",\"MultiSelect\",\"Icon\",\"Select\",\"ContextualbarFooter\",\"ButtonGroup\",\"CheckOption\",\"useMutableCallback\",\"useUniqueId\",\"useToastMessageDispatch\",\"useSetting\",\"useMethod\",\"useTranslation\",\"useEndpoint\",\"useRouter\",\"useQueryClient\",\"React\",\"useMemo\",\"useForm\",\"Controller\",\"FormProvider\",\"getUserEmailAddress\",\"Contextualbar\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarHeader\",\"ContextualbarScrollableContent\",\"UserInfoAvatar\",\"MaxChatsPerAgent\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"agentData\",\"userDepartments\",\"availableDepartments\",\"t\",\"router\",\"queryClient\",\"voipEnabled\",\"dispatchToastMessage\",\"name\",\"username\",\"livechat\",\"statusLivechat\",\"email\",\"departments\",\"pending\",\"filter\",\"_ref2\",\"departmentId\",\"find\",\"dep\",\"_id\",\"map\",\"departmentName\",\"concat\",\"departmentsOptions\",\"archivedDepartment\",\"archived\",\"_ref3\",\"statusOptions\",\"initialDepartmentValue\",\"_ref4\",\"methods\",\"values\",\"status\",\"maxNumberSimultaneousChat\",\"voipExtension\",\"control\",\"handleSubmit\",\"reset\",\"isDirty\",\"formState\",\"saveAgentInfo\",\"saveAgentStatus\",\"handleSave\",\"_ref5\",\"data\",\"async\",\"_context\",\"prev\",\"next\",\"_excluded\",\"awrap\",\"agentId\",\"type\",\"message\",\"navigate\",\"invalidateQueries\",\"t0\",\"stop\",\"Promise\",\"formId\",\"nameField\",\"usernameField\",\"emailField\",\"departmentsField\",\"statusField\",\"voipExtensionField\",\"createElement\",\"onClick\",\"id\",\"onSubmit\",\"display\",\"flexDirection\",\"alignItems\",\"htmlFor\",\"render\",\"_ref6\",\"field\",\"readOnly\",\"_ref7\",\"addon\",\"size\",\"_ref8\",\"_ref9\",\"options\",\"placeholder\",\"renderItem\",\"_ref10\",\"label\",\"props\",\"_excluded2\",\"style\",\"whiteSpace\",\"_ref11\",\"_ref12\",\"stretch\",\"disabled\",\"form\",\"primary\"],\"mappings\":\"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\"}"}