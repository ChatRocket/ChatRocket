{"code":"function module(n,e,t){t.link(\"@babel/runtime/regenerator\",{default:function(n){u=n}},0),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(n){r=n}},1),t.export({useCannedResponseFilterOptions:function(){return s}}),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(n){i=n},useTranslation:function(n){a=n}},0),t.link(\"react\",{useEffect:function(n){c=n},useMemo:function(n){o=n},useState:function(n){l=n}},1);var u,r,i,a,c,o,l,s=function(){var n=a(),e=i(\"GET\",\"/v1/livechat/department\"),t=o(function(){return[[\"all\",n(\"All\")],[\"global\",n(\"Public\")],[\"user\",n(\"Private\")]]},[n]),s=l(t),f=r(s,2),p=f[0],d=f[1];return c(function(){var n;u.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.awrap(e({text:\"\"}));case 2:n=r.sent.departments.map(function(n){return[n._id,n.name]}),d(t.concat(n));case 6:case\"end\":return r.stop()}},null,null,null,Promise)},[t,e]),p}}","map":"{\"version\":3,\"sources\":[\"client/omnichannel/hooks/useCannedResponseFilterOptions.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useEffect, useMemo, useState } from 'react';\\n\\nexport const useCannedResponseFilterOptions = (): string[][] => {\\n\\tconst t = useTranslation();\\n\\tconst getDepartments = useEndpoint('GET', '/v1/livechat/department');\\n\\n\\tconst defaultOptions = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['all', t('All')],\\n\\t\\t\\t['global', t('Public')],\\n\\t\\t\\t['user', t('Private')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst [options, setOptions] = useState(defaultOptions);\\n\\n\\tuseEffect(() => {\\n\\t\\tconst fetchData = async (): Promise<void> => {\\n\\t\\t\\tconst { departments } = await getDepartments({ text: '' });\\n\\n\\t\\t\\tconst newOptions = departments.map((department: any) => [department._id, department.name]);\\n\\n\\t\\t\\tsetOptions(defaultOptions.concat(newOptions));\\n\\t\\t};\\n\\n\\t\\tfetchData();\\n\\t}, [defaultOptions, getDepartments]);\\n\\n\\treturn options;\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_slicedToArray\",\"export\",\"useCannedResponseFilterOptions\",\"useEndpoint\",\"useTranslation\",\"useEffect\",\"useMemo\",\"useState\",\"t\",\"getDepartments\",\"defaultOptions\",\"_useState\",\"_useState2\",\"options\",\"setOptions\",\"newOptions\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"text\",\"departments\",\"_await$getDepartments\",\"sent\",\"map\",\"department\",\"_id\",\"name\",\"concat\",\"stop\",\"Promise\"],\"mappings\":\"uBAAsBA,EAAAC,IAAA,CAAc,6BAAQ,CAAAC,QAA2B,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAvEH,EAAOM,MAAE,CAAA,CAAAC,+BAAmC,WAAA,OAAAA,CAA2B,CAAA,GAAAP,EAAAC,IAAA,CAAA,2BAAA,CAAAO,YAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,eAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAS,UAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,EAAAQ,QAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,EAAAS,SAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAGhE,IAHPC,EAAuEC,EAAAG,EAAAC,EAAAC,EAAAC,EAAAC,EAG1DL,EAAiC,WAC7C,IAAMM,EAAIJ,IACJK,EAAiBN,EAAY,MAAO,2BAEpCO,EAAiBJ,EACtB,WAAA,MAAM,CACL,CAAC,MAAOE,EAAE,OAAO,CACjB,CAAC,SAAUA,EAAE,UAAU,CACvB,CAAC,OAAQA,EAAE,WAAW,CACtB,EACD,CAACA,EAAE,EAGJG,EAA8BJ,EAASG,GAAeE,EAAAZ,EAAAW,EAAA,GAA/CE,EAAOD,CAAA,CAAA,EAAA,CAAEE,EAAUF,CAAA,CAAA,EAAA,CAc1B,OAZAP,EAAU,WACS,IAAAU,EAAAhB,EAAAiB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAE,IAAA,CAAA,EAAApB,EAAAqB,KAAA,CACaX,EAAe,CAAEY,KAAM,EAAE,GAAG,MAAA,EAEpDN,EAAaO,AAFAC,AAAuCN,EAAAO,IAAA,CAAlDF,WAAW,CAEYG,GAAG,CAAC,SAACC,CAAe,EAAA,MAAK,CAACA,EAAWC,GAAG,CAAED,EAAWE,IAAI,CAAC,GAEzFd,EAAWJ,EAAemB,MAAM,CAACd,GAAa,MAAA,EAAA,IAAA,MAAA,OAAAE,EAAAa,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAIhD,EAAG,CAACrB,EAAgBD,EAAe,EAE5BI,CACR\"}"}