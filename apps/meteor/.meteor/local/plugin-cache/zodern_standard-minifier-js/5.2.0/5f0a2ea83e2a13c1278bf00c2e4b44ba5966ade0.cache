{"code":"function module(r,e,i){let t,n;i.export({formatPriceAndPurchaseType:()=>c}),i.link(\"./formatPrice\",{formatPrice(r){t=r}},0),i.link(\"./formatPricingPlan\",{formatPricingPlan(r){n=r}},1);let c=(r,e,i)=>{if(\"subscription\"===r){let r=\"Subscription\";return e&&Array.isArray(e)&&0!==e.length?{type:r,price:n(e[0])}:{type:r,price:\"-\"}}return i>0?{type:\"Paid\",price:t(i)}:{type:\"Free\",price:\"-\"}}}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/helpers/formatPriceAndPurchaseType.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { PurchaseType, AppPricingPlan } from '@rocket.chat/core-typings';\\n\\nimport { formatPrice } from './formatPrice';\\nimport { formatPricingPlan } from './formatPricingPlan';\\n\\ntype PlanType = 'Subscription' | 'Paid' | 'Free';\\n\\ntype FormattedPriceAndPlan = {\\n\\ttype: PlanType;\\n\\tprice: string;\\n};\\n\\nexport const formatPriceAndPurchaseType = (\\n\\tpurchaseType: PurchaseType,\\n\\tpricingPlans: AppPricingPlan[],\\n\\tprice: number,\\n): FormattedPriceAndPlan => {\\n\\tif (purchaseType === 'subscription') {\\n\\t\\tconst type = 'Subscription';\\n\\t\\tif (!pricingPlans || !Array.isArray(pricingPlans) || pricingPlans.length === 0) {\\n\\t\\t\\treturn { type, price: '-' };\\n\\t\\t}\\n\\n\\t\\treturn { type, price: formatPricingPlan(pricingPlans[0]) };\\n\\t}\\n\\n\\tif (price > 0) {\\n\\t\\treturn { type: 'Paid', price: formatPrice(price) };\\n\\t}\\n\\n\\treturn { type: 'Free', price: '-' };\\n};\\n\",null],\"names\":[\"formatPrice\",\"formatPricingPlan\",\"module\",\"export\",\"formatPriceAndPurchaseType\",\"link\",\"v\",\"purchaseType\",\"pricingPlans\",\"price\",\"type\",\"Array\",\"isArray\",\"length\"],\"mappings\":\"2BAE4CA,EAAAC,EAA5CC,EAAOC,MAAE,CAAA,CAAAC,2BAAmBA,IAAgBA,CAAA,GAAAF,EAAAG,IAAA,CAAA,gBAAA,CAAAL,YAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,sBAAA,CAAAJ,kBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAUrC,IAAMF,EAA6BA,CACzCG,EACAC,EACAC,KAEA,GAAIF,AAAiB,iBAAjBA,EAAiC,CACpC,IAAMG,EAAO,sBACb,AAAI,AAACF,GAAiBG,MAAMC,OAAO,CAACJ,IAAiBA,AAAwB,IAAxBA,EAAaK,MAAM,CAIjE,CAAEH,KAAAA,EAAMD,MAAOR,EAAkBO,CAAY,CAAC,EAAE,CAAC,EAHhD,CAAEE,KAAAA,EAAMD,MAAO,GAAG,CAI3B,QAEA,AAAIA,EAAQ,EACJ,CAAEC,KAAM,OAAQD,MAAOT,EAAYS,EAAM,EAG1C,CAAEC,KAAM,OAAQD,MAAO,GAAG,CAClC\"}"}