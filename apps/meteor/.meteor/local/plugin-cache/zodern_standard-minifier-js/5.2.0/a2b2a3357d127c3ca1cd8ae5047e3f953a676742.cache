{"code":"function module(e,t,o){let r,a,n,l,s,i,u,c,d,m,p,_;o.link(\"@babel/runtime/helpers/extends\",{default(e){r=e}},0),o.link(\"@rocket.chat/fuselage\",{PasswordInput(e){a=e}},0),o.link(\"@rocket.chat/ui-composer\",{MessageFooterCallout(e){n=e},MessageFooterCalloutAction(e){l=e},MessageFooterCalloutContent(e){s=e}},1),o.link(\"@rocket.chat/ui-contexts\",{useTranslation(e){i=e},useEndpoint(e){u=e},useToastMessageDispatch(e){c=e}},2),o.link(\"react\",{default(e){d=e}},3),o.link(\"react-hook-form\",{Controller(e){m=e},useForm(e){p=e}},4),o.link(\"../contexts/RoomContext\",{useRoom(e){_=e}},5),o.exportDefault(()=>{let e=i(),t=_(),o=c(),h=u(\"POST\",\"/v1/channels.join\"),{control:k,handleSubmit:C,setError:f,formState:{errors:w,isDirty:g}}=p({defaultValues:{joinCode:\"\"}}),y=async e=>{let{joinCode:r}=e;try{await h({roomId:t._id,joinCode:r})}catch(e){f(\"joinCode\",{type:e.errorType,message:e.error}),o({type:\"error\",message:e})}};return d.createElement(n,{is:\"form\",\"aria-label\":e(\"Join_with_password\"),onSubmit:C(y)},d.createElement(s,null,e(\"you_are_in_preview\")),d.createElement(s,null,d.createElement(m,{name:\"joinCode\",control:k,render:t=>{var o;let{field:n}=t;return d.createElement(a,r({error:null===(o=w.joinCode)||void 0===o?void 0:o.message},n,{placeholder:e(\"you_are_in_preview_please_insert_the_password\")}))}})),d.createElement(l,{type:\"submit\",disabled:!g},e(\"Join_with_password\")))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/composer/ComposerJoinWithPassword.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { PasswordInput } from '@rocket.chat/fuselage';\\nimport { MessageFooterCallout, MessageFooterCalloutAction, MessageFooterCalloutContent } from '@rocket.chat/ui-composer';\\nimport { useTranslation, useEndpoint, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { Controller, useForm } from 'react-hook-form';\\n\\nimport { useRoom } from '../contexts/RoomContext';\\n\\nconst ComposerJoinWithPassword = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst room = useRoom();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst joinChannelEndpoint = useEndpoint('POST', '/v1/channels.join');\\n\\tconst {\\n\\t\\tcontrol,\\n\\t\\thandleSubmit,\\n\\t\\tsetError,\\n\\t\\tformState: { errors, isDirty },\\n\\t} = useForm({ defaultValues: { joinCode: '' } });\\n\\n\\tconst handleJoinChannel = async ({ joinCode }: { joinCode: string }) => {\\n\\t\\ttry {\\n\\t\\t\\tawait joinChannelEndpoint({\\n\\t\\t\\t\\troomId: room._id,\\n\\t\\t\\t\\tjoinCode,\\n\\t\\t\\t});\\n\\t\\t} catch (error: any) {\\n\\t\\t\\tsetError('joinCode', { type: error.errorType, message: error.error });\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t};\\n\\n\\treturn (\\n\\t\\t<MessageFooterCallout is='form' aria-label={t('Join_with_password')} onSubmit={handleSubmit(handleJoinChannel)}>\\n\\t\\t\\t<MessageFooterCalloutContent>{t('you_are_in_preview')}</MessageFooterCalloutContent>\\n\\t\\t\\t<MessageFooterCalloutContent>\\n\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\tname='joinCode'\\n\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t<PasswordInput error={errors.joinCode?.message} {...field} placeholder={t('you_are_in_preview_please_insert_the_password')} />\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</MessageFooterCalloutContent>\\n\\t\\t\\t<MessageFooterCalloutAction type='submit' disabled={!isDirty}>\\n\\t\\t\\t\\t{t('Join_with_password')}\\n\\t\\t\\t</MessageFooterCalloutAction>\\n\\t\\t</MessageFooterCallout>\\n\\t);\\n};\\n\\nexport default ComposerJoinWithPassword;\\n\",null],\"names\":[\"_extends\",\"PasswordInput\",\"MessageFooterCallout\",\"MessageFooterCalloutAction\",\"MessageFooterCalloutContent\",\"useTranslation\",\"useEndpoint\",\"useToastMessageDispatch\",\"React\",\"Controller\",\"useForm\",\"useRoom\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"ComposerJoinWithPassword\",\"t\",\"room\",\"dispatchToastMessage\",\"joinChannelEndpoint\",\"control\",\"handleSubmit\",\"setError\",\"formState\",\"errors\",\"isDirty\",\"defaultValues\",\"joinCode\",\"handleJoinChannel\",\"_ref\",\"roomId\",\"_id\",\"error\",\"type\",\"errorType\",\"message\",\"createElement\",\"is\",\"onSubmit\",\"name\",\"render\",\"_ref2\",\"_errors$joinCode\",\"field\",\"placeholder\",\"disabled\"],\"mappings\":\"2BAAAA,EAAAC,EAAsDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA7CC,EAAAC,IAAe,CAAA,iCAA8B,CAAAC,QAAAC,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAA7CH,EAAeC,IAAA,CAAM,wBAAwB,CAAAZ,cAAAc,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAX,qBAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,2BAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,4BAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAR,eAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,wBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kBAAA,CAAAJ,WAAAM,CAAA,EAAAN,EAAAM,CAAA,EAAAL,QAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAAF,QAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAtDH,EAAOI,aAAE,CASwBC,KAChC,IAAMC,EAAIb,IACJc,EAAOR,IACPS,EAAuBb,IAEvBc,EAAsBf,EAAY,OAAQ,qBAC1C,CACLgB,QAAAA,CAAO,CACPC,aAAAA,CAAY,CACZC,SAAAA,CAAQ,CACRC,UAAW,CAAEC,OAAAA,CAAM,CAAEC,QAAAA,CAAAA,CAAO,CAC5B,CAAGjB,EAAQ,CAAEkB,cAAe,CAAEC,SAAU,EAAE,CAAE,GAEvCC,EAAoB,MAAAC,IAA6C,GAAtC,CAAEF,SAAAA,CAAAA,CAAgC,CAAAE,EAClE,GAAI,CACH,MAAMV,EAAoB,CACzBW,OAAQb,EAAKc,GAAG,CAChBJ,SAAAA,GAEF,CAAE,MAAOK,EAAY,CACpBV,EAAS,WAAY,CAAEW,KAAMD,EAAME,SAAS,CAAEC,QAASH,EAAMA,KAAAA,AAAK,GAClEd,EAAqB,CAAEe,KAAM,QAASE,QAASH,CAAK,EACrD,CACD,EAEA,OACC1B,EAAA8B,aAAA,CAACpC,EAAoB,CAACqC,GAAG,OAAO,aAAYrB,EAAE,sBAAuBsB,SAAUjB,EAAaO,EAAmB,EAC9GtB,EAAA8B,aAAA,CAAClC,EAA2B,KAAEc,EAAE,uBAChCV,EAAA8B,aAAA,CAAClC,EAA2B,KAC3BI,EAAA8B,aAAA,CAAC7B,EAAU,CACVgC,KAAK,WACLnB,QAASA,EACToB,OAAQC,IAAA,IAAAC,EAAA,GAAC,CAAEC,MAAAA,CAAAA,CAAO,CAAAF,EAAA,OACjBnC,EAAA8B,aAAA,CAACrC,EAAaD,EAAA,CAACkC,MAAK,AAAiB,OAAjBU,CAAAA,EAAElB,EAAOG,QAAQ,AAARA,GAAQe,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAfA,EAAiBP,OAAAA,AAAQ,EAAKQ,EAAK,CAAEC,YAAa5B,EAAE,gDAAiD,GAAG,CAC7H,IAGJV,EAAA8B,aAAA,CAACnC,EAA0B,CAACgC,KAAK,SAASY,SAAU,CAACpB,CAAQ,EAC3DT,EAAE,uBAIP\"}"}