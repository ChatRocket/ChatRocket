{"code":"function module(e,n,t){t.link(\"@babel/runtime/regenerator\",{default:function(e){a=e}},0),t.export({useRemoveTag:function(){return k}}),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){r=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){c=e},useToastMessageDispatch:function(e){u=e},useRouter:function(e){i=e},useMethod:function(e){o=e}},1),t.link(\"@tanstack/react-query\",{useQueryClient:function(e){s=e}},2),t.link(\"react\",{default:function(e){l=e}},3),t.link(\"react-i18next\",{useTranslation:function(e){f=e}},4),t.link(\"../../components/GenericModal\",{default:function(e){v=e}},5);var a,r,c,u,i,o,s,l,f,v,k=function(){var e=f().t,n=c(),t=u(),k=o(\"livechat:removeTag\"),m=s(),g=i();return r(function(r){n(l.createElement(v,{variant:\"danger\",onConfirm:function(){return a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,a.awrap(k(r));case 3:t({type:\"success\",message:e(\"Tag_removed\")}),g.navigate(\"/omnichannel/tags\"),m.invalidateQueries([\"livechat-tags\"]),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),t({type:\"error\",message:c.t0});case 11:return c.prev=11,n(),c.finish(11);case 14:case\"end\":return c.stop()}},null,null,[[0,8,11,14]],Promise)},onCancel:function(){return n()},confirmText:e(\"Delete\")}))})}}","map":"{\"version\":3,\"sources\":[\"client/omnichannel/tags/useRemoveTag.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useRouter, useMethod } from '@rocket.chat/ui-contexts';\\nimport { useQueryClient } from '@tanstack/react-query';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../components/GenericModal';\\n\\nexport const useRemoveTag = () => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst removeTag = useMethod('livechat:removeTag');\\n\\tconst queryClient = useQueryClient();\\n\\tconst router = useRouter();\\n\\n\\tconst handleDeleteTag = useMutableCallback((tagId) => {\\n\\t\\tconst handleDelete = async () => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait removeTag(tagId);\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Tag_removed') });\\n\\t\\t\\t\\trouter.navigate('/omnichannel/tags');\\n\\t\\t\\t\\tqueryClient.invalidateQueries(['livechat-tags']);\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tsetModal();\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tsetModal(<GenericModal variant='danger' onConfirm={handleDelete} onCancel={() => setModal()} confirmText={t('Delete')} />);\\n\\t});\\n\\n\\treturn handleDeleteTag;\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"export\",\"useRemoveTag\",\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useRouter\",\"useMethod\",\"useQueryClient\",\"React\",\"useTranslation\",\"GenericModal\",\"t\",\"_useTranslation\",\"setModal\",\"dispatchToastMessage\",\"removeTag\",\"queryClient\",\"router\",\"tagId\",\"createElement\",\"variant\",\"onConfirm\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"type\",\"message\",\"navigate\",\"invalidateQueries\",\"t0\",\"finish\",\"stop\",\"Promise\",\"onCancel\",\"confirmText\"],\"mappings\":\"uBAASA,EAAoBC,IAAM,CAAA,6BAA8B,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAjEH,EAAOK,MAAE,CAAA,CAAAC,aAAkB,WAAQ,OAAAA,CAAA,CAAA,GAA8BN,EAAAC,IAAA,CAAA,8BAAA,CAAAM,mBAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAO,YAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,wBAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,EAAAO,UAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,EAAAQ,UAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAW,eAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAU,EAAAV,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAa,eAAA,SAAAX,CAAA,EAAAW,EAAAX,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAY,EAAAZ,CAAA,CAAA,EAAA,GAQ1D,IARPC,EAAiEG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAQpDT,EAAe,WAC3B,IAAQU,EAACC,AAAKH,IAANE,CAAC,CACHE,EAAWV,IACXW,EAAuBV,IACvBW,EAAYT,EAAU,sBACtBU,EAAcT,IACdU,EAASZ,IAmBf,OAjBwBH,EAAmB,SAACgB,CAAK,EAchDL,EAASL,EAAAW,aAAA,CAACT,EAAY,CAACU,QAAQ,SAASC,UAbnB,WAAA,OAAAtB,EAAAuB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAA1B,EAAA2B,KAAA,CAEbX,EAAUG,GAAM,MAAA,EACtBJ,EAAqB,CAAEa,KAAM,UAAWC,QAASjB,EAAE,cAAc,GACjEM,EAAOY,QAAQ,CAAC,qBAChBb,EAAYc,iBAAiB,CAAC,CAAC,gBAAgB,EAAEP,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,EAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAQ,EAAA,CAAAR,EAAA,KAAA,CAAA,GAEjDT,EAAqB,CAAEa,KAAM,QAASC,QAAOL,EAAAQ,EAAAA,AAAO,EAAI,MAAA,GAE7C,OAF6CR,EAAAC,IAAA,CAAA,GAExDX,IAAWU,EAAAS,MAAA,CAAA,GAAA,MAAA,GAAA,IAAA,MAAA,OAAAT,EAAAU,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,GAAA,GAAA,CAAA,CAAAC,QAAA,EAIoDC,SAAU,WAAA,OAAMtB,GAAU,EAAEuB,YAAazB,EAAE,SAAU,GACvH,EAGD\"}"}