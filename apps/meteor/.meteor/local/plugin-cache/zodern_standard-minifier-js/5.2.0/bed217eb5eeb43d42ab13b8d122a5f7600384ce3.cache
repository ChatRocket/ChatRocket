{"code":"function module(e,t,l){let n,a,r,o,s,m,c,u,i,d,E,f,k,C,p;l.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),l.link(\"@rocket.chat/fuselage\",{Box(e){a=e},Button(e){r=e},Field(e){o=e},FieldLabel(e){s=e},Modal(e){m=e}},0),l.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){c=e},useEndpoint(e){u=e},useTranslation(e){i=e}},1),l.link(\"react\",{default(e){d=e},memo(e){E=e},useCallback(e){f=e}},2),l.link(\"react-hook-form\",{useForm(e){k=e},Controller(e){C=e}},3),l.link(\"./RoomsAvailableForTeamsAutoComplete\",{default(e){p=e}},4),l.exportDefault(E(e=>{let{teamId:t,onClose:l,reload:E}=e,h=i(),b=c(),y=u(\"POST\",\"/v1/teams.addRooms\"),{control:F,formState:{isDirty:g},handleSubmit:T}=k({defaultValues:{rooms:[]}}),x=f(async e=>{let{rooms:n}=e;try{await y({rooms:n,teamId:t}),b({type:\"success\",message:h(\"Channels_added\")}),null==E||E()}catch(e){b({type:\"error\",message:e})}finally{l()}},[y,t,l,b,E,h]);return d.createElement(m,{wrapperFunction:e=>d.createElement(a,n({is:\"form\",onSubmit:T(x)},e))},d.createElement(m.Header,null,d.createElement(m.Title,null,h(\"Team_Add_existing_channels\")),d.createElement(m.Close,{onClick:l})),d.createElement(m.Content,null,d.createElement(o,{mbe:24},d.createElement(s,null,h(\"Channels\")),d.createElement(C,{control:F,name:\"rooms\",render:e=>{let{field:{value:t,onChange:l}}=e;return d.createElement(p,{value:t,onChange:l})}}))),d.createElement(m.Footer,null,d.createElement(m.FooterControllers,null,d.createElement(r,{onClick:l},h(\"Cancel\")),d.createElement(r,{disabled:!g,type:\"submit\",primary:!0},h(\"Add\")))))}))}","map":"{\"version\":3,\"sources\":[\"client/views/teams/contextualBar/channels/AddExistingModal/AddExistingModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Button, Field, FieldLabel, Modal } from '@rocket.chat/fuselage';\\nimport { useToastMessageDispatch, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport React, { memo, useCallback } from 'react';\\nimport { useForm, Controller } from 'react-hook-form';\\n\\nimport RoomsAvailableForTeamsAutoComplete from './RoomsAvailableForTeamsAutoComplete';\\n\\ntype AddExistingModalProps = {\\n\\tteamId: string;\\n\\tonClose: () => void;\\n\\treload?: () => void;\\n};\\n\\nconst AddExistingModal = ({ teamId, onClose, reload }: AddExistingModalProps) => {\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst addRoomEndpoint = useEndpoint('POST', '/v1/teams.addRooms');\\n\\n\\tconst {\\n\\t\\tcontrol,\\n\\t\\tformState: { isDirty },\\n\\t\\thandleSubmit,\\n\\t} = useForm({ defaultValues: { rooms: [] } });\\n\\n\\tconst handleAddChannels = useCallback(\\n\\t\\tasync ({ rooms }) => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait addRoomEndpoint({\\n\\t\\t\\t\\t\\trooms,\\n\\t\\t\\t\\t\\tteamId,\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Channels_added') });\\n\\t\\t\\t\\treload?.();\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tonClose();\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[addRoomEndpoint, teamId, onClose, dispatchToastMessage, reload, t],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<Modal wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(handleAddChannels)} {...props} />}>\\n\\t\\t\\t<Modal.Header>\\n\\t\\t\\t\\t<Modal.Title>{t('Team_Add_existing_channels')}</Modal.Title>\\n\\t\\t\\t\\t<Modal.Close onClick={onClose} />\\n\\t\\t\\t</Modal.Header>\\n\\t\\t\\t<Modal.Content>\\n\\t\\t\\t\\t<Field mbe={24}>\\n\\t\\t\\t\\t\\t<FieldLabel>{t('Channels')}</FieldLabel>\\n\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\tname='rooms'\\n\\t\\t\\t\\t\\t\\trender={({ field: { value, onChange } }) => <RoomsAvailableForTeamsAutoComplete value={value} onChange={onChange} />}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t</Modal.Content>\\n\\t\\t\\t<Modal.Footer>\\n\\t\\t\\t\\t<Modal.FooterControllers>\\n\\t\\t\\t\\t\\t<Button onClick={onClose}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t<Button disabled={!isDirty} type='submit' primary>\\n\\t\\t\\t\\t\\t\\t{t('Add')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</Modal.FooterControllers>\\n\\t\\t\\t</Modal.Footer>\\n\\t\\t</Modal>\\n\\t);\\n};\\n\\nexport default memo(AddExistingModal);\\n\",null],\"names\":[\"_extends\",\"Box\",\"Button\",\"Field\",\"FieldLabel\",\"Modal\",\"useToastMessageDispatch\",\"useEndpoint\",\"useTranslation\",\"React\",\"memo\",\"useCallback\",\"useForm\",\"Controller\",\"RoomsAvailableForTeamsAutoComplete\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"teamId\",\"onClose\",\"reload\",\"t\",\"dispatchToastMessage\",\"addRoomEndpoint\",\"control\",\"formState\",\"isDirty\",\"handleSubmit\",\"defaultValues\",\"rooms\",\"handleAddChannels\",\"_ref2\",\"type\",\"message\",\"error\",\"createElement\",\"wrapperFunction\",\"props\",\"is\",\"onSubmit\",\"Header\",\"Title\",\"Close\",\"onClick\",\"Content\",\"mbe\",\"name\",\"render\",\"_ref3\",\"field\",\"value\",\"onChange\",\"Footer\",\"FooterControllers\",\"disabled\",\"primary\"],\"mappings\":\"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\"}"}