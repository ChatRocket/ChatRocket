{"code":"function module(e,t,n){var o,a,i,l,u,s,r,c,h,d,f,m,p,k=[\"value\",\"excludeDepartmentId\",\"onlyMyDepartments\",\"onChange\",\"haveAll\",\"haveNone\",\"showArchived\"];n.link(\"@babel/runtime/helpers/extends\",{default:function(e){o=e}},0),n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){a=e}},1),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){i=e}},2),n.link(\"@rocket.chat/fuselage\",{PaginatedSelectFiltered:function(e){l=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue:function(e){u=e}},1),n.link(\"react\",{default:function(e){s=e},memo:function(e){r=e},useMemo:function(e){c=e},useState:function(e){h=e}},2),n.link(\"react-i18next\",{useTranslation:function(e){d=e}},3),n.link(\"../hooks/lists/useRecordList\",{useRecordList:function(e){f=e}},4),n.link(\"../hooks/useAsyncState\",{AsyncStatePhase:function(e){m=e}},5),n.link(\"./Omnichannel/hooks/useDepartmentsList\",{useDepartmentsList:function(e){p=e}},6),n.exportDefault(r(function(e){var t=e.value,n=e.excludeDepartmentId,r=e.onlyMyDepartments,v=e.onChange,D=e.haveAll,A=e.haveNone,y=e.showArchived,b=void 0!==y&&y,g=i(e,k),x=d().t,L=h(\"\"),M=a(L,2),I=M[0],S=M[1],w=u(I,500),C=p(c(function(){return{filter:w,onlyMyDepartments:r,haveAll:D,haveNone:A,excludeDepartmentId:n,showArchived:b,selectedDepartment:t}},[w,r,D,A,n,b,t])),N=C.itemsList,P=C.loadMoreItems,R=f(N),T=R.phase,F=R.items,O=R.itemCount;return s.createElement(l,o({withTitle:!0},g,{value:t,onChange:v,filter:I,setFilter:S,options:F,placeholder:x(\"Select_an_option\"),\"data-qa\":\"autocomplete-department\",endReached:T===m.LOADING?function(){}:function(e){return P(e,Math.min(50,O))}}))}))}","map":"{\"version\":3,\"sources\":[\"client/components/AutoCompleteDepartment.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { PaginatedSelectFiltered } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport type { ComponentProps, ReactElement } from 'react';\\nimport React, { memo, useMemo, useState } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useRecordList } from '../hooks/lists/useRecordList';\\nimport { AsyncStatePhase } from '../hooks/useAsyncState';\\nimport { useDepartmentsList } from './Omnichannel/hooks/useDepartmentsList';\\n\\ntype AutoCompleteDepartmentProps = {\\n\\tvalue?: string;\\n\\tonChange: (value: string) => void;\\n\\texcludeDepartmentId?: string;\\n\\tonlyMyDepartments?: boolean;\\n\\thaveAll?: boolean;\\n\\thaveNone?: boolean;\\n\\tshowArchived?: boolean;\\n} & Omit<ComponentProps<typeof PaginatedSelectFiltered>, 'options' | 'setFilter'>;\\n\\nconst AutoCompleteDepartment = ({\\n\\tvalue,\\n\\texcludeDepartmentId,\\n\\tonlyMyDepartments,\\n\\tonChange,\\n\\thaveAll,\\n\\thaveNone,\\n\\tshowArchived = false,\\n\\t...props\\n}: AutoCompleteDepartmentProps): ReactElement | null => {\\n\\tconst { t } = useTranslation();\\n\\tconst [departmentsFilter, setDepartmentsFilter] = useState<string>('');\\n\\n\\tconst debouncedDepartmentsFilter = useDebouncedValue(departmentsFilter, 500);\\n\\n\\tconst { itemsList: departmentsList, loadMoreItems: loadMoreDepartments } = useDepartmentsList(\\n\\t\\tuseMemo(\\n\\t\\t\\t() => ({\\n\\t\\t\\t\\tfilter: debouncedDepartmentsFilter,\\n\\t\\t\\t\\tonlyMyDepartments,\\n\\t\\t\\t\\thaveAll,\\n\\t\\t\\t\\thaveNone,\\n\\t\\t\\t\\texcludeDepartmentId,\\n\\t\\t\\t\\tshowArchived,\\n\\t\\t\\t\\tselectedDepartment: value,\\n\\t\\t\\t}),\\n\\t\\t\\t[debouncedDepartmentsFilter, onlyMyDepartments, haveAll, haveNone, excludeDepartmentId, showArchived, value],\\n\\t\\t),\\n\\t);\\n\\n\\tconst { phase: departmentsPhase, items: departmentsItems, itemCount: departmentsTotal } = useRecordList(departmentsList);\\n\\n\\treturn (\\n\\t\\t<PaginatedSelectFiltered\\n\\t\\t\\twithTitle\\n\\t\\t\\t{...props}\\n\\t\\t\\tvalue={value}\\n\\t\\t\\tonChange={onChange}\\n\\t\\t\\tfilter={departmentsFilter}\\n\\t\\t\\tsetFilter={setDepartmentsFilter as (value?: string | number) => void}\\n\\t\\t\\toptions={departmentsItems}\\n\\t\\t\\tplaceholder={t('Select_an_option')}\\n\\t\\t\\tdata-qa='autocomplete-department'\\n\\t\\t\\tendReached={\\n\\t\\t\\t\\tdepartmentsPhase === AsyncStatePhase.LOADING\\n\\t\\t\\t\\t\\t? (): void => undefined\\n\\t\\t\\t\\t\\t: (start): void => loadMoreDepartments(start, Math.min(50, departmentsTotal))\\n\\t\\t\\t}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default memo(AutoCompleteDepartment);\\n\",null],\"names\":[\"_extends\",\"_slicedToArray\",\"_objectWithoutProperties\",\"PaginatedSelectFiltered\",\"useDebouncedValue\",\"React\",\"memo\",\"useMemo\",\"useState\",\"useTranslation\",\"useRecordList\",\"AsyncStatePhase\",\"useDepartmentsList\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"value\",\"excludeDepartmentId\",\"onlyMyDepartments\",\"onChange\",\"haveAll\",\"haveNone\",\"_ref$showArchived\",\"showArchived\",\"props\",\"_excluded\",\"t\",\"_useTranslation\",\"_useState\",\"_useState2\",\"departmentsFilter\",\"setDepartmentsFilter\",\"debouncedDepartmentsFilter\",\"_useDepartmentsList\",\"filter\",\"selectedDepartment\",\"departmentsList\",\"itemsList\",\"loadMoreDepartments\",\"loadMoreItems\",\"_useRecordList\",\"departmentsPhase\",\"phase\",\"departmentsItems\",\"items\",\"departmentsTotal\",\"itemCount\",\"createElement\",\"withTitle\",\"setFilter\",\"options\",\"placeholder\",\"endReached\",\"LOADING\",\"start\",\"Math\",\"min\"],\"mappings\":\"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\"}"}