{"code":"function module(e,n,t){t.export({CallTableRow:function(){return f}}),t.link(\"moment\",{default:function(e){o=e}},0),t.link(\"react\",{default:function(e){l=e},useCallback:function(e){i=e}},1),t.link(\"react-i18next\",{useTranslation:function(e){a=e}},2),t.link(\"../../../../components/GenericTable\",{GenericTableRow:function(e){u=e},GenericTableCell:function(e){r=e}},3),t.link(\"../../../../contexts/CallContext\",{useIsCallReady:function(e){c=e}},4),t.link(\"../../../../lib/voip/parseOutboundPhoneNumber\",{parseOutboundPhoneNumber:function(e){d=e}},5),t.link(\"../components/CallDialpadButton\",{CallDialpadButton:function(e){m=e}},6);var o,l,i,a,u,r,c,d,m,f=function(e){var n,t=e.room,f=e.onRowClick,h=a().t,T=c(),b=t._id,s=t.fname,p=t.callStarted,k=t.queue,v=t.callDuration,x=t.v,w=t.direction,C=o.duration((void 0===v?0:v)/1e3,\"seconds\"),E=Array.isArray(null==x?void 0:x.phone)?null==x?void 0:null===(n=x.phone[0])||void 0===n?void 0:n.phoneNumber:null==x?void 0:x.phone,N=i(function(e){return h({inbound:\"Incoming\",outbound:\"Outgoing\"}[e]||\"Not_Available\")},[h]);return l.createElement(u,{key:b,\"rcx-show-call-button-on-hover\":!0,tabIndex:0,role:\"link\",onClick:function(){return f(b,null==x?void 0:x.token)},action:!0,\"qa-user-id\":b,height:\"40px\"},l.createElement(r,{withTruncatedText:!0},d(s)),l.createElement(r,{withTruncatedText:!0},d(E)),l.createElement(r,{withTruncatedText:!0},k),l.createElement(r,{withTruncatedText:!0},o(p).format(\"L LTS\")),l.createElement(r,{withTruncatedText:!0},C.isValid()&&C.humanize()),l.createElement(r,{withTruncatedText:!0},N(w)),l.createElement(r,null,T&&l.createElement(m,{phoneNumber:E})))}}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/calls/CallTableRow.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IVoipRoom, Serialized } from '@rocket.chat/core-typings';\\nimport moment from 'moment';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { GenericTableRow, GenericTableCell } from '../../../../components/GenericTable';\\nimport { useIsCallReady } from '../../../../contexts/CallContext';\\nimport { parseOutboundPhoneNumber } from '../../../../lib/voip/parseOutboundPhoneNumber';\\nimport { CallDialpadButton } from '../components/CallDialpadButton';\\n\\ntype CallTableRowProps = {\\n\\troom: Serialized<IVoipRoom>;\\n\\tonRowClick(_id: string, token?: string): void;\\n};\\n\\nexport const CallTableRow = ({ room, onRowClick }: CallTableRowProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst isCallReady = useIsCallReady();\\n\\n\\tconst { _id, fname, callStarted, queue, callDuration = 0, v, direction } = room;\\n\\tconst duration = moment.duration(callDuration / 1000, 'seconds');\\n\\tconst phoneNumber = Array.isArray(v?.phone) ? v?.phone[0]?.phoneNumber : v?.phone;\\n\\n\\tconst resolveDirectionLabel = useCallback(\\n\\t\\t(direction: IVoipRoom['direction']) => {\\n\\t\\t\\tconst labels = {\\n\\t\\t\\t\\tinbound: 'Incoming',\\n\\t\\t\\t\\toutbound: 'Outgoing',\\n\\t\\t\\t} as const;\\n\\t\\t\\treturn t(labels[direction] || 'Not_Available');\\n\\t\\t},\\n\\t\\t[t],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<GenericTableRow\\n\\t\\t\\tkey={_id}\\n\\t\\t\\trcx-show-call-button-on-hover\\n\\t\\t\\ttabIndex={0}\\n\\t\\t\\trole='link'\\n\\t\\t\\tonClick={(): void => onRowClick(_id, v?.token)}\\n\\t\\t\\taction\\n\\t\\t\\tqa-user-id={_id}\\n\\t\\t\\theight='40px'\\n\\t\\t>\\n\\t\\t\\t<GenericTableCell withTruncatedText>{parseOutboundPhoneNumber(fname)}</GenericTableCell>\\n\\t\\t\\t<GenericTableCell withTruncatedText>{parseOutboundPhoneNumber(phoneNumber)}</GenericTableCell>\\n\\t\\t\\t<GenericTableCell withTruncatedText>{queue}</GenericTableCell>\\n\\t\\t\\t<GenericTableCell withTruncatedText>{moment(callStarted).format('L LTS')}</GenericTableCell>\\n\\t\\t\\t<GenericTableCell withTruncatedText>{duration.isValid() && duration.humanize()}</GenericTableCell>\\n\\t\\t\\t<GenericTableCell withTruncatedText>{resolveDirectionLabel(direction)}</GenericTableCell>\\n\\t\\t\\t<GenericTableCell>{isCallReady && <CallDialpadButton phoneNumber={phoneNumber} />}</GenericTableCell>\\n\\t\\t</GenericTableRow>\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"CallTableRow\",\"link\",\"v\",\"moment\",\"React\",\"useCallback\",\"useTranslation\",\"GenericTableRow\",\"GenericTableCell\",\"useIsCallReady\",\"parseOutboundPhoneNumber\",\"CallDialpadButton\",\"_ref\",\"_v$phone$\",\"room\",\"onRowClick\",\"t\",\"_useTranslation\",\"isCallReady\",\"_id\",\"fname\",\"callStarted\",\"queue\",\"_room$callDuration\",\"callDuration\",\"direction\",\"duration\",\"phoneNumber\",\"Array\",\"isArray\",\"phone\",\"resolveDirectionLabel\",\"labels\",\"inbound\",\"outbound\",\"createElement\",\"key\",\"tabIndex\",\"role\",\"onClick\",\"token\",\"action\",\"height\",\"withTruncatedText\",\"format\",\"isValid\",\"humanize\"],\"mappings\":\"uBACAA,EAAOC,MAAM,CAAA,CAAAC,aAAe,WAAA,OAAAA,CAAA,CAAA,GAAAF,EAAAG,IAAA,CAAA,SAAA,CAAA,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAE,EAAAF,CAAA,EAAAG,YAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,gBAAA,CAAAK,eAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,sCAAA,CAAAM,gBAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,iBAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,mCAAA,CAAAQ,eAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,gDAAA,CAAAS,yBAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,kCAAA,CAAAU,kBAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAerB,IAfqBC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAefX,EAAe,SAAAY,CAAA,EAA0D,IAAAC,EAAvDC,EAAIF,EAAJE,IAAI,CAAEC,EAAUH,EAAVG,UAAU,CACtCC,EAACC,AAAKX,IAANU,CAAC,CACHE,EAAcT,IAEZU,EAAmEL,EAAnEK,GAAG,CAAEC,EAA8DN,EAA9DM,KAAK,CAAEC,EAAuDP,EAAvDO,WAAW,CAAEC,EAA0CR,EAA1CQ,KAAK,CAAAC,EAAqCT,EAAnCU,YAAY,CAAMtB,EAAiBY,EAAjBZ,CAAC,CAAEuB,EAAcX,EAAdW,SAAS,CAChEC,EAAWvB,EAAOuB,QAAQ,CAACF,AADmBD,CAAAA,AAAA,KAAA,IAAAA,EAAG,EAACA,CAAAA,EACR,IAAM,WAChDI,EAAcC,MAAMC,OAAO,CAAC3B,MAAAA,EAAC,KAAA,EAADA,EAAG4B,KAAK,EAAI5B,MAAAA,EAAC,KAAA,EAAA,AAAU,OAAVW,CAAAA,EAADX,EAAG4B,KAAK,CAAC,EAAE,AAAD,GAACjB,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAXA,EAAac,WAAW,CAAGzB,MAAAA,EAAC,KAAA,EAADA,EAAG4B,KAAK,CAE3EC,EAAwB1B,EAC7B,SAACoB,CAAiC,EAKjC,OAAOT,EAAEgB,AAJM,CACdC,QAAS,WACTC,SAAU,WAEI,CAACT,EAAU,EAAI,gBAC/B,EACA,CAACT,EAAE,EAGJ,OACCZ,EAAA+B,aAAA,CAAC5B,EAAe,CACf6B,IAAKjB,EACL,gCAAA,CAAA,EACAkB,SAAU,EACVC,KAAK,OACLC,QAAS,WAAA,OAAYxB,EAAWI,EAAKjB,MAAAA,EAAC,KAAA,EAADA,EAAGsC,KAAK,CAAC,EAC9CC,OAAM,CAAA,EACN,aAAYtB,EACZuB,OAAO,MAAM,EAEbtC,EAAA+B,aAAA,CAAC3B,EAAgB,CAACmC,kBAAiB,CAAA,CAAA,EAAEjC,EAAyBU,IAC9DhB,EAAA+B,aAAA,CAAC3B,EAAgB,CAACmC,kBAAiB,CAAA,CAAA,EAAEjC,EAAyBiB,IAC9DvB,EAAA+B,aAAA,CAAC3B,EAAgB,CAACmC,kBAAiB,CAAA,CAAA,EAAErB,GACrClB,EAAA+B,aAAA,CAAC3B,EAAgB,CAACmC,kBAAiB,CAAA,CAAA,EAAExC,EAAOkB,GAAauB,MAAM,CAAC,UAChExC,EAAA+B,aAAA,CAAC3B,EAAgB,CAACmC,kBAAiB,CAAA,CAAA,EAAEjB,EAASmB,OAAO,IAAMnB,EAASoB,QAAQ,IAC5E1C,EAAA+B,aAAA,CAAC3B,EAAgB,CAACmC,kBAAiB,CAAA,CAAA,EAAEZ,EAAsBN,IAC3DrB,EAAA+B,aAAA,CAAC3B,EAAgB,KAAEU,GAAed,EAAA+B,aAAA,CAACxB,EAAiB,CAACgB,YAAaA,CAAY,IAGjF\"}"}