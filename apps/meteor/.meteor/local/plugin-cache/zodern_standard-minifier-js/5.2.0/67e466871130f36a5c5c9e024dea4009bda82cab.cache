{"code":"function module(e,n,t){let l,a,i,r,o,c,m,d,s,u,k;t.link(\"@rocket.chat/fuselage\",{Box(e){l=e},CheckBox(e){a=e}},0),t.link(\"react\",{default(e){i=e},useMemo(e){r=e}},1),t.link(\"react-i18next\",{useTranslation(e){o=e}},2),t.link(\"../../../components/GenericTable\",{GenericTable(e){c=e},GenericTableHeaderCell(e){m=e},GenericTableHeader(e){d=e},GenericTableBody(e){s=e}},3),t.link(\"../../../components/GenericTable/hooks/useSort\",{useSort(e){u=e}},4),t.link(\"./ChannelDesertionTableRow\",{default(e){k=e}},5),t.exportDefault(e=>{let{rooms:n,eligibleRoomsLength:t,onChangeRoomSelection:h,selectedRooms:f,onToggleAllRooms:E,lastOwnerWarning:b}=e,{sortBy:v,sortDirection:x,setSort:C}=u(\"name\"),{t:T}=o(),g=Object.values(f).filter(Boolean).length,p=r(()=>{if(!n)return[];let e=\"asc\"===x?1:-1;return n.sort((n,t)=>{var l,a,i;return n[v]&&t[v]?(null!==(l=null===(a=n[v])||void 0===a?void 0:a.localeCompare(null!==(i=t[v])&&void 0!==i?i:\"\"))&&void 0!==l?l:1)*e:e})},[n,v,x]);return i.createElement(l,{display:\"flex\",flexDirection:\"column\",height:\"x200\",mbs:24},i.createElement(c,{fixed:!1},i.createElement(d,null,i.createElement(m,{key:\"name\",sort:\"name\",onClick:C,direction:x,active:\"name\"===v},i.createElement(a,{indeterminate:!!t&&t>g&&g>0,checked:t===g,onChange:E}),i.createElement(l,{mi:8},T(\"Channel_name\"))),i.createElement(m,{key:\"ts\",sort:\"ts\",onClick:C,direction:x,active:\"ts\"===v},i.createElement(l,{width:\"100%\",textAlign:\"end\"},T(\"Joined_at\")))),i.createElement(s,null,null==p?void 0:p.map((e,n)=>i.createElement(k,{key:n,room:e,onChange:h,selected:\"_id\"in e&&!!e._id&&!!f[e._id],lastOwnerWarning:b})))))})}","map":"{\"version\":3,\"sources\":[\"client/views/teams/ChannelDesertionTable/ChannelDesertionTable.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom, Serialized } from '@rocket.chat/core-typings';\\nimport { Box, CheckBox } from '@rocket.chat/fuselage';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { GenericTable, GenericTableHeaderCell, GenericTableHeader, GenericTableBody } from '../../../components/GenericTable';\\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\\nimport ChannelDesertionTableRow from './ChannelDesertionTableRow';\\n\\ntype ChannelDesertionTableProps = {\\n\\tlastOwnerWarning?: string;\\n\\trooms?: (Serialized<IRoom> & { isLastOwner?: boolean })[];\\n\\teligibleRoomsLength: number | undefined;\\n\\tonChangeRoomSelection: (room: Serialized<IRoom>) => void;\\n\\tselectedRooms: { [key: string]: Serialized<IRoom> };\\n\\tonToggleAllRooms: () => void;\\n};\\n\\nconst ChannelDesertionTable = ({\\n\\trooms,\\n\\teligibleRoomsLength,\\n\\tonChangeRoomSelection,\\n\\tselectedRooms,\\n\\tonToggleAllRooms,\\n\\tlastOwnerWarning,\\n}: ChannelDesertionTableProps) => {\\n\\tconst { sortBy, sortDirection, setSort } = useSort<'name' | 'ts'>('name');\\n\\n\\tconst { t } = useTranslation();\\n\\n\\tconst selectedRoomsLength = Object.values(selectedRooms).filter(Boolean).length;\\n\\n\\tconst checked = eligibleRoomsLength === selectedRoomsLength;\\n\\tconst indeterminate = eligibleRoomsLength && eligibleRoomsLength > selectedRoomsLength ? selectedRoomsLength > 0 : false;\\n\\n\\tconst results = useMemo(() => {\\n\\t\\tif (!rooms) {\\n\\t\\t\\treturn [];\\n\\t\\t}\\n\\n\\t\\tconst direction = sortDirection === 'asc' ? 1 : -1;\\n\\n\\t\\treturn rooms.sort((a, b) =>\\n\\t\\t\\t// eslint-disable-next-line no-nested-ternary\\n\\t\\t\\ta[sortBy] && b[sortBy] ? (a[sortBy]?.localeCompare(b[sortBy] ?? '') ?? 1) * direction : direction,\\n\\t\\t);\\n\\t}, [rooms, sortBy, sortDirection]);\\n\\n\\treturn (\\n\\t\\t<Box display='flex' flexDirection='column' height='x200' mbs={24}>\\n\\t\\t\\t<GenericTable fixed={false}>\\n\\t\\t\\t\\t<GenericTableHeader>\\n\\t\\t\\t\\t\\t<GenericTableHeaderCell key='name' sort='name' onClick={setSort} direction={sortDirection} active={sortBy === 'name'}>\\n\\t\\t\\t\\t\\t\\t<CheckBox indeterminate={indeterminate} checked={checked} onChange={onToggleAllRooms} />\\n\\t\\t\\t\\t\\t\\t<Box mi={8}>{t('Channel_name')}</Box>\\n\\t\\t\\t\\t\\t</GenericTableHeaderCell>\\n\\t\\t\\t\\t\\t<GenericTableHeaderCell key='ts' sort='ts' onClick={setSort} direction={sortDirection} active={sortBy === 'ts'}>\\n\\t\\t\\t\\t\\t\\t<Box width='100%' textAlign='end'>\\n\\t\\t\\t\\t\\t\\t\\t{t('Joined_at')}\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</GenericTableHeaderCell>\\n\\t\\t\\t\\t</GenericTableHeader>\\n\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t{results?.map(\\n\\t\\t\\t\\t\\t\\t(room, key): ReactElement => (\\n\\t\\t\\t\\t\\t\\t\\t<ChannelDesertionTableRow\\n\\t\\t\\t\\t\\t\\t\\t\\tkey={key}\\n\\t\\t\\t\\t\\t\\t\\t\\troom={room}\\n\\t\\t\\t\\t\\t\\t\\t\\tonChange={onChangeRoomSelection}\\n\\t\\t\\t\\t\\t\\t\\t\\tselected={'_id' in room && room._id ? !!selectedRooms[room._id] : false}\\n\\t\\t\\t\\t\\t\\t\\t\\tlastOwnerWarning={lastOwnerWarning}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t),\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t</GenericTable>\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default ChannelDesertionTable;\\n\",null],\"names\":[\"Box\",\"CheckBox\",\"React\",\"useMemo\",\"useTranslation\",\"GenericTable\",\"GenericTableHeaderCell\",\"GenericTableHeader\",\"GenericTableBody\",\"useSort\",\"ChannelDesertionTableRow\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"rooms\",\"eligibleRoomsLength\",\"onChangeRoomSelection\",\"selectedRooms\",\"onToggleAllRooms\",\"lastOwnerWarning\",\"sortBy\",\"sortDirection\",\"setSort\",\"t\",\"selectedRoomsLength\",\"Object\",\"values\",\"filter\",\"Boolean\",\"length\",\"results\",\"direction\",\"sort\",\"a\",\"b\",\"_a$sortBy$localeCompa\",\"_a$sortBy\",\"_b$sortBy\",\"localeCompare\",\"createElement\",\"display\",\"flexDirection\",\"height\",\"mbs\",\"fixed\",\"key\",\"onClick\",\"active\",\"indeterminate\",\"checked\",\"onChange\",\"mi\",\"width\",\"textAlign\",\"map\",\"room\",\"selected\",\"_id\"],\"mappings\":\"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\"}"}