{"code":"function module(e,n,t){var a,o,s,r,u,i,c,l,f;t.link(\"@babel/runtime/regenerator\",{default:function(e){a=e}},0),t.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){o=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){s=e}},0),t.link(\"@tanstack/react-query\",{useQuery:function(e){r=e}},1),t.link(\"react\",{default:function(e){u=e}},2),t.link(\"react-i18next\",{useTranslation:function(e){i=e}},3),t.link(\"../../../lib/utils/mapMessageFromApi\",{mapMessageFromApi:function(e){c=e}},4),t.link(\"../contexts/RoomContext\",{useRoom:function(e){l=e}},5),t.link(\"./MessageListTab\",{default:function(e){f=e}},6),t.exportDefault(function(){var e=s(\"GET\",\"/v1/chat.getMentionedMessages\"),n=l(),t=r([\"rooms\",n._id,\"mentioned-messages\"],function(){var t,s,r;return a.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=[],s=0,u.next=4,a.awrap(e({roomId:n._id,offset:0}));case 4:r=u.sent;case 5:if(!(r.count>0)){u.next=13;break}t.push.apply(t,o(r.messages.map(c)));case 7:return s+=r.count,u.next=10,a.awrap(e({roomId:n._id,offset:s}));case 10:r=u.sent,u.next=5;break;case 13:return u.abrupt(\"return\",t);case 14:case\"end\":return u.stop()}},null,null,null,Promise)}),m=i().t;return u.createElement(f,{iconName:\"at\",title:m(\"Mentions\"),emptyResultMessage:m(\"No_mentions_found\"),context:\"mentions\",queryResult:t})})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/MentionsTab.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { mapMessageFromApi } from '../../../lib/utils/mapMessageFromApi';\\nimport { useRoom } from '../contexts/RoomContext';\\nimport MessageListTab from './MessageListTab';\\n\\nconst MentionsTab = (): ReactElement => {\\n\\tconst getMentionedMessages = useEndpoint('GET', '/v1/chat.getMentionedMessages');\\n\\n\\tconst room = useRoom();\\n\\n\\tconst mentionedMessagesQueryResult = useQuery(['rooms', room._id, 'mentioned-messages'] as const, async () => {\\n\\t\\tconst messages: IMessage[] = [];\\n\\n\\t\\tfor (\\n\\t\\t\\tlet offset = 0, result = await getMentionedMessages({ roomId: room._id, offset: 0 });\\n\\t\\t\\tresult.count > 0;\\n\\t\\t\\t// eslint-disable-next-line no-await-in-loop\\n\\t\\t\\toffset += result.count, result = await getMentionedMessages({ roomId: room._id, offset })\\n\\t\\t) {\\n\\t\\t\\tmessages.push(...result.messages.map(mapMessageFromApi));\\n\\t\\t}\\n\\n\\t\\treturn messages;\\n\\t});\\n\\n\\tconst { t } = useTranslation();\\n\\n\\treturn (\\n\\t\\t<MessageListTab\\n\\t\\t\\ticonName='at'\\n\\t\\t\\ttitle={t('Mentions')}\\n\\t\\t\\temptyResultMessage={t('No_mentions_found')}\\n\\t\\t\\tcontext='mentions'\\n\\t\\t\\tqueryResult={mentionedMessagesQueryResult}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default MentionsTab;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_toConsumableArray\",\"useEndpoint\",\"useQuery\",\"React\",\"useTranslation\",\"mapMessageFromApi\",\"useRoom\",\"MessageListTab\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"getMentionedMessages\",\"room\",\"mentionedMessagesQueryResult\",\"_id\",\"messages\",\"offset\",\"result\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"roomId\",\"sent\",\"count\",\"push\",\"apply\",\"map\",\"abrupt\",\"stop\",\"Promise\",\"t\",\"_useTranslation\",\"createElement\",\"iconName\",\"title\",\"emptyResultMessage\",\"context\",\"queryResult\"],\"mappings\":\"uBAWA,IAVAA,EAAuDC,EAAvDC,EAAuDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjCC,EAAMC,IAAA,CAAA,6BAA2B,CAAAC,QAAA,SAAAC,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2CAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAA9CH,EAAaC,IAAA,CAAM,2BAA2B,CAAAR,YAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAP,SAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAL,eAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAJ,kBAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAAH,QAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,mBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAvDH,EAAOI,aAAa,CAUA,WACnB,IAAMC,EAAuBZ,EAAY,MAAO,iCAE1Ca,EAAOR,IAEPS,EAA+Bb,EAAS,CAAC,QAASY,EAAKE,GAAG,CAAE,qBAA8B,CAAE,WAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAApB,EAAAqB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAIlF,OAHTN,EAAuB,EAAE,CAG1BC,EAAS,EAACG,EAAAE,IAAA,CAAA,EAAAxB,EAAAyB,KAAA,CAAiBX,EAAqB,CAAEY,OAAQX,EAAKE,GAAG,CAAEE,OAAQ,CAAC,GAAG,MAAA,EAApEC,EAAME,EAAAK,IAAA,MAAA,EAAA,GAAA,CACtBP,CAAAA,EAAOQ,KAAK,CAAG,CAAA,EAAC,CAAAN,EAAAE,IAAA,CAAA,GAAA,KAAA,CAIhBN,EAASW,IAAI,CAAAC,KAAA,CAAbZ,EAAQjB,EAASmB,EAAOF,QAAQ,CAACa,GAAG,CAACzB,IAAoB,MAAA,EAFnC,OAAtBa,GAAUC,EAAOQ,KAAK,CAAAN,EAAAE,IAAA,CAAA,GAAAxB,EAAAyB,KAAA,CAAiBX,EAAqB,CAAEY,OAAQX,EAAKE,GAAG,CAAEE,OAAAA,CAAM,GAAG,MAAA,GAAjEC,EAAME,EAAAK,IAAA,CAAAL,EAAAE,IAAA,CAAA,EAAA,KAAA,MAAA,GAAA,OAAAF,EAAAU,MAAA,CAAA,SAKxBd,EAAQ,MAAA,GAAA,IAAA,MAAA,OAAAI,EAAAW,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,GAGRC,EAACC,AAAK/B,IAAN8B,CAAC,CAET,OACC/B,EAAAiC,aAAA,CAAC7B,EAAc,CACd8B,SAAS,KACTC,MAAOJ,EAAE,YACTK,mBAAoBL,EAAE,qBACtBM,QAAQ,WACRC,YAAa1B,CAA6B,EAG7C\"}"}