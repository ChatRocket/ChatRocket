{"code":"function module(e,t,a){let n,l,r,i,o,c,s,u,m;a.link(\"@rocket.chat/fuselage\",{Callout(e){n=e}},0),a.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){l=e},useSetModal(e){r=e},useTranslation(e){i=e}},1),a.link(\"@tanstack/react-query\",{useQuery(e){o=e}},2),a.link(\"react\",{default(e){c=e}},3),a.link(\"../../../components/Omnichannel/modals/EnterpriseDepartmentsModal\",{default(e){s=e}},4),a.link(\"../../../components/PageSkeleton\",{default(e){u=e}},5),a.link(\"./EditDepartment\",{default(e){m=e}},6),a.exportDefault(e=>{let{id:t}=e,a=i(),d=r(),p=l(\"GET\",\"/v1/livechat/department/isDepartmentCreationAvailable\"),{data:k,isLoading:D,isError:E}=o([\"getDepartments\"],()=>p(),{onSuccess:e=>{!1===e.isDepartmentCreationAvailable&&d(c.createElement(s,{closeModal:()=>d(null)}))}});return E?c.createElement(n,{type:\"danger\"},a(\"Unavailable\")):k&&!D&&k.isDepartmentCreationAvailable?c.createElement(m,{id:t,title:a(\"New_Department\")}):c.createElement(u,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/departments/NewDepartment.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Callout } from '@rocket.chat/fuselage';\\nimport { useEndpoint, useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React from 'react';\\n\\nimport EnterpriseDepartmentsModal from '../../../components/Omnichannel/modals/EnterpriseDepartmentsModal';\\nimport PageSkeleton from '../../../components/PageSkeleton';\\nimport EditDepartment from './EditDepartment';\\n\\ntype NewDepartmentProps = {\\n\\tid?: string;\\n};\\n\\nconst NewDepartment = ({ id }: NewDepartmentProps) => {\\n\\tconst t = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst getDepartmentCreationAvailable = useEndpoint('GET', '/v1/livechat/department/isDepartmentCreationAvailable');\\n\\tconst { data, isLoading, isError } = useQuery(['getDepartments'], () => getDepartmentCreationAvailable(), {\\n\\t\\tonSuccess: (data) => {\\n\\t\\t\\tif (data.isDepartmentCreationAvailable === false) {\\n\\t\\t\\t\\tsetModal(<EnterpriseDepartmentsModal closeModal={(): void => setModal(null)} />);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t});\\n\\n\\tif (isError) {\\n\\t\\treturn <Callout type='danger'>{t('Unavailable')}</Callout>;\\n\\t}\\n\\n\\tif (!data || isLoading || !data.isDepartmentCreationAvailable) {\\n\\t\\treturn <PageSkeleton />;\\n\\t}\\n\\n\\treturn <EditDepartment id={id} title={t('New_Department')} />;\\n};\\n\\nexport default NewDepartment;\\n\",null],\"names\":[\"Callout\",\"useEndpoint\",\"useSetModal\",\"useTranslation\",\"useQuery\",\"React\",\"EnterpriseDepartmentsModal\",\"PageSkeleton\",\"EditDepartment\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"id\",\"t\",\"setModal\",\"getDepartmentCreationAvailable\",\"data\",\"isLoading\",\"isError\",\"onSuccess\",\"isDepartmentCreationAvailable\",\"createElement\",\"closeModal\",\"type\",\"title\"],\"mappings\":\"2BAAAA,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAASC,IAAA,CAAM,wBAAwB,CAAAV,QAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAT,YAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,eAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAN,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oEAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAAE,QAAAD,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mBAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAhDF,EAAOI,aAAW,CAaIC,IAA+B,GAA9B,CAAEC,GAAAA,CAAAA,CAAwB,CAAAD,EAC1CE,EAAIb,IACJc,EAAWf,IACXgB,EAAiCjB,EAAY,MAAO,yDACpD,CAAEkB,KAAAA,CAAI,CAAEC,UAAAA,CAAS,CAAEC,QAAAA,CAAAA,CAAS,CAAGjB,EAAS,CAAC,iBAAiB,CAAE,IAAMc,IAAkC,CACzGI,UAAYH,IACgC,CAAA,IAAvCA,EAAKI,6BAA6B,EACrCN,EAASZ,EAAAmB,aAAA,CAAClB,EAA0B,CAACmB,WAAYA,IAAYR,EAAS,KAAM,GAE9E,WAGD,AAAII,EACIhB,EAAAmB,aAAA,CAACxB,EAAO,CAAC0B,KAAK,QAAQ,EAAEV,EAAE,gBAG9B,AAACG,IAAQC,GAAcD,EAAKI,6BAA6B,CAItDlB,EAAAmB,aAAA,CAAChB,EAAc,CAACO,GAAIA,EAAIY,MAAOX,EAAE,iBAAkB,GAHlDX,EAAAmB,aAAA,CAACjB,EAAY,KAItB\"}"}