{"code":"function module(e,t,n){var a,l,o,i,c,u,r,s,m,f,d,E,v,h,k,p,b,C,g,y,x,F,I,_,N,D,S,B,M,T,R,P;n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){a=e}},0),n.link(\"@rocket.chat/fuselage\",{Box:function(e){l=e},Margins:function(e){o=e},ButtonGroup:function(e){i=e},Button:function(e){c=e},Divider:function(e){u=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){r=e}},1),n.link(\"@rocket.chat/ui-avatar\",{UserAvatar:function(e){s=e}},2),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){m=e},useRoute:function(e){f=e},useTranslation:function(e){d=e},useEndpoint:function(e){E=e},usePermission:function(e){v=e},useRouter:function(e){h=e}},3),n.link(\"@tanstack/react-query\",{useQuery:function(e){k=e}},4),n.link(\"react\",{default:function(e){p=e},useCallback:function(e){b=e}},5),n.link(\"use-sync-external-store/shim\",{useSyncExternalStore:function(e){C=e}},6),n.link(\"../../../../../components/Contextualbar\",{ContextualbarScrollableContent:function(e){g=e},ContextualbarFooter:function(e){y=e}},7),n.link(\"../../../../../components/UserStatus\",{UserStatus:function(e){x=e}},8),n.link(\"../../../../../contexts/CallContext\",{useIsCallReady:function(e){F=e}},9),n.link(\"../../../../../hooks/useFormatDate\",{useFormatDate:function(e){I=e}},10),n.link(\"../../../../../lib/voip/parseOutboundPhoneNumber\",{parseOutboundPhoneNumber:function(e){_=e}},11),n.link(\"../../../../../omnichannel/ContactManagerInfo\",{default:function(e){N=e}},12),n.link(\"../../../components/AgentInfoDetails\",{default:function(e){D=e}},13),n.link(\"../../../components/CustomField\",{default:function(e){S=e}},14),n.link(\"../../../components/Field\",{default:function(e){B=e}},15),n.link(\"../../../components/Info\",{default:function(e){M=e}},16),n.link(\"../../../components/Label\",{default:function(e){T=e}},17),n.link(\"../../calls/contextualBar/VoipInfoCallButton\",{VoipInfoCallButton:function(e){R=e}},18),n.link(\"../../components/FormSkeleton\",{FormSkeleton:function(e){P=e}},19),n.exportDefault(function(e){var t=e.id,n=e.rid,U=void 0===n?\"\":n,A=e.route,G=d(),L=m(),O=h(),q=f(\"live\"),w=C(O.subscribeToRouteChange,b(function(){return O.getRouteName()},[O])),z=I(),V=F(),j=v(\"view-livechat-room-customfields\"),H=v(\"edit-omnichannel-contact\"),Q=E(\"GET\",\"/v1/livechat/custom-fields\"),J=k([\"/v1/livechat/custom-fields\"],function(){return Q()}).data,K=(J=void 0===J?{}:J).customFields,W=E(\"GET\",\"/v1/omnichannel/contact\"),X=k([\"/v1/omnichannel/contact\",t],function(){return W({contactId:t})},{enabled:j&&!!t}),Y=X.data,Z=(Y=void 0===Y?{}:Y).contact,$=X.isInitialLoading,ee=X.isError,et=r(function(){if(!H)return L({type:\"error\",message:G(\"Not_authorized\")});if(A){O.navigate({name:A,params:{tab:\"contact-profile\",context:\"edit\",id:U}});return}O.navigate({name:\"omnichannel-directory\",params:{page:\"contacts\",id:t,bar:\"edit\"}})});if($)return p.createElement(l,{pi:24},p.createElement(P,null));if(ee||!Z)return p.createElement(l,{mbs:16},G(\"Contact_not_found\"));var en=Z.username,ea=Z.visitorEmails,el=Z.phone,eo=Z.ts,ei=Z.livechatData,ec=Z.lastChat,eu=Z.contactManager,er=Z.status,es=\"live\"===w&&ec,em=a(null!=el?el:[{}],1)[0].phoneNumber,ef=void 0===em?\"\":em,ed=a(null!=ea?ea:[{}],1)[0].address,eE=void 0===ed?\"\":ed,ev=function(e){var t=null==K?void 0:K.find(function(t){return t._id===e});return(null==t?void 0:t.visibility)===\"visible\"&&(null==t?void 0:t.scope)===\"visitor\"},eh=Object.entries(null!=ei?ei:{}).filter(function(e){var t=a(e,2),n=t[0],l=t[1];return ev(n)&&l});return p.createElement(p.Fragment,null,p.createElement(g,{p:24},p.createElement(o,{block:4},en&&p.createElement(B,null,p.createElement(T,null,G(\"Name\")+\" / \"+G(\"Username\")),p.createElement(M,{style:{display:\"flex\"}},p.createElement(s,{size:\"x40\",title:en,username:en}),p.createElement(D,{mis:10,name:en,shortName:en,status:p.createElement(x,{status:er})}))),eE&&p.createElement(B,null,p.createElement(T,null,G(\"Email\")),p.createElement(M,{\"data-qa-id\":\"contactInfo-email\"},eE)),ef&&p.createElement(B,null,p.createElement(T,null,G(\"Phone\")),p.createElement(M,null,_(ef))),eo&&p.createElement(B,null,p.createElement(T,null,G(\"Created_at\")),p.createElement(M,null,z(eo))),ec&&p.createElement(B,null,p.createElement(T,null,G(\"Last_Chat\")),p.createElement(M,null,z(ec.ts))),j&&eh.map(function(e){var t=a(e,2),n=t[0],l=t[1];return p.createElement(S,{key:n,id:n,value:l})}),eu&&p.createElement(B,null,p.createElement(T,null,G(\"Contact_Manager\")),p.createElement(N,{username:eu.username})))),p.createElement(y,null,V&&p.createElement(i,{stretch:!0},p.createElement(p.Fragment,null,p.createElement(R,{phoneNumber:ef}),es&&p.createElement(u,{width:\"100%\"}))),p.createElement(i,{stretch:!0},es&&p.createElement(c,{icon:\"history\",onClick:function(){var e=(null!=ec?ec:{})._id;q.push({id:void 0===e?\"\":e,tab:\"contact-chat-history\"})}},G(\"Chat_History\")),p.createElement(c,{icon:\"pencil\",onClick:et},G(\"Edit\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/contacts/contextualBar/ContactInfo.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Margins, ButtonGroup, Button, Divider } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\\nimport type { RouteName } from '@rocket.chat/ui-contexts';\\nimport { useToastMessageDispatch, useRoute, useTranslation, useEndpoint, usePermission, useRouter } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React, { useCallback } from 'react';\\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\\n\\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../../../components/Contextualbar';\\nimport { UserStatus } from '../../../../../components/UserStatus';\\nimport { useIsCallReady } from '../../../../../contexts/CallContext';\\nimport { useFormatDate } from '../../../../../hooks/useFormatDate';\\nimport { parseOutboundPhoneNumber } from '../../../../../lib/voip/parseOutboundPhoneNumber';\\nimport ContactManagerInfo from '../../../../../omnichannel/ContactManagerInfo';\\nimport AgentInfoDetails from '../../../components/AgentInfoDetails';\\nimport CustomField from '../../../components/CustomField';\\nimport Field from '../../../components/Field';\\nimport Info from '../../../components/Info';\\nimport Label from '../../../components/Label';\\nimport { VoipInfoCallButton } from '../../calls/contextualBar/VoipInfoCallButton';\\nimport { FormSkeleton } from '../../components/FormSkeleton';\\n\\ntype ContactInfoProps = {\\n\\tid: string;\\n\\trid?: string;\\n\\troute?: RouteName;\\n};\\n\\nconst ContactInfo = ({ id: contactId, rid: roomId = '', route }: ContactInfoProps) => {\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst router = useRouter();\\n\\tconst liveRoute = useRoute('live');\\n\\n\\tconst currentRouteName = useSyncExternalStore(\\n\\t\\trouter.subscribeToRouteChange,\\n\\t\\tuseCallback(() => router.getRouteName(), [router]),\\n\\t);\\n\\n\\tconst formatDate = useFormatDate();\\n\\tconst isCallReady = useIsCallReady();\\n\\n\\tconst canViewCustomFields = usePermission('view-livechat-room-customfields');\\n\\tconst canEditContact = usePermission('edit-omnichannel-contact');\\n\\n\\tconst getCustomFields = useEndpoint('GET', '/v1/livechat/custom-fields');\\n\\tconst { data: { customFields } = {} } = useQuery(['/v1/livechat/custom-fields'], () => getCustomFields());\\n\\n\\tconst getContact = useEndpoint('GET', '/v1/omnichannel/contact');\\n\\tconst {\\n\\t\\tdata: { contact } = {},\\n\\t\\tisInitialLoading,\\n\\t\\tisError,\\n\\t} = useQuery(['/v1/omnichannel/contact', contactId], () => getContact({ contactId }), {\\n\\t\\tenabled: canViewCustomFields && !!contactId,\\n\\t});\\n\\n\\tconst onEditButtonClick = useMutableCallback(() => {\\n\\t\\tif (!canEditContact) {\\n\\t\\t\\treturn dispatchToastMessage({ type: 'error', message: t('Not_authorized') });\\n\\t\\t}\\n\\n\\t\\tif (route) {\\n\\t\\t\\trouter.navigate({\\n\\t\\t\\t\\tname: route,\\n\\t\\t\\t\\tparams: {\\n\\t\\t\\t\\t\\ttab: 'contact-profile',\\n\\t\\t\\t\\t\\tcontext: 'edit',\\n\\t\\t\\t\\t\\tid: roomId,\\n\\t\\t\\t\\t},\\n\\t\\t\\t});\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\trouter.navigate({\\n\\t\\t\\tname: 'omnichannel-directory',\\n\\t\\t\\tparams: {\\n\\t\\t\\t\\tpage: 'contacts',\\n\\t\\t\\t\\tid: contactId,\\n\\t\\t\\t\\tbar: 'edit',\\n\\t\\t\\t},\\n\\t\\t});\\n\\t});\\n\\n\\tif (isInitialLoading) {\\n\\t\\treturn (\\n\\t\\t\\t<Box pi={24}>\\n\\t\\t\\t\\t<FormSkeleton />\\n\\t\\t\\t</Box>\\n\\t\\t);\\n\\t}\\n\\n\\tif (isError || !contact) {\\n\\t\\treturn <Box mbs={16}>{t('Contact_not_found')}</Box>;\\n\\t}\\n\\n\\tconst { username, visitorEmails, phone, ts, livechatData, lastChat, contactManager, status } = contact;\\n\\n\\tconst showContactHistory = currentRouteName === 'live' && lastChat;\\n\\n\\tconst [{ phoneNumber = '' }] = phone ?? [{}];\\n\\tconst [{ address: email = '' }] = visitorEmails ?? [{}];\\n\\n\\tconst checkIsVisibleAndScopeVisitor = (key: string) => {\\n\\t\\tconst field = customFields?.find(({ _id }) => _id === key);\\n\\t\\treturn field?.visibility === 'visible' && field?.scope === 'visitor';\\n\\t};\\n\\n\\tconst onChatHistory = () => {\\n\\t\\tconst { _id = '' } = lastChat ?? {};\\n\\t\\tliveRoute.push({ id: _id, tab: 'contact-chat-history' });\\n\\t};\\n\\n\\t// Serialized does not like unknown :(\\n\\tconst customFieldEntries = Object.entries((livechatData ?? {}) as unknown as Record<string, string>).filter(\\n\\t\\t([key, value]) => checkIsVisibleAndScopeVisitor(key) && value,\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarScrollableContent p={24}>\\n\\t\\t\\t\\t<Margins block={4}>\\n\\t\\t\\t\\t\\t{username && (\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Label>{`${t('Name')} / ${t('Username')}`}</Label>\\n\\t\\t\\t\\t\\t\\t\\t<Info style={{ display: 'flex' }}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<UserAvatar size='x40' title={username} username={username} />\\n\\t\\t\\t\\t\\t\\t\\t\\t<AgentInfoDetails mis={10} name={username} shortName={username} status={<UserStatus status={status} />} />\\n\\t\\t\\t\\t\\t\\t\\t</Info>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{email && (\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Label>{t('Email')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t<Info data-qa-id='contactInfo-email'>{email}</Info>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{phoneNumber && (\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Label>{t('Phone')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t<Info>{parseOutboundPhoneNumber(phoneNumber)}</Info>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{ts && (\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Label>{t('Created_at')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t<Info>{formatDate(ts)}</Info>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t\\t{lastChat && (\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Label>{t('Last_Chat')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t<Info>{formatDate(lastChat.ts)}</Info>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t\\t{canViewCustomFields &&\\n\\t\\t\\t\\t\\t\\tcustomFieldEntries.map(([key, value]) => {\\n\\t\\t\\t\\t\\t\\t\\treturn <CustomField key={key} id={key} value={value} />;\\n\\t\\t\\t\\t\\t\\t})}\\n\\n\\t\\t\\t\\t\\t{contactManager && (\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Label>{t('Contact_Manager')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t<ContactManagerInfo username={contactManager.username} />\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t{isCallReady && (\\n\\t\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t<VoipInfoCallButton phoneNumber={phoneNumber} />\\n\\t\\t\\t\\t\\t\\t\\t{showContactHistory && <Divider width='100%' />}\\n\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t{showContactHistory && (\\n\\t\\t\\t\\t\\t\\t<Button icon='history' onClick={onChatHistory}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Chat_History')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t<Button icon='pencil' onClick={onEditButtonClick}>\\n\\t\\t\\t\\t\\t\\t{t('Edit')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default ContactInfo;\\n\",null],\"names\":[\"_slicedToArray\",\"Box\",\"Margins\",\"ButtonGroup\",\"Button\",\"Divider\",\"useMutableCallback\",\"UserAvatar\",\"useToastMessageDispatch\",\"useRoute\",\"useTranslation\",\"useEndpoint\",\"usePermission\",\"useRouter\",\"useQuery\",\"React\",\"useCallback\",\"useSyncExternalStore\",\"ContextualbarScrollableContent\",\"ContextualbarFooter\",\"UserStatus\",\"useIsCallReady\",\"useFormatDate\",\"parseOutboundPhoneNumber\",\"ContactManagerInfo\",\"AgentInfoDetails\",\"CustomField\",\"Field\",\"Info\",\"Label\",\"VoipInfoCallButton\",\"FormSkeleton\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"contactId\",\"id\",\"_ref$rid\",\"rid\",\"roomId\",\"route\",\"t\",\"dispatchToastMessage\",\"router\",\"liveRoute\",\"currentRouteName\",\"subscribeToRouteChange\",\"getRouteName\",\"formatDate\",\"isCallReady\",\"canViewCustomFields\",\"canEditContact\",\"getCustomFields\",\"_useQuery$data\",\"_useQuery\",\"data\",\"customFields\",\"getContact\",\"_useQuery2\",\"enabled\",\"_useQuery2$data\",\"contact\",\"isInitialLoading\",\"isError\",\"onEditButtonClick\",\"type\",\"message\",\"navigate\",\"name\",\"params\",\"tab\",\"context\",\"page\",\"bar\",\"createElement\",\"pi\",\"mbs\",\"username\",\"visitorEmails\",\"phone\",\"ts\",\"livechatData\",\"lastChat\",\"contactManager\",\"status\",\"showContactHistory\",\"_ref3$0$phoneNumber\",\"_ref3\",\"phoneNumber\",\"_ref5$0$address\",\"_ref5\",\"address\",\"email\",\"checkIsVisibleAndScopeVisitor\",\"key\",\"field\",\"find\",\"_ref6\",\"_id\",\"visibility\",\"scope\",\"customFieldEntries\",\"Object\",\"entries\",\"filter\",\"_ref8\",\"_ref9\",\"value\",\"Fragment\",\"p\",\"block\",\"style\",\"display\",\"size\",\"title\",\"mis\",\"shortName\",\"map\",\"_ref10\",\"_ref11\",\"stretch\",\"width\",\"icon\",\"onClick\",\"_ref7$_id\",\"_ref7\",\"push\"],\"mappings\":\"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\"}"}