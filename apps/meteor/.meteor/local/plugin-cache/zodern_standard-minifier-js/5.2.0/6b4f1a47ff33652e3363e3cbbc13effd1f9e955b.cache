{"code":"Package[\"core-runtime\"].queue(\"ddp-common\",function(){var e,t=Package.meteor.Meteor;Package.meteor.global,Package.meteor.meteorEnv,Package.check.check,Package.check.Match;var a=Package.random.Random,r=Package.ejson.EJSON;Package.tracker.Tracker,Package.tracker.Deps,Package.retry.Retry;var n=Package.modules.meteorInstall;return Package.promise.Promise,{export:function(){return{DDPCommon:e}},require:n({node_modules:{meteor:{\"ddp-common\":{\"namespace.js\":function t(){e={}},\"heartbeat.js\":function a(){e.Heartbeat=class e{constructor(e){this.heartbeatInterval=e.heartbeatInterval,this.heartbeatTimeout=e.heartbeatTimeout,this._sendPing=e.sendPing,this._onTimeout=e.onTimeout,this._seenPacket=!1,this._heartbeatIntervalHandle=null,this._heartbeatTimeoutHandle=null}stop(){this._clearHeartbeatIntervalTimer(),this._clearHeartbeatTimeoutTimer()}start(){this.stop(),this._startHeartbeatIntervalTimer()}_startHeartbeatIntervalTimer(){this._heartbeatIntervalHandle=t.setInterval(()=>this._heartbeatIntervalFired(),this.heartbeatInterval)}_startHeartbeatTimeoutTimer(){this._heartbeatTimeoutHandle=t.setTimeout(()=>this._heartbeatTimeoutFired(),this.heartbeatTimeout)}_clearHeartbeatIntervalTimer(){this._heartbeatIntervalHandle&&(t.clearInterval(this._heartbeatIntervalHandle),this._heartbeatIntervalHandle=null)}_clearHeartbeatTimeoutTimer(){this._heartbeatTimeoutHandle&&(t.clearTimeout(this._heartbeatTimeoutHandle),this._heartbeatTimeoutHandle=null)}_heartbeatIntervalFired(){this._seenPacket||this._heartbeatTimeoutHandle||(this._sendPing(),this._startHeartbeatTimeoutTimer()),this._seenPacket=!1}_heartbeatTimeoutFired(){this._heartbeatTimeoutHandle=null,this._onTimeout()}messageReceived(){this._seenPacket=!0,this._heartbeatTimeoutHandle&&this._clearHeartbeatTimeoutTimer()}}},\"utils.js\":function a(a,n,s){\"use strict\";s.export({hasOwn:()=>i,slice:()=>o,keys:()=>l,isEmpty:()=>c,last:()=>d});let i=Object.prototype.hasOwnProperty,o=Array.prototype.slice;function l(e){return Object.keys(Object(e))}function c(e){if(null==e)return!0;if(Array.isArray(e)||\"string\"==typeof e)return 0===e.length;for(let t in e)if(i.call(e,t))return!1;return!0}function d(e,t,a){return null==e?void 0:null==t||a?e[e.length-1]:o.call(e,Math.max(e.length-t,0))}e.SUPPORTED_DDP_VERSIONS=[\"1\",\"pre2\",\"pre1\"],e.parseDDP=function(e){try{var a=JSON.parse(e)}catch(a){return t._debug(\"Discarding message with invalid JSON\",e),null}return null===a||\"object\"!=typeof a?(t._debug(\"Discarding non-object DDP message\",e),null):(i.call(a,\"cleared\")&&(i.call(a,\"fields\")||(a.fields={}),a.cleared.forEach(e=>{a.fields[e]=void 0}),delete a.cleared),[\"fields\",\"params\",\"result\"].forEach(e=>{i.call(a,e)&&(a[e]=r._adjustTypesFromJSONValue(a[e]))}),a)},e.stringifyDDP=function(e){let t=r.clone(e);if(i.call(e,\"fields\")){let a=[];Object.keys(e.fields).forEach(r=>{let n=e.fields[r];void 0===n&&(a.push(r),delete t.fields[r])}),c(a)||(t.cleared=a),c(t.fields)&&delete t.fields}if([\"fields\",\"params\",\"result\"].forEach(e=>{i.call(t,e)&&(t[e]=r._adjustTypesToJSONValue(t[e]))}),e.id&&\"string\"!=typeof e.id)throw Error(\"Message id is not a string\");return JSON.stringify(t)}},\"method_invocation.js\":function t(){e.MethodInvocation=class e{constructor(e){this.name=e.name,this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this._isFromCallAsync=e.isFromCallAsync,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null,this.fence=e.fence}unblock(){this._calledUnblock=!0,this._unblock()}async setUserId(e){if(this._calledUnblock)throw Error(\"Can't call setUserId in a method after calling unblock\");this.userId=e,await this._setUserId(e)}}},\"random_stream.js\":function t(){e.RandomStream=class e{constructor(e){this.seed=[].concat(e.seed||a.hexString(20)),this.sequences=Object.create(null)}_sequence(e){var t=this.sequences[e]||null;if(null===t){for(var r=this.seed.concat(e),n=0;n<r.length;n++)\"function\"==typeof r[n]&&(r[n]=r[n]());this.sequences[e]=t=a.createWithSeeds.apply(null,r)}return t}},e.RandomStream.get=function(t,r){if(r||(r=\"default\"),!t)return a.insecure;var n=t.randomStream;return n||(t.randomStream=n=new e.RandomStream({seed:t.randomSeed})),n._sequence(r)},e.makeRpcSeed=function(t,a){return e.RandomStream.get(t,\"/rpc/\"+a).hexString(20)}}}}}},{extensions:[\".js\",\".json\"]}),eagerModulePaths:[\"/node_modules/meteor/ddp-common/namespace.js\",\"/node_modules/meteor/ddp-common/heartbeat.js\",\"/node_modules/meteor/ddp-common/utils.js\",\"/node_modules/meteor/ddp-common/method_invocation.js\",\"/node_modules/meteor/ddp-common/random_stream.js\"]}});","map":"{\"version\":3,\"sources\":[\"packages/ddp-common/namespace.js\",\"packages/ddp-common/heartbeat.js\",\"packages/ddp-common/utils.js\",\"packages/ddp-common/method_invocation.js\",\"packages/ddp-common/random_stream.js\",\"<anon>\"],\"sourcesContent\":[\"/**\\n * @namespace DDPCommon\\n * @summary Namespace for DDPCommon-related methods/classes. Shared between \\n * `ddp-client` and `ddp-server`, where the ddp-client is the implementation\\n * of a ddp client for both client AND server; and the ddp server is the\\n * implementation of the livedata server and stream server. Common \\n * functionality shared between both can be shared under this namespace\\n */\\nDDPCommon = {};\\n\",\"// Heartbeat options:\\n//   heartbeatInterval: interval to send pings, in milliseconds.\\n//   heartbeatTimeout: timeout to close the connection if a reply isn't\\n//     received, in milliseconds.\\n//   sendPing: function to call to send a ping on the connection.\\n//   onTimeout: function to call to close the connection.\\n\\nDDPCommon.Heartbeat = class Heartbeat {\\n  constructor(options) {\\n    this.heartbeatInterval = options.heartbeatInterval;\\n    this.heartbeatTimeout = options.heartbeatTimeout;\\n    this._sendPing = options.sendPing;\\n    this._onTimeout = options.onTimeout;\\n    this._seenPacket = false;\\n\\n    this._heartbeatIntervalHandle = null;\\n    this._heartbeatTimeoutHandle = null;\\n  }\\n\\n  stop() {\\n    this._clearHeartbeatIntervalTimer();\\n    this._clearHeartbeatTimeoutTimer();\\n  }\\n\\n  start() {\\n    this.stop();\\n    this._startHeartbeatIntervalTimer();\\n  }\\n\\n  _startHeartbeatIntervalTimer() {\\n    this._heartbeatIntervalHandle = Meteor.setInterval(\\n      () => this._heartbeatIntervalFired(),\\n      this.heartbeatInterval\\n    );\\n  }\\n\\n  _startHeartbeatTimeoutTimer() {\\n    this._heartbeatTimeoutHandle = Meteor.setTimeout(\\n      () => this._heartbeatTimeoutFired(),\\n      this.heartbeatTimeout\\n    );\\n  }\\n\\n  _clearHeartbeatIntervalTimer() {\\n    if (this._heartbeatIntervalHandle) {\\n      Meteor.clearInterval(this._heartbeatIntervalHandle);\\n      this._heartbeatIntervalHandle = null;\\n    }\\n  }\\n\\n  _clearHeartbeatTimeoutTimer() {\\n    if (this._heartbeatTimeoutHandle) {\\n      Meteor.clearTimeout(this._heartbeatTimeoutHandle);\\n      this._heartbeatTimeoutHandle = null;\\n    }\\n  }\\n\\n  // The heartbeat interval timer is fired when we should send a ping.\\n  _heartbeatIntervalFired() {\\n    // don't send ping if we've seen a packet since we last checked,\\n    // *or* if we have already sent a ping and are awaiting a timeout.\\n    // That shouldn't happen, but it's possible if\\n    // `this.heartbeatInterval` is smaller than\\n    // `this.heartbeatTimeout`.\\n    if (! this._seenPacket && ! this._heartbeatTimeoutHandle) {\\n      this._sendPing();\\n      // Set up timeout, in case a pong doesn't arrive in time.\\n      this._startHeartbeatTimeoutTimer();\\n    }\\n    this._seenPacket = false;\\n  }\\n\\n  // The heartbeat timeout timer is fired when we sent a ping, but we\\n  // timed out waiting for the pong.\\n  _heartbeatTimeoutFired() {\\n    this._heartbeatTimeoutHandle = null;\\n    this._onTimeout();\\n  }\\n\\n  messageReceived() {\\n    // Tell periodic checkin that we have seen a packet, and thus it\\n    // does not need to send a ping this cycle.\\n    this._seenPacket = true;\\n    // If we were waiting for a pong, we got it.\\n    if (this._heartbeatTimeoutHandle) {\\n      this._clearHeartbeatTimeoutTimer();\\n    }\\n  }\\n};\\n\",\"\\\"use strict\\\";\\n\\nexport const hasOwn = Object.prototype.hasOwnProperty;\\nexport const slice = Array.prototype.slice;\\n\\nexport function keys(obj) {\\n  return Object.keys(Object(obj));\\n}\\n\\nexport function isEmpty(obj) {\\n  if (obj == null) {\\n    return true;\\n  }\\n\\n  if (Array.isArray(obj) ||\\n      typeof obj === \\\"string\\\") {\\n    return obj.length === 0;\\n  }\\n\\n  for (const key in obj) {\\n    if (hasOwn.call(obj, key)) {\\n      return false;\\n    }\\n  }\\n\\n  return true;\\n}\\n\\nexport function last(array, n, guard) {\\n  if (array == null) {\\n    return;\\n  }\\n\\n  if ((n == null) || guard) {\\n    return array[array.length - 1];\\n  }\\n\\n  return slice.call(array, Math.max(array.length - n, 0));\\n}\\n\\nDDPCommon.SUPPORTED_DDP_VERSIONS = [ '1', 'pre2', 'pre1' ];\\n\\nDDPCommon.parseDDP = function (stringMessage) {\\n  try {\\n    var msg = JSON.parse(stringMessage);\\n  } catch (e) {\\n    Meteor._debug(\\\"Discarding message with invalid JSON\\\", stringMessage);\\n    return null;\\n  }\\n  // DDP messages must be objects.\\n  if (msg === null || typeof msg !== 'object') {\\n    Meteor._debug(\\\"Discarding non-object DDP message\\\", stringMessage);\\n    return null;\\n  }\\n\\n  // massage msg to get it into \\\"abstract ddp\\\" rather than \\\"wire ddp\\\" format.\\n\\n  // switch between \\\"cleared\\\" rep of unsetting fields and \\\"undefined\\\"\\n  // rep of same\\n  if (hasOwn.call(msg, 'cleared')) {\\n    if (! hasOwn.call(msg, 'fields')) {\\n      msg.fields = {};\\n    }\\n    msg.cleared.forEach(clearKey => {\\n      msg.fields[clearKey] = undefined;\\n    });\\n    delete msg.cleared;\\n  }\\n\\n  ['fields', 'params', 'result'].forEach(field => {\\n    if (hasOwn.call(msg, field)) {\\n      msg[field] = EJSON._adjustTypesFromJSONValue(msg[field]);\\n    }\\n  });\\n\\n  return msg;\\n};\\n\\nDDPCommon.stringifyDDP = function (msg) {\\n  const copy = EJSON.clone(msg);\\n\\n  // swizzle 'changed' messages from 'fields undefined' rep to 'fields\\n  // and cleared' rep\\n  if (hasOwn.call(msg, 'fields')) {\\n    const cleared = [];\\n\\n    Object.keys(msg.fields).forEach(key => {\\n      const value = msg.fields[key];\\n\\n      if (typeof value === \\\"undefined\\\") {\\n        cleared.push(key);\\n        delete copy.fields[key];\\n      }\\n    });\\n\\n    if (! isEmpty(cleared)) {\\n      copy.cleared = cleared;\\n    }\\n\\n    if (isEmpty(copy.fields)) {\\n      delete copy.fields;\\n    }\\n  }\\n\\n  // adjust types to basic\\n  ['fields', 'params', 'result'].forEach(field => {\\n    if (hasOwn.call(copy, field)) {\\n      copy[field] = EJSON._adjustTypesToJSONValue(copy[field]);\\n    }\\n  });\\n\\n  if (msg.id && typeof msg.id !== 'string') {\\n    throw new Error(\\\"Message id is not a string\\\");\\n  }\\n\\n  return JSON.stringify(copy);\\n};\\n\",\"// Instance name is this because it is usually referred to as this inside a\\n// method definition\\n/**\\n * @summary The state for a single invocation of a method, referenced by this\\n * inside a method definition.\\n * @param {Object} options\\n * @instanceName this\\n * @showInstanceName true\\n */\\nDDPCommon.MethodInvocation = class MethodInvocation {\\n  constructor(options) {\\n    // true if we're running not the actual method, but a stub (that is,\\n    // if we're on a client (which may be a browser, or in the future a\\n    // server connecting to another server) and presently running a\\n    // simulation of a server-side method for latency compensation\\n    // purposes). not currently true except in a client such as a browser,\\n    // since there's usually no point in running stubs unless you have a\\n    // zero-latency connection to the user.\\n\\n    /**\\n     * @summary The name given to the method.\\n     * @locus Anywhere\\n     * @name  name\\n     * @memberOf DDPCommon.MethodInvocation\\n     * @instance\\n     * @type {String}\\n     */\\n    this.name = options.name;\\n\\n    /**\\n     * @summary Access inside a method invocation.  Boolean value, true if this invocation is a stub.\\n     * @locus Anywhere\\n     * @name  isSimulation\\n     * @memberOf DDPCommon.MethodInvocation\\n     * @instance\\n     * @type {Boolean}\\n     */\\n    this.isSimulation = options.isSimulation;\\n\\n    // call this function to allow other method invocations (from the\\n    // same client) to continue running without waiting for this one to\\n    // complete.\\n    this._unblock = options.unblock || function () {};\\n    this._calledUnblock = false;\\n\\n    // used to know when the function apply was called by callAsync\\n    this._isFromCallAsync = options.isFromCallAsync;\\n\\n    // current user id\\n\\n    /**\\n     * @summary The id of the user that made this method call, or `null` if no user was logged in.\\n     * @locus Anywhere\\n     * @name  userId\\n     * @memberOf DDPCommon.MethodInvocation\\n     * @instance\\n     */\\n    this.userId = options.userId;\\n\\n    // sets current user id in all appropriate server contexts and\\n    // reruns subscriptions\\n    this._setUserId = options.setUserId || function () {};\\n\\n    // On the server, the connection this method call came in on.\\n\\n    /**\\n     * @summary Access inside a method invocation. The [connection](#meteor_onconnection) that this method was received on. `null` if the method is not associated with a connection, eg. a server initiated method call. Calls to methods made from a server method which was in turn initiated from the client share the same `connection`.\\n     * @locus Server\\n     * @name  connection\\n     * @memberOf DDPCommon.MethodInvocation\\n     * @instance\\n     */\\n    this.connection = options.connection;\\n\\n    // The seed for randomStream value generation\\n    this.randomSeed = options.randomSeed;\\n\\n    // This is set by RandomStream.get; and holds the random stream state\\n    this.randomStream = null;\\n\\n    this.fence = options.fence;\\n  }\\n\\n  /**\\n   * @summary Call inside a method invocation.  Allow subsequent method from this client to begin running in a new fiber.\\n   * @locus Server\\n   * @memberOf DDPCommon.MethodInvocation\\n   * @instance\\n   */\\n  unblock() {\\n    this._calledUnblock = true;\\n    this._unblock();\\n  }\\n\\n  /**\\n   * @summary Set the logged in user.\\n   * @locus Server\\n   * @memberOf DDPCommon.MethodInvocation\\n   * @instance\\n   * @param {String | null} userId The value that should be returned by `userId` on this connection.\\n   */\\n  async setUserId(userId) {\\n    if (this._calledUnblock) {\\n      throw new Error(\\\"Can't call setUserId in a method after calling unblock\\\");\\n    }\\n    this.userId = userId;\\n    await this._setUserId(userId);\\n  }\\n};\\n\",\"// RandomStream allows for generation of pseudo-random values, from a seed.\\n//\\n// We use this for consistent 'random' numbers across the client and server.\\n// We want to generate probably-unique IDs on the client, and we ideally want\\n// the server to generate the same IDs when it executes the method.\\n//\\n// For generated values to be the same, we must seed ourselves the same way,\\n// and we must keep track of the current state of our pseudo-random generators.\\n// We call this state the scope. By default, we use the current DDP method\\n// invocation as our scope.  DDP now allows the client to specify a randomSeed.\\n// If a randomSeed is provided it will be used to seed our random sequences.\\n// In this way, client and server method calls will generate the same values.\\n//\\n// We expose multiple named streams; each stream is independent\\n// and is seeded differently (but predictably from the name).\\n// By using multiple streams, we support reordering of requests,\\n// as long as they occur on different streams.\\n//\\n// @param options {Optional Object}\\n//   seed: Array or value - Seed value(s) for the generator.\\n//                          If an array, will be used as-is\\n//                          If a value, will be converted to a single-value array\\n//                          If omitted, a random array will be used as the seed.\\nDDPCommon.RandomStream = class RandomStream {\\n  constructor(options) {\\n    this.seed = [].concat(options.seed || randomToken());\\n    this.sequences = Object.create(null);\\n  }\\n\\n  // Get a random sequence with the specified name, creating it if does not exist.\\n  // New sequences are seeded with the seed concatenated with the name.\\n  // By passing a seed into Random.create, we use the Alea generator.\\n  _sequence(name) {\\n    var self = this;\\n\\n    var sequence = self.sequences[name] || null;\\n    if (sequence === null) {\\n      var sequenceSeed = self.seed.concat(name);\\n      for (var i = 0; i < sequenceSeed.length; i++) {\\n        if (typeof sequenceSeed[i] === \\\"function\\\") {\\n          sequenceSeed[i] = sequenceSeed[i]();\\n        }\\n      }\\n      self.sequences[name] = sequence = Random.createWithSeeds.apply(null, sequenceSeed);\\n    }\\n    return sequence;\\n  }\\n};\\n\\n// Returns a random string of sufficient length for a random seed.\\n// This is a placeholder function; a similar function is planned\\n// for Random itself; when that is added we should remove this function,\\n// and call Random's randomToken instead.\\nfunction randomToken() {\\n  return Random.hexString(20);\\n};\\n\\n// Returns the random stream with the specified name, in the specified\\n// scope. If a scope is passed, then we use that to seed a (not\\n// cryptographically secure) PRNG using the fast Alea algorithm.  If\\n// scope is null (or otherwise falsey) then we use a generated seed.\\n//\\n// However, scope will normally be the current DDP method invocation,\\n// so we'll use the stream with the specified name, and we should get\\n// consistent values on the client and server sides of a method call.\\nDDPCommon.RandomStream.get = function (scope, name) {\\n  if (!name) {\\n    name = \\\"default\\\";\\n  }\\n  if (!scope) {\\n    // There was no scope passed in; the sequence won't actually be\\n    // reproducible. but make it fast (and not cryptographically\\n    // secure) anyways, so that the behavior is similar to what you'd\\n    // get by passing in a scope.\\n    return Random.insecure;\\n  }\\n  var randomStream = scope.randomStream;\\n  if (!randomStream) {\\n    scope.randomStream = randomStream = new DDPCommon.RandomStream({\\n      seed: scope.randomSeed\\n    });\\n  }\\n  return randomStream._sequence(name);\\n};\\n\\n// Creates a randomSeed for passing to a method call.\\n// Note that we take enclosing as an argument,\\n// though we expect it to be DDP._CurrentMethodInvocation.get()\\n// However, we often evaluate makeRpcSeed lazily, and thus the relevant\\n// invocation may not be the one currently in scope.\\n// If enclosing is null, we'll use Random and values won't be repeatable.\\nDDPCommon.makeRpcSeed = function (enclosing, methodName) {\\n  var stream = DDPCommon.RandomStream.get(enclosing, '/rpc/' + methodName);\\n  return stream.hexString(20);\\n};\\n\",null],\"names\":[\"DDPCommon\",\"Heartbeat\",\"constructor\",\"options\",\"heartbeatInterval\",\"heartbeatTimeout\",\"_sendPing\",\"sendPing\",\"_onTimeout\",\"onTimeout\",\"_seenPacket\",\"_heartbeatIntervalHandle\",\"_heartbeatTimeoutHandle\",\"stop\",\"_clearHeartbeatIntervalTimer\",\"_clearHeartbeatTimeoutTimer\",\"start\",\"_startHeartbeatIntervalTimer\",\"Meteor\",\"setInterval\",\"_heartbeatIntervalFired\",\"_startHeartbeatTimeoutTimer\",\"setTimeout\",\"_heartbeatTimeoutFired\",\"clearInterval\",\"clearTimeout\",\"messageReceived\",\"module\",\"export\",\"hasOwn\",\"slice\",\"keys\",\"isEmpty\",\"last\",\"Object\",\"prototype\",\"hasOwnProperty\",\"Array\",\"obj\",\"isArray\",\"length\",\"key\",\"call\",\"array\",\"n\",\"guard\",\"Math\",\"max\",\"SUPPORTED_DDP_VERSIONS\",\"parseDDP\",\"stringMessage\",\"msg\",\"JSON\",\"parse\",\"e\",\"_debug\",\"fields\",\"cleared\",\"forEach\",\"clearKey\",\"undefined\",\"field\",\"EJSON\",\"_adjustTypesFromJSONValue\",\"stringifyDDP\",\"copy\",\"clone\",\"value\",\"push\",\"_adjustTypesToJSONValue\",\"id\",\"Error\",\"stringify\",\"MethodInvocation\",\"name\",\"isSimulation\",\"_unblock\",\"unblock\",\"_calledUnblock\",\"_isFromCallAsync\",\"isFromCallAsync\",\"userId\",\"_setUserId\",\"setUserId\",\"connection\",\"randomSeed\",\"randomStream\",\"fence\",\"RandomStream\",\"seed\",\"concat\",\"Random\",\"hexString\",\"sequences\",\"create\",\"_sequence\",\"sequence\",\"self\",\"sequenceSeed\",\"i\",\"createWithSeeds\",\"apply\",\"get\",\"scope\",\"insecure\",\"makeRpcSeed\",\"enclosing\",\"methodName\",\"stream\"],\"mappings\":\"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\"}"}