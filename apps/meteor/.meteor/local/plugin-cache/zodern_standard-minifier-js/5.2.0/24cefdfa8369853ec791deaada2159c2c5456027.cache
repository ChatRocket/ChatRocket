{"code":"function module(n,r,t){t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(n){e=n}},0),t.link(\"@babel/runtime/helpers/typeof\",{default:function(n){u=n}},1),t.export({createLookupFunction:function(){return c}}),t.link(\"./comparisons\",{isEmptyArray:function(n){i=n}},0);var e,u,i,o=function(n){return null==n},a=function(n){return null!=n&&(\"object\"===u(n)||\"function\"==typeof n)},c=function(n){var r=n.split(/\\.(.+)/),t=e(r,2),u=t[0],f=t[1];if(!f)return function(n){return o(n)||!a(n)?[void 0]:[n[u]]};var l=c(f),p=/^\\d+(\\.|$)/.test(f);return function(n){if(o(n)||!a(n))return[void 0];var r=n[u];if(i(r))return[void 0];var t=Array.isArray(r)||p?r:[r];return Array.prototype.concat.apply([],t.map(l))}}}","map":"{\"version\":3,\"sources\":[\"client/lib/minimongo/lookups.ts\",\"<anon>\"],\"sourcesContent\":[\"import { isEmptyArray } from './comparisons';\\n\\nconst isNullDocument = (doc: unknown): doc is undefined | null => doc === undefined || doc === null;\\n\\nconst isRecordDocument = (doc: unknown): doc is Record<string, unknown> =>\\n\\tdoc !== undefined && doc !== null && (typeof doc === 'object' || typeof doc === 'function');\\n\\nconst isIndexedByNumber = <T>(value: unknown, isIndexedByNumber: boolean): value is T[] => Array.isArray(value) || isIndexedByNumber;\\n\\nexport const createLookupFunction = <T>(key: string): ((doc: T) => unknown[]) => {\\n\\tconst [first, rest] = key.split(/\\\\.(.+)/);\\n\\n\\tif (!rest) {\\n\\t\\treturn <T>(doc: T): unknown[] => {\\n\\t\\t\\tif (isNullDocument(doc) || !isRecordDocument(doc)) {\\n\\t\\t\\t\\treturn [undefined];\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn [doc[first]];\\n\\t\\t};\\n\\t}\\n\\n\\tconst lookupRest = createLookupFunction(rest);\\n\\tconst nextIsNumeric = /^\\\\d+(\\\\.|$)/.test(rest);\\n\\n\\treturn <T>(doc: T): unknown[] => {\\n\\t\\tif (isNullDocument(doc) || !isRecordDocument(doc)) {\\n\\t\\t\\treturn [undefined];\\n\\t\\t}\\n\\n\\t\\tconst firstLevel = doc[first];\\n\\n\\t\\tif (isEmptyArray(firstLevel)) {\\n\\t\\t\\treturn [undefined];\\n\\t\\t}\\n\\n\\t\\tconst docs = isIndexedByNumber(firstLevel, nextIsNumeric) ? firstLevel : [firstLevel as T];\\n\\t\\treturn Array.prototype.concat.apply([], docs.map(lookupRest));\\n\\t};\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_slicedToArray\",\"_typeof\",\"export\",\"createLookupFunction\",\"isEmptyArray\",\"isNullDocument\",\"doc\",\"isRecordDocument\",\"key\",\"_key$split\",\"split\",\"_key$split2\",\"first\",\"rest\",\"undefined\",\"lookupRest\",\"nextIsNumeric\",\"test\",\"firstLevel\",\"docs\",\"isIndexedByNumber\",\"Array\",\"isArray\",\"prototype\",\"concat\",\"apply\",\"map\"],\"mappings\":\"uBAASA,EAAcC,IAAM,CAAA,uCAAgB,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAA7CH,EAAOM,MAAE,CAAA,CAAAC,qBAAoB,WAAgB,OAAAA,CAAA,CAAA,GAAAP,EAAAC,IAAA,CAAA,gBAAA,CAAAO,aAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAE7C,IAFAC,EAA6CC,EAAAG,EAEvCC,EAAiB,SAACC,CAAY,EAAA,OAA8BA,MAAAA,CAAiC,EAE7FC,EAAmB,SAACD,CAAY,EAAA,OACrCA,MAAAA,GAAsCL,CAAAA,AAAe,WAAfA,EAAOK,IAAoB,AAAe,YAAf,OAAOA,CAAQ,CAAW,EAI/EH,EAAuB,SAAIK,CAAW,EAClD,IAAAC,EAAsBD,EAAIE,KAAK,CAAC,UAASC,EAAAX,EAAAS,EAAA,GAAlCG,EAAKD,CAAA,CAAA,EAAA,CAAEE,EAAIF,CAAA,CAAA,EAAA,CAElB,GAAI,CAACE,EACJ,OAAO,SAAIP,CAAM,SAChB,AAAID,EAAeC,IAAQ,CAACC,EAAiBD,GACrC,CAACQ,KAAAA,EAAU,CAGZ,CAACR,CAAG,CAACM,EAAM,CAAC,AACpB,EAGD,IAAMG,EAAaZ,EAAqBU,GAClCG,EAAgB,aAAaC,IAAI,CAACJ,GAExC,OAAO,SAAIP,CAAM,EAChB,GAAID,EAAeC,IAAQ,CAACC,EAAiBD,GAC5C,MAAO,CAACQ,KAAAA,EAAU,CAGnB,IAAMI,EAAaZ,CAAG,CAACM,EAAM,CAE7B,GAAIR,EAAac,GAChB,MAAO,CAACJ,KAAAA,EAAU,CAGnB,IAAMK,EAAOC,AA7B4EC,MAAMC,OAAO,CA6BvEJ,IAAYF,EAAiBE,EAAa,CAACA,EAAgB,CAC1F,OAAOG,MAAME,SAAS,CAACC,MAAM,CAACC,KAAK,CAAC,EAAE,CAAEN,EAAKO,GAAG,CAACX,GAClD,CACD\"}"}