{"code":"function module(e,t,n){let a,o,l,c,s,r,i,u,k;n.link(\"@rocket.chat/fuselage\",{IconButton(e){a=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){o=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){l=e},useToastMessageDispatch(e){c=e},useTranslation(e){s=e}},2),n.link(\"react\",{default(e){r=e}},3),n.link(\"../../../components/GenericModal\",{default(e){i=e}},4),n.link(\"../../../components/GenericTable\",{GenericTableCell(e){u=e}},5),n.link(\"../../../hooks/useEndpointAction\",{useEndpointAction(e){k=e}},6),n.exportDefault(e=>{let{_id:t,reload:n}=e,m=s(),p=k(\"DELETE\",\"/v1/livechat/users/manager/:_id\",{keys:{_id:t}}),d=l(),f=c(),h=o(async()=>{await p(),n()}),g=o(e=>{e.stopPropagation();let t=async()=>{try{await h(),f({type:\"success\",message:m(\"Manager_removed\")})}catch(e){(\"string\"==typeof e||e instanceof Error)&&f({type:\"error\",message:e})}d()};d(r.createElement(i,{variant:\"danger\",onConfirm:t,onCancel:()=>d(),onClose:()=>d(),confirmText:m(\"Delete\")}))});return r.createElement(u,{fontScale:\"p2\",color:\"hint\",withTruncatedText:!0},r.createElement(a,{small:!0,icon:\"trash\",title:m(\"Remove\"),onClick:g}))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/managers/RemoveManagerButton.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { IconButton } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\n\\nimport GenericModal from '../../../components/GenericModal';\\nimport { GenericTableCell } from '../../../components/GenericTable';\\nimport { useEndpointAction } from '../../../hooks/useEndpointAction';\\n\\nconst RemoveManagerButton = ({ _id, reload }: { _id: string; reload: () => void }): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst deleteAction = useEndpointAction('DELETE', '/v1/livechat/users/manager/:_id', { keys: { _id } });\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst handleRemoveClick = useMutableCallback(async () => {\\n\\t\\tawait deleteAction();\\n\\t\\treload();\\n\\t});\\n\\tconst handleDelete = useMutableCallback((e) => {\\n\\t\\te.stopPropagation();\\n\\t\\tconst onDeleteManager = async (): Promise<void> => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait handleRemoveClick();\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Manager_removed') });\\n\\t\\t\\t} catch (error: unknown) {\\n\\t\\t\\t\\t(typeof error === 'string' || error instanceof Error) && dispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t}\\n\\t\\t\\tsetModal();\\n\\t\\t};\\n\\n\\t\\tsetModal(\\n\\t\\t\\t<GenericModal\\n\\t\\t\\t\\tvariant='danger'\\n\\t\\t\\t\\tonConfirm={onDeleteManager}\\n\\t\\t\\t\\tonCancel={(): void => setModal()}\\n\\t\\t\\t\\tonClose={(): void => setModal()}\\n\\t\\t\\t\\tconfirmText={t('Delete')}\\n\\t\\t\\t/>,\\n\\t\\t);\\n\\t});\\n\\n\\treturn (\\n\\t\\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\\n\\t\\t\\t<IconButton small icon='trash' title={t('Remove')} onClick={handleDelete} />\\n\\t\\t</GenericTableCell>\\n\\t);\\n};\\n\\nexport default RemoveManagerButton;\\n\",null],\"names\":[\"IconButton\",\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useTranslation\",\"React\",\"GenericModal\",\"GenericTableCell\",\"useEndpointAction\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"_id\",\"reload\",\"t\",\"deleteAction\",\"keys\",\"setModal\",\"dispatchToastMessage\",\"handleRemoveClick\",\"handleDelete\",\"e\",\"stopPropagation\",\"onDeleteManager\",\"type\",\"message\",\"error\",\"Error\",\"createElement\",\"variant\",\"onConfirm\",\"onCancel\",\"onClose\",\"confirmText\",\"fontScale\",\"color\",\"withTruncatedText\",\"small\",\"icon\",\"title\",\"onClick\"],\"mappings\":\"2BAAAA,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA1CC,EAAYC,IAAA,CAAM,wBAAwB,CAAAV,WAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAT,mBAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAR,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,wBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,eAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAAH,iBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAAF,kBAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAnDF,EAAOI,aAAY,CAUSC,IAAuE,GAAtE,CAAEC,IAAAA,CAAG,CAAEC,OAAAA,CAAAA,CAA6C,CAAAF,EAC1EG,EAAIb,IACJc,EAAeV,EAAkB,SAAU,kCAAmC,CAAEW,KAAM,CAAEJ,IAAAA,CAAG,CAAE,GAC7FK,EAAWlB,IACXmB,EAAuBlB,IAEvBmB,EAAoBrB,EAAmB,UAC5C,MAAMiB,IACNF,GACD,GACMO,EAAetB,EAAoBuB,IACxCA,EAAEC,eAAe,GACjB,IAAMC,EAAkB,UACvB,GAAI,CACH,MAAMJ,IACND,EAAqB,CAAEM,KAAM,UAAWC,QAASX,EAAE,kBAAkB,EACtE,CAAE,MAAOY,EAAgB,CACxB,AAAC,CAAA,AAAiB,UAAjB,OAAOA,GAAsBA,aAAiBC,KAAAA,GAAUT,EAAqB,CAAEM,KAAM,QAASC,QAASC,CAAK,EAC9G,CACAT,GACD,EAEAA,EACCf,EAAA0B,aAAA,CAACzB,EAAY,CACZ0B,QAAQ,SACRC,UAAWP,EACXQ,SAAUA,IAAYd,IACtBe,QAASA,IAAYf,IACrBgB,YAAanB,EAAE,SAAU,GAG5B,GAEA,OACCZ,EAAA0B,aAAA,CAACxB,EAAgB,CAAC8B,UAAU,KAAKC,MAAM,OAAOC,kBAAiB,CAAA,CAAA,EAC9DlC,EAAA0B,aAAA,CAAC/B,EAAU,CAACwC,MAAK,CAAA,EAACC,KAAK,QAAQC,MAAOzB,EAAE,UAAW0B,QAASpB,CAAa,GAG5E\"}"}