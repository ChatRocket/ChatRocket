{"code":"function module(e,t,n){let l,a,i,r,s,o,u,c,g,k,d,h,m;n.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){l=e}},0),n.link(\"@rocket.chat/fuselage\",{Callout(e){a=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){i=e},usePermission(e){r=e}},1),n.link(\"@tanstack/react-query\",{useQuery(e){s=e}},2),n.link(\"react\",{default(e){o=e}},3),n.link(\"react-i18next\",{useTranslation(e){u=e}},4),n.link(\"../../../components/Page\",{Page(e){c=e},PageHeader(e){g=e},PageScrollableContentWithShadow(e){k=e}},5),n.link(\"../../../components/PageSkeleton\",{default(e){d=e}},6),n.link(\"../../notAuthorized/NotAuthorizedPage\",{default(e){h=e}},7),n.link(\"./WebhooksPage\",{default(e){m=e}},8);let E=e=>e.reduce((e,t)=>{let{_id:n,value:a}=t;return e=l(l({},e),{},{[n]:a})},{});n.exportDefault(()=>{let{t:e}=u(),t=i(\"GET\",\"/v1/livechat/integrations.settings\"),{data:n,isLoading:l,isError:f}=s([\"/v1/livechat/integrations.settings\"],async()=>{let{settings:e,success:n}=await t();return{settings:E(e),success:n}}),P=r(\"view-livechat-webhooks\");return P?l?o.createElement(d,null):null!=n&&n.success&&null!=n&&n.settings&&!f?o.createElement(m,{settings:n.settings}):o.createElement(c,null,o.createElement(g,{title:e(\"Webhooks\")}),o.createElement(k,null,o.createElement(a,{type:\"danger\"},e(\"Error\")))):o.createElement(h,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/webhooks/WebhooksPageContainer.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ISetting, Serialized, SettingValue } from '@rocket.chat/core-typings';\\nimport { Callout } from '@rocket.chat/fuselage';\\nimport { useEndpoint, usePermission } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport PageSkeleton from '../../../components/PageSkeleton';\\nimport NotAuthorizedPage from '../../notAuthorized/NotAuthorizedPage';\\nimport WebhooksPage from './WebhooksPage';\\n\\nconst reduceSettings = (settings: Serialized<ISetting>[]) =>\\n\\tsettings.reduce<Record<string, SettingValue>>((acc, { _id, value }) => {\\n\\t\\tacc = { ...acc, [_id]: value };\\n\\t\\treturn acc;\\n\\t}, {});\\n\\nconst WebhooksPageContainer = () => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst getIntegrationsSettings = useEndpoint('GET', '/v1/livechat/integrations.settings');\\n\\n\\tconst { data, isLoading, isError } = useQuery(['/v1/livechat/integrations.settings'], async () => {\\n\\t\\tconst { settings, success } = await getIntegrationsSettings();\\n\\t\\treturn { settings: reduceSettings(settings), success };\\n\\t});\\n\\n\\tconst canViewLivechatWebhooks = usePermission('view-livechat-webhooks');\\n\\n\\tif (!canViewLivechatWebhooks) {\\n\\t\\treturn <NotAuthorizedPage />;\\n\\t}\\n\\n\\tif (isLoading) {\\n\\t\\treturn <PageSkeleton />;\\n\\t}\\n\\n\\tif (!data?.success || !data?.settings || isError) {\\n\\t\\treturn (\\n\\t\\t\\t<Page>\\n\\t\\t\\t\\t<PageHeader title={t('Webhooks')} />\\n\\t\\t\\t\\t<PageScrollableContentWithShadow>\\n\\t\\t\\t\\t\\t<Callout type='danger'>{t('Error')}</Callout>\\n\\t\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t\\t</Page>\\n\\t\\t);\\n\\t}\\n\\n\\treturn <WebhooksPage settings={data.settings} />;\\n};\\n\\nexport default WebhooksPageContainer;\\n\",null],\"names\":[\"_objectSpread\",\"Callout\",\"useEndpoint\",\"usePermission\",\"useQuery\",\"React\",\"useTranslation\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"PageSkeleton\",\"NotAuthorizedPage\",\"WebhooksPage\",\"module\",\"link\",\"default\",\"v\",\"reduceSettings\",\"settings\",\"reduce\",\"acc\",\"_ref\",\"_id\",\"value\",\"exportDefault\",\"WebhooksPageContainer\",\"t\",\"getIntegrationsSettings\",\"data\",\"isLoading\",\"isError\",\"success\",\"canViewLivechatWebhooks\",\"createElement\",\"title\",\"type\"],\"mappings\":\"2BACAA,EAAAC,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAMC,IAAA,CAAA,uCAAwB,CAAAC,QAAAC,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAAvCH,EAASC,IAAA,CAAM,wBAAwB,CAAAb,QAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAZ,YAAAc,CAAA,EAAAd,EAAAc,CAAA,EAAAb,cAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAV,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAR,eAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAP,KAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,WAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,gCAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,mCAAA,CAAAC,QAAAC,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wCAAA,CAAAC,QAAAC,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iBAAA,CAAAC,QAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAWhD,IAAMC,EAAkBC,GACvBA,EAASC,MAAM,CAA+B,CAACC,EAAGC,KAAoB,GAAlB,CAAEC,IAAAA,CAAG,CAAEC,MAAAA,CAAAA,CAAO,CAAAF,EAEjE,OADAD,EAAGpB,EAAAA,EAAA,CAAA,EAAQoB,GAAG,CAAA,EAAA,CAAE,CAACE,EAAG,CAAGC,CAAK,EAE7B,EAAG,CAAA,GAfJV,EAAOW,aAAW,CAiBYC,KAC7B,GAAM,CAAEC,EAAAA,CAAAA,CAAG,CAAGpB,IAERqB,EAA0BzB,EAAY,MAAO,sCAE7C,CAAE0B,KAAAA,CAAI,CAAEC,UAAAA,CAAS,CAAEC,QAAAA,CAAAA,CAAS,CAAG1B,EAAS,CAAC,qCAAqC,CAAE,UACrF,GAAM,CAAEc,SAAAA,CAAQ,CAAEa,QAAAA,CAAAA,CAAS,CAAG,MAAMJ,IACpC,MAAO,CAAET,SAAUD,EAAeC,GAAWa,QAAAA,CAAO,CACrD,GAEMC,EAA0B7B,EAAc,iCAE9C,AAAK6B,EAIDH,EACIxB,EAAA4B,aAAA,CAACvB,EAAY,MAGjB,MAACkB,GAAAA,EAAMG,OAAO,EAAKH,MAAAA,GAAAA,EAAMV,QAAQ,GAAIY,EAWlCzB,EAAA4B,aAAA,CAACrB,EAAY,CAACM,SAAUU,EAAKV,QAAAA,AAAS,GAT3Cb,EAAA4B,aAAA,CAAC1B,EAAI,KACJF,EAAA4B,aAAA,CAACzB,EAAU,CAAC0B,MAAOR,EAAE,WAAY,GACjCrB,EAAA4B,aAAA,CAACxB,EAA+B,KAC/BJ,EAAA4B,aAAA,CAAChC,EAAO,CAACkC,KAAK,QAAQ,EAAET,EAAE,YAZtBrB,EAAA4B,aAAA,CAACtB,EAAiB,KAmB3B\"}"}