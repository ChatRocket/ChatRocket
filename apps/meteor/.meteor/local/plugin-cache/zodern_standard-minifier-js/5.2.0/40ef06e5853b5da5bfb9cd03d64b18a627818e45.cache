{"code":"function module(e,t,a){a.export({normalizeDepartments:()=>r});let r=async(e,t,a)=>{if(!t||\"all\"===t||e.some(e=>e._id===t))return e;try{let{department:t}=await a({});return t?[...e,{_id:t._id,label:t.name,value:t._id}]:e}catch(t){return e}}}","map":"{\"version\":3,\"sources\":[\"client/components/Omnichannel/utils/normalizeDepartments.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { EndpointFunction } from '@rocket.chat/ui-contexts';\\n\\nimport type { DepartmentListItem } from '../Definitions/DepartmentsDefinitions';\\n\\nexport const normalizeDepartments = async (\\n\\tdepartments: DepartmentListItem[],\\n\\tselectedDepartment: string,\\n\\tgetDepartment: EndpointFunction<'GET', '/v1/livechat/department/:_id'>,\\n): Promise<DepartmentListItem[]> => {\\n\\tconst isSelectedDepartmentAlreadyOnList = () => departments.some((department) => department._id === selectedDepartment);\\n\\tif (!selectedDepartment || selectedDepartment === 'all' || isSelectedDepartmentAlreadyOnList()) {\\n\\t\\treturn departments;\\n\\t}\\n\\n\\ttry {\\n\\t\\tconst { department: missingDepartment } = await getDepartment({});\\n\\n\\t\\treturn missingDepartment\\n\\t\\t\\t? [...departments, { _id: missingDepartment._id, label: missingDepartment.name, value: missingDepartment._id }]\\n\\t\\t\\t: departments;\\n\\t} catch {\\n\\t\\treturn departments;\\n\\t}\\n};\\n\",null],\"names\":[\"module\",\"export\",\"normalizeDepartments\",\"departments\",\"selectedDepartment\",\"getDepartment\",\"some\",\"department\",\"_id\",\"missingDepartment\",\"label\",\"name\",\"value\",\"_unused\"],\"mappings\":\"uBAIAA,EAAOC,MAAM,CAAA,CAAAC,qBAAuBA,IAAAA,CAEnC,GAFM,IAAMA,EAAuB,MACnCC,EACAC,EACAC,KAGA,GAAI,CAACD,GAAsBA,AAAuB,QAAvBA,GADqBD,EAAYG,IAAI,CAAEC,GAAeA,EAAWC,GAAG,GAAKJ,GAEnG,OAAOD,EAGR,GAAI,CACH,GAAM,CAAEI,WAAYE,CAAAA,CAAmB,CAAG,MAAMJ,EAAc,CAAA,GAE9D,OAAOI,EACJ,IAAIN,EAAa,CAAEK,IAAKC,EAAkBD,GAAG,CAAEE,MAAOD,EAAkBE,IAAI,CAAEC,MAAOH,EAAkBD,GAAAA,AAAG,EAAG,CAC7GL,CACJ,CAAE,MAAAU,EAAM,CACP,OAAOV,CACR,CACD\"}"}