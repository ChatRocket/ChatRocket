{"code":"function module(e,t,l){let r,n,o,i,a,s,u,d,c;l.link(\"@rocket.chat/fuselage\",{Box(e){r=e},Message(e){n=e}},0),l.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){o=e},useSetting(e){i=e},useToastMessageDispatch(e){a=e},useTranslation(e){s=e}},1),l.link(\"@tanstack/react-query\",{useQuery(e){u=e}},2),l.link(\"react\",{default(e){d=e}},3),l.link(\"./helpers/ReportReason\",{default(e){c=e}},4),l.exportDefault(e=>{let{msgId:t}=e,l=s(),f=a(),m=o(\"GET\",\"/v1/moderation.reports\"),h=!!i(\"UI_Use_Real_Name\"),{data:p,isLoading:g,isSuccess:E,isError:v}=u([\"moderation\",\"msgReports\",\"fetchReasons\",{msgId:t}],async()=>{let e=await m({msgId:t});return e},{onError:e=>{f({type:\"error\",message:e})}});if(g)return d.createElement(r,{display:\"flex\",flexDirection:\"column\",width:\"full\",height:\"full\",overflow:\"hidden\"},d.createElement(n,null,l(\"Loading\")));if(v)return d.createElement(r,{display:\"flex\",flexDirection:\"column\",width:\"full\",height:\"full\",overflow:\"hidden\"},d.createElement(n,null,l(\"Error\")));let{reports:y}=p;return d.createElement(d.Fragment,null,E&&(null==p?void 0:p.reports)&&d.createElement(r,{display:\"flex\",flexDirection:\"column\",width:\"full\",height:\"full\",overflowX:\"hidden\",overflowY:\"auto\"},y.map((e,t)=>{var l,r;return d.createElement(c,{key:e._id,ind:t+1,uinfo:h?null===(l=e.reportedBy)||void 0===l?void 0:l.name:null===(r=e.reportedBy)||void 0===r?void 0:r.username,msg:e.description,ts:new Date(e.ts)})})))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/moderation/MessageReportInfo.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Message } from '@rocket.chat/fuselage';\\nimport { useEndpoint, useSetting, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React from 'react';\\n\\nimport ReportReason from './helpers/ReportReason';\\n\\nconst MessageReportInfo = ({ msgId }: { msgId: string }): JSX.Element => {\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst getReportsByMessage = useEndpoint('GET', `/v1/moderation.reports`);\\n\\n\\tconst useRealName = Boolean(useSetting('UI_Use_Real_Name'));\\n\\n\\tconst {\\n\\t\\tdata: reportsByMessage,\\n\\t\\tisLoading: isLoadingReportsByMessage,\\n\\t\\tisSuccess: isSuccessReportsByMessage,\\n\\t\\tisError: isErrorReportsByMessage,\\n\\t} = useQuery(\\n\\t\\t['moderation', 'msgReports', 'fetchReasons', { msgId }],\\n\\t\\tasync () => {\\n\\t\\t\\tconst reports = await getReportsByMessage({ msgId });\\n\\t\\t\\treturn reports;\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tonError: (error) => {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t},\\n\\t\\t},\\n\\t);\\n\\n\\tif (isLoadingReportsByMessage) {\\n\\t\\treturn (\\n\\t\\t\\t<Box display='flex' flexDirection='column' width='full' height='full' overflow='hidden'>\\n\\t\\t\\t\\t<Message>{t('Loading')}</Message>\\n\\t\\t\\t</Box>\\n\\t\\t);\\n\\t}\\n\\n\\tif (isErrorReportsByMessage) {\\n\\t\\treturn (\\n\\t\\t\\t<Box display='flex' flexDirection='column' width='full' height='full' overflow='hidden'>\\n\\t\\t\\t\\t<Message>{t('Error')}</Message>\\n\\t\\t\\t</Box>\\n\\t\\t);\\n\\t}\\n\\n\\tconst { reports } = reportsByMessage;\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{isSuccessReportsByMessage && reportsByMessage?.reports && (\\n\\t\\t\\t\\t<Box display='flex' flexDirection='column' width='full' height='full' overflowX='hidden' overflowY='auto'>\\n\\t\\t\\t\\t\\t{reports.map((report, index) => (\\n\\t\\t\\t\\t\\t\\t<ReportReason\\n\\t\\t\\t\\t\\t\\t\\tkey={report._id}\\n\\t\\t\\t\\t\\t\\t\\tind={index + 1}\\n\\t\\t\\t\\t\\t\\t\\tuinfo={useRealName ? report.reportedBy?.name : report.reportedBy?.username}\\n\\t\\t\\t\\t\\t\\t\\tmsg={report.description}\\n\\t\\t\\t\\t\\t\\t\\tts={new Date(report.ts)}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default MessageReportInfo;\\n\",null],\"names\":[\"Box\",\"Message\",\"useEndpoint\",\"useSetting\",\"useToastMessageDispatch\",\"useTranslation\",\"useQuery\",\"React\",\"ReportReason\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"msgId\",\"t\",\"dispatchToastMessage\",\"getReportsByMessage\",\"useRealName\",\"Boolean\",\"data\",\"reportsByMessage\",\"isLoading\",\"isLoadingReportsByMessage\",\"isSuccess\",\"isSuccessReportsByMessage\",\"isError\",\"isErrorReportsByMessage\",\"reports\",\"onError\",\"error\",\"type\",\"message\",\"createElement\",\"display\",\"flexDirection\",\"width\",\"height\",\"overflow\",\"Fragment\",\"overflowX\",\"overflowY\",\"map\",\"report\",\"index\",\"_report$reportedBy\",\"_report$reportedBy2\",\"key\",\"_id\",\"ind\",\"uinfo\",\"reportedBy\",\"name\",\"username\",\"msg\",\"description\",\"ts\",\"Date\"],\"mappings\":\"2BAAAA,EAAOC,EAA8CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAASC,IAAA,CAAA,wBAA6B,CAACV,IAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,QAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAR,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,WAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,wBAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAJ,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yBAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAArDF,EAAOI,aAAO,CAOYC,IAA8C,GAA7C,CAAEC,MAAAA,CAAAA,CAA0B,CAAAD,EAChDE,EAAIX,IACJY,EAAuBb,IACvBc,EAAsBhB,EAAY,MAAK,0BAEvCiB,EAAcC,CAAAA,CAAQjB,EAAW,oBAEjC,CACLkB,KAAMC,CAAgB,CACtBC,UAAWC,CAAyB,CACpCC,UAAWC,CAAyB,CACpCC,QAASC,CAAAA,CACT,CAAGtB,EACH,CAAC,aAAc,aAAc,eAAgB,CAAES,MAAAA,CAAK,EAAG,CACvD,UACC,IAAMc,EAAU,MAAMX,EAAoB,CAAEH,MAAAA,CAAK,GACjD,OAAOc,CACR,EACA,CACCC,QAAUC,IACTd,EAAqB,CAAEe,KAAM,QAASC,QAASF,CAAK,EACrD,IAIF,GAAIP,EACH,OACCjB,EAAA2B,aAAA,CAAClC,EAAG,CAACmC,QAAQ,OAAOC,cAAc,SAASC,MAAM,OAAOC,OAAO,OAAOC,SAAS,QAAQ,EACtFhC,EAAA2B,aAAA,CAACjC,EAAO,KAAEe,EAAE,aAKf,GAAIY,EACH,OACCrB,EAAA2B,aAAA,CAAClC,EAAG,CAACmC,QAAQ,OAAOC,cAAc,SAASC,MAAM,OAAOC,OAAO,OAAOC,SAAS,QAAQ,EACtFhC,EAAA2B,aAAA,CAACjC,EAAO,KAAEe,EAAE,WAKf,GAAM,CAAEa,QAAAA,CAAAA,CAAS,CAAGP,EAEpB,OACCf,EAAA2B,aAAA,CAAA3B,EAAAiC,QAAA,CAAA,KACEd,GAA6BJ,CAAAA,MAAAA,EAAgB,KAAA,EAAhBA,EAAkBO,OAAO,AAAPA,GAC/CtB,EAAA2B,aAAA,CAAClC,EAAG,CAACmC,QAAQ,OAAOC,cAAc,SAASC,MAAM,OAAOC,OAAO,OAAOG,UAAU,SAASC,UAAU,MAAM,EACvGb,EAAQc,GAAG,CAAC,CAACC,EAAQC,KAAK,IAAAC,EAAAC,EAAA,OAC1BxC,EAAA2B,aAAA,CAAC1B,EAAY,CACZwC,IAAKJ,EAAOK,GAAI,CAChBC,IAAKL,EAAQ,EACbM,MAAOhC,EAAW,AAAoB,OAApB2B,CAAAA,EAAGF,EAAOQ,UAAU,AAAVA,GAAUN,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAjBA,EAAmBO,IAAI,CAAA,AAAoB,OAApBN,CAAAA,EAAGH,EAAOQ,UAAU,AAAVA,GAAUL,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAjBA,EAAmBO,QAAS,CAC3EC,IAAKX,EAAOY,WAAY,CACxBC,GAAI,IAAIC,KAAKd,EAAOa,EAAE,CAAE,EACvB,IAMR\"}"}