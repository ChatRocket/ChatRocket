{"code":"function module(e,n,t){var i,o,r,a,c,l,s,u,d,m,v,f=[\"current\",\"itemsPerPage\",\"setCurrent\",\"setItemsPerPage\"];t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){i=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMediaQuery:function(e){o=e}},0),t.link(\"react\",{default:function(e){r=e},useMemo:function(e){a=e}},1),t.link(\"react-i18next\",{useTranslation:function(e){c=e}},2),t.link(\"../../../../components/GenericTable\",{GenericTableHeaderCell:function(e){l=e}},3),t.link(\"../../../../components/GenericTable/hooks/usePagination\",{usePagination:function(e){s=e}},4),t.link(\"../../../../components/GenericTable/hooks/useSort\",{useSort:function(e){u=e}},5),t.link(\"../../../../components/deviceManagement/DeviceManagementTable\",{default:function(e){d=e}},6),t.link(\"../../../../hooks/useEndpointData\",{useEndpointData:function(e){m=e}},7),t.link(\"./DeviceManagementAccountRow\",{default:function(e){v=e}},8);var g={client:\"device.name\",os:\"device.os.name\",loginAt:\"loginAt\"};t.exportDefault(function(){var e=c().t,n=s(),t=n.current,k=n.itemsPerPage,p=n.setCurrent,P=n.setItemsPerPage,h=i(n,f),y=u(\"loginAt\"),A=y.sortBy,E=y.sortDirection,b=y.setSort,C=a(function(){var e;return{sort:JSON.stringify(((e={})[g[A]]=\"asc\"===E?1:-1,e)),count:k,offset:t}},[k,t,A,E]),D=m(\"/v1/sessions/list\",{params:C}),T=D.value,S=D.phase,_=D.error,M=D.reload,G=o(\"(min-width: 1024px)\"),I=a(function(){return[r.createElement(l,{key:\"client\",direction:E,active:\"client\"===A,onClick:b,sort:\"client\"},e(\"Client\")),r.createElement(l,{key:\"os\",direction:E,active:\"os\"===A,onClick:b,sort:\"os\"},e(\"OS\")),r.createElement(l,{key:\"loginAt\",direction:E,active:\"loginAt\"===A,onClick:b,sort:\"loginAt\"},e(\"Last_login\")),G&&r.createElement(l,{key:\"_id\"},e(\"Device_ID\")),r.createElement(l,{key:\"logout\"})]},[e,G,E,A,b]);return r.createElement(d,{data:T,phase:S,error:_,reload:M,headers:I,renderRow:function(e){var n,t,i;return r.createElement(v,{key:e._id,_id:e._id,deviceName:null===(n=e.device)||void 0===n?void 0:n.name,deviceType:null===(t=e.device)||void 0===t?void 0:t.type,deviceOSName:null===(i=e.device)||void 0===i?void 0:i.os.name,loginAt:e.loginAt,onReload:M})},current:t,itemsPerPage:k,setCurrent:p,setItemsPerPage:P,paginationProps:h})})}","map":"{\"version\":3,\"sources\":[\"client/views/account/deviceManagement/DeviceManagementAccountTable/DeviceManagementAccountTable.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useMediaQuery } from '@rocket.chat/fuselage-hooks';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { GenericTableHeaderCell } from '../../../../components/GenericTable';\\nimport { usePagination } from '../../../../components/GenericTable/hooks/usePagination';\\nimport { useSort } from '../../../../components/GenericTable/hooks/useSort';\\nimport DeviceManagementTable from '../../../../components/deviceManagement/DeviceManagementTable';\\nimport { useEndpointData } from '../../../../hooks/useEndpointData';\\nimport DeviceManagementAccountRow from './DeviceManagementAccountRow';\\n\\nconst sortMapping = {\\n\\tclient: 'device.name',\\n\\tos: 'device.os.name',\\n\\tloginAt: 'loginAt',\\n};\\n\\nconst DeviceManagementAccountTable = (): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst { current, itemsPerPage, setCurrent, setItemsPerPage, ...paginationProps } = usePagination();\\n\\tconst { sortBy, sortDirection, setSort } = useSort<'client' | 'os' | 'loginAt'>('loginAt');\\n\\n\\tconst query = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\tsort: JSON.stringify({ [sortMapping[sortBy]]: sortDirection === 'asc' ? 1 : -1 }),\\n\\t\\t\\tcount: itemsPerPage,\\n\\t\\t\\toffset: current,\\n\\t\\t}),\\n\\t\\t[itemsPerPage, current, sortBy, sortDirection],\\n\\t);\\n\\n\\tconst { value: data, phase, error, reload } = useEndpointData('/v1/sessions/list', { params: query });\\n\\n\\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\\n\\n\\tconst headers = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t<GenericTableHeaderCell key='client' direction={sortDirection} active={sortBy === 'client'} onClick={setSort} sort='client'>\\n\\t\\t\\t\\t{t('Client')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='os' direction={sortDirection} active={sortBy === 'os'} onClick={setSort} sort='os'>\\n\\t\\t\\t\\t{t('OS')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='loginAt' direction={sortDirection} active={sortBy === 'loginAt'} onClick={setSort} sort='loginAt'>\\n\\t\\t\\t\\t{t('Last_login')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\tmediaQuery && <GenericTableHeaderCell key='_id'>{t('Device_ID')}</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='logout' />,\\n\\t\\t],\\n\\t\\t[t, mediaQuery, sortDirection, sortBy, setSort],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<DeviceManagementTable\\n\\t\\t\\tdata={data}\\n\\t\\t\\tphase={phase}\\n\\t\\t\\terror={error}\\n\\t\\t\\treload={reload}\\n\\t\\t\\theaders={headers}\\n\\t\\t\\trenderRow={(session): ReactElement => (\\n\\t\\t\\t\\t<DeviceManagementAccountRow\\n\\t\\t\\t\\t\\tkey={session._id}\\n\\t\\t\\t\\t\\t_id={session._id}\\n\\t\\t\\t\\t\\tdeviceName={session.device?.name}\\n\\t\\t\\t\\t\\tdeviceType={session.device?.type}\\n\\t\\t\\t\\t\\tdeviceOSName={session.device?.os.name}\\n\\t\\t\\t\\t\\tloginAt={session.loginAt}\\n\\t\\t\\t\\t\\tonReload={reload}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\t\\t\\tcurrent={current}\\n\\t\\t\\titemsPerPage={itemsPerPage}\\n\\t\\t\\tsetCurrent={setCurrent}\\n\\t\\t\\tsetItemsPerPage={setItemsPerPage}\\n\\t\\t\\tpaginationProps={paginationProps}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default DeviceManagementAccountTable;\\n\",null],\"names\":[\"_objectWithoutProperties\",\"useMediaQuery\",\"React\",\"useMemo\",\"useTranslation\",\"GenericTableHeaderCell\",\"usePagination\",\"useSort\",\"DeviceManagementTable\",\"useEndpointData\",\"DeviceManagementAccountRow\",\"module\",\"link\",\"default\",\"v\",\"sortMapping\",\"client\",\"os\",\"loginAt\",\"exportDefault\",\"t\",\"_useTranslation\",\"_usePagination\",\"current\",\"itemsPerPage\",\"setCurrent\",\"setItemsPerPage\",\"paginationProps\",\"_excluded\",\"_useSort\",\"sortBy\",\"sortDirection\",\"setSort\",\"query\",\"_JSON$stringify\",\"sort\",\"JSON\",\"stringify\",\"count\",\"offset\",\"_useEndpointData\",\"params\",\"data\",\"value\",\"phase\",\"error\",\"reload\",\"mediaQuery\",\"headers\",\"createElement\",\"key\",\"direction\",\"active\",\"onClick\",\"renderRow\",\"session\",\"_session$device\",\"_session$device2\",\"_session$device3\",\"_id\",\"deviceName\",\"device\",\"name\",\"deviceType\",\"type\",\"deviceOSName\",\"onReload\"],\"mappings\":\"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\"}"}