{"code":"function module(e,s,i){i.export({isMessageSequential:function(){return u}}),i.link(\"date-fns\",{differenceInSeconds:function(e){n=e}},0),i.link(\"../../../../../app/ui-utils/lib/MessageTypes\",{MessageTypes:function(e){t=e}},1),i.link(\"./isMessageNewDay\",{isMessageNewDay:function(e){a=e}},2);var n,t,a,u=function(e,s,i){return!(!s||t.isSystemMessage(e)||t.isSystemMessage(s))&&(e.tmid?[s.tmid,s._id].includes(e.tmid):!s.tmid&&!1!==e.groupable&&e.u._id===s.u._id&&e.alias===s.alias&&n(e.ts,s.ts)<i&&!a(e,s))}}","map":"{\"version\":3,\"sources\":[\"client/views/room/MessageList/lib/isMessageSequential.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { differenceInSeconds } from 'date-fns';\\n\\nimport { MessageTypes } from '../../../../../app/ui-utils/lib/MessageTypes';\\nimport { isMessageNewDay } from './isMessageNewDay';\\n\\nexport const isMessageSequential = (current: IMessage, previous: IMessage | undefined, groupingRange: number): boolean => {\\n\\tif (!previous) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tif (MessageTypes.isSystemMessage(current) || MessageTypes.isSystemMessage(previous)) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tif (current.tmid) {\\n\\t\\treturn [previous.tmid, previous._id].includes(current.tmid);\\n\\t}\\n\\n\\tif (previous.tmid) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tif (current.groupable === false) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tif (current.u._id !== previous.u._id) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tif (current.alias !== previous.alias) {\\n\\t\\treturn false;\\n\\t}\\n\\treturn differenceInSeconds(current.ts, previous.ts) < groupingRange && !isMessageNewDay(current, previous);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"isMessageSequential\",\"link\",\"differenceInSeconds\",\"v\",\"MessageTypes\",\"isMessageNewDay\",\"current\",\"previous\",\"groupingRange\",\"isSystemMessage\",\"tmid\",\"_id\",\"includes\",\"groupable\",\"u\",\"alias\",\"ts\"],\"mappings\":\"uBACAA,EAAOC,MAAE,CAAA,CAAAC,oBAAqB,WAAgB,OAACA,CAAA,CAAA,GAAAF,EAAAG,IAAA,CAAA,WAAA,CAAAC,oBAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,+CAAA,CAAAG,aAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,oBAAA,CAAAI,gBAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAKxC,IALwCD,EAAAE,EAAAC,EAKlCL,EAAsB,SAACM,CAAiB,CAAEC,CAA8B,CAAEC,CAAqB,QAC3G,EAAI,CAACD,GAIDH,EAAaK,eAAe,CAACH,IAAYF,EAAaK,eAAe,CAACF,MAItED,EAAQI,IAAI,CACR,CAACH,EAASG,IAAI,CAAEH,EAASI,GAAG,CAAC,CAACC,QAAQ,CAACN,EAAQI,IAAI,GAGvDH,EAASG,IAAI,EAIbJ,AAAsB,CAAA,IAAtBA,EAAQO,SAAS,EAIjBP,EAAQQ,CAAC,CAACH,GAAG,GAAKJ,EAASO,CAAC,CAACH,GAAG,EAIhCL,EAAQS,KAAK,GAAKR,EAASQ,KAAK,EAG7Bb,EAAoBI,EAAQU,EAAE,CAAET,EAASS,EAAE,EAAIR,GAAiB,CAACH,EAAgBC,EAASC,GAClG\"}"}