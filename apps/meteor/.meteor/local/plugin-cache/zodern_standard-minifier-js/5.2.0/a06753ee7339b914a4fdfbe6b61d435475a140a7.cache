{"code":"function module(n,t,u){var o,e,i,c,s,a,f,r;u.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(n){o=n}},0),u.link(\"@rocket.chat/ui-contexts\",{CustomSoundContext:function(n){e=n},useUserId:function(n){i=n},useStream:function(n){c=n}},0),u.link(\"react\",{default:function(n){s=n},useEffect:function(n){a=n}},1),u.link(\"../../app/custom-sounds/client/lib/CustomSounds\",{CustomSounds:function(n){f=n}},2),u.link(\"../hooks/useContinuousSoundNotification\",{useContinuousSoundNotification:function(n){r=n}},3),u.exportDefault(function(n){var t=n.children,u=i();a(function(){u&&f.fetchCustomSoundList()},[u]),r();var d=c(\"notify-all\");return a(function(){if(u)return d(\"public-info\",function(n){var t=o(n,2),u=t[0],e=t[1];switch(u){case\"updateCustomSound\":f.update(e[0].soundData);break;case\"deleteCustomSound\":f.remove(e[0].soundData)}})},[u,d]),s.createElement(e.Provider,{children:t,value:f})})}","map":"{\"version\":3,\"sources\":[\"client/providers/CustomSoundProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { CustomSoundContext, useUserId, useStream } from '@rocket.chat/ui-contexts';\\nimport type { ReactNode } from 'react';\\nimport React, { useEffect } from 'react';\\n\\nimport { CustomSounds } from '../../app/custom-sounds/client/lib/CustomSounds';\\nimport { useContinuousSoundNotification } from '../hooks/useContinuousSoundNotification';\\n\\ntype CustomSoundProviderProps = {\\n\\tchildren?: ReactNode;\\n};\\n\\nconst CustomSoundProvider = ({ children }: CustomSoundProviderProps) => {\\n\\tconst userId = useUserId();\\n\\tuseEffect(() => {\\n\\t\\tif (!userId) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tvoid CustomSounds.fetchCustomSoundList();\\n\\t}, [userId]);\\n\\n\\tuseContinuousSoundNotification();\\n\\n\\tconst streamAll = useStream('notify-all');\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!userId) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\treturn streamAll('public-info', ([key, data]) => {\\n\\t\\t\\tswitch (key) {\\n\\t\\t\\t\\tcase 'updateCustomSound':\\n\\t\\t\\t\\t\\tCustomSounds.update(data[0].soundData);\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\tcase 'deleteCustomSound':\\n\\t\\t\\t\\t\\tCustomSounds.remove(data[0].soundData);\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}, [userId, streamAll]);\\n\\treturn <CustomSoundContext.Provider children={children} value={CustomSounds} />;\\n};\\n\\nexport default CustomSoundProvider;\\n\",null],\"names\":[\"_slicedToArray\",\"CustomSoundContext\",\"useUserId\",\"useStream\",\"React\",\"useEffect\",\"CustomSounds\",\"useContinuousSoundNotification\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"children\",\"userId\",\"fetchCustomSoundList\",\"streamAll\",\"_ref2\",\"_ref3\",\"key\",\"data\",\"update\",\"soundData\",\"remove\",\"createElement\",\"Provider\",\"value\"],\"mappings\":\"uBAWA,IAXAA,EAAAC,EAASC,EAAoBC,EAAuDC,EAAAC,EAAAC,EAAAC,EAA3EC,EAAAC,IAAoB,CAAA,uCAA4B,CAAAC,QAAA,SAA2BC,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAA5CH,EAASC,IAAE,CAAA,2BAAM,CAA0BR,mBAAC,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,UAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,UAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAP,EAAAO,CAAA,EAAAN,UAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kDAAA,CAAAH,aAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0CAAA,CAAAF,+BAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAApFH,EAAOI,aAAE,CAWmB,SAAAC,CAAA,EAA2C,IAAxCC,EAAQD,EAARC,QAAQ,CAChCC,EAASb,IACfG,EAAU,WACJU,GAGAT,EAAaU,oBAAoB,EACvC,EAAG,CAACD,EAAO,EAEXR,IAEA,IAAMU,EAAYd,EAAU,cAkB5B,OAhBAE,EAAU,WACT,GAAKU,EAIL,OAAOE,EAAU,cAAe,SAAAC,CAAA,EAAgB,IAAAC,EAAAnB,EAAAkB,EAAA,GAAdE,EAAGD,CAAA,CAAA,EAAA,CAAEE,EAAIF,CAAA,CAAA,EAAA,CAC1C,OAAQC,GACP,IAAK,oBACJd,EAAagB,MAAM,CAACD,CAAI,CAAC,EAAE,CAACE,SAAS,EACrC,KACD,KAAK,oBACJjB,EAAakB,MAAM,CAACH,CAAI,CAAC,EAAE,CAACE,SAAS,CAEvC,CACD,EACD,EAAG,CAACR,EAAQE,EAAU,EACfb,EAAAqB,aAAA,CAACxB,EAAmByB,QAAQ,CAAA,CAACZ,SAAUA,EAAUa,MAAOrB,CAAa,EAC7E\"}"}