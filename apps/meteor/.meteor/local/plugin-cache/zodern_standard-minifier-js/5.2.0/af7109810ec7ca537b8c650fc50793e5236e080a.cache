{"code":"function module(e,n,t){var l,o,r,a,c,u,i,s,m,f,d,p,k,E,h,C;t.link(\"@babel/runtime/helpers/extends\",{default:function(e){l=e}},0),t.link(\"@babel/runtime/regenerator\",{default:function(e){o=e}},1),t.link(\"@rocket.chat/fuselage\",{Box:function(e){r=e},Button:function(e){a=e},Field:function(e){c=e},FieldLabel:function(e){u=e},Modal:function(e){i=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){s=e},useEndpoint:function(e){m=e}},1),t.link(\"react\",{default:function(e){f=e},memo:function(e){d=e},useCallback:function(e){p=e}},2),t.link(\"react-hook-form\",{useForm:function(e){k=e},Controller:function(e){E=e}},3),t.link(\"react-i18next\",{useTranslation:function(e){h=e}},4),t.link(\"./RoomsAvailableForTeamsAutoComplete\",{default:function(e){C=e}},5),t.exportDefault(d(function(e){var n=e.teamId,t=e.onClose,d=e.reload,b=h().t,v=s(),x=m(\"POST\",\"/v1/teams.addRooms\"),g=k({defaultValues:{rooms:[]}}),F=g.control,y=g.formState.isDirty,T=g.handleSubmit,A=p(function(e){var l;return o.async(function(r){for(;;)switch(r.prev=r.next){case 0:return l=e.rooms,r.prev=1,r.next=4,o.awrap(x({rooms:l,teamId:n}));case 4:v({type:\"success\",message:b(\"Channels_added\")}),null==d||d(),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),v({type:\"error\",message:r.t0});case 11:return r.prev=11,t(),r.finish(11);case 14:case\"end\":return r.stop()}},null,null,[[1,8,11,14]],Promise)},[x,n,t,v,d,b]);return f.createElement(i,{wrapperFunction:function(e){return f.createElement(r,l({is:\"form\",onSubmit:T(A)},e))}},f.createElement(i.Header,null,f.createElement(i.Title,null,b(\"Team_Add_existing_channels\")),f.createElement(i.Close,{onClick:t})),f.createElement(i.Content,null,f.createElement(c,{mbe:24},f.createElement(u,null,b(\"Channels\")),f.createElement(E,{control:F,name:\"rooms\",render:function(e){var n=e.field,t=n.value,l=n.onChange;return f.createElement(C,{value:t,onChange:l})}}))),f.createElement(i.Footer,null,f.createElement(i.FooterControllers,null,f.createElement(a,{onClick:t},b(\"Cancel\")),f.createElement(a,{disabled:!y,type:\"submit\",primary:!0},b(\"Add\")))))}))}","map":"{\"version\":3,\"sources\":[\"client/views/teams/contextualBar/channels/AddExistingModal/AddExistingModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Button, Field, FieldLabel, Modal } from '@rocket.chat/fuselage';\\nimport { useToastMessageDispatch, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport React, { memo, useCallback } from 'react';\\nimport { useForm, Controller } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport RoomsAvailableForTeamsAutoComplete from './RoomsAvailableForTeamsAutoComplete';\\n\\ntype AddExistingModalProps = {\\n\\tteamId: string;\\n\\tonClose: () => void;\\n\\treload?: () => void;\\n};\\n\\nconst AddExistingModal = ({ teamId, onClose, reload }: AddExistingModalProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst addRoomEndpoint = useEndpoint('POST', '/v1/teams.addRooms');\\n\\n\\tconst {\\n\\t\\tcontrol,\\n\\t\\tformState: { isDirty },\\n\\t\\thandleSubmit,\\n\\t} = useForm({ defaultValues: { rooms: [] } });\\n\\n\\tconst handleAddChannels = useCallback(\\n\\t\\tasync ({ rooms }) => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait addRoomEndpoint({\\n\\t\\t\\t\\t\\trooms,\\n\\t\\t\\t\\t\\tteamId,\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Channels_added') });\\n\\t\\t\\t\\treload?.();\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tonClose();\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[addRoomEndpoint, teamId, onClose, dispatchToastMessage, reload, t],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<Modal wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(handleAddChannels)} {...props} />}>\\n\\t\\t\\t<Modal.Header>\\n\\t\\t\\t\\t<Modal.Title>{t('Team_Add_existing_channels')}</Modal.Title>\\n\\t\\t\\t\\t<Modal.Close onClick={onClose} />\\n\\t\\t\\t</Modal.Header>\\n\\t\\t\\t<Modal.Content>\\n\\t\\t\\t\\t<Field mbe={24}>\\n\\t\\t\\t\\t\\t<FieldLabel>{t('Channels')}</FieldLabel>\\n\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\tname='rooms'\\n\\t\\t\\t\\t\\t\\trender={({ field: { value, onChange } }) => <RoomsAvailableForTeamsAutoComplete value={value} onChange={onChange} />}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t</Modal.Content>\\n\\t\\t\\t<Modal.Footer>\\n\\t\\t\\t\\t<Modal.FooterControllers>\\n\\t\\t\\t\\t\\t<Button onClick={onClose}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t<Button disabled={!isDirty} type='submit' primary>\\n\\t\\t\\t\\t\\t\\t{t('Add')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</Modal.FooterControllers>\\n\\t\\t\\t</Modal.Footer>\\n\\t\\t</Modal>\\n\\t);\\n};\\n\\nexport default memo(AddExistingModal);\\n\",null],\"names\":[\"_extends\",\"_regeneratorRuntime\",\"Box\",\"Button\",\"Field\",\"FieldLabel\",\"Modal\",\"useToastMessageDispatch\",\"useEndpoint\",\"React\",\"memo\",\"useCallback\",\"useForm\",\"Controller\",\"useTranslation\",\"RoomsAvailableForTeamsAutoComplete\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"teamId\",\"onClose\",\"reload\",\"t\",\"_useTranslation\",\"dispatchToastMessage\",\"addRoomEndpoint\",\"_useForm\",\"defaultValues\",\"rooms\",\"control\",\"isDirty\",\"formState\",\"handleSubmit\",\"handleAddChannels\",\"_ref2\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"type\",\"message\",\"t0\",\"finish\",\"stop\",\"Promise\",\"createElement\",\"wrapperFunction\",\"props\",\"is\",\"onSubmit\",\"Header\",\"Title\",\"Close\",\"onClick\",\"Content\",\"mbe\",\"name\",\"render\",\"_ref3\",\"_ref3$field\",\"field\",\"value\",\"onChange\",\"Footer\",\"FooterControllers\",\"disabled\",\"primary\"],\"mappings\":\"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\"}"}