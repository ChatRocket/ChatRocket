{"code":"function module(e,t,l){let r,o,a,n,s,u,c,i,d,m,k,C,p,x,b,E,h,f,g,A,M,F,U,y,_;l.link(\"@babel/runtime/helpers/extends\",{default(e){r=e}},0),l.link(\"@rocket.chat/core-typings\",{isRoomFederated(e){o=e}},0),l.link(\"@rocket.chat/fuselage\",{Field(e){a=e},FieldLabel(e){n=e},Button(e){s=e},ButtonGroup(e){u=e},FieldGroup(e){c=e}},1),l.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){i=e}},2),l.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){d=e},useMethod(e){m=e}},3),l.link(\"react\",{default(e){k=e}},4),l.link(\"react-hook-form\",{Controller(e){C=e},useForm(e){p=e}},5),l.link(\"react-i18next\",{useTranslation(e){x=e}},6),l.link(\"../../../../../components/Contextualbar\",{ContextualbarHeader(e){b=e},ContextualbarBack(e){E=e},ContextualbarTitle(e){h=e},ContextualbarClose(e){f=e},ContextualbarScrollableContent(e){g=e},ContextualbarFooter(e){A=e}},7),l.link(\"../../../../../components/UserAutoCompleteMultiple\",{default(e){M=e}},8),l.link(\"../../../../../components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated\",{default(e){F=e}},9),l.link(\"../../../contexts/RoomContext\",{useRoom(e){U=e}},10),l.link(\"../../../contexts/RoomToolboxContext\",{useRoomToolbox(e){y=e}},11),l.link(\"./AddMatrixUsers/useAddMatrixUsers\",{useAddMatrixUsers(e){_=e}},12),l.exportDefault(e=>{let{rid:t,onClickBack:l,reload:R}=e,{t:T}=x(),B=d(),G=U(),{closeTab:w}=y(),D=m(\"addUsersToRoom\"),{handleSubmit:L,control:S,getValues:H,formState:{isDirty:V,isSubmitting:j}}=p({defaultValues:{users:[]}}),q=i(async e=>{let{users:r}=e;try{await D({rid:t,users:r}),B({type:\"success\",message:T(\"Users_added\")}),l(),R()}catch(e){B({type:\"error\",message:e})}}),v=_();return k.createElement(k.Fragment,null,k.createElement(b,null,l&&k.createElement(E,{onClick:l}),k.createElement(h,null,T(\"Add_users\")),w&&k.createElement(f,{onClick:w})),k.createElement(g,null,k.createElement(c,null,k.createElement(a,null,k.createElement(n,{flexGrow:0},T(\"Choose_users\")),o(G)?k.createElement(C,{name:\"users\",control:S,render:e=>{let{field:t}=e;return k.createElement(F,r({},t,{placeholder:T(\"Choose_users\")}))}}):k.createElement(C,{name:\"users\",control:S,render:e=>{let{field:t}=e;return k.createElement(M,r({},t,{placeholder:T(\"Choose_users\")}))}})))),k.createElement(A,null,k.createElement(u,{stretch:!0},o(G)?k.createElement(s,{primary:!0,disabled:v.isLoading,onClick:()=>v.mutate({users:H(\"users\"),handleSave:q})},T(\"Add_users\")):k.createElement(s,{primary:!0,loading:j,disabled:!V,onClick:L(q)},T(\"Add_users\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/RoomMembers/AddUsers/AddUsers.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport { isRoomFederated } from '@rocket.chat/core-typings';\\nimport { Field, FieldLabel, Button, ButtonGroup, FieldGroup } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useToastMessageDispatch, useMethod } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { Controller, useForm } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport {\\n\\tContextualbarHeader,\\n\\tContextualbarBack,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarScrollableContent,\\n\\tContextualbarFooter,\\n} from '../../../../../components/Contextualbar';\\nimport UserAutoCompleteMultiple from '../../../../../components/UserAutoCompleteMultiple';\\nimport UserAutoCompleteMultipleFederated from '../../../../../components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated';\\nimport { useRoom } from '../../../contexts/RoomContext';\\nimport { useRoomToolbox } from '../../../contexts/RoomToolboxContext';\\nimport { useAddMatrixUsers } from './AddMatrixUsers/useAddMatrixUsers';\\n\\ntype AddUsersProps = {\\n\\trid: IRoom['_id'];\\n\\tonClickBack: () => void;\\n\\treload: () => void;\\n};\\n\\nconst AddUsers = ({ rid, onClickBack, reload }: AddUsersProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst room = useRoom();\\n\\n\\tconst { closeTab } = useRoomToolbox();\\n\\tconst saveAction = useMethod('addUsersToRoom');\\n\\n\\tconst {\\n\\t\\thandleSubmit,\\n\\t\\tcontrol,\\n\\t\\tgetValues,\\n\\t\\tformState: { isDirty, isSubmitting },\\n\\t} = useForm({ defaultValues: { users: [] } });\\n\\n\\tconst handleSave = useMutableCallback(async ({ users }) => {\\n\\t\\ttry {\\n\\t\\t\\tawait saveAction({ rid, users });\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Users_added') });\\n\\t\\t\\tonClickBack();\\n\\t\\t\\treload();\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error as Error });\\n\\t\\t}\\n\\t});\\n\\n\\tconst addClickHandler = useAddMatrixUsers();\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t{onClickBack && <ContextualbarBack onClick={onClickBack} />}\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Add_users')}</ContextualbarTitle>\\n\\t\\t\\t\\t{closeTab && <ContextualbarClose onClick={closeTab} />}\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t<FieldGroup>\\n\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t<FieldLabel flexGrow={0}>{t('Choose_users')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t{isRoomFederated(room) ? (\\n\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\tname='users'\\n\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <UserAutoCompleteMultipleFederated {...field} placeholder={t('Choose_users')} />}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\tname='users'\\n\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <UserAutoCompleteMultiple {...field} placeholder={t('Choose_users')} />}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t{isRoomFederated(room) ? (\\n\\t\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\t\\tprimary\\n\\t\\t\\t\\t\\t\\t\\tdisabled={addClickHandler.isLoading}\\n\\t\\t\\t\\t\\t\\t\\tonClick={() =>\\n\\t\\t\\t\\t\\t\\t\\t\\taddClickHandler.mutate({\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tusers: getValues('users'),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\thandleSave,\\n\\t\\t\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t{t('Add_users')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t<Button primary loading={isSubmitting} disabled={!isDirty} onClick={handleSubmit(handleSave)}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Add_users')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default AddUsers;\\n\",null],\"names\":[\"_extends\",\"isRoomFederated\",\"Field\",\"FieldLabel\",\"Button\",\"ButtonGroup\",\"FieldGroup\",\"useMutableCallback\",\"useToastMessageDispatch\",\"useMethod\",\"React\",\"Controller\",\"useForm\",\"useTranslation\",\"ContextualbarHeader\",\"ContextualbarBack\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarScrollableContent\",\"ContextualbarFooter\",\"UserAutoCompleteMultiple\",\"UserAutoCompleteMultipleFederated\",\"useRoom\",\"useRoomToolbox\",\"useAddMatrixUsers\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"rid\",\"onClickBack\",\"reload\",\"t\",\"dispatchToastMessage\",\"room\",\"closeTab\",\"saveAction\",\"handleSubmit\",\"control\",\"getValues\",\"formState\",\"isDirty\",\"isSubmitting\",\"defaultValues\",\"users\",\"handleSave\",\"_ref2\",\"type\",\"message\",\"error\",\"addClickHandler\",\"createElement\",\"Fragment\",\"onClick\",\"flexGrow\",\"name\",\"render\",\"_ref3\",\"field\",\"placeholder\",\"_ref4\",\"stretch\",\"primary\",\"disabled\",\"isLoading\",\"mutate\",\"loading\"],\"mappings\":\"2BACAA,EAAAC,EAA4DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAnDC,EAAAC,IAAe,CAAA,iCAAQ,CAA2BC,QAACC,CAAA,EAAA5B,EAAA4B,CAAA,CAAA,EAAA,GAAnDH,EAAiBC,IAAA,CAAM,4BAA4B,CAAAzB,gBAAA2B,CAAA,EAAA3B,EAAA2B,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAxB,MAAA0B,CAAA,EAAA1B,EAAA0B,CAAA,EAAAzB,WAAAyB,CAAA,EAAAzB,EAAAyB,CAAA,EAAAxB,OAAAwB,CAAA,EAAAxB,EAAAwB,CAAA,EAAAvB,YAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,EAAAtB,WAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAnB,mBAAAqB,CAAA,EAAArB,EAAAqB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAlB,wBAAAoB,CAAA,EAAApB,EAAAoB,CAAA,EAAAnB,UAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAlB,EAAAkB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kBAAA,CAAAf,WAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,EAAAhB,QAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAb,eAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0CAAA,CAAAZ,oBAAAc,CAAA,EAAAd,EAAAc,CAAA,EAAAb,kBAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,mBAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,mBAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,+BAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,oBAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,qDAAA,CAAAC,QAAAC,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uFAAA,CAAAC,QAAAC,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAAJ,QAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAH,eAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,qCAAA,CAAAF,kBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,IAA5DH,EAAOI,aAAE,CA6BQC,IAA8D,GAA7D,CAAEC,IAAAA,CAAG,CAAEC,YAAAA,CAAW,CAAEC,OAAAA,CAAAA,CAAuB,CAAAH,EACtD,CAAEI,EAAAA,CAAAA,CAAG,CAAGrB,IACRsB,EAAuB3B,IACvB4B,EAAOd,IAEP,CAAEe,SAAAA,CAAAA,CAAU,CAAGd,IACfe,EAAa7B,EAAU,kBAEvB,CACL8B,aAAAA,CAAY,CACZC,QAAAA,CAAO,CACPC,UAAAA,CAAS,CACTC,UAAW,CAAEC,QAAAA,CAAO,CAAEC,aAAAA,CAAAA,CAAY,CAClC,CAAGhC,EAAQ,CAAEiC,cAAe,CAAEC,MAAO,EAAA,AAAE,CAAE,GAEpCC,EAAaxC,EAAmB,MAAAyC,IAAoB,GAAb,CAAEF,MAAAA,CAAAA,CAAO,CAAAE,EACrD,GAAI,CACH,MAAMV,EAAW,CAAEP,IAAAA,EAAKe,MAAAA,CAAK,GAC7BX,EAAqB,CAAEc,KAAM,UAAWC,QAAShB,EAAE,cAAc,GACjEF,IACAC,GACD,CAAE,MAAOkB,EAAO,CACfhB,EAAqB,CAAEc,KAAM,QAASC,QAASC,CAAc,EAC9D,CACD,GAEMC,EAAkB5B,IAExB,OACCd,EAAA2C,aAAA,CAAA3C,EAAA4C,QAAA,CAAA,KACC5C,EAAA2C,aAAA,CAACvC,EAAmB,KAClBkB,GAAetB,EAAA2C,aAAA,CAACtC,EAAiB,CAACwC,QAASvB,CAAY,GACxDtB,EAAA2C,aAAA,CAACrC,EAAkB,KAAEkB,EAAE,cACtBG,GAAY3B,EAAA2C,aAAA,CAACpC,EAAkB,CAACsC,QAASlB,CAAS,IAEpD3B,EAAA2C,aAAA,CAACnC,EAA8B,KAC9BR,EAAA2C,aAAA,CAAC/C,EAAU,KACVI,EAAA2C,aAAA,CAACnD,EAAK,KACLQ,EAAA2C,aAAA,CAAClD,EAAU,CAACqD,SAAU,CAAE,EAAEtB,EAAE,iBAC3BjC,EAAgBmC,GAChB1B,EAAA2C,aAAA,CAAC1C,EAAU,CACV8C,KAAK,QACLjB,QAASA,EACTkB,OAAQC,IAAA,GAAC,CAAEC,MAAAA,CAAAA,CAAO,CAAAD,EAAA,OAAKjD,EAAA2C,aAAA,CAAChC,EAAiCrB,EAAA,CAAA,EAAK4D,EAAK,CAAEC,YAAa3B,EAAE,eAAgB,GAAG,CAAC,GAGzGxB,EAAA2C,aAAA,CAAC1C,EAAU,CACV8C,KAAK,QACLjB,QAASA,EACTkB,OAAQI,IAAA,GAAC,CAAEF,MAAAA,CAAAA,CAAO,CAAAE,EAAA,OAAKpD,EAAA2C,aAAA,CAACjC,EAAwBpB,EAAA,CAAA,EAAK4D,EAAK,CAAEC,YAAa3B,EAAE,eAAgB,GAAG,CAAC,MAMpGxB,EAAA2C,aAAA,CAAClC,EAAmB,KACnBT,EAAA2C,aAAA,CAAChD,EAAW,CAAC0D,QAAO,CAAA,CAAA,EAClB9D,EAAgBmC,GAChB1B,EAAA2C,aAAA,CAACjD,EAAM,CACN4D,QAAO,CAAA,EACPC,SAAUb,EAAgBc,SAAU,CACpCX,QAASA,IACRH,EAAgBe,MAAM,CAAC,CACtBrB,MAAOL,EAAU,SACjBM,WAAAA,GAED,EAEAb,EAAE,cAGJxB,EAAA2C,aAAA,CAACjD,EAAM,CAAC4D,QAAO,CAAA,EAACI,QAASxB,EAAcqB,SAAU,CAACtB,EAASY,QAAShB,EAAaQ,EAAY,EAC3Fb,EAAE,gBAOV\"}"}