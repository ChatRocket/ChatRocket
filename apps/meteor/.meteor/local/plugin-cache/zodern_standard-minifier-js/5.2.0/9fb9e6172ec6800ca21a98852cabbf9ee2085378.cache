{"code":"function module(e,n,t){t.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},1),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){i=e}},2),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){s=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){u=e},useSessionDispatch:function(e){o=e},useLoginWithPassword:function(e){c=e},useSettingSetValue:function(e){l=e},useSettingsDispatch:function(e){d=e},useMethod:function(e){f=e},useEndpoint:function(e){p=e},useTranslation:function(e){g=e}},1),t.link(\"meteor/meteor\",{Meteor:function(e){m=e}},2),t.link(\"react\",{default:function(e){v=e},useCallback:function(e){k=e},useMemo:function(e){_=e},useState:function(e){S=e}},3),t.link(\"../../../../lib/callbacks\",{callbacks:function(e){h=e}},4),t.link(\"../../../../lib/emailValidator\",{validateEmail:function(e){x=e}},5),t.link(\"../../../hooks/useLicense\",{useInvalidateLicense:function(e){y=e}},6),t.link(\"../../../lib/queryClient\",{queryClient:function(e){w=e}},7),t.link(\"../contexts/SetupWizardContext\",{SetupWizardContext:function(e){b=e}},8),t.link(\"../hooks/useParameters\",{useParameters:function(e){z=e}},9),t.link(\"../hooks/useStepRouting\",{useStepRouting:function(e){D=e}},10);var r,a,i,s,u,o,c,l,d,f,p,g,m,v,k,_,S,h,x,y,w,b,z,D,P={organizationData:{organizationName:\"\",organizationIndustry:\"\",organizationSize:\"\",country:\"\"},serverData:{agreement:!1,email:\"\",updates:!1},registrationData:{cloudEmail:\"\",device_code:\"\",user_code:\"\"}};t.exportDefault(function(e){var n=e.children,t=y(),C=g(),E=S(P),R=i(E,2),W=R[0],A=R[1],T=D(),I=i(T,2),M=I[0],L=I[1],N=z(),O=N.isSuccess,U=N.data,q=u(),V=d(),j=l(\"Show_Setup_Wizard\"),Q=f(\"registerUser\"),Y=f(\"setUsername\"),B=c(),F=o(\"forceLogin\"),G=p(\"POST\",\"/v1/cloud.createRegistrationIntent\"),H=k(function(){return L(function(e){return e-1})},[L]),J=k(function(){return L(function(e){return e+1})},[L]),K=k(function(e){return L(function(){return e})},[L]),X=k(function(e){return!!x(e)||C(\"Invalid_email\")},[C]),Z=k(function(e){var n,t,a,i;return r.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.fullname,t=e.username,a=e.email,i=e.password,s.next=3,r.awrap(Q({name:n,username:t,email:a,pass:i}));case 3:return h.run(\"userRegistered\",{}),s.prev=4,s.next=7,r.awrap(B(a,i));case 7:s.next=16;break;case 9:if(s.prev=9,s.t0=s.catch(4),!(s.t0 instanceof m.Error&&\"error-invalid-email\"===s.t0.error)){s.next=14;break}return q({type:\"success\",message:C(\"We_have_sent_registration_email\")}),s.abrupt(\"return\");case 14:throw(s.t0 instanceof Error||\"string\"==typeof s.t0)&&q({type:\"error\",message:s.t0}),s.t0;case 16:return F(!1),s.next=19,r.awrap(Y(t));case 19:return s.next=21,r.awrap(V([{_id:\"Organization_Email\",value:a}]));case 21:h.run(\"usernameSet\",{});case 22:case\"end\":return s.stop()}},null,null,[[4,9]],Promise)},[Q,F,Y,V,B,q,C]),$=k(function(e){return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.awrap(V([{_id:\"Cloud_Service_Agree_PrivacyTerms\",value:e}]));case 2:case\"end\":return n.stop()}},null,null,null,Promise)},[V]),ee=k(function(){var e,n,t;return r.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n=(e=W.serverData).updates,t=e.agreement,a.next=3,r.awrap(V([{_id:\"Register_Server\",value:!0},{_id:\"Allow_Marketing_Emails\",value:n}]));case 3:return a.next=5,r.awrap($(t));case 5:case\"end\":return a.stop()}},null,null,null,Promise)},[V,$,W]),en=k(function(e){var n,t,a,i;return r.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.organizationName,t=e.organizationIndustry,a=e.organizationSize,i=e.country,s.next=3,r.awrap(V([{_id:\"Country\",value:i},{_id:\"Industry\",value:t},{_id:\"Size\",value:a},{_id:\"Organization_Name\",value:n}]));case 3:case\"end\":return s.stop()}},null,null,null,Promise)},[V]),et=s(function(e){var n,i,s,u;return r.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.email,s=void 0!==(i=e.resend)&&i,o.prev=1,o.next=4,r.awrap(G({resend:s,email:n}));case 4:u=o.sent.intentData,t(100),w.invalidateQueries([\"getRegistrationStatus\"]),A(function(e){return a(a({},e),{},{registrationData:a(a({},u),{},{cloudEmail:n})})}),K(4),j(\"in_progress\"),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(1),q({type:\"error\",message:C(\"Cloud_register_error\")});case 16:case\"end\":return o.stop()}},null,null,[[1,13]],Promise)}),er=s(function(){return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:return q({type:\"success\",message:C(\"Your_workspace_is_ready\")}),e.abrupt(\"return\",j(\"completed\"));case 2:case\"end\":return e.stop()}},null,null,null,Promise)}),ea=_(function(){return{setupWizardData:W,setSetupWizardData:A,currentStep:M,loaded:O,settings:U.settings,skipCloudRegistration:U.serverAlreadyRegistered,goToPreviousStep:H,goToNextStep:J,goToStep:K,registerAdminUser:Z,validateEmail:X,registerServer:et,saveAgreementData:$,saveWorkspaceData:ee,saveOrganizationData:en,completeSetupWizard:er,maxSteps:U.serverAlreadyRegistered?2:4}},[W,M,O,U.settings,U.serverAlreadyRegistered,H,J,K,Z,X,et,$,ee,en,er]);return v.createElement(b.Provider,{value:ea},n)})}","map":"{\"version\":3,\"sources\":[\"client/views/setupWizard/providers/SetupWizardProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport {\\n\\tuseToastMessageDispatch,\\n\\tuseSessionDispatch,\\n\\tuseLoginWithPassword,\\n\\tuseSettingSetValue,\\n\\tuseSettingsDispatch,\\n\\tuseMethod,\\n\\tuseEndpoint,\\n\\tuseTranslation,\\n} from '@rocket.chat/ui-contexts';\\nimport { Meteor } from 'meteor/meteor';\\nimport type { ReactElement, ContextType } from 'react';\\nimport React, { useCallback, useMemo, useState } from 'react';\\n\\nimport { callbacks } from '../../../../lib/callbacks';\\nimport { validateEmail } from '../../../../lib/emailValidator';\\nimport { useInvalidateLicense } from '../../../hooks/useLicense';\\nimport { queryClient } from '../../../lib/queryClient';\\nimport { SetupWizardContext } from '../contexts/SetupWizardContext';\\nimport { useParameters } from '../hooks/useParameters';\\nimport { useStepRouting } from '../hooks/useStepRouting';\\n\\nconst initialData: ContextType<typeof SetupWizardContext>['setupWizardData'] = {\\n\\torganizationData: {\\n\\t\\torganizationName: '',\\n\\t\\torganizationIndustry: '',\\n\\t\\torganizationSize: '',\\n\\t\\tcountry: '',\\n\\t},\\n\\tserverData: {\\n\\t\\tagreement: false,\\n\\t\\temail: '',\\n\\t\\tupdates: false,\\n\\t},\\n\\tregistrationData: { cloudEmail: '', device_code: '', user_code: '' },\\n};\\n\\ntype HandleRegisterServer = (params: { email: string; resend?: boolean }) => Promise<void>;\\n\\nconst SetupWizardProvider = ({ children }: { children: ReactElement }): ReactElement => {\\n\\tconst invalidateLicenseQuery = useInvalidateLicense();\\n\\tconst t = useTranslation();\\n\\tconst [setupWizardData, setSetupWizardData] = useState<ContextType<typeof SetupWizardContext>['setupWizardData']>(initialData);\\n\\tconst [currentStep, setCurrentStep] = useStepRouting();\\n\\tconst { isSuccess, data } = useParameters();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst dispatchSettings = useSettingsDispatch();\\n\\n\\tconst setShowSetupWizard = useSettingSetValue('Show_Setup_Wizard');\\n\\tconst registerUser = useMethod('registerUser');\\n\\tconst defineUsername = useMethod('setUsername');\\n\\tconst loginWithPassword = useLoginWithPassword();\\n\\tconst setForceLogin = useSessionDispatch('forceLogin');\\n\\tconst createRegistrationIntent = useEndpoint('POST', '/v1/cloud.createRegistrationIntent');\\n\\n\\tconst goToPreviousStep = useCallback(() => setCurrentStep((currentStep) => currentStep - 1), [setCurrentStep]);\\n\\tconst goToNextStep = useCallback(() => setCurrentStep((currentStep) => currentStep + 1), [setCurrentStep]);\\n\\tconst goToStep = useCallback((step) => setCurrentStep(() => step), [setCurrentStep]);\\n\\n\\tconst _validateEmail = useCallback(\\n\\t\\t(email: string): true | string => {\\n\\t\\t\\tif (!validateEmail(email)) {\\n\\t\\t\\t\\treturn t('Invalid_email');\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn true;\\n\\t\\t},\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst registerAdminUser = useCallback(\\n\\t\\tasync ({ fullname, username, email, password }): Promise<void> => {\\n\\t\\t\\tawait registerUser({ name: fullname, username, email, pass: password });\\n\\t\\t\\tvoid callbacks.run('userRegistered', {});\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait loginWithPassword(email, password);\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tif (error instanceof Meteor.Error && error.error === 'error-invalid-email') {\\n\\t\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('We_have_sent_registration_email') });\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (error instanceof Error || typeof error === 'string') {\\n\\t\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tthrow error;\\n\\t\\t\\t}\\n\\n\\t\\t\\tsetForceLogin(false);\\n\\n\\t\\t\\tawait defineUsername(username);\\n\\t\\t\\tawait dispatchSettings([{ _id: 'Organization_Email', value: email }]);\\n\\t\\t\\tvoid callbacks.run('usernameSet', {});\\n\\t\\t},\\n\\t\\t[registerUser, setForceLogin, defineUsername, dispatchSettings, loginWithPassword, dispatchToastMessage, t],\\n\\t);\\n\\n\\tconst saveAgreementData = useCallback(\\n\\t\\tasync (agreement): Promise<void> => {\\n\\t\\t\\tawait dispatchSettings([\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t_id: 'Cloud_Service_Agree_PrivacyTerms',\\n\\t\\t\\t\\t\\tvalue: agreement,\\n\\t\\t\\t\\t},\\n\\t\\t\\t]);\\n\\t\\t},\\n\\t\\t[dispatchSettings],\\n\\t);\\n\\n\\tconst saveWorkspaceData = useCallback(async (): Promise<void> => {\\n\\t\\tconst {\\n\\t\\t\\tserverData: { updates, agreement },\\n\\t\\t} = setupWizardData;\\n\\n\\t\\tawait dispatchSettings([\\n\\t\\t\\t{\\n\\t\\t\\t\\t_id: 'Register_Server',\\n\\t\\t\\t\\tvalue: true,\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\t_id: 'Allow_Marketing_Emails',\\n\\t\\t\\t\\tvalue: updates,\\n\\t\\t\\t},\\n\\t\\t]);\\n\\t\\tawait saveAgreementData(agreement);\\n\\t}, [dispatchSettings, saveAgreementData, setupWizardData]);\\n\\n\\tconst saveOrganizationData = useCallback(\\n\\t\\tasync (organizationData: ContextType<typeof SetupWizardContext>['setupWizardData']['organizationData']): Promise<void> => {\\n\\t\\t\\tconst { organizationName, organizationIndustry, organizationSize, country } = organizationData;\\n\\n\\t\\t\\tawait dispatchSettings([\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t_id: 'Country',\\n\\t\\t\\t\\t\\tvalue: country,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t_id: 'Industry',\\n\\t\\t\\t\\t\\tvalue: organizationIndustry,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t_id: 'Size',\\n\\t\\t\\t\\t\\tvalue: organizationSize,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t_id: 'Organization_Name',\\n\\t\\t\\t\\t\\tvalue: organizationName,\\n\\t\\t\\t\\t},\\n\\t\\t\\t]);\\n\\t\\t},\\n\\t\\t[dispatchSettings],\\n\\t);\\n\\n\\tconst registerServer: HandleRegisterServer = useMutableCallback(async ({ email, resend = false }): Promise<void> => {\\n\\t\\ttry {\\n\\t\\t\\tconst { intentData } = await createRegistrationIntent({ resend, email });\\n\\t\\t\\tinvalidateLicenseQuery(100);\\n\\t\\t\\tqueryClient.invalidateQueries(['getRegistrationStatus']);\\n\\n\\t\\t\\tsetSetupWizardData((prevState) => ({\\n\\t\\t\\t\\t...prevState,\\n\\t\\t\\t\\tregistrationData: { ...intentData, cloudEmail: email },\\n\\t\\t\\t}));\\n\\n\\t\\t\\tgoToStep(4);\\n\\t\\t\\tsetShowSetupWizard('in_progress');\\n\\t\\t} catch (e) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('Cloud_register_error') });\\n\\t\\t}\\n\\t});\\n\\n\\tconst completeSetupWizard = useMutableCallback(async (): Promise<void> => {\\n\\t\\tdispatchToastMessage({ type: 'success', message: t('Your_workspace_is_ready') });\\n\\t\\treturn setShowSetupWizard('completed');\\n\\t});\\n\\n\\tconst value = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\tsetupWizardData,\\n\\t\\t\\tsetSetupWizardData,\\n\\t\\t\\tcurrentStep,\\n\\t\\t\\tloaded: isSuccess,\\n\\t\\t\\tsettings: data.settings,\\n\\t\\t\\tskipCloudRegistration: data.serverAlreadyRegistered,\\n\\t\\t\\tgoToPreviousStep,\\n\\t\\t\\tgoToNextStep,\\n\\t\\t\\tgoToStep,\\n\\t\\t\\tregisterAdminUser,\\n\\t\\t\\tvalidateEmail: _validateEmail,\\n\\t\\t\\tregisterServer,\\n\\t\\t\\tsaveAgreementData,\\n\\t\\t\\tsaveWorkspaceData,\\n\\t\\t\\tsaveOrganizationData,\\n\\t\\t\\tcompleteSetupWizard,\\n\\t\\t\\tmaxSteps: data.serverAlreadyRegistered ? 2 : 4,\\n\\t\\t}),\\n\\t\\t[\\n\\t\\t\\tsetupWizardData,\\n\\t\\t\\tcurrentStep,\\n\\t\\t\\tisSuccess,\\n\\t\\t\\tdata.settings,\\n\\t\\t\\tdata.serverAlreadyRegistered,\\n\\t\\t\\tgoToPreviousStep,\\n\\t\\t\\tgoToNextStep,\\n\\t\\t\\tgoToStep,\\n\\t\\t\\tregisterAdminUser,\\n\\t\\t\\t_validateEmail,\\n\\t\\t\\tregisterServer,\\n\\t\\t\\tsaveAgreementData,\\n\\t\\t\\tsaveWorkspaceData,\\n\\t\\t\\tsaveOrganizationData,\\n\\t\\t\\tcompleteSetupWizard,\\n\\t\\t],\\n\\t);\\n\\n\\treturn <SetupWizardContext.Provider value={value}>{children}</SetupWizardContext.Provider>;\\n};\\n\\nexport default SetupWizardProvider;\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_objectSpread\",\"_slicedToArray\",\"useMutableCallback\",\"useToastMessageDispatch\",\"useSessionDispatch\",\"useLoginWithPassword\",\"useSettingSetValue\",\"useSettingsDispatch\",\"useMethod\",\"useEndpoint\",\"useTranslation\",\"Meteor\",\"React\",\"useCallback\",\"useMemo\",\"useState\",\"callbacks\",\"validateEmail\",\"useInvalidateLicense\",\"queryClient\",\"SetupWizardContext\",\"useParameters\",\"useStepRouting\",\"initialData\",\"organizationData\",\"organizationName\",\"organizationIndustry\",\"organizationSize\",\"country\",\"serverData\",\"agreement\",\"email\",\"updates\",\"registrationData\",\"cloudEmail\",\"device_code\",\"user_code\",\"exportDefault\",\"_ref\",\"children\",\"invalidateLicenseQuery\",\"t\",\"_useState\",\"_useState2\",\"setupWizardData\",\"setSetupWizardData\",\"_useStepRouting\",\"_useStepRouting2\",\"currentStep\",\"setCurrentStep\",\"_useParameters\",\"isSuccess\",\"data\",\"dispatchToastMessage\",\"dispatchSettings\",\"setShowSetupWizard\",\"registerUser\",\"defineUsername\",\"loginWithPassword\",\"setForceLogin\",\"createRegistrationIntent\",\"goToPreviousStep\",\"goToNextStep\",\"goToStep\",\"step\",\"_validateEmail\",\"registerAdminUser\",\"_ref2\",\"fullname\",\"username\",\"password\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"name\",\"pass\",\"run\",\"t0\",\"Error\",\"error\",\"type\",\"message\",\"abrupt\",\"_id\",\"value\",\"stop\",\"Promise\",\"saveAgreementData\",\"_context2\",\"saveWorkspaceData\",\"_setupWizardData$serv\",\"_context3\",\"saveOrganizationData\",\"_context4\",\"registerServer\",\"_ref3\",\"_ref3$resend\",\"resend\",\"intentData\",\"_context5\",\"_await$createRegistra\",\"sent\",\"invalidateQueries\",\"prevState\",\"completeSetupWizard\",\"_context6\",\"loaded\",\"settings\",\"skipCloudRegistration\",\"serverAlreadyRegistered\",\"maxSteps\",\"createElement\",\"Provider\"],\"mappings\":\"uBAASA,EAAoBC,IAAM,CAAA,6BAA8B,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAAxDH,EAAoBC,IAAA,CAAM,8BAA8B,CAAAM,mBAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAO,wBAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,mBAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,EAAAO,qBAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,EAAAQ,mBAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,EAAAS,oBAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,EAAAU,UAAA,SAAAV,CAAA,EAAAU,EAAAV,CAAA,EAAAW,YAAA,SAAAX,CAAA,EAAAW,EAAAX,CAAA,EAAAY,eAAA,SAAAZ,CAAA,EAAAY,EAAAZ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAe,OAAA,SAAAb,CAAA,EAAAa,EAAAb,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAc,EAAAd,CAAA,EAAAe,YAAA,SAAAf,CAAA,EAAAe,EAAAf,CAAA,EAAAgB,QAAA,SAAAhB,CAAA,EAAAgB,EAAAhB,CAAA,EAAAiB,SAAA,SAAAjB,CAAA,EAAAiB,EAAAjB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAAoB,UAAA,SAAAlB,CAAA,EAAAkB,EAAAlB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAqB,cAAA,SAAAnB,CAAA,EAAAmB,EAAAnB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAAsB,qBAAA,SAAApB,CAAA,EAAAoB,EAAApB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAuB,YAAA,SAAArB,CAAA,EAAAqB,EAAArB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAwB,mBAAA,SAAAtB,CAAA,EAAAsB,EAAAtB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,yBAAA,CAAAyB,cAAA,SAAAvB,CAAA,EAAAuB,EAAAvB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAA0B,eAAA,SAAAxB,CAAA,EAAAwB,EAAAxB,CAAA,CAAA,EAAA,IAuBjE,IAvBAC,EAAiEC,EAAAC,EAAjEC,EAAiEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAuB3DC,EAAyE,CAC9EC,iBAAkB,CACjBC,iBAAkB,GAClBC,qBAAsB,GACtBC,iBAAkB,GAClBC,QAAS,IAEVC,WAAY,CACXC,UAAW,CAAA,EACXC,MAAO,GACPC,QAAS,CAAA,GAEVC,iBAAkB,CAAEC,WAAY,GAAIC,YAAa,GAAIC,UAAW,EAAE,GAnCnEzC,EAAO0C,aAAE,CAwCmB,SAAAC,CAAA,EAA2D,IAAxDC,EAAQD,EAARC,QAAQ,CAChCC,EAAyBtB,IACzBuB,EAAI/B,IACVgC,EAA8C3B,EAAoEQ,GAAYoB,EAAA1C,EAAAyC,EAAA,GAAvHE,EAAeD,CAAA,CAAA,EAAA,CAAEE,EAAkBF,CAAA,CAAA,EAAA,CAC1CG,EAAsCxB,IAAgByB,EAAA9C,EAAA6C,EAAA,GAA/CE,EAAWD,CAAA,CAAA,EAAA,CAAEE,EAAcF,CAAA,CAAA,EAAA,CAClCG,EAA4B7B,IAApB8B,EAASD,EAATC,SAAS,CAAEC,EAAIF,EAAJE,IAAI,CACjBC,EAAuBlD,IACvBmD,EAAmB/C,IAEnBgD,EAAqBjD,EAAmB,qBACxCkD,EAAehD,EAAU,gBACzBiD,EAAiBjD,EAAU,eAC3BkD,EAAoBrD,IACpBsD,EAAgBvD,EAAmB,cACnCwD,EAA2BnD,EAAY,OAAQ,sCAE/CoD,EAAmBhD,EAAY,WAAA,OAAMoC,EAAe,SAACD,CAAW,EAAA,OAAKA,EAAc,CAAC,EAAC,EAAE,CAACC,EAAe,EACvGa,EAAejD,EAAY,WAAA,OAAMoC,EAAe,SAACD,CAAW,EAAA,OAAKA,EAAc,CAAC,EAAC,EAAE,CAACC,EAAe,EACnGc,EAAWlD,EAAY,SAACmD,CAAI,EAAA,OAAKf,EAAe,WAAA,OAAMe,CAAI,EAAC,EAAE,CAACf,EAAe,EAE7EgB,EAAiBpD,EACtB,SAACkB,CAAa,QACb,EAAKd,EAAcc,IACXU,EAAE,gBAIX,EACA,CAACA,EAAE,EAGEyB,EAAoBrD,EACzB,SAAAsD,CAAA,EAAA,IAAAC,EAAAC,EAAAtC,EAAAuC,EAAA,OAAAvE,EAAAwE,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAA4C,OAAnCN,EAAQD,EAARC,QAAQ,CAAEC,EAAQF,EAARE,QAAQ,CAAEtC,EAAKoC,EAALpC,KAAK,CAAEuC,EAAQH,EAARG,QAAQ,CAAAE,EAAAE,IAAA,CAAA,EAAA3E,EAAA4E,KAAA,CACrCnB,EAAa,CAAEoB,KAAMR,EAAUC,SAAAA,EAAUtC,MAAAA,EAAO8C,KAAMP,CAAQ,GAAG,MAAA,EAC9B,OAApCtD,EAAU8D,GAAG,CAAC,iBAAkB,CAAA,GAAIN,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAA3E,EAAA4E,KAAA,CAGlCjB,EAAkB3B,EAAOuC,GAAS,MAAA,EAAAE,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAO,EAAA,CAAAP,EAAA,KAAA,CAAA,GAAA,CAEpCA,CAAAA,EAAAO,EAAA,YAAiBpE,EAAOqE,KAAK,EAAIR,AAAgB,wBAAhBA,EAAAO,EAAA,CAAME,KAAK,AAAK,EAAqB,CAAAT,EAAAE,IAAA,CAAA,GAAA,KAAA,CACgB,OAAzFrB,EAAqB,CAAE6B,KAAM,UAAWC,QAAS1C,EAAE,kCAAkC,GAAI+B,EAAAY,MAAA,CAAA,SAAA,MAAA,GAKzF,KAFGZ,CAAAA,EAAAO,EAAA,YAAiBC,OAAS,AAAiB,UAAjB,OAAAR,EAAAO,EAAY,AAAK,GAC9C1B,EAAqB,CAAE6B,KAAM,QAASC,QAAOX,EAAAO,EAAAA,AAAO,GACpDP,EAAAO,EAAA,MAAA,GAImB,OAArBpB,EAAc,CAAA,GAAOa,EAAAE,IAAA,CAAA,GAAA3E,EAAA4E,KAAA,CAEflB,EAAeY,GAAS,MAAA,GAAA,OAAAG,EAAAE,IAAA,CAAA,GAAA3E,EAAA4E,KAAA,CACxBrB,EAAiB,CAAC,CAAE+B,IAAK,qBAAsBC,MAAOvD,CAAK,EAAG,EAAC,MAAA,GAChEf,EAAU8D,GAAG,CAAC,cAAe,CAAA,EAAI,MAAA,GAAA,IAAA,MAAA,OAAAN,EAAAe,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAAC,QAAA,EAEvC,CAAChC,EAAcG,EAAeF,EAAgBH,EAAkBI,EAAmBL,EAAsBZ,EAAE,EAGtGgD,EAAoB5E,EACzB,SAAOiB,CAAS,EAAA,OAAA/B,EAAAwE,KAAA,CAAA,SAAAmB,CAAA,EAAA,OAAA,OAAAA,EAAAjB,IAAA,CAAAiB,EAAAhB,IAAA,EAAA,KAAA,EAAA,OAAAgB,EAAAhB,IAAA,CAAA,EAAA3E,EAAA4E,KAAA,CACTrB,EAAiB,CACtB,CACC+B,IAAK,mCACLC,MAAOxD,GAER,EAAC,MAAA,EAAA,IAAA,MAAA,OAAA4D,EAAAH,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAEH,CAAClC,EAAiB,EAGbqC,GAAoB9E,EAAY,WAAA,IAAA+E,EAAA5D,EAAAF,EAAA,OAAA/B,EAAAwE,KAAA,CAAA,SAAAsB,CAAA,EAAA,OAAA,OAAAA,EAAApB,IAAA,CAAAoB,EAAAnB,IAAA,EAAA,KAAA,EAEJ,OAAlB1C,EAAO4D,AAFeA,CAAAA,EAGjChD,EADHf,UAAU,AAAVA,EAAcG,OAAO,CAAEF,EAAS8D,EAAT9D,SAAS,CAAA+D,EAAAnB,IAAA,CAAA,EAAA3E,EAAA4E,KAAA,CAG3BrB,EAAiB,CACtB,CACC+B,IAAK,kBACLC,MAAO,CAAA,GAER,CACCD,IAAK,yBACLC,MAAOtD,GAER,EAAC,MAAA,EAAA,OAAA6D,EAAAnB,IAAA,CAAA,EAAA3E,EAAA4E,KAAA,CACIc,EAAkB3D,GAAU,MAAA,EAAA,IAAA,MAAA,OAAA+D,EAAAN,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAChC,CAAClC,EAAkBmC,EAAmB7C,EAAgB,EAEnDkD,GAAuBjF,EAC5B,SAAOW,CAA+F,EAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA7B,EAAAwE,KAAA,CAAA,SAAAwB,CAAA,EAAA,OAAA,OAAAA,EAAAtB,IAAA,CAAAsB,EAAArB,IAAA,EAAA,KAAA,EAC5B,OAAjEjD,EAAsED,EAAtEC,gBAAgB,CAAEC,EAAoDF,EAApDE,oBAAoB,CAAEC,EAA8BH,EAA9BG,gBAAgB,CAAEC,EAAYJ,EAAZI,OAAO,CAAAmE,EAAArB,IAAA,CAAA,EAAA3E,EAAA4E,KAAA,CAEnErB,EAAiB,CACtB,CACC+B,IAAK,UACLC,MAAO1D,GAER,CACCyD,IAAK,WACLC,MAAO5D,GAER,CACC2D,IAAK,OACLC,MAAO3D,GAER,CACC0D,IAAK,oBACLC,MAAO7D,GAER,EAAC,MAAA,EAAA,IAAA,MAAA,OAAAsE,EAAAR,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAEH,CAAClC,EAAiB,EAGb0C,GAAuC9F,EAAmB,SAAA+F,CAAA,EAAA,IAAAlE,EAAAmE,EAAAC,EAAAC,EAAA,OAAArG,EAAAwE,KAAA,CAAA,SAAA8B,CAAA,EAAA,OAAA,OAAAA,EAAA5B,IAAA,CAAA4B,EAAA3B,IAAA,EAAA,KAAA,EAA8B,OAArB3C,EAAKkE,EAALlE,KAAK,CAAEoE,EAAMD,AAAA,KAAA,IAARA,CAAAA,EAAAD,EAAEE,MAAM,AAANA,GAAcD,EAAAG,EAAA5B,IAAA,CAAA,EAAA4B,EAAA3B,IAAA,CAAA,EAAA3E,EAAA4E,KAAA,CAE/Df,EAAyB,CAAEuC,OAAAA,EAAQpE,MAAAA,CAAK,GAAG,MAAA,EAAhEqE,EAAUE,AAAsDD,EAAAE,IAAA,CAAhEH,UAAU,CAClB5D,EAAuB,KACvBrB,EAAYqF,iBAAiB,CAAC,CAAC,wBAAwB,EAEvD3D,EAAmB,SAAC4D,CAAS,EAAA,OAAAzG,EAAAA,EAAA,CAAA,EACzByG,GAAS,CAAA,EAAA,CACZxE,iBAAgBjC,EAAAA,EAAA,CAAA,EAAOoG,GAAU,CAAA,EAAA,CAAElE,WAAYH,CAAK,EAAE,EAAA,GAGvDgC,EAAS,GACTR,EAAmB,eAAe8C,EAAA3B,IAAA,CAAA,GAAA,KAAA,MAAA,GAAA2B,EAAA5B,IAAA,CAAA,GAAA4B,EAAAtB,EAAA,CAAAsB,EAAA,KAAA,CAAA,GAElChD,EAAqB,CAAE6B,KAAM,QAASC,QAAS1C,EAAE,uBAAuB,EAAI,MAAA,GAAA,IAAA,MAAA,OAAA4D,EAAAd,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,GAAA,CAAA,CAAAC,QAAA,GAIxEkB,GAAsBxG,EAAmB,WAAA,OAAAH,EAAAwE,KAAA,CAAA,SAAAoC,CAAA,EAAA,OAAA,OAAAA,EAAAlC,IAAA,CAAAkC,EAAAjC,IAAA,EAAA,KAAA,EACmC,OAAjFrB,EAAqB,CAAE6B,KAAM,UAAWC,QAAS1C,EAAE,0BAA0B,GAAIkE,EAAAvB,MAAA,CAAA,SAC1E7B,EAAmB,aAAY,MAAA,EAAA,IAAA,MAAA,OAAAoD,EAAApB,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,GAGjCF,GAAQxE,EACb,WAAA,MAAO,CACN8B,gBAAAA,EACAC,mBAAAA,EACAG,YAAAA,EACA4D,OAAQzD,EACR0D,SAAUzD,EAAKyD,QAAQ,CACvBC,sBAAuB1D,EAAK2D,uBAAuB,CACnDlD,iBAAAA,EACAC,aAAAA,EACAC,SAAAA,EACAG,kBAAAA,EACAjD,cAAegD,EACf+B,eAAAA,GACAP,kBAAAA,EACAE,kBAAAA,GACAG,qBAAAA,GACAY,oBAAAA,GACAM,SAAU5D,EAAK2D,uBAAuB,CAAG,EAAI,EAC7C,EACD,CACCnE,EACAI,EACAG,EACAC,EAAKyD,QAAQ,CACbzD,EAAK2D,uBAAuB,CAC5BlD,EACAC,EACAC,EACAG,EACAD,EACA+B,GACAP,EACAE,GACAG,GACAY,GACA,EAGF,OAAO9F,EAAAqG,aAAA,CAAC7F,EAAmB8F,QAAQ,CAAA,CAAC5B,MAAOA,EAAM,EAAE/C,EACpD\"}"}