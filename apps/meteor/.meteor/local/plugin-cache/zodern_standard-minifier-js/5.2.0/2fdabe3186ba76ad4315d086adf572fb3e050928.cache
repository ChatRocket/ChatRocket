{"code":"function module(e,t,n){let a,i,l,o,r,c,s,d,m,u,f,p,g,E,h,y,k;n.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){a=e}},0),n.link(\"@rocket.chat/fuselage\",{Box(e){i=e},Flex(e){l=e},ButtonGroup(e){o=e},Button(e){r=e},Icon(e){c=e}},0),n.link(\"@rocket.chat/ui-avatar\",{UserAvatar(e){s=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useTranslation(e){d=e},useStream(e){m=e}},2),n.link(\"moment\",{default(e){u=e}},3),n.link(\"react\",{default(e){f=e},useEffect(e){p=e},useState(e){g=e}},4),n.link(\"../../../app/utils/client/lib/SDKClient\",{sdk(e){E=e}},5),n.link(\"../../../app/webrtc/client\",{WebRTC(e){h=e}},6),n.link(\"../../../app/webrtc/lib/constants\",{WEB_RTC_EVENTS(e){y=e}},7),n.link(\"./OngoingCallDuration\",{default(e){k=e}},8),n.link(\"./styles.css\"),n.exportDefault(e=>{let{roomId:t,visitorToken:n,visitorId:C,status:b,setStatus:v,isLayoutEmbedded:w,visitorName:x,agentName:I,callStartTime:S}=e;if(!t)throw Error(\"Call Page - no room id\");let[z,_]=g(!1),[T,B]=g(!1),[R,D]=g(!1),[W,j]=g(!1),[O,P]=g(!1),[N,V]=g(!1),[H,U]=g(!1),q=\"x21\",M=\"x40\";w&&(q=\"x19\",M=\"x35\");let A=m(\"notify-user\"),F=m(\"notify-room\"),X=d();p(()=>{if(n){if(!C)throw Error(\"Call Page - no visitor id\");let e=h.getInstanceByRoomId(t,C),n=()=>(w&&P(!0),window.innerWidth<=450&&window.innerHeight>=629&&window.innerHeight<=900&&(U(!0),e&&(e.media={audio:!0,video:{width:{ideal:440},height:{ideal:580}}}),!0)),a=A(\"\".concat(C,\"/\").concat(y.WEB_RTC),(t,n)=>{if(null!=n.room)switch(t){case\"candidate\":null==e||e.onUserStream(\"candidate\",n);break;case\"description\":null==e||e.onUserStream(\"description\",n);break;case\"join\":null==e||e.onUserStream(\"join\",n)}}),i=F(\"\".concat(t,\"/\").concat(y.WEB_RTC),(a,i)=>{\"callStatus\"===a&&\"ended\"===i.callStatus?(null==e||e.stop(),v(i.callStatus)):\"getDeviceType\"===a?E.publish(\"notify-room\",[\"\".concat(t,\"/\").concat(y.WEB_RTC),\"deviceType\",{isMobileDevice:n()}]):\"cameraStatus\"===a&&V(i.isCameraOn)});return E.publish(\"notify-room\",[\"\".concat(t,\"/\").concat(y.WEB_RTC),\"deviceType\",{isMobileDevice:n()}]),E.publish(\"notify-room\",[\"\".concat(t,\"/\").concat(y.WEB_RTC),\"callStatus\",{callStatus:\"inProgress\"}]),()=>{i(),a()}}if(!z){let e=h.getInstanceByRoomId(t);return\"inProgress\"===b&&(E.publish(\"notify-room\",[\"\".concat(t,\"/\").concat(y.WEB_RTC),\"getDeviceType\"]),null==e||e.startCall({audio:!0,video:{width:{ideal:1920},height:{ideal:1080}}})),_(!0),F(\"\".concat(t,\"/\").concat(y.WEB_RTC),(t,n)=>{if(\"callStatus\"===t){switch(n.callStatus){case\"ended\":null==e||e.stop();break;case\"inProgress\":null==e||e.startCall({audio:!0,video:{width:{ideal:1920},height:{ideal:1080}}})}v(n.callStatus)}else\"deviceType\"===t&&n.isMobileDevice?j(!0):\"cameraStatus\"===t&&V(n.isCameraOn)})}},[z,b,v,C,t,n,w,A,F]);let G=e=>{var a,i;if(\"mic\"===e)return null===(i=h.getInstanceByRoomId(t,n))||void 0===i||i.toggleAudio(),B(!T);null===(a=h.getInstanceByRoomId(t,n))||void 0===a||a.toggleVideo(),D(!R),E.publish(\"notify-room\",[\"\".concat(t,\"/\").concat(y.WEB_RTC),\"cameraStatus\",{isCameraOn:!R}])},K=()=>{if(w){var e;return null===(e=parent)||void 0===e?void 0:e.handleIframeClose()}return window.close()},J=e=>u.duration(u(new Date).diff(u(e))).asSeconds(),L=(e,t)=>f.createElement(l.Container,{direction:\"column\",justifyContent:\"center\"},f.createElement(i,{width:\"full\",minHeight:\"sh\",alignItems:\"center\",backgroundColor:\"dark\",overflow:\"hidden\",position:\"relative\"},f.createElement(i,{position:\"absolute\",zIndex:1,style:{top:\"5%\",right:\"2%\"},className:\"Self_Video\",alignItems:\"center\",backgroundColor:\"dark\"},f.createElement(\"video\",{id:\"localVideo\",autoPlay:!0,playsInline:!0,muted:!0,style:{width:\"100%\",transform:\"scaleX(-1)\",display:R?\"block\":\"none\"}}),f.createElement(i,{style:{display:R?\"none\":\"block\",margin:\"auto\"}},f.createElement(s,{username:e,size:H||O?\"x32\":\"x48\"}))),f.createElement(i,{position:\"absolute\",zIndex:1,style:{bottom:\"5%\"}},f.createElement(o,null,f.createElement(r,{id:\"mic\",square:!0,title:T?X(\"Mute_microphone\"):X(\"Unmute_microphone\"),onClick:()=>G(\"mic\"),className:T?\"On\":\"Off\",size:Number(M)},T?f.createElement(c,{name:\"mic\",size:q}):f.createElement(c,{name:\"mic-off\",size:q})),f.createElement(r,{id:\"camera\",square:!0,title:R?X(\"Turn_off_video\"):X(\"Turn_on_video\"),onClick:()=>G(\"camera\"),className:R?\"On\":\"Off\",size:parseInt(M)},R?f.createElement(c,{name:\"video\",size:q}):f.createElement(c,{name:\"video-off\",size:q})),w&&f.createElement(r,{square:!0,backgroundColor:\"dark\",borderColor:\"stroke-extra-dark\",\"data-title\":X(\"Expand_view\"),onClick:()=>{var e;return null===(e=parent)||void 0===e?void 0:e.expandCall()},size:parseInt(M)},f.createElement(c,{name:\"arrow-expand\",size:q,color:\"white\"})),f.createElement(r,{square:!0,danger:!0,title:X(\"End_call\"),onClick:K,size:parseInt(M)},f.createElement(c,{name:\"phone-off\",size:q,color:\"white\"})))),f.createElement(\"video\",{id:\"remoteVideo\",autoPlay:!0,playsInline:!0,style:{width:W?\"45%\":\"100%\",transform:\"scaleX(-1)\",display:N?\"block\":\"none\"}},f.createElement(\"track\",{kind:\"captions\"})),f.createElement(i,{position:\"absolute\",zIndex:1,display:N?\"none\":\"flex\",justifyContent:\"center\",flexDirection:\"column\",alignItems:\"center\",style:{top:W||H?\"10%\":\"30%\"}},f.createElement(i,{style:{display:\"block\",margin:\"auto\"}},f.createElement(s,{username:t,size:O?\"x48\":\"x124\"})),f.createElement(i,{color:\"white\",fontSize:O?12:18,textAlign:\"center\",margin:3},f.createElement(k,{counter:J(S)})),f.createElement(i,{style:a({color:\"white\",fontSize:O?12:22,margin:O?5:9},O&&{marginTop:0})},t))));return f.createElement(f.Fragment,null,\"ringing\"===b&&f.createElement(l.Container,{direction:\"column\",justifyContent:\"center\"},f.createElement(i,{width:\"full\",minHeight:\"sh\",alignItems:\"center\",backgroundColor:\"dark\",overflow:\"hidden\",position:\"relative\"},f.createElement(i,{position:\"absolute\",zIndex:1,style:{top:\"5%\",right:\"2%\"},className:\"Self_Video\",backgroundColor:\"dark\",alignItems:\"center\"},f.createElement(i,{style:{display:\"block\",margin:\"auto\"}},f.createElement(s,{username:I,size:H?\"x32\":\"x48\"}))),f.createElement(i,{position:\"absolute\",zIndex:1,style:{top:\"20%\",display:\"flex\",justifyContent:\"center\",flexDirection:\"column\"},alignItems:\"center\"},f.createElement(i,{style:{display:\"block\",margin:\"auto\"}},f.createElement(s,{username:x,size:\"x124\"})),f.createElement(i,{color:\"white\",fontSize:16,margin:15},\"Calling...\"),f.createElement(i,{style:{color:\"white\",fontSize:H?15:22}},x)))),\"declined\"===b&&f.createElement(i,{minHeight:\"90%\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",color:\"white\",fontSize:\"s1\"},X(\"Call_declined\")),\"inProgress\"===b&&f.createElement(l.Container,{direction:\"column\",justifyContent:\"center\"},n?L(x,I):L(I,x)))})}","map":"{\"version\":3,\"sources\":[\"client/views/meet/CallPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Flex, ButtonGroup, Button, Icon } from '@rocket.chat/fuselage';\\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\\nimport { useTranslation, useStream } from '@rocket.chat/ui-contexts';\\nimport moment from 'moment';\\nimport React, { useEffect, useState } from 'react';\\n\\nimport { sdk } from '../../../app/utils/client/lib/SDKClient';\\nimport { WebRTC } from '../../../app/webrtc/client';\\nimport { WEB_RTC_EVENTS } from '../../../app/webrtc/lib/constants';\\nimport OngoingCallDuration from './OngoingCallDuration';\\nimport './styles.css';\\n\\ntype CallPageProps = {\\n\\troomId?: string;\\n\\tvisitorToken: any;\\n\\tvisitorId: string | null;\\n\\tstatus: any;\\n\\tsetStatus: any;\\n\\tisLayoutEmbedded: boolean;\\n\\tvisitorName: any;\\n\\tagentName: any;\\n\\tcallStartTime: any;\\n};\\n\\nconst CallPage = ({\\n\\troomId,\\n\\tvisitorToken,\\n\\tvisitorId,\\n\\tstatus,\\n\\tsetStatus,\\n\\tisLayoutEmbedded,\\n\\tvisitorName,\\n\\tagentName,\\n\\tcallStartTime,\\n}: CallPageProps) => {\\n\\tif (!roomId) {\\n\\t\\tthrow new Error('Call Page - no room id');\\n\\t}\\n\\tconst [isAgentActive, setIsAgentActive] = useState(false);\\n\\tconst [isMicOn, setIsMicOn] = useState(false);\\n\\tconst [isCameraOn, setIsCameraOn] = useState(false);\\n\\tconst [isRemoteMobileDevice, setIsRemoteMobileDevice] = useState(false);\\n\\tconst [callInIframe, setCallInIframe] = useState(false);\\n\\tconst [isRemoteCameraOn, setIsRemoteCameraOn] = useState(false);\\n\\tconst [isLocalMobileDevice, setIsLocalMobileDevice] = useState(false);\\n\\n\\tlet iconSize = 'x21';\\n\\tlet buttonSize = 'x40';\\n\\tconst avatarSize = 'x48';\\n\\tif (isLayoutEmbedded) {\\n\\t\\ticonSize = 'x19';\\n\\t\\tbuttonSize = 'x35';\\n\\t}\\n\\n\\tconst subscribeNotifyUser = useStream('notify-user');\\n\\tconst subscribeNotifyRoom = useStream('notify-room');\\n\\tconst t = useTranslation();\\n\\tuseEffect(() => {\\n\\t\\tif (visitorToken) {\\n\\t\\t\\tif (!visitorId) {\\n\\t\\t\\t\\tthrow new Error('Call Page - no visitor id');\\n\\t\\t\\t}\\n\\t\\t\\tconst webrtcInstance = WebRTC.getInstanceByRoomId(roomId, visitorId);\\n\\t\\t\\tconst isMobileDevice = (): boolean => {\\n\\t\\t\\t\\tif (isLayoutEmbedded) {\\n\\t\\t\\t\\t\\tsetCallInIframe(true);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (window.innerWidth <= 450 && window.innerHeight >= 629 && window.innerHeight <= 900) {\\n\\t\\t\\t\\t\\tsetIsLocalMobileDevice(true);\\n\\t\\t\\t\\t\\tif (webrtcInstance)\\n\\t\\t\\t\\t\\t\\twebrtcInstance.media = {\\n\\t\\t\\t\\t\\t\\t\\taudio: true,\\n\\t\\t\\t\\t\\t\\t\\tvideo: {\\n\\t\\t\\t\\t\\t\\t\\t\\twidth: { ideal: 440 },\\n\\t\\t\\t\\t\\t\\t\\t\\theight: { ideal: 580 },\\n\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t};\\n\\n\\t\\t\\tconst unsubNotifyUser = subscribeNotifyUser(`${visitorId}/${WEB_RTC_EVENTS.WEB_RTC}`, (type, data) => {\\n\\t\\t\\t\\tif (data.room == null) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tswitch (type) {\\n\\t\\t\\t\\t\\tcase 'candidate':\\n\\t\\t\\t\\t\\t\\twebrtcInstance?.onUserStream('candidate', data);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 'description':\\n\\t\\t\\t\\t\\t\\twebrtcInstance?.onUserStream('description', data);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 'join':\\n\\t\\t\\t\\t\\t\\twebrtcInstance?.onUserStream('join', data);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tconst unsubNotifyRoom = subscribeNotifyRoom(`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`, (type: any, data: any) => {\\n\\t\\t\\t\\tif (type === 'callStatus' && data.callStatus === 'ended') {\\n\\t\\t\\t\\t\\twebrtcInstance?.stop();\\n\\t\\t\\t\\t\\tsetStatus(data.callStatus);\\n\\t\\t\\t\\t} else if (type === 'getDeviceType') {\\n\\t\\t\\t\\t\\tsdk.publish('notify-room', [\\n\\t\\t\\t\\t\\t\\t`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`,\\n\\t\\t\\t\\t\\t\\t'deviceType',\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tisMobileDevice: isMobileDevice(),\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t]);\\n\\t\\t\\t\\t} else if (type === 'cameraStatus') {\\n\\t\\t\\t\\t\\tsetIsRemoteCameraOn(data.isCameraOn);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tsdk.publish('notify-room', [\\n\\t\\t\\t\\t`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`,\\n\\t\\t\\t\\t'deviceType',\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tisMobileDevice: isMobileDevice(),\\n\\t\\t\\t\\t},\\n\\t\\t\\t]);\\n\\n\\t\\t\\tsdk.publish('notify-room', [\\n\\t\\t\\t\\t`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`,\\n\\t\\t\\t\\t'callStatus',\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tcallStatus: 'inProgress',\\n\\t\\t\\t\\t},\\n\\t\\t\\t]);\\n\\n\\t\\t\\treturn () => {\\n\\t\\t\\t\\tunsubNotifyRoom();\\n\\t\\t\\t\\tunsubNotifyUser();\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tif (!isAgentActive) {\\n\\t\\t\\tconst webrtcInstance = WebRTC.getInstanceByRoomId(roomId);\\n\\t\\t\\tif (status === 'inProgress') {\\n\\t\\t\\t\\tsdk.publish('notify-room', [`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`, 'getDeviceType']);\\n\\n\\t\\t\\t\\twebrtcInstance?.startCall({\\n\\t\\t\\t\\t\\taudio: true,\\n\\t\\t\\t\\t\\tvideo: {\\n\\t\\t\\t\\t\\t\\twidth: { ideal: 1920 },\\n\\t\\t\\t\\t\\t\\theight: { ideal: 1080 },\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tsetIsAgentActive(true);\\n\\n\\t\\t\\treturn subscribeNotifyRoom(`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`, (type: any, data: any) => {\\n\\t\\t\\t\\tif (type === 'callStatus') {\\n\\t\\t\\t\\t\\tswitch (data.callStatus) {\\n\\t\\t\\t\\t\\t\\tcase 'ended':\\n\\t\\t\\t\\t\\t\\t\\twebrtcInstance?.stop();\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\tcase 'inProgress':\\n\\t\\t\\t\\t\\t\\t\\twebrtcInstance?.startCall({\\n\\t\\t\\t\\t\\t\\t\\t\\taudio: true,\\n\\t\\t\\t\\t\\t\\t\\t\\tvideo: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\twidth: { ideal: 1920 },\\n\\t\\t\\t\\t\\t\\t\\t\\t\\theight: { ideal: 1080 },\\n\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tsetStatus(data.callStatus);\\n\\t\\t\\t\\t} else if (type === 'deviceType' && data.isMobileDevice) {\\n\\t\\t\\t\\t\\tsetIsRemoteMobileDevice(true);\\n\\t\\t\\t\\t} else if (type === 'cameraStatus') {\\n\\t\\t\\t\\t\\tsetIsRemoteCameraOn(data.isCameraOn);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\t}, [isAgentActive, status, setStatus, visitorId, roomId, visitorToken, isLayoutEmbedded, subscribeNotifyUser, subscribeNotifyRoom]);\\n\\n\\tconst toggleButton = (control: any): any => {\\n\\t\\tif (control === 'mic') {\\n\\t\\t\\tWebRTC.getInstanceByRoomId(roomId, visitorToken)?.toggleAudio();\\n\\t\\t\\treturn setIsMicOn(!isMicOn);\\n\\t\\t}\\n\\t\\tWebRTC.getInstanceByRoomId(roomId, visitorToken)?.toggleVideo();\\n\\t\\tsetIsCameraOn(!isCameraOn);\\n\\t\\tsdk.publish('notify-room', [\\n\\t\\t\\t`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`,\\n\\t\\t\\t'cameraStatus',\\n\\t\\t\\t{\\n\\t\\t\\t\\tisCameraOn: !isCameraOn,\\n\\t\\t\\t},\\n\\t\\t]);\\n\\t};\\n\\n\\tconst closeWindow = (): void => {\\n\\t\\tif (isLayoutEmbedded) {\\n\\t\\t\\treturn (parent as any)?.handleIframeClose();\\n\\t\\t}\\n\\t\\treturn window.close();\\n\\t};\\n\\n\\tconst getCallDuration = (callStartTime: any): any => moment.duration(moment(new Date()).diff(moment(callStartTime))).asSeconds();\\n\\n\\tconst showCallPage = (localAvatar: any, remoteAvatar: any): any => (\\n\\t\\t<Flex.Container direction='column' justifyContent='center'>\\n\\t\\t\\t<Box width='full' minHeight='sh' alignItems='center' backgroundColor='dark' overflow='hidden' position='relative'>\\n\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\tposition='absolute'\\n\\t\\t\\t\\t\\tzIndex={1}\\n\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\ttop: '5%',\\n\\t\\t\\t\\t\\t\\tright: '2%',\\n\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\tclassName='Self_Video'\\n\\t\\t\\t\\t\\talignItems='center'\\n\\t\\t\\t\\t\\tbackgroundColor='dark'\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<video\\n\\t\\t\\t\\t\\t\\tid='localVideo'\\n\\t\\t\\t\\t\\t\\tautoPlay\\n\\t\\t\\t\\t\\t\\tplaysInline\\n\\t\\t\\t\\t\\t\\tmuted\\n\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\twidth: '100%',\\n\\t\\t\\t\\t\\t\\t\\ttransform: 'scaleX(-1)',\\n\\t\\t\\t\\t\\t\\t\\tdisplay: isCameraOn ? 'block' : 'none',\\n\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t></video>\\n\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\tdisplay: isCameraOn ? 'none' : 'block',\\n\\t\\t\\t\\t\\t\\t\\tmargin: 'auto',\\n\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<UserAvatar username={localAvatar} size={isLocalMobileDevice || callInIframe ? 'x32' : 'x48'} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\tposition='absolute'\\n\\t\\t\\t\\t\\tzIndex={1}\\n\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\tbottom: '5%',\\n\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\t\\tid='mic'\\n\\t\\t\\t\\t\\t\\t\\tsquare\\n\\t\\t\\t\\t\\t\\t\\ttitle={isMicOn ? t('Mute_microphone') : t('Unmute_microphone')}\\n\\t\\t\\t\\t\\t\\t\\tonClick={(): any => toggleButton('mic')}\\n\\t\\t\\t\\t\\t\\t\\tclassName={isMicOn ? 'On' : 'Off'}\\n\\t\\t\\t\\t\\t\\t\\tsize={Number(buttonSize)}\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t{isMicOn ? <Icon name='mic' size={iconSize} /> : <Icon name='mic-off' size={iconSize} />}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\t\\tid='camera'\\n\\t\\t\\t\\t\\t\\t\\tsquare\\n\\t\\t\\t\\t\\t\\t\\ttitle={isCameraOn ? t('Turn_off_video') : t('Turn_on_video')}\\n\\t\\t\\t\\t\\t\\t\\tonClick={(): void => toggleButton('camera')}\\n\\t\\t\\t\\t\\t\\t\\tclassName={isCameraOn ? 'On' : 'Off'}\\n\\t\\t\\t\\t\\t\\t\\tsize={parseInt(buttonSize)}\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t{isCameraOn ? <Icon name='video' size={iconSize} /> : <Icon name='video-off' size={iconSize} />}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t{isLayoutEmbedded && (\\n\\t\\t\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\t\\t\\tsquare\\n\\t\\t\\t\\t\\t\\t\\t\\tbackgroundColor='dark'\\n\\t\\t\\t\\t\\t\\t\\t\\tborderColor='stroke-extra-dark'\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-title={t('Expand_view')}\\n\\t\\t\\t\\t\\t\\t\\t\\tonClick={(): void => (parent as any)?.expandCall()}\\n\\t\\t\\t\\t\\t\\t\\t\\tsize={parseInt(buttonSize)}\\n\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Icon name='arrow-expand' size={iconSize} color='white' />\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t<Button square danger title={t('End_call')} onClick={closeWindow} size={parseInt(buttonSize)}>\\n\\t\\t\\t\\t\\t\\t\\t<Icon name='phone-off' size={iconSize} color='white' />\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<video\\n\\t\\t\\t\\t\\tid='remoteVideo'\\n\\t\\t\\t\\t\\tautoPlay\\n\\t\\t\\t\\t\\tplaysInline\\n\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\twidth: isRemoteMobileDevice ? '45%' : '100%',\\n\\t\\t\\t\\t\\t\\ttransform: 'scaleX(-1)',\\n\\t\\t\\t\\t\\t\\tdisplay: isRemoteCameraOn ? 'block' : 'none',\\n\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<track kind='captions' />\\n\\t\\t\\t\\t</video>\\n\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\tposition='absolute'\\n\\t\\t\\t\\t\\tzIndex={1}\\n\\t\\t\\t\\t\\tdisplay={isRemoteCameraOn ? 'none' : 'flex'}\\n\\t\\t\\t\\t\\tjustifyContent='center'\\n\\t\\t\\t\\t\\tflexDirection='column'\\n\\t\\t\\t\\t\\talignItems='center'\\n\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\ttop: isRemoteMobileDevice || isLocalMobileDevice ? '10%' : '30%',\\n\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\tdisplay: 'block',\\n\\t\\t\\t\\t\\t\\t\\tmargin: 'auto',\\n\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<UserAvatar username={remoteAvatar} size={!callInIframe ? 'x124' : avatarSize} />\\n\\t\\t\\t\\t\\t</Box>\\n\\n\\t\\t\\t\\t\\t<Box color='white' fontSize={callInIframe ? 12 : 18} textAlign='center' margin={3}>\\n\\t\\t\\t\\t\\t\\t<OngoingCallDuration counter={getCallDuration(callStartTime)} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\tcolor: 'white',\\n\\t\\t\\t\\t\\t\\t\\tfontSize: callInIframe ? 12 : 22,\\n\\t\\t\\t\\t\\t\\t\\tmargin: callInIframe ? 5 : 9,\\n\\t\\t\\t\\t\\t\\t\\t...(callInIframe && { marginTop: 0 }),\\n\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t{remoteAvatar}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Box>\\n\\t\\t</Flex.Container>\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{status === 'ringing' && (\\n\\t\\t\\t\\t<Flex.Container direction='column' justifyContent='center'>\\n\\t\\t\\t\\t\\t<Box width='full' minHeight='sh' alignItems='center' backgroundColor='dark' overflow='hidden' position='relative'>\\n\\t\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\t\\tposition='absolute'\\n\\t\\t\\t\\t\\t\\t\\tzIndex={1}\\n\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\ttop: '5%',\\n\\t\\t\\t\\t\\t\\t\\t\\tright: '2%',\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\tclassName='Self_Video'\\n\\t\\t\\t\\t\\t\\t\\tbackgroundColor='dark'\\n\\t\\t\\t\\t\\t\\t\\talignItems='center'\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdisplay: 'block',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmargin: 'auto',\\n\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t<UserAvatar username={agentName} size={isLocalMobileDevice ? 'x32' : 'x48'} />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\t\\tposition='absolute'\\n\\t\\t\\t\\t\\t\\t\\tzIndex={1}\\n\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\ttop: '20%',\\n\\t\\t\\t\\t\\t\\t\\t\\tdisplay: 'flex',\\n\\t\\t\\t\\t\\t\\t\\t\\tjustifyContent: 'center',\\n\\t\\t\\t\\t\\t\\t\\t\\tflexDirection: 'column',\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\talignItems='center'\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdisplay: 'block',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmargin: 'auto',\\n\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t<UserAvatar username={visitorName} size='x124' />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t<Box color='white' fontSize={16} margin={15}>\\n\\t\\t\\t\\t\\t\\t\\t\\tCalling...\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcolor: 'white',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tfontSize: isLocalMobileDevice ? 15 : 22,\\n\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t{visitorName}\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Flex.Container>\\n\\t\\t\\t)}\\n\\t\\t\\t{status === 'declined' && (\\n\\t\\t\\t\\t<Box minHeight='90%' display='flex' justifyContent='center' alignItems='center' color='white' fontSize='s1'>\\n\\t\\t\\t\\t\\t{t('Call_declined')}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t)}\\n\\t\\t\\t{status === 'inProgress' && (\\n\\t\\t\\t\\t<Flex.Container direction='column' justifyContent='center'>\\n\\t\\t\\t\\t\\t{visitorToken ? showCallPage(visitorName, agentName) : showCallPage(agentName, visitorName)}\\n\\t\\t\\t\\t</Flex.Container>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default CallPage;\\n\",null],\"names\":[\"_objectSpread\",\"Box\",\"Flex\",\"ButtonGroup\",\"Button\",\"Icon\",\"UserAvatar\",\"useTranslation\",\"useStream\",\"moment\",\"React\",\"useEffect\",\"useState\",\"sdk\",\"WebRTC\",\"WEB_RTC_EVENTS\",\"OngoingCallDuration\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"roomId\",\"visitorToken\",\"visitorId\",\"status\",\"setStatus\",\"isLayoutEmbedded\",\"visitorName\",\"agentName\",\"callStartTime\",\"Error\",\"isAgentActive\",\"setIsAgentActive\",\"isMicOn\",\"setIsMicOn\",\"isCameraOn\",\"setIsCameraOn\",\"isRemoteMobileDevice\",\"setIsRemoteMobileDevice\",\"callInIframe\",\"setCallInIframe\",\"isRemoteCameraOn\",\"setIsRemoteCameraOn\",\"isLocalMobileDevice\",\"setIsLocalMobileDevice\",\"iconSize\",\"buttonSize\",\"subscribeNotifyUser\",\"subscribeNotifyRoom\",\"t\",\"webrtcInstance\",\"getInstanceByRoomId\",\"isMobileDevice\",\"window\",\"innerWidth\",\"innerHeight\",\"media\",\"audio\",\"video\",\"width\",\"ideal\",\"height\",\"unsubNotifyUser\",\"concat\",\"WEB_RTC\",\"type\",\"data\",\"room\",\"onUserStream\",\"unsubNotifyRoom\",\"callStatus\",\"stop\",\"publish\",\"startCall\",\"toggleButton\",\"control\",\"_WebRTC$getInstanceBy2\",\"_WebRTC$getInstanceBy\",\"toggleAudio\",\"toggleVideo\",\"closeWindow\",\"_parent\",\"parent\",\"handleIframeClose\",\"close\",\"getCallDuration\",\"duration\",\"Date\",\"diff\",\"asSeconds\",\"showCallPage\",\"localAvatar\",\"remoteAvatar\",\"createElement\",\"Container\",\"direction\",\"justifyContent\",\"minHeight\",\"alignItems\",\"backgroundColor\",\"overflow\",\"position\",\"zIndex\",\"style\",\"top\",\"right\",\"className\",\"id\",\"autoPlay\",\"playsInline\",\"muted\",\"transform\",\"display\",\"margin\",\"username\",\"size\",\"bottom\",\"square\",\"title\",\"onClick\",\"Number\",\"name\",\"parseInt\",\"borderColor\",\"_parent2\",\"expandCall\",\"color\",\"danger\",\"kind\",\"flexDirection\",\"fontSize\",\"textAlign\",\"counter\",\"marginTop\",\"Fragment\"],\"mappings\":\"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\"}"}