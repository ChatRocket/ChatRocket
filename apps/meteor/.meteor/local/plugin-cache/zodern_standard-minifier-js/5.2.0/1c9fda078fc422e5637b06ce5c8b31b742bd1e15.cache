{"code":"function module(e,t,s){s.export({useSeatsCap:function(){return a}}),s.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){n=e}},0),s.link(\"@tanstack/react-query\",{useQuery:function(e){r=e}},1);var n,r,a=function(){var e=n(\"GET\",\"/v1/licenses.maxActiveUsers\"),t=r([\"/v1/licenses.maxActiveUsers\"],function(){return e()});if(t.isSuccess)return{activeUsers:t.data.activeUsers,maxActiveUsers:t.data.maxActiveUsers&&t.data.maxActiveUsers>0?t.data.maxActiveUsers:Number.POSITIVE_INFINITY,reload:function(){return t.refetch()}}}}","map":"{\"version\":3,\"sources\":[\"client/views/admin/users/useSeatsCap.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\n\\nexport type SeatCapProps = {\\n\\tmaxActiveUsers: number;\\n\\tactiveUsers: number;\\n\\treload: () => void;\\n};\\n\\nexport const useSeatsCap = (): SeatCapProps | undefined => {\\n\\t// #TODO: Stop using this endpoint\\n\\tconst fetch = useEndpoint('GET', '/v1/licenses.maxActiveUsers');\\n\\n\\tconst result = useQuery(['/v1/licenses.maxActiveUsers'], () => fetch());\\n\\n\\tif (!result.isSuccess) {\\n\\t\\treturn undefined;\\n\\t}\\n\\n\\treturn {\\n\\t\\tactiveUsers: result.data.activeUsers,\\n\\t\\tmaxActiveUsers: result.data.maxActiveUsers && result.data.maxActiveUsers > 0 ? result.data.maxActiveUsers : Number.POSITIVE_INFINITY,\\n\\t\\treload: () => result.refetch(),\\n\\t};\\n};\\n\",null],\"names\":[\"module\",\"export\",\"useSeatsCap\",\"link\",\"useEndpoint\",\"v\",\"useQuery\",\"fetch\",\"result\",\"isSuccess\",\"activeUsers\",\"data\",\"maxActiveUsers\",\"Number\",\"POSITIVE_INFINITY\",\"reload\",\"refetch\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,YAAa,WAAM,OAAAA,CAA2B,CAAA,GAAAF,EAAAG,IAAA,CAAA,2BAAA,CAAAC,YAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,wBAAA,CAAAG,SAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAShD,IATgDD,EAAAE,EAS1CJ,EAAc,WAE1B,IAAMK,EAAQH,EAAY,MAAO,+BAE3BI,EAASF,EAAS,CAAC,8BAA8B,CAAE,WAAA,OAAMC,GAAO,GAEtE,GAAKC,EAAOC,SAAS,CAIrB,MAAO,CACNC,YAAaF,EAAOG,IAAI,CAACD,WAAW,CACpCE,eAAgBJ,EAAOG,IAAI,CAACC,cAAc,EAAIJ,EAAOG,IAAI,CAACC,cAAc,CAAG,EAAIJ,EAAOG,IAAI,CAACC,cAAc,CAAGC,OAAOC,iBAAiB,CACpIC,OAAQ,WAAA,OAAMP,EAAOQ,OAAO,EAAE,EAEhC\"}"}