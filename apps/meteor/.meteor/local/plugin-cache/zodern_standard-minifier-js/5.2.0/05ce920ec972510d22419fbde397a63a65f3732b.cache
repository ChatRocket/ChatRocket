{"code":"function module(e,n,t){var a,l,o,r,u,i,c,s,f,m,d,E,v,b,k,g,x,h,C,I,A,U,p;t.link(\"@babel/runtime/regenerator\",{default:function(e){a=e}},0),t.link(\"@rocket.chat/fuselage\",{Box:function(e){l=e},Margins:function(e){o=e},ButtonGroup:function(e){r=e},ContextualbarSkeleton:function(e){u=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){i=e},useRouter:function(e){c=e}},1),t.link(\"@tanstack/react-query\",{useQuery:function(e){s=e}},2),t.link(\"react\",{default:function(e){f=e}},3),t.link(\"react-i18next\",{useTranslation:function(e){m=e}},4),t.link(\"../../../components/Contextualbar\",{Contextualbar:function(e){d=e},ContextualbarTitle:function(e){E=e},ContextualbarClose:function(e){v=e},ContextualbarHeader:function(e){b=e},ContextualbarScrollableContent:function(e){k=e}},5),t.link(\"../../../components/InfoPanel\",{InfoPanelLabel:function(e){g=e},InfoPanelText:function(e){x=e}},6),t.link(\"../../../components/UserInfo\",{UserInfoAvatar:function(e){h=e},UserInfoUsername:function(e){C=e}},7),t.link(\"../../../components/UserStatus\",{UserStatus:function(e){I=e}},8),t.link(\"../additionalForms\",{MaxChatsPerAgentDisplay:function(e){A=e}},9),t.link(\"./AgentInfoAction\",{default:function(e){U=e}},10),t.link(\"./hooks/useRemoveAgent\",{useRemoveAgent:function(e){p=e}},11),t.exportDefault(function(e){var n,t=e.uid,y=m().t,S=c(),_=i(\"GET\",\"/v1/livechat/users/agent/:_id\",{_id:t}),R=s([\"livechat-getAgentInfoById\",t],function(){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",_());case 1:case\"end\":return e.stop()}},null,null,null,Promise)},{refetchOnWindowFocus:!1}),q=R.data,L=R.isLoading,P=R.isError,N=p(t);if(L)return f.createElement(u,null);if(P)return f.createElement(l,{mbs:16},y(\"User_not_found\"));var T=null==q?void 0:q.user,B=T.username,F=T.statusLivechat,w=T.status;return f.createElement(d,{\"data-qa-id\":\"agent-info-contextual-bar\"},f.createElement(b,null,f.createElement(E,null,y(\"User_Info\")),f.createElement(v,{onClick:function(){return S.navigate(\"/omnichannel/agents\")}})),f.createElement(k,null,B&&f.createElement(l,{alignSelf:\"center\"},f.createElement(h,{\"data-qa\":\"AgentUserInfoAvatar\",username:B})),f.createElement(r,{align:\"center\"},f.createElement(U,{key:y(\"Edit\"),title:y(\"Edit\"),label:y(\"Edit\"),onClick:function(){return S.navigate(\"/omnichannel/agents/edit/\"+t)},icon:\"edit\"}),f.createElement(U,{key:y(\"Remove\"),title:y(\"Remove\"),label:y(\"Remove\"),onClick:N,icon:\"trash\"})),f.createElement(o,{block:4},f.createElement(l,{mb:2},f.createElement(C,{\"data-qa\":\"AgentInfoUserInfoUserName\",username:B,status:f.createElement(I,{status:w})})),F&&f.createElement(f.Fragment,null,f.createElement(g,{\"data-qa\":\"AgentInfoUserInfoLabel\"},y(\"Livechat_status\")),f.createElement(x,null,y(\"available\"===F?\"Available\":\"Not_Available\"))),A&&f.createElement(A,{maxNumberSimultaneousChat:null===(n=q.user.livechat)||void 0===n?void 0:n.maxNumberSimultaneousChat}))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/agents/AgentInfo.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Margins, ButtonGroup, ContextualbarSkeleton } from '@rocket.chat/fuselage';\\nimport { useEndpoint, useRouter } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { HTMLAttributes } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport {\\n\\tContextualbar,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarHeader,\\n\\tContextualbarScrollableContent,\\n} from '../../../components/Contextualbar';\\nimport { InfoPanelLabel, InfoPanelText } from '../../../components/InfoPanel';\\nimport { UserInfoAvatar, UserInfoUsername } from '../../../components/UserInfo';\\nimport { UserStatus } from '../../../components/UserStatus';\\nimport { MaxChatsPerAgentDisplay } from '../additionalForms';\\nimport AgentInfoAction from './AgentInfoAction';\\nimport { useRemoveAgent } from './hooks/useRemoveAgent';\\n\\ntype AgentInfoProps = {\\n\\tuid: string;\\n} & Omit<HTMLAttributes<HTMLElement>, 'is'>;\\n\\nconst AgentInfo = ({ uid }: AgentInfoProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst getAgentById = useEndpoint('GET', '/v1/livechat/users/agent/:_id', { _id: uid });\\n\\tconst { data, isLoading, isError } = useQuery(['livechat-getAgentInfoById', uid], async () => getAgentById(), {\\n\\t\\trefetchOnWindowFocus: false,\\n\\t});\\n\\n\\tconst handleDelete = useRemoveAgent(uid);\\n\\n\\tif (isLoading) {\\n\\t\\treturn <ContextualbarSkeleton />;\\n\\t}\\n\\n\\tif (isError) {\\n\\t\\treturn <Box mbs={16}>{t('User_not_found')}</Box>;\\n\\t}\\n\\n\\tconst { username, statusLivechat, status: userStatus } = data?.user;\\n\\n\\treturn (\\n\\t\\t<Contextualbar data-qa-id='agent-info-contextual-bar'>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarTitle>{t('User_Info')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/agents')} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t{username && (\\n\\t\\t\\t\\t\\t<Box alignSelf='center'>\\n\\t\\t\\t\\t\\t\\t<UserInfoAvatar data-qa='AgentUserInfoAvatar' username={username} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t<ButtonGroup align='center'>\\n\\t\\t\\t\\t\\t<AgentInfoAction\\n\\t\\t\\t\\t\\t\\tkey={t('Edit')}\\n\\t\\t\\t\\t\\t\\ttitle={t('Edit')}\\n\\t\\t\\t\\t\\t\\tlabel={t('Edit')}\\n\\t\\t\\t\\t\\t\\tonClick={() => router.navigate(`/omnichannel/agents/edit/${uid}`)}\\n\\t\\t\\t\\t\\t\\ticon='edit'\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t<AgentInfoAction key={t('Remove')} title={t('Remove')} label={t('Remove')} onClick={handleDelete} icon='trash' />\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t<Margins block={4}>\\n\\t\\t\\t\\t\\t<Box mb={2}>\\n\\t\\t\\t\\t\\t\\t<UserInfoUsername data-qa='AgentInfoUserInfoUserName' username={username} status={<UserStatus status={userStatus} />} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t{statusLivechat && (\\n\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel data-qa='AgentInfoUserInfoLabel'>{t('Livechat_status')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{statusLivechat === 'available' ? t('Available') : t('Not_Available')}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{MaxChatsPerAgentDisplay && <MaxChatsPerAgentDisplay maxNumberSimultaneousChat={data.user.livechat?.maxNumberSimultaneousChat} />}\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t</Contextualbar>\\n\\t);\\n};\\n\\nexport default AgentInfo;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"Box\",\"Margins\",\"ButtonGroup\",\"ContextualbarSkeleton\",\"useEndpoint\",\"useRouter\",\"useQuery\",\"React\",\"useTranslation\",\"Contextualbar\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarHeader\",\"ContextualbarScrollableContent\",\"InfoPanelLabel\",\"InfoPanelText\",\"UserInfoAvatar\",\"UserInfoUsername\",\"UserStatus\",\"MaxChatsPerAgentDisplay\",\"AgentInfoAction\",\"useRemoveAgent\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_data$user$livechat\",\"uid\",\"t\",\"_useTranslation\",\"router\",\"getAgentById\",\"_id\",\"_useQuery\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"stop\",\"Promise\",\"refetchOnWindowFocus\",\"data\",\"isLoading\",\"isError\",\"handleDelete\",\"createElement\",\"mbs\",\"_data$user\",\"user\",\"username\",\"statusLivechat\",\"userStatus\",\"status\",\"onClick\",\"navigate\",\"alignSelf\",\"align\",\"key\",\"title\",\"label\",\"icon\",\"block\",\"mb\",\"Fragment\",\"maxNumberSimultaneousChat\",\"livechat\"],\"mappings\":\"uBAyBA,IAzBAA,EAAAC,EAAOC,EAAOC,EAASC,EAAkEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAlEC,EAAAC,IAAW,CAAE,6BAA6B,CAAAC,QAAA,SAAAC,CAAA,EAAA1B,EAAwB0B,CAAA,CAAA,EAAA,GAArDH,EAAqBC,IAAE,CAAA,wBAAM,CAAAvB,IAAwB,SAAAyB,CAAA,EAAAzB,EAAAyB,CAAA,EAAAxB,QAAA,SAAAwB,CAAA,EAAAxB,EAAAwB,CAAA,EAAAvB,YAAA,SAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,EAAAtB,sBAAA,SAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAnB,YAAA,SAAAqB,CAAA,EAAArB,EAAAqB,CAAA,EAAApB,UAAA,SAAAoB,CAAA,EAAApB,EAAAoB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAjB,SAAA,SAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAlB,EAAAkB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAf,eAAA,SAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oCAAA,CAAAd,cAAA,SAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,EAAAf,mBAAA,SAAAe,CAAA,EAAAf,EAAAe,CAAA,EAAAd,mBAAA,SAAAc,CAAA,EAAAd,EAAAc,CAAA,EAAAb,oBAAA,SAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,+BAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAAT,eAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,cAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,+BAAA,CAAAP,eAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,iBAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAL,WAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,qBAAA,CAAAJ,wBAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,yBAAA,CAAAF,eAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,IAAzFH,EAAOI,aAAO,CAyBI,SAAAC,CAAA,EAA4B,IAAAC,EAAzBC,EAAGF,EAAHE,GAAG,CACfC,EAACC,AAAKvB,IAANsB,CAAC,CACHE,EAAS3B,IACT4B,EAAe7B,EAAY,MAAO,gCAAiC,CAAE8B,IAAKL,CAAG,GACnFM,EAAqC7B,EAAS,CAAC,4BAA6BuB,EAAI,CAAE,WAAA,OAAA9B,EAAAqC,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAG,MAAA,CAAA,SAAYP,IAAc,MAAA,EAAA,IAAA,MAAA,OAAAI,EAAAI,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAAE,CAC7GC,qBAAsB,CAAA,IADfC,EAAIT,EAAJS,IAAI,CAAEC,EAASV,EAATU,SAAS,CAAEC,EAAOX,EAAPW,OAAO,CAI1BC,EAAe1B,EAAeQ,GAEpC,GAAIgB,EACH,OAAOtC,EAAAyC,aAAA,CAAC7C,EAAqB,MAG9B,GAAI2C,EACH,OAAOvC,EAAAyC,aAAA,CAAChD,EAAG,CAACiD,IAAK,EAAG,EAAEnB,EAAE,mBAGzB,IAAAoB,EAAyDN,MAAAA,EAAI,KAAA,EAAJA,EAAMO,IAAI,CAA3DC,EAAQF,EAARE,QAAQ,CAAEC,EAAcH,EAAdG,cAAc,CAAUC,EAAUJ,EAAlBK,MAAM,CAExC,OACChD,EAAAyC,aAAA,CAACvC,EAAa,CAAC,aAAW,2BAA2B,EACpDF,EAAAyC,aAAA,CAACpC,EAAmB,KACnBL,EAAAyC,aAAA,CAACtC,EAAkB,KAAEoB,EAAE,cACvBvB,EAAAyC,aAAA,CAACrC,EAAkB,CAAC6C,QAAS,WAAA,OAAMxB,EAAOyB,QAAQ,CAAC,sBAAsB,CAAC,IAE3ElD,EAAAyC,aAAA,CAACnC,EAA8B,KAC7BuC,GACA7C,EAAAyC,aAAA,CAAChD,EAAG,CAAC0D,UAAU,QAAQ,EACtBnD,EAAAyC,aAAA,CAAChC,EAAc,CAAC,UAAQ,sBAAsBoC,SAAUA,CAAS,IAGnE7C,EAAAyC,aAAA,CAAC9C,EAAW,CAACyD,MAAM,QAAQ,EAC1BpD,EAAAyC,aAAA,CAAC5B,EAAe,CACfwC,IAAK9B,EAAE,QACP+B,MAAO/B,EAAE,QACTgC,MAAOhC,EAAE,QACT0B,QAAS,WAAA,OAAMxB,EAAOyB,QAAQ,CAAA,4BAA6B5B,EAAM,EACjEkC,KAAK,MAAM,GAEZxD,EAAAyC,aAAA,CAAC5B,EAAe,CAACwC,IAAK9B,EAAE,UAAW+B,MAAO/B,EAAE,UAAWgC,MAAOhC,EAAE,UAAW0B,QAAST,EAAcgB,KAAK,OAAO,IAE/GxD,EAAAyC,aAAA,CAAC/C,EAAO,CAAC+D,MAAO,CAAE,EACjBzD,EAAAyC,aAAA,CAAChD,EAAG,CAACiE,GAAI,CAAE,EACV1D,EAAAyC,aAAA,CAAC/B,EAAgB,CAAC,UAAQ,4BAA4BmC,SAAUA,EAAUG,OAAQhD,EAAAyC,aAAA,CAAC9B,EAAU,CAACqC,OAAQD,CAAW,EAAI,IAErHD,GACA9C,EAAAyC,aAAA,CAAAzC,EAAA2D,QAAA,CAAA,KACC3D,EAAAyC,aAAA,CAAClC,EAAc,CAAC,UAAQ,wBAAwB,EAAEgB,EAAE,oBACpDvB,EAAAyC,aAAA,CAACjC,EAAa,KAAmCe,EAAE,AAAnCuB,AAAmB,cAAnBA,EAAmC,YAAiB,mBAGrElC,GAA2BZ,EAAAyC,aAAA,CAAC7B,EAAuB,CAACgD,0BAAyB,AAAoB,OAApBvC,CAAAA,EAAEgB,EAAKO,IAAI,CAACiB,QAAQ,AAARA,GAAQxC,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAlBA,EAAoBuC,yBAAAA,AAA0B,KAKnI\"}"}