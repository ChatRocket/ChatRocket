{"code":"function module(e,t,n){var a,i,l,o,r,u,c,s,f;n.link(\"@rocket.chat/fuselage\",{Callout:function(e){a=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){i=e},useSetModal:function(e){l=e},useTranslation:function(e){o=e}},1),n.link(\"@tanstack/react-query\",{useQuery:function(e){r=e}},2),n.link(\"react\",{default:function(e){u=e}},3),n.link(\"../../../components/Omnichannel/modals/EnterpriseDepartmentsModal\",{default:function(e){c=e}},4),n.link(\"../../../components/PageSkeleton\",{default:function(e){s=e}},5),n.link(\"./EditDepartment\",{default:function(e){f=e}},6),n.exportDefault(function(e){var t=e.id,n=o(),d=l(),m=i(\"GET\",\"/v1/livechat/department/isDepartmentCreationAvailable\"),p=r([\"getDepartments\"],function(){return m()},{onSuccess:function(e){!1===e.isDepartmentCreationAvailable&&d(u.createElement(c,{closeModal:function(){return d(null)}}))}}),k=p.data,E=p.isLoading;return p.isError?u.createElement(a,{type:\"danger\"},n(\"Unavailable\")):k&&!E&&k.isDepartmentCreationAvailable?u.createElement(f,{id:t,title:n(\"New_Department\")}):u.createElement(s,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/departments/NewDepartment.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Callout } from '@rocket.chat/fuselage';\\nimport { useEndpoint, useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React from 'react';\\n\\nimport EnterpriseDepartmentsModal from '../../../components/Omnichannel/modals/EnterpriseDepartmentsModal';\\nimport PageSkeleton from '../../../components/PageSkeleton';\\nimport EditDepartment from './EditDepartment';\\n\\ntype NewDepartmentProps = {\\n\\tid?: string;\\n};\\n\\nconst NewDepartment = ({ id }: NewDepartmentProps) => {\\n\\tconst t = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst getDepartmentCreationAvailable = useEndpoint('GET', '/v1/livechat/department/isDepartmentCreationAvailable');\\n\\tconst { data, isLoading, isError } = useQuery(['getDepartments'], () => getDepartmentCreationAvailable(), {\\n\\t\\tonSuccess: (data) => {\\n\\t\\t\\tif (data.isDepartmentCreationAvailable === false) {\\n\\t\\t\\t\\tsetModal(<EnterpriseDepartmentsModal closeModal={(): void => setModal(null)} />);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t});\\n\\n\\tif (isError) {\\n\\t\\treturn <Callout type='danger'>{t('Unavailable')}</Callout>;\\n\\t}\\n\\n\\tif (!data || isLoading || !data.isDepartmentCreationAvailable) {\\n\\t\\treturn <PageSkeleton />;\\n\\t}\\n\\n\\treturn <EditDepartment id={id} title={t('New_Department')} />;\\n};\\n\\nexport default NewDepartment;\\n\",null],\"names\":[\"Callout\",\"useEndpoint\",\"useSetModal\",\"useTranslation\",\"useQuery\",\"React\",\"EnterpriseDepartmentsModal\",\"PageSkeleton\",\"EditDepartment\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"id\",\"t\",\"setModal\",\"getDepartmentCreationAvailable\",\"_useQuery\",\"onSuccess\",\"data\",\"isDepartmentCreationAvailable\",\"createElement\",\"closeModal\",\"isLoading\",\"isError\",\"type\",\"title\"],\"mappings\":\"uBAaA,IAbAA,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAASC,IAAA,CAAM,wBAAwB,CAAAV,QAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAT,YAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,YAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,eAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAN,SAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oEAAA,CAAA,QAAA,SAAAC,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mBAAA,CAAA,QAAA,SAAAC,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAhDF,EAAOG,aAAW,CAaI,SAAAC,CAAA,EAA+B,IAA5BC,EAAED,EAAFC,EAAE,CACpBC,EAAIZ,IACJa,EAAWd,IACXe,EAAiChB,EAAY,MAAO,yDAC1DiB,EAAqCd,EAAS,CAAC,iBAAiB,CAAE,WAAA,OAAMa,GAAgC,EAAE,CACzGE,UAAW,SAACC,CAAI,EAC4B,CAAA,IAAvCA,EAAKC,6BAA6B,EACrCL,EAASX,EAAAiB,aAAA,CAAChB,EAA0B,CAACiB,WAAY,WAAA,OAAYP,EAAS,KAAK,CAAC,GAE9E,IALOI,EAAIF,EAAJE,IAAI,CAAEI,EAASN,EAATM,SAAS,QAQvB,AARgCN,EAAPO,OAAO,CASxBpB,EAAAiB,aAAA,CAACtB,EAAO,CAAC0B,KAAK,QAAQ,EAAEX,EAAE,gBAG9B,AAACK,IAAQI,GAAcJ,EAAKC,6BAA6B,CAItDhB,EAAAiB,aAAA,CAACd,EAAc,CAACM,GAAIA,EAAIa,MAAOZ,EAAE,iBAAkB,GAHlDV,EAAAiB,aAAA,CAACf,EAAY,KAItB\"}"}