{"code":"function module(e,t,i){let a,n,l,r,o,s,u,d,c,g,h,f,k,m,S,p,v,b,E,y;i.link(\"@babel/runtime/helpers/extends\",{default(e){a=e}},0),i.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){n=e}},1),i.link(\"@rocket.chat/core-typings\",{isSettingColor(e){l=e},isSetting(e){r=e}},0),i.link(\"@rocket.chat/fuselage\",{Box(e){o=e},Button(e){s=e},Tag(e){u=e}},1),i.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedCallback(e){d=e}},2),i.link(\"@rocket.chat/ui-contexts\",{useSettingStructure(e){c=e},useTranslation(e){g=e}},3),i.link(\"react\",{default(e){h=e},useEffect(e){f=e},useMemo(e){k=e},useState(e){m=e},useCallback(e){S=e}},4),i.link(\"../../../../components/MarkdownText\",{default(e){p=e}},5),i.link(\"../../EditableSettingsContext\",{useEditableSetting(e){v=e},useEditableSettingsDispatch(e){b=e},useIsEnterprise(e){E=e}},6),i.link(\"./MemoizedSetting\",{default(e){y=e}},7),i.exportDefault(function(e){let{className:t,settingId:i,sectionChanged:N}=e,C=v(i),J=c(i),O=E();if(!C||!J)throw Error(\"Setting \".concat(i,\" not found\"));if(!r(C))throw Error(\"Setting \".concat(i,\" is not valid\"));let _=b(),x=d(e=>{let{value:t,editor:i}=e;J&&_([n(n(n({_id:J._id},void 0!==t&&{value:t}),void 0!==i&&{editor:i}),{},{changed:JSON.stringify(J.value)!==JSON.stringify(t)||l(J)&&JSON.stringify(J.editor)!==JSON.stringify(i)})])},230,[J,_]),B=g(),[w,M]=m(C.value),[T,D]=m(l(C)?C.editor:void 0);f(()=>{M(C.value)},[C.value]),f(()=>{D(l(C)?C.editor:void 0)},[C.editor]);let P=S(e=>{M(e),x({value:e})},[x]),z=S(e=>{D(e),x({editor:e})},[x]),H=S(()=>{M(C.value),D(l(C)?C.editor:void 0),x(n({value:J.packageValue},l(J)&&{editor:J.packageEditor}))},[C.value,C.editor,x,J]),{_id:I,disabled:R,readonly:V,type:j,packageValue:F,i18nLabel:L,i18nDescription:U,alert:q,invisible:A}=C,G=B.has(L)&&B(L)||B.has(I)&&B(I)||L||I,K=k(()=>U&&B.has(U)?h.createElement(p,{variant:\"inline\",preserveHtml:!0,content:B(U)}):void 0,[U,B]),Q=k(()=>q&&h.createElement(\"span\",{dangerouslySetInnerHTML:{__html:B.has(q)?B(q):q}}),[q,B]),W=C.enterprise&&!O,X=k(()=>W?h.createElement(s,{mbs:4,is:\"a\",href:\"https://go.rocket.chat/i/see-paid-plan-customize-homepage\",target:\"_blank\"},B(\"See_Paid_Plan\")):void 0,[W,B]),Y=k(()=>W?h.createElement(h.Fragment,null,h.createElement(o,{is:\"span\",mie:4},G),h.createElement(u,{variant:\"featured\"},B(\"Premium\"))):G,[G,W,B]),Z=!W&&!V&&\"asset\"!==j&&(l(C)&&JSON.stringify(C.packageEditor)!==JSON.stringify(T)||JSON.stringify(w)!==JSON.stringify(F))&&!R;return h.createElement(y,a({className:t,label:Y,hint:K,callout:Q,showUpgradeButton:X,sectionChanged:N},C,{disabled:C.disabled||W,value:w,editor:T,hasResetButton:Z,onChangeValue:P,onChangeEditor:z,onResetButtonClick:H,invisible:A}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/settings/Setting/Setting.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ISettingColor, SettingEditor, SettingValue } from '@rocket.chat/core-typings';\\nimport { isSettingColor, isSetting } from '@rocket.chat/core-typings';\\nimport { Box, Button, Tag } from '@rocket.chat/fuselage';\\nimport { useDebouncedCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSettingStructure, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useEffect, useMemo, useState, useCallback } from 'react';\\n\\nimport MarkdownText from '../../../../components/MarkdownText';\\nimport { useEditableSetting, useEditableSettingsDispatch, useIsEnterprise } from '../../EditableSettingsContext';\\nimport MemoizedSetting from './MemoizedSetting';\\n\\ntype SettingProps = {\\n\\tclassName?: string;\\n\\tsettingId: string;\\n\\tsectionChanged?: boolean;\\n};\\n\\nfunction Setting({ className = undefined, settingId, sectionChanged }: SettingProps): ReactElement {\\n\\tconst setting = useEditableSetting(settingId);\\n\\tconst persistedSetting = useSettingStructure(settingId);\\n\\tconst isEnterprise = useIsEnterprise();\\n\\n\\tif (!setting || !persistedSetting) {\\n\\t\\tthrow new Error(`Setting ${settingId} not found`);\\n\\t}\\n\\n\\t// Checks if setting has at least required fields before doing anything\\n\\tif (!isSetting(setting)) {\\n\\t\\tthrow new Error(`Setting ${settingId} is not valid`);\\n\\t}\\n\\n\\tconst dispatch = useEditableSettingsDispatch();\\n\\n\\tconst update = useDebouncedCallback(\\n\\t\\t({ value, editor }: { value?: SettingValue; editor?: SettingEditor }) => {\\n\\t\\t\\tif (!persistedSetting) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tdispatch([\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t_id: persistedSetting._id,\\n\\t\\t\\t\\t\\t...(value !== undefined && { value }),\\n\\t\\t\\t\\t\\t...(editor !== undefined && { editor }),\\n\\t\\t\\t\\t\\tchanged:\\n\\t\\t\\t\\t\\t\\tJSON.stringify(persistedSetting.value) !== JSON.stringify(value) ||\\n\\t\\t\\t\\t\\t\\t(isSettingColor(persistedSetting) && JSON.stringify(persistedSetting.editor) !== JSON.stringify(editor)),\\n\\t\\t\\t\\t},\\n\\t\\t\\t]);\\n\\t\\t},\\n\\t\\t230,\\n\\t\\t[persistedSetting, dispatch],\\n\\t);\\n\\n\\tconst t = useTranslation();\\n\\n\\tconst [value, setValue] = useState(setting.value);\\n\\tconst [editor, setEditor] = useState(isSettingColor(setting) ? setting.editor : undefined);\\n\\n\\tuseEffect(() => {\\n\\t\\tsetValue(setting.value);\\n\\t}, [setting.value]);\\n\\n\\tuseEffect(() => {\\n\\t\\tsetEditor(isSettingColor(setting) ? setting.editor : undefined);\\n\\t\\t// eslint-disable-next-line react-hooks/exhaustive-deps\\n\\t}, [(setting as ISettingColor).editor]);\\n\\n\\tconst onChangeValue = useCallback(\\n\\t\\t(value) => {\\n\\t\\t\\tsetValue(value);\\n\\t\\t\\tupdate({ value });\\n\\t\\t},\\n\\t\\t[update],\\n\\t);\\n\\n\\tconst onChangeEditor = useCallback(\\n\\t\\t(editor) => {\\n\\t\\t\\tsetEditor(editor);\\n\\t\\t\\tupdate({ editor });\\n\\t\\t},\\n\\t\\t[update],\\n\\t);\\n\\n\\tconst onResetButtonClick = useCallback(() => {\\n\\t\\tsetValue(setting.value);\\n\\t\\tsetEditor(isSettingColor(setting) ? setting.editor : undefined);\\n\\t\\tupdate({\\n\\t\\t\\tvalue: persistedSetting.packageValue,\\n\\t\\t\\t...(isSettingColor(persistedSetting) && { editor: persistedSetting.packageEditor }),\\n\\t\\t});\\n\\t\\t// eslint-disable-next-line react-hooks/exhaustive-deps\\n\\t}, [setting.value, (setting as ISettingColor).editor, update, persistedSetting]);\\n\\n\\tconst { _id, disabled, readonly, type, packageValue, i18nLabel, i18nDescription, alert, invisible } = setting;\\n\\n\\tconst labelText = (t.has(i18nLabel) && t(i18nLabel)) || (t.has(_id) && t(_id)) || i18nLabel || _id;\\n\\n\\tconst hint = useMemo(\\n\\t\\t() =>\\n\\t\\t\\ti18nDescription && t.has(i18nDescription) ? <MarkdownText variant='inline' preserveHtml content={t(i18nDescription)} /> : undefined,\\n\\t\\t[i18nDescription, t],\\n\\t);\\n\\tconst callout = useMemo(() => alert && <span dangerouslySetInnerHTML={{ __html: t.has(alert) ? t(alert) : alert }} />, [alert, t]);\\n\\n\\tconst shouldDisableEnterprise = setting.enterprise && !isEnterprise;\\n\\n\\tconst PRICING_URL = 'https://go.rocket.chat/i/see-paid-plan-customize-homepage';\\n\\n\\tconst showUpgradeButton = useMemo(\\n\\t\\t() =>\\n\\t\\t\\tshouldDisableEnterprise ? (\\n\\t\\t\\t\\t<Button mbs={4} is='a' href={PRICING_URL} target='_blank'>\\n\\t\\t\\t\\t\\t{t('See_Paid_Plan')}\\n\\t\\t\\t\\t</Button>\\n\\t\\t\\t) : undefined,\\n\\t\\t[shouldDisableEnterprise, t],\\n\\t);\\n\\n\\tconst label = useMemo(() => {\\n\\t\\tif (!shouldDisableEnterprise) {\\n\\t\\t\\treturn labelText;\\n\\t\\t}\\n\\n\\t\\treturn (\\n\\t\\t\\t<>\\n\\t\\t\\t\\t<Box is='span' mie={4}>\\n\\t\\t\\t\\t\\t{labelText}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<Tag variant='featured'>{t('Premium')}</Tag>\\n\\t\\t\\t</>\\n\\t\\t);\\n\\t}, [labelText, shouldDisableEnterprise, t]);\\n\\n\\tconst hasResetButton =\\n\\t\\t!shouldDisableEnterprise &&\\n\\t\\t!readonly &&\\n\\t\\ttype !== 'asset' &&\\n\\t\\t((isSettingColor(setting) && JSON.stringify(setting.packageEditor) !== JSON.stringify(editor)) ||\\n\\t\\t\\tJSON.stringify(value) !== JSON.stringify(packageValue)) &&\\n\\t\\t!disabled;\\n\\n\\t// @todo: type check props based on setting type\\n\\n\\treturn (\\n\\t\\t<MemoizedSetting\\n\\t\\t\\tclassName={className}\\n\\t\\t\\tlabel={label}\\n\\t\\t\\thint={hint}\\n\\t\\t\\tcallout={callout}\\n\\t\\t\\tshowUpgradeButton={showUpgradeButton}\\n\\t\\t\\tsectionChanged={sectionChanged}\\n\\t\\t\\t{...setting}\\n\\t\\t\\tdisabled={setting.disabled || shouldDisableEnterprise}\\n\\t\\t\\tvalue={value}\\n\\t\\t\\teditor={editor}\\n\\t\\t\\thasResetButton={hasResetButton}\\n\\t\\t\\tonChangeValue={onChangeValue}\\n\\t\\t\\tonChangeEditor={onChangeEditor}\\n\\t\\t\\tonResetButtonClick={onResetButtonClick}\\n\\t\\t\\tinvisible={invisible}\\n\\t\\t/>\\n\\t);\\n}\\n\\nexport default Setting;\\n\",null],\"names\":[\"_extends\",\"_objectSpread\",\"isSettingColor\",\"isSetting\",\"Box\",\"Button\",\"Tag\",\"useDebouncedCallback\",\"useSettingStructure\",\"useTranslation\",\"React\",\"useEffect\",\"useMemo\",\"useState\",\"useCallback\",\"MarkdownText\",\"useEditableSetting\",\"useEditableSettingsDispatch\",\"useIsEnterprise\",\"MemoizedSetting\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"className\",\"settingId\",\"sectionChanged\",\"setting\",\"persistedSetting\",\"isEnterprise\",\"Error\",\"concat\",\"dispatch\",\"update\",\"_ref2\",\"value\",\"editor\",\"_id\",\"undefined\",\"changed\",\"JSON\",\"stringify\",\"t\",\"setValue\",\"setEditor\",\"onChangeValue\",\"onChangeEditor\",\"onResetButtonClick\",\"packageValue\",\"packageEditor\",\"disabled\",\"readonly\",\"type\",\"i18nLabel\",\"i18nDescription\",\"alert\",\"invisible\",\"labelText\",\"has\",\"hint\",\"createElement\",\"variant\",\"preserveHtml\",\"content\",\"callout\",\"dangerouslySetInnerHTML\",\"__html\",\"shouldDisableEnterprise\",\"enterprise\",\"showUpgradeButton\",\"mbs\",\"is\",\"href\",\"target\",\"label\",\"Fragment\",\"mie\",\"hasResetButton\"],\"mappings\":\"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\"}"}