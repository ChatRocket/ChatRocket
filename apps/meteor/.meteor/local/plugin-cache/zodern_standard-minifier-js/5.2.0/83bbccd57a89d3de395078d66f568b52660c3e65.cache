{"code":"function module(e,t,a){let r,u,n,o;a.export({useUpdateAvatar:()=>s}),a.link(\"@rocket.chat/ui-contexts\",{useUserId(e){r=e},useStream(e){u=e}},0),a.link(\"meteor/meteor\",{Meteor(e){n=e}},1),a.link(\"react\",{useEffect(e){o=e}},2);let s=()=>{let e=u(\"notify-logged\"),t=r();o(()=>{if(t)return e(\"updateAvatar\",e=>{if(\"username\"in e){let{username:t,etag:a}=e;t&&n.users.update({username:t},{$set:{avatarETag:a}})}})},[e,t])}}","map":"{\"version\":3,\"sources\":[\"client/providers/UserProvider/hooks/useUpdateAvatar.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useUserId, useStream } from '@rocket.chat/ui-contexts';\\nimport { Meteor } from 'meteor/meteor';\\nimport { useEffect } from 'react';\\n\\nexport const useUpdateAvatar = () => {\\n\\tconst notify = useStream('notify-logged');\\n\\tconst uid = useUserId();\\n\\tuseEffect(() => {\\n\\t\\tif (!uid) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\treturn notify('updateAvatar', (data) => {\\n\\t\\t\\tif ('username' in data) {\\n\\t\\t\\t\\tconst { username, etag } = data;\\n\\t\\t\\t\\tusername && Meteor.users.update({ username }, { $set: { avatarETag: etag } });\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}, [notify, uid]);\\n};\\n\",null],\"names\":[\"useUserId\",\"useStream\",\"Meteor\",\"useEffect\",\"module\",\"export\",\"useUpdateAvatar\",\"link\",\"v\",\"notify\",\"uid\",\"data\",\"username\",\"etag\",\"users\",\"update\",\"$set\",\"avatarETag\"],\"mappings\":\"2BAAqCA,EAA2BC,EAAAC,EAAAC,EAAhEC,EAAOC,MAAE,CAAA,CAAAC,gBAAsBA,IAAAA,CAAM,GAA2BF,EAAAG,IAAA,CAAA,2BAAA,CAAAP,UAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,UAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,gBAAA,CAAAL,OAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAJ,UAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAIzD,IAAMF,EAAkBA,KAC9B,IAAMG,EAASR,EAAU,iBACnBS,EAAMV,IACZG,EAAU,KACT,GAAKO,EAGL,OAAOD,EAAO,eAAiBE,IAC9B,GAAI,aAAcA,EAAM,CACvB,GAAM,CAAEC,SAAAA,CAAQ,CAAEC,KAAAA,CAAAA,CAAM,CAAGF,CAC3BC,CAAAA,GAAYV,EAAOY,KAAK,CAACC,MAAM,CAAC,CAAEH,SAAAA,CAAQ,EAAI,CAAEI,KAAM,CAAEC,WAAYJ,CAAI,CAAE,EAC3E,CACD,EACD,EAAG,CAACJ,EAAQC,EAAI,CACjB\"}"}