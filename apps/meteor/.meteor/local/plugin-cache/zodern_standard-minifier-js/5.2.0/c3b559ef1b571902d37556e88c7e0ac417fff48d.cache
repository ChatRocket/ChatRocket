{"code":"function module(e,n,t){var o,i,r,l,c,u,a,f,s,d,m,p,_,h,k,E=[\"control\",\"index\"];t.link(\"@babel/runtime/helpers/extends\",{default:function(e){o=e}},0),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){i=e}},1),t.export({ConditionForm:function(){return g}}),t.link(\"@rocket.chat/fuselage\",{Field:function(e){r=e},FieldGroup:function(e){l=e},FieldLabel:function(e){c=e},FieldRow:function(e){u=e},NumberInput:function(e){a=e},Select:function(e){f=e},TextInput:function(e){s=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useUniqueId:function(e){d=e}},1),t.link(\"react\",{default:function(e){m=e},useMemo:function(e){p=e}},2),t.link(\"react-hook-form\",{Controller:function(e){_=e},useWatch:function(e){h=e}},3),t.link(\"react-i18next\",{useTranslation:function(e){k=e}},4);var g=function(e){var n=e.control,t=e.index,g=i(e,E),b=d(),v=k().t,x=h({control:n,name:\"conditions.\"+t+\".name\"}),F=p(function(){return{\"page-url\":v(\"Enter_a_regex\"),\"time-on-site\":v(\"Time_in_seconds\")}},[v]),C=p(function(){return[[\"page-url\",v(\"Visitor_page_URL\")],[\"time-on-site\",v(\"Visitor_time_on_site\")],[\"chat-opened-by-visitor\",v(\"Chat_opened_by_visitor\")],[\"after-guest-registration\",v(\"After_guest_registration\")]]},[v]),I=F[x];return m.createElement(l,g,m.createElement(r,null,m.createElement(c,{htmlFor:b},v(\"Condition\")),m.createElement(u,null,m.createElement(_,{name:\"conditions.\"+t+\".name\",control:n,render:function(e){var n=e.field;return m.createElement(f,o({},n,{id:b,options:C,placeholder:v(\"Select_an_option\")}))}})),I&&m.createElement(u,null,m.createElement(_,{name:\"conditions.\"+t+\".value\",control:n,render:function(e){var n=e.field;return\"time-on-site\"===x?m.createElement(a,o({},n,{placeholder:I})):m.createElement(s,o({},n,{placeholder:I}))}}))))}}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/triggers/ConditionForm.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Field, FieldGroup, FieldLabel, FieldRow, NumberInput, Select, TextInput } from '@rocket.chat/fuselage';\\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport type { ComponentProps } from 'react';\\nimport React, { useMemo } from 'react';\\nimport type { Control } from 'react-hook-form';\\nimport { Controller, useWatch } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport type { TriggersPayload } from './EditTrigger';\\n\\ntype ConditionFormType = ComponentProps<typeof Field> & {\\n\\tindex: number;\\n\\tcontrol: Control<TriggersPayload>;\\n};\\n\\nexport const ConditionForm = ({ control, index, ...props }: ConditionFormType) => {\\n\\tconst conditionFieldId = useUniqueId();\\n\\tconst { t } = useTranslation();\\n\\tconst conditionName = useWatch({ control, name: `conditions.${index}.name` });\\n\\n\\tconst placeholders: { [conditionName: string]: string } = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\t'page-url': t('Enter_a_regex'),\\n\\t\\t\\t'time-on-site': t('Time_in_seconds'),\\n\\t\\t}),\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst conditionOptions: SelectOption[] = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['page-url', t('Visitor_page_URL')],\\n\\t\\t\\t['time-on-site', t('Visitor_time_on_site')],\\n\\t\\t\\t['chat-opened-by-visitor', t('Chat_opened_by_visitor')],\\n\\t\\t\\t['after-guest-registration', t('After_guest_registration')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst conditionValuePlaceholder = placeholders[conditionName];\\n\\n\\treturn (\\n\\t\\t<FieldGroup {...props}>\\n\\t\\t\\t<Field>\\n\\t\\t\\t\\t<FieldLabel htmlFor={conditionFieldId}>{t('Condition')}</FieldLabel>\\n\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\tname={`conditions.${index}.name`}\\n\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t<Select {...field} id={conditionFieldId} options={conditionOptions} placeholder={t('Select_an_option')} />\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</FieldRow>\\n\\n\\t\\t\\t\\t{conditionValuePlaceholder && (\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\tname={`conditions.${index}.value`}\\n\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\trender={({ field }) => {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (conditionName === 'time-on-site') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn <NumberInput {...field} placeholder={conditionValuePlaceholder} />;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\treturn <TextInput {...field} placeholder={conditionValuePlaceholder} />;\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</Field>\\n\\t\\t</FieldGroup>\\n\\t);\\n};\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Field\",\"FieldGroup\",\"FieldLabel\",\"FieldRow\",\"NumberInput\",\"Select\",\"TextInput\",\"useUniqueId\",\"React\",\"useMemo\",\"Controller\",\"useWatch\",\"useTranslation\",\"module\",\"link\",\"default\",\"v\",\"export\",\"ConditionForm\",\"_ref\",\"control\",\"index\",\"props\",\"_excluded\",\"conditionFieldId\",\"t\",\"_useTranslation\",\"conditionName\",\"name\",\"placeholders\",\"conditionOptions\",\"conditionValuePlaceholder\",\"createElement\",\"htmlFor\",\"render\",\"_ref2\",\"field\",\"id\",\"options\",\"placeholder\",\"_ref3\"],\"mappings\":\"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\"}"}