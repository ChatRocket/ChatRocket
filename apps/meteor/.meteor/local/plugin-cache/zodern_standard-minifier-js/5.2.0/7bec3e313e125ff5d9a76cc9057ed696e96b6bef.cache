{"code":"function module(e,t,l){let o,n,a,_,i,s,r,u,m,c,d,y,C,k,g,h,E,b;l.link(\"@babel/runtime/helpers/extends\",{default(e){o=e}},0),l.link(\"@rocket.chat/fuselage\",{Box(e){n=e},Button(e){a=e},Card(e){_=e},CardBody(e){i=e},CardControls(e){s=e},CardHeader(e){r=e},Icon(e){u=e},Tag(e){m=e}},0),l.link(\"@rocket.chat/ui-contexts\",{useRole(e){c=e},useSettingSetValue(e){d=e},useSetting(e){y=e},useToastMessageDispatch(e){C=e},useTranslation(e){k=e},useRouter(e){g=e}},1),l.link(\"react\",{default(e){h=e}},2),l.link(\"../../../hooks/useIsEnterprise\",{useIsEnterprise(e){E=e}},3),l.link(\"../CustomHomePageContent\",{default(e){b=e}},4),l.exportDefault(e=>{let t=k(),l=C(),p=g(),{data:f}=E(),A=c(\"admin\"),H=y(\"Layout_Home_Body\"),B=\"\"===H,I=y(\"Layout_Home_Custom_Block_Visible\"),T=y(\"Layout_Custom_Body_Only\"),w=d(\"Layout_Home_Custom_Block_Visible\"),V=d(\"Layout_Custom_Body_Only\"),L=async()=>{try{await w(!I)}catch(e){l({type:\"error\",message:e})}},O=async()=>{try{await V(!T)}catch(e){l({type:\"error\",message:e})}},S=null==f?void 0:f.isEnterprise,W=B||!I,v=t(I?\"Now_Its_Visible_For_Everyone\":\"Now_Its_Visible_Only_For_Admins\"),x=t(\"It_Will_Hide_All_Other_Content_Blocks_In_The_Homepage\");return(W?x=t(\"Action_Available_After_Custom_Content_Added_And_Visible\"):T&&(x=t(\"It_Will_Show_All_Other_Content_Blocks_In_The_Homepage\")),A)?h.createElement(_,o({\"data-qa-id\":\"homepage-custom-card\"},e),h.createElement(r,null,h.createElement(m,null,h.createElement(u,{mie:4,name:W?\"eye-off\":\"eye\",size:\"x12\"}),t(W?\"Not_Visible_To_Workspace\":\"Visible_To_Workspace\"))),h.createElement(i,null,B?t(\"Homepage_Custom_Content_Default_Message\"):h.createElement(b,null)),h.createElement(s,null,h.createElement(a,{medium:!0,onClick:()=>p.navigate(\"/admin/settings/Layout\"),title:t(\"Layout_Home_Page_Content\")},t(\"Customize_Content\")),h.createElement(a,{icon:W?\"eye\":\"eye-off\",disabled:B||I&&T,title:B?t(\"Action_Available_After_Custom_Content_Added\"):v,onClick:L,medium:!0},t(W?\"Show_To_Workspace\":\"Hide_On_Workspace\")),h.createElement(a,{icon:\"lightning\",disabled:W||!S,title:S?x:t(\"Premium_only\"),onClick:O,medium:!0},t(T?\"Show_default_content\":\"Show_Only_This_Content\")))):W||T?h.createElement(b,{role:\"status\",\"aria-label\":H}):h.createElement(_,null,h.createElement(n,{mb:8},h.createElement(b,{role:\"status\",\"aria-label\":H})))})}","map":"{\"version\":3,\"sources\":[\"client/views/home/cards/CustomContentCard.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Button, Card, CardBody, CardControls, CardHeader, Icon, Tag } from '@rocket.chat/fuselage';\\nimport { useRole, useSettingSetValue, useSetting, useToastMessageDispatch, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps, ReactElement } from 'react';\\nimport React from 'react';\\n\\nimport { useIsEnterprise } from '../../../hooks/useIsEnterprise';\\nimport CustomHomepageContent from '../CustomHomePageContent';\\n\\nconst CustomContentCard = (props: Omit<ComponentProps<typeof Card>, 'type'>): ReactElement | null => {\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst router = useRouter();\\n\\n\\tconst { data } = useIsEnterprise();\\n\\tconst isAdmin = useRole('admin');\\n\\tconst customContentBody = useSetting<string>('Layout_Home_Body');\\n\\tconst isCustomContentBodyEmpty = customContentBody === '';\\n\\tconst isCustomContentVisible = useSetting<boolean>('Layout_Home_Custom_Block_Visible');\\n\\tconst isCustomContentOnly = useSetting<boolean>('Layout_Custom_Body_Only');\\n\\n\\tconst setCustomContentVisible = useSettingSetValue('Layout_Home_Custom_Block_Visible');\\n\\tconst setCustomContentOnly = useSettingSetValue('Layout_Custom_Body_Only');\\n\\n\\tconst handleChangeCustomContentVisibility = async () => {\\n\\t\\ttry {\\n\\t\\t\\tawait setCustomContentVisible(!isCustomContentVisible);\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t};\\n\\n\\tconst handleOnlyShowCustomContent = async () => {\\n\\t\\ttry {\\n\\t\\t\\tawait setCustomContentOnly(!isCustomContentOnly);\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t};\\n\\n\\tconst isEnterprise = data?.isEnterprise;\\n\\tconst willNotShowCustomContent = isCustomContentBodyEmpty || !isCustomContentVisible;\\n\\n\\tconst userVisibilityTooltipText = isCustomContentVisible ? t('Now_Its_Visible_For_Everyone') : t('Now_Its_Visible_Only_For_Admins');\\n\\n\\tlet customContentOnlyTooltipText = t('It_Will_Hide_All_Other_Content_Blocks_In_The_Homepage');\\n\\tif (willNotShowCustomContent) {\\n\\t\\tcustomContentOnlyTooltipText = t('Action_Available_After_Custom_Content_Added_And_Visible');\\n\\t} else if (isCustomContentOnly) {\\n\\t\\tcustomContentOnlyTooltipText = t('It_Will_Show_All_Other_Content_Blocks_In_The_Homepage');\\n\\t}\\n\\n\\tif (isAdmin) {\\n\\t\\treturn (\\n\\t\\t\\t<Card data-qa-id='homepage-custom-card' {...props}>\\n\\t\\t\\t\\t<CardHeader>\\n\\t\\t\\t\\t\\t<Tag>\\n\\t\\t\\t\\t\\t\\t<Icon mie={4} name={willNotShowCustomContent ? 'eye-off' : 'eye'} size='x12' />\\n\\t\\t\\t\\t\\t\\t{willNotShowCustomContent ? t('Not_Visible_To_Workspace') : t('Visible_To_Workspace')}\\n\\t\\t\\t\\t\\t</Tag>\\n\\t\\t\\t\\t</CardHeader>\\n\\t\\t\\t\\t<CardBody>{isCustomContentBodyEmpty ? t('Homepage_Custom_Content_Default_Message') : <CustomHomepageContent />}</CardBody>\\n\\t\\t\\t\\t<CardControls>\\n\\t\\t\\t\\t\\t<Button medium onClick={() => router.navigate('/admin/settings/Layout')} title={t('Layout_Home_Page_Content')}>\\n\\t\\t\\t\\t\\t\\t{t('Customize_Content')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\ticon={willNotShowCustomContent ? 'eye' : 'eye-off'}\\n\\t\\t\\t\\t\\t\\tdisabled={isCustomContentBodyEmpty || (isCustomContentVisible && isCustomContentOnly)}\\n\\t\\t\\t\\t\\t\\ttitle={isCustomContentBodyEmpty ? t('Action_Available_After_Custom_Content_Added') : userVisibilityTooltipText}\\n\\t\\t\\t\\t\\t\\tonClick={handleChangeCustomContentVisibility}\\n\\t\\t\\t\\t\\t\\tmedium\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t{willNotShowCustomContent ? t('Show_To_Workspace') : t('Hide_On_Workspace')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\ticon='lightning'\\n\\t\\t\\t\\t\\t\\tdisabled={willNotShowCustomContent || !isEnterprise}\\n\\t\\t\\t\\t\\t\\ttitle={!isEnterprise ? t('Premium_only') : customContentOnlyTooltipText}\\n\\t\\t\\t\\t\\t\\tonClick={handleOnlyShowCustomContent}\\n\\t\\t\\t\\t\\t\\tmedium\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t{!isCustomContentOnly ? t('Show_Only_This_Content') : t('Show_default_content')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</CardControls>\\n\\t\\t\\t</Card>\\n\\t\\t);\\n\\t}\\n\\n\\tif (!willNotShowCustomContent && !isCustomContentOnly) {\\n\\t\\treturn (\\n\\t\\t\\t<Card>\\n\\t\\t\\t\\t<Box mb={8}>\\n\\t\\t\\t\\t\\t<CustomHomepageContent role='status' aria-label={customContentBody} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Card>\\n\\t\\t);\\n\\t}\\n\\treturn <CustomHomepageContent role='status' aria-label={customContentBody} />;\\n};\\n\\nexport default CustomContentCard;\\n\",null],\"names\":[\"_extends\",\"Box\",\"Button\",\"Card\",\"CardBody\",\"CardControls\",\"CardHeader\",\"Icon\",\"Tag\",\"useRole\",\"useSettingSetValue\",\"useSetting\",\"useToastMessageDispatch\",\"useTranslation\",\"useRouter\",\"React\",\"useIsEnterprise\",\"CustomHomepageContent\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"props\",\"t\",\"dispatchToastMessage\",\"router\",\"data\",\"isAdmin\",\"customContentBody\",\"isCustomContentBodyEmpty\",\"isCustomContentVisible\",\"isCustomContentOnly\",\"setCustomContentVisible\",\"setCustomContentOnly\",\"handleChangeCustomContentVisibility\",\"error\",\"type\",\"message\",\"handleOnlyShowCustomContent\",\"isEnterprise\",\"willNotShowCustomContent\",\"userVisibilityTooltipText\",\"customContentOnlyTooltipText\",\"createElement\",\"mie\",\"name\",\"size\",\"medium\",\"onClick\",\"navigate\",\"title\",\"icon\",\"disabled\",\"role\",\"mb\"],\"mappings\":\"2BAAAA,EAAAC,EAAOC,EAAOC,EAAMC,EAAQC,EAAUC,EAAcC,EAAAC,EAAqDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA7FC,EAAQC,IAAE,CAAA,iCAA8B,CAAAC,QAAYC,CAAI,EAAErB,EAAKqB,CAAA,CAAM,EAAA,GAAnBH,EAAMC,IAAK,CAAA,wBAAQ,CAAAlB,IAAAoB,CAAuB,EAACpB,EAAAoB,CAAA,EAAAnB,OAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,EAAAlB,KAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,EAAAjB,SAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,EAAAhB,aAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,EAAAf,WAAAe,CAAA,EAAAf,EAAAe,CAAA,EAAAd,KAAAc,CAAA,EAAAd,EAAAc,CAAA,EAAAb,IAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAV,QAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,mBAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,WAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,wBAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,eAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,UAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAH,gBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAC,QAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAzGH,EAAOI,aAAa,CAQOC,IAC1B,IAAMC,EAAIX,IACJY,EAAuBb,IACvBc,EAASZ,IAET,CAAEa,KAAAA,CAAAA,CAAM,CAAGX,IACXY,EAAUnB,EAAQ,SAClBoB,EAAoBlB,EAAmB,oBACvCmB,EAA2BD,AAAsB,KAAtBA,EAC3BE,EAAyBpB,EAAoB,oCAC7CqB,EAAsBrB,EAAoB,2BAE1CsB,EAA0BvB,EAAmB,oCAC7CwB,EAAuBxB,EAAmB,2BAE1CyB,EAAsC,UAC3C,GAAI,CACH,MAAMF,EAAwB,CAACF,EAChC,CAAE,MAAOK,EAAO,CACfX,EAAqB,CAAEY,KAAM,QAASC,QAASF,CAAK,EACrD,CACD,EAEMG,EAA8B,UACnC,GAAI,CACH,MAAML,EAAqB,CAACF,EAC7B,CAAE,MAAOI,EAAO,CACfX,EAAqB,CAAEY,KAAM,QAASC,QAASF,CAAK,EACrD,CACD,EAEMI,EAAeb,MAAAA,EAAI,KAAA,EAAJA,EAAMa,YAAY,CACjCC,EAA2BX,GAA4B,CAACC,EAExDW,EAAqDlB,EAAE,AAA3BO,EAA2B,+BAAoC,mCAE7FY,EAA+BnB,EAAE,+DAOrC,CANIiB,EACHE,EAA+BnB,EAAE,2DACvBQ,GACVW,CAAAA,EAA+BnB,EAAE,wDAAuD,EAGrFI,GAEFb,EAAA6B,aAAA,CAACzC,EAAIH,EAAA,CAAC,aAAW,sBAAsB,EAAKuB,GAC3CR,EAAA6B,aAAA,CAACtC,EAAU,KACVS,EAAA6B,aAAA,CAACpC,EAAG,KACHO,EAAA6B,aAAA,CAACrC,EAAI,CAACsC,IAAK,EAAGC,KAAML,EAA2B,UAAY,MAAOM,KAAK,KAAK,GAChDvB,EAAE,AAA7BiB,EAA6B,2BAAgC,0BAGhE1B,EAAA6B,aAAA,CAACxC,EAAQ,KAAE0B,EAA2BN,EAAE,2CAA6CT,EAAA6B,aAAA,CAAC3B,EAAqB,OAC3GF,EAAA6B,aAAA,CAACvC,EAAY,KACZU,EAAA6B,aAAA,CAAC1C,EAAM,CAAC8C,OAAM,CAAA,EAACC,QAASA,IAAMvB,EAAOwB,QAAQ,CAAC,0BAA2BC,MAAO3B,EAAE,2BAA4B,EAC5GA,EAAE,sBAEJT,EAAA6B,aAAA,CAAC1C,EAAM,CACNkD,KAAMX,EAA2B,MAAQ,UACzCY,SAAUvB,GAA6BC,GAA0BC,EACjEmB,MAAOrB,EAA2BN,EAAE,+CAAiDkB,EACrFO,QAASd,EACTa,OAAM,CAAA,CAAA,EAEsBxB,EAAE,AAA7BiB,EAA6B,oBAAyB,sBAExD1B,EAAA6B,aAAA,CAAC1C,EAAM,CACNkD,KAAK,YACLC,SAAUZ,GAA4B,CAACD,EACvCW,MAAO,AAACX,EAAmCG,EAApBnB,EAAE,gBACzByB,QAASV,EACTS,OAAM,CAAA,CAAA,EAEgDxB,EAAE,AAAtDQ,EAAsD,uBAA9B,6BAO3B,AAACS,GAA6BT,EAS3BjB,EAAA6B,aAAA,CAAC3B,EAAqB,CAACqC,KAAK,SAAS,aAAYzB,CAAkB,GAPxEd,EAAA6B,aAAA,CAACzC,EAAI,KACJY,EAAA6B,aAAA,CAAC3C,EAAG,CAACsD,GAAI,CAAE,EACVxC,EAAA6B,aAAA,CAAC3B,EAAqB,CAACqC,KAAK,SAAS,aAAYzB,CAAkB,IAMxE\"}"}