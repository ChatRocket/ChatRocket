{"code":"function module(e,t,n){var i,o,a,l,r,c,s,u,d,m,f,p,g,E,y,h,k,v;n.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){i=e}},0),n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){o=e}},1),n.link(\"@rocket.chat/fuselage\",{Box:function(e){a=e},Flex:function(e){l=e},ButtonGroup:function(e){r=e},Button:function(e){c=e},Icon:function(e){s=e}},0),n.link(\"@rocket.chat/ui-avatar\",{UserAvatar:function(e){u=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useTranslation:function(e){d=e},useStream:function(e){m=e}},2),n.link(\"moment\",{default:function(e){f=e}},3),n.link(\"react\",{default:function(e){p=e},useEffect:function(e){g=e},useState:function(e){E=e}},4),n.link(\"../../../app/utils/client/lib/SDKClient\",{sdk:function(e){y=e}},5),n.link(\"../../../app/webrtc/client\",{WebRTC:function(e){h=e}},6),n.link(\"../../../app/webrtc/lib/constants\",{WEB_RTC_EVENTS:function(e){k=e}},7),n.link(\"./OngoingCallDuration\",{default:function(e){v=e}},8),n.link(\"./styles.css\"),n.exportDefault(function(e){var t=e.roomId,n=e.visitorToken,C=e.visitorId,b=e.status,w=e.setStatus,x=e.isLayoutEmbedded,I=e.visitorName,S=e.agentName,z=e.callStartTime;if(!t)throw Error(\"Call Page - no room id\");var T=E(!1),_=o(T,2),B=_[0],R=_[1],D=E(!1),W=o(D,2),j=W[0],N=W[1],O=E(!1),P=o(O,2),V=P[0],H=P[1],U=E(!1),q=o(U,2),A=q[0],M=q[1],F=E(!1),X=o(F,2),G=X[0],K=X[1],L=E(!1),J=o(L,2),Q=J[0],Y=J[1],Z=E(!1),$=o(Z,2),ee=$[0],et=$[1],en=\"x21\",ei=\"x40\";x&&(en=\"x19\",ei=\"x35\");var eo=m(\"notify-user\"),ea=m(\"notify-room\"),el=d();g(function(){if(n){if(!C)throw Error(\"Call Page - no visitor id\");var e=h.getInstanceByRoomId(t,C),i=function(){return x&&K(!0),window.innerWidth<=450&&window.innerHeight>=629&&window.innerHeight<=900&&(et(!0),e&&(e.media={audio:!0,video:{width:{ideal:440},height:{ideal:580}}}),!0)},o=eo(C+\"/\"+k.WEB_RTC,function(t,n){if(null!=n.room)switch(t){case\"candidate\":null==e||e.onUserStream(\"candidate\",n);break;case\"description\":null==e||e.onUserStream(\"description\",n);break;case\"join\":null==e||e.onUserStream(\"join\",n)}}),a=ea(t+\"/\"+k.WEB_RTC,function(n,o){\"callStatus\"===n&&\"ended\"===o.callStatus?(null==e||e.stop(),w(o.callStatus)):\"getDeviceType\"===n?y.publish(\"notify-room\",[t+\"/\"+k.WEB_RTC,\"deviceType\",{isMobileDevice:i()}]):\"cameraStatus\"===n&&Y(o.isCameraOn)});return y.publish(\"notify-room\",[t+\"/\"+k.WEB_RTC,\"deviceType\",{isMobileDevice:i()}]),y.publish(\"notify-room\",[t+\"/\"+k.WEB_RTC,\"callStatus\",{callStatus:\"inProgress\"}]),function(){a(),o()}}if(!B){var l=h.getInstanceByRoomId(t);return\"inProgress\"===b&&(y.publish(\"notify-room\",[t+\"/\"+k.WEB_RTC,\"getDeviceType\"]),null==l||l.startCall({audio:!0,video:{width:{ideal:1920},height:{ideal:1080}}})),R(!0),ea(t+\"/\"+k.WEB_RTC,function(e,t){if(\"callStatus\"===e){switch(t.callStatus){case\"ended\":null==l||l.stop();break;case\"inProgress\":null==l||l.startCall({audio:!0,video:{width:{ideal:1920},height:{ideal:1080}}})}w(t.callStatus)}else\"deviceType\"===e&&t.isMobileDevice?M(!0):\"cameraStatus\"===e&&Y(t.isCameraOn)})}},[B,b,w,C,t,n,x,eo,ea]);var er=function(e){var i,o;if(\"mic\"===e)return null===(o=h.getInstanceByRoomId(t,n))||void 0===o||o.toggleAudio(),N(!j);null===(i=h.getInstanceByRoomId(t,n))||void 0===i||i.toggleVideo(),H(!V),y.publish(\"notify-room\",[t+\"/\"+k.WEB_RTC,\"cameraStatus\",{isCameraOn:!V}])},ec=function(){if(x){var e;return null===(e=parent)||void 0===e?void 0:e.handleIframeClose()}return window.close()},es=function(e,t){return p.createElement(l.Container,{direction:\"column\",justifyContent:\"center\"},p.createElement(a,{width:\"full\",minHeight:\"sh\",alignItems:\"center\",backgroundColor:\"dark\",overflow:\"hidden\",position:\"relative\"},p.createElement(a,{position:\"absolute\",zIndex:1,style:{top:\"5%\",right:\"2%\"},className:\"Self_Video\",alignItems:\"center\",backgroundColor:\"dark\"},p.createElement(\"video\",{id:\"localVideo\",autoPlay:!0,playsInline:!0,muted:!0,style:{width:\"100%\",transform:\"scaleX(-1)\",display:V?\"block\":\"none\"}}),p.createElement(a,{style:{display:V?\"none\":\"block\",margin:\"auto\"}},p.createElement(u,{username:e,size:ee||G?\"x32\":\"x48\"}))),p.createElement(a,{position:\"absolute\",zIndex:1,style:{bottom:\"5%\"}},p.createElement(r,null,p.createElement(c,{id:\"mic\",square:!0,title:j?el(\"Mute_microphone\"):el(\"Unmute_microphone\"),onClick:function(){return er(\"mic\")},className:j?\"On\":\"Off\",size:Number(ei)},j?p.createElement(s,{name:\"mic\",size:en}):p.createElement(s,{name:\"mic-off\",size:en})),p.createElement(c,{id:\"camera\",square:!0,title:V?el(\"Turn_off_video\"):el(\"Turn_on_video\"),onClick:function(){return er(\"camera\")},className:V?\"On\":\"Off\",size:parseInt(ei)},V?p.createElement(s,{name:\"video\",size:en}):p.createElement(s,{name:\"video-off\",size:en})),x&&p.createElement(c,{square:!0,backgroundColor:\"dark\",borderColor:\"stroke-extra-dark\",\"data-title\":el(\"Expand_view\"),onClick:function(){var e;return null===(e=parent)||void 0===e?void 0:e.expandCall()},size:parseInt(ei)},p.createElement(s,{name:\"arrow-expand\",size:en,color:\"white\"})),p.createElement(c,{square:!0,danger:!0,title:el(\"End_call\"),onClick:ec,size:parseInt(ei)},p.createElement(s,{name:\"phone-off\",size:en,color:\"white\"})))),p.createElement(\"video\",{id:\"remoteVideo\",autoPlay:!0,playsInline:!0,style:{width:A?\"45%\":\"100%\",transform:\"scaleX(-1)\",display:Q?\"block\":\"none\"}},p.createElement(\"track\",{kind:\"captions\"})),p.createElement(a,{position:\"absolute\",zIndex:1,display:Q?\"none\":\"flex\",justifyContent:\"center\",flexDirection:\"column\",alignItems:\"center\",style:{top:A||ee?\"10%\":\"30%\"}},p.createElement(a,{style:{display:\"block\",margin:\"auto\"}},p.createElement(u,{username:t,size:G?\"x48\":\"x124\"})),p.createElement(a,{color:\"white\",fontSize:G?12:18,textAlign:\"center\",margin:3},p.createElement(v,{counter:f.duration(f(new Date).diff(f(z))).asSeconds()})),p.createElement(a,{style:i({color:\"white\",fontSize:G?12:22,margin:G?5:9},G&&{marginTop:0})},t))))};return p.createElement(p.Fragment,null,\"ringing\"===b&&p.createElement(l.Container,{direction:\"column\",justifyContent:\"center\"},p.createElement(a,{width:\"full\",minHeight:\"sh\",alignItems:\"center\",backgroundColor:\"dark\",overflow:\"hidden\",position:\"relative\"},p.createElement(a,{position:\"absolute\",zIndex:1,style:{top:\"5%\",right:\"2%\"},className:\"Self_Video\",backgroundColor:\"dark\",alignItems:\"center\"},p.createElement(a,{style:{display:\"block\",margin:\"auto\"}},p.createElement(u,{username:S,size:ee?\"x32\":\"x48\"}))),p.createElement(a,{position:\"absolute\",zIndex:1,style:{top:\"20%\",display:\"flex\",justifyContent:\"center\",flexDirection:\"column\"},alignItems:\"center\"},p.createElement(a,{style:{display:\"block\",margin:\"auto\"}},p.createElement(u,{username:I,size:\"x124\"})),p.createElement(a,{color:\"white\",fontSize:16,margin:15},\"Calling...\"),p.createElement(a,{style:{color:\"white\",fontSize:ee?15:22}},I)))),\"declined\"===b&&p.createElement(a,{minHeight:\"90%\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",color:\"white\",fontSize:\"s1\"},el(\"Call_declined\")),\"inProgress\"===b&&p.createElement(l.Container,{direction:\"column\",justifyContent:\"center\"},n?es(I,S):es(S,I)))})}","map":"{\"version\":3,\"sources\":[\"client/views/meet/CallPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Flex, ButtonGroup, Button, Icon } from '@rocket.chat/fuselage';\\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\\nimport { useTranslation, useStream } from '@rocket.chat/ui-contexts';\\nimport moment from 'moment';\\nimport React, { useEffect, useState } from 'react';\\n\\nimport { sdk } from '../../../app/utils/client/lib/SDKClient';\\nimport { WebRTC } from '../../../app/webrtc/client';\\nimport { WEB_RTC_EVENTS } from '../../../app/webrtc/lib/constants';\\nimport OngoingCallDuration from './OngoingCallDuration';\\nimport './styles.css';\\n\\ntype CallPageProps = {\\n\\troomId?: string;\\n\\tvisitorToken: any;\\n\\tvisitorId: string | null;\\n\\tstatus: any;\\n\\tsetStatus: any;\\n\\tisLayoutEmbedded: boolean;\\n\\tvisitorName: any;\\n\\tagentName: any;\\n\\tcallStartTime: any;\\n};\\n\\nconst CallPage = ({\\n\\troomId,\\n\\tvisitorToken,\\n\\tvisitorId,\\n\\tstatus,\\n\\tsetStatus,\\n\\tisLayoutEmbedded,\\n\\tvisitorName,\\n\\tagentName,\\n\\tcallStartTime,\\n}: CallPageProps) => {\\n\\tif (!roomId) {\\n\\t\\tthrow new Error('Call Page - no room id');\\n\\t}\\n\\tconst [isAgentActive, setIsAgentActive] = useState(false);\\n\\tconst [isMicOn, setIsMicOn] = useState(false);\\n\\tconst [isCameraOn, setIsCameraOn] = useState(false);\\n\\tconst [isRemoteMobileDevice, setIsRemoteMobileDevice] = useState(false);\\n\\tconst [callInIframe, setCallInIframe] = useState(false);\\n\\tconst [isRemoteCameraOn, setIsRemoteCameraOn] = useState(false);\\n\\tconst [isLocalMobileDevice, setIsLocalMobileDevice] = useState(false);\\n\\n\\tlet iconSize = 'x21';\\n\\tlet buttonSize = 'x40';\\n\\tconst avatarSize = 'x48';\\n\\tif (isLayoutEmbedded) {\\n\\t\\ticonSize = 'x19';\\n\\t\\tbuttonSize = 'x35';\\n\\t}\\n\\n\\tconst subscribeNotifyUser = useStream('notify-user');\\n\\tconst subscribeNotifyRoom = useStream('notify-room');\\n\\tconst t = useTranslation();\\n\\tuseEffect(() => {\\n\\t\\tif (visitorToken) {\\n\\t\\t\\tif (!visitorId) {\\n\\t\\t\\t\\tthrow new Error('Call Page - no visitor id');\\n\\t\\t\\t}\\n\\t\\t\\tconst webrtcInstance = WebRTC.getInstanceByRoomId(roomId, visitorId);\\n\\t\\t\\tconst isMobileDevice = (): boolean => {\\n\\t\\t\\t\\tif (isLayoutEmbedded) {\\n\\t\\t\\t\\t\\tsetCallInIframe(true);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (window.innerWidth <= 450 && window.innerHeight >= 629 && window.innerHeight <= 900) {\\n\\t\\t\\t\\t\\tsetIsLocalMobileDevice(true);\\n\\t\\t\\t\\t\\tif (webrtcInstance)\\n\\t\\t\\t\\t\\t\\twebrtcInstance.media = {\\n\\t\\t\\t\\t\\t\\t\\taudio: true,\\n\\t\\t\\t\\t\\t\\t\\tvideo: {\\n\\t\\t\\t\\t\\t\\t\\t\\twidth: { ideal: 440 },\\n\\t\\t\\t\\t\\t\\t\\t\\theight: { ideal: 580 },\\n\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t};\\n\\n\\t\\t\\tconst unsubNotifyUser = subscribeNotifyUser(`${visitorId}/${WEB_RTC_EVENTS.WEB_RTC}`, (type, data) => {\\n\\t\\t\\t\\tif (data.room == null) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tswitch (type) {\\n\\t\\t\\t\\t\\tcase 'candidate':\\n\\t\\t\\t\\t\\t\\twebrtcInstance?.onUserStream('candidate', data);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 'description':\\n\\t\\t\\t\\t\\t\\twebrtcInstance?.onUserStream('description', data);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 'join':\\n\\t\\t\\t\\t\\t\\twebrtcInstance?.onUserStream('join', data);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tconst unsubNotifyRoom = subscribeNotifyRoom(`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`, (type: any, data: any) => {\\n\\t\\t\\t\\tif (type === 'callStatus' && data.callStatus === 'ended') {\\n\\t\\t\\t\\t\\twebrtcInstance?.stop();\\n\\t\\t\\t\\t\\tsetStatus(data.callStatus);\\n\\t\\t\\t\\t} else if (type === 'getDeviceType') {\\n\\t\\t\\t\\t\\tsdk.publish('notify-room', [\\n\\t\\t\\t\\t\\t\\t`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`,\\n\\t\\t\\t\\t\\t\\t'deviceType',\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tisMobileDevice: isMobileDevice(),\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t]);\\n\\t\\t\\t\\t} else if (type === 'cameraStatus') {\\n\\t\\t\\t\\t\\tsetIsRemoteCameraOn(data.isCameraOn);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tsdk.publish('notify-room', [\\n\\t\\t\\t\\t`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`,\\n\\t\\t\\t\\t'deviceType',\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tisMobileDevice: isMobileDevice(),\\n\\t\\t\\t\\t},\\n\\t\\t\\t]);\\n\\n\\t\\t\\tsdk.publish('notify-room', [\\n\\t\\t\\t\\t`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`,\\n\\t\\t\\t\\t'callStatus',\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tcallStatus: 'inProgress',\\n\\t\\t\\t\\t},\\n\\t\\t\\t]);\\n\\n\\t\\t\\treturn () => {\\n\\t\\t\\t\\tunsubNotifyRoom();\\n\\t\\t\\t\\tunsubNotifyUser();\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tif (!isAgentActive) {\\n\\t\\t\\tconst webrtcInstance = WebRTC.getInstanceByRoomId(roomId);\\n\\t\\t\\tif (status === 'inProgress') {\\n\\t\\t\\t\\tsdk.publish('notify-room', [`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`, 'getDeviceType']);\\n\\n\\t\\t\\t\\twebrtcInstance?.startCall({\\n\\t\\t\\t\\t\\taudio: true,\\n\\t\\t\\t\\t\\tvideo: {\\n\\t\\t\\t\\t\\t\\twidth: { ideal: 1920 },\\n\\t\\t\\t\\t\\t\\theight: { ideal: 1080 },\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tsetIsAgentActive(true);\\n\\n\\t\\t\\treturn subscribeNotifyRoom(`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`, (type: any, data: any) => {\\n\\t\\t\\t\\tif (type === 'callStatus') {\\n\\t\\t\\t\\t\\tswitch (data.callStatus) {\\n\\t\\t\\t\\t\\t\\tcase 'ended':\\n\\t\\t\\t\\t\\t\\t\\twebrtcInstance?.stop();\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\tcase 'inProgress':\\n\\t\\t\\t\\t\\t\\t\\twebrtcInstance?.startCall({\\n\\t\\t\\t\\t\\t\\t\\t\\taudio: true,\\n\\t\\t\\t\\t\\t\\t\\t\\tvideo: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\twidth: { ideal: 1920 },\\n\\t\\t\\t\\t\\t\\t\\t\\t\\theight: { ideal: 1080 },\\n\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tsetStatus(data.callStatus);\\n\\t\\t\\t\\t} else if (type === 'deviceType' && data.isMobileDevice) {\\n\\t\\t\\t\\t\\tsetIsRemoteMobileDevice(true);\\n\\t\\t\\t\\t} else if (type === 'cameraStatus') {\\n\\t\\t\\t\\t\\tsetIsRemoteCameraOn(data.isCameraOn);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\t}, [isAgentActive, status, setStatus, visitorId, roomId, visitorToken, isLayoutEmbedded, subscribeNotifyUser, subscribeNotifyRoom]);\\n\\n\\tconst toggleButton = (control: any): any => {\\n\\t\\tif (control === 'mic') {\\n\\t\\t\\tWebRTC.getInstanceByRoomId(roomId, visitorToken)?.toggleAudio();\\n\\t\\t\\treturn setIsMicOn(!isMicOn);\\n\\t\\t}\\n\\t\\tWebRTC.getInstanceByRoomId(roomId, visitorToken)?.toggleVideo();\\n\\t\\tsetIsCameraOn(!isCameraOn);\\n\\t\\tsdk.publish('notify-room', [\\n\\t\\t\\t`${roomId}/${WEB_RTC_EVENTS.WEB_RTC}`,\\n\\t\\t\\t'cameraStatus',\\n\\t\\t\\t{\\n\\t\\t\\t\\tisCameraOn: !isCameraOn,\\n\\t\\t\\t},\\n\\t\\t]);\\n\\t};\\n\\n\\tconst closeWindow = (): void => {\\n\\t\\tif (isLayoutEmbedded) {\\n\\t\\t\\treturn (parent as any)?.handleIframeClose();\\n\\t\\t}\\n\\t\\treturn window.close();\\n\\t};\\n\\n\\tconst getCallDuration = (callStartTime: any): any => moment.duration(moment(new Date()).diff(moment(callStartTime))).asSeconds();\\n\\n\\tconst showCallPage = (localAvatar: any, remoteAvatar: any): any => (\\n\\t\\t<Flex.Container direction='column' justifyContent='center'>\\n\\t\\t\\t<Box width='full' minHeight='sh' alignItems='center' backgroundColor='dark' overflow='hidden' position='relative'>\\n\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\tposition='absolute'\\n\\t\\t\\t\\t\\tzIndex={1}\\n\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\ttop: '5%',\\n\\t\\t\\t\\t\\t\\tright: '2%',\\n\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\tclassName='Self_Video'\\n\\t\\t\\t\\t\\talignItems='center'\\n\\t\\t\\t\\t\\tbackgroundColor='dark'\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<video\\n\\t\\t\\t\\t\\t\\tid='localVideo'\\n\\t\\t\\t\\t\\t\\tautoPlay\\n\\t\\t\\t\\t\\t\\tplaysInline\\n\\t\\t\\t\\t\\t\\tmuted\\n\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\twidth: '100%',\\n\\t\\t\\t\\t\\t\\t\\ttransform: 'scaleX(-1)',\\n\\t\\t\\t\\t\\t\\t\\tdisplay: isCameraOn ? 'block' : 'none',\\n\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t></video>\\n\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\tdisplay: isCameraOn ? 'none' : 'block',\\n\\t\\t\\t\\t\\t\\t\\tmargin: 'auto',\\n\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<UserAvatar username={localAvatar} size={isLocalMobileDevice || callInIframe ? 'x32' : 'x48'} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\tposition='absolute'\\n\\t\\t\\t\\t\\tzIndex={1}\\n\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\tbottom: '5%',\\n\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\t\\tid='mic'\\n\\t\\t\\t\\t\\t\\t\\tsquare\\n\\t\\t\\t\\t\\t\\t\\ttitle={isMicOn ? t('Mute_microphone') : t('Unmute_microphone')}\\n\\t\\t\\t\\t\\t\\t\\tonClick={(): any => toggleButton('mic')}\\n\\t\\t\\t\\t\\t\\t\\tclassName={isMicOn ? 'On' : 'Off'}\\n\\t\\t\\t\\t\\t\\t\\tsize={Number(buttonSize)}\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t{isMicOn ? <Icon name='mic' size={iconSize} /> : <Icon name='mic-off' size={iconSize} />}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\t\\tid='camera'\\n\\t\\t\\t\\t\\t\\t\\tsquare\\n\\t\\t\\t\\t\\t\\t\\ttitle={isCameraOn ? t('Turn_off_video') : t('Turn_on_video')}\\n\\t\\t\\t\\t\\t\\t\\tonClick={(): void => toggleButton('camera')}\\n\\t\\t\\t\\t\\t\\t\\tclassName={isCameraOn ? 'On' : 'Off'}\\n\\t\\t\\t\\t\\t\\t\\tsize={parseInt(buttonSize)}\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t{isCameraOn ? <Icon name='video' size={iconSize} /> : <Icon name='video-off' size={iconSize} />}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t{isLayoutEmbedded && (\\n\\t\\t\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\t\\t\\tsquare\\n\\t\\t\\t\\t\\t\\t\\t\\tbackgroundColor='dark'\\n\\t\\t\\t\\t\\t\\t\\t\\tborderColor='stroke-extra-dark'\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-title={t('Expand_view')}\\n\\t\\t\\t\\t\\t\\t\\t\\tonClick={(): void => (parent as any)?.expandCall()}\\n\\t\\t\\t\\t\\t\\t\\t\\tsize={parseInt(buttonSize)}\\n\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Icon name='arrow-expand' size={iconSize} color='white' />\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t<Button square danger title={t('End_call')} onClick={closeWindow} size={parseInt(buttonSize)}>\\n\\t\\t\\t\\t\\t\\t\\t<Icon name='phone-off' size={iconSize} color='white' />\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<video\\n\\t\\t\\t\\t\\tid='remoteVideo'\\n\\t\\t\\t\\t\\tautoPlay\\n\\t\\t\\t\\t\\tplaysInline\\n\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\twidth: isRemoteMobileDevice ? '45%' : '100%',\\n\\t\\t\\t\\t\\t\\ttransform: 'scaleX(-1)',\\n\\t\\t\\t\\t\\t\\tdisplay: isRemoteCameraOn ? 'block' : 'none',\\n\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<track kind='captions' />\\n\\t\\t\\t\\t</video>\\n\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\tposition='absolute'\\n\\t\\t\\t\\t\\tzIndex={1}\\n\\t\\t\\t\\t\\tdisplay={isRemoteCameraOn ? 'none' : 'flex'}\\n\\t\\t\\t\\t\\tjustifyContent='center'\\n\\t\\t\\t\\t\\tflexDirection='column'\\n\\t\\t\\t\\t\\talignItems='center'\\n\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\ttop: isRemoteMobileDevice || isLocalMobileDevice ? '10%' : '30%',\\n\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\tdisplay: 'block',\\n\\t\\t\\t\\t\\t\\t\\tmargin: 'auto',\\n\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<UserAvatar username={remoteAvatar} size={!callInIframe ? 'x124' : avatarSize} />\\n\\t\\t\\t\\t\\t</Box>\\n\\n\\t\\t\\t\\t\\t<Box color='white' fontSize={callInIframe ? 12 : 18} textAlign='center' margin={3}>\\n\\t\\t\\t\\t\\t\\t<OngoingCallDuration counter={getCallDuration(callStartTime)} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\tcolor: 'white',\\n\\t\\t\\t\\t\\t\\t\\tfontSize: callInIframe ? 12 : 22,\\n\\t\\t\\t\\t\\t\\t\\tmargin: callInIframe ? 5 : 9,\\n\\t\\t\\t\\t\\t\\t\\t...(callInIframe && { marginTop: 0 }),\\n\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t{remoteAvatar}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Box>\\n\\t\\t</Flex.Container>\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{status === 'ringing' && (\\n\\t\\t\\t\\t<Flex.Container direction='column' justifyContent='center'>\\n\\t\\t\\t\\t\\t<Box width='full' minHeight='sh' alignItems='center' backgroundColor='dark' overflow='hidden' position='relative'>\\n\\t\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\t\\tposition='absolute'\\n\\t\\t\\t\\t\\t\\t\\tzIndex={1}\\n\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\ttop: '5%',\\n\\t\\t\\t\\t\\t\\t\\t\\tright: '2%',\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\tclassName='Self_Video'\\n\\t\\t\\t\\t\\t\\t\\tbackgroundColor='dark'\\n\\t\\t\\t\\t\\t\\t\\talignItems='center'\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdisplay: 'block',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmargin: 'auto',\\n\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t<UserAvatar username={agentName} size={isLocalMobileDevice ? 'x32' : 'x48'} />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\t\\tposition='absolute'\\n\\t\\t\\t\\t\\t\\t\\tzIndex={1}\\n\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\ttop: '20%',\\n\\t\\t\\t\\t\\t\\t\\t\\tdisplay: 'flex',\\n\\t\\t\\t\\t\\t\\t\\t\\tjustifyContent: 'center',\\n\\t\\t\\t\\t\\t\\t\\t\\tflexDirection: 'column',\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\talignItems='center'\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdisplay: 'block',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmargin: 'auto',\\n\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t<UserAvatar username={visitorName} size='x124' />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t<Box color='white' fontSize={16} margin={15}>\\n\\t\\t\\t\\t\\t\\t\\t\\tCalling...\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcolor: 'white',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tfontSize: isLocalMobileDevice ? 15 : 22,\\n\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t{visitorName}\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Flex.Container>\\n\\t\\t\\t)}\\n\\t\\t\\t{status === 'declined' && (\\n\\t\\t\\t\\t<Box minHeight='90%' display='flex' justifyContent='center' alignItems='center' color='white' fontSize='s1'>\\n\\t\\t\\t\\t\\t{t('Call_declined')}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t)}\\n\\t\\t\\t{status === 'inProgress' && (\\n\\t\\t\\t\\t<Flex.Container direction='column' justifyContent='center'>\\n\\t\\t\\t\\t\\t{visitorToken ? showCallPage(visitorName, agentName) : showCallPage(agentName, visitorName)}\\n\\t\\t\\t\\t</Flex.Container>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default CallPage;\\n\",null],\"names\":[\"_objectSpread\",\"_slicedToArray\",\"Box\",\"Flex\",\"ButtonGroup\",\"Button\",\"Icon\",\"UserAvatar\",\"useTranslation\",\"useStream\",\"moment\",\"React\",\"useEffect\",\"useState\",\"sdk\",\"WebRTC\",\"WEB_RTC_EVENTS\",\"OngoingCallDuration\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"roomId\",\"visitorToken\",\"visitorId\",\"status\",\"setStatus\",\"isLayoutEmbedded\",\"visitorName\",\"agentName\",\"callStartTime\",\"Error\",\"_useState\",\"_useState2\",\"isAgentActive\",\"setIsAgentActive\",\"_useState3\",\"_useState4\",\"isMicOn\",\"setIsMicOn\",\"_useState5\",\"_useState6\",\"isCameraOn\",\"setIsCameraOn\",\"_useState7\",\"_useState8\",\"isRemoteMobileDevice\",\"setIsRemoteMobileDevice\",\"_useState9\",\"_useState10\",\"callInIframe\",\"setCallInIframe\",\"_useState11\",\"_useState12\",\"isRemoteCameraOn\",\"setIsRemoteCameraOn\",\"_useState13\",\"_useState14\",\"isLocalMobileDevice\",\"setIsLocalMobileDevice\",\"iconSize\",\"buttonSize\",\"subscribeNotifyUser\",\"subscribeNotifyRoom\",\"t\",\"webrtcInstance\",\"getInstanceByRoomId\",\"isMobileDevice\",\"window\",\"innerWidth\",\"innerHeight\",\"media\",\"audio\",\"video\",\"width\",\"ideal\",\"height\",\"unsubNotifyUser\",\"WEB_RTC\",\"type\",\"data\",\"room\",\"onUserStream\",\"unsubNotifyRoom\",\"callStatus\",\"stop\",\"publish\",\"startCall\",\"toggleButton\",\"control\",\"_WebRTC$getInstanceBy2\",\"_WebRTC$getInstanceBy\",\"toggleAudio\",\"toggleVideo\",\"closeWindow\",\"_parent\",\"parent\",\"handleIframeClose\",\"close\",\"showCallPage\",\"localAvatar\",\"remoteAvatar\",\"createElement\",\"Container\",\"direction\",\"justifyContent\",\"minHeight\",\"alignItems\",\"backgroundColor\",\"overflow\",\"position\",\"zIndex\",\"style\",\"top\",\"right\",\"className\",\"id\",\"autoPlay\",\"playsInline\",\"muted\",\"transform\",\"display\",\"margin\",\"username\",\"size\",\"bottom\",\"square\",\"title\",\"onClick\",\"Number\",\"name\",\"parseInt\",\"borderColor\",\"_parent2\",\"expandCall\",\"color\",\"danger\",\"kind\",\"flexDirection\",\"fontSize\",\"textAlign\",\"counter\",\"duration\",\"Date\",\"diff\",\"asSeconds\",\"marginTop\",\"Fragment\"],\"mappings\":\"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\"}"}