{"code":"function module(n,e,t){var u,r,o,i,a,s,l,c,f,d,k=[\"_id\",\"onChange\"];t.link(\"@babel/runtime/regenerator\",{default:function(n){u=n}},0),t.link(\"@babel/runtime/helpers/extends\",{default:function(n){r=n}},1),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(n){o=n}},2),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(n){i=n},useToastMessageDispatch:function(n){a=n},useTranslation:function(n){s=n}},0),t.link(\"@tanstack/react-query\",{useQuery:function(n){l=n}},1),t.link(\"react\",{default:function(n){c=n}},2),t.link(\"../../../components/Skeleton\",{FormSkeleton:function(n){f=n}},3),t.link(\"./EditSound\",{default:function(n){d=n}},4),t.exportDefault(function(n){var e=n._id,t=n.onChange,p=o(n,k),h=s(),m=i(\"GET\",\"/v1/custom-sounds.list\"),b=a(),g=l([\"custom-sounds\",e],function(){var n;return u.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.awrap(m({query:JSON.stringify({_id:e})}));case 2:if(0!==(n=t.sent.sounds).length){t.next=6;break}throw Error(h(\"No_results_found\"));case 6:return t.abrupt(\"return\",n[0]);case 7:case\"end\":return t.stop()}},null,null,null,Promise)},{onError:function(n){b({type:\"error\",message:n})}}),E=g.data,x=g.isLoading,y=g.refetch;return x?c.createElement(f,{pi:20}):E?c.createElement(d,r({data:E,onChange:function(){null==t||t(),null==y||y()}},p)):null})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/customSounds/EditCustomSound.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\n\\nimport { FormSkeleton } from '../../../components/Skeleton';\\nimport EditSound from './EditSound';\\n\\ntype EditCustomSoundProps = {\\n\\t_id: string | undefined;\\n\\tonChange?: () => void;\\n\\tclose?: () => void;\\n};\\n\\nfunction EditCustomSound({ _id, onChange, ...props }: EditCustomSoundProps): ReactElement | null {\\n\\tconst t = useTranslation();\\n\\tconst getSounds = useEndpoint('GET', '/v1/custom-sounds.list');\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst { data, isLoading, refetch } = useQuery(\\n\\t\\t['custom-sounds', _id],\\n\\t\\tasync () => {\\n\\t\\t\\tconst { sounds } = await getSounds({ query: JSON.stringify({ _id }) });\\n\\n\\t\\t\\tif (sounds.length === 0) {\\n\\t\\t\\t\\tthrow new Error(t('No_results_found'));\\n\\t\\t\\t}\\n\\t\\t\\treturn sounds[0];\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tonError: (error) => {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t},\\n\\t\\t},\\n\\t);\\n\\n\\tif (isLoading) {\\n\\t\\treturn <FormSkeleton pi={20} />;\\n\\t}\\n\\n\\tif (!data) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\tconst handleChange: () => void = () => {\\n\\t\\tonChange?.();\\n\\t\\trefetch?.();\\n\\t};\\n\\n\\treturn <EditSound data={data} onChange={handleChange} {...props} />;\\n}\\n\\nexport default EditCustomSound;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_extends\",\"_objectWithoutProperties\",\"useEndpoint\",\"useToastMessageDispatch\",\"useTranslation\",\"useQuery\",\"React\",\"FormSkeleton\",\"EditSound\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_id\",\"onChange\",\"props\",\"_excluded\",\"t\",\"getSounds\",\"dispatchToastMessage\",\"_useQuery\",\"sounds\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"query\",\"JSON\",\"stringify\",\"_await$getSounds\",\"sent\",\"length\",\"Error\",\"abrupt\",\"stop\",\"Promise\",\"onError\",\"error\",\"type\",\"message\",\"data\",\"isLoading\",\"refetch\",\"createElement\",\"pi\"],\"mappings\":\"2BAAAA,EAAgGC,EAAAC,EAAhGC,EAASC,EAAaC,EAA0EC,EAAAC,EAAAC,EAAAC,uBAA1EC,EAAAC,IAAA,CAAA,6BAAyC,CAAAC,QAAM,SAAAC,CAAA,EAAAb,EAA2Ba,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iDAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAjDH,EAAcC,IAAE,CAAA,2BAAM,CAA0BR,YAAC,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,wBAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,eAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAL,SAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,+BAAA,CAAAH,aAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,cAAA,CAAA,QAAA,SAAAE,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAhGH,EAAOI,aAAa,CAcpB,SAAwBC,CAAA,EAAkD,IAA/CC,EAAGD,EAAHC,GAAG,CAAEC,EAAQF,EAARE,QAAQ,CAAKC,EAAKhB,EAAAa,EAAAI,GAC3CC,EAAIf,IACJgB,EAAYlB,EAAY,MAAO,0BAE/BmB,EAAuBlB,IAE7BmB,EAAqCjB,EACpC,CAAC,gBAAiBU,EAAI,CACtB,WAAA,IAAAQ,EAAA,OAAAxB,EAAAyB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAE,IAAA,CAAA,EAAA5B,EAAA6B,KAAA,CAC0BR,EAAU,CAAES,MAAOC,KAAKC,SAAS,CAAC,CAAEhB,IAAAA,CAAG,EAAG,GAAG,MAAA,EAAxD,GAAA,AAEQ,IAAlBQ,AAFIA,CAAAA,EAAMS,AAAwDP,EAAAQ,IAAA,CAA9DV,MAAM,AAANA,EAEGW,MAAM,CAAM,CAAAT,EAAAE,IAAA,CAAA,EAAA,KAAA,CAAA,MAChB,AAAIQ,MAAMhB,EAAE,oBAAoB,MAAA,EAAA,OAAAM,EAAAW,MAAA,CAAA,SAEhCb,CAAM,CAAC,EAAE,CAAA,MAAA,EAAA,IAAA,MAAA,OAAAE,EAAAY,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAEjB,CACCC,QAAS,SAACC,CAAK,EACdnB,EAAqB,CAAEoB,KAAM,QAASC,QAASF,CAAK,EACrD,IAbMG,EAAIrB,EAAJqB,IAAI,CAAEC,EAAStB,EAATsB,SAAS,CAAEC,EAAOvB,EAAPuB,OAAO,QAiBhC,AAAID,EACItC,EAAAwC,aAAA,CAACvC,EAAY,CAACwC,GAAI,EAAG,GAGxBJ,EASErC,EAAAwC,aAAA,CAACtC,EAASR,EAAA,CAAC2C,KAAMA,EAAM3B,SALG,WAChCA,MAAAA,GAAAA,IACA6B,MAAAA,GAAAA,GACD,CAEqD,EAAK5B,IARlD,IAST\"}"}