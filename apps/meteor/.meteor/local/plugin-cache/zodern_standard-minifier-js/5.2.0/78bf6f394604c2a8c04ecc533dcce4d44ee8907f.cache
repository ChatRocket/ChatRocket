{"code":"function module(t,e,n){n.link(\"@babel/runtime/regenerator\",{default:function(t){a=t}},0),n.export({useCustomFieldsMetadata:function(){return s}}),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(t){u=t}},0),n.link(\"@tanstack/react-query\",{useQuery:function(t){r=t}},1),n.link(\"../utils/formatCustomFieldsMetadata\",{formatCustomFieldsMetadata:function(t){i=t}},2);var a,u,r,i,s=function(t){var e=t.enabled,n=t.scope,s=u(\"GET\",\"/v1/livechat/custom-fields\");return r([\"/v1/livechat/custom-fields\",n],function(){var t,e;return a.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.awrap(s());case 2:if(u.t1=t=u.sent,u.t0=null!==u.t1,!u.t0){u.next=6;break}u.t0=void 0!==t;case 6:if(!u.t0){u.next=10;break}u.t2=t,u.next=11;break;case 10:u.t2={};case 11:return e=u.t2.customFields,u.abrupt(\"return\",i(e,n));case 14:case\"end\":return u.stop()}},null,null,null,Promise)},{enabled:void 0===e||e})}}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/hooks/useCustomFieldsMetadata.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\n\\nimport { formatCustomFieldsMetadata } from '../utils/formatCustomFieldsMetadata';\\n\\ntype UseCustomFieldsMetadataOptions = {\\n\\tenabled?: boolean;\\n\\tscope: 'visitor' | 'room';\\n};\\n\\nexport const useCustomFieldsMetadata = ({ enabled = true, scope }: UseCustomFieldsMetadataOptions) => {\\n\\tconst getCustomFields = useEndpoint('GET', '/v1/livechat/custom-fields');\\n\\treturn useQuery(\\n\\t\\t['/v1/livechat/custom-fields', scope],\\n\\t\\tasync () => {\\n\\t\\t\\tconst { customFields } = (await getCustomFields()) ?? {};\\n\\t\\t\\treturn formatCustomFieldsMetadata(customFields, scope);\\n\\t\\t},\\n\\t\\t{ enabled },\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"export\",\"useCustomFieldsMetadata\",\"useEndpoint\",\"useQuery\",\"formatCustomFieldsMetadata\",\"_ref\",\"_ref$enabled\",\"enabled\",\"scope\",\"getCustomFields\",\"_await$getCustomField\",\"customFields\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"t1\",\"sent\",\"t0\",\"t2\",\"_ref2\",\"abrupt\",\"stop\",\"Promise\"],\"mappings\":\"uBAAsBA,EAAMC,IAAA,CAAA,6BAA2B,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAvDH,EAAOK,MAAE,CAAA,CAAAC,wBAAmB,WAAA,OAA2BA,CAAA,CAAA,GAAAN,EAAAC,IAAA,CAAA,2BAAA,CAAAM,YAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAO,SAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,sCAAA,CAAAQ,2BAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAUhD,IAVPC,EAAuDG,EAAAC,EAAAC,EAU1CH,EAA0B,SAAAI,CAAA,EAA8D,IAAAC,EAAAD,EAA3DE,OAAO,CAASC,EAAKH,EAALG,KAAK,CACxDC,EAAkBP,EAAY,MAAO,8BAC3C,OAAOC,EACN,CAAC,6BAA8BK,EAAM,CACrC,eAAAE,EAAAC,EAAA,OAAAZ,EAAAa,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAE,IAAA,CAAA,EAAAhB,EAAAiB,KAAA,CACiCP,IAAiB,MAAA,EAAA,GAAAI,EAAAI,EAAA,CAAAP,EAAAG,EAAAK,IAAA,CAAAL,EAAAM,EAAA,CAAAN,AAAA,OAAAA,EAAAI,EAAA,CAAA,CAAAJ,EAAAM,EAAA,CAAA,CAAAN,EAAAE,IAAA,CAAA,EAAA,KAAA,CAAAF,EAAAM,EAAA,CAAAT,AAAA,KAAA,IAAAA,CAAA,MAAA,EAAA,GAAA,CAAAG,EAAAM,EAAA,CAAA,CAAAN,EAAAE,IAAA,CAAA,GAAA,KAAA,CAAAF,EAAAO,EAAA,CAAAV,EAAAG,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,GAAAF,EAAAO,EAAA,CAAK,CAAA,CAAE,MAAA,GAApC,OAAZT,EAAYU,AAAoCR,EAAAO,EAAA,CAAhDT,YAAY,CAAAE,EAAAS,MAAA,CAAA,SACblB,EAA2BO,EAAcH,GAAM,MAAA,GAAA,IAAA,MAAA,OAAAK,EAAAU,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAEvD,CAAEjB,QAR6CD,AAAA,KAAA,IAAAA,GAAOA,CAQ7C,EAEX\"}"}