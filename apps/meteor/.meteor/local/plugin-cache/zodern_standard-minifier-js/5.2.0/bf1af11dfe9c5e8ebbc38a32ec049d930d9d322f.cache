{"code":"function module(e,t,o){var n,i,l,s,u,c,a,f,r,k,d,m,x;o.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){n=e}},0),o.link(\"@rocket.chat/fuselage-hooks\",{useLocalStorage:function(e){i=e}},0),o.link(\"react\",{default:function(e){l=e},useState:function(e){s=e},useCallback:function(e){u=e},useMemo:function(e){c=e}},1),o.link(\"../../../../hooks/lists/useRecordList\",{useRecordList:function(e){a=e}},2),o.link(\"../../../../hooks/useAsyncState\",{AsyncStatePhase:function(e){f=e}},3),o.link(\"../../contexts/RoomContext\",{useRoom:function(e){r=e}},4),o.link(\"../../contexts/RoomToolboxContext\",{useRoomToolbox:function(e){k=e}},5),o.link(\"./RoomFiles\",{default:function(e){d=e}},6),o.link(\"./hooks/useDeleteFile\",{useDeleteFile:function(e){m=e}},7),o.link(\"./hooks/useFilesList\",{useFilesList:function(e){x=e}},8),o.exportDefault(function(){var e=r(),t=k().closeTab,o=s(\"\"),h=n(o,2),p=h[0],y=h[1],C=i(\"file-list-type\",\"all\"),L=n(C,2),R=L[0],T=L[1],b=u(function(e){y(e.currentTarget.value)},[]),D=c(function(){return{rid:e._id,type:R,text:p}},[e._id,R,p]),F=x(D),g=F.filesList,A=F.loadMoreItems,I=F.reload,S=a(g),v=S.phase,M=S.items,_=S.itemCount,E=m(I);return l.createElement(d,{loading:v===f.LOADING,type:R,text:p,filesItems:M,loadMoreItems:A,setType:T,setText:b,total:_,onClickClose:t,onClickDelete:E})})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/RoomFiles/RoomFilesWithData.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useLocalStorage } from '@rocket.chat/fuselage-hooks';\\nimport React, { useState, useCallback, useMemo } from 'react';\\n\\nimport { useRecordList } from '../../../../hooks/lists/useRecordList';\\nimport { AsyncStatePhase } from '../../../../hooks/useAsyncState';\\nimport { useRoom } from '../../contexts/RoomContext';\\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\\nimport RoomFiles from './RoomFiles';\\nimport { useDeleteFile } from './hooks/useDeleteFile';\\nimport { useFilesList } from './hooks/useFilesList';\\n\\nconst RoomFilesWithData = () => {\\n\\tconst room = useRoom();\\n\\tconst { closeTab } = useRoomToolbox();\\n\\tconst [text, setText] = useState('');\\n\\tconst [type, setType] = useLocalStorage('file-list-type', 'all');\\n\\n\\tconst handleTextChange = useCallback((event) => {\\n\\t\\tsetText(event.currentTarget.value);\\n\\t}, []);\\n\\n\\tconst query = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\trid: room._id,\\n\\t\\t\\ttype,\\n\\t\\t\\ttext,\\n\\t\\t}),\\n\\t\\t[room._id, type, text],\\n\\t);\\n\\n\\tconst { filesList, loadMoreItems, reload } = useFilesList(query);\\n\\tconst { phase, items: filesItems, itemCount: totalItemCount } = useRecordList(filesList);\\n\\n\\tconst handleDeleteFile = useDeleteFile(reload);\\n\\n\\treturn (\\n\\t\\t<RoomFiles\\n\\t\\t\\tloading={phase === AsyncStatePhase.LOADING}\\n\\t\\t\\ttype={type}\\n\\t\\t\\ttext={text}\\n\\t\\t\\tfilesItems={filesItems}\\n\\t\\t\\tloadMoreItems={loadMoreItems}\\n\\t\\t\\tsetType={setType}\\n\\t\\t\\tsetText={handleTextChange}\\n\\t\\t\\ttotal={totalItemCount}\\n\\t\\t\\tonClickClose={closeTab}\\n\\t\\t\\tonClickDelete={handleDeleteFile}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default RoomFilesWithData;\\n\",null],\"names\":[\"_slicedToArray\",\"useLocalStorage\",\"React\",\"useState\",\"useCallback\",\"useMemo\",\"useRecordList\",\"AsyncStatePhase\",\"useRoom\",\"useRoomToolbox\",\"RoomFiles\",\"useDeleteFile\",\"useFilesList\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"room\",\"closeTab\",\"_useRoomToolbox\",\"_useState\",\"_useState2\",\"text\",\"setText\",\"_useLocalStorage\",\"_useLocalStorage2\",\"type\",\"setType\",\"handleTextChange\",\"event\",\"currentTarget\",\"value\",\"query\",\"rid\",\"_id\",\"_useFilesList\",\"filesList\",\"loadMoreItems\",\"reload\",\"_useRecordList\",\"phase\",\"filesItems\",\"items\",\"totalItemCount\",\"itemCount\",\"handleDeleteFile\",\"createElement\",\"loading\",\"LOADING\",\"total\",\"onClickClose\",\"onClickDelete\"],\"mappings\":\"uBAWA,IAXAA,EAAAC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAArDC,EAAiBC,IAAA,CAAA,uCAAoC,CAAAC,QAAA,SAAAC,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAArDH,EAAiBC,IAAA,CAAM,8BAA8B,CAAAb,gBAAA,SAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAd,EAAAc,CAAA,EAAAb,SAAA,SAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,YAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,QAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wCAAA,CAAAR,cAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAP,gBAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,6BAAA,CAAAN,QAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oCAAA,CAAAL,eAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,cAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAH,cAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uBAAA,CAAAF,aAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAA9DH,EAAOI,aAAE,CAWiB,WACzB,IAAMC,EAAOV,IACLW,EAAQC,AAAKX,IAAbU,QAAQ,CAChBE,EAAwBlB,EAAS,IAAGmB,EAAAtB,EAAAqB,EAAA,GAA7BE,EAAID,CAAA,CAAA,EAAA,CAAEE,EAAOF,CAAA,CAAA,EAAA,CACpBG,EAAwBxB,EAAgB,iBAAkB,OAAMyB,EAAA1B,EAAAyB,EAAA,GAAzDE,EAAID,CAAA,CAAA,EAAA,CAAEE,EAAOF,CAAA,CAAA,EAAA,CAEdG,EAAmBzB,EAAY,SAAC0B,CAAK,EAC1CN,EAAQM,EAAMC,aAAa,CAACC,KAAK,CAClC,EAAG,EAAE,EAECC,EAAQ5B,EACb,WAAA,MAAO,CACN6B,IAAKhB,EAAKiB,GAAG,CACbR,KAAAA,EACAJ,KAAAA,EACA,EACD,CAACL,EAAKiB,GAAG,CAAER,EAAMJ,EAAK,EAGvBa,EAA6CxB,EAAaqB,GAAlDI,EAASD,EAATC,SAAS,CAAEC,EAAaF,EAAbE,aAAa,CAAEC,EAAMH,EAANG,MAAM,CACxCC,EAAgElC,EAAc+B,GAAtEI,EAAKD,EAALC,KAAK,CAASC,EAAUF,EAAjBG,KAAK,CAAyBC,EAAcJ,EAAzBK,SAAS,CAErCC,EAAmBnC,EAAc4B,GAEvC,OACCrC,EAAA6C,aAAA,CAACrC,EAAS,CACTsC,QAASP,IAAUlC,EAAgB0C,OAAQ,CAC3CtB,KAAMA,EACNJ,KAAMA,EACNmB,WAAYA,EACZJ,cAAeA,EACfV,QAASA,EACTJ,QAASK,EACTqB,MAAON,EACPO,aAAchC,EACdiC,cAAeN,CAAiB,EAGnC\"}"}