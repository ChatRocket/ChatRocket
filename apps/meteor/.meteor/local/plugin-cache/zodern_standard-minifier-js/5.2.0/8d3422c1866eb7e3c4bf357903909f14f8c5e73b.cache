{"code":"function module(e,a,l){let t,o,c;l.link(\"meteor/meteor\",{Meteor(e){t=e}},0),l.link(\"../../../lib/callbacks\",{callbacks(e){o=e}},1),l.link(\"../../../lib/callbacks/afterLogoutCleanUpCallback\",{afterLogoutCleanUpCallback(e){c=e}},2),t.startup(()=>{c.add(()=>{Object.keys(localStorage).filter(e=>0===e.indexOf(\"messagebox_\")).forEach(e=>localStorage.removeItem(e))},o.priority.MEDIUM,\"chatMessages-after-logout-cleanup\")})}","map":"{\"version\":3,\"sources\":[\"client/startup/afterLogoutCleanUp/purgeAllDrafts.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Meteor } from 'meteor/meteor';\\n\\nimport { callbacks } from '../../../lib/callbacks';\\nimport { afterLogoutCleanUpCallback } from '../../../lib/callbacks/afterLogoutCleanUpCallback';\\n\\nMeteor.startup(() => {\\n\\tconst purgeAllDrafts = (): void => {\\n\\t\\tObject.keys(localStorage)\\n\\t\\t\\t.filter((key) => key.indexOf('messagebox_') === 0)\\n\\t\\t\\t.forEach((key) => localStorage.removeItem(key));\\n\\t};\\n\\n\\tafterLogoutCleanUpCallback.add(purgeAllDrafts, callbacks.priority.MEDIUM, 'chatMessages-after-logout-cleanup');\\n});\\n\",null],\"names\":[\"Meteor\",\"callbacks\",\"afterLogoutCleanUpCallback\",\"module\",\"link\",\"v\",\"startup\",\"add\",\"purgeAllDrafts\",\"Object\",\"keys\",\"localStorage\",\"filter\",\"key\",\"indexOf\",\"forEach\",\"removeItem\",\"priority\",\"MEDIUM\"],\"mappings\":\"2BAAAA,EAAuCC,EAAAC,EAA9BC,EAAQC,IAAA,CAAM,gBAAgB,CAAAJ,OAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yBAAA,CAAAH,UAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oDAAA,CAAAF,2BAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAKvCL,EAAOM,OAAO,CAAC,KAOdJ,EAA2BK,GAAG,CANPC,KACtBC,OAAOC,IAAI,CAACC,cACVC,MAAM,CAAEC,GAAQA,AAA+B,IAA/BA,EAAIC,OAAO,CAAC,gBAC5BC,OAAO,CAAEF,GAAQF,aAAaK,UAAU,CAACH,GAC5C,EAE+CZ,EAAUgB,QAAQ,CAACC,MAAM,CAAE,oCAC3E\"}"}