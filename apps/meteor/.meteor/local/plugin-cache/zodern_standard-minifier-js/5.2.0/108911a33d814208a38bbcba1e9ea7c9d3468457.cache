{"code":"function module(e,t,a){let n,r,s,o,i,u,c,l;a.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){n=e},useSetModal(e){r=e},useToastMessageDispatch(e){s=e}},0),a.link(\"@tanstack/react-query\",{useMutation(e){o=e},useQueryClient(e){i=e}},1),a.link(\"react\",{default(e){u=e}},2),a.link(\"react-i18next\",{useTranslation(e){c=e}},3),a.link(\"../../../../components/GenericModal\",{default(e){l=e}},4),a.exportDefault(e=>{let{t}=c(),a=r(),_=s(),d=i(),m=n(\"POST\",\"/v1/users.resetAvatar\"),y=o({mutationFn:m,onError:e=>{_({type:\"error\",message:e})},onSuccess:()=>{_({type:\"success\",message:t(\"Moderation_Avatar_reset_success\")})}}),v=async()=>{a(),await y.mutateAsync({userId:e}),d.invalidateQueries({queryKey:[\"moderation\"]})},k=()=>{a(u.createElement(l,{title:t(\"Moderation_Reset_user_avatar\"),confirmText:t(\"Reset\"),variant:\"danger\",onConfirm:()=>v(),onCancel:()=>a()},t(\"Moderation_Are_you_sure_you_want_to_reset_the_avatar\")))};return{id:\"resetAvatar\",content:t(\"Moderation_Reset_user_avatar\"),icon:\"reload\",onClick:()=>k()}})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/moderation/hooks/useResetAvatarAction.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { GenericMenuItemProps } from '@rocket.chat/ui-client';\\nimport { useEndpoint, useSetModal, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../../components/GenericModal';\\n\\nconst useResetAvatarAction = (userId: string): GenericMenuItemProps => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst queryClient = useQueryClient();\\n\\n\\tconst resetAvatar = useEndpoint('POST', '/v1/users.resetAvatar');\\n\\n\\tconst handleResetAvatar = useMutation({\\n\\t\\tmutationFn: resetAvatar,\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t\\tonSuccess: () => {\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Moderation_Avatar_reset_success') });\\n\\t\\t},\\n\\t});\\n\\n\\tconst onResetAvatar = async () => {\\n\\t\\tsetModal();\\n\\t\\tawait handleResetAvatar.mutateAsync({ userId });\\n\\t\\tqueryClient.invalidateQueries({ queryKey: ['moderation'] });\\n\\t};\\n\\n\\tconst confirmResetAvatar = (): void => {\\n\\t\\tsetModal(\\n\\t\\t\\t<GenericModal\\n\\t\\t\\t\\ttitle={t('Moderation_Reset_user_avatar')}\\n\\t\\t\\t\\tconfirmText={t('Reset')}\\n\\t\\t\\t\\tvariant='danger'\\n\\t\\t\\t\\tonConfirm={() => onResetAvatar()}\\n\\t\\t\\t\\tonCancel={() => setModal()}\\n\\t\\t\\t>\\n\\t\\t\\t\\t{t('Moderation_Are_you_sure_you_want_to_reset_the_avatar')}\\n\\t\\t\\t</GenericModal>,\\n\\t\\t);\\n\\t};\\n\\n\\treturn {\\n\\t\\tid: 'resetAvatar',\\n\\t\\tcontent: t('Moderation_Reset_user_avatar'),\\n\\t\\ticon: 'reload',\\n\\t\\tonClick: () => confirmResetAvatar(),\\n\\t};\\n};\\n\\nexport default useResetAvatarAction;\\n\",null],\"names\":[\"useEndpoint\",\"useSetModal\",\"useToastMessageDispatch\",\"useMutation\",\"useQueryClient\",\"React\",\"useTranslation\",\"GenericModal\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"userId\",\"t\",\"setModal\",\"dispatchToastMessage\",\"queryClient\",\"resetAvatar\",\"handleResetAvatar\",\"mutationFn\",\"onError\",\"error\",\"type\",\"message\",\"onSuccess\",\"onResetAvatar\",\"mutateAsync\",\"invalidateQueries\",\"queryKey\",\"confirmResetAvatar\",\"createElement\",\"title\",\"confirmText\",\"variant\",\"onConfirm\",\"onCancel\",\"id\",\"content\",\"icon\",\"onClick\"],\"mappings\":\"2BACAA,EAASC,EAAaC,EAAuEC,EAAAC,EAAAC,EAAAC,EAAAC,EAA1DC,EAAuBC,IAAE,CAAA,2BAAM,CAA0BT,YAACU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,wBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAN,YAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAH,eAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,sCAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA7FF,EAAOI,aAAa,CAOUC,IAC7B,GAAM,CAAEC,CAAAA,CAAG,CAAGR,IACRS,EAAWd,IACXe,EAAuBd,IACvBe,EAAcb,IAEdc,EAAclB,EAAY,OAAQ,yBAElCmB,EAAoBhB,EAAY,CACrCiB,WAAYF,EACZG,QAAUC,IACTN,EAAqB,CAAEO,KAAM,QAASC,QAASF,CAAK,EACrD,EACAG,UAAWA,KACVT,EAAqB,CAAEO,KAAM,UAAWC,QAASV,EAAE,kCAAkC,EACtF,IAGKY,EAAgB,UACrBX,IACA,MAAMI,EAAkBQ,WAAW,CAAC,CAAEd,OAAAA,CAAM,GAC5CI,EAAYW,iBAAiB,CAAC,CAAEC,SAAU,CAAC,aAAY,AAAC,EACzD,EAEMC,EAAqBA,KAC1Bf,EACCV,EAAA0B,aAAA,CAACxB,EAAY,CACZyB,MAAOlB,EAAE,gCACTmB,YAAanB,EAAE,SACfoB,QAAQ,SACRC,UAAWA,IAAMT,IACjBU,SAAUA,IAAMrB,GAAW,EAE1BD,EAAE,yDAGN,EAEA,MAAO,CACNuB,GAAI,cACJC,QAASxB,EAAE,gCACXyB,KAAM,SACNC,QAASA,IAAMV,IAEjB\"}"}