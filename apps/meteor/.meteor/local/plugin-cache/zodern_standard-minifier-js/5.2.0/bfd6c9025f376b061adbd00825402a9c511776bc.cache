{"code":"function module(e,t,n){let s,o,l,a,i,r,u,m,c,d,k,g,f,E,p,R,h,b,v,_,M,x,C,N,w,y,L,U,B,T,A,P,S,D,F,H,j,I,G,O,Q,W,J,z,Y,$,q,K,V,X,Z,ee,et,en;let es=[\"innerRef\",\"bubbleRef\",\"listStyle\"];n.link(\"@babel/runtime/helpers/extends\",{default(e){s=e}},0),n.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){o=e}},1),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){l=e}},2),n.link(\"@rocket.chat/fuselage\",{Box(e){a=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMergedRefs(e){i=e}},1),n.link(\"@rocket.chat/ui-contexts\",{usePermission(e){r=e},useRole(e){u=e},useSetting(e){m=e},useTranslation(e){c=e},useUser(e){d=e},useUserPreference(e){k=e}},2),n.link(\"react\",{default(e){g=e},memo(e){f=e},useCallback(e){E=e},useMemo(e){p=e},useRef(e){R=e}},3),n.link(\"../../../../app/models/client\",{RoomRoles(e){h=e}},4),n.link(\"../../../../lib/isTruthy\",{isTruthy(e){b=e}},5),n.link(\"../../../components/CustomScrollbars\",{CustomScrollbars(e){v=e}},6),n.link(\"../../../hooks/useEmbeddedLayout\",{useEmbeddedLayout(e){_=e}},7),n.link(\"../../../hooks/useReactiveQuery\",{useReactiveQuery(e){M=e}},8),n.link(\"../Announcement\",{default(e){x=e}},9),n.link(\"../BubbleDate\",{BubbleDate(e){C=e}},10),n.link(\"../MessageList\",{MessageList(e){N=e}},11),n.link(\"../MessageList/MessageListErrorBoundary\",{default(e){w=e}},12),n.link(\"../composer/ComposerContainer\",{default(e){y=e}},13),n.link(\"../composer/RoomComposer/RoomComposer\",{default(e){L=e}},14),n.link(\"../contexts/ChatContext\",{useChat(e){U=e}},15),n.link(\"../contexts/RoomContext\",{useRoom(e){B=e},useRoomSubscription(e){T=e},useRoomMessages(e){A=e}},16),n.link(\"../contexts/RoomToolboxContext\",{useRoomToolbox(e){P=e}},17),n.link(\"../contexts/UserCardContext\",{useUserCard(e){S=e}},18),n.link(\"../hooks/useDateScroll\",{useDateScroll(e){D=e}},19),n.link(\"../hooks/useMessageListNavigation\",{useMessageListNavigation(e){F=e}},20),n.link(\"../hooks/useRetentionPolicy\",{useRetentionPolicy(e){H=e}},21),n.link(\"./DropTargetOverlay\",{default(e){j=e}},22),n.link(\"./JumpToRecentMessageButton\",{default(e){I=e}},23),n.link(\"./LeaderBar\",{default(e){G=e}},24),n.link(\"./LoadingMessagesIndicator\",{default(e){O=e}},25),n.link(\"./RetentionPolicyWarning\",{default(e){Q=e}},26),n.link(\"./RoomForeword/RoomForeword\",{default(e){W=e}},27),n.link(\"./UnreadMessagesIndicator\",{default(e){J=e}},28),n.link(\"./UploadProgressIndicator\",{default(e){z=e}},29),n.link(\"./hooks/useFileUpload\",{useFileUpload(e){Y=e}},30),n.link(\"./hooks/useGetMore\",{useGetMore(e){$=e}},31),n.link(\"./hooks/useGoToHomeOnRemoved\",{useGoToHomeOnRemoved(e){q=e}},32),n.link(\"./hooks/useHasNewMessages\",{useHasNewMessages(e){K=e}},33),n.link(\"./hooks/useLeaderBanner\",{useLeaderBanner(e){V=e}},34),n.link(\"./hooks/useListIsAtBottom\",{useListIsAtBottom(e){X=e}},35),n.link(\"./hooks/useQuoteMessageByUrl\",{useQuoteMessageByUrl(e){Z=e}},36),n.link(\"./hooks/useReadMessageWindowEvents\",{useReadMessageWindowEvents(e){ee=e}},37),n.link(\"./hooks/useRestoreScrollPosition\",{useRestoreScrollPosition(e){et=e}},38),n.link(\"./hooks/useUnreadMessages\",{useHandleUnread(e){en=e}},39),n.exportDefault(f(()=>{let e=U();if(!e)throw Error(\"No ChatContext provided\");let t=c(),n=_(),f=B(),eo=d(),el=P(),ea=u(\"admin\"),ei=T(),er=H(f),eu=k(\"hideFlexTab\")||void 0,em=k(\"hideUsernames\"),ec=k(\"displayAvatars\"),{hasMorePreviousMessages:ed,hasMoreNextMessages:ek,isLoadingMoreMessages:eg}=A(),ef=m(\"Accounts_AllowAnonymousRead\"),eE=r(\"preview-c-room\"),ep=!!ei,eR=p(()=>!!f&&\"c\"!==f.t||!0===ef||!!eE||ep,[ef,eE,f,ep]),eh=m(\"UI_Use_Real_Name\"),eb=R(null),{wrapperRef:ev,innerRef:e_,handleUnreadBarJumpToButtonClick:eM,handleMarkAsReadButtonClick:ex,counter:[eC]}=en(f,ei),eN=D(),{innerRef:ew,bubbleRef:ey,listStyle:eL}=eN,eU=l(eN,es),{innerRef:eB,atBottomRef:eT,sendToBottom:eA,sendToBottomIfNecessary:eP,isAtBottom:eS}=X(),{innerRef:eD}=$(f._id,eT),{wrapperRef:eF,hideLeaderHeader:eH,innerRef:ej}=V(),{uploads:eI,handleUploadFiles:eG,handleUploadProgressClose:eO,targeDrop:[eQ,eW]}=Y(),{innerRef:eJ}=et(f._id),{messageListRef:ez}=F(),{handleNewMessageButtonClick:eY,handleJumpToRecentButtonClick:e$,handleComposerResize:eq,hasNewMessages:eK,newMessagesScrollRef:eV}=K(f._id,null==eo?void 0:eo._id,eT,{sendToBottom:eA,sendToBottomIfNecessary:eP,isAtBottom:eS}),eX=i(ew,eb,eJ,eB,eV,ej,e_,eD,ez),eZ=i(ev,eF),e2=E(()=>{e.messageEditing.toPreviousMessage()},[e.messageEditing]),e1=E(()=>{e.messageEditing.toNextMessage()},[e.messageEditing]),e3=E(e=>{let t=e=>!!e&&(!!(e instanceof HTMLButtonElement||\"button\"===e.getAttribute(\"role\")||e instanceof HTMLAnchorElement||\"link\"===e.getAttribute(\"role\"))||t(e.parentElement));t(e.target)||el.closeTab()},[el]),{openUserCard:e0,triggerProps:e4}=S(),e5=E((e,t)=>{t&&e0(e,t)},[e0]);q(f,null==eo?void 0:eo._id),ee(),Z();let{data:e6}=M([\"rooms\",f._id,\"leader\",{not:null==eo?void 0:eo._id}],()=>{let e=h.findOne({rid:f._id,roles:\"leader\",\"u._id\":{$ne:null==eo?void 0:eo._id}});return e?o(o({},e.u),{},{name:eh&&e.u.name||e.u.username}):null});return g.createElement(g.Fragment,null,!n&&f.announcement&&g.createElement(x,{announcement:f.announcement,announcementDetails:void 0}),g.createElement(a,{key:f._id,className:[\"main-content-flex\",eL]},g.createElement(\"section\",{role:\"presentation\",className:\"messages-container flex-tab-main-content \".concat(ea?\"admin\":\"\"),id:\"chat-window-\".concat(f._id),onClick:eu&&e3},g.createElement(\"div\",{className:\"messages-container-wrapper\"},g.createElement(\"div\",s({className:\"messages-container-main\",ref:eZ},eQ),g.createElement(j,eW),g.createElement(a,{position:\"absolute\",w:\"full\"},e6?g.createElement(G,{_id:e6._id,username:e6.username,name:e6.name,visible:!eH,onAvatarClick:e5,triggerProps:e4}):null,g.createElement(\"div\",{className:[\"container-bars\",eI.length&&\"show\"].filter(b).join(\" \")},eI.map(e=>g.createElement(z,{key:e.id,id:e.id,name:e.name,percentage:e.percentage,error:e.error instanceof Error?e.error.message:void 0,onClose:eO}))),!!eC&&g.createElement(J,{count:eC,onJumpButtonClick:eM,onMarkAsReadButtonClick:ex}),g.createElement(C,s({ref:ey},eU))),g.createElement(\"div\",{className:[\"messages-box\",e6&&!eH&&\"has-leader\"].filter(b).join(\" \")},g.createElement(I,{visible:eK,onClick:eY,text:t(\"New_messages\")}),g.createElement(I,{visible:ek,onClick:e$,text:t(\"Jump_to_recent_messages\")}),eR?null:g.createElement(\"div\",{className:\"content room-not-found error-color\"},g.createElement(\"div\",null,t(\"You_must_join_to_view_messages_in_this_channel\"))),g.createElement(\"div\",{className:[\"wrapper\",ek&&\"has-more-next\",em&&\"hide-usernames\",!ec&&\"hide-avatar\"].filter(b).join(\" \")},g.createElement(w,null,g.createElement(v,{ref:eX},g.createElement(\"ul\",{className:\"messages-list\",\"aria-label\":t(\"Message_list\"),\"aria-busy\":eg},eR?g.createElement(g.Fragment,null,ed?g.createElement(\"li\",{className:\"load-more\"},eg?g.createElement(O,null):null):g.createElement(\"li\",null,g.createElement(W,{user:eo,room:f}),null!=er&&er.isActive?g.createElement(Q,{room:f}):null)):null,g.createElement(N,{rid:f._id,messageListRef:eb}),ek?g.createElement(\"li\",{className:\"load-more\"},eg?g.createElement(O,null):null):null))))),g.createElement(L,null,g.createElement(y,{subscription:ei,onResize:eq,onNavigateToPreviousMessage:e2,onNavigateToNextMessage:e1,onUploadFiles:eG})))))))}))}","map":"{\"version\":3,\"sources\":[\"client/views/room/body/RoomBody.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IUser } from '@rocket.chat/core-typings';\\nimport { Box } from '@rocket.chat/fuselage';\\nimport { useMergedRefs } from '@rocket.chat/fuselage-hooks';\\nimport { usePermission, useRole, useSetting, useTranslation, useUser, useUserPreference } from '@rocket.chat/ui-contexts';\\nimport type { MouseEventHandler, ReactElement, UIEvent } from 'react';\\nimport React, { memo, useCallback, useMemo, useRef } from 'react';\\n\\nimport { RoomRoles } from '../../../../app/models/client';\\nimport { isTruthy } from '../../../../lib/isTruthy';\\nimport { CustomScrollbars } from '../../../components/CustomScrollbars';\\nimport { useEmbeddedLayout } from '../../../hooks/useEmbeddedLayout';\\nimport { useReactiveQuery } from '../../../hooks/useReactiveQuery';\\nimport Announcement from '../Announcement';\\nimport { BubbleDate } from '../BubbleDate';\\nimport { MessageList } from '../MessageList';\\nimport MessageListErrorBoundary from '../MessageList/MessageListErrorBoundary';\\nimport ComposerContainer from '../composer/ComposerContainer';\\nimport RoomComposer from '../composer/RoomComposer/RoomComposer';\\nimport { useChat } from '../contexts/ChatContext';\\nimport { useRoom, useRoomSubscription, useRoomMessages } from '../contexts/RoomContext';\\nimport { useRoomToolbox } from '../contexts/RoomToolboxContext';\\nimport { useUserCard } from '../contexts/UserCardContext';\\nimport { useDateScroll } from '../hooks/useDateScroll';\\nimport { useMessageListNavigation } from '../hooks/useMessageListNavigation';\\nimport { useRetentionPolicy } from '../hooks/useRetentionPolicy';\\nimport DropTargetOverlay from './DropTargetOverlay';\\nimport JumpToRecentMessageButton from './JumpToRecentMessageButton';\\nimport LeaderBar from './LeaderBar';\\nimport LoadingMessagesIndicator from './LoadingMessagesIndicator';\\nimport RetentionPolicyWarning from './RetentionPolicyWarning';\\nimport RoomForeword from './RoomForeword/RoomForeword';\\nimport UnreadMessagesIndicator from './UnreadMessagesIndicator';\\nimport UploadProgressIndicator from './UploadProgressIndicator';\\nimport { useFileUpload } from './hooks/useFileUpload';\\nimport { useGetMore } from './hooks/useGetMore';\\nimport { useGoToHomeOnRemoved } from './hooks/useGoToHomeOnRemoved';\\nimport { useHasNewMessages } from './hooks/useHasNewMessages';\\nimport { useLeaderBanner } from './hooks/useLeaderBanner';\\nimport { useListIsAtBottom } from './hooks/useListIsAtBottom';\\nimport { useQuoteMessageByUrl } from './hooks/useQuoteMessageByUrl';\\nimport { useReadMessageWindowEvents } from './hooks/useReadMessageWindowEvents';\\nimport { useRestoreScrollPosition } from './hooks/useRestoreScrollPosition';\\nimport { useHandleUnread } from './hooks/useUnreadMessages';\\n\\nconst RoomBody = (): ReactElement => {\\n\\tconst chat = useChat();\\n\\tif (!chat) {\\n\\t\\tthrow new Error('No ChatContext provided');\\n\\t}\\n\\n\\tconst t = useTranslation();\\n\\tconst isLayoutEmbedded = useEmbeddedLayout();\\n\\tconst room = useRoom();\\n\\tconst user = useUser();\\n\\tconst toolbox = useRoomToolbox();\\n\\tconst admin = useRole('admin');\\n\\tconst subscription = useRoomSubscription();\\n\\n\\tconst retentionPolicy = useRetentionPolicy(room);\\n\\n\\tconst hideFlexTab = useUserPreference<boolean>('hideFlexTab') || undefined;\\n\\tconst hideUsernames = useUserPreference<boolean>('hideUsernames');\\n\\tconst displayAvatars = useUserPreference<boolean>('displayAvatars');\\n\\n\\tconst { hasMorePreviousMessages, hasMoreNextMessages, isLoadingMoreMessages } = useRoomMessages();\\n\\n\\tconst allowAnonymousRead = useSetting('Accounts_AllowAnonymousRead') as boolean | undefined;\\n\\n\\tconst canPreviewChannelRoom = usePermission('preview-c-room');\\n\\n\\tconst subscribed = !!subscription;\\n\\n\\tconst canPreview = useMemo(() => {\\n\\t\\tif (room && room.t !== 'c') {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\tif (allowAnonymousRead === true) {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\tif (canPreviewChannelRoom) {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\treturn subscribed;\\n\\t}, [allowAnonymousRead, canPreviewChannelRoom, room, subscribed]);\\n\\n\\tconst useRealName = useSetting('UI_Use_Real_Name') as boolean;\\n\\n\\tconst innerBoxRef = useRef<HTMLDivElement | null>(null);\\n\\n\\tconst {\\n\\t\\twrapperRef: unreadBarWrapperRef,\\n\\t\\tinnerRef: unreadBarInnerRef,\\n\\t\\thandleUnreadBarJumpToButtonClick,\\n\\t\\thandleMarkAsReadButtonClick,\\n\\t\\tcounter: [unread],\\n\\t} = useHandleUnread(room, subscription);\\n\\n\\tconst { innerRef: dateScrollInnerRef, bubbleRef, listStyle, ...bubbleDate } = useDateScroll();\\n\\n\\tconst { innerRef: isAtBottomInnerRef, atBottomRef, sendToBottom, sendToBottomIfNecessary, isAtBottom } = useListIsAtBottom();\\n\\n\\tconst { innerRef: getMoreInnerRef } = useGetMore(room._id, atBottomRef);\\n\\n\\tconst { wrapperRef: leaderBannerWrapperRef, hideLeaderHeader, innerRef: leaderBannerInnerRef } = useLeaderBanner();\\n\\n\\tconst {\\n\\t\\tuploads,\\n\\t\\thandleUploadFiles,\\n\\t\\thandleUploadProgressClose,\\n\\t\\ttargeDrop: [fileUploadTriggerProps, fileUploadOverlayProps],\\n\\t} = useFileUpload();\\n\\n\\tconst { innerRef: restoreScrollPositionInnerRef } = useRestoreScrollPosition(room._id);\\n\\n\\tconst { messageListRef } = useMessageListNavigation();\\n\\n\\tconst { handleNewMessageButtonClick, handleJumpToRecentButtonClick, handleComposerResize, hasNewMessages, newMessagesScrollRef } =\\n\\t\\tuseHasNewMessages(room._id, user?._id, atBottomRef, {\\n\\t\\t\\tsendToBottom,\\n\\t\\t\\tsendToBottomIfNecessary,\\n\\t\\t\\tisAtBottom,\\n\\t\\t});\\n\\n\\tconst innerRef = useMergedRefs(\\n\\t\\tdateScrollInnerRef,\\n\\t\\tinnerBoxRef,\\n\\t\\trestoreScrollPositionInnerRef,\\n\\t\\tisAtBottomInnerRef,\\n\\t\\tnewMessagesScrollRef,\\n\\t\\tleaderBannerInnerRef,\\n\\t\\tunreadBarInnerRef,\\n\\t\\tgetMoreInnerRef,\\n\\n\\t\\tmessageListRef,\\n\\t);\\n\\n\\tconst wrapperBoxRefs = useMergedRefs(unreadBarWrapperRef, leaderBannerWrapperRef);\\n\\n\\tconst handleNavigateToPreviousMessage = useCallback((): void => {\\n\\t\\tchat.messageEditing.toPreviousMessage();\\n\\t}, [chat.messageEditing]);\\n\\n\\tconst handleNavigateToNextMessage = useCallback((): void => {\\n\\t\\tchat.messageEditing.toNextMessage();\\n\\t}, [chat.messageEditing]);\\n\\n\\tconst handleCloseFlexTab: MouseEventHandler<HTMLElement> = useCallback(\\n\\t\\t(e): void => {\\n\\t\\t\\t/*\\n\\t\\t\\t * check if the element is a button or anchor\\n\\t\\t\\t * it considers the role as well\\n\\t\\t\\t * usually, the flex tab is closed when clicking outside of it\\n\\t\\t\\t * but if the user clicks on a button or anchor, we don't want to close the flex tab\\n\\t\\t\\t * because the user could be actually trying to open the flex tab through those elements\\n\\t\\t\\t */\\n\\n\\t\\t\\tconst checkElement = (element: HTMLElement | null): boolean => {\\n\\t\\t\\t\\tif (!element) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (element instanceof HTMLButtonElement || element.getAttribute('role') === 'button') {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (element instanceof HTMLAnchorElement || element.getAttribute('role') === 'link') {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn checkElement(element.parentElement);\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (checkElement(e.target as HTMLElement)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttoolbox.closeTab();\\n\\t\\t},\\n\\t\\t[toolbox],\\n\\t);\\n\\n\\tconst { openUserCard, triggerProps } = useUserCard();\\n\\n\\tconst handleOpenUserCard = useCallback(\\n\\t\\t(event: UIEvent, username: IUser['username']) => {\\n\\t\\t\\tif (!username) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\topenUserCard(event, username);\\n\\t\\t},\\n\\t\\t[openUserCard],\\n\\t);\\n\\n\\tuseGoToHomeOnRemoved(room, user?._id);\\n\\tuseReadMessageWindowEvents();\\n\\tuseQuoteMessageByUrl();\\n\\n\\tconst { data: roomLeader } = useReactiveQuery(['rooms', room._id, 'leader', { not: user?._id }], () => {\\n\\t\\tconst leaderRoomRole = RoomRoles.findOne({\\n\\t\\t\\t'rid': room._id,\\n\\t\\t\\t'roles': 'leader',\\n\\t\\t\\t'u._id': { $ne: user?._id },\\n\\t\\t});\\n\\n\\t\\tif (!leaderRoomRole) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\t...leaderRoomRole.u,\\n\\t\\t\\tname: useRealName ? leaderRoomRole.u.name || leaderRoomRole.u.username : leaderRoomRole.u.username,\\n\\t\\t};\\n\\t});\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{!isLayoutEmbedded && room.announcement && <Announcement announcement={room.announcement} announcementDetails={undefined} />}\\n\\t\\t\\t<Box key={room._id} className={['main-content-flex', listStyle]}>\\n\\t\\t\\t\\t<section\\n\\t\\t\\t\\t\\trole='presentation'\\n\\t\\t\\t\\t\\tclassName={`messages-container flex-tab-main-content ${admin ? 'admin' : ''}`}\\n\\t\\t\\t\\t\\tid={`chat-window-${room._id}`}\\n\\t\\t\\t\\t\\tonClick={hideFlexTab && handleCloseFlexTab}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<div className='messages-container-wrapper'>\\n\\t\\t\\t\\t\\t\\t<div className='messages-container-main' ref={wrapperBoxRefs} {...fileUploadTriggerProps}>\\n\\t\\t\\t\\t\\t\\t\\t<DropTargetOverlay {...fileUploadOverlayProps} />\\n\\t\\t\\t\\t\\t\\t\\t<Box position='absolute' w='full'>\\n\\t\\t\\t\\t\\t\\t\\t\\t{roomLeader ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<LeaderBar\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t_id={roomLeader._id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tusername={roomLeader.username}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname={roomLeader.name}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvisible={!hideLeaderHeader}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonAvatarClick={handleOpenUserCard}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttriggerProps={triggerProps}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t) : null}\\n\\t\\t\\t\\t\\t\\t\\t\\t<div className={['container-bars', uploads.length && 'show'].filter(isTruthy).join(' ')}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{uploads.map((upload) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<UploadProgressIndicator\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tkey={upload.id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={upload.id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname={upload.name}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tpercentage={upload.percentage}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\terror={upload.error instanceof Error ? upload.error.message : undefined}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonClose={handleUploadProgressClose}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t{Boolean(unread) && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<UnreadMessagesIndicator\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcount={unread}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonJumpButtonClick={handleUnreadBarJumpToButtonClick}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonMarkAsReadButtonClick={handleMarkAsReadButtonClick}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<BubbleDate ref={bubbleRef} {...bubbleDate} />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\n\\t\\t\\t\\t\\t\\t\\t<div className={['messages-box', roomLeader && !hideLeaderHeader && 'has-leader'].filter(isTruthy).join(' ')}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<JumpToRecentMessageButton visible={hasNewMessages} onClick={handleNewMessageButtonClick} text={t('New_messages')} />\\n\\t\\t\\t\\t\\t\\t\\t\\t<JumpToRecentMessageButton\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvisible={hasMoreNextMessages}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClick={handleJumpToRecentButtonClick}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttext={t('Jump_to_recent_messages')}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t{!canPreview ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div className='content room-not-found error-color'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div>{t('You_must_join_to_view_messages_in_this_channel')}</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t) : null}\\n\\t\\t\\t\\t\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tclassName={[\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'wrapper',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\thasMoreNextMessages && 'has-more-next',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\thideUsernames && 'hide-usernames',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t!displayAvatars && 'hide-avatar',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t.filter(isTruthy)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t.join(' ')}\\n\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<MessageListErrorBoundary>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<CustomScrollbars ref={innerRef}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul className='messages-list' aria-label={t('Message_list')} aria-busy={isLoadingMoreMessages}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{canPreview ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{hasMorePreviousMessages ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li className='load-more'>{isLoadingMoreMessages ? <LoadingMessagesIndicator /> : null}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<RoomForeword user={user} room={room} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{retentionPolicy?.isActive ? <RetentionPolicyWarning room={room} /> : null}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t) : null}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<MessageList rid={room._id} messageListRef={innerBoxRef} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{hasMoreNextMessages ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li className='load-more'>{isLoadingMoreMessages ? <LoadingMessagesIndicator /> : null}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t) : null}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</CustomScrollbars>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</MessageListErrorBoundary>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<RoomComposer>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ComposerContainer\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tsubscription={subscription}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonResize={handleComposerResize}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonNavigateToPreviousMessage={handleNavigateToPreviousMessage}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonNavigateToNextMessage={handleNavigateToNextMessage}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonUploadFiles={handleUploadFiles}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: send previewUrls param\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// previewUrls={}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</RoomComposer>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</section>\\n\\t\\t\\t</Box>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default memo(RoomBody);\\n\",null],\"names\":[\"_extends\",\"_objectSpread\",\"_objectWithoutProperties\",\"Box\",\"useMergedRefs\",\"usePermission\",\"useRole\",\"useSetting\",\"useTranslation\",\"useUser\",\"useUserPreference\",\"React\",\"memo\",\"useCallback\",\"useMemo\",\"useRef\",\"RoomRoles\",\"isTruthy\",\"CustomScrollbars\",\"useEmbeddedLayout\",\"useReactiveQuery\",\"Announcement\",\"BubbleDate\",\"MessageList\",\"MessageListErrorBoundary\",\"ComposerContainer\",\"RoomComposer\",\"useChat\",\"useRoom\",\"useRoomSubscription\",\"useRoomMessages\",\"useRoomToolbox\",\"useUserCard\",\"useDateScroll\",\"useMessageListNavigation\",\"useRetentionPolicy\",\"DropTargetOverlay\",\"JumpToRecentMessageButton\",\"LeaderBar\",\"LoadingMessagesIndicator\",\"RetentionPolicyWarning\",\"RoomForeword\",\"UnreadMessagesIndicator\",\"UploadProgressIndicator\",\"useFileUpload\",\"useGetMore\",\"useGoToHomeOnRemoved\",\"useHasNewMessages\",\"useLeaderBanner\",\"useListIsAtBottom\",\"useQuoteMessageByUrl\",\"useReadMessageWindowEvents\",\"useRestoreScrollPosition\",\"useHandleUnread\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"RoomBody\",\"chat\",\"Error\",\"t\",\"isLayoutEmbedded\",\"room\",\"user\",\"toolbox\",\"admin\",\"subscription\",\"retentionPolicy\",\"hideFlexTab\",\"undefined\",\"hideUsernames\",\"displayAvatars\",\"hasMorePreviousMessages\",\"hasMoreNextMessages\",\"isLoadingMoreMessages\",\"allowAnonymousRead\",\"canPreviewChannelRoom\",\"subscribed\",\"canPreview\",\"useRealName\",\"innerBoxRef\",\"wrapperRef\",\"unreadBarWrapperRef\",\"innerRef\",\"unreadBarInnerRef\",\"handleUnreadBarJumpToButtonClick\",\"handleMarkAsReadButtonClick\",\"counter\",\"unread\",\"_useDateScroll\",\"dateScrollInnerRef\",\"bubbleRef\",\"listStyle\",\"bubbleDate\",\"_excluded\",\"isAtBottomInnerRef\",\"atBottomRef\",\"sendToBottom\",\"sendToBottomIfNecessary\",\"isAtBottom\",\"getMoreInnerRef\",\"_id\",\"leaderBannerWrapperRef\",\"hideLeaderHeader\",\"leaderBannerInnerRef\",\"uploads\",\"handleUploadFiles\",\"handleUploadProgressClose\",\"targeDrop\",\"fileUploadTriggerProps\",\"fileUploadOverlayProps\",\"restoreScrollPositionInnerRef\",\"messageListRef\",\"handleNewMessageButtonClick\",\"handleJumpToRecentButtonClick\",\"handleComposerResize\",\"hasNewMessages\",\"newMessagesScrollRef\",\"wrapperBoxRefs\",\"handleNavigateToPreviousMessage\",\"messageEditing\",\"toPreviousMessage\",\"handleNavigateToNextMessage\",\"toNextMessage\",\"handleCloseFlexTab\",\"e\",\"checkElement\",\"element\",\"HTMLButtonElement\",\"getAttribute\",\"HTMLAnchorElement\",\"parentElement\",\"target\",\"closeTab\",\"openUserCard\",\"triggerProps\",\"handleOpenUserCard\",\"event\",\"username\",\"data\",\"roomLeader\",\"not\",\"leaderRoomRole\",\"findOne\",\"$ne\",\"u\",\"name\",\"createElement\",\"Fragment\",\"announcement\",\"announcementDetails\",\"key\",\"className\",\"role\",\"concat\",\"id\",\"onClick\",\"ref\",\"position\",\"w\",\"visible\",\"onAvatarClick\",\"length\",\"filter\",\"join\",\"map\",\"upload\",\"percentage\",\"error\",\"message\",\"onClose\",\"Boolean\",\"count\",\"onJumpButtonClick\",\"onMarkAsReadButtonClick\",\"text\",\"isActive\",\"rid\",\"onResize\",\"onNavigateToPreviousMessage\",\"onNavigateToNextMessage\",\"onUploadFiles\"],\"mappings\":\"2BACAA,EAA4CC,EAAAC,EAA5CC,EAA4CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAAC,GAAAC,+CAAhCC,EAAQC,IAAA,CAAA,iCAAwB,CAAAC,QAAAC,CAAA,EAAAzD,EAAAyD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAAC,CAAA,EAAAxD,EAAAwD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iDAAA,CAAAC,QAAAC,CAAA,EAAAvD,EAAAuD,CAAA,CAAA,EAAA,GAArCH,EAAOC,IAAA,CAAM,wBAAwB,CAAApD,IAAAsD,CAAA,EAAAtD,EAAAsD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAnD,cAAAqD,CAAA,EAAArD,EAAAqD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAlD,cAAAoD,CAAA,EAAApD,EAAAoD,CAAA,EAAAnD,QAAAmD,CAAA,EAAAnD,EAAAmD,CAAA,EAAAlD,WAAAkD,CAAA,EAAAlD,EAAAkD,CAAA,EAAAjD,eAAAiD,CAAA,EAAAjD,EAAAiD,CAAA,EAAAhD,QAAAgD,CAAA,EAAAhD,EAAAgD,CAAA,EAAA/C,kBAAA+C,CAAA,EAAA/C,EAAA+C,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAA9C,EAAA8C,CAAA,EAAA7C,KAAA6C,CAAA,EAAA7C,EAAA6C,CAAA,EAAA5C,YAAA4C,CAAA,EAAA5C,EAAA4C,CAAA,EAAA3C,QAAA2C,CAAA,EAAA3C,EAAA2C,CAAA,EAAA1C,OAAA0C,CAAA,EAAA1C,EAAA0C,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAAvC,UAAAyC,CAAA,EAAAzC,EAAAyC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAtC,SAAAwC,CAAA,EAAAxC,EAAAwC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAArC,iBAAAuC,CAAA,EAAAvC,EAAAuC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,mCAAA,CAAApC,kBAAAsC,CAAA,EAAAtC,EAAAsC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAnC,iBAAAqC,CAAA,EAAArC,EAAAqC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kBAAA,CAAAC,QAAAC,CAAA,EAAApC,EAAAoC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAjC,WAAAmC,CAAA,EAAAnC,EAAAmC,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,iBAAA,CAAAhC,YAAAkC,CAAA,EAAAlC,EAAAkC,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,0CAAA,CAAAC,QAAAC,CAAA,EAAAjC,EAAAiC,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAAC,QAAAC,CAAA,EAAAhC,EAAAgC,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,wCAAA,CAAAC,QAAAC,CAAA,EAAA/B,EAAA+B,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAA5B,QAAA8B,CAAA,EAAA9B,EAAA8B,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAA3B,QAAA6B,CAAA,EAAA7B,EAAA6B,CAAA,EAAA5B,oBAAA4B,CAAA,EAAA5B,EAAA4B,CAAA,EAAA3B,gBAAA2B,CAAA,EAAA3B,EAAA2B,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAxB,eAAA0B,CAAA,EAAA1B,EAAA0B,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAvB,YAAAyB,CAAA,EAAAzB,EAAAyB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,yBAAA,CAAAtB,cAAAwB,CAAA,EAAAxB,EAAAwB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,oCAAA,CAAArB,yBAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAApB,mBAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,sBAAA,CAAAC,QAAAC,CAAA,EAAArB,EAAAqB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAC,QAAAC,CAAA,EAAApB,EAAAoB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,cAAA,CAAAC,QAAAC,CAAA,EAAAnB,EAAAmB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,6BAAA,CAAAC,QAAAC,CAAA,EAAAlB,EAAAkB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAC,QAAAC,CAAA,EAAAjB,EAAAiB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAC,QAAAC,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAAC,QAAAC,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAAC,QAAAC,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAX,cAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,qBAAA,CAAAV,WAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,+BAAA,CAAAT,qBAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAAR,kBAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAAP,gBAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAAN,kBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,+BAAA,CAAAL,qBAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,qCAAA,CAAAJ,2BAAAM,CAAA,EAAAN,GAAAM,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,mCAAA,CAAAH,yBAAAK,CAAA,EAAAL,GAAAK,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAAF,gBAAAI,CAAA,EAAAJ,GAAAI,CAAA,CAAA,EAAA,IAA5CH,EAAOI,aAAa,CAsUL9C,EA3RE+C,KAChB,IAAMC,EAAOjC,IACb,GAAI,CAACiC,EACJ,MAAM,AAAIC,MAAM,2BAGjB,IAAMC,EAAItD,IACJuD,EAAmB5C,IACnB6C,EAAOpC,IACPqC,GAAOxD,IACPyD,GAAUnC,IACVoC,GAAQ7D,EAAQ,SAChB8D,GAAevC,IAEfwC,GAAkBlC,EAAmB6B,GAErCM,GAAc5D,EAA2B,gBAAkB6D,KAAAA,EAC3DC,GAAgB9D,EAA2B,iBAC3C+D,GAAiB/D,EAA2B,kBAE5C,CAAEgE,wBAAAA,EAAuB,CAAEC,oBAAAA,EAAmB,CAAEC,sBAAAA,EAAAA,CAAuB,CAAG9C,IAE1E+C,GAAqBtE,EAAW,+BAEhCuE,GAAwBzE,EAAc,kBAEtC0E,GAAa,CAAC,CAACX,GAEfY,GAAalE,EAAQ,IAC1B,EAAIkD,GAAQA,AAAW,MAAXA,EAAKF,CAAC,EAIde,AAAuB,CAAA,IAAvBA,MAIAC,IAIGC,GACL,CAACF,GAAoBC,GAAuBd,EAAMe,GAAW,EAE1DE,GAAc1E,EAAW,oBAEzB2E,GAAcnE,EAA8B,MAE5C,CACLoE,WAAYC,EAAmB,CAC/BC,SAAUC,EAAiB,CAC3BC,iCAAAA,EAAgC,CAChCC,4BAAAA,EAA2B,CAC3BC,QAAS,CAACC,GAAM,CAChB,CAAGrC,GAAgBW,EAAMI,IAE1BuB,GAA8E1D,IAAxE,CAAEoD,SAAUO,EAAkB,CAAEC,UAAAA,EAAS,CAAEC,UAAAA,EAAAA,CAA0B,CAAAH,GAAZI,GAAU7F,EAAAyF,GAAAK,IAEnE,CAAEX,SAAUY,EAAkB,CAAEC,YAAAA,EAAW,CAAEC,aAAAA,EAAY,CAAEC,wBAAAA,EAAuB,CAAEC,WAAAA,EAAAA,CAAY,CAAGpD,IAEnG,CAAEoC,SAAUiB,EAAAA,CAAiB,CAAGzD,EAAWmB,EAAKuC,GAAG,CAAEL,IAErD,CAAEf,WAAYqB,EAAsB,CAAEC,iBAAAA,EAAgB,CAAEpB,SAAUqB,EAAAA,CAAsB,CAAG1D,IAE3F,CACL2D,QAAAA,EAAO,CACPC,kBAAAA,EAAiB,CACjBC,0BAAAA,EAAyB,CACzBC,UAAW,CAACC,GAAwBC,GAAsB,CAC1D,CAAGpE,IAEE,CAAEyC,SAAU4B,EAAAA,CAA+B,CAAG7D,GAAyBY,EAAKuC,GAAG,EAE/E,CAAEW,eAAAA,EAAAA,CAAgB,CAAGhF,IAErB,CAAEiF,4BAAAA,EAA2B,CAAEC,8BAAAA,EAA6B,CAAEC,qBAAAA,EAAoB,CAAEC,eAAAA,EAAc,CAAEC,qBAAAA,EAAAA,CAAsB,CAC/HxE,EAAkBiB,EAAKuC,GAAG,CAAEtC,MAAAA,GAAI,KAAA,EAAJA,GAAMsC,GAAG,CAAEL,GAAa,CACnDC,aAAAA,GACAC,wBAAAA,GACAC,WAAAA,KAGIhB,GAAWjF,EAChBwF,GACAV,GACA+B,GACAhB,GACAsB,GACAb,GACApB,GACAgB,GAEAY,IAGKM,GAAiBpH,EAAcgF,GAAqBoB,IAEpDiB,GAAkC5G,EAAY,KACnD+C,EAAK8D,cAAc,CAACC,iBAAiB,EACtC,EAAG,CAAC/D,EAAK8D,cAAc,CAAC,EAElBE,GAA8B/G,EAAY,KAC/C+C,EAAK8D,cAAc,CAACG,aAAa,EAClC,EAAG,CAACjE,EAAK8D,cAAc,CAAC,EAElBI,GAAqDjH,EACzDkH,IASA,IAAMC,EAAgBC,GACrB,EAAKA,OAGDA,aAAmBC,mBAAqBD,AAAiC,WAAjCA,EAAQE,YAAY,CAAC,SAG7DF,aAAmBG,mBAAqBH,AAAiC,SAAjCA,EAAQE,YAAY,CAAC,UAG1DH,EAAaC,EAAQI,aAAa,GAGtCL,EAAaD,EAAEO,MAAqB,GAIxCpE,GAAQqE,QAAQ,EACjB,EACA,CAACrE,GAAQ,EAGJ,CAAEsE,aAAAA,EAAY,CAAEC,aAAAA,EAAAA,CAAc,CAAGzG,IAEjC0G,GAAqB7H,EAC1B,CAAC8H,EAAgBC,KACXA,GAILJ,GAAaG,EAAOC,EACrB,EACA,CAACJ,GAAa,EAGf1F,EAAqBkB,EAAMC,MAAAA,GAAI,KAAA,EAAJA,GAAMsC,GAAG,EACpCpD,KACAD,IAEA,GAAM,CAAE2F,KAAMC,EAAAA,CAAY,CAAG1H,EAAiB,CAAC,QAAS4C,EAAKuC,GAAG,CAAE,SAAU,CAAEwC,IAAK9E,MAAAA,GAAI,KAAA,EAAJA,GAAMsC,GAAAA,AAAG,EAAG,CAAE,KAChG,IAAMyC,EAAiBhI,EAAUiI,OAAO,CAAC,CACxC,IAAOjF,EAAKuC,GAAG,CACf,MAAS,SACT,QAAS,CAAE2C,IAAKjF,MAAAA,GAAI,KAAA,EAAJA,GAAMsC,GAAAA,AAAG,WAG1B,AAAKyC,EAIL/I,EAAAA,EAAA,CAAA,EACI+I,EAAeG,CAAC,EAAA,CAAA,EAAA,CACnBC,KAAMnE,IAAc+D,EAAeG,CAAC,CAACC,IAAI,EAAIJ,EAAeG,CAAC,CAACP,QAAQ,AAA4B,GAL3F,IAOT,GAEA,OACCjI,EAAA0I,aAAA,CAAA1I,EAAA2I,QAAA,CAAA,KACE,CAACvF,GAAoBC,EAAKuF,YAAY,EAAI5I,EAAA0I,aAAA,CAAChI,EAAY,CAACkI,aAAcvF,EAAKuF,YAAa,CAACC,oBAAqBjF,KAAAA,CAAU,GACzH5D,EAAA0I,aAAA,CAAClJ,EAAG,CAACsJ,IAAKzF,EAAKuC,GAAI,CAACmD,UAAW,CAAC,oBAAqB5D,GAAS,AAAE,EAC/DnF,EAAA0I,aAAA,CAAA,UAAA,CACCM,KAAK,eACLD,UAAS,4CAAAE,MAAA,CAA8CzF,GAAQ,QAAU,IACzE0F,GAAE,eAAAD,MAAA,CAAiB5F,EAAKuC,GAAG,EAC3BuD,QAASxF,IAAewD,EAAmB,EAE3CnH,EAAA0I,aAAA,CAAA,MAAA,CAAKK,UAAU,4BAA4B,EAC1C/I,EAAA0I,aAAA,CAAA,MAAArJ,EAAA,CAAK0J,UAAU,0BAA0BK,IAAKvC,EAAe,EAAKT,IACjEpG,EAAA0I,aAAA,CAACjH,EAAsB4E,IACvBrG,EAAA0I,aAAA,CAAClJ,EAAG,CAAC6J,SAAS,WAAWC,EAAE,MAAM,EAC/BnB,GACAnI,EAAA0I,aAAA,CAAC/G,EAAS,CACTiE,IAAKuC,GAAWvC,GAAI,CACpBqC,SAAUE,GAAWF,QAAS,CAC9BQ,KAAMN,GAAWM,IAAK,CACtBc,QAAS,CAACzD,GACV0D,cAAezB,GACfD,aAAcA,EAAa,GAEzB,KACJ9H,EAAA0I,aAAA,CAAA,MAAA,CAAKK,UAAW,CAAC,iBAAkB/C,GAAQyD,MAAM,EAAI,OAAO,CAACC,MAAM,CAACpJ,GAAUqJ,IAAI,CAAC,IAAK,EACtF3D,GAAQ4D,GAAG,CAAEC,GACb7J,EAAA0I,aAAA,CAAC1G,EAAuB,CACvB8G,IAAKe,EAAOX,EAAG,CACfA,GAAIW,EAAOX,EAAG,CACdT,KAAMoB,EAAOpB,IAAK,CAClBqB,WAAYD,EAAOC,UAAW,CAC9BC,MAAOF,EAAOE,KAAK,YAAY7G,MAAQ2G,EAAOE,KAAK,CAACC,OAAO,CAAGpG,KAAAA,EAC9DqG,QAAS/D,EAA0B,KAIrCgE,CAAAA,CAAQnF,IACR/E,EAAA0I,aAAA,CAAC3G,EAAuB,CACvBoI,MAAOpF,GACPqF,kBAAmBxF,GACnByF,wBAAyBxF,EAA4B,GAIvD7E,EAAA0I,aAAA,CAAC/H,EAAUtB,EAAA,CAAC+J,IAAKlE,EAAU,EAAKE,MAGjCpF,EAAA0I,aAAA,CAAA,MAAA,CAAKK,UAAW,CAAC,eAAgBZ,IAAc,CAACrC,IAAoB,aAAa,CAAC4D,MAAM,CAACpJ,GAAUqJ,IAAI,CAAC,IAAK,EAC5G3J,EAAA0I,aAAA,CAAChH,EAAyB,CAAC6H,QAAS5C,GAAgBwC,QAAS3C,GAA6B8D,KAAMnH,EAAE,eAAgB,GAClHnD,EAAA0I,aAAA,CAAChH,EAAyB,CACzB6H,QAASvF,GACTmF,QAAS1C,GACT6D,KAAMnH,EAAE,0BAA2B,GAEnC,AAACkB,GAIE,KAHHrE,EAAA0I,aAAA,CAAA,MAAA,CAAKK,UAAU,oCAAoC,EAClD/I,EAAA0I,aAAA,CAAA,MAAA,KAAMvF,EAAE,oDAGVnD,EAAA0I,aAAA,CAAA,MAAA,CACCK,UAAW,CACV,UACA/E,IAAuB,gBACvBH,IAAiB,iBACjB,CAACC,IAAkB,cACnB,CACC4F,MAAM,CAACpJ,GACPqJ,IAAI,CAAC,IAAK,EAEZ3J,EAAA0I,aAAA,CAAC7H,EAAwB,KACxBb,EAAA0I,aAAA,CAACnI,EAAgB,CAAC6I,IAAK1E,EAAS,EAC/B1E,EAAA0I,aAAA,CAAA,KAAA,CAAIK,UAAU,gBAAgB,aAAY5F,EAAE,gBAAiB,YAAWc,EAAsB,EAC5FI,GACArE,EAAA0I,aAAA,CAAA1I,EAAA2I,QAAA,CAAA,KACE5E,GACA/D,EAAA0I,aAAA,CAAA,KAAA,CAAIK,UAAU,WAAW,EAAE9E,GAAwBjE,EAAA0I,aAAA,CAAC9G,EAAwB,MAAM,MAElF5B,EAAA0I,aAAA,CAAA,KAAA,KACC1I,EAAA0I,aAAA,CAAC5G,EAAY,CAACwB,KAAMA,GAAMD,KAAMA,CAAK,GACpCK,MAAAA,IAAAA,GAAiB6G,QAAQ,CAAGvK,EAAA0I,aAAA,CAAC7G,EAAsB,CAACwB,KAAMA,CAAK,GAAM,OAItE,KACJrD,EAAA0I,aAAA,CAAC9H,EAAW,CAAC4J,IAAKnH,EAAKuC,GAAI,CAACW,eAAgBhC,EAAY,GACvDP,GACAhE,EAAA0I,aAAA,CAAA,KAAA,CAAIK,UAAU,WAAW,EAAE9E,GAAwBjE,EAAA0I,aAAA,CAAC9G,EAAwB,MAAM,MAC/E,UAMT5B,EAAA0I,aAAA,CAAC3H,EAAY,KACZf,EAAA0I,aAAA,CAAC5H,EAAiB,CACjB2C,aAAcA,GACdgH,SAAU/D,GACVgE,4BAA6B5D,GAC7B6D,wBAAyB1D,GACzB2D,cAAe3E,EAAkB,QAW1C\"}"}