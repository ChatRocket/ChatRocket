{"code":"function module(e,t,n){let l,r,a,o;n.export({createRouteGroup:()=>u}),n.link(\"react\",{default(e){l=e}},0),n.link(\"../providers/RouterProvider\",{router(e){r=e}},1),n.link(\"../views/root/MainLayout\",{default(e){a=e}},2),n.link(\"./appLayout\",{appLayout(e){o=e}},3);let u=(e,t,n)=>(r.defineRoutes([{path:t,id:\"\".concat(e,\"-index\"),element:o.wrap(l.createElement(a,null,l.createElement(n,null)))}]),(e,u)=>{let i,{name:c,component:d,props:p,ready:m=!0}=u,v=()=>{i=r.defineRoutes([{path:\"\".concat(t).concat(e),id:c,element:o.wrap(l.createElement(a,null,l.createElement(n,null,l.createElement(d,p))))}])};return m&&v(),[v,()=>{var e;return null===(e=i)||void 0===e?void 0:e()}]})}","map":"{\"version\":3,\"sources\":[\"client/lib/createRouteGroup.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRouterPaths, RouteName, RouterPathPattern } from '@rocket.chat/ui-contexts';\\nimport React, { type ElementType, type ReactNode } from 'react';\\n\\nimport { router } from '../providers/RouterProvider';\\nimport MainLayout from '../views/root/MainLayout';\\nimport { appLayout } from './appLayout';\\n\\ntype GroupName = 'omnichannel' | 'marketplace' | 'account' | 'admin';\\n\\ntype GroupPrefix<TGroupName extends GroupName> = IRouterPaths[`${TGroupName}-index`]['pattern'];\\n\\ntype RouteNamesOf<TGroupName extends GroupName> = (\\n\\t| keyof {\\n\\t\\t\\t[TRouteName in RouteName as IRouterPaths[TRouteName]['pattern'] extends `${GroupPrefix<TGroupName>}/${string}`\\n\\t\\t\\t\\t? TRouteName\\n\\t\\t\\t\\t: never]: never;\\n\\t  }\\n\\t| `${GroupName}-index`\\n) &\\n\\tRouteName;\\n\\ntype TrimPrefix<T, P extends string> = T extends `${P}${infer U}` ? U : T;\\n\\nexport const createRouteGroup = <TGroupName extends GroupName>(\\n\\tname: TGroupName,\\n\\tprefix: NoInfer<GroupPrefix<TGroupName>>,\\n\\tRouterComponent: ElementType<{\\n\\t\\tchildren?: ReactNode;\\n\\t}>,\\n) => {\\n\\trouter.defineRoutes([\\n\\t\\t{\\n\\t\\t\\tpath: prefix,\\n\\t\\t\\tid: `${name}-index`,\\n\\t\\t\\telement: appLayout.wrap(\\n\\t\\t\\t\\t<MainLayout>\\n\\t\\t\\t\\t\\t<RouterComponent />\\n\\t\\t\\t\\t</MainLayout>,\\n\\t\\t\\t),\\n\\t\\t},\\n\\t]);\\n\\n\\treturn <TRouteName extends RouteNamesOf<TGroupName>>(\\n\\t\\tpath: TrimPrefix<IRouterPaths[TRouteName]['pattern'], GroupPrefix<TGroupName>>,\\n\\t\\t{\\n\\t\\t\\tname,\\n\\t\\t\\tcomponent: RouteComponent,\\n\\t\\t\\tprops,\\n\\t\\t\\tready = true,\\n\\t\\t}: {\\n\\t\\t\\tname: TRouteName;\\n\\t\\t\\tcomponent: ElementType;\\n\\t\\t\\tprops?: Record<string, unknown>;\\n\\t\\t\\tready?: boolean;\\n\\t\\t},\\n\\t): [register: () => void, unregister: () => void] => {\\n\\t\\tlet unregister: (() => void) | undefined;\\n\\n\\t\\tconst register = () => {\\n\\t\\t\\tunregister = router.defineRoutes([\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tpath: `${prefix}${path}` as RouterPathPattern,\\n\\t\\t\\t\\t\\tid: name,\\n\\t\\t\\t\\t\\telement: appLayout.wrap(\\n\\t\\t\\t\\t\\t\\t<MainLayout>\\n\\t\\t\\t\\t\\t\\t\\t<RouterComponent>\\n\\t\\t\\t\\t\\t\\t\\t\\t<RouteComponent {...props} />\\n\\t\\t\\t\\t\\t\\t\\t</RouterComponent>\\n\\t\\t\\t\\t\\t\\t</MainLayout>,\\n\\t\\t\\t\\t\\t),\\n\\t\\t\\t\\t},\\n\\t\\t\\t]);\\n\\t\\t};\\n\\n\\t\\tif (ready) {\\n\\t\\t\\tregister();\\n\\t\\t}\\n\\n\\t\\treturn [register, () => unregister?.()];\\n\\t};\\n};\\n\",null],\"names\":[\"React\",\"router\",\"MainLayout\",\"appLayout\",\"module\",\"export\",\"createRouteGroup\",\"link\",\"default\",\"v\",\"name\",\"prefix\",\"RouterComponent\",\"defineRoutes\",\"path\",\"id\",\"concat\",\"element\",\"wrap\",\"createElement\",\"_ref\",\"unregister\",\"component\",\"RouteComponent\",\"props\",\"ready\",\"register\",\"_unregister\"],\"mappings\":\"2BACgEA,EAAAC,EAAAC,EAAAC,EAAhEC,EAAOC,MAA2C,CAAA,CAAAC,iBAAcA,IAAAA,CAAA,GAAAF,EAAAG,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,8BAAA,CAAAN,OAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,2BAAA,CAAAC,QAAAC,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,cAAA,CAAAJ,UAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAsBzD,IAAMH,EAAmBA,CAC/BI,EACAC,EACAC,KAIAX,EAAOY,YAAY,CAAC,CACnB,CACCC,KAAMH,EACNI,GAAE,GAAAC,MAAA,CAAKN,EAAI,UACXO,QAASd,EAAUe,IAAI,CACtBlB,EAAAmB,aAAA,CAACjB,EAAU,KACVF,EAAAmB,aAAA,CAACP,EAAe,SAInB,EAEM,CACNE,EAA8EM,KAY3B,IAC/CC,EAZJ,CACCX,KAAAA,CAAI,CACJY,UAAWC,CAAc,CACzBC,MAAAA,CAAK,CACLC,MAAAA,EAAQ,CAAA,CAAA,CAMR,CAAAL,EAIKM,EAAWA,KAChBL,EAAapB,EAAOY,YAAY,CAAC,CAChC,CACCC,KAAI,GAAAE,MAAA,CAAKL,GAAMK,MAAA,CAAGF,GAClBC,GAAIL,EACJO,QAASd,EAAUe,IAAI,CACtBlB,EAAAmB,aAAA,CAACjB,EAAU,KACVF,EAAAmB,aAAA,CAACP,EAAe,KACfZ,EAAAmB,aAAA,CAACI,EAAmBC,OAKxB,CACF,EAMA,OAJIC,GACHC,IAGM,CAACA,EAAU,KAAA,IAAAC,EAAA,OAAA,AAAgB,OAAhBA,CAAAA,EAAMN,CAAAA,GAAUM,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAVA,GAAc,EAAC,AACxC\"}"}