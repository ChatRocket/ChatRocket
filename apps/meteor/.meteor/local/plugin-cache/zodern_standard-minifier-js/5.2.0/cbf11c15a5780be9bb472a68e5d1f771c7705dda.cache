{"code":"function module(e,t,r){let n,o,u;r.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){n=e}},0),r.export({useMembersList:()=>s}),r.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){o=e}},0),r.link(\"@tanstack/react-query\",{useInfiniteQuery(e){u=e}},1);let l={d:\"/v1/im.members\",p:\"/v1/groups.members\",c:\"/v1/channels.members\"},s=e=>{let t=o(\"GET\",l[e.roomType]);return u([e.roomType,\"members\",e.rid,e.type,e.debouncedText],async r=>{let{pageParam:o}=r;return t(n(n({roomId:e.rid,offset:null!=o?o:0,count:20},e.debouncedText&&{filter:e.debouncedText}),\"all\"!==e.type&&{status:[e.type]}))},{getNextPageParam:e=>{let t=e.offset+e.count;return t>=e.total?void 0:t}})}}","map":"{\"version\":3,\"sources\":[\"client/views/hooks/useMembersList.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useInfiniteQuery } from '@tanstack/react-query';\\n\\ntype MembersListOptions = {\\n\\trid: string;\\n\\ttype: 'all' | 'online';\\n\\tlimit: number;\\n\\tdebouncedText: string;\\n\\troomType: 'd' | 'p' | 'c';\\n};\\n\\nconst endpointsByRoomType = {\\n\\td: '/v1/im.members',\\n\\tp: '/v1/groups.members',\\n\\tc: '/v1/channels.members',\\n} as const;\\n\\nexport const useMembersList = (options: MembersListOptions) => {\\n\\tconst getMembers = useEndpoint('GET', endpointsByRoomType[options.roomType]);\\n\\n\\treturn useInfiniteQuery(\\n\\t\\t[options.roomType, 'members', options.rid, options.type, options.debouncedText],\\n\\t\\tasync ({ pageParam }) => {\\n\\t\\t\\tconst start = pageParam ?? 0;\\n\\n\\t\\t\\treturn getMembers({\\n\\t\\t\\t\\troomId: options.rid,\\n\\t\\t\\t\\toffset: start,\\n\\t\\t\\t\\tcount: 20,\\n\\t\\t\\t\\t...(options.debouncedText && { filter: options.debouncedText }),\\n\\t\\t\\t\\t...(options.type !== 'all' && { status: [options.type] }),\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tgetNextPageParam: (lastPage) => {\\n\\t\\t\\t\\tconst offset = lastPage.offset + lastPage.count;\\n\\t\\t\\t\\t// if the offset is greater than the total, return undefined to stop the query from trying to fetch another page\\n\\t\\t\\t\\treturn offset >= lastPage.total ? undefined : offset;\\n\\t\\t\\t},\\n\\t\\t},\\n\\t);\\n};\\n\",null],\"names\":[\"_objectSpread\",\"useEndpoint\",\"useInfiniteQuery\",\"module\",\"link\",\"default\",\"v\",\"export\",\"useMembersList\",\"endpointsByRoomType\",\"d\",\"p\",\"c\",\"options\",\"getMembers\",\"roomType\",\"rid\",\"type\",\"debouncedText\",\"_ref\",\"pageParam\",\"roomId\",\"offset\",\"count\",\"filter\",\"status\",\"getNextPageParam\",\"lastPage\",\"total\",\"undefined\"],\"mappings\":\"2BAAAA,EAAuDC,EAAAC,EAA9CC,EAAaC,IAAM,CAAA,uCAA2B,CAAAC,QAAAC,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAvDH,EAAOI,MAAE,CAAA,CAAAC,eAAmBA,IAAAA,CAAA,GAA2BL,EAAAC,IAAA,CAAA,2BAAA,CAAAH,YAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAF,iBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAWvD,IAAMG,EAAsB,CAC3BC,EAAG,iBACHC,EAAG,qBACHC,EAAG,wBAGSJ,EAAkBK,IAC9B,IAAMC,EAAab,EAAY,MAAOQ,CAAmB,CAACI,EAAQE,QAAQ,CAAC,EAE3E,OAAOb,EACN,CAACW,EAAQE,QAAQ,CAAE,UAAWF,EAAQG,GAAG,CAAEH,EAAQI,IAAI,CAAEJ,EAAQK,aAAa,CAAC,CAC/E,MAAAC,IAAwB,GAAjB,CAAEC,UAAAA,CAAAA,CAAW,CAAAD,EAGnB,OAAOL,EAAUd,EAAAA,EAAA,CAChBqB,OAAQR,EAAQG,GAAG,CACnBM,OAJaF,MAAAA,EAAAA,EAAa,EAK1BG,MAAO,EAAE,EACLV,EAAQK,aAAa,EAAI,CAAEM,OAAQX,EAAQK,aAAAA,AAAa,GACxDL,AAAiB,QAAjBA,EAAQI,IAAI,EAAc,CAAEQ,OAAQ,CAACZ,EAAQI,IAAI,CAAA,AAAC,GAExD,EACA,CACCS,iBAAmBC,IAClB,IAAML,EAASK,EAASL,MAAM,CAAGK,EAASJ,KAAK,CAE/C,OAAOD,GAAUK,EAASC,KAAK,CAAGC,KAAAA,EAAYP,CAC/C,GAGH\"}"}