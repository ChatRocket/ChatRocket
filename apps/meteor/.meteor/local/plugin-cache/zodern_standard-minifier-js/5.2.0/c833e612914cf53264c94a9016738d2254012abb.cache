{"code":"function module(e,t,n){let a,l,i,r,c,o,s,m,u,d,k,E,b,g,T,h,S,f,p,P,x,C,G,v,y,w,I;let _=[\"current\",\"itemsPerPage\",\"setItemsPerPage\",\"setCurrent\"];n.link(\"@babel/runtime/helpers/extends\",{default(e){a=e}},0),n.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){l=e}},1),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){i=e}},2),n.link(\"@rocket.chat/fuselage\",{Pagination(e){r=e},States(e){c=e},StatesAction(e){o=e},StatesActions(e){s=e},StatesIcon(e){m=e},StatesTitle(e){u=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useRoute(e){d=e},useTranslation(e){k=e},useEndpoint(e){E=e}},1),n.link(\"@tanstack/react-query\",{useQuery(e){b=e}},2),n.link(\"react\",{default(e){g=e},useMemo(e){T=e},useCallback(e){h=e}},3),n.link(\"../../../components/GenericNoResults\",{default(e){S=e}},4),n.link(\"../../../components/GenericTable\",{GenericTable(e){f=e},GenericTableBody(e){p=e},GenericTableCell(e){P=e},GenericTableHeader(e){x=e},GenericTableHeaderCell(e){C=e},GenericTableLoadingTable(e){G=e},GenericTableRow(e){v=e}},5),n.link(\"../../../components/GenericTable/hooks/usePagination\",{usePagination(e){y=e}},6),n.link(\"../../../components/GenericTable/hooks/useSort\",{useSort(e){w=e}},7),n.link(\"./SendTestButton\",{default(e){I=e}},8),n.exportDefault(()=>{let e=k(),t=d(\"admin-email-inboxes\"),n=y(),{current:A,itemsPerPage:N,setItemsPerPage:R,setCurrent:j}=n,B=i(n,_),{sortBy:D,sortDirection:F,setSort:H}=w(\"name\"),L=h(e=>()=>{t.push({context:\"edit\",_id:e})},[t]),q=E(\"GET\",\"/v1/email-inbox.list\"),J=l(l({sort:JSON.stringify({[D]:\"asc\"===F?1:-1})},N&&{count:N}),A&&{offset:A}),K=b([\"email-list\",J],()=>q(J)),M=T(()=>[g.createElement(C,{key:\"name\",direction:F,active:\"name\"===D,onClick:H},e(\"Name\")),g.createElement(C,{key:\"email\",direction:F,active:\"email\"===D,onClick:H},e(\"Email\")),g.createElement(C,{key:\"active\",direction:F,active:\"active\"===D,onClick:H},e(\"Active\")),g.createElement(C,{key:\"action\"},e(\"Action\"))],[H,D,F,e]);return g.createElement(g.Fragment,null,K.isLoading&&g.createElement(f,null,g.createElement(x,null,M),g.createElement(p,null,g.createElement(G,{headerCells:4}))),K.isSuccess&&K.data.emailInboxes.length>0&&g.createElement(g.Fragment,null,g.createElement(f,null,g.createElement(x,null,M),g.createElement(p,null,K.data.emailInboxes.map(t=>g.createElement(v,{key:t._id,onKeyDown:L(t._id),onClick:L(t._id),tabIndex:0,role:\"link\",action:!0,width:\"full\"},g.createElement(P,{withTruncatedText:!0},t.name),g.createElement(P,{withTruncatedText:!0},t.email),g.createElement(P,{withTruncatedText:!0},t.active?e(\"Yes\"):e(\"No\")),g.createElement(I,{id:t._id}))))),g.createElement(r,a({divider:!0,current:A,itemsPerPage:N,count:K.data.count,onSetItemsPerPage:R,onSetCurrent:j},B))),K.isSuccess&&0===K.data.emailInboxes.length&&g.createElement(S,null),K.isError&&g.createElement(c,null,g.createElement(m,{name:\"warning\",variation:\"danger\"}),g.createElement(u,null,e(\"Something_went_wrong\")),g.createElement(s,null,g.createElement(o,{onClick:()=>K.refetch()},e(\"Reload_page\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/emailInbox/EmailInboxTable.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Pagination, States, StatesAction, StatesActions, StatesIcon, StatesTitle } from '@rocket.chat/fuselage';\\nimport { useRoute, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo, useCallback } from 'react';\\n\\nimport GenericNoResults from '../../../components/GenericNoResults';\\nimport {\\n\\tGenericTable,\\n\\tGenericTableBody,\\n\\tGenericTableCell,\\n\\tGenericTableHeader,\\n\\tGenericTableHeaderCell,\\n\\tGenericTableLoadingTable,\\n\\tGenericTableRow,\\n} from '../../../components/GenericTable';\\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\\nimport SendTestButton from './SendTestButton';\\n\\nconst EmailInboxTable = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRoute('admin-email-inboxes');\\n\\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\\n\\tconst { sortBy, sortDirection, setSort } = useSort<'name' | 'email' | 'active'>('name');\\n\\n\\tconst onClick = useCallback(\\n\\t\\t(_id) => (): void => {\\n\\t\\t\\trouter.push({\\n\\t\\t\\t\\tcontext: 'edit',\\n\\t\\t\\t\\t_id,\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\t[router],\\n\\t);\\n\\n\\tconst endpoint = useEndpoint('GET', '/v1/email-inbox.list');\\n\\n\\tconst query = {\\n\\t\\tsort: JSON.stringify({ [sortBy]: sortDirection === 'asc' ? 1 : -1 }),\\n\\t\\t...(itemsPerPage && { count: itemsPerPage }),\\n\\t\\t...(current && { offset: current }),\\n\\t};\\n\\n\\tconst result = useQuery(['email-list', query], () => endpoint(query));\\n\\n\\tconst headers = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t<GenericTableHeaderCell key='name' direction={sortDirection} active={sortBy === 'name'} onClick={setSort}>\\n\\t\\t\\t\\t{t('Name')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='email' direction={sortDirection} active={sortBy === 'email'} onClick={setSort}>\\n\\t\\t\\t\\t{t('Email')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='active' direction={sortDirection} active={sortBy === 'active'} onClick={setSort}>\\n\\t\\t\\t\\t{t('Active')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='action'>{t('Action')}</GenericTableHeaderCell>,\\n\\t\\t],\\n\\t\\t[setSort, sortBy, sortDirection, t],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{result.isLoading && (\\n\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t<GenericTableLoadingTable headerCells={4} />\\n\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t)}\\n\\t\\t\\t{result.isSuccess && result.data.emailInboxes.length > 0 && (\\n\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t\\t{result.data.emailInboxes.map((emailInbox) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t<GenericTableRow\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tkey={emailInbox._id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonKeyDown={onClick(emailInbox._id)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClick={onClick(emailInbox._id)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttabIndex={0}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trole='link'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\taction\\n\\t\\t\\t\\t\\t\\t\\t\\t\\twidth='full'\\n\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<GenericTableCell withTruncatedText>{emailInbox.name}</GenericTableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<GenericTableCell withTruncatedText>{emailInbox.email}</GenericTableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<GenericTableCell withTruncatedText>{emailInbox.active ? t('Yes') : t('No')}</GenericTableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<SendTestButton id={emailInbox._id} />\\n\\t\\t\\t\\t\\t\\t\\t\\t</GenericTableRow>\\n\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t\\t\\t<Pagination\\n\\t\\t\\t\\t\\t\\tdivider\\n\\t\\t\\t\\t\\t\\tcurrent={current}\\n\\t\\t\\t\\t\\t\\titemsPerPage={itemsPerPage}\\n\\t\\t\\t\\t\\t\\tcount={result.data.count}\\n\\t\\t\\t\\t\\t\\tonSetItemsPerPage={onSetItemsPerPage}\\n\\t\\t\\t\\t\\t\\tonSetCurrent={onSetCurrent}\\n\\t\\t\\t\\t\\t\\t{...paginationProps}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</>\\n\\t\\t\\t)}\\n\\t\\t\\t{result.isSuccess && result.data.emailInboxes.length === 0 && <GenericNoResults />}\\n\\t\\t\\t{result.isError && (\\n\\t\\t\\t\\t<States>\\n\\t\\t\\t\\t\\t<StatesIcon name='warning' variation='danger' />\\n\\t\\t\\t\\t\\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\\n\\t\\t\\t\\t\\t<StatesActions>\\n\\t\\t\\t\\t\\t\\t<StatesAction onClick={() => result.refetch()}>{t('Reload_page')}</StatesAction>\\n\\t\\t\\t\\t\\t</StatesActions>\\n\\t\\t\\t\\t</States>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default EmailInboxTable;\\n\",null],\"names\":[\"_extends\",\"_objectSpread\",\"_objectWithoutProperties\",\"Pagination\",\"States\",\"StatesAction\",\"StatesActions\",\"StatesIcon\",\"StatesTitle\",\"useRoute\",\"useTranslation\",\"useEndpoint\",\"useQuery\",\"React\",\"useMemo\",\"useCallback\",\"GenericNoResults\",\"GenericTable\",\"GenericTableBody\",\"GenericTableCell\",\"GenericTableHeader\",\"GenericTableHeaderCell\",\"GenericTableLoadingTable\",\"GenericTableRow\",\"usePagination\",\"useSort\",\"SendTestButton\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"EmailInboxTable\",\"t\",\"router\",\"_usePagination\",\"current\",\"itemsPerPage\",\"setItemsPerPage\",\"onSetItemsPerPage\",\"setCurrent\",\"onSetCurrent\",\"paginationProps\",\"_excluded\",\"sortBy\",\"sortDirection\",\"setSort\",\"onClick\",\"_id\",\"push\",\"context\",\"endpoint\",\"query\",\"sort\",\"JSON\",\"stringify\",\"count\",\"offset\",\"result\",\"headers\",\"createElement\",\"key\",\"direction\",\"active\",\"Fragment\",\"isLoading\",\"headerCells\",\"isSuccess\",\"data\",\"emailInboxes\",\"length\",\"map\",\"emailInbox\",\"onKeyDown\",\"tabIndex\",\"role\",\"action\",\"width\",\"withTruncatedText\",\"name\",\"email\",\"id\",\"divider\",\"isError\",\"variation\",\"refetch\"],\"mappings\":\"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\"}"}