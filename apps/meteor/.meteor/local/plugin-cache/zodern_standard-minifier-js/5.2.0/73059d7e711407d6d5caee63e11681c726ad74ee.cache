{"code":"function module(e,o,t){let n,u,l;t.export({useVoipSounds:()=>i}),t.link(\"@rocket.chat/ui-contexts\",{useCustomSound(e){n=e},useUserPreference(e){u=e}},0),t.link(\"react\",{useMemo(e){l=e}},1);let i=()=>{let{play:e,pause:o}=n(),t=u(\"notificationsSoundVolume\",100)||100;return l(()=>({play:function(o){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e(o,{volume:Number((t/100).toPrecision(2)),loop:n})},stop:e=>o(e),stopAll:()=>{o(\"telephone\"),o(\"outbound-call-ringing\")}}),[e,o,t])}}","map":"{\"version\":3,\"sources\":[\"client/providers/CallProvider/hooks/useVoipSounds.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useCustomSound, useUserPreference } from '@rocket.chat/ui-contexts';\\nimport { useMemo } from 'react';\\n\\ntype VoipSound = 'telephone' | 'outbound-call-ringing' | 'call-ended';\\n\\nexport const useVoipSounds = () => {\\n\\tconst { play, pause } = useCustomSound();\\n\\tconst audioVolume = useUserPreference<number>('notificationsSoundVolume', 100) || 100;\\n\\n\\treturn useMemo(\\n\\t\\t() => ({\\n\\t\\t\\tplay: (soundId: VoipSound, loop = true) => {\\n\\t\\t\\t\\tplay(soundId, {\\n\\t\\t\\t\\t\\tvolume: Number((audioVolume / 100).toPrecision(2)),\\n\\t\\t\\t\\t\\tloop,\\n\\t\\t\\t\\t});\\n\\t\\t\\t},\\n\\t\\t\\tstop: (soundId: VoipSound) => pause(soundId),\\n\\t\\t\\tstopAll: () => {\\n\\t\\t\\t\\tpause('telephone');\\n\\t\\t\\t\\tpause('outbound-call-ringing');\\n\\t\\t\\t},\\n\\t\\t}),\\n\\t\\t[play, pause, audioVolume],\\n\\t);\\n};\\n\",null],\"names\":[\"useCustomSound\",\"useUserPreference\",\"useMemo\",\"module\",\"export\",\"useVoipSounds\",\"link\",\"v\",\"play\",\"pause\",\"audioVolume\",\"soundId\",\"loop\",\"arguments\",\"length\",\"undefined\",\"volume\",\"Number\",\"toPrecision\",\"stop\",\"stopAll\"],\"mappings\":\"2BAAkDA,EAAAC,EAA2BC,EAA7EC,EAAOC,MAAE,CAAA,CAAAC,cAAgBA,IAAAA,CAAmB,GAAiCF,EAAAG,IAAA,CAAA,2BAAA,CAAAN,eAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,kBAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAJ,QAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAKtE,IAAMF,EAAgBA,KAC5B,GAAM,CAAEG,KAAAA,CAAI,CAAEC,MAAAA,CAAAA,CAAO,CAAGT,IAClBU,EAAcT,EAA0B,2BAA4B,MAAQ,IAElF,OAAOC,EACN,IAAO,CAAA,CACNM,KAAM,SAACG,CAAkB,EAAiB,IAAfC,EAAIC,CAAAA,CAAAA,UAAAC,MAAA,CAAA,CAAA,GAAAD,AAAAE,KAAAA,IAAAF,SAAA,CAAA,EAAA,EAAAA,SAAA,CAAA,EAAA,CAC9BL,EAAKG,EAAS,CACbK,OAAQC,OAAO,AAACP,CAAAA,EAAc,GAAA,EAAKQ,WAAW,CAAC,IAC/CN,KAAAA,GAEF,EACAO,KAAOR,GAAuBF,EAAME,GACpCS,QAASA,KACRX,EAAM,aACNA,EAAM,wBACP,IAED,CAACD,EAAMC,EAAOC,EAAY,CAE5B\"}"}