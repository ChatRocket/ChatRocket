{"code":"function module(n,i,t){t.export({actionLinks:function(){return a}}),t.link(\"meteor/meteor\",{Meteor:function(n){o=n}},0),t.link(\"./utils/fireGlobalEvent\",{fireGlobalEvent:function(n){e=n}},1),t.link(\"./utils/isLayoutEmbedded\",{isLayoutEmbedded:function(n){r=n}},2);var o,e,r,a={actions:new Map,register:function(n,i){a.actions.set(n,i)},run:function(n,i){if(r()){e(\"click-action-link\",{actionlink:n,value:i._id,message:i});return}var t,l=null===(t=i.actionLinks)||void 0===t?void 0:t.find(function(i){return i.method_id===n});if(!l||!a.actions.has(l.method_id))throw new o.Error(\"error-invalid-actionlink\",\"Invalid action link\");var c=a.actions.get(l.method_id);null==c||c(i,l.params)}}}","map":"{\"version\":3,\"sources\":[\"client/lib/actionLinks.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { Meteor } from 'meteor/meteor';\\n\\nimport { fireGlobalEvent } from './utils/fireGlobalEvent';\\nimport { isLayoutEmbedded } from './utils/isLayoutEmbedded';\\n\\n// Action Links namespace creation.\\nexport const actionLinks = {\\n\\tactions: new Map<string, (message: IMessage, params: string) => void>(),\\n\\tregister(name: string, fn: (message: IMessage, params: string) => void): void {\\n\\t\\tactionLinks.actions.set(name, fn);\\n\\t},\\n\\trun(actionMethodId: string, message: IMessage): void {\\n\\t\\tconst embedded = isLayoutEmbedded();\\n\\n\\t\\tif (embedded) {\\n\\t\\t\\tfireGlobalEvent('click-action-link', {\\n\\t\\t\\t\\tactionlink: actionMethodId,\\n\\t\\t\\t\\tvalue: message._id,\\n\\t\\t\\t\\tmessage,\\n\\t\\t\\t});\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst actionLink = message.actionLinks?.find((action) => action.method_id === actionMethodId);\\n\\n\\t\\tif (!actionLink) {\\n\\t\\t\\tthrow new Meteor.Error('error-invalid-actionlink', 'Invalid action link');\\n\\t\\t}\\n\\n\\t\\tif (!actionLinks.actions.has(actionLink.method_id)) {\\n\\t\\t\\tthrow new Meteor.Error('error-invalid-actionlink', 'Invalid action link');\\n\\t\\t}\\n\\n\\t\\tconst fn = actionLinks.actions.get(actionLink.method_id);\\n\\t\\tfn?.(message, actionLink.params);\\n\\t},\\n};\\n\",null],\"names\":[\"module\",\"export\",\"actionLinks\",\"link\",\"Meteor\",\"v\",\"fireGlobalEvent\",\"isLayoutEmbedded\",\"actions\",\"Map\",\"register\",\"name\",\"fn\",\"set\",\"run\",\"actionMethodId\",\"message\",\"actionlink\",\"value\",\"_id\",\"_message$actionLinks\",\"actionLink\",\"find\",\"action\",\"method_id\",\"has\",\"Error\",\"get\",\"params\"],\"mappings\":\"uBACAA,EAAOC,MAAE,CAAA,CAAMC,YAAQ,WAAe,OAACA,CAAA,CAAA,GAAAF,EAAAG,IAAA,CAAA,gBAAA,CAAAC,OAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,0BAAA,CAAAG,gBAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,2BAAA,CAAAI,iBAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAMhC,IANgCD,EAAAE,EAAAC,EAM1BL,EAAc,CAC1BM,QAAS,IAAIC,IACbC,SAAQ,SAACC,CAAY,CAAEC,CAA+C,EACrEV,EAAYM,OAAO,CAACK,GAAG,CAACF,EAAMC,EAC/B,EACAE,IAAG,SAACC,CAAsB,CAAEC,CAAiB,EAG5C,GAFiBT,IAEH,CACbD,EAAgB,oBAAqB,CACpCW,WAAYF,EACZG,MAAOF,EAAQG,GAAG,CAClBH,QAAAA,IAED,MACD,CAEA,IAZ4CI,EAYtCC,EAAU,AAAsB,OAAtBD,CAAAA,EAAGJ,EAAQd,WAAW,AAAXA,GAAWkB,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAnBA,EAAqBE,IAAI,CAAC,SAACC,CAAM,EAAA,OAAKA,EAAOC,SAAS,GAAKT,CAAc,GAE5F,GAAI,CAACM,GAID,CAACnB,EAAYM,OAAO,CAACiB,GAAG,CAACJ,EAAWG,SAAS,EAHhD,MAAM,IAAIpB,EAAOsB,KAAK,CAAC,2BAA4B,uBAOpD,IAAMd,EAAKV,EAAYM,OAAO,CAACmB,GAAG,CAACN,EAAWG,SAAS,CACvDZ,OAAAA,GAAAA,EAAKI,EAASK,EAAWO,MAAM,CAChC\"}"}