{"code":"function module(e,a,t){let s,l,n,i,r,d,o,u,m,c,v,g,k;t.link(\"@babel/runtime/helpers/extends\",{default(e){s=e}},0),t.export({MessageListItem:()=>f}),t.link(\"@rocket.chat/core-typings\",{isThreadMessage(e){l=e}},0),t.link(\"@rocket.chat/fuselage\",{Box(e){n=e},Bubble(e){i=e},MessageDivider(e){r=e}},1),t.link(\"react\",{default(e){d=e}},2),t.link(\"react-i18next\",{useTranslation(e){o=e}},3),t.link(\"../../../components/message/variants/RoomMessage\",{default(e){u=e}},4),t.link(\"../../../components/message/variants/SystemMessage\",{default(e){m=e}},5),t.link(\"../../../components/message/variants/ThreadMessagePreview\",{default(e){c=e}},6),t.link(\"../../../hooks/useFormatDate\",{useFormatDate(e){v=e}},7),t.link(\"../providers/DateListProvider\",{useDateRef(e){g=e}},8),t.link(\"./lib/isMessageNewDay\",{isMessageNewDay(e){k=e}},9);let f=e=>{var a,t,f,h;let{message:p,previous:M,showUnreadDivider:w,sequential:D,showUserAvatar:E,visible:b,subscription:U,system:_}=e,{t:y}=o(),x=v(),A=g(),L=k(p,M),T=L||w,q=!!(null==U?void 0:null===(a=U.tunread)||void 0===a?void 0:a.includes(p._id)),F=!!(null==U?void 0:null===(t=U.tunreadUser)||void 0===t?void 0:t.includes(p._id)),S=!!(null==U?void 0:null===(f=U.tunreadGroup)||void 0===f?void 0:f.includes(p._id)),B=!!(null==U?void 0:null===(h=U.ignored)||void 0===h?void 0:h.includes(p.u._id)),I=D&&!L;return d.createElement(d.Fragment,null,T&&d.createElement(n,s({ref:A,\"data-id\":p.ts,role:\"listitem\"},L&&{\"data-time\":new Date(p.ts).toISOString().replaceAll(/[-T:.]/g,\"\").substring(0,8)}),d.createElement(r,{unreadLabel:w?y(\"Unread_Messages\").toLowerCase():void 0},L&&d.createElement(i,{small:!0,secondary:!0},x(p.ts)))),b&&d.createElement(u,{message:p,showUserAvatar:E,sequential:I,unread:q,mention:F,all:S,ignoredUser:B}),l(p)&&d.createElement(\"li\",null,d.createElement(c,{\"data-mid\":p._id,\"data-tmid\":p.tmid,\"data-unread\":w,\"data-sequential\":D,sequential:I,message:p,showUserAvatar:E})),_&&d.createElement(m,{showUserAvatar:E,message:p}))}}","map":"{\"version\":3,\"sources\":[\"client/views/room/MessageList/MessageListItem.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { isThreadMessage, type IMessage, type ISubscription } from '@rocket.chat/core-typings';\\nimport { Box, Bubble, MessageDivider } from '@rocket.chat/fuselage';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport RoomMessage from '../../../components/message/variants/RoomMessage';\\nimport SystemMessage from '../../../components/message/variants/SystemMessage';\\nimport ThreadMessagePreview from '../../../components/message/variants/ThreadMessagePreview';\\nimport { useFormatDate } from '../../../hooks/useFormatDate';\\nimport { useDateRef } from '../providers/DateListProvider';\\nimport { isMessageNewDay } from './lib/isMessageNewDay';\\n\\ntype MessageListItemProps = {\\n\\tmessage: IMessage;\\n\\tprevious?: IMessage;\\n\\tshowUnreadDivider: boolean;\\n\\n\\tsequential: boolean;\\n\\tshowUserAvatar: boolean;\\n\\tvisible: boolean;\\n\\tsubscription: ISubscription | undefined;\\n\\tsystem: boolean;\\n};\\nexport const MessageListItem = ({\\n\\tmessage,\\n\\tprevious,\\n\\tshowUnreadDivider,\\n\\tsequential,\\n\\tshowUserAvatar,\\n\\tvisible,\\n\\tsubscription,\\n\\tsystem,\\n}: MessageListItemProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst formatDate = useFormatDate();\\n\\n\\tconst ref = useDateRef();\\n\\n\\tconst newDay = isMessageNewDay(message, previous);\\n\\tconst showDivider = newDay || showUnreadDivider;\\n\\tconst unread = Boolean(subscription?.tunread?.includes(message._id));\\n\\tconst mention = Boolean(subscription?.tunreadUser?.includes(message._id));\\n\\tconst all = Boolean(subscription?.tunreadGroup?.includes(message._id));\\n\\tconst ignoredUser = Boolean(subscription?.ignored?.includes(message.u._id));\\n\\tconst shouldShowAsSequential = sequential && !newDay;\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{showDivider && (\\n\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\tref={ref}\\n\\t\\t\\t\\t\\tdata-id={message.ts}\\n\\t\\t\\t\\t\\trole='listitem'\\n\\t\\t\\t\\t\\t{...(newDay && {\\n\\t\\t\\t\\t\\t\\t'data-time': new Date(message.ts)\\n\\t\\t\\t\\t\\t\\t\\t.toISOString()\\n\\t\\t\\t\\t\\t\\t\\t.replaceAll(/[-T:.]/g, '')\\n\\t\\t\\t\\t\\t\\t\\t.substring(0, 8),\\n\\t\\t\\t\\t\\t})}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<MessageDivider unreadLabel={showUnreadDivider ? t('Unread_Messages').toLowerCase() : undefined}>\\n\\t\\t\\t\\t\\t\\t{newDay && (\\n\\t\\t\\t\\t\\t\\t\\t<Bubble small secondary>\\n\\t\\t\\t\\t\\t\\t\\t\\t{formatDate(message.ts)}\\n\\t\\t\\t\\t\\t\\t\\t</Bubble>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</MessageDivider>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t)}\\n\\t\\t\\t{visible && (\\n\\t\\t\\t\\t<RoomMessage\\n\\t\\t\\t\\t\\tmessage={message}\\n\\t\\t\\t\\t\\tshowUserAvatar={showUserAvatar}\\n\\t\\t\\t\\t\\tsequential={shouldShowAsSequential}\\n\\t\\t\\t\\t\\tunread={unread}\\n\\t\\t\\t\\t\\tmention={mention}\\n\\t\\t\\t\\t\\tall={all}\\n\\t\\t\\t\\t\\tignoredUser={ignoredUser}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\t\\t\\t{isThreadMessage(message) && (\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t<ThreadMessagePreview\\n\\t\\t\\t\\t\\t\\tdata-mid={message._id}\\n\\t\\t\\t\\t\\t\\tdata-tmid={message.tmid}\\n\\t\\t\\t\\t\\t\\tdata-unread={showUnreadDivider}\\n\\t\\t\\t\\t\\t\\tdata-sequential={sequential}\\n\\t\\t\\t\\t\\t\\tsequential={shouldShowAsSequential}\\n\\t\\t\\t\\t\\t\\tmessage={message}\\n\\t\\t\\t\\t\\t\\tshowUserAvatar={showUserAvatar}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t)}\\n\\t\\t\\t{system && <SystemMessage showUserAvatar={showUserAvatar} message={message} />}\\n\\t\\t</>\\n\\t);\\n};\\n\",null],\"names\":[\"_extends\",\"isThreadMessage\",\"Box\",\"Bubble\",\"MessageDivider\",\"React\",\"useTranslation\",\"RoomMessage\",\"SystemMessage\",\"ThreadMessagePreview\",\"useFormatDate\",\"useDateRef\",\"isMessageNewDay\",\"module\",\"link\",\"default\",\"v\",\"export\",\"MessageListItem\",\"_ref\",\"_subscription$tunread\",\"_subscription$tunread2\",\"_subscription$tunread3\",\"_subscription$ignored\",\"message\",\"previous\",\"showUnreadDivider\",\"sequential\",\"showUserAvatar\",\"visible\",\"subscription\",\"system\",\"t\",\"formatDate\",\"ref\",\"newDay\",\"showDivider\",\"unread\",\"Boolean\",\"tunread\",\"includes\",\"_id\",\"mention\",\"tunreadUser\",\"all\",\"tunreadGroup\",\"ignoredUser\",\"ignored\",\"u\",\"shouldShowAsSequential\",\"createElement\",\"Fragment\",\"ts\",\"role\",\"Date\",\"toISOString\",\"replaceAll\",\"substring\",\"unreadLabel\",\"toLowerCase\",\"undefined\",\"small\",\"secondary\",\"tmid\"],\"mappings\":\"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\"}"}