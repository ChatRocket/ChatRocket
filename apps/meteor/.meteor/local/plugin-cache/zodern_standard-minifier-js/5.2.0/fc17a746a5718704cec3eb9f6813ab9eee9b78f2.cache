{"code":"function module(t,e,a){let r,n,u,d;a.link(\"@babel/runtime/helpers/objectSpread2\",{default(t){r=t}},0),a.export({useHourlyChatActivity:()=>o}),a.link(\"@rocket.chat/ui-contexts\",{useEndpoint(t){n=t}},0),a.link(\"@tanstack/react-query\",{useQuery(t){u=t}},1),a.link(\"moment\",{default(t){d=t}},2);let o=t=>{let{displacement:e,utc:a}=t,o=n(\"GET\",\"/v1/engagement-dashboard/users/chat-busier/hourly-data\");return u([\"admin/engagement-dashboard/users/hourly-chat-activity\",{displacement:e,utc:a}],async()=>{let t=(a?d.utc().endOf(\"day\"):d().endOf(\"day\")).subtract(e,\"days\").toDate(),n=await o({start:t.toISOString()});return n?r(r({},n),{},{day:t}):void 0},{refetchInterval:3e5,useErrorBoundary:!0})}}","map":"{\"version\":3,\"sources\":[\"client/views/admin/engagementDashboard/users/useHourlyChatActivity.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport moment from 'moment';\\n\\ntype UseHourlyChatActivityOptions = {\\n\\tdisplacement: number;\\n\\tutc: boolean;\\n};\\n\\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\\nexport const useHourlyChatActivity = ({ displacement, utc }: UseHourlyChatActivityOptions) => {\\n\\tconst getHourlyChatActivity = useEndpoint('GET', '/v1/engagement-dashboard/users/chat-busier/hourly-data');\\n\\n\\treturn useQuery(\\n\\t\\t['admin/engagement-dashboard/users/hourly-chat-activity', { displacement, utc }],\\n\\t\\tasync () => {\\n\\t\\t\\tconst day = (utc ? moment.utc().endOf('day') : moment().endOf('day')).subtract(displacement, 'days').toDate();\\n\\n\\t\\t\\tconst response = await getHourlyChatActivity({\\n\\t\\t\\t\\tstart: day.toISOString(),\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn response\\n\\t\\t\\t\\t? {\\n\\t\\t\\t\\t\\t\\t...response,\\n\\t\\t\\t\\t\\t\\tday,\\n\\t\\t\\t\\t  }\\n\\t\\t\\t\\t: undefined;\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\trefetchInterval: 5 * 60 * 1000,\\n\\t\\t\\tuseErrorBoundary: true,\\n\\t\\t},\\n\\t);\\n};\\n\",null],\"names\":[\"_objectSpread\",\"useEndpoint\",\"useQuery\",\"moment\",\"module\",\"link\",\"default\",\"v\",\"export\",\"useHourlyChatActivity\",\"_ref\",\"displacement\",\"utc\",\"getHourlyChatActivity\",\"day\",\"endOf\",\"subtract\",\"toDate\",\"response\",\"start\",\"toISOString\",\"undefined\",\"refetchInterval\",\"useErrorBoundary\"],\"mappings\":\"2BAAAA,EAAuDC,EAAAC,EAAAC,EAA9CC,EAAaC,IAAM,CAAA,uCAA2B,CAAAC,QAAAC,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAvDH,EAAOI,MAAE,CAAA,CAAAC,sBAAmBA,IAAAA,CAA2B,GAAAL,EAAAC,IAAA,CAAA,2BAAA,CAAAJ,YAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAH,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,SAAA,CAAAC,QAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAUhD,IAAME,EAAwBC,IAAwD,GAAvD,CAAEC,aAAAA,CAAY,CAAEC,IAAAA,CAAAA,CAAmC,CAAAF,EAClFG,EAAwBZ,EAAY,MAAO,0DAEjD,OAAOC,EACN,CAAC,wDAAyD,CAAES,aAAAA,EAAcC,IAAAA,CAAG,EAAG,CAChF,UACC,IAAME,EAAM,AAACF,CAAAA,EAAMT,EAAOS,GAAG,GAAGG,KAAK,CAAC,OAASZ,IAASY,KAAK,CAAC,MAAK,EAAGC,QAAQ,CAACL,EAAc,QAAQM,MAAM,GAErGC,EAAW,MAAML,EAAsB,CAC5CM,MAAOL,EAAIM,WAAW,KAGvB,OAAOF,EAAQlB,EAAAA,EAAA,CAAA,EAETkB,GAAQ,CAAA,EAAA,CACXJ,IAAAA,CAAG,GAEHO,KAAAA,CACJ,EACA,CACCC,gBAAiB,IACjBC,iBAAkB,CAAA,GAGrB\"}"}