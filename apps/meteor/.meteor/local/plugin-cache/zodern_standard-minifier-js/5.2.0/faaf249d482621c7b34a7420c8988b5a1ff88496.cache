{"code":"function module(e,n,t){var r,i,a,o,u,l,c,s,d,f,m,p,v,b,g,h,k,w,x,y,S,T,E,_,I,A,C,q,z,D,M,R,V,j,B,L,U,N,P,F,K,$,O=[\"setValue\"];t.link(\"@babel/runtime/helpers/extends\",{default:function(e){u=e}},0),t.link(\"@babel/runtime/helpers/taggedTemplateLiteralLoose\",{default:function(e){l=e}},1),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){c=e}},2),t.link(\"@babel/runtime/regenerator\",{default:function(e){s=e}},3),t.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){d=e}},4),t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){f=e}},5),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){m=e}},6),t.link(\"@rocket.chat/css-in-js\",{css:function(e){p=e}},0),t.link(\"@rocket.chat/fuselage\",{Sidebar:function(e){v=e},TextInput:function(e){b=e},Box:function(e){g=e},Icon:function(e){h=e}},1),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){k=e},useDebouncedValue:function(e){w=e},useAutoFocus:function(e){x=e},useUniqueId:function(e){y=e},useMergedRefs:function(e){S=e}},2),t.link(\"@rocket.chat/string-helpers\",{escapeRegExp:function(e){T=e}},3),t.link(\"@rocket.chat/ui-contexts\",{useUserPreference:function(e){E=e},useUserSubscriptions:function(e){_=e},useSetting:function(e){I=e},useTranslation:function(e){A=e},useMethod:function(e){C=e}},4),t.link(\"@tanstack/react-query\",{useQuery:function(e){q=e}},5),t.link(\"react\",{default:function(e){z=e},forwardRef:function(e){D=e},useState:function(e){M=e},useMemo:function(e){R=e},useEffect:function(e){V=e},useRef:function(e){j=e}},6),t.link(\"react-virtuoso\",{Virtuoso:function(e){B=e}},7),t.link(\"tinykeys\",{default:function(e){L=e}},8),t.link(\"../../components/CustomScrollbars\",{VirtuosoScrollbars:function(e){U=e}},9),t.link(\"../../lib/utils/getConfig\",{getConfig:function(e){N=e}},10),t.link(\"../hooks/useAvatarTemplate\",{useAvatarTemplate:function(e){P=e}},11),t.link(\"../hooks/usePreventDefault\",{usePreventDefault:function(e){F=e}},12),t.link(\"../hooks/useTemplateByViewMode\",{useTemplateByViewMode:function(e){K=e}},13),t.link(\"./Row\",{default:function(e){$=e}},14);var Q=null!==(a=navigator.userAgentData)&&void 0!==a&&a.mobile||(i=!1,r=navigator.userAgent||navigator.vendor||window.opera||\"\",(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(r.substr(0,4)))&&(i=!0),i)?\"\":window.navigator.platform.toLowerCase().includes(\"mac\")?\"(âŒ˜+K)\":\"(Ctrl+K)\",W=parseInt(String(N(\"Sidebar_Search_Spotlight_LIMIT\",20))),G={sort:{lm:-1,name:1},limit:W},H=function(e){var n=R(function(){return e.match(/(@|#)?(.*)/i)||[]},[e]),t=m(n,3),r=t[1],i=t[2],a=R(function(){var e=RegExp(T(i),\"i\");return f({$or:[{name:e},{fname:e}]},r&&{t:\"@\"===r?\"d\":{$ne:\"d\"}})},[i,r]),o=_(a,G),u=d(null==o?void 0:o.map(function(e){var n=e.t,t=e.name;return\"d\"===n?t:null})).filter(Boolean),l=\"#\"===r,c=\"@\"===r,p=R(function(){return l?{users:!1,rooms:!0,includeFederatedRooms:!0}:c?{users:!0,rooms:!1}:{users:!0,rooms:!0,includeFederatedRooms:!0}},[l,c]),v=C(\"spotlight\");return q([\"sidebar/search/spotlight\",i,u,p,o.map(function(e){return e._id+e.name})],function(){var e,n,t,r,a,l,c;return s.async(function(f){for(;;)switch(f.prev=f.next){case 0:if(o.length!==W){f.next=2;break}return f.abrupt(\"return\",o);case 2:return f.next=4,s.awrap(v(i,u,p));case 4:return e=f.sent,n=function(e,n,t){var r=e._id;return n===t.findIndex(function(e){return r===e._id})},t=function(e){return!o.find(function(n){var t;return\"d\"===e.t&&e.uids&&e.uids.length>1&&(null===(t=e.uids)||void 0===t?void 0:t.includes(n._id))||[n.rid,n._id].includes(e._id)})},r=function(e){return!o.find(function(n){var t;return\"d\"===n.t&&n.uids&&(null===(t=n.uids)||void 0===t?void 0:t.length)===2&&n.uids.includes(e._id)})},a=function(e){return{_id:e._id,t:\"d\",name:e.username,fname:e.name,avatarETag:e.avatarETag}},(l=[]).push.apply(l,d(e.users.filter(n).filter(r).map(a))),l.push.apply(l,d(e.rooms.filter(t))),c=null==l?void 0:l.filter(function(e){return[e.name,e.fname].includes(i)}),f.abrupt(\"return\",Array.from(new Set([].concat(d(c),d(o),l))));case 14:case\"end\":return f.stop()}},null,null,null,Promise)},{staleTime:6e4,keepPreviousData:!0,placeholderData:o})},J=function(e){var n=M(e),t=m(n,2),r=t[0],i=t[1];return{value:r,onChange:k(function(e){i(e.currentTarget.value)}),setValue:i}},X=function(e,n,t){null==t||t.setAttribute(\"aria-activedescendant\",e.id),e.setAttribute(\"aria-selected\",\"true\"),e.classList.add(\"rcx-sidebar-item--selected\"),n&&(n.removeAttribute(\"aria-selected\"),n.classList.remove(\"rcx-sidebar-item--selected\"))},Y=D(function(e,n){var t=e.onClose,r=y(),i=A(),a=J(\"\"),s=a.setValue,d=c(a,O),f=j(null),m=S(x(),f),T=j(null),_=j(null),C=j(null),q=j(0),D=E(\"sidebarViewMode\"),M=I(\"UI_Use_Real_Name\"),N=K(),W=P(),G=\"extended\"===D,Y=w(d.value,100),Z=[i(\"Search\"),Q].filter(Boolean).join(\" \"),ee=H(Y),en=ee.data,et=void 0===en?[]:en,er=ee.isLoading,ei=R(function(){return{items:et,t:i,SideBarItemTemplate:N,avatarTemplate:W,useRealName:M,extended:G,sidebarViewMode:D}},[W,G,et,M,N,D,i]),ea=k(function(e){var n=null;if(\"up\"===e){var t,r,i=null===(t=C.current)||void 0===t?void 0:null===(r=t.parentElement)||void 0===r?void 0:r.previousSibling;i&&(n=i.querySelector(\"a\"))}else{var a,o,u=null===(a=C.current)||void 0===a?void 0:null===(o=a.parentElement)||void 0===o?void 0:o.nextSibling;u&&(n=u.querySelector(\"a\"))}return n?(X(n,C.current||void 0,(null==f?void 0:f.current)||void 0),n):C.current}),eo=k(function(){setTimeout(function(){var e,n;q.current=0,null===(e=T.current)||void 0===e||e.scrollToIndex({index:q.current}),C.current=null===(n=_.current)||void 0===n?void 0:n.querySelector(\"a.rcx-sidebar-item\"),C.current&&X(C.current,void 0,(null==f?void 0:f.current)||void 0)},0)});return F(_),V(function(){eo()}),V(function(){eo()},[Y,eo]),V(function(){if(null!=f&&f.current)return L(null==f?void 0:f.current,{Escape:function(e){e.preventDefault(),s(function(e){return e||t(),eo(),\"\"})},Tab:t,ArrowUp:function(){var e,n=ea(\"up\");q.current=Math.max(q.current-1,0),null===(e=T.current)||void 0===e||e.scrollToIndex({index:q.current}),C.current=n},ArrowDown:function(){var e,n=ea(\"down\");q.current=Math.min(q.current+1,et.length+1),null===(e=T.current)||void 0===e||e.scrollToIndex({index:q.current}),C.current=n},Enter:function(e){e.preventDefault(),C.current&&et.length>0?C.current.click():t()}})},[f,ea,et.length,t,eo,s]),z.createElement(g,{position:\"absolute\",\"rcx-sidebar\":!0,h:\"full\",display:\"flex\",flexDirection:\"column\",zIndex:99,w:\"full\",className:p(o||(o=l([\"\\n\t\t\t\tleft: 0;\\n\t\t\t\ttop: 0;\\n\t\t\t\"]))),ref:n,role:\"search\"},z.createElement(v.TopBar.Section,{flexShrink:0,is:\"form\"},z.createElement(g,{mb:\"x12\",w:\"full\"},z.createElement(b,u({\"aria-owns\":r,\"data-qa\":\"sidebar-search-input\",ref:m},d,{placeholder:Z,role:\"searchbox\",addon:z.createElement(h,{name:\"cross\",size:\"x20\",onClick:t})})))),z.createElement(g,{ref:_,role:\"listbox\",id:r,tabIndex:-1,flexShrink:1,h:\"full\",w:\"full\",\"data-qa\":\"sidebar-search-result\",\"aria-live\":\"polite\",\"aria-atomic\":\"true\",\"aria-busy\":er,onClick:function(e){var n;if(!(e.target instanceof Element&&[e.target.tagName,null===(n=e.target.parentElement)||void 0===n?void 0:n.tagName].includes(\"BUTTON\")))return t()}},z.createElement(B,{style:{height:\"100%\",width:\"100%\"},totalCount:et.length,data:et,components:{Scroller:U},computeItemKey:function(e,n){return n._id},itemContent:function(e,n){return z.createElement($,{data:ei,item:n})},ref:T})))});t.exportDefault(Y)}","map":"{\"version\":3,\"sources\":[\"client/sidebar/search/SearchList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom, ISubscription } from '@rocket.chat/core-typings';\\nimport { css } from '@rocket.chat/css-in-js';\\nimport { Sidebar, TextInput, Box, Icon } from '@rocket.chat/fuselage';\\nimport { useMutableCallback, useDebouncedValue, useAutoFocus, useUniqueId, useMergedRefs } from '@rocket.chat/fuselage-hooks';\\nimport { escapeRegExp } from '@rocket.chat/string-helpers';\\nimport { useUserPreference, useUserSubscriptions, useSetting, useTranslation, useMethod } from '@rocket.chat/ui-contexts';\\nimport type { UseQueryResult } from '@tanstack/react-query';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement, MutableRefObject, SetStateAction, Dispatch, FormEventHandler, Ref, MouseEventHandler } from 'react';\\nimport React, { forwardRef, useState, useMemo, useEffect, useRef } from 'react';\\nimport type { VirtuosoHandle } from 'react-virtuoso';\\nimport { Virtuoso } from 'react-virtuoso';\\nimport tinykeys from 'tinykeys';\\n\\nimport { VirtuosoScrollbars } from '../../components/CustomScrollbars';\\nimport { getConfig } from '../../lib/utils/getConfig';\\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\\nimport { usePreventDefault } from '../hooks/usePreventDefault';\\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\\nimport Row from './Row';\\n\\nconst mobileCheck = function () {\\n\\tlet check = false;\\n\\t(function (a: string) {\\n\\t\\tif (\\n\\t\\t\\t/(android|bb\\\\d+|meego).+mobile|avantgo|bada\\\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\\n\\t\\t\\t\\ta,\\n\\t\\t\\t) ||\\n\\t\\t\\t/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(\\n\\t\\t\\t\\ta.substr(0, 4),\\n\\t\\t\\t)\\n\\t\\t)\\n\\t\\t\\tcheck = true;\\n\\t})(navigator.userAgent || navigator.vendor || window.opera || '');\\n\\treturn check;\\n};\\n\\ndeclare global {\\n\\t// eslint-disable-next-line @typescript-eslint/naming-convention\\n\\tinterface Window {\\n\\t\\topera?: string;\\n\\t}\\n\\t// eslint-disable-next-line @typescript-eslint/naming-convention\\n\\tinterface Navigator {\\n\\t\\tuserAgentData?: {\\n\\t\\t\\tmobile: boolean;\\n\\t\\t};\\n\\t}\\n}\\n\\nconst shortcut = ((): string => {\\n\\tif (navigator.userAgentData?.mobile || mobileCheck()) {\\n\\t\\treturn '';\\n\\t}\\n\\tif (window.navigator.platform.toLowerCase().includes('mac')) {\\n\\t\\treturn '(\\\\u2318+K)';\\n\\t}\\n\\treturn '(Ctrl+K)';\\n})();\\n\\nconst LIMIT = parseInt(String(getConfig('Sidebar_Search_Spotlight_LIMIT', 20)));\\n\\nconst options = {\\n\\tsort: {\\n\\t\\tlm: -1,\\n\\t\\tname: 1,\\n\\t},\\n\\tlimit: LIMIT,\\n} as const;\\n\\nconst useSearchItems = (filterText: string): UseQueryResult<(ISubscription & IRoom)[] | undefined, Error> => {\\n\\tconst [, mention, name] = useMemo(() => filterText.match(/(@|#)?(.*)/i) || [], [filterText]);\\n\\tconst query = useMemo(() => {\\n\\t\\tconst filterRegex = new RegExp(escapeRegExp(name), 'i');\\n\\n\\t\\treturn {\\n\\t\\t\\t$or: [{ name: filterRegex }, { fname: filterRegex }],\\n\\t\\t\\t...(mention && {\\n\\t\\t\\t\\tt: mention === '@' ? 'd' : { $ne: 'd' },\\n\\t\\t\\t}),\\n\\t\\t};\\n\\t}, [name, mention]);\\n\\n\\tconst localRooms = useUserSubscriptions(query, options);\\n\\n\\tconst usernamesFromClient = [...localRooms?.map(({ t, name }) => (t === 'd' ? name : null))].filter(Boolean) as string[];\\n\\n\\tconst searchForChannels = mention === '#';\\n\\tconst searchForDMs = mention === '@';\\n\\n\\tconst type = useMemo(() => {\\n\\t\\tif (searchForChannels) {\\n\\t\\t\\treturn { users: false, rooms: true, includeFederatedRooms: true };\\n\\t\\t}\\n\\t\\tif (searchForDMs) {\\n\\t\\t\\treturn { users: true, rooms: false };\\n\\t\\t}\\n\\t\\treturn { users: true, rooms: true, includeFederatedRooms: true };\\n\\t}, [searchForChannels, searchForDMs]);\\n\\n\\tconst getSpotlight = useMethod('spotlight');\\n\\n\\treturn useQuery(\\n\\t\\t['sidebar/search/spotlight', name, usernamesFromClient, type, localRooms.map(({ _id, name }) => _id + name)],\\n\\t\\tasync () => {\\n\\t\\t\\tif (localRooms.length === LIMIT) {\\n\\t\\t\\t\\treturn localRooms;\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst spotlight = await getSpotlight(name, usernamesFromClient, type);\\n\\n\\t\\t\\tconst filterUsersUnique = ({ _id }: { _id: string }, index: number, arr: { _id: string }[]): boolean =>\\n\\t\\t\\t\\tindex === arr.findIndex((user) => _id === user._id);\\n\\n\\t\\t\\tconst roomFilter = (room: { t: string; uids?: string[]; _id: string; name?: string }): boolean =>\\n\\t\\t\\t\\t!localRooms.find(\\n\\t\\t\\t\\t\\t(item) =>\\n\\t\\t\\t\\t\\t\\t(room.t === 'd' && room.uids && room.uids.length > 1 && room.uids?.includes(item._id)) ||\\n\\t\\t\\t\\t\\t\\t[item.rid, item._id].includes(room._id),\\n\\t\\t\\t\\t);\\n\\t\\t\\tconst usersFilter = (user: { _id: string }): boolean =>\\n\\t\\t\\t\\t!localRooms.find((room) => room.t === 'd' && room.uids && room.uids?.length === 2 && room.uids.includes(user._id));\\n\\n\\t\\t\\tconst userMap = (user: {\\n\\t\\t\\t\\t_id: string;\\n\\t\\t\\t\\tname: string;\\n\\t\\t\\t\\tusername: string;\\n\\t\\t\\t\\tavatarETag?: string;\\n\\t\\t\\t}): {\\n\\t\\t\\t\\t_id: string;\\n\\t\\t\\t\\tt: string;\\n\\t\\t\\t\\tname: string;\\n\\t\\t\\t\\tfname: string;\\n\\t\\t\\t\\tavatarETag?: string;\\n\\t\\t\\t} => ({\\n\\t\\t\\t\\t_id: user._id,\\n\\t\\t\\t\\tt: 'd',\\n\\t\\t\\t\\tname: user.username,\\n\\t\\t\\t\\tfname: user.name,\\n\\t\\t\\t\\tavatarETag: user.avatarETag,\\n\\t\\t\\t});\\n\\n\\t\\t\\ttype resultsFromServerType = {\\n\\t\\t\\t\\t_id: string;\\n\\t\\t\\t\\tt: string;\\n\\t\\t\\t\\tname: string;\\n\\t\\t\\t\\tteamMain?: boolean;\\n\\t\\t\\t\\tfname?: string;\\n\\t\\t\\t\\tavatarETag?: string | undefined;\\n\\t\\t\\t\\tuids?: string[] | undefined;\\n\\t\\t\\t}[];\\n\\n\\t\\t\\tconst resultsFromServer: resultsFromServerType = [];\\n\\t\\t\\tresultsFromServer.push(...spotlight.users.filter(filterUsersUnique).filter(usersFilter).map(userMap));\\n\\t\\t\\tresultsFromServer.push(...spotlight.rooms.filter(roomFilter));\\n\\n\\t\\t\\tconst exact = resultsFromServer?.filter((item) => [item.name, item.fname].includes(name));\\n\\t\\t\\treturn Array.from(new Set([...exact, ...localRooms, ...resultsFromServer]));\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tstaleTime: 60_000,\\n\\t\\t\\tkeepPreviousData: true,\\n\\t\\t\\tplaceholderData: localRooms,\\n\\t\\t},\\n\\t);\\n};\\n\\nconst useInput = (initial: string): { value: string; onChange: FormEventHandler; setValue: Dispatch<SetStateAction<string>> } => {\\n\\tconst [value, setValue] = useState(initial);\\n\\tconst onChange = useMutableCallback((e) => {\\n\\t\\tsetValue(e.currentTarget.value);\\n\\t});\\n\\treturn { value, onChange, setValue };\\n};\\n\\nconst toggleSelectionState = (next: HTMLElement, current: HTMLElement | undefined, input: HTMLElement | undefined): void => {\\n\\tinput?.setAttribute('aria-activedescendant', next.id);\\n\\tnext.setAttribute('aria-selected', 'true');\\n\\tnext.classList.add('rcx-sidebar-item--selected');\\n\\tif (current) {\\n\\t\\tcurrent.removeAttribute('aria-selected');\\n\\t\\tcurrent.classList.remove('rcx-sidebar-item--selected');\\n\\t}\\n};\\n\\n/**\\n * @type import('react').ForwardRefExoticComponent<{ onClose: unknown } & import('react').RefAttributes<HTMLElement>>\\n */\\n\\ntype SearchListProps = {\\n\\tonClose: () => void;\\n};\\n\\nconst SearchList = forwardRef(function SearchList({ onClose }: SearchListProps, ref): ReactElement {\\n\\tconst listId = useUniqueId();\\n\\tconst t = useTranslation();\\n\\tconst { setValue: setFilterValue, ...filter } = useInput('');\\n\\n\\tconst cursorRef = useRef<HTMLInputElement>(null);\\n\\tconst autofocus: Ref<HTMLInputElement> = useMergedRefs(useAutoFocus<HTMLInputElement>(), cursorRef);\\n\\n\\tconst listRef = useRef<VirtuosoHandle>(null);\\n\\tconst boxRef = useRef<HTMLDivElement>(null);\\n\\n\\tconst selectedElement: MutableRefObject<HTMLElement | null | undefined> = useRef(null);\\n\\tconst itemIndexRef = useRef(0);\\n\\n\\tconst sidebarViewMode = useUserPreference('sidebarViewMode');\\n\\tconst useRealName = useSetting('UI_Use_Real_Name');\\n\\n\\tconst sideBarItemTemplate = useTemplateByViewMode();\\n\\tconst avatarTemplate = useAvatarTemplate();\\n\\n\\tconst extended = sidebarViewMode === 'extended';\\n\\n\\tconst filterText = useDebouncedValue(filter.value, 100);\\n\\n\\tconst placeholder = [t('Search'), shortcut].filter(Boolean).join(' ');\\n\\n\\tconst { data: items = [], isLoading } = useSearchItems(filterText);\\n\\n\\tconst itemData = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\titems,\\n\\t\\t\\tt,\\n\\t\\t\\tSideBarItemTemplate: sideBarItemTemplate,\\n\\t\\t\\tavatarTemplate,\\n\\t\\t\\tuseRealName,\\n\\t\\t\\textended,\\n\\t\\t\\tsidebarViewMode,\\n\\t\\t}),\\n\\t\\t[avatarTemplate, extended, items, useRealName, sideBarItemTemplate, sidebarViewMode, t],\\n\\t);\\n\\n\\tconst changeSelection = useMutableCallback((dir) => {\\n\\t\\tlet nextSelectedElement = null;\\n\\n\\t\\tif (dir === 'up') {\\n\\t\\t\\tconst potentialElement = selectedElement.current?.parentElement?.previousSibling as HTMLElement;\\n\\t\\t\\tif (potentialElement) {\\n\\t\\t\\t\\tnextSelectedElement = potentialElement.querySelector('a');\\n\\t\\t\\t}\\n\\t\\t} else {\\n\\t\\t\\tconst potentialElement = selectedElement.current?.parentElement?.nextSibling as HTMLElement;\\n\\t\\t\\tif (potentialElement) {\\n\\t\\t\\t\\tnextSelectedElement = potentialElement.querySelector('a');\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (nextSelectedElement) {\\n\\t\\t\\ttoggleSelectionState(nextSelectedElement, selectedElement.current || undefined, cursorRef?.current || undefined);\\n\\t\\t\\treturn nextSelectedElement;\\n\\t\\t}\\n\\t\\treturn selectedElement.current;\\n\\t});\\n\\n\\tconst resetCursor = useMutableCallback(() => {\\n\\t\\tsetTimeout(() => {\\n\\t\\t\\titemIndexRef.current = 0;\\n\\t\\t\\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\\n\\t\\t\\tselectedElement.current = boxRef.current?.querySelector('a.rcx-sidebar-item');\\n\\t\\t\\tif (selectedElement.current) {\\n\\t\\t\\t\\ttoggleSelectionState(selectedElement.current, undefined, cursorRef?.current || undefined);\\n\\t\\t\\t}\\n\\t\\t}, 0);\\n\\t});\\n\\n\\tusePreventDefault(boxRef);\\n\\n\\tuseEffect(() => {\\n\\t\\tresetCursor();\\n\\t});\\n\\n\\tuseEffect(() => {\\n\\t\\tresetCursor();\\n\\t}, [filterText, resetCursor]);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!cursorRef?.current) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\treturn tinykeys(cursorRef?.current, {\\n\\t\\t\\tEscape: (event) => {\\n\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\tsetFilterValue((value) => {\\n\\t\\t\\t\\t\\tif (!value) {\\n\\t\\t\\t\\t\\t\\tonClose();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tresetCursor();\\n\\t\\t\\t\\t\\treturn '';\\n\\t\\t\\t\\t});\\n\\t\\t\\t},\\n\\t\\t\\tTab: onClose,\\n\\t\\t\\tArrowUp: () => {\\n\\t\\t\\t\\tconst currentElement = changeSelection('up');\\n\\t\\t\\t\\titemIndexRef.current = Math.max(itemIndexRef.current - 1, 0);\\n\\t\\t\\t\\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\\n\\t\\t\\t\\tselectedElement.current = currentElement;\\n\\t\\t\\t},\\n\\t\\t\\tArrowDown: () => {\\n\\t\\t\\t\\tconst currentElement = changeSelection('down');\\n\\t\\t\\t\\titemIndexRef.current = Math.min(itemIndexRef.current + 1, items.length + 1);\\n\\t\\t\\t\\tlistRef.current?.scrollToIndex({ index: itemIndexRef.current });\\n\\t\\t\\t\\tselectedElement.current = currentElement;\\n\\t\\t\\t},\\n\\t\\t\\tEnter: (event) => {\\n\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\tif (selectedElement.current && items.length > 0) {\\n\\t\\t\\t\\t\\tselectedElement.current.click();\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tonClose();\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t});\\n\\t}, [cursorRef, changeSelection, items.length, onClose, resetCursor, setFilterValue]);\\n\\n\\tconst handleClick: MouseEventHandler<HTMLElement> = (e): void => {\\n\\t\\tif (e.target instanceof Element && [e.target.tagName, e.target.parentElement?.tagName].includes('BUTTON')) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\treturn onClose();\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Box\\n\\t\\t\\tposition='absolute'\\n\\t\\t\\trcx-sidebar\\n\\t\\t\\th='full'\\n\\t\\t\\tdisplay='flex'\\n\\t\\t\\tflexDirection='column'\\n\\t\\t\\tzIndex={99}\\n\\t\\t\\tw='full'\\n\\t\\t\\tclassName={css`\\n\\t\\t\\t\\tleft: 0;\\n\\t\\t\\t\\ttop: 0;\\n\\t\\t\\t`}\\n\\t\\t\\tref={ref}\\n\\t\\t\\trole='search'\\n\\t\\t>\\n\\t\\t\\t<Sidebar.TopBar.Section {...({ flexShrink: 0 } as any)} is='form'>\\n\\t\\t\\t\\t<Box mb='x12' w='full'>\\n\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\taria-owns={listId}\\n\\t\\t\\t\\t\\t\\tdata-qa='sidebar-search-input'\\n\\t\\t\\t\\t\\t\\tref={autofocus}\\n\\t\\t\\t\\t\\t\\t{...filter}\\n\\t\\t\\t\\t\\t\\tplaceholder={placeholder}\\n\\t\\t\\t\\t\\t\\trole='searchbox'\\n\\t\\t\\t\\t\\t\\taddon={<Icon name='cross' size='x20' onClick={onClose} />}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Sidebar.TopBar.Section>\\n\\t\\t\\t<Box\\n\\t\\t\\t\\tref={boxRef}\\n\\t\\t\\t\\trole='listbox'\\n\\t\\t\\t\\tid={listId}\\n\\t\\t\\t\\ttabIndex={-1}\\n\\t\\t\\t\\tflexShrink={1}\\n\\t\\t\\t\\th='full'\\n\\t\\t\\t\\tw='full'\\n\\t\\t\\t\\tdata-qa='sidebar-search-result'\\n\\t\\t\\t\\taria-live='polite'\\n\\t\\t\\t\\taria-atomic='true'\\n\\t\\t\\t\\taria-busy={isLoading}\\n\\t\\t\\t\\tonClick={handleClick}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\t\\tstyle={{ height: '100%', width: '100%' }}\\n\\t\\t\\t\\t\\ttotalCount={items.length}\\n\\t\\t\\t\\t\\tdata={items}\\n\\t\\t\\t\\t\\tcomponents={{ Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t\\t\\tcomputeItemKey={(_, room) => room._id}\\n\\t\\t\\t\\t\\titemContent={(_, data): ReactElement => <Row data={itemData} item={data} />}\\n\\t\\t\\t\\t\\tref={listRef}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</Box>\\n\\t\\t</Box>\\n\\t);\\n});\\n\\nexport default SearchList;\\n\",null],\"names\":[\"a\",\"check\",\"_navigator$userAgentD\",\"_extends\",\"_taggedTemplateLiteralLoose\",\"_objectWithoutProperties\",\"_regeneratorRuntime\",\"_toConsumableArray\",\"_objectSpread\",\"_slicedToArray\",\"css\",\"Sidebar\",\"TextInput\",\"Box\",\"Icon\",\"useMutableCallback\",\"useDebouncedValue\",\"useAutoFocus\",\"useUniqueId\",\"useMergedRefs\",\"escapeRegExp\",\"useUserPreference\",\"useUserSubscriptions\",\"useSetting\",\"useTranslation\",\"useMethod\",\"useQuery\",\"React\",\"forwardRef\",\"useState\",\"useMemo\",\"useEffect\",\"useRef\",\"Virtuoso\",\"tinykeys\",\"VirtuosoScrollbars\",\"getConfig\",\"useAvatarTemplate\",\"usePreventDefault\",\"useTemplateByViewMode\",\"Row\",\"module\",\"link\",\"default\",\"v\",\"shortcut\",\"navigator\",\"userAgentData\",\"mobile\",\"userAgent\",\"vendor\",\"window\",\"opera\",\"test\",\"substr\",\"platform\",\"toLowerCase\",\"includes\",\"LIMIT\",\"parseInt\",\"String\",\"options\",\"sort\",\"lm\",\"name\",\"limit\",\"useSearchItems\",\"filterText\",\"_useMemo\",\"match\",\"_useMemo2\",\"mention\",\"query\",\"filterRegex\",\"RegExp\",\"$or\",\"fname\",\"t\",\"$ne\",\"localRooms\",\"usernamesFromClient\",\"map\",\"_ref\",\"filter\",\"Boolean\",\"searchForChannels\",\"searchForDMs\",\"type\",\"users\",\"rooms\",\"includeFederatedRooms\",\"getSpotlight\",\"_ref2\",\"_id\",\"spotlight\",\"filterUsersUnique\",\"roomFilter\",\"usersFilter\",\"userMap\",\"resultsFromServer\",\"exact\",\"async\",\"_context\",\"prev\",\"next\",\"length\",\"abrupt\",\"awrap\",\"sent\",\"_ref3\",\"index\",\"arr\",\"findIndex\",\"user\",\"room\",\"find\",\"item\",\"_room$uids\",\"uids\",\"rid\",\"_room$uids2\",\"username\",\"avatarETag\",\"push\",\"apply\",\"Array\",\"from\",\"Set\",\"concat\",\"stop\",\"Promise\",\"staleTime\",\"keepPreviousData\",\"placeholderData\",\"useInput\",\"initial\",\"_useState\",\"_useState2\",\"value\",\"setValue\",\"onChange\",\"e\",\"currentTarget\",\"toggleSelectionState\",\"current\",\"input\",\"setAttribute\",\"id\",\"classList\",\"add\",\"removeAttribute\",\"remove\",\"SearchList\",\"_ref4\",\"ref\",\"onClose\",\"listId\",\"_useInput\",\"setFilterValue\",\"_excluded\",\"cursorRef\",\"autofocus\",\"listRef\",\"boxRef\",\"selectedElement\",\"itemIndexRef\",\"sidebarViewMode\",\"useRealName\",\"sideBarItemTemplate\",\"avatarTemplate\",\"extended\",\"placeholder\",\"join\",\"_useSearchItems\",\"_useSearchItems$data\",\"data\",\"items\",\"isLoading\",\"itemData\",\"SideBarItemTemplate\",\"changeSelection\",\"dir\",\"nextSelectedElement\",\"_selectedElement$curr\",\"_selectedElement$curr2\",\"potentialElement\",\"parentElement\",\"previousSibling\",\"querySelector\",\"_selectedElement$curr3\",\"_selectedElement$curr4\",\"nextSibling\",\"undefined\",\"resetCursor\",\"setTimeout\",\"_listRef$current\",\"_boxRef$current\",\"scrollToIndex\",\"Escape\",\"event\",\"preventDefault\",\"Tab\",\"ArrowUp\",\"_listRef$current2\",\"currentElement\",\"Math\",\"max\",\"ArrowDown\",\"_listRef$current3\",\"min\",\"Enter\",\"click\",\"createElement\",\"position\",\"h\",\"display\",\"flexDirection\",\"zIndex\",\"w\",\"className\",\"_templateObject\",\"role\",\"TopBar\",\"Section\",\"flexShrink\",\"is\",\"mb\",\"addon\",\"size\",\"onClick\",\"tabIndex\",\"_e$target$parentEleme\",\"target\",\"Element\",\"tagName\",\"style\",\"height\",\"width\",\"totalCount\",\"components\",\"Scroller\",\"computeItemKey\",\"_\",\"itemContent\",\"exportDefault\"],\"mappings\":\"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\"}"}