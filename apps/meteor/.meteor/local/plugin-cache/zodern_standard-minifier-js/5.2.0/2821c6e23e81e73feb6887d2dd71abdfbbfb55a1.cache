{"code":"function module(e,t,n){let o,a,l,r,s,i;n.export({useEscapeKeyStroke:()=>c}),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){o=e}},0),n.link(\"react\",{useEffect(e){a=e}},1),n.link(\"react-i18next\",{useTranslation(e){l=e}},2),n.link(\"../../../components/GenericModal\",{default(e){r=e}},3),n.link(\"../../../lib/imperativeModal\",{imperativeModal(e){s=e}},4),n.link(\"./useClearUnreadAllMessagesMutation\",{useClearUnreadAllMessagesMutation(e){i=e}},5);let c=()=>{let e=o(),{t}=l(),n=i({onError:t=>{e({type:\"error\",message:t})},onMutate:()=>{s.close()}});a(()=>{let e=e=>{\"Escape\"===e.code&&(!0===e.shiftKey||!0===e.ctrlKey)&&(e.preventDefault(),e.stopPropagation(),s.open({component:r,props:{children:t(\"Are_you_sure_you_want_to_clear_all_unread_messages\"),variant:\"warning\",title:t(\"Clear_all_unreads_question\"),confirmText:t(\"Yes_clear_all\"),onClose:s.close,onCancel:s.close,onConfirm:n.mutate}}))};return document.body.addEventListener(\"keydown\",e),()=>{document.body.removeEventListener(\"keydown\",e)}},[n.mutate,e,t])}}","map":"{\"version\":3,\"sources\":[\"client/views/root/hooks/useEscapeKeyStroke.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport { useEffect } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../components/GenericModal';\\nimport { imperativeModal } from '../../../lib/imperativeModal';\\nimport { useClearUnreadAllMessagesMutation } from './useClearUnreadAllMessagesMutation';\\n\\nexport const useEscapeKeyStroke = () => {\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst { t } = useTranslation();\\n\\n\\tconst clearUnreadAllMessagesMutation = useClearUnreadAllMessagesMutation({\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t\\tonMutate: () => {\\n\\t\\t\\timperativeModal.close();\\n\\t\\t},\\n\\t});\\n\\n\\tuseEffect(() => {\\n\\t\\tconst handleKeyDown = (event: KeyboardEvent) => {\\n\\t\\t\\tif (event.code !== 'Escape' || !(event.shiftKey === true || event.ctrlKey === true)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tevent.preventDefault();\\n\\t\\t\\tevent.stopPropagation();\\n\\n\\t\\t\\timperativeModal.open({\\n\\t\\t\\t\\tcomponent: GenericModal,\\n\\t\\t\\t\\tprops: {\\n\\t\\t\\t\\t\\tchildren: t('Are_you_sure_you_want_to_clear_all_unread_messages'),\\n\\t\\t\\t\\t\\tvariant: 'warning',\\n\\t\\t\\t\\t\\ttitle: t('Clear_all_unreads_question'),\\n\\t\\t\\t\\t\\tconfirmText: t('Yes_clear_all'),\\n\\t\\t\\t\\t\\tonClose: imperativeModal.close,\\n\\t\\t\\t\\t\\tonCancel: imperativeModal.close,\\n\\t\\t\\t\\t\\tonConfirm: clearUnreadAllMessagesMutation.mutate,\\n\\t\\t\\t\\t},\\n\\t\\t\\t});\\n\\t\\t};\\n\\n\\t\\tdocument.body.addEventListener('keydown', handleKeyDown);\\n\\n\\t\\treturn () => {\\n\\t\\t\\tdocument.body.removeEventListener('keydown', handleKeyDown);\\n\\t\\t};\\n\\t}, [clearUnreadAllMessagesMutation.mutate, dispatchToastMessage, t]);\\n};\\n\",null],\"names\":[\"useToastMessageDispatch\",\"useEffect\",\"useTranslation\",\"GenericModal\",\"imperativeModal\",\"useClearUnreadAllMessagesMutation\",\"module\",\"export\",\"useEscapeKeyStroke\",\"link\",\"v\",\"default\",\"dispatchToastMessage\",\"t\",\"clearUnreadAllMessagesMutation\",\"onError\",\"error\",\"type\",\"message\",\"onMutate\",\"close\",\"handleKeyDown\",\"event\",\"code\",\"shiftKey\",\"ctrlKey\",\"preventDefault\",\"stopPropagation\",\"open\",\"component\",\"props\",\"children\",\"variant\",\"title\",\"confirmText\",\"onClose\",\"onCancel\",\"onConfirm\",\"mutate\",\"document\",\"body\",\"addEventListener\",\"removeEventListener\"],\"mappings\":\"2BAAwCA,EAA2BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAnEC,EAAOC,MAAE,CAAA,CAAAC,mBAAyBA,IAAAA,CAAM,GAA2BF,EAAAG,IAAA,CAAA,2BAAA,CAAAT,wBAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAR,UAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,gBAAA,CAAAP,eAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,mCAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,+BAAA,CAAAL,gBAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,sCAAA,CAAAJ,kCAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAQ5D,IAAMF,EAAqBA,KACjC,IAAMI,EAAuBZ,IACvB,CAAEa,CAAAA,CAAG,CAAGX,IAERY,EAAiCT,EAAkC,CACxEU,QAAUC,IACTJ,EAAqB,CAAEK,KAAM,QAASC,QAASF,CAAK,EACrD,EACAG,SAAUA,KACTf,EAAgBgB,KAAK,EACtB,IAGDnB,EAAU,KACT,IAAMoB,EAAiBC,IACH,WAAfA,EAAMC,IAAI,EAAmBD,CAAAA,AAAmB,CAAA,IAAnBA,EAAME,QAAQ,EAAaF,AAAkB,CAAA,IAAlBA,EAAMG,OAAO,AAAK,IAI9EH,EAAMI,cAAc,GACpBJ,EAAMK,eAAe,GAErBvB,EAAgBwB,IAAI,CAAC,CACpBC,UAAW1B,EACX2B,MAAO,CACNC,SAAUlB,EAAE,sDACZmB,QAAS,UACTC,MAAOpB,EAAE,8BACTqB,YAAarB,EAAE,iBACfsB,QAAS/B,EAAgBgB,KAAK,CAC9BgB,SAAUhC,EAAgBgB,KAAK,CAC/BiB,UAAWvB,EAA+BwB,MAAAA,IAG7C,EAIA,OAFAC,SAASC,IAAI,CAACC,gBAAgB,CAAC,UAAWpB,GAEnC,KACNkB,SAASC,IAAI,CAACE,mBAAmB,CAAC,UAAWrB,EAC9C,CACD,EAAG,CAACP,EAA+BwB,MAAM,CAAE1B,EAAsBC,EAAE,CACpE\"}"}