{"code":"function module(e,n,r){r.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){t=e}},0),r.link(\"@babel/runtime/regenerator\",{default:function(e){u=e}},1),r.export({useReturnChatToQueueMutation:function(){return i}}),r.link(\"@rocket.chat/ui-contexts\",{useMethod:function(e){a=e}},0),r.link(\"@tanstack/react-query\",{useMutation:function(e){o=e},useQueryClient:function(e){c=e}},1);var t,u,a,o,c,i=function(e){var n=a(\"livechat:returnAsInquiry\"),r=c();return o(function(e){return u.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.awrap(n(e));case 2:case\"end\":return r.stop()}},null,null,null,Promise)},t(t({},e),{},{onSuccess:function(n,t,a){var o;return u.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,u.awrap(r.invalidateQueries([\"current-chats\"]));case 2:return c.next=4,u.awrap(r.removeQueries([\"rooms\",t]));case 4:return c.next=6,u.awrap(r.removeQueries([\"/v1/rooms.info\",t]));case 6:return c.next=8,u.awrap(r.removeQueries([\"subscriptions\",{rid:t}]));case 8:return c.abrupt(\"return\",null==e?void 0:null===(o=e.onSuccess)||void 0===o?void 0:o.call(e,n,t,a));case 9:case\"end\":return c.stop()}},null,null,null,Promise)}}))}}","map":"{\"version\":3,\"sources\":[\"client/views/room/Header/Omnichannel/QuickActions/hooks/useReturnChatToQueueMutation.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport { useMethod } from '@rocket.chat/ui-contexts';\\nimport type { UseMutationOptions, UseMutationResult } from '@tanstack/react-query';\\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\\n\\nexport const useReturnChatToQueueMutation = (\\n\\toptions?: Omit<UseMutationOptions<void, Error, IRoom['_id']>, 'mutationFn'>,\\n): UseMutationResult<void, Error, IRoom['_id']> => {\\n\\tconst returnChatToQueue = useMethod('livechat:returnAsInquiry');\\n\\n\\tconst queryClient = useQueryClient();\\n\\n\\treturn useMutation(\\n\\t\\tasync (rid) => {\\n\\t\\t\\tawait returnChatToQueue(rid);\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\t...options,\\n\\t\\t\\tonSuccess: async (data, rid, context) => {\\n\\t\\t\\t\\tawait queryClient.invalidateQueries(['current-chats']);\\n\\t\\t\\t\\tawait queryClient.removeQueries(['rooms', rid]);\\n\\t\\t\\t\\tawait queryClient.removeQueries(['/v1/rooms.info', rid]);\\n\\t\\t\\t\\tawait queryClient.removeQueries(['subscriptions', { rid }]);\\n\\t\\t\\t\\treturn options?.onSuccess?.(data, rid, context);\\n\\t\\t\\t},\\n\\t\\t},\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_objectSpread\",\"_regeneratorRuntime\",\"export\",\"useReturnChatToQueueMutation\",\"useMethod\",\"useMutation\",\"useQueryClient\",\"options\",\"returnChatToQueue\",\"queryClient\",\"rid\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"stop\",\"Promise\",\"onSuccess\",\"data\",\"context\",\"_options$onSuccess\",\"_context2\",\"invalidateQueries\",\"removeQueries\",\"abrupt\",\"call\"],\"mappings\":\"uBACkBA,EAAEC,IAAM,CAAA,uCAA2B,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,6BAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAArDH,EAAOM,MAAE,CAAA,CAAAC,6BAAiB,WAA2B,OAAAA,CAAA,CAAA,GAAAP,EAAAC,IAAA,CAAA,2BAAA,CAAAO,UAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAQ,YAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,EAAAO,eAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAI9C,IAJPC,EAAqDC,EAAAG,EAAAC,EAAAC,EAIxCH,EAA+B,SAC3CI,CAA2E,EAE3E,IAAMC,EAAoBJ,EAAU,4BAE9BK,EAAcH,IAEpB,OAAOD,EACN,SAAOK,CAAG,EAAA,OAAAT,EAAAU,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAE,IAAA,CAAA,EAAAb,EAAAc,KAAA,CACHP,EAAkBE,GAAI,MAAA,EAAA,IAAA,MAAA,OAAAE,EAAAI,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAC5BjB,EAAAA,EAAA,CAAA,EAEGO,GAAO,CAAA,EAAA,CACVW,UAAW,SAAOC,CAAI,CAAET,CAAG,CAAEU,CAAO,EAAA,IAAAC,EAAA,OAAApB,EAAAU,KAAA,CAAA,SAAAW,CAAA,EAAA,OAAA,OAAAA,EAAAT,IAAA,CAAAS,EAAAR,IAAA,EAAA,KAAA,EAAA,OAAAQ,EAAAR,IAAA,CAAA,EAAAb,EAAAc,KAAA,CAC7BN,EAAYc,iBAAiB,CAAC,CAAC,gBAAgB,EAAC,MAAA,EAAA,OAAAD,EAAAR,IAAA,CAAA,EAAAb,EAAAc,KAAA,CAChDN,EAAYe,aAAa,CAAC,CAAC,QAASd,EAAI,EAAC,MAAA,EAAA,OAAAY,EAAAR,IAAA,CAAA,EAAAb,EAAAc,KAAA,CACzCN,EAAYe,aAAa,CAAC,CAAC,iBAAkBd,EAAI,EAAC,MAAA,EAAA,OAAAY,EAAAR,IAAA,CAAA,EAAAb,EAAAc,KAAA,CAClDN,EAAYe,aAAa,CAAC,CAAC,gBAAiB,CAAEd,IAAAA,CAAG,EAAG,EAAC,MAAA,EAAA,OAAAY,EAAAG,MAAA,CAAA,SACpDlB,MAAAA,EAAO,KAAA,EAAA,AAAW,OAAXc,CAAAA,EAAPd,EAASW,SAAS,AAATA,GAASG,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAlBA,EAAAK,IAAA,CAAAnB,EAAqBY,EAAMT,EAAKU,GAAQ,MAAA,EAAA,IAAA,MAAA,OAAAE,EAAAN,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,CAC/C,GAGJ\"}"}