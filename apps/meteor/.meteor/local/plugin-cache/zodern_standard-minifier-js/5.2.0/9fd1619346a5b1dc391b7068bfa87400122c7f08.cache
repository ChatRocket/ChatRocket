{"code":"function module(e,t,n){let a,l,o,r,c,i,m,u,s,d,f,h,E,k,x,C;n.link(\"@rocket.chat/fuselage\",{Box(e){a=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useRoute(e){l=e},useRouteParameter(e){o=e}},1),n.link(\"react\",{default(e){r=e}},2),n.link(\"react-i18next\",{useTranslation(e){c=e}},3),n.link(\"../../../components/Contextualbar\",{Contextualbar(e){i=e},ContextualbarHeader(e){m=e},ContextualbarIcon(e){u=e},ContextualbarTitle(e){s=e},ContextualbarAction(e){d=e},ContextualbarClose(e){f=e}},4),n.link(\"./chats/Chat\",{default(e){h=e}},5),n.link(\"./chats/contextualBar/ChatInfoDirectory\",{default(e){E=e}},6),n.link(\"./chats/contextualBar/RoomEdit\",{RoomEditWithData(e){k=e}},7),n.link(\"./components\",{FormSkeleton(e){x=e}},8),n.link(\"./hooks/useOmnichannelRoomInfo\",{useOmnichannelRoomInfo(e){C=e}},9),n.exportDefault(e=>{let{chatReload:t}=e,n=l(\"omnichannel-directory\"),p=o(\"bar\")||\"info\",b=o(\"id\")||\"\",{t:R}=c(),{data:g,isLoading:w,isError:I,refetch:_}=C(b);return\"view\"===p&&b?r.createElement(h,{rid:b}):w?r.createElement(a,{pi:24},r.createElement(x,null)):I||!g?r.createElement(a,{mbs:16},R(\"Room_not_found\")):r.createElement(i,null,r.createElement(m,{expanded:!0},\"info\"===p&&r.createElement(r.Fragment,null,r.createElement(u,{name:\"info-circled\"}),r.createElement(s,null,R(\"Room_Info\")),r.createElement(d,{title:R(\"View_full_conversation\"),name:\"new-window\",onClick:()=>{b&&n.push({page:\"chats\",id:b,bar:\"view\"})}})),\"edit\"===p&&r.createElement(r.Fragment,null,r.createElement(u,{name:\"pencil\"}),r.createElement(s,null,R(\"edit-room\"))),r.createElement(f,{onClick:()=>{n.push({page:\"chats\"})}})),\"info\"===p&&r.createElement(E,{id:b,room:g}),\"edit\"===p&&r.createElement(k,{id:b,reload:t,reloadInfo:_,onClose:()=>{b&&n.push({page:\"chats\",id:b,bar:\"info\"})}}))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/ChatsContextualBar.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box } from '@rocket.chat/fuselage';\\nimport { useRoute, useRouteParameter } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport {\\n\\tContextualbar,\\n\\tContextualbarHeader,\\n\\tContextualbarIcon,\\n\\tContextualbarTitle,\\n\\tContextualbarAction,\\n\\tContextualbarClose,\\n} from '../../../components/Contextualbar';\\nimport Chat from './chats/Chat';\\nimport ChatInfoDirectory from './chats/contextualBar/ChatInfoDirectory';\\nimport { RoomEditWithData } from './chats/contextualBar/RoomEdit';\\nimport { FormSkeleton } from './components';\\nimport { useOmnichannelRoomInfo } from './hooks/useOmnichannelRoomInfo';\\n\\ntype ChatsContextualBarProps = { chatReload?: () => void };\\n\\nconst ChatsContextualBar = ({ chatReload }: ChatsContextualBarProps) => {\\n\\tconst directoryRoute = useRoute('omnichannel-directory');\\n\\n\\tconst bar = useRouteParameter('bar') || 'info';\\n\\tconst id = useRouteParameter('id') || '';\\n\\n\\tconst { t } = useTranslation();\\n\\n\\tconst openInRoom = (): void => {\\n\\t\\tid && directoryRoute.push({ page: 'chats', id, bar: 'view' });\\n\\t};\\n\\n\\tconst handleChatsContextualbarCloseButtonClick = (): void => {\\n\\t\\tdirectoryRoute.push({ page: 'chats' });\\n\\t};\\n\\n\\tconst handleChatsContextualbarBackButtonClick = (): void => {\\n\\t\\tid && directoryRoute.push({ page: 'chats', id, bar: 'info' });\\n\\t};\\n\\n\\tconst { data: room, isLoading, isError, refetch: reloadInfo } = useOmnichannelRoomInfo(id);\\n\\n\\tif (bar === 'view' && id) {\\n\\t\\treturn <Chat rid={id} />;\\n\\t}\\n\\n\\tif (isLoading) {\\n\\t\\treturn (\\n\\t\\t\\t<Box pi={24}>\\n\\t\\t\\t\\t<FormSkeleton />\\n\\t\\t\\t</Box>\\n\\t\\t);\\n\\t}\\n\\n\\tif (isError || !room) {\\n\\t\\treturn <Box mbs={16}>{t('Room_not_found')}</Box>;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<Contextualbar>\\n\\t\\t\\t<ContextualbarHeader expanded>\\n\\t\\t\\t\\t{bar === 'info' && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t<ContextualbarIcon name='info-circled' />\\n\\t\\t\\t\\t\\t\\t<ContextualbarTitle>{t('Room_Info')}</ContextualbarTitle>\\n\\t\\t\\t\\t\\t\\t<ContextualbarAction title={t('View_full_conversation')} name='new-window' onClick={openInRoom} />\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{bar === 'edit' && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t<ContextualbarIcon name='pencil' />\\n\\t\\t\\t\\t\\t\\t<ContextualbarTitle>{t('edit-room')}</ContextualbarTitle>\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t<ContextualbarClose onClick={handleChatsContextualbarCloseButtonClick} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t{bar === 'info' && <ChatInfoDirectory id={id} room={room} />}\\n\\t\\t\\t{bar === 'edit' && (\\n\\t\\t\\t\\t<RoomEditWithData id={id} reload={chatReload} reloadInfo={reloadInfo} onClose={handleChatsContextualbarBackButtonClick} />\\n\\t\\t\\t)}\\n\\t\\t</Contextualbar>\\n\\t);\\n};\\n\\nexport default ChatsContextualBar;\\n\",null],\"names\":[\"Box\",\"useRoute\",\"useRouteParameter\",\"React\",\"useTranslation\",\"Contextualbar\",\"ContextualbarHeader\",\"ContextualbarIcon\",\"ContextualbarTitle\",\"ContextualbarAction\",\"ContextualbarClose\",\"Chat\",\"ChatInfoDirectory\",\"RoomEditWithData\",\"FormSkeleton\",\"useOmnichannelRoomInfo\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"chatReload\",\"directoryRoute\",\"bar\",\"id\",\"t\",\"data\",\"room\",\"isLoading\",\"isError\",\"refetch\",\"reloadInfo\",\"createElement\",\"rid\",\"pi\",\"mbs\",\"expanded\",\"Fragment\",\"name\",\"title\",\"onClick\",\"openInRoom\",\"push\",\"page\",\"handleChatsContextualbarCloseButtonClick\",\"reload\",\"onClose\",\"handleChatsContextualbarBackButtonClick\"],\"mappings\":\"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\"}"}