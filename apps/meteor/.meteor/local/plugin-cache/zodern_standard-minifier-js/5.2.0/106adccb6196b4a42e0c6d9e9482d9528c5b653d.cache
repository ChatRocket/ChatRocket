{"code":"function module(e,t,l){let n,a,r,i,o,s,m,c,f,p,u,d,g,E,_,x,v,h,y,k,w,b,C;let A=[\"label\"];l.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),l.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){a=e}},1),l.link(\"@rocket.chat/fuselage\",{Box(e){r=e},Select(e){i=e},Margins(e){o=e},Field(e){s=e},FieldLabel(e){m=e},FieldRow(e){c=e},Label(e){f=e},Option(e){p=e}},0),l.link(\"react\",{default(e){u=e},useMemo(e){d=e},useState(e){g=e},useEffect(e){E=e}},1),l.link(\"react-i18next\",{useTranslation(e){_=e}},2),l.link(\"../../../components/AutoCompleteDepartment\",{default(e){x=e}},3),l.link(\"../../../components/Page\",{Page(e){v=e},PageHeader(e){h=e},PageScrollableContentWithShadow(e){y=e}},4),l.link(\"./AgentOverview\",{default(e){k=e}},5),l.link(\"./DateRangePicker\",{default(e){w=e}},6),l.link(\"./InterchangeableChart\",{default(e){b=e}},7),l.link(\"./Overview\",{default(e){C=e}},8);let S=e=>{let{t}=_();return d(()=>\"Conversations\"===e?[[\"Total_conversations\",t(\"Total_conversations\")],[\"Avg_chat_duration\",t(\"Avg_chat_duration\")],[\"Total_messages\",t(\"Total_messages\")]]:[[\"Avg_first_response_time\",t(\"Avg_first_response_time\")],[\"Best_first_response_time\",t(\"Best_first_response_time\")],[\"Avg_response_time\",t(\"Avg_response_time\")],[\"Avg_reaction_time\",t(\"Avg_reaction_time\")]],[t,e])};l.exportDefault(()=>{let{t:e}=_(),[t,l]=g(\"Conversations\"),[D,P]=g(null),[T,G]=g({start:\"\",end:\"\"}),[I,R]=g(),W=d(()=>[[\"Conversations\",e(\"Conversations\")],[\"Productivity\",e(\"Productivity\")]],[e]),B=S(t);return E(()=>{R(B[0][0])},[B]),u.createElement(v,null,u.createElement(h,{title:e(\"Analytics\")}),u.createElement(y,{display:\"flex\",flexDirection:\"column\"},u.createElement(o,{block:4},u.createElement(r,{display:\"flex\",mi:\"neg-x4\",flexWrap:\"wrap\",flexGrow:1},u.createElement(r,{display:\"flex\",flexWrap:\"wrap\",flexGrow:1},u.createElement(r,{display:\"flex\",mi:4,flexDirection:\"column\",flexGrow:1},u.createElement(f,{mb:4},e(\"Type\")),u.createElement(i,{options:W,value:t,onChange:e=>l(String(e))})),u.createElement(r,{display:\"flex\",mi:4,flexDirection:\"column\",flexGrow:1},u.createElement(f,{mb:4},e(\"Departments\")),u.createElement(x,{value:D||void 0,onChange:P,onlyMyDepartments:!0,withTitle:!1,renderItem:e=>{let{label:t}=e,l=a(e,A);return u.createElement(p,n({},l,{label:u.createElement(\"span\",{style:{whiteSpace:\"normal\"}},t)}))}}))),u.createElement(w,{flexGrow:1,mi:4,onChange:G})),u.createElement(r,null,u.createElement(C,{type:t,dateRange:T,departmentId:D||\"\"})),u.createElement(r,{display:\"flex\"},u.createElement(o,{inline:2},u.createElement(s,null,u.createElement(m,null,e(\"Chart\")),u.createElement(c,null,u.createElement(i,{options:B,value:I,onChange:e=>R(String(e))}))))),u.createElement(r,{display:\"flex\",flexGrow:1,flexShrink:1},u.createElement(b,{flexShrink:1,w:\"66%\",h:\"100%\",chartName:I||\"\",departmentId:D||\"\",dateRange:T,alignSelf:\"stretch\"}),u.createElement(r,{display:\"flex\",w:\"33%\",justifyContent:\"stretch\",p:10,mis:4},u.createElement(k,{type:I||\"\",dateRange:T,departmentId:D||\"\"}))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/analytics/AnalyticsPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Box, Select, Margins, Field, FieldLabel, FieldRow, Label, Option } from '@rocket.chat/fuselage';\\nimport React, { useMemo, useState, useEffect } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport AutoCompleteDepartment from '../../../components/AutoCompleteDepartment';\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport AgentOverview from './AgentOverview';\\nimport DateRangePicker from './DateRangePicker';\\nimport InterchangeableChart from './InterchangeableChart';\\nimport Overview from './Overview';\\n\\nconst useOptions = (type: string): SelectOption[] => {\\n\\tconst { t } = useTranslation();\\n\\treturn useMemo(() => {\\n\\t\\tif (type === 'Conversations') {\\n\\t\\t\\treturn [\\n\\t\\t\\t\\t['Total_conversations', t('Total_conversations')],\\n\\t\\t\\t\\t['Avg_chat_duration', t('Avg_chat_duration')],\\n\\t\\t\\t\\t['Total_messages', t('Total_messages')],\\n\\t\\t\\t];\\n\\t\\t}\\n\\t\\treturn [\\n\\t\\t\\t['Avg_first_response_time', t('Avg_first_response_time')],\\n\\t\\t\\t['Best_first_response_time', t('Best_first_response_time')],\\n\\t\\t\\t['Avg_response_time', t('Avg_response_time')],\\n\\t\\t\\t['Avg_reaction_time', t('Avg_reaction_time')],\\n\\t\\t];\\n\\t}, [t, type]);\\n};\\n\\nconst AnalyticsPage = () => {\\n\\tconst { t } = useTranslation();\\n\\tconst [type, setType] = useState('Conversations');\\n\\tconst [department, setDepartment] = useState<string | null>(null);\\n\\tconst [dateRange, setDateRange] = useState({ start: '', end: '' });\\n\\tconst [chartName, setChartName] = useState<string | undefined>();\\n\\n\\tconst typeOptions: SelectOption[] = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['Conversations', t('Conversations')],\\n\\t\\t\\t['Productivity', t('Productivity')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst graphOptions: SelectOption[] = useOptions(type);\\n\\n\\tuseEffect(() => {\\n\\t\\tsetChartName(graphOptions[0][0]);\\n\\t}, [graphOptions]);\\n\\n\\treturn (\\n\\t\\t<Page>\\n\\t\\t\\t<PageHeader title={t('Analytics')} />\\n\\t\\t\\t<PageScrollableContentWithShadow display='flex' flexDirection='column'>\\n\\t\\t\\t\\t<Margins block={4}>\\n\\t\\t\\t\\t\\t<Box display='flex' mi='neg-x4' flexWrap='wrap' flexGrow={1}>\\n\\t\\t\\t\\t\\t\\t<Box display='flex' flexWrap='wrap' flexGrow={1}>\\n\\t\\t\\t\\t\\t\\t\\t<Box display='flex' mi={4} flexDirection='column' flexGrow={1}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Label mb={4}>{t('Type')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Select options={typeOptions} value={type} onChange={(value) => setType(String(value))} />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t<Box display='flex' mi={4} flexDirection='column' flexGrow={1}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Label mb={4}>{t('Departments')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<AutoCompleteDepartment\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={department || undefined}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonChange={setDepartment}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonlyMyDepartments\\n\\t\\t\\t\\t\\t\\t\\t\\t\\twithTitle={false}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trenderItem={({ label, ...props }) => <Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t<DateRangePicker flexGrow={1} mi={4} onChange={setDateRange} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t<Box>\\n\\t\\t\\t\\t\\t\\t<Overview type={type} dateRange={dateRange} departmentId={department || ''} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t<Box display='flex'>\\n\\t\\t\\t\\t\\t\\t<Margins inline={2}>\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel>{t('Chart')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Select options={graphOptions} value={chartName} onChange={(value) => setChartName(String(value))} />\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t</Margins>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t<Box display='flex' flexGrow={1} flexShrink={1}>\\n\\t\\t\\t\\t\\t\\t<InterchangeableChart\\n\\t\\t\\t\\t\\t\\t\\tflexShrink={1}\\n\\t\\t\\t\\t\\t\\t\\tw='66%'\\n\\t\\t\\t\\t\\t\\t\\th='100%'\\n\\t\\t\\t\\t\\t\\t\\tchartName={chartName || ''}\\n\\t\\t\\t\\t\\t\\t\\tdepartmentId={department || ''}\\n\\t\\t\\t\\t\\t\\t\\tdateRange={dateRange}\\n\\t\\t\\t\\t\\t\\t\\talignSelf='stretch'\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t<Box display='flex' w='33%' justifyContent='stretch' p={10} mis={4}>\\n\\t\\t\\t\\t\\t\\t\\t<AgentOverview type={chartName || ''} dateRange={dateRange} departmentId={department || ''} />\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default AnalyticsPage;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Box\",\"Select\",\"Margins\",\"Field\",\"FieldLabel\",\"FieldRow\",\"Label\",\"Option\",\"React\",\"useMemo\",\"useState\",\"useEffect\",\"useTranslation\",\"AutoCompleteDepartment\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"AgentOverview\",\"DateRangePicker\",\"InterchangeableChart\",\"Overview\",\"module\",\"link\",\"default\",\"v\",\"useOptions\",\"type\",\"t\",\"exportDefault\",\"AnalyticsPage\",\"setType\",\"department\",\"setDepartment\",\"dateRange\",\"setDateRange\",\"start\",\"end\",\"chartName\",\"setChartName\",\"typeOptions\",\"graphOptions\",\"createElement\",\"title\",\"display\",\"flexDirection\",\"block\",\"mi\",\"flexWrap\",\"flexGrow\",\"mb\",\"options\",\"value\",\"onChange\",\"String\",\"undefined\",\"onlyMyDepartments\",\"withTitle\",\"renderItem\",\"_ref\",\"label\",\"props\",\"_excluded\",\"style\",\"whiteSpace\",\"departmentId\",\"inline\",\"flexShrink\",\"w\",\"h\",\"alignSelf\",\"justifyContent\",\"p\",\"mis\"],\"mappings\":\"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\"}"}