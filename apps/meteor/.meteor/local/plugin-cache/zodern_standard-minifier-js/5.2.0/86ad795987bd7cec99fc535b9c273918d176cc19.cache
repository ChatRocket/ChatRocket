{"code":"function module(o,t,e){var n,s,i,u,c,l,r,a,f,d,k,m,x;e.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(o){n=o}},0),e.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue:function(o){s=o}},0),e.link(\"@rocket.chat/ui-contexts\",{useUserId:function(o){i=o}},1),e.link(\"react\",{default:function(o){u=o},useCallback:function(o){c=o},useMemo:function(o){l=o},useState:function(o){r=o}},2),e.link(\"../../../../hooks/lists/useRecordList\",{useRecordList:function(o){a=o}},3),e.link(\"../../../../hooks/useAsyncState\",{AsyncStatePhase:function(o){f=o}},4),e.link(\"../../contexts/RoomContext\",{useRoom:function(o){d=o}},5),e.link(\"../../contexts/RoomToolboxContext\",{useRoomToolbox:function(o){k=o}},6),e.link(\"./DiscussionsList\",{default:function(o){m=o}},7),e.link(\"./useDiscussionsList\",{useDiscussionsList:function(o){x=o}},8),e.exportDefault(function(){var o=i(),t=d(),e=k().closeTab,h=r(\"\"),b=n(h,2),L=b[0],C=b[1],D=s(L,400),R=l(function(){return{rid:t._id,text:D}},[t._id,D]),T=x(R,o),g=T.discussionsList,A=T.loadMoreItems,I=a(g),p=I.phase,v=I.error,y=I.items,M=I.itemCount,S=c(function(o){C(o.currentTarget.value)},[]);return o?u.createElement(m,{onClose:e,error:v,discussions:y,total:M,loading:p===f.LOADING,loadMoreItems:A,text:L,onChangeFilter:S}):null})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/Discussions/DiscussionsListContextBar.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IDiscussionMessage } from '@rocket.chat/core-typings';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { useUserId } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback, useMemo, useState } from 'react';\\n\\nimport { useRecordList } from '../../../../hooks/lists/useRecordList';\\nimport { AsyncStatePhase } from '../../../../hooks/useAsyncState';\\nimport { useRoom } from '../../contexts/RoomContext';\\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\\nimport DiscussionsList from './DiscussionsList';\\nimport { useDiscussionsList } from './useDiscussionsList';\\n\\nconst DiscussionListContextBar = (): ReactElement | null => {\\n\\tconst userId = useUserId();\\n\\tconst room = useRoom();\\n\\tconst { closeTab } = useRoomToolbox();\\n\\n\\tconst [text, setText] = useState('');\\n\\tconst debouncedText = useDebouncedValue(text, 400);\\n\\n\\tconst options = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\trid: room._id,\\n\\t\\t\\ttext: debouncedText,\\n\\t\\t}),\\n\\t\\t[room._id, debouncedText],\\n\\t);\\n\\n\\tconst { discussionsList, loadMoreItems } = useDiscussionsList(options, userId);\\n\\tconst { phase, error, items: discussions, itemCount: totalItemCount } = useRecordList<IDiscussionMessage>(discussionsList);\\n\\n\\tconst handleTextChange = useCallback((e) => {\\n\\t\\tsetText(e.currentTarget.value);\\n\\t}, []);\\n\\n\\tif (!userId) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<DiscussionsList\\n\\t\\t\\tonClose={closeTab}\\n\\t\\t\\terror={error}\\n\\t\\t\\tdiscussions={discussions}\\n\\t\\t\\ttotal={totalItemCount}\\n\\t\\t\\tloading={phase === AsyncStatePhase.LOADING}\\n\\t\\t\\tloadMoreItems={loadMoreItems}\\n\\t\\t\\ttext={text}\\n\\t\\t\\tonChangeFilter={handleTextChange}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default DiscussionListContextBar;\\n\",null],\"names\":[\"_slicedToArray\",\"useDebouncedValue\",\"useUserId\",\"React\",\"useCallback\",\"useMemo\",\"useState\",\"useRecordList\",\"AsyncStatePhase\",\"useRoom\",\"useRoomToolbox\",\"DiscussionsList\",\"useDiscussionsList\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"userId\",\"room\",\"closeTab\",\"_useRoomToolbox\",\"_useState\",\"_useState2\",\"text\",\"setText\",\"debouncedText\",\"options\",\"rid\",\"_id\",\"_useDiscussionsList\",\"discussionsList\",\"loadMoreItems\",\"_useRecordList\",\"phase\",\"error\",\"discussions\",\"items\",\"totalItemCount\",\"itemCount\",\"handleTextChange\",\"e\",\"currentTarget\",\"value\",\"createElement\",\"onClose\",\"total\",\"loading\",\"LOADING\",\"onChangeFilter\"],\"mappings\":\"uBAaA,IAZAA,EAAAC,EAAgEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAiBC,IAAE,CAAA,uCAAoC,CAAAC,QAAA,SAAAC,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAAvDH,EAAmBC,IAAA,CAAM,8BAA8B,CAAAb,kBAAA,SAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAZ,UAAA,SAAAc,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,YAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,QAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,SAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wCAAA,CAAAP,cAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAN,gBAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,6BAAA,CAAAL,QAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oCAAA,CAAAJ,eAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uBAAA,CAAAF,mBAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAhEH,EAAOI,aAAE,CAYwB,WAChC,IAAMC,EAAShB,IACTiB,EAAOV,IACLW,EAAQC,AAAKX,IAAbU,QAAQ,CAEhBE,EAAwBhB,EAAS,IAAGiB,EAAAvB,EAAAsB,EAAA,GAA7BE,EAAID,CAAA,CAAA,EAAA,CAAEE,EAAOF,CAAA,CAAA,EAAA,CACdG,EAAgBzB,EAAkBuB,EAAM,KAExCG,EAAUtB,EACf,WAAA,MAAO,CACNuB,IAAKT,EAAKU,GAAG,CACbL,KAAME,EACN,EACD,CAACP,EAAKU,GAAG,CAAEH,EAAc,EAG1BI,EAA2ClB,EAAmBe,EAAST,GAA/Da,EAAeD,EAAfC,eAAe,CAAEC,EAAaF,EAAbE,aAAa,CACtCC,EAAwE1B,EAAkCwB,GAAlGG,EAAKD,EAALC,KAAK,CAAEC,EAAKF,EAALE,KAAK,CAASC,EAAWH,EAAlBI,KAAK,CAA0BC,EAAcL,EAAzBM,SAAS,CAE7CC,EAAmBpC,EAAY,SAACqC,CAAC,EACtChB,EAAQgB,EAAEC,aAAa,CAACC,KAAK,CAC9B,EAAG,EAAE,SAEL,AAAKzB,EAKJf,EAAAyC,aAAA,CAACjC,EAAe,CACfkC,QAASzB,EACTe,MAAOA,EACPC,YAAaA,EACbU,MAAOR,EACPS,QAASb,IAAU1B,EAAgBwC,OAAQ,CAC3ChB,cAAeA,EACfR,KAAMA,EACNyB,eAAgBT,CAAiB,GAZ3B,IAeT\"}"}