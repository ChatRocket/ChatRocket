{"code":"function module(h,t,s){\"use strict\";class e{constructor(h,t){this.low=h,this.high=t,this.length=1+t-h}overlaps(h){return!(this.high<h.low||this.low>h.high)}touches(h){return!(this.high+1<h.low||this.low-1>h.high)}add(h){return new e(Math.min(this.low,h.low),Math.max(this.high,h.high))}subtract(h){return h.low<=this.low&&h.high>=this.high?[]:h.low>this.low&&h.high<this.high?[new e(this.low,h.low-1),new e(h.high+1,this.high)]:h.low<=this.low?[new e(h.high+1,this.high)]:[new e(this.low,h.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+\"-\"+this.high}}class r{constructor(h,t){this.ranges=[],this.length=0,null!=h&&this.add(h,t)}_update_length(){this.length=this.ranges.reduce((h,t)=>h+t.length,0)}add(h,t){var s=h=>{for(var t=0;t<this.ranges.length&&!h.touches(this.ranges[t]);)t++;for(var s=this.ranges.slice(0,t);t<this.ranges.length&&h.touches(this.ranges[t]);)h=h.add(this.ranges[t]),t++;s.push(h),this.ranges=s.concat(this.ranges.slice(t)),this._update_length()};return h instanceof r?h.ranges.forEach(s):(null==t&&(t=h),s(new e(h,t))),this}subtract(h,t){var s=h=>{for(var t=0;t<this.ranges.length&&!h.overlaps(this.ranges[t]);)t++;for(var s=this.ranges.slice(0,t);t<this.ranges.length&&h.overlaps(this.ranges[t]);)s=s.concat(this.ranges[t].subtract(h)),t++;this.ranges=s.concat(this.ranges.slice(t)),this._update_length()};return h instanceof r?h.ranges.forEach(s):(null==t&&(t=h),s(new e(h,t))),this}intersect(h,t){var s=[],i=h=>{for(var t=0;t<this.ranges.length&&!h.overlaps(this.ranges[t]);)t++;for(;t<this.ranges.length&&h.overlaps(this.ranges[t]);){var r=Math.max(this.ranges[t].low,h.low),i=Math.min(this.ranges[t].high,h.high);s.push(new e(r,i)),t++}};return h instanceof r?h.ranges.forEach(i):(null==t&&(t=h),i(new e(h,t))),this.ranges=s,this._update_length(),this}index(h){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=h;)h-=this.ranges[t].length,t++;return this.ranges[t].low+h}toString(){return\"[ \"+this.ranges.join(\", \")+\" ]\"}clone(){return new r(this)}numbers(){return this.ranges.reduce((h,t)=>{for(var s=t.low;s<=t.high;)h.push(s),s++;return h},[])}subranges(){return this.ranges.map(h=>({low:h.low,high:h.high,length:1+h.high-h.low}))}}s.exports=r}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}