{"code":"function module(e,t,o){let l,s,i,n,u,a,k,c,r,m,d,x;o.link(\"@rocket.chat/fuselage-hooks\",{useLocalStorage(e){l=e}},0),o.link(\"react\",{default(e){s=e},useState(e){i=e},useCallback(e){n=e},useMemo(e){u=e}},1),o.link(\"../../../../hooks/lists/useRecordList\",{useRecordList(e){a=e}},2),o.link(\"../../../../hooks/useAsyncState\",{AsyncStatePhase(e){k=e}},3),o.link(\"../../contexts/RoomContext\",{useRoom(e){c=e}},4),o.link(\"../../contexts/RoomToolboxContext\",{useRoomToolbox(e){r=e}},5),o.link(\"./RoomFiles\",{default(e){m=e}},6),o.link(\"./hooks/useDeleteFile\",{useDeleteFile(e){d=e}},7),o.link(\"./hooks/useFilesList\",{useFilesList(e){x=e}},8),o.exportDefault(()=>{let e=c(),{closeTab:t}=r(),[o,f]=i(\"\"),[h,C]=l(\"file-list-type\",\"all\"),R=n(e=>{f(e.currentTarget.value)},[]),L=u(()=>({rid:e._id,type:h,text:o}),[e._id,h,o]),{filesList:y,loadMoreItems:D,reload:F}=x(L),{phase:T,items:g,itemCount:p}=a(y),S=d(F);return s.createElement(m,{loading:T===k.LOADING,type:h,text:o,filesItems:g,loadMoreItems:D,setType:C,setText:R,total:p,onClickClose:t,onClickDelete:S})})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/RoomFiles/RoomFilesWithData.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useLocalStorage } from '@rocket.chat/fuselage-hooks';\\nimport React, { useState, useCallback, useMemo } from 'react';\\n\\nimport { useRecordList } from '../../../../hooks/lists/useRecordList';\\nimport { AsyncStatePhase } from '../../../../hooks/useAsyncState';\\nimport { useRoom } from '../../contexts/RoomContext';\\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\\nimport RoomFiles from './RoomFiles';\\nimport { useDeleteFile } from './hooks/useDeleteFile';\\nimport { useFilesList } from './hooks/useFilesList';\\n\\nconst RoomFilesWithData = () => {\\n\\tconst room = useRoom();\\n\\tconst { closeTab } = useRoomToolbox();\\n\\tconst [text, setText] = useState('');\\n\\tconst [type, setType] = useLocalStorage('file-list-type', 'all');\\n\\n\\tconst handleTextChange = useCallback((event) => {\\n\\t\\tsetText(event.currentTarget.value);\\n\\t}, []);\\n\\n\\tconst query = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\trid: room._id,\\n\\t\\t\\ttype,\\n\\t\\t\\ttext,\\n\\t\\t}),\\n\\t\\t[room._id, type, text],\\n\\t);\\n\\n\\tconst { filesList, loadMoreItems, reload } = useFilesList(query);\\n\\tconst { phase, items: filesItems, itemCount: totalItemCount } = useRecordList(filesList);\\n\\n\\tconst handleDeleteFile = useDeleteFile(reload);\\n\\n\\treturn (\\n\\t\\t<RoomFiles\\n\\t\\t\\tloading={phase === AsyncStatePhase.LOADING}\\n\\t\\t\\ttype={type}\\n\\t\\t\\ttext={text}\\n\\t\\t\\tfilesItems={filesItems}\\n\\t\\t\\tloadMoreItems={loadMoreItems}\\n\\t\\t\\tsetType={setType}\\n\\t\\t\\tsetText={handleTextChange}\\n\\t\\t\\ttotal={totalItemCount}\\n\\t\\t\\tonClickClose={closeTab}\\n\\t\\t\\tonClickDelete={handleDeleteFile}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default RoomFilesWithData;\\n\",null],\"names\":[\"useLocalStorage\",\"React\",\"useState\",\"useCallback\",\"useMemo\",\"useRecordList\",\"AsyncStatePhase\",\"useRoom\",\"useRoomToolbox\",\"RoomFiles\",\"useDeleteFile\",\"useFilesList\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"RoomFilesWithData\",\"room\",\"closeTab\",\"text\",\"setText\",\"type\",\"setType\",\"handleTextChange\",\"event\",\"currentTarget\",\"value\",\"query\",\"rid\",\"_id\",\"filesList\",\"loadMoreItems\",\"reload\",\"phase\",\"items\",\"filesItems\",\"itemCount\",\"totalItemCount\",\"handleDeleteFile\",\"createElement\",\"loading\",\"LOADING\",\"total\",\"onClickClose\",\"onClickDelete\"],\"mappings\":\"2BAAAA,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAArDC,EAAiBC,IAAA,CAAM,8BAA8B,CAAAb,gBAAAc,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,YAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,QAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wCAAA,CAAAR,cAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kCAAA,CAAAP,gBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,6BAAA,CAAAN,QAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oCAAA,CAAAL,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,cAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAH,cAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uBAAA,CAAAF,aAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA9DF,EAAOI,aAAE,CAWiBC,KACzB,IAAMC,EAAOX,IACP,CAAEY,SAAAA,CAAAA,CAAU,CAAGX,IACf,CAACY,EAAMC,EAAQ,CAAGnB,EAAS,IAC3B,CAACoB,EAAMC,EAAQ,CAAGvB,EAAgB,iBAAkB,OAEpDwB,EAAmBrB,EAAasB,IACrCJ,EAAQI,EAAMC,aAAa,CAACC,KAAK,CAClC,EAAG,EAAE,EAECC,EAAQxB,EACb,IAAO,CAAA,CACNyB,IAAKX,EAAKY,GAAG,CACbR,KAAAA,EACAF,KAAAA,IAED,CAACF,EAAKY,GAAG,CAAER,EAAMF,EAAK,EAGjB,CAAEW,UAAAA,CAAS,CAAEC,cAAAA,CAAa,CAAEC,OAAAA,CAAAA,CAAQ,CAAGtB,EAAaiB,GACpD,CAAEM,MAAAA,CAAK,CAAEC,MAAOC,CAAU,CAAEC,UAAWC,CAAAA,CAAgB,CAAGjC,EAAc0B,GAExEQ,EAAmB7B,EAAcuB,GAEvC,OACChC,EAAAuC,aAAA,CAAC/B,EAAS,CACTgC,QAASP,IAAU5B,EAAgBoC,OAAQ,CAC3CpB,KAAMA,EACNF,KAAMA,EACNgB,WAAYA,EACZJ,cAAeA,EACfT,QAASA,EACTF,QAASG,EACTmB,MAAOL,EACPM,aAAczB,EACd0B,cAAeN,CAAiB,EAGnC\"}"}