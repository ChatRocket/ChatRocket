{"code":"function module(n,t,o){var e,i,u,r,c,a,l,s,f,k;o.link(\"@rocket.chat/fuselage\",{Button:function(n){e=n}},0),o.link(\"@rocket.chat/ui-composer\",{MessageFooterCallout:function(n){i=n},MessageFooterCalloutContent:function(n){u=n}},1),o.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(n){r=n},useTranslation:function(n){c=n}},2),o.link(\"@tanstack/react-query\",{useMutation:function(n){a=n}},3),o.link(\"react\",{default:function(n){l=n}},4),o.link(\"../../../lib/toast\",{dispatchToastMessage:function(n){s=n}},5),o.link(\"../contexts/RoomContext\",{useRoom:function(n){f=n},useUserIsSubscribed:function(n){k=n}},6),o.exportDefault(function(){var n=c(),t=f(),o=k(),m=r(\"POST\",\"/v1/channels.join\"),d=a(function(){return m({roomId:t._id})},{onError:function(n){s({type:\"error\",message:n})}});return l.createElement(i,null,l.createElement(u,null,n(\"room_is_read_only\")),!o&&l.createElement(e,{primary:!0,onClick:function(){return d.mutate()},loading:d.isLoading},n(\"Join\")))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/composer/ComposerReadOnly.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Button } from '@rocket.chat/fuselage';\\nimport { MessageFooterCallout, MessageFooterCalloutContent } from '@rocket.chat/ui-composer';\\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useMutation } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\n\\nimport { dispatchToastMessage } from '../../../lib/toast';\\nimport { useRoom, useUserIsSubscribed } from '../contexts/RoomContext';\\n\\nconst ComposerReadOnly = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst room = useRoom();\\n\\tconst isSubscribed = useUserIsSubscribed();\\n\\tconst joinChannel = useEndpoint('POST', '/v1/channels.join');\\n\\n\\tconst join = useMutation(() => joinChannel({ roomId: room._id }), {\\n\\t\\tonError: (error: unknown) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t});\\n\\n\\treturn (\\n\\t\\t<MessageFooterCallout>\\n\\t\\t\\t<MessageFooterCalloutContent>{t('room_is_read_only')}</MessageFooterCalloutContent>\\n\\t\\t\\t{!isSubscribed && (\\n\\t\\t\\t\\t<Button primary onClick={() => join.mutate()} loading={join.isLoading}>\\n\\t\\t\\t\\t\\t{t('Join')}\\n\\t\\t\\t\\t</Button>\\n\\t\\t\\t)}\\n\\t\\t</MessageFooterCallout>\\n\\t);\\n};\\n\\nexport default ComposerReadOnly;\\n\",null],\"names\":[\"Button\",\"MessageFooterCallout\",\"MessageFooterCalloutContent\",\"useEndpoint\",\"useTranslation\",\"useMutation\",\"React\",\"dispatchToastMessage\",\"useRoom\",\"useUserIsSubscribed\",\"module\",\"link\",\"v\",\"exportDefault\",\"t\",\"room\",\"isSubscribed\",\"joinChannel\",\"join\",\"roomId\",\"_id\",\"onError\",\"error\",\"type\",\"message\",\"createElement\",\"primary\",\"onClick\",\"mutate\",\"loading\",\"isLoading\"],\"mappings\":\"uBAUA,IAVAA,EAA+CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAtCC,EAAQC,IAAA,CAAM,wBAAwB,CAAAX,OAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAV,qBAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,4BAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAR,YAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,eAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAN,YAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,qBAAA,CAAAJ,qBAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0BAAA,CAAAH,QAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,EAAAH,oBAAA,SAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA/CF,EAAOG,aAAU,CAUQ,WACxB,IAAMC,EAAIV,IACJW,EAAOP,IACPQ,EAAeP,IACfQ,EAAcd,EAAY,OAAQ,qBAElCe,EAAOb,EAAY,WAAA,OAAMY,EAAY,CAAEE,OAAQJ,EAAKK,GAAAA,AAAG,EAAG,EAAE,CACjEC,QAAS,SAACC,CAAc,EACvBf,EAAqB,CAAEgB,KAAM,QAASC,QAASF,CAAK,EACrD,IAGD,OACChB,EAAAmB,aAAA,CAACxB,EAAoB,KACpBK,EAAAmB,aAAA,CAACvB,EAA2B,KAAEY,EAAE,sBAC/B,CAACE,GACDV,EAAAmB,aAAA,CAACzB,EAAM,CAAC0B,QAAO,CAAA,EAACC,QAAS,WAAA,OAAMT,EAAKU,MAAM,EAAE,EAAEC,QAASX,EAAKY,SAAAA,AAAU,EACpEhB,EAAE,SAKR\"}"}