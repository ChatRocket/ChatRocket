{"code":"function module(e,t,l){let n,a,o,r,i,u,c,m,s,d,E,k,p,f,v,h,g,T,b,F,C,x,y,_,D,I,M,A,P,w,S,B,Q,z;l.link(\"@rocket.chat/fuselage\",{Box(e){n=e},Margins(e){a=e},Tag(e){o=e},Button(e){r=e},ButtonGroup(e){i=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){u=e}},1),l.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){c=e},useRoute(e){m=e},useUserSubscription(e){s=e},useTranslation(e){d=e}},2),l.link(\"meteor/meteor\",{Meteor(e){E=e}},3),l.link(\"moment\",{default(e){k=e}},4),l.link(\"react\",{default(e){p=e},useEffect(e){f=e},useMemo(e){v=e},useState(e){h=e}},5),l.link(\"../../../../../../app/authorization/client\",{hasPermission(e){g=e}},6),l.link(\"../../../../../components/Contextualbar\",{ContextualbarScrollableContent(e){T=e},ContextualbarFooter(e){b=e}},7),l.link(\"../../../../../components/InfoPanel\",{InfoPanelField(e){F=e},InfoPanelLabel(e){C=e},InfoPanelText(e){x=e}},8),l.link(\"../../../../../components/MarkdownText\",{default(e){y=e}},9),l.link(\"../../../../../hooks/useEndpointData\",{useEndpointData(e){_=e}},10),l.link(\"../../../../../hooks/useFormatDateAndTime\",{useFormatDateAndTime(e){D=e}},11),l.link(\"../../../../../hooks/useFormatDuration\",{useFormatDuration(e){I=e}},12),l.link(\"../../../components/CustomField\",{default(e){M=e}},13),l.link(\"../../components\",{AgentField(e){A=e},ContactField(e){P=e},SlaField(e){w=e}},14),l.link(\"../../components/PriorityField\",{default(e){S=e}},15),l.link(\"../../utils/formatQueuedAt\",{formatQueuedAt(e){B=e}},16),l.link(\"./DepartmentField\",{default(e){Q=e}},17),l.link(\"./VisitorClientInfo\",{default(e){z=e}},18),l.exportDefault(function(e){var t;let{id:l,route:N,room:j}=e,G=d(),L=D(),{value:O,phase:R}=_(\"/v1/livechat/custom-fields\"),[U,V]=h([]),q=I(),{ts:H,tags:J,closedAt:K,departmentId:W,v:X,servedBy:Y,metrics:Z,topic:$,waitingResponse:ee,responseBy:et,slaId:el,priorityId:en,livechatData:ea,queuedAt:eo}=j||{v:{}},er=m(N||\"omnichannel-directory\"),ei=s(l),eu=g(\"save-others-livechat-room-info\"),ec=(null==Y?void 0:Y._id)===E.userId(),em=null==X?void 0:X._id,es=eo||H,ed=v(()=>B(j),[j]),eE=c();f(()=>{if(O){let{customFields:e}=O;V(e)}},[O,R]);let ek=e=>{let t=U.find(t=>{let{_id:l}=t;return l===e});return!!t&&\"visible\"===t.visibility&&\"room\"===t.scope},ep=u(()=>{if(!(ei||ec||eu))return eE({type:\"error\",message:G(\"Not_authorized\")});er.push(N?{tab:\"room-info\",context:\"edit\",id:l}:{page:\"chats\",id:l,bar:\"edit\"})});return p.createElement(p.Fragment,null,p.createElement(T,{p:24},p.createElement(a,{block:\"x4\"},j&&X&&p.createElement(P,{contact:X,room:j}),em&&p.createElement(z,{uid:em}),Y&&p.createElement(A,{agent:Y}),W&&p.createElement(Q,{departmentId:W}),J&&J.length>0&&p.createElement(F,null,p.createElement(C,null,G(\"Tags\")),p.createElement(x,null,J.map(e=>p.createElement(n,{key:e,mie:4,display:\"inline\"},p.createElement(o,{style:{display:\"inline\"},disabled:!0},e))))),$&&p.createElement(F,null,p.createElement(C,null,G(\"Topic\")),p.createElement(x,{withTruncatedText:!1},p.createElement(y,{variant:\"inline\",content:$}))),es&&p.createElement(F,null,p.createElement(C,null,G(\"Queue_Time\")),ed),K&&p.createElement(F,null,p.createElement(C,null,G(\"Chat_Duration\")),p.createElement(x,null,k(K).from(k(H),!0))),H&&p.createElement(F,null,p.createElement(C,null,G(\"Created_at\")),p.createElement(x,null,L(H))),K&&p.createElement(F,null,p.createElement(C,null,G(\"Closed_At\")),p.createElement(x,null,L(K))),(null==Y?void 0:Y.ts)&&p.createElement(F,null,p.createElement(C,null,G(\"Taken_at\")),p.createElement(x,null,L(Y.ts))),(null==Z?void 0:null===(t=Z.response)||void 0===t?void 0:t.avg)&&q(Z.response.avg)&&p.createElement(F,null,p.createElement(C,null,G(\"Avg_response_time\")),p.createElement(x,null,q(Z.response.avg))),!ee&&(null==et?void 0:et.lastMessageTs)&&p.createElement(F,null,p.createElement(C,null,G(\"Inactivity_Time\")),p.createElement(x,null,k(et.lastMessageTs).fromNow(!0))),g(\"view-livechat-room-customfields\")&&ea&&Object.keys(ea).map(e=>ek(e)&&ea[e]&&p.createElement(M,{key:e,id:e,value:ea[e]})),el&&p.createElement(w,{id:el}),en&&p.createElement(S,{id:en}))),p.createElement(b,null,p.createElement(i,{stretch:!0},p.createElement(r,{icon:\"pencil\",onClick:ep},G(\"Edit\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/chats/contextualBar/ChatInfoDirectory.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatCustomField, IOmnichannelRoom, IVisitor, Serialized } from '@rocket.chat/core-typings';\\nimport { Box, Margins, Tag, Button, ButtonGroup } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { IRouterPaths } from '@rocket.chat/ui-contexts';\\nimport { useToastMessageDispatch, useRoute, useUserSubscription, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { Meteor } from 'meteor/meteor';\\nimport moment from 'moment';\\nimport React, { useEffect, useMemo, useState } from 'react';\\n\\nimport { hasPermission } from '../../../../../../app/authorization/client';\\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../../../components/Contextualbar';\\nimport { InfoPanelField, InfoPanelLabel, InfoPanelText } from '../../../../../components/InfoPanel';\\nimport MarkdownText from '../../../../../components/MarkdownText';\\nimport { useEndpointData } from '../../../../../hooks/useEndpointData';\\nimport { useFormatDateAndTime } from '../../../../../hooks/useFormatDateAndTime';\\nimport { useFormatDuration } from '../../../../../hooks/useFormatDuration';\\nimport CustomField from '../../../components/CustomField';\\nimport { AgentField, ContactField, SlaField } from '../../components';\\nimport PriorityField from '../../components/PriorityField';\\nimport { formatQueuedAt } from '../../utils/formatQueuedAt';\\nimport DepartmentField from './DepartmentField';\\nimport VisitorClientInfo from './VisitorClientInfo';\\n\\ntype ChatInfoDirectoryProps = {\\n\\tid: string;\\n\\troute?: keyof IRouterPaths;\\n\\troom: Serialized<IOmnichannelRoom>; // FIXME: `room` is serialized, but we need to deserialize it\\n};\\n\\nfunction ChatInfoDirectory({ id, route = undefined, room }: ChatInfoDirectoryProps) {\\n\\tconst t = useTranslation();\\n\\n\\tconst formatDateAndTime = useFormatDateAndTime();\\n\\tconst { value: allCustomFields, phase: stateCustomFields } = useEndpointData('/v1/livechat/custom-fields');\\n\\tconst [customFields, setCustomFields] = useState<Serialized<ILivechatCustomField>[]>([]);\\n\\tconst formatDuration = useFormatDuration();\\n\\n\\tconst {\\n\\t\\tts,\\n\\t\\ttags,\\n\\t\\tclosedAt,\\n\\t\\tdepartmentId,\\n\\t\\tv,\\n\\t\\tservedBy,\\n\\t\\tmetrics,\\n\\t\\ttopic,\\n\\t\\twaitingResponse,\\n\\t\\tresponseBy,\\n\\t\\tslaId,\\n\\t\\tpriorityId,\\n\\t\\tlivechatData,\\n\\t\\tqueuedAt,\\n\\t} = room || { v: {} };\\n\\n\\tconst routePath = useRoute(route || 'omnichannel-directory');\\n\\tconst canViewCustomFields = () => hasPermission('view-livechat-room-customfields');\\n\\tconst subscription = useUserSubscription(id);\\n\\tconst hasGlobalEditRoomPermission = hasPermission('save-others-livechat-room-info');\\n\\tconst hasLocalEditRoomPermission = servedBy?._id === Meteor.userId();\\n\\tconst visitorId = v?._id;\\n\\tconst queueStartedAt = queuedAt || ts;\\n\\n\\tconst queueTime = useMemo(() => formatQueuedAt(room), [room]);\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tuseEffect(() => {\\n\\t\\tif (allCustomFields) {\\n\\t\\t\\tconst { customFields: customFieldsAPI } = allCustomFields;\\n\\t\\t\\tsetCustomFields(customFieldsAPI);\\n\\t\\t}\\n\\t}, [allCustomFields, stateCustomFields]);\\n\\n\\tconst checkIsVisibleAndScopeRoom = (key: string) => {\\n\\t\\tconst field = customFields.find(({ _id }) => _id === key);\\n\\t\\tif (field && field.visibility === 'visible' && field.scope === 'room') {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\t\\treturn false;\\n\\t};\\n\\n\\tconst onEditClick = useMutableCallback(() => {\\n\\t\\tconst hasEditAccess = !!subscription || hasLocalEditRoomPermission || hasGlobalEditRoomPermission;\\n\\t\\tif (!hasEditAccess) {\\n\\t\\t\\treturn dispatchToastMessage({ type: 'error', message: t('Not_authorized') });\\n\\t\\t}\\n\\n\\t\\troutePath.push(\\n\\t\\t\\troute\\n\\t\\t\\t\\t? {\\n\\t\\t\\t\\t\\t\\ttab: 'room-info',\\n\\t\\t\\t\\t\\t\\tcontext: 'edit',\\n\\t\\t\\t\\t\\t\\tid,\\n\\t\\t\\t\\t  }\\n\\t\\t\\t\\t: {\\n\\t\\t\\t\\t\\t\\tpage: 'chats',\\n\\t\\t\\t\\t\\t\\tid,\\n\\t\\t\\t\\t\\t\\tbar: 'edit',\\n\\t\\t\\t\\t  },\\n\\t\\t);\\n\\t});\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarScrollableContent p={24}>\\n\\t\\t\\t\\t<Margins block='x4'>\\n\\t\\t\\t\\t\\t{room && v && <ContactField contact={v as IVisitor} room={room as unknown as IOmnichannelRoom} />}\\n\\t\\t\\t\\t\\t{visitorId && <VisitorClientInfo uid={visitorId} />}\\n\\t\\t\\t\\t\\t{servedBy && <AgentField agent={servedBy as unknown as IOmnichannelRoom['servedBy']} />}\\n\\t\\t\\t\\t\\t{departmentId && <DepartmentField departmentId={departmentId} />}\\n\\t\\t\\t\\t\\t{tags && tags.length > 0 && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Tags')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>\\n\\t\\t\\t\\t\\t\\t\\t\\t{tags.map((tag) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Box key={tag} mie={4} display='inline'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Tag style={{ display: 'inline' }} disabled>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{tag}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Tag>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t\\t</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{topic && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Topic')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText withTruncatedText={false}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<MarkdownText variant='inline' content={topic} />\\n\\t\\t\\t\\t\\t\\t\\t</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{queueStartedAt && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Queue_Time')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t{queueTime}\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{closedAt && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Chat_Duration')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{moment(closedAt).from(moment(ts), true)}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{ts && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Created_at')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{formatDateAndTime(ts)}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{closedAt && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Closed_At')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{formatDateAndTime(closedAt)}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{servedBy?.ts && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Taken_at')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{formatDateAndTime(servedBy.ts)}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{metrics?.response?.avg && formatDuration(metrics.response.avg) && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Avg_response_time')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{formatDuration(metrics.response.avg)}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{!waitingResponse && responseBy?.lastMessageTs && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Inactivity_Time')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{moment(responseBy.lastMessageTs).fromNow(true)}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{canViewCustomFields() &&\\n\\t\\t\\t\\t\\t\\tlivechatData &&\\n\\t\\t\\t\\t\\t\\tObject.keys(livechatData).map(\\n\\t\\t\\t\\t\\t\\t\\t(key) => checkIsVisibleAndScopeRoom(key) && livechatData[key] && <CustomField key={key} id={key} value={livechatData[key]} />,\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{slaId && <SlaField id={slaId} />}\\n\\t\\t\\t\\t\\t{priorityId && <PriorityField id={priorityId} />}\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t<Button icon='pencil' onClick={onEditClick}>\\n\\t\\t\\t\\t\\t\\t{t('Edit')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</>\\n\\t);\\n}\\n\\nexport default ChatInfoDirectory;\\n\",null],\"names\":[\"Box\",\"Margins\",\"Tag\",\"Button\",\"ButtonGroup\",\"useMutableCallback\",\"useToastMessageDispatch\",\"useRoute\",\"useUserSubscription\",\"useTranslation\",\"Meteor\",\"moment\",\"React\",\"useEffect\",\"useMemo\",\"useState\",\"hasPermission\",\"ContextualbarScrollableContent\",\"ContextualbarFooter\",\"InfoPanelField\",\"InfoPanelLabel\",\"InfoPanelText\",\"MarkdownText\",\"useEndpointData\",\"useFormatDateAndTime\",\"useFormatDuration\",\"CustomField\",\"AgentField\",\"ContactField\",\"SlaField\",\"PriorityField\",\"formatQueuedAt\",\"DepartmentField\",\"VisitorClientInfo\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"_metrics$response\",\"id\",\"route\",\"room\",\"t\",\"formatDateAndTime\",\"value\",\"allCustomFields\",\"phase\",\"stateCustomFields\",\"customFields\",\"setCustomFields\",\"formatDuration\",\"ts\",\"tags\",\"closedAt\",\"departmentId\",\"servedBy\",\"metrics\",\"topic\",\"waitingResponse\",\"responseBy\",\"slaId\",\"priorityId\",\"livechatData\",\"queuedAt\",\"routePath\",\"subscription\",\"hasGlobalEditRoomPermission\",\"hasLocalEditRoomPermission\",\"_id\",\"userId\",\"visitorId\",\"queueStartedAt\",\"queueTime\",\"dispatchToastMessage\",\"customFieldsAPI\",\"checkIsVisibleAndScopeRoom\",\"key\",\"field\",\"find\",\"_ref2\",\"visibility\",\"scope\",\"onEditClick\",\"type\",\"message\",\"push\",\"tab\",\"context\",\"page\",\"bar\",\"createElement\",\"Fragment\",\"p\",\"block\",\"contact\",\"uid\",\"agent\",\"length\",\"map\",\"tag\",\"mie\",\"display\",\"style\",\"disabled\",\"withTruncatedText\",\"variant\",\"content\",\"from\",\"response\",\"avg\",\"lastMessageTs\",\"fromNow\",\"canViewCustomFields\",\"Object\",\"keys\",\"stretch\",\"icon\",\"onClick\"],\"mappings\":\"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\"}"}