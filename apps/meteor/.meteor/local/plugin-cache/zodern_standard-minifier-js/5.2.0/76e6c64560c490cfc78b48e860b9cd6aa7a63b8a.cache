{"code":"function module(e,t,n){let l,a,r,i,o,c,s,u,m,d,E,k,g,T,b,h,f,p,P,x,G,S,y,C,w,j,_,v,I;let R=[\"current\",\"itemsPerPage\",\"setItemsPerPage\",\"setCurrent\"];n.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){a=e}},1),n.link(\"@rocket.chat/fuselage\",{Box(e){r=e},Pagination(e){i=e},States(e){o=e},StatesActions(e){c=e},StatesAction(e){s=e},StatesIcon(e){u=e},StatesTitle(e){m=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue(e){d=e}},1),n.link(\"@rocket.chat/string-helpers\",{escapeRegExp(e){E=e}},2),n.link(\"@rocket.chat/ui-contexts\",{useTranslation(e){k=e},useEndpoint(e){g=e}},3),n.link(\"@tanstack/react-query\",{useQuery(e){T=e}},4),n.link(\"react\",{default(e){b=e},useEffect(e){h=e},useMemo(e){f=e},useState(e){p=e}},5),n.link(\"../../../components/FilterByText\",{default(e){P=e}},6),n.link(\"../../../components/GenericNoResults\",{default(e){x=e}},7),n.link(\"../../../components/GenericTable\",{GenericTable(e){G=e},GenericTableBody(e){S=e},GenericTableCell(e){y=e},GenericTableHeader(e){C=e},GenericTableHeaderCell(e){w=e},GenericTableLoadingTable(e){j=e},GenericTableRow(e){_=e}},8),n.link(\"../../../components/GenericTable/hooks/usePagination\",{usePagination(e){v=e}},9),n.link(\"../../../components/GenericTable/hooks/useSort\",{useSort(e){I=e}},10),n.exportDefault(e=>{let{onClick:t,reload:n}=e,q=k(),[A,B]=p(\"\"),{sortBy:D,sortDirection:F,setSort:N}=I(\"name\"),H=v(),{current:L,itemsPerPage:$,setItemsPerPage:J,setCurrent:K}=H,M=a(H,R),O=d(f(()=>({query:JSON.stringify({name:{$regex:E(A),$options:\"i\"}}),sort:'{ \"'.concat(D,'\": ').concat(\"asc\"===F?1:-1,\" }\"),count:$,offset:L}),[A,$,L,D,F]),500),Q=f(()=>[b.createElement(w,{key:\"name\",direction:F,active:\"name\"===D,onClick:N,sort:\"name\",w:\"x200\"},q(\"Name\")),b.createElement(w,{key:\"aliases\",w:\"x200\"},q(\"Aliases\"))],[N,F,D,q]),V=g(\"GET\",\"/v1/emoji-custom.all\"),{data:W,refetch:z,isSuccess:U,isLoading:X,isError:Y}=T([\"getEmojiList\",O],()=>V(O));return h(()=>{n.current=z},[n,z]),b.createElement(b.Fragment,null,b.createElement(P,{onChange:B}),X&&b.createElement(G,null,b.createElement(C,null,Q),b.createElement(S,null,b.createElement(j,{headerCells:2}))),U&&W&&W.emojis.length>0&&b.createElement(b.Fragment,null,b.createElement(G,null,b.createElement(C,null,Q),b.createElement(S,null,U&&(null==W?void 0:W.emojis.map(e=>b.createElement(_,{key:e._id,onKeyDown:t(e._id),onClick:t(e._id),tabIndex:0,role:\"link\",action:!0,\"qa-emoji-id\":e._id},b.createElement(y,{color:\"default\"},b.createElement(r,{withTruncatedText:!0},e.name)),b.createElement(y,{color:\"default\"},b.createElement(r,{withTruncatedText:!0},e.aliases))))))),b.createElement(i,l({divider:!0,current:L,itemsPerPage:$,count:(null==W?void 0:W.total)||0,onSetItemsPerPage:J,onSetCurrent:K},M))),U&&W&&0===W.emojis.length&&b.createElement(x,null),Y&&b.createElement(o,null,b.createElement(u,{name:\"warning\",variation:\"danger\"}),b.createElement(m,null,q(\"Something_went_wrong\")),b.createElement(c,null,b.createElement(s,{onClick:()=>z()},q(\"Reload_page\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/customEmoji/CustomEmoji.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Pagination, States, StatesActions, StatesAction, StatesIcon, StatesTitle } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { escapeRegExp } from '@rocket.chat/string-helpers';\\nimport { useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { MutableRefObject } from 'react';\\nimport React, { useEffect, useMemo, useState } from 'react';\\n\\nimport FilterByText from '../../../components/FilterByText';\\nimport GenericNoResults from '../../../components/GenericNoResults';\\nimport {\\n\\tGenericTable,\\n\\tGenericTableBody,\\n\\tGenericTableCell,\\n\\tGenericTableHeader,\\n\\tGenericTableHeaderCell,\\n\\tGenericTableLoadingTable,\\n\\tGenericTableRow,\\n} from '../../../components/GenericTable';\\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\\nimport { useSort } from '../../../components/GenericTable/hooks/useSort';\\n\\ntype CustomEmojiProps = {\\n\\treload: MutableRefObject<() => void>;\\n\\tonClick: (emoji: string) => () => void;\\n};\\n\\nconst CustomEmoji = ({ onClick, reload }: CustomEmojiProps) => {\\n\\tconst t = useTranslation();\\n\\n\\tconst [text, setText] = useState('');\\n\\tconst { sortBy, sortDirection, setSort } = useSort<'name'>('name');\\n\\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\\n\\n\\tconst query = useDebouncedValue(\\n\\t\\tuseMemo(\\n\\t\\t\\t() => ({\\n\\t\\t\\t\\tquery: JSON.stringify({ name: { $regex: escapeRegExp(text), $options: 'i' } }),\\n\\t\\t\\t\\tsort: `{ \\\"${sortBy}\\\": ${sortDirection === 'asc' ? 1 : -1} }`,\\n\\t\\t\\t\\tcount: itemsPerPage,\\n\\t\\t\\t\\toffset: current,\\n\\t\\t\\t}),\\n\\t\\t\\t[text, itemsPerPage, current, sortBy, sortDirection],\\n\\t\\t),\\n\\t\\t500,\\n\\t);\\n\\n\\tconst headers = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t<GenericTableHeaderCell key='name' direction={sortDirection} active={sortBy === 'name'} onClick={setSort} sort='name' w='x200'>\\n\\t\\t\\t\\t{t('Name')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='aliases' w='x200'>\\n\\t\\t\\t\\t{t('Aliases')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t],\\n\\t\\t[setSort, sortDirection, sortBy, t],\\n\\t);\\n\\n\\tconst getEmojiList = useEndpoint('GET', '/v1/emoji-custom.all');\\n\\tconst { data, refetch, isSuccess, isLoading, isError } = useQuery(['getEmojiList', query], () => getEmojiList(query));\\n\\n\\tuseEffect(() => {\\n\\t\\treload.current = refetch;\\n\\t}, [reload, refetch]);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<FilterByText onChange={setText} />\\n\\t\\t\\t{isLoading && (\\n\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t<GenericTableLoadingTable headerCells={2} />\\n\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t)}\\n\\t\\t\\t{isSuccess && data && data.emojis.length > 0 && (\\n\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t\\t{isSuccess &&\\n\\t\\t\\t\\t\\t\\t\\t\\tdata?.emojis.map((emojis) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<GenericTableRow\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tkey={emojis._id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonKeyDown={onClick(emojis._id)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonClick={onClick(emojis._id)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttabIndex={0}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trole='link'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taction\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tqa-emoji-id={emojis._id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<GenericTableCell color='default'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Box withTruncatedText>{emojis.name}</Box>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</GenericTableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<GenericTableCell color='default'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Box withTruncatedText>{emojis.aliases}</Box>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</GenericTableCell>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</GenericTableRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t\\t\\t<Pagination\\n\\t\\t\\t\\t\\t\\tdivider\\n\\t\\t\\t\\t\\t\\tcurrent={current}\\n\\t\\t\\t\\t\\t\\titemsPerPage={itemsPerPage}\\n\\t\\t\\t\\t\\t\\tcount={data?.total || 0}\\n\\t\\t\\t\\t\\t\\tonSetItemsPerPage={onSetItemsPerPage}\\n\\t\\t\\t\\t\\t\\tonSetCurrent={onSetCurrent}\\n\\t\\t\\t\\t\\t\\t{...paginationProps}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</>\\n\\t\\t\\t)}\\n\\t\\t\\t{isSuccess && data && data.emojis.length === 0 && <GenericNoResults />}\\n\\t\\t\\t{isError && (\\n\\t\\t\\t\\t<States>\\n\\t\\t\\t\\t\\t<StatesIcon name='warning' variation='danger' />\\n\\t\\t\\t\\t\\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\\n\\t\\t\\t\\t\\t<StatesActions>\\n\\t\\t\\t\\t\\t\\t<StatesAction onClick={() => refetch()}>{t('Reload_page')}</StatesAction>\\n\\t\\t\\t\\t\\t</StatesActions>\\n\\t\\t\\t\\t</States>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default CustomEmoji;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Box\",\"Pagination\",\"States\",\"StatesActions\",\"StatesAction\",\"StatesIcon\",\"StatesTitle\",\"useDebouncedValue\",\"escapeRegExp\",\"useTranslation\",\"useEndpoint\",\"useQuery\",\"React\",\"useEffect\",\"useMemo\",\"useState\",\"FilterByText\",\"GenericNoResults\",\"GenericTable\",\"GenericTableBody\",\"GenericTableCell\",\"GenericTableHeader\",\"GenericTableHeaderCell\",\"GenericTableLoadingTable\",\"GenericTableRow\",\"usePagination\",\"useSort\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"onClick\",\"reload\",\"t\",\"text\",\"setText\",\"sortBy\",\"sortDirection\",\"setSort\",\"_usePagination\",\"current\",\"itemsPerPage\",\"setItemsPerPage\",\"onSetItemsPerPage\",\"setCurrent\",\"onSetCurrent\",\"paginationProps\",\"_excluded\",\"query\",\"JSON\",\"stringify\",\"name\",\"$regex\",\"$options\",\"sort\",\"concat\",\"count\",\"offset\",\"headers\",\"createElement\",\"key\",\"direction\",\"active\",\"w\",\"getEmojiList\",\"data\",\"refetch\",\"isSuccess\",\"isLoading\",\"isError\",\"Fragment\",\"onChange\",\"headerCells\",\"emojis\",\"length\",\"map\",\"_id\",\"onKeyDown\",\"tabIndex\",\"role\",\"action\",\"color\",\"withTruncatedText\",\"aliases\",\"divider\",\"total\",\"variation\"],\"mappings\":\"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\"}"}