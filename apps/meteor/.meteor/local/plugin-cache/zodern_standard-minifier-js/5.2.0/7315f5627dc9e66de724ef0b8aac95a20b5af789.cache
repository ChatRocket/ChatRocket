{"code":"function module(e,n,r){r.link(\"@babel/runtime/regenerator\",{default:function(e){t=e}},0),r.export({useInfiniteFederationSearchPublicRooms:function(){return o}}),r.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){u=e}},0),r.link(\"@tanstack/react-query\",{useInfiniteQuery:function(e){a=e}},1);var t,u,a,o=function(e,n,r){var o=u(\"GET\",\"/v1/federation/searchPublicRooms\");return a([\"federation/searchPublicRooms\",e,n,r],function(u){var a;return t.async(function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.pageParam,t.abrupt(\"return\",o({serverName:e,roomName:n,count:r,pageToken:a}));case 2:case\"end\":return t.stop()}},null,null,null,Promise)},{getNextPageParam:function(e){return e.nextPageToken},useErrorBoundary:!0,staleTime:6e5,cacheTime:6e5})}}","map":"{\"version\":3,\"sources\":[\"client/sidebarv2/header/MatrixFederationSearch/useInfiniteFederationSearchPublicRooms.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useInfiniteQuery } from '@tanstack/react-query';\\n\\nconst tenMinutes = 10 * 60 * 1000;\\n\\nexport const useInfiniteFederationSearchPublicRooms = (serverName: string, roomName?: string, count?: number) => {\\n\\tconst fetchRoomList = useEndpoint('GET', '/v1/federation/searchPublicRooms');\\n\\treturn useInfiniteQuery(\\n\\t\\t['federation/searchPublicRooms', serverName, roomName, count],\\n\\t\\tasync ({ pageParam }) => fetchRoomList({ serverName, roomName, count, pageToken: pageParam }),\\n\\t\\t{\\n\\t\\t\\tgetNextPageParam: (lastPage) => lastPage.nextPageToken,\\n\\t\\t\\tuseErrorBoundary: true,\\n\\t\\t\\tstaleTime: tenMinutes,\\n\\t\\t\\tcacheTime: tenMinutes,\\n\\t\\t},\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"export\",\"useInfiniteFederationSearchPublicRooms\",\"useEndpoint\",\"useInfiniteQuery\",\"serverName\",\"roomName\",\"count\",\"fetchRoomList\",\"_ref\",\"pageParam\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"pageToken\",\"stop\",\"Promise\",\"getNextPageParam\",\"lastPage\",\"nextPageToken\",\"useErrorBoundary\",\"staleTime\",\"cacheTime\"],\"mappings\":\"uBAAsBA,EAAMC,IAAA,CAAA,6BAA2B,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAvDH,EAAOK,MAAE,CAAA,CAAAC,uCAA6C,WAAC,OAAAA,CAAA,CAAA,GAAAN,EAAAC,IAAA,CAAA,2BAAA,CAAAM,YAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAO,iBAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAKhD,IALPC,EAAuDG,EAAAC,EAK1CF,EAAyC,SAACG,CAAkB,CAAEC,CAAiB,CAAEC,CAAc,EAC3G,IAAMC,EAAgBL,EAAY,MAAO,oCACzC,OAAOC,EACN,CAAC,+BAAgCC,EAAYC,EAAUC,EAAM,CAC7D,SAAAE,CAAA,EAAA,IAAAC,EAAA,OAAAV,EAAAW,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAkB,OAATJ,EAASD,EAATC,SAAS,CAAAE,EAAAG,MAAA,CAAA,SAAOP,EAAc,CAAEH,WAAAA,EAAYC,SAAAA,EAAUC,MAAAA,EAAOS,UAAWN,CAAS,GAAG,MAAA,EAAA,IAAA,MAAA,OAAAE,EAAAK,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAC7F,CACCC,iBAAkB,SAACC,CAAQ,EAAA,OAAKA,EAASC,aAAa,EACtDC,iBAAkB,CAAA,EAClBC,UAVgB,IAWhBC,UAXgB,KAcnB\"}"}