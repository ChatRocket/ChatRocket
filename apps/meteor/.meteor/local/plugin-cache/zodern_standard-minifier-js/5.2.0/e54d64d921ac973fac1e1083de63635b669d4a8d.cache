{"code":"function module(e,t,n){var o,a,i,c,l,r,u,E,_,m,s,d,f,k,S;n.link(\"@rocket.chat/ui-client\",{FeaturePreview:function(e){o=e},FeaturePreviewOff:function(e){a=e},FeaturePreviewOn:function(e){i=e}},0),n.link(\"react\",{default:function(e){c=e},useCallback:function(e){l=e}},1),n.link(\"react-i18next\",{useTranslation:function(e){r=e}},2),n.link(\"../../../../app/e2e/client\",{e2e:function(e){u=e}},3),n.link(\"../../../../app/e2e/client/E2EEState\",{E2EEState:function(e){E=e}},4),n.link(\"../../../../app/e2e/client/E2ERoomState\",{E2ERoomState:function(e){_=e}},5),n.link(\"../body/RoomBody\",{default:function(e){m=e}},6),n.link(\"../body/RoomBodyV2\",{default:function(e){s=e}},7),n.link(\"../contexts/RoomContext\",{useRoom:function(e){d=e}},8),n.link(\"../hooks/useE2EERoomState\",{useE2EERoomState:function(e){f=e}},9),n.link(\"../hooks/useE2EEState\",{useE2EEState:function(e){k=e}},10),n.link(\"./RoomE2EENotAllowed\",{default:function(e){S=e}},11),n.exportDefault(function(){var e=d(),t=k(),n=f(e._id),p=r().t,y=window.localStorage.getItem(\"e2e.randomPassword\"),w=l(function(){y&&u.openSaveE2EEPasswordModal(y)},[y]),R=l(function(){return u.decodePrivateKeyFlow()},[]);return t===E.SAVE_PASSWORD?c.createElement(S,{title:p(\"__roomName__is_encrypted\",{roomName:e.name}),subTitle:p(\"Save_your_encryption_password_to_access\"),icon:\"key\",action:w,btnText:p(\"Save_E2EE_password\")}):t===E.ENTER_PASSWORD?c.createElement(S,{title:p(\"__roomName__is_encrypted\",{roomName:e.name}),subTitle:p(\"Enter_your_E2E_password_to_access\"),icon:\"key\",action:R,btnText:p(\"Enter_your_E2E_password\")}):n===_.WAITING_KEYS?c.createElement(S,{title:p(\"Check_back_later\"),subTitle:p(\"__roomName__encryption_keys_need_to_be_updated\",{roomName:e.name}),icon:\"clock\"}):c.createElement(o,{feature:\"newNavigation\"},c.createElement(i,null,c.createElement(s,null)),c.createElement(a,null,c.createElement(m,null)))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/E2EESetup/RoomE2EESetup.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { FeaturePreview, FeaturePreviewOff, FeaturePreviewOn } from '@rocket.chat/ui-client';\\nimport React, { useCallback } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { e2e } from '../../../../app/e2e/client';\\nimport { E2EEState } from '../../../../app/e2e/client/E2EEState';\\nimport { E2ERoomState } from '../../../../app/e2e/client/E2ERoomState';\\nimport RoomBody from '../body/RoomBody';\\nimport RoomBodyV2 from '../body/RoomBodyV2';\\nimport { useRoom } from '../contexts/RoomContext';\\nimport { useE2EERoomState } from '../hooks/useE2EERoomState';\\nimport { useE2EEState } from '../hooks/useE2EEState';\\nimport RoomE2EENotAllowed from './RoomE2EENotAllowed';\\n\\nconst RoomE2EESetup = () => {\\n\\tconst room = useRoom();\\n\\n\\tconst e2eeState = useE2EEState();\\n\\tconst e2eRoomState = useE2EERoomState(room._id);\\n\\n\\tconst { t } = useTranslation();\\n\\tconst randomPassword = window.localStorage.getItem('e2e.randomPassword');\\n\\n\\tconst onSavePassword = useCallback(() => {\\n\\t\\tif (!randomPassword) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\te2e.openSaveE2EEPasswordModal(randomPassword);\\n\\t}, [randomPassword]);\\n\\n\\tconst onEnterE2EEPassword = useCallback(() => e2e.decodePrivateKeyFlow(), []);\\n\\n\\tif (e2eeState === E2EEState.SAVE_PASSWORD) {\\n\\t\\treturn (\\n\\t\\t\\t<RoomE2EENotAllowed\\n\\t\\t\\t\\ttitle={t('__roomName__is_encrypted', { roomName: room.name })}\\n\\t\\t\\t\\tsubTitle={t('Save_your_encryption_password_to_access')}\\n\\t\\t\\t\\ticon='key'\\n\\t\\t\\t\\taction={onSavePassword}\\n\\t\\t\\t\\tbtnText={t('Save_E2EE_password')}\\n\\t\\t\\t/>\\n\\t\\t);\\n\\t}\\n\\n\\tif (e2eeState === E2EEState.ENTER_PASSWORD) {\\n\\t\\treturn (\\n\\t\\t\\t<RoomE2EENotAllowed\\n\\t\\t\\t\\ttitle={t('__roomName__is_encrypted', { roomName: room.name })}\\n\\t\\t\\t\\tsubTitle={t('Enter_your_E2E_password_to_access')}\\n\\t\\t\\t\\ticon='key'\\n\\t\\t\\t\\taction={onEnterE2EEPassword}\\n\\t\\t\\t\\tbtnText={t('Enter_your_E2E_password')}\\n\\t\\t\\t/>\\n\\t\\t);\\n\\t}\\n\\n\\tif (e2eRoomState === E2ERoomState.WAITING_KEYS) {\\n\\t\\treturn (\\n\\t\\t\\t<RoomE2EENotAllowed\\n\\t\\t\\t\\ttitle={t('Check_back_later')}\\n\\t\\t\\t\\tsubTitle={t('__roomName__encryption_keys_need_to_be_updated', { roomName: room.name })}\\n\\t\\t\\t\\ticon='clock'\\n\\t\\t\\t/>\\n\\t\\t);\\n\\t}\\n\\n\\treturn (\\n\\t\\t<FeaturePreview feature='newNavigation'>\\n\\t\\t\\t<FeaturePreviewOn>\\n\\t\\t\\t\\t<RoomBodyV2 />\\n\\t\\t\\t</FeaturePreviewOn>\\n\\t\\t\\t<FeaturePreviewOff>\\n\\t\\t\\t\\t<RoomBody />\\n\\t\\t\\t</FeaturePreviewOff>\\n\\t\\t</FeaturePreview>\\n\\t);\\n};\\n\\nexport default RoomE2EESetup;\\n\",null],\"names\":[\"FeaturePreview\",\"FeaturePreviewOff\",\"FeaturePreviewOn\",\"React\",\"useCallback\",\"useTranslation\",\"e2e\",\"E2EEState\",\"E2ERoomState\",\"RoomBody\",\"RoomBodyV2\",\"useRoom\",\"useE2EERoomState\",\"useE2EEState\",\"RoomE2EENotAllowed\",\"module\",\"link\",\"v\",\"exportDefault\",\"room\",\"e2eeState\",\"e2eRoomState\",\"_id\",\"t\",\"_useTranslation\",\"randomPassword\",\"window\",\"localStorage\",\"getItem\",\"onSavePassword\",\"openSaveE2EEPasswordModal\",\"onEnterE2EEPassword\",\"decodePrivateKeyFlow\",\"SAVE_PASSWORD\",\"createElement\",\"title\",\"roomName\",\"name\",\"subTitle\",\"icon\",\"action\",\"btnText\",\"ENTER_PASSWORD\",\"WAITING_KEYS\",\"feature\"],\"mappings\":\"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\"}"}