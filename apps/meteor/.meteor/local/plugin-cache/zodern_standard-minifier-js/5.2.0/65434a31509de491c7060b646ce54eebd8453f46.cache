{"code":"function module(e,s,t){let a,c;t.export({useSeatsCap:()=>r}),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){a=e}},0),t.link(\"@tanstack/react-query\",{useQuery(e){c=e}},1);let r=()=>{let e=a(\"GET\",\"/v1/licenses.maxActiveUsers\"),s=c([\"/v1/licenses.maxActiveUsers\"],()=>e());if(s.isSuccess)return{activeUsers:s.data.activeUsers,maxActiveUsers:s.data.maxActiveUsers&&s.data.maxActiveUsers>0?s.data.maxActiveUsers:Number.POSITIVE_INFINITY,reload:()=>s.refetch()}}}","map":"{\"version\":3,\"sources\":[\"client/views/admin/users/useSeatsCap.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\n\\nexport type SeatCapProps = {\\n\\tmaxActiveUsers: number;\\n\\tactiveUsers: number;\\n\\treload: () => void;\\n};\\n\\nexport const useSeatsCap = (): SeatCapProps | undefined => {\\n\\t// #TODO: Stop using this endpoint\\n\\tconst fetch = useEndpoint('GET', '/v1/licenses.maxActiveUsers');\\n\\n\\tconst result = useQuery(['/v1/licenses.maxActiveUsers'], () => fetch());\\n\\n\\tif (!result.isSuccess) {\\n\\t\\treturn undefined;\\n\\t}\\n\\n\\treturn {\\n\\t\\tactiveUsers: result.data.activeUsers,\\n\\t\\tmaxActiveUsers: result.data.maxActiveUsers && result.data.maxActiveUsers > 0 ? result.data.maxActiveUsers : Number.POSITIVE_INFINITY,\\n\\t\\treload: () => result.refetch(),\\n\\t};\\n};\\n\",null],\"names\":[\"useEndpoint\",\"useQuery\",\"module\",\"export\",\"useSeatsCap\",\"link\",\"v\",\"fetch\",\"result\",\"isSuccess\",\"activeUsers\",\"data\",\"maxActiveUsers\",\"Number\",\"POSITIVE_INFINITY\",\"reload\",\"refetch\"],\"mappings\":\"2BAA4BA,EAA2BC,EAAvDC,EAAOC,MAAE,CAAA,CAAAC,YAAaA,IAAMA,CAAA,GAA2BF,EAAAG,IAAA,CAAA,2BAAA,CAAAL,YAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,wBAAA,CAAAJ,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAShD,IAAMF,EAAcA,KAE1B,IAAMG,EAAQP,EAAY,MAAO,+BAE3BQ,EAASP,EAAS,CAAC,8BAA8B,CAAE,IAAMM,KAE/D,GAAKC,EAAOC,SAAS,CAIrB,MAAO,CACNC,YAAaF,EAAOG,IAAI,CAACD,WAAW,CACpCE,eAAgBJ,EAAOG,IAAI,CAACC,cAAc,EAAIJ,EAAOG,IAAI,CAACC,cAAc,CAAG,EAAIJ,EAAOG,IAAI,CAACC,cAAc,CAAGC,OAAOC,iBAAiB,CACpIC,OAAQA,IAAMP,EAAOQ,OAAO,GAE9B\"}"}