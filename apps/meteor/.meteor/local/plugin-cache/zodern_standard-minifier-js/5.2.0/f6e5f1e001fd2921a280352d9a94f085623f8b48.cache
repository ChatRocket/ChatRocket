{"code":"function module(e,t,n){let a,r,l,i,s,c,o;n.link(\"@rocket.chat/fuselage\",{Box(e){a=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){r=e}},1),n.link(\"@tanstack/react-query\",{useQuery(e){l=e}},2),n.link(\"react\",{default(e){i=e}},3),n.link(\"react-i18next\",{useTranslation(e){s=e}},4),n.link(\"../../../components/Skeleton\",{FormSkeleton(e){c=e}},5),n.link(\"./AgentEdit\",{default(e){o=e}},6),n.exportDefault(e=>{let{uid:t}=e,{t:n}=s(),u=r(\"GET\",\"/v1/livechat/department\"),d=r(\"GET\",\"/v1/livechat/users/agent/:_id\",{_id:t}),g=r(\"GET\",\"/v1/livechat/agents/:agentId/departments\",{agentId:t}),{data:m,isLoading:h,error:k}=l([\"livechat-getAgentById\",t],async()=>d(),{refetchOnWindowFocus:!1}),{data:p,isLoading:v,error:f}=l([\"livechat-getAgentDepartments\",t],async()=>g(),{refetchOnWindowFocus:!1}),{data:E,isLoading:y,error:D}=l([\"livechat-getAvailableDepartments\"],async()=>u({showArchived:\"true\"}));return h||y||v||!p||!E?i.createElement(c,null):k||f||D||!(null!=m&&m.user)?i.createElement(a,{p:16},n(\"User_not_found\")):i.createElement(o,{agentData:m.user,userDepartments:p.departments,availableDepartments:E.departments})})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/agents/AgentEditWithData.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatAgent } from '@rocket.chat/core-typings';\\nimport { Box } from '@rocket.chat/fuselage';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { FormSkeleton } from '../../../components/Skeleton';\\nimport AgentEdit from './AgentEdit';\\n\\nconst AgentEditWithData = ({ uid }: { uid: ILivechatAgent['_id'] }): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst getAvailableDepartments = useEndpoint('GET', '/v1/livechat/department');\\n\\tconst getAgentById = useEndpoint('GET', '/v1/livechat/users/agent/:_id', { _id: uid });\\n\\tconst getAgentDepartments = useEndpoint('GET', '/v1/livechat/agents/:agentId/departments', { agentId: uid });\\n\\n\\tconst { data, isLoading, error } = useQuery(['livechat-getAgentById', uid], async () => getAgentById(), { refetchOnWindowFocus: false });\\n\\n\\tconst {\\n\\t\\tdata: agentDepartments,\\n\\t\\tisLoading: agentDepartmentsLoading,\\n\\t\\terror: agentsDepartmentsError,\\n\\t} = useQuery(['livechat-getAgentDepartments', uid], async () => getAgentDepartments(), { refetchOnWindowFocus: false });\\n\\n\\tconst {\\n\\t\\tdata: availableDepartments,\\n\\t\\tisLoading: availableDepartmentsLoading,\\n\\t\\terror: availableDepartmentsError,\\n\\t} = useQuery(['livechat-getAvailableDepartments'], async () => getAvailableDepartments({ showArchived: 'true' }));\\n\\n\\tif (isLoading || availableDepartmentsLoading || agentDepartmentsLoading || !agentDepartments || !availableDepartments) {\\n\\t\\treturn <FormSkeleton />;\\n\\t}\\n\\n\\tif (error || agentsDepartmentsError || availableDepartmentsError || !data?.user) {\\n\\t\\treturn <Box p={16}>{t('User_not_found')}</Box>;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<AgentEdit\\n\\t\\t\\tagentData={data.user}\\n\\t\\t\\tuserDepartments={agentDepartments.departments}\\n\\t\\t\\tavailableDepartments={availableDepartments.departments}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default AgentEditWithData;\\n\",null],\"names\":[\"Box\",\"useEndpoint\",\"useQuery\",\"React\",\"useTranslation\",\"FormSkeleton\",\"AgentEdit\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"uid\",\"t\",\"getAvailableDepartments\",\"getAgentById\",\"_id\",\"getAgentDepartments\",\"agentId\",\"data\",\"isLoading\",\"error\",\"refetchOnWindowFocus\",\"agentDepartments\",\"agentDepartmentsLoading\",\"agentsDepartmentsError\",\"availableDepartments\",\"availableDepartmentsLoading\",\"availableDepartmentsError\",\"showArchived\",\"createElement\",\"user\",\"p\",\"agentData\",\"userDepartments\",\"departments\"],\"mappings\":\"2BACAA,EAA4CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAArCC,EAAOC,IAAA,CAAM,wBAAwB,CAAAR,IAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAP,YAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAN,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAJ,eAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,+BAAA,CAAAH,aAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,cAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA5CF,EAAOI,aAAa,CAUMC,IAA0D,GAAzD,CAAEC,IAAAA,CAAAA,CAAqC,CAAAD,EAC3D,CAAEE,EAAAA,CAAAA,CAAG,CAAGV,IAERW,EAA0Bd,EAAY,MAAO,2BAC7Ce,EAAef,EAAY,MAAO,gCAAiC,CAAEgB,IAAKJ,CAAG,GAC7EK,EAAsBjB,EAAY,MAAO,2CAA4C,CAAEkB,QAASN,CAAG,GAEnG,CAAEO,KAAAA,CAAI,CAAEC,UAAAA,CAAS,CAAEC,MAAAA,CAAAA,CAAO,CAAGpB,EAAS,CAAC,wBAAyBW,EAAI,CAAE,SAAYG,IAAgB,CAAEO,qBAAsB,CAAA,CAAK,GAE/H,CACLH,KAAMI,CAAgB,CACtBH,UAAWI,CAAuB,CAClCH,MAAOI,CAAAA,CACP,CAAGxB,EAAS,CAAC,+BAAgCW,EAAI,CAAE,SAAYK,IAAuB,CAAEK,qBAAsB,CAAA,CAAK,GAE9G,CACLH,KAAMO,CAAoB,CAC1BN,UAAWO,CAA2B,CACtCN,MAAOO,CAAAA,CACP,CAAG3B,EAAS,CAAC,mCAAmC,CAAE,SAAYa,EAAwB,CAAEe,aAAc,MAAM,WAE7G,AAAIT,GAAaO,GAA+BH,GAA2B,CAACD,GAAoB,CAACG,EACzFxB,EAAA4B,aAAA,CAAC1B,EAAY,MAGjBiB,GAASI,GAA0BG,GAA6B,CAACT,CAAAA,MAAAA,GAAAA,EAAMY,IAAI,AAAJA,EACnE7B,EAAA4B,aAAA,CAAC/B,EAAG,CAACiC,EAAG,EAAG,EAAEnB,EAAE,mBAItBX,EAAA4B,aAAA,CAACzB,EAAS,CACT4B,UAAWd,EAAKY,IAAK,CACrBG,gBAAiBX,EAAiBY,WAAY,CAC9CT,qBAAsBA,EAAqBS,WAAAA,AAAY,EAG1D\"}"}