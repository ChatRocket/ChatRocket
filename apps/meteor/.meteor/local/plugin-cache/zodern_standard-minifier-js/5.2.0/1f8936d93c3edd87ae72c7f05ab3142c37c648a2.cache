{"code":"function module(n,t,e){e.export({useScrollableRecordList:function(){return c}}),e.link(\"react\",{useCallback:function(n){i=n},useEffect:function(n){o=n}},0),e.link(\"../../lib/asyncState\",{AsyncStatePhase:function(n){u=n}},1);var i,o,u,c=function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,c=i(function(i){(n.phase===u.LOADING||i+1<n.itemCount)&&n.batchHandle(function(){return t(i,e)})},[n,t,e]);return o(function(){c(0)},[c]),{loadMoreItems:c,initialItemCount:e}}}","map":"{\"version\":3,\"sources\":[\"client/hooks/lists/useScrollableRecordList.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useCallback, useEffect } from 'react';\\n\\nimport { AsyncStatePhase } from '../../lib/asyncState';\\nimport type { RecordList, RecordListBatchChanges } from '../../lib/lists/RecordList';\\n\\nconst INITIAL_ITEM_COUNT = 25;\\n\\nexport const useScrollableRecordList = <T extends { _id: string; _updatedAt?: Date }>(\\n\\trecordList: RecordList<T>,\\n\\tfetchBatchChanges: (start: number, end: number) => Promise<RecordListBatchChanges<T>>,\\n\\tinitialItemCount: number = INITIAL_ITEM_COUNT,\\n): {\\n\\tloadMoreItems: (start: number) => void;\\n\\tinitialItemCount: number;\\n} => {\\n\\tconst loadMoreItems = useCallback(\\n\\t\\t(start: number) => {\\n\\t\\t\\tif (recordList.phase === AsyncStatePhase.LOADING || start + 1 < recordList.itemCount) {\\n\\t\\t\\t\\trecordList.batchHandle(() => fetchBatchChanges(start, initialItemCount));\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[recordList, fetchBatchChanges, initialItemCount],\\n\\t);\\n\\n\\tuseEffect(() => {\\n\\t\\tloadMoreItems(0);\\n\\t}, [loadMoreItems]);\\n\\n\\treturn { loadMoreItems, initialItemCount };\\n};\\n\",null],\"names\":[\"module\",\"export\",\"useScrollableRecordList\",\"link\",\"useCallback\",\"v\",\"useEffect\",\"AsyncStatePhase\",\"recordList\",\"fetchBatchChanges\",\"initialItemCount\",\"arguments\",\"length\",\"undefined\",\"loadMoreItems\",\"start\",\"phase\",\"LOADING\",\"itemCount\",\"batchHandle\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,wBAA8B,WAAQ,OAAAA,CAAA,CAAA,GAAAF,EAAAG,IAAA,CAAA,QAAA,CAAAC,YAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,EAAAC,UAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,uBAAA,CAAAI,gBAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAOxC,IAPwCD,EAAAE,EAAAC,EAOlCL,EAA0B,SACtCM,CAAyB,CACzBC,CAAqF,EAKlF,IAJHC,EAAAC,UAAAC,MAAA,CAAA,GAAAD,AAAAE,KAAAA,IAAAF,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAL0B,GAUpBG,EAAgBV,EACrB,SAACW,CAAa,EACTP,CAAAA,EAAWQ,KAAK,GAAKT,EAAgBU,OAAO,EAAIF,EAAQ,EAAIP,EAAWU,SAAS,AAATA,GAC1EV,EAAWW,WAAW,CAAC,WAAA,OAAMV,EAAkBM,EAAOL,EAAiB,EAEzE,EACA,CAACF,EAAYC,EAAmBC,EAAiB,EAOlD,OAJAJ,EAAU,WACTQ,EAAc,EACf,EAAG,CAACA,EAAc,EAEX,CAAEA,cAAAA,EAAeJ,iBAAAA,CAAgB,CACzC\"}"}