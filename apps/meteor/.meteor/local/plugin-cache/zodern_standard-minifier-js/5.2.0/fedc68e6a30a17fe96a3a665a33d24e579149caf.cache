{"code":"function module(e,t,l){let n,a,i,s,r,c,o,m,u,d,g,v,E,M,h;let k=[\"history\",\"setChatId\"];l.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),l.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){a=e}},1),l.link(\"@rocket.chat/fuselage\",{Message(e){i=e},Box(e){s=e},MessageGenericPreview(e){r=e},MessageGenericPreviewContent(e){c=e},MessageGenericPreviewDescription(e){o=e},MessageGenericPreviewTitle(e){m=e},MessageSystemBody(e){u=e}},0),l.link(\"@rocket.chat/ui-avatar\",{UserAvatar(e){d=e}},1),l.link(\"react\",{default(e){g=e},memo(e){v=e}},2),l.link(\"react-i18next\",{useTranslation(e){E=e}},3),l.link(\"../../../hooks/useFormatDateAndTime\",{useFormatDateAndTime(e){M=e}},4),l.link(\"../../../lib/clickableItem\",{clickableItem(e){h=e}},5),l.exportDefault(v(h(function(e){var t,l,v,h,b,_,f;let{history:p,setChatId:C}=e,I=a(e,k),{t:w}=E(),y=M(),x=null===(t=p.servedBy)||void 0===t?void 0:t.username,P=!!(null!==(l=p.closingMessage)&&void 0!==l&&null!==(v=l.msg)&&void 0!==v&&v.trim());return g.createElement(s,n({pbs:16,is:i,onClick:()=>{C(p._id)},\"data-qa\":\"chat-history-item\"},I),g.createElement(i.LeftContainer,null,x&&g.createElement(d,{username:x,size:\"x36\"})),g.createElement(i.Container,null,g.createElement(i.Header,null,g.createElement(i.Name,{title:x},x),(null===(h=p.closingMessage)||void 0===h?void 0:h.ts)&&g.createElement(i.Timestamp,null,y(null===(b=p.closingMessage)||void 0===b?void 0:b.ts))),g.createElement(i.Body,null,g.createElement(u,{title:w(\"Conversation_closed_without_comment\")},w(\"Conversation_closed_without_comment\")),P&&g.createElement(r,null,g.createElement(c,null,g.createElement(m,null,w(\"Closing_chat_message\"),\":\"),g.createElement(o,{clamp:!0},g.createElement(s,{title:null===(_=p.closingMessage)||void 0===_?void 0:_.msg},null===(f=p.closingMessage)||void 0===f?void 0:f.msg))))),g.createElement(i.Metrics,null,g.createElement(i.Metrics.Item,null,g.createElement(i.Metrics.Item.Icon,{name:\"thread\"}),g.createElement(i.Metrics.Item.Label,null,p.msgs)))))})))}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/contactHistory/ContactHistoryItem.tsx\",\"<anon>\"],\"sourcesContent\":[\"import {\\n\\tMessage,\\n\\tBox,\\n\\tMessageGenericPreview,\\n\\tMessageGenericPreviewContent,\\n\\tMessageGenericPreviewDescription,\\n\\tMessageGenericPreviewTitle,\\n\\tMessageSystemBody,\\n} from '@rocket.chat/fuselage';\\nimport type { VisitorSearchChatsResult } from '@rocket.chat/rest-typings';\\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\\nimport type { ComponentPropsWithoutRef, Dispatch, ReactElement, SetStateAction } from 'react';\\nimport React, { memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\\nimport { clickableItem } from '../../../lib/clickableItem';\\n\\ntype ContactHistoryItemProps = {\\n\\thistory: VisitorSearchChatsResult;\\n\\tsetChatId: Dispatch<SetStateAction<string>>;\\n} & ComponentPropsWithoutRef<typeof Box>;\\n\\nfunction ContactHistoryItem({ history, setChatId, ...props }: ContactHistoryItemProps): ReactElement {\\n\\tconst { t } = useTranslation();\\n\\tconst formatDate = useFormatDateAndTime();\\n\\tconst username = history.servedBy?.username;\\n\\tconst hasClosingMessage = !!history.closingMessage?.msg?.trim();\\n\\tconst onClick = (): void => {\\n\\t\\tsetChatId(history._id);\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Box pbs={16} is={Message} onClick={onClick} data-qa='chat-history-item' {...props}>\\n\\t\\t\\t<Message.LeftContainer>{username && <UserAvatar username={username} size='x36' />}</Message.LeftContainer>\\n\\t\\t\\t<Message.Container>\\n\\t\\t\\t\\t<Message.Header>\\n\\t\\t\\t\\t\\t<Message.Name title={username}>{username}</Message.Name>\\n\\t\\t\\t\\t\\t{history.closingMessage?.ts && <Message.Timestamp>{formatDate(history.closingMessage?.ts)}</Message.Timestamp>}\\n\\t\\t\\t\\t</Message.Header>\\n\\t\\t\\t\\t<Message.Body>\\n\\t\\t\\t\\t\\t<MessageSystemBody title={t('Conversation_closed_without_comment')}>{t('Conversation_closed_without_comment')}</MessageSystemBody>\\n\\t\\t\\t\\t\\t{hasClosingMessage && (\\n\\t\\t\\t\\t\\t\\t<MessageGenericPreview>\\n\\t\\t\\t\\t\\t\\t\\t<MessageGenericPreviewContent>\\n\\t\\t\\t\\t\\t\\t\\t\\t<MessageGenericPreviewTitle>{t('Closing_chat_message')}:</MessageGenericPreviewTitle>\\n\\t\\t\\t\\t\\t\\t\\t\\t<MessageGenericPreviewDescription clamp>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Box title={history.closingMessage?.msg}>{history.closingMessage?.msg}</Box>\\n\\t\\t\\t\\t\\t\\t\\t\\t</MessageGenericPreviewDescription>\\n\\t\\t\\t\\t\\t\\t\\t</MessageGenericPreviewContent>\\n\\t\\t\\t\\t\\t\\t</MessageGenericPreview>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</Message.Body>\\n\\t\\t\\t\\t<Message.Metrics>\\n\\t\\t\\t\\t\\t<Message.Metrics.Item>\\n\\t\\t\\t\\t\\t\\t<Message.Metrics.Item.Icon name='thread' />\\n\\t\\t\\t\\t\\t\\t<Message.Metrics.Item.Label>{history.msgs}</Message.Metrics.Item.Label>\\n\\t\\t\\t\\t\\t</Message.Metrics.Item>\\n\\t\\t\\t\\t</Message.Metrics>\\n\\t\\t\\t</Message.Container>\\n\\t\\t</Box>\\n\\t);\\n}\\n\\nexport default memo(clickableItem(ContactHistoryItem));\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Message\",\"Box\",\"MessageGenericPreview\",\"MessageGenericPreviewContent\",\"MessageGenericPreviewDescription\",\"MessageGenericPreviewTitle\",\"MessageSystemBody\",\"UserAvatar\",\"React\",\"memo\",\"useTranslation\",\"useFormatDateAndTime\",\"clickableItem\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_history$servedBy\",\"_history$closingMessa\",\"_history$closingMessa2\",\"_history$closingMessa3\",\"_history$closingMessa4\",\"_history$closingMessa5\",\"_history$closingMessa6\",\"history\",\"setChatId\",\"props\",\"_excluded\",\"t\",\"formatDate\",\"username\",\"servedBy\",\"hasClosingMessage\",\"closingMessage\",\"msg\",\"trim\",\"createElement\",\"pbs\",\"is\",\"onClick\",\"_id\",\"LeftContainer\",\"size\",\"Container\",\"Header\",\"Name\",\"title\",\"ts\",\"Timestamp\",\"Body\",\"clamp\",\"Metrics\",\"Item\",\"Icon\",\"name\",\"Label\",\"msgs\"],\"mappings\":\"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\"}"}