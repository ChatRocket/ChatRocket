{"code":"function module(e,t,o){let n,a,l,r,s,i,u,c,k,m;o.link(\"@rocket.chat/fuselage\",{Button(e){n=e}},0),o.link(\"@rocket.chat/ui-composer\",{MessageFooterCallout(e){a=e},MessageFooterCalloutContent(e){l=e}},1),o.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){r=e},useTranslation(e){s=e}},2),o.link(\"@tanstack/react-query\",{useMutation(e){i=e}},3),o.link(\"react\",{default(e){u=e}},4),o.link(\"../../../lib/toast\",{dispatchToastMessage(e){c=e}},5),o.link(\"../contexts/RoomContext\",{useRoom(e){k=e},useUserIsSubscribed(e){m=e}},6),o.exportDefault(()=>{let e=s(),t=k(),o=m(),d=r(\"POST\",\"/v1/channels.join\"),g=i(()=>d({roomId:t._id}),{onError:e=>{c({type:\"error\",message:e})}});return u.createElement(a,null,u.createElement(l,null,e(\"room_is_read_only\")),!o&&u.createElement(n,{primary:!0,onClick:()=>g.mutate(),loading:g.isLoading},e(\"Join\")))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/composer/ComposerReadOnly.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Button } from '@rocket.chat/fuselage';\\nimport { MessageFooterCallout, MessageFooterCalloutContent } from '@rocket.chat/ui-composer';\\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useMutation } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\n\\nimport { dispatchToastMessage } from '../../../lib/toast';\\nimport { useRoom, useUserIsSubscribed } from '../contexts/RoomContext';\\n\\nconst ComposerReadOnly = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst room = useRoom();\\n\\tconst isSubscribed = useUserIsSubscribed();\\n\\tconst joinChannel = useEndpoint('POST', '/v1/channels.join');\\n\\n\\tconst join = useMutation(() => joinChannel({ roomId: room._id }), {\\n\\t\\tonError: (error: unknown) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t});\\n\\n\\treturn (\\n\\t\\t<MessageFooterCallout>\\n\\t\\t\\t<MessageFooterCalloutContent>{t('room_is_read_only')}</MessageFooterCalloutContent>\\n\\t\\t\\t{!isSubscribed && (\\n\\t\\t\\t\\t<Button primary onClick={() => join.mutate()} loading={join.isLoading}>\\n\\t\\t\\t\\t\\t{t('Join')}\\n\\t\\t\\t\\t</Button>\\n\\t\\t\\t)}\\n\\t\\t</MessageFooterCallout>\\n\\t);\\n};\\n\\nexport default ComposerReadOnly;\\n\",null],\"names\":[\"Button\",\"MessageFooterCallout\",\"MessageFooterCalloutContent\",\"useEndpoint\",\"useTranslation\",\"useMutation\",\"React\",\"dispatchToastMessage\",\"useRoom\",\"useUserIsSubscribed\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"ComposerReadOnly\",\"t\",\"room\",\"isSubscribed\",\"joinChannel\",\"join\",\"roomId\",\"_id\",\"onError\",\"error\",\"type\",\"message\",\"createElement\",\"primary\",\"onClick\",\"mutate\",\"loading\",\"isLoading\"],\"mappings\":\"2BAAAA,EAA+CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAtCC,EAAQC,IAAA,CAAM,wBAAwB,CAAAX,OAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAV,qBAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,4BAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAR,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,eAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAN,YAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,qBAAA,CAAAJ,qBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0BAAA,CAAAH,QAAAI,CAAA,EAAAJ,EAAAI,CAAA,EAAAH,oBAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA/CF,EAAOI,aAAU,CAUQC,KACxB,IAAMC,EAAIZ,IACJa,EAAOT,IACPU,EAAeT,IACfU,EAAchB,EAAY,OAAQ,qBAElCiB,EAAOf,EAAY,IAAMc,EAAY,CAAEE,OAAQJ,EAAKK,GAAAA,AAAG,GAAK,CACjEC,QAAUC,IACTjB,EAAqB,CAAEkB,KAAM,QAASC,QAASF,CAAK,EACrD,IAGD,OACClB,EAAAqB,aAAA,CAAC1B,EAAoB,KACpBK,EAAAqB,aAAA,CAACzB,EAA2B,KAAEc,EAAE,sBAC/B,CAACE,GACDZ,EAAAqB,aAAA,CAAC3B,EAAM,CAAC4B,QAAO,CAAA,EAACC,QAASA,IAAMT,EAAKU,MAAM,GAAIC,QAASX,EAAKY,SAAAA,AAAU,EACpEhB,EAAE,SAKR\"}"}