{"code":"function module(e,t,n){var o,i,r,a,s,u,c,l;n.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){o=e}},0),n.link(\"meteor/meteor\",{Meteor:function(e){i=e}},0),n.link(\"meteor/tracker\",{Tracker:function(e){r=e}},1),n.link(\"../../../../client/lib/rooms/roomCoordinator\",{roomCoordinator:function(e){a=e}},2),n.link(\"../../../../client/lib/utils/messageArgs\",{messageArgs:function(e){s=e}},3),n.link(\"../../../../client/providers/RouterProvider\",{router:function(e){u=e}},4),n.link(\"../../../settings/client\",{settings:function(e){c=e}},5),n.link(\"../../../ui-utils/client\",{MessageAction:function(e){l=e}},6),i.startup(function(){r.autorun(function(){if(!c.get(\"Threads_enabled\"))return l.removeButton(\"reply-in-thread\");l.addButton({id:\"reply-in-thread\",icon:\"thread\",label:\"Reply_in_thread\",context:[\"message\",\"message-mobile\",\"federated\",\"videoconf\"],action:function(e,t){var n=t.message,i=void 0===n?s(this).msg:n;null==e||e.stopPropagation(),u.navigate({name:u.getRouteName(),params:o(o({},u.getRouteParameters()),{},{tab:\"thread\",context:i.tmid||i._id})})},condition:function(e){var t=e.subscription,n=e.room;return!a.isLivechatRoom(n.t)&&!!t},order:-1,group:\"message\"})})})}","map":"{\"version\":3,\"sources\":[\"app/threads/client/messageAction/replyInThread.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Meteor } from 'meteor/meteor';\\nimport { Tracker } from 'meteor/tracker';\\n\\nimport { roomCoordinator } from '../../../../client/lib/rooms/roomCoordinator';\\nimport { messageArgs } from '../../../../client/lib/utils/messageArgs';\\nimport { router } from '../../../../client/providers/RouterProvider';\\nimport { settings } from '../../../settings/client';\\nimport { MessageAction } from '../../../ui-utils/client';\\n\\nMeteor.startup(() => {\\n\\tTracker.autorun(() => {\\n\\t\\tif (!settings.get('Threads_enabled')) {\\n\\t\\t\\treturn MessageAction.removeButton('reply-in-thread');\\n\\t\\t}\\n\\t\\tMessageAction.addButton({\\n\\t\\t\\tid: 'reply-in-thread',\\n\\t\\t\\ticon: 'thread',\\n\\t\\t\\tlabel: 'Reply_in_thread',\\n\\t\\t\\tcontext: ['message', 'message-mobile', 'federated', 'videoconf'],\\n\\t\\t\\taction(e, props) {\\n\\t\\t\\t\\tconst { message = messageArgs(this).msg } = props;\\n\\t\\t\\t\\te?.stopPropagation();\\n\\t\\t\\t\\trouter.navigate({\\n\\t\\t\\t\\t\\tname: router.getRouteName()!,\\n\\t\\t\\t\\t\\tparams: {\\n\\t\\t\\t\\t\\t\\t...router.getRouteParameters(),\\n\\t\\t\\t\\t\\t\\ttab: 'thread',\\n\\t\\t\\t\\t\\t\\tcontext: message.tmid || message._id,\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t});\\n\\t\\t\\t},\\n\\t\\t\\tcondition({ subscription, room }) {\\n\\t\\t\\t\\tconst isLivechatRoom = roomCoordinator.isLivechatRoom(room.t);\\n\\t\\t\\t\\tif (isLivechatRoom) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn Boolean(subscription);\\n\\t\\t\\t},\\n\\t\\t\\torder: -1,\\n\\t\\t\\tgroup: 'message',\\n\\t\\t});\\n\\t});\\n});\\n\",null],\"names\":[\"_objectSpread\",\"Meteor\",\"Tracker\",\"roomCoordinator\",\"messageArgs\",\"router\",\"settings\",\"MessageAction\",\"module\",\"link\",\"default\",\"v\",\"startup\",\"autorun\",\"get\",\"removeButton\",\"addButton\",\"id\",\"icon\",\"label\",\"context\",\"action\",\"e\",\"props\",\"_props$message\",\"message\",\"msg\",\"stopPropagation\",\"navigate\",\"name\",\"getRouteName\",\"params\",\"getRouteParameters\",\"tab\",\"tmid\",\"_id\",\"condition\",\"_ref\",\"subscription\",\"room\",\"isLivechatRoom\",\"t\",\"Boolean\",\"order\",\"group\"],\"mappings\":\"2BAAAA,EAAAC,EAAuCC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAtBC,EAAMC,IAAA,CAAA,uCAAgB,CAAAC,QAAA,SAAAC,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAA9BH,EAAQC,IAAA,CAAM,gBAAgB,CAAAR,OAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iBAAA,CAAAP,QAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,+CAAA,CAAAN,gBAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2CAAA,CAAAL,YAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8CAAA,CAAAJ,OAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAH,SAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAF,cAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GASvCV,EAAOW,OAAO,CAAC,WACdV,EAAQW,OAAO,CAAC,WACf,GAAI,CAACP,EAASQ,GAAG,CAAC,mBACjB,OAAOP,EAAcQ,YAAY,CAAC,mBAEnCR,EAAcS,SAAS,CAAC,CACvBC,GAAI,kBACJC,KAAM,SACNC,MAAO,kBACPC,QAAS,CAAC,UAAW,iBAAkB,YAAa,YAAY,CAChEC,OAAM,SAACC,CAAC,CAAEC,CAAK,EACd,IAAAC,EAA4CD,EAApCE,OAAO,CAAPA,EAAOD,AAAA,KAAA,IAAAA,EAAGpB,EAAY,IAAI,EAAEsB,GAAG,CAAAF,CACvCF,OAAAA,GAAAA,EAAGK,eAAe,GAClBtB,EAAOuB,QAAQ,CAAC,CACfC,KAAMxB,EAAOyB,YAAY,GACzBC,OAAM/B,EAAAA,EAAA,CAAA,EACFK,EAAO2B,kBAAkB,IAAE,CAAA,EAAA,CAC9BC,IAAK,SACLb,QAASK,EAAQS,IAAI,EAAIT,EAAQU,GAAAA,AAAG,IAGvC,EACAC,UAAS,SAAAC,CAAA,EAAuB,IAApBC,EAAYD,EAAZC,YAAY,CAAEC,EAAIF,EAAJE,IAAI,OAE7B,CADuBpC,EAAgBqC,cAAc,CAACD,EAAKE,CAAC,GAIrDC,CAAAA,CAAQJ,CAChB,EACAK,MAAO,GACPC,MAAO,WAET,EACD\"}"}