{"code":"function module(e,t,n){var l,r,a,c,u,i,o,s,f,m,d,p,E,_,h,k,b,v,g,x,C,w;n.link(\"@babel/runtime/helpers/extends\",{default:function(e){l=e}},0),n.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},1),n.link(\"@rocket.chat/fuselage\",{Button:function(e){a=e},ButtonGroup:function(e){c=e},TextInput:function(e){u=e},Field:function(e){i=e},FieldLabel:function(e){o=e},FieldRow:function(e){s=e},FieldError:function(e){f=e},FieldHint:function(e){m=e},TextAreaInput:function(e){d=e},ToggleSwitch:function(e){p=e},FieldGroup:function(e){E=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){_=e},useRoute:function(e){h=e},useEndpoint:function(e){k=e},useTranslation:function(e){b=e}},1),n.link(\"react\",{default:function(e){v=e},useCallback:function(e){g=e}},2),n.link(\"react-hook-form\",{useForm:function(e){x=e},Controller:function(e){C=e}},3),n.link(\"../../../components/Contextualbar\",{ContextualbarScrollableContent:function(e){w=e}},4),n.exportDefault(function(){var e=b(),t=_(),n=x(),R=n.register,F=n.handleSubmit,S=n.formState.errors,T=n.control,y=k(\"POST\",\"/v1/oauth-apps.create\"),A=h(\"admin-oauth-apps\"),U=g(function(){return A.push({})},[A]);return v.createElement(w,{w:\"full\"},v.createElement(E,{maxWidth:\"x600\",alignSelf:\"center\",w:\"full\"},v.createElement(i,null,v.createElement(s,null,v.createElement(o,null,e(\"Active\")),v.createElement(C,{name:\"active\",control:T,defaultValue:!1,render:function(e){var t=e.field;return v.createElement(p,{onChange:t.onChange,checked:t.value})}}))),v.createElement(i,null,v.createElement(o,null,e(\"Application_Name\")),v.createElement(s,null,v.createElement(u,R(\"name\",{required:e(\"Required_field\",{field:e(\"Name\")})}))),v.createElement(m,null,e(\"Give_the_application_a_name_This_will_be_seen_by_your_users\")),(null==S?void 0:S.name)&&v.createElement(f,null,S.name.message)),v.createElement(i,null,v.createElement(o,null,e(\"Redirect_URI\")),v.createElement(s,null,v.createElement(d,l({rows:5},R(\"redirectUri\",{required:!0})))),v.createElement(m,null,e(\"After_OAuth2_authentication_users_will_be_redirected_to_this_URL\")),(null==S?void 0:S.redirectUri)&&v.createElement(f,null,e(\"Required_field\",{field:e(\"Redirect_URI\")}))),v.createElement(i,null,v.createElement(s,null,v.createElement(c,{stretch:!0},v.createElement(a,{onClick:U},e(\"Cancel\")),v.createElement(a,{primary:!0,onClick:F(function(n){return r.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,r.awrap(y(n));case 3:U(),t({type:\"success\",message:e(\"Application_added\")}),l.next=10;break;case 7:l.prev=7,l.t0=l.catch(0),t({type:\"error\",message:l.t0});case 10:case\"end\":return l.stop()}},null,null,[[0,7]],Promise)})},e(\"Save\")))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/oauthApps/OAuthAddApp.tsx\",\"<anon>\"],\"sourcesContent\":[\"import {\\n\\tButton,\\n\\tButtonGroup,\\n\\tTextInput,\\n\\tField,\\n\\tFieldLabel,\\n\\tFieldRow,\\n\\tFieldError,\\n\\tFieldHint,\\n\\tTextAreaInput,\\n\\tToggleSwitch,\\n\\tFieldGroup,\\n} from '@rocket.chat/fuselage';\\nimport { useToastMessageDispatch, useRoute, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback } from 'react';\\nimport type { SubmitHandler } from 'react-hook-form';\\nimport { useForm, Controller } from 'react-hook-form';\\n\\nimport { ContextualbarScrollableContent } from '../../../components/Contextualbar';\\n\\ntype OAuthAddAppPayload = {\\n\\tname: string;\\n\\tactive: boolean;\\n\\tredirectUri: string;\\n};\\n\\nconst OAuthAddApp = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst {\\n\\t\\tregister,\\n\\t\\thandleSubmit,\\n\\t\\tformState: { errors },\\n\\t\\tcontrol,\\n\\t} = useForm<OAuthAddAppPayload>();\\n\\n\\tconst saveApp = useEndpoint('POST', '/v1/oauth-apps.create');\\n\\n\\tconst router = useRoute('admin-oauth-apps');\\n\\n\\tconst close = useCallback(() => router.push({}), [router]);\\n\\n\\tconst onSubmit: SubmitHandler<OAuthAddAppPayload> = async (data) => {\\n\\t\\ttry {\\n\\t\\t\\tawait saveApp(data);\\n\\t\\t\\tclose();\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Application_added') });\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t};\\n\\n\\treturn (\\n\\t\\t<ContextualbarScrollableContent w='full'>\\n\\t\\t\\t<FieldGroup maxWidth='x600' alignSelf='center' w='full'>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<FieldLabel>{t('Active')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\tname='active'\\n\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\tdefaultValue={false}\\n\\t\\t\\t\\t\\t\\t\\trender={({ field }): ReactElement => <ToggleSwitch onChange={field.onChange} checked={field.value} />}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<FieldLabel>{t('Application_Name')}</FieldLabel>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<TextInput {...register('name', { required: t('Required_field', { field: t('Name') }) })} />\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t<FieldHint>{t('Give_the_application_a_name_This_will_be_seen_by_your_users')}</FieldHint>\\n\\t\\t\\t\\t\\t{errors?.name && <FieldError>{errors.name.message}</FieldError>}\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<FieldLabel>{t('Redirect_URI')}</FieldLabel>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<TextAreaInput rows={5} {...register('redirectUri', { required: true })} />\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t<FieldHint>{t('After_OAuth2_authentication_users_will_be_redirected_to_this_URL')}</FieldHint>\\n\\t\\t\\t\\t\\t{errors?.redirectUri && <FieldError>{t('Required_field', { field: t('Redirect_URI') })}</FieldError>}\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t\\t\\t<Button onClick={close}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t\\t\\t<Button primary onClick={handleSubmit(onSubmit)}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Save')}\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t</FieldGroup>\\n\\t\\t</ContextualbarScrollableContent>\\n\\t);\\n};\\n\\nexport default OAuthAddApp;\\n\",null],\"names\":[\"_extends\",\"_regeneratorRuntime\",\"Button\",\"ButtonGroup\",\"TextInput\",\"Field\",\"FieldLabel\",\"FieldRow\",\"FieldError\",\"FieldHint\",\"TextAreaInput\",\"ToggleSwitch\",\"FieldGroup\",\"useToastMessageDispatch\",\"useRoute\",\"useEndpoint\",\"useTranslation\",\"React\",\"useCallback\",\"useForm\",\"Controller\",\"ContextualbarScrollableContent\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"t\",\"dispatchToastMessage\",\"_useForm\",\"register\",\"handleSubmit\",\"errors\",\"formState\",\"control\",\"saveApp\",\"router\",\"close\",\"push\",\"createElement\",\"w\",\"maxWidth\",\"alignSelf\",\"name\",\"defaultValue\",\"render\",\"_ref\",\"field\",\"onChange\",\"checked\",\"value\",\"required\",\"message\",\"rows\",\"redirectUri\",\"stretch\",\"onClick\",\"primary\",\"data\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"type\",\"t0\",\"stop\",\"Promise\"],\"mappings\":\"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\"}"}