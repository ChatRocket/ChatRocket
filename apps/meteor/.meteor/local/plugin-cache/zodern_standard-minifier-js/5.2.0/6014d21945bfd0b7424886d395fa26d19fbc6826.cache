{"code":"function module(e,n,t){var a,i,l,o,r,s,c,u,m,f,d,p,E,_,g,k;t.link(\"@rocket.chat/fuselage\",{Box:function(e){a=e},Button:function(e){i=e},ButtonGroup:function(e){l=e},Callout:function(e){o=e},CardGrid:function(e){r=e}},0),t.link(\"react\",{default:function(e){s=e},memo:function(e){c=e}},1),t.link(\"react-i18next\",{useTranslation:function(e){u=e}},2),t.link(\"../../../components/Page\",{Page:function(e){m=e},PageHeader:function(e){f=e},PageScrollableContentWithShadow:function(e){d=e}},3),t.link(\"../../../hooks/useIsEnterprise\",{useIsEnterprise:function(e){p=e}},4),t.link(\"./DeploymentCard/DeploymentCard\",{default:function(e){E=e}},5),t.link(\"./MessagesRoomsCard/MessagesRoomsCard\",{default:function(e){_=e}},6),t.link(\"./UsersUploadsCard/UsersUploadsCard\",{default:function(e){g=e}},7),t.link(\"./VersionCard/VersionCard\",{default:function(e){k=e}},8),t.exportDefault(c(function(e){var n=e.canViewStatistics,t=e.serverInfo,c=e.statistics,C=e.statisticsIsLoading,h=e.instances,w=e.onClickRefreshButton,I=e.onClickDownloadInfo,v=u().t,b=p().data,B=!(null!=b&&b.isEnterprise)&&!(null!=c&&c.msEnabled)&&(null==c?void 0:c.instanceCount)>1,R=B&&!c.oplogEnabled;return s.createElement(m,{bg:\"tint\"},s.createElement(f,{title:v(\"Workspace\")},n&&s.createElement(l,null,s.createElement(i,{onClick:I},v(\"Download_Info\")),s.createElement(i,{onClick:w,loading:C},v(\"Refresh\")))),s.createElement(d,{p:16},s.createElement(a,{marginBlock:\"none\",marginInline:\"auto\",width:\"full\",color:\"default\"},B&&s.createElement(o,{type:\"warning\",title:v(\"Multiple_monolith_instances_alert\"),marginBlockEnd:16}),R&&s.createElement(o,{type:\"danger\",title:v(\"Error_RocketChat_requires_oplog_tailing_when_running_in_multiple_instances\"),marginBlockEnd:16},s.createElement(a,{withRichContent:!0},s.createElement(\"p\",null,v(\"Error_RocketChat_requires_oplog_tailing_when_running_in_multiple_instances_details\")),s.createElement(\"p\",null,s.createElement(\"a\",{rel:\"noopener noreferrer\",target:\"_blank\",href:\"https://rocket.chat/docs/installation/manual-installation/multiple-instances-to-improve-performance/#running-multiple-instances-per-host-to-improve-performance\"},v(\"Click_here_for_more_info\"))))),s.createElement(a,{mbe:16},s.createElement(k,{serverInfo:t})),s.createElement(r,{breakpoints:{lg:4,xs:4,p:8}},s.createElement(E,{serverInfo:t,statistics:c,instances:h}),s.createElement(g,{statistics:c}),s.createElement(_,{statistics:c})))))}))}","map":"{\"version\":3,\"sources\":[\"client/views/admin/workspace/WorkspacePage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IWorkspaceInfo, IStats } from '@rocket.chat/core-typings';\\nimport { Box, Button, ButtonGroup, Callout, CardGrid } from '@rocket.chat/fuselage';\\nimport type { IInstance } from '@rocket.chat/rest-typings';\\nimport React, { memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport { useIsEnterprise } from '../../../hooks/useIsEnterprise';\\nimport DeploymentCard from './DeploymentCard/DeploymentCard';\\nimport MessagesRoomsCard from './MessagesRoomsCard/MessagesRoomsCard';\\nimport UsersUploadsCard from './UsersUploadsCard/UsersUploadsCard';\\nimport VersionCard from './VersionCard/VersionCard';\\n\\ntype WorkspaceStatusPageProps = {\\n\\tcanViewStatistics: boolean;\\n\\tserverInfo: IWorkspaceInfo;\\n\\tstatistics: IStats;\\n\\tstatisticsIsLoading: boolean;\\n\\tinstances: IInstance[];\\n\\tonClickRefreshButton: () => void;\\n\\tonClickDownloadInfo: () => void;\\n};\\n\\nconst WorkspacePage = ({\\n\\tcanViewStatistics,\\n\\tserverInfo,\\n\\tstatistics,\\n\\tstatisticsIsLoading,\\n\\tinstances,\\n\\tonClickRefreshButton,\\n\\tonClickDownloadInfo,\\n}: WorkspaceStatusPageProps) => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst { data } = useIsEnterprise();\\n\\n\\tconst warningMultipleInstances = !data?.isEnterprise && !statistics?.msEnabled && statistics?.instanceCount > 1;\\n\\tconst alertOplogForMultipleInstances = warningMultipleInstances && !statistics.oplogEnabled;\\n\\n\\treturn (\\n\\t\\t<Page bg='tint'>\\n\\t\\t\\t<PageHeader title={t('Workspace')}>\\n\\t\\t\\t\\t{canViewStatistics && (\\n\\t\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t\\t<Button onClick={onClickDownloadInfo}>{t('Download_Info')}</Button>\\n\\t\\t\\t\\t\\t\\t<Button onClick={onClickRefreshButton} loading={statisticsIsLoading}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Refresh')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</PageHeader>\\n\\n\\t\\t\\t<PageScrollableContentWithShadow p={16}>\\n\\t\\t\\t\\t<Box marginBlock='none' marginInline='auto' width='full' color='default'>\\n\\t\\t\\t\\t\\t{warningMultipleInstances && (\\n\\t\\t\\t\\t\\t\\t<Callout type='warning' title={t('Multiple_monolith_instances_alert')} marginBlockEnd={16}></Callout>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{alertOplogForMultipleInstances && (\\n\\t\\t\\t\\t\\t\\t<Callout\\n\\t\\t\\t\\t\\t\\t\\ttype='danger'\\n\\t\\t\\t\\t\\t\\t\\ttitle={t('Error_RocketChat_requires_oplog_tailing_when_running_in_multiple_instances')}\\n\\t\\t\\t\\t\\t\\t\\tmarginBlockEnd={16}\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t<Box withRichContent>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p>{t('Error_RocketChat_requires_oplog_tailing_when_running_in_multiple_instances_details')}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trel='noopener noreferrer'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttarget='_blank'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\thref={\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'https://rocket.chat/docs/installation/manual-installation/multiple-instances-to-improve-' +\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'performance/#running-multiple-instances-per-host-to-improve-performance'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Click_here_for_more_info')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Callout>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t<Box mbe={16}>\\n\\t\\t\\t\\t\\t\\t<VersionCard serverInfo={serverInfo} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t<CardGrid breakpoints={{ lg: 4, xs: 4, p: 8 }}>\\n\\t\\t\\t\\t\\t\\t<DeploymentCard serverInfo={serverInfo} statistics={statistics} instances={instances} />\\n\\t\\t\\t\\t\\t\\t<UsersUploadsCard statistics={statistics} />\\n\\t\\t\\t\\t\\t\\t<MessagesRoomsCard statistics={statistics} />\\n\\t\\t\\t\\t\\t</CardGrid>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default memo(WorkspacePage);\\n\",null],\"names\":[\"Box\",\"Button\",\"ButtonGroup\",\"Callout\",\"CardGrid\",\"React\",\"memo\",\"useTranslation\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"useIsEnterprise\",\"DeploymentCard\",\"MessagesRoomsCard\",\"UsersUploadsCard\",\"VersionCard\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"canViewStatistics\",\"serverInfo\",\"statistics\",\"statisticsIsLoading\",\"instances\",\"onClickRefreshButton\",\"onClickDownloadInfo\",\"t\",\"_useTranslation\",\"data\",\"_useIsEnterprise\",\"warningMultipleInstances\",\"isEnterprise\",\"msEnabled\",\"instanceCount\",\"alertOplogForMultipleInstances\",\"oplogEnabled\",\"createElement\",\"bg\",\"title\",\"onClick\",\"loading\",\"p\",\"marginBlock\",\"marginInline\",\"width\",\"color\",\"type\",\"marginBlockEnd\",\"withRichContent\",\"rel\",\"target\",\"href\",\"mbe\",\"breakpoints\",\"lg\",\"xs\"],\"mappings\":\"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\"}"}