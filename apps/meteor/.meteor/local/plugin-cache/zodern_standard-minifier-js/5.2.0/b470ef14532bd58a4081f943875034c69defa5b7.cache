{"code":"function module(e,t,l){let a,r,n,i,o,m,c,u,s,p,d,g,_,f,h,y,E,F,k,v,S,w,I,T,x,b,C,P,R;l.link(\"@rocket.chat/fuselage\",{Box(e){a=e},Button(e){r=e},ButtonGroup(e){n=e},Callout(e){i=e},Chip(e){o=e},Field(e){m=e},Margins(e){c=e},Select(e){u=e},InputBox(e){s=e},TextInput(e){p=e},UrlInput(e){d=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useUniqueId(e){g=e},useSafely(e){_=e}},1),l.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){f=e},useRouter(e){h=e},useRouteParameter(e){y=e},useSetting(e){E=e},useEndpoint(e){F=e},useTranslation(e){k=e}},2),l.link(\"@tanstack/react-query\",{useQuery(e){v=e}},3),l.link(\"react\",{default(e){S=e},useState(e){w=e},useMemo(e){I=e},useEffect(e){T=e}},4),l.link(\"../../../components/Page\",{Page(e){x=e},PageHeader(e){b=e},PageScrollableContentWithShadow(e){C=e}},5),l.link(\"../../../hooks/useFormatMemorySize\",{useFormatMemorySize(e){P=e}},6),l.link(\"./useErrorHandler\",{useErrorHandler(e){R=e}},7),l.exportDefault(function(){var e;let t=k(),l=f(),U=R(),[L,B]=_(w(!1)),[M,z]=_(w(\"upload\")),D=F(\"GET\",\"/v1/importers.list\"),{data:H,isLoading:q}=v([\"importers\"],async()=>D(),{refetchOnWindowFocus:!1}),A=I(()=>(null==H?void 0:H.map(e=>{let{key:l,name:a}=e;return[l,t(a)]}))||[],[H,t]),N=y(\"importerKey\"),O=I(()=>(H||[]).find(e=>{let{key:t}=e;return t===N}),[N,H]),W=null!==(e=E(\"FileUpload_MaxFileSize\"))&&void 0!==e?e:0,G=h(),K=F(\"POST\",\"/v1/uploadImportFile\"),Q=F(\"POST\",\"/v1/downloadPublicImportFile\");T(()=>{!N||O||q||G.navigate(\"/admin/import/new\",{replace:!0})},[O,N,G,q]);let V=P(),[j,J]=w([]),X=e=>!!(\"dataTransfer\"in e&&e.dataTransfer.files),Y=async e=>{var t;let{files:l}=e.target;(!l||0===l.length)&&X(e)&&(l=e.dataTransfer.files),J(Array.from(null!==(t=l)&&void 0!==t?t:[]))},Z=e=>()=>{J(t=>t.filter(t=>t!==e))},$=async()=>{if(N){B(!0);try{await Promise.all(Array.from(j,e=>new Promise(l=>{let a=new FileReader;a.readAsDataURL(e),a.onloadend=async()=>{let r=a.result;try{await K({binaryContent:r.split(\";base64,\")[1],contentType:e.type,fileName:e.name,importerKey:N})}catch(e){U(e,t(\"Failed_To_upload_Import_File\"))}finally{l()}},a.onerror=()=>l()}))),G.navigate(\"/admin/import/prepare\")}finally{B(!1)}}},[ee,et]=_(w(\"\")),el=async()=>{if(N){B(!0);try{await Q({importerKey:N,fileUrl:ee}),l({type:\"success\",message:t(\"Import_requested_successfully\")}),G.navigate(\"/admin/import/prepare\")}catch(e){U(e,t(\"Failed_To_upload_Import_File\"))}finally{B(!1)}}},[ea,er]=_(w(\"\")),en=async()=>{if(N){B(!0);try{await Q({importerKey:N,fileUrl:ea}),l({type:\"success\",message:t(\"Import_requested_successfully\")}),G.navigate(\"/admin/import/prepare\")}catch(e){U(e,t(\"Failed_To_upload_Import_File\"))}finally{B(!1)}}},ei=g(),eo=g(),em=g(),ec=\"upload\"===M&&$||\"url\"===M&&el||\"path\"===M&&en||void 0;return S.createElement(x,{className:\"page-settings\"},S.createElement(b,{title:t(\"Import_New_File\"),onClickBack:()=>G.navigate(\"/admin/import\")},S.createElement(n,null,O&&S.createElement(r,{primary:!0,minHeight:\"x40\",loading:L,onClick:ec},t(\"Import\")))),S.createElement(C,null,S.createElement(a,{marginInline:\"auto\",marginBlock:\"neg-x24\",width:\"full\",maxWidth:\"x580\"},S.createElement(c,{block:\"x24\"},S.createElement(m,null,S.createElement(m.Label,{alignSelf:\"stretch\",htmlFor:ei},t(\"Import_Type\")),S.createElement(m.Row,null,S.createElement(u,{id:ei,value:N,disabled:L,placeholder:t(\"Select_an_option\"),onChange:e=>{\"string\"==typeof e&&G.navigate({pattern:\"/admin/import/new/:importerKey?\",params:{importerKey:e}},{replace:!0})},options:A})),O&&S.createElement(m.Hint,null,\"csv\"===O.key?t(\"Importer_From_Description_CSV\"):t(\"Importer_From_Description\",{from:t(O.name)}))),O&&S.createElement(m,null,S.createElement(m.Label,{alignSelf:\"stretch\",htmlFor:eo},t(\"File_Type\")),S.createElement(m.Row,null,S.createElement(u,{id:eo,value:M,disabled:L,placeholder:t(\"Select_an_option\"),onChange:e=>{\"string\"==typeof e&&z(e)},options:[[\"upload\",t(\"Upload\")],[\"url\",t(\"Public_URL\")],[\"path\",t(\"Server_File_Path\")]]}))),O&&S.createElement(S.Fragment,null,\"upload\"===M&&S.createElement(S.Fragment,null,W>0?S.createElement(i,{type:\"warning\",marginBlock:\"x16\"},t(\"Importer_Upload_FileSize_Message\",{maxFileSize:V(W)})):S.createElement(i,{type:\"info\",marginBlock:\"x16\"},t(\"Importer_Upload_Unlimited_FileSize\")),S.createElement(m,null,S.createElement(m.Label,{alignSelf:\"stretch\",htmlFor:em},t(\"Importer_Source_File\")),S.createElement(m.Row,null,S.createElement(s,{type:\"file\",id:em,onChange:Y})),(null==j?void 0:j.length)>0&&S.createElement(m.Row,null,j.map((e,t)=>S.createElement(o,{key:t,onClick:Z(e)},e.name))))),\"url\"===M&&S.createElement(m,null,S.createElement(m.Label,{alignSelf:\"stretch\",htmlFor:em},t(\"File_URL\")),S.createElement(m.Row,null,S.createElement(d,{id:em,value:ee,onChange:e=>{et(e.currentTarget.value)}}))),\"path\"===M&&S.createElement(m,null,S.createElement(m.Label,{alignSelf:\"stretch\",htmlFor:em},t(\"File_Path\")),S.createElement(m.Row,null,S.createElement(p,{id:em,value:ea,onChange:e=>{er(e.currentTarget.value)}}))))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/import/NewImportPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Button, ButtonGroup, Callout, Chip, Field, Margins, Select, InputBox, TextInput, UrlInput } from '@rocket.chat/fuselage';\\nimport { useUniqueId, useSafely } from '@rocket.chat/fuselage-hooks';\\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\\nimport { useToastMessageDispatch, useRouter, useRouteParameter, useSetting, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ChangeEvent, DragEvent, FormEvent, Key, SyntheticEvent } from 'react';\\nimport React, { useState, useMemo, useEffect } from 'react';\\n\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport { useFormatMemorySize } from '../../../hooks/useFormatMemorySize';\\nimport { useErrorHandler } from './useErrorHandler';\\n\\n// TODO: review inner logic\\nfunction NewImportPage() {\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst handleError = useErrorHandler();\\n\\n\\tconst [isLoading, setLoading] = useSafely(useState(false));\\n\\tconst [fileType, setFileType] = useSafely(useState('upload'));\\n\\n\\tconst listImportersEndpoint = useEndpoint('GET', '/v1/importers.list');\\n\\tconst { data: importers, isLoading: isLoadingImporters } = useQuery(['importers'], async () => listImportersEndpoint(), {\\n\\t\\trefetchOnWindowFocus: false,\\n\\t});\\n\\n\\tconst options = useMemo(() => importers?.map(({ key, name }) => [key, t(name as TranslationKey)] as const) || [], [importers, t]);\\n\\n\\tconst importerKey = useRouteParameter('importerKey');\\n\\tconst importer = useMemo(() => (importers || []).find(({ key }) => key === importerKey), [importerKey, importers]);\\n\\n\\tconst maxFileSize = useSetting<number>('FileUpload_MaxFileSize') ?? 0;\\n\\n\\tconst router = useRouter();\\n\\n\\tconst uploadImportFile = useEndpoint('POST', '/v1/uploadImportFile');\\n\\tconst downloadPublicImportFile = useEndpoint('POST', '/v1/downloadPublicImportFile');\\n\\n\\tuseEffect(() => {\\n\\t\\tif (importerKey && !importer && !isLoadingImporters) {\\n\\t\\t\\trouter.navigate('/admin/import/new', { replace: true });\\n\\t\\t}\\n\\t}, [importer, importerKey, router, isLoadingImporters]);\\n\\n\\tconst formatMemorySize = useFormatMemorySize();\\n\\n\\tconst handleImporterKeyChange = (importerKey: Key) => {\\n\\t\\tif (typeof importerKey !== 'string') {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\trouter.navigate(\\n\\t\\t\\t{\\n\\t\\t\\t\\tpattern: '/admin/import/new/:importerKey?',\\n\\t\\t\\t\\tparams: { importerKey },\\n\\t\\t\\t},\\n\\t\\t\\t{ replace: true },\\n\\t\\t);\\n\\t};\\n\\n\\tconst handleFileTypeChange = (fileType: Key) => {\\n\\t\\tif (typeof fileType !== 'string') {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tsetFileType(fileType);\\n\\t};\\n\\n\\tconst [files, setFiles] = useState<File[]>([]);\\n\\n\\tconst isDataTransferEvent = <T extends SyntheticEvent>(event: T): event is T & DragEvent<HTMLInputElement> =>\\n\\t\\tBoolean('dataTransfer' in event && (event as any).dataTransfer.files);\\n\\n\\tconst handleImportFileChange = async (event: ChangeEvent<HTMLInputElement>) => {\\n\\t\\tlet { files } = event.target;\\n\\t\\tif (!files || files.length === 0) {\\n\\t\\t\\tif (isDataTransferEvent(event)) {\\n\\t\\t\\t\\tfiles = event.dataTransfer.files;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tsetFiles(Array.from(files ?? []));\\n\\t};\\n\\n\\tconst handleFileUploadChipClick = (file: File) => () => {\\n\\t\\tsetFiles((files) => files.filter((_file) => _file !== file));\\n\\t};\\n\\n\\tconst handleFileUploadImportButtonClick = async () => {\\n\\t\\tif (!importerKey) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tsetLoading(true);\\n\\n\\t\\ttry {\\n\\t\\t\\tawait Promise.all(\\n\\t\\t\\t\\tArray.from(\\n\\t\\t\\t\\t\\tfiles,\\n\\t\\t\\t\\t\\t(file) =>\\n\\t\\t\\t\\t\\t\\tnew Promise<void>((resolve) => {\\n\\t\\t\\t\\t\\t\\t\\tconst reader = new FileReader();\\n\\t\\t\\t\\t\\t\\t\\treader.readAsDataURL(file);\\n\\t\\t\\t\\t\\t\\t\\treader.onloadend = async () => {\\n\\t\\t\\t\\t\\t\\t\\t\\tconst result = reader.result as string;\\n\\t\\t\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tawait uploadImportFile({\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tbinaryContent: result.split(';base64,')[1],\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontentType: file.type,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfileName: file.name,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\timporterKey,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\thandleError(error, t('Failed_To_upload_Import_File'));\\n\\t\\t\\t\\t\\t\\t\\t\\t} finally {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tresolve();\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t\\t\\treader.onerror = () => resolve();\\n\\t\\t\\t\\t\\t\\t}),\\n\\t\\t\\t\\t),\\n\\t\\t\\t);\\n\\t\\t\\trouter.navigate('/admin/import/prepare');\\n\\t\\t} finally {\\n\\t\\t\\tsetLoading(false);\\n\\t\\t}\\n\\t};\\n\\n\\tconst [fileUrl, setFileUrl] = useSafely(useState(''));\\n\\n\\tconst handleFileUrlChange = (event: FormEvent<HTMLInputElement>) => {\\n\\t\\tsetFileUrl(event.currentTarget.value);\\n\\t};\\n\\n\\tconst handleFileUrlImportButtonClick = async () => {\\n\\t\\tif (!importerKey) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tsetLoading(true);\\n\\n\\t\\ttry {\\n\\t\\t\\tawait downloadPublicImportFile({ importerKey, fileUrl });\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Import_requested_successfully') });\\n\\t\\t\\trouter.navigate('/admin/import/prepare');\\n\\t\\t} catch (error) {\\n\\t\\t\\thandleError(error, t('Failed_To_upload_Import_File'));\\n\\t\\t} finally {\\n\\t\\t\\tsetLoading(false);\\n\\t\\t}\\n\\t};\\n\\n\\tconst [filePath, setFilePath] = useSafely(useState(''));\\n\\n\\tconst handleFilePathChange = (event: FormEvent<HTMLInputElement>) => {\\n\\t\\tsetFilePath(event.currentTarget.value);\\n\\t};\\n\\n\\tconst handleFilePathImportButtonClick = async () => {\\n\\t\\tif (!importerKey) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tsetLoading(true);\\n\\n\\t\\ttry {\\n\\t\\t\\tawait downloadPublicImportFile({ importerKey, fileUrl: filePath });\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Import_requested_successfully') });\\n\\t\\t\\trouter.navigate('/admin/import/prepare');\\n\\t\\t} catch (error) {\\n\\t\\t\\thandleError(error, t('Failed_To_upload_Import_File'));\\n\\t\\t} finally {\\n\\t\\t\\tsetLoading(false);\\n\\t\\t}\\n\\t};\\n\\n\\tconst importerKeySelectId = useUniqueId();\\n\\tconst fileTypeSelectId = useUniqueId();\\n\\tconst fileSourceInputId = useUniqueId();\\n\\tconst handleImportButtonClick =\\n\\t\\t(fileType === 'upload' && handleFileUploadImportButtonClick) ||\\n\\t\\t(fileType === 'url' && handleFileUrlImportButtonClick) ||\\n\\t\\t(fileType === 'path' && handleFilePathImportButtonClick) ||\\n\\t\\tundefined;\\n\\n\\treturn (\\n\\t\\t<Page className='page-settings'>\\n\\t\\t\\t<PageHeader title={t('Import_New_File')} onClickBack={() => router.navigate('/admin/import')}>\\n\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t{importer && (\\n\\t\\t\\t\\t\\t\\t<Button primary minHeight='x40' loading={isLoading} onClick={handleImportButtonClick}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Import')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</PageHeader>\\n\\t\\t\\t<PageScrollableContentWithShadow>\\n\\t\\t\\t\\t<Box marginInline='auto' marginBlock='neg-x24' width='full' maxWidth='x580'>\\n\\t\\t\\t\\t\\t<Margins block='x24'>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Field.Label alignSelf='stretch' htmlFor={importerKeySelectId}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Import_Type')}\\n\\t\\t\\t\\t\\t\\t\\t</Field.Label>\\n\\t\\t\\t\\t\\t\\t\\t<Field.Row>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Select\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tid={importerKeySelectId}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={importerKey}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdisabled={isLoading}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Select_an_option')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonChange={handleImporterKeyChange}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\toptions={options}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</Field.Row>\\n\\t\\t\\t\\t\\t\\t\\t{importer && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field.Hint>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{importer.key === 'csv'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t? t('Importer_From_Description_CSV')\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t: t('Importer_From_Description', { from: t(importer.name as TranslationKey) })}\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field.Hint>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t{importer && (\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field.Label alignSelf='stretch' htmlFor={fileTypeSelectId}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('File_Type')}\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field.Label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field.Row>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Select\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={fileTypeSelectId}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={fileType}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdisabled={isLoading}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Select_an_option')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonChange={handleFileTypeChange}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\toptions={[\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t['upload', t('Upload')],\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t['url', t('Public_URL')],\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t['path', t('Server_File_Path')],\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t]}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field.Row>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t{importer && (\\n\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t{fileType === 'upload' && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{maxFileSize > 0 ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Callout type='warning' marginBlock='x16'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Importer_Upload_FileSize_Message', {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmaxFileSize: formatMemorySize(maxFileSize),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t})}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Callout>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Callout type='info' marginBlock='x16'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Importer_Upload_Unlimited_FileSize')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Callout>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field.Label alignSelf='stretch' htmlFor={fileSourceInputId}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Importer_Source_File')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field.Label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field.Row>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<InputBox type='file' id={fileSourceInputId} onChange={handleImportFileChange} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field.Row>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{files?.length > 0 && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field.Row>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{files.map((file, i) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Chip key={i} onClick={handleFileUploadChipClick(file)}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{file.name}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Chip>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field.Row>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t{fileType === 'url' && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field.Label alignSelf='stretch' htmlFor={fileSourceInputId}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('File_URL')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field.Label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field.Row>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<UrlInput id={fileSourceInputId} value={fileUrl} onChange={handleFileUrlChange} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field.Row>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t{fileType === 'path' && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field.Label alignSelf='stretch' htmlFor={fileSourceInputId}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('File_Path')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field.Label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field.Row>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<TextInput id={fileSourceInputId} value={filePath} onChange={handleFilePathChange} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field.Row>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</Margins>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t</Page>\\n\\t);\\n}\\n\\nexport default NewImportPage;\\n\",null],\"names\":[\"Box\",\"Button\",\"ButtonGroup\",\"Callout\",\"Chip\",\"Field\",\"Margins\",\"Select\",\"InputBox\",\"TextInput\",\"UrlInput\",\"useUniqueId\",\"useSafely\",\"useToastMessageDispatch\",\"useRouter\",\"useRouteParameter\",\"useSetting\",\"useEndpoint\",\"useTranslation\",\"useQuery\",\"React\",\"useState\",\"useMemo\",\"useEffect\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"useFormatMemorySize\",\"useErrorHandler\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_useSetting\",\"t\",\"dispatchToastMessage\",\"handleError\",\"isLoading\",\"setLoading\",\"fileType\",\"setFileType\",\"listImportersEndpoint\",\"data\",\"importers\",\"isLoadingImporters\",\"refetchOnWindowFocus\",\"options\",\"map\",\"_ref\",\"key\",\"name\",\"importerKey\",\"importer\",\"find\",\"_ref2\",\"maxFileSize\",\"router\",\"uploadImportFile\",\"downloadPublicImportFile\",\"navigate\",\"replace\",\"formatMemorySize\",\"files\",\"setFiles\",\"isDataTransferEvent\",\"event\",\"Boolean\",\"dataTransfer\",\"handleImportFileChange\",\"_files\",\"target\",\"length\",\"Array\",\"from\",\"handleFileUploadChipClick\",\"file\",\"filter\",\"_file\",\"handleFileUploadImportButtonClick\",\"Promise\",\"all\",\"resolve\",\"reader\",\"FileReader\",\"readAsDataURL\",\"onloadend\",\"result\",\"binaryContent\",\"split\",\"contentType\",\"type\",\"fileName\",\"error\",\"onerror\",\"fileUrl\",\"setFileUrl\",\"handleFileUrlImportButtonClick\",\"message\",\"filePath\",\"setFilePath\",\"handleFilePathImportButtonClick\",\"importerKeySelectId\",\"fileTypeSelectId\",\"fileSourceInputId\",\"handleImportButtonClick\",\"undefined\",\"createElement\",\"className\",\"title\",\"onClickBack\",\"primary\",\"minHeight\",\"loading\",\"onClick\",\"marginInline\",\"marginBlock\",\"width\",\"maxWidth\",\"block\",\"Label\",\"alignSelf\",\"htmlFor\",\"Row\",\"id\",\"value\",\"disabled\",\"placeholder\",\"onChange\",\"pattern\",\"params\",\"Hint\",\"Fragment\",\"i\",\"currentTarget\"],\"mappings\":\"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\"}"}