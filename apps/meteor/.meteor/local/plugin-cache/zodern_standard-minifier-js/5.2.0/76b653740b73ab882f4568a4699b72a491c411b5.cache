{"code":"function module(e,t,n){var l,o,a,i,u,c,r,s,f;n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){l=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){o=e}},0),n.link(\"react\",{default:function(e){a=e},useEffect:function(e){i=e},useState:function(e){u=e}},1),n.link(\"../../../../../../../lib/emailValidator\",{validateEmail:function(e){c=e}},2),n.link(\"../RegisteredWorkspaceModal\",{default:function(e){r=e}},3),n.link(\"./RegisterWorkspaceSetupStepOneModal\",{default:function(e){s=e}},4),n.link(\"./RegisterWorkspaceSetupStepTwoModal\",{default:function(e){f=e}},5),n.exportDefault(function(e){var t=e.onClose,n=o(),d=u(1),m=l(d,2),p=m[0],k=m[1],S=u(\"\"),E=l(S,2),v=E[0],g=E[1],C=u(!1),M=l(C,2),b=M[0],D=M[1],R=u(!1),T=l(R,2),W=T[0],h=T[1],x=u({device_code:\"\",interval:0,user_code:\"\"}),I=l(x,2),_=I[0],w=I[1];return i(function(){h(!1)},[p]),i(function(){1===p&&h(c(v)&&b)},[v,b]),a.createElement(a.Fragment,null,1===p?a.createElement(s,{email:v,setEmail:g,step:p,setStep:k,terms:b,setTerms:D,onClose:t,validInfo:W,setIntentData:w}):a.createElement(f,{email:v,step:p,setStep:k,onClose:t,intentData:_,onSuccess:function(){n(a.createElement(r,{onClose:function(){return n(null)}}))}}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/workspace/VersionCard/modals/RegisterWorkspaceSetupModal/RegisterWorkspaceSetupModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useSetModal } from '@rocket.chat/ui-contexts';\\nimport React, { useEffect, useState } from 'react';\\n\\nimport { validateEmail } from '../../../../../../../lib/emailValidator';\\nimport RegisteredWorkspaceModal from '../RegisteredWorkspaceModal';\\nimport RegisterWorkspaceSetupStepOneModal from './RegisterWorkspaceSetupStepOneModal';\\nimport RegisterWorkspaceSetupStepTwoModal from './RegisterWorkspaceSetupStepTwoModal';\\n\\ntype RegisterWorkspaceSetupModalProps = {\\n\\tonClose: () => void;\\n\\tonStatusChange?: () => void;\\n};\\n\\nconst RegisterWorkspaceSetupModal = ({ onClose }: RegisterWorkspaceSetupModalProps) => {\\n\\tconst setModal = useSetModal();\\n\\n\\tconst [step, setStep] = useState(1);\\n\\tconst [email, setEmail] = useState('');\\n\\tconst [terms, setTerms] = useState(false);\\n\\tconst [validInfo, setValidInfo] = useState(false);\\n\\tconst [intentData, setIntentData] = useState({\\n\\t\\tdevice_code: '',\\n\\t\\tinterval: 0,\\n\\t\\tuser_code: '',\\n\\t});\\n\\n\\t// reset validInfo when users go back to step 1\\n\\tuseEffect(() => {\\n\\t\\tsetValidInfo(false);\\n\\t}, [step]);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (step === 1) {\\n\\t\\t\\tsetValidInfo(validateEmail(email) && terms);\\n\\t\\t}\\n\\t}, [email, terms]);\\n\\n\\tconst onSuccess = () => {\\n\\t\\tconst handleModalClose = (): void => setModal(null);\\n\\t\\tsetModal(<RegisteredWorkspaceModal onClose={handleModalClose} />);\\n\\t};\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{step === 1 ? (\\n\\t\\t\\t\\t<RegisterWorkspaceSetupStepOneModal\\n\\t\\t\\t\\t\\temail={email}\\n\\t\\t\\t\\t\\tsetEmail={setEmail}\\n\\t\\t\\t\\t\\tstep={step}\\n\\t\\t\\t\\t\\tsetStep={setStep}\\n\\t\\t\\t\\t\\tterms={terms}\\n\\t\\t\\t\\t\\tsetTerms={setTerms}\\n\\t\\t\\t\\t\\tonClose={onClose}\\n\\t\\t\\t\\t\\tvalidInfo={validInfo}\\n\\t\\t\\t\\t\\tsetIntentData={setIntentData}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t) : (\\n\\t\\t\\t\\t<RegisterWorkspaceSetupStepTwoModal\\n\\t\\t\\t\\t\\temail={email}\\n\\t\\t\\t\\t\\tstep={step}\\n\\t\\t\\t\\t\\tsetStep={setStep}\\n\\t\\t\\t\\t\\tonClose={onClose}\\n\\t\\t\\t\\t\\tintentData={intentData}\\n\\t\\t\\t\\t\\tonSuccess={onSuccess}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default RegisterWorkspaceSetupModal;\\n\",null],\"names\":[\"_slicedToArray\",\"useSetModal\",\"React\",\"useEffect\",\"useState\",\"validateEmail\",\"RegisteredWorkspaceModal\",\"RegisterWorkspaceSetupStepOneModal\",\"RegisterWorkspaceSetupStepTwoModal\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"onClose\",\"setModal\",\"_useState\",\"_useState2\",\"step\",\"setStep\",\"_useState3\",\"_useState4\",\"email\",\"setEmail\",\"_useState5\",\"_useState6\",\"terms\",\"setTerms\",\"_useState7\",\"_useState8\",\"validInfo\",\"setValidInfo\",\"_useState9\",\"device_code\",\"interval\",\"user_code\",\"_useState10\",\"intentData\",\"setIntentData\",\"createElement\",\"Fragment\",\"onSuccess\"],\"mappings\":\"uBAaA,IAbAA,EAAAC,EAAuDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9CC,EAAaC,IAAM,CAAA,uCAA2B,CAAAC,QAAA,SAAAC,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAA9CH,EAAaC,IAAA,CAAM,2BAA2B,CAAAT,YAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAV,EAAAU,CAAA,EAAAT,UAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,SAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0CAAA,CAAAL,cAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAvDH,EAAOI,aAAa,CAagB,SAAAC,CAAA,EAAkD,IAA/CC,EAAOD,EAAPC,OAAO,CACvCC,EAAWf,IAEjBgB,EAAwBb,EAAS,GAAEc,EAAAlB,EAAAiB,EAAA,GAA5BE,EAAID,CAAA,CAAA,EAAA,CAAEE,EAAOF,CAAA,CAAA,EAAA,CACpBG,EAA0BjB,EAAS,IAAGkB,EAAAtB,EAAAqB,EAAA,GAA/BE,EAAKD,CAAA,CAAA,EAAA,CAAEE,EAAQF,CAAA,CAAA,EAAA,CACtBG,EAA0BrB,EAAS,CAAA,GAAMsB,EAAA1B,EAAAyB,EAAA,GAAlCE,EAAKD,CAAA,CAAA,EAAA,CAAEE,EAAQF,CAAA,CAAA,EAAA,CACtBG,EAAkCzB,EAAS,CAAA,GAAM0B,EAAA9B,EAAA6B,EAAA,GAA1CE,EAASD,CAAA,CAAA,EAAA,CAAEE,EAAYF,CAAA,CAAA,EAAA,CAC9BG,EAAoC7B,EAAS,CAC5C8B,YAAa,GACbC,SAAU,EACVC,UAAW,KACVC,EAAArC,EAAAiC,EAAA,GAJKK,EAAUD,CAAA,CAAA,EAAA,CAAEE,EAAaF,CAAA,CAAA,EAAA,QAOhClC,EAAU,WACT6B,EAAa,CAAA,EACd,EAAG,CAACb,EAAK,EAEThB,EAAU,WACI,IAATgB,GACHa,EAAa3B,EAAckB,IAAUI,EAEvC,EAAG,CAACJ,EAAOI,EAAM,EAQhBzB,EAAAsC,aAAA,CAAAtC,EAAAuC,QAAA,CAAA,KACEtB,AAAS,IAATA,EACAjB,EAAAsC,aAAA,CAACjC,EAAkC,CAClCgB,MAAOA,EACPC,SAAUA,EACVL,KAAMA,EACNC,QAASA,EACTO,MAAOA,EACPC,SAAUA,EACVb,QAASA,EACTgB,UAAWA,EACXQ,cAAeA,CAAc,GAG9BrC,EAAAsC,aAAA,CAAChC,EAAkC,CAClCe,MAAOA,EACPJ,KAAMA,EACNC,QAASA,EACTL,QAASA,EACTuB,WAAYA,EACZI,UA1Bc,WAEjB1B,EAASd,EAAAsC,aAAA,CAAClC,EAAwB,CAACS,QADV,WAAA,OAAYC,EAAS,KAAK,CACU,GAC9D,CAuByB,GAK1B\"}"}