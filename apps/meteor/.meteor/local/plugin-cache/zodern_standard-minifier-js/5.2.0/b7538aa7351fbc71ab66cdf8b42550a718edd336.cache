{"code":"function module(e,t,n){let o,a,i,r,s;n.export({useInviteTokenMutation:()=>u}),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){o=e},useRouter(e){a=e},useToastMessageDispatch(e){i=e},useTranslation(e){r=e}},0),n.link(\"@tanstack/react-query\",{useMutation(e){s=e}},1);let u=()=>{let e=r(),t=a(),n=i(),u=o(\"POST\",\"/v1/useInviteToken\"),{mutate:c}=s({mutationFn:e=>u({token:e}),onSuccess:o=>{if(!o.room.name){n({type:\"error\",message:e(\"Failed_to_activate_invite_token\")}),t.navigate(\"/home\");return}if(\"p\"===o.room.t){t.navigate(\"/group/\".concat(o.room.name));return}t.navigate(\"/channel/\".concat(o.room.name))},onError:()=>{n({type:\"error\",message:e(\"Failed_to_activate_invite_token\")}),t.navigate(\"/home\")}});return c}}","map":"{\"version\":3,\"sources\":[\"client/views/invite/hooks/useInviteTokenMutation.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint, useRouter, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useMutation } from '@tanstack/react-query';\\n\\nexport const useInviteTokenMutation = () => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst getInviteRoom = useEndpoint('POST', '/v1/useInviteToken');\\n\\n\\tconst { mutate } = useMutation({\\n\\t\\tmutationFn: (token: string) => getInviteRoom({ token }),\\n\\t\\tonSuccess: (result) => {\\n\\t\\t\\tif (!result.room.name) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('Failed_to_activate_invite_token') });\\n\\t\\t\\t\\trouter.navigate('/home');\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (result.room.t === 'p') {\\n\\t\\t\\t\\trouter.navigate(`/group/${result.room.name}`);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\trouter.navigate(`/channel/${result.room.name}`);\\n\\t\\t},\\n\\t\\tonError: () => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('Failed_to_activate_invite_token') });\\n\\t\\t\\trouter.navigate('/home');\\n\\t\\t},\\n\\t});\\n\\n\\treturn mutate;\\n};\\n\",null],\"names\":[\"useEndpoint\",\"useRouter\",\"useToastMessageDispatch\",\"useTranslation\",\"useMutation\",\"module\",\"export\",\"useInviteTokenMutation\",\"link\",\"v\",\"t\",\"router\",\"dispatchToastMessage\",\"getInviteRoom\",\"mutate\",\"mutationFn\",\"token\",\"onSuccess\",\"result\",\"room\",\"name\",\"type\",\"message\",\"navigate\",\"concat\",\"onError\"],\"mappings\":\"2BAA0DA,EAAsBC,EAAAC,EAA2BC,EAAAC,EAA3GC,EAAOC,MAAE,CAAA,CAAAC,uBAAwBA,IAAAA,CAAyB,GAAiDF,EAAAG,IAAA,CAAA,2BAAA,CAAAR,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,UAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,wBAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,wBAAA,CAAAJ,YAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAGpG,IAAMF,EAAyBA,KACrC,IAAMG,EAAIP,IACJQ,EAASV,IAETW,EAAuBV,IAEvBW,EAAgBb,EAAY,OAAQ,sBAEpC,CAAEc,OAAAA,CAAAA,CAAQ,CAAGV,EAAY,CAC9BW,WAAaC,GAAkBH,EAAc,CAAEG,MAAAA,CAAK,GACpDC,UAAYC,IACX,GAAI,CAACA,EAAOC,IAAI,CAACC,IAAI,CAAE,CACtBR,EAAqB,CAAES,KAAM,QAASC,QAASZ,EAAE,kCAAkC,GACnFC,EAAOY,QAAQ,CAAC,SAChB,MACD,CAEA,GAAIL,AAAkB,MAAlBA,EAAOC,IAAI,CAACT,CAAC,CAAU,CAC1BC,EAAOY,QAAQ,CAAA,UAAAC,MAAA,CAAWN,EAAOC,IAAI,CAACC,IAAI,GAC1C,MACD,CAEAT,EAAOY,QAAQ,CAAA,YAAAC,MAAA,CAAaN,EAAOC,IAAI,CAACC,IAAI,EAC7C,EACAK,QAASA,KACRb,EAAqB,CAAES,KAAM,QAASC,QAASZ,EAAE,kCAAkC,GACnFC,EAAOY,QAAQ,CAAC,QACjB,IAGD,OAAOT,CACR\"}"}