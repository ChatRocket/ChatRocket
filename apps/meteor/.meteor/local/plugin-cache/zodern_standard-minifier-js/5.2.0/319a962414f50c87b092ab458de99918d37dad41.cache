{"code":"function module(e,t,l){let n,a,r,o,c,s,i,u,m,k,p,E,d;let g=[\"onClose\",\"onStatusChange\"];l.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){n=e}},0),l.link(\"@rocket.chat/fuselage\",{Box(e){a=e},Button(e){r=e},ButtonGroup(e){o=e},Modal(e){c=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useSafely(e){s=e}},1),l.link(\"@rocket.chat/ui-contexts\",{useMethod(e){i=e},useSetModal(e){u=e},useToastMessageDispatch(e){m=e}},2),l.link(\"react\",{default(e){k=e},useState(e){p=e}},3),l.link(\"react-i18next\",{useTranslation(e){E=e}},4),l.link(\"../hooks/useFeatureBullets\",{default(e){d=e}},5),l.exportDefault(e=>{let{onClose:t,onStatusChange:l}=e,h=n(e,g),{t:y}=E(),f=u(),C=m(),S=d(),[_,W]=s(p(!1)),b=i(\"cloud:syncWorkspace\"),x=async()=>{W(!0);try{let e=await b();if(!e)throw Error(y(\"RegisterWorkspace_Syncing_Error\"));C({type:\"success\",message:y(\"RegisterWorkspace_Syncing_Complete\")}),f(null)}catch(e){C({type:\"error\",message:e})}finally{null==l||l(),W(!1)}};return k.createElement(c,h,k.createElement(c.Header,null,k.createElement(c.HeaderText,null,k.createElement(c.Title,null,y(\"Workspace_registered\"))),k.createElement(c.Close,{onClick:t})),k.createElement(c.Content,null,k.createElement(a,{withRichContent:!0},k.createElement(\"span\",null,\"\".concat(y(\"RegisterWorkspace_Registered_Subtitle\"),\": \")),k.createElement(\"ul\",null,S.map((e,t)=>k.createElement(\"li\",{key:t},k.createElement(\"strong\",null,e.title),k.createElement(a,{is:\"p\",mbs:4},e.description)))))),k.createElement(c.Footer,null,k.createElement(o,{align:\"end\"},k.createElement(r,{icon:\"reload\",onClick:x,loading:_},y(\"Sync\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/workspace/VersionCard/modals/RegisteredWorkspaceModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Button, ButtonGroup, Modal } from '@rocket.chat/fuselage';\\nimport { useSafely } from '@rocket.chat/fuselage-hooks';\\nimport { useMethod, useSetModal, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport React, { useState } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport useFeatureBullets from '../hooks/useFeatureBullets';\\n\\ntype RegisteredWorkspaceModalProps = {\\n\\tonClose: () => void;\\n\\tonStatusChange?: () => void;\\n};\\n\\nconst RegisteredWorkspaceModal = ({ onClose, onStatusChange, ...props }: RegisteredWorkspaceModalProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst bulletFeatures = useFeatureBullets();\\n\\tconst [isSyncing, setSyncing] = useSafely(useState(false));\\n\\n\\tconst syncWorkspace = useMethod('cloud:syncWorkspace');\\n\\n\\tconst handleSyncAction = async () => {\\n\\t\\tsetSyncing(true);\\n\\n\\t\\ttry {\\n\\t\\t\\tconst isSynced = await syncWorkspace();\\n\\n\\t\\t\\tif (!isSynced) {\\n\\t\\t\\t\\tthrow Error(t('RegisterWorkspace_Syncing_Error'));\\n\\t\\t\\t}\\n\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('RegisterWorkspace_Syncing_Complete') });\\n\\t\\t\\tsetModal(null);\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t} finally {\\n\\t\\t\\tonStatusChange?.();\\n\\t\\t\\tsetSyncing(false);\\n\\t\\t}\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Modal {...props}>\\n\\t\\t\\t<Modal.Header>\\n\\t\\t\\t\\t<Modal.HeaderText>\\n\\t\\t\\t\\t\\t<Modal.Title>{t('Workspace_registered')}</Modal.Title>\\n\\t\\t\\t\\t</Modal.HeaderText>\\n\\t\\t\\t\\t<Modal.Close onClick={onClose} />\\n\\t\\t\\t</Modal.Header>\\n\\t\\t\\t<Modal.Content>\\n\\t\\t\\t\\t<Box withRichContent>\\n\\t\\t\\t\\t\\t<span>{`${t('RegisterWorkspace_Registered_Subtitle')}: `}</span>\\n\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t{bulletFeatures.map((item, index) => (\\n\\t\\t\\t\\t\\t\\t\\t<li key={index}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong>{item.title}</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Box is='p' mbs={4}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{item.description}\\n\\t\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Modal.Content>\\n\\t\\t\\t<Modal.Footer>\\n\\t\\t\\t\\t<ButtonGroup align='end'>\\n\\t\\t\\t\\t\\t<Button icon='reload' onClick={handleSyncAction} loading={isSyncing}>\\n\\t\\t\\t\\t\\t\\t{t('Sync')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</Modal.Footer>\\n\\t\\t</Modal>\\n\\t);\\n};\\n\\nexport default RegisteredWorkspaceModal;\\n\",null],\"names\":[\"_objectWithoutProperties\",\"Box\",\"Button\",\"ButtonGroup\",\"Modal\",\"useSafely\",\"useMethod\",\"useSetModal\",\"useToastMessageDispatch\",\"React\",\"useState\",\"useTranslation\",\"useFeatureBullets\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"onClose\",\"onStatusChange\",\"props\",\"_excluded\",\"t\",\"setModal\",\"dispatchToastMessage\",\"bulletFeatures\",\"isSyncing\",\"setSyncing\",\"syncWorkspace\",\"handleSyncAction\",\"isSynced\",\"Error\",\"type\",\"message\",\"error\",\"createElement\",\"Header\",\"HeaderText\",\"Title\",\"Close\",\"onClick\",\"Content\",\"withRichContent\",\"concat\",\"map\",\"item\",\"index\",\"key\",\"title\",\"is\",\"mbs\",\"description\",\"Footer\",\"align\",\"icon\",\"loading\"],\"mappings\":\"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\"}"}