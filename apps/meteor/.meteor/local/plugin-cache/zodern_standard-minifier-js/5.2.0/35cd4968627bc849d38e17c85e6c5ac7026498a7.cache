{"code":"function module(e,n,t){var i,u,a,r,l,o,c,s,f,g,d,k,h,m;t.link(\"@babel/runtime/regenerator\",{default:function(e){i=e}},0),t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){u=e}},1),t.link(\"@rocket.chat/fuselage\",{Callout:function(e){a=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){r=e},usePermission:function(e){l=e}},1),t.link(\"@tanstack/react-query\",{useQuery:function(e){o=e}},2),t.link(\"react\",{default:function(e){c=e}},3),t.link(\"react-i18next\",{useTranslation:function(e){s=e}},4),t.link(\"../../../components/Page\",{Page:function(e){f=e},PageHeader:function(e){g=e},PageScrollableContentWithShadow:function(e){d=e}},5),t.link(\"../../../components/PageSkeleton\",{default:function(e){k=e}},6),t.link(\"../../notAuthorized/NotAuthorizedPage\",{default:function(e){h=e}},7),t.link(\"./WebhooksPage\",{default:function(e){m=e}},8),t.exportDefault(function(){var e=s().t,n=r(\"GET\",\"/v1/livechat/integrations.settings\"),t=o([\"/v1/livechat/integrations.settings\"],function(){var e,t,a;return i.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.awrap(n());case 2:return t=(e=r.sent).settings,a=e.success,r.abrupt(\"return\",{settings:t.reduce(function(e,n){var t,i=n._id,a=n.value;return e=u(u({},e),{},((t={})[i]=a,t))},{}),success:a});case 6:case\"end\":return r.stop()}},null,null,null,Promise)}),v=t.data,p=t.isLoading,E=t.isError;return l(\"view-livechat-webhooks\")?p?c.createElement(k,null):null!=v&&v.success&&null!=v&&v.settings&&!E?c.createElement(m,{settings:v.settings}):c.createElement(f,null,c.createElement(g,{title:e(\"Webhooks\")}),c.createElement(d,null,c.createElement(a,{type:\"danger\"},e(\"Error\")))):c.createElement(h,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/webhooks/WebhooksPageContainer.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ISetting, Serialized, SettingValue } from '@rocket.chat/core-typings';\\nimport { Callout } from '@rocket.chat/fuselage';\\nimport { useEndpoint, usePermission } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport PageSkeleton from '../../../components/PageSkeleton';\\nimport NotAuthorizedPage from '../../notAuthorized/NotAuthorizedPage';\\nimport WebhooksPage from './WebhooksPage';\\n\\nconst reduceSettings = (settings: Serialized<ISetting>[]) =>\\n\\tsettings.reduce<Record<string, SettingValue>>((acc, { _id, value }) => {\\n\\t\\tacc = { ...acc, [_id]: value };\\n\\t\\treturn acc;\\n\\t}, {});\\n\\nconst WebhooksPageContainer = () => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst getIntegrationsSettings = useEndpoint('GET', '/v1/livechat/integrations.settings');\\n\\n\\tconst { data, isLoading, isError } = useQuery(['/v1/livechat/integrations.settings'], async () => {\\n\\t\\tconst { settings, success } = await getIntegrationsSettings();\\n\\t\\treturn { settings: reduceSettings(settings), success };\\n\\t});\\n\\n\\tconst canViewLivechatWebhooks = usePermission('view-livechat-webhooks');\\n\\n\\tif (!canViewLivechatWebhooks) {\\n\\t\\treturn <NotAuthorizedPage />;\\n\\t}\\n\\n\\tif (isLoading) {\\n\\t\\treturn <PageSkeleton />;\\n\\t}\\n\\n\\tif (!data?.success || !data?.settings || isError) {\\n\\t\\treturn (\\n\\t\\t\\t<Page>\\n\\t\\t\\t\\t<PageHeader title={t('Webhooks')} />\\n\\t\\t\\t\\t<PageScrollableContentWithShadow>\\n\\t\\t\\t\\t\\t<Callout type='danger'>{t('Error')}</Callout>\\n\\t\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t\\t</Page>\\n\\t\\t);\\n\\t}\\n\\n\\treturn <WebhooksPage settings={data.settings} />;\\n};\\n\\nexport default WebhooksPageContainer;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_objectSpread\",\"Callout\",\"useEndpoint\",\"usePermission\",\"useQuery\",\"React\",\"useTranslation\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"PageSkeleton\",\"NotAuthorizedPage\",\"WebhooksPage\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"t\",\"_useTranslation\",\"getIntegrationsSettings\",\"_useQuery\",\"_await$getIntegration\",\"settings\",\"success\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"sent\",\"abrupt\",\"reduce\",\"acc\",\"_ref\",\"_objectSpread2\",\"_id\",\"value\",\"stop\",\"Promise\",\"data\",\"isLoading\",\"isError\",\"createElement\",\"title\",\"type\"],\"mappings\":\"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\"}"}