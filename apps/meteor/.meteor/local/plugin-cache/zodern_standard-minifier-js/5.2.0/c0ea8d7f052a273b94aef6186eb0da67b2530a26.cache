{"code":"function module(e,t,a){let n,l,o,s,i,r,u,c,m,d,k,p,f,g;let h=[\"hasReacted\",\"counter\",\"name\",\"names\",\"messageId\"];a.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),a.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){l=e}},1),a.link(\"@rocket.chat/fuselage\",{MessageReaction(e){o=e},MessageReactionEmoji(e){s=e},MessageReactionCounter(e){i=e}},0),a.link(\"@rocket.chat/ui-contexts\",{useTooltipClose(e){r=e},useTooltipOpen(e){u=e}},1),a.link(\"react\",{default(e){c=e},useRef(e){m=e},useContext(e){d=e}},2),a.link(\"react-i18next\",{useTranslation(e){k=e}},3),a.link(\"../../../../lib/utils/renderEmoji\",{getEmojiClassNameAndDataTitle(e){p=e}},4),a.link(\"../../list/MessageListContext\",{MessageListContext(e){f=e}},5),a.link(\"./ReactionTooltip\",{default(e){g=e}},6),a.exportDefault(e=>{let{hasReacted:t,counter:a,name:E,names:R,messageId:b}=e,x=l(e,h),{t:M}=k(),C=m(null),j=u(),T=r(),{showRealName:_,username:D}=d(f),L=t(E),N=p(E);return c.createElement(o,n({ref:C,key:E,mine:L,\"aria-label\":M(\"React_with__reaction__\",{reaction:E}),\"data-tooltip\":\"\",onMouseEnter:async e=>{e.stopPropagation(),e.preventDefault(),C.current&&j(c.createElement(g,{emojiName:E,usernames:R,mine:L,messageId:b,showRealName:_,username:D}),C.current)},onMouseLeave:()=>{T()}},x),c.createElement(s,N),c.createElement(i,{counter:a}))})}","map":"{\"version\":3,\"sources\":[\"client/components/message/content/reactions/Reaction.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { MessageReaction as MessageReactionTemplate, MessageReactionEmoji, MessageReactionCounter } from '@rocket.chat/fuselage';\\nimport { useTooltipClose, useTooltipOpen } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps, ReactElement } from 'react';\\nimport React, { useRef, useContext } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { getEmojiClassNameAndDataTitle } from '../../../../lib/utils/renderEmoji';\\nimport { MessageListContext } from '../../list/MessageListContext';\\nimport ReactionTooltip from './ReactionTooltip';\\n\\n// TODO: replace it with proper usage of i18next plurals\\ntype ReactionProps = {\\n\\thasReacted: (name: string) => boolean;\\n\\tcounter: number;\\n\\tname: string;\\n\\tnames: string[];\\n\\tmessageId: string;\\n} & ComponentProps<typeof MessageReactionTemplate>;\\n\\nconst Reaction = ({ hasReacted, counter, name, names, messageId, ...props }: ReactionProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst ref = useRef<HTMLDivElement>(null);\\n\\tconst openTooltip = useTooltipOpen();\\n\\tconst closeTooltip = useTooltipClose();\\n\\tconst { showRealName, username } = useContext(MessageListContext);\\n\\n\\tconst mine = hasReacted(name);\\n\\n\\tconst emojiProps = getEmojiClassNameAndDataTitle(name);\\n\\n\\treturn (\\n\\t\\t<MessageReactionTemplate\\n\\t\\t\\tref={ref}\\n\\t\\t\\tkey={name}\\n\\t\\t\\tmine={mine}\\n\\t\\t\\taria-label={t('React_with__reaction__', { reaction: name })}\\n\\t\\t\\t// if data-tooltip is not set, the tooltip will close on first mouse enter\\n\\t\\t\\tdata-tooltip=''\\n\\t\\t\\tonMouseEnter={async (e) => {\\n\\t\\t\\t\\te.stopPropagation();\\n\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\tref.current &&\\n\\t\\t\\t\\t\\topenTooltip(\\n\\t\\t\\t\\t\\t\\t<ReactionTooltip\\n\\t\\t\\t\\t\\t\\t\\temojiName={name}\\n\\t\\t\\t\\t\\t\\t\\tusernames={names}\\n\\t\\t\\t\\t\\t\\t\\tmine={mine}\\n\\t\\t\\t\\t\\t\\t\\tmessageId={messageId}\\n\\t\\t\\t\\t\\t\\t\\tshowRealName={showRealName}\\n\\t\\t\\t\\t\\t\\t\\tusername={username}\\n\\t\\t\\t\\t\\t\\t/>,\\n\\t\\t\\t\\t\\t\\tref.current,\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t}}\\n\\t\\t\\tonMouseLeave={(): void => {\\n\\t\\t\\t\\tcloseTooltip();\\n\\t\\t\\t}}\\n\\t\\t\\t{...props}\\n\\t\\t>\\n\\t\\t\\t<MessageReactionEmoji {...emojiProps} />\\n\\t\\t\\t<MessageReactionCounter counter={counter} />\\n\\t\\t</MessageReactionTemplate>\\n\\t);\\n};\\n\\nexport default Reaction;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"MessageReactionTemplate\",\"MessageReactionEmoji\",\"MessageReactionCounter\",\"useTooltipClose\",\"useTooltipOpen\",\"React\",\"useRef\",\"useContext\",\"useTranslation\",\"getEmojiClassNameAndDataTitle\",\"MessageListContext\",\"ReactionTooltip\",\"module\",\"link\",\"default\",\"v\",\"MessageReaction\",\"exportDefault\",\"_ref\",\"hasReacted\",\"counter\",\"name\",\"names\",\"messageId\",\"props\",\"_excluded\",\"t\",\"ref\",\"openTooltip\",\"closeTooltip\",\"showRealName\",\"username\",\"mine\",\"emojiProps\",\"createElement\",\"key\",\"reaction\",\"onMouseEnter\",\"e\",\"stopPropagation\",\"preventDefault\",\"current\",\"emojiName\",\"usernames\",\"onMouseLeave\"],\"mappings\":\"2BAAAA,EAA2EC,EAA3EC,EAA4BC,EAAAC,EAAqGC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,4DAAxHC,EAAAC,IAAe,CAAA,iCAA6B,CAAAC,QAAAC,CAAA,EAAAjB,EAAsBiB,CAAA,CAAA,EAAA,GAA8BH,EAAAC,IAAA,CAAA,iDAAwB,CAAAC,QAAAC,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAA5EH,EAAsBC,IAAA,CAAA,wBAA8B,CAAAG,gBAAAD,CAAA,EAAuBf,EAACe,CAAA,EAAAd,qBAAAc,CAAA,EAAAd,EAAAc,CAAA,EAAAb,uBAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAV,gBAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,eAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAV,EAAAU,CAAA,EAAAT,OAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,WAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAL,eAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oCAAA,CAAAJ,8BAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAAH,mBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oBAAA,CAAAC,QAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAjIH,EAAOK,aAAE,CAmBQC,IAA2F,GAA1F,CAAEC,WAAAA,CAAU,CAAEC,QAAAA,CAAO,CAAEC,KAAAA,CAAI,CAAEC,MAAAA,CAAK,CAAEC,UAAAA,CAAAA,CAAoC,CAAAL,EAAtBM,EAAKzB,EAAAmB,EAAAO,GAClE,CAAEC,EAAAA,CAAAA,CAAG,CAAGlB,IACRmB,EAAMrB,EAAuB,MAC7BsB,EAAcxB,IACdyB,EAAe1B,IACf,CAAE2B,aAAAA,CAAY,CAAEC,SAAAA,CAAAA,CAAU,CAAGxB,EAAWG,GAExCsB,EAAOb,EAAWE,GAElBY,EAAaxB,EAA8BY,GAEjD,OACChB,EAAA6B,aAAA,CAAClC,EAAuBF,EAAA,CACvB6B,IAAKA,EACLQ,IAAKd,EACLW,KAAMA,EACN,aAAYN,EAAE,yBAA0B,CAAEU,SAAUf,CAAI,GAExD,eAAa,GACbgB,aAAc,MAAOC,IACpBA,EAAEC,eAAe,GACjBD,EAAEE,cAAc,GAEhBb,EAAIc,OAAO,EACVb,EACCvB,EAAA6B,aAAA,CAACvB,EAAe,CACf+B,UAAWrB,EACXsB,UAAWrB,EACXU,KAAMA,EACNT,UAAWA,EACXO,aAAcA,EACdC,SAAUA,CAAS,GAEpBJ,EAAIc,OAAO,CAEd,EACAG,aAAcA,KACbf,GACD,CAAE,EACEL,GAEJnB,EAAA6B,aAAA,CAACjC,EAAyBgC,GAC1B5B,EAAA6B,aAAA,CAAChC,EAAsB,CAACkB,QAASA,CAAQ,GAG5C\"}"}