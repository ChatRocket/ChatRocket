{"code":"function module(e,n,o){var t,u,i,l,r,s,a,c,f,d,p,k,m,h,x,v,b,R,w,C,g;o.link(\"@babel/runtime/helpers/extends\",{default:function(e){t=e}},0),o.link(\"@rocket.chat/fuselage\",{Box:function(e){u=e},SidebarV2CollapseGroup:function(e){i=e}},0),o.link(\"@rocket.chat/fuselage-hooks\",{useResizeObserver:function(e){l=e}},1),o.link(\"@rocket.chat/ui-contexts\",{useUserPreference:function(e){r=e},useUserId:function(e){s=e}},2),o.link(\"react\",{default:function(e){a=e},useMemo:function(e){c=e}},3),o.link(\"react-i18next\",{useTranslation:function(e){f=e}},4),o.link(\"react-virtuoso\",{GroupedVirtuoso:function(e){d=e}},5),o.link(\"../../components/CustomScrollbars\",{VirtuosoScrollbars:function(e){p=e}},6),o.link(\"../../lib/RoomManager\",{useOpenedRoom:function(e){k=e}},7),o.link(\"../hooks/useAvatarTemplate\",{useAvatarTemplate:function(e){m=e}},8),o.link(\"../hooks/useCollapsedGroups\",{useCollapsedGroups:function(e){h=e}},9),o.link(\"../hooks/usePreventDefault\",{usePreventDefault:function(e){x=e}},10),o.link(\"../hooks/useRoomList\",{useRoomList:function(e){v=e}},11),o.link(\"../hooks/useShortcutOpenMenu\",{useShortcutOpenMenu:function(e){b=e}},12),o.link(\"../hooks/useTemplateByViewMode\",{useTemplateByViewMode:function(e){R=e}},13),o.link(\"./RoomListRow\",{default:function(e){w=e}},14),o.link(\"./RoomListRowWrapper\",{default:function(e){C=e}},15),o.link(\"./RoomListWrapper\",{default:function(e){g=e}},16),o.exportDefault(function(){var e,n=f().t,o=!s(),L=h(),M=L.collapsedGroups,S=L.handleClick,y=L.handleKeyDown,G=v({collapsedGroups:M}),T=G.groupsCount,V=G.groupsList,D=G.roomList,A=m(),B=R(),E=l({debounceDelay:100}).ref,O=null!==(e=k())&&void 0!==e?e:\"\",I=r(\"sidebarViewMode\")||\"extended\",P=\"extended\"===I,K=c(function(){return{extended:P,t:n,SidebarItemTemplate:B,AvatarTemplate:A,openedRoom:O,sidebarViewMode:I,isAnonymous:o}},[A,P,o,O,B,I,n]);return x(E),b(E),a.createElement(u,{position:\"relative\",display:\"flex\",overflow:\"hidden\",height:\"full\",flexGrow:1,flexShrink:1,flexBasis:\"auto\",ref:E},a.createElement(d,t({groupCounts:T,groupContent:function(e){return a.createElement(i,{title:n(V[e]),onClick:function(){return S(V[e])},onKeyDown:function(n){return y(n,V[e])},expanded:!M.includes(V[e])})}},D.length>0&&{itemContent:function(e){return D[e]&&a.createElement(w,{data:K,item:D[e]})}},{components:{Item:C,List:g,Scroller:p}})))})}","map":"{\"version\":3,\"sources\":[\"client/sidebarv2/RoomList/RoomList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, SidebarV2CollapseGroup } from '@rocket.chat/fuselage';\\nimport { useResizeObserver } from '@rocket.chat/fuselage-hooks';\\nimport { useUserPreference, useUserId } from '@rocket.chat/ui-contexts';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\nimport { GroupedVirtuoso } from 'react-virtuoso';\\n\\nimport { VirtuosoScrollbars } from '../../components/CustomScrollbars';\\nimport { useOpenedRoom } from '../../lib/RoomManager';\\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\\nimport { useCollapsedGroups } from '../hooks/useCollapsedGroups';\\nimport { usePreventDefault } from '../hooks/usePreventDefault';\\nimport { useRoomList } from '../hooks/useRoomList';\\nimport { useShortcutOpenMenu } from '../hooks/useShortcutOpenMenu';\\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\\nimport RoomListRow from './RoomListRow';\\nimport RoomListRowWrapper from './RoomListRowWrapper';\\nimport RoomListWrapper from './RoomListWrapper';\\n\\nconst RoomList = () => {\\n\\tconst { t } = useTranslation();\\n\\tconst isAnonymous = !useUserId();\\n\\n\\tconst { collapsedGroups, handleClick, handleKeyDown } = useCollapsedGroups();\\n\\tconst { groupsCount, groupsList, roomList } = useRoomList({ collapsedGroups });\\n\\tconst avatarTemplate = useAvatarTemplate();\\n\\tconst sideBarItemTemplate = useTemplateByViewMode();\\n\\tconst { ref } = useResizeObserver<HTMLElement>({ debounceDelay: 100 });\\n\\tconst openedRoom = useOpenedRoom() ?? '';\\n\\tconst sidebarViewMode = useUserPreference<'extended' | 'medium' | 'condensed'>('sidebarViewMode') || 'extended';\\n\\n\\tconst extended = sidebarViewMode === 'extended';\\n\\tconst itemData = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\textended,\\n\\t\\t\\tt,\\n\\t\\t\\tSidebarItemTemplate: sideBarItemTemplate,\\n\\t\\t\\tAvatarTemplate: avatarTemplate,\\n\\t\\t\\topenedRoom,\\n\\t\\t\\tsidebarViewMode,\\n\\t\\t\\tisAnonymous,\\n\\t\\t}),\\n\\t\\t[avatarTemplate, extended, isAnonymous, openedRoom, sideBarItemTemplate, sidebarViewMode, t],\\n\\t);\\n\\n\\tusePreventDefault(ref);\\n\\tuseShortcutOpenMenu(ref);\\n\\n\\treturn (\\n\\t\\t<Box position='relative' display='flex' overflow='hidden' height='full' flexGrow={1} flexShrink={1} flexBasis='auto' ref={ref}>\\n\\t\\t\\t<GroupedVirtuoso\\n\\t\\t\\t\\tgroupCounts={groupsCount}\\n\\t\\t\\t\\tgroupContent={(index) => (\\n\\t\\t\\t\\t\\t<SidebarV2CollapseGroup\\n\\t\\t\\t\\t\\t\\ttitle={t(groupsList[index])}\\n\\t\\t\\t\\t\\t\\tonClick={() => handleClick(groupsList[index])}\\n\\t\\t\\t\\t\\t\\tonKeyDown={(e) => handleKeyDown(e, groupsList[index])}\\n\\t\\t\\t\\t\\t\\texpanded={!collapsedGroups.includes(groupsList[index])}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{...(roomList.length > 0 && {\\n\\t\\t\\t\\t\\titemContent: (index) => roomList[index] && <RoomListRow data={itemData} item={roomList[index]} />,\\n\\t\\t\\t\\t})}\\n\\t\\t\\t\\tcomponents={{ Item: RoomListRowWrapper, List: RoomListWrapper, Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t/>\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default RoomList;\\n\",null],\"names\":[\"_extends\",\"Box\",\"SidebarV2CollapseGroup\",\"useResizeObserver\",\"useUserPreference\",\"useUserId\",\"React\",\"useMemo\",\"useTranslation\",\"GroupedVirtuoso\",\"VirtuosoScrollbars\",\"useOpenedRoom\",\"useAvatarTemplate\",\"useCollapsedGroups\",\"usePreventDefault\",\"useRoomList\",\"useShortcutOpenMenu\",\"useTemplateByViewMode\",\"RoomListRow\",\"RoomListRowWrapper\",\"RoomListWrapper\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_useOpenedRoom\",\"t\",\"_useTranslation\",\"isAnonymous\",\"_useCollapsedGroups\",\"collapsedGroups\",\"handleClick\",\"handleKeyDown\",\"_useRoomList\",\"groupsCount\",\"groupsList\",\"roomList\",\"avatarTemplate\",\"sideBarItemTemplate\",\"ref\",\"_useResizeObserver\",\"debounceDelay\",\"openedRoom\",\"sidebarViewMode\",\"extended\",\"itemData\",\"SidebarItemTemplate\",\"AvatarTemplate\",\"createElement\",\"position\",\"display\",\"overflow\",\"height\",\"flexGrow\",\"flexShrink\",\"flexBasis\",\"groupCounts\",\"groupContent\",\"index\",\"title\",\"onClick\",\"onKeyDown\",\"e\",\"expanded\",\"includes\",\"length\",\"itemContent\",\"data\",\"item\",\"components\",\"Item\",\"List\",\"Scroller\"],\"mappings\":\"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\"}"}