{"code":"function module(n,t,e){e.link(\"@babel/runtime/helpers/taggedTemplateLiteralLoose\",{default:function(n){o=n}},0),e.link(\"@rocket.chat/css-in-js\",{css:function(n){a=n}},0),e.link(\"@rocket.chat/fuselage\",{Box:function(n){r=n},Button:function(n){s=n},Icon:function(n){i=n},Palette:function(n){l=n}},1),e.link(\"@rocket.chat/ui-contexts\",{useConnectionStatus:function(n){u=n}},2),e.link(\"react\",{default:function(n){f=n}},3),e.link(\"react-i18next\",{useTranslation:function(n){m=n}},4),e.link(\"./useReconnectCountdown\",{useReconnectCountdown:function(n){d=n}},5);var c,o,a,r,s,i,l,u,f,m,d,p=a(c||(c=o([\"\\n\tcolor: \",\";\\n\tbackground-color: \",\";\\n\tborder-color: \",\";\\n\\n\tposition: fixed;\\n\tz-index: 1000000;\\n\\n\tdisplay: flex;\\n\tjustify-content: space-between;\\n\talign-items: center;\\n\\n\t.rcx-connection-status-bar--wrapper {\\n\t\tdisplay: flex;\\n\t\talign-items: center;\\n\t\tcolumn-gap: 8px;\\n\t}\\n\t.rcx-connection-status-bar--content {\\n\t\tdisplay: flex;\\n\t\talign-items: center;\\n\t\tcolumn-gap: 8px;\\n\t}\\n\t.rcx-connection-status-bar--info {\\n\t\tcolor: \",\";\\n\t}\\n\"])),l.statusColor[\"status-font-on-warning\"],l.surface[\"surface-tint\"],l.statusColor[\"status-font-on-warning\"],l.text[\"font-default\"]);e.exportDefault(function(){var n=u(),t=n.connected,e=n.retryTime,c=n.status,o=n.reconnect,a=d(e,c),l=m().t;return t?null:f.createElement(r,{className:p,\"rcx-connection-status-bar\":!0,insetBlockStart:0,pb:4,pi:12,width:\"100%\",borderBlockEndWidth:2,role:\"alert\",fontScale:\"p2\"},f.createElement(\"span\",{className:\"rcx-connection-status-bar--wrapper\"},f.createElement(i,{name:\"warning\"}),f.createElement(\"span\",{className:\"rcx-connection-status-bar--content\"},f.createElement(\"strong\",null,l(\"meteor_status\",{context:c})),[\"waiting\",\"failed\",\"offline\"].includes(c)&&f.createElement(\"span\",{className:\"rcx-connection-status-bar--info\"},\"waiting\"===c?l(\"meteor_status_reconnect_in\",{count:a}):l(\"meteor_status_try_again_later\")))),f.createElement(s,{primary:!0,onClick:o,small:!0,disabled:[\"connected\",\"connecting\"].includes(c)},l(\"Connect\")))})}","map":"{\"version\":3,\"sources\":[\"client/components/connectionStatus/ConnectionStatusBar.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { css } from '@rocket.chat/css-in-js';\\nimport { Box, Button, Icon, Palette } from '@rocket.chat/fuselage';\\nimport { useConnectionStatus } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useReconnectCountdown } from './useReconnectCountdown';\\n\\nconst connectionStatusBarStyle = css`\\n\\tcolor: ${Palette.statusColor['status-font-on-warning']};\\n\\tbackground-color: ${Palette.surface['surface-tint']};\\n\\tborder-color: ${Palette.statusColor['status-font-on-warning']};\\n\\n\\tposition: fixed;\\n\\tz-index: 1000000;\\n\\n\\tdisplay: flex;\\n\\tjustify-content: space-between;\\n\\talign-items: center;\\n\\n\\t.rcx-connection-status-bar--wrapper {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tcolumn-gap: 8px;\\n\\t}\\n\\t.rcx-connection-status-bar--content {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tcolumn-gap: 8px;\\n\\t}\\n\\t.rcx-connection-status-bar--info {\\n\\t\\tcolor: ${Palette.text['font-default']};\\n\\t}\\n`;\\nfunction ConnectionStatusBar() {\\n\\tconst { connected, retryTime, status, reconnect } = useConnectionStatus();\\n\\tconst reconnectCountdown = useReconnectCountdown(retryTime, status);\\n\\tconst { t } = useTranslation();\\n\\n\\tif (connected) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<Box\\n\\t\\t\\tclassName={connectionStatusBarStyle}\\n\\t\\t\\trcx-connection-status-bar\\n\\t\\t\\tinsetBlockStart={0}\\n\\t\\t\\tpb={4}\\n\\t\\t\\tpi={12}\\n\\t\\t\\twidth='100%'\\n\\t\\t\\tborderBlockEndWidth={2}\\n\\t\\t\\trole='alert'\\n\\t\\t\\tfontScale='p2'\\n\\t\\t>\\n\\t\\t\\t<span className='rcx-connection-status-bar--wrapper'>\\n\\t\\t\\t\\t<Icon name='warning' />\\n\\t\\t\\t\\t<span className='rcx-connection-status-bar--content'>\\n\\t\\t\\t\\t\\t<strong>{t('meteor_status', { context: status })}</strong>\\n\\t\\t\\t\\t\\t{['waiting', 'failed', 'offline'].includes(status) && (\\n\\t\\t\\t\\t\\t\\t<span className='rcx-connection-status-bar--info'>\\n\\t\\t\\t\\t\\t\\t\\t{status === 'waiting' ? t('meteor_status_reconnect_in', { count: reconnectCountdown }) : t('meteor_status_try_again_later')}\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</span>\\n\\t\\t\\t<Button primary onClick={reconnect} small disabled={['connected', 'connecting'].includes(status)}>\\n\\t\\t\\t\\t{t('Connect')}\\n\\t\\t\\t</Button>\\n\\t\\t</Box>\\n\\t);\\n}\\n\\nexport default ConnectionStatusBar;\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_taggedTemplateLiteralLoose\",\"css\",\"Box\",\"Button\",\"Icon\",\"Palette\",\"useConnectionStatus\",\"React\",\"useTranslation\",\"useReconnectCountdown\",\"connectionStatusBarStyle\",\"_templateObject\",\"statusColor\",\"surface\",\"text\",\"exportDefault\",\"_useConnectionStatus\",\"connected\",\"retryTime\",\"status\",\"reconnect\",\"reconnectCountdown\",\"t\",\"_useTranslation\",\"createElement\",\"className\",\"insetBlockStart\",\"pb\",\"pi\",\"width\",\"borderBlockEndWidth\",\"role\",\"fontScale\",\"name\",\"context\",\"includes\",\"count\",\"primary\",\"onClick\",\"small\",\"disabled\"],\"mappings\":\"uBAAoBA,EAAAC,IAAA,CAAwB,oDAAC,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAtCH,EAAOC,IAAA,CAAM,yBAAyB,CAAAI,IAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAK,IAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,EAAAI,OAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,EAAAK,KAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,QAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAS,oBAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAW,eAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAAY,sBAAA,SAAAV,CAAA,EAAAU,EAAAV,CAAA,CAAA,EAAA,GAQ7C,MARAC,EAAAC,EAA6CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAQvCC,EAA2BT,EAAGU,GAAAA,CAAAA,EAAAX,EAAA,CAAA,aAAA,yBAAA,qBAAA,+XAAA,UAAA,CAAA,EAC1BK,EAAQO,WAAW,CAAC,yBAAyB,CAClCP,EAAQQ,OAAO,CAAC,eAAe,CACnCR,EAAQO,WAAW,CAAC,yBAAyB,CAoBnDP,EAAQS,IAAI,CAAC,eAAe,EA/BvClB,EAAOmB,aAAa,CAkCpB,WACC,IAAAC,EAAoDV,IAA5CW,EAASD,EAATC,SAAS,CAAEC,EAASF,EAATE,SAAS,CAAEC,EAAMH,EAANG,MAAM,CAAEC,EAASJ,EAATI,SAAS,CACzCC,EAAqBZ,EAAsBS,EAAWC,GACpDG,EAACC,AAAKf,IAANc,CAAC,QAET,AAAIL,EACI,KAIPV,EAAAiB,aAAA,CAACtB,EAAG,CACHuB,UAAWf,EACX,4BAAA,CAAA,EACAgB,gBAAiB,EACjBC,GAAI,EACJC,GAAI,GACJC,MAAM,OACNC,oBAAqB,EACrBC,KAAK,QACLC,UAAU,IAAI,EAEdzB,EAAAiB,aAAA,CAAA,OAAA,CAAMC,UAAU,oCAAoC,EACnDlB,EAAAiB,aAAA,CAACpB,EAAI,CAAC6B,KAAK,SAAS,GACpB1B,EAAAiB,aAAA,CAAA,OAAA,CAAMC,UAAU,oCAAoC,EACnDlB,EAAAiB,aAAA,CAAA,SAAA,KAASF,EAAE,gBAAiB,CAAEY,QAASf,CAAM,IAC5C,CAAC,UAAW,SAAU,UAAU,CAACgB,QAAQ,CAAChB,IAC1CZ,EAAAiB,aAAA,CAAA,OAAA,CAAMC,UAAU,iCAAiC,EAC/CN,AAAW,YAAXA,EAAuBG,EAAE,6BAA8B,CAAEc,MAAOf,CAAkB,GAAMC,EAAE,oCAK/Ff,EAAAiB,aAAA,CAACrB,EAAM,CAACkC,QAAO,CAAA,EAACC,QAASlB,EAAWmB,MAAK,CAAA,EAACC,SAAU,CAAC,YAAa,aAAa,CAACL,QAAQ,CAAChB,EAAQ,EAC/FG,EAAE,YAIP\"}"}