{"code":"function module(e,t,n){let l,a,r,c,i,o,m,s,u,_,d,E,p,f,g,h,v,k,b,C,F,T,S,q,y,j,w;n.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),n.link(\"@rocket.chat/fuselage\",{Field(e){a=e},FieldGroup(e){r=e},Button(e){c=e},TextInput(e){i=e},Modal(e){o=e},Box(e){m=e},CheckBox(e){s=e},Divider(e){u=e},EmailInput(e){_=e},FieldLabel(e){d=e},FieldRow(e){E=e},FieldError(e){p=e}},0),n.link(\"@rocket.chat/ui-contexts\",{usePermission(e){f=e},useSetting(e){g=e},useTranslation(e){h=e},useUserPreference(e){v=e}},1),n.link(\"react\",{default(e){k=e},useCallback(e){b=e},useState(e){C=e},useEffect(e){F=e},useMemo(e){T=e}},2),n.link(\"react-hook-form\",{useForm(e){S=e}},3),n.link(\"../../../hooks/useHasLicenseModule\",{useHasLicenseModule(e){q=e}},4),n.link(\"../../../lib/toast\",{dispatchToastMessage(e){y=e}},5),n.link(\"../../GenericModal\",{default(e){j=e}},6),n.link(\"../Tags\",{default(e){w=e}},7),n.exportDefault(e=>{var t,n,x,B,M;let{department:L,visitorEmail:P,onCancel:R,onConfirm:D}=e,G=h(),{formState:{errors:O},handleSubmit:A,register:H,setError:I,setFocus:N,setValue:U,watch:W}=S(),z=g(\"Livechat_request_comment_when_closing_conversation\"),J=g(\"Livechat_transcript_send_always\"),K=g(\"Livechat_transcript_email_subject\"),[Q,V]=C(!1),X=W(\"tags\"),Y=W(\"comment\"),Z=W(\"transcriptEmail\"),$=W(\"subject\"),ee=null!==(t=v(\"omnichannelTranscriptEmail\"))&&void 0!==t&&t,et=null!==(n=v(\"omnichannelTranscriptPDF\"))&&void 0!==n&&n,en=q(\"livechat-enterprise\"),el=f(\"request-pdf-transcript\"),ea=f(\"send-omnichannel-chat-transcript\"),er=ea&&P&&!J,ec=el&&en,ei=er||ec,eo=b(e=>{let{comment:t,tags:n,transcriptPDF:l,transcriptEmail:a,subject:r}=e,c=a&&P?{email:P,subject:r}:void 0;!(null!=t&&t.trim())&&z&&I(\"comment\",{type:\"custom\",message:G(\"Required_field\",{field:G(\"Comment\")})}),a&&!r&&I(\"subject\",{type:\"custom\",message:G(\"Required_field\",{field:G(\"Subject\")})}),!(null!=n&&n.length)&&Q&&I(\"tags\",{type:\"custom\",message:G(\"error-tags-must-be-assigned-before-closing-chat\")}),(!O.comment||O.tags)&&D(t,n,{omnichannelTranscriptPDF:!!l,omnichannelTranscriptEmail:!!J||!!a},c)},[z,Q,P,O,I,G,D,J]),em=T(()=>{let e=Q&&!(null!=X&&X.length)||O.tags,t=z&&!(null!=Y&&Y.trim())||O.comment,n=Z&&(!P||!$);return!!(e||t||n)},[Y,z,O,Q,X,Z,P,$]);return(F(()=>{null!=L&&L.requestTagBeforeClosingChat&&V(!0)},[L]),F(()=>{z&&N(\"comment\")},[z,N]),F(()=>{Q&&H(\"tags\")},[H,Q]),F(()=>{if(Z){if(!P){y({type:\"error\",message:G(\"Customer_without_registered_email\")});return}U(\"subject\",$||K||G(\"Transcript_of_your_livechat_conversation\"))}},[Z,U,P,$,G,K]),z||Q||ei)?k.createElement(o,{wrapperFunction:e=>k.createElement(m,l({is:\"form\",onSubmit:A(eo)},e,{\"data-qa-id\":\"close-chat-modal\"}))},k.createElement(o.Header,null,k.createElement(o.Icon,{name:\"baloon-close-top-right\"}),k.createElement(o.Title,null,G(\"Wrap_up_conversation\")),k.createElement(o.Close,{onClick:R})),k.createElement(o.Content,{fontScale:\"p2\"},k.createElement(m,{color:\"annotation\"},G(\"Close_room_description\")),k.createElement(r,null,k.createElement(a,null,k.createElement(d,{required:z},G(\"Comment\")),k.createElement(E,null,k.createElement(i,l({},H(\"comment\"),{error:O.comment&&G(\"Required_field\",{field:G(\"Comment\")}),flexGrow:1,placeholder:G(\"Please_add_a_comment\")}))),k.createElement(p,null,null===(x=O.comment)||void 0===x?void 0:x.message)),k.createElement(a,null,k.createElement(w,l({tagRequired:Q,tags:X,handler:e=>{U(\"tags\",e)}},L&&{department:L._id})),k.createElement(p,null,null===(B=O.tags)||void 0===B?void 0:B.message)),ei&&k.createElement(k.Fragment,null,k.createElement(a,null,k.createElement(u,null),k.createElement(d,{marginBlockStart:8},G(\"Chat_transcript\"))),ec&&k.createElement(a,{marginBlockStart:10},k.createElement(E,null,k.createElement(d,{htmlFor:\"transcript-pdf\"},G(\"Omnichannel_transcript_pdf\")),k.createElement(s,l({id:\"transcript-pdf\"},H(\"transcriptPDF\",{value:et}))))),er&&k.createElement(k.Fragment,null,k.createElement(a,{marginBlockStart:10},k.createElement(E,null,k.createElement(d,{htmlFor:\"transcript-email\"},G(\"Omnichannel_transcript_email\")),k.createElement(s,l({id:\"transcript-email\"},H(\"transcriptEmail\",{value:ee}))))),Z&&k.createElement(k.Fragment,null,k.createElement(a,{marginBlockStart:14},k.createElement(d,{required:!0},G(\"Contact_email\")),k.createElement(E,null,k.createElement(_,{value:P,required:!0,disabled:!0,flexGrow:1}))),k.createElement(a,{marginBlockStart:12},k.createElement(d,{required:!0},G(\"Subject\")),k.createElement(E,null,k.createElement(i,l({},H(\"subject\",{required:!0}),{className:\"active\",error:O.subject&&G(\"Required_field\",{field:G(\"Subject\")}),flexGrow:1}))),k.createElement(p,null,null===(M=O.subject)||void 0===M?void 0:M.message)))),k.createElement(a,{marginBlockStart:16},k.createElement(d,{color:\"annotation\",fontScale:\"c1\"},ec&&er?G(\"These_options_affect_this_conversation_only_To_set_default_selections_go_to_My_Account_Omnichannel\"):G(\"This_option_affect_this_conversation_only_To_set_default_selection_go_to_My_Account_Omnichannel\")))))),k.createElement(o.Footer,null,k.createElement(o.FooterControllers,null,k.createElement(c,{onClick:R},G(\"Cancel\")),k.createElement(c,{type:\"submit\",disabled:em,primary:!0},G(\"Confirm\"))))):k.createElement(j,{variant:\"warning\",title:G(\"Are_you_sure_you_want_to_close_this_chat\"),onConfirm:()=>D(),onCancel:R,onClose:R,confirmText:G(\"Confirm\")})})}","map":"{\"version\":3,\"sources\":[\"client/components/Omnichannel/modals/CloseChatModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatDepartment, Serialized } from '@rocket.chat/core-typings';\\nimport {\\n\\tField,\\n\\tFieldGroup,\\n\\tButton,\\n\\tTextInput,\\n\\tModal,\\n\\tBox,\\n\\tCheckBox,\\n\\tDivider,\\n\\tEmailInput,\\n\\tFieldLabel,\\n\\tFieldRow,\\n\\tFieldError,\\n} from '@rocket.chat/fuselage';\\nimport { usePermission, useSetting, useTranslation, useUserPreference } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback, useState, useEffect, useMemo } from 'react';\\nimport { useForm } from 'react-hook-form';\\n\\nimport { useHasLicenseModule } from '../../../hooks/useHasLicenseModule';\\nimport { dispatchToastMessage } from '../../../lib/toast';\\nimport GenericModal from '../../GenericModal';\\nimport Tags from '../Tags';\\n\\nconst CloseChatModal = ({\\n\\tdepartment,\\n\\tvisitorEmail,\\n\\tonCancel,\\n\\tonConfirm,\\n}: {\\n\\tdepartment?: Serialized<ILivechatDepartment | null>;\\n\\tvisitorEmail?: string;\\n\\tonCancel: () => void;\\n\\tonConfirm: (\\n\\t\\tcomment?: string,\\n\\t\\ttags?: string[],\\n\\t\\tpreferences?: { omnichannelTranscriptPDF: boolean; omnichannelTranscriptEmail: boolean },\\n\\t\\trequestData?: { email: string; subject: string },\\n\\t) => Promise<void>;\\n}): ReactElement => {\\n\\tconst t = useTranslation();\\n\\n\\tconst {\\n\\t\\tformState: { errors },\\n\\t\\thandleSubmit,\\n\\t\\tregister,\\n\\t\\tsetError,\\n\\t\\tsetFocus,\\n\\t\\tsetValue,\\n\\t\\twatch,\\n\\t} = useForm();\\n\\n\\tconst commentRequired = useSetting('Livechat_request_comment_when_closing_conversation') as boolean;\\n\\tconst alwaysSendTranscript = useSetting<boolean>('Livechat_transcript_send_always');\\n\\tconst customSubject = useSetting<string>('Livechat_transcript_email_subject');\\n\\tconst [tagRequired, setTagRequired] = useState(false);\\n\\n\\tconst tags = watch('tags');\\n\\tconst comment = watch('comment');\\n\\tconst transcriptEmail = watch('transcriptEmail');\\n\\tconst subject = watch('subject');\\n\\n\\tconst userTranscriptEmail = useUserPreference<boolean>('omnichannelTranscriptEmail') ?? false;\\n\\tconst userTranscriptPDF = useUserPreference<boolean>('omnichannelTranscriptPDF') ?? false;\\n\\tconst hasLicense = useHasLicenseModule('livechat-enterprise');\\n\\tconst transcriptPDFPermission = usePermission('request-pdf-transcript');\\n\\tconst transcriptEmailPermission = usePermission('send-omnichannel-chat-transcript');\\n\\n\\tconst canSendTranscriptEmail = transcriptEmailPermission && visitorEmail && !alwaysSendTranscript;\\n\\tconst canSendTranscriptPDF = transcriptPDFPermission && hasLicense;\\n\\tconst canSendTranscript = canSendTranscriptEmail || canSendTranscriptPDF;\\n\\n\\tconst handleTags = (value: string[]): void => {\\n\\t\\tsetValue('tags', value);\\n\\t};\\n\\n\\tconst onSubmit = useCallback(\\n\\t\\t({ comment, tags, transcriptPDF, transcriptEmail, subject }): void => {\\n\\t\\t\\tconst preferences = {\\n\\t\\t\\t\\tomnichannelTranscriptPDF: !!transcriptPDF,\\n\\t\\t\\t\\tomnichannelTranscriptEmail: alwaysSendTranscript ? true : !!transcriptEmail,\\n\\t\\t\\t};\\n\\t\\t\\tconst requestData = transcriptEmail && visitorEmail ? { email: visitorEmail, subject } : undefined;\\n\\n\\t\\t\\tif (!comment?.trim() && commentRequired) {\\n\\t\\t\\t\\tsetError('comment', { type: 'custom', message: t('Required_field', { field: t('Comment') }) });\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (transcriptEmail && !subject) {\\n\\t\\t\\t\\tsetError('subject', { type: 'custom', message: t('Required_field', { field: t('Subject') }) });\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!tags?.length && tagRequired) {\\n\\t\\t\\t\\tsetError('tags', { type: 'custom', message: t('error-tags-must-be-assigned-before-closing-chat') });\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!errors.comment || errors.tags) {\\n\\t\\t\\t\\tonConfirm(comment, tags, preferences, requestData);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[commentRequired, tagRequired, visitorEmail, errors, setError, t, onConfirm, alwaysSendTranscript],\\n\\t);\\n\\n\\tconst cannotSubmit = useMemo(() => {\\n\\t\\tconst cannotSendTag = (tagRequired && !tags?.length) || errors.tags;\\n\\t\\tconst cannotSendComment = (commentRequired && !comment?.trim()) || errors.comment;\\n\\t\\tconst cannotSendTranscriptEmail = transcriptEmail && (!visitorEmail || !subject);\\n\\n\\t\\treturn Boolean(cannotSendTag || cannotSendComment || cannotSendTranscriptEmail);\\n\\t}, [comment, commentRequired, errors, tagRequired, tags, transcriptEmail, visitorEmail, subject]);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (department?.requestTagBeforeClosingChat) {\\n\\t\\t\\tsetTagRequired(true);\\n\\t\\t}\\n\\t}, [department]);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (commentRequired) {\\n\\t\\t\\tsetFocus('comment');\\n\\t\\t}\\n\\t}, [commentRequired, setFocus]);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (tagRequired) {\\n\\t\\t\\tregister('tags');\\n\\t\\t}\\n\\t}, [register, tagRequired]);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (transcriptEmail) {\\n\\t\\t\\tif (!visitorEmail) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('Customer_without_registered_email') });\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tsetValue('subject', subject || customSubject || t('Transcript_of_your_livechat_conversation'));\\n\\t\\t}\\n\\t}, [transcriptEmail, setValue, visitorEmail, subject, t, customSubject]);\\n\\n\\tif (commentRequired || tagRequired || canSendTranscript) {\\n\\t\\treturn (\\n\\t\\t\\t<Modal wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(onSubmit)} {...props} data-qa-id='close-chat-modal' />}>\\n\\t\\t\\t\\t<Modal.Header>\\n\\t\\t\\t\\t\\t<Modal.Icon name='baloon-close-top-right' />\\n\\t\\t\\t\\t\\t<Modal.Title>{t('Wrap_up_conversation')}</Modal.Title>\\n\\t\\t\\t\\t\\t<Modal.Close onClick={onCancel} />\\n\\t\\t\\t\\t</Modal.Header>\\n\\t\\t\\t\\t<Modal.Content fontScale='p2'>\\n\\t\\t\\t\\t\\t<Box color='annotation'>{t('Close_room_description')}</Box>\\n\\t\\t\\t\\t\\t<FieldGroup>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel required={commentRequired}>{t('Comment')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{...register('comment')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\terror={errors.comment && t('Required_field', { field: t('Comment') })}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tflexGrow={1}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Please_add_a_comment')}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t<FieldError>{errors.comment?.message}</FieldError>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Tags tagRequired={tagRequired} tags={tags} handler={handleTags} {...(department && { department: department._id })} />\\n\\t\\t\\t\\t\\t\\t\\t<FieldError>{errors.tags?.message}</FieldError>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t{canSendTranscript && (\\n\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Divider />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel marginBlockStart={8}>{t('Chat_transcript')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t{canSendTranscriptPDF && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field marginBlockStart={10}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor='transcript-pdf'>{t('Omnichannel_transcript_pdf')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<CheckBox id='transcript-pdf' {...register('transcriptPDF', { value: userTranscriptPDF })} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t{canSendTranscriptEmail && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field marginBlockStart={10}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor='transcript-email'>{t('Omnichannel_transcript_email')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<CheckBox id='transcript-email' {...register('transcriptEmail', { value: userTranscriptEmail })} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{transcriptEmail && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field marginBlockStart={14}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel required>{t('Contact_email')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<EmailInput value={visitorEmail} required disabled flexGrow={1} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Field marginBlockStart={12}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel required>{t('Subject')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...register('subject', { required: true })}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclassName='active'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\terror={errors.subject && t('Required_field', { field: t('Subject') })}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tflexGrow={1}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldError>{errors.subject?.message}</FieldError>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field marginBlockStart={16}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel color='annotation' fontScale='c1'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{canSendTranscriptPDF && canSendTranscriptEmail\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t? t('These_options_affect_this_conversation_only_To_set_default_selections_go_to_My_Account_Omnichannel')\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t: t('This_option_affect_this_conversation_only_To_set_default_selection_go_to_My_Account_Omnichannel')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t\\t</Modal.Content>\\n\\t\\t\\t\\t<Modal.Footer>\\n\\t\\t\\t\\t\\t<Modal.FooterControllers>\\n\\t\\t\\t\\t\\t\\t<Button onClick={onCancel}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t\\t<Button type='submit' disabled={cannotSubmit} primary>\\n\\t\\t\\t\\t\\t\\t\\t{t('Confirm')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t</Modal.FooterControllers>\\n\\t\\t\\t\\t</Modal.Footer>\\n\\t\\t\\t</Modal>\\n\\t\\t);\\n\\t}\\n\\n\\treturn (\\n\\t\\t<GenericModal\\n\\t\\t\\tvariant='warning'\\n\\t\\t\\ttitle={t('Are_you_sure_you_want_to_close_this_chat')}\\n\\t\\t\\tonConfirm={(): Promise<void> => onConfirm()}\\n\\t\\t\\tonCancel={onCancel}\\n\\t\\t\\tonClose={onCancel}\\n\\t\\t\\tconfirmText={t('Confirm')}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default CloseChatModal;\\n\",null],\"names\":[\"_extends\",\"Field\",\"FieldGroup\",\"Button\",\"TextInput\",\"Modal\",\"Box\",\"CheckBox\",\"Divider\",\"EmailInput\",\"FieldLabel\",\"FieldRow\",\"FieldError\",\"usePermission\",\"useSetting\",\"useTranslation\",\"useUserPreference\",\"React\",\"useCallback\",\"useState\",\"useEffect\",\"useMemo\",\"useForm\",\"useHasLicenseModule\",\"dispatchToastMessage\",\"GenericModal\",\"Tags\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_useUserPreference\",\"_useUserPreference2\",\"_errors$comment\",\"_errors$tags\",\"_errors$subject\",\"department\",\"visitorEmail\",\"onCancel\",\"onConfirm\",\"t\",\"formState\",\"errors\",\"handleSubmit\",\"register\",\"setError\",\"setFocus\",\"setValue\",\"watch\",\"commentRequired\",\"alwaysSendTranscript\",\"customSubject\",\"tagRequired\",\"setTagRequired\",\"tags\",\"comment\",\"transcriptEmail\",\"subject\",\"userTranscriptEmail\",\"userTranscriptPDF\",\"hasLicense\",\"transcriptPDFPermission\",\"transcriptEmailPermission\",\"canSendTranscriptEmail\",\"canSendTranscriptPDF\",\"canSendTranscript\",\"onSubmit\",\"_ref2\",\"transcriptPDF\",\"requestData\",\"email\",\"undefined\",\"trim\",\"type\",\"message\",\"field\",\"length\",\"omnichannelTranscriptPDF\",\"omnichannelTranscriptEmail\",\"cannotSubmit\",\"cannotSendTag\",\"cannotSendComment\",\"cannotSendTranscriptEmail\",\"Boolean\",\"requestTagBeforeClosingChat\",\"createElement\",\"wrapperFunction\",\"props\",\"is\",\"Header\",\"Icon\",\"name\",\"Title\",\"Close\",\"onClick\",\"Content\",\"fontScale\",\"color\",\"required\",\"error\",\"flexGrow\",\"placeholder\",\"handler\",\"value\",\"_id\",\"Fragment\",\"marginBlockStart\",\"htmlFor\",\"id\",\"disabled\",\"className\",\"Footer\",\"FooterControllers\",\"primary\",\"variant\",\"title\",\"onClose\",\"confirmText\"],\"mappings\":\"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\"}"}