{"code":"function module(e,t,s){let n,a,i,o,l,u,r,m;s.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){n=e},useTranslation(e){a=e}},0),s.link(\"@tanstack/react-query\",{useQuery(e){i=e}},1),s.link(\"react\",{default(e){o=e}},2),s.link(\"../../../lib/onClientMessageReceived\",{onClientMessageReceived(e){l=e}},3),s.link(\"../../../lib/utils/mapMessageFromApi\",{mapMessageFromApi(e){u=e}},4),s.link(\"../contexts/RoomContext\",{useRoom(e){r=e}},5),s.link(\"./MessageListTab\",{default(e){m=e}},6),s.exportDefault(()=>{let e=n(\"GET\",\"/v1/chat.getPinnedMessages\"),t=r(),s=i([\"rooms\",t._id,\"pinned-messages\"],async()=>{let s=[];for(let n=0,a=await e({roomId:t._id,offset:0});a.count>0;n+=a.count,a=await e({roomId:t._id,offset:n}))s.push(...a.messages.map(u));return Promise.all(s.map(l))}),c=a();return o.createElement(m,{iconName:\"pin\",title:c(\"Pinned_Messages\"),emptyResultMessage:c(\"No_pinned_messages\"),context:\"pinned\",queryResult:s})})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/PinnedMessagesTab.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\n\\nimport { onClientMessageReceived } from '../../../lib/onClientMessageReceived';\\nimport { mapMessageFromApi } from '../../../lib/utils/mapMessageFromApi';\\nimport { useRoom } from '../contexts/RoomContext';\\nimport MessageListTab from './MessageListTab';\\n\\nconst PinnedMessagesTab = (): ReactElement => {\\n\\tconst getPinnedMessages = useEndpoint('GET', '/v1/chat.getPinnedMessages');\\n\\n\\tconst room = useRoom();\\n\\n\\tconst pinnedMessagesQueryResult = useQuery(['rooms', room._id, 'pinned-messages'] as const, async () => {\\n\\t\\tconst messages: IMessage[] = [];\\n\\n\\t\\tfor (\\n\\t\\t\\tlet offset = 0, result = await getPinnedMessages({ roomId: room._id, offset: 0 });\\n\\t\\t\\tresult.count > 0;\\n\\t\\t\\t// eslint-disable-next-line no-await-in-loop\\n\\t\\t\\toffset += result.count, result = await getPinnedMessages({ roomId: room._id, offset })\\n\\t\\t) {\\n\\t\\t\\tmessages.push(...result.messages.map(mapMessageFromApi));\\n\\t\\t}\\n\\n\\t\\treturn Promise.all(messages.map(onClientMessageReceived));\\n\\t});\\n\\n\\tconst t = useTranslation();\\n\\n\\treturn (\\n\\t\\t<MessageListTab\\n\\t\\t\\ticonName='pin'\\n\\t\\t\\ttitle={t('Pinned_Messages')}\\n\\t\\t\\temptyResultMessage={t('No_pinned_messages')}\\n\\t\\t\\tcontext='pinned'\\n\\t\\t\\tqueryResult={pinnedMessagesQueryResult}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default PinnedMessagesTab;\\n\",null],\"names\":[\"useEndpoint\",\"useTranslation\",\"useQuery\",\"React\",\"onClientMessageReceived\",\"mapMessageFromApi\",\"useRoom\",\"MessageListTab\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"PinnedMessagesTab\",\"getPinnedMessages\",\"room\",\"pinnedMessagesQueryResult\",\"_id\",\"messages\",\"offset\",\"result\",\"roomId\",\"count\",\"push\",\"map\",\"Promise\",\"all\",\"t\",\"createElement\",\"iconName\",\"title\",\"emptyResultMessage\",\"context\",\"queryResult\"],\"mappings\":\"2BACAA,EAASC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjDC,EAAgBC,IAAA,CAAA,2BAAgC,CAACT,YAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,eAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAP,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uCAAA,CAAAL,wBAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uCAAA,CAAAJ,kBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0BAAA,CAAAH,QAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mBAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAvEF,EAAOI,aAAa,CAUMC,KACzB,IAAMC,EAAoBd,EAAY,MAAO,8BAEvCe,EAAOT,IAEPU,EAA4Bd,EAAS,CAAC,QAASa,EAAKE,GAAG,CAAE,kBAA2B,CAAE,UAC3F,IAAMC,EAAuB,EAAE,CAE/B,IACC,IAAIC,EAAS,EAAGC,EAAS,MAAMN,EAAkB,CAAEO,OAAQN,EAAKE,GAAG,CAAEE,OAAQ,CAAC,GAC9EC,EAAOE,KAAK,CAAG,EAEfH,GAAUC,EAAOE,KAAK,CAAEF,EAAS,MAAMN,EAAkB,CAAEO,OAAQN,EAAKE,GAAG,CAAEE,OAAAA,CAAM,GAEnFD,EAASK,IAAI,IAAIH,EAAOF,QAAQ,CAACM,GAAG,CAACnB,IAGtC,OAAOoB,QAAQC,GAAG,CAACR,EAASM,GAAG,CAACpB,GACjC,GAEMuB,EAAI1B,IAEV,OACCE,EAAAyB,aAAA,CAACrB,EAAc,CACdsB,SAAS,MACTC,MAAOH,EAAE,mBACTI,mBAAoBJ,EAAE,sBACtBK,QAAQ,SACRC,YAAajB,CAA0B,EAG1C\"}"}