{"code":"function module(e,t,n){let a,i,o,s,l,c,r,u,d,m,k,g,f,p;let R=[\"message\"];n.link(\"@babel/runtime/helpers/extends\",{default(e){a=e}},0),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){i=e}},1),n.link(\"@react-aria/toolbar\",{useToolbar(e){o=e}},0),n.link(\"@rocket.chat/fuselage\",{MessageReactions(e){s=e},MessageReactionAction(e){l=e}},1),n.link(\"react\",{default(e){c=e},useContext(e){r=e},useRef(e){u=e}},2),n.link(\"react-i18next\",{useTranslation(e){d=e}},3),n.link(\"../list/MessageListContext\",{MessageListContext(e){m=e},useOpenEmojiPicker(e){k=e},useUserHasReacted(e){g=e}},4),n.link(\"./reactions/Reaction\",{default(e){f=e}},5),n.link(\"./reactions/useToggleReactionMutation\",{useToggleReactionMutation(e){p=e}},6),n.exportDefault(e=>{let{message:t}=e,n=i(e,R),{t:b}=d(),h=u(null),x=g(t),E=k(t),{username:M}=r(m),C=p(),{toolbarProps:T}=o(n,h);return c.createElement(s,a({ref:h},T,n),t.reactions&&Object.entries(t.reactions).map(e=>{let[n,a]=e;return c.createElement(f,{key:n,counter:a.usernames.length,hasReacted:x,name:n,names:a.usernames.filter(e=>e!==M).map(e=>\"@\".concat(e)),messageId:t._id,onKeyDown:e=>(\"Space\"===e.code||\"Enter\"===e.code)&&C.mutate({mid:t._id,reaction:n}),onClick:()=>C.mutate({mid:t._id,reaction:n})})}),c.createElement(l,{title:b(\"Add_Reaction\"),onKeyDown:e=>(\"Space\"===e.code||\"Enter\"===e.code)&&E(e),onClick:E}))})}","map":"{\"version\":3,\"sources\":[\"client/components/message/content/Reactions.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useToolbar } from '@react-aria/toolbar';\\nimport type { IMessage } from '@rocket.chat/core-typings';\\nimport { MessageReactions, MessageReactionAction } from '@rocket.chat/fuselage';\\nimport type { HTMLAttributes, KeyboardEvent, ReactElement } from 'react';\\nimport React, { useContext, useRef } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { MessageListContext, useOpenEmojiPicker, useUserHasReacted } from '../list/MessageListContext';\\nimport Reaction from './reactions/Reaction';\\nimport { useToggleReactionMutation } from './reactions/useToggleReactionMutation';\\n\\ntype ReactionsProps = {\\n\\tmessage: IMessage;\\n} & HTMLAttributes<HTMLDivElement>;\\n\\nconst Reactions = ({ message, ...props }: ReactionsProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst ref = useRef(null);\\n\\tconst hasReacted = useUserHasReacted(message);\\n\\tconst openEmojiPicker = useOpenEmojiPicker(message);\\n\\tconst { username } = useContext(MessageListContext);\\n\\tconst toggleReactionMutation = useToggleReactionMutation();\\n\\tconst { toolbarProps } = useToolbar(props, ref);\\n\\n\\treturn (\\n\\t\\t<MessageReactions ref={ref} {...toolbarProps} {...props}>\\n\\t\\t\\t{message.reactions &&\\n\\t\\t\\t\\tObject.entries(message.reactions).map(([name, reactions]) => (\\n\\t\\t\\t\\t\\t<Reaction\\n\\t\\t\\t\\t\\t\\tkey={name}\\n\\t\\t\\t\\t\\t\\tcounter={reactions.usernames.length}\\n\\t\\t\\t\\t\\t\\thasReacted={hasReacted}\\n\\t\\t\\t\\t\\t\\tname={name}\\n\\t\\t\\t\\t\\t\\tnames={reactions.usernames.filter((user) => user !== username).map((username) => `@${username}`)}\\n\\t\\t\\t\\t\\t\\tmessageId={message._id}\\n\\t\\t\\t\\t\\t\\tonKeyDown={(e: KeyboardEvent) =>\\n\\t\\t\\t\\t\\t\\t\\t(e.code === 'Space' || e.code === 'Enter') && toggleReactionMutation.mutate({ mid: message._id, reaction: name })\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tonClick={() => toggleReactionMutation.mutate({ mid: message._id, reaction: name })}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t))}\\n\\t\\t\\t<MessageReactionAction\\n\\t\\t\\t\\ttitle={t('Add_Reaction')}\\n\\t\\t\\t\\tonKeyDown={(e: KeyboardEvent) => (e.code === 'Space' || e.code === 'Enter') && openEmojiPicker(e)}\\n\\t\\t\\t\\tonClick={openEmojiPicker}\\n\\t\\t\\t/>\\n\\t\\t</MessageReactions>\\n\\t);\\n};\\n\\nexport default Reactions;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"useToolbar\",\"MessageReactions\",\"MessageReactionAction\",\"React\",\"useContext\",\"useRef\",\"useTranslation\",\"MessageListContext\",\"useOpenEmojiPicker\",\"useUserHasReacted\",\"Reaction\",\"useToggleReactionMutation\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"message\",\"props\",\"_excluded\",\"t\",\"ref\",\"hasReacted\",\"openEmojiPicker\",\"username\",\"toggleReactionMutation\",\"toolbarProps\",\"createElement\",\"reactions\",\"Object\",\"entries\",\"map\",\"_ref2\",\"name\",\"key\",\"counter\",\"usernames\",\"length\",\"names\",\"filter\",\"user\",\"concat\",\"messageId\",\"_id\",\"onKeyDown\",\"e\",\"code\",\"mutate\",\"mid\",\"reaction\",\"onClick\",\"title\"],\"mappings\":\"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\"}"}