{"code":"function module(e,t,n){let l,a,i,o,r,u,c,m,s,S,E,k,p,d,_,b,h,C,f,g,x;n.link(\"@rocket.chat/fuselage\",{Box(e){l=e},Button(e){a=e},ButtonGroup(e){i=e},States(e){o=e},StatesAction(e){r=e},StatesActions(e){u=e},StatesSubtitle(e){c=e},StatesTitle(e){m=e},TextAreaInput(e){s=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useTranslation(e){S=e},useRoute(e){E=e}},1),n.link(\"react\",{default(e){k=e},useCallback(e){p=e},useState(e){d=e}},2),n.link(\"../../../../lib/emailValidator\",{validateEmail(e){_=e}},3),n.link(\"../../../components/Contextualbar\",{ContextualbarScrollableContent(e){b=e},ContextualbarFooter(e){h=e},ContextualbarContent(e){C=e}},4),n.link(\"../../../components/Skeleton\",{FormSkeleton(e){f=e}},5),n.link(\"./hooks/useSendInvitationEmailMutation\",{useSendInvitationEmailMutation(e){g=e}},6),n.link(\"./hooks/useSmtpQuery\",{useSmtpQuery(e){x=e}},7),n.exportDefault(()=>{let e=S(),[t,n]=d(\"\"),T=p(e=>e.split(/[\\ ,;]+/i).filter(e=>_(e)),[]),v=E(\"admin-settings\"),M=g(),{data:I,isLoading:P}=x();return P?k.createElement(C,null,k.createElement(f,null)):null!=I&&I.isSMTPConfigured?k.createElement(k.Fragment,null,k.createElement(b,null,k.createElement(l,{is:\"h2\",fontScale:\"h2\",mb:8},e(\"Send_invitation_email\")),k.createElement(l,{fontScale:\"p2\",mb:8},e(\"Send_invitation_email_info\")),k.createElement(s,{rows:5,flexGrow:0,onChange:e=>n(e.currentTarget.value)})),k.createElement(h,null,k.createElement(i,{stretch:!0},k.createElement(a,{icon:\"send\",primary:!0,onClick:()=>{M.mutate({emails:T(t)})},disabled:!T(t).length,alignItems:\"stretch\",mb:8},e(\"Send\"))))):k.createElement(b,null,k.createElement(o,null,k.createElement(m,null,e(\"SMTP_Server_Not_Setup_Title\")),k.createElement(c,null,e(\"SMTP_Server_Not_Setup_Description\")),k.createElement(u,null,k.createElement(r,{role:\"link\",onClick:()=>v.push({group:\"Email\"})},e(\"Setup_SMTP\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/users/AdminInviteUsers.tsx\",\"<anon>\"],\"sourcesContent\":[\"import {\\n\\tBox,\\n\\tButton,\\n\\tButtonGroup,\\n\\tStates,\\n\\tStatesAction,\\n\\tStatesActions,\\n\\tStatesSubtitle,\\n\\tStatesTitle,\\n\\tTextAreaInput,\\n} from '@rocket.chat/fuselage';\\nimport { useTranslation, useRoute } from '@rocket.chat/ui-contexts';\\nimport type { ChangeEvent } from 'react';\\nimport React, { useCallback, useState } from 'react';\\n\\nimport { validateEmail } from '../../../../lib/emailValidator';\\nimport { ContextualbarScrollableContent, ContextualbarFooter, ContextualbarContent } from '../../../components/Contextualbar';\\nimport { FormSkeleton } from '../../../components/Skeleton';\\nimport { useSendInvitationEmailMutation } from './hooks/useSendInvitationEmailMutation';\\nimport { useSmtpQuery } from './hooks/useSmtpQuery';\\n\\n// TODO: Replace using RHF\\nconst AdminInviteUsers = () => {\\n\\tconst t = useTranslation();\\n\\tconst [text, setText] = useState('');\\n\\tconst getEmails = useCallback((text) => text.split(/[\\\\ ,;]+/i).filter((val: string) => validateEmail(val)), []);\\n\\tconst adminRouter = useRoute('admin-settings');\\n\\tconst sendInvitationMutation = useSendInvitationEmailMutation();\\n\\tconst { data, isLoading } = useSmtpQuery();\\n\\n\\tconst handleClick = () => {\\n\\t\\tsendInvitationMutation.mutate({ emails: getEmails(text) });\\n\\t};\\n\\n\\tif (isLoading) {\\n\\t\\treturn (\\n\\t\\t\\t<ContextualbarContent>\\n\\t\\t\\t\\t<FormSkeleton />\\n\\t\\t\\t</ContextualbarContent>\\n\\t\\t);\\n\\t}\\n\\n\\tif (!data?.isSMTPConfigured) {\\n\\t\\treturn (\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t<States>\\n\\t\\t\\t\\t\\t<StatesTitle>{t('SMTP_Server_Not_Setup_Title')}</StatesTitle>\\n\\t\\t\\t\\t\\t<StatesSubtitle>{t('SMTP_Server_Not_Setup_Description')}</StatesSubtitle>\\n\\t\\t\\t\\t\\t<StatesActions>\\n\\t\\t\\t\\t\\t\\t<StatesAction role='link' onClick={() => adminRouter.push({ group: 'Email' })}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Setup_SMTP')}\\n\\t\\t\\t\\t\\t\\t</StatesAction>\\n\\t\\t\\t\\t\\t</StatesActions>\\n\\t\\t\\t\\t</States>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t);\\n\\t}\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t<Box is='h2' fontScale='h2' mb={8}>\\n\\t\\t\\t\\t\\t{t('Send_invitation_email')}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<Box fontScale='p2' mb={8}>\\n\\t\\t\\t\\t\\t{t('Send_invitation_email_info')}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<TextAreaInput rows={5} flexGrow={0} onChange={(e: ChangeEvent<HTMLInputElement>): void => setText(e.currentTarget.value)} />\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t<Button icon='send' primary onClick={handleClick} disabled={!getEmails(text).length} alignItems='stretch' mb={8}>\\n\\t\\t\\t\\t\\t\\t{t('Send')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default AdminInviteUsers;\\n\",null],\"names\":[\"Box\",\"Button\",\"ButtonGroup\",\"States\",\"StatesAction\",\"StatesActions\",\"StatesSubtitle\",\"StatesTitle\",\"TextAreaInput\",\"useTranslation\",\"useRoute\",\"React\",\"useCallback\",\"useState\",\"validateEmail\",\"ContextualbarScrollableContent\",\"ContextualbarFooter\",\"ContextualbarContent\",\"FormSkeleton\",\"useSendInvitationEmailMutation\",\"useSmtpQuery\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"AdminInviteUsers\",\"t\",\"text\",\"setText\",\"getEmails\",\"split\",\"filter\",\"val\",\"adminRouter\",\"sendInvitationMutation\",\"data\",\"isLoading\",\"createElement\",\"isSMTPConfigured\",\"Fragment\",\"is\",\"fontScale\",\"mb\",\"rows\",\"flexGrow\",\"onChange\",\"e\",\"currentTarget\",\"value\",\"stretch\",\"icon\",\"primary\",\"onClick\",\"handleClick\",\"mutate\",\"emails\",\"disabled\",\"length\",\"alignItems\",\"role\",\"push\",\"group\"],\"mappings\":\"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\"}"}