{"code":"function module(e,t,n){var l,r,c,o,i,a,u,s,m,f;n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){l=e}},0),n.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){r=e}},1),n.link(\"@rocket.chat/fuselage\",{Modal:function(e){c=e},Button:function(e){o=e},Box:function(e){i=e},Icon:function(e){a=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){u=e},useTranslation:function(e){s=e}},1),n.link(\"react\",{default:function(e){m=e}},2),n.link(\"react-hook-form\",{useForm:function(e){f=e}},3),n.exportDefault(function(e){var t=e.onClose,n=e.matrixIdVerifiedStatus,E=e.onSave,d=e.completeUserList,k=u(),h=d.filter(function(e){return!(n.has(e)&&\"UNVERIFIED\"===n.get(e))}),C=h.filter(function(e){return!n.has(e)}),I=f({defaultValues:{usersToInvite:h}}).handleSubmit,p=s();return m.createElement(c,null,m.createElement(c.Header,null,m.createElement(c.HeaderText,null,m.createElement(c.Title,null,p(\"Continue_Adding\"))),m.createElement(c.Close,{title:p(\"Close\"),onClick:t})),m.createElement(c.Content,null,m.createElement(i,null,m.createElement(i,{is:\"ul\"},r(n.entries()).map(function(e){var t=l(e,2),n=t[0],r=t[1];return m.createElement(\"li\",{key:n},n,\": \",m.createElement(a,{name:\"VERIFIED\"===r?\"circle-check\":\"UNVERIFIED\"===r?\"circle-cross\":\"UNABLE_TO_VERIFY\"===r?\"circle-exclamation\":void 0,size:\"x20\"}))}),C.map(function(e){return m.createElement(\"li\",{key:\"rocket-chat-\"+e},e)})))),m.createElement(c.Footer,{justifyContent:\"center\"},m.createElement(c.FooterControllers,null,m.createElement(o,{onClick:t},p(\"Cancel\")),m.createElement(o,{primary:!0,onClick:I(function(e){E({users:e.usersToInvite}).then(t).catch(function(e){return k({type:\"error\",message:e})})}),disabled:!(h.length>0)},p(\"Yes_continue\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/RoomMembers/AddUsers/AddMatrixUsers/AddMatrixUsersModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Modal, Button, Box, Icon } from '@rocket.chat/fuselage';\\nimport { useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps, ReactElement } from 'react';\\nimport React from 'react';\\nimport { useForm } from 'react-hook-form';\\n\\ntype AddMatrixUsersModalProps = {\\n\\tmatrixIdVerifiedStatus: Map<string, string>;\\n\\tcompleteUserList: string[];\\n\\tonClose: () => void;\\n\\tonSave: (args_0: any) => Promise<void>;\\n};\\n\\ntype FormValues = {\\n\\tusersToInvite: string[];\\n};\\n\\nconst verificationStatusAsIcon = (verificationStatus: string) => {\\n\\tif (verificationStatus === 'VERIFIED') {\\n\\t\\treturn 'circle-check';\\n\\t}\\n\\n\\tif (verificationStatus === 'UNVERIFIED') {\\n\\t\\treturn 'circle-cross';\\n\\t}\\n\\n\\tif (verificationStatus === 'UNABLE_TO_VERIFY') {\\n\\t\\treturn 'circle-exclamation';\\n\\t}\\n};\\n\\nconst AddMatrixUsersModal = ({ onClose, matrixIdVerifiedStatus, onSave, completeUserList }: AddMatrixUsersModalProps): ReactElement => {\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst usersToInvite = completeUserList.filter(\\n\\t\\t(user) => !(matrixIdVerifiedStatus.has(user) && matrixIdVerifiedStatus.get(user) === 'UNVERIFIED'),\\n\\t);\\n\\tconst rocketChatUsers = usersToInvite.filter((user) => !matrixIdVerifiedStatus.has(user));\\n\\n\\tconst { handleSubmit } = useForm<FormValues>({\\n\\t\\tdefaultValues: {\\n\\t\\t\\tusersToInvite,\\n\\t\\t},\\n\\t});\\n\\n\\tconst onSubmit = (data: FormValues) => {\\n\\t\\tonSave({ users: data.usersToInvite })\\n\\t\\t\\t.then(onClose)\\n\\t\\t\\t.catch((error) => dispatchToastMessage({ type: 'error', message: error as Error }));\\n\\t};\\n\\n\\tconst t = useTranslation();\\n\\n\\treturn (\\n\\t\\t<Modal>\\n\\t\\t\\t<Modal.Header>\\n\\t\\t\\t\\t<Modal.HeaderText>\\n\\t\\t\\t\\t\\t<Modal.Title>{t('Continue_Adding')}</Modal.Title>\\n\\t\\t\\t\\t</Modal.HeaderText>\\n\\t\\t\\t\\t<Modal.Close title={t('Close')} onClick={onClose} />\\n\\t\\t\\t</Modal.Header>\\n\\t\\t\\t<Modal.Content>\\n\\t\\t\\t\\t<Box>\\n\\t\\t\\t\\t\\t<Box is='ul'>\\n\\t\\t\\t\\t\\t\\t{[...matrixIdVerifiedStatus.entries()].map(([_matrixId, _verificationStatus]) => (\\n\\t\\t\\t\\t\\t\\t\\t<li key={_matrixId}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{_matrixId}: <Icon name={verificationStatusAsIcon(_verificationStatus) as ComponentProps<typeof Icon>['name']} size='x20' />\\n\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t{rocketChatUsers.map((_user) => (\\n\\t\\t\\t\\t\\t\\t\\t<li key={`rocket-chat-${_user}`}>{_user}</li>\\n\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Modal.Content>\\n\\t\\t\\t<Modal.Footer justifyContent='center'>\\n\\t\\t\\t\\t<Modal.FooterControllers>\\n\\t\\t\\t\\t\\t<Button onClick={onClose}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t<Button primary onClick={handleSubmit(onSubmit)} disabled={!(usersToInvite.length > 0)}>\\n\\t\\t\\t\\t\\t\\t{t('Yes_continue')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</Modal.FooterControllers>\\n\\t\\t\\t</Modal.Footer>\\n\\t\\t</Modal>\\n\\t);\\n};\\n\\nexport default AddMatrixUsersModal;\\n\",null],\"names\":[\"_slicedToArray\",\"_toConsumableArray\",\"Modal\",\"Button\",\"Box\",\"Icon\",\"useToastMessageDispatch\",\"useTranslation\",\"React\",\"useForm\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"onClose\",\"matrixIdVerifiedStatus\",\"onSave\",\"completeUserList\",\"dispatchToastMessage\",\"usersToInvite\",\"filter\",\"user\",\"has\",\"get\",\"rocketChatUsers\",\"handleSubmit\",\"_useForm\",\"defaultValues\",\"t\",\"createElement\",\"Header\",\"HeaderText\",\"Title\",\"Close\",\"title\",\"onClick\",\"Content\",\"is\",\"entries\",\"map\",\"_ref2\",\"_ref3\",\"_matrixId\",\"_verificationStatus\",\"key\",\"name\",\"verificationStatus\",\"size\",\"_user\",\"Footer\",\"justifyContent\",\"FooterControllers\",\"primary\",\"data\",\"users\",\"then\",\"catch\",\"error\",\"type\",\"message\",\"disabled\",\"length\"],\"mappings\":\"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\"}"}