{"code":"function module(e,t,l){let a,n,i,o,r,s,c,u,h,d,m,f,y,x;let b=[\"onChange\"];l.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){a=e}},0),l.link(\"@rocket.chat/fuselage\",{Box(e){n=e},InputBox(e){i=e},Menu(e){o=e},Field(e){r=e},FieldLabel(e){s=e},FieldRow(e){c=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){u=e}},1),l.link(\"moment\",{default(e){h=e}},2),l.link(\"react\",{default(e){d=e},useState(e){m=e},useMemo(e){f=e},useEffect(e){y=e}},3),l.link(\"react-i18next\",{useTranslation(e){x=e}},4),h.locale(\"en\");let k=e=>e.format(\"YYYY-MM-DD\"),E=k(h()),p=e=>({start:k(h().subtract(e,\"month\").date(1)),end:k(0===e?h():h().subtract(e).date(0))}),g=(e,t)=>({start:k(h().subtract(e,\"day\")),end:k(h().subtract(t,\"day\"))});l.exportDefault(e=>{let{onChange:t=()=>void 0}=e,l=a(e,b),{t:h}=x(),[k,v]=m({start:\"\",end:\"\"}),{start:w,end:M}=k,Y=u(e=>{let{currentTarget:l}=e,a={start:l.value,end:k.end};v(a),t(a)}),C=u(e=>{let{currentTarget:l}=e,a={end:l.value,start:k.start};v(a),t(a)}),D=u(e=>{v(e),t(e)});y(()=>{D({start:E,end:E})},[D]);let S=f(()=>({today:{icon:\"history\",label:h(\"Today\"),action:()=>{D(g(0,0))}},yesterday:{icon:\"history\",label:h(\"Yesterday\"),action:()=>{D(g(1,1))}},thisWeek:{icon:\"history\",label:h(\"This_week\"),action:()=>{D(g(7,0))}},previousWeek:{icon:\"history\",label:h(\"Previous_week\"),action:()=>{D(g(14,7))}},thisMonth:{icon:\"history\",label:h(\"This_month\"),action:()=>{D(p(0))}},lastMonth:{icon:\"history\",label:h(\"Previous_month\"),action:()=>{D(p(1))}}}),[D,h]);return d.createElement(n,l,d.createElement(n,{mi:\"neg-x4\",height:\"full\",display:\"flex\",flexDirection:\"row\"},d.createElement(r,{mi:4,flexShrink:1,flexGrow:1},d.createElement(s,null,h(\"Start\")),d.createElement(c,null,d.createElement(n,{height:\"x40\",display:\"flex\",width:\"full\"},d.createElement(i,{type:\"date\",onChange:Y,max:E,value:w})))),d.createElement(r,{mi:4,flexShrink:1,flexGrow:1},d.createElement(s,null,h(\"End\")),d.createElement(c,null,d.createElement(n,{height:\"x40\",display:\"flex\",width:\"full\"},d.createElement(i,{type:\"date\",onChange:C,min:w,max:E,value:M})),d.createElement(o,{mis:8,options:S})))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/analytics/DateRangePicker.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, InputBox, Menu, Field, FieldLabel, FieldRow } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { Moment } from 'moment';\\nimport moment from 'moment';\\nimport type { ComponentProps } from 'react';\\nimport React, { useState, useMemo, useEffect } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nmoment.locale('en');\\n\\ntype DateRangePickerProps = Omit<ComponentProps<typeof Box>, 'onChange'> & {\\n\\tonChange(range: { start: string; end: string }): void;\\n};\\n\\nconst formatToDateInput = (date: Moment) => date.format('YYYY-MM-DD');\\n\\nconst todayDate = formatToDateInput(moment());\\n\\nconst getMonthRange = (monthsToSubtractFromToday: number) => ({\\n\\tstart: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\\n\\tend: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0)),\\n});\\n\\nconst getWeekRange = (daysToSubtractFromStart: number, daysToSubtractFromEnd: number) => ({\\n\\tstart: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\\n\\tend: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day')),\\n});\\n\\nconst DateRangePicker = ({ onChange = () => undefined, ...props }: DateRangePickerProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst [range, setRange] = useState({ start: '', end: '' });\\n\\n\\tconst { start, end } = range;\\n\\n\\tconst handleStart = useMutableCallback(({ currentTarget }) => {\\n\\t\\tconst rangeObj = {\\n\\t\\t\\tstart: currentTarget.value,\\n\\t\\t\\tend: range.end,\\n\\t\\t};\\n\\t\\tsetRange(rangeObj);\\n\\t\\tonChange(rangeObj);\\n\\t});\\n\\n\\tconst handleEnd = useMutableCallback(({ currentTarget }) => {\\n\\t\\tconst rangeObj = {\\n\\t\\t\\tend: currentTarget.value,\\n\\t\\t\\tstart: range.start,\\n\\t\\t};\\n\\t\\tsetRange(rangeObj);\\n\\t\\tonChange(rangeObj);\\n\\t});\\n\\n\\tconst handleRange = useMutableCallback((range) => {\\n\\t\\tsetRange(range);\\n\\t\\tonChange(range);\\n\\t});\\n\\n\\tuseEffect(() => {\\n\\t\\thandleRange({\\n\\t\\t\\tstart: todayDate,\\n\\t\\t\\tend: todayDate,\\n\\t\\t});\\n\\t}, [handleRange]);\\n\\n\\tconst options = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\ttoday: {\\n\\t\\t\\t\\ticon: 'history',\\n\\t\\t\\t\\tlabel: t('Today'),\\n\\t\\t\\t\\taction: () => {\\n\\t\\t\\t\\t\\thandleRange(getWeekRange(0, 0));\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t\\tyesterday: {\\n\\t\\t\\t\\ticon: 'history',\\n\\t\\t\\t\\tlabel: t('Yesterday'),\\n\\t\\t\\t\\taction: () => {\\n\\t\\t\\t\\t\\thandleRange(getWeekRange(1, 1));\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t\\tthisWeek: {\\n\\t\\t\\t\\ticon: 'history',\\n\\t\\t\\t\\tlabel: t('This_week'),\\n\\t\\t\\t\\taction: () => {\\n\\t\\t\\t\\t\\thandleRange(getWeekRange(7, 0));\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t\\tpreviousWeek: {\\n\\t\\t\\t\\ticon: 'history',\\n\\t\\t\\t\\tlabel: t('Previous_week'),\\n\\t\\t\\t\\taction: () => {\\n\\t\\t\\t\\t\\thandleRange(getWeekRange(14, 7));\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t\\tthisMonth: {\\n\\t\\t\\t\\ticon: 'history',\\n\\t\\t\\t\\tlabel: t('This_month'),\\n\\t\\t\\t\\taction: () => {\\n\\t\\t\\t\\t\\thandleRange(getMonthRange(0));\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t\\tlastMonth: {\\n\\t\\t\\t\\ticon: 'history',\\n\\t\\t\\t\\tlabel: t('Previous_month'),\\n\\t\\t\\t\\taction: () => {\\n\\t\\t\\t\\t\\thandleRange(getMonthRange(1));\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t}),\\n\\t\\t[handleRange, t],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<Box {...props}>\\n\\t\\t\\t<Box mi='neg-x4' height='full' display='flex' flexDirection='row'>\\n\\t\\t\\t\\t<Field mi={4} flexShrink={1} flexGrow={1}>\\n\\t\\t\\t\\t\\t<FieldLabel>{t('Start')}</FieldLabel>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<Box height='x40' display='flex' width='full'>\\n\\t\\t\\t\\t\\t\\t\\t<InputBox type='date' onChange={handleStart} max={todayDate} value={start} />\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t<Field mi={4} flexShrink={1} flexGrow={1}>\\n\\t\\t\\t\\t\\t<FieldLabel>{t('End')}</FieldLabel>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<Box height='x40' display='flex' width='full'>\\n\\t\\t\\t\\t\\t\\t\\t<InputBox type='date' onChange={handleEnd} min={start} max={todayDate} value={end} />\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t<Menu mis={8} options={options} />\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t</Box>\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default DateRangePicker;\\n\",null],\"names\":[\"_objectWithoutProperties\",\"Box\",\"InputBox\",\"Menu\",\"Field\",\"FieldLabel\",\"FieldRow\",\"useMutableCallback\",\"moment\",\"React\",\"useState\",\"useMemo\",\"useEffect\",\"useTranslation\",\"module\",\"link\",\"default\",\"v\",\"locale\",\"formatToDateInput\",\"date\",\"format\",\"todayDate\",\"getMonthRange\",\"monthsToSubtractFromToday\",\"start\",\"subtract\",\"end\",\"getWeekRange\",\"daysToSubtractFromStart\",\"daysToSubtractFromEnd\",\"exportDefault\",\"_ref\",\"onChange\",\"undefined\",\"props\",\"_excluded\",\"t\",\"range\",\"setRange\",\"handleStart\",\"_ref2\",\"currentTarget\",\"rangeObj\",\"value\",\"handleEnd\",\"_ref3\",\"handleRange\",\"options\",\"today\",\"icon\",\"label\",\"action\",\"yesterday\",\"thisWeek\",\"previousWeek\",\"thisMonth\",\"lastMonth\",\"createElement\",\"mi\",\"height\",\"display\",\"flexDirection\",\"flexShrink\",\"flexGrow\",\"width\",\"type\",\"max\",\"min\",\"mis\"],\"mappings\":\"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\"}"}