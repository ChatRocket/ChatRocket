{"code":"function module(e,n,t){var a,o,r,i,l,u,c,m,f,s,d,p,v,b,k,h,g,E,y=[\"value\",\"onChange\"],C=[\"value\",\"label\"];t.link(\"@babel/runtime/regenerator\",{default:function(e){a=e}},0),t.link(\"@babel/runtime/helpers/extends\",{default:function(e){o=e}},1),t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){r=e}},2),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){i=e}},3),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){l=e}},4),t.link(\"@rocket.chat/fuselage\",{AutoComplete:function(e){u=e},Box:function(e){c=e},Option:function(e){m=e},Chip:function(e){f=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue:function(e){s=e}},1),t.link(\"@rocket.chat/ui-avatar\",{RoomAvatar:function(e){d=e}},2),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){p=e}},3),t.link(\"@tanstack/react-query\",{useQuery:function(e){v=e}},4),t.link(\"react\",{default:function(e){b=e},memo:function(e){k=e},useMemo:function(e){h=e},useState:function(e){g=e}},5),t.link(\"../../../../../lib/rooms/roomCoordinator\",{roomCoordinator:function(e){E=e}},6),t.exportDefault(k(function(e){var n=e.value,t=e.onChange,k=l(e,y),x=g(\"\"),T=i(x,2),A=T[0],_=T[1],D=s(A,1e3),F=p(\"GET\",\"/v1/rooms.autocomplete.availableForTeams\"),P=v([\"roomsAvailableForTeamsAutoComplete\",D],function(){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",F({name:D}));case 1:case\"end\":return e.stop()}},null,null,null,Promise)},{keepPreviousData:!0}).data,R=h(function(){return P?P.items.map(function(e){return{value:e._id,label:{name:E.getRoomName(e.t,{_id:e._id,name:e.name,fname:e.fname,prid:e.prid}),type:e.t,avatarETag:e.avatarETag}}}):[]},[P]);return b.createElement(u,o({},k,{multiple:!0,value:n,onChange:t,filter:A,setFilter:_,renderSelected:function(e){var n=e.selected,t=n.value,a=n.label,o=e.onRemove;return b.createElement(f,{key:t,height:\"x20\",value:t,onClick:o,mb:2,mie:4},b.createElement(d,{size:\"x20\",room:r({type:(null==a?void 0:a.type)||\"c\",_id:t},a)}),b.createElement(c,{is:\"span\",margin:\"none\",mis:4},a.name))},renderItem:function(e){var n=e.value,t=e.label,a=l(e,C);return b.createElement(m,o({key:n},a,{label:t.name,avatar:b.createElement(d,{room:{_id:n,type:t.type,avatarETag:t.avatarETag},size:\"x20\"})}))},options:R}))}))}","map":"{\"version\":3,\"sources\":[\"client/views/teams/contextualBar/channels/AddExistingModal/RoomsAvailableForTeamsAutoComplete.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { AutoComplete, Box, Option, Chip } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { RoomAvatar } from '@rocket.chat/ui-avatar';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ComponentProps } from 'react';\\nimport React, { memo, useMemo, useState } from 'react';\\n\\nimport { roomCoordinator } from '../../../../../lib/rooms/roomCoordinator';\\n\\ntype RoomsAvailableForTeamsAutoCompleteProps = Omit<ComponentProps<typeof AutoComplete>, 'filter'>;\\n\\nconst RoomsAvailableForTeamsAutoComplete = ({ value, onChange, ...props }: RoomsAvailableForTeamsAutoCompleteProps) => {\\n\\tconst [filter, setFilter] = useState('');\\n\\tconst debouncedFilter = useDebouncedValue(filter, 1000);\\n\\n\\tconst roomsAvailableForTeamsAutoCompleteEndpoint = useEndpoint('GET', '/v1/rooms.autocomplete.availableForTeams');\\n\\n\\tconst { data } = useQuery(\\n\\t\\t['roomsAvailableForTeamsAutoComplete', debouncedFilter],\\n\\t\\tasync () => roomsAvailableForTeamsAutoCompleteEndpoint({ name: debouncedFilter }),\\n\\t\\t{ keepPreviousData: true },\\n\\t);\\n\\n\\tconst options = useMemo(() => {\\n\\t\\tif (!data) {\\n\\t\\t\\treturn [];\\n\\t\\t}\\n\\n\\t\\treturn data.items.map((room) => ({\\n\\t\\t\\tvalue: room._id,\\n\\t\\t\\tlabel: {\\n\\t\\t\\t\\tname: roomCoordinator.getRoomName(room.t, { _id: room._id, name: room.name, fname: room.fname, prid: room.prid }),\\n\\t\\t\\t\\ttype: room.t,\\n\\t\\t\\t\\tavatarETag: room.avatarETag,\\n\\t\\t\\t},\\n\\t\\t}));\\n\\t}, [data]);\\n\\n\\treturn (\\n\\t\\t<AutoComplete\\n\\t\\t\\t{...props}\\n\\t\\t\\tmultiple\\n\\t\\t\\tvalue={value}\\n\\t\\t\\tonChange={onChange}\\n\\t\\t\\tfilter={filter}\\n\\t\\t\\tsetFilter={setFilter}\\n\\t\\t\\trenderSelected={({ selected: { value, label }, onRemove }) => (\\n\\t\\t\\t\\t<Chip key={value} height='x20' value={value} onClick={onRemove} mb={2} mie={4}>\\n\\t\\t\\t\\t\\t<RoomAvatar size='x20' room={{ type: label?.type || 'c', _id: value, ...label }} />\\n\\t\\t\\t\\t\\t<Box is='span' margin='none' mis={4}>\\n\\t\\t\\t\\t\\t\\t{label.name}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Chip>\\n\\t\\t\\t)}\\n\\t\\t\\trenderItem={({ value, label, ...props }) => (\\n\\t\\t\\t\\t<Option\\n\\t\\t\\t\\t\\tkey={value}\\n\\t\\t\\t\\t\\t{...props}\\n\\t\\t\\t\\t\\tlabel={label.name}\\n\\t\\t\\t\\t\\tavatar={<RoomAvatar room={{ _id: value, type: label.type, avatarETag: label.avatarETag }} size='x20' />}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\t\\t\\toptions={options}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default memo(RoomsAvailableForTeamsAutoComplete);\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_extends\",\"_objectSpread\",\"_slicedToArray\",\"_objectWithoutProperties\",\"AutoComplete\",\"Box\",\"Option\",\"Chip\",\"useDebouncedValue\",\"RoomAvatar\",\"useEndpoint\",\"useQuery\",\"React\",\"memo\",\"useMemo\",\"useState\",\"roomCoordinator\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"value\",\"onChange\",\"props\",\"_excluded\",\"_useState\",\"_useState2\",\"filter\",\"setFilter\",\"debouncedFilter\",\"roomsAvailableForTeamsAutoCompleteEndpoint\",\"data\",\"_useQuery\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"name\",\"stop\",\"Promise\",\"keepPreviousData\",\"options\",\"items\",\"map\",\"room\",\"_id\",\"label\",\"getRoomName\",\"t\",\"fname\",\"prid\",\"type\",\"avatarETag\",\"createElement\",\"multiple\",\"renderSelected\",\"_ref2\",\"_ref2$selected\",\"selected\",\"onRemove\",\"key\",\"height\",\"onClick\",\"mb\",\"mie\",\"size\",\"is\",\"margin\",\"mis\",\"renderItem\",\"_ref3\",\"_excluded2\",\"avatar\"],\"mappings\":\"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\"}"}