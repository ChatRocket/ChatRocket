{"code":"function module(e,t,n){let l,a,c,r,o,i,s,u,m,d,E,k,g,_,b,S,p,f,h,C;n.link(\"@rocket.chat/fuselage\",{Box(e){l=e},Callout(e){a=e},Margins(e){c=e},States(e){r=e},StatesIcon(e){o=e},StatesSubtitle(e){i=e},StatesTitle(e){s=e},Tabs(e){u=e}},0),n.link(\"react\",{default(e){m=e},useState(e){d=e}},1),n.link(\"react-i18next\",{useTranslation(e){E=e}},2),n.link(\"../../components/Page\",{Page(e){k=e},PageHeader(e){g=e},PageScrollableContentWithShadow(e){_=e}},3),n.link(\"../../components/message/list/MessageListSkeleton\",{default(e){b=e}},4),n.link(\"../../lib/errorHandling\",{getErrorMessage(e){S=e}},5),n.link(\"./components/AuditForm\",{default(e){p=e}},6),n.link(\"./components/AuditResult\",{default(e){f=e}},7),n.link(\"./hooks/useAuditMutation\",{useAuditMutation(e){h=e}},8),n.link(\"./hooks/useAuditTab\",{useAuditTab(e){C=e}},9),n.exportDefault(()=>{let[e,t]=C(),[n,M]=d(),x=h(e),{t:y}=E();return m.createElement(k,{background:\"room\"},m.createElement(g,{title:y(\"Message_auditing\")}),m.createElement(u,null,m.createElement(u.Item,{selected:\"\"===e,onClick:()=>t(\"\")},y(\"Rooms\")),m.createElement(u.Item,{selected:\"u\"===e,onClick:()=>t(\"u\")},y(\"Users\")),m.createElement(u.Item,{selected:\"d\"===e,onClick:()=>t(\"d\")},y(\"Direct_Messages\")),m.createElement(u.Item,{selected:\"l\"===e,onClick:()=>t(\"l\")},y(\"Omnichannel\"))),m.createElement(_,{mb:-4},m.createElement(c,{block:4},m.createElement(p,{key:e,type:e,setSelectedRoom:M,onSubmit:x.mutate}),null!=n&&n.encrypted&&\"\"===e?m.createElement(a,{type:\"warning\",icon:\"circle-exclamation\",marginBlock:\"x16\"},m.createElement(l,{fontScale:\"p2b\"},y(\"Encrypted_content_cannot_be_searched_and_audited\")),y(\"Encrypted_content_cannot_be_searched_and_audited_subtitle\")):null,x.isLoading&&m.createElement(b,{messageCount:5}),x.isError&&m.createElement(r,null,m.createElement(o,{name:\"circle-exclamation\",variation:\"danger\"}),m.createElement(s,null,y(\"Error\")),m.createElement(i,null,S(x.error))),x.isSuccess&&m.createElement(f,{messages:x.data}))))})}","map":"{\"version\":3,\"sources\":[\"client/views/audit/AuditPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport { Box, Callout, Margins, States, StatesIcon, StatesSubtitle, StatesTitle, Tabs } from '@rocket.chat/fuselage';\\nimport React, { useState } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../components/Page';\\nimport MessageListSkeleton from '../../components/message/list/MessageListSkeleton';\\nimport { getErrorMessage } from '../../lib/errorHandling';\\nimport AuditForm from './components/AuditForm';\\nimport AuditResult from './components/AuditResult';\\nimport { useAuditMutation } from './hooks/useAuditMutation';\\nimport { useAuditTab } from './hooks/useAuditTab';\\n\\nconst AuditPage = () => {\\n\\tconst [type, setType] = useAuditTab();\\n\\tconst [selectedRoom, setSelectedRoom] = useState<IRoom | undefined>();\\n\\tconst auditMutation = useAuditMutation(type);\\n\\tconst { t } = useTranslation();\\n\\n\\treturn (\\n\\t\\t<Page background='room'>\\n\\t\\t\\t<PageHeader title={t('Message_auditing')} />\\n\\t\\t\\t<Tabs>\\n\\t\\t\\t\\t<Tabs.Item selected={type === ''} onClick={() => setType('')}>\\n\\t\\t\\t\\t\\t{t('Rooms')}\\n\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t\\t<Tabs.Item selected={type === 'u'} onClick={() => setType('u')}>\\n\\t\\t\\t\\t\\t{t('Users')}\\n\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t\\t<Tabs.Item selected={type === 'd'} onClick={() => setType('d')}>\\n\\t\\t\\t\\t\\t{t('Direct_Messages')}\\n\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t\\t<Tabs.Item selected={type === 'l'} onClick={() => setType('l')}>\\n\\t\\t\\t\\t\\t{t('Omnichannel')}\\n\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t</Tabs>\\n\\t\\t\\t<PageScrollableContentWithShadow mb={-4}>\\n\\t\\t\\t\\t<Margins block={4}>\\n\\t\\t\\t\\t\\t<AuditForm key={type} type={type} setSelectedRoom={setSelectedRoom} onSubmit={auditMutation.mutate} />\\n\\t\\t\\t\\t\\t{selectedRoom?.encrypted && type === '' ? (\\n\\t\\t\\t\\t\\t\\t<Callout type='warning' icon='circle-exclamation' marginBlock='x16'>\\n\\t\\t\\t\\t\\t\\t\\t<Box fontScale='p2b'>{t('Encrypted_content_cannot_be_searched_and_audited')}</Box>\\n\\t\\t\\t\\t\\t\\t\\t{t('Encrypted_content_cannot_be_searched_and_audited_subtitle')}\\n\\t\\t\\t\\t\\t\\t</Callout>\\n\\t\\t\\t\\t\\t) : null}\\n\\t\\t\\t\\t\\t{auditMutation.isLoading && <MessageListSkeleton messageCount={5} />}\\n\\t\\t\\t\\t\\t{auditMutation.isError && (\\n\\t\\t\\t\\t\\t\\t<States>\\n\\t\\t\\t\\t\\t\\t\\t<StatesIcon name='circle-exclamation' variation='danger' />\\n\\t\\t\\t\\t\\t\\t\\t<StatesTitle>{t('Error')}</StatesTitle>\\n\\t\\t\\t\\t\\t\\t\\t<StatesSubtitle>{getErrorMessage(auditMutation.error)}</StatesSubtitle>\\n\\t\\t\\t\\t\\t\\t</States>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{auditMutation.isSuccess && <AuditResult messages={auditMutation.data} />}\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default AuditPage;\\n\",null],\"names\":[\"Box\",\"Callout\",\"Margins\",\"States\",\"StatesIcon\",\"StatesSubtitle\",\"StatesTitle\",\"Tabs\",\"React\",\"useState\",\"useTranslation\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"MessageListSkeleton\",\"getErrorMessage\",\"AuditForm\",\"AuditResult\",\"useAuditMutation\",\"useAuditTab\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"AuditPage\",\"type\",\"setType\",\"selectedRoom\",\"setSelectedRoom\",\"auditMutation\",\"t\",\"createElement\",\"background\",\"title\",\"Item\",\"selected\",\"onClick\",\"mb\",\"block\",\"key\",\"onSubmit\",\"mutate\",\"encrypted\",\"icon\",\"marginBlock\",\"fontScale\",\"isLoading\",\"messageCount\",\"isError\",\"name\",\"variation\",\"error\",\"isSuccess\",\"messages\",\"data\"],\"mappings\":\"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\"}"}