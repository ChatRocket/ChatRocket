{"code":"function module(e,t,a){let l,s,n,i,o,c,r,u;a.export({useRemoveCustomField:()=>m}),a.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){l=e}},0),a.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){s=e},useToastMessageDispatch(e){n=e},useMethod(e){i=e}},1),a.link(\"@tanstack/react-query\",{useQueryClient(e){o=e}},2),a.link(\"react\",{default(e){c=e}},3),a.link(\"react-i18next\",{useTranslation(e){r=e}},4),a.link(\"../../../components/GenericModal\",{default(e){u=e}},5);let m=()=>{let{t:e}=r(),t=s(),a=n(),m=i(\"livechat:removeCustomField\"),d=o(),k=l(l=>{let s=async()=>{try{await m(l),a({type:\"success\",message:e(\"Custom_Field_Removed\")}),d.invalidateQueries([\"livechat-customFields\"])}catch(e){a({type:\"error\",message:e})}finally{t()}};t(c.createElement(u,{variant:\"danger\",onConfirm:s,onCancel:()=>t(),confirmText:e(\"Delete\")}))});return k}}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/customFields/useRemoveCustomField.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useMethod } from '@rocket.chat/ui-contexts';\\nimport { useQueryClient } from '@tanstack/react-query';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../components/GenericModal';\\n\\nexport const useRemoveCustomField = () => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst removeCustomField = useMethod('livechat:removeCustomField');\\n\\tconst queryClient = useQueryClient();\\n\\n\\tconst handleDelete = useMutableCallback((id) => {\\n\\t\\tconst onDeleteAgent = async () => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait removeCustomField(id);\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Custom_Field_Removed') });\\n\\t\\t\\t\\tqueryClient.invalidateQueries(['livechat-customFields']);\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tsetModal();\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteAgent} onCancel={() => setModal()} confirmText={t('Delete')} />);\\n\\t});\\n\\n\\treturn handleDelete;\\n};\\n\",null],\"names\":[\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useMethod\",\"useQueryClient\",\"React\",\"useTranslation\",\"GenericModal\",\"module\",\"export\",\"useRemoveCustomField\",\"link\",\"v\",\"default\",\"t\",\"setModal\",\"dispatchToastMessage\",\"removeCustomField\",\"queryClient\",\"handleDelete\",\"id\",\"onDeleteAgent\",\"type\",\"message\",\"invalidateQueries\",\"error\",\"createElement\",\"variant\",\"onConfirm\",\"onCancel\",\"confirmText\"],\"mappings\":\"2BAAiEA,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjEC,EAAOC,MAAE,CAAA,CAAAC,qBAA0BA,IAAAA,CAAA,GAA8BF,EAAAG,IAAA,CAAA,8BAAA,CAAAX,mBAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,2BAAA,CAAAV,YAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,wBAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,UAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,wBAAA,CAAAP,eAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,gBAAA,CAAAL,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,mCAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAQ1D,IAAMF,EAAuBA,KACnC,GAAM,CAAEI,EAAAA,CAAAA,CAAG,CAAGR,IACRS,EAAWd,IACXe,EAAuBd,IACvBe,EAAoBd,EAAU,8BAC9Be,EAAcd,IAEde,EAAenB,EAAoBoB,IACxC,IAAMC,EAAgB,UACrB,GAAI,CACH,MAAMJ,EAAkBG,GACxBJ,EAAqB,CAAEM,KAAM,UAAWC,QAAST,EAAE,uBAAuB,GAC1EI,EAAYM,iBAAiB,CAAC,CAAC,wBAAwB,CACxD,CAAE,MAAOC,EAAO,CACfT,EAAqB,CAAEM,KAAM,QAASC,QAASE,CAAK,EACrD,QAAU,CACTV,GACD,CACD,EAEAA,EAASV,EAAAqB,aAAA,CAACnB,EAAY,CAACoB,QAAQ,SAASC,UAAWP,EAAeQ,SAAUA,IAAMd,IAAYe,YAAahB,EAAE,SAAU,GACxH,GAEA,OAAOK,CACR\"}"}