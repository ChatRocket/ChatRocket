{"code":"function module(e,t,a){let n,l,r,i,o,c,s,d;a.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){n=e}},0),a.link(\"@rocket.chat/fuselage\",{Box(e){l=e},Skeleton(e){r=e}},0),a.link(\"react\",{default(e){i=e}},1),a.link(\"react-i18next\",{useTranslation(e){o=e}},2),a.link(\"../../../../hooks/useActiveConnections\",{useActiveConnections(e){c=e}},3),a.link(\"../FeatureUsageCard\",{default(e){s=e}},4),a.link(\"../UpgradeButton\",{default(e){d=e}},5);let u=e=>{let{max:t,current:a}=e,n=t||0,l=a||0;return{total:n,used:l,available:n-l,exceedLimit:l>=n}};a.exportDefault(()=>{let{t:e}=o(),t=c(),a={title:e(\"ActiveSessions\"),infoText:e(\"ActiveSessions_InfoText\")};if(t.isLoading||t.isError)return i.createElement(s,{card:a},i.createElement(r,{variant:\"rect\",width:\"x112\",height:\"x112\"}));let{total:f,used:m,available:g,exceedLimit:k}=u(t.data);return i.createElement(s,{card:n(n({},a),k&&{upgradeButton:i.createElement(d,{target:\"active-session-card\",action:\"upgrade\",small:!0},e(\"Upgrade\"))})},i.createElement(l,{color:\"font-secondary-info\"},i.createElement(l,{fontScale:\"h1\",color:k?\"font-danger\":\"font-default\",mbe:12},m,\" / \",f),g,\" \",e(\"ActiveSessions_available\")))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/subscription/components/cards/ActiveSessionsCard.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Skeleton } from '@rocket.chat/fuselage';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useActiveConnections } from '../../../../hooks/useActiveConnections';\\nimport type { CardProps } from '../FeatureUsageCard';\\nimport FeatureUsageCard from '../FeatureUsageCard';\\nimport UpgradeButton from '../UpgradeButton';\\n\\nconst getLimits = ({ max, current }: { max: number; current: number }) => {\\n\\tconst total = max || 0;\\n\\tconst used = current || 0;\\n\\tconst available = total - used;\\n\\n\\tconst exceedLimit = used >= total;\\n\\n\\treturn {\\n\\t\\ttotal,\\n\\t\\tused,\\n\\t\\tavailable,\\n\\t\\texceedLimit,\\n\\t};\\n};\\n\\nconst ActiveSessionsCard = (): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst result = useActiveConnections();\\n\\n\\tconst card: CardProps = {\\n\\t\\ttitle: t('ActiveSessions'),\\n\\t\\tinfoText: t('ActiveSessions_InfoText'),\\n\\t};\\n\\n\\tif (result.isLoading || result.isError) {\\n\\t\\treturn (\\n\\t\\t\\t<FeatureUsageCard card={card}>\\n\\t\\t\\t\\t<Skeleton variant='rect' width='x112' height='x112' />\\n\\t\\t\\t</FeatureUsageCard>\\n\\t\\t);\\n\\t}\\n\\n\\tconst { total, used, available, exceedLimit } = getLimits(result.data);\\n\\n\\treturn (\\n\\t\\t<FeatureUsageCard\\n\\t\\t\\tcard={{\\n\\t\\t\\t\\t...card,\\n\\t\\t\\t\\t...(exceedLimit && {\\n\\t\\t\\t\\t\\tupgradeButton: (\\n\\t\\t\\t\\t\\t\\t<UpgradeButton target='active-session-card' action='upgrade' small>\\n\\t\\t\\t\\t\\t\\t\\t{t('Upgrade')}\\n\\t\\t\\t\\t\\t\\t</UpgradeButton>\\n\\t\\t\\t\\t\\t),\\n\\t\\t\\t\\t}),\\n\\t\\t\\t}}\\n\\t\\t>\\n\\t\\t\\t<Box color='font-secondary-info'>\\n\\t\\t\\t\\t<Box fontScale='h1' color={exceedLimit ? 'font-danger' : 'font-default'} mbe={12}>\\n\\t\\t\\t\\t\\t{used} / {total}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t{available} {t('ActiveSessions_available')}\\n\\t\\t\\t</Box>\\n\\t\\t</FeatureUsageCard>\\n\\t);\\n};\\n\\nexport default ActiveSessionsCard;\\n\",null],\"names\":[\"_objectSpread\",\"Box\",\"Skeleton\",\"React\",\"useTranslation\",\"useActiveConnections\",\"FeatureUsageCard\",\"UpgradeButton\",\"module\",\"link\",\"default\",\"v\",\"getLimits\",\"_ref\",\"max\",\"current\",\"total\",\"used\",\"available\",\"exceedLimit\",\"exportDefault\",\"ActiveSessionsCard\",\"t\",\"result\",\"card\",\"title\",\"infoText\",\"isLoading\",\"isError\",\"createElement\",\"variant\",\"width\",\"height\",\"data\",\"upgradeButton\",\"target\",\"action\",\"small\",\"color\",\"fontScale\",\"mbe\"],\"mappings\":\"2BAAAA,EAAAC,EAAOC,EAA+CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxCC,EAAUC,IAAA,CAAM,uCAAwB,CAAAC,QAAAC,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAxCH,EAAUC,IAAA,CAAA,wBAA6B,CAACR,IAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAL,eAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,yCAAA,CAAAJ,qBAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,sBAAA,CAAAC,QAAAC,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,mBAAA,CAAAC,QAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAUtD,IAAMC,EAAYC,IAAuD,GAAtD,CAAEC,IAAAA,CAAG,CAAEC,QAAAA,CAAAA,CAA2C,CAAAF,EAC9DG,EAAQF,GAAO,EACfG,EAAOF,GAAW,EAKxB,MAAO,CACNC,MAAAA,EACAC,KAAAA,EACAC,UAPiBF,EAAQC,EAQzBE,YANmBF,GAAQD,EAQ7B,EAvBAR,EAAOY,aAAO,CAyBaC,KAC1B,GAAM,CAAEC,EAAAA,CAAAA,CAAG,CAAGlB,IACRmB,EAASlB,IAETmB,EAAkB,CACvBC,MAAOH,EAAE,kBACTI,SAAUJ,EAAE,4BAGb,GAAIC,EAAOI,SAAS,EAAIJ,EAAOK,OAAO,CACrC,OACCzB,EAAA0B,aAAA,CAACvB,EAAgB,CAACkB,KAAMA,CAAK,EAC5BrB,EAAA0B,aAAA,CAAC3B,EAAQ,CAAC4B,QAAQ,OAAOC,MAAM,OAAOC,OAAO,MAAM,IAKtD,GAAM,CAAEhB,MAAAA,CAAK,CAAEC,KAAAA,CAAI,CAAEC,UAAAA,CAAS,CAAEC,YAAAA,CAAAA,CAAa,CAAGP,EAAUW,EAAOU,IAAI,EAErE,OACC9B,EAAA0B,aAAA,CAACvB,EAAgB,CAChBkB,KAAIxB,EAAAA,EAAA,CAAA,EACAwB,GACCL,GAAe,CAClBe,cACC/B,EAAA0B,aAAA,CAACtB,EAAa,CAAC4B,OAAO,sBAAsBC,OAAO,UAAUC,MAAK,CAAA,CAAA,EAChEf,EAAE,aAIL,EAEFnB,EAAA0B,aAAA,CAAC5B,EAAG,CAACqC,MAAM,qBAAqB,EAC/BnC,EAAA0B,aAAA,CAAC5B,EAAG,CAACsC,UAAU,KAAKD,MAAOnB,EAAc,cAAgB,eAAgBqB,IAAK,EAAG,EAC/EvB,EAAM,MAAGD,GAEVE,EAAW,IAACI,EAAE,6BAInB\"}"}