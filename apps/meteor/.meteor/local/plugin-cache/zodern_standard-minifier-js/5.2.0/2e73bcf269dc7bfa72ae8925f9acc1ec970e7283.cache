{"code":"function module(e,n,t){var o,a,i,l,c,r,u,f,m,d,s,h,E,k,x,C;t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useRoute:function(e){a=e},useRouteParameter:function(e){i=e},useTranslation:function(e){l=e}},1),t.link(\"react\",{default:function(e){c=e}},2),t.link(\"../../../components/Contextualbar\",{Contextualbar:function(e){r=e},ContextualbarHeader:function(e){u=e},ContextualbarIcon:function(e){f=e},ContextualbarTitle:function(e){m=e},ContextualbarAction:function(e){d=e},ContextualbarClose:function(e){s=e}},3),t.link(\"./chats/Chat\",{default:function(e){h=e}},4),t.link(\"./chats/contextualBar/ChatInfoDirectory\",{default:function(e){E=e}},5),t.link(\"./chats/contextualBar/RoomEdit\",{RoomEditWithData:function(e){k=e}},6),t.link(\"./components\",{FormSkeleton:function(e){x=e}},7),t.link(\"./hooks/useOmnichannelRoomInfo\",{useOmnichannelRoomInfo:function(e){C=e}},8),t.exportDefault(function(e){var n=e.chatReload,t=a(\"omnichannel-directory\"),p=i(\"bar\")||\"info\",b=i(\"id\")||\"\",R=l(),g=C(b),w=g.data,I=g.isLoading,v=g.isError,_=g.refetch;return\"view\"===p&&b?c.createElement(h,{rid:b}):I?c.createElement(o,{pi:24},c.createElement(x,null)):v||!w?c.createElement(o,{mbs:16},R(\"Room_not_found\")):c.createElement(r,null,c.createElement(u,{expanded:!0},\"info\"===p&&c.createElement(c.Fragment,null,c.createElement(f,{name:\"info-circled\"}),c.createElement(m,null,R(\"Room_Info\")),c.createElement(d,{title:R(\"View_full_conversation\"),name:\"new-window\",onClick:function(){b&&t.push({page:\"chats\",id:b,bar:\"view\"})}})),\"edit\"===p&&c.createElement(c.Fragment,null,c.createElement(f,{name:\"pencil\"}),c.createElement(m,null,R(\"edit-room\"))),c.createElement(s,{onClick:function(){t.push({page:\"chats\"})}})),\"info\"===p&&c.createElement(E,{id:b,room:w}),\"edit\"===p&&c.createElement(k,{id:b,reload:n,reloadInfo:_,onClose:function(){b&&t.push({page:\"chats\",id:b,bar:\"info\"})}}))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/ChatsContextualBar.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box } from '@rocket.chat/fuselage';\\nimport { useRoute, useRouteParameter, useTranslation } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\n\\nimport {\\n\\tContextualbar,\\n\\tContextualbarHeader,\\n\\tContextualbarIcon,\\n\\tContextualbarTitle,\\n\\tContextualbarAction,\\n\\tContextualbarClose,\\n} from '../../../components/Contextualbar';\\nimport Chat from './chats/Chat';\\nimport ChatInfoDirectory from './chats/contextualBar/ChatInfoDirectory';\\nimport { RoomEditWithData } from './chats/contextualBar/RoomEdit';\\nimport { FormSkeleton } from './components';\\nimport { useOmnichannelRoomInfo } from './hooks/useOmnichannelRoomInfo';\\n\\ntype ChatsContextualBarProps = { chatReload?: () => void };\\n\\nconst ChatsContextualBar = ({ chatReload }: ChatsContextualBarProps) => {\\n\\tconst directoryRoute = useRoute('omnichannel-directory');\\n\\n\\tconst bar = useRouteParameter('bar') || 'info';\\n\\tconst id = useRouteParameter('id') || '';\\n\\n\\tconst t = useTranslation();\\n\\n\\tconst openInRoom = (): void => {\\n\\t\\tid && directoryRoute.push({ page: 'chats', id, bar: 'view' });\\n\\t};\\n\\n\\tconst handleChatsContextualbarCloseButtonClick = (): void => {\\n\\t\\tdirectoryRoute.push({ page: 'chats' });\\n\\t};\\n\\n\\tconst handleChatsContextualbarBackButtonClick = (): void => {\\n\\t\\tid && directoryRoute.push({ page: 'chats', id, bar: 'info' });\\n\\t};\\n\\n\\tconst { data: room, isLoading, isError, refetch: reloadInfo } = useOmnichannelRoomInfo(id);\\n\\n\\tif (bar === 'view' && id) {\\n\\t\\treturn <Chat rid={id} />;\\n\\t}\\n\\n\\tif (isLoading) {\\n\\t\\treturn (\\n\\t\\t\\t<Box pi={24}>\\n\\t\\t\\t\\t<FormSkeleton />\\n\\t\\t\\t</Box>\\n\\t\\t);\\n\\t}\\n\\n\\tif (isError || !room) {\\n\\t\\treturn <Box mbs={16}>{t('Room_not_found')}</Box>;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<Contextualbar>\\n\\t\\t\\t<ContextualbarHeader expanded>\\n\\t\\t\\t\\t{bar === 'info' && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t<ContextualbarIcon name='info-circled' />\\n\\t\\t\\t\\t\\t\\t<ContextualbarTitle>{t('Room_Info')}</ContextualbarTitle>\\n\\t\\t\\t\\t\\t\\t<ContextualbarAction title={t('View_full_conversation')} name='new-window' onClick={openInRoom} />\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{bar === 'edit' && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t<ContextualbarIcon name='pencil' />\\n\\t\\t\\t\\t\\t\\t<ContextualbarTitle>{t('edit-room')}</ContextualbarTitle>\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t<ContextualbarClose onClick={handleChatsContextualbarCloseButtonClick} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t{bar === 'info' && <ChatInfoDirectory id={id} room={room} />}\\n\\t\\t\\t{bar === 'edit' && (\\n\\t\\t\\t\\t<RoomEditWithData id={id} reload={chatReload} reloadInfo={reloadInfo} onClose={handleChatsContextualbarBackButtonClick} />\\n\\t\\t\\t)}\\n\\t\\t</Contextualbar>\\n\\t);\\n};\\n\\nexport default ChatsContextualBar;\\n\",null],\"names\":[\"Box\",\"useRoute\",\"useRouteParameter\",\"useTranslation\",\"React\",\"Contextualbar\",\"ContextualbarHeader\",\"ContextualbarIcon\",\"ContextualbarTitle\",\"ContextualbarAction\",\"ContextualbarClose\",\"Chat\",\"ChatInfoDirectory\",\"RoomEditWithData\",\"FormSkeleton\",\"useOmnichannelRoomInfo\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"chatReload\",\"directoryRoute\",\"bar\",\"id\",\"t\",\"_useOmnichannelRoomIn\",\"room\",\"data\",\"isLoading\",\"isError\",\"reloadInfo\",\"refetch\",\"createElement\",\"rid\",\"pi\",\"mbs\",\"expanded\",\"Fragment\",\"name\",\"title\",\"onClick\",\"push\",\"page\",\"reload\",\"onClose\"],\"mappings\":\"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\"}"}