{"code":"function module(e,t,n){n.link(\"@babel/runtime/helpers/inheritsLoose\",{default:function(e){i=e}},0),n.export({selectedMessageStore:function(){return u},SelectedMessagesProvider:function(){return l}}),n.link(\"@rocket.chat/emitter\",{Emitter:function(e){s=e}},0),n.link(\"react\",{default:function(e){r=e},useMemo:function(e){c=e}},1),n.link(\"../MessageList/contexts/SelectedMessagesContext\",{SelectedMessageContext:function(e){o=e}},2);var i,s,r,c,o,u=new(function(e){function t(){for(var t,n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).store=new Set,t.isSelecting=!1,t}i(t,e);var n=t.prototype;return n.setIsSelecting=function(e){this.isSelecting=e,this.emit(\"toggleIsSelecting\",e)},n.getIsSelecting=function(){return this.isSelecting},n.isSelected=function(e){return!!this.store.has(e)},n.getSelectedMessages=function(){return Array.from(this.store)},n.toggle=function(e){if(this.store.has(e)){this.store.delete(e),this.emit(e,!1),this.emit(\"change\");return}this.store.add(e),this.emit(e,!0),this.emit(\"change\")},n.count=function(){return this.store.size},n.clearStore=function(){var e=this,t=this.getSelectedMessages();this.store.clear(),t.forEach(function(t){return e.emit(t,!1)}),this.emit(\"change\")},n.reset=function(){this.clearStore(),this.isSelecting=!1,this.emit(\"toggleIsSelecting\",!1)},t}(s)),l=function(e){var t=e.children,n=c(function(){return{selectedMessageStore:u}},[]);return r.createElement(o.Provider,{value:n},t)}}","map":"{\"version\":3,\"sources\":[\"client/views/room/providers/SelectedMessagesProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Emitter } from '@rocket.chat/emitter';\\nimport type { ReactNode } from 'react';\\nimport React, { useMemo } from 'react';\\n\\nimport { SelectedMessageContext } from '../MessageList/contexts/SelectedMessagesContext';\\n\\n// data-qa-select\\n\\nexport const selectedMessageStore = new (class SelectMessageStore extends Emitter<\\n\\t{\\n\\t\\tchange: undefined;\\n\\t\\ttoggleIsSelecting: boolean;\\n\\t} & { [mid: string]: boolean }\\n> {\\n\\tstore = new Set<string>();\\n\\n\\tisSelecting = false;\\n\\n\\tsetIsSelecting(isSelecting: boolean): void {\\n\\t\\tthis.isSelecting = isSelecting;\\n\\t\\tthis.emit('toggleIsSelecting', isSelecting);\\n\\t}\\n\\n\\tgetIsSelecting(): boolean {\\n\\t\\treturn this.isSelecting;\\n\\t}\\n\\n\\tisSelected(mid: string): boolean {\\n\\t\\treturn Boolean(this.store.has(mid));\\n\\t}\\n\\n\\tgetSelectedMessages(): string[] {\\n\\t\\treturn Array.from(this.store);\\n\\t}\\n\\n\\ttoggle(mid: string): void {\\n\\t\\tif (this.store.has(mid)) {\\n\\t\\t\\tthis.store.delete(mid);\\n\\t\\t\\tthis.emit(mid, false);\\n\\t\\t\\tthis.emit('change');\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tthis.store.add(mid);\\n\\t\\tthis.emit(mid, true);\\n\\t\\tthis.emit('change');\\n\\t}\\n\\n\\tcount(): number {\\n\\t\\treturn this.store.size;\\n\\t}\\n\\n\\tclearStore(): void {\\n\\t\\tconst selectedMessages = this.getSelectedMessages();\\n\\t\\tthis.store.clear();\\n\\t\\tselectedMessages.forEach((mid) => this.emit(mid, false));\\n\\t\\tthis.emit('change');\\n\\t}\\n\\n\\treset(): void {\\n\\t\\tthis.clearStore();\\n\\t\\tthis.isSelecting = false;\\n\\t\\tthis.emit('toggleIsSelecting', false);\\n\\t}\\n})();\\n\\ntype SelectedMessagesProviderProps = {\\n\\tchildren?: ReactNode;\\n};\\n\\nexport const SelectedMessagesProvider = ({ children }: SelectedMessagesProviderProps) => {\\n\\tconst value = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\tselectedMessageStore,\\n\\t\\t}),\\n\\t\\t[],\\n\\t);\\n\\n\\treturn <SelectedMessageContext.Provider value={value}>{children}</SelectedMessageContext.Provider>;\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_inheritsLoose\",\"export\",\"selectedMessageStore\",\"SelectedMessagesProvider\",\"Emitter\",\"React\",\"useMemo\",\"SelectedMessageContext\",\"_Emitter\",\"SelectMessageStore\",\"_this\",\"_len\",\"arguments\",\"length\",\"args\",\"Array\",\"_key\",\"call\",\"apply\",\"concat\",\"store\",\"Set\",\"isSelecting\",\"_proto\",\"prototype\",\"setIsSelecting\",\"emit\",\"getIsSelecting\",\"isSelected\",\"mid\",\"Boolean\",\"has\",\"getSelectedMessages\",\"from\",\"toggle\",\"delete\",\"add\",\"count\",\"size\",\"clearStore\",\"_this2\",\"selectedMessages\",\"clear\",\"forEach\",\"reset\",\"_ref\",\"children\",\"value\",\"createElement\",\"Provider\"],\"mappings\":\"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\"}"}