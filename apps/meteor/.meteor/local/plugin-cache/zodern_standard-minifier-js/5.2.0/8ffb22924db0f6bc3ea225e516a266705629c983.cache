{"code":"function module(e,t,n){var s,a,r,o,u,i,c,l,f,m;n.link(\"@babel/runtime/regenerator\",{default:function(e){s=e}},0),n.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){a=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){r=e},useTranslation:function(e){o=e}},0),n.link(\"@tanstack/react-query\",{useQuery:function(e){u=e}},1),n.link(\"react\",{default:function(e){i=e}},2),n.link(\"../../../lib/onClientMessageReceived\",{onClientMessageReceived:function(e){c=e}},3),n.link(\"../../../lib/utils/mapMessageFromApi\",{mapMessageFromApi:function(e){l=e}},4),n.link(\"../contexts/RoomContext\",{useRoom:function(e){f=e}},5),n.link(\"./MessageListTab\",{default:function(e){m=e}},6),n.exportDefault(function(){var e=r(\"GET\",\"/v1/chat.getStarredMessages\"),t=f(),n=u([\"rooms\",t._id,\"starred-messages\"],function(){var n,r,o;return s.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=[],r=0,u.next=4,s.awrap(e({roomId:t._id,offset:0}));case 4:o=u.sent;case 5:if(!(o.count>0)){u.next=13;break}n.push.apply(n,a(o.messages.map(l)));case 7:return r+=o.count,u.next=10,s.awrap(e({roomId:t._id,offset:r}));case 10:o=u.sent,u.next=5;break;case 13:return u.abrupt(\"return\",Promise.all(n.map(c)));case 14:case\"end\":return u.stop()}},null,null,null,Promise)}),d=o();return i.createElement(m,{iconName:\"star\",title:d(\"Starred_Messages\"),emptyResultMessage:d(\"No_starred_messages\"),context:\"starred\",queryResult:n})})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/StarredMessagesTab.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React from 'react';\\n\\nimport { onClientMessageReceived } from '../../../lib/onClientMessageReceived';\\nimport { mapMessageFromApi } from '../../../lib/utils/mapMessageFromApi';\\nimport { useRoom } from '../contexts/RoomContext';\\nimport MessageListTab from './MessageListTab';\\n\\nconst StarredMessagesTab = () => {\\n\\tconst getStarredMessages = useEndpoint('GET', '/v1/chat.getStarredMessages');\\n\\n\\tconst room = useRoom();\\n\\n\\tconst starredMessagesQueryResult = useQuery(['rooms', room._id, 'starred-messages'] as const, async () => {\\n\\t\\tconst messages: IMessage[] = [];\\n\\n\\t\\tfor (\\n\\t\\t\\tlet offset = 0, result = await getStarredMessages({ roomId: room._id, offset: 0 });\\n\\t\\t\\tresult.count > 0;\\n\\t\\t\\t// eslint-disable-next-line no-await-in-loop\\n\\t\\t\\toffset += result.count, result = await getStarredMessages({ roomId: room._id, offset })\\n\\t\\t) {\\n\\t\\t\\tmessages.push(...result.messages.map(mapMessageFromApi));\\n\\t\\t}\\n\\n\\t\\treturn Promise.all(messages.map(onClientMessageReceived));\\n\\t});\\n\\n\\tconst t = useTranslation();\\n\\n\\treturn (\\n\\t\\t<MessageListTab\\n\\t\\t\\ticonName='star'\\n\\t\\t\\ttitle={t('Starred_Messages')}\\n\\t\\t\\temptyResultMessage={t('No_starred_messages')}\\n\\t\\t\\tcontext='starred'\\n\\t\\t\\tqueryResult={starredMessagesQueryResult}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default StarredMessagesTab;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_toConsumableArray\",\"useEndpoint\",\"useTranslation\",\"useQuery\",\"React\",\"onClientMessageReceived\",\"mapMessageFromApi\",\"useRoom\",\"MessageListTab\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"getStarredMessages\",\"room\",\"starredMessagesQueryResult\",\"_id\",\"messages\",\"offset\",\"result\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"roomId\",\"sent\",\"count\",\"push\",\"apply\",\"map\",\"abrupt\",\"Promise\",\"all\",\"stop\",\"t\",\"createElement\",\"iconName\",\"title\",\"emptyResultMessage\",\"context\",\"queryResult\"],\"mappings\":\"uBAUA,IATAA,EAAuEC,EAAvEC,EAASC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjDC,EAAAC,IAAA,CAAc,6BAAQ,CAAAC,QAA2B,SAAAC,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2CAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAjDH,EAAgBC,IAAA,CAAA,2BAAgC,CAACT,YAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,eAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAP,SAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAL,wBAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAJ,kBAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAAH,QAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,mBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAvEH,EAAOI,aAAa,CASO,WAC1B,IAAMC,EAAqBb,EAAY,MAAO,+BAExCc,EAAOR,IAEPS,EAA6Bb,EAAS,CAAC,QAASY,EAAKE,GAAG,CAAE,mBAA4B,CAAE,WAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAArB,EAAAsB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAI9E,OAHTN,EAAuB,EAAE,CAG1BC,EAAS,EAACG,EAAAE,IAAA,CAAA,EAAAzB,EAAA0B,KAAA,CAAiBX,EAAmB,CAAEY,OAAQX,EAAKE,GAAG,CAAEE,OAAQ,CAAC,GAAG,MAAA,EAAlEC,EAAME,EAAAK,IAAA,MAAA,EAAA,GAAA,CACtBP,CAAAA,EAAOQ,KAAK,CAAG,CAAA,EAAC,CAAAN,EAAAE,IAAA,CAAA,GAAA,KAAA,CAIhBN,EAASW,IAAI,CAAAC,KAAA,CAAbZ,EAAQlB,EAASoB,EAAOF,QAAQ,CAACa,GAAG,CAACzB,IAAoB,MAAA,EAFnC,OAAtBa,GAAUC,EAAOQ,KAAK,CAAAN,EAAAE,IAAA,CAAA,GAAAzB,EAAA0B,KAAA,CAAiBX,EAAmB,CAAEY,OAAQX,EAAKE,GAAG,CAAEE,OAAAA,CAAM,GAAG,MAAA,GAA/DC,EAAME,EAAAK,IAAA,CAAAL,EAAAE,IAAA,CAAA,EAAA,KAAA,MAAA,GAAA,OAAAF,EAAAU,MAAA,CAAA,SAKxBC,QAAQC,GAAG,CAAChB,EAASa,GAAG,CAAC1B,IAAyB,MAAA,GAAA,IAAA,MAAA,OAAAiB,EAAAa,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAF,QAAA,GAGpDG,EAAIlC,IAEV,OACCE,EAAAiC,aAAA,CAAC7B,EAAc,CACd8B,SAAS,OACTC,MAAOH,EAAE,oBACTI,mBAAoBJ,EAAE,uBACtBK,QAAQ,UACRC,YAAa1B,CAA2B,EAG3C\"}"}