{"code":"function module(e,t){\"use strict\";var i=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var o=Object.getOwnPropertyDescriptor(t,i);(!o||(\"get\"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,o)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&i(t,e,o);return n(t,e),t},a=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{u(n.next(e))}catch(e){a(e)}}function l(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,l)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,\"__esModule\",{value:!0}),t.useUiKitState=void 0;let r=e(\"@rocket.chat/fuselage-hooks\"),l=o(e(\"@rocket.chat/ui-kit\")),u=e(\"react\"),c=e(\"../contexts/UiKitContext\"),d=e(\"../utils/getInitialValue\"),s=(e,t,i)=>{var n,o;return null!==(o=t&&(null===(n=t[e])||void 0===n?void 0:n.value))&&void 0!==o?o:i};t.useUiKitState=(e,t)=>{var i;let{blockId:n,actionId:o,appId:f,dispatchActionConfig:v}=e,{action:y,appId:p,viewId:h,updateState:_}=(0,u.useContext)(c.UiKitContext),b=(0,d.getInitialValue)(e),{values:C,errors:g}=(0,u.useContext)(c.UiKitContext),A=s(o,C,b),x=Array.isArray(g)?null===(i=g.find(e=>Object.keys(e).find(e=>e===o)))||void 0===i?void 0:i[o]:null==g?void 0:g[o],[O,k]=(0,r.useSafely)((0,u.useState)(A)),[I,j]=(0,r.useSafely)((0,u.useState)(!1)),M=(0,r.useMutableCallback)(e=>a(void 0,void 0,void 0,function*(){let{target:{value:t}}=e;if(j(!0),Array.isArray(O)){if(Array.isArray(t))k(t);else{let e=O.findIndex(e=>e===t);e>-1?k(O.filter((t,i)=>i!==e)):k([...O,t])}}else k(t);yield null==_?void 0:_({blockId:n,appId:f,actionId:o,value:t,viewId:h},e),yield y({blockId:n,appId:f||p||\"core\",actionId:o,value:t,viewId:h},e),j(!1)})),S=(0,r.useMutableCallback)(e=>a(void 0,void 0,void 0,function*(){let{target:{value:t}}=e;k(t),_&&(yield _({blockId:n,appId:f,actionId:o,value:t,viewId:h},e)),yield y({blockId:n,appId:f||p||\"core\",actionId:o,value:t,viewId:h,dispatchActionConfig:v},e)})),m=(0,r.useMutableCallback)(e=>a(void 0,void 0,void 0,function*(){let{target:{value:t}}=e;k(t),yield null==_?void 0:_({blockId:n,appId:f||p||\"core\",actionId:o,value:t,viewId:h},e)})),w=(0,u.useMemo)(()=>({loading:I,setLoading:j,error:x,value:O}),[I,j,x,O]);return\"plain_text_input\"===e.type&&Array.isArray(null==e?void 0:e.dispatchActionConfig)&&e.dispatchActionConfig.includes(\"on_character_entered\")?[w,S]:t&&[l.BlockContext.SECTION,l.BlockContext.ACTION].includes(t)||Array.isArray(null==e?void 0:e.dispatchActionConfig)&&e.dispatchActionConfig.includes(\"on_item_selected\")?[w,M]:[w,m]}}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}