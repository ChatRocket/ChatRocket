{"code":"function module(t,e,n){n.link(\"@rocket.chat/ui-contexts\",{ServerContext:function(t){r=t}},0),n.link(\"meteor/meteor\",{Meteor:function(t){o=t}},1),n.link(\"path-to-regexp\",{compile:function(t){c=t}},2),n.link(\"react\",{default:function(t){i=t}},3),n.link(\"../../app/utils/client/lib/SDKClient\",{sdk:function(t){u=t}},4),n.link(\"../../app/utils/rocketchat.info\",{Info:function(t){a=t}},5);var r,o,c,i,u,a,l={info:a,absoluteUrl:function(t){return o.absoluteUrl(t)},callMethod:function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),c=1;c<n;c++)r[c-1]=arguments[c];return(e=o).callAsync.apply(e,[t].concat(r))},callEndpoint:function(t){var e=t.method,n=t.pathPattern,r=t.keys,o=t.params,i=c(n,{encode:encodeURIComponent})(r);switch(e){case\"GET\":return u.rest.get(i,o);case\"POST\":return u.rest.post(i,o);case\"PUT\":return u.rest.put(i,o);case\"DELETE\":return u.rest.delete(i,o);default:throw Error(\"Invalid HTTP method\")}},uploadToEndpoint:function(t,e){return u.rest.post(t,e)},getStream:function(t,e){return function(e,n){return u.stream(t,[e],n).stop}}};n.exportDefault(function(t){var e=t.children;return i.createElement(r.Provider,{children:e,value:l})})}","map":"{\"version\":3,\"sources\":[\"client/providers/ServerProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { Serialized } from '@rocket.chat/core-typings';\\nimport type {\\n\\tServerMethodName,\\n\\tServerMethodParameters,\\n\\tServerMethodReturn,\\n\\tStreamerCallbackArgs,\\n\\tStreamNames,\\n\\tStreamKeys,\\n} from '@rocket.chat/ddp-client';\\nimport type { Method, PathFor, OperationParams, OperationResult, UrlParams, PathPattern } from '@rocket.chat/rest-typings';\\nimport type { UploadResult } from '@rocket.chat/ui-contexts';\\nimport { ServerContext } from '@rocket.chat/ui-contexts';\\nimport { Meteor } from 'meteor/meteor';\\nimport { compile } from 'path-to-regexp';\\nimport type { ReactNode } from 'react';\\nimport React from 'react';\\n\\nimport { sdk } from '../../app/utils/client/lib/SDKClient';\\nimport { Info as info } from '../../app/utils/rocketchat.info';\\n\\nconst absoluteUrl = (path: string): string => Meteor.absoluteUrl(path);\\n\\nconst callMethod = <MethodName extends ServerMethodName>(\\n\\tmethodName: MethodName,\\n\\t...args: ServerMethodParameters<MethodName>\\n): Promise<ServerMethodReturn<MethodName>> => Meteor.callAsync(methodName, ...args);\\n\\nconst callEndpoint = <TMethod extends Method, TPathPattern extends PathPattern>({\\n\\tmethod,\\n\\tpathPattern,\\n\\tkeys,\\n\\tparams,\\n}: {\\n\\tmethod: TMethod;\\n\\tpathPattern: TPathPattern;\\n\\tkeys: UrlParams<TPathPattern>;\\n\\tparams: OperationParams<TMethod, TPathPattern>;\\n}): Promise<Serialized<OperationResult<TMethod, TPathPattern>>> => {\\n\\tconst compiledPath = compile(pathPattern, { encode: encodeURIComponent })(keys) as any;\\n\\n\\tswitch (method) {\\n\\t\\tcase 'GET':\\n\\t\\t\\treturn sdk.rest.get(compiledPath, params as any) as any;\\n\\n\\t\\tcase 'POST':\\n\\t\\t\\treturn sdk.rest.post(compiledPath, params as any) as any;\\n\\n\\t\\tcase 'PUT':\\n\\t\\t\\treturn sdk.rest.put(compiledPath, params as never) as never;\\n\\n\\t\\tcase 'DELETE':\\n\\t\\t\\treturn sdk.rest.delete(compiledPath, params as any) as any;\\n\\n\\t\\tdefault:\\n\\t\\t\\tthrow new Error('Invalid HTTP method');\\n\\t}\\n};\\n\\nconst uploadToEndpoint = (endpoint: PathFor<'POST'>, formData: any): Promise<UploadResult> => sdk.rest.post(endpoint as any, formData);\\n\\nconst getStream =\\n\\t<N extends StreamNames>(\\n\\t\\tstreamName: N,\\n\\t\\t_options?: {\\n\\t\\t\\tretransmit?: boolean | undefined;\\n\\t\\t\\tretransmitToSelf?: boolean | undefined;\\n\\t\\t},\\n\\t) =>\\n\\t<K extends StreamKeys<N>>(eventName: K, callback: (...args: StreamerCallbackArgs<N, K>) => void): (() => void) =>\\n\\t\\tsdk.stream(streamName, [eventName], callback).stop;\\n\\nconst contextValue = {\\n\\tinfo,\\n\\tabsoluteUrl,\\n\\tcallMethod,\\n\\tcallEndpoint,\\n\\tuploadToEndpoint,\\n\\tgetStream,\\n};\\n\\ntype ServerProviderProps = { children?: ReactNode };\\n\\nconst ServerProvider = ({ children }: ServerProviderProps) => <ServerContext.Provider children={children} value={contextValue} />;\\n\\nexport default ServerProvider;\\n\",null],\"names\":[\"module\",\"link\",\"ServerContext\",\"v\",\"Meteor\",\"compile\",\"React\",\"sdk\",\"Info\",\"info\",\"contextValue\",\"absoluteUrl\",\"path\",\"callMethod\",\"methodName\",\"_Meteor\",\"_len\",\"arguments\",\"length\",\"args\",\"Array\",\"_key\",\"callAsync\",\"apply\",\"concat\",\"callEndpoint\",\"_ref\",\"method\",\"pathPattern\",\"keys\",\"params\",\"compiledPath\",\"encode\",\"encodeURIComponent\",\"rest\",\"get\",\"post\",\"put\",\"delete\",\"Error\",\"uploadToEndpoint\",\"endpoint\",\"formData\",\"getStream\",\"streamName\",\"_options\",\"eventName\",\"callback\",\"stream\",\"stop\",\"exportDefault\",\"_ref2\",\"children\",\"createElement\",\"Provider\",\"value\"],\"mappings\":\"uBAWSA,EAAeC,IAAA,CAAM,2BAA2B,CAAAC,cAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAG,OAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iBAAA,CAAAI,QAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAM,IAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAO,KAAA,SAAAL,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GA4DzD,IA5DAD,EAAyDE,EAAAC,EAAAC,EAAAC,EAAAE,EA4DnDC,EAAe,CACpBD,KAAAA,EACAE,YArDmB,SAACC,CAAY,EAAA,OAAaR,EAAOO,WAAW,CAACC,EAAK,EAsDrEC,WApDkB,SAClBC,CAAsB,EAAA,IAAA,IAAAC,EAAAC,EAAAC,UAAAC,MAAA,CACnBC,EAAwC,AAAAC,MAAAJ,EAAA,EAAAA,EAAA,EAAA,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAxCF,CAAwC,CAAAE,EAAA,EAAA,CAAAJ,SAAA,CAAAI,EAAA,CAAA,MACE,AAAAN,CAAAA,EAAAX,CAAAA,EAAOkB,SAAS,CAAAC,KAAA,CAAAR,EAAA,CAACD,EAAU,CAAAU,MAAA,CAAKL,GAAK,EAkDlFM,aAhDoB,SAAAC,CAAA,EAU6C,IATjEC,EAAMD,EAANC,MAAM,CACNC,EAAWF,EAAXE,WAAW,CACXC,EAAIH,EAAJG,IAAI,CACJC,EAAMJ,EAANI,MAAM,CAOAC,EAAe1B,EAAQuB,EAAa,CAAEI,OAAQC,kBAAkB,GAAIJ,GAE1E,OAAQF,GACP,IAAK,MACJ,OAAOpB,EAAI2B,IAAI,CAACC,GAAG,CAACJ,EAAcD,EAEnC,KAAK,OACJ,OAAOvB,EAAI2B,IAAI,CAACE,IAAI,CAACL,EAAcD,EAEpC,KAAK,MACJ,OAAOvB,EAAI2B,IAAI,CAACG,GAAG,CAACN,EAAcD,EAEnC,KAAK,SACJ,OAAOvB,EAAI2B,IAAI,CAACI,MAAM,CAACP,EAAcD,EAEtC,SACC,MAAM,AAAIS,MAAM,sBAClB,CACD,EAoBCC,iBAlBwB,SAACC,CAAyB,CAAEC,CAAa,EAAA,OAA4BnC,EAAI2B,IAAI,CAACE,IAAI,CAACK,EAAiBC,EAAS,EAmBrIC,UAhBA,SACCC,CAAa,CACbC,CAGC,EAAA,OAEF,SAA0BC,CAAY,CAAEC,CAAuD,EAAA,OAC9FxC,EAAIyC,MAAM,CAACJ,EAAY,CAACE,EAAU,CAAEC,GAAUE,IAAI,CAAA,GA1DpDjD,EAAOkD,aAAE,CAuEc,SAAAC,CAAA,EAAA,IAAGC,EAAQD,EAARC,QAAQ,CAAA,OAA4B9C,EAAA+C,aAAA,CAACnD,EAAcoD,QAAQ,CAAA,CAACF,SAAUA,EAAUG,MAAO7C,CAAa,EAAG\"}"}