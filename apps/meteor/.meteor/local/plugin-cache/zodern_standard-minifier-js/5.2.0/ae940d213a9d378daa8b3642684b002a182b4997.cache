{"code":"function module(e,n,t){var i,o,a,c,u,l,r,s,f,k,d,v,m,w,h;t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){i=e}},0),t.link(\"@rocket.chat/fuselage\",{Banner:function(e){o=e},Icon:function(e){a=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){c=e}},1),t.link(\"@rocket.chat/fuselage-ui-kit\",{UiKitContext:function(e){u=e},bannerParser:function(e){l=e},UiKitBanner:function(e){r=e},UiKitComponent:function(e){s=e}},2),t.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){f=e}},3),t.link(\"react\",{default:function(e){k=e},useMemo:function(e){d=e}},4),t.link(\"../../components/MarkdownText\",{default:function(e){v=e}},5),t.link(\"../../uikit/hooks/useBannerContextValue\",{useBannerContextValue:function(e){m=e}},6),t.link(\"../../uikit/hooks/useUiKitActionManager\",{useUiKitActionManager:function(e){w=e}},7),t.link(\"../../uikit/hooks/useUiKitView\",{useUiKitView:function(e){h=e}},8),l.mrkdwn=function(e){var n=e.text;return k.createElement(v,{variant:\"inline\",content:n})},t.exportDefault(function(e){var n=e.initialView,t=h(n),l=t.view,v=t.values,p=t.state,b=w(),x=m({view:l,values:v}),C=d(function(){return l.icon?k.createElement(a,{name:l.icon,size:\"x20\"}):null},[l.icon]),g=f(),K=c(function(){b.emitInteraction(l.appId,{type:\"viewClosed\",payload:{viewId:l.viewId,view:i(i({},l),{},{id:l.viewId,state:p}),isCleared:!0}}).catch(function(e){g({type:\"error\",message:e})})});return k.createElement(o,{icon:C,inline:l.inline,title:l.title,variant:l.variant,closeable:!0,onClose:K},k.createElement(u.Provider,{value:x},k.createElement(s,{render:r,blocks:l.blocks})))})}","map":"{\"version\":3,\"sources\":[\"client/views/banners/UiKitBanner.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Banner, Icon } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { UiKitContext, bannerParser, UiKitBanner as UiKitBannerSurfaceRender, UiKitComponent } from '@rocket.chat/fuselage-ui-kit';\\nimport { useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport type * as UiKit from '@rocket.chat/ui-kit';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\n\\nimport MarkdownText from '../../components/MarkdownText';\\nimport { useBannerContextValue } from '../../uikit/hooks/useBannerContextValue';\\nimport { useUiKitActionManager } from '../../uikit/hooks/useUiKitActionManager';\\nimport { useUiKitView } from '../../uikit/hooks/useUiKitView';\\n\\n// TODO: move this to fuselage-ui-kit itself\\nbannerParser.mrkdwn = ({ text }): ReactElement => <MarkdownText variant='inline' content={text} />;\\n\\ntype UiKitBannerProps = {\\n\\tkey: UiKit.BannerView['viewId']; // force re-mount when viewId changes\\n\\tinitialView: UiKit.BannerView;\\n};\\n\\nconst UiKitBanner = ({ initialView }: UiKitBannerProps) => {\\n\\tconst { view, values, state } = useUiKitView(initialView);\\n\\tconst actionManager = useUiKitActionManager();\\n\\tconst contextValue = useBannerContextValue({ view, values });\\n\\n\\tconst icon = useMemo(() => {\\n\\t\\tif (view.icon) {\\n\\t\\t\\treturn <Icon name={view.icon} size='x20' />;\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}, [view.icon]);\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst handleClose = useMutableCallback(() => {\\n\\t\\tvoid actionManager\\n\\t\\t\\t.emitInteraction(view.appId, {\\n\\t\\t\\t\\ttype: 'viewClosed',\\n\\t\\t\\t\\tpayload: {\\n\\t\\t\\t\\t\\tviewId: view.viewId,\\n\\t\\t\\t\\t\\tview: {\\n\\t\\t\\t\\t\\t\\t...view,\\n\\t\\t\\t\\t\\t\\tid: view.viewId,\\n\\t\\t\\t\\t\\t\\tstate,\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\tisCleared: true,\\n\\t\\t\\t\\t},\\n\\t\\t\\t})\\n\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t});\\n\\t});\\n\\n\\treturn (\\n\\t\\t<Banner icon={icon} inline={view.inline} title={view.title} variant={view.variant} closeable onClose={handleClose}>\\n\\t\\t\\t<UiKitContext.Provider value={contextValue}>\\n\\t\\t\\t\\t<UiKitComponent render={UiKitBannerSurfaceRender} blocks={view.blocks} />\\n\\t\\t\\t</UiKitContext.Provider>\\n\\t\\t</Banner>\\n\\t);\\n};\\n\\nexport default UiKitBanner;\\n\",null],\"names\":[\"_objectSpread\",\"Banner\",\"Icon\",\"useMutableCallback\",\"UiKitContext\",\"bannerParser\",\"UiKitBannerSurfaceRender\",\"UiKitComponent\",\"useToastMessageDispatch\",\"React\",\"useMemo\",\"MarkdownText\",\"useBannerContextValue\",\"useUiKitActionManager\",\"useUiKitView\",\"module\",\"link\",\"default\",\"v\",\"UiKitBanner\",\"mrkdwn\",\"_ref\",\"text\",\"createElement\",\"variant\",\"content\",\"exportDefault\",\"_ref2\",\"initialView\",\"_useUiKitView\",\"view\",\"values\",\"state\",\"actionManager\",\"contextValue\",\"icon\",\"name\",\"size\",\"dispatchToastMessage\",\"handleClose\",\"emitInteraction\",\"appId\",\"type\",\"payload\",\"viewId\",\"id\",\"isCleared\",\"catch\",\"error\",\"message\",\"inline\",\"title\",\"closeable\",\"onClose\",\"Provider\",\"value\",\"render\",\"blocks\"],\"mappings\":\"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\"}"}