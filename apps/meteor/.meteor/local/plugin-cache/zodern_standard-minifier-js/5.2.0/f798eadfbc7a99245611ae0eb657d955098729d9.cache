{"code":"function module(e,t,n){var a,c,l,o,u,i,r,s,f,m,h,C,d,k,g,E,b,p;n.link(\"@rocket.chat/fuselage\",{Tabs:function(e){a=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useRouteParameter:function(e){c=e},usePermission:function(e){l=e},useTranslation:function(e){o=e},useRouter:function(e){u=e}},1),n.link(\"react\",{default:function(e){i=e},useEffect:function(e){r=e},useCallback:function(e){s=e}},2),n.link(\"../../../components/Contextualbar\",{ContextualbarDialog:function(e){f=e}},3),n.link(\"../../../components/Page\",{Page:function(e){m=e},PageHeader:function(e){h=e},PageContent:function(e){C=e}},4),n.link(\"../../../lib/queryClient\",{queryClient:function(e){d=e}},5),n.link(\"../../notAuthorized/NotAuthorizedPage\",{default:function(e){k=e}},6),n.link(\"./ContextualBar\",{default:function(e){g=e}},7),n.link(\"./calls/CallTab\",{default:function(e){E=e}},8),n.link(\"./chats/ChatTab\",{default:function(e){b=e}},9),n.link(\"./contacts/ContactTab\",{default:function(e){p=e}},10),n.exportDefault(function(){var e=o(),t=u(),n=c(\"page\"),P=c(\"bar\"),v=l(\"view-omnichannel-contact-center\");r(function(){return t.subscribeToRouteChange(function(){\"omnichannel-directory\"!==t.getRouteName()||t.getRouteParameters().page||t.navigate({name:\"omnichannel-directory\",params:{page:\"contacts\"}})})},[t]);var x=s(function(e){return function(){return t.navigate({name:\"omnichannel-directory\",params:{tab:e}})}},[t]);return v?i.createElement(m,{flexDirection:\"row\"},i.createElement(m,null,i.createElement(h,{title:e(\"Omnichannel_Contact_Center\")}),i.createElement(a,{flexShrink:0},i.createElement(a.Item,{selected:\"contacts\"===n,onClick:x(\"contacts\")},e(\"Contacts\")),i.createElement(a.Item,{selected:\"chats\"===n,onClick:x(\"chats\")},e(\"Chats\")),i.createElement(a.Item,{selected:\"calls\"===n,onClick:x(\"calls\")},e(\"Calls\"))),i.createElement(C,null,\"contacts\"===n&&i.createElement(p,null)||\"chats\"===n&&i.createElement(b,null)||\"calls\"===n&&i.createElement(E,null))),P&&i.createElement(f,null,i.createElement(g,{chatReload:function(){return d.invalidateQueries({queryKey:[\"current-chats\"]})}}))):i.createElement(k,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/OmnichannelDirectoryPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Tabs } from '@rocket.chat/fuselage';\\nimport { useRouteParameter, usePermission, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useEffect, useCallback } from 'react';\\n\\nimport { ContextualbarDialog } from '../../../components/Contextualbar';\\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\\nimport { queryClient } from '../../../lib/queryClient';\\nimport NotAuthorizedPage from '../../notAuthorized/NotAuthorizedPage';\\nimport ContextualBar from './ContextualBar';\\nimport CallTab from './calls/CallTab';\\nimport ChatTab from './chats/ChatTab';\\nimport ContactTab from './contacts/ContactTab';\\n\\nconst DEFAULT_TAB = 'contacts';\\n\\nconst OmnichannelDirectoryPage = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst page = useRouteParameter('page');\\n\\tconst bar = useRouteParameter('bar');\\n\\tconst canViewDirectory = usePermission('view-omnichannel-contact-center');\\n\\n\\tuseEffect(\\n\\t\\t() =>\\n\\t\\t\\trouter.subscribeToRouteChange(() => {\\n\\t\\t\\t\\tif (router.getRouteName() !== 'omnichannel-directory' || !!router.getRouteParameters().page) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\trouter.navigate({\\n\\t\\t\\t\\t\\tname: 'omnichannel-directory',\\n\\t\\t\\t\\t\\tparams: { page: DEFAULT_TAB },\\n\\t\\t\\t\\t});\\n\\t\\t\\t}),\\n\\t\\t[router],\\n\\t);\\n\\n\\tconst handleTabClick = useCallback((tab) => () => router.navigate({ name: 'omnichannel-directory', params: { tab } }), [router]);\\n\\n\\tconst chatReload = () => queryClient.invalidateQueries({ queryKey: ['current-chats'] });\\n\\n\\tif (!canViewDirectory) {\\n\\t\\treturn <NotAuthorizedPage />;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<Page flexDirection='row'>\\n\\t\\t\\t<Page>\\n\\t\\t\\t\\t<PageHeader title={t('Omnichannel_Contact_Center')} />\\n\\t\\t\\t\\t<Tabs flexShrink={0}>\\n\\t\\t\\t\\t\\t<Tabs.Item selected={page === 'contacts'} onClick={handleTabClick('contacts')}>\\n\\t\\t\\t\\t\\t\\t{t('Contacts')}\\n\\t\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t\\t\\t<Tabs.Item selected={page === 'chats'} onClick={handleTabClick('chats')}>\\n\\t\\t\\t\\t\\t\\t{t('Chats' as 'color')}\\n\\t\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t\\t\\t<Tabs.Item selected={page === 'calls'} onClick={handleTabClick('calls')}>\\n\\t\\t\\t\\t\\t\\t{t('Calls' as 'color')}\\n\\t\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t\\t</Tabs>\\n\\t\\t\\t\\t<PageContent>\\n\\t\\t\\t\\t\\t{(page === 'contacts' && <ContactTab />) || (page === 'chats' && <ChatTab />) || (page === 'calls' && <CallTab />)}\\n\\t\\t\\t\\t</PageContent>\\n\\t\\t\\t</Page>\\n\\t\\t\\t{bar && (\\n\\t\\t\\t\\t<ContextualbarDialog>\\n\\t\\t\\t\\t\\t<ContextualBar chatReload={chatReload} />\\n\\t\\t\\t\\t</ContextualbarDialog>\\n\\t\\t\\t)}\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default OmnichannelDirectoryPage;\\n\",null],\"names\":[\"Tabs\",\"useRouteParameter\",\"usePermission\",\"useTranslation\",\"useRouter\",\"React\",\"useEffect\",\"useCallback\",\"ContextualbarDialog\",\"Page\",\"PageHeader\",\"PageContent\",\"queryClient\",\"NotAuthorizedPage\",\"ContextualBar\",\"CallTab\",\"ChatTab\",\"ContactTab\",\"module\",\"link\",\"v\",\"exportDefault\",\"t\",\"router\",\"page\",\"bar\",\"canViewDirectory\",\"subscribeToRouteChange\",\"getRouteName\",\"getRouteParameters\",\"navigate\",\"name\",\"params\",\"handleTabClick\",\"tab\",\"createElement\",\"flexDirection\",\"title\",\"flexShrink\",\"Item\",\"selected\",\"onClick\",\"chatReload\",\"invalidateQueries\",\"queryKey\"],\"mappings\":\"uBAcA,IAdAA,EAA6CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAApCC,EAAMC,IAAA,CAAM,wBAAwB,CAAAnB,KAAA,SAAAoB,CAAA,EAAApB,EAAAoB,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAlB,kBAAA,SAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,EAAAlB,cAAA,SAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,EAAAjB,eAAA,SAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,EAAAhB,UAAA,SAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAf,EAAAe,CAAA,EAAAd,UAAA,SAAAc,CAAA,EAAAd,EAAAc,CAAA,EAAAb,YAAA,SAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oCAAA,CAAAX,oBAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAV,KAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,WAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,YAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAP,YAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kBAAA,CAAA,QAAA,SAAAC,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kBAAA,CAAA,QAAA,SAAAC,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kBAAA,CAAA,QAAA,SAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAA,QAAA,SAAAC,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,IAA7CF,EAAOG,aAAQ,CAgBkB,WAChC,IAAMC,EAAInB,IACJoB,EAASnB,IACToB,EAAOvB,EAAkB,QACzBwB,EAAMxB,EAAkB,OACxByB,EAAmBxB,EAAc,mCAEvCI,EACC,WAAA,OACCiB,EAAOI,sBAAsB,CAAC,WACC,0BAA1BJ,EAAOK,YAAY,IAAoCL,EAAOM,kBAAkB,GAAGL,IAAI,EAI3FD,EAAOO,QAAQ,CAAC,CACfC,KAAM,wBACNC,OAAQ,CAAER,KAlBK,UAkBY,GAE7B,EAAE,EACH,CAACD,EAAO,EAGT,IAAMU,EAAiB1B,EAAY,SAAC2B,CAAG,EAAA,OAAK,WAAA,OAAMX,EAAOO,QAAQ,CAAC,CAAEC,KAAM,wBAAyBC,OAAQ,CAAEE,IAAAA,CAAG,CAAE,EAAG,CAAA,EAAE,CAACX,EAAO,SAI/H,AAAKG,EAKJrB,EAAA8B,aAAA,CAAC1B,EAAI,CAAC2B,cAAc,KAAK,EACxB/B,EAAA8B,aAAA,CAAC1B,EAAI,KACJJ,EAAA8B,aAAA,CAACzB,EAAU,CAAC2B,MAAOf,EAAE,6BAA8B,GACnDjB,EAAA8B,aAAA,CAACnC,EAAI,CAACsC,WAAY,CAAE,EACnBjC,EAAA8B,aAAA,CAACnC,EAAKuC,IAAI,CAAA,CAACC,SAAUhB,AAAS,aAATA,EAAqBiB,QAASR,EAAe,WAAY,EAC5EX,EAAE,aAEJjB,EAAA8B,aAAA,CAACnC,EAAKuC,IAAI,CAAA,CAACC,SAAUhB,AAAS,UAATA,EAAkBiB,QAASR,EAAe,QAAS,EACtEX,EAAE,UAEJjB,EAAA8B,aAAA,CAACnC,EAAKuC,IAAI,CAAA,CAACC,SAAUhB,AAAS,UAATA,EAAkBiB,QAASR,EAAe,QAAS,EACtEX,EAAE,WAGLjB,EAAA8B,aAAA,CAACxB,EAAW,KACTa,AAAS,aAATA,GAAuBnB,EAAA8B,aAAA,CAAClB,EAAU,OAASO,AAAS,UAATA,GAAoBnB,EAAA8B,aAAA,CAACnB,EAAO,OAASQ,AAAS,UAATA,GAAoBnB,EAAA8B,aAAA,CAACpB,EAAO,QAG/GU,GACApB,EAAA8B,aAAA,CAAC3B,EAAmB,KACnBH,EAAA8B,aAAA,CAACrB,EAAa,CAAC4B,WA3BA,WAAA,OAAM9B,EAAY+B,iBAAiB,CAAC,CAAEC,SAAU,CAAC,gBAAe,AAAC,EAAG,CA2B7C,KAxBlCvC,EAAA8B,aAAA,CAACtB,EAAiB,KA6B3B\"}"}