{"code":"function module(e,n,o){o.link(\"@babel/runtime/regenerator\",{default:function(e){t=e}},0),o.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){i=e}},1),o.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){r=e}},2),o.link(\"@rocket.chat/fuselage-hooks\",{useContentBoxSize:function(e){l=e},useMutableCallback:function(e){s=e}},0),o.link(\"@rocket.chat/ui-composer\",{MessageComposerAction:function(e){u=e},MessageComposerToolbarActions:function(e){a=e},MessageComposer:function(e){c=e},MessageComposerInput:function(e){d=e},MessageComposerToolbar:function(e){m=e},MessageComposerActionsDivider:function(e){f=e},MessageComposerToolbarSubmit:function(e){p=e},MessageComposerButton:function(e){g=e}},1),o.link(\"@rocket.chat/ui-contexts\",{useTranslation:function(e){v=e},useUserPreference:function(e){k=e},useLayout:function(e){b=e},useSetting:function(e){C=e}},2),o.link(\"@tanstack/react-query\",{useMutation:function(e){E=e}},3),o.link(\"react\",{default:function(e){h=e},memo:function(e){M=e},useRef:function(e){y=e},useReducer:function(e){x=e},useCallback:function(e){A=e}},4),o.link(\"use-subscription\",{useSubscription:function(e){w=e}},5),o.link(\"../../../../../app/ui-message/client/messageBox/createComposerAPI\",{createComposerAPI:function(e){P=e}},6),o.link(\"../../../../../app/ui-message/client/messageBox/messageBoxFormatting\",{formattingButtons:function(e){R=e}},7),o.link(\"../../../../../lib/getImageExtensionFromMime\",{getImageExtensionFromMime:function(e){_=e}},8),o.link(\"../../../../hooks/useFormatDateAndTime\",{useFormatDateAndTime:function(e){B=e}},9),o.link(\"../../../../hooks/useReactiveValue\",{useReactiveValue:function(e){D=e}},10),o.link(\"../../../../lib/rooms/roomCoordinator\",{roomCoordinator:function(e){S=e}},11),o.link(\"../../../../lib/utils/keyCodes\",{keyCodes:function(e){T=e}},12),o.link(\"../../../composer/AudioMessageRecorder\",{default:function(e){I=e}},13),o.link(\"../../../composer/VideoMessageRecorder\",{default:function(e){F=e}},14),o.link(\"../../contexts/ChatContext\",{useChat:function(e){K=e}},15),o.link(\"../../contexts/ComposerPopupContext\",{useComposerPopup:function(e){V=e}},16),o.link(\"../../contexts/RoomContext\",{useRoom:function(e){U=e}},17),o.link(\"../ComposerBoxPopup\",{default:function(e){N=e}},18),o.link(\"../ComposerBoxPopupPreview\",{default:function(e){L=e}},19),o.link(\"../ComposerUserActionIndicator\",{default:function(e){j=e}},20),o.link(\"../RoomComposer/hooks/useAutoGrow\",{useAutoGrow:function(e){O=e}},21),o.link(\"../hooks/useComposerBoxPopup\",{useComposerBoxPopup:function(e){z=e}},22),o.link(\"../hooks/useEnablePopupPreview\",{useEnablePopupPreview:function(e){G=e}},23),o.link(\"../hooks/useMessageComposerMergedRefs\",{useMessageComposerMergedRefs:function(e){q=e}},24),o.link(\"./MessageBoxActionsToolbar\",{default:function(e){J=e}},25),o.link(\"./MessageBoxFormattingToolbar\",{default:function(e){H=e}},26),o.link(\"./MessageBoxHint\",{default:function(e){W=e}},27),o.link(\"./MessageBoxReplies\",{default:function(e){Q=e}},28),o.link(\"./hooks/useMessageBoxAutoFocus\",{useMessageBoxAutoFocus:function(e){X=e}},29),o.link(\"./hooks/useMessageBoxPlaceholder\",{useMessageBoxPlaceholder:function(e){Y=e}},30);var t,i,r,l,s,u,a,c,d,m,f,p,g,v,k,b,C,E,h,M,y,x,A,w,P,R,_,B,D,S,T,I,F,K,V,U,N,L,j,O,z,G,q,J,H,W,Q,X,Y,Z=function(e,n){return!!n.target.value.trim()},$=function(e,n,o){var t=-1!==navigator.platform.indexOf(\"Mac\");if(!(t&&e.metaKey||!t&&e.ctrlKey))return!1;var i=e.key.toLowerCase(),r=n.find(function(e){return\"command\"in e&&e.command===i});return!!r&&\"pattern\"in r&&(o.wrapSelection(r.pattern),!0)},ee=function(){return function(){}},en=function(){return!1},eo=[],et=function(){return eo};o.exportDefault(M(function(e){var n,o,M,eo,ei,er,el,es,eu,ea,ec,ed,em,ef,ep,eg,ev,ek,eb,eC,eE,eh=e.tmid,eM=e.onSend,ey=e.onJoin,ex=e.onNavigateToNextMessage,eA=e.onNavigateToPreviousMessage,ew=e.onUploadFiles,eP=e.onEscape,eR=e.onTyping,e_=e.tshow,eB=e.previewUrls,eD=K(),eS=U(),eT=v(),eI=C(\"E2E_Enable\"),eF=C(\"E2E_Allow_Unencrypted_Messages\"),eK=!eI||!eS.encrypted||eF,eV=Y(eT(\"Message\"),eS),eU=x(Z,!1),eN=r(eU,2),eL=eN[0],ej=eN[1],eO=b().isMobile,ez=k(\"sendOnEnter\")||eO,eG=null==ez||\"normal\"===ez||\"desktop\"===ez&&!eO;if(!eD)throw Error(\"Chat context not found\");var eq=y(null),eJ=y(null),eH=y(null),eW=\"messagebox_\"+eS._id+(eh?\"-\"+eh:\"\"),eQ=A(function(e){null===e||eD.composer||eD.setComposerAPI(P(e,eW))},[eD,eW]),eX=X(!eO),eY=k(\"useEmojis\"),eZ=s(function(e){if(e.stopPropagation(),e.preventDefault(),eY){var n=eJ.current;eD.emojiPicker.open(n,function(e){var n;return null===(n=eD.composer)||void 0===n?void 0:n.insertText(\" :\"+e+\": \")})}}),e$=s(function(){var e,n,o,t=null!==(e=null===(n=eD.composer)||void 0===n?void 0:n.text)&&void 0!==e?e:\"\";null===(o=eD.composer)||void 0===o||o.clear(),nk(),null==eM||eM({value:t,tshow:e_,previewUrls:eB,isSlashCommandAllowed:eK})}),e0=function(e){eD.currentEditing&&(e.preventDefault(),e.stopPropagation(),eD.currentEditing.reset().then(function(e){if(!e){var n;null===(n=eD.currentEditing)||void 0===n||n.cancel()}}))},e1=s(function(e){var n=e.which,o=e.target;if(n===T.CARRIAGE_RETURN||n===T.NEW_LINE){var t,r=e.shiftKey||e.ctrlKey||e.altKey||e.metaKey;return(e.preventDefault(),eG&&!r||!eG&&r)?e$():null===(t=eD.composer)||void 0===t||t.insertNewLine(),!1}if(!(eD.composer&&$(e,i(R),eD.composer))&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey){switch(e.key){case\"Escape\":e0(e),o.value.trim()||null==eP||eP();return;case\"ArrowUp\":0===o.selectionEnd&&(e.preventDefault(),e.stopPropagation(),null==eA||eA(),e.altKey&&o.setSelectionRange(0,0));return;case\"ArrowDown\":o.selectionEnd===o.value.length&&(e.preventDefault(),e.stopPropagation(),null==ex||ex(),e.altKey&&o.setSelectionRange(o.value.length,o.value.length))}null==eR||eR()}}),e2=w({getCurrentValue:null!==(n=null===(o=eD.composer)||void 0===o?void 0:o.editing.get)&&void 0!==n?n:en,subscribe:null!==(M=null===(eo=eD.composer)||void 0===eo?void 0:eo.editing.subscribe)&&void 0!==M?M:ee}),e4=w({getCurrentValue:null!==(ei=null===(er=eD.composer)||void 0===er?void 0:er.recording.get)&&void 0!==ei?ei:en,subscribe:null!==(el=null===(es=eD.composer)||void 0===es?void 0:es.recording.subscribe)&&void 0!==el?el:ee}),e8=w({getCurrentValue:null!==(eu=null===(ea=eD.composer)||void 0===ea?void 0:ea.isMicrophoneDenied.get)&&void 0!==eu?eu:en,subscribe:null!==(ec=null===(ed=eD.composer)||void 0===ed?void 0:ed.isMicrophoneDenied.subscribe)&&void 0!==ec?ec:ee}),e3=w({getCurrentValue:null!==(em=null===(ef=eD.composer)||void 0===ef?void 0:ef.recordingVideo.get)&&void 0!==em?em:en,subscribe:null!==(ep=null===(eg=eD.composer)||void 0===eg?void 0:eg.recordingVideo.subscribe)&&void 0!==ep?ep:ee}),e5=w({getCurrentValue:null!==(ev=null===(ek=eD.composer)||void 0===ek?void 0:ek.formatters.get)&&void 0!==ev?ev:et,subscribe:null!==(eb=null===(eC=eD.composer)||void 0===eC?void 0:eC.formatters.subscribe)&&void 0!==eb?eb:ee}),e6=e4||e3,e7=O(eq,eH,e4),e9=e7.textAreaStyle,ne=e7.shadowStyle,nn=D(A(function(){return S.verifyCanSendMessage(eS._id)},[eS._id])),no=l(eq),nt=B(),ni=E(function(){return t.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",null==ey?void 0:ey());case 1:case\"end\":return e.stop()}},null,null,null,Promise)}),nr=s(function(e){var n=e.clipboardData;if(n){var o=Array.from(n.items);if(!o.some(function(e){var n=e.kind,o=e.type;return\"string\"===n&&\"text/plain\"===o})){var t=o.filter(function(e){return\"file\"===e.kind&&-1!==e.type.indexOf(\"image/\")}).map(function(e){var n=e.getAsFile();if(n){var o=n?_(n.type):void 0;return Object.defineProperty(n,\"name\",{writable:!0,value:\"Clipboard - \"+nt(new Date)+(o?\".\"+o:\"\")}),n}}).filter(function(e){return!!e});t.length&&(e.preventDefault(),null==ew||ew(t))}}}),nl=V(),ns=z({configurations:nl}),nu=ns.popup,na=ns.focused,nc=ns.items,nd=ns.ariaActiveDescendant,nm=ns.suspended,nf=ns.select,np=ns.commandsRef,ng=ns.callbackRef,nv=ns.filter,nk=ns.clearPopup,nb=A(function(e){null!==e&&e.addEventListener(\"keydown\",function(e){e1(e)})},[e1]),nC=q(ng,eq,eQ,eX,nb),nE=G(nv,nu);return h.createElement(h.Fragment,null,(null===(eE=eD.composer)||void 0===eE?void 0:eE.quotedMessages)&&h.createElement(Q,null),nE&&nu&&h.createElement(N,{select:nf,items:nc,focused:na,title:nu.title,renderItem:nu.renderItem}),(null==nu?void 0:nu.preview)&&h.createElement(L,{select:nf,items:nc,focused:na,renderItem:nu.renderItem,ref:np,rid:eS._id,tmid:eh,suspended:nm}),h.createElement(W,{isEditing:e2,e2eEnabled:eI,unencryptedMessagesAllowed:eF,isMobile:eO}),e3&&h.createElement(F,{reference:eJ,rid:eS._id,tmid:eh}),h.createElement(c,{ref:eJ,variant:e2?\"editing\":void 0},e4&&h.createElement(I,{rid:eS._id,isMicrophoneDenied:e8}),h.createElement(d,{ref:nC,\"aria-label\":eV,name:\"msg\",disabled:e6||!nn,onChange:ej,style:e9,placeholder:eV,onPaste:nr,\"aria-activedescendant\":nd}),h.createElement(\"div\",{ref:eH,style:ne}),h.createElement(m,null,h.createElement(a,{\"aria-label\":eT(\"Message_composer_toolbox_primary_actions\")},h.createElement(u,{icon:\"emoji\",disabled:!eY||e6||!nn,onClick:eZ,title:eT(\"Emoji\")}),h.createElement(f,null),eD.composer&&e5.length>0&&h.createElement(H,{composer:eD.composer,variant:no.inlineSize<480?\"small\":\"large\",items:e5,disabled:e6||!nn}),h.createElement(J,{canSend:nn,typing:eL,isMicrophoneDenied:e8,rid:eS._id,tmid:eh,isRecording:e6,variant:no.inlineSize<480?\"small\":\"large\"})),h.createElement(p,null,!nn&&h.createElement(g,{primary:!0,onClick:ey,loading:ni.isLoading},eT(\"Join\")),nn&&h.createElement(h.Fragment,null,e2&&h.createElement(g,{onClick:e0},eT(\"Cancel\")),h.createElement(u,{\"aria-label\":eT(\"Send\"),icon:\"send\",disabled:!nn||!eL&&!e2,onClick:e$,secondary:eL||e2,info:eL||e2}))))),h.createElement(j,{rid:eS._id,tmid:eh}))}))}","map":"{\"version\":3,\"sources\":[\"client/views/room/composer/messageBox/MessageBox.tsx\",\"<anon>\"],\"sourcesContent\":[\"/* eslint-disable complexity */\\nimport type { IMessage, ISubscription } from '@rocket.chat/core-typings';\\nimport { useContentBoxSize, useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport {\\n\\tMessageComposerAction,\\n\\tMessageComposerToolbarActions,\\n\\tMessageComposer,\\n\\tMessageComposerInput,\\n\\tMessageComposerToolbar,\\n\\tMessageComposerActionsDivider,\\n\\tMessageComposerToolbarSubmit,\\n\\tMessageComposerButton,\\n} from '@rocket.chat/ui-composer';\\nimport { useTranslation, useUserPreference, useLayout, useSetting } from '@rocket.chat/ui-contexts';\\nimport { useMutation } from '@tanstack/react-query';\\nimport type { ReactElement, MouseEventHandler, FormEvent, ClipboardEventHandler, MouseEvent } from 'react';\\nimport React, { memo, useRef, useReducer, useCallback } from 'react';\\nimport { useSubscription } from 'use-subscription';\\n\\nimport { createComposerAPI } from '../../../../../app/ui-message/client/messageBox/createComposerAPI';\\nimport type { FormattingButton } from '../../../../../app/ui-message/client/messageBox/messageBoxFormatting';\\nimport { formattingButtons } from '../../../../../app/ui-message/client/messageBox/messageBoxFormatting';\\nimport { getImageExtensionFromMime } from '../../../../../lib/getImageExtensionFromMime';\\nimport { useFormatDateAndTime } from '../../../../hooks/useFormatDateAndTime';\\nimport { useReactiveValue } from '../../../../hooks/useReactiveValue';\\nimport type { ComposerAPI } from '../../../../lib/chats/ChatAPI';\\nimport { roomCoordinator } from '../../../../lib/rooms/roomCoordinator';\\nimport { keyCodes } from '../../../../lib/utils/keyCodes';\\nimport AudioMessageRecorder from '../../../composer/AudioMessageRecorder';\\nimport VideoMessageRecorder from '../../../composer/VideoMessageRecorder';\\nimport { useChat } from '../../contexts/ChatContext';\\nimport { useComposerPopup } from '../../contexts/ComposerPopupContext';\\nimport { useRoom } from '../../contexts/RoomContext';\\nimport ComposerBoxPopup from '../ComposerBoxPopup';\\nimport ComposerBoxPopupPreview from '../ComposerBoxPopupPreview';\\nimport ComposerUserActionIndicator from '../ComposerUserActionIndicator';\\nimport { useAutoGrow } from '../RoomComposer/hooks/useAutoGrow';\\nimport { useComposerBoxPopup } from '../hooks/useComposerBoxPopup';\\nimport { useEnablePopupPreview } from '../hooks/useEnablePopupPreview';\\nimport { useMessageComposerMergedRefs } from '../hooks/useMessageComposerMergedRefs';\\nimport MessageBoxActionsToolbar from './MessageBoxActionsToolbar';\\nimport MessageBoxFormattingToolbar from './MessageBoxFormattingToolbar';\\nimport MessageBoxHint from './MessageBoxHint';\\nimport MessageBoxReplies from './MessageBoxReplies';\\nimport { useMessageBoxAutoFocus } from './hooks/useMessageBoxAutoFocus';\\nimport { useMessageBoxPlaceholder } from './hooks/useMessageBoxPlaceholder';\\n\\nconst reducer = (_: unknown, event: FormEvent<HTMLInputElement>): boolean => {\\n\\tconst target = event.target as HTMLInputElement;\\n\\n\\treturn Boolean(target.value.trim());\\n};\\n\\nconst handleFormattingShortcut = (event: KeyboardEvent, formattingButtons: FormattingButton[], composer: ComposerAPI) => {\\n\\tconst isMacOS = navigator.platform.indexOf('Mac') !== -1;\\n\\tconst isCmdOrCtrlPressed = (isMacOS && event.metaKey) || (!isMacOS && event.ctrlKey);\\n\\n\\tif (!isCmdOrCtrlPressed) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tconst key = event.key.toLowerCase();\\n\\n\\tconst formatter = formattingButtons.find((formatter) => 'command' in formatter && formatter.command === key);\\n\\n\\tif (!formatter || !('pattern' in formatter)) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tcomposer.wrapSelection(formatter.pattern);\\n\\treturn true;\\n};\\n\\nconst emptySubscribe = () => () => undefined;\\nconst getEmptyFalse = () => false;\\nconst a: any[] = [];\\nconst getEmptyArray = () => a;\\n\\ntype MessageBoxProps = {\\n\\ttmid?: IMessage['_id'];\\n\\tonSend?: (params: { value: string; tshow?: boolean; previewUrls?: string[]; isSlashCommandAllowed?: boolean }) => Promise<void>;\\n\\tonJoin?: () => Promise<void>;\\n\\tonResize?: () => void;\\n\\tonTyping?: () => void;\\n\\tonEscape?: () => void;\\n\\tonNavigateToPreviousMessage?: () => void;\\n\\tonNavigateToNextMessage?: () => void;\\n\\tonUploadFiles?: (files: readonly File[]) => void;\\n\\ttshow?: IMessage['tshow'];\\n\\tpreviewUrls?: string[];\\n\\tsubscription?: ISubscription;\\n\\tshowFormattingTips: boolean;\\n\\tisEmbedded?: boolean;\\n};\\n\\nconst MessageBox = ({\\n\\ttmid,\\n\\tonSend,\\n\\tonJoin,\\n\\tonNavigateToNextMessage,\\n\\tonNavigateToPreviousMessage,\\n\\tonUploadFiles,\\n\\tonEscape,\\n\\tonTyping,\\n\\ttshow,\\n\\tpreviewUrls,\\n}: MessageBoxProps): ReactElement => {\\n\\tconst chat = useChat();\\n\\tconst room = useRoom();\\n\\tconst t = useTranslation();\\n\\tconst e2eEnabled = useSetting<boolean>('E2E_Enable');\\n\\tconst unencryptedMessagesAllowed = useSetting<boolean>('E2E_Allow_Unencrypted_Messages');\\n\\tconst isSlashCommandAllowed = !e2eEnabled || !room.encrypted || unencryptedMessagesAllowed;\\n\\tconst composerPlaceholder = useMessageBoxPlaceholder(t('Message'), room);\\n\\n\\tconst [typing, setTyping] = useReducer(reducer, false);\\n\\n\\tconst { isMobile } = useLayout();\\n\\tconst sendOnEnterBehavior = useUserPreference<'normal' | 'alternative' | 'desktop'>('sendOnEnter') || isMobile;\\n\\tconst sendOnEnter = sendOnEnterBehavior == null || sendOnEnterBehavior === 'normal' || (sendOnEnterBehavior === 'desktop' && !isMobile);\\n\\n\\tif (!chat) {\\n\\t\\tthrow new Error('Chat context not found');\\n\\t}\\n\\n\\tconst textareaRef = useRef<HTMLTextAreaElement>(null);\\n\\tconst messageComposerRef = useRef<HTMLElement>(null);\\n\\tconst shadowRef = useRef<HTMLDivElement>(null);\\n\\n\\tconst storageID = `messagebox_${room._id}${tmid ? `-${tmid}` : ''}`;\\n\\n\\tconst callbackRef = useCallback(\\n\\t\\t(node: HTMLTextAreaElement) => {\\n\\t\\t\\tif (node === null || chat.composer) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tchat.setComposerAPI(createComposerAPI(node, storageID));\\n\\t\\t},\\n\\t\\t[chat, storageID],\\n\\t);\\n\\n\\tconst autofocusRef = useMessageBoxAutoFocus(!isMobile);\\n\\n\\tconst useEmojis = useUserPreference<boolean>('useEmojis');\\n\\n\\tconst handleOpenEmojiPicker: MouseEventHandler<HTMLElement> = useMutableCallback((e) => {\\n\\t\\te.stopPropagation();\\n\\t\\te.preventDefault();\\n\\n\\t\\tif (!useEmojis) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst ref = messageComposerRef.current as HTMLElement;\\n\\t\\tchat.emojiPicker.open(ref, (emoji: string) => chat.composer?.insertText(` :${emoji}: `));\\n\\t});\\n\\n\\tconst handleSendMessage = useMutableCallback(() => {\\n\\t\\tconst text = chat.composer?.text ?? '';\\n\\t\\tchat.composer?.clear();\\n\\t\\tclearPopup();\\n\\n\\t\\tonSend?.({\\n\\t\\t\\tvalue: text,\\n\\t\\t\\ttshow,\\n\\t\\t\\tpreviewUrls,\\n\\t\\t\\tisSlashCommandAllowed,\\n\\t\\t});\\n\\t});\\n\\n\\tconst closeEditing = (event: KeyboardEvent | MouseEvent<HTMLElement>) => {\\n\\t\\tif (chat.currentEditing) {\\n\\t\\t\\tevent.preventDefault();\\n\\t\\t\\tevent.stopPropagation();\\n\\n\\t\\t\\tchat.currentEditing.reset().then((reset) => {\\n\\t\\t\\t\\tif (!reset) {\\n\\t\\t\\t\\t\\tchat.currentEditing?.cancel();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\t};\\n\\n\\tconst handler = useMutableCallback((event: KeyboardEvent) => {\\n\\t\\tconst { which: keyCode } = event;\\n\\n\\t\\tconst input = event.target as HTMLTextAreaElement;\\n\\n\\t\\tconst isSubmitKey = keyCode === keyCodes.CARRIAGE_RETURN || keyCode === keyCodes.NEW_LINE;\\n\\n\\t\\tif (isSubmitKey) {\\n\\t\\t\\tconst withModifier = event.shiftKey || event.ctrlKey || event.altKey || event.metaKey;\\n\\t\\t\\tconst isSending = (sendOnEnter && !withModifier) || (!sendOnEnter && withModifier);\\n\\n\\t\\t\\tevent.preventDefault();\\n\\t\\t\\tif (!isSending) {\\n\\t\\t\\t\\tchat.composer?.insertNewLine();\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\t\\t\\thandleSendMessage();\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\tif (chat.composer && handleFormattingShortcut(event, [...formattingButtons], chat.composer)) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tif (event.shiftKey || event.ctrlKey || event.metaKey) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tswitch (event.key) {\\n\\t\\t\\tcase 'Escape': {\\n\\t\\t\\t\\tcloseEditing(event);\\n\\t\\t\\t\\tif (!input.value.trim()) onEscape?.();\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tcase 'ArrowUp': {\\n\\t\\t\\t\\tif (input.selectionEnd === 0) {\\n\\t\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\t\\tevent.stopPropagation();\\n\\n\\t\\t\\t\\t\\tonNavigateToPreviousMessage?.();\\n\\n\\t\\t\\t\\t\\tif (event.altKey) {\\n\\t\\t\\t\\t\\t\\tinput.setSelectionRange(0, 0);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tcase 'ArrowDown': {\\n\\t\\t\\t\\tif (input.selectionEnd === input.value.length) {\\n\\t\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\t\\tevent.stopPropagation();\\n\\n\\t\\t\\t\\t\\tonNavigateToNextMessage?.();\\n\\n\\t\\t\\t\\t\\tif (event.altKey) {\\n\\t\\t\\t\\t\\t\\tinput.setSelectionRange(input.value.length, input.value.length);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tonTyping?.();\\n\\t});\\n\\n\\tconst isEditing = useSubscription({\\n\\t\\tgetCurrentValue: chat.composer?.editing.get ?? getEmptyFalse,\\n\\t\\tsubscribe: chat.composer?.editing.subscribe ?? emptySubscribe,\\n\\t});\\n\\n\\tconst isRecordingAudio = useSubscription({\\n\\t\\tgetCurrentValue: chat.composer?.recording.get ?? getEmptyFalse,\\n\\t\\tsubscribe: chat.composer?.recording.subscribe ?? emptySubscribe,\\n\\t});\\n\\n\\tconst isMicrophoneDenied = useSubscription({\\n\\t\\tgetCurrentValue: chat.composer?.isMicrophoneDenied.get ?? getEmptyFalse,\\n\\t\\tsubscribe: chat.composer?.isMicrophoneDenied.subscribe ?? emptySubscribe,\\n\\t});\\n\\n\\tconst isRecordingVideo = useSubscription({\\n\\t\\tgetCurrentValue: chat.composer?.recordingVideo.get ?? getEmptyFalse,\\n\\t\\tsubscribe: chat.composer?.recordingVideo.subscribe ?? emptySubscribe,\\n\\t});\\n\\n\\tconst formatters = useSubscription({\\n\\t\\tgetCurrentValue: chat.composer?.formatters.get ?? getEmptyArray,\\n\\t\\tsubscribe: chat.composer?.formatters.subscribe ?? emptySubscribe,\\n\\t});\\n\\n\\tconst isRecording = isRecordingAudio || isRecordingVideo;\\n\\n\\tconst { textAreaStyle, shadowStyle } = useAutoGrow(textareaRef, shadowRef, isRecordingAudio);\\n\\n\\tconst canSend = useReactiveValue(useCallback(() => roomCoordinator.verifyCanSendMessage(room._id), [room._id]));\\n\\n\\tconst sizes = useContentBoxSize(textareaRef);\\n\\n\\tconst format = useFormatDateAndTime();\\n\\n\\tconst joinMutation = useMutation(async () => onJoin?.());\\n\\n\\tconst handlePaste: ClipboardEventHandler<HTMLTextAreaElement> = useMutableCallback((event) => {\\n\\t\\tconst { clipboardData } = event;\\n\\n\\t\\tif (!clipboardData) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst items = Array.from(clipboardData.items);\\n\\n\\t\\tif (items.some(({ kind, type }) => kind === 'string' && type === 'text/plain')) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst files = items\\n\\t\\t\\t.filter((item) => item.kind === 'file' && item.type.indexOf('image/') !== -1)\\n\\t\\t\\t.map((item) => {\\n\\t\\t\\t\\tconst fileItem = item.getAsFile();\\n\\n\\t\\t\\t\\tif (!fileItem) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tconst imageExtension = fileItem ? getImageExtensionFromMime(fileItem.type) : undefined;\\n\\n\\t\\t\\t\\tconst extension = imageExtension ? `.${imageExtension}` : '';\\n\\n\\t\\t\\t\\tObject.defineProperty(fileItem, 'name', {\\n\\t\\t\\t\\t\\twritable: true,\\n\\t\\t\\t\\t\\tvalue: `Clipboard - ${format(new Date())}${extension}`,\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\treturn fileItem;\\n\\t\\t\\t})\\n\\t\\t\\t.filter((file): file is File => !!file);\\n\\n\\t\\tif (files.length) {\\n\\t\\t\\tevent.preventDefault();\\n\\t\\t\\tonUploadFiles?.(files);\\n\\t\\t}\\n\\t});\\n\\n\\tconst composerPopupConfig = useComposerPopup();\\n\\n\\tconst {\\n\\t\\tpopup,\\n\\t\\tfocused,\\n\\t\\titems,\\n\\t\\tariaActiveDescendant,\\n\\t\\tsuspended,\\n\\t\\tselect,\\n\\t\\tcommandsRef,\\n\\t\\tcallbackRef: c,\\n\\t\\tfilter,\\n\\t\\tclearPopup,\\n\\t} = useComposerBoxPopup<{ _id: string; sort?: number }>({\\n\\t\\tconfigurations: composerPopupConfig,\\n\\t});\\n\\n\\tconst keyDownHandlerCallbackRef = useCallback(\\n\\t\\t(node: HTMLTextAreaElement) => {\\n\\t\\t\\tif (node === null) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tnode.addEventListener('keydown', (e: KeyboardEvent) => {\\n\\t\\t\\t\\thandler(e);\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\t[handler],\\n\\t);\\n\\n\\tconst mergedRefs = useMessageComposerMergedRefs(c, textareaRef, callbackRef, autofocusRef, keyDownHandlerCallbackRef);\\n\\n\\tconst shouldPopupPreview = useEnablePopupPreview(filter, popup);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{chat.composer?.quotedMessages && <MessageBoxReplies />}\\n\\t\\t\\t{shouldPopupPreview && popup && (\\n\\t\\t\\t\\t<ComposerBoxPopup select={select} items={items} focused={focused} title={popup.title} renderItem={popup.renderItem} />\\n\\t\\t\\t)}\\n\\t\\t\\t{/*\\n\\t\\t\\t\\tSlashCommand Preview popup works in a weird way\\n\\t\\t\\t\\tThere is only one trigger for all the commands: \\\"/\\\"\\n\\t\\t\\t\\tAfter that we need to the slashcommand list and check if the command exists and provide the preview\\n\\t\\t\\t\\tif not the query is `suspend` which means the slashcommand is not found or doesn't have a preview\\n\\t\\t\\t*/}\\n\\t\\t\\t{popup?.preview && (\\n\\t\\t\\t\\t<ComposerBoxPopupPreview\\n\\t\\t\\t\\t\\tselect={select}\\n\\t\\t\\t\\t\\titems={items as any}\\n\\t\\t\\t\\t\\tfocused={focused as any}\\n\\t\\t\\t\\t\\trenderItem={popup.renderItem}\\n\\t\\t\\t\\t\\tref={commandsRef}\\n\\t\\t\\t\\t\\trid={room._id}\\n\\t\\t\\t\\t\\ttmid={tmid}\\n\\t\\t\\t\\t\\tsuspended={suspended}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\t\\t\\t<MessageBoxHint\\n\\t\\t\\t\\tisEditing={isEditing}\\n\\t\\t\\t\\te2eEnabled={e2eEnabled}\\n\\t\\t\\t\\tunencryptedMessagesAllowed={unencryptedMessagesAllowed}\\n\\t\\t\\t\\tisMobile={isMobile}\\n\\t\\t\\t/>\\n\\t\\t\\t{isRecordingVideo && <VideoMessageRecorder reference={messageComposerRef} rid={room._id} tmid={tmid} />}\\n\\t\\t\\t<MessageComposer ref={messageComposerRef} variant={isEditing ? 'editing' : undefined}>\\n\\t\\t\\t\\t{isRecordingAudio && <AudioMessageRecorder rid={room._id} isMicrophoneDenied={isMicrophoneDenied} />}\\n\\t\\t\\t\\t<MessageComposerInput\\n\\t\\t\\t\\t\\tref={mergedRefs}\\n\\t\\t\\t\\t\\taria-label={composerPlaceholder}\\n\\t\\t\\t\\t\\tname='msg'\\n\\t\\t\\t\\t\\tdisabled={isRecording || !canSend}\\n\\t\\t\\t\\t\\tonChange={setTyping}\\n\\t\\t\\t\\t\\tstyle={textAreaStyle}\\n\\t\\t\\t\\t\\tplaceholder={composerPlaceholder}\\n\\t\\t\\t\\t\\tonPaste={handlePaste}\\n\\t\\t\\t\\t\\taria-activedescendant={ariaActiveDescendant}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t\\t<div ref={shadowRef} style={shadowStyle} />\\n\\t\\t\\t\\t<MessageComposerToolbar>\\n\\t\\t\\t\\t\\t<MessageComposerToolbarActions aria-label={t('Message_composer_toolbox_primary_actions')}>\\n\\t\\t\\t\\t\\t\\t<MessageComposerAction\\n\\t\\t\\t\\t\\t\\t\\ticon='emoji'\\n\\t\\t\\t\\t\\t\\t\\tdisabled={!useEmojis || isRecording || !canSend}\\n\\t\\t\\t\\t\\t\\t\\tonClick={handleOpenEmojiPicker}\\n\\t\\t\\t\\t\\t\\t\\ttitle={t('Emoji')}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t<MessageComposerActionsDivider />\\n\\t\\t\\t\\t\\t\\t{chat.composer && formatters.length > 0 && (\\n\\t\\t\\t\\t\\t\\t\\t<MessageBoxFormattingToolbar\\n\\t\\t\\t\\t\\t\\t\\t\\tcomposer={chat.composer}\\n\\t\\t\\t\\t\\t\\t\\t\\tvariant={sizes.inlineSize < 480 ? 'small' : 'large'}\\n\\t\\t\\t\\t\\t\\t\\t\\titems={formatters}\\n\\t\\t\\t\\t\\t\\t\\t\\tdisabled={isRecording || !canSend}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t<MessageBoxActionsToolbar\\n\\t\\t\\t\\t\\t\\t\\tcanSend={canSend}\\n\\t\\t\\t\\t\\t\\t\\ttyping={typing}\\n\\t\\t\\t\\t\\t\\t\\tisMicrophoneDenied={isMicrophoneDenied}\\n\\t\\t\\t\\t\\t\\t\\trid={room._id}\\n\\t\\t\\t\\t\\t\\t\\ttmid={tmid}\\n\\t\\t\\t\\t\\t\\t\\tisRecording={isRecording}\\n\\t\\t\\t\\t\\t\\t\\tvariant={sizes.inlineSize < 480 ? 'small' : 'large'}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t</MessageComposerToolbarActions>\\n\\t\\t\\t\\t\\t<MessageComposerToolbarSubmit>\\n\\t\\t\\t\\t\\t\\t{!canSend && (\\n\\t\\t\\t\\t\\t\\t\\t<MessageComposerButton primary onClick={onJoin} loading={joinMutation.isLoading}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Join')}\\n\\t\\t\\t\\t\\t\\t\\t</MessageComposerButton>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t{canSend && (\\n\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t{isEditing && <MessageComposerButton onClick={closeEditing}>{t('Cancel')}</MessageComposerButton>}\\n\\t\\t\\t\\t\\t\\t\\t\\t<MessageComposerAction\\n\\t\\t\\t\\t\\t\\t\\t\\t\\taria-label={t('Send')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ticon='send'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdisabled={!canSend || (!typing && !isEditing)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClick={handleSendMessage}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tsecondary={typing || isEditing}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tinfo={typing || isEditing}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</MessageComposerToolbarSubmit>\\n\\t\\t\\t\\t</MessageComposerToolbar>\\n\\t\\t\\t</MessageComposer>\\n\\t\\t\\t<ComposerUserActionIndicator rid={room._id} tmid={tmid} />\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default memo(MessageBox);\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_toConsumableArray\",\"_slicedToArray\",\"useContentBoxSize\",\"useMutableCallback\",\"MessageComposerAction\",\"MessageComposerToolbarActions\",\"MessageComposer\",\"MessageComposerInput\",\"MessageComposerToolbar\",\"MessageComposerActionsDivider\",\"MessageComposerToolbarSubmit\",\"MessageComposerButton\",\"useTranslation\",\"useUserPreference\",\"useLayout\",\"useSetting\",\"useMutation\",\"React\",\"memo\",\"useRef\",\"useReducer\",\"useCallback\",\"useSubscription\",\"createComposerAPI\",\"formattingButtons\",\"getImageExtensionFromMime\",\"useFormatDateAndTime\",\"useReactiveValue\",\"roomCoordinator\",\"keyCodes\",\"AudioMessageRecorder\",\"VideoMessageRecorder\",\"useChat\",\"useComposerPopup\",\"useRoom\",\"ComposerBoxPopup\",\"ComposerBoxPopupPreview\",\"ComposerUserActionIndicator\",\"useAutoGrow\",\"useComposerBoxPopup\",\"useEnablePopupPreview\",\"useMessageComposerMergedRefs\",\"MessageBoxActionsToolbar\",\"MessageBoxFormattingToolbar\",\"MessageBoxHint\",\"MessageBoxReplies\",\"useMessageBoxAutoFocus\",\"useMessageBoxPlaceholder\",\"reducer\",\"_\",\"event\",\"Boolean\",\"target\",\"value\",\"trim\",\"handleFormattingShortcut\",\"composer\",\"isMacOS\",\"navigator\",\"platform\",\"indexOf\",\"metaKey\",\"ctrlKey\",\"key\",\"toLowerCase\",\"formatter\",\"find\",\"command\",\"wrapSelection\",\"pattern\",\"emptySubscribe\",\"getEmptyFalse\",\"a\",\"getEmptyArray\",\"exportDefault\",\"_ref\",\"_chat$composer$editin\",\"_chat$composer5\",\"_chat$composer$editin2\",\"_chat$composer6\",\"_chat$composer$record\",\"_chat$composer7\",\"_chat$composer$record2\",\"_chat$composer8\",\"_chat$composer$isMicr\",\"_chat$composer9\",\"_chat$composer$isMicr2\",\"_chat$composer10\",\"_chat$composer$record3\",\"_chat$composer11\",\"_chat$composer$record4\",\"_chat$composer12\",\"_chat$composer$format\",\"_chat$composer13\",\"_chat$composer$format2\",\"_chat$composer14\",\"_chat$composer15\",\"tmid\",\"onSend\",\"onJoin\",\"onNavigateToNextMessage\",\"onNavigateToPreviousMessage\",\"onUploadFiles\",\"onEscape\",\"onTyping\",\"tshow\",\"previewUrls\",\"chat\",\"room\",\"t\",\"e2eEnabled\",\"unencryptedMessagesAllowed\",\"isSlashCommandAllowed\",\"encrypted\",\"composerPlaceholder\",\"_useReducer\",\"_useReducer2\",\"typing\",\"setTyping\",\"isMobile\",\"_useLayout\",\"sendOnEnterBehavior\",\"sendOnEnter\",\"Error\",\"textareaRef\",\"messageComposerRef\",\"shadowRef\",\"storageID\",\"_id\",\"callbackRef\",\"node\",\"setComposerAPI\",\"autofocusRef\",\"useEmojis\",\"handleOpenEmojiPicker\",\"e\",\"stopPropagation\",\"preventDefault\",\"ref\",\"current\",\"emojiPicker\",\"open\",\"emoji\",\"_chat$composer\",\"insertText\",\"handleSendMessage\",\"_chat$composer$text\",\"_chat$composer2\",\"_chat$composer3\",\"text\",\"clear\",\"clearPopup\",\"closeEditing\",\"currentEditing\",\"reset\",\"then\",\"_chat$currentEditing\",\"cancel\",\"handler\",\"keyCode\",\"which\",\"input\",\"CARRIAGE_RETURN\",\"NEW_LINE\",\"_chat$composer4\",\"withModifier\",\"shiftKey\",\"altKey\",\"insertNewLine\",\"selectionEnd\",\"setSelectionRange\",\"length\",\"isEditing\",\"getCurrentValue\",\"editing\",\"get\",\"subscribe\",\"isRecordingAudio\",\"recording\",\"isMicrophoneDenied\",\"isRecordingVideo\",\"recordingVideo\",\"formatters\",\"isRecording\",\"_useAutoGrow\",\"textAreaStyle\",\"shadowStyle\",\"canSend\",\"verifyCanSendMessage\",\"sizes\",\"format\",\"joinMutation\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"stop\",\"Promise\",\"handlePaste\",\"clipboardData\",\"items\",\"Array\",\"from\",\"some\",\"_ref2\",\"kind\",\"type\",\"files\",\"filter\",\"item\",\"map\",\"fileItem\",\"getAsFile\",\"imageExtension\",\"undefined\",\"Object\",\"defineProperty\",\"writable\",\"Date\",\"file\",\"composerPopupConfig\",\"_useComposerBoxPopup\",\"configurations\",\"popup\",\"focused\",\"ariaActiveDescendant\",\"suspended\",\"select\",\"commandsRef\",\"c\",\"keyDownHandlerCallbackRef\",\"addEventListener\",\"mergedRefs\",\"shouldPopupPreview\",\"createElement\",\"Fragment\",\"quotedMessages\",\"title\",\"renderItem\",\"preview\",\"rid\",\"reference\",\"variant\",\"name\",\"disabled\",\"onChange\",\"style\",\"placeholder\",\"onPaste\",\"icon\",\"onClick\",\"inlineSize\",\"primary\",\"loading\",\"isLoading\",\"secondary\",\"info\"],\"mappings\":\"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\"}"}