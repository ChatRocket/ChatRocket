{"code":"function module(e,t,n){var o,i,l,a,u,s,c,r,d,h;n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){o=e}},0),n.link(\"@rocket.chat/fuselage\",{PaginatedSelectFiltered:function(e){i=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue:function(e){l=e}},1),n.link(\"react\",{default:function(e){a=e},memo:function(e){u=e},useMemo:function(e){s=e},useState:function(e){c=e}},2),n.link(\"../hooks/lists/useRecordList\",{useRecordList:function(e){r=e}},3),n.link(\"../lib/asyncState\",{AsyncStatePhase:function(e){d=e}},4),n.link(\"./Omnichannel/hooks/useAgentsList\",{useAgentsList:function(e){h=e}},5),n.exportDefault(u(function(e){var t=e.value,n=e.error,u=e.placeholder,f=e.haveAll,v=void 0!==f&&f,k=e.haveNoAgentsSelectedOption,m=void 0!==k&&k,A=e.excludeId,g=e.showIdleAgents,p=void 0===g||g,S=e.onlyAvailable,b=void 0!==S&&S,I=e.withTitle,L=e.onChange,x=c(\"\"),y=o(x,2),w=y[0],O=y[1],C=l(w,500),D=h(s(function(){return{text:C,onlyAvailable:b,haveAll:v,haveNoAgentsSelectedOption:m,excludeId:A,showIdleAgents:p}},[C,A,v,m,b,p])),M=D.itemsList,N=D.loadMoreItems,R=r(M),T=R.phase,F=R.itemCount,P=R.items;return a.createElement(i,{withTitle:void 0!==I&&I,value:t,error:n,placeholder:u,onChange:L,flexShrink:0,filter:w,setFilter:O,options:P,\"data-qa\":\"autocomplete-agent\",endReached:T===d.LOADING?function(){}:function(e){return N(e,Math.min(50,F))}})}))}","map":"{\"version\":3,\"sources\":[\"client/components/AutoCompleteAgent.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { PaginatedSelectFiltered } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport type { ReactElement } from 'react';\\nimport React, { memo, useMemo, useState } from 'react';\\n\\nimport { useRecordList } from '../hooks/lists/useRecordList';\\nimport { AsyncStatePhase } from '../lib/asyncState';\\nimport { useAgentsList } from './Omnichannel/hooks/useAgentsList';\\n\\ntype AutoCompleteAgentProps = {\\n\\tvalue: string;\\n\\terror?: string;\\n\\tplaceholder?: string;\\n\\thaveAll?: boolean;\\n\\thaveNoAgentsSelectedOption?: boolean;\\n\\texcludeId?: string;\\n\\tshowIdleAgents?: boolean;\\n\\tonlyAvailable?: boolean;\\n\\twithTitle?: boolean;\\n\\tonChange: (value: string) => void;\\n};\\n\\nconst AutoCompleteAgent = ({\\n\\tvalue,\\n\\terror,\\n\\tplaceholder,\\n\\thaveAll = false,\\n\\thaveNoAgentsSelectedOption = false,\\n\\texcludeId,\\n\\tshowIdleAgents = true,\\n\\tonlyAvailable = false,\\n\\twithTitle = false,\\n\\tonChange,\\n}: AutoCompleteAgentProps): ReactElement => {\\n\\tconst [agentsFilter, setAgentsFilter] = useState<string>('');\\n\\n\\tconst debouncedAgentsFilter = useDebouncedValue(agentsFilter, 500);\\n\\n\\tconst { itemsList: AgentsList, loadMoreItems: loadMoreAgents } = useAgentsList(\\n\\t\\tuseMemo(\\n\\t\\t\\t() => ({ text: debouncedAgentsFilter, onlyAvailable, haveAll, haveNoAgentsSelectedOption, excludeId, showIdleAgents }),\\n\\t\\t\\t[debouncedAgentsFilter, excludeId, haveAll, haveNoAgentsSelectedOption, onlyAvailable, showIdleAgents],\\n\\t\\t),\\n\\t);\\n\\n\\tconst { phase: agentsPhase, itemCount: agentsTotal, items: agentsItems } = useRecordList(AgentsList);\\n\\n\\treturn (\\n\\t\\t<PaginatedSelectFiltered\\n\\t\\t\\twithTitle={withTitle}\\n\\t\\t\\tvalue={value}\\n\\t\\t\\terror={error}\\n\\t\\t\\tplaceholder={placeholder}\\n\\t\\t\\tonChange={onChange}\\n\\t\\t\\tflexShrink={0}\\n\\t\\t\\tfilter={agentsFilter}\\n\\t\\t\\tsetFilter={setAgentsFilter as (value: string | number | undefined) => void}\\n\\t\\t\\toptions={agentsItems}\\n\\t\\t\\tdata-qa='autocomplete-agent'\\n\\t\\t\\tendReached={\\n\\t\\t\\t\\tagentsPhase === AsyncStatePhase.LOADING ? (): void => undefined : (start): void => loadMoreAgents(start, Math.min(50, agentsTotal))\\n\\t\\t\\t}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default memo(AutoCompleteAgent);\\n\",null],\"names\":[\"_slicedToArray\",\"PaginatedSelectFiltered\",\"useDebouncedValue\",\"React\",\"memo\",\"useMemo\",\"useState\",\"useRecordList\",\"AsyncStatePhase\",\"useAgentsList\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"value\",\"error\",\"placeholder\",\"_ref$haveAll\",\"haveAll\",\"_ref$haveNoAgentsSele\",\"haveNoAgentsSelectedOption\",\"excludeId\",\"_ref$showIdleAgents\",\"showIdleAgents\",\"_ref$onlyAvailable\",\"onlyAvailable\",\"_ref$withTitle\",\"withTitle\",\"onChange\",\"_useState\",\"_useState2\",\"agentsFilter\",\"setAgentsFilter\",\"debouncedAgentsFilter\",\"_useAgentsList\",\"text\",\"AgentsList\",\"itemsList\",\"loadMoreAgents\",\"loadMoreItems\",\"_useRecordList\",\"agentsPhase\",\"phase\",\"agentsTotal\",\"itemCount\",\"agentsItems\",\"items\",\"createElement\",\"flexShrink\",\"filter\",\"setFilter\",\"options\",\"endReached\",\"LOADING\",\"start\",\"Math\",\"min\"],\"mappings\":\"uBAsBA,IAtBAA,EAAAC,EAAgEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAAC,IAAA,CAAA,uCAAuD,CAAAC,QAAA,SAAAC,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAvDH,EAAyBC,IAAA,CAAM,wBAAwB,CAAAV,wBAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAT,kBAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAV,EAAAU,CAAA,EAAAT,KAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,QAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,SAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,+BAAA,CAAAJ,cAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oBAAA,CAAAH,gBAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oCAAA,CAAAF,cAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAhEH,EAAOI,aAAE,CAkEMV,EA5CW,SAAAW,CAAA,EAWiB,IAV1CC,EAAKD,EAALC,KAAK,CACLC,EAAKF,EAALE,KAAK,CACLC,EAAWH,EAAXG,WAAW,CAAAC,EAAAJ,EACXK,OAAO,CAAPA,EAAOD,AAAA,KAAA,IAAAA,GAAQA,EAAAE,EAAAN,EACfO,0BAA0B,CAA1BA,EAA0BD,AAAA,KAAA,IAAAA,GAAQA,EAClCE,EAASR,EAATQ,SAAS,CAAAC,EAAAT,EACTU,cAAc,CAAdA,EAAcD,AAAA,KAAA,IAAAA,GAAOA,EAAAE,EAAAX,EACrBY,aAAa,CAAbA,EAAaD,AAAA,KAAA,IAAAA,GAAQA,EAAAE,EAAAb,EACrBc,SAAS,CACTC,EAAQf,EAARe,QAAQ,CAERC,EAAwCzB,EAAiB,IAAG0B,EAAAhC,EAAA+B,EAAA,GAArDE,EAAYD,CAAA,CAAA,EAAA,CAAEE,EAAeF,CAAA,CAAA,EAAA,CAE9BG,EAAwBjC,EAAkB+B,EAAc,KAE9DG,EAAiE3B,EAChEJ,EACC,WAAA,MAAO,CAAEgC,KAAMF,EAAuBR,cAAAA,EAAeP,QAAAA,EAASE,2BAAAA,EAA4BC,UAAAA,EAAWE,eAAAA,CAAc,CAAE,EACrH,CAACU,EAAuBZ,EAAWH,EAASE,EAA4BK,EAAeF,EAAe,GAHrFa,EAAUF,EAArBG,SAAS,CAA6BC,EAAcJ,EAA7BK,aAAa,CAO5CC,EAA2EnC,EAAc+B,GAA1EK,EAAWD,EAAlBE,KAAK,CAA0BC,EAAWH,EAAtBI,SAAS,CAAsBC,EAAWL,EAAlBM,KAAK,CAEzD,OACC7C,EAAA8C,aAAA,CAAChD,EAAuB,CACvB4B,UAlBOD,AAAA,KAAA,IAAAA,GAAQA,EAmBfZ,MAAOA,EACPC,MAAOA,EACPC,YAAaA,EACbY,SAAUA,EACVoB,WAAY,EACZC,OAAQlB,EACRmB,UAAWlB,EACXmB,QAASN,EACT,UAAQ,qBACRO,WACCX,IAAgBnC,EAAgB+C,OAAO,CAAG,WAAqB,EAAG,SAACC,CAAK,EAAA,OAAWhB,EAAegB,EAAOC,KAAKC,GAAG,CAAC,GAAIb,GACvH,CAAC,EAGJ\"}"}