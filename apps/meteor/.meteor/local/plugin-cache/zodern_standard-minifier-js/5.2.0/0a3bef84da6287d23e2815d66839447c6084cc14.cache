{"code":"function module(e,o,n){let t,l,i,u,s,a,r,C,f,d,c,m;n.link(\"@rocket.chat/ui-contexts\",{useUserRoom(e){t=e}},0),n.link(\"react\",{default(e){l=e},useState(e){i=e}},1),n.link(\"../../../../../../contexts/VideoConfContext\",{useVideoConfAcceptCall(e){u=e},useVideoConfAbortCall(e){s=e},useVideoConfRejectIncomingCall(e){a=e},useVideoConfDismissCall(e){r=e},useVideoConfStartCall(e){C=e},useVideoConfDismissOutgoing(e){f=e}},2),n.link(\"./IncomingPopup\",{default(e){d=e}},3),n.link(\"./OutgoingPopup\",{default(e){c=e}},4),n.link(\"./StartCallPopup\",{default(e){m=e}},5),n.exportDefault(e=>{let{id:o,rid:n,isReceiving:p=!1,isCalling:g=!1,position:k}=e,[V,x]=i(!1),D=u(),E=s(),P=a(),S=r(),A=C(),I=f(),O=t(n);if(!O)return null;let R=e=>{if(p){P(e);return}E()},b=async()=>{x(!0),A(n)};return p?l.createElement(d,{room:O,id:o,position:k,onClose:R,onMute:()=>{S(o)},onConfirm:()=>{D(o)}}):g?l.createElement(c,{room:O,id:o,onClose:R}):l.createElement(m,{loading:V,room:O,id:o,onClose:I,onConfirm:b})})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport { useUserRoom } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useState } from 'react';\\n\\nimport {\\n\\tuseVideoConfAcceptCall,\\n\\tuseVideoConfAbortCall,\\n\\tuseVideoConfRejectIncomingCall,\\n\\tuseVideoConfDismissCall,\\n\\tuseVideoConfStartCall,\\n\\tuseVideoConfDismissOutgoing,\\n} from '../../../../../../contexts/VideoConfContext';\\nimport IncomingPopup from './IncomingPopup';\\nimport OutgoingPopup from './OutgoingPopup';\\nimport StartCallPopup from './StartCallPopup';\\n\\ntype TimedVideoConfPopupProps = {\\n\\tid: string;\\n\\trid: IRoom['_id'];\\n\\tisReceiving?: boolean;\\n\\tisCalling?: boolean;\\n\\tposition: number;\\n\\tonClose?: (id: string) => void;\\n};\\n\\nconst TimedVideoConfPopup = ({\\n\\tid,\\n\\trid,\\n\\tisReceiving = false,\\n\\tisCalling = false,\\n\\tposition,\\n}: TimedVideoConfPopupProps): ReactElement | null => {\\n\\tconst [starting, setStarting] = useState(false);\\n\\tconst acceptCall = useVideoConfAcceptCall();\\n\\tconst abortCall = useVideoConfAbortCall();\\n\\tconst rejectCall = useVideoConfRejectIncomingCall();\\n\\tconst dismissCall = useVideoConfDismissCall();\\n\\tconst startCall = useVideoConfStartCall();\\n\\tconst dismissOutgoing = useVideoConfDismissOutgoing();\\n\\tconst room = useUserRoom(rid);\\n\\n\\tif (!room) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\tconst handleConfirm = (): void => {\\n\\t\\tacceptCall(id);\\n\\t};\\n\\n\\tconst handleClose = (id: string): void => {\\n\\t\\tif (isReceiving) {\\n\\t\\t\\trejectCall(id);\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tabortCall();\\n\\t};\\n\\n\\tconst handleMute = (): void => {\\n\\t\\tdismissCall(id);\\n\\t};\\n\\n\\tconst handleStartCall = async (): Promise<void> => {\\n\\t\\tsetStarting(true);\\n\\t\\tstartCall(rid);\\n\\t};\\n\\n\\tif (isReceiving) {\\n\\t\\treturn <IncomingPopup room={room} id={id} position={position} onClose={handleClose} onMute={handleMute} onConfirm={handleConfirm} />;\\n\\t}\\n\\n\\tif (isCalling) {\\n\\t\\treturn <OutgoingPopup room={room} id={id} onClose={handleClose} />;\\n\\t}\\n\\n\\treturn <StartCallPopup loading={starting} room={room} id={id} onClose={dismissOutgoing} onConfirm={handleStartCall} />;\\n};\\n\\nexport default TimedVideoConfPopup;\\n\",null],\"names\":[\"useUserRoom\",\"React\",\"useState\",\"useVideoConfAcceptCall\",\"useVideoConfAbortCall\",\"useVideoConfRejectIncomingCall\",\"useVideoConfDismissCall\",\"useVideoConfStartCall\",\"useVideoConfDismissOutgoing\",\"IncomingPopup\",\"OutgoingPopup\",\"StartCallPopup\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"id\",\"rid\",\"isReceiving\",\"isCalling\",\"position\",\"starting\",\"setStarting\",\"acceptCall\",\"abortCall\",\"rejectCall\",\"dismissCall\",\"startCall\",\"dismissOutgoing\",\"room\",\"handleClose\",\"handleStartCall\",\"createElement\",\"onClose\",\"onMute\",\"handleMute\",\"onConfirm\",\"handleConfirm\",\"loading\"],\"mappings\":\"2BACAA,EAAuDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9CC,EAAaC,IAAA,CAAM,2BAA2B,CAAAb,YAAAc,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8CAAA,CAAAV,uBAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,sBAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,+BAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,wBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,sBAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,4BAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kBAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kBAAA,CAAAE,QAAAD,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mBAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAvDF,EAAOI,aAAa,CAyBQC,IAMwB,GANvB,CAC5BC,GAAAA,CAAE,CACFC,IAAAA,CAAG,CACHC,YAAAA,EAAc,CAAA,CAAK,CACnBC,UAAAA,EAAY,CAAA,CAAK,CACjBC,SAAAA,CAAAA,CAC0B,CAAAL,EACpB,CAACM,EAAUC,EAAY,CAAGtB,EAAS,CAAA,GACnCuB,EAAatB,IACbuB,EAAYtB,IACZuB,EAAatB,IACbuB,EAActB,IACduB,EAAYtB,IACZuB,EAAkBtB,IAClBuB,EAAO/B,EAAYmB,GAEzB,GAAI,CAACY,EACJ,OAAO,KAOR,IAAMC,EAAed,IACpB,GAAIE,EAAa,CAChBO,EAAWT,GACX,MACD,CAEAQ,GACD,EAMMO,EAAkB,UACvBT,EAAY,CAAA,GACZK,EAAUV,EACX,SAEA,AAAIC,EACInB,EAAAiC,aAAA,CAACzB,EAAa,CAACsB,KAAMA,EAAMb,GAAIA,EAAII,SAAUA,EAAUa,QAASH,EAAaI,OAVlEC,KAClBT,EAAYV,EACb,EAQyGoB,UAvBnFC,KACrBd,EAAWP,EACZ,CAqBkI,GAG9HG,EACIpB,EAAAiC,aAAA,CAACxB,EAAa,CAACqB,KAAMA,EAAMb,GAAIA,EAAIiB,QAASH,CAAY,GAGzD/B,EAAAiC,aAAA,CAACvB,EAAc,CAAC6B,QAASjB,EAAUQ,KAAMA,EAAMb,GAAIA,EAAIiB,QAASL,EAAiBQ,UAAWL,CAAgB,EACpH\"}"}