{"code":"function module(e,n,l){var t,i,o,a,u,c,r,f,s,m,d,p,k,g,E,h,x,F,I,b,v;l.link(\"@babel/runtime/helpers/extends\",{default:function(e){t=e}},0),l.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){i=e}},1),l.link(\"@rocket.chat/fuselage\",{Button:function(e){o=e},ButtonGroup:function(e){a=e},Field:function(e){u=e},FieldGroup:function(e){c=e},FieldLabel:function(e){r=e},FieldRow:function(e){f=e},TextInput:function(e){s=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useUniqueId:function(e){m=e}},1),l.link(\"@rocket.chat/ui-contexts\",{useTranslation:function(e){d=e},useRouter:function(e){p=e}},2),l.link(\"react\",{default:function(e){k=e},useCallback:function(e){g=e}},3),l.link(\"react-hook-form\",{useForm:function(e){E=e},Controller:function(e){h=e}},4),l.link(\"../../components/Page\",{Page:function(e){x=e},PageHeader:function(e){F=e},PageScrollableContent:function(e){I=e}},5),l.link(\"../../hooks/useSingleFileInput\",{useSingleFileInput:function(e){b=e}},6),l.link(\"./hooks/useInstallApp\",{useInstallApp:function(e){v=e}},7),l.exportDefault(function(){var e=d(),n=p(),l=E(),C=l.control,_=l.setValue,A=(0,l.watch)().file,w=v(A),y=w.install,P=w.isInstalling,S=b(function(e){return _(\"file\",e)},\"app\"),B=i(S,1)[0],D=g(function(){n.navigate({name:\"marketplace\",params:{context:\"private\",page:\"list\"}})},[n]),T=m();return k.createElement(x,{flexDirection:\"column\"},k.createElement(F,{title:e(\"App_Installation\")}),k.createElement(I,null,k.createElement(c,{display:\"flex\",flexDirection:\"column\",alignSelf:\"center\",maxWidth:\"x600\",w:\"full\"},k.createElement(u,null,k.createElement(r,{htmlFor:T},e(\"App_Url_to_Install_From_File\")),k.createElement(f,null,k.createElement(h,{name:\"file\",control:C,render:function(n){var l,i=n.field;return k.createElement(s,t({id:T,readOnly:!0},i,{value:(null===(l=i.value)||void 0===l?void 0:l.name)||\"\",addon:k.createElement(o,{icon:\"upload\",small:!0,primary:!0,onClick:B,mb:\"neg-x4\",mie:\"neg-x8\"},e(\"Browse_Files\"))}))}}))),k.createElement(u,null,k.createElement(a,null,k.createElement(o,{disabled:!(null!=A&&A.name),loading:P,onClick:y},e(\"Install\")),k.createElement(o,{onClick:D},e(\"Cancel\")))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/AppInstallPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Button, ButtonGroup, Field, FieldGroup, FieldLabel, FieldRow, TextInput } from '@rocket.chat/fuselage';\\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport { useTranslation, useRouter } from '@rocket.chat/ui-contexts';\\nimport React, { useCallback } from 'react';\\nimport { useForm, Controller } from 'react-hook-form';\\n\\nimport { Page, PageHeader, PageScrollableContent } from '../../components/Page';\\nimport { useSingleFileInput } from '../../hooks/useSingleFileInput';\\nimport { useInstallApp } from './hooks/useInstallApp';\\n\\nconst AppInstallPage = () => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\n\\tconst { control, setValue, watch } = useForm<{ file: File }>();\\n\\tconst { file } = watch();\\n\\tconst { install, isInstalling } = useInstallApp(file);\\n\\n\\tconst [handleUploadButtonClick] = useSingleFileInput((value) => setValue('file', value), 'app');\\n\\n\\tconst handleCancel = useCallback(() => {\\n\\t\\trouter.navigate({\\n\\t\\t\\tname: 'marketplace',\\n\\t\\t\\tparams: {\\n\\t\\t\\t\\tcontext: 'private',\\n\\t\\t\\t\\tpage: 'list',\\n\\t\\t\\t},\\n\\t\\t});\\n\\t}, [router]);\\n\\n\\tconst fileField = useUniqueId();\\n\\n\\treturn (\\n\\t\\t<Page flexDirection='column'>\\n\\t\\t\\t<PageHeader title={t('App_Installation')} />\\n\\t\\t\\t<PageScrollableContent>\\n\\t\\t\\t\\t<FieldGroup display='flex' flexDirection='column' alignSelf='center' maxWidth='x600' w='full'>\\n\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={fileField}>{t('App_Url_to_Install_From_File')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\tname='file'\\n\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={fileField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\treadOnly\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={field.value?.name || ''}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taddon={\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Button icon='upload' small primary onClick={handleUploadButtonClick} mb='neg-x4' mie='neg-x8'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Browse_Files')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t\\t\\t<Button disabled={!file?.name} loading={isInstalling} onClick={install}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Install')}\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t\\t<Button onClick={handleCancel}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t</PageScrollableContent>\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default AppInstallPage;\\n\",null],\"names\":[\"_extends\",\"_slicedToArray\",\"Button\",\"ButtonGroup\",\"Field\",\"FieldGroup\",\"FieldLabel\",\"FieldRow\",\"TextInput\",\"useUniqueId\",\"useTranslation\",\"useRouter\",\"React\",\"useCallback\",\"useForm\",\"Controller\",\"Page\",\"PageHeader\",\"PageScrollableContent\",\"useSingleFileInput\",\"useInstallApp\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"t\",\"router\",\"_useForm\",\"control\",\"setValue\",\"file\",\"_watch\",\"watch\",\"_useInstallApp\",\"install\",\"isInstalling\",\"_useSingleFileInput\",\"value\",\"handleUploadButtonClick\",\"_useSingleFileInput2\",\"handleCancel\",\"navigate\",\"name\",\"params\",\"context\",\"page\",\"fileField\",\"createElement\",\"flexDirection\",\"title\",\"display\",\"alignSelf\",\"maxWidth\",\"w\",\"htmlFor\",\"render\",\"_ref\",\"_field$value\",\"field\",\"id\",\"readOnly\",\"addon\",\"icon\",\"small\",\"primary\",\"onClick\",\"mb\",\"mie\",\"disabled\",\"loading\"],\"mappings\":\"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\"}"}