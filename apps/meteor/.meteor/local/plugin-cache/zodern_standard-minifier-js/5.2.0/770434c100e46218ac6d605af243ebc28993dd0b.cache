{"code":"function module(e,t,n){var l,r,c,i,o,a,u,s,m,f;n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){l=e}},0),n.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){r=e}},1),n.link(\"@rocket.chat/fuselage\",{Modal:function(e){c=e},Button:function(e){i=e},Box:function(e){o=e},Icon:function(e){a=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){u=e}},1),n.link(\"react\",{default:function(e){s=e}},2),n.link(\"react-hook-form\",{useForm:function(e){m=e}},3),n.link(\"react-i18next\",{useTranslation:function(e){f=e}},4),n.exportDefault(function(e){var t=e.onClose,n=e.matrixIdVerifiedStatus,E=e.onSave,d=e.completeUserList,k=u(),h=d.filter(function(e){return!(n.has(e)&&\"UNVERIFIED\"===n.get(e))}),C=h.filter(function(e){return!n.has(e)}),I=m({defaultValues:{usersToInvite:h}}).handleSubmit,p=f().t;return s.createElement(c,null,s.createElement(c.Header,null,s.createElement(c.HeaderText,null,s.createElement(c.Title,null,p(\"Continue_Adding\"))),s.createElement(c.Close,{title:p(\"Close\"),onClick:t})),s.createElement(c.Content,null,s.createElement(o,null,s.createElement(o,{is:\"ul\"},r(n.entries()).map(function(e){var t=l(e,2),n=t[0],r=t[1];return s.createElement(\"li\",{key:n},n,\": \",s.createElement(a,{name:\"VERIFIED\"===r?\"circle-check\":\"UNVERIFIED\"===r?\"circle-cross\":\"UNABLE_TO_VERIFY\"===r?\"circle-exclamation\":void 0,size:\"x20\"}))}),C.map(function(e){return s.createElement(\"li\",{key:\"rocket-chat-\"+e},e)})))),s.createElement(c.Footer,{justifyContent:\"center\"},s.createElement(c.FooterControllers,null,s.createElement(i,{onClick:t},p(\"Cancel\")),s.createElement(i,{primary:!0,onClick:I(function(e){E({users:e.usersToInvite}).then(t).catch(function(e){return k({type:\"error\",message:e})})}),disabled:!(h.length>0)},p(\"Yes_continue\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/RoomMembers/AddUsers/AddMatrixUsers/AddMatrixUsersModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Modal, Button, Box, Icon } from '@rocket.chat/fuselage';\\nimport { useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps, ReactElement } from 'react';\\nimport React from 'react';\\nimport { useForm } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\ntype AddMatrixUsersModalProps = {\\n\\tmatrixIdVerifiedStatus: Map<string, string>;\\n\\tcompleteUserList: string[];\\n\\tonClose: () => void;\\n\\tonSave: (args_0: any) => Promise<void>;\\n};\\n\\ntype FormValues = {\\n\\tusersToInvite: string[];\\n};\\n\\nconst verificationStatusAsIcon = (verificationStatus: string) => {\\n\\tif (verificationStatus === 'VERIFIED') {\\n\\t\\treturn 'circle-check';\\n\\t}\\n\\n\\tif (verificationStatus === 'UNVERIFIED') {\\n\\t\\treturn 'circle-cross';\\n\\t}\\n\\n\\tif (verificationStatus === 'UNABLE_TO_VERIFY') {\\n\\t\\treturn 'circle-exclamation';\\n\\t}\\n};\\n\\nconst AddMatrixUsersModal = ({ onClose, matrixIdVerifiedStatus, onSave, completeUserList }: AddMatrixUsersModalProps): ReactElement => {\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst usersToInvite = completeUserList.filter(\\n\\t\\t(user) => !(matrixIdVerifiedStatus.has(user) && matrixIdVerifiedStatus.get(user) === 'UNVERIFIED'),\\n\\t);\\n\\tconst rocketChatUsers = usersToInvite.filter((user) => !matrixIdVerifiedStatus.has(user));\\n\\n\\tconst { handleSubmit } = useForm<FormValues>({\\n\\t\\tdefaultValues: {\\n\\t\\t\\tusersToInvite,\\n\\t\\t},\\n\\t});\\n\\n\\tconst onSubmit = (data: FormValues) => {\\n\\t\\tonSave({ users: data.usersToInvite })\\n\\t\\t\\t.then(onClose)\\n\\t\\t\\t.catch((error) => dispatchToastMessage({ type: 'error', message: error as Error }));\\n\\t};\\n\\n\\tconst { t } = useTranslation();\\n\\n\\treturn (\\n\\t\\t<Modal>\\n\\t\\t\\t<Modal.Header>\\n\\t\\t\\t\\t<Modal.HeaderText>\\n\\t\\t\\t\\t\\t<Modal.Title>{t('Continue_Adding')}</Modal.Title>\\n\\t\\t\\t\\t</Modal.HeaderText>\\n\\t\\t\\t\\t<Modal.Close title={t('Close')} onClick={onClose} />\\n\\t\\t\\t</Modal.Header>\\n\\t\\t\\t<Modal.Content>\\n\\t\\t\\t\\t<Box>\\n\\t\\t\\t\\t\\t<Box is='ul'>\\n\\t\\t\\t\\t\\t\\t{[...matrixIdVerifiedStatus.entries()].map(([_matrixId, _verificationStatus]) => (\\n\\t\\t\\t\\t\\t\\t\\t<li key={_matrixId}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{_matrixId}: <Icon name={verificationStatusAsIcon(_verificationStatus) as ComponentProps<typeof Icon>['name']} size='x20' />\\n\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t{rocketChatUsers.map((_user) => (\\n\\t\\t\\t\\t\\t\\t\\t<li key={`rocket-chat-${_user}`}>{_user}</li>\\n\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Modal.Content>\\n\\t\\t\\t<Modal.Footer justifyContent='center'>\\n\\t\\t\\t\\t<Modal.FooterControllers>\\n\\t\\t\\t\\t\\t<Button onClick={onClose}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t<Button primary onClick={handleSubmit(onSubmit)} disabled={!(usersToInvite.length > 0)}>\\n\\t\\t\\t\\t\\t\\t{t('Yes_continue')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</Modal.FooterControllers>\\n\\t\\t\\t</Modal.Footer>\\n\\t\\t</Modal>\\n\\t);\\n};\\n\\nexport default AddMatrixUsersModal;\\n\",null],\"names\":[\"_slicedToArray\",\"_toConsumableArray\",\"Modal\",\"Button\",\"Box\",\"Icon\",\"useToastMessageDispatch\",\"React\",\"useForm\",\"useTranslation\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"onClose\",\"matrixIdVerifiedStatus\",\"onSave\",\"completeUserList\",\"dispatchToastMessage\",\"usersToInvite\",\"filter\",\"user\",\"has\",\"get\",\"rocketChatUsers\",\"handleSubmit\",\"_useForm\",\"defaultValues\",\"t\",\"_useTranslation\",\"createElement\",\"Header\",\"HeaderText\",\"Title\",\"Close\",\"title\",\"onClick\",\"Content\",\"is\",\"entries\",\"map\",\"_ref2\",\"_ref3\",\"_matrixId\",\"_verificationStatus\",\"key\",\"name\",\"verificationStatus\",\"size\",\"_user\",\"Footer\",\"justifyContent\",\"FooterControllers\",\"primary\",\"data\",\"users\",\"then\",\"catch\",\"error\",\"type\",\"message\",\"disabled\",\"length\"],\"mappings\":\"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\"}"}