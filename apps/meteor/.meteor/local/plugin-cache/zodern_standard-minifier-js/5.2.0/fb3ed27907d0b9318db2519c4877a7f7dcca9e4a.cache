{"code":"function module(e,n,t){t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){o=e}},0),t.export({VoipFooter:function(){return _}}),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){u=e}},0),t.link(\"react\",{default:function(e){i=e},useCallback:function(e){l=e},useState:function(e){c=e}},1),t.link(\"react-i18next\",{useTranslation:function(e){a=e}},2),t.link(\"../../../contexts/CallContext\",{useCallActions:function(e){s=e},useCallCreateRoom:function(e){r=e},useCallerInfo:function(e){f=e},useCallOpenRoom:function(e){p=e},useIsVoipEnterprise:function(e){m=e},useOpenedRoomInfo:function(e){d=e},useQueueCounter:function(e){C=e},useQueueName:function(e){E=e}},3),t.link(\"../../../hooks/useVoipFooterMenu\",{useVoipFooterMenu:function(e){k=e}},4),t.link(\"../SidebarFooterDefault\",{default:function(e){F=e}},5),t.link(\"./VoipFooter\",{VoipFooter:function(e){R=e}},6);var o,u,i,l,c,a,s,r,f,p,m,d,C,E,k,F,R,_=function(){var e,n=a().t,t=f(),_=s(),g=u(\"POST\",\"/v1/voip/events\"),I=r(),O=p(),V=C(),v=E(),b=d(),h=k(),x=c(!1),S=o(x,2),A=S[0],N=S[1],T=c(!1),D=o(T,2),L=D[0],M=D[1],P=m(),Q=l(function(e){e?_.mute():_.unmute(),N(e)},[_]),H=l(function(e){e?_.pause():_.resume(),N(!1),M(e)},[_]);return\"caller\"in t?i.createElement(R,{caller:t.caller,callerState:t.state,callActions:_,title:v||n(\"Phone_call\"),subtitle:(e=t.state,({IN_CALL:n(\"In_progress\"),OFFER_RECEIVED:n(\"Ringing\"),OFFER_SENT:n(\"Calling\"),ON_HOLD:n(\"On_Hold\")})[e]||\"\"),muted:A,paused:L,toggleMic:Q,togglePause:H,createRoom:I,openRoom:O,callsInQueue:n(\"Calls_in_queue\",{count:V}),dispatchEvent:g,openedRoomInfo:b,isEnterprise:P,options:h}):i.createElement(F,null)}}","map":"{\"version\":3,\"sources\":[\"client/sidebar/footer/voip/index.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { VoIpCallerInfo } from '@rocket.chat/core-typings';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback, useState } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport {\\n\\tuseCallActions,\\n\\tuseCallCreateRoom,\\n\\tuseCallerInfo,\\n\\tuseCallOpenRoom,\\n\\tuseIsVoipEnterprise,\\n\\tuseOpenedRoomInfo,\\n\\tuseQueueCounter,\\n\\tuseQueueName,\\n} from '../../../contexts/CallContext';\\nimport { useVoipFooterMenu } from '../../../hooks/useVoipFooterMenu';\\nimport SidebarFooterDefault from '../SidebarFooterDefault';\\nimport { VoipFooter as VoipFooterComponent } from './VoipFooter';\\n\\nexport const VoipFooter = (): ReactElement | null => {\\n\\tconst { t } = useTranslation();\\n\\tconst callerInfo = useCallerInfo();\\n\\tconst callActions = useCallActions();\\n\\tconst dispatchEvent = useEndpoint('POST', '/v1/voip/events');\\n\\n\\tconst createRoom = useCallCreateRoom();\\n\\tconst openRoom = useCallOpenRoom();\\n\\tconst queueCounter = useQueueCounter();\\n\\tconst queueName = useQueueName();\\n\\tconst openedRoomInfo = useOpenedRoomInfo();\\n\\tconst options = useVoipFooterMenu();\\n\\n\\tconst [muted, setMuted] = useState(false);\\n\\tconst [paused, setPaused] = useState(false);\\n\\tconst isEnterprise = useIsVoipEnterprise();\\n\\n\\tconst toggleMic = useCallback(\\n\\t\\t(state: boolean) => {\\n\\t\\t\\tstate ? callActions.mute() : callActions.unmute();\\n\\t\\t\\tsetMuted(state);\\n\\t\\t},\\n\\t\\t[callActions],\\n\\t);\\n\\n\\tconst togglePause = useCallback(\\n\\t\\t(state: boolean) => {\\n\\t\\t\\tstate ? callActions.pause() : callActions.resume();\\n\\t\\t\\tsetMuted(false);\\n\\t\\t\\tsetPaused(state);\\n\\t\\t},\\n\\t\\t[callActions],\\n\\t);\\n\\n\\tconst getSubtitle = (state: VoIpCallerInfo['state']): string => {\\n\\t\\tconst subtitles: Record<string, string> = {\\n\\t\\t\\tIN_CALL: t('In_progress'),\\n\\t\\t\\tOFFER_RECEIVED: t('Ringing'),\\n\\t\\t\\tOFFER_SENT: t('Calling'),\\n\\t\\t\\tON_HOLD: t('On_Hold'),\\n\\t\\t};\\n\\n\\t\\treturn subtitles[state] || '';\\n\\t};\\n\\n\\tif (!('caller' in callerInfo)) {\\n\\t\\treturn <SidebarFooterDefault />;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<VoipFooterComponent\\n\\t\\t\\tcaller={callerInfo.caller}\\n\\t\\t\\tcallerState={callerInfo.state}\\n\\t\\t\\tcallActions={callActions}\\n\\t\\t\\ttitle={queueName || t('Phone_call')}\\n\\t\\t\\tsubtitle={getSubtitle(callerInfo.state)}\\n\\t\\t\\tmuted={muted}\\n\\t\\t\\tpaused={paused}\\n\\t\\t\\ttoggleMic={toggleMic}\\n\\t\\t\\ttogglePause={togglePause}\\n\\t\\t\\tcreateRoom={createRoom}\\n\\t\\t\\topenRoom={openRoom}\\n\\t\\t\\tcallsInQueue={t('Calls_in_queue', { count: queueCounter })}\\n\\t\\t\\tdispatchEvent={dispatchEvent}\\n\\t\\t\\topenedRoomInfo={openedRoomInfo}\\n\\t\\t\\tisEnterprise={isEnterprise}\\n\\t\\t\\toptions={options}\\n\\t\\t/>\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_slicedToArray\",\"export\",\"VoipFooter\",\"useEndpoint\",\"React\",\"useCallback\",\"useState\",\"useTranslation\",\"useCallActions\",\"useCallCreateRoom\",\"useCallerInfo\",\"useCallOpenRoom\",\"useIsVoipEnterprise\",\"useOpenedRoomInfo\",\"useQueueCounter\",\"useQueueName\",\"useVoipFooterMenu\",\"SidebarFooterDefault\",\"VoipFooterComponent\",\"state\",\"t\",\"_useTranslation\",\"callerInfo\",\"callActions\",\"dispatchEvent\",\"createRoom\",\"openRoom\",\"queueCounter\",\"queueName\",\"openedRoomInfo\",\"options\",\"_useState\",\"_useState2\",\"muted\",\"setMuted\",\"_useState3\",\"_useState4\",\"paused\",\"setPaused\",\"isEnterprise\",\"toggleMic\",\"mute\",\"unmute\",\"togglePause\",\"pause\",\"resume\",\"createElement\",\"caller\",\"callerState\",\"title\",\"subtitle\",\"subtitles\",\"IN_CALL\",\"OFFER_RECEIVED\",\"OFFER_SENT\",\"ON_HOLD\",\"callsInQueue\",\"count\"],\"mappings\":\"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\"}"}