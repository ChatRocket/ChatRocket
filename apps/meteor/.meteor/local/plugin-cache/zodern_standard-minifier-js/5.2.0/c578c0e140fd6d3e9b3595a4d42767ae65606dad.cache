{"code":"function module(e,n,t){t.link(\"@babel/runtime/regenerator\",{default:function(e){a=e}},0),t.export({useRemoveAgent:function(){return v}}),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){r=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){u=e},useToastMessageDispatch:function(e){c=e},useTranslation:function(e){i=e},useRouter:function(e){o=e},useEndpoint:function(e){s=e}},1),t.link(\"@tanstack/react-query\",{useQueryClient:function(e){l=e}},2),t.link(\"react\",{default:function(e){f=e}},3),t.link(\"../../../../components/GenericModal\",{default:function(e){d=e}},4);var a,r,u,c,i,o,s,l,f,d,v=function(e){var n=i(),t=o(),v=u(),m=l(),g=c(),k=s(\"DELETE\",\"/v1/livechat/users/agent/:_id\",{_id:e});return r(function(){v(f.createElement(d,{\"data-qa-id\":\"remove-agent-modal\",variant:\"danger\",onConfirm:function(){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.awrap(k());case 3:g({type:\"success\",message:n(\"Agent_removed\")}),t.navigate(\"/omnichannel/agents\"),m.invalidateQueries([\"livechat-agents\"]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g({type:\"error\",message:e.t0});case 11:return e.prev=11,v(),e.finish(11);case 14:case\"end\":return e.stop()}},null,null,[[0,8,11,14]],Promise)},onCancel:function(){return v()},confirmText:n(\"Delete\")}))})}}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/agents/hooks/useRemoveAgent.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatAgent } from '@rocket.chat/core-typings';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useTranslation, useRouter, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQueryClient } from '@tanstack/react-query';\\nimport React from 'react';\\n\\nimport GenericModal from '../../../../components/GenericModal';\\n\\nexport const useRemoveAgent = (uid: ILivechatAgent['_id']) => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst setModal = useSetModal();\\n\\tconst queryClient = useQueryClient();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst deleteAction = useEndpoint('DELETE', '/v1/livechat/users/agent/:_id', { _id: uid });\\n\\n\\tconst handleDelete = useMutableCallback(() => {\\n\\t\\tconst onDeleteAgent = async () => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait deleteAction();\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Agent_removed') });\\n\\t\\t\\t\\trouter.navigate('/omnichannel/agents');\\n\\t\\t\\t\\tqueryClient.invalidateQueries(['livechat-agents']);\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tsetModal();\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tsetModal(\\n\\t\\t\\t<GenericModal\\n\\t\\t\\t\\tdata-qa-id='remove-agent-modal'\\n\\t\\t\\t\\tvariant='danger'\\n\\t\\t\\t\\tonConfirm={onDeleteAgent}\\n\\t\\t\\t\\tonCancel={() => setModal()}\\n\\t\\t\\t\\tconfirmText={t('Delete')}\\n\\t\\t\\t/>,\\n\\t\\t);\\n\\t});\\n\\n\\treturn handleDelete;\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"export\",\"useRemoveAgent\",\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useTranslation\",\"useRouter\",\"useEndpoint\",\"useQueryClient\",\"React\",\"GenericModal\",\"uid\",\"t\",\"router\",\"setModal\",\"queryClient\",\"dispatchToastMessage\",\"deleteAction\",\"_id\",\"createElement\",\"variant\",\"onConfirm\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"type\",\"message\",\"navigate\",\"invalidateQueries\",\"t0\",\"finish\",\"stop\",\"Promise\",\"onCancel\",\"confirmText\"],\"mappings\":\"uBACSA,EAAoBC,IAAM,CAAA,6BAA8B,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAjEH,EAAOK,MAAE,CAAA,CAAAC,eAAoB,WAAM,OAAAA,CAAA,CAAA,GAA8BN,EAAAC,IAAA,CAAA,8BAAA,CAAAM,mBAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAO,YAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,wBAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,EAAAO,eAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,EAAAQ,UAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,EAAAS,YAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAY,eAAA,SAAAV,CAAA,EAAAU,EAAAV,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAW,EAAAX,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,sCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAY,EAAAZ,CAAA,CAAA,EAAA,GAO1D,IAPPC,EAAiEG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAOpDT,EAAiB,SAACU,CAA0B,EACxD,IAAMC,EAAIP,IACJQ,EAASP,IACTQ,EAAWX,IACXY,EAAcP,IACdQ,EAAuBZ,IAEvBa,EAAeV,EAAY,SAAU,gCAAiC,CAAEW,IAAKP,CAAG,GA2BtF,OAzBqBT,EAAmB,WAcvCY,EACCL,EAAAU,aAAA,CAACT,EAAY,CACZ,aAAW,qBACXU,QAAQ,SACRC,UAjBoB,WAAA,OAAAtB,EAAAuB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAA1B,EAAA2B,KAAA,CAEdT,IAAc,MAAA,EACpBD,EAAqB,CAAEW,KAAM,UAAWC,QAAShB,EAAE,gBAAgB,GACnEC,EAAOgB,QAAQ,CAAC,uBAChBd,EAAYe,iBAAiB,CAAC,CAAC,kBAAkB,EAAEP,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,EAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAQ,EAAA,CAAAR,EAAA,KAAA,CAAA,GAEnDP,EAAqB,CAAEW,KAAM,QAASC,QAAOL,EAAAQ,EAAAA,AAAO,EAAI,MAAA,GAE7C,OAF6CR,EAAAC,IAAA,CAAA,GAExDV,IAAWS,EAAAS,MAAA,CAAA,GAAA,MAAA,GAAA,IAAA,MAAA,OAAAT,EAAAU,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,GAAA,GAAA,CAAA,CAAAC,QAAA,EASXC,SAAU,WAAA,OAAMrB,GAAU,EAC1BsB,YAAaxB,EAAE,SAAU,GAG5B,EAGD\"}"}