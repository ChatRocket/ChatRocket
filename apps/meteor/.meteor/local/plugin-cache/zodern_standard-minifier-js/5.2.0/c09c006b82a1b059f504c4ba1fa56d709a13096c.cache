{"code":"function module(n,t,e){e.export({useUserBanners:function(){return a}}),e.link(\"@rocket.chat/ui-contexts\",{useUser:function(n){i=n}},0),e.link(\"react\",{useEffect:function(n){s=n}},1),e.link(\"react-i18next\",{useTranslation:function(n){r=n}},2),e.link(\"../../../lib/banners\",{\"*\":function(n){o=n}},3),e.link(\"./useDismissUserBannerMutation\",{useDismissUserBannerMutation:function(n){u=n}},4);var i,s,r,o,u,a=function(){var n=i(),t=r(),e=t.t,a=t.i18n,c=u().mutate;s(function(){if(null!=n&&n.banners&&0!==Object.keys(n.banners).length){var t=Object.values(n.banners).filter(function(n){return!0!==n.read}).sort(function(n,t){return t.priority-n.priority})[0];t&&o.open({id:t.id,title:a.exists(t.title)?e(t.title):t.title,text:a.exists(t.text)?e(t.text,t.textArguments):t.text,modifiers:t.modifiers,action:function(){t.link&&window.open(t.link,\"_system\")},onClose:function(){c({id:t.id})}})}},[c,a,e,null==n?void 0:n.banners])}}","map":"{\"version\":3,\"sources\":[\"client/views/banners/hooks/useUserBanners.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useUser } from '@rocket.chat/ui-contexts';\\nimport { useEffect } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport * as banners from '../../../lib/banners';\\nimport { useDismissUserBannerMutation } from './useDismissUserBannerMutation';\\n\\nexport const useUserBanners = () => {\\n\\tconst user = useUser();\\n\\n\\tconst { t, i18n } = useTranslation();\\n\\tconst { mutate: dismissUserBanner } = useDismissUserBannerMutation();\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!user?.banners || Object.keys(user.banners).length === 0) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst firstBanner = Object.values(user.banners)\\n\\t\\t\\t.filter((b) => b.read !== true)\\n\\t\\t\\t.sort((a, b) => b.priority - a.priority)[0];\\n\\n\\t\\tif (!firstBanner) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tbanners.open({\\n\\t\\t\\tid: firstBanner.id,\\n\\t\\t\\ttitle: i18n.exists(firstBanner.title) ? t(firstBanner.title) : firstBanner.title,\\n\\t\\t\\ttext: i18n.exists(firstBanner.text) ? t(firstBanner.text, firstBanner.textArguments) : firstBanner.text,\\n\\t\\t\\tmodifiers: firstBanner.modifiers,\\n\\t\\t\\taction() {\\n\\t\\t\\t\\tif (firstBanner.link) {\\n\\t\\t\\t\\t\\twindow.open(firstBanner.link, '_system');\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t\\tonClose() {\\n\\t\\t\\t\\tdismissUserBanner({ id: firstBanner.id });\\n\\t\\t\\t},\\n\\t\\t});\\n\\t}, [dismissUserBanner, i18n, t, user?.banners]);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"useUserBanners\",\"link\",\"useUser\",\"v\",\"useEffect\",\"useTranslation\",\"banners\",\"useDismissUserBannerMutation\",\"user\",\"_useTranslation\",\"t\",\"i18n\",\"dismissUserBanner\",\"_useDismissUserBanner\",\"mutate\",\"Object\",\"keys\",\"length\",\"firstBanner\",\"values\",\"filter\",\"b\",\"read\",\"sort\",\"a\",\"priority\",\"open\",\"id\",\"title\",\"exists\",\"text\",\"textArguments\",\"modifiers\",\"action\",\"window\",\"onClose\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,eAAe,WAAA,OAAAA,CAA2B,CAAA,GAAAF,EAAAG,IAAA,CAAA,2BAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,QAAA,CAAAG,UAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,gBAAA,CAAAI,eAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,uBAAA,CAAA,IAAA,SAAAE,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,iCAAA,CAAAM,6BAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAO5C,IAP4CD,EAAAE,EAAAC,EAAAC,EAAAC,EAOtCP,EAAiB,WAC7B,IAAMQ,EAAON,IAEbO,EAAoBJ,IAAZK,EAACD,EAADC,CAAC,CAAEC,EAAIF,EAAJE,IAAI,CACCC,EAAiBC,AAAKN,IAA9BO,MAAM,CAEdV,EAAU,WACT,GAAI,MAACI,GAAAA,EAAMF,OAAO,EAAIS,AAAqC,IAArCA,OAAOC,IAAI,CAACR,EAAKF,OAAO,EAAEW,MAAM,EAItD,IAAMC,EAAcH,OAAOI,MAAM,CAACX,EAAKF,OAAO,EAC5Cc,MAAM,CAAC,SAACC,CAAC,EAAA,MAAKA,AAAW,CAAA,IAAXA,EAAEC,IAAI,AAAS,GAC7BC,IAAI,CAAC,SAACC,CAAC,CAAEH,CAAC,EAAA,OAAKA,EAAEI,QAAQ,CAAGD,EAAEC,QAAQ,EAAC,CAAC,EAAE,CAEvCP,GAILZ,EAAQoB,IAAI,CAAC,CACZC,GAAIT,EAAYS,EAAE,CAClBC,MAAOjB,EAAKkB,MAAM,CAACX,EAAYU,KAAK,EAAIlB,EAAEQ,EAAYU,KAAK,EAAIV,EAAYU,KAAK,CAChFE,KAAMnB,EAAKkB,MAAM,CAACX,EAAYY,IAAI,EAAIpB,EAAEQ,EAAYY,IAAI,CAAEZ,EAAYa,aAAa,EAAIb,EAAYY,IAAI,CACvGE,UAAWd,EAAYc,SAAS,CAChCC,OAAM,WACDf,EAAYjB,IAAI,EACnBiC,OAAOR,IAAI,CAACR,EAAYjB,IAAI,CAAE,UAEhC,EACAkC,QAAO,WACNvB,EAAkB,CAAEe,GAAIT,EAAYS,EAAAA,AAAE,EACvC,IAEF,EAAG,CAACf,EAAmBD,EAAMD,EAAGF,MAAAA,EAAI,KAAA,EAAJA,EAAMF,OAAO,CAAC,CAC/C\"}"}