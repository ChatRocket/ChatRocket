{"code":"function module(e,i,o){let a,s,t,n,r;o.link(\"meteor/meteor\",{Meteor(e){a=e}},0),o.link(\"../../emoji/client\",{emoji(e){s=e}},1),o.link(\"../../utils/client\",{getUserPreference(e){t=e}},2),o.link(\"../lib/getEmojiConfig\",{getEmojiConfig(e){n=e}},3),o.link(\"../lib/isSetNotNull\",{isSetNotNull(e){r=e}},4);let m=n();if(s.packages.emojione=m.emojione,s.packages.emojione){for(let[e,i]of(s.packages.emojione.sprites=m.sprites,s.packages.emojione.emojisByCategory=m.emojisByCategory,s.packages.emojione.emojiCategories=m.emojiCategories,s.packages.emojione.toneList=m.toneList,s.packages.emojione.render=m.render,s.packages.emojione.renderPicker=m.renderPicker,Object.entries(m.emojione.emojioneList)))i.emojiPackage=\"emojione\",s.list[e]=i,i.shortnames&&i.shortnames.forEach(e=>{s.list[e]=i});a.startup(()=>{Tracker.autorun(async()=>{await r(()=>s.packages.emojione)&&s.packages.emojione&&(await r(()=>t(a.userId(),\"convertAsciiEmoji\"))?s.packages.emojione.ascii=await t(a.userId(),\"convertAsciiEmoji\"):s.packages.emojione.ascii=!0)})})}}","map":"{\"version\":3,\"sources\":[\"app/emoji-emojione/client/lib.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Meteor } from 'meteor/meteor';\\n\\nimport { emoji } from '../../emoji/client';\\nimport { getUserPreference } from '../../utils/client';\\nimport { getEmojiConfig } from '../lib/getEmojiConfig';\\nimport { isSetNotNull } from '../lib/isSetNotNull';\\n\\nconst config = getEmojiConfig();\\n\\nemoji.packages.emojione = config.emojione as any;\\nif (emoji.packages.emojione) {\\n\\temoji.packages.emojione.sprites = config.sprites;\\n\\temoji.packages.emojione.emojisByCategory = config.emojisByCategory;\\n\\temoji.packages.emojione.emojiCategories = config.emojiCategories as any;\\n\\temoji.packages.emojione.toneList = config.toneList;\\n\\n\\temoji.packages.emojione.render = config.render;\\n\\temoji.packages.emojione.renderPicker = config.renderPicker;\\n\\n\\t// RocketChat.emoji.list is the collection of emojis from all emoji packages\\n\\tfor (const [key, currentEmoji] of Object.entries(config.emojione.emojioneList)) {\\n\\t\\tcurrentEmoji.emojiPackage = 'emojione';\\n\\t\\temoji.list[key] = currentEmoji;\\n\\n\\t\\tif (currentEmoji.shortnames) {\\n\\t\\t\\tcurrentEmoji.shortnames.forEach((shortname: string) => {\\n\\t\\t\\t\\temoji.list[shortname] = currentEmoji;\\n\\t\\t\\t});\\n\\t\\t}\\n\\t}\\n\\n\\t// Additional settings -- ascii emojis\\n\\tMeteor.startup(() => {\\n\\t\\tTracker.autorun(async () => {\\n\\t\\t\\tif ((await isSetNotNull(() => emoji.packages.emojione)) && emoji.packages.emojione) {\\n\\t\\t\\t\\tif (await isSetNotNull(() => getUserPreference(Meteor.userId() as string, 'convertAsciiEmoji'))) {\\n\\t\\t\\t\\t\\temoji.packages.emojione.ascii = await getUserPreference(Meteor.userId() as string, 'convertAsciiEmoji');\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\temoji.packages.emojione.ascii = true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\t});\\n}\\n\",null],\"names\":[\"Meteor\",\"emoji\",\"getUserPreference\",\"getEmojiConfig\",\"isSetNotNull\",\"module\",\"link\",\"v\",\"config\",\"packages\",\"emojione\",\"key\",\"currentEmoji\",\"sprites\",\"emojisByCategory\",\"emojiCategories\",\"toneList\",\"render\",\"renderPicker\",\"Object\",\"entries\",\"emojioneList\",\"emojiPackage\",\"list\",\"shortnames\",\"forEach\",\"shortname\",\"startup\",\"Tracker\",\"autorun\",\"userId\",\"ascii\"],\"mappings\":\"2BAAAA,EAAuCC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAQC,IAAA,CAAM,gBAAgB,CAAAN,OAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,qBAAA,CAAAL,MAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,qBAAA,CAAAJ,kBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAH,eAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,sBAAA,CAAAF,aAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAOvC,IAAMC,EAASL,IAGf,GADAF,EAAMQ,QAAQ,CAACC,QAAQ,CAAGF,EAAOE,QAAe,CAC5CT,EAAMQ,QAAQ,CAACC,QAAQ,CAAE,CAU5B,IAAK,GAAM,CAACC,EAAKC,EAAa,GAT9BX,EAAMQ,QAAQ,CAACC,QAAQ,CAACG,OAAO,CAAGL,EAAOK,OAAO,CAChDZ,EAAMQ,QAAQ,CAACC,QAAQ,CAACI,gBAAgB,CAAGN,EAAOM,gBAAgB,CAClEb,EAAMQ,QAAQ,CAACC,QAAQ,CAACK,eAAe,CAAGP,EAAOO,eAAsB,CACvEd,EAAMQ,QAAQ,CAACC,QAAQ,CAACM,QAAQ,CAAGR,EAAOQ,QAAQ,CAElDf,EAAMQ,QAAQ,CAACC,QAAQ,CAACO,MAAM,CAAGT,EAAOS,MAAM,CAC9ChB,EAAMQ,QAAQ,CAACC,QAAQ,CAACQ,YAAY,CAAGV,EAAOU,YAAY,CAGxBC,OAAOC,OAAO,CAACZ,EAAOE,QAAQ,CAACW,YAAY,GAC5ET,EAAaU,YAAY,CAAG,WAC5BrB,EAAMsB,IAAI,CAACZ,EAAI,CAAGC,EAEdA,EAAaY,UAAU,EAC1BZ,EAAaY,UAAU,CAACC,OAAO,CAAEC,IAChCzB,EAAMsB,IAAI,CAACG,EAAU,CAAGd,CACzB,GAKFZ,EAAO2B,OAAO,CAAC,KACdC,QAAQC,OAAO,CAAC,UACV,MAAMzB,EAAa,IAAMH,EAAMQ,QAAQ,CAACC,QAAQ,GAAMT,EAAMQ,QAAQ,CAACC,QAAQ,GAC7E,MAAMN,EAAa,IAAMF,EAAkBF,EAAO8B,MAAM,GAAc,sBACzE7B,EAAMQ,QAAQ,CAACC,QAAQ,CAACqB,KAAK,CAAG,MAAM7B,EAAkBF,EAAO8B,MAAM,GAAc,qBAEnF7B,EAAMQ,QAAQ,CAACC,QAAQ,CAACqB,KAAK,CAAG,CAAA,EAGnC,EACD,EACD\"}"}