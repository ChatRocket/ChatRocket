{"code":"function module(e,t,n){let a,o,l,c,s,r,i,u,m;n.link(\"@rocket.chat/fuselage\",{IconButton(e){a=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){o=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){l=e},useToastMessageDispatch(e){c=e},useEndpoint(e){s=e}},2),n.link(\"react\",{default(e){r=e}},3),n.link(\"react-i18next\",{useTranslation(e){i=e}},4),n.link(\"../../../../../components/GenericModal\",{default(e){u=e}},5),n.link(\"../../../../../components/GenericTable\",{GenericTableCell(e){m=e}},6),n.exportDefault(e=>{let{username:t,reload:n}=e,k=s(\"DELETE\",\"/v1/omnichannel/agent/extension/:username\",{username:t}),h=l(),p=c(),{t:g}=i(),d=o(async()=>{try{await k()}catch(e){p({type:\"error\",message:e})}n()}),f=o(e=>{e.stopPropagation();let t=async()=>{try{await d(),p({type:\"success\",message:g(\"Agent_removed\")})}catch(e){p({type:\"error\",message:e})}h()};h(r.createElement(u,{variant:\"danger\",onConfirm:t,onCancel:()=>h(),onClose:()=>h(),confirmText:g(\"Delete\")}))});return r.createElement(m,{fontScale:\"p2\",color:\"hint\",withTruncatedText:!0},r.createElement(a,{icon:\"trash\",small:!0,title:g(\"Remove_Association\"),onClick:f}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/settings/groups/VoipGroupPage/RemoveAgentButton.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { IconButton } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../../../components/GenericModal';\\nimport { GenericTableCell } from '../../../../../components/GenericTable';\\n\\ntype RemoveAgentButtonProps = { username: string; reload: () => void };\\n\\nconst RemoveAgentButton = ({ username, reload }: RemoveAgentButtonProps) => {\\n\\tconst removeAgent = useEndpoint('DELETE', '/v1/omnichannel/agent/extension/:username', { username });\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst { t } = useTranslation();\\n\\n\\tconst handleRemoveClick = useMutableCallback(async () => {\\n\\t\\ttry {\\n\\t\\t\\tawait removeAgent();\\n\\t\\t} catch (error: unknown) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t\\treload();\\n\\t});\\n\\n\\tconst handleDelete = useMutableCallback((e) => {\\n\\t\\te.stopPropagation();\\n\\t\\tconst onDeleteAgent = async (): Promise<void> => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait handleRemoveClick();\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Agent_removed') });\\n\\t\\t\\t} catch (error: unknown) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t}\\n\\t\\t\\tsetModal();\\n\\t\\t};\\n\\n\\t\\tsetModal(\\n\\t\\t\\t<GenericModal\\n\\t\\t\\t\\tvariant='danger'\\n\\t\\t\\t\\tonConfirm={onDeleteAgent}\\n\\t\\t\\t\\tonCancel={(): void => setModal()}\\n\\t\\t\\t\\tonClose={(): void => setModal()}\\n\\t\\t\\t\\tconfirmText={t('Delete')}\\n\\t\\t\\t/>,\\n\\t\\t);\\n\\t});\\n\\n\\treturn (\\n\\t\\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\\n\\t\\t\\t<IconButton icon='trash' small title={t('Remove_Association')} onClick={handleDelete} />\\n\\t\\t</GenericTableCell>\\n\\t);\\n};\\n\\nexport default RemoveAgentButton;\\n\",null],\"names\":[\"IconButton\",\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useEndpoint\",\"React\",\"useTranslation\",\"GenericModal\",\"GenericTableCell\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"username\",\"reload\",\"removeAgent\",\"setModal\",\"dispatchToastMessage\",\"t\",\"handleRemoveClick\",\"error\",\"type\",\"message\",\"handleDelete\",\"e\",\"stopPropagation\",\"onDeleteAgent\",\"createElement\",\"variant\",\"onConfirm\",\"onCancel\",\"onClose\",\"confirmText\",\"fontScale\",\"color\",\"withTruncatedText\",\"icon\",\"small\",\"title\",\"onClick\"],\"mappings\":\"2BAAAA,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA1CC,EAAYC,IAAA,CAAM,wBAAwB,CAAAV,WAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAT,mBAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAR,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,wBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,YAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAJ,eAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yCAAA,CAAAE,QAAAD,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yCAAA,CAAAF,iBAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAnDF,EAAOI,aAAY,CAWOC,IAAiD,GAAhD,CAAEC,SAAAA,CAAQ,CAAEC,OAAAA,CAAAA,CAAgC,CAAAF,EAChEG,EAAcb,EAAY,SAAU,4CAA6C,CAAEW,SAAAA,CAAQ,GAC3FG,EAAWhB,IACXiB,EAAuBhB,IACvB,CAAEiB,EAAAA,CAAAA,CAAG,CAAGd,IAERe,EAAoBpB,EAAmB,UAC5C,GAAI,CACH,MAAMgB,GACP,CAAE,MAAOK,EAAgB,CACxBH,EAAqB,CAAEI,KAAM,QAASC,QAASF,CAAK,EACrD,CACAN,GACD,GAEMS,EAAexB,EAAoByB,IACxCA,EAAEC,eAAe,GACjB,IAAMC,EAAgB,UACrB,GAAI,CACH,MAAMP,IACNF,EAAqB,CAAEI,KAAM,UAAWC,QAASJ,EAAE,gBAAgB,EACpE,CAAE,MAAOE,EAAgB,CACxBH,EAAqB,CAAEI,KAAM,QAASC,QAASF,CAAK,EACrD,CACAJ,GACD,EAEAA,EACCb,EAAAwB,aAAA,CAACtB,EAAY,CACZuB,QAAQ,SACRC,UAAWH,EACXI,SAAUA,IAAYd,IACtBe,QAASA,IAAYf,IACrBgB,YAAad,EAAE,SAAU,GAG5B,GAEA,OACCf,EAAAwB,aAAA,CAACrB,EAAgB,CAAC2B,UAAU,KAAKC,MAAM,OAAOC,kBAAiB,CAAA,CAAA,EAC9DhC,EAAAwB,aAAA,CAAC7B,EAAU,CAACsC,KAAK,QAAQC,MAAK,CAAA,EAACC,MAAOpB,EAAE,sBAAuBqB,QAAShB,CAAa,GAGxF\"}"}