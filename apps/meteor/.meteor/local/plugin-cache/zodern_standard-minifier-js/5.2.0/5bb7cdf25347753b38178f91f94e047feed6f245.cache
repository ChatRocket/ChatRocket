{"code":"function module(e,t,n){var r,a,o,i,s,c,u,l,p,m,d,f,g,k,v,E,_,y,h,b,S,I;n.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),n.link(\"@rocket.chat/fuselage\",{Box:function(e){a=e},Margins:function(e){o=e},ProgressBar:function(e){i=e},Throbber:function(e){s=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){c=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){u=e},useEndpoint:function(e){l=e},useTranslation:function(e){p=e},useStream:function(e){m=e},useRouter:function(e){d=e}},2),n.link(\"@tanstack/react-query\",{useQuery:function(e){f=e},useMutation:function(e){g=e},useQueryClient:function(e){k=e}},3),n.link(\"react\",{default:function(e){v=e},useEffect:function(e){E=e}},4),n.link(\"../../../../app/importer/lib/ImporterProgressStep\",{ImportingStartedStates:function(e){_=e}},5),n.link(\"../../../../lib/utils/stringUtils\",{numberFormat:function(e){y=e}},6),n.link(\"../../../components/Page\",{Page:function(e){h=e},PageHeader:function(e){b=e},PageScrollableContentWithShadow:function(e){S=e}},7),n.link(\"./useErrorHandler\",{useErrorHandler:function(e){I=e}},8),n.exportDefault(function(){var e=k(),t=m(\"importers\"),n=p(),x=u(),P=I(),w=d(),C=l(\"GET\",\"/v1/getCurrentImportOperation\"),T=l(\"GET\",\"/v1/getImportProgress\"),D=g({mutationFn:function(t){return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:e.setQueryData([\"importers\",\"progress\"],t);case 1:case\"end\":return n.stop()}},null,null,null,Promise)}}),L=f([\"ImportProgressPage\",\"currentOperation\"],function(){var e;return r.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.awrap(C());case 2:return e=t.sent.operation,t.abrupt(\"return\",e);case 5:case\"end\":return t.stop()}},null,null,null,Promise)},{refetchInterval:1e3,onSuccess:function(e){var t=e.valid,r=e.status;if(!t){w.navigate(\"/admin/import\");return}if(\"importer_done\"===r){x({type:\"success\",message:n(\"Importer_done\")}),w.navigate(\"/admin/import\");return}_.includes(r)||w.navigate(\"/admin/import/prepare\")},onError:function(e){P(e,n(\"Failed_To_Load_Import_Data\")),w.navigate(\"/admin/import\")}}),F=c(function(e){var t=e.key,r=e.step,a=e.completed,o=e.total;if(L.isSuccess&&t.toLowerCase()===L.data.importerKey.toLowerCase()){var i=r[0].toUpperCase()+r.slice(1);switch(r){case\"importer_done\":n.has(i)&&x({type:\"success\",message:n(i)}),w.navigate(\"/admin/import\");return;case\"importer_import_failed\":case\"importer_import_cancelled\":n.has(i)&&P(i),w.navigate(\"/admin/import\");return;default:D.mutate({step:r,completed:a,total:o})}}}),M=f([\"importers\",\"progress\"],function(){var e,t,n,a,o,i,s,c;return r.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,r.awrap(T());case 2:return t=(e=u.sent).key,n=e.step,i=void 0===(o=(a=void 0===(a=e.count)?{}:a).completed)?0:o,c=void 0===(s=a.total)?0:s,u.abrupt(\"return\",{key:t,step:n,completed:i,total:c});case 9:case\"end\":return u.stop()}},null,null,null,Promise)},{enabled:!!L.isSuccess,onSuccess:function(e){if(!e){x({type:\"warning\",message:n(\"Importer_not_in_progress\")}),w.navigate(\"/admin/import/prepare\");return}_.includes(e.step)||F({key:e.key,step:e.step,total:e.total,completed:e.completed})},onError:function(e){P(e,n(\"Failed_To_Load_Import_Data\")),w.navigate(\"/admin/import\")}});return E(function(){return t(\"progress\",function(e){\"rate\"in e||F({key:e.key,step:e.step,completed:e.count.completed,total:e.count.total})})},[F,t]),v.createElement(h,null,v.createElement(b,{title:n(\"Importing_Data\")}),v.createElement(S,null,v.createElement(a,{marginInline:\"auto\",marginBlock:\"neg-x24\",width:\"full\",maxWidth:\"x580\"},v.createElement(o,{block:24},L.isLoading&&v.createElement(s,{justifyContent:\"center\"}),\"idle\"!==M.fetchStatus&&M.isLoading&&v.createElement(s,{justifyContent:\"center\"}),(L.isError||M.isError)&&v.createElement(a,{is:\"p\"},n(\"Failed_To_Load_Import_Data\")),M.isSuccess&&v.createElement(v.Fragment,null,v.createElement(a,{is:\"p\",fontScale:\"p2\"},n(M.data.step[0].toUpperCase()+M.data.step.slice(1))),v.createElement(a,{display:\"flex\",justifyContent:\"center\"},v.createElement(i,{percentage:M.data.completed/M.data.total*100}),v.createElement(a,{is:\"span\",fontScale:\"p2\",mis:24},y(M.data.completed/M.data.total*100,0),\"%\")))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/import/ImportProgressPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ProgressStep } from '@rocket.chat/core-typings';\\nimport { Box, Margins, ProgressBar, Throbber } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useToastMessageDispatch, useEndpoint, useTranslation, useStream, useRouter } from '@rocket.chat/ui-contexts';\\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\\nimport React, { useEffect } from 'react';\\n\\nimport { ImportingStartedStates } from '../../../../app/importer/lib/ImporterProgressStep';\\nimport { numberFormat } from '../../../../lib/utils/stringUtils';\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport { useErrorHandler } from './useErrorHandler';\\n\\n// TODO: review inner logic\\nconst ImportProgressPage = function ImportProgressPage() {\\n\\tconst queryClient = useQueryClient();\\n\\tconst streamer = useStream('importers');\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst handleError = useErrorHandler();\\n\\n\\tconst router = useRouter();\\n\\n\\tconst getCurrentImportOperation = useEndpoint('GET', '/v1/getCurrentImportOperation');\\n\\tconst getImportProgress = useEndpoint('GET', '/v1/getImportProgress');\\n\\n\\tconst mutation = useMutation({\\n\\t\\tmutationFn: async (props: { step: ProgressStep; completed: number; total: number }) => {\\n\\t\\t\\tqueryClient.setQueryData<{\\n\\t\\t\\t\\tstep: ProgressStep;\\n\\t\\t\\t\\tcompleted: number;\\n\\t\\t\\t\\ttotal: number;\\n\\t\\t\\t}>(['importers', 'progress'], props);\\n\\t\\t},\\n\\t});\\n\\n\\tconst currentOperation = useQuery(\\n\\t\\t['ImportProgressPage', 'currentOperation'],\\n\\t\\tasync () => {\\n\\t\\t\\tconst { operation } = await getCurrentImportOperation();\\n\\t\\t\\treturn operation;\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\trefetchInterval: 1000,\\n\\t\\t\\tonSuccess: ({ valid, status }) => {\\n\\t\\t\\t\\tif (!valid) {\\n\\t\\t\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (status === 'importer_done') {\\n\\t\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Importer_done') });\\n\\t\\t\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!(ImportingStartedStates as string[]).includes(status)) {\\n\\t\\t\\t\\t\\trouter.navigate('/admin/import/prepare');\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t\\tonError: (error) => {\\n\\t\\t\\t\\thandleError(error, t('Failed_To_Load_Import_Data'));\\n\\t\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t\\t},\\n\\t\\t},\\n\\t);\\n\\n\\tconst handleProgressUpdated = useMutableCallback(\\n\\t\\t({ key, step, completed, total }: { key: string; step: ProgressStep; completed: number; total: number }) => {\\n\\t\\t\\tif (!currentOperation.isSuccess) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tif (key.toLowerCase() !== currentOperation.data.importerKey.toLowerCase()) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst message = step[0].toUpperCase() + step.slice(1);\\n\\n\\t\\t\\tswitch (step) {\\n\\t\\t\\t\\tcase 'importer_done':\\n\\t\\t\\t\\t\\tt.has(message) &&\\n\\t\\t\\t\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\t\\t\\t\\ttype: 'success',\\n\\t\\t\\t\\t\\t\\t\\tmessage: t(message),\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t\\t\\t\\treturn;\\n\\n\\t\\t\\t\\tcase 'importer_import_failed':\\n\\t\\t\\t\\tcase 'importer_import_cancelled':\\n\\t\\t\\t\\t\\tt.has(message) && handleError(message);\\n\\t\\t\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t\\t\\t\\treturn;\\n\\n\\t\\t\\t\\tdefault:\\n\\t\\t\\t\\t\\tmutation.mutate({ step, completed, total });\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\t\\t},\\n\\t);\\n\\n\\tconst progress = useQuery(\\n\\t\\t['importers', 'progress'],\\n\\t\\tasync () => {\\n\\t\\t\\tconst { key, step, count: { completed = 0, total = 0 } = {} } = await getImportProgress();\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tkey,\\n\\t\\t\\t\\tstep,\\n\\t\\t\\t\\tcompleted,\\n\\t\\t\\t\\ttotal,\\n\\t\\t\\t};\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tenabled: !!currentOperation.isSuccess,\\n\\t\\t\\tonSuccess: (progress) => {\\n\\t\\t\\t\\tif (!progress) {\\n\\t\\t\\t\\t\\tdispatchToastMessage({ type: 'warning', message: t('Importer_not_in_progress') });\\n\\t\\t\\t\\t\\trouter.navigate('/admin/import/prepare');\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// do not use the endpoint data to update the completed progress, leave it to the streamer\\n\\t\\t\\t\\tif (!(ImportingStartedStates as string[]).includes(progress.step)) {\\n\\t\\t\\t\\t\\thandleProgressUpdated({\\n\\t\\t\\t\\t\\t\\tkey: progress.key,\\n\\t\\t\\t\\t\\t\\tstep: progress.step,\\n\\t\\t\\t\\t\\t\\ttotal: progress.total,\\n\\t\\t\\t\\t\\t\\tcompleted: progress.completed,\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t\\tonError: (error) => {\\n\\t\\t\\t\\thandleError(error, t('Failed_To_Load_Import_Data'));\\n\\t\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t\\t},\\n\\t\\t},\\n\\t);\\n\\n\\tuseEffect(() => {\\n\\t\\treturn streamer('progress', (progress) => {\\n\\t\\t\\t// There shouldn't be any progress update sending only the rate at this point of the process\\n\\t\\t\\tif (!('rate' in progress)) {\\n\\t\\t\\t\\thandleProgressUpdated({\\n\\t\\t\\t\\t\\tkey: progress.key,\\n\\t\\t\\t\\t\\tstep: progress.step,\\n\\t\\t\\t\\t\\tcompleted: progress.count.completed,\\n\\t\\t\\t\\t\\ttotal: progress.count.total,\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}, [handleProgressUpdated, streamer]);\\n\\n\\treturn (\\n\\t\\t<Page>\\n\\t\\t\\t<PageHeader title={t('Importing_Data')} />\\n\\t\\t\\t<PageScrollableContentWithShadow>\\n\\t\\t\\t\\t<Box marginInline='auto' marginBlock='neg-x24' width='full' maxWidth='x580'>\\n\\t\\t\\t\\t\\t<Margins block={24}>\\n\\t\\t\\t\\t\\t\\t{currentOperation.isLoading && <Throbber justifyContent='center' />}\\n\\t\\t\\t\\t\\t\\t{progress.fetchStatus !== 'idle' && progress.isLoading && <Throbber justifyContent='center' />}\\n\\n\\t\\t\\t\\t\\t\\t{(currentOperation.isError || progress.isError) && <Box is='p'>{t('Failed_To_Load_Import_Data')}</Box>}\\n\\t\\t\\t\\t\\t\\t{progress.isSuccess && (\\n\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Box is='p' fontScale='p2'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{t((progress.data.step[0].toUpperCase() + progress.data.step.slice(1)) as any)}\\n\\t\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Box display='flex' justifyContent='center'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ProgressBar percentage={(progress.data.completed / progress.data.total) * 100} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Box is='span' fontScale='p2' mis={24}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{numberFormat((progress.data.completed / progress.data.total) * 100, 0)}%\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</Margins>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default ImportProgressPage;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"Box\",\"Margins\",\"ProgressBar\",\"Throbber\",\"useMutableCallback\",\"useToastMessageDispatch\",\"useEndpoint\",\"useTranslation\",\"useStream\",\"useRouter\",\"useQuery\",\"useMutation\",\"useQueryClient\",\"React\",\"useEffect\",\"ImportingStartedStates\",\"numberFormat\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"useErrorHandler\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"queryClient\",\"streamer\",\"t\",\"dispatchToastMessage\",\"handleError\",\"router\",\"getCurrentImportOperation\",\"getImportProgress\",\"mutation\",\"mutationFn\",\"props\",\"async\",\"_context\",\"prev\",\"next\",\"setQueryData\",\"stop\",\"Promise\",\"currentOperation\",\"operation\",\"_context2\",\"awrap\",\"_await$getCurrentImpo\",\"sent\",\"abrupt\",\"refetchInterval\",\"onSuccess\",\"_ref\",\"valid\",\"status\",\"navigate\",\"type\",\"message\",\"includes\",\"onError\",\"error\",\"handleProgressUpdated\",\"_ref2\",\"key\",\"step\",\"completed\",\"total\",\"isSuccess\",\"toLowerCase\",\"data\",\"importerKey\",\"toUpperCase\",\"slice\",\"has\",\"mutate\",\"progress\",\"_await$getImportProgr\",\"_await$getImportProgr2\",\"_await$getImportProgr3\",\"_await$getImportProgr4\",\"_context3\",\"count\",\"enabled\",\"createElement\",\"title\",\"marginInline\",\"marginBlock\",\"width\",\"maxWidth\",\"block\",\"isLoading\",\"justifyContent\",\"fetchStatus\",\"isError\",\"is\",\"Fragment\",\"fontScale\",\"display\",\"percentage\",\"mis\"],\"mappings\":\"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\"}"}