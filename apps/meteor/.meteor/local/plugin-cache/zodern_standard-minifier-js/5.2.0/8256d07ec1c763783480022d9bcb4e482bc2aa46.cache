{"code":"function module(e,n,t){t.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},1),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){o=e}},2),t.export({useQuickActions:function(){return Q}}),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){c=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){s=e},useToastMessageDispatch:function(e){i=e},useUserId:function(e){u=e},useSetting:function(e){l=e},usePermission:function(e){p=e},useRole:function(e){d=e},useEndpoint:function(e){f=e},useMethod:function(e){m=e},useTranslation:function(e){h=e},useRouter:function(e){v=e}},1),t.link(\"react\",{default:function(e){k=e},useCallback:function(e){b=e},useState:function(e){g=e},useEffect:function(e){C=e}},2),t.link(\"../../../../../../../app/livechat-enterprise/client/components/modals/PlaceChatOnHoldModal\",{default:function(e){_=e}},3),t.link(\"../../../../../../../app/livechat/client/collections/LivechatInquiry\",{LivechatInquiry:function(e){x=e}},4),t.link(\"../../../../../../../app/ui-utils/client\",{LegacyRoomManager:function(e){y=e}},5),t.link(\"../../../../../../components/Omnichannel/modals/CloseChatModal\",{default:function(e){w=e}},6),t.link(\"../../../../../../components/Omnichannel/modals/CloseChatModalData\",{default:function(e){M=e}},7),t.link(\"../../../../../../components/Omnichannel/modals/ForwardChatModal\",{default:function(e){T=e}},8),t.link(\"../../../../../../components/Omnichannel/modals/ReturnChatQueueModal\",{default:function(e){E=e}},9),t.link(\"../../../../../../components/Omnichannel/modals/TranscriptModal\",{default:function(e){O=e}},10),t.link(\"../../../../../../hooks/omnichannel/useIsRoomOverMacLimit\",{useIsRoomOverMacLimit:function(e){P=e}},11),t.link(\"../../../../../../hooks/omnichannel/useOmnichannelRouteConfig\",{useOmnichannelRouteConfig:function(e){S=e}},12),t.link(\"../../../../../../hooks/useHasLicenseModule\",{useHasLicenseModule:function(e){L=e}},13),t.link(\"../../../../../../ui\",{quickActionHooks:function(e){R=e}},14),t.link(\"../../../../contexts/RoomContext\",{useOmnichannelRoom:function(e){q=e}},15),t.link(\"../../../../lib/quickActions\",{QuickActionsEnum:function(e){I=e}},16),t.link(\"./usePutChatOnHoldMutation\",{usePutChatOnHoldMutation:function(e){H=e}},17),t.link(\"./useReturnChatToQueueMutation\",{useReturnChatToQueueMutation:function(e){D=e}},18);var r,a,o,c,s,i,u,l,p,d,f,m,h,v,k,b,g,C,_,x,y,w,M,T,E,O,P,S,L,R,q,I,H,D,Q=function(){var e,n,t,Q=q(),A=s(),F=v(),j=h(),U=i(),V=g(!1),B=o(V,2),G=B[0],z=B[1],J=Q.v._id,K=Q._id,N=u(),W=Q.lastMessage,X=f(\"GET\",\"/v1/livechat/visitors.info\"),Y=c(function(){var e;return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(J){n.next=2;break}return n.abrupt(\"return\");case 2:return n.next=4,r.awrap(X({visitorId:J}));case 4:if(!(null!=(e=n.sent.visitor.visitorEmails)&&e.length&&e[0].address)){n.next=8;break}return n.abrupt(\"return\",e[0].address);case 8:case\"end\":return n.stop()}},null,null,null,Promise)});C(function(){G&&null!=W&&W.token&&A(null)},[W,G,A]);var Z=b(function(){return A(null)},[A]),$=f(\"POST\",\"/v1/livechat/transcript/:rid\",{rid:K}),ee=b(function(e,n){return r.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.awrap($({email:e,subject:n}));case 3:Z(),U({type:\"success\",message:j(\"Livechat_email_transcript_has_been_requested\")}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),U({type:\"error\",message:t.t0});case 10:case\"end\":return t.stop()}},null,null,[[0,7]],Promise)},[Z,U,$,j]),en=f(\"POST\",\"/v1/omnichannel/:rid/request-transcript\",{rid:K}),et=b(function(){return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.awrap(en());case 3:U({type:\"success\",message:j(\"Livechat_transcript_has_been_requested\")}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),U({type:\"error\",message:e.t0});case 9:case\"end\":return e.stop()}},null,null,[[0,6]],Promise)},[U,en,j]),er=m(\"livechat:sendTranscript\"),ea=b(function(e,n,t){return r.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.awrap(er(t,K,e,n));case 3:Z(),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),U({type:\"error\",message:a.t0});case 9:case\"end\":return a.stop()}},null,null,[[0,6]],Promise)},[Z,U,K,er]),eo=f(\"DELETE\",\"/v1/livechat/transcript/:rid\",{rid:K}),ec=b(function(){return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.awrap(eo());case 3:U({type:\"success\",message:j(\"Livechat_transcript_request_has_been_canceled\")}),Z(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),U({type:\"error\",message:e.t0});case 10:case\"end\":return e.stop()}},null,null,[[0,7]],Promise)},[Z,eo,U,j]),es=f(\"POST\",\"/v1/livechat/room.forward\"),ei=b(function(e,n,t){var a;return r.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e&&n)){o.next=2;break}return o.abrupt(\"return\");case 2:return a={roomId:K,comment:t,clientAction:!0},e&&(a.departmentId=e),n&&(a.userId=n),o.prev=5,o.next=8,r.awrap(es(a));case 8:U({type:\"success\",message:j(\"Transferred\")}),F.navigate(\"/home\"),y.close(Q.t+K),Z(),o.next=17;break;case 14:o.prev=14,o.t0=o.catch(5),U({type:\"error\",message:o.t0});case 17:case\"end\":return o.stop()}},null,null,[[5,14]],Promise)},[Z,U,es,Q.t,K,F,j]),eu=f(\"POST\",\"/v1/livechat/room.closeByUser\"),el=b(function(e,n,t,o){return r.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,r.awrap(eu(a(a(a(a({rid:K},e&&{comment:e}),n&&{tags:n}),(null==t?void 0:t.omnichannelTranscriptPDF)&&{generateTranscriptPdf:!0}),null!=t&&t.omnichannelTranscriptEmail&&o?{transcriptEmail:{sendToVisitor:null==t?void 0:t.omnichannelTranscriptEmail,requestData:o}}:{transcriptEmail:{sendToVisitor:!1}})));case 3:x.remove({rid:K}),Z(),U({type:\"success\",message:j(\"Chat_closed_successfully\")}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),U({type:\"error\",message:c.t0});case 11:case\"end\":return c.stop()}},null,null,[[0,8]],Promise)},[eu,Z,U,K,j]),ep=D({onSuccess:function(){y.close(Q.t+K),F.navigate(\"/home\")},onError:function(e){U({type:\"error\",message:e})},onSettled:function(){Z()}}),ed=H({onSuccess:function(){U({type:\"success\",message:j(\"Chat_On_Hold_Successfully\")})},onError:function(e){U({type:\"error\",message:e})},onSettled:function(){Z()}}),ef=c(function(e){var n,t;return r.async(function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=e,a.next=a.t0===I.MoveQueue?3:a.t0===I.TranscriptPDF?5:a.t0===I.TranscriptEmail?7:a.t0===I.ChatForward?15:a.t0===I.CloseChat?17:a.t0===I.OnHoldChat?22:25;break;case 3:return A(k.createElement(E,{onMoveChat:function(){return ep.mutate(K)},onCancel:function(){Z()}})),a.abrupt(\"break\",26);case 5:return et(),a.abrupt(\"break\",26);case 7:return a.next=9,r.awrap(Y());case 9:if(n=a.sent){a.next=13;break}return U({type:\"error\",message:j(\"Customer_without_registered_email\")}),a.abrupt(\"break\",26);case 13:return A(k.createElement(O,{room:Q,email:n,onRequest:ee,onSend:ea,onDiscard:ec,onCancel:Z})),a.abrupt(\"break\",26);case 15:return A(k.createElement(T,{room:Q,onForward:ei,onCancel:Z})),a.abrupt(\"break\",26);case 17:return a.next=19,r.awrap(Y());case 19:return t=a.sent,A(Q.departmentId?k.createElement(M,{visitorEmail:t,departmentId:Q.departmentId,onConfirm:el,onCancel:Z}):k.createElement(w,{visitorEmail:t,onConfirm:el,onCancel:Z})),a.abrupt(\"break\",26);case 22:return A(k.createElement(_,{onOnHoldChat:function(){return ed.mutate(K)},onCancel:function(){Z(),z(!1)}})),z(!0),a.abrupt(\"break\",26);case 25:return a.abrupt(\"break\",26);case 26:case\"end\":return a.stop()}},null,null,null,Promise)}),em=S(),eh=l(\"Livechat_allow_manual_on_hold\"),ev=d(\"livechat-manager\"),ek=d(\"livechat-monitor\"),eb=(null==Q?void 0:Q.open)&&((null===(e=Q.u)||void 0===e?void 0:e._id)===N||ev||ek)&&(null==Q?void 0:null===(n=Q.lastMessage)||void 0===n?void 0:n.t)!==\"livechat-close\",eg=!!(null!=em&&em.returnQueue)&&(null==Q?void 0:Q.u)!==void 0,eC=p(\"transfer-livechat-guest\"),e_=p(\"send-omnichannel-chat-transcript\"),ex=L(\"livechat-enterprise\"),ey=p(\"request-pdf-transcript\"),ew=p(\"close-livechat-room\"),eM=p(\"close-others-livechat-room\"),eT=l(\"Livechat_allow_manual_on_hold_upon_agent_engagement_only\"),eE=!Q.onHold&&Q.u,eO=!(null!==(t=Q.lastMessage)&&void 0!==t&&t.token),eP=!!(eh&&eE&&(!eT||eO)),eS=P(Q),eL=function(e){switch(e){case I.MoveQueue:return!eS&&!!eb&&eg;case I.ChatForward:return!eS&&!!eb&&eC;case I.Transcript:return!eS&&(e_||ex&&ey);case I.TranscriptEmail:return!eS&&e_;case I.TranscriptPDF:return ex&&!eS&&ey;case I.CloseChat:return!!eb&&(ew||eM);case I.OnHoldChat:return!!eb&&eP}return!1};return{quickActions:R.map(function(e){return e()}).filter(function(e){return!!e}).filter(function(e){var n=e.options,t=e.id;return n&&(e.options=n.filter(function(e){return eL(e.id)})),eL(t)}).sort(function(e,n){var t,r;return(null!==(t=e.order)&&void 0!==t?t:0)-(null!==(r=n.order)&&void 0!==r?r:0)}),actionDefault:c(function(e){ef(e)})}}}","map":"{\"version\":3,\"sources\":[\"client/views/room/HeaderV2/Omnichannel/QuickActions/hooks/useQuickActions.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport {\\n\\tuseSetModal,\\n\\tuseToastMessageDispatch,\\n\\tuseUserId,\\n\\tuseSetting,\\n\\tusePermission,\\n\\tuseRole,\\n\\tuseEndpoint,\\n\\tuseMethod,\\n\\tuseTranslation,\\n\\tuseRouter,\\n} from '@rocket.chat/ui-contexts';\\nimport React, { useCallback, useState, useEffect } from 'react';\\n\\nimport PlaceChatOnHoldModal from '../../../../../../../app/livechat-enterprise/client/components/modals/PlaceChatOnHoldModal';\\nimport { LivechatInquiry } from '../../../../../../../app/livechat/client/collections/LivechatInquiry';\\nimport { LegacyRoomManager } from '../../../../../../../app/ui-utils/client';\\nimport CloseChatModal from '../../../../../../components/Omnichannel/modals/CloseChatModal';\\nimport CloseChatModalData from '../../../../../../components/Omnichannel/modals/CloseChatModalData';\\nimport ForwardChatModal from '../../../../../../components/Omnichannel/modals/ForwardChatModal';\\nimport ReturnChatQueueModal from '../../../../../../components/Omnichannel/modals/ReturnChatQueueModal';\\nimport TranscriptModal from '../../../../../../components/Omnichannel/modals/TranscriptModal';\\nimport { useIsRoomOverMacLimit } from '../../../../../../hooks/omnichannel/useIsRoomOverMacLimit';\\nimport { useOmnichannelRouteConfig } from '../../../../../../hooks/omnichannel/useOmnichannelRouteConfig';\\nimport { useHasLicenseModule } from '../../../../../../hooks/useHasLicenseModule';\\nimport { quickActionHooks } from '../../../../../../ui';\\nimport { useOmnichannelRoom } from '../../../../contexts/RoomContext';\\nimport type { QuickActionsActionConfig } from '../../../../lib/quickActions';\\nimport { QuickActionsEnum } from '../../../../lib/quickActions';\\nimport { usePutChatOnHoldMutation } from './usePutChatOnHoldMutation';\\nimport { useReturnChatToQueueMutation } from './useReturnChatToQueueMutation';\\n\\nexport const useQuickActions = (): {\\n\\tquickActions: QuickActionsActionConfig[];\\n\\tactionDefault: (actionId: string) => void;\\n} => {\\n\\tconst room = useOmnichannelRoom();\\n\\tconst setModal = useSetModal();\\n\\tconst router = useRouter();\\n\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst [onHoldModalActive, setOnHoldModalActive] = useState(false);\\n\\n\\tconst visitorRoomId = room.v._id;\\n\\tconst rid = room._id;\\n\\tconst uid = useUserId();\\n\\tconst roomLastMessage = room.lastMessage;\\n\\n\\tconst getVisitorInfo = useEndpoint('GET', '/v1/livechat/visitors.info');\\n\\n\\tconst getVisitorEmail = useMutableCallback(async () => {\\n\\t\\tif (!visitorRoomId) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst {\\n\\t\\t\\tvisitor: { visitorEmails },\\n\\t\\t} = await getVisitorInfo({ visitorId: visitorRoomId });\\n\\n\\t\\tif (visitorEmails?.length && visitorEmails[0].address) {\\n\\t\\t\\treturn visitorEmails[0].address;\\n\\t\\t}\\n\\t});\\n\\n\\tuseEffect(() => {\\n\\t\\tif (onHoldModalActive && roomLastMessage?.token) {\\n\\t\\t\\tsetModal(null);\\n\\t\\t}\\n\\t}, [roomLastMessage, onHoldModalActive, setModal]);\\n\\n\\tconst closeModal = useCallback(() => setModal(null), [setModal]);\\n\\n\\tconst requestTranscript = useEndpoint('POST', '/v1/livechat/transcript/:rid', { rid });\\n\\n\\tconst handleRequestTranscript = useCallback(\\n\\t\\tasync (email: string, subject: string) => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait requestTranscript({ email, subject });\\n\\t\\t\\t\\tcloseModal();\\n\\t\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\t\\ttype: 'success',\\n\\t\\t\\t\\t\\tmessage: t('Livechat_email_transcript_has_been_requested'),\\n\\t\\t\\t\\t});\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[closeModal, dispatchToastMessage, requestTranscript, t],\\n\\t);\\n\\n\\tconst sendTranscriptPDF = useEndpoint('POST', '/v1/omnichannel/:rid/request-transcript', { rid });\\n\\n\\tconst handleSendTranscriptPDF = useCallback(async () => {\\n\\t\\ttry {\\n\\t\\t\\tawait sendTranscriptPDF();\\n\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\ttype: 'success',\\n\\t\\t\\t\\tmessage: t('Livechat_transcript_has_been_requested'),\\n\\t\\t\\t});\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t}, [dispatchToastMessage, sendTranscriptPDF, t]);\\n\\n\\tconst sendTranscript = useMethod('livechat:sendTranscript');\\n\\n\\tconst handleSendTranscript = useCallback(\\n\\t\\tasync (email: string, subject: string, token: string) => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait sendTranscript(token, rid, email, subject);\\n\\t\\t\\t\\tcloseModal();\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[closeModal, dispatchToastMessage, rid, sendTranscript],\\n\\t);\\n\\n\\tconst discardTranscript = useEndpoint('DELETE', '/v1/livechat/transcript/:rid', { rid });\\n\\n\\tconst handleDiscardTranscript = useCallback(async () => {\\n\\t\\ttry {\\n\\t\\t\\tawait discardTranscript();\\n\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\ttype: 'success',\\n\\t\\t\\t\\tmessage: t('Livechat_transcript_request_has_been_canceled'),\\n\\t\\t\\t});\\n\\t\\t\\tcloseModal();\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t}, [closeModal, discardTranscript, dispatchToastMessage, t]);\\n\\n\\tconst forwardChat = useEndpoint('POST', '/v1/livechat/room.forward');\\n\\n\\tconst handleForwardChat = useCallback(\\n\\t\\tasync (departmentId?: string, userId?: string, comment?: string) => {\\n\\t\\t\\tif (departmentId && userId) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tconst transferData: {\\n\\t\\t\\t\\troomId: string;\\n\\t\\t\\t\\tclientAction: boolean;\\n\\t\\t\\t\\tcomment?: string;\\n\\t\\t\\t\\tdepartmentId?: string;\\n\\t\\t\\t\\tuserId?: string;\\n\\t\\t\\t} = {\\n\\t\\t\\t\\troomId: rid,\\n\\t\\t\\t\\tcomment,\\n\\t\\t\\t\\tclientAction: true,\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (departmentId) {\\n\\t\\t\\t\\ttransferData.departmentId = departmentId;\\n\\t\\t\\t}\\n\\t\\t\\tif (userId) {\\n\\t\\t\\t\\ttransferData.userId = userId;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait forwardChat(transferData);\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Transferred') });\\n\\t\\t\\t\\trouter.navigate('/home');\\n\\t\\t\\t\\tLegacyRoomManager.close(room.t + rid);\\n\\t\\t\\t\\tcloseModal();\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[closeModal, dispatchToastMessage, forwardChat, room.t, rid, router, t],\\n\\t);\\n\\n\\tconst closeChat = useEndpoint('POST', '/v1/livechat/room.closeByUser');\\n\\n\\tconst handleClose = useCallback(\\n\\t\\tasync (\\n\\t\\t\\tcomment?: string,\\n\\t\\t\\ttags?: string[],\\n\\t\\t\\tpreferences?: { omnichannelTranscriptPDF: boolean; omnichannelTranscriptEmail: boolean },\\n\\t\\t\\trequestData?: { email: string; subject: string },\\n\\t\\t) => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait closeChat({\\n\\t\\t\\t\\t\\trid,\\n\\t\\t\\t\\t\\t...(comment && { comment }),\\n\\t\\t\\t\\t\\t...(tags && { tags }),\\n\\t\\t\\t\\t\\t...(preferences?.omnichannelTranscriptPDF && { generateTranscriptPdf: true }),\\n\\t\\t\\t\\t\\t...(preferences?.omnichannelTranscriptEmail && requestData\\n\\t\\t\\t\\t\\t\\t? {\\n\\t\\t\\t\\t\\t\\t\\t\\ttranscriptEmail: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tsendToVisitor: preferences?.omnichannelTranscriptEmail,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trequestData,\\n\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t  }\\n\\t\\t\\t\\t\\t\\t: { transcriptEmail: { sendToVisitor: false } }),\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\tLivechatInquiry.remove({ rid });\\n\\t\\t\\t\\tcloseModal();\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Chat_closed_successfully') });\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[closeChat, closeModal, dispatchToastMessage, rid, t],\\n\\t);\\n\\n\\tconst returnChatToQueueMutation = useReturnChatToQueueMutation({\\n\\t\\tonSuccess: () => {\\n\\t\\t\\tLegacyRoomManager.close(room.t + rid);\\n\\t\\t\\trouter.navigate('/home');\\n\\t\\t},\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t\\tonSettled: () => {\\n\\t\\t\\tcloseModal();\\n\\t\\t},\\n\\t});\\n\\n\\tconst putChatOnHoldMutation = usePutChatOnHoldMutation({\\n\\t\\tonSuccess: () => {\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Chat_On_Hold_Successfully') });\\n\\t\\t},\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t\\tonSettled: () => {\\n\\t\\t\\tcloseModal();\\n\\t\\t},\\n\\t});\\n\\n\\tconst handleAction = useMutableCallback(async (id: string) => {\\n\\t\\tswitch (id) {\\n\\t\\t\\tcase QuickActionsEnum.MoveQueue:\\n\\t\\t\\t\\tsetModal(\\n\\t\\t\\t\\t\\t<ReturnChatQueueModal\\n\\t\\t\\t\\t\\t\\tonMoveChat={(): void => returnChatToQueueMutation.mutate(rid)}\\n\\t\\t\\t\\t\\t\\tonCancel={(): void => {\\n\\t\\t\\t\\t\\t\\t\\tcloseModal();\\n\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t/>,\\n\\t\\t\\t\\t);\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase QuickActionsEnum.TranscriptPDF:\\n\\t\\t\\t\\thandleSendTranscriptPDF();\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase QuickActionsEnum.TranscriptEmail:\\n\\t\\t\\t\\tconst visitorEmail = await getVisitorEmail();\\n\\n\\t\\t\\t\\tif (!visitorEmail) {\\n\\t\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('Customer_without_registered_email') });\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsetModal(\\n\\t\\t\\t\\t\\t<TranscriptModal\\n\\t\\t\\t\\t\\t\\troom={room}\\n\\t\\t\\t\\t\\t\\temail={visitorEmail}\\n\\t\\t\\t\\t\\t\\tonRequest={handleRequestTranscript}\\n\\t\\t\\t\\t\\t\\tonSend={handleSendTranscript}\\n\\t\\t\\t\\t\\t\\tonDiscard={handleDiscardTranscript}\\n\\t\\t\\t\\t\\t\\tonCancel={closeModal}\\n\\t\\t\\t\\t\\t/>,\\n\\t\\t\\t\\t);\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase QuickActionsEnum.ChatForward:\\n\\t\\t\\t\\tsetModal(<ForwardChatModal room={room} onForward={handleForwardChat} onCancel={closeModal} />);\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase QuickActionsEnum.CloseChat:\\n\\t\\t\\t\\tconst email = await getVisitorEmail();\\n\\t\\t\\t\\tsetModal(\\n\\t\\t\\t\\t\\troom.departmentId ? (\\n\\t\\t\\t\\t\\t\\t<CloseChatModalData visitorEmail={email} departmentId={room.departmentId} onConfirm={handleClose} onCancel={closeModal} />\\n\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t<CloseChatModal visitorEmail={email} onConfirm={handleClose} onCancel={closeModal} />\\n\\t\\t\\t\\t\\t),\\n\\t\\t\\t\\t);\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase QuickActionsEnum.OnHoldChat:\\n\\t\\t\\t\\tsetModal(\\n\\t\\t\\t\\t\\t<PlaceChatOnHoldModal\\n\\t\\t\\t\\t\\t\\tonOnHoldChat={(): void => putChatOnHoldMutation.mutate(rid)}\\n\\t\\t\\t\\t\\t\\tonCancel={(): void => {\\n\\t\\t\\t\\t\\t\\t\\tcloseModal();\\n\\t\\t\\t\\t\\t\\t\\tsetOnHoldModalActive(false);\\n\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t/>,\\n\\t\\t\\t\\t);\\n\\t\\t\\t\\tsetOnHoldModalActive(true);\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tdefault:\\n\\t\\t\\t\\tbreak;\\n\\t\\t}\\n\\t});\\n\\n\\tconst omnichannelRouteConfig = useOmnichannelRouteConfig();\\n\\n\\tconst manualOnHoldAllowed = useSetting('Livechat_allow_manual_on_hold');\\n\\n\\tconst hasManagerRole = useRole('livechat-manager');\\n\\tconst hasMonitorRole = useRole('livechat-monitor');\\n\\n\\tconst roomOpen = room?.open && (room.u?._id === uid || hasManagerRole || hasMonitorRole) && room?.lastMessage?.t !== 'livechat-close';\\n\\tconst canMoveQueue = !!omnichannelRouteConfig?.returnQueue && room?.u !== undefined;\\n\\tconst canForwardGuest = usePermission('transfer-livechat-guest');\\n\\tconst canSendTranscriptEmail = usePermission('send-omnichannel-chat-transcript');\\n\\tconst hasLicense = useHasLicenseModule('livechat-enterprise');\\n\\tconst canSendTranscriptPDF = usePermission('request-pdf-transcript');\\n\\tconst canCloseRoom = usePermission('close-livechat-room');\\n\\tconst canCloseOthersRoom = usePermission('close-others-livechat-room');\\n\\tconst restrictedOnHold = useSetting('Livechat_allow_manual_on_hold_upon_agent_engagement_only');\\n\\tconst canRoomBePlacedOnHold = !room.onHold && room.u;\\n\\tconst canAgentPlaceOnHold = !room.lastMessage?.token;\\n\\tconst canPlaceChatOnHold = Boolean(manualOnHoldAllowed && canRoomBePlacedOnHold && (!restrictedOnHold || canAgentPlaceOnHold));\\n\\tconst isRoomOverMacLimit = useIsRoomOverMacLimit(room);\\n\\n\\tconst hasPermissionButtons = (id: string): boolean => {\\n\\t\\tswitch (id) {\\n\\t\\t\\tcase QuickActionsEnum.MoveQueue:\\n\\t\\t\\t\\treturn !isRoomOverMacLimit && !!roomOpen && canMoveQueue;\\n\\t\\t\\tcase QuickActionsEnum.ChatForward:\\n\\t\\t\\t\\treturn !isRoomOverMacLimit && !!roomOpen && canForwardGuest;\\n\\t\\t\\tcase QuickActionsEnum.Transcript:\\n\\t\\t\\t\\treturn !isRoomOverMacLimit && (canSendTranscriptEmail || (hasLicense && canSendTranscriptPDF));\\n\\t\\t\\tcase QuickActionsEnum.TranscriptEmail:\\n\\t\\t\\t\\treturn !isRoomOverMacLimit && canSendTranscriptEmail;\\n\\t\\t\\tcase QuickActionsEnum.TranscriptPDF:\\n\\t\\t\\t\\treturn hasLicense && !isRoomOverMacLimit && canSendTranscriptPDF;\\n\\t\\t\\tcase QuickActionsEnum.CloseChat:\\n\\t\\t\\t\\treturn !!roomOpen && (canCloseRoom || canCloseOthersRoom);\\n\\t\\t\\tcase QuickActionsEnum.OnHoldChat:\\n\\t\\t\\t\\treturn !!roomOpen && canPlaceChatOnHold;\\n\\t\\t\\tdefault:\\n\\t\\t\\t\\tbreak;\\n\\t\\t}\\n\\t\\treturn false;\\n\\t};\\n\\n\\tconst quickActions = quickActionHooks\\n\\t\\t.map((quickActionHook) => quickActionHook())\\n\\t\\t.filter((quickAction): quickAction is QuickActionsActionConfig => !!quickAction)\\n\\t\\t.filter((action) => {\\n\\t\\t\\tconst { options, id } = action;\\n\\t\\t\\tif (options) {\\n\\t\\t\\t\\taction.options = options.filter(({ id }) => hasPermissionButtons(id));\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn hasPermissionButtons(id);\\n\\t\\t})\\n\\t\\t.sort((a, b) => (a.order ?? 0) - (b.order ?? 0));\\n\\n\\tconst actionDefault = useMutableCallback((actionId: string) => {\\n\\t\\thandleAction(actionId);\\n\\t});\\n\\n\\treturn { quickActions, actionDefault };\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_objectSpread\",\"_slicedToArray\",\"export\",\"useQuickActions\",\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useUserId\",\"useSetting\",\"usePermission\",\"useRole\",\"useEndpoint\",\"useMethod\",\"useTranslation\",\"useRouter\",\"React\",\"useCallback\",\"useState\",\"useEffect\",\"PlaceChatOnHoldModal\",\"LivechatInquiry\",\"LegacyRoomManager\",\"CloseChatModal\",\"CloseChatModalData\",\"ForwardChatModal\",\"ReturnChatQueueModal\",\"TranscriptModal\",\"useIsRoomOverMacLimit\",\"useOmnichannelRouteConfig\",\"useHasLicenseModule\",\"quickActionHooks\",\"useOmnichannelRoom\",\"QuickActionsEnum\",\"usePutChatOnHoldMutation\",\"useReturnChatToQueueMutation\",\"_room$u\",\"_room$lastMessage\",\"_room$lastMessage2\",\"room\",\"setModal\",\"router\",\"t\",\"dispatchToastMessage\",\"_useState\",\"_useState2\",\"onHoldModalActive\",\"setOnHoldModalActive\",\"visitorRoomId\",\"_id\",\"rid\",\"uid\",\"roomLastMessage\",\"lastMessage\",\"getVisitorInfo\",\"getVisitorEmail\",\"visitorEmails\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"awrap\",\"visitorId\",\"_await$getVisitorInfo\",\"sent\",\"visitor\",\"length\",\"address\",\"stop\",\"Promise\",\"token\",\"closeModal\",\"requestTranscript\",\"handleRequestTranscript\",\"email\",\"subject\",\"_context2\",\"type\",\"message\",\"t0\",\"sendTranscriptPDF\",\"handleSendTranscriptPDF\",\"_context3\",\"sendTranscript\",\"handleSendTranscript\",\"_context4\",\"discardTranscript\",\"handleDiscardTranscript\",\"_context5\",\"forwardChat\",\"handleForwardChat\",\"departmentId\",\"userId\",\"comment\",\"transferData\",\"_context6\",\"roomId\",\"clientAction\",\"navigate\",\"close\",\"closeChat\",\"handleClose\",\"tags\",\"preferences\",\"requestData\",\"_context7\",\"omnichannelTranscriptPDF\",\"generateTranscriptPdf\",\"omnichannelTranscriptEmail\",\"transcriptEmail\",\"sendToVisitor\",\"remove\",\"returnChatToQueueMutation\",\"onSuccess\",\"onError\",\"error\",\"onSettled\",\"putChatOnHoldMutation\",\"handleAction\",\"id\",\"visitorEmail\",\"_context8\",\"MoveQueue\",\"TranscriptPDF\",\"TranscriptEmail\",\"ChatForward\",\"CloseChat\",\"OnHoldChat\",\"createElement\",\"onMoveChat\",\"mutate\",\"onCancel\",\"onRequest\",\"onSend\",\"onDiscard\",\"onForward\",\"onConfirm\",\"onOnHoldChat\",\"omnichannelRouteConfig\",\"manualOnHoldAllowed\",\"hasManagerRole\",\"hasMonitorRole\",\"roomOpen\",\"open\",\"u\",\"canMoveQueue\",\"returnQueue\",\"undefined\",\"canForwardGuest\",\"canSendTranscriptEmail\",\"hasLicense\",\"canSendTranscriptPDF\",\"canCloseRoom\",\"canCloseOthersRoom\",\"restrictedOnHold\",\"canRoomBePlacedOnHold\",\"onHold\",\"canAgentPlaceOnHold\",\"canPlaceChatOnHold\",\"Boolean\",\"isRoomOverMacLimit\",\"hasPermissionButtons\",\"Transcript\",\"quickActions\",\"map\",\"quickActionHook\",\"filter\",\"quickAction\",\"action\",\"options\",\"_ref\",\"sort\",\"a\",\"b\",\"_a$order\",\"_b$order\",\"order\",\"actionDefault\",\"actionId\"],\"mappings\":\"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\"}"}