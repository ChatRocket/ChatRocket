{"code":"function module(n,e,t){t.link(\"@babel/runtime/regenerator\",{default:function(n){i=n}},0),t.export({useDismissMessageAction:function(){return m}}),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(n){o=n},useSetModal:function(n){r=n},useToastMessageDispatch:function(n){s=n}},0),t.link(\"@tanstack/react-query\",{useMutation:function(n){u=n},useQueryClient:function(n){a=n}},1),t.link(\"react\",{default:function(n){c=n}},2),t.link(\"react-i18next\",{useTranslation:function(n){f=n}},3),t.link(\"../../../../components/GenericModal\",{default:function(n){l=n}},4);var i,o,r,s,u,a,c,f,l,m=function(n){var e=f().t,t=r(),m=s(),d=a(),p=o(\"POST\",\"/v1/moderation.dismissReports\"),M=u({mutationFn:p,onError:function(n){m({type:\"error\",message:n})},onSuccess:function(){m({type:\"success\",message:e(\"Moderation_Reports_dismissed\")})}}),_=function(){t(c.createElement(l,{title:e(\"Moderation_Dismiss_reports\"),confirmText:e(\"Moderation_Dismiss_reports\"),variant:\"danger\",onConfirm:function(){return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.awrap(M.mutateAsync({msgId:n}));case 2:d.invalidateQueries({queryKey:[\"moderation\",\"msgReports\"]}),t();case 4:case\"end\":return e.stop()}},null,null,null,Promise)},onCancel:function(){return t()}},e(\"Moderation_Dismiss_reports_confirm\")))};return{action:function(){return _()}}}}","map":"{\"version\":3,\"sources\":[\"client/views/admin/moderation/hooks/useDismissMessageAction.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint, useSetModal, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../../components/GenericModal';\\n\\nexport const useDismissMessageAction = (msgId: string): { action: () => void } => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst queryClient = useQueryClient();\\n\\n\\tconst dismissMessage = useEndpoint('POST', '/v1/moderation.dismissReports');\\n\\n\\tconst handleDismissMessage = useMutation({\\n\\t\\tmutationFn: dismissMessage,\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t\\tonSuccess: () => {\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Moderation_Reports_dismissed') });\\n\\t\\t},\\n\\t});\\n\\n\\tconst onDismissMessage = async () => {\\n\\t\\tawait handleDismissMessage.mutateAsync({ msgId });\\n\\t\\tqueryClient.invalidateQueries({ queryKey: ['moderation', 'msgReports'] });\\n\\t\\tsetModal();\\n\\t};\\n\\n\\tconst confirmDismissMessage = (): void => {\\n\\t\\tsetModal(\\n\\t\\t\\t<GenericModal\\n\\t\\t\\t\\ttitle={t('Moderation_Dismiss_reports')}\\n\\t\\t\\t\\tconfirmText={t('Moderation_Dismiss_reports')}\\n\\t\\t\\t\\tvariant='danger'\\n\\t\\t\\t\\tonConfirm={() => onDismissMessage()}\\n\\t\\t\\t\\tonCancel={() => setModal()}\\n\\t\\t\\t>\\n\\t\\t\\t\\t{t('Moderation_Dismiss_reports_confirm')}\\n\\t\\t\\t</GenericModal>,\\n\\t\\t);\\n\\t};\\n\\n\\treturn {\\n\\t\\taction: () => confirmDismissMessage(),\\n\\t};\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"export\",\"useDismissMessageAction\",\"useEndpoint\",\"useSetModal\",\"useToastMessageDispatch\",\"useMutation\",\"useQueryClient\",\"React\",\"useTranslation\",\"GenericModal\",\"msgId\",\"t\",\"_useTranslation\",\"setModal\",\"dispatchToastMessage\",\"queryClient\",\"dismissMessage\",\"handleDismissMessage\",\"mutationFn\",\"onError\",\"error\",\"type\",\"message\",\"onSuccess\",\"confirmDismissMessage\",\"createElement\",\"title\",\"confirmText\",\"variant\",\"onConfirm\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"mutateAsync\",\"invalidateQueries\",\"queryKey\",\"stop\",\"Promise\",\"onCancel\",\"action\"],\"mappings\":\"uBAAsBA,EAAAC,IAAa,CAAA,6BAAyB,CAAMC,QAAA,SAAAC,CAAA,EAAAC,EAA2BD,CAAA,CAAA,EAAA,GAA7FH,EAAOK,MAAE,CAAA,CAAAC,wBAA0B,WAAA,OAAAA,CAA+B,CAAA,GAA2BN,EAAAC,IAAA,CAAA,2BAAA,CAAAM,YAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,EAAAK,YAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,wBAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAS,YAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,EAAAQ,eAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAY,eAAA,SAAAV,CAAA,EAAAU,EAAAV,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,sCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAW,EAAAX,CAAA,CAAA,EAAA,GAOtF,IAPPC,EAAkEG,EAA2BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAOhFR,EAA0B,SAACS,CAAa,EACpD,IAAQC,EAACC,AAAKJ,IAANG,CAAC,CACHE,EAAWV,IACXW,EAAuBV,IACvBW,EAAcT,IAEdU,EAAiBd,EAAY,OAAQ,iCAErCe,EAAuBZ,EAAY,CACxCa,WAAYF,EACZG,QAAS,SAACC,CAAK,EACdN,EAAqB,CAAEO,KAAM,QAASC,QAASF,CAAK,EACrD,EACAG,UAAW,WACVT,EAAqB,CAAEO,KAAM,UAAWC,QAASX,EAAE,+BAA+B,EACnF,IASKa,EAAwB,WAC7BX,EACCN,EAAAkB,aAAA,CAAChB,EAAY,CACZiB,MAAOf,EAAE,8BACTgB,YAAahB,EAAE,8BACfiB,QAAQ,SACRC,UAAW,WAAA,OAZW9B,EAAA+B,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAE,IAAA,CAAA,EAAAlC,EAAAmC,KAAA,CAClBjB,EAAqBkB,WAAW,CAAC,CAAEzB,MAAAA,CAAK,GAAG,MAAA,EACjDK,EAAYqB,iBAAiB,CAAC,CAAEC,SAAU,CAAC,aAAc,aAAY,AAAC,GACtExB,GAAW,MAAA,EAAA,IAAA,MAAA,OAAAkB,EAAAO,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAS0B,EACnCC,SAAU,WAAA,OAAM3B,GAAU,CAAC,EAE1BF,EAAE,uCAGN,EAEA,MAAO,CACN8B,OAAQ,WAAA,OAAMjB,GAAuB,EAEvC\"}"}