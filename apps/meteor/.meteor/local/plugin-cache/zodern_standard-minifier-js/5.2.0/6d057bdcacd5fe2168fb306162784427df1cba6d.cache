{"code":"function module(e,t,n){var o,l,i,a,c,r,s,u,m,d,f;n.link(\"@rocket.chat/fuselage\",{Button:function(e){o=e},Card:function(e){l=e},CardControls:function(e){i=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){a=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){c=e}},2),n.link(\"react\",{default:function(e){r=e},memo:function(e){s=e}},3),n.link(\"react-i18next\",{useTranslation:function(e){u=e}},4),n.link(\"../../../../hooks/useFormatDateAndTime\",{useFormatDateAndTime:function(e){m=e}},5),n.link(\"../components/WorkspaceCardSection\",{default:function(e){d=e}},6),n.link(\"./components/InstancesModal\",{default:function(e){f=e}},7),n.exportDefault(s(function(e){var t=e.serverInfo,n=t.info,s=t.cloudWorkspaceId,E=e.statistics,b=e.instances,k=u().t,p=m(),g=c(),h=n||{},y=h.commit,D=void 0===y?{}:y,C=h.marketplaceApiVersion,_=a(function(){g(r.createElement(f,{instances:b,onClose:function(){return g()}}))});return r.createElement(l,{\"data-qa-id\":\"deployment-card\",height:\"full\"},r.createElement(d,{title:k(\"Deployment\")}),r.createElement(d,{title:k(\"Version\"),body:E.version}),r.createElement(d,{title:k(\"Deployment_ID\"),body:E.uniqueId}),s&&r.createElement(d,{title:k(\"Cloud_Workspace_Id\"),body:s}),C&&r.createElement(d,{title:k(\"Apps_Engine_Version\"),body:C}),r.createElement(d,{title:k(\"Node_version\"),body:E.process.nodeVersion}),r.createElement(d,{title:k(\"DB_Migration\"),body:E.migration.version+\" (\"+p(E.migration.lockedAt)+\")\"}),r.createElement(d,{title:k(\"MongoDB\"),body:E.mongoVersion+\" / \"+E.mongoStorageEngine+\" \"+(E.msEnabled?\"\":\"(oplog \"+k(E.oplogEnabled?\"Enabled\":\"Disabled\")+\")\")}),r.createElement(d,{title:k(\"Commit_details\"),body:r.createElement(r.Fragment,null,k(\"github_HEAD\"),\": (\",D.hash?D.hash.slice(0,9):\"\",\") \",r.createElement(\"br\",null),k(\"Branch\"),\": \",D.branch,\" \",r.createElement(\"br\",null),D.subject)}),r.createElement(d,{title:k(\"PID\"),body:E.process.pid}),!!b.length&&r.createElement(i,null,r.createElement(o,{medium:!0,onClick:_},k(\"Instances\"))))}))}","map":"{\"version\":3,\"sources\":[\"client/views/admin/workspace/DeploymentCard/DeploymentCard.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IWorkspaceInfo, IStats } from '@rocket.chat/core-typings';\\nimport { Button, Card, CardControls } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { IInstance } from '@rocket.chat/rest-typings';\\nimport { useSetModal } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useFormatDateAndTime } from '../../../../hooks/useFormatDateAndTime';\\nimport WorkspaceCardSection from '../components/WorkspaceCardSection';\\nimport InstancesModal from './components/InstancesModal';\\n\\ntype DeploymentCardProps = {\\n\\tserverInfo: IWorkspaceInfo;\\n\\tinstances: IInstance[];\\n\\tstatistics: IStats;\\n};\\n\\nconst DeploymentCard = ({ serverInfo: { info, cloudWorkspaceId }, statistics, instances }: DeploymentCardProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst formatDateAndTime = useFormatDateAndTime();\\n\\tconst setModal = useSetModal();\\n\\n\\tconst { commit = {}, marketplaceApiVersion: appsEngineVersion } = info || {};\\n\\n\\tconst handleInstancesModal = useMutableCallback(() => {\\n\\t\\tsetModal(<InstancesModal instances={instances} onClose={(): void => setModal()} />);\\n\\t});\\n\\n\\treturn (\\n\\t\\t<Card data-qa-id='deployment-card' height='full'>\\n\\t\\t\\t<WorkspaceCardSection title={t('Deployment')} />\\n\\t\\t\\t<WorkspaceCardSection title={t('Version')} body={statistics.version} />\\n\\t\\t\\t<WorkspaceCardSection title={t('Deployment_ID')} body={statistics.uniqueId} />\\n\\n\\t\\t\\t{cloudWorkspaceId && <WorkspaceCardSection title={t('Cloud_Workspace_Id')} body={cloudWorkspaceId} />}\\n\\n\\t\\t\\t{appsEngineVersion && <WorkspaceCardSection title={t('Apps_Engine_Version')} body={appsEngineVersion} />}\\n\\t\\t\\t<WorkspaceCardSection title={t('Node_version')} body={statistics.process.nodeVersion} />\\n\\t\\t\\t<WorkspaceCardSection\\n\\t\\t\\t\\ttitle={t('DB_Migration')}\\n\\t\\t\\t\\tbody={`${statistics.migration.version} (${formatDateAndTime(statistics.migration.lockedAt)})`}\\n\\t\\t\\t/>\\n\\t\\t\\t<WorkspaceCardSection\\n\\t\\t\\t\\ttitle={t('MongoDB')}\\n\\t\\t\\t\\tbody={`${statistics.mongoVersion} / ${statistics.mongoStorageEngine} ${\\n\\t\\t\\t\\t\\t!statistics.msEnabled ? `(oplog ${statistics.oplogEnabled ? t('Enabled') : t('Disabled')})` : ''\\n\\t\\t\\t\\t}`}\\n\\t\\t\\t/>\\n\\t\\t\\t<WorkspaceCardSection\\n\\t\\t\\t\\ttitle={t('Commit_details')}\\n\\t\\t\\t\\tbody={\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t{t('github_HEAD')}: ({commit.hash ? commit.hash.slice(0, 9) : ''}) <br />\\n\\t\\t\\t\\t\\t\\t{t('Branch')}: {commit.branch} <br />\\n\\t\\t\\t\\t\\t\\t{commit.subject}\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t}\\n\\t\\t\\t/>\\n\\t\\t\\t<WorkspaceCardSection title={t('PID')} body={statistics.process.pid} />\\n\\n\\t\\t\\t{!!instances.length && (\\n\\t\\t\\t\\t<CardControls>\\n\\t\\t\\t\\t\\t<Button medium onClick={handleInstancesModal}>\\n\\t\\t\\t\\t\\t\\t{t('Instances')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</CardControls>\\n\\t\\t\\t)}\\n\\t\\t</Card>\\n\\t);\\n};\\n\\nexport default memo(DeploymentCard);\\n\",null],\"names\":[\"Button\",\"Card\",\"CardControls\",\"useMutableCallback\",\"useSetModal\",\"React\",\"memo\",\"useTranslation\",\"useFormatDateAndTime\",\"WorkspaceCardSection\",\"InstancesModal\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"_ref$serverInfo\",\"serverInfo\",\"info\",\"cloudWorkspaceId\",\"statistics\",\"instances\",\"t\",\"_useTranslation\",\"formatDateAndTime\",\"setModal\",\"_ref2\",\"_ref2$commit\",\"commit\",\"appsEngineVersion\",\"marketplaceApiVersion\",\"handleInstancesModal\",\"createElement\",\"onClose\",\"height\",\"title\",\"body\",\"version\",\"uniqueId\",\"process\",\"nodeVersion\",\"migration\",\"lockedAt\",\"mongoVersion\",\"mongoStorageEngine\",\"msEnabled\",\"oplogEnabled\",\"Fragment\",\"hash\",\"slice\",\"branch\",\"subject\",\"pid\",\"length\",\"medium\",\"onClick\"],\"mappings\":\"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\"}"}