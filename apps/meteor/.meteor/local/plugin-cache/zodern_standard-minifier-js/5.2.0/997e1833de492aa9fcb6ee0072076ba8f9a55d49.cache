{"code":"function module(e,t,n){var i,a,o,l,r,u,c,s,m,f,d;n.link(\"@nivo/bar\",{ResponsiveBar:function(e){i=e}},0),n.link(\"@rocket.chat/fuselage\",{Box:function(e){a=e},Flex:function(e){o=e},IconButton:function(e){l=e},Margins:function(e){r=e},Skeleton:function(e){u=e}},1),n.link(\"@rocket.chat/fuselage-tokens/colors\",{default:function(e){c=e}},2),n.link(\"moment\",{default:function(e){s=e}},3),n.link(\"react\",{default:function(e){m=e},useMemo:function(e){f=e}},4),n.link(\"./useWeeklyChatActivity\",{useWeeklyChatActivity:function(e){d=e}},5),n.exportDefault(function(e){var t=e.displacement,n=e.onPreviousDateClick,y=e.onNextDateClick,g=e.timezone,v=d({displacement:t,utc:\"utc\"===g}).data,k=f(function(){if(!v)return null;var e=s(v.day);return s(v.day).subtract(6,\"days\").format(\"L\")+\" - \"+e.format(\"L\")},[v]),p=f(function(){var e,t,n,i;return null!==(e=null==v?void 0:null===(t=v.month)||void 0===t?void 0:null===(n=t.map(function(e){var t=e.users,n=e.day,i=e.month,a=e.year;return{users:t,day:s({year:a,month:i-1,day:n})}}))||void 0===n?void 0:null===(i=n.sort(function(e,t){var n=e.day,i=t.day;return n.diff(i)}))||void 0===i?void 0:i.map(function(e){return{users:e.users,day:String(e.day.valueOf())}}))&&void 0!==e?e:[]},[v]);return m.createElement(m.Fragment,null,m.createElement(o.Container,{alignItems:\"center\",justifyContent:\"center\"},m.createElement(a,null,m.createElement(l,{icon:\"chevron-down\",verticalAlign:\"middle\",small:!0,onClick:n}),m.createElement(o.Item,{basis:\"50%\"},m.createElement(r,{inline:8},m.createElement(a,{is:\"span\",textAlign:\"center\"},k))),m.createElement(l,{icon:\"chevron-down\",small:!0,disabled:0===t,onClick:y}))),m.createElement(o.Container,null,v?m.createElement(a,{height:196},m.createElement(o.Item,{align:\"stretch\",grow:1,shrink:0},m.createElement(a,{position:\"relative\"},m.createElement(a,{position:\"absolute\",width:\"full\",height:\"full\"},m.createElement(i,{data:p,indexBy:\"day\",keys:[\"users\"],groupMode:\"grouped\",padding:.25,margin:{bottom:20},colors:[c.p500],enableLabel:!1,enableGridY:!1,axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:4,tickRotation:0,tickValues:\"every 3 days\",format:function(e){return s(parseInt(e,10)).format(\"L\")}},axisLeft:null,animate:!0,motionConfig:\"stiff\",theme:{axis:{ticks:{text:{fill:c.n600,fontFamily:'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',fontSize:\"10px\",fontStyle:\"normal\",fontWeight:600,letterSpacing:\"0.2px\",lineHeight:\"12px\"}}}}}))))):m.createElement(u,{variant:\"rect\",height:196})))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/engagementDashboard/users/ContentForDays.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { ResponsiveBar } from '@nivo/bar';\\nimport { Box, Flex, IconButton, Margins, Skeleton } from '@rocket.chat/fuselage';\\nimport colors from '@rocket.chat/fuselage-tokens/colors';\\nimport moment from 'moment';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\n\\nimport { useWeeklyChatActivity } from './useWeeklyChatActivity';\\n\\ntype ContentForDaysProps = {\\n\\tdisplacement: number;\\n\\tonPreviousDateClick: () => void;\\n\\tonNextDateClick: () => void;\\n\\ttimezone: 'utc' | 'local';\\n};\\n\\nconst ContentForDays = ({ displacement, onPreviousDateClick, onNextDateClick, timezone }: ContentForDaysProps): ReactElement => {\\n\\tconst utc = timezone === 'utc';\\n\\tconst { data } = useWeeklyChatActivity({ displacement, utc });\\n\\n\\tconst formattedCurrentDate = useMemo(() => {\\n\\t\\tif (!data) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tconst endOfWeek = moment(data.day);\\n\\t\\tconst startOfWeek = moment(data.day).subtract(6, 'days');\\n\\t\\treturn `${startOfWeek.format('L')} - ${endOfWeek.format('L')}`;\\n\\t}, [data]);\\n\\n\\tconst values = useMemo(\\n\\t\\t() =>\\n\\t\\t\\tdata?.month\\n\\t\\t\\t\\t?.map(({ users, day, month, year }) => ({\\n\\t\\t\\t\\t\\tusers,\\n\\t\\t\\t\\t\\tday: moment({ year, month: month - 1, day }),\\n\\t\\t\\t\\t}))\\n\\t\\t\\t\\t?.sort(({ day: a }, { day: b }) => a.diff(b))\\n\\t\\t\\t\\t?.map(({ users, day }) => ({ users, day: String(day.valueOf()) })) ?? [],\\n\\t\\t[data],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<Flex.Container alignItems='center' justifyContent='center'>\\n\\t\\t\\t\\t<Box>\\n\\t\\t\\t\\t\\t<IconButton icon='chevron-down' verticalAlign='middle' small onClick={onPreviousDateClick} />\\n\\t\\t\\t\\t\\t<Flex.Item basis='50%'>\\n\\t\\t\\t\\t\\t\\t<Margins inline={8}>\\n\\t\\t\\t\\t\\t\\t\\t<Box is='span' textAlign='center'>\\n\\t\\t\\t\\t\\t\\t\\t\\t{formattedCurrentDate}\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Margins>\\n\\t\\t\\t\\t\\t</Flex.Item>\\n\\t\\t\\t\\t\\t<IconButton icon='chevron-down' small disabled={displacement === 0} onClick={onNextDateClick} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Flex.Container>\\n\\t\\t\\t<Flex.Container>\\n\\t\\t\\t\\t{data ? (\\n\\t\\t\\t\\t\\t<Box height={196}>\\n\\t\\t\\t\\t\\t\\t<Flex.Item align='stretch' grow={1} shrink={0}>\\n\\t\\t\\t\\t\\t\\t\\t<Box position='relative'>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Box position='absolute' width='full' height='full'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ResponsiveBar\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata={values}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tindexBy='day'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tkeys={['users']}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tgroupMode='grouped'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tpadding={0.25}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmargin={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: Get it from theme\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tbottom: 20,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcolors={[\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: Get it from theme\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcolors.p500,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t]}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tenableLabel={false}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tenableGridY={false}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taxisTop={null}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taxisRight={null}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taxisBottom={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttickSize: 0,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: Get it from theme\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttickPadding: 4,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttickRotation: 0,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttickValues: 'every 3 days',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tformat: (timestamp): string => moment(parseInt(timestamp, 10)).format('L'),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taxisLeft={null}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tanimate={true}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmotionConfig='stiff'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttheme={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: Get it from theme\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taxis: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tticks: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttext: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfill: colors.n600,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfontFamily:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'Inter, -apple-system, system-ui, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\", \\\"Meiryo UI\\\", Arial, sans-serif',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfontSize: '10px',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfontStyle: 'normal',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfontWeight: 600,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tletterSpacing: '0.2px',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlineHeight: '12px',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Flex.Item>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t<Skeleton variant='rect' height={196} />\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</Flex.Container>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default ContentForDays;\\n\",null],\"names\":[\"ResponsiveBar\",\"Box\",\"Flex\",\"IconButton\",\"Margins\",\"Skeleton\",\"colors\",\"moment\",\"React\",\"useMemo\",\"useWeeklyChatActivity\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"displacement\",\"onPreviousDateClick\",\"onNextDateClick\",\"timezone\",\"data\",\"_useWeeklyChatActivit\",\"utc\",\"formattedCurrentDate\",\"endOfWeek\",\"day\",\"startOfWeek\",\"subtract\",\"format\",\"values\",\"_data$month$map$sort$\",\"_data$month\",\"_data$month$map\",\"_data$month$map$sort\",\"month\",\"map\",\"_ref2\",\"users\",\"year\",\"sort\",\"_ref3\",\"_ref4\",\"a\",\"b\",\"diff\",\"_ref5\",\"String\",\"valueOf\",\"createElement\",\"Fragment\",\"Container\",\"alignItems\",\"justifyContent\",\"icon\",\"verticalAlign\",\"small\",\"onClick\",\"Item\",\"basis\",\"inline\",\"is\",\"textAlign\",\"disabled\",\"height\",\"align\",\"grow\",\"shrink\",\"position\",\"width\",\"indexBy\",\"keys\",\"groupMode\",\"padding\",\"margin\",\"bottom\",\"p500\",\"enableLabel\",\"enableGridY\",\"axisTop\",\"axisRight\",\"axisBottom\",\"tickSize\",\"tickPadding\",\"tickRotation\",\"tickValues\",\"timestamp\",\"parseInt\",\"axisLeft\",\"animate\",\"motionConfig\",\"theme\",\"axis\",\"ticks\",\"text\",\"fill\",\"n600\",\"fontFamily\",\"fontSize\",\"fontStyle\",\"fontWeight\",\"letterSpacing\",\"lineHeight\",\"variant\"],\"mappings\":\"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\"}"}