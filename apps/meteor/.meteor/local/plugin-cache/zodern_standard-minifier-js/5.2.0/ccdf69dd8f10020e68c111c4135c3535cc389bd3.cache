{"code":"function module(e,n,t){var o,i,l,u,r,a,c,s,d,f,m,h,x,k,b,p,v,C,E,g,T,S,y,I,L,R,w,G,A,z,D,M,N,O;t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){o=e}},0),t.link(\"@rocket.chat/fuselage\",{Box:function(e){i=e},Icon:function(e){l=e},TextInput:function(e){u=e},Select:function(e){r=e},Callout:function(e){a=e},Throbber:function(e){c=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useResizeObserver:function(e){s=e},useAutoFocus:function(e){d=e},useLocalStorage:function(e){f=e},useDebouncedValue:function(e){m=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useTranslation:function(e){h=e},useUserId:function(e){x=e}},2),t.link(\"react\",{default:function(e){k=e},useMemo:function(e){b=e},useState:function(e){p=e},useCallback:function(e){v=e}},3),t.link(\"react-virtuoso\",{Virtuoso:function(e){C=e}},4),t.link(\"../../../../components/Contextualbar\",{ContextualbarClose:function(e){E=e},ContextualbarContent:function(e){g=e},ContextualbarHeader:function(e){T=e},ContextualbarIcon:function(e){S=e},ContextualbarTitle:function(e){y=e},ContextualbarEmptyContent:function(e){I=e},ContextualbarSection:function(e){L=e}},5),t.link(\"../../../../components/CustomScrollbars\",{VirtuosoScrollbars:function(e){R=e}},6),t.link(\"../../../../hooks/lists/useRecordList\",{useRecordList:function(e){w=e}},7),t.link(\"../../../../lib/asyncState\",{AsyncStatePhase:function(e){G=e}},8),t.link(\"../../contexts/RoomContext\",{useRoom:function(e){A=e},useRoomSubscription:function(e){z=e}},9),t.link(\"../../contexts/RoomToolboxContext\",{useRoomToolbox:function(e){D=e}},10),t.link(\"../../hooks/useGoToThread\",{useGoToThread:function(e){M=e}},11),t.link(\"./components/ThreadListItem\",{default:function(e){N=e}},12),t.link(\"./hooks/useThreadsList\",{useThreadsList:function(e){O=e}},13),t.exportDefault(function(){var e,n=h(),t=D().closeTab,U=v(function(){t()},[t]),F=s({debounceDelay:200}),V=F.ref,_=F.contentBoxSize,B=(_=void 0===_?{}:_).inlineSize,j=_.blockSize,H=d(!0),P=p(\"\"),q=o(P,2),J=q[0],K=q[1],Q=v(function(e){K(e.currentTarget.value)},[K]),W=b(function(){return[[\"all\",n(\"All\")],[\"following\",n(\"Following\")],[\"unread\",n(\"Unread\")]]},[n]),X=f(\"thread-list-type\",\"all\"),Y=o(X,2),Z=Y[0],$=Y[1],ee=v(function(e){var n=W.find(function(n){return o(n,1)[0]===e});n&&$(n[0])},[$,W]),en=A()._id,et=z(),eo=!!et,ei=x(),el=null==et?void 0:null===(e=et.tunread)||void 0===e?void 0:e.sort().join(\",\"),eu=m(J,400),er=m(b(function(){if(\"all\"===Z||!eo||!ei)return{rid:en,text:eu};switch(Z){case\"following\":return{rid:en,text:eu,type:Z,uid:ei};case\"unread\":return{rid:en,text:eu,type:Z,tunread:null==el?void 0:el.split(\",\")}}},[en,eo,eu,el,Z,ei]),300),ea=O(er,ei),ec=ea.threadsList,es=ea.loadMoreItems,ed=w(ec),ef=ed.phase,em=ed.error,eh=ed.items,ex=ed.itemCount,ek=M({replace:!0}),eb=v(function(e){ek({rid:en,tmid:e})},[en,ek]);return k.createElement(k.Fragment,null,k.createElement(T,null,k.createElement(S,{name:\"thread\"}),k.createElement(y,null,n(\"Threads\")),k.createElement(E,{onClick:U})),k.createElement(L,null,k.createElement(u,{placeholder:n(\"Search_Messages\"),addon:k.createElement(l,{name:\"magnifier\",size:\"x20\"}),ref:H,value:J,onChange:Q}),k.createElement(i,{w:\"x144\",mis:8},k.createElement(r,{options:W,value:Z,onChange:function(e){return ee(String(e))}}))),k.createElement(g,{paddingInline:0},ef===G.LOADING&&k.createElement(i,{pi:24,pb:12},k.createElement(c,{size:\"x12\"})),em&&k.createElement(a,{mi:24,type:\"danger\"},em.toString()),ef!==G.LOADING&&0===ex&&k.createElement(I,{title:n(\"No_Threads\")}),k.createElement(i,{flexGrow:1,flexShrink:1,overflow:\"hidden\",display:\"flex\",ref:V},!em&&ex>0&&eh.length>0&&k.createElement(C,{style:{height:void 0===j?1:j,width:void 0===B?378:B},totalCount:ex,endReached:ef===G.LOADING?function(){}:function(e){es(e,Math.min(50,ex-e))},overscan:25,data:eh,components:{Scroller:R},itemContent:function(e,n){var t,o,i;return k.createElement(N,{thread:n,unread:null!==(t=null==et?void 0:et.tunread)&&void 0!==t?t:[],unreadUser:null!==(o=null==et?void 0:et.tunreadUser)&&void 0!==o?o:[],unreadGroup:null!==(i=null==et?void 0:et.tunreadGroup)&&void 0!==i?i:[],onClick:eb})}}))))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/Threads/ThreadList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { Box, Icon, TextInput, Select, Callout, Throbber } from '@rocket.chat/fuselage';\\nimport { useResizeObserver, useAutoFocus, useLocalStorage, useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { useTranslation, useUserId } from '@rocket.chat/ui-contexts';\\nimport type { FormEvent, ReactElement } from 'react';\\nimport React, { useMemo, useState, useCallback } from 'react';\\nimport { Virtuoso } from 'react-virtuoso';\\n\\nimport {\\n\\tContextualbarClose,\\n\\tContextualbarContent,\\n\\tContextualbarHeader,\\n\\tContextualbarIcon,\\n\\tContextualbarTitle,\\n\\tContextualbarEmptyContent,\\n\\tContextualbarSection,\\n} from '../../../../components/Contextualbar';\\nimport { VirtuosoScrollbars } from '../../../../components/CustomScrollbars';\\nimport { useRecordList } from '../../../../hooks/lists/useRecordList';\\nimport { AsyncStatePhase } from '../../../../lib/asyncState';\\nimport type { ThreadsListOptions } from '../../../../lib/lists/ThreadsList';\\nimport { useRoom, useRoomSubscription } from '../../contexts/RoomContext';\\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\\nimport { useGoToThread } from '../../hooks/useGoToThread';\\nimport ThreadListItem from './components/ThreadListItem';\\nimport { useThreadsList } from './hooks/useThreadsList';\\n\\ntype ThreadType = 'all' | 'following' | 'unread';\\n\\nconst ThreadList = () => {\\n\\tconst t = useTranslation();\\n\\n\\tconst { closeTab } = useRoomToolbox();\\n\\n\\tconst handleTabBarCloseButtonClick = useCallback(() => {\\n\\t\\tcloseTab();\\n\\t}, [closeTab]);\\n\\n\\tconst { ref, contentBoxSize: { inlineSize = 378, blockSize = 1 } = {} } = useResizeObserver<HTMLElement>({\\n\\t\\tdebounceDelay: 200,\\n\\t});\\n\\n\\tconst autoFocusRef = useAutoFocus<HTMLInputElement>(true);\\n\\n\\tconst [searchText, setSearchText] = useState('');\\n\\n\\tconst handleSearchTextChange = useCallback(\\n\\t\\t(event: FormEvent<HTMLInputElement>) => {\\n\\t\\t\\tsetSearchText(event.currentTarget.value);\\n\\t\\t},\\n\\t\\t[setSearchText],\\n\\t);\\n\\n\\tconst typeOptions: (readonly [type: ThreadType, label: string])[] = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['all', t('All')],\\n\\t\\t\\t['following', t('Following')],\\n\\t\\t\\t['unread', t('Unread')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst [type, setType] = useLocalStorage<ThreadType>('thread-list-type', 'all');\\n\\n\\tconst handleTypeChange = useCallback(\\n\\t\\t(type: string) => {\\n\\t\\t\\tconst typeOption = typeOptions.find(([t]) => t === type);\\n\\t\\t\\tif (typeOption) setType(typeOption[0]);\\n\\t\\t},\\n\\t\\t[setType, typeOptions],\\n\\t);\\n\\n\\tconst room = useRoom();\\n\\tconst rid = room._id;\\n\\tconst subscription = useRoomSubscription();\\n\\tconst subscribed = !!subscription;\\n\\tconst uid = useUserId();\\n\\tconst tunread = subscription?.tunread?.sort().join(',');\\n\\tconst text = useDebouncedValue(searchText, 400);\\n\\tconst options: ThreadsListOptions = useDebouncedValue(\\n\\t\\tuseMemo(() => {\\n\\t\\t\\tif (type === 'all' || !subscribed || !uid) {\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\trid,\\n\\t\\t\\t\\t\\ttext,\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\t\\t\\tswitch (type) {\\n\\t\\t\\t\\tcase 'following':\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\trid,\\n\\t\\t\\t\\t\\t\\ttext,\\n\\t\\t\\t\\t\\t\\ttype,\\n\\t\\t\\t\\t\\t\\tuid,\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\tcase 'unread':\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\trid,\\n\\t\\t\\t\\t\\t\\ttext,\\n\\t\\t\\t\\t\\t\\ttype,\\n\\t\\t\\t\\t\\t\\ttunread: tunread?.split(','),\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\t\\t}, [rid, subscribed, text, tunread, type, uid]),\\n\\t\\t300,\\n\\t);\\n\\n\\tconst { threadsList, loadMoreItems } = useThreadsList(options, uid);\\n\\tconst { phase, error, items, itemCount } = useRecordList(threadsList);\\n\\n\\tconst goToThread = useGoToThread({ replace: true });\\n\\tconst handleThreadClick = useCallback(\\n\\t\\t(tmid: IMessage['_id']) => {\\n\\t\\t\\tgoToThread({ rid, tmid });\\n\\t\\t},\\n\\t\\t[rid, goToThread],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarIcon name='thread' />\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Threads')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={handleTabBarCloseButtonClick} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarSection>\\n\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\tplaceholder={t('Search_Messages')}\\n\\t\\t\\t\\t\\taddon={<Icon name='magnifier' size='x20' />}\\n\\t\\t\\t\\t\\tref={autoFocusRef}\\n\\t\\t\\t\\t\\tvalue={searchText}\\n\\t\\t\\t\\t\\tonChange={handleSearchTextChange}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t\\t<Box w='x144' mis={8}>\\n\\t\\t\\t\\t\\t<Select options={typeOptions} value={type} onChange={(value) => handleTypeChange(String(value))} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</ContextualbarSection>\\n\\t\\t\\t<ContextualbarContent paddingInline={0}>\\n\\t\\t\\t\\t{phase === AsyncStatePhase.LOADING && (\\n\\t\\t\\t\\t\\t<Box pi={24} pb={12}>\\n\\t\\t\\t\\t\\t\\t<Throbber size='x12' />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t{error && (\\n\\t\\t\\t\\t\\t<Callout mi={24} type='danger'>\\n\\t\\t\\t\\t\\t\\t{error.toString()}\\n\\t\\t\\t\\t\\t</Callout>\\n\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t{phase !== AsyncStatePhase.LOADING && itemCount === 0 && <ContextualbarEmptyContent title={t('No_Threads')} />}\\n\\n\\t\\t\\t\\t<Box flexGrow={1} flexShrink={1} overflow='hidden' display='flex' ref={ref}>\\n\\t\\t\\t\\t\\t{!error && itemCount > 0 && items.length > 0 && (\\n\\t\\t\\t\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\theight: blockSize,\\n\\t\\t\\t\\t\\t\\t\\t\\twidth: inlineSize,\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\ttotalCount={itemCount}\\n\\t\\t\\t\\t\\t\\t\\tendReached={\\n\\t\\t\\t\\t\\t\\t\\t\\tphase === AsyncStatePhase.LOADING\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t? (): void => undefined\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t: (start): void => {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tloadMoreItems(start, Math.min(50, itemCount - start));\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t  }\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\toverscan={25}\\n\\t\\t\\t\\t\\t\\t\\tdata={items}\\n\\t\\t\\t\\t\\t\\t\\tcomponents={{ Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t\\t\\t\\t\\titemContent={(_index, data: IMessage): ReactElement => (\\n\\t\\t\\t\\t\\t\\t\\t\\t<ThreadListItem\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tthread={data}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tunread={subscription?.tunread ?? []}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tunreadUser={subscription?.tunreadUser ?? []}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tunreadGroup={subscription?.tunreadGroup ?? []}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClick={handleThreadClick}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</ContextualbarContent>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default ThreadList;\\n\",null],\"names\":[\"_slicedToArray\",\"Box\",\"Icon\",\"TextInput\",\"Select\",\"Callout\",\"Throbber\",\"useResizeObserver\",\"useAutoFocus\",\"useLocalStorage\",\"useDebouncedValue\",\"useTranslation\",\"useUserId\",\"React\",\"useMemo\",\"useState\",\"useCallback\",\"Virtuoso\",\"ContextualbarClose\",\"ContextualbarContent\",\"ContextualbarHeader\",\"ContextualbarIcon\",\"ContextualbarTitle\",\"ContextualbarEmptyContent\",\"ContextualbarSection\",\"VirtuosoScrollbars\",\"useRecordList\",\"AsyncStatePhase\",\"useRoom\",\"useRoomSubscription\",\"useRoomToolbox\",\"useGoToThread\",\"ThreadListItem\",\"useThreadsList\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_subscription$tunread\",\"t\",\"closeTab\",\"_useRoomToolbox\",\"handleTabBarCloseButtonClick\",\"_useResizeObserver\",\"debounceDelay\",\"ref\",\"_useResizeObserver$co\",\"contentBoxSize\",\"_useResizeObserver$co2\",\"inlineSize\",\"_useResizeObserver$co3\",\"blockSize\",\"autoFocusRef\",\"_useState\",\"_useState2\",\"searchText\",\"setSearchText\",\"handleSearchTextChange\",\"event\",\"currentTarget\",\"value\",\"typeOptions\",\"_useLocalStorage\",\"_useLocalStorage2\",\"type\",\"setType\",\"handleTypeChange\",\"typeOption\",\"find\",\"_ref\",\"_ref2\",\"rid\",\"room\",\"_id\",\"subscription\",\"subscribed\",\"uid\",\"tunread\",\"sort\",\"join\",\"text\",\"options\",\"split\",\"_useThreadsList\",\"threadsList\",\"loadMoreItems\",\"_useRecordList\",\"phase\",\"error\",\"items\",\"itemCount\",\"goToThread\",\"replace\",\"handleThreadClick\",\"tmid\",\"createElement\",\"Fragment\",\"name\",\"onClick\",\"placeholder\",\"addon\",\"size\",\"onChange\",\"w\",\"mis\",\"String\",\"paddingInline\",\"LOADING\",\"pi\",\"pb\",\"mi\",\"toString\",\"title\",\"flexGrow\",\"flexShrink\",\"overflow\",\"display\",\"length\",\"style\",\"height\",\"width\",\"totalCount\",\"endReached\",\"start\",\"Math\",\"min\",\"overscan\",\"data\",\"components\",\"Scroller\",\"itemContent\",\"_index\",\"_subscription$tunread2\",\"_subscription$tunread3\",\"_subscription$tunread4\",\"thread\",\"unread\",\"unreadUser\",\"tunreadUser\",\"unreadGroup\",\"tunreadGroup\"],\"mappings\":\"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\"}"}