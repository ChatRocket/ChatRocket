{"code":"function module(e,t,n){n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){r=e}},0),n.export({useLeaderBanner:function(){return c}}),n.link(\"react\",{useCallback:function(e){i=e},useRef:function(e){l=e},useState:function(e){o=e}},0),n.link(\"../../../../../app/ui/client/views/app/lib/scrolling\",{isAtBottom:function(e){u=e}},1),n.link(\"../../../../../lib/utils/highOrderFunctions\",{withThrottling:function(e){a=e}},2);var r,i,l,o,u,a,c=function(){var e=o(!1),t=r(e,2),n=t[0],c=t[1],s=l(null),f=i(function(e){if(e){var t=0;e.addEventListener(\"scroll\",a({wait:100})(function(n){var r,i=null===(r=s.current)||void 0===r?void 0:r.querySelector(\".room-leader\");i&&(n.target.scrollTop<t?c(!1):!1===u(e,100)&&n.target.scrollTop>parseFloat(getComputedStyle(i).height)&&c(!0)),t=n.target.scrollTop}),{passive:!0})}},[]);return{wrapperRef:s,hideLeaderHeader:n,innerRef:f}}}","map":"{\"version\":3,\"sources\":[\"client/views/room/body/hooks/useLeaderBanner.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useCallback, useRef, useState } from 'react';\\n\\nimport { isAtBottom } from '../../../../../app/ui/client/views/app/lib/scrolling';\\nimport { withThrottling } from '../../../../../lib/utils/highOrderFunctions';\\n\\nexport const useLeaderBanner = () => {\\n\\tconst [hideLeaderHeader, setHideLeaderHeader] = useState(false);\\n\\n\\tconst wrapperBoxRef = useRef<HTMLDivElement>(null);\\n\\n\\tconst innerScrollRef = useCallback((node: HTMLElement | null) => {\\n\\t\\tif (!node) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tlet lastScrollTopRef = 0;\\n\\n\\t\\tnode.addEventListener(\\n\\t\\t\\t'scroll',\\n\\t\\t\\twithThrottling({ wait: 100 })((event) => {\\n\\t\\t\\t\\tconst roomLeader = wrapperBoxRef.current?.querySelector('.room-leader');\\n\\t\\t\\t\\tif (roomLeader) {\\n\\t\\t\\t\\t\\tif (event.target.scrollTop < lastScrollTopRef) {\\n\\t\\t\\t\\t\\t\\tsetHideLeaderHeader(false);\\n\\t\\t\\t\\t\\t} else if (isAtBottom(node, 100) === false && event.target.scrollTop > parseFloat(getComputedStyle(roomLeader).height)) {\\n\\t\\t\\t\\t\\t\\tsetHideLeaderHeader(true);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tlastScrollTopRef = event.target.scrollTop;\\n\\t\\t\\t}),\\n\\t\\t\\t{ passive: true },\\n\\t\\t);\\n\\t}, []);\\n\\n\\treturn {\\n\\t\\twrapperRef: wrapperBoxRef,\\n\\t\\thideLeaderHeader,\\n\\t\\tinnerRef: innerScrollRef,\\n\\t};\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_slicedToArray\",\"export\",\"useLeaderBanner\",\"useCallback\",\"useRef\",\"useState\",\"isAtBottom\",\"withThrottling\",\"_useState\",\"_useState2\",\"hideLeaderHeader\",\"setHideLeaderHeader\",\"wrapperBoxRef\",\"innerScrollRef\",\"node\",\"lastScrollTopRef\",\"addEventListener\",\"wait\",\"event\",\"_wrapperBoxRef$curren\",\"roomLeader\",\"current\",\"querySelector\",\"target\",\"scrollTop\",\"parseFloat\",\"getComputedStyle\",\"height\",\"passive\",\"wrapperRef\",\"innerRef\"],\"mappings\":\"uBAASA,EAAaC,IAAQ,CAAA,uCAAwB,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAtDH,EAAOK,MAAE,CAAA,CAAAC,gBAAqB,WAAU,OAAMA,CAAQ,CAAA,GAAAN,EAAAC,IAAA,CAAA,QAAA,CAAAM,YAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,EAAAK,OAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,SAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uDAAA,CAAAS,WAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8CAAA,CAAAU,eAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAK/C,IALPC,EAAsDG,EAAAC,EAAAC,EAAAC,EAAAC,EAKzCL,EAAkB,WAC9B,IAAAM,EAAgDH,EAAS,CAAA,GAAMI,EAAAT,EAAAQ,EAAA,GAAxDE,EAAgBD,CAAA,CAAA,EAAA,CAAEE,EAAmBF,CAAA,CAAA,EAAA,CAEtCG,EAAgBR,EAAuB,MAEvCS,EAAiBV,EAAY,SAACW,CAAwB,EAC3D,GAAKA,GAGL,IAAIC,EAAmB,EAEvBD,EAAKE,gBAAgB,CACpB,SACAT,EAAe,CAAEU,KAAM,GAAG,GAAI,SAACC,CAAK,EACnC,IADuCC,EACjCC,EAAU,AAAwB,OAAxBD,CAAAA,EAAGP,EAAcS,OAAO,AAAPA,GAAOF,AAAA,KAAA,IAAAA,EAAA,KAAA,EAArBA,EAAuBG,aAAa,CAAC,gBACpDF,IACCF,EAAMK,MAAM,CAACC,SAAS,CAAGT,EAC5BJ,EAAoB,CAAA,GACgB,CAAA,IAA1BL,EAAWQ,EAAM,MAAkBI,EAAMK,MAAM,CAACC,SAAS,CAAGC,WAAWC,iBAAiBN,GAAYO,MAAM,GACpHhB,EAAoB,CAAA,IAGtBI,EAAmBG,EAAMK,MAAM,CAACC,SAAS,AAC1C,GACA,CAAEI,QAAS,CAAA,CAAI,GAEjB,EAAG,EAAE,EAEL,MAAO,CACNC,WAAYjB,EACZF,iBAAAA,EACAoB,SAAUjB,EAEZ\"}"}