{"code":"function module(e,s,i){let a,t,l;i.export({isMessageSequential:()=>d}),i.link(\"date-fns\",{differenceInSeconds(e){a=e}},0),i.link(\"../../../../../app/ui-utils/lib/MessageTypes\",{MessageTypes(e){t=e}},1),i.link(\"./isMessageNewDay\",{isMessageNewDay(e){l=e}},2);let d=(e,s,i)=>!(!s||t.isSystemMessage(e)||t.isSystemMessage(s))&&(e.tmid?[s.tmid,s._id].includes(e.tmid):!s.tmid&&!1!==e.groupable&&e.u._id===s.u._id&&e.alias===s.alias&&a(e.ts,s.ts)<i&&!l(e,s))}","map":"{\"version\":3,\"sources\":[\"client/views/room/MessageList/lib/isMessageSequential.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { differenceInSeconds } from 'date-fns';\\n\\nimport { MessageTypes } from '../../../../../app/ui-utils/lib/MessageTypes';\\nimport { isMessageNewDay } from './isMessageNewDay';\\n\\nexport const isMessageSequential = (current: IMessage, previous: IMessage | undefined, groupingRange: number): boolean => {\\n\\tif (!previous) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tif (MessageTypes.isSystemMessage(current) || MessageTypes.isSystemMessage(previous)) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tif (current.tmid) {\\n\\t\\treturn [previous.tmid, previous._id].includes(current.tmid);\\n\\t}\\n\\n\\tif (previous.tmid) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tif (current.groupable === false) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tif (current.u._id !== previous.u._id) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tif (current.alias !== previous.alias) {\\n\\t\\treturn false;\\n\\t}\\n\\treturn differenceInSeconds(current.ts, previous.ts) < groupingRange && !isMessageNewDay(current, previous);\\n};\\n\",null],\"names\":[\"differenceInSeconds\",\"MessageTypes\",\"isMessageNewDay\",\"module\",\"export\",\"isMessageSequential\",\"link\",\"v\",\"current\",\"previous\",\"groupingRange\",\"isSystemMessage\",\"tmid\",\"_id\",\"includes\",\"groupable\",\"u\",\"alias\",\"ts\"],\"mappings\":\"2BAC+CA,EAAAC,EAAAC,EAA/CC,EAAOC,MAAE,CAAA,CAAAC,oBAAqBA,IAAMA,CAAW,GAAAF,EAAAG,IAAA,CAAA,WAAA,CAAAN,oBAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,+CAAA,CAAAL,aAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,oBAAA,CAAAJ,gBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAKxC,IAAMF,EAAsBA,CAACG,EAAmBC,EAAgCC,IACtF,EAAI,CAACD,GAIDR,EAAaU,eAAe,CAACH,IAAYP,EAAaU,eAAe,CAACF,MAItED,EAAQI,IAAI,CACR,CAACH,EAASG,IAAI,CAAEH,EAASI,GAAG,CAAC,CAACC,QAAQ,CAACN,EAAQI,IAAI,GAGvDH,EAASG,IAAI,EAIbJ,AAAsB,CAAA,IAAtBA,EAAQO,SAAS,EAIjBP,EAAQQ,CAAC,CAACH,GAAG,GAAKJ,EAASO,CAAC,CAACH,GAAG,EAIhCL,EAAQS,KAAK,GAAKR,EAASQ,KAAK,EAG7BjB,EAAoBQ,EAAQU,EAAE,CAAET,EAASS,EAAE,EAAIR,GAAiB,CAACR,EAAgBM,EAASC\"}"}