{"code":"function module(e,t,a){let n,l,r,i,m,o,c,s,d,u,E,p,b,h,g,x,v,k,f,C,S,y,F,q,I,_,A,U,M,P,N,O,T,w,D,B,R;let z=[\"status\",\"departments\"],G=[\"label\"];a.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),a.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){l=e}},1),a.link(\"@rocket.chat/fuselage\",{Field(e){r=e},FieldLabel(e){i=e},FieldGroup(e){m=e},FieldRow(e){o=e},TextInput(e){c=e},Button(e){s=e},Box(e){d=e},MultiSelect(e){u=e},Icon(e){E=e},Select(e){p=e},ContextualbarFooter(e){b=e},ButtonGroup(e){h=e},CheckOption(e){g=e}},0),a.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){x=e},useUniqueId(e){v=e}},1),a.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){k=e},useSetting(e){f=e},useMethod(e){C=e},useTranslation(e){S=e},useEndpoint(e){y=e},useRouter(e){F=e}},2),a.link(\"@tanstack/react-query\",{useQueryClient(e){q=e}},3),a.link(\"react\",{default(e){I=e},useMemo(e){_=e}},4),a.link(\"react-hook-form\",{useForm(e){A=e},Controller(e){U=e},FormProvider(e){M=e}},5),a.link(\"../../../../lib/getUserEmailAddress\",{getUserEmailAddress(e){P=e}},6),a.link(\"../../../components/Contextualbar\",{Contextualbar(e){N=e},ContextualbarTitle(e){O=e},ContextualbarClose(e){T=e},ContextualbarHeader(e){w=e},ContextualbarScrollableContent(e){D=e}},7),a.link(\"../../../components/UserInfo\",{UserInfoAvatar(e){B=e}},8),a.link(\"../additionalForms\",{MaxChatsPerAgent(e){R=e}},9),a.exportDefault(e=>{let{agentData:t,userDepartments:a,availableDepartments:Q}=e,V=S(),j=F(),H=q(),L=f(\"VoIP_Enabled\"),W=k(),{name:J,username:K,livechat:X,statusLivechat:Y}=t,Z=P(t),$=_(()=>{let e=a.filter(e=>{let{departmentId:t}=e;return!Q.find(e=>e._id===t)}).map(e=>({_id:e.departmentId,name:e.departmentName}));return[...Q,...e]},[Q,a]),ee=_(()=>{let e=(e,t)=>t?\"\".concat(e,\" [\").concat(V(\"Archived\"),\"]\"):e;return $.map(t=>{let{_id:a,name:n,archived:l}=t;return n?[a,e(n,l)]:[a,e(a,l)]})||[]},[$,V]),et=_(()=>[[\"available\",V(\"Available\")],[\"not-available\",V(\"Not_Available\")]],[V]),ea=_(()=>a.map(e=>{let{departmentId:t}=e;return t})||[],[a]),en=A({values:{name:J,username:K,email:Z,departments:ea,status:Y,maxNumberSimultaneousChat:(null==X?void 0:X.maxNumberSimultaneousChat)||0,voipExtension:\"\"}}),{control:el,handleSubmit:er,reset:ei,formState:{isDirty:em}}=en,eo=C(\"livechat:saveAgentInfo\"),ec=y(\"POST\",\"/v1/livechat/agent.status\"),es=x(async e=>{let{status:a,departments:n}=e,r=l(e,z);try{await ec({agentId:t._id,status:a}),await eo(t._id,r,n),W({type:\"success\",message:V(\"Success\")}),j.navigate(\"/omnichannel/agents\"),H.invalidateQueries([\"livechat-agents\"])}catch(e){W({type:\"error\",message:e})}}),ed=v(),eu=v(),eE=v(),ep=v(),eb=v(),eh=v(),eg=v();return I.createElement(N,{\"data-qa-id\":\"agent-edit-contextual-bar\"},I.createElement(w,null,I.createElement(O,null,V(\"Edit_User\")),I.createElement(T,{onClick:()=>j.navigate(\"/omnichannel/agents\")})),I.createElement(D,null,I.createElement(M,en,I.createElement(\"form\",{id:ed,onSubmit:er(es)},K&&I.createElement(d,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},I.createElement(B,{\"data-qa-id\":\"agent-edit-avatar\",username:K})),I.createElement(m,null,I.createElement(r,null,I.createElement(i,{htmlFor:eu},V(\"Name\")),I.createElement(o,null,I.createElement(U,{name:\"name\",control:el,render:e=>{let{field:t}=e;return I.createElement(c,n({id:eu,\"data-qa-id\":\"agent-edit-name\"},t,{readOnly:!0}))}}))),I.createElement(r,null,I.createElement(i,{htmlFor:eE},V(\"Username\")),I.createElement(o,null,I.createElement(U,{name:\"username\",control:el,render:e=>{let{field:t}=e;return I.createElement(c,n({id:eE,\"data-qa-id\":\"agent-edit-username\"},t,{readOnly:!0,addon:I.createElement(E,{name:\"at\",size:\"x20\"})}))}}))),I.createElement(r,null,I.createElement(i,{htmlFor:ep},V(\"Email\")),I.createElement(o,null,I.createElement(U,{name:\"email\",control:el,render:e=>{let{field:t}=e;return I.createElement(c,n({id:ep,\"data-qa-id\":\"agent-edit-email\"},t,{readOnly:!0,addon:I.createElement(E,{name:\"mail\",size:\"x20\"})}))}}))),I.createElement(r,null,I.createElement(i,{htmlFor:eb},V(\"Departments\")),I.createElement(o,null,I.createElement(U,{name:\"departments\",control:el,render:e=>{let{field:t}=e;return I.createElement(u,n({id:eb,\"data-qa-id\":\"agent-edit-departments\",options:ee},t,{placeholder:V(\"Select_an_option\"),renderItem:e=>{let{label:t}=e,a=l(e,G);return I.createElement(g,n({},a,{label:I.createElement(\"span\",{style:{whiteSpace:\"normal\"}},t)}))}}))}}))),I.createElement(r,null,I.createElement(i,{htmlFor:eh},V(\"Status\")),I.createElement(o,null,I.createElement(U,{name:\"status\",control:el,render:e=>{let{field:t}=e;return I.createElement(p,n({id:eh,\"data-qa-id\":\"agent-edit-status\"},t,{options:et,placeholder:V(\"Select_an_option\")}))}}))),R&&I.createElement(R,null),L&&I.createElement(r,null,I.createElement(i,{htmlFor:eg},V(\"VoIP_Extension\")),I.createElement(o,null,I.createElement(U,{name:\"voipExtension\",control:el,render:e=>{let{field:t}=e;return I.createElement(c,n({id:eg},t,{\"data-qa-id\":\"agent-edit-voip-extension\"}))}}))))))),I.createElement(b,null,I.createElement(h,{stretch:!0},I.createElement(s,{\"data-qa-id\":\"agent-edit-reset\",type:\"reset\",disabled:!em,onClick:()=>ei()},V(\"Reset\")),I.createElement(s,{form:ed,primary:!0,type:\"submit\",\"data-qa-id\":\"agent-edit-save\",disabled:!em},V(\"Save\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/agents/AgentEdit.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatAgent, ILivechatDepartment, ILivechatDepartmentAgents } from '@rocket.chat/core-typings';\\nimport {\\n\\tField,\\n\\tFieldLabel,\\n\\tFieldGroup,\\n\\tFieldRow,\\n\\tTextInput,\\n\\tButton,\\n\\tBox,\\n\\tMultiSelect,\\n\\tIcon,\\n\\tSelect,\\n\\tContextualbarFooter,\\n\\tButtonGroup,\\n\\tCheckOption,\\n} from '@rocket.chat/fuselage';\\nimport type { SelectOption } from '@rocket.chat/fuselage';\\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport { useToastMessageDispatch, useSetting, useMethod, useTranslation, useEndpoint, useRouter } from '@rocket.chat/ui-contexts';\\nimport { useQueryClient } from '@tanstack/react-query';\\nimport React, { useMemo } from 'react';\\nimport { useForm, Controller, FormProvider } from 'react-hook-form';\\n\\nimport { getUserEmailAddress } from '../../../../lib/getUserEmailAddress';\\nimport {\\n\\tContextualbar,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarHeader,\\n\\tContextualbarScrollableContent,\\n} from '../../../components/Contextualbar';\\nimport { UserInfoAvatar } from '../../../components/UserInfo';\\nimport { MaxChatsPerAgent } from '../additionalForms';\\n\\ntype AgentEditProps = {\\n\\tagentData: Pick<ILivechatAgent, '_id' | 'username' | 'name' | 'status' | 'statusLivechat' | 'emails' | 'livechat'>;\\n\\tuserDepartments: (Pick<ILivechatDepartmentAgents, 'departmentId'> & { departmentName: string })[];\\n\\tavailableDepartments: Pick<ILivechatDepartment, '_id' | 'name' | 'archived'>[];\\n};\\n\\nconst AgentEdit = ({ agentData, userDepartments, availableDepartments }: AgentEditProps) => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst queryClient = useQueryClient();\\n\\n\\tconst voipEnabled = useSetting('VoIP_Enabled');\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst { name, username, livechat, statusLivechat } = agentData;\\n\\n\\tconst email = getUserEmailAddress(agentData);\\n\\n\\tconst departments: Pick<ILivechatDepartment, '_id' | 'name' | 'archived'>[] = useMemo(() => {\\n\\t\\tconst pending = userDepartments\\n\\t\\t\\t.filter(({ departmentId }) => !availableDepartments.find((dep) => dep._id === departmentId))\\n\\t\\t\\t.map((dep) => ({\\n\\t\\t\\t\\t_id: dep.departmentId,\\n\\t\\t\\t\\tname: dep.departmentName,\\n\\t\\t\\t}));\\n\\n\\t\\treturn [...availableDepartments, ...pending];\\n\\t}, [availableDepartments, userDepartments]);\\n\\n\\tconst departmentsOptions: SelectOption[] = useMemo(() => {\\n\\t\\tconst archivedDepartment = (name: string, archived?: boolean) => (archived ? `${name} [${t('Archived')}]` : name);\\n\\n\\t\\treturn (\\n\\t\\t\\tdepartments.map(({ _id, name, archived }) =>\\n\\t\\t\\t\\tname ? [_id, archivedDepartment(name, archived)] : [_id, archivedDepartment(_id, archived)],\\n\\t\\t\\t) || []\\n\\t\\t);\\n\\t}, [departments, t]);\\n\\n\\tconst statusOptions: SelectOption[] = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['available', t('Available')],\\n\\t\\t\\t['not-available', t('Not_Available')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst initialDepartmentValue = useMemo(() => userDepartments.map(({ departmentId }) => departmentId) || [], [userDepartments]);\\n\\n\\tconst methods = useForm({\\n\\t\\tvalues: {\\n\\t\\t\\tname,\\n\\t\\t\\tusername,\\n\\t\\t\\temail,\\n\\t\\t\\tdepartments: initialDepartmentValue,\\n\\t\\t\\tstatus: statusLivechat,\\n\\t\\t\\tmaxNumberSimultaneousChat: livechat?.maxNumberSimultaneousChat || 0,\\n\\t\\t\\tvoipExtension: '',\\n\\t\\t},\\n\\t});\\n\\n\\tconst {\\n\\t\\tcontrol,\\n\\t\\thandleSubmit,\\n\\t\\treset,\\n\\t\\tformState: { isDirty },\\n\\t} = methods;\\n\\n\\tconst saveAgentInfo = useMethod('livechat:saveAgentInfo');\\n\\tconst saveAgentStatus = useEndpoint('POST', '/v1/livechat/agent.status');\\n\\n\\tconst handleSave = useMutableCallback(async ({ status, departments, ...data }) => {\\n\\t\\ttry {\\n\\t\\t\\tawait saveAgentStatus({ agentId: agentData._id, status });\\n\\t\\t\\tawait saveAgentInfo(agentData._id, data, departments);\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Success') });\\n\\t\\t\\trouter.navigate('/omnichannel/agents');\\n\\t\\t\\tqueryClient.invalidateQueries(['livechat-agents']);\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t});\\n\\n\\tconst formId = useUniqueId();\\n\\tconst nameField = useUniqueId();\\n\\tconst usernameField = useUniqueId();\\n\\tconst emailField = useUniqueId();\\n\\tconst departmentsField = useUniqueId();\\n\\tconst statusField = useUniqueId();\\n\\tconst voipExtensionField = useUniqueId();\\n\\n\\treturn (\\n\\t\\t<Contextualbar data-qa-id='agent-edit-contextual-bar'>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Edit_User')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/agents')} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t<FormProvider {...methods}>\\n\\t\\t\\t\\t\\t<form id={formId} onSubmit={handleSubmit(handleSave)}>\\n\\t\\t\\t\\t\\t\\t{username && (\\n\\t\\t\\t\\t\\t\\t\\t<Box display='flex' flexDirection='column' alignItems='center'>\\n\\t\\t\\t\\t\\t\\t\\t\\t<UserInfoAvatar data-qa-id='agent-edit-avatar' username={username} />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t<FieldGroup>\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={nameField}>{t('Name')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='name'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <TextInput id={nameField} data-qa-id='agent-edit-name' {...field} readOnly />}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={usernameField}>{t('Username')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='username'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={usernameField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa-id='agent-edit-username'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\treadOnly\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taddon={<Icon name='at' size='x20' />}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={emailField}>{t('Email')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='email'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={emailField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa-id='agent-edit-email'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\treadOnly\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taddon={<Icon name='mail' size='x20' />}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={departmentsField}>{t('Departments')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='departments'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<MultiSelect\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={departmentsField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa-id='agent-edit-departments'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\toptions={departmentsOptions}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Select_an_option')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trenderItem={({ label, ...props }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<CheckOption {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={statusField}>{t('Status')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='status'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Select\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={statusField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa-id='agent-edit-status'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\toptions={statusOptions}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Select_an_option')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t{MaxChatsPerAgent && <MaxChatsPerAgent />}\\n\\t\\t\\t\\t\\t\\t\\t{voipEnabled && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={voipExtensionField}>{t('VoIP_Extension')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='voipExtension'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <TextInput id={voipExtensionField} {...field} data-qa-id='agent-edit-voip-extension' />}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t\\t\\t</form>\\n\\t\\t\\t\\t</FormProvider>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t<Button data-qa-id='agent-edit-reset' type='reset' disabled={!isDirty} onClick={() => reset()}>\\n\\t\\t\\t\\t\\t\\t{t('Reset')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t<Button form={formId} primary type='submit' data-qa-id='agent-edit-save' disabled={!isDirty}>\\n\\t\\t\\t\\t\\t\\t{t('Save')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</Contextualbar>\\n\\t);\\n};\\n\\nexport default AgentEdit;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Field\",\"FieldLabel\",\"FieldGroup\",\"FieldRow\",\"TextInput\",\"Button\",\"Box\",\"MultiSelect\",\"Icon\",\"Select\",\"ContextualbarFooter\",\"ButtonGroup\",\"CheckOption\",\"useMutableCallback\",\"useUniqueId\",\"useToastMessageDispatch\",\"useSetting\",\"useMethod\",\"useTranslation\",\"useEndpoint\",\"useRouter\",\"useQueryClient\",\"React\",\"useMemo\",\"useForm\",\"Controller\",\"FormProvider\",\"getUserEmailAddress\",\"Contextualbar\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarHeader\",\"ContextualbarScrollableContent\",\"UserInfoAvatar\",\"MaxChatsPerAgent\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"agentData\",\"userDepartments\",\"availableDepartments\",\"t\",\"router\",\"queryClient\",\"voipEnabled\",\"dispatchToastMessage\",\"name\",\"username\",\"livechat\",\"statusLivechat\",\"email\",\"departments\",\"pending\",\"filter\",\"_ref2\",\"departmentId\",\"find\",\"dep\",\"_id\",\"map\",\"departmentName\",\"departmentsOptions\",\"archivedDepartment\",\"archived\",\"concat\",\"_ref3\",\"statusOptions\",\"initialDepartmentValue\",\"_ref4\",\"methods\",\"values\",\"status\",\"maxNumberSimultaneousChat\",\"voipExtension\",\"control\",\"handleSubmit\",\"reset\",\"formState\",\"isDirty\",\"saveAgentInfo\",\"saveAgentStatus\",\"handleSave\",\"_ref5\",\"data\",\"_excluded\",\"agentId\",\"type\",\"message\",\"navigate\",\"invalidateQueries\",\"error\",\"formId\",\"nameField\",\"usernameField\",\"emailField\",\"departmentsField\",\"statusField\",\"voipExtensionField\",\"createElement\",\"onClick\",\"id\",\"onSubmit\",\"display\",\"flexDirection\",\"alignItems\",\"htmlFor\",\"render\",\"_ref6\",\"field\",\"readOnly\",\"_ref7\",\"addon\",\"size\",\"_ref8\",\"_ref9\",\"options\",\"placeholder\",\"renderItem\",\"_ref10\",\"label\",\"props\",\"_excluded2\",\"style\",\"whiteSpace\",\"_ref11\",\"_ref12\",\"stretch\",\"disabled\",\"form\",\"primary\"],\"mappings\":\"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\"}"}