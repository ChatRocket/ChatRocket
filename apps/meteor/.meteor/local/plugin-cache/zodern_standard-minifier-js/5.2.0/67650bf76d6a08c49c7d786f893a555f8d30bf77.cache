{"code":"function module(e,t,l){let a,n,r,u,i,c,o,d,m,s,f,E;l.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){a=e}},0),l.link(\"@rocket.chat/fuselage\",{Table(e){n=e},TableBody(e){r=e},TableCell(e){u=e},TableHead(e){i=e},TableRow(e){c=e}},0),l.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){o=e}},1),l.link(\"react\",{default(e){d=e},useMemo(e){m=e},useEffect(e){s=e},useState(e){f=e}},2),l.link(\"react-i18next\",{useTranslation(e){E=e}},3);let k={width:\"100%\"};l.exportDefault(e=>{var t,l;let{type:v,dateRange:b,departmentId:h}=e,{t:T}=E(),{start:p,end:y}=b,w=m(()=>a({name:v,from:p,to:y},h&&{departmentId:h}),[h,y,p,v]),[x,g]=f({head:[],data:[]}),S=o(\"GET\",\"/v1/livechat/analytics/agent-overview\");return s(()=>{(async function e(){if(!p||!y)return;let e=await S(w);g(e)})()},[p,y,S,w]),d.createElement(n,{style:k,fixed:!0},d.createElement(i,null,d.createElement(c,null,null===(t=x.head)||void 0===t?void 0:t.map((e,t)=>{let{name:l}=e;return d.createElement(u,{key:t},T(l))}))),d.createElement(r,null,null===(l=x.data)||void 0===l?void 0:l.map((e,t)=>{let{name:l,value:a}=e;return d.createElement(c,{key:t},d.createElement(u,null,l),d.createElement(u,null,a))})))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/analytics/AgentOverview.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Table, TableBody, TableCell, TableHead, TableRow } from '@rocket.chat/fuselage';\\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport React, { useMemo, useEffect, useState } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nconst style = { width: '100%' };\\n\\nconst AgentOverview = ({\\n\\ttype,\\n\\tdateRange,\\n\\tdepartmentId,\\n}: {\\n\\ttype: string;\\n\\tdateRange: { start: string; end: string };\\n\\tdepartmentId: string;\\n}) => {\\n\\tconst { t } = useTranslation();\\n\\tconst { start, end } = dateRange;\\n\\n\\tconst params = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\tname: type,\\n\\t\\t\\tfrom: start,\\n\\t\\t\\tto: end,\\n\\t\\t\\t...(departmentId && { departmentId }),\\n\\t\\t}),\\n\\t\\t[departmentId, end, start, type],\\n\\t);\\n\\n\\tconst [displayData, setDisplayData] = useState<{ head: { name: string }[]; data: { name: string; value: number | string }[] }>({\\n\\t\\thead: [],\\n\\t\\tdata: [],\\n\\t});\\n\\n\\tconst loadData = useEndpoint('GET', '/v1/livechat/analytics/agent-overview');\\n\\n\\tuseEffect(() => {\\n\\t\\tasync function fetchData() {\\n\\t\\t\\tif (!start || !end) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tconst value = await loadData(params);\\n\\t\\t\\tsetDisplayData(value);\\n\\t\\t}\\n\\t\\tfetchData();\\n\\t}, [start, end, loadData, params]);\\n\\n\\treturn (\\n\\t\\t<Table style={style} fixed>\\n\\t\\t\\t<TableHead>\\n\\t\\t\\t\\t<TableRow>\\n\\t\\t\\t\\t\\t{displayData.head?.map(({ name }, i) => (\\n\\t\\t\\t\\t\\t\\t<TableCell key={i}>{t(name as TranslationKey)}</TableCell>\\n\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t</TableRow>\\n\\t\\t\\t</TableHead>\\n\\t\\t\\t<TableBody>\\n\\t\\t\\t\\t{displayData.data?.map(({ name, value }, i) => (\\n\\t\\t\\t\\t\\t<TableRow key={i}>\\n\\t\\t\\t\\t\\t\\t<TableCell>{name}</TableCell>\\n\\t\\t\\t\\t\\t\\t<TableCell>{value}</TableCell>\\n\\t\\t\\t\\t\\t</TableRow>\\n\\t\\t\\t\\t))}\\n\\t\\t\\t</TableBody>\\n\\t\\t</Table>\\n\\t);\\n};\\n\\nexport default AgentOverview;\\n\",null],\"names\":[\"_objectSpread\",\"Table\",\"TableBody\",\"TableCell\",\"TableHead\",\"TableRow\",\"useEndpoint\",\"React\",\"useMemo\",\"useEffect\",\"useState\",\"useTranslation\",\"module\",\"link\",\"default\",\"v\",\"style\",\"width\",\"exportDefault\",\"_ref\",\"_displayData$head\",\"_displayData$data\",\"type\",\"dateRange\",\"departmentId\",\"t\",\"start\",\"end\",\"params\",\"name\",\"from\",\"to\",\"displayData\",\"setDisplayData\",\"head\",\"data\",\"loadData\",\"fetchData\",\"value\",\"createElement\",\"fixed\",\"map\",\"_ref2\",\"i\",\"key\",\"_ref3\"],\"mappings\":\"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\"}"}