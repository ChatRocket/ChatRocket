{"code":"function module(e,t,l){let n,a,r,u,i,s,p,o,c,d,m,f,k;l.link(\"@rocket.chat/ui-contexts\",{useRouteParameter(e){n=e},useRoute(e){a=e},usePermission(e){r=e}},0),l.link(\"react\",{default(e){u=e},useState(e){i=e},useEffect(e){s=e}},1),l.link(\"../../components/PageSkeleton\",{default(e){p=e}},2),l.link(\"../../providers/AppsProvider\",{default(e){o=e}},3),l.link(\"../notAuthorized/NotAuthorizedPage\",{default(e){c=e}},4),l.link(\"./AppDetailsPage\",{default(e){d=e}},5),l.link(\"./AppInstallPage\",{default(e){m=e}},6),l.link(\"./AppsPage\",{default(e){f=e}},7),l.link(\"./components/BannerEnterpriseTrialEnded\",{default(e){k=e}},8),l.exportDefault(()=>{let[e,t]=i(!0),l=a(\"marketplace\"),E=n(\"context\")||\"explore\",g=n(\"id\"),P=n(\"page\"),A=r(\"manage-apps\"),x=r(\"access-marketplace\");return(P||l.push({context:E,page:\"list\"}),s(()=>{let e=!0,l=async()=>{e&&t(!1)};return l(),()=>{e=!1}},[l,E]),(\"explore\"!==E&&\"installed\"!==E&&\"private\"!==E&&\"premium\"!==E||x||A)&&(\"requested\"!==E&&\"install\"!==P||A))?e?u.createElement(p,null):u.createElement(o,null,u.createElement(k,null),\"list\"===P&&u.createElement(f,null)||g&&\"info\"===P&&u.createElement(d,{id:g})||\"install\"===P&&u.createElement(m,null)):u.createElement(c,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/AppsRoute.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useRouteParameter, useRoute, usePermission } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useState, useEffect } from 'react';\\n\\nimport PageSkeleton from '../../components/PageSkeleton';\\nimport AppsProvider from '../../providers/AppsProvider';\\nimport NotAuthorizedPage from '../notAuthorized/NotAuthorizedPage';\\nimport AppDetailsPage from './AppDetailsPage';\\nimport AppInstallPage from './AppInstallPage';\\nimport AppsPage from './AppsPage';\\nimport BannerEnterpriseTrialEnded from './components/BannerEnterpriseTrialEnded';\\n\\nconst AppsRoute = (): ReactElement => {\\n\\tconst [isLoading, setLoading] = useState(true);\\n\\tconst marketplaceRoute = useRoute('marketplace');\\n\\n\\tconst context = useRouteParameter('context') || 'explore';\\n\\tconst id = useRouteParameter('id');\\n\\tconst page = useRouteParameter('page');\\n\\n\\tconst isAdminUser = usePermission('manage-apps');\\n\\tconst canAccessMarketplace = usePermission('access-marketplace');\\n\\n\\tif (!page) marketplaceRoute.push({ context, page: 'list' });\\n\\n\\tuseEffect(() => {\\n\\t\\tlet mounted = true;\\n\\n\\t\\tconst initialize = async (): Promise<void> => {\\n\\t\\t\\tif (!mounted) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tsetLoading(false);\\n\\t\\t};\\n\\n\\t\\tinitialize();\\n\\n\\t\\treturn (): void => {\\n\\t\\t\\tmounted = false;\\n\\t\\t};\\n\\t}, [marketplaceRoute, context]);\\n\\n\\tif (\\n\\t\\t(context === 'explore' || context === 'installed' || context === 'private' || context === 'premium') &&\\n\\t\\t!canAccessMarketplace &&\\n\\t\\t!isAdminUser\\n\\t) {\\n\\t\\treturn <NotAuthorizedPage />;\\n\\t}\\n\\n\\tif ((context === 'requested' || page === 'install') && !isAdminUser) return <NotAuthorizedPage />;\\n\\n\\tif (isLoading) {\\n\\t\\treturn <PageSkeleton />;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<AppsProvider>\\n\\t\\t\\t<BannerEnterpriseTrialEnded />\\n\\t\\t\\t{(page === 'list' && <AppsPage />) ||\\n\\t\\t\\t\\t(id && page === 'info' && <AppDetailsPage id={id} />) ||\\n\\t\\t\\t\\t(page === 'install' && <AppInstallPage />)}\\n\\t\\t</AppsProvider>\\n\\t);\\n};\\n\\nexport default AppsRoute;\\n\",null],\"names\":[\"useRouteParameter\",\"useRoute\",\"usePermission\",\"React\",\"useState\",\"useEffect\",\"PageSkeleton\",\"AppsProvider\",\"NotAuthorizedPage\",\"AppDetailsPage\",\"AppInstallPage\",\"AppsPage\",\"BannerEnterpriseTrialEnded\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"AppsRoute\",\"isLoading\",\"setLoading\",\"marketplaceRoute\",\"context\",\"id\",\"page\",\"isAdminUser\",\"canAccessMarketplace\",\"push\",\"mounted\",\"initialize\",\"createElement\"],\"mappings\":\"2BAAAA,EAASC,EAAmBC,EAA0DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAhDC,EAAaC,IAAE,CAAA,2BAAM,CAA0Bd,kBAACe,CAAA,EAAAf,EAAAe,CAAA,EAAAd,SAAAc,CAAA,EAAAd,EAAAc,CAAA,EAAAb,cAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,UAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gCAAA,CAAAE,QAAAD,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,+BAAA,CAAAE,QAAAD,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,qCAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mBAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mBAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,aAAA,CAAAE,QAAAD,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0CAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAtFF,EAAOI,aAAE,CAYSC,KACjB,GAAM,CAACC,EAAWC,EAAW,CAAGhB,EAAS,CAAA,GACnCiB,EAAmBpB,EAAS,eAE5BqB,EAAUtB,EAAkB,YAAc,UAC1CuB,EAAKvB,EAAkB,MACvBwB,EAAOxB,EAAkB,QAEzByB,EAAcvB,EAAc,eAC5BwB,EAAuBxB,EAAc,4BAsB3C,CApBKsB,GAAMH,EAAiBM,IAAI,CAAC,CAAEL,QAAAA,EAASE,KAAM,MAAM,GAExDnB,EAAU,KACT,IAAIuB,EAAU,CAAA,EAERC,EAAa,UACbD,GAILR,EAAW,CAAA,EACZ,EAIA,OAFAS,IAEO,KACND,EAAU,CAAA,CACX,CACD,EAAG,CAACP,EAAkBC,EAAQ,EAG7B,CAAA,AAAa,YAAZA,GAAyBA,AAAY,cAAZA,GAA2BA,AAAY,YAAZA,GAAyBA,AAAY,YAAZA,GAC7EI,GACAD,CAAAA,GAKE,CAAA,AAAa,cAAZH,GAA2BE,AAAS,YAATA,GAAwBC,CAAAA,GAEpDN,EACIhB,EAAA2B,aAAA,CAACxB,EAAY,MAIpBH,EAAA2B,aAAA,CAACvB,EAAY,KACZJ,EAAA2B,aAAA,CAAClB,EAA0B,MACzBY,AAAS,SAATA,GAAmBrB,EAAA2B,aAAA,CAACnB,EAAQ,OAC5BY,GAAMC,AAAS,SAATA,GAAmBrB,EAAA2B,aAAA,CAACrB,EAAc,CAACc,GAAIA,CAAG,IAChDC,AAAS,YAATA,GAAsBrB,EAAA2B,aAAA,CAACpB,EAAc,OAdjCP,EAAA2B,aAAA,CAACtB,EAAiB,KAiB3B\"}"}