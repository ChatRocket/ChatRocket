{"code":"function module(e,t,n){var a,s,i,o,u,l,r,c,m,d,f,g,k,h,p,y,M,S,b,E,C,v,x,U,L,T,D,w,A,_,F,I=[\"message\",\"showUserAvatar\"],N=[\"method_id\",\"i18nLabel\"];n.link(\"@babel/runtime/helpers/extends\",{default:function(e){a=e}},0),n.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){s=e}},1),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){i=e}},2),n.link(\"@rocket.chat/fuselage\",{MessageSystem:function(e){o=e},MessageSystemBody:function(e){u=e},MessageSystemContainer:function(e){l=e},MessageSystemLeftContainer:function(e){r=e},MessageSystemName:function(e){c=e},MessageSystemTimestamp:function(e){m=e},MessageSystemBlock:function(e){d=e},CheckBox:function(e){f=e},MessageUsername:function(e){g=e},MessageNameContainer:function(e){k=e}},0),n.link(\"@rocket.chat/ui-avatar\",{UserAvatar:function(e){h=e}},1),n.link(\"react\",{default:function(e){p=e},memo:function(e){y=e}},2),n.link(\"react-i18next\",{useTranslation:function(e){M=e}},3),n.link(\"../../../../app/ui-utils/client\",{MessageTypes:function(e){S=e}},4),n.link(\"../../../../lib/getUserDisplayName\",{getUserDisplayName:function(e){b=e}},5),n.link(\"../../../hooks/useFormatDateAndTime\",{useFormatDateAndTime:function(e){E=e}},6),n.link(\"../../../hooks/useFormatTime\",{useFormatTime:function(e){C=e}},7),n.link(\"../../../hooks/useUserData\",{useUserData:function(e){v=e}},8),n.link(\"../../../views/room/MessageList/contexts/SelectedMessagesContext\",{useIsSelecting:function(e){x=e},useToggleSelect:function(e){U=e},useIsSelectedMessage:function(e){L=e},useCountSelected:function(e){T=e}},9),n.link(\"../../../views/room/contexts/UserCardContext\",{useUserCard:function(e){D=e}},10),n.link(\"../content/Attachments\",{default:function(e){w=e}},11),n.link(\"../content/MessageActions\",{default:function(e){A=e}},12),n.link(\"../list/MessageListContext\",{useMessageListShowRealName:function(e){_=e},useMessageListShowUsername:function(e){F=e}},13),n.exportDefault(y(function(e){var t,n=e.message,y=e.showUserAvatar,q=i(e,I),B=M().t,j=C(),P=E(),z=D(),K=z.triggerProps,R=z.openUserCard,W=_(),G=s(s({},n.u),{},{roles:[]},v(n.u._id)),H=!G.name||G.username===G.name,J=F()&&W&&!H,O=S.getType(n),Q=x(),V=U(n._id),X=L(n._id);return T(),p.createElement(o,a({role:\"listitem\",\"aria-roledescription\":B(\"system_message\"),tabIndex:0,onClick:Q?V:void 0,isSelected:X,\"data-qa-selected\":X,\"data-qa\":\"system-message\",\"data-system-message-type\":n.t},q),p.createElement(r,null,!Q&&y&&p.createElement(h,{username:n.u.username,size:\"x18\"}),Q&&p.createElement(f,{checked:X,onChange:V})),p.createElement(l,null,p.createElement(d,null,p.createElement(k,a({tabIndex:0,role:\"button\",onClick:function(e){return G.username&&R(e,G.username)},onKeyDown:function(e){(\"Enter\"===e.code||\"Space\"===e.code)&&R(e,n.u.username)},style:{cursor:\"pointer\"}},K),p.createElement(c,null,b(G.name,G.username,W)),J&&p.createElement(p.Fragment,null,\" \",p.createElement(g,{\"data-username\":G.username},\"@\",G.username))),O&&p.createElement(u,{\"data-qa-type\":\"system-message-body\"},B(O.message,O.data?O.data(n):{})),p.createElement(m,{title:P(n.ts)},j(n.ts))),n.attachments&&p.createElement(d,null,p.createElement(w,{attachments:n.attachments})),(null===(t=n.actionLinks)||void 0===t?void 0:t.length)&&p.createElement(A,{message:n,actions:n.actionLinks.map(function(e){var t=e.method_id,n=e.i18nLabel,a=i(e,N);return s({methodId:t,i18nLabel:n},a)})})))}))}","map":"{\"version\":3,\"sources\":[\"client/components/message/variants/SystemMessage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport {\\n\\tMessageSystem,\\n\\tMessageSystemBody,\\n\\tMessageSystemContainer,\\n\\tMessageSystemLeftContainer,\\n\\tMessageSystemName,\\n\\tMessageSystemTimestamp,\\n\\tMessageSystemBlock,\\n\\tCheckBox,\\n\\tMessageUsername,\\n\\tMessageNameContainer,\\n} from '@rocket.chat/fuselage';\\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps, ReactElement, KeyboardEvent } from 'react';\\nimport React, { memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { MessageTypes } from '../../../../app/ui-utils/client';\\nimport { getUserDisplayName } from '../../../../lib/getUserDisplayName';\\nimport { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\\nimport { useFormatTime } from '../../../hooks/useFormatTime';\\nimport { useUserData } from '../../../hooks/useUserData';\\nimport type { UserPresence } from '../../../lib/presence';\\nimport {\\n\\tuseIsSelecting,\\n\\tuseToggleSelect,\\n\\tuseIsSelectedMessage,\\n\\tuseCountSelected,\\n} from '../../../views/room/MessageList/contexts/SelectedMessagesContext';\\nimport { useUserCard } from '../../../views/room/contexts/UserCardContext';\\nimport Attachments from '../content/Attachments';\\nimport MessageActions from '../content/MessageActions';\\nimport { useMessageListShowRealName, useMessageListShowUsername } from '../list/MessageListContext';\\n\\ntype SystemMessageProps = {\\n\\tmessage: IMessage;\\n\\tshowUserAvatar: boolean;\\n} & ComponentProps<typeof MessageSystem>;\\n\\nconst SystemMessage = ({ message, showUserAvatar, ...props }: SystemMessageProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst formatTime = useFormatTime();\\n\\tconst formatDateAndTime = useFormatDateAndTime();\\n\\tconst { triggerProps, openUserCard } = useUserCard();\\n\\n\\tconst showRealName = useMessageListShowRealName();\\n\\tconst user: UserPresence = { ...message.u, roles: [], ...useUserData(message.u._id) };\\n\\tconst usernameAndRealNameAreSame = !user.name || user.username === user.name;\\n\\tconst showUsername = useMessageListShowUsername() && showRealName && !usernameAndRealNameAreSame;\\n\\n\\tconst messageType = MessageTypes.getType(message);\\n\\n\\tconst isSelecting = useIsSelecting();\\n\\tconst toggleSelected = useToggleSelect(message._id);\\n\\tconst isSelected = useIsSelectedMessage(message._id);\\n\\tuseCountSelected();\\n\\n\\treturn (\\n\\t\\t<MessageSystem\\n\\t\\t\\trole='listitem'\\n\\t\\t\\taria-roledescription={t('system_message')}\\n\\t\\t\\ttabIndex={0}\\n\\t\\t\\tonClick={isSelecting ? toggleSelected : undefined}\\n\\t\\t\\tisSelected={isSelected}\\n\\t\\t\\tdata-qa-selected={isSelected}\\n\\t\\t\\tdata-qa='system-message'\\n\\t\\t\\tdata-system-message-type={message.t}\\n\\t\\t\\t{...props}\\n\\t\\t>\\n\\t\\t\\t<MessageSystemLeftContainer>\\n\\t\\t\\t\\t{!isSelecting && showUserAvatar && <UserAvatar username={message.u.username} size='x18' />}\\n\\t\\t\\t\\t{isSelecting && <CheckBox checked={isSelected} onChange={toggleSelected} />}\\n\\t\\t\\t</MessageSystemLeftContainer>\\n\\t\\t\\t<MessageSystemContainer>\\n\\t\\t\\t\\t<MessageSystemBlock>\\n\\t\\t\\t\\t\\t<MessageNameContainer\\n\\t\\t\\t\\t\\t\\ttabIndex={0}\\n\\t\\t\\t\\t\\t\\trole='button'\\n\\t\\t\\t\\t\\t\\tonClick={(e) => user.username && openUserCard(e, user.username)}\\n\\t\\t\\t\\t\\t\\tonKeyDown={(e: KeyboardEvent<HTMLSpanElement>) => {\\n\\t\\t\\t\\t\\t\\t\\t(e.code === 'Enter' || e.code === 'Space') && openUserCard(e, message.u.username);\\n\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\tstyle={{ cursor: 'pointer' }}\\n\\t\\t\\t\\t\\t\\t{...triggerProps}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<MessageSystemName>{getUserDisplayName(user.name, user.username, showRealName)}</MessageSystemName>\\n\\t\\t\\t\\t\\t\\t{showUsername && (\\n\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t{' '}\\n\\t\\t\\t\\t\\t\\t\\t\\t<MessageUsername data-username={user.username}>@{user.username}</MessageUsername>\\n\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</MessageNameContainer>\\n\\t\\t\\t\\t\\t{messageType && (\\n\\t\\t\\t\\t\\t\\t<MessageSystemBody data-qa-type='system-message-body'>\\n\\t\\t\\t\\t\\t\\t\\t{t(messageType.message, messageType.data ? messageType.data(message) : {})}\\n\\t\\t\\t\\t\\t\\t</MessageSystemBody>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t<MessageSystemTimestamp title={formatDateAndTime(message.ts)}>{formatTime(message.ts)}</MessageSystemTimestamp>\\n\\t\\t\\t\\t</MessageSystemBlock>\\n\\t\\t\\t\\t{message.attachments && (\\n\\t\\t\\t\\t\\t<MessageSystemBlock>\\n\\t\\t\\t\\t\\t\\t<Attachments attachments={message.attachments} />\\n\\t\\t\\t\\t\\t</MessageSystemBlock>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{message.actionLinks?.length && (\\n\\t\\t\\t\\t\\t<MessageActions\\n\\t\\t\\t\\t\\t\\tmessage={message}\\n\\t\\t\\t\\t\\t\\tactions={message.actionLinks.map(({ method_id: methodId, i18nLabel, ...action }) => ({\\n\\t\\t\\t\\t\\t\\t\\tmethodId,\\n\\t\\t\\t\\t\\t\\t\\ti18nLabel: i18nLabel as TranslationKey,\\n\\t\\t\\t\\t\\t\\t\\t...action,\\n\\t\\t\\t\\t\\t\\t}))}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</MessageSystemContainer>\\n\\t\\t</MessageSystem>\\n\\t);\\n};\\n\\nexport default memo(SystemMessage);\\n\",null],\"names\":[\"_extends\",\"_objectSpread\",\"_objectWithoutProperties\",\"MessageSystem\",\"MessageSystemBody\",\"MessageSystemContainer\",\"MessageSystemLeftContainer\",\"MessageSystemName\",\"MessageSystemTimestamp\",\"MessageSystemBlock\",\"CheckBox\",\"MessageUsername\",\"MessageNameContainer\",\"UserAvatar\",\"React\",\"memo\",\"useTranslation\",\"MessageTypes\",\"getUserDisplayName\",\"useFormatDateAndTime\",\"useFormatTime\",\"useUserData\",\"useIsSelecting\",\"useToggleSelect\",\"useIsSelectedMessage\",\"useCountSelected\",\"useUserCard\",\"Attachments\",\"MessageActions\",\"useMessageListShowRealName\",\"useMessageListShowUsername\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_message$actionLinks\",\"message\",\"showUserAvatar\",\"props\",\"_excluded\",\"t\",\"_useTranslation\",\"formatTime\",\"formatDateAndTime\",\"_useUserCard\",\"triggerProps\",\"openUserCard\",\"showRealName\",\"user\",\"u\",\"roles\",\"_id\",\"usernameAndRealNameAreSame\",\"name\",\"username\",\"showUsername\",\"messageType\",\"getType\",\"isSelecting\",\"toggleSelected\",\"isSelected\",\"createElement\",\"role\",\"tabIndex\",\"onClick\",\"undefined\",\"size\",\"checked\",\"onChange\",\"e\",\"onKeyDown\",\"code\",\"style\",\"cursor\",\"Fragment\",\"data\",\"title\",\"ts\",\"attachments\",\"actionLinks\",\"length\",\"actions\",\"map\",\"_ref2\",\"methodId\",\"method_id\",\"i18nLabel\",\"action\",\"_excluded2\"],\"mappings\":\"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\"}"}