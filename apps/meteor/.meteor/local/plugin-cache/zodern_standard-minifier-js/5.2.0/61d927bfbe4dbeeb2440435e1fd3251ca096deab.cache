{"code":"function module(e,t,l){let i,n,r,o,a,s,u,c,m,f,g,d,h;l.link(\"@nivo/bar\",{ResponsiveBar(e){i=e}},0),l.link(\"@rocket.chat/fuselage\",{Box(e){n=e},Button(e){r=e},Chevron(e){o=e},Skeleton(e){a=e},Tooltip(e){s=e}},1),l.link(\"@rocket.chat/fuselage-hooks\",{useBreakpoints(e){u=e}},2),l.link(\"@rocket.chat/fuselage-tokens/colors.json\",{default(e){c=e}},3),l.link(\"moment\",{default(e){m=e}},4),l.link(\"react\",{default(e){f=e},useMemo(e){g=e}},5),l.link(\"react-i18next\",{useTranslation(e){d=e}},6),l.link(\"./useHourlyChatActivity\",{useHourlyChatActivity(e){h=e}},7),l.exportDefault(e=>{let{displacement:t,onPreviousDateClick:l,onNextDateClick:k,timezone:p}=e,{data:x}=h({displacement:t,utc:\"utc\"===p}),{t:y}=d(),E=u().includes(\"lg\"),v=g(()=>{if(!x)return[];let e=Array.from({length:12},(e,t)=>({hour:String(2*t),users:0}));for(let{hour:l,users:i}of null!==(t=null==x?void 0:x.hours)&&void 0!==t?t:[]){var t;let n=Math.floor(l/2);e[n]=e[n]||{hour:String(2*n),users:0},e[n].users+=i}return e},[x]);return f.createElement(f.Fragment,null,f.createElement(n,{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},f.createElement(r,{square:!0,small:!0,onClick:l},f.createElement(o,{left:!0,size:\"x20\",style:{verticalAlign:\"middle\"}})),f.createElement(n,{mi:8,flexBasis:\"25%\",is:\"span\",style:{textAlign:\"center\"}},x?m(x.day).format(t<7?\"dddd\":\"L\"):null),f.createElement(r,{square:!0,small:!0,disabled:0===t,onClick:k},f.createElement(o,{right:!0,size:\"x20\",style:{verticalAlign:\"middle\"}}))),x?f.createElement(n,{display:\"flex\",height:\"196px\"},f.createElement(n,{alignSelf:\"stretch\",flexGrow:1,flexShrink:0,position:\"relative\"},f.createElement(n,{position:\"absolute\",width:\"100%\",height:\"100%\"},f.createElement(i,{data:v,indexBy:\"hour\",keys:[\"users\"],groupMode:\"grouped\",padding:.25,margin:{bottom:30,right:5},colors:[c.p500],enableLabel:!1,enableGridY:!1,axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:4,tickRotation:E?0:25,tickValues:\"every 2 hours\",format:e=>m().set({hour:e,minute:0,second:0}).format(\"LT\")},axisLeft:null,animate:!0,motionConfig:\"stiff\",theme:{axis:{ticks:{text:{fill:c.n600,fontFamily:'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',fontSize:\"10px\",fontStyle:\"normal\",fontWeight:600,letterSpacing:\"0.2px\",lineHeight:\"12px\"}}}},tooltip:e=>{let{value:t}=e;return f.createElement(s,null,y(\"Value_users\",{value:t}))}})))):f.createElement(a,{variant:\"rect\",height:196}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/engagementDashboard/users/ContentForHours.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { ResponsiveBar } from '@nivo/bar';\\nimport { Box, Button, Chevron, Skeleton, Tooltip } from '@rocket.chat/fuselage';\\nimport { useBreakpoints } from '@rocket.chat/fuselage-hooks';\\nimport colors from '@rocket.chat/fuselage-tokens/colors.json';\\nimport moment from 'moment';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useHourlyChatActivity } from './useHourlyChatActivity';\\n\\ntype ContentForHoursProps = {\\n\\tdisplacement: number;\\n\\tonPreviousDateClick: () => void;\\n\\tonNextDateClick: () => void;\\n\\ttimezone: 'utc' | 'local';\\n};\\n\\nconst ContentForHours = ({ displacement, onPreviousDateClick, onNextDateClick, timezone }: ContentForHoursProps): ReactElement => {\\n\\tconst utc = timezone === 'utc';\\n\\tconst { data } = useHourlyChatActivity({ displacement, utc });\\n\\n\\tconst { t } = useTranslation();\\n\\tconst isLgScreen = useBreakpoints().includes('lg');\\n\\n\\tconst values = useMemo(() => {\\n\\t\\tif (!data) {\\n\\t\\t\\treturn [];\\n\\t\\t}\\n\\n\\t\\tconst divider = 2;\\n\\t\\tconst values = Array.from({ length: 24 / divider }, (_, i) => ({\\n\\t\\t\\thour: String(divider * i),\\n\\t\\t\\tusers: 0,\\n\\t\\t}));\\n\\n\\t\\tfor (const { hour, users } of data?.hours ?? []) {\\n\\t\\t\\tconst i = Math.floor(hour / divider);\\n\\t\\t\\tvalues[i] = values[i] || { hour: String(divider * i), users: 0 };\\n\\t\\t\\tvalues[i].users += users;\\n\\t\\t}\\n\\n\\t\\treturn values;\\n\\t}, [data]);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<Box display='flex' alignItems='center' justifyContent='center'>\\n\\t\\t\\t\\t<Button square small onClick={onPreviousDateClick}>\\n\\t\\t\\t\\t\\t<Chevron left size='x20' style={{ verticalAlign: 'middle' }} />\\n\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t<Box mi={8} flexBasis='25%' is='span' style={{ textAlign: 'center' }}>\\n\\t\\t\\t\\t\\t{data ? moment(data.day).format(displacement < 7 ? 'dddd' : 'L') : null}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<Button square small disabled={displacement === 0} onClick={onNextDateClick}>\\n\\t\\t\\t\\t\\t<Chevron right size='x20' style={{ verticalAlign: 'middle' }} />\\n\\t\\t\\t\\t</Button>\\n\\t\\t\\t</Box>\\n\\t\\t\\t{data ? (\\n\\t\\t\\t\\t<Box display='flex' height='196px'>\\n\\t\\t\\t\\t\\t<Box alignSelf='stretch' flexGrow={1} flexShrink={0} position='relative'>\\n\\t\\t\\t\\t\\t\\t<Box position='absolute' width='100%' height='100%'>\\n\\t\\t\\t\\t\\t\\t\\t<ResponsiveBar\\n\\t\\t\\t\\t\\t\\t\\t\\tdata={values}\\n\\t\\t\\t\\t\\t\\t\\t\\tindexBy='hour'\\n\\t\\t\\t\\t\\t\\t\\t\\tkeys={['users']}\\n\\t\\t\\t\\t\\t\\t\\t\\tgroupMode='grouped'\\n\\t\\t\\t\\t\\t\\t\\t\\tpadding={0.25}\\n\\t\\t\\t\\t\\t\\t\\t\\tmargin={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: Get it from theme\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tbottom: 30,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tright: 5,\\n\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t\\tcolors={[\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: Get it from theme\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcolors.p500,\\n\\t\\t\\t\\t\\t\\t\\t\\t]}\\n\\t\\t\\t\\t\\t\\t\\t\\tenableLabel={false}\\n\\t\\t\\t\\t\\t\\t\\t\\tenableGridY={false}\\n\\t\\t\\t\\t\\t\\t\\t\\taxisTop={null}\\n\\t\\t\\t\\t\\t\\t\\t\\taxisRight={null}\\n\\t\\t\\t\\t\\t\\t\\t\\taxisBottom={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttickSize: 0,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: Get it from theme\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttickPadding: 4,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttickRotation: isLgScreen ? 0 : 25,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttickValues: 'every 2 hours',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tformat: (hour): string => moment().set({ hour, minute: 0, second: 0 }).format('LT'),\\n\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t\\taxisLeft={null}\\n\\t\\t\\t\\t\\t\\t\\t\\tanimate={true}\\n\\t\\t\\t\\t\\t\\t\\t\\tmotionConfig='stiff'\\n\\t\\t\\t\\t\\t\\t\\t\\ttheme={{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: Get it from theme\\n\\t\\t\\t\\t\\t\\t\\t\\t\\taxis: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tticks: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttext: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfill: colors.n600,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfontFamily:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'Inter, -apple-system, system-ui, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\", \\\"Meiryo UI\\\", Arial, sans-serif',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfontSize: '10px',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfontStyle: 'normal',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfontWeight: 600,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tletterSpacing: '0.2px',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlineHeight: '12px',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t\\ttooltip={({ value }) => <Tooltip>{t('Value_users', { value })}</Tooltip>}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t) : (\\n\\t\\t\\t\\t<Skeleton variant='rect' height={196} />\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default ContentForHours;\\n\",null],\"names\":[\"ResponsiveBar\",\"Box\",\"Button\",\"Chevron\",\"Skeleton\",\"Tooltip\",\"useBreakpoints\",\"colors\",\"moment\",\"React\",\"useMemo\",\"useTranslation\",\"useHourlyChatActivity\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"displacement\",\"onPreviousDateClick\",\"onNextDateClick\",\"timezone\",\"data\",\"utc\",\"t\",\"isLgScreen\",\"includes\",\"values\",\"Array\",\"from\",\"length\",\"_\",\"i\",\"hour\",\"String\",\"divider\",\"users\",\"_data$hours\",\"hours\",\"Math\",\"floor\",\"createElement\",\"Fragment\",\"display\",\"alignItems\",\"justifyContent\",\"square\",\"small\",\"onClick\",\"left\",\"size\",\"style\",\"verticalAlign\",\"mi\",\"flexBasis\",\"is\",\"textAlign\",\"day\",\"format\",\"disabled\",\"right\",\"height\",\"alignSelf\",\"flexGrow\",\"flexShrink\",\"position\",\"width\",\"indexBy\",\"keys\",\"groupMode\",\"padding\",\"margin\",\"bottom\",\"p500\",\"enableLabel\",\"enableGridY\",\"axisTop\",\"axisRight\",\"axisBottom\",\"tickSize\",\"tickPadding\",\"tickRotation\",\"tickValues\",\"set\",\"minute\",\"second\",\"axisLeft\",\"animate\",\"motionConfig\",\"theme\",\"axis\",\"ticks\",\"text\",\"fill\",\"n600\",\"fontFamily\",\"fontSize\",\"fontStyle\",\"fontWeight\",\"letterSpacing\",\"lineHeight\",\"tooltip\",\"_ref2\",\"value\",\"variant\"],\"mappings\":\"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\"}"}