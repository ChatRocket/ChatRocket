{"code":"function module(e,n,t){var o,l,a,c,i,r,u,m,f,s,C,h,E,d,k,p,x,b,g,T,w,S,_,v,A;t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},Icon:function(e){l=e},TextInput:function(e){a=e},Select:function(e){c=e},Throbber:function(e){i=e},ButtonGroup:function(e){r=e},Button:function(e){u=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){m=e},useAutoFocus:function(e){f=e},useDebouncedCallback:function(e){s=e}},1),t.link(\"react\",{default:function(e){C=e},useMemo:function(e){h=e}},2),t.link(\"react-i18next\",{useTranslation:function(e){E=e}},3),t.link(\"react-virtuoso\",{Virtuoso:function(e){d=e}},4),t.link(\"../../../../components/Contextualbar\",{ContextualbarHeader:function(e){k=e},ContextualbarIcon:function(e){p=e},ContextualbarTitle:function(e){x=e},ContextualbarClose:function(e){b=e},ContextualbarContent:function(e){g=e},ContextualbarFooter:function(e){T=e},ContextualbarEmptyContent:function(e){w=e},ContextualbarSection:function(e){S=e}},5),t.link(\"../../../../components/CustomScrollbars\",{VirtuosoScrollbars:function(e){_=e}},6),t.link(\"../../../../components/InfiniteListAnchor\",{default:function(e){v=e}},7),t.link(\"./TeamsChannelItem\",{default:function(e){A=e}},8),t.exportDefault(function(e){var n=e.loading,t=e.channels,I=void 0===t?[]:t,F=e.mainRoom,M=e.text,y=e.type,V=e.setText,B=e.setType,z=e.onClickClose,D=e.onClickAddExisting,N=e.onClickCreateNew,R=e.total,j=e.loadMoreItems,G=e.onClickView,H=e.reload,J=E().t,L=f(!0),q=h(function(){return[[\"all\",J(\"All\")],[\"autoJoin\",J(\"Team_Auto-join\")]]},[J]),K=m(function(e){return!n&&j(e,Math.min(50,R-e))}),O=s(function(){I.length>=R||K(I.length)},300,[K,I]);return C.createElement(C.Fragment,null,C.createElement(k,null,C.createElement(p,{name:\"hash\"}),C.createElement(x,null,J(\"Team_Channels\")),z&&C.createElement(b,{onClick:z})),C.createElement(S,null,C.createElement(a,{placeholder:J(\"Search\"),value:M,ref:L,onChange:V,addon:C.createElement(l,{name:\"magnifier\",size:\"x20\"})}),C.createElement(o,{w:\"x144\",mis:8},C.createElement(c,{onChange:function(e){return B(e)},value:y,options:q}))),C.createElement(g,{p:12},n&&C.createElement(o,{pi:24,pb:12},C.createElement(i,{size:\"x12\"})),!n&&0===I.length&&C.createElement(w,{title:J(\"No_channels_in_team\")}),!n&&I.length>0&&C.createElement(C.Fragment,null,C.createElement(o,{pi:18,pb:12},C.createElement(o,{is:\"span\",color:\"hint\",fontScale:\"p2\"},J(\"Showing\"),\": \",I.length),C.createElement(o,{is:\"span\",color:\"hint\",fontScale:\"p2\",mis:8},J(\"Total\"),\": \",R)),C.createElement(o,{w:\"full\",h:\"full\",role:\"list\",overflow:\"hidden\",flexShrink:1},C.createElement(d,{totalCount:R,data:I,components:{Scroller:_,Footer:function(){return C.createElement(v,{loadMore:O})}},itemContent:function(e,n){return C.createElement(A,{onClickView:G,room:n,mainRoom:F,reload:H,key:e})}})))),(D||N)&&C.createElement(T,null,C.createElement(r,{stretch:!0},D&&C.createElement(u,{onClick:D,width:\"50%\"},J(\"Team_Add_existing\")),N&&C.createElement(u,{onClick:N,width:\"50%\"},J(\"Create_new\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/teams/contextualBar/channels/TeamsChannels.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Box, Icon, TextInput, Select, Throbber, ButtonGroup, Button } from '@rocket.chat/fuselage';\\nimport { useMutableCallback, useAutoFocus, useDebouncedCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { ChangeEvent, Dispatch, SetStateAction, SyntheticEvent } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\nimport { Virtuoso } from 'react-virtuoso';\\n\\nimport {\\n\\tContextualbarHeader,\\n\\tContextualbarIcon,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarContent,\\n\\tContextualbarFooter,\\n\\tContextualbarEmptyContent,\\n\\tContextualbarSection,\\n} from '../../../../components/Contextualbar';\\nimport { VirtuosoScrollbars } from '../../../../components/CustomScrollbars';\\nimport InfiniteListAnchor from '../../../../components/InfiniteListAnchor';\\nimport TeamsChannelItem from './TeamsChannelItem';\\n\\ntype TeamsChannelsProps = {\\n\\tloading: boolean;\\n\\tchannels: IRoom[];\\n\\tmainRoom: IRoom;\\n\\ttext: string;\\n\\ttype: 'all' | 'autoJoin';\\n\\tsetType: Dispatch<SetStateAction<'all' | 'autoJoin'>>;\\n\\tsetText: (e: ChangeEvent<HTMLInputElement>) => void;\\n\\tonClickClose: () => void;\\n\\tonClickAddExisting: false | ((e: SyntheticEvent) => void);\\n\\tonClickCreateNew: false | ((e: SyntheticEvent) => void);\\n\\ttotal: number;\\n\\tloadMoreItems: (start: number, end: number) => void;\\n\\tonClickView: (room: IRoom) => void;\\n\\treload: () => void;\\n};\\n\\nconst TeamsChannels = ({\\n\\tloading,\\n\\tchannels = [],\\n\\tmainRoom,\\n\\ttext,\\n\\ttype,\\n\\tsetText,\\n\\tsetType,\\n\\tonClickClose,\\n\\tonClickAddExisting,\\n\\tonClickCreateNew,\\n\\ttotal,\\n\\tloadMoreItems,\\n\\tonClickView,\\n\\treload,\\n}: TeamsChannelsProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst inputRef = useAutoFocus<HTMLInputElement>(true);\\n\\n\\tconst options: SelectOption[] = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['all', t('All')],\\n\\t\\t\\t['autoJoin', t('Team_Auto-join')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst lm = useMutableCallback((start) => !loading && loadMoreItems(start, Math.min(50, total - start)));\\n\\n\\tconst loadMoreChannels = useDebouncedCallback(\\n\\t\\t() => {\\n\\t\\t\\tif (channels.length >= total) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tlm(channels.length);\\n\\t\\t},\\n\\t\\t300,\\n\\t\\t[lm, channels],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarIcon name='hash' />\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Team_Channels')}</ContextualbarTitle>\\n\\t\\t\\t\\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarSection>\\n\\t\\t\\t\\t<TextInput placeholder={t('Search')} value={text} ref={inputRef} onChange={setText} addon={<Icon name='magnifier' size='x20' />} />\\n\\t\\t\\t\\t<Box w='x144' mis={8}>\\n\\t\\t\\t\\t\\t<Select onChange={(val) => setType(val as 'all' | 'autoJoin')} value={type} options={options} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</ContextualbarSection>\\n\\t\\t\\t<ContextualbarContent p={12}>\\n\\t\\t\\t\\t{loading && (\\n\\t\\t\\t\\t\\t<Box pi={24} pb={12}>\\n\\t\\t\\t\\t\\t\\t<Throbber size='x12' />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{!loading && channels.length === 0 && <ContextualbarEmptyContent title={t('No_channels_in_team')} />}\\n\\t\\t\\t\\t{!loading && channels.length > 0 && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t<Box pi={18} pb={12}>\\n\\t\\t\\t\\t\\t\\t\\t<Box is='span' color='hint' fontScale='p2'>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Showing')}: {channels.length}\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\n\\t\\t\\t\\t\\t\\t\\t<Box is='span' color='hint' fontScale='p2' mis={8}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Total')}: {total}\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t<Box w='full' h='full' role='list' overflow='hidden' flexShrink={1}>\\n\\t\\t\\t\\t\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\t\\t\\t\\t\\ttotalCount={total}\\n\\t\\t\\t\\t\\t\\t\\t\\tdata={channels}\\n\\t\\t\\t\\t\\t\\t\\t\\t// eslint-disable-next-line react/no-multi-comp\\n\\t\\t\\t\\t\\t\\t\\t\\tcomponents={{ Scroller: VirtuosoScrollbars, Footer: () => <InfiniteListAnchor loadMore={loadMoreChannels} /> }}\\n\\t\\t\\t\\t\\t\\t\\t\\titemContent={(index, data) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<TeamsChannelItem onClickView={onClickView} room={data} mainRoom={mainRoom} reload={reload} key={index} />\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</ContextualbarContent>\\n\\t\\t\\t{(onClickAddExisting || onClickCreateNew) && (\\n\\t\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t\\t{onClickAddExisting && (\\n\\t\\t\\t\\t\\t\\t\\t<Button onClick={onClickAddExisting} width='50%'>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Team_Add_existing')}\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t{onClickCreateNew && (\\n\\t\\t\\t\\t\\t\\t\\t<Button onClick={onClickCreateNew} width='50%'>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Create_new')}\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t</ContextualbarFooter>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default TeamsChannels;\\n\",null],\"names\":[\"Box\",\"Icon\",\"TextInput\",\"Select\",\"Throbber\",\"ButtonGroup\",\"Button\",\"useMutableCallback\",\"useAutoFocus\",\"useDebouncedCallback\",\"React\",\"useMemo\",\"useTranslation\",\"Virtuoso\",\"ContextualbarHeader\",\"ContextualbarIcon\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarContent\",\"ContextualbarFooter\",\"ContextualbarEmptyContent\",\"ContextualbarSection\",\"VirtuosoScrollbars\",\"InfiniteListAnchor\",\"TeamsChannelItem\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"loading\",\"_ref$channels\",\"channels\",\"mainRoom\",\"text\",\"type\",\"setText\",\"setType\",\"onClickClose\",\"onClickAddExisting\",\"onClickCreateNew\",\"total\",\"loadMoreItems\",\"onClickView\",\"reload\",\"t\",\"_useTranslation\",\"inputRef\",\"options\",\"lm\",\"start\",\"Math\",\"min\",\"loadMoreChannels\",\"length\",\"createElement\",\"Fragment\",\"name\",\"onClick\",\"placeholder\",\"value\",\"ref\",\"onChange\",\"addon\",\"size\",\"w\",\"mis\",\"val\",\"p\",\"pi\",\"pb\",\"title\",\"is\",\"color\",\"fontScale\",\"h\",\"role\",\"overflow\",\"flexShrink\",\"totalCount\",\"data\",\"components\",\"Scroller\",\"Footer\",\"loadMore\",\"itemContent\",\"index\",\"room\",\"key\",\"stretch\",\"width\"],\"mappings\":\"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\"}"}