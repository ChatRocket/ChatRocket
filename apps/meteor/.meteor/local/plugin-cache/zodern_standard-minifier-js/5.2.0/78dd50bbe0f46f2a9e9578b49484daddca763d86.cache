{"code":"function module(e,n,t){var o,a,i,l,c,r,u,f,m,d,s,h,E,k,x,C;t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useRoute:function(e){a=e},useRouteParameter:function(e){i=e}},1),t.link(\"react\",{default:function(e){l=e}},2),t.link(\"react-i18next\",{useTranslation:function(e){c=e}},3),t.link(\"../../../components/Contextualbar\",{Contextualbar:function(e){r=e},ContextualbarHeader:function(e){u=e},ContextualbarIcon:function(e){f=e},ContextualbarTitle:function(e){m=e},ContextualbarAction:function(e){d=e},ContextualbarClose:function(e){s=e}},4),t.link(\"./chats/Chat\",{default:function(e){h=e}},5),t.link(\"./chats/contextualBar/ChatInfoDirectory\",{default:function(e){E=e}},6),t.link(\"./chats/contextualBar/RoomEdit\",{RoomEditWithData:function(e){k=e}},7),t.link(\"./components\",{FormSkeleton:function(e){x=e}},8),t.link(\"./hooks/useOmnichannelRoomInfo\",{useOmnichannelRoomInfo:function(e){C=e}},9),t.exportDefault(function(e){var n=e.chatReload,t=a(\"omnichannel-directory\"),p=i(\"bar\")||\"info\",b=i(\"id\")||\"\",R=c().t,g=C(b),w=g.data,I=g.isLoading,v=g.isError,_=g.refetch;return\"view\"===p&&b?l.createElement(h,{rid:b}):I?l.createElement(o,{pi:24},l.createElement(x,null)):v||!w?l.createElement(o,{mbs:16},R(\"Room_not_found\")):l.createElement(r,null,l.createElement(u,{expanded:!0},\"info\"===p&&l.createElement(l.Fragment,null,l.createElement(f,{name:\"info-circled\"}),l.createElement(m,null,R(\"Room_Info\")),l.createElement(d,{title:R(\"View_full_conversation\"),name:\"new-window\",onClick:function(){b&&t.push({page:\"chats\",id:b,bar:\"view\"})}})),\"edit\"===p&&l.createElement(l.Fragment,null,l.createElement(f,{name:\"pencil\"}),l.createElement(m,null,R(\"edit-room\"))),l.createElement(s,{onClick:function(){t.push({page:\"chats\"})}})),\"info\"===p&&l.createElement(E,{id:b,room:w}),\"edit\"===p&&l.createElement(k,{id:b,reload:n,reloadInfo:_,onClose:function(){b&&t.push({page:\"chats\",id:b,bar:\"info\"})}}))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/ChatsContextualBar.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box } from '@rocket.chat/fuselage';\\nimport { useRoute, useRouteParameter } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport {\\n\\tContextualbar,\\n\\tContextualbarHeader,\\n\\tContextualbarIcon,\\n\\tContextualbarTitle,\\n\\tContextualbarAction,\\n\\tContextualbarClose,\\n} from '../../../components/Contextualbar';\\nimport Chat from './chats/Chat';\\nimport ChatInfoDirectory from './chats/contextualBar/ChatInfoDirectory';\\nimport { RoomEditWithData } from './chats/contextualBar/RoomEdit';\\nimport { FormSkeleton } from './components';\\nimport { useOmnichannelRoomInfo } from './hooks/useOmnichannelRoomInfo';\\n\\ntype ChatsContextualBarProps = { chatReload?: () => void };\\n\\nconst ChatsContextualBar = ({ chatReload }: ChatsContextualBarProps) => {\\n\\tconst directoryRoute = useRoute('omnichannel-directory');\\n\\n\\tconst bar = useRouteParameter('bar') || 'info';\\n\\tconst id = useRouteParameter('id') || '';\\n\\n\\tconst { t } = useTranslation();\\n\\n\\tconst openInRoom = (): void => {\\n\\t\\tid && directoryRoute.push({ page: 'chats', id, bar: 'view' });\\n\\t};\\n\\n\\tconst handleChatsContextualbarCloseButtonClick = (): void => {\\n\\t\\tdirectoryRoute.push({ page: 'chats' });\\n\\t};\\n\\n\\tconst handleChatsContextualbarBackButtonClick = (): void => {\\n\\t\\tid && directoryRoute.push({ page: 'chats', id, bar: 'info' });\\n\\t};\\n\\n\\tconst { data: room, isLoading, isError, refetch: reloadInfo } = useOmnichannelRoomInfo(id);\\n\\n\\tif (bar === 'view' && id) {\\n\\t\\treturn <Chat rid={id} />;\\n\\t}\\n\\n\\tif (isLoading) {\\n\\t\\treturn (\\n\\t\\t\\t<Box pi={24}>\\n\\t\\t\\t\\t<FormSkeleton />\\n\\t\\t\\t</Box>\\n\\t\\t);\\n\\t}\\n\\n\\tif (isError || !room) {\\n\\t\\treturn <Box mbs={16}>{t('Room_not_found')}</Box>;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<Contextualbar>\\n\\t\\t\\t<ContextualbarHeader expanded>\\n\\t\\t\\t\\t{bar === 'info' && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t<ContextualbarIcon name='info-circled' />\\n\\t\\t\\t\\t\\t\\t<ContextualbarTitle>{t('Room_Info')}</ContextualbarTitle>\\n\\t\\t\\t\\t\\t\\t<ContextualbarAction title={t('View_full_conversation')} name='new-window' onClick={openInRoom} />\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{bar === 'edit' && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t<ContextualbarIcon name='pencil' />\\n\\t\\t\\t\\t\\t\\t<ContextualbarTitle>{t('edit-room')}</ContextualbarTitle>\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t<ContextualbarClose onClick={handleChatsContextualbarCloseButtonClick} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t{bar === 'info' && <ChatInfoDirectory id={id} room={room} />}\\n\\t\\t\\t{bar === 'edit' && (\\n\\t\\t\\t\\t<RoomEditWithData id={id} reload={chatReload} reloadInfo={reloadInfo} onClose={handleChatsContextualbarBackButtonClick} />\\n\\t\\t\\t)}\\n\\t\\t</Contextualbar>\\n\\t);\\n};\\n\\nexport default ChatsContextualBar;\\n\",null],\"names\":[\"Box\",\"useRoute\",\"useRouteParameter\",\"React\",\"useTranslation\",\"Contextualbar\",\"ContextualbarHeader\",\"ContextualbarIcon\",\"ContextualbarTitle\",\"ContextualbarAction\",\"ContextualbarClose\",\"Chat\",\"ChatInfoDirectory\",\"RoomEditWithData\",\"FormSkeleton\",\"useOmnichannelRoomInfo\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"chatReload\",\"directoryRoute\",\"bar\",\"id\",\"t\",\"_useTranslation\",\"_useOmnichannelRoomIn\",\"room\",\"data\",\"isLoading\",\"isError\",\"reloadInfo\",\"refetch\",\"createElement\",\"rid\",\"pi\",\"mbs\",\"expanded\",\"Fragment\",\"name\",\"title\",\"onClick\",\"push\",\"page\",\"reload\",\"onClose\"],\"mappings\":\"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\"}"}