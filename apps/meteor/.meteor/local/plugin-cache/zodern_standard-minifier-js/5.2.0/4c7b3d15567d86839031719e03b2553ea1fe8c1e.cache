{"code":"function module(e,t,l){let a,n,s,o,i,r,c,u;l.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){a=e}},0),l.link(\"react\",{default(e){n=e},useEffect(e){s=e},useState(e){o=e}},1),l.link(\"../../../../../../../lib/emailValidator\",{validateEmail(e){i=e}},2),l.link(\"../RegisteredWorkspaceModal\",{default(e){r=e}},3),l.link(\"./RegisterWorkspaceSetupStepOneModal\",{default(e){c=e}},4),l.link(\"./RegisterWorkspaceSetupStepTwoModal\",{default(e){u=e}},5),l.exportDefault(e=>{let{onClose:t}=e,l=a(),[d,m]=o(1),[p,k]=o(\"\"),[f,S]=o(!1),[E,g]=o(!1),[v,M]=o({device_code:\"\",interval:0,user_code:\"\"});return s(()=>{g(!1)},[d]),s(()=>{1===d&&g(i(p)&&f)},[p,f]),n.createElement(n.Fragment,null,1===d?n.createElement(c,{email:p,setEmail:k,step:d,setStep:m,terms:f,setTerms:S,onClose:t,validInfo:E,setIntentData:M}):n.createElement(u,{email:p,step:d,setStep:m,onClose:t,intentData:v,onSuccess:()=>{l(n.createElement(r,{onClose:()=>l(null)}))}}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/workspace/VersionCard/modals/RegisterWorkspaceSetupModal/RegisterWorkspaceSetupModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useSetModal } from '@rocket.chat/ui-contexts';\\nimport React, { useEffect, useState } from 'react';\\n\\nimport { validateEmail } from '../../../../../../../lib/emailValidator';\\nimport RegisteredWorkspaceModal from '../RegisteredWorkspaceModal';\\nimport RegisterWorkspaceSetupStepOneModal from './RegisterWorkspaceSetupStepOneModal';\\nimport RegisterWorkspaceSetupStepTwoModal from './RegisterWorkspaceSetupStepTwoModal';\\n\\ntype RegisterWorkspaceSetupModalProps = {\\n\\tonClose: () => void;\\n\\tonStatusChange?: () => void;\\n};\\n\\nconst RegisterWorkspaceSetupModal = ({ onClose }: RegisterWorkspaceSetupModalProps) => {\\n\\tconst setModal = useSetModal();\\n\\n\\tconst [step, setStep] = useState(1);\\n\\tconst [email, setEmail] = useState('');\\n\\tconst [terms, setTerms] = useState(false);\\n\\tconst [validInfo, setValidInfo] = useState(false);\\n\\tconst [intentData, setIntentData] = useState({\\n\\t\\tdevice_code: '',\\n\\t\\tinterval: 0,\\n\\t\\tuser_code: '',\\n\\t});\\n\\n\\t// reset validInfo when users go back to step 1\\n\\tuseEffect(() => {\\n\\t\\tsetValidInfo(false);\\n\\t}, [step]);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (step === 1) {\\n\\t\\t\\tsetValidInfo(validateEmail(email) && terms);\\n\\t\\t}\\n\\t}, [email, terms]);\\n\\n\\tconst onSuccess = () => {\\n\\t\\tconst handleModalClose = (): void => setModal(null);\\n\\t\\tsetModal(<RegisteredWorkspaceModal onClose={handleModalClose} />);\\n\\t};\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{step === 1 ? (\\n\\t\\t\\t\\t<RegisterWorkspaceSetupStepOneModal\\n\\t\\t\\t\\t\\temail={email}\\n\\t\\t\\t\\t\\tsetEmail={setEmail}\\n\\t\\t\\t\\t\\tstep={step}\\n\\t\\t\\t\\t\\tsetStep={setStep}\\n\\t\\t\\t\\t\\tterms={terms}\\n\\t\\t\\t\\t\\tsetTerms={setTerms}\\n\\t\\t\\t\\t\\tonClose={onClose}\\n\\t\\t\\t\\t\\tvalidInfo={validInfo}\\n\\t\\t\\t\\t\\tsetIntentData={setIntentData}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t) : (\\n\\t\\t\\t\\t<RegisterWorkspaceSetupStepTwoModal\\n\\t\\t\\t\\t\\temail={email}\\n\\t\\t\\t\\t\\tstep={step}\\n\\t\\t\\t\\t\\tsetStep={setStep}\\n\\t\\t\\t\\t\\tonClose={onClose}\\n\\t\\t\\t\\t\\tintentData={intentData}\\n\\t\\t\\t\\t\\tonSuccess={onSuccess}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default RegisterWorkspaceSetupModal;\\n\",null],\"names\":[\"useSetModal\",\"React\",\"useEffect\",\"useState\",\"validateEmail\",\"RegisteredWorkspaceModal\",\"RegisterWorkspaceSetupStepOneModal\",\"RegisterWorkspaceSetupStepTwoModal\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"onClose\",\"setModal\",\"step\",\"setStep\",\"email\",\"setEmail\",\"terms\",\"setTerms\",\"validInfo\",\"setValidInfo\",\"intentData\",\"setIntentData\",\"device_code\",\"interval\",\"user_code\",\"createElement\",\"Fragment\",\"onSuccess\",\"handleModalClose\"],\"mappings\":\"2BAAAA,EAAuDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9CC,EAAaC,IAAA,CAAM,2BAA2B,CAAAT,YAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAT,EAAAS,CAAA,EAAAR,UAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0CAAA,CAAAL,cAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uCAAA,CAAAE,QAAAD,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uCAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAvDF,EAAOI,aAAa,CAagBC,IAAkD,GAAjD,CAAEC,QAAAA,CAAAA,CAA2C,CAAAD,EAC3EE,EAAWf,IAEX,CAACgB,EAAMC,EAAQ,CAAGd,EAAS,GAC3B,CAACe,EAAOC,EAAS,CAAGhB,EAAS,IAC7B,CAACiB,EAAOC,EAAS,CAAGlB,EAAS,CAAA,GAC7B,CAACmB,EAAWC,EAAa,CAAGpB,EAAS,CAAA,GACrC,CAACqB,EAAYC,EAAc,CAAGtB,EAAS,CAC5CuB,YAAa,GACbC,SAAU,EACVC,UAAW,YAIZ1B,EAAU,KACTqB,EAAa,CAAA,EACd,EAAG,CAACP,EAAK,EAETd,EAAU,KACI,IAATc,GACHO,EAAanB,EAAcc,IAAUE,EAEvC,EAAG,CAACF,EAAOE,EAAM,EAQhBnB,EAAA4B,aAAA,CAAA5B,EAAA6B,QAAA,CAAA,KACEd,AAAS,IAATA,EACAf,EAAA4B,aAAA,CAACvB,EAAkC,CAClCY,MAAOA,EACPC,SAAUA,EACVH,KAAMA,EACNC,QAASA,EACTG,MAAOA,EACPC,SAAUA,EACVP,QAASA,EACTQ,UAAWA,EACXG,cAAeA,CAAc,GAG9BxB,EAAA4B,aAAA,CAACtB,EAAkC,CAClCW,MAAOA,EACPF,KAAMA,EACNC,QAASA,EACTH,QAASA,EACTU,WAAYA,EACZO,UA1BcA,KAEjBhB,EAASd,EAAA4B,aAAA,CAACxB,EAAwB,CAACS,QADVkB,IAAYjB,EAAS,KACe,GAC9D,CAuByB,GAK1B\"}"}