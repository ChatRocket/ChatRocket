{"code":"function module(e,n,t){t.link(\"@rocket.chat/ui-client\",{FeaturePreview:function(e){l=e},FeaturePreviewOff:function(e){o=e},FeaturePreviewOn:function(e){a=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useTranslation:function(e){r=e},useSetting:function(e){i=e}},1),t.link(\"react\",{default:function(e){u=e},createElement:function(e){c=e},lazy:function(e){m=e},memo:function(e){f=e},Suspense:function(e){d=e}},2),t.link(\"react-aria\",{FocusScope:function(e){E=e}},3),t.link(\"react-error-boundary\",{ErrorBoundary:function(e){s=e}},4),t.link(\"../../components/Contextualbar\",{ContextualbarSkeleton:function(e){k=e}},5),t.link(\"./E2EESetup/RoomE2EESetup\",{default:function(e){v=e}},6),t.link(\"./Header\",{default:function(e){p=e}},7),t.link(\"./HeaderV2\",{HeaderV2:function(e){b=e}},8),t.link(\"./MessageList/providers/MessageHighlightProvider\",{default:function(e){x=e}},9),t.link(\"./body/RoomBody\",{default:function(e){y=e}},10),t.link(\"./body/RoomBodyV2\",{default:function(e){_=e}},11),t.link(\"./contexts/RoomContext\",{useRoom:function(e){g=e}},12),t.link(\"./contexts/RoomToolboxContext\",{useRoomToolbox:function(e){C=e}},13),t.link(\"./hooks/useAppsContextualBar\",{useAppsContextualBar:function(e){h=e}},14),t.link(\"./layout/RoomLayout\",{default:function(e){P=e}},15),t.link(\"./providers/ChatProvider\",{default:function(e){w=e}},16),t.link(\"./providers/DateListProvider\",{DateListProvider:function(e){R=e}},17),t.link(\"./providers/SelectedMessagesProvider\",{SelectedMessagesProvider:function(e){S=e}},18);var l,o,a,r,i,u,c,m,f,d,E,s,k,v,p,b,x,y,_,g,C,h,P,w,R,S,B=m(function(){return t.dynamicImport(\"./contextualBar/uikit/UiKitContextualBar\")});t.exportDefault(f(function(){var e,n=r(),t=g(),m=C(),f=h(),F=i(\"E2E_Enable\"),M=i(\"E2E_Allow_Unencrypted_Messages\"),N=(null==t?void 0:t.encrypted)&&!M&&F;return u.createElement(w,null,u.createElement(x,null,u.createElement(E,null,u.createElement(R,null,u.createElement(P,{\"data-qa-rc-room\":t._id,\"aria-label\":n(\"d\"===t.t?\"Conversation_with__roomName__\":\"Channel__roomName__\",{roomName:t.name}),header:u.createElement(u.Fragment,null,u.createElement(l,{feature:\"newNavigation\"},u.createElement(a,null,u.createElement(b,{room:t})),u.createElement(o,null,u.createElement(p,{room:t})))),body:N?u.createElement(v,null):u.createElement(u.Fragment,null,u.createElement(l,{feature:\"newNavigation\"},u.createElement(a,null,u.createElement(_,null)),u.createElement(o,null,u.createElement(y,null)))),aside:(null===(e=m.tab)||void 0===e?void 0:e.tabComponent)&&u.createElement(s,{fallback:null},u.createElement(S,null,u.createElement(d,{fallback:u.createElement(k,null)},c(m.tab.tabComponent))))||f&&u.createElement(s,{fallback:null},u.createElement(S,null,u.createElement(d,{fallback:u.createElement(k,null)},u.createElement(B,{key:f.id,initialView:f}))))})))))}))}","map":"{\"version\":3,\"sources\":[\"client/views/room/Room.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { FeaturePreview, FeaturePreviewOff, FeaturePreviewOn } from '@rocket.chat/ui-client';\\nimport { useTranslation, useSetting } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { createElement, lazy, memo, Suspense } from 'react';\\nimport { FocusScope } from 'react-aria';\\nimport { ErrorBoundary } from 'react-error-boundary';\\n\\nimport { ContextualbarSkeleton } from '../../components/Contextualbar';\\nimport RoomE2EESetup from './E2EESetup/RoomE2EESetup';\\nimport Header from './Header';\\nimport { HeaderV2 } from './HeaderV2';\\nimport MessageHighlightProvider from './MessageList/providers/MessageHighlightProvider';\\nimport RoomBody from './body/RoomBody';\\nimport RoomBodyV2 from './body/RoomBodyV2';\\nimport { useRoom } from './contexts/RoomContext';\\nimport { useRoomToolbox } from './contexts/RoomToolboxContext';\\nimport { useAppsContextualBar } from './hooks/useAppsContextualBar';\\nimport RoomLayout from './layout/RoomLayout';\\nimport ChatProvider from './providers/ChatProvider';\\nimport { DateListProvider } from './providers/DateListProvider';\\nimport { SelectedMessagesProvider } from './providers/SelectedMessagesProvider';\\n\\nconst UiKitContextualBar = lazy(() => import('./contextualBar/uikit/UiKitContextualBar'));\\n\\nconst Room = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst room = useRoom();\\n\\tconst toolbox = useRoomToolbox();\\n\\tconst contextualBarView = useAppsContextualBar();\\n\\tconst isE2EEnabled = useSetting('E2E_Enable');\\n\\tconst unencryptedMessagesAllowed = useSetting('E2E_Allow_Unencrypted_Messages');\\n\\tconst shouldDisplayE2EESetup = room?.encrypted && !unencryptedMessagesAllowed && isE2EEnabled;\\n\\n\\treturn (\\n\\t\\t<ChatProvider>\\n\\t\\t\\t<MessageHighlightProvider>\\n\\t\\t\\t\\t<FocusScope>\\n\\t\\t\\t\\t\\t<DateListProvider>\\n\\t\\t\\t\\t\\t\\t<RoomLayout\\n\\t\\t\\t\\t\\t\\t\\tdata-qa-rc-room={room._id}\\n\\t\\t\\t\\t\\t\\t\\taria-label={\\n\\t\\t\\t\\t\\t\\t\\t\\troom.t === 'd'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t? t('Conversation_with__roomName__', { roomName: room.name })\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t: t('Channel__roomName__', { roomName: room.name })\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\theader={\\n\\t\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FeaturePreview feature='newNavigation'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FeaturePreviewOn>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<HeaderV2 room={room} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FeaturePreviewOn>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FeaturePreviewOff>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Header room={room} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FeaturePreviewOff>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</FeaturePreview>\\n\\t\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\tbody={\\n\\t\\t\\t\\t\\t\\t\\t\\tshouldDisplayE2EESetup ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<RoomE2EESetup />\\n\\t\\t\\t\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FeaturePreview feature='newNavigation'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FeaturePreviewOn>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<RoomBodyV2 />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FeaturePreviewOn>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FeaturePreviewOff>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<RoomBody />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FeaturePreviewOff>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FeaturePreview>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t\\t\\t)\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\taside={\\n\\t\\t\\t\\t\\t\\t\\t\\t(toolbox.tab?.tabComponent && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ErrorBoundary fallback={null}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<SelectedMessagesProvider>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Suspense fallback={<ContextualbarSkeleton />}>{createElement(toolbox.tab.tabComponent)}</Suspense>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</SelectedMessagesProvider>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ErrorBoundary>\\n\\t\\t\\t\\t\\t\\t\\t\\t)) ||\\n\\t\\t\\t\\t\\t\\t\\t\\t(contextualBarView && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ErrorBoundary fallback={null}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<SelectedMessagesProvider>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Suspense fallback={<ContextualbarSkeleton />}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<UiKitContextualBar key={contextualBarView.id} initialView={contextualBarView} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Suspense>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</SelectedMessagesProvider>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ErrorBoundary>\\n\\t\\t\\t\\t\\t\\t\\t\\t))\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t</DateListProvider>\\n\\t\\t\\t\\t</FocusScope>\\n\\t\\t\\t</MessageHighlightProvider>\\n\\t\\t</ChatProvider>\\n\\t);\\n};\\n\\nexport default memo(Room);\\n\",null],\"names\":[\"module\",\"link\",\"FeaturePreview\",\"v\",\"FeaturePreviewOff\",\"FeaturePreviewOn\",\"useTranslation\",\"useSetting\",\"React\",\"createElement\",\"lazy\",\"memo\",\"Suspense\",\"FocusScope\",\"ErrorBoundary\",\"ContextualbarSkeleton\",\"RoomE2EESetup\",\"Header\",\"HeaderV2\",\"MessageHighlightProvider\",\"RoomBody\",\"RoomBodyV2\",\"useRoom\",\"useRoomToolbox\",\"useAppsContextualBar\",\"RoomLayout\",\"ChatProvider\",\"DateListProvider\",\"SelectedMessagesProvider\",\"UiKitContextualBar\",\"dynamicImport\",\"exportDefault\",\"_toolbox$tab\",\"t\",\"room\",\"toolbox\",\"contextualBarView\",\"isE2EEnabled\",\"unencryptedMessagesAllowed\",\"shouldDisplayE2EESetup\",\"encrypted\",\"_id\",\"roomName\",\"name\",\"header\",\"Fragment\",\"feature\",\"body\",\"aside\",\"tab\",\"tabComponent\",\"fallback\",\"key\",\"id\",\"initialView\"],\"mappings\":\"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\"}"}