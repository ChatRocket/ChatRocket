{"code":"function module(n,t,e){var o,i,u,r,c,a,l,s,f,k;e.link(\"@rocket.chat/fuselage\",{Button:function(n){o=n}},0),e.link(\"@rocket.chat/ui-composer\",{MessageFooterCallout:function(n){i=n},MessageFooterCalloutContent:function(n){u=n}},1),e.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(n){r=n}},2),e.link(\"@tanstack/react-query\",{useMutation:function(n){c=n}},3),e.link(\"react\",{default:function(n){a=n}},4),e.link(\"react-i18next\",{useTranslation:function(n){l=n}},5),e.link(\"../../../lib/toast\",{dispatchToastMessage:function(n){s=n}},6),e.link(\"../contexts/RoomContext\",{useRoom:function(n){f=n},useUserIsSubscribed:function(n){k=n}},7),e.exportDefault(function(){var n=l().t,t=f(),e=k(),m=r(\"POST\",\"/v1/channels.join\"),d=c(function(){return m({roomId:t._id})},{onError:function(n){s({type:\"error\",message:n})}});return a.createElement(i,null,a.createElement(u,null,n(\"room_is_read_only\")),!e&&a.createElement(o,{primary:!0,onClick:function(){return d.mutate()},loading:d.isLoading},n(\"Join\")))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/composer/ComposerReadOnly.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Button } from '@rocket.chat/fuselage';\\nimport { MessageFooterCallout, MessageFooterCalloutContent } from '@rocket.chat/ui-composer';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useMutation } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { dispatchToastMessage } from '../../../lib/toast';\\nimport { useRoom, useUserIsSubscribed } from '../contexts/RoomContext';\\n\\nconst ComposerReadOnly = (): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst room = useRoom();\\n\\tconst isSubscribed = useUserIsSubscribed();\\n\\tconst joinChannel = useEndpoint('POST', '/v1/channels.join');\\n\\n\\tconst join = useMutation(() => joinChannel({ roomId: room._id }), {\\n\\t\\tonError: (error: unknown) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t});\\n\\n\\treturn (\\n\\t\\t<MessageFooterCallout>\\n\\t\\t\\t<MessageFooterCalloutContent>{t('room_is_read_only')}</MessageFooterCalloutContent>\\n\\t\\t\\t{!isSubscribed && (\\n\\t\\t\\t\\t<Button primary onClick={() => join.mutate()} loading={join.isLoading}>\\n\\t\\t\\t\\t\\t{t('Join')}\\n\\t\\t\\t\\t</Button>\\n\\t\\t\\t)}\\n\\t\\t</MessageFooterCallout>\\n\\t);\\n};\\n\\nexport default ComposerReadOnly;\\n\",null],\"names\":[\"Button\",\"MessageFooterCallout\",\"MessageFooterCalloutContent\",\"useEndpoint\",\"useMutation\",\"React\",\"useTranslation\",\"dispatchToastMessage\",\"useRoom\",\"useUserIsSubscribed\",\"module\",\"link\",\"v\",\"exportDefault\",\"t\",\"_useTranslation\",\"room\",\"isSubscribed\",\"joinChannel\",\"join\",\"roomId\",\"_id\",\"onError\",\"error\",\"type\",\"message\",\"createElement\",\"primary\",\"onClick\",\"mutate\",\"loading\",\"isLoading\"],\"mappings\":\"uBAWA,IAXAA,EAA+CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAtCC,EAAQC,IAAA,CAAM,wBAAwB,CAAAX,OAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAV,qBAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,4BAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAR,YAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAP,YAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAL,eAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,qBAAA,CAAAJ,qBAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0BAAA,CAAAH,QAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,EAAAH,oBAAA,SAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA/CF,EAAOG,aAAU,CAWQ,WACxB,IAAQC,EAACC,AAAKT,IAANQ,CAAC,CACHE,EAAOR,IACPS,EAAeR,IACfS,EAAcf,EAAY,OAAQ,qBAElCgB,EAAOf,EAAY,WAAA,OAAMc,EAAY,CAAEE,OAAQJ,EAAKK,GAAAA,AAAG,EAAG,EAAE,CACjEC,QAAS,SAACC,CAAc,EACvBhB,EAAqB,CAAEiB,KAAM,QAASC,QAASF,CAAK,EACrD,IAGD,OACClB,EAAAqB,aAAA,CAACzB,EAAoB,KACpBI,EAAAqB,aAAA,CAACxB,EAA2B,KAAEY,EAAE,sBAC/B,CAACG,GACDZ,EAAAqB,aAAA,CAAC1B,EAAM,CAAC2B,QAAO,CAAA,EAACC,QAAS,WAAA,OAAMT,EAAKU,MAAM,EAAE,EAAEC,QAASX,EAAKY,SAAAA,AAAU,EACpEjB,EAAE,SAKR\"}"}