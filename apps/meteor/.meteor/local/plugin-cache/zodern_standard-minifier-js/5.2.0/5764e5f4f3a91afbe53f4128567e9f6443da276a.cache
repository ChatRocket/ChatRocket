{"code":"function module(e,t,n){let s,a,c,o,l,i,r,u;n.export({useAppsItems:()=>p}),n.link(\"@rocket.chat/fuselage\",{Badge(e){s=e},Skeleton(e){a=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useTranslation(e){c=e},useRoute(e){o=e},usePermission(e){l=e}},1),n.link(\"react\",{default(e){i=e}},2),n.link(\"../../../../hooks/useAppActionButtons\",{useUserDropdownAppsActionButtons(e){r=e}},3),n.link(\"../../../../views/marketplace/hooks/useAppRequestStats\",{useAppRequestStats(e){u=e}},4);let p=()=>{let e=c(),t=r(),n=l(\"manage-apps\"),p=l(\"access-marketplace\"),d=o(\"marketplace\"),k=\"list\",m=u(),h=[{id:\"marketplace\",icon:\"store\",content:e(\"Marketplace\"),onClick:()=>d.push({context:\"explore\",page:k})},{id:\"installed\",icon:\"circle-arrow-down\",content:e(\"Installed\"),onClick:()=>d.push({context:\"installed\",page:k})}],A={id:\"requested-apps\",icon:\"cube\",content:e(\"Requested\"),onClick:()=>{d.push({context:\"requested\",page:k})},addon:i.createElement(i.Fragment,null,m.isLoading&&i.createElement(a,{variant:\"circle\",height:16,width:16}),m.isSuccess&&m.data.totalUnseen>0&&i.createElement(s,{variant:\"primary\"},m.data.totalUnseen))};return[...p||n?h:[],...n?[A]:[],...t.isSuccess?t.data:[]]}}","map":"{\"version\":3,\"sources\":[\"client/sidebar/header/actions/hooks/useAppsItems.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Badge, Skeleton } from '@rocket.chat/fuselage';\\nimport type { GenericMenuItemProps } from '@rocket.chat/ui-client';\\nimport { useTranslation, useRoute, usePermission } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\n\\nimport { useUserDropdownAppsActionButtons } from '../../../../hooks/useAppActionButtons';\\nimport { useAppRequestStats } from '../../../../views/marketplace/hooks/useAppRequestStats';\\n\\n/**\\n * @deprecated Feature preview\\n * @description Should be moved to navbar when the feature became part of the core\\n * @memberof navigationBar\\n */\\n\\nexport const useAppsItems = (): GenericMenuItemProps[] => {\\n\\tconst t = useTranslation();\\n\\n\\tconst appBoxItems = useUserDropdownAppsActionButtons();\\n\\n\\tconst hasManageAppsPermission = usePermission('manage-apps');\\n\\tconst hasAccessMarketplacePermission = usePermission('access-marketplace');\\n\\n\\tconst showMarketplace = hasAccessMarketplacePermission || hasManageAppsPermission;\\n\\n\\tconst marketplaceRoute = useRoute('marketplace');\\n\\tconst page = 'list';\\n\\n\\tconst appRequestStats = useAppRequestStats();\\n\\n\\tconst marketPlaceItems: GenericMenuItemProps[] = [\\n\\t\\t{\\n\\t\\t\\tid: 'marketplace',\\n\\t\\t\\ticon: 'store',\\n\\t\\t\\tcontent: t('Marketplace'),\\n\\t\\t\\tonClick: () => marketplaceRoute.push({ context: 'explore', page }),\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tid: 'installed',\\n\\t\\t\\ticon: 'circle-arrow-down',\\n\\t\\t\\tcontent: t('Installed'),\\n\\t\\t\\tonClick: () => marketplaceRoute.push({ context: 'installed', page }),\\n\\t\\t},\\n\\t];\\n\\n\\tconst appsManagementItem: GenericMenuItemProps = {\\n\\t\\tid: 'requested-apps',\\n\\t\\ticon: 'cube',\\n\\t\\tcontent: t('Requested'),\\n\\t\\tonClick: () => {\\n\\t\\t\\tmarketplaceRoute.push({ context: 'requested', page });\\n\\t\\t},\\n\\t\\taddon: (\\n\\t\\t\\t<>\\n\\t\\t\\t\\t{appRequestStats.isLoading && <Skeleton variant='circle' height={16} width={16} />}\\n\\t\\t\\t\\t{appRequestStats.isSuccess && appRequestStats.data.totalUnseen > 0 && (\\n\\t\\t\\t\\t\\t<Badge variant='primary'>{appRequestStats.data.totalUnseen}</Badge>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</>\\n\\t\\t),\\n\\t};\\n\\n\\treturn [\\n\\t\\t...(showMarketplace ? marketPlaceItems : []),\\n\\t\\t...(hasManageAppsPermission ? [appsManagementItem] : []),\\n\\t\\t...(appBoxItems.isSuccess ? appBoxItems.data : []),\\n\\t];\\n};\\n\",null],\"names\":[\"Badge\",\"Skeleton\",\"useTranslation\",\"useRoute\",\"usePermission\",\"React\",\"useUserDropdownAppsActionButtons\",\"useAppRequestStats\",\"module\",\"export\",\"useAppsItems\",\"link\",\"v\",\"default\",\"t\",\"appBoxItems\",\"hasManageAppsPermission\",\"hasAccessMarketplacePermission\",\"marketplaceRoute\",\"page\",\"appRequestStats\",\"marketPlaceItems\",\"id\",\"icon\",\"content\",\"onClick\",\"push\",\"context\",\"appsManagementItem\",\"addon\",\"createElement\",\"Fragment\",\"isLoading\",\"variant\",\"height\",\"width\",\"isSuccess\",\"data\",\"totalUnseen\",\"showMarketplace\"],\"mappings\":\"2BAAgCA,EAAwBC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxDC,EAAOC,MAAE,CAAK,CAAAC,aAAYA,IAAMA,CAAA,GAAwBF,EAAAG,IAAA,CAAA,wBAAA,CAAAX,MAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,2BAAA,CAAAT,eAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,cAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,wCAAA,CAAAL,iCAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,yDAAA,CAAAJ,mBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAcjD,IAAMF,EAAeA,KAC3B,IAAMI,EAAIZ,IAEJa,EAAcT,IAEdU,EAA0BZ,EAAc,eACxCa,EAAiCb,EAAc,sBAI/Cc,EAAmBf,EAAS,eAC5BgB,EAAO,OAEPC,EAAkBb,IAElBc,EAA2C,CAChD,CACCC,GAAI,cACJC,KAAM,QACNC,QAASV,EAAE,eACXW,QAASA,IAAMP,EAAiBQ,IAAI,CAAC,CAAEC,QAAS,UAAWR,KAAAA,CAAI,IAEhE,CACCG,GAAI,YACJC,KAAM,oBACNC,QAASV,EAAE,aACXW,QAASA,IAAMP,EAAiBQ,IAAI,CAAC,CAAEC,QAAS,YAAaR,KAAAA,CAAI,IAElE,CAEKS,EAA2C,CAChDN,GAAI,iBACJC,KAAM,OACNC,QAASV,EAAE,aACXW,QAASA,KACRP,EAAiBQ,IAAI,CAAC,CAAEC,QAAS,YAAaR,KAAAA,CAAI,EACnD,EACAU,MACCxB,EAAAyB,aAAA,CAAAzB,EAAA0B,QAAA,CAAA,KACEX,EAAgBY,SAAS,EAAI3B,EAAAyB,aAAA,CAAC7B,EAAQ,CAACgC,QAAQ,SAASC,OAAQ,GAAIC,MAAO,EAAG,GAC9Ef,EAAgBgB,SAAS,EAAIhB,EAAgBiB,IAAI,CAACC,WAAW,CAAG,GAChEjC,EAAAyB,aAAA,CAAC9B,EAAK,CAACiC,QAAQ,SAAS,EAAEb,EAAgBiB,IAAI,CAACC,WAAmB,IAMtE,MAAO,IACFC,AAxCmBtB,GAAkCD,EAwCnCK,EAAmB,EAAE,IACvCL,EAA0B,CAACY,EAAmB,CAAG,EAAE,IACnDb,EAAYqB,SAAS,CAAGrB,EAAYsB,IAAI,CAAG,EAAE,CACjD,AACF\"}"}