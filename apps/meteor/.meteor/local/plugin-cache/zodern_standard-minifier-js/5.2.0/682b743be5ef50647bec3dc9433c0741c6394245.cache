{"code":"function module(e,n,o){o.link(\"@babel/runtime/regenerator\",{default:function(e){t=e}},0),o.export({useRemoveRoomFromTeam:function(){return f}}),o.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){r=e},usePermission:function(e){a=e},useSetModal:function(e){i=e},useToastMessageDispatch:function(e){u=e}},0),o.link(\"react\",{default:function(e){m=e}},1),o.link(\"react-i18next\",{useTranslation:function(e){c=e}},2),o.link(\"../../../../../components/GenericModal\",{default:function(e){s=e}},3),o.link(\"../../../../../lib/rooms/roomCoordinator\",{roomCoordinator:function(e){l=e}},4);var t,r,a,i,u,m,c,s,l,f=function(e,n){var o=n.reload,f=c().t,d=i(),v=u(),p=a(\"remove-team-channel\",e._id),R=r(\"POST\",\"/v1/teams.removeRoom\");return{handleRemoveRoom:function(){return d(m.createElement(s,{variant:\"danger\",onCancel:function(){return d(null)},onConfirm:function(){return t.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.teamId){n.next=2;break}return n.abrupt(\"return\");case 2:return n.prev=2,n.next=5,t.awrap(R({teamId:e.teamId,roomId:e._id}));case 5:v({type:\"error\",message:f(\"Room_has_been_removed\")}),null==o||o(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),v({type:\"error\",message:n.t0});case 12:return n.prev=12,d(null),n.finish(12);case 15:case\"end\":return n.stop()}},null,null,[[2,9,12,15]],Promise)},confirmText:f(\"Remove\")},f(\"Team_Remove_from_team_modal_content\",{teamName:l.getRoomName(e.t,e)})))},canRemoveTeamChannel:p}}}","map":"{\"version\":3,\"sources\":[\"client/views/teams/contextualBar/channels/hooks/useRemoveRoomFromTeam.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport { useEndpoint, usePermission, useSetModal, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../../../components/GenericModal';\\nimport { roomCoordinator } from '../../../../../lib/rooms/roomCoordinator';\\n\\nexport const useRemoveRoomFromTeam = (room: IRoom, { reload }: { reload?: () => void }) => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst canRemoveTeamChannel = usePermission('remove-team-channel', room._id);\\n\\n\\tconst removeRoomEndpoint = useEndpoint('POST', '/v1/teams.removeRoom');\\n\\n\\tconst handleRemoveRoom = () => {\\n\\t\\tconst onConfirmAction = async () => {\\n\\t\\t\\tif (!room.teamId) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait removeRoomEndpoint({ teamId: room.teamId, roomId: room._id });\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('Room_has_been_removed') });\\n\\t\\t\\t\\treload?.();\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tsetModal(null);\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\treturn setModal(\\n\\t\\t\\t<GenericModal variant='danger' onCancel={() => setModal(null)} onConfirm={onConfirmAction} confirmText={t('Remove')}>\\n\\t\\t\\t\\t{t('Team_Remove_from_team_modal_content', {\\n\\t\\t\\t\\t\\tteamName: roomCoordinator.getRoomName(room.t, room),\\n\\t\\t\\t\\t})}\\n\\t\\t\\t</GenericModal>,\\n\\t\\t);\\n\\t};\\n\\n\\treturn { handleRemoveRoom, canRemoveTeamChannel };\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"export\",\"useRemoveRoomFromTeam\",\"useEndpoint\",\"usePermission\",\"useSetModal\",\"useToastMessageDispatch\",\"React\",\"useTranslation\",\"GenericModal\",\"roomCoordinator\",\"room\",\"_ref\",\"reload\",\"t\",\"_useTranslation\",\"setModal\",\"dispatchToastMessage\",\"canRemoveTeamChannel\",\"_id\",\"removeRoomEndpoint\",\"handleRemoveRoom\",\"createElement\",\"variant\",\"onCancel\",\"onConfirm\",\"async\",\"_context\",\"prev\",\"next\",\"teamId\",\"abrupt\",\"awrap\",\"roomId\",\"type\",\"message\",\"t0\",\"finish\",\"stop\",\"Promise\",\"confirmText\",\"teamName\",\"getRoomName\"],\"mappings\":\"uBACsBA,EAAAC,IAAa,CAAA,6BAAe,CAAAC,QAAuB,SAAQC,CAAA,EAAAC,EAAAD,CAA0B,CAAC,EAAA,GAA5GH,EAAOK,MAAE,CAAA,CAAAC,sBAA4B,WAAW,OAAEA,CAAyB,CAAA,GAAiCN,EAAAC,IAAA,CAAA,2BAAA,CAAAM,YAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,EAAAK,cAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,YAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,EAAAO,wBAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAW,eAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,yCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAU,EAAAV,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2CAAA,CAAAa,gBAAA,SAAAX,CAAA,EAAAW,EAAAX,CAAA,CAAA,EAAA,GAOrG,IAPPC,EAAiFG,EAAAC,EAA2BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAO/FR,EAAwB,SAACS,CAAW,CAAAC,CAAA,EAAyC,IAArCC,EAAMD,EAANC,MAAM,CAClDC,EAACC,AAAKP,IAANM,CAAC,CACHE,EAAWX,IACXY,EAAuBX,IACvBY,EAAuBd,EAAc,sBAAuBO,EAAKQ,GAAG,EAEpEC,EAAqBjB,EAAY,OAAQ,wBA4B/C,MAAO,CAAEkB,iBA1BgB,WAiBxB,OAAOL,EACNT,EAAAe,aAAA,CAACb,EAAY,CAACc,QAAQ,SAASC,SAAU,WAAA,OAAMR,EAAS,KAAK,EAAES,UAjBxC,WAAA,OAAAzB,EAAA0B,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,GAClBlB,EAAKmB,MAAM,CAAA,CAAAH,EAAAE,IAAA,CAAA,EAAA,KAAA,CAAA,OAAAF,EAAAI,MAAA,CAAA,SAAA,MAAA,EAAA,OAAAJ,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAA7B,EAAAgC,KAAA,CAKTZ,EAAmB,CAAEU,OAAQnB,EAAKmB,MAAM,CAAEG,OAAQtB,EAAKQ,GAAAA,AAAG,GAAG,MAAA,EACnEF,EAAqB,CAAEiB,KAAM,QAASC,QAASrB,EAAE,wBAAwB,GACzED,MAAAA,GAAAA,IAAWc,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,EAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAS,EAAA,CAAAT,EAAA,KAAA,CAAA,GAEXV,EAAqB,CAAEiB,KAAM,QAASC,QAAOR,EAAAS,EAAAA,AAAO,EAAI,MAAA,GAEzC,OAFyCT,EAAAC,IAAA,CAAA,GAExDZ,EAAS,MAAMW,EAAAU,MAAA,CAAA,GAAA,MAAA,GAAA,IAAA,MAAA,OAAAV,EAAAW,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,GAAA,GAAA,CAAA,CAAAC,QAAA,EAK2EC,YAAa1B,EAAE,SAAU,EAClHA,EAAE,sCAAuC,CACzC2B,SAAU/B,EAAgBgC,WAAW,CAAC/B,EAAKG,CAAC,CAAEH,MAIlD,EAE2BO,qBAAAA,CAAoB,CAChD\"}"}