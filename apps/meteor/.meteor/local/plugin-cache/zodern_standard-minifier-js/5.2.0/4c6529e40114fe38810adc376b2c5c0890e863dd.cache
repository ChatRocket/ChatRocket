{"code":"function module(e,n,t){var i,o,a,c,u,r,s,l,f,d,m,k,g,b,p,R=[\"message\"];t.link(\"@babel/runtime/helpers/extends\",{default:function(e){i=e}},0),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){o=e}},1),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){a=e}},2),t.link(\"@react-aria/toolbar\",{useToolbar:function(e){c=e}},0),t.link(\"@rocket.chat/fuselage\",{MessageReactions:function(e){u=e},MessageReactionAction:function(e){r=e}},1),t.link(\"react\",{default:function(e){s=e},useContext:function(e){l=e},useRef:function(e){f=e}},2),t.link(\"react-i18next\",{useTranslation:function(e){d=e}},3),t.link(\"../list/MessageListContext\",{MessageListContext:function(e){m=e},useOpenEmojiPicker:function(e){k=e},useUserHasReacted:function(e){g=e}},4),t.link(\"./reactions/Reaction\",{default:function(e){b=e}},5),t.link(\"./reactions/useToggleReactionMutation\",{useToggleReactionMutation:function(e){p=e}},6),t.exportDefault(function(e){var n=e.message,t=a(e,R),h=d().t,x=f(null),E=g(n),M=k(n),C=l(m).username,T=p(),y=c(t,x).toolbarProps;return s.createElement(u,i({ref:x},y,t),n.reactions&&Object.entries(n.reactions).map(function(e){var t=o(e,2),i=t[0],a=t[1];return s.createElement(b,{key:i,counter:a.usernames.length,hasReacted:E,name:i,names:a.usernames.filter(function(e){return e!==C}).map(function(e){return\"@\"+e}),messageId:n._id,onKeyDown:function(e){return(\"Space\"===e.code||\"Enter\"===e.code)&&T.mutate({mid:n._id,reaction:i})},onClick:function(){return T.mutate({mid:n._id,reaction:i})}})}),s.createElement(r,{title:h(\"Add_Reaction\"),onKeyDown:function(e){return(\"Space\"===e.code||\"Enter\"===e.code)&&M(e)},onClick:M}))})}","map":"{\"version\":3,\"sources\":[\"client/components/message/content/Reactions.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useToolbar } from '@react-aria/toolbar';\\nimport type { IMessage } from '@rocket.chat/core-typings';\\nimport { MessageReactions, MessageReactionAction } from '@rocket.chat/fuselage';\\nimport type { HTMLAttributes, KeyboardEvent, ReactElement } from 'react';\\nimport React, { useContext, useRef } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { MessageListContext, useOpenEmojiPicker, useUserHasReacted } from '../list/MessageListContext';\\nimport Reaction from './reactions/Reaction';\\nimport { useToggleReactionMutation } from './reactions/useToggleReactionMutation';\\n\\ntype ReactionsProps = {\\n\\tmessage: IMessage;\\n} & HTMLAttributes<HTMLDivElement>;\\n\\nconst Reactions = ({ message, ...props }: ReactionsProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst ref = useRef(null);\\n\\tconst hasReacted = useUserHasReacted(message);\\n\\tconst openEmojiPicker = useOpenEmojiPicker(message);\\n\\tconst { username } = useContext(MessageListContext);\\n\\tconst toggleReactionMutation = useToggleReactionMutation();\\n\\tconst { toolbarProps } = useToolbar(props, ref);\\n\\n\\treturn (\\n\\t\\t<MessageReactions ref={ref} {...toolbarProps} {...props}>\\n\\t\\t\\t{message.reactions &&\\n\\t\\t\\t\\tObject.entries(message.reactions).map(([name, reactions]) => (\\n\\t\\t\\t\\t\\t<Reaction\\n\\t\\t\\t\\t\\t\\tkey={name}\\n\\t\\t\\t\\t\\t\\tcounter={reactions.usernames.length}\\n\\t\\t\\t\\t\\t\\thasReacted={hasReacted}\\n\\t\\t\\t\\t\\t\\tname={name}\\n\\t\\t\\t\\t\\t\\tnames={reactions.usernames.filter((user) => user !== username).map((username) => `@${username}`)}\\n\\t\\t\\t\\t\\t\\tmessageId={message._id}\\n\\t\\t\\t\\t\\t\\tonKeyDown={(e: KeyboardEvent) =>\\n\\t\\t\\t\\t\\t\\t\\t(e.code === 'Space' || e.code === 'Enter') && toggleReactionMutation.mutate({ mid: message._id, reaction: name })\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tonClick={() => toggleReactionMutation.mutate({ mid: message._id, reaction: name })}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t))}\\n\\t\\t\\t<MessageReactionAction\\n\\t\\t\\t\\ttitle={t('Add_Reaction')}\\n\\t\\t\\t\\tonKeyDown={(e: KeyboardEvent) => (e.code === 'Space' || e.code === 'Enter') && openEmojiPicker(e)}\\n\\t\\t\\t\\tonClick={openEmojiPicker}\\n\\t\\t\\t/>\\n\\t\\t</MessageReactions>\\n\\t);\\n};\\n\\nexport default Reactions;\\n\",null],\"names\":[\"_extends\",\"_slicedToArray\",\"_objectWithoutProperties\",\"useToolbar\",\"MessageReactions\",\"MessageReactionAction\",\"React\",\"useContext\",\"useRef\",\"useTranslation\",\"MessageListContext\",\"useOpenEmojiPicker\",\"useUserHasReacted\",\"Reaction\",\"useToggleReactionMutation\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"message\",\"props\",\"_excluded\",\"t\",\"_useTranslation\",\"ref\",\"hasReacted\",\"openEmojiPicker\",\"username\",\"_useContext\",\"toggleReactionMutation\",\"toolbarProps\",\"_useToolbar\",\"createElement\",\"reactions\",\"Object\",\"entries\",\"map\",\"_ref2\",\"_ref3\",\"name\",\"key\",\"counter\",\"usernames\",\"length\",\"names\",\"filter\",\"user\",\"messageId\",\"_id\",\"onKeyDown\",\"e\",\"code\",\"mutate\",\"mid\",\"reaction\",\"onClick\",\"title\"],\"mappings\":\"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\"}"}