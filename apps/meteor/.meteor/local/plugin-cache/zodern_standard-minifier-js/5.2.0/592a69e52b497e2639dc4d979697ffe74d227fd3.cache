{"code":"function module(e,t,n){let r,l,a,s,o,u,i,c,m,k,d,E,f,p,C,b,U,x,h,I,g;n.link(\"@babel/runtime/helpers/extends\",{default(e){r=e}},0),n.link(\"@rocket.chat/fuselage\",{Callout(e){l=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useRolesDescription(e){a=e},useTranslation(e){s=e}},1),n.link(\"react\",{default(e){o=e},useMemo(e){u=e}},2),n.link(\"../../../../../lib/getUserEmailAddress\",{getUserEmailAddress(e){i=e}},3),n.link(\"../../../../components/Contextualbar\",{ContextualbarHeader(e){c=e},ContextualbarBack(e){m=e},ContextualbarIcon(e){k=e},ContextualbarTitle(e){d=e},ContextualbarClose(e){E=e},ContextualbarContent(e){f=e}},4),n.link(\"../../../../components/Skeleton\",{FormSkeleton(e){p=e}},5),n.link(\"../../../../components/UserCard\",{UserCardRole(e){C=e}},6),n.link(\"../../../../components/UserInfo\",{UserInfo(e){b=e}},7),n.link(\"../../../../components/UserStatus\",{ReactiveUserStatus(e){U=e}},8),n.link(\"../../../../hooks/useAsyncState\",{AsyncStatePhase(e){x=e}},9),n.link(\"../../../../hooks/useEndpointData\",{useEndpointData(e){h=e}},10),n.link(\"../../../../lib/utils/getUserEmailVerified\",{getUserEmailVerified(e){I=e}},11),n.link(\"./UserInfoActions\",{default(e){g=e}},12),n.exportDefault(e=>{let{uid:t,username:n,rid:A,onClose:S,onClickBack:D}=e,v=s(),y=a(),{value:R,phase:T,error:_}=h(\"/v1/users.info\",{params:u(()=>{if(t)return{userId:t};if(n)return{username:n};throw Error(\"userId or username is required\")},[t,n])}),F=T===x.LOADING,L=u(()=>{if(!(null!=R&&R.user))return;let{_id:e,name:t,username:n,roles:r=[],statusText:l,bio:a,utcOffset:s,lastLogin:u,customFields:c,phone:m,nickname:k,createdAt:d,canViewAllInfo:E,freeSwitchExtension:f}=R.user;return{_id:e,name:t,username:n,lastLogin:u,roles:r&&y(r).map((e,t)=>o.createElement(C,{key:t},e)),bio:a,canViewAllInfo:E,phone:m,customFields:c,verified:I(R.user),email:i(R.user),utcOffset:s,createdAt:d,status:o.createElement(U,{uid:e}),statusText:l,nickname:k,freeSwitchExtension:f}},[R,y]);return o.createElement(o.Fragment,null,o.createElement(c,null,D&&o.createElement(m,{onClick:D}),!D&&o.createElement(k,{name:\"user\"}),o.createElement(d,null,v(\"User_Info\")),S&&o.createElement(E,{onClick:S})),F&&o.createElement(f,null,o.createElement(p,null)),_&&!L&&o.createElement(f,{pb:16},o.createElement(l,{type:\"danger\"},v(\"User_not_found\"))),!F&&L&&o.createElement(b,r({},L,{actions:o.createElement(g,{user:L,rid:A,backToList:D})})))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/UserInfo/UserInfoWithData.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IUser, IRoom } from '@rocket.chat/core-typings';\\nimport { Callout } from '@rocket.chat/fuselage';\\nimport { useRolesDescription, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\n\\nimport { getUserEmailAddress } from '../../../../../lib/getUserEmailAddress';\\nimport {\\n\\tContextualbarHeader,\\n\\tContextualbarBack,\\n\\tContextualbarIcon,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarContent,\\n} from '../../../../components/Contextualbar';\\nimport { FormSkeleton } from '../../../../components/Skeleton';\\nimport { UserCardRole } from '../../../../components/UserCard';\\nimport { UserInfo } from '../../../../components/UserInfo';\\nimport { ReactiveUserStatus } from '../../../../components/UserStatus';\\nimport { AsyncStatePhase } from '../../../../hooks/useAsyncState';\\nimport { useEndpointData } from '../../../../hooks/useEndpointData';\\nimport { getUserEmailVerified } from '../../../../lib/utils/getUserEmailVerified';\\nimport UserInfoActions from './UserInfoActions';\\n\\ntype UserInfoWithDataProps = {\\n\\tuid?: IUser['_id'];\\n\\tusername?: IUser['username'];\\n\\trid: IRoom['_id'];\\n\\tonClose: () => void;\\n\\tonClickBack?: () => void;\\n};\\n\\nconst UserInfoWithData = ({ uid, username, rid, onClose, onClickBack }: UserInfoWithDataProps): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst getRoles = useRolesDescription();\\n\\n\\tconst {\\n\\t\\tvalue: data,\\n\\t\\tphase: state,\\n\\t\\terror,\\n\\t} = useEndpointData('/v1/users.info', {\\n\\t\\tparams: useMemo(() => {\\n\\t\\t\\tif (uid) {\\n\\t\\t\\t\\treturn { userId: uid };\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (username) {\\n\\t\\t\\t\\treturn { username };\\n\\t\\t\\t}\\n\\n\\t\\t\\tthrow new Error('userId or username is required');\\n\\t\\t}, [uid, username]),\\n\\t});\\n\\n\\tconst isLoading = state === AsyncStatePhase.LOADING;\\n\\n\\tconst user = useMemo(() => {\\n\\t\\tif (!data?.user) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst {\\n\\t\\t\\t_id,\\n\\t\\t\\tname,\\n\\t\\t\\tusername,\\n\\t\\t\\troles = [],\\n\\t\\t\\tstatusText,\\n\\t\\t\\tbio,\\n\\t\\t\\tutcOffset,\\n\\t\\t\\tlastLogin,\\n\\t\\t\\tcustomFields,\\n\\t\\t\\tphone,\\n\\t\\t\\tnickname,\\n\\t\\t\\tcreatedAt,\\n\\t\\t\\tcanViewAllInfo,\\n\\t\\t\\tfreeSwitchExtension,\\n\\t\\t} = data.user;\\n\\n\\t\\treturn {\\n\\t\\t\\t_id,\\n\\t\\t\\tname,\\n\\t\\t\\tusername,\\n\\t\\t\\tlastLogin,\\n\\t\\t\\troles: roles && getRoles(roles).map((role, index) => <UserCardRole key={index}>{role}</UserCardRole>),\\n\\t\\t\\tbio,\\n\\t\\t\\tcanViewAllInfo,\\n\\t\\t\\tphone,\\n\\t\\t\\tcustomFields,\\n\\t\\t\\tverified: getUserEmailVerified(data.user),\\n\\t\\t\\temail: getUserEmailAddress(data.user),\\n\\t\\t\\tutcOffset,\\n\\t\\t\\tcreatedAt,\\n\\t\\t\\tstatus: <ReactiveUserStatus uid={_id} />,\\n\\t\\t\\tstatusText,\\n\\t\\t\\tnickname,\\n\\t\\t\\tfreeSwitchExtension,\\n\\t\\t};\\n\\t}, [data, getRoles]);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t{onClickBack && <ContextualbarBack onClick={onClickBack} />}\\n\\t\\t\\t\\t{!onClickBack && <ContextualbarIcon name='user' />}\\n\\t\\t\\t\\t<ContextualbarTitle>{t('User_Info')}</ContextualbarTitle>\\n\\t\\t\\t\\t{onClose && <ContextualbarClose onClick={onClose} />}\\n\\t\\t\\t</ContextualbarHeader>\\n\\n\\t\\t\\t{isLoading && (\\n\\t\\t\\t\\t<ContextualbarContent>\\n\\t\\t\\t\\t\\t<FormSkeleton />\\n\\t\\t\\t\\t</ContextualbarContent>\\n\\t\\t\\t)}\\n\\n\\t\\t\\t{error && !user && (\\n\\t\\t\\t\\t<ContextualbarContent pb={16}>\\n\\t\\t\\t\\t\\t<Callout type='danger'>{t('User_not_found')}</Callout>\\n\\t\\t\\t\\t</ContextualbarContent>\\n\\t\\t\\t)}\\n\\n\\t\\t\\t{!isLoading && user && <UserInfo {...user} actions={<UserInfoActions user={user} rid={rid} backToList={onClickBack} />} />}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default UserInfoWithData;\\n\",null],\"names\":[\"_extends\",\"Callout\",\"useRolesDescription\",\"useTranslation\",\"React\",\"useMemo\",\"getUserEmailAddress\",\"ContextualbarHeader\",\"ContextualbarBack\",\"ContextualbarIcon\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarContent\",\"FormSkeleton\",\"UserCardRole\",\"UserInfo\",\"ReactiveUserStatus\",\"AsyncStatePhase\",\"useEndpointData\",\"getUserEmailVerified\",\"UserInfoActions\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"uid\",\"username\",\"rid\",\"onClose\",\"onClickBack\",\"t\",\"getRoles\",\"value\",\"data\",\"phase\",\"state\",\"error\",\"params\",\"userId\",\"Error\",\"isLoading\",\"LOADING\",\"user\",\"_id\",\"name\",\"roles\",\"statusText\",\"bio\",\"utcOffset\",\"lastLogin\",\"customFields\",\"phone\",\"nickname\",\"createdAt\",\"canViewAllInfo\",\"freeSwitchExtension\",\"map\",\"role\",\"index\",\"createElement\",\"key\",\"verified\",\"email\",\"status\",\"Fragment\",\"onClick\",\"pb\",\"type\",\"actions\",\"backToList\"],\"mappings\":\"2BACAA,EAAAC,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAASC,IAAM,CAAA,iCAAwB,CAAAC,QAAAC,CAAA,EAAAxB,EAAAwB,CAAA,CAAA,EAAA,GAAvCH,EAASC,IAAA,CAAM,wBAAwB,CAAArB,QAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAApB,oBAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,EAAArB,eAAAqB,CAAA,EAAArB,EAAAqB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAApB,EAAAoB,CAAA,EAAAnB,QAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,yCAAA,CAAAhB,oBAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAf,oBAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,EAAAhB,kBAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,EAAAf,kBAAAe,CAAA,EAAAf,EAAAe,CAAA,EAAAd,mBAAAc,CAAA,EAAAd,EAAAc,CAAA,EAAAb,mBAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,qBAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAT,aAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAR,aAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAP,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oCAAA,CAAAN,mBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAL,gBAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oCAAA,CAAAJ,gBAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,6CAAA,CAAAH,qBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,oBAAA,CAAAC,QAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,IAAhDH,EAAOI,aAAW,CA+BOC,IAAsF,GAArF,CAAEC,IAAAA,CAAG,CAAEC,SAAAA,CAAQ,CAAEC,IAAAA,CAAG,CAAEC,QAAAA,CAAO,CAAEC,YAAAA,CAAAA,CAAoC,CAAAL,EACtFM,EAAI7B,IACJ8B,EAAW/B,IAEX,CACLgC,MAAOC,CAAI,CACXC,MAAOC,CAAK,CACZC,MAAAA,CAAAA,CACA,CAAGpB,EAAgB,iBAAkB,CACrCqB,OAAQlC,EAAQ,KACf,GAAIsB,EACH,MAAO,CAAEa,OAAQb,CAAG,EAGrB,GAAIC,EACH,MAAO,CAAEA,SAAAA,CAAQ,CAGlB,OAAM,AAAIa,MAAM,iCACjB,EAAG,CAACd,EAAKC,EAAS,IAGbc,EAAYL,IAAUpB,EAAgB0B,OAAO,CAE7CC,EAAOvC,EAAQ,KACpB,GAAI,CAAC8B,CAAAA,MAAAA,GAAAA,EAAMS,IAAI,AAAJA,EACV,OAGD,GAAM,CACLC,IAAAA,CAAG,CACHC,KAAAA,CAAI,CACJlB,SAAAA,CAAQ,CACRmB,MAAAA,EAAQ,EAAE,CACVC,WAAAA,CAAU,CACVC,IAAAA,CAAG,CACHC,UAAAA,CAAS,CACTC,UAAAA,CAAS,CACTC,aAAAA,CAAY,CACZC,MAAAA,CAAK,CACLC,SAAAA,CAAQ,CACRC,UAAAA,CAAS,CACTC,eAAAA,CAAc,CACdC,oBAAAA,CAAAA,CACA,CAAGtB,EAAKS,IAAI,CAEb,MAAO,CACNC,IAAAA,EACAC,KAAAA,EACAlB,SAAAA,EACAuB,UAAAA,EACAJ,MAAOA,GAASd,EAASc,GAAOW,GAAG,CAAC,CAACC,EAAMC,IAAUxD,EAAAyD,aAAA,CAAC/C,EAAY,CAACgD,IAAKF,CAAM,EAAED,IAChFV,IAAAA,EACAO,eAAAA,EACAH,MAAAA,EACAD,aAAAA,EACAW,SAAU5C,EAAqBgB,EAAKS,IAAI,EACxCoB,MAAO1D,EAAoB6B,EAAKS,IAAI,EACpCM,UAAAA,EACAK,UAAAA,EACAU,OAAQ7D,EAAAyD,aAAA,CAAC7C,EAAkB,CAACW,IAAKkB,CAAI,GACrCG,WAAAA,EACAM,SAAAA,EACAG,oBAAAA,EAEF,EAAG,CAACtB,EAAMF,EAAS,EAEnB,OACC7B,EAAAyD,aAAA,CAAAzD,EAAA8D,QAAA,CAAA,KACC9D,EAAAyD,aAAA,CAACtD,EAAmB,KAClBwB,GAAe3B,EAAAyD,aAAA,CAACrD,EAAiB,CAAC2D,QAASpC,CAAY,GACvD,CAACA,GAAe3B,EAAAyD,aAAA,CAACpD,EAAiB,CAACqC,KAAK,MAAM,GAC/C1C,EAAAyD,aAAA,CAACnD,EAAkB,KAAEsB,EAAE,cACtBF,GAAW1B,EAAAyD,aAAA,CAAClD,EAAkB,CAACwD,QAASrC,CAAQ,IAGjDY,GACAtC,EAAAyD,aAAA,CAACjD,EAAoB,KACpBR,EAAAyD,aAAA,CAAChD,EAAY,OAIdyB,GAAS,CAACM,GACVxC,EAAAyD,aAAA,CAACjD,EAAoB,CAACwD,GAAI,EAAG,EAC5BhE,EAAAyD,aAAA,CAAC5D,EAAO,CAACoE,KAAK,QAAQ,EAAErC,EAAE,oBAI3B,CAACU,GAAaE,GAAQxC,EAAAyD,aAAA,CAAC9C,EAAQf,EAAA,CAAA,EAAK4C,EAAI,CAAE0B,QAASlE,EAAAyD,aAAA,CAACzC,EAAe,CAACwB,KAAMA,EAAMf,IAAKA,EAAK0C,WAAYxC,CAAY,EAAI,IAG1H\"}"}