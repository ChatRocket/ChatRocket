{"code":"function module(e,t,n){n.export({BarChart:function(){return f}}),n.link(\"@nivo/bar\",{ResponsiveBar:function(e){a=e}},0),n.link(\"@rocket.chat/fuselage\",{Box:function(e){i=e},Palette:function(e){l=e},Tooltip:function(e){o=e}},1),n.link(\"react\",{default:function(e){r=e},useMemo:function(e){d=e}},2),n.link(\"./constants\",{REPORTS_CHARTS_THEME:function(e){u=e}},3);var a,i,l,o,r,d,u,s={fill:l.text[\"font-annotation\"].toString(),fontFamily:'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',fontSize:12},c=function(e){var t=e.bars,n=e.labelSkipWidth;return r.createElement(\"g\",null,null==t?void 0:t.map(function(e){var t=e.width,a=e.height,i=e.y,l=e.data;return t>=n?null:r.createElement(\"text\",{key:l.indexValue,transform:\"translate(\"+(t+8)+\", \"+(i+a/2)+\")\",textAnchor:\"left\",dominantBaseline:\"central\",style:s},l.formattedValue)}))},m=function(e){var t=e.bars,n=e.labelSkipHeight,a=e.innerHeight;return r.createElement(\"g\",null,null==t?void 0:t.map(function(e){var t=e.width,i=e.height,l=e.x,o=e.data;return i>=n?null:r.createElement(\"text\",{key:o.indexValue,transform:\"translate(\"+(l+t/2)+\", \"+(a-i-8)+\")\",textAnchor:\"middle\",dominantBaseline:\"central\",style:s},o.formattedValue)}))},f=function(e){var t=e.data,n=e.maxWidth,l=e.height,s=e.direction,f=void 0===s?\"vertical\":s,h=e.indexBy,g=e.keys,v=e.margins,x=e.reverse,p=e.enableGridX,b=e.enableGridY,y=e.axis,k=(y=void 0===y?{}:y).axisTop,S=y.axisLeft,E=y.axisRight,B=y.axisBottom,H=e.colors,R=d(function(){return{minHeight:22*t.length,padding:t.length<=4?.5:.05}},[t.length]),T=R.minHeight,A=R.padding;return r.createElement(i,{maxWidth:n,height:l,overflowY:\"auto\"},r.createElement(i,{position:\"relative\",height:Math.max(T,l),padding:8,overflow:\"hidden\"},r.createElement(a,{animate:!0,data:t,indexBy:void 0===h?\"label\":h,layout:f,layers:[\"grid\",\"axes\",\"bars\",\"markers\",\"legends\",\"annotations\",\"vertical\"===f?m:c],indexScale:{type:\"band\",round:!1},keys:g,groupMode:\"grouped\",padding:A,colors:null!=H?H:{datum:\"data.color\"},enableGridY:void 0!==b&&b,enableGridX:void 0!==p&&p,axisTop:k||null,axisRight:E||null,axisBottom:B||null,axisLeft:S||null,reverse:x,borderRadius:4,labelTextColor:\"white\",margin:v,motionConfig:\"stiff\",theme:u,labelSkipWidth:\"horizontal\"===f?24:void 0,labelSkipHeight:\"vertical\"===f?16:void 0,valueScale:{type:\"linear\"},tooltip:function(e){var t=e.data;return r.createElement(o,null,t.label+\": \"+t.value)},barAriaLabel:function(e){return e.data.label}})))}}","map":"{\"version\":3,\"sources\":[\"client/omnichannel/reports/components/BarChart.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { BarCustomLayerProps, BarDatum } from '@nivo/bar';\\nimport { ResponsiveBar } from '@nivo/bar';\\nimport { Box, Palette, Tooltip } from '@rocket.chat/fuselage';\\nimport type { ComponentProps } from 'react';\\nimport React, { useMemo } from 'react';\\n\\nimport { REPORTS_CHARTS_THEME } from './constants';\\n\\ntype axisItem = {\\n\\tticksPosition?: 'before' | 'after';\\n\\ttickValues?: number;\\n\\ttickSize?: number;\\n\\ttickPadding?: number;\\n\\ttickRotation?: number;\\n\\tformat?: string | ((v: string | number) => string | number);\\n\\trenderTick?: (props: any) => JSX.Element;\\n\\tlegend?: React.ReactNode;\\n\\tlegendPosition?: 'start' | 'middle' | 'end';\\n\\tlegendOffset?: number;\\n\\tariaHidden?: boolean;\\n};\\n\\ntype BarChartProps = {\\n\\tdata: {\\n\\t\\tlabel: string;\\n\\t\\tvalue: number;\\n\\t\\tcolor: string;\\n\\t}[];\\n\\tmaxWidth?: string | number;\\n\\theight: number;\\n\\tdirection?: 'vertical' | 'horizontal';\\n\\tindexBy?: string;\\n\\tkeys?: string[];\\n\\treverse?: boolean;\\n\\tmargins?: { top?: number; right?: number; bottom?: number; left?: number };\\n\\taxis: { axisTop?: axisItem; axisLeft?: axisItem; axisRight?: axisItem; axisBottom?: axisItem };\\n\\tenableGridX?: boolean;\\n\\tenableGridY?: boolean;\\n\\tcolors?: ComponentProps<typeof ResponsiveBar>['colors'];\\n};\\n\\nconst sideLabelStyle = {\\n\\tfill: Palette.text['font-annotation'].toString(),\\n\\tfontFamily:\\n\\t\\t'Inter, -apple-system, system-ui, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\", \\\"Meiryo UI\\\", Arial, sans-serif',\\n\\tfontSize: 12,\\n};\\n\\nconst horizontalSideLabel = ({ bars, labelSkipWidth }: BarCustomLayerProps<BarDatum>) => (\\n\\t<g>\\n\\t\\t{bars?.map(({ width, height, y, data }) => {\\n\\t\\t\\tif (width >= labelSkipWidth) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t<text\\n\\t\\t\\t\\t\\tkey={data.indexValue}\\n\\t\\t\\t\\t\\ttransform={`translate(${width + 8}, ${y + height / 2})`}\\n\\t\\t\\t\\t\\ttextAnchor='left'\\n\\t\\t\\t\\t\\tdominantBaseline='central'\\n\\t\\t\\t\\t\\tstyle={sideLabelStyle}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t{data.formattedValue}\\n\\t\\t\\t\\t</text>\\n\\t\\t\\t);\\n\\t\\t})}\\n\\t</g>\\n);\\n\\nconst verticalSideLabel = ({ bars, labelSkipHeight, innerHeight }: BarCustomLayerProps<BarDatum>) => (\\n\\t<g>\\n\\t\\t{bars?.map(({ width, height, x, data }) => {\\n\\t\\t\\tif (height >= labelSkipHeight) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t<text\\n\\t\\t\\t\\t\\tkey={data.indexValue}\\n\\t\\t\\t\\t\\ttransform={`translate(${x + width / 2}, ${innerHeight - height - 8})`}\\n\\t\\t\\t\\t\\ttextAnchor='middle'\\n\\t\\t\\t\\t\\tdominantBaseline='central'\\n\\t\\t\\t\\t\\tstyle={sideLabelStyle}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t{data.formattedValue}\\n\\t\\t\\t\\t</text>\\n\\t\\t\\t);\\n\\t\\t})}\\n\\t</g>\\n);\\n\\nexport const BarChart = ({\\n\\tdata,\\n\\tmaxWidth,\\n\\theight,\\n\\tdirection = 'vertical',\\n\\tindexBy = 'label',\\n\\tkeys,\\n\\tmargins,\\n\\treverse,\\n\\tenableGridX = false,\\n\\tenableGridY = false,\\n\\taxis: { axisTop, axisLeft, axisRight, axisBottom } = {},\\n\\tcolors,\\n}: BarChartProps) => {\\n\\tconst { minHeight, padding } = useMemo(() => {\\n\\t\\tconst minHeight = data.length * 22;\\n\\t\\tconst padding = data.length <= 4 ? 0.5 : 0.05;\\n\\t\\treturn { minHeight, padding };\\n\\t}, [data.length]);\\n\\n\\tconst sideLabel: any = direction === 'vertical' ? verticalSideLabel : horizontalSideLabel;\\n\\n\\treturn (\\n\\t\\t<Box maxWidth={maxWidth} height={height} overflowY='auto'>\\n\\t\\t\\t<Box position='relative' height={Math.max(minHeight, height)} padding={8} overflow='hidden'>\\n\\t\\t\\t\\t<ResponsiveBar\\n\\t\\t\\t\\t\\tanimate\\n\\t\\t\\t\\t\\tdata={data}\\n\\t\\t\\t\\t\\tindexBy={indexBy}\\n\\t\\t\\t\\t\\tlayout={direction}\\n\\t\\t\\t\\t\\tlayers={['grid', 'axes', 'bars', 'markers', 'legends', 'annotations', sideLabel]}\\n\\t\\t\\t\\t\\tindexScale={{ type: 'band', round: false }}\\n\\t\\t\\t\\t\\tkeys={keys}\\n\\t\\t\\t\\t\\tgroupMode='grouped'\\n\\t\\t\\t\\t\\tpadding={padding}\\n\\t\\t\\t\\t\\tcolors={colors ?? { datum: 'data.color' }}\\n\\t\\t\\t\\t\\tenableGridY={enableGridY}\\n\\t\\t\\t\\t\\tenableGridX={enableGridX}\\n\\t\\t\\t\\t\\taxisTop={axisTop || null}\\n\\t\\t\\t\\t\\taxisRight={axisRight || null}\\n\\t\\t\\t\\t\\taxisBottom={axisBottom || null}\\n\\t\\t\\t\\t\\taxisLeft={axisLeft || null}\\n\\t\\t\\t\\t\\treverse={reverse}\\n\\t\\t\\t\\t\\tborderRadius={4}\\n\\t\\t\\t\\t\\tlabelTextColor='white'\\n\\t\\t\\t\\t\\tmargin={margins}\\n\\t\\t\\t\\t\\tmotionConfig='stiff'\\n\\t\\t\\t\\t\\ttheme={REPORTS_CHARTS_THEME}\\n\\t\\t\\t\\t\\tlabelSkipWidth={direction === 'horizontal' ? 24 : undefined}\\n\\t\\t\\t\\t\\tlabelSkipHeight={direction === 'vertical' ? 16 : undefined}\\n\\t\\t\\t\\t\\tvalueScale={{ type: 'linear' }}\\n\\t\\t\\t\\t\\ttooltip={({ data }) => <Tooltip>{`${data.label}: ${data.value}`}</Tooltip>}\\n\\t\\t\\t\\t\\tbarAriaLabel={({ data }) => data.label}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</Box>\\n\\t\\t</Box>\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"BarChart\",\"link\",\"ResponsiveBar\",\"v\",\"Box\",\"Palette\",\"Tooltip\",\"React\",\"useMemo\",\"REPORTS_CHARTS_THEME\",\"sideLabelStyle\",\"fill\",\"text\",\"toString\",\"fontFamily\",\"fontSize\",\"horizontalSideLabel\",\"_ref\",\"bars\",\"labelSkipWidth\",\"createElement\",\"map\",\"_ref2\",\"width\",\"height\",\"y\",\"data\",\"key\",\"indexValue\",\"transform\",\"textAnchor\",\"dominantBaseline\",\"style\",\"formattedValue\",\"verticalSideLabel\",\"_ref3\",\"labelSkipHeight\",\"innerHeight\",\"_ref4\",\"x\",\"_ref5\",\"maxWidth\",\"_ref5$direction\",\"direction\",\"_ref5$indexBy\",\"indexBy\",\"keys\",\"margins\",\"reverse\",\"_ref5$enableGridX\",\"enableGridX\",\"_ref5$enableGridY\",\"enableGridY\",\"_ref5$axis\",\"axis\",\"axisTop\",\"axisLeft\",\"axisRight\",\"axisBottom\",\"colors\",\"_useMemo\",\"minHeight\",\"length\",\"padding\",\"overflowY\",\"position\",\"Math\",\"max\",\"overflow\",\"animate\",\"layout\",\"layers\",\"indexScale\",\"type\",\"round\",\"groupMode\",\"datum\",\"borderRadius\",\"labelTextColor\",\"margin\",\"motionConfig\",\"theme\",\"undefined\",\"valueScale\",\"tooltip\",\"_ref6\",\"label\",\"value\",\"barAriaLabel\",\"_ref7\"],\"mappings\":\"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\"}"}