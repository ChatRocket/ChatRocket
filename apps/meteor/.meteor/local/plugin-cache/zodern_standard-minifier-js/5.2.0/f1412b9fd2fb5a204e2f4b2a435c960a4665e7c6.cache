{"code":"function module(n,e,t){var i,o,u,r,c,a,l,f,m,s,j,k,d,p,v,E,C,h,b;t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(n){i=n}},0),t.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(n){o=n}},1),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(n){u=n}},2),t.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedState:function(n){r=n},useLocalStorage:function(n){c=n}},0),t.link(\"react\",{default:function(n){a=n},useState:function(n){l=n},useCallback:function(n){f=n},useMemo:function(n){m=n},useEffect:function(n){s=n}},1),t.link(\"../../../app/emoji/client\",{emoji:function(n){j=n},getFrequentEmoji:function(n){k=n},updateRecent:function(n){d=n},createEmojiList:function(n){p=n},createPickerEmojis:function(n){v=n},CUSTOM_CATEGORY:function(n){E=n}},2),t.link(\"../../contexts/EmojiPickerContext\",{EmojiPickerContext:function(n){C=n}},3),t.link(\"../../views/composer/EmojiPicker/EmojiPicker\",{default:function(n){h=n}},4),t.link(\"./useUpdateCustomEmoji\",{useUpdateCustomEmoji:function(n){b=n}},5),t.exportDefault(function(n){var e=n.children,t=l(null),g=u(t,2),y=g[0],P=g[1],x=r(null,100),R=u(x,2),T=R[0],L=R[1],S=c(\"emoji.recent\",[]),w=u(S,2),A=w[0],M=w[1],O=c(\"emoji.tone\",0),q=u(O,2),U=q[0],B=q[1],D=l(\"recent\"),I=u(D,2),F=I[0],G=I[1],Y=l(90),_=u(Y,2),z=_[0],H=_[1],J=c(\"emoji.frequent\",[]),K=u(J,2),N=K[0],Q=K[1],V=l(function(){return k(N.map(function(n){return u(n,1)[0]}))}),W=u(V,2),X=W[0],Z=W[1];b();var $=f(function(n){var e=[].concat(N.some(function(e){return u(e,1)[0]===n})?[]:[[n,0]],o(N)).map(function(e){var t=u(e,2),i=t[0],o=t[1];return i===n?[i,Math.min(o+5,100)]:[i,Math.max(o-1,0)]}).sort(function(n,e){var t=u(n,2)[1];return u(e,2)[1]-t});Q(e),Z(k(e.map(function(n){return u(n,1)[0]})))},[N,Q]),nn=l(function(){return function(){return[]}}),ne=u(nn,2),nt=ne[0],ni=ne[1],no=f(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;ni(function(t){return function(){return t().map(function(t){return n===t.key?i(i({},t),{},{emojis:{list:p(t.key,null,A,M),limit:t.key===E?e|z:null}}):t})}})},[z,A,M]);s(function(){(null==A?void 0:A.length)>0&&d(A),ni(function(){return function(){return v(z,U,A,M)}})},[U,A,z,F,M,N]);var nu=f(function(n){$(n);var e=A||[],t=e.indexOf(n);-1!==t&&e.splice(t,1),e.unshift(n),e.splice(27),M(e),j.packages.base.emojisByCategory.recent=e,no(\"recent\")},[A,M,no,$]),nr=f(function(n,e){return P(a.createElement(h,{reference:n,onClose:function(){return P(null)},onPickEmoji:function(n){return e(n)}}))},[]),nc=f(function(n,e){return L({emoji:n,name:e})},[L]),na=f(function(){return L(null)},[L]),nl=m(function(){return{isOpen:null!==y,close:function(){return P(null)},open:nr,emojiToPreview:T,handlePreview:nc,handleRemovePreview:na,addRecentEmoji:nu,getEmojiListsByCategory:nt,recentEmojis:A,setRecentEmojis:M,actualTone:U,currentCategory:F,setCurrentCategory:G,customItemsLimit:z,setCustomItemsLimit:H,setActualTone:B,quickReactions:X}},[y,nr,T,nu,nt,A,M,U,F,G,z,B,X,nc,na]);return a.createElement(C.Provider,{value:nl},e,y)})}","map":"{\"version\":3,\"sources\":[\"client/providers/EmojiPickerProvider/EmojiPickerProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useDebouncedState, useLocalStorage } from '@rocket.chat/fuselage-hooks';\\nimport type { ReactNode, ReactElement, ContextType } from 'react';\\nimport React, { useState, useCallback, useMemo, useEffect } from 'react';\\n\\nimport type { EmojiByCategory } from '../../../app/emoji/client';\\nimport { emoji, getFrequentEmoji, updateRecent, createEmojiList, createPickerEmojis, CUSTOM_CATEGORY } from '../../../app/emoji/client';\\nimport { EmojiPickerContext } from '../../contexts/EmojiPickerContext';\\nimport EmojiPicker from '../../views/composer/EmojiPicker/EmojiPicker';\\nimport { useUpdateCustomEmoji } from './useUpdateCustomEmoji';\\n\\nconst DEFAULT_ITEMS_LIMIT = 90;\\n\\nconst EmojiPickerProvider = ({ children }: { children: ReactNode }): ReactElement => {\\n\\tconst [emojiPicker, setEmojiPicker] = useState<ReactElement | null>(null);\\n\\tconst [emojiToPreview, setEmojiToPreview] = useDebouncedState<{ emoji: string; name: string } | null>(null, 100);\\n\\tconst [recentEmojis, setRecentEmojis] = useLocalStorage<string[]>('emoji.recent', []);\\n\\tconst [actualTone, setActualTone] = useLocalStorage('emoji.tone', 0);\\n\\tconst [currentCategory, setCurrentCategory] = useState('recent');\\n\\tconst [customItemsLimit, setCustomItemsLimit] = useState(DEFAULT_ITEMS_LIMIT);\\n\\n\\tconst [frequentEmojis, setFrequentEmojis] = useLocalStorage<[string, number][]>('emoji.frequent', []);\\n\\n\\tconst [quickReactions, setQuickReactions] = useState<{ emoji: string; image: string }[]>(() =>\\n\\t\\tgetFrequentEmoji(frequentEmojis.map(([emoji]) => emoji)),\\n\\t);\\n\\n\\tuseUpdateCustomEmoji();\\n\\n\\tconst addFrequentEmojis = useCallback(\\n\\t\\t(emoji: string) => {\\n\\t\\t\\tconst empty: [string, number][] = frequentEmojis.some(([emojiName]) => emojiName === emoji) ? [] : [[emoji, 0]];\\n\\n\\t\\t\\tconst sortedFrequent = [...empty, ...frequentEmojis]\\n\\t\\t\\t\\t.map(([emojiName, count]) => {\\n\\t\\t\\t\\t\\treturn (emojiName === emoji ? [emojiName, Math.min(count + 5, 100)] : [emojiName, Math.max(count - 1, 0)]) as [string, number];\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.sort(([, frequentA], [, frequentB]) => frequentB - frequentA);\\n\\n\\t\\t\\tsetFrequentEmojis(sortedFrequent);\\n\\t\\t\\tsetQuickReactions(getFrequentEmoji(sortedFrequent.map(([emoji]) => emoji)));\\n\\t\\t},\\n\\t\\t[frequentEmojis, setFrequentEmojis],\\n\\t);\\n\\n\\tconst [getEmojiListsByCategory, setEmojiListsByCategoryGetter] = useState<() => EmojiByCategory[]>(() => () => []);\\n\\n\\t// TODO: improve this update\\n\\tconst updateEmojiListByCategory = useCallback(\\n\\t\\t(categoryKey: string, limit: number = DEFAULT_ITEMS_LIMIT) => {\\n\\t\\t\\tsetEmojiListsByCategoryGetter(\\n\\t\\t\\t\\t(getEmojiListsByCategory) => () =>\\n\\t\\t\\t\\t\\tgetEmojiListsByCategory().map((category) =>\\n\\t\\t\\t\\t\\t\\tcategoryKey === category.key\\n\\t\\t\\t\\t\\t\\t\\t? {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t...category,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\temojis: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlist: createEmojiList(category.key, null, recentEmojis, setRecentEmojis),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlimit: category.key === CUSTOM_CATEGORY ? limit | customItemsLimit : null,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t  }\\n\\t\\t\\t\\t\\t\\t\\t: category,\\n\\t\\t\\t\\t\\t),\\n\\t\\t\\t);\\n\\t\\t},\\n\\t\\t[customItemsLimit, recentEmojis, setRecentEmojis],\\n\\t);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (recentEmojis?.length > 0) {\\n\\t\\t\\tupdateRecent(recentEmojis);\\n\\t\\t}\\n\\n\\t\\tsetEmojiListsByCategoryGetter(() => () => createPickerEmojis(customItemsLimit, actualTone, recentEmojis, setRecentEmojis));\\n\\t}, [actualTone, recentEmojis, customItemsLimit, currentCategory, setRecentEmojis, frequentEmojis]);\\n\\n\\tconst addRecentEmoji = useCallback(\\n\\t\\t(_emoji: string) => {\\n\\t\\t\\taddFrequentEmojis(_emoji);\\n\\n\\t\\t\\tconst recent = recentEmojis || [];\\n\\t\\t\\tconst pos = recent.indexOf(_emoji as never);\\n\\n\\t\\t\\tif (pos !== -1) {\\n\\t\\t\\t\\trecent.splice(pos, 1);\\n\\t\\t\\t}\\n\\n\\t\\t\\trecent.unshift(_emoji);\\n\\n\\t\\t\\t// limit recent emojis to 27 (3 rows of 9)\\n\\t\\t\\trecent.splice(27);\\n\\n\\t\\t\\tsetRecentEmojis(recent);\\n\\t\\t\\temoji.packages.base.emojisByCategory.recent = recent;\\n\\t\\t\\tupdateEmojiListByCategory('recent');\\n\\t\\t},\\n\\t\\t[recentEmojis, setRecentEmojis, updateEmojiListByCategory, addFrequentEmojis],\\n\\t);\\n\\n\\tconst open = useCallback((ref: Element, callback: (emoji: string) => void) => {\\n\\t\\treturn setEmojiPicker(<EmojiPicker reference={ref} onClose={() => setEmojiPicker(null)} onPickEmoji={(emoji) => callback(emoji)} />);\\n\\t}, []);\\n\\n\\tconst handlePreview = useCallback((emoji: string, name: string) => setEmojiToPreview({ emoji, name }), [setEmojiToPreview]);\\n\\n\\tconst handleRemovePreview = useCallback(() => setEmojiToPreview(null), [setEmojiToPreview]);\\n\\n\\tconst contextValue = useMemo(\\n\\t\\t(): ContextType<typeof EmojiPickerContext> => ({\\n\\t\\t\\tisOpen: emojiPicker !== null,\\n\\t\\t\\tclose: () => setEmojiPicker(null),\\n\\t\\t\\topen,\\n\\t\\t\\temojiToPreview,\\n\\t\\t\\thandlePreview,\\n\\t\\t\\thandleRemovePreview,\\n\\t\\t\\taddRecentEmoji,\\n\\t\\t\\tgetEmojiListsByCategory,\\n\\t\\t\\trecentEmojis,\\n\\t\\t\\tsetRecentEmojis,\\n\\t\\t\\tactualTone,\\n\\t\\t\\tcurrentCategory,\\n\\t\\t\\tsetCurrentCategory,\\n\\t\\t\\tcustomItemsLimit,\\n\\t\\t\\tsetCustomItemsLimit,\\n\\t\\t\\tsetActualTone,\\n\\t\\t\\tquickReactions,\\n\\t\\t}),\\n\\t\\t[\\n\\t\\t\\temojiPicker,\\n\\t\\t\\topen,\\n\\t\\t\\temojiToPreview,\\n\\t\\t\\taddRecentEmoji,\\n\\t\\t\\tgetEmojiListsByCategory,\\n\\t\\t\\trecentEmojis,\\n\\t\\t\\tsetRecentEmojis,\\n\\t\\t\\tactualTone,\\n\\t\\t\\tcurrentCategory,\\n\\t\\t\\tsetCurrentCategory,\\n\\t\\t\\tcustomItemsLimit,\\n\\t\\t\\tsetActualTone,\\n\\t\\t\\tquickReactions,\\n\\t\\t\\thandlePreview,\\n\\t\\t\\thandleRemovePreview,\\n\\t\\t],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<EmojiPickerContext.Provider value={contextValue}>\\n\\t\\t\\t{children}\\n\\t\\t\\t{emojiPicker}\\n\\t\\t</EmojiPickerContext.Provider>\\n\\t);\\n};\\n\\nexport default EmojiPickerProvider;\\n\",null],\"names\":[\"_objectSpread\",\"_toConsumableArray\",\"_slicedToArray\",\"useDebouncedState\",\"useLocalStorage\",\"React\",\"useState\",\"useCallback\",\"useMemo\",\"useEffect\",\"emoji\",\"getFrequentEmoji\",\"updateRecent\",\"createEmojiList\",\"createPickerEmojis\",\"CUSTOM_CATEGORY\",\"EmojiPickerContext\",\"EmojiPicker\",\"useUpdateCustomEmoji\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"children\",\"_useState\",\"_useState2\",\"emojiPicker\",\"setEmojiPicker\",\"_useDebouncedState\",\"_useDebouncedState2\",\"emojiToPreview\",\"setEmojiToPreview\",\"_useLocalStorage\",\"_useLocalStorage2\",\"recentEmojis\",\"setRecentEmojis\",\"_useLocalStorage3\",\"_useLocalStorage4\",\"actualTone\",\"setActualTone\",\"_useState3\",\"_useState4\",\"currentCategory\",\"setCurrentCategory\",\"_useState5\",\"_useState6\",\"customItemsLimit\",\"setCustomItemsLimit\",\"_useLocalStorage5\",\"_useLocalStorage6\",\"frequentEmojis\",\"setFrequentEmojis\",\"_useState7\",\"map\",\"_ref2\",\"_ref3\",\"_useState8\",\"quickReactions\",\"setQuickReactions\",\"addFrequentEmojis\",\"sortedFrequent\",\"concat\",\"some\",\"_ref4\",\"emojiName\",\"_ref5\",\"_ref6\",\"_ref7\",\"count\",\"Math\",\"min\",\"max\",\"sort\",\"_ref8\",\"_ref9\",\"frequentA\",\"_ref10\",\"frequentB\",\"_ref11\",\"_ref12\",\"_ref13\",\"_useState9\",\"_useState10\",\"getEmojiListsByCategory\",\"setEmojiListsByCategoryGetter\",\"updateEmojiListByCategory\",\"categoryKey\",\"limit\",\"arguments\",\"length\",\"undefined\",\"category\",\"key\",\"emojis\",\"list\",\"addRecentEmoji\",\"_emoji\",\"recent\",\"pos\",\"indexOf\",\"splice\",\"unshift\",\"packages\",\"base\",\"emojisByCategory\",\"open\",\"ref\",\"callback\",\"createElement\",\"reference\",\"onClose\",\"onPickEmoji\",\"handlePreview\",\"name\",\"handleRemovePreview\",\"contextValue\",\"isOpen\",\"close\",\"Provider\",\"value\"],\"mappings\":\"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\"}"}