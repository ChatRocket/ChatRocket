{"code":"function module(e,n,r){r.link(\"@babel/runtime/helpers/extends\",{default:function(e){t=e}},0),r.link(\"@babel/runtime/regenerator\",{default:function(e){u=e}},1),r.export({useConfirmOwnerChanges:function(){return l}}),r.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){a=e},useToastMessageDispatch:function(e){o=e}},0),r.link(\"react\",{default:function(e){s=e}},1),r.link(\"../../../../components/ConfirmOwnerChangeModal\",{default:function(e){c=e}},2);var t,u,a,o,s,c,l=function(){var e=a(),n=o();return function(r,a,o){var l,i,f,d;return u.async(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,u.awrap(r());case 3:return p.abrupt(\"return\",p.sent);case 6:if(p.prev=6,p.t0=p.catch(0),\"user-last-owner\"!==p.t0.errorType){p.next=12;break}return i=(l=p.t0.details).shouldChangeOwner,f=l.shouldBeRemoved,d=function n(){return u.async(function n(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.awrap(r(!0));case 2:e(),o();case 4:case\"end\":return n.stop()}},null,null,null,Promise)},p.abrupt(\"return\",e(s.createElement(c,t({},a,{shouldChangeOwner:i,shouldBeRemoved:f,onConfirm:d,onCancel:function(){return e()}}))));case 12:n({type:\"error\",message:p.t0});case 13:case\"end\":return p.stop()}},null,null,[[0,6]],Promise)}}}","map":"{\"version\":3,\"sources\":[\"client/views/admin/users/hooks/useConfirmOwnerChanges.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useSetModal, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps } from 'react';\\nimport React from 'react';\\n\\nimport ConfirmOwnerChangeWarningModal from '../../../../components/ConfirmOwnerChangeModal';\\n\\nexport const useConfirmOwnerChanges = (): ((\\n\\taction: (confirm?: boolean) => Promise<void>,\\n\\tmodalProps: Pick<ComponentProps<typeof ConfirmOwnerChangeWarningModal>, 'contentTitle' | 'confirmText'>,\\n\\tonChange: () => void,\\n) => Promise<void>) => {\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\treturn async (action, modalProps, onChange): Promise<void> => {\\n\\t\\ttry {\\n\\t\\t\\treturn await action();\\n\\t\\t} catch (error: any) {\\n\\t\\t\\tif (error.errorType === 'user-last-owner') {\\n\\t\\t\\t\\tconst { shouldChangeOwner, shouldBeRemoved } = error.details;\\n\\n\\t\\t\\t\\tconst handleConfirm = async (): Promise<void> => {\\n\\t\\t\\t\\t\\tawait action(true);\\n\\t\\t\\t\\t\\tsetModal();\\n\\t\\t\\t\\t\\tonChange();\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\treturn setModal(\\n\\t\\t\\t\\t\\t<ConfirmOwnerChangeWarningModal\\n\\t\\t\\t\\t\\t\\t{...modalProps}\\n\\t\\t\\t\\t\\t\\tshouldChangeOwner={shouldChangeOwner}\\n\\t\\t\\t\\t\\t\\tshouldBeRemoved={shouldBeRemoved}\\n\\t\\t\\t\\t\\t\\tonConfirm={handleConfirm}\\n\\t\\t\\t\\t\\t\\tonCancel={(): void => setModal()}\\n\\t\\t\\t\\t\\t/>,\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t};\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_extends\",\"_regeneratorRuntime\",\"export\",\"useConfirmOwnerChanges\",\"useSetModal\",\"useToastMessageDispatch\",\"React\",\"ConfirmOwnerChangeWarningModal\",\"setModal\",\"dispatchToastMessage\",\"action\",\"modalProps\",\"onChange\",\"_error$details\",\"shouldChangeOwner\",\"shouldBeRemoved\",\"handleConfirm\",\"async\",\"_context2\",\"prev\",\"next\",\"awrap\",\"abrupt\",\"sent\",\"t0\",\"errorType\",\"details\",\"_callee\",\"_callee$\",\"_context\",\"stop\",\"Promise\",\"createElement\",\"onConfirm\",\"onCancel\",\"type\",\"message\"],\"mappings\":\"uBAASA,EAAWC,IAAE,CAAA,iCAA+B,CAAAC,QAAA,SAAAC,CAAA,EAA0BC,EAACD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,6BAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAhFH,EAAOM,MAAE,CAAA,CAAAC,uBAAa,WAAyB,OAAMA,CAAA,CAA0B,GAACP,EAAAC,IAAA,CAAA,2BAAA,CAAAO,YAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,wBAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iDAAA,CAAA,QAAA,SAAAE,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAMzE,IANPC,EAAgFC,EAAAG,EAAAC,EAAAC,EAAAC,EAMnEJ,EAAyB,WAKrC,IAAMK,EAAWJ,IACXK,EAAuBJ,IAE7B,OAAO,SAAOK,CAAM,CAAEC,CAAU,CAAEC,CAAQ,EAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAf,EAAAgB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAAnB,EAAAoB,KAAA,CAE3BX,IAAQ,MAAA,EAAA,OAAAQ,EAAAI,MAAA,CAAA,SAAAJ,EAAAK,IAAA,CAAA,MAAA,EAAA,GAAAL,EAAAC,IAAA,CAAA,EAAAD,EAAAM,EAAA,CAAAN,EAAA,KAAA,CAAA,GAAA,AAEG,oBAApBA,EAAAM,EAAA,CAAMC,SAAS,CAAsB,CAAAP,EAAAE,IAAA,CAAA,GAAA,KAAA,CAOvC,OANON,EAAiBD,AADeA,CAAAA,EACOK,EAAAM,EAAA,CAAME,OAAO,AAAPA,EAA7CZ,iBAAiB,CAAEC,EAAeF,EAAfE,eAAe,CAEpCC,EAAgB,SAAAW,IAAA,OAAA1B,EAAAgB,KAAA,CAAA,SAAAW,EAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAV,IAAA,CAAAU,EAAAT,IAAA,EAAA,KAAA,EAAA,OAAAS,EAAAT,IAAA,CAAA,EAAAnB,EAAAoB,KAAA,CACfX,EAAO,CAAA,GAAK,MAAA,EAClBF,IACAI,GAAW,MAAA,EAAA,IAAA,MAAA,OAAAiB,EAAAC,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EACXb,EAAAI,MAAA,CAAA,SAEMd,EACNF,EAAA0B,aAAA,CAACzB,EAA8BP,EAAA,CAAA,EAC1BW,EAAU,CACdG,kBAAmBA,EACnBC,gBAAiBA,EACjBkB,UAAWjB,EACXkB,SAAU,WAAA,OAAY1B,GAAU,CAAC,KAElC,MAAA,GAEFC,EAAqB,CAAE0B,KAAM,QAASC,QAAOlB,EAAAM,EAAAA,AAAO,EAAI,MAAA,GAAA,IAAA,MAAA,OAAAN,EAAAY,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAAC,QAAA,CAG3D\"}"}