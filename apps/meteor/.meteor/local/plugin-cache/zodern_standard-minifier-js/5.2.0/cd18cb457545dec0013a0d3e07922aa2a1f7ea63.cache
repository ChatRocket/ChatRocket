{"code":"function module(e,n,t){var r,a,l,o,u,i,c,f,m,s,d,k,h,x,v;t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){r=e}},0),t.link(\"@rocket.chat/fuselage\",{Box:function(e){a=e},SearchInput:function(e){l=e},Select:function(e){o=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue:function(e){u=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){i=e}},2),t.link(\"react\",{default:function(e){c=e},useCallback:function(e){f=e},useState:function(e){m=e},useMemo:function(e){s=e}},3),t.link(\"react-i18next\",{useTranslation:function(e){d=e}},4),t.link(\"./FederatedRoomList\",{default:function(e){k=e}},5),t.link(\"./FederatedRoomListErrorBoundary\",{default:function(e){h=e}},6),t.link(\"./MatrixFederationManageServerModal\",{default:function(e){x=e}},7),t.link(\"./MatrixFederationSearch\",{default:function(e){v=e}},8),t.exportDefault(function(e){var n=e.defaultSelectedServer,t=e.servers,S=m(function(){var e,r=t.find(function(e){return e.name===n});return null!==(e=null==r?void 0:r.name)&&void 0!==e?e:t[0].name}),E=r(S,2),g=E[0],p=E[1],b=m(\"\"),C=r(b,2),M=C[0],F=C[1],w=i(),y=u(M,400),D=d().t,_=s(function(){return t.map(function(e){return[e.name,e.name]})},[t]),T=f(function(){w(c.createElement(x,{onClickClose:function(){return w(c.createElement(v,{onClose:function(){return w(null)}}))}}))},[w]);return c.createElement(c.Fragment,null,c.createElement(a,{display:\"flex\",flexDirection:\"row\"},c.createElement(a,{mie:4,flexGrow:0,flexShrink:4},c.createElement(o,{options:_,value:g,onChange:function(e){return p(String(e))}})),c.createElement(l,{\"aria-label\":D(\"Search_rooms\"),placeholder:D(\"Search_rooms\"),flexGrow:4,flexShrink:0,value:M,onChange:function(e){return F(e.currentTarget.value)}})),c.createElement(a,{is:\"a\",role:\"button\",display:\"flex\",flexDirection:\"row\",mbe:16,onClick:T},D(\"Manage_server_list\")),c.createElement(h,null,c.createElement(k,{serverName:g,roomName:y})))})}","map":"{\"version\":3,\"sources\":[\"client/sidebar/header/MatrixFederationSearch/MatrixFederationSearchModalContent.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Box, SearchInput, Select } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal } from '@rocket.chat/ui-contexts';\\nimport type { FormEvent } from 'react';\\nimport React, { useCallback, useState, useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport FederatedRoomList from './FederatedRoomList';\\nimport FederatedRoomListErrorBoundary from './FederatedRoomListErrorBoundary';\\nimport MatrixFederationManageServersModal from './MatrixFederationManageServerModal';\\nimport MatrixFederationSearch from './MatrixFederationSearch';\\n\\ntype MatrixFederationSearchModalContentProps = {\\n\\tservers: Array<{\\n\\t\\tname: string;\\n\\t\\tdefault: boolean;\\n\\t\\tlocal: boolean;\\n\\t}>;\\n\\tdefaultSelectedServer?: string;\\n};\\n\\nconst MatrixFederationSearchModalContent = ({ defaultSelectedServer, servers }: MatrixFederationSearchModalContentProps) => {\\n\\tconst [serverName, setServerName] = useState(() => {\\n\\t\\tconst defaultServer = servers.find((server) => server.name === defaultSelectedServer);\\n\\t\\treturn defaultServer?.name ?? servers[0].name;\\n\\t});\\n\\n\\tconst [roomName, setRoomName] = useState('');\\n\\n\\tconst setModal = useSetModal();\\n\\n\\tconst debouncedRoomName = useDebouncedValue(roomName, 400);\\n\\n\\tconst { t } = useTranslation();\\n\\n\\tconst serverOptions = useMemo(() => servers.map((server): SelectOption => [server.name, server.name]), [servers]);\\n\\n\\tconst manageServers = useCallback(() => {\\n\\t\\tsetModal(\\n\\t\\t\\t<MatrixFederationManageServersModal onClickClose={() => setModal(<MatrixFederationSearch onClose={() => setModal(null)} />)} />,\\n\\t\\t);\\n\\t}, [setModal]);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<Box display='flex' flexDirection='row'>\\n\\t\\t\\t\\t<Box mie={4} flexGrow={0} flexShrink={4}>\\n\\t\\t\\t\\t\\t<Select options={serverOptions} value={serverName} onChange={(value) => setServerName(String(value))} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<SearchInput\\n\\t\\t\\t\\t\\taria-label={t('Search_rooms')}\\n\\t\\t\\t\\t\\tplaceholder={t('Search_rooms')}\\n\\t\\t\\t\\t\\tflexGrow={4}\\n\\t\\t\\t\\t\\tflexShrink={0}\\n\\t\\t\\t\\t\\tvalue={roomName}\\n\\t\\t\\t\\t\\tonChange={(e: FormEvent<HTMLInputElement>) => setRoomName(e.currentTarget.value)}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</Box>\\n\\t\\t\\t<Box is='a' role='button' display='flex' flexDirection='row' mbe={16} onClick={manageServers}>\\n\\t\\t\\t\\t{t('Manage_server_list')}\\n\\t\\t\\t</Box>\\n\\t\\t\\t<FederatedRoomListErrorBoundary>\\n\\t\\t\\t\\t<FederatedRoomList serverName={serverName} roomName={debouncedRoomName} />\\n\\t\\t\\t</FederatedRoomListErrorBoundary>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default MatrixFederationSearchModalContent;\\n\",null],\"names\":[\"_slicedToArray\",\"Box\",\"SearchInput\",\"Select\",\"useDebouncedValue\",\"useSetModal\",\"React\",\"useCallback\",\"useState\",\"useMemo\",\"useTranslation\",\"FederatedRoomList\",\"FederatedRoomListErrorBoundary\",\"MatrixFederationManageServersModal\",\"MatrixFederationSearch\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"defaultSelectedServer\",\"servers\",\"_useState\",\"_defaultServer$name\",\"defaultServer\",\"find\",\"server\",\"name\",\"_useState2\",\"serverName\",\"setServerName\",\"_useState3\",\"_useState4\",\"roomName\",\"setRoomName\",\"setModal\",\"debouncedRoomName\",\"t\",\"_useTranslation\",\"serverOptions\",\"map\",\"manageServers\",\"createElement\",\"onClickClose\",\"onClose\",\"Fragment\",\"display\",\"flexDirection\",\"mie\",\"flexGrow\",\"flexShrink\",\"options\",\"value\",\"onChange\",\"String\",\"placeholder\",\"e\",\"currentTarget\",\"is\",\"role\",\"mbe\",\"onClick\"],\"mappings\":\"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\"}"}