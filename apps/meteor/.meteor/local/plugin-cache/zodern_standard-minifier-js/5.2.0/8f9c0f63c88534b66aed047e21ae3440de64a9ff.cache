{"code":"function module(e,t,n){var o,i,s,a,u,c,r,l,m,d,f,g,b,p,k,h,v,M,x,y,A,E,C,T,j,w,_,R,q,P,S,V,L,D,O,B=[\"message\",\"messageContext\",\"room\",\"subscription\",\"onChangeMenuVisibility\"];n.link(\"@babel/runtime/regenerator\",{default:function(e){o=e}},0),n.link(\"@babel/runtime/helpers/extends\",{default:function(e){i=e}},1),n.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){s=e}},2),n.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},3),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){u=e}},4),n.link(\"@react-aria/toolbar\",{useToolbar:function(e){c=e}},0),n.link(\"@rocket.chat/core-typings\",{isThreadMessage:function(e){r=e},isRoomFederated:function(e){l=e},isVideoConfMessage:function(e){m=e},isE2EEMessage:function(e){d=e}},1),n.link(\"@rocket.chat/fuselage\",{MessageToolbar:function(e){f=e},MessageToolbarItem:function(e){g=e}},2),n.link(\"@rocket.chat/ui-client\",{useFeaturePreview:function(e){b=e}},3),n.link(\"@rocket.chat/ui-contexts\",{useUser:function(e){p=e},useSettings:function(e){k=e},useTranslation:function(e){h=e},useMethod:function(e){v=e},useLayoutHiddenActions:function(e){M=e}},4),n.link(\"@tanstack/react-query\",{useQuery:function(e){x=e}},5),n.link(\"react\",{default:function(e){y=e},memo:function(e){A=e},useMemo:function(e){E=e},useRef:function(e){C=e}},6),n.link(\"../../../../app/ui-utils/client/lib/MessageAction\",{MessageAction:function(e){T=e}},7),n.link(\"../../../contexts/EmojiPickerContext\",{useEmojiPickerData:function(e){j=e}},8),n.link(\"../../../hooks/useAppActionButtons\",{useMessageActionAppsActionButtons:function(e){w=e}},9),n.link(\"../../../hooks/useEmbeddedLayout\",{useEmbeddedLayout:function(e){_=e}},10),n.link(\"../../../views/composer/EmojiPicker/EmojiElement\",{default:function(e){R=e}},11),n.link(\"../../../views/room/MessageList/contexts/SelectedMessagesContext\",{useIsSelecting:function(e){q=e}},12),n.link(\"../../../views/room/MessageList/hooks/useAutoTranslate\",{useAutoTranslate:function(e){P=e}},13),n.link(\"../../../views/room/contexts/ChatContext\",{useChat:function(e){S=e}},14),n.link(\"../../../views/room/contexts/RoomToolboxContext\",{useRoomToolbox:function(e){V=e}},15),n.link(\"./MessageActionMenu\",{default:function(e){L=e}},16),n.link(\"./MessageToolbarStarsActionMenu\",{default:function(e){D=e}},17),n.link(\"./useWebDAVMessageAction\",{useWebDAVMessageAction:function(e){O=e}},18),n.exportDefault(A(function(e){var t,n,A,W,F,I,H=e.message,Q=e.messageContext,U=e.room,z=e.subscription,G=e.onChangeMenuVisibility,J=u(e,B),K=h(),N=null!==(t=p())&&void 0!==t?t:void 0,X=k(),Y=_(),Z=C(null),$=c(J,Z).toolbarProps,ee=b(\"quickReactions\"),et=v(\"setReaction\"),en=Q||(m(H)?\"videoconf\":l(U)?\"federated\":r(H)?\"threads\":\"message\"),eo=E(function(){return Object.fromEntries(X.map(function(e){return[e._id,e.value]}))},[X]),ei=S(),es=j(),ea=es.quickReactions,eu=es.addRecentEmoji,ec=w(en),er=w(en,\"ai\"),el=M().messageToolbox;O();var em=x([\"rooms\",U._id,\"messages\",H._id,\"actions\"],function(){var e,t,n;return o.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e={message:H,room:U,user:N,subscription:z,settings:eo,chat:ei},i.next=3,o.awrap(T.getAll(e,en,\"message\"));case 3:return t=i.sent,i.next=6,o.awrap(T.getAll(e,en,\"menu\"));case 6:return n=i.sent,i.abrupt(\"return\",{message:t.filter(function(e){return!el.includes(e.id)}),menu:n.filter(function(e){return!(Y&&\"reply-directly\"===e.id)&&!el.includes(e.id)})});case 8:case\"end\":return i.stop()}},null,null,null,Promise)}),ed=V(),ef=q(),eg=P(z);if(ef||!(null!==(n=em.data)&&void 0!==n&&n.message.length)&&!(null!==(A=em.data)&&void 0!==A&&A.menu.length))return null;var eb=null===(W=em.data)||void 0===W?void 0:W.message.find(function(e){return\"reaction-message\"===e.id}),ep=function(e){et(\":\"+e+\":\",H._id),eu(e)};return y.createElement(f,i({ref:Z},$,{\"aria-label\":K(\"Message_actions\")},J),ee&&eb&&ea.slice(0,3).map(function(e){var t=e.emoji,n=e.image;return y.createElement(R,{small:!0,key:t,title:t,emoji:t,image:n,onClick:function(){return ep(t)}})}),em.isSuccess&&em.data.message.map(function(e){var t,n;return y.createElement(g,{onClick:function(t){return e.action(t,{message:H,tabbar:ed,room:U,chat:ei,autoTranslateOptions:eg})},key:e.id,icon:e.icon,title:null!=e&&null!==(t=e.disabled)&&void 0!==t&&t.call(e,{message:H,room:U,user:N,subscription:z,settings:eo,chat:ei,context:en})?K(\"Action_not_available_encrypted_content\",{action:K(e.label)}):K(e.label),\"data-qa-id\":e.label,\"data-qa-type\":\"message-action-menu\",disabled:null==e?void 0:null===(n=e.disabled)||void 0===n?void 0:n.call(e,{message:H,room:U,user:N,subscription:z,settings:eo,chat:ei,context:en})})}),er.data&&er.data.length>0&&y.createElement(D,{options:er.data.map(function(e){return a(a({},e),{},{action:function(t){return e.action(t,{message:H,tabbar:ed,room:U,chat:ei,autoTranslateOptions:eg})}})}),onChangeMenuVisibility:G,\"data-qa-type\":\"message-action-stars-menu-options\",context:{message:H,room:U,user:N,subscription:z,settings:eo,chat:ei,context:en},isMessageEncrypted:d(H)}),em.isSuccess&&em.data.menu.length>0&&y.createElement(L,{options:[].concat(s(null===(F=em.data)||void 0===F?void 0:F.menu),s(null!==(I=ec.data)&&void 0!==I?I:[])).filter(Boolean).map(function(e){return a(a({},e),{},{action:function(t){return e.action(t,{message:H,tabbar:ed,room:U,chat:ei,autoTranslateOptions:eg})}})}),onChangeMenuVisibility:G,\"data-qa-type\":\"message-action-menu-options\",context:{message:H,room:U,user:N,subscription:z,settings:eo,chat:ei,context:en},isMessageEncrypted:d(H)}))}))}","map":"{\"version\":3,\"sources\":[\"client/components/message/toolbar/MessageToolbar.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useToolbar } from '@react-aria/toolbar';\\nimport type { IMessage, IRoom, ISubscription, ITranslatedMessage } from '@rocket.chat/core-typings';\\nimport { isThreadMessage, isRoomFederated, isVideoConfMessage, isE2EEMessage } from '@rocket.chat/core-typings';\\nimport { MessageToolbar as FuselageMessageToolbar, MessageToolbarItem } from '@rocket.chat/fuselage';\\nimport { useFeaturePreview } from '@rocket.chat/ui-client';\\nimport { useUser, useSettings, useTranslation, useMethod, useLayoutHiddenActions } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ComponentProps, ReactElement } from 'react';\\nimport React, { memo, useMemo, useRef } from 'react';\\n\\nimport type { MessageActionContext } from '../../../../app/ui-utils/client/lib/MessageAction';\\nimport { MessageAction } from '../../../../app/ui-utils/client/lib/MessageAction';\\nimport { useEmojiPickerData } from '../../../contexts/EmojiPickerContext';\\nimport { useMessageActionAppsActionButtons } from '../../../hooks/useAppActionButtons';\\nimport { useEmbeddedLayout } from '../../../hooks/useEmbeddedLayout';\\nimport EmojiElement from '../../../views/composer/EmojiPicker/EmojiElement';\\nimport { useIsSelecting } from '../../../views/room/MessageList/contexts/SelectedMessagesContext';\\nimport { useAutoTranslate } from '../../../views/room/MessageList/hooks/useAutoTranslate';\\nimport { useChat } from '../../../views/room/contexts/ChatContext';\\nimport { useRoomToolbox } from '../../../views/room/contexts/RoomToolboxContext';\\nimport MessageActionMenu from './MessageActionMenu';\\nimport MessageToolbarStarsActionMenu from './MessageToolbarStarsActionMenu';\\nimport { useWebDAVMessageAction } from './useWebDAVMessageAction';\\n\\nconst getMessageContext = (message: IMessage, room: IRoom, context?: MessageActionContext): MessageActionContext => {\\n\\tif (context) {\\n\\t\\treturn context;\\n\\t}\\n\\n\\tif (isVideoConfMessage(message)) {\\n\\t\\treturn 'videoconf';\\n\\t}\\n\\n\\tif (isRoomFederated(room)) {\\n\\t\\treturn 'federated';\\n\\t}\\n\\n\\tif (isThreadMessage(message)) {\\n\\t\\treturn 'threads';\\n\\t}\\n\\n\\treturn 'message';\\n};\\n\\ntype MessageToolbarProps = {\\n\\tmessage: IMessage & Partial<ITranslatedMessage>;\\n\\tmessageContext?: MessageActionContext;\\n\\troom: IRoom;\\n\\tsubscription?: ISubscription;\\n\\tonChangeMenuVisibility: (visible: boolean) => void;\\n} & ComponentProps<typeof FuselageMessageToolbar>;\\n\\nconst MessageToolbar = ({\\n\\tmessage,\\n\\tmessageContext,\\n\\troom,\\n\\tsubscription,\\n\\tonChangeMenuVisibility,\\n\\t...props\\n}: MessageToolbarProps): ReactElement | null => {\\n\\tconst t = useTranslation();\\n\\tconst user = useUser() ?? undefined;\\n\\tconst settings = useSettings();\\n\\tconst isLayoutEmbedded = useEmbeddedLayout();\\n\\n\\tconst toolbarRef = useRef(null);\\n\\tconst { toolbarProps } = useToolbar(props, toolbarRef);\\n\\n\\tconst quickReactionsEnabled = useFeaturePreview('quickReactions');\\n\\n\\tconst setReaction = useMethod('setReaction');\\n\\n\\tconst context = getMessageContext(message, room, messageContext);\\n\\n\\tconst mapSettings = useMemo(() => Object.fromEntries(settings.map((setting) => [setting._id, setting.value])), [settings]);\\n\\n\\tconst chat = useChat();\\n\\tconst { quickReactions, addRecentEmoji } = useEmojiPickerData();\\n\\n\\tconst actionButtonApps = useMessageActionAppsActionButtons(context);\\n\\n\\tconst starsAction = useMessageActionAppsActionButtons(context, 'ai');\\n\\n\\tconst { messageToolbox: hiddenActions } = useLayoutHiddenActions();\\n\\n\\t// TODO: move this to another place\\n\\tuseWebDAVMessageAction();\\n\\n\\tconst actionsQueryResult = useQuery(['rooms', room._id, 'messages', message._id, 'actions'] as const, async () => {\\n\\t\\tconst props = { message, room, user, subscription, settings: mapSettings, chat };\\n\\n\\t\\tconst toolboxItems = await MessageAction.getAll(props, context, 'message');\\n\\t\\tconst menuItems = await MessageAction.getAll(props, context, 'menu');\\n\\n\\t\\treturn {\\n\\t\\t\\tmessage: toolboxItems.filter((action) => !hiddenActions.includes(action.id)),\\n\\t\\t\\tmenu: menuItems.filter((action) => !(isLayoutEmbedded && action.id === 'reply-directly') && !hiddenActions.includes(action.id)),\\n\\t\\t};\\n\\t});\\n\\n\\tconst toolbox = useRoomToolbox();\\n\\n\\tconst selecting = useIsSelecting();\\n\\n\\tconst autoTranslateOptions = useAutoTranslate(subscription);\\n\\n\\tif (selecting || (!actionsQueryResult.data?.message.length && !actionsQueryResult.data?.menu.length)) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\tconst isReactionAllowed = actionsQueryResult.data?.message.find(({ id }) => id === 'reaction-message');\\n\\n\\tconst handleSetReaction = (emoji: string) => {\\n\\t\\tsetReaction(`:${emoji}:`, message._id);\\n\\t\\taddRecentEmoji(emoji);\\n\\t};\\n\\n\\treturn (\\n\\t\\t<FuselageMessageToolbar ref={toolbarRef} {...toolbarProps} aria-label={t('Message_actions')} {...props}>\\n\\t\\t\\t{quickReactionsEnabled &&\\n\\t\\t\\t\\tisReactionAllowed &&\\n\\t\\t\\t\\tquickReactions.slice(0, 3).map(({ emoji, image }) => {\\n\\t\\t\\t\\t\\treturn <EmojiElement small key={emoji} title={emoji} emoji={emoji} image={image} onClick={() => handleSetReaction(emoji)} />;\\n\\t\\t\\t\\t})}\\n\\t\\t\\t{actionsQueryResult.isSuccess &&\\n\\t\\t\\t\\tactionsQueryResult.data.message.map((action) => (\\n\\t\\t\\t\\t\\t<MessageToolbarItem\\n\\t\\t\\t\\t\\t\\tonClick={(e): void => action.action(e, { message, tabbar: toolbox, room, chat, autoTranslateOptions })}\\n\\t\\t\\t\\t\\t\\tkey={action.id}\\n\\t\\t\\t\\t\\t\\ticon={action.icon}\\n\\t\\t\\t\\t\\t\\ttitle={\\n\\t\\t\\t\\t\\t\\t\\taction?.disabled?.({ message, room, user, subscription, settings: mapSettings, chat, context })\\n\\t\\t\\t\\t\\t\\t\\t\\t? t('Action_not_available_encrypted_content', { action: t(action.label) })\\n\\t\\t\\t\\t\\t\\t\\t\\t: t(action.label)\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tdata-qa-id={action.label}\\n\\t\\t\\t\\t\\t\\tdata-qa-type='message-action-menu'\\n\\t\\t\\t\\t\\t\\tdisabled={action?.disabled?.({ message, room, user, subscription, settings: mapSettings, chat, context })}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t))}\\n\\t\\t\\t{starsAction.data && starsAction.data.length > 0 && (\\n\\t\\t\\t\\t<MessageToolbarStarsActionMenu\\n\\t\\t\\t\\t\\toptions={starsAction.data.map((action) => ({\\n\\t\\t\\t\\t\\t\\t...action,\\n\\t\\t\\t\\t\\t\\taction: (e) => action.action(e, { message, tabbar: toolbox, room, chat, autoTranslateOptions }),\\n\\t\\t\\t\\t\\t}))}\\n\\t\\t\\t\\t\\tonChangeMenuVisibility={onChangeMenuVisibility}\\n\\t\\t\\t\\t\\tdata-qa-type='message-action-stars-menu-options'\\n\\t\\t\\t\\t\\tcontext={{ message, room, user, subscription, settings: mapSettings, chat, context }}\\n\\t\\t\\t\\t\\tisMessageEncrypted={isE2EEMessage(message)}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\n\\t\\t\\t{actionsQueryResult.isSuccess && actionsQueryResult.data.menu.length > 0 && (\\n\\t\\t\\t\\t<MessageActionMenu\\n\\t\\t\\t\\t\\toptions={[...actionsQueryResult.data?.menu, ...(actionButtonApps.data ?? [])].filter(Boolean).map((action) => ({\\n\\t\\t\\t\\t\\t\\t...action,\\n\\t\\t\\t\\t\\t\\taction: (e) => action.action(e, { message, tabbar: toolbox, room, chat, autoTranslateOptions }),\\n\\t\\t\\t\\t\\t}))}\\n\\t\\t\\t\\t\\tonChangeMenuVisibility={onChangeMenuVisibility}\\n\\t\\t\\t\\t\\tdata-qa-type='message-action-menu-options'\\n\\t\\t\\t\\t\\tcontext={{ message, room, user, subscription, settings: mapSettings, chat, context }}\\n\\t\\t\\t\\t\\tisMessageEncrypted={isE2EEMessage(message)}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\t\\t</FuselageMessageToolbar>\\n\\t);\\n};\\n\\nexport default memo(MessageToolbar);\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_extends\",\"_toConsumableArray\",\"_objectSpread\",\"_objectWithoutProperties\",\"useToolbar\",\"isThreadMessage\",\"isRoomFederated\",\"isVideoConfMessage\",\"isE2EEMessage\",\"FuselageMessageToolbar\",\"MessageToolbarItem\",\"useFeaturePreview\",\"useUser\",\"useSettings\",\"useTranslation\",\"useMethod\",\"useLayoutHiddenActions\",\"useQuery\",\"React\",\"memo\",\"useMemo\",\"useRef\",\"MessageAction\",\"useEmojiPickerData\",\"useMessageActionAppsActionButtons\",\"useEmbeddedLayout\",\"EmojiElement\",\"useIsSelecting\",\"useAutoTranslate\",\"useChat\",\"useRoomToolbox\",\"MessageActionMenu\",\"MessageToolbarStarsActionMenu\",\"useWebDAVMessageAction\",\"module\",\"link\",\"default\",\"v\",\"MessageToolbar\",\"exportDefault\",\"_ref\",\"_useUser\",\"_actionsQueryResult$d\",\"_actionsQueryResult$d2\",\"_actionsQueryResult$d3\",\"_actionsQueryResult$d4\",\"_actionButtonApps$dat\",\"message\",\"messageContext\",\"room\",\"subscription\",\"onChangeMenuVisibility\",\"props\",\"_excluded\",\"t\",\"user\",\"undefined\",\"settings\",\"isLayoutEmbedded\",\"toolbarRef\",\"toolbarProps\",\"_useToolbar\",\"quickReactionsEnabled\",\"setReaction\",\"context\",\"mapSettings\",\"Object\",\"fromEntries\",\"map\",\"setting\",\"_id\",\"value\",\"chat\",\"_useEmojiPickerData\",\"quickReactions\",\"addRecentEmoji\",\"actionButtonApps\",\"starsAction\",\"hiddenActions\",\"_useLayoutHiddenActio\",\"messageToolbox\",\"actionsQueryResult\",\"toolboxItems\",\"menuItems\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"getAll\",\"sent\",\"abrupt\",\"filter\",\"action\",\"includes\",\"id\",\"menu\",\"stop\",\"Promise\",\"toolbox\",\"selecting\",\"autoTranslateOptions\",\"data\",\"length\",\"isReactionAllowed\",\"find\",\"_ref2\",\"handleSetReaction\",\"emoji\",\"createElement\",\"ref\",\"slice\",\"_ref3\",\"image\",\"small\",\"key\",\"title\",\"onClick\",\"isSuccess\",\"_action$disabled\",\"_action$disabled2\",\"e\",\"tabbar\",\"icon\",\"disabled\",\"call\",\"label\",\"options\",\"isMessageEncrypted\",\"concat\",\"Boolean\"],\"mappings\":\"2BAAAA,EAAiDC,EAAAC,EAAAC,EAAAC,EAAjDC,EAAiDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,gFAA5BC,EAAMC,IAAA,CAAA,6BAAsB,CAAAC,QAAA,SAAAC,CAAA,EAAAtC,EAAAsC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAArC,EAAAqC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2CAAA,CAAAC,QAAA,SAAAC,CAAA,EAAApC,EAAAoC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAnC,EAAAmC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iDAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAlC,EAAAkC,CAAA,CAAA,EAAA,GAAxCH,EAAYC,IAAA,CAAM,sBAAsB,CAAA/B,WAAA,SAAAiC,CAAA,EAAAjC,EAAAiC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAA9B,gBAAA,SAAAgC,CAAA,EAAAhC,EAAAgC,CAAA,EAAA/B,gBAAA,SAAA+B,CAAA,EAAA/B,EAAA+B,CAAA,EAAA9B,mBAAA,SAAA8B,CAAA,EAAA9B,EAAA8B,CAAA,EAAA7B,cAAA,SAAA6B,CAAA,EAAA7B,EAAA6B,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAG,eAAA,SAAAD,CAAA,EAAA5B,EAAA4B,CAAA,EAAA3B,mBAAA,SAAA2B,CAAA,EAAA3B,EAAA2B,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,yBAAA,CAAAxB,kBAAA,SAAA0B,CAAA,EAAA1B,EAAA0B,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAvB,QAAA,SAAAyB,CAAA,EAAAzB,EAAAyB,CAAA,EAAAxB,YAAA,SAAAwB,CAAA,EAAAxB,EAAAwB,CAAA,EAAAvB,eAAA,SAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,EAAAtB,UAAA,SAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,EAAArB,uBAAA,SAAAqB,CAAA,EAAArB,EAAAqB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAlB,SAAA,SAAAoB,CAAA,EAAApB,EAAAoB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAnB,EAAAmB,CAAA,EAAAlB,KAAA,SAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,EAAAjB,QAAA,SAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,EAAAhB,OAAA,SAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oDAAA,CAAAb,cAAA,SAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAZ,mBAAA,SAAAc,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,qCAAA,CAAAX,kCAAA,SAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,mCAAA,CAAAV,kBAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,mDAAA,CAAA,QAAA,SAAAE,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,mEAAA,CAAAR,eAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,yDAAA,CAAAP,iBAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,2CAAA,CAAAN,QAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,kDAAA,CAAAL,eAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,sBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAF,uBAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,IAAjDH,EAAOK,aAAY,CAyKJpB,EArHQ,SAAAqB,CAAA,EAOwB,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAN9CC,EAAOP,EAAPO,OAAO,CACPC,EAAcR,EAAdQ,cAAc,CACdC,EAAIT,EAAJS,IAAI,CACJC,EAAYV,EAAZU,YAAY,CACZC,EAAsBX,EAAtBW,sBAAsB,CACnBC,EAAKjD,EAAAqC,EAAAa,GAEFC,EAAIxC,IACJyC,EAAI,AAAY,OAAZd,CAAAA,EAAG7B,GAAO,GAAE6B,AAAA,KAAA,IAAAA,EAAAA,EAAIe,KAAAA,EACpBC,EAAW5C,IACX6C,EAAmBjC,IAEnBkC,EAAatC,EAAO,MAClBuC,EAAYC,AAAKzD,EAAWgD,EAAOO,GAAnCC,YAAY,CAEdE,GAAwBnD,EAAkB,kBAE1CoD,GAAchD,EAAU,eAExBiD,GA/CN,AA+CiDhB,IA3C7CzC,EA2C8BwC,GA1C1B,YAGJzC,EAuCuC2C,GAtCnC,YAGJ5C,EAmC8B0C,GAlC1B,UAGD,WAiCDkB,GAAc7C,EAAQ,WAAA,OAAM8C,OAAOC,WAAW,CAACV,EAASW,GAAG,CAAC,SAACC,CAAO,EAAA,MAAK,CAACA,EAAQC,GAAG,CAAED,EAAQE,KAAK,CAAC,GAAE,EAAE,CAACd,EAAS,EAEnHe,GAAO3C,IACb4C,GAA2ClD,IAAnCmD,GAAcD,GAAdC,cAAc,CAAEC,GAAcF,GAAdE,cAAc,CAEhCC,GAAmBpD,EAAkCwC,IAErDa,GAAcrD,EAAkCwC,GAAS,MAEvCc,GAAaC,AAAK/D,IAAlCgE,cAAc,CAGtB/C,IAEA,IAAMgD,GAAqBhE,EAAS,CAAC,QAASgC,EAAKqB,GAAG,CAAE,WAAYvB,EAAQuB,GAAG,CAAE,UAAmB,CAAE,WAAA,IAAAlB,EAAA8B,EAAAC,EAAA,OAAApF,EAAAqF,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EACrB,OAA1EnC,EAAQ,CAAEL,QAAAA,EAASE,KAAAA,EAAMM,KAAAA,EAAML,aAAAA,EAAcO,SAAUQ,GAAaO,KAAAA,EAAI,EAAEa,EAAAE,IAAA,CAAA,EAAAxF,EAAAyF,KAAA,CAErDlE,EAAcmE,MAAM,CAACrC,EAAOY,GAAS,WAAU,MAAA,EAAxD,OAAZkB,EAAYG,EAAAK,IAAA,CAAAL,EAAAE,IAAA,CAAA,EAAAxF,EAAAyF,KAAA,CACMlE,EAAcmE,MAAM,CAACrC,EAAOY,GAAS,QAAO,MAAA,EAArD,OAATmB,EAASE,EAAAK,IAAA,CAAAL,EAAAM,MAAA,CAAA,SAER,CACN5C,QAASmC,EAAaU,MAAM,CAAC,SAACC,CAAM,EAAA,MAAK,CAACf,GAAcgB,QAAQ,CAACD,EAAOE,EAAE,CAAC,GAC3EC,KAAMb,EAAUS,MAAM,CAAC,SAACC,CAAM,EAAA,MAAK,CAAEnC,CAAAA,GAAoBmC,AAAc,mBAAdA,EAAOE,EAAE,AAAK,GAAqB,CAACjB,GAAcgB,QAAQ,CAACD,EAAOE,EAAE,CAAC,IAC9H,MAAA,EAAA,IAAA,MAAA,OAAAV,EAAAY,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,GAGIC,GAAUrE,IAEVsE,GAAYzE,IAEZ0E,GAAuBzE,EAAiBsB,GAE9C,GAAIkD,IAAc,CAAA,CAAA,AAAwB,OAAxB1D,CAAAA,EAACuC,GAAmBqB,IAAI,AAAJA,GAAI5D,AAAA,KAAA,IAAAA,GAAvBA,EAAyBK,OAAO,CAACwD,MAAM,AAANA,GAAU,CAAA,CAAA,AAAwB,OAAxB5D,CAAAA,EAACsC,GAAmBqB,IAAI,AAAJA,GAAI3D,AAAA,KAAA,IAAAA,GAAvBA,EAAyBqD,IAAI,CAACO,MAAM,AAANA,EAC5F,OAAO,KAGR,IAAMC,GAAiB,AAA0B,OAA1B5D,CAAAA,EAAGqC,GAAmBqB,IAAI,AAAJA,GAAI1D,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAvBA,EAAyBG,OAAO,CAAC0D,IAAI,CAAC,SAAAC,CAAA,EAAK,MAAOX,AAAO,qBAAdW,EAAFX,EAAE,AAAgC,GAE/FY,GAAoB,SAACC,CAAa,EACvC7C,GAAW,IAAK6C,EAAK,IAAK7D,EAAQuB,GAAG,EACrCK,GAAeiC,EAChB,EAEA,OACC1F,EAAA2F,aAAA,CAACpG,EAAsBT,EAAA,CAAC8G,IAAKnD,CAAW,EAAKC,EAAY,CAAE,aAAYN,EAAE,kBAAmB,EAAKF,GAC/FU,IACA0C,IACA9B,GAAeqC,KAAK,CAAC,EAAG,GAAG3C,GAAG,CAAC,SAAA4C,CAAA,EAAqB,IAAlBJ,EAAKI,EAALJ,KAAK,CAAEK,EAAKD,EAALC,KAAK,CAC7C,OAAO/F,EAAA2F,aAAA,CAACnF,EAAY,CAACwF,MAAK,CAAA,EAACC,IAAKP,EAAOQ,MAAOR,EAAOA,MAAOA,EAAOK,MAAOA,EAAOI,QAAS,WAAA,OAAMV,GAAkBC,EAAM,CAAC,EAC1H,GACA3B,GAAmBqC,SAAS,EAC5BrC,GAAmBqB,IAAI,CAACvD,OAAO,CAACqB,GAAG,CAAC,SAACyB,CAAM,EAAA,IAAA0B,EAAAC,EAAA,OAC1CtG,EAAA2F,aAAA,CAACnG,EAAkB,CAClB2G,QAAS,SAACI,CAAC,EAAA,OAAW5B,EAAOA,MAAM,CAAC4B,EAAG,CAAE1E,QAAAA,EAAS2E,OAAQvB,GAASlD,KAAAA,EAAMuB,KAAAA,GAAM6B,qBAAAA,EAAoB,EAAG,EACtGc,IAAKtB,EAAOE,EAAG,CACf4B,KAAM9B,EAAO8B,IAAK,CAClBP,MACCvB,MAAAA,GAAM,AAAU,OAAV0B,CAAAA,EAAN1B,EAAQ+B,QAAQ,AAARA,GAAQL,AAAA,KAAA,IAAAA,GAAhBA,EAAAM,IAAA,CAAAhC,EAAmB,CAAE9C,QAAAA,EAASE,KAAAA,EAAMM,KAAAA,EAAML,aAAAA,EAAcO,SAAUQ,GAAaO,KAAAA,GAAMR,QAAAA,EAAO,GACzFV,EAAE,yCAA0C,CAAEuC,OAAQvC,EAAEuC,EAAOiC,KAAK,CAAC,GACrExE,EAAEuC,EAAOiC,KAAK,EAElB,aAAYjC,EAAOiC,KAAM,CACzB,eAAa,sBACbF,SAAU/B,MAAAA,EAAM,KAAA,EAAA,AAAU,OAAV2B,CAAAA,EAAN3B,EAAQ+B,QAAQ,AAARA,GAAQJ,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAhBA,EAAAK,IAAA,CAAAhC,EAAmB,CAAE9C,QAAAA,EAASE,KAAAA,EAAMM,KAAAA,EAAML,aAAAA,EAAcO,SAAUQ,GAAaO,KAAAA,GAAMR,QAAAA,EAAO,EAAI,EACzG,GAEHa,GAAYyB,IAAI,EAAIzB,GAAYyB,IAAI,CAACC,MAAM,CAAG,GAC9CrF,EAAA2F,aAAA,CAAC7E,EAA6B,CAC7B+F,QAASlD,GAAYyB,IAAI,CAAClC,GAAG,CAAC,SAACyB,CAAM,EAAA,OAAA3F,EAAAA,EAAA,CAAA,EACjC2F,GAAM,CAAA,EAAA,CACTA,OAAQ,SAAC4B,CAAC,EAAA,OAAK5B,EAAOA,MAAM,CAAC4B,EAAG,CAAE1E,QAAAA,EAAS2E,OAAQvB,GAASlD,KAAAA,EAAMuB,KAAAA,GAAM6B,qBAAAA,EAAoB,EAAG,CAAA,EAAA,GAEhGlD,uBAAwBA,EACxB,eAAa,oCACba,QAAS,CAAEjB,QAAAA,EAASE,KAAAA,EAAMM,KAAAA,EAAML,aAAAA,EAAcO,SAAUQ,GAAaO,KAAAA,GAAMR,QAAAA,EAAO,EAClFgE,mBAAoBxH,EAAcuC,EAAS,GAI5CkC,GAAmBqC,SAAS,EAAIrC,GAAmBqB,IAAI,CAACN,IAAI,CAACO,MAAM,CAAG,GACtErF,EAAA2F,aAAA,CAAC9E,EAAiB,CACjBgG,QAAS,EAAA,CAAAE,MAAA,CAAAhI,EAAA,AAA2B,OAA3B4C,CAAAA,EAAIoC,GAAmBqB,IAAI,AAAJA,GAAIzD,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAvBA,EAAyBmD,IAAI,EAAA/F,EAAA,AAA2B,OAA3B6C,CAAAA,EAAM8B,GAAiB0B,IAAI,AAAJA,GAAIxD,AAAA,KAAA,IAAAA,EAAAA,EAAI,EAAE,GAAG8C,MAAM,CAACsC,SAAS9D,GAAG,CAAC,SAACyB,CAAM,EAAA,OAAA3F,EAAAA,EAAA,CAAA,EACrG2F,GAAM,CAAA,EAAA,CACTA,OAAQ,SAAC4B,CAAC,EAAA,OAAK5B,EAAOA,MAAM,CAAC4B,EAAG,CAAE1E,QAAAA,EAAS2E,OAAQvB,GAASlD,KAAAA,EAAMuB,KAAAA,GAAM6B,qBAAAA,EAAoB,EAAG,CAAA,EAAA,GAEhGlD,uBAAwBA,EACxB,eAAa,8BACba,QAAS,CAAEjB,QAAAA,EAASE,KAAAA,EAAMM,KAAAA,EAAML,aAAAA,EAAcO,SAAUQ,GAAaO,KAAAA,GAAMR,QAAAA,EAAO,EAClFgE,mBAAoBxH,EAAcuC,EAAS,GAKhD\"}"}