{"code":"function module(e,t,i){let n,a,l,o,r,c,s,u,k,d,m,h,p,v,b;i.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){n=e}},0),i.link(\"@rocket.chat/fuselage\",{Banner(e){a=e},Icon(e){l=e}},0),i.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){o=e}},1),i.link(\"@rocket.chat/fuselage-ui-kit\",{UiKitContext(e){r=e},bannerParser(e){c=e},UiKitBanner(e){s=e},UiKitComponent(e){u=e}},2),i.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){k=e}},3),i.link(\"react\",{default(e){d=e},useMemo(e){m=e}},4),i.link(\"../../components/MarkdownText\",{default(e){h=e}},5),i.link(\"../../uikit/hooks/useBannerContextValue\",{useBannerContextValue(e){p=e}},6),i.link(\"../../uikit/hooks/useUiKitActionManager\",{useUiKitActionManager(e){v=e}},7),i.link(\"../../uikit/hooks/useUiKitView\",{useUiKitView(e){b=e}},8),c.mrkdwn=e=>{let{text:t}=e;return d.createElement(h,{variant:\"inline\",content:t})},i.exportDefault(e=>{let{initialView:t}=e,{view:i,values:c,state:h}=b(t),w=v(),f=p({view:i,values:c}),C=m(()=>i.icon?d.createElement(l,{name:i.icon,size:\"x20\"}):null,[i.icon]),g=k(),x=o(()=>{w.emitInteraction(i.appId,{type:\"viewClosed\",payload:{viewId:i.viewId,view:n(n({},i),{},{id:i.viewId,state:h}),isCleared:!0}}).catch(e=>{g({type:\"error\",message:e})})});return d.createElement(a,{icon:C,inline:i.inline,title:i.title,variant:i.variant,closeable:!0,onClose:x},d.createElement(r.Provider,{value:f},d.createElement(u,{render:s,blocks:i.blocks})))})}","map":"{\"version\":3,\"sources\":[\"client/views/banners/UiKitBanner.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Banner, Icon } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { UiKitContext, bannerParser, UiKitBanner as UiKitBannerSurfaceRender, UiKitComponent } from '@rocket.chat/fuselage-ui-kit';\\nimport { useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport type * as UiKit from '@rocket.chat/ui-kit';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\n\\nimport MarkdownText from '../../components/MarkdownText';\\nimport { useBannerContextValue } from '../../uikit/hooks/useBannerContextValue';\\nimport { useUiKitActionManager } from '../../uikit/hooks/useUiKitActionManager';\\nimport { useUiKitView } from '../../uikit/hooks/useUiKitView';\\n\\n// TODO: move this to fuselage-ui-kit itself\\nbannerParser.mrkdwn = ({ text }): ReactElement => <MarkdownText variant='inline' content={text} />;\\n\\ntype UiKitBannerProps = {\\n\\tkey: UiKit.BannerView['viewId']; // force re-mount when viewId changes\\n\\tinitialView: UiKit.BannerView;\\n};\\n\\nconst UiKitBanner = ({ initialView }: UiKitBannerProps) => {\\n\\tconst { view, values, state } = useUiKitView(initialView);\\n\\tconst actionManager = useUiKitActionManager();\\n\\tconst contextValue = useBannerContextValue({ view, values });\\n\\n\\tconst icon = useMemo(() => {\\n\\t\\tif (view.icon) {\\n\\t\\t\\treturn <Icon name={view.icon} size='x20' />;\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}, [view.icon]);\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst handleClose = useMutableCallback(() => {\\n\\t\\tvoid actionManager\\n\\t\\t\\t.emitInteraction(view.appId, {\\n\\t\\t\\t\\ttype: 'viewClosed',\\n\\t\\t\\t\\tpayload: {\\n\\t\\t\\t\\t\\tviewId: view.viewId,\\n\\t\\t\\t\\t\\tview: {\\n\\t\\t\\t\\t\\t\\t...view,\\n\\t\\t\\t\\t\\t\\tid: view.viewId,\\n\\t\\t\\t\\t\\t\\tstate,\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\tisCleared: true,\\n\\t\\t\\t\\t},\\n\\t\\t\\t})\\n\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t});\\n\\t});\\n\\n\\treturn (\\n\\t\\t<Banner icon={icon} inline={view.inline} title={view.title} variant={view.variant} closeable onClose={handleClose}>\\n\\t\\t\\t<UiKitContext.Provider value={contextValue}>\\n\\t\\t\\t\\t<UiKitComponent render={UiKitBannerSurfaceRender} blocks={view.blocks} />\\n\\t\\t\\t</UiKitContext.Provider>\\n\\t\\t</Banner>\\n\\t);\\n};\\n\\nexport default UiKitBanner;\\n\",null],\"names\":[\"_objectSpread\",\"Banner\",\"Icon\",\"useMutableCallback\",\"UiKitContext\",\"bannerParser\",\"UiKitBannerSurfaceRender\",\"UiKitComponent\",\"useToastMessageDispatch\",\"React\",\"useMemo\",\"MarkdownText\",\"useBannerContextValue\",\"useUiKitActionManager\",\"useUiKitView\",\"module\",\"link\",\"default\",\"v\",\"UiKitBanner\",\"mrkdwn\",\"_ref\",\"text\",\"createElement\",\"variant\",\"content\",\"exportDefault\",\"_ref2\",\"initialView\",\"view\",\"values\",\"state\",\"actionManager\",\"contextValue\",\"icon\",\"name\",\"size\",\"dispatchToastMessage\",\"handleClose\",\"emitInteraction\",\"appId\",\"type\",\"payload\",\"viewId\",\"id\",\"isCleared\",\"catch\",\"error\",\"message\",\"inline\",\"title\",\"closeable\",\"onClose\",\"Provider\",\"value\",\"render\",\"blocks\"],\"mappings\":\"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\"}"}