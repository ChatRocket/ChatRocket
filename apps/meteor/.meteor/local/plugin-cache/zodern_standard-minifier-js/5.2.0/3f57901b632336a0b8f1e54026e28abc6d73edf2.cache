{"code":"function module(e,t,s){let n,o,a,i,u,l,m;s.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){n=e},useTranslation(e){o=e}},0),s.link(\"@tanstack/react-query\",{useQuery(e){a=e}},1),s.link(\"react\",{default(e){i=e}},2),s.link(\"../../../lib/utils/mapMessageFromApi\",{mapMessageFromApi(e){u=e}},3),s.link(\"../contexts/RoomContext\",{useRoom(e){l=e}},4),s.link(\"./MessageListTab\",{default(e){m=e}},5),s.exportDefault(()=>{let e=n(\"GET\",\"/v1/chat.getMentionedMessages\"),t=l(),s=a([\"rooms\",t._id,\"mentioned-messages\"],async()=>{let s=[];for(let n=0,o=await e({roomId:t._id,offset:0});o.count>0;n+=o.count,o=await e({roomId:t._id,offset:n}))s.push(...o.messages.map(u));return s}),r=o();return i.createElement(m,{iconName:\"at\",title:r(\"Mentions\"),emptyResultMessage:r(\"No_mentions_found\"),context:\"mentions\",queryResult:s})})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/MentionsTab.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\n\\nimport { mapMessageFromApi } from '../../../lib/utils/mapMessageFromApi';\\nimport { useRoom } from '../contexts/RoomContext';\\nimport MessageListTab from './MessageListTab';\\n\\nconst MentionsTab = (): ReactElement => {\\n\\tconst getMentionedMessages = useEndpoint('GET', '/v1/chat.getMentionedMessages');\\n\\n\\tconst room = useRoom();\\n\\n\\tconst mentionedMessagesQueryResult = useQuery(['rooms', room._id, 'mentioned-messages'] as const, async () => {\\n\\t\\tconst messages: IMessage[] = [];\\n\\n\\t\\tfor (\\n\\t\\t\\tlet offset = 0, result = await getMentionedMessages({ roomId: room._id, offset: 0 });\\n\\t\\t\\tresult.count > 0;\\n\\t\\t\\t// eslint-disable-next-line no-await-in-loop\\n\\t\\t\\toffset += result.count, result = await getMentionedMessages({ roomId: room._id, offset })\\n\\t\\t) {\\n\\t\\t\\tmessages.push(...result.messages.map(mapMessageFromApi));\\n\\t\\t}\\n\\n\\t\\treturn messages;\\n\\t});\\n\\n\\tconst t = useTranslation();\\n\\n\\treturn (\\n\\t\\t<MessageListTab\\n\\t\\t\\ticonName='at'\\n\\t\\t\\ttitle={t('Mentions')}\\n\\t\\t\\temptyResultMessage={t('No_mentions_found')}\\n\\t\\t\\tcontext='mentions'\\n\\t\\t\\tqueryResult={mentionedMessagesQueryResult}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default MentionsTab;\\n\",null],\"names\":[\"useEndpoint\",\"useTranslation\",\"useQuery\",\"React\",\"mapMessageFromApi\",\"useRoom\",\"MessageListTab\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"MentionsTab\",\"getMentionedMessages\",\"room\",\"mentionedMessagesQueryResult\",\"_id\",\"messages\",\"offset\",\"result\",\"roomId\",\"count\",\"push\",\"map\",\"t\",\"createElement\",\"iconName\",\"title\",\"emptyResultMessage\",\"context\",\"queryResult\"],\"mappings\":\"2BACAA,EAASC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjDC,EAAgBC,IAAA,CAAA,2BAAgC,CAACR,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,eAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAN,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uCAAA,CAAAJ,kBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0BAAA,CAAAH,QAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mBAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAvEF,EAAOI,aAAa,CASAC,KACnB,IAAMC,EAAuBb,EAAY,MAAO,iCAE1Cc,EAAOT,IAEPU,EAA+Bb,EAAS,CAAC,QAASY,EAAKE,GAAG,CAAE,qBAA8B,CAAE,UACjG,IAAMC,EAAuB,EAAE,CAE/B,IACC,IAAIC,EAAS,EAAGC,EAAS,MAAMN,EAAqB,CAAEO,OAAQN,EAAKE,GAAG,CAAEE,OAAQ,CAAC,GACjFC,EAAOE,KAAK,CAAG,EAEfH,GAAUC,EAAOE,KAAK,CAAEF,EAAS,MAAMN,EAAqB,CAAEO,OAAQN,EAAKE,GAAG,CAAEE,OAAAA,CAAM,GAEtFD,EAASK,IAAI,IAAIH,EAAOF,QAAQ,CAACM,GAAG,CAACnB,IAGtC,OAAOa,CACR,GAEMO,EAAIvB,IAEV,OACCE,EAAAsB,aAAA,CAACnB,EAAc,CACdoB,SAAS,KACTC,MAAOH,EAAE,YACTI,mBAAoBJ,EAAE,qBACtBK,QAAQ,WACRC,YAAaf,CAA6B,EAG7C\"}"}