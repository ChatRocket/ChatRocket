{"code":"function module(e,n,t){var r,a,o,u,i,s,c,l,f;t.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){a=e},useSetModal:function(e){o=e},useToastMessageDispatch:function(e){u=e}},0),t.link(\"@tanstack/react-query\",{useMutation:function(e){i=e},useQueryClient:function(e){s=e}},1),t.link(\"react\",{default:function(e){c=e}},2),t.link(\"react-i18next\",{useTranslation:function(e){l=e}},3),t.link(\"../../../../components/GenericModal\",{default:function(e){f=e}},4),t.exportDefault(function(e){var n=l().t,t=o(),d=u(),_=s(),m=a(\"POST\",\"/v1/users.resetAvatar\"),v=i({mutationFn:m,onError:function(e){d({type:\"error\",message:e})},onSuccess:function(){d({type:\"success\",message:n(\"Moderation_Avatar_reset_success\")})}}),y=function(){t(c.createElement(f,{title:n(\"Moderation_Reset_user_avatar\"),confirmText:n(\"Reset\"),variant:\"danger\",onConfirm:function(){return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t(),n.next=3,r.awrap(v.mutateAsync({userId:e}));case 3:_.invalidateQueries({queryKey:[\"moderation\"]});case 4:case\"end\":return n.stop()}},null,null,null,Promise)},onCancel:function(){return t()}},n(\"Moderation_Are_you_sure_you_want_to_reset_the_avatar\")))};return{id:\"resetAvatar\",content:n(\"Moderation_Reset_user_avatar\"),icon:\"reload\",onClick:function(){return y()}}})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/moderation/hooks/useResetAvatarAction.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { GenericMenuItemProps } from '@rocket.chat/ui-client';\\nimport { useEndpoint, useSetModal, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../../components/GenericModal';\\n\\nconst useResetAvatarAction = (userId: string): GenericMenuItemProps => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst queryClient = useQueryClient();\\n\\n\\tconst resetAvatar = useEndpoint('POST', '/v1/users.resetAvatar');\\n\\n\\tconst handleResetAvatar = useMutation({\\n\\t\\tmutationFn: resetAvatar,\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t\\tonSuccess: () => {\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Moderation_Avatar_reset_success') });\\n\\t\\t},\\n\\t});\\n\\n\\tconst onResetAvatar = async () => {\\n\\t\\tsetModal();\\n\\t\\tawait handleResetAvatar.mutateAsync({ userId });\\n\\t\\tqueryClient.invalidateQueries({ queryKey: ['moderation'] });\\n\\t};\\n\\n\\tconst confirmResetAvatar = (): void => {\\n\\t\\tsetModal(\\n\\t\\t\\t<GenericModal\\n\\t\\t\\t\\ttitle={t('Moderation_Reset_user_avatar')}\\n\\t\\t\\t\\tconfirmText={t('Reset')}\\n\\t\\t\\t\\tvariant='danger'\\n\\t\\t\\t\\tonConfirm={() => onResetAvatar()}\\n\\t\\t\\t\\tonCancel={() => setModal()}\\n\\t\\t\\t>\\n\\t\\t\\t\\t{t('Moderation_Are_you_sure_you_want_to_reset_the_avatar')}\\n\\t\\t\\t</GenericModal>,\\n\\t\\t);\\n\\t};\\n\\n\\treturn {\\n\\t\\tid: 'resetAvatar',\\n\\t\\tcontent: t('Moderation_Reset_user_avatar'),\\n\\t\\ticon: 'reload',\\n\\t\\tonClick: () => confirmResetAvatar(),\\n\\t};\\n};\\n\\nexport default useResetAvatarAction;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"useEndpoint\",\"useSetModal\",\"useToastMessageDispatch\",\"useMutation\",\"useQueryClient\",\"React\",\"useTranslation\",\"GenericModal\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"userId\",\"t\",\"_useTranslation\",\"setModal\",\"dispatchToastMessage\",\"queryClient\",\"resetAvatar\",\"handleResetAvatar\",\"mutationFn\",\"onError\",\"error\",\"type\",\"message\",\"onSuccess\",\"confirmResetAvatar\",\"createElement\",\"title\",\"confirmText\",\"variant\",\"onConfirm\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"mutateAsync\",\"invalidateQueries\",\"queryKey\",\"stop\",\"Promise\",\"onCancel\",\"id\",\"content\",\"icon\",\"onClick\"],\"mappings\":\"uBAQA,IAPAA,EAAAC,EAASC,EAAaC,EAAuEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvEC,EAAAC,IAAa,CAAA,6BAAyB,CAAMC,QAAA,SAAAC,CAAA,EAAAZ,EAA2BY,CAAA,CAAA,EAAA,GAA1DH,EAAuBC,IAAE,CAAA,2BAAM,CAA0BT,YAAC,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,YAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,wBAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAN,YAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,eAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAH,eAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,sCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAA7FH,EAAOI,aAAa,CAOS,SAACC,CAAc,EAC3C,IAAQC,EAACC,AAAKT,IAANQ,CAAC,CACHE,EAAWf,IACXgB,EAAuBf,IACvBgB,EAAcd,IAEde,EAAcnB,EAAY,OAAQ,yBAElCoB,EAAoBjB,EAAY,CACrCkB,WAAYF,EACZG,QAAS,SAACC,CAAK,EACdN,EAAqB,CAAEO,KAAM,QAASC,QAASF,CAAK,EACrD,EACAG,UAAW,WACVT,EAAqB,CAAEO,KAAM,UAAWC,QAASX,EAAE,kCAAkC,EACtF,IASKa,EAAqB,WAC1BX,EACCX,EAAAuB,aAAA,CAACrB,EAAY,CACZsB,MAAOf,EAAE,gCACTgB,YAAahB,EAAE,SACfiB,QAAQ,SACRC,UAAW,WAAA,OAZQjC,EAAAkC,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EACV,OAAXpB,IAAWkB,EAAAE,IAAA,CAAA,EAAArC,EAAAsC,KAAA,CACLjB,EAAkBkB,WAAW,CAAC,CAAEzB,OAAAA,CAAM,GAAG,MAAA,EAC/CK,EAAYqB,iBAAiB,CAAC,CAAEC,SAAU,CAAC,aAAY,AAAC,EAAI,MAAA,EAAA,IAAA,MAAA,OAAAN,EAAAO,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAS1B,EAChCC,SAAU,WAAA,OAAM3B,GAAU,CAAC,EAE1BF,EAAE,yDAGN,EAEA,MAAO,CACN8B,GAAI,cACJC,QAAS/B,EAAE,gCACXgC,KAAM,SACNC,QAAS,WAAA,OAAMpB,GAAoB,EAErC\"}"}