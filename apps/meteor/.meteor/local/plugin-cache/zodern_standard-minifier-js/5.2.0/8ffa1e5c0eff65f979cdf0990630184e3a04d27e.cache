{"code":"function module(e,t,n){let l,o,a,r,c,i,s,m,u,x,d,C,k,E,f,p,h,b,g,w,S,v,I,R;n.link(\"@rocket.chat/fuselage\",{Box(e){l=e},Button(e){o=e},ButtonGroup(e){a=e},ContextualbarEmptyContent(e){r=e},Icon(e){c=e},Margins(e){i=e},Select(e){s=e},TextInput(e){m=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useAutoFocus(e){u=e},useResizeObserver(e){x=e}},1),n.link(\"react\",{default(e){d=e},memo(e){C=e}},2),n.link(\"react-i18next\",{useTranslation(e){k=e}},3),n.link(\"react-virtuoso\",{Virtuoso(e){E=e}},4),n.link(\"../../../../components/Contextualbar\",{ContextualbarHeader(e){f=e},ContextualbarTitle(e){p=e},ContextualbarClose(e){h=e},ContextualbarContent(e){b=e},ContextualbarInnerContent(e){g=e},ContextualbarFooter(e){w=e}},5),n.link(\"../../../../components/CustomScrollbars\",{VirtuosoScrollbars(e){S=e}},6),n.link(\"../../../../views/room/contexts/RoomToolboxContext\",{useRoomToolbox(e){v=e}},7),n.link(\"./Item\",{default(e){I=e}},8),n.link(\"./WrapCannedResponse\",{default(e){R=e}},9),n.exportDefault(C(e=>{let{loadMoreItems:t,cannedItems:n,itemCount:C,onClose:y,loading:B,options:T,text:D,setText:U,type:_,setType:z,isRoomOverMacLimit:F,onClickItem:G,onClickCreate:M,onClickUse:V,reload:A}=e,{t:H}=k(),N=u(!0),{context:O}=v(),{ref:W,contentBoxSize:{inlineSize:j=378}={}}=x({debounceDelay:200}),q=n.find(e=>e._id===O);return d.createElement(d.Fragment,null,d.createElement(f,null,d.createElement(p,null,H(\"Canned_Responses\")),d.createElement(h,{onClick:y})),d.createElement(b,{paddingInline:0,ref:W},d.createElement(l,{display:\"flex\",flexDirection:\"row\",p:24,flexShrink:0},d.createElement(l,{display:\"flex\",flexDirection:\"row\",flexGrow:1,mi:\"neg-x4\"},d.createElement(i,{inline:4},d.createElement(m,{placeholder:H(\"Search\"),value:D,onChange:U,addon:d.createElement(c,{name:\"magnifier\",size:\"x20\"}),ref:N}),d.createElement(l,{w:\"x144\"},d.createElement(s,{onChange:e=>z(String(e)),value:_,options:T}))))),0===C&&d.createElement(r,{title:H(\"No_Canned_Responses\")}),C>0&&n.length>0&&d.createElement(l,{flexGrow:1,flexShrink:1,overflow:\"hidden\",display:\"flex\"},d.createElement(E,{style:{width:j},totalCount:C,endReached:B?void 0:e=>t(e,Math.min(25,C-e)),overscan:25,data:n,components:{Scroller:S},itemContent:(e,t)=>d.createElement(I,{data:t,allowUse:!F,onClickItem:()=>{G(t)},onClickUse:V})}))),q&&d.createElement(g,null,d.createElement(R,{allowUse:!F,cannedItem:q,onClickBack:G,onClickUse:V,reload:A})),d.createElement(w,null,d.createElement(a,{stretch:!0},d.createElement(o,{onClick:M},H(\"Create\")))))}))}","map":"{\"version\":3,\"sources\":[\"client/omnichannel/cannedResponses/contextualBar/CannedResponse/CannedResponseList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatDepartment, IOmnichannelCannedResponse } from '@rocket.chat/core-typings';\\nimport { Box, Button, ButtonGroup, ContextualbarEmptyContent, Icon, Margins, Select, TextInput } from '@rocket.chat/fuselage';\\nimport { useAutoFocus, useResizeObserver } from '@rocket.chat/fuselage-hooks';\\nimport type { Dispatch, FormEventHandler, MouseEvent, ReactElement, SetStateAction } from 'react';\\nimport React, { memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\nimport { Virtuoso } from 'react-virtuoso';\\n\\nimport {\\n\\tContextualbarHeader,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarContent,\\n\\tContextualbarInnerContent,\\n\\tContextualbarFooter,\\n} from '../../../../components/Contextualbar';\\nimport { VirtuosoScrollbars } from '../../../../components/CustomScrollbars';\\nimport { useRoomToolbox } from '../../../../views/room/contexts/RoomToolboxContext';\\nimport Item from './Item';\\nimport WrapCannedResponse from './WrapCannedResponse';\\n\\ntype CannedResponseListProps = {\\n\\tloadMoreItems: (start: number, end: number) => void;\\n\\tcannedItems: (IOmnichannelCannedResponse & { departmentName: ILivechatDepartment['name'] })[];\\n\\titemCount: number;\\n\\tonClose: any;\\n\\tloading: boolean;\\n\\toptions: [string, string][];\\n\\ttext: string;\\n\\tsetText: FormEventHandler<HTMLOrSVGElement>;\\n\\ttype: string;\\n\\tsetType: Dispatch<SetStateAction<string>>;\\n\\tisRoomOverMacLimit: boolean;\\n\\tonClickItem: (data: any) => void;\\n\\tonClickCreate: (e: MouseEvent<HTMLOrSVGElement>) => void;\\n\\tonClickUse: (e: MouseEvent<HTMLOrSVGElement>, text: string) => void;\\n\\treload: () => void;\\n};\\n\\nconst CannedResponseList = ({\\n\\tloadMoreItems,\\n\\tcannedItems,\\n\\titemCount,\\n\\tonClose,\\n\\tloading,\\n\\toptions,\\n\\ttext,\\n\\tsetText,\\n\\ttype,\\n\\tsetType,\\n\\tisRoomOverMacLimit,\\n\\tonClickItem,\\n\\tonClickCreate,\\n\\tonClickUse,\\n\\treload,\\n}: CannedResponseListProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst inputRef = useAutoFocus<HTMLInputElement>(true);\\n\\n\\tconst { context: cannedId } = useRoomToolbox();\\n\\n\\tconst { ref, contentBoxSize: { inlineSize = 378 } = {} } = useResizeObserver<HTMLElement>({\\n\\t\\tdebounceDelay: 200,\\n\\t});\\n\\n\\tconst cannedItem = cannedItems.find((canned) => canned._id === cannedId);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Canned_Responses')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={onClose} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\n\\t\\t\\t<ContextualbarContent paddingInline={0} ref={ref}>\\n\\t\\t\\t\\t<Box display='flex' flexDirection='row' p={24} flexShrink={0}>\\n\\t\\t\\t\\t\\t<Box display='flex' flexDirection='row' flexGrow={1} mi='neg-x4'>\\n\\t\\t\\t\\t\\t\\t<Margins inline={4}>\\n\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Search')}\\n\\t\\t\\t\\t\\t\\t\\t\\tvalue={text}\\n\\t\\t\\t\\t\\t\\t\\t\\tonChange={setText}\\n\\t\\t\\t\\t\\t\\t\\t\\taddon={<Icon name='magnifier' size='x20' />}\\n\\t\\t\\t\\t\\t\\t\\t\\tref={inputRef}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t<Box w='x144'>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Select onChange={(value) => setType(String(value))} value={type} options={options} />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Margins>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t{itemCount === 0 && <ContextualbarEmptyContent title={t('No_Canned_Responses')} />}\\n\\t\\t\\t\\t{itemCount > 0 && cannedItems.length > 0 && (\\n\\t\\t\\t\\t\\t<Box flexGrow={1} flexShrink={1} overflow='hidden' display='flex'>\\n\\t\\t\\t\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\t\\t\\t\\tstyle={{ width: inlineSize }}\\n\\t\\t\\t\\t\\t\\t\\ttotalCount={itemCount}\\n\\t\\t\\t\\t\\t\\t\\tendReached={loading ? undefined : (start): void => loadMoreItems(start, Math.min(25, itemCount - start))}\\n\\t\\t\\t\\t\\t\\t\\toverscan={25}\\n\\t\\t\\t\\t\\t\\t\\tdata={cannedItems}\\n\\t\\t\\t\\t\\t\\t\\tcomponents={{\\n\\t\\t\\t\\t\\t\\t\\t\\tScroller: VirtuosoScrollbars,\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\titemContent={(_index, data): ReactElement => (\\n\\t\\t\\t\\t\\t\\t\\t\\t<Item\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata={data}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tallowUse={!isRoomOverMacLimit}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClickItem={(): void => {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonClickItem(data);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClickUse={onClickUse}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</ContextualbarContent>\\n\\n\\t\\t\\t{cannedItem && (\\n\\t\\t\\t\\t<ContextualbarInnerContent>\\n\\t\\t\\t\\t\\t<WrapCannedResponse\\n\\t\\t\\t\\t\\t\\tallowUse={!isRoomOverMacLimit}\\n\\t\\t\\t\\t\\t\\tcannedItem={cannedItem}\\n\\t\\t\\t\\t\\t\\tonClickBack={onClickItem}\\n\\t\\t\\t\\t\\t\\tonClickUse={onClickUse}\\n\\t\\t\\t\\t\\t\\treload={reload}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</ContextualbarInnerContent>\\n\\t\\t\\t)}\\n\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t<Button onClick={onClickCreate}>{t('Create')}</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default memo(CannedResponseList);\\n\",null],\"names\":[\"Box\",\"Button\",\"ButtonGroup\",\"ContextualbarEmptyContent\",\"Icon\",\"Margins\",\"Select\",\"TextInput\",\"useAutoFocus\",\"useResizeObserver\",\"React\",\"memo\",\"useTranslation\",\"Virtuoso\",\"ContextualbarHeader\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarContent\",\"ContextualbarInnerContent\",\"ContextualbarFooter\",\"VirtuosoScrollbars\",\"useRoomToolbox\",\"Item\",\"WrapCannedResponse\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"loadMoreItems\",\"cannedItems\",\"itemCount\",\"onClose\",\"loading\",\"options\",\"text\",\"setText\",\"type\",\"setType\",\"isRoomOverMacLimit\",\"onClickItem\",\"onClickCreate\",\"onClickUse\",\"reload\",\"t\",\"inputRef\",\"context\",\"cannedId\",\"ref\",\"contentBoxSize\",\"inlineSize\",\"debounceDelay\",\"cannedItem\",\"find\",\"canned\",\"_id\",\"createElement\",\"Fragment\",\"onClick\",\"paddingInline\",\"display\",\"flexDirection\",\"p\",\"flexShrink\",\"flexGrow\",\"mi\",\"inline\",\"placeholder\",\"value\",\"onChange\",\"addon\",\"name\",\"size\",\"w\",\"String\",\"title\",\"length\",\"overflow\",\"style\",\"width\",\"totalCount\",\"endReached\",\"undefined\",\"start\",\"Math\",\"min\",\"overscan\",\"data\",\"components\",\"Scroller\",\"itemContent\",\"_index\",\"allowUse\",\"onClickBack\",\"stretch\"],\"mappings\":\"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\"}"}