{"code":"function module(n,e,t){var u,i,c,l,o,f,a,r,s,k,d;t.link(\"@babel/runtime/helpers/extends\",{default:function(n){u=n}},0),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(n){i=n}},1),t.link(\"@rocket.chat/fuselage\",{Sidebar:function(n){c=n}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(n){l=n},useOutsideClick:function(n){o=n}},1),t.link(\"react\",{default:function(n){f=n},useState:function(n){a=n},useEffect:function(n){r=n},useRef:function(n){s=n}},2),t.link(\"tinykeys\",{default:function(n){k=n}},3),t.link(\"../../search/SearchList\",{default:function(n){d=n}},4),t.exportDefault(function(n){var e=a(!1),t=i(e,2),m=t[0],b=t[1],h=s(null),p=l(function(){b(!1)});o([h],p);var v=l(function(){b(!0)});return r(function(){var n=k(window,{\"$mod+K\":function(n){n.preventDefault(),v()},\"$mod+P\":function(n){n.preventDefault(),v()}});return function(){n()}},[v]),f.createElement(f.Fragment,null,f.createElement(c.TopBar.Action,u({icon:\"magnifier\",onClick:v},n)),m&&f.createElement(d,{ref:h,onClose:p}))})}","map":"{\"version\":3,\"sources\":[\"client/sidebar/header/actions/Search.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Sidebar } from '@rocket.chat/fuselage';\\nimport { useMutableCallback, useOutsideClick } from '@rocket.chat/fuselage-hooks';\\nimport type { HTMLAttributes } from 'react';\\nimport React, { useState, useEffect, useRef } from 'react';\\nimport tinykeys from 'tinykeys';\\n\\nimport SearchList from '../../search/SearchList';\\n\\ntype SearchProps = Omit<HTMLAttributes<HTMLElement>, 'is'>;\\n\\nconst Search = (props: SearchProps) => {\\n\\tconst [searchOpen, setSearchOpen] = useState(false);\\n\\n\\tconst ref = useRef<HTMLElement>(null);\\n\\tconst handleCloseSearch = useMutableCallback(() => {\\n\\t\\tsetSearchOpen(false);\\n\\t});\\n\\n\\tuseOutsideClick([ref], handleCloseSearch);\\n\\n\\tconst openSearch = useMutableCallback(() => {\\n\\t\\tsetSearchOpen(true);\\n\\t});\\n\\n\\tuseEffect(() => {\\n\\t\\tconst unsubscribe = tinykeys(window, {\\n\\t\\t\\t'$mod+K': (event) => {\\n\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\topenSearch();\\n\\t\\t\\t},\\n\\t\\t\\t'$mod+P': (event) => {\\n\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\topenSearch();\\n\\t\\t\\t},\\n\\t\\t});\\n\\n\\t\\treturn (): void => {\\n\\t\\t\\tunsubscribe();\\n\\t\\t};\\n\\t}, [openSearch]);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<Sidebar.TopBar.Action icon='magnifier' onClick={openSearch} {...props} />\\n\\t\\t\\t{searchOpen && <SearchList ref={ref} onClose={handleCloseSearch} />}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default Search;\\n\",null],\"names\":[\"_extends\",\"_slicedToArray\",\"Sidebar\",\"useMutableCallback\",\"useOutsideClick\",\"React\",\"useState\",\"useEffect\",\"useRef\",\"tinykeys\",\"SearchList\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"props\",\"_useState\",\"_useState2\",\"searchOpen\",\"setSearchOpen\",\"ref\",\"handleCloseSearch\",\"openSearch\",\"unsubscribe\",\"window\",\"event\",\"preventDefault\",\"createElement\",\"Fragment\",\"TopBar\",\"Action\",\"icon\",\"onClick\",\"onClose\"],\"mappings\":\"uBAUA,IAVAA,EAAgDC,EAAhDC,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAASC,IAAM,CAAA,iCAAwB,CAAAC,QAAA,SAAAC,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAvCH,EAASC,IAAA,CAAM,wBAAwB,CAAAV,QAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAT,mBAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,gBAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAT,EAAAS,CAAA,EAAAR,SAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,UAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,OAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,WAAA,CAAA,QAAA,SAAAE,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAA,QAAA,SAAAE,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAhDH,EAAOI,aAAW,CAUH,SAACC,CAAkB,EACjC,IAAAC,EAAoCX,EAAS,CAAA,GAAMY,EAAAjB,EAAAgB,EAAA,GAA5CE,EAAUD,CAAA,CAAA,EAAA,CAAEE,EAAaF,CAAA,CAAA,EAAA,CAE1BG,EAAMb,EAAoB,MAC1Bc,EAAoBnB,EAAmB,WAC5CiB,EAAc,CAAA,EACf,GAEAhB,EAAgB,CAACiB,EAAI,CAAEC,GAEvB,IAAMC,EAAapB,EAAmB,WACrCiB,EAAc,CAAA,EACf,GAmBA,OAjBAb,EAAU,WACT,IAAMiB,EAAcf,EAASgB,OAAQ,CACpC,SAAU,SAACC,CAAK,EACfA,EAAMC,cAAc,GACpBJ,GACD,EACA,SAAU,SAACG,CAAK,EACfA,EAAMC,cAAc,GACpBJ,GACD,IAGD,OAAO,WACNC,GACD,CACD,EAAG,CAACD,EAAW,EAGdlB,EAAAuB,aAAA,CAAAvB,EAAAwB,QAAA,CAAA,KACCxB,EAAAuB,aAAA,CAAC1B,EAAQ4B,MAAM,CAACC,MAAM,CAAA/B,EAAA,CAACgC,KAAK,YAAYC,QAASV,CAAW,EAAKP,IAChEG,GAAcd,EAAAuB,aAAA,CAAClB,EAAU,CAACW,IAAKA,EAAKa,QAASZ,CAAkB,GAGnE\"}"}