{"code":"function module(t,e,n){let o,a,r;n.export({useToggleReactionMutation:()=>i}),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint(t){o=t},useUserId(t){a=t}},0),n.link(\"@tanstack/react-query\",{useMutation(t){r=t}},1);let i=t=>{let e=a(),n=o(\"POST\",\"/v1/chat.react\");return r(async t=>{let{mid:o,reaction:a}=t;if(!e)throw Error(\"Not logged in\");await n({messageId:o,reaction:a})},t)}}","map":"{\"version\":3,\"sources\":[\"client/components/message/content/reactions/useToggleReactionMutation.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { useEndpoint, useUserId } from '@rocket.chat/ui-contexts';\\nimport type { UseMutationOptions, UseMutationResult } from '@tanstack/react-query';\\nimport { useMutation } from '@tanstack/react-query';\\n\\ntype UseToggleReactionMutationVariables = {\\n\\tmid: IMessage['_id'];\\n\\treaction: string;\\n};\\n\\nexport const useToggleReactionMutation = (\\n\\toptions?: Omit<UseMutationOptions<void, Error, UseToggleReactionMutationVariables>, 'mutationFn'>,\\n): UseMutationResult<void, Error, UseToggleReactionMutationVariables> => {\\n\\tconst uid = useUserId();\\n\\tconst reactToMessage = useEndpoint('POST', '/v1/chat.react');\\n\\n\\treturn useMutation(async ({ mid, reaction }) => {\\n\\t\\tif (!uid) {\\n\\t\\t\\tthrow new Error('Not logged in');\\n\\t\\t}\\n\\n\\t\\tawait reactToMessage({ messageId: mid, reaction });\\n\\t}, options);\\n};\\n\",null],\"names\":[\"useEndpoint\",\"useUserId\",\"useMutation\",\"module\",\"export\",\"useToggleReactionMutation\",\"link\",\"v\",\"options\",\"uid\",\"reactToMessage\",\"_ref\",\"mid\",\"reaction\",\"Error\",\"messageId\"],\"mappings\":\"2BACkEA,EAAAC,EAAAC,EAAlEC,EAAOC,MAAE,CAAA,CAAAC,0BAA8BA,IAAAA,CAA2B,GAAAF,EAAAG,IAAA,CAAA,2BAAA,CAAAN,YAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,UAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,wBAAA,CAAAJ,YAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAS3D,IAAMF,EACZG,IAEA,IAAMC,EAAMR,IACNS,EAAiBV,EAAY,OAAQ,kBAE3C,OAAOE,EAAY,MAAAS,IAA4B,GAArB,CAAEC,IAAAA,CAAG,CAAEC,SAAAA,CAAAA,CAAU,CAAAF,EAC1C,GAAI,CAACF,EACJ,MAAM,AAAIK,MAAM,gBAGjB,OAAMJ,EAAe,CAAEK,UAAWH,EAAKC,SAAAA,CAAQ,EAChD,EAAGL,EACJ\"}"}