{"code":"function module(e,o,t){let r,u,p;t.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){r=e}},0),t.export({ComposerPopupContext:()=>n,createMessageBoxPopupConfig:()=>i,useComposerPopup:()=>l}),t.link(\"react\",{useContext(e){u=e},createContext(e){p=e}},0);let n=p(void 0),i=e=>{var o,t;return r({blurOnSelectItem:!0,closeOnEsc:!0,triggerAnywhere:!0,suffix:\" \",prefix:null!==(o=null!==(t=e.prefix)&&void 0!==t?t:e.trigger)&&void 0!==o?o:\" \",getValue:e=>e._id},e)},l=()=>{let e=u(n);if(!e)throw Error(\"useComposerPopup must be used within ComposerPopupContext\");return e}}","map":"{\"version\":3,\"sources\":[\"client/views/room/contexts/ComposerPopupContext.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { ReactElement } from 'react';\\nimport { useContext, createContext } from 'react';\\n\\nexport type ComposerPopupOption<T extends { _id: string; sort?: number } = { _id: string; sort?: number }> = {\\n\\ttitle?: string;\\n\\tgetItemsFromLocal?: (filter: any) => Promise<T[]>;\\n\\tgetItemsFromServer?: (filter: any) => Promise<T[]>;\\n\\tblurOnSelectItem?: boolean;\\n\\tcloseOnEsc?: boolean;\\n\\n\\ttrigger?: string;\\n\\ttriggerAnywhere?: boolean;\\n\\ttriggerLength?: number;\\n\\n\\tsuffix?: string;\\n\\tprefix?: string;\\n\\n\\tmatchSelectorRegex?: RegExp;\\n\\tpreview?: boolean;\\n\\n\\tgetValue: (item: T) => string;\\n\\n\\trenderItem?: ({ item }: { item: T }) => ReactElement;\\n\\tdisabled?: boolean;\\n};\\n\\nexport type ComposerPopupContextValue = ComposerPopupOption[];\\n\\nexport const ComposerPopupContext = createContext<ComposerPopupContextValue | undefined>(undefined);\\n\\nexport const createMessageBoxPopupConfig = <T extends { _id: string; sort?: number }>(\\n\\tpartial: Omit<ComposerPopupOption<T>, 'getValue'> & Partial<Pick<ComposerPopupOption<T>, 'getValue'>>,\\n): ComposerPopupOption<T> => {\\n\\treturn {\\n\\t\\tblurOnSelectItem: true,\\n\\t\\tcloseOnEsc: true,\\n\\t\\ttriggerAnywhere: true,\\n\\t\\tsuffix: ' ',\\n\\t\\tprefix: partial.prefix ?? partial.trigger ?? ' ',\\n\\t\\tgetValue: (item) => item._id,\\n\\t\\t...partial,\\n\\t};\\n};\\n\\nexport const useComposerPopup = () => {\\n\\tconst composerPopupContext = useContext(ComposerPopupContext);\\n\\tif (!composerPopupContext) {\\n\\t\\tthrow new Error('useComposerPopup must be used within ComposerPopupContext');\\n\\t}\\n\\treturn composerPopupContext;\\n};\\n\",null],\"names\":[\"_objectSpread\",\"useContext\",\"createContext\",\"module\",\"link\",\"default\",\"v\",\"export\",\"ComposerPopupContext\",\"createMessageBoxPopupConfig\",\"useComposerPopup\",\"undefined\",\"partial\",\"_ref\",\"_partial$prefix\",\"blurOnSelectItem\",\"closeOnEsc\",\"triggerAnywhere\",\"suffix\",\"prefix\",\"trigger\",\"getValue\",\"item\",\"_id\",\"composerPopupContext\",\"Error\"],\"mappings\":\"2BACAA,EAAkDC,EAAAC,EAAzCC,EAAYC,IAAA,CAAA,uCAA6B,CAAAC,QAAAC,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAlDH,EAAOI,MAAE,CAAA,CAAAC,qBAA2BA,IAAAA,EAAcC,4BAAAA,IAAAA,EAAAC,iBAAAA,IAAAA,CAAA,GAAAP,EAAAC,IAAA,CAAA,QAAA,CAAAH,WAAAK,CAAA,EAAAL,EAAAK,CAAA,EAAAJ,cAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GA2B3C,IAAME,EAAuBN,EAAqDS,KAAAA,GAE5EF,EACZG,IAC2B,IAAAC,EAAAC,EAC3B,OAAAd,EAAA,CACCe,iBAAkB,CAAA,EAClBC,WAAY,CAAA,EACZC,gBAAiB,CAAA,EACjBC,OAAQ,IACRC,OAAM,AAAmC,OAAnCN,CAAAA,EAAA,AAAgB,OAAhBC,CAAAA,EAAEF,EAAQO,MAAM,AAANA,GAAML,AAAA,KAAA,IAAAA,EAAAA,EAAIF,EAAQQ,OAAO,AAAPA,GAAOP,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAC7CQ,SAAWC,GAASA,EAAKC,GAAAA,AAAG,EACzBX,EAEL,EAEaF,EAAmBA,KAC/B,IAAMc,EAAuBvB,EAAWO,GACxC,GAAI,CAACgB,EACJ,MAAM,AAAIC,MAAM,6DAEjB,OAAOD,CACR\"}"}