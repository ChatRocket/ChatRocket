{"code":"function module(e,t,n){let i,o,a,l,r,c,s,d,u,m,k;let v=[\"current\",\"itemsPerPage\",\"setCurrent\",\"setItemsPerPage\"];n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){i=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMediaQuery(e){o=e}},0),n.link(\"react\",{default(e){a=e},useMemo(e){l=e}},1),n.link(\"react-i18next\",{useTranslation(e){r=e}},2),n.link(\"../../../../components/GenericTable\",{GenericTableHeaderCell(e){c=e}},3),n.link(\"../../../../components/GenericTable/hooks/usePagination\",{usePagination(e){s=e}},4),n.link(\"../../../../components/GenericTable/hooks/useSort\",{useSort(e){d=e}},5),n.link(\"../../../../components/deviceManagement/DeviceManagementTable\",{default(e){u=e}},6),n.link(\"../../../../hooks/useEndpointData\",{useEndpointData(e){m=e}},7),n.link(\"./DeviceManagementAccountRow\",{default(e){k=e}},8);let g={client:\"device.name\",os:\"device.os.name\",loginAt:\"loginAt\"};n.exportDefault(()=>{let{t:e}=r(),t=s(),{current:n,itemsPerPage:p,setCurrent:P,setItemsPerPage:f}=t,h=i(t,v),{sortBy:y,sortDirection:A,setSort:E}=d(\"loginAt\"),b=l(()=>({sort:JSON.stringify({[g[y]]:\"asc\"===A?1:-1}),count:p,offset:n}),[p,n,y,A]),{value:C,phase:D,error:T,reload:_}=m(\"/v1/sessions/list\",{params:b}),M=o(\"(min-width: 1024px)\"),S=l(()=>[a.createElement(c,{key:\"client\",direction:A,active:\"client\"===y,onClick:E,sort:\"client\"},e(\"Client\")),a.createElement(c,{key:\"os\",direction:A,active:\"os\"===y,onClick:E,sort:\"os\"},e(\"OS\")),a.createElement(c,{key:\"loginAt\",direction:A,active:\"loginAt\"===y,onClick:E,sort:\"loginAt\"},e(\"Last_login\")),M&&a.createElement(c,{key:\"_id\"},e(\"Device_ID\")),a.createElement(c,{key:\"logout\"})],[e,M,A,y,E]);return a.createElement(u,{data:C,phase:D,error:T,reload:_,headers:S,renderRow:e=>{var t,n,i;return a.createElement(k,{key:e._id,_id:e._id,deviceName:null===(t=e.device)||void 0===t?void 0:t.name,deviceType:null===(n=e.device)||void 0===n?void 0:n.type,deviceOSName:null===(i=e.device)||void 0===i?void 0:i.os.name,loginAt:e.loginAt,onReload:_})},current:n,itemsPerPage:p,setCurrent:P,setItemsPerPage:f,paginationProps:h})})}","map":"{\"version\":3,\"sources\":[\"client/views/account/deviceManagement/DeviceManagementAccountTable/DeviceManagementAccountTable.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useMediaQuery } from '@rocket.chat/fuselage-hooks';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { GenericTableHeaderCell } from '../../../../components/GenericTable';\\nimport { usePagination } from '../../../../components/GenericTable/hooks/usePagination';\\nimport { useSort } from '../../../../components/GenericTable/hooks/useSort';\\nimport DeviceManagementTable from '../../../../components/deviceManagement/DeviceManagementTable';\\nimport { useEndpointData } from '../../../../hooks/useEndpointData';\\nimport DeviceManagementAccountRow from './DeviceManagementAccountRow';\\n\\nconst sortMapping = {\\n\\tclient: 'device.name',\\n\\tos: 'device.os.name',\\n\\tloginAt: 'loginAt',\\n};\\n\\nconst DeviceManagementAccountTable = (): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst { current, itemsPerPage, setCurrent, setItemsPerPage, ...paginationProps } = usePagination();\\n\\tconst { sortBy, sortDirection, setSort } = useSort<'client' | 'os' | 'loginAt'>('loginAt');\\n\\n\\tconst query = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\tsort: JSON.stringify({ [sortMapping[sortBy]]: sortDirection === 'asc' ? 1 : -1 }),\\n\\t\\t\\tcount: itemsPerPage,\\n\\t\\t\\toffset: current,\\n\\t\\t}),\\n\\t\\t[itemsPerPage, current, sortBy, sortDirection],\\n\\t);\\n\\n\\tconst { value: data, phase, error, reload } = useEndpointData('/v1/sessions/list', { params: query });\\n\\n\\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\\n\\n\\tconst headers = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t<GenericTableHeaderCell key='client' direction={sortDirection} active={sortBy === 'client'} onClick={setSort} sort='client'>\\n\\t\\t\\t\\t{t('Client')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='os' direction={sortDirection} active={sortBy === 'os'} onClick={setSort} sort='os'>\\n\\t\\t\\t\\t{t('OS')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='loginAt' direction={sortDirection} active={sortBy === 'loginAt'} onClick={setSort} sort='loginAt'>\\n\\t\\t\\t\\t{t('Last_login')}\\n\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\tmediaQuery && <GenericTableHeaderCell key='_id'>{t('Device_ID')}</GenericTableHeaderCell>,\\n\\t\\t\\t<GenericTableHeaderCell key='logout' />,\\n\\t\\t],\\n\\t\\t[t, mediaQuery, sortDirection, sortBy, setSort],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<DeviceManagementTable\\n\\t\\t\\tdata={data}\\n\\t\\t\\tphase={phase}\\n\\t\\t\\terror={error}\\n\\t\\t\\treload={reload}\\n\\t\\t\\theaders={headers}\\n\\t\\t\\trenderRow={(session): ReactElement => (\\n\\t\\t\\t\\t<DeviceManagementAccountRow\\n\\t\\t\\t\\t\\tkey={session._id}\\n\\t\\t\\t\\t\\t_id={session._id}\\n\\t\\t\\t\\t\\tdeviceName={session.device?.name}\\n\\t\\t\\t\\t\\tdeviceType={session.device?.type}\\n\\t\\t\\t\\t\\tdeviceOSName={session.device?.os.name}\\n\\t\\t\\t\\t\\tloginAt={session.loginAt}\\n\\t\\t\\t\\t\\tonReload={reload}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t)}\\n\\t\\t\\tcurrent={current}\\n\\t\\t\\titemsPerPage={itemsPerPage}\\n\\t\\t\\tsetCurrent={setCurrent}\\n\\t\\t\\tsetItemsPerPage={setItemsPerPage}\\n\\t\\t\\tpaginationProps={paginationProps}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default DeviceManagementAccountTable;\\n\",null],\"names\":[\"_objectWithoutProperties\",\"useMediaQuery\",\"React\",\"useMemo\",\"useTranslation\",\"GenericTableHeaderCell\",\"usePagination\",\"useSort\",\"DeviceManagementTable\",\"useEndpointData\",\"DeviceManagementAccountRow\",\"module\",\"link\",\"default\",\"v\",\"sortMapping\",\"client\",\"os\",\"loginAt\",\"exportDefault\",\"DeviceManagementAccountTable\",\"t\",\"_usePagination\",\"current\",\"itemsPerPage\",\"setCurrent\",\"setItemsPerPage\",\"paginationProps\",\"_excluded\",\"sortBy\",\"sortDirection\",\"setSort\",\"query\",\"sort\",\"JSON\",\"stringify\",\"count\",\"offset\",\"value\",\"data\",\"phase\",\"error\",\"reload\",\"params\",\"mediaQuery\",\"headers\",\"createElement\",\"key\",\"direction\",\"active\",\"onClick\",\"renderRow\",\"session\",\"_session$device\",\"_session$device2\",\"_session$device3\",\"_id\",\"deviceName\",\"device\",\"name\",\"deviceType\",\"type\",\"deviceOSName\",\"onReload\"],\"mappings\":\"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\"}"}