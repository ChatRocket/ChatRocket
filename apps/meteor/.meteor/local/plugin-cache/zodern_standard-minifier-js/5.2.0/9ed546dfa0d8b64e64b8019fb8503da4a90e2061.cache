{"code":"function module(e,s,i){i.export({MessageList:function(){return M}}),i.link(\"@rocket.chat/core-typings\",{isThreadMessage:function(e){n=e}},0),i.link(\"@rocket.chat/ui-contexts\",{useSetting:function(e){t=e},useUserPreference:function(e){r=e}},1),i.link(\"react\",{default:function(e){a=e},Fragment:function(e){o=e}},2),i.link(\"../../../../app/ui-utils/client\",{MessageTypes:function(e){u=e}},3),i.link(\"../contexts/RoomContext\",{useRoomSubscription:function(e){c=e}},4),i.link(\"../hooks/useFirstUnreadMessageId\",{useFirstUnreadMessageId:function(e){l=e}},5),i.link(\"../providers/SelectedMessagesProvider\",{SelectedMessagesProvider:function(e){d=e}},6),i.link(\"./MessageListItem\",{MessageListItem:function(e){g=e}},7),i.link(\"./hooks/useMessages\",{useMessages:function(e){f=e}},8),i.link(\"./lib/isMessageSequential\",{isMessageSequential:function(e){m=e}},9),i.link(\"./providers/MessageListProvider\",{default:function(e){k=e}},10);var n,t,r,a,o,u,c,l,d,g,f,m,k,M=function(e){var s=e.rid,i=e.messageListRef,M=f({rid:s}),p=c(),v=!!r(\"displayAvatars\"),h=Number(t(\"Message_GroupingPeriod\")),S=l();return a.createElement(k,{messageListRef:i},a.createElement(d,null,M.map(function(e,s,i){var t=i[s-1],r=m(e,t,h),c=S===e._id,l=u.isSystemMessage(e),d=!n(e)&&!l;return a.createElement(o,{key:e._id},a.createElement(g,{message:e,previous:t,showUnreadDivider:c,showUserAvatar:v,sequential:r,visible:d,subscription:p,system:l}))})))}}","map":"{\"version\":3,\"sources\":[\"client/views/room/MessageList/MessageList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport { isThreadMessage } from '@rocket.chat/core-typings';\\nimport { useSetting, useUserPreference } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps } from 'react';\\nimport React, { Fragment } from 'react';\\n\\nimport { MessageTypes } from '../../../../app/ui-utils/client';\\nimport { useRoomSubscription } from '../contexts/RoomContext';\\nimport { useFirstUnreadMessageId } from '../hooks/useFirstUnreadMessageId';\\nimport { SelectedMessagesProvider } from '../providers/SelectedMessagesProvider';\\nimport { MessageListItem } from './MessageListItem';\\nimport { useMessages } from './hooks/useMessages';\\nimport { isMessageSequential } from './lib/isMessageSequential';\\nimport MessageListProvider from './providers/MessageListProvider';\\n\\ntype MessageListProps = {\\n\\trid: IRoom['_id'];\\n\\tmessageListRef: ComponentProps<typeof MessageListProvider>['messageListRef'];\\n};\\n\\nexport const MessageList = function MessageList({ rid, messageListRef }: MessageListProps) {\\n\\tconst messages = useMessages({ rid });\\n\\tconst subscription = useRoomSubscription();\\n\\tconst showUserAvatar = !!useUserPreference<boolean>('displayAvatars');\\n\\tconst messageGroupingPeriod = Number(useSetting('Message_GroupingPeriod'));\\n\\tconst firstUnreadMessageId = useFirstUnreadMessageId();\\n\\n\\treturn (\\n\\t\\t<MessageListProvider messageListRef={messageListRef}>\\n\\t\\t\\t<SelectedMessagesProvider>\\n\\t\\t\\t\\t{messages.map((message, index, { [index - 1]: previous }) => {\\n\\t\\t\\t\\t\\tconst sequential = isMessageSequential(message, previous, messageGroupingPeriod);\\n\\t\\t\\t\\t\\tconst showUnreadDivider = firstUnreadMessageId === message._id;\\n\\t\\t\\t\\t\\tconst system = MessageTypes.isSystemMessage(message);\\n\\t\\t\\t\\t\\tconst visible = !isThreadMessage(message) && !system;\\n\\n\\t\\t\\t\\t\\treturn (\\n\\t\\t\\t\\t\\t\\t<Fragment key={message._id}>\\n\\t\\t\\t\\t\\t\\t\\t<MessageListItem\\n\\t\\t\\t\\t\\t\\t\\t\\tmessage={message}\\n\\t\\t\\t\\t\\t\\t\\t\\tprevious={previous}\\n\\t\\t\\t\\t\\t\\t\\t\\tshowUnreadDivider={showUnreadDivider}\\n\\t\\t\\t\\t\\t\\t\\t\\tshowUserAvatar={showUserAvatar}\\n\\t\\t\\t\\t\\t\\t\\t\\tsequential={sequential}\\n\\t\\t\\t\\t\\t\\t\\t\\tvisible={visible}\\n\\t\\t\\t\\t\\t\\t\\t\\tsubscription={subscription}\\n\\t\\t\\t\\t\\t\\t\\t\\tsystem={system}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t</Fragment>\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t})}\\n\\t\\t\\t</SelectedMessagesProvider>\\n\\t\\t</MessageListProvider>\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"MessageList\",\"link\",\"isThreadMessage\",\"v\",\"useSetting\",\"useUserPreference\",\"React\",\"Fragment\",\"MessageTypes\",\"useRoomSubscription\",\"useFirstUnreadMessageId\",\"SelectedMessagesProvider\",\"MessageListItem\",\"useMessages\",\"isMessageSequential\",\"MessageListProvider\",\"_ref\",\"rid\",\"messageListRef\",\"messages\",\"subscription\",\"showUserAvatar\",\"messageGroupingPeriod\",\"Number\",\"firstUnreadMessageId\",\"createElement\",\"map\",\"message\",\"index\",\"_ref2\",\"previous\",\"sequential\",\"showUnreadDivider\",\"_id\",\"system\",\"isSystemMessage\",\"visible\",\"key\"],\"mappings\":\"uBACAA,EAAOC,MAAE,CAAA,CAAAC,YAAiB,WAAM,OAAAA,CAAA,CAAA,GAA4BF,EAAAG,IAAA,CAAA,4BAAA,CAAAC,gBAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,2BAAA,CAAAG,WAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,EAAAE,kBAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAG,EAAAH,CAAA,EAAAI,SAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,kCAAA,CAAAO,aAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,0BAAA,CAAAQ,oBAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,mCAAA,CAAAS,wBAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,wCAAA,CAAAU,yBAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,oBAAA,CAAAW,gBAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,sBAAA,CAAAY,YAAA,SAAAV,CAAA,EAAAU,EAAAV,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,4BAAA,CAAAa,oBAAA,SAAAX,CAAA,EAAAW,EAAAX,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,kCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAY,EAAAZ,CAAA,CAAA,EAAA,IAmBrD,IAnBqDD,EAAAE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAmB/Cf,EAAc,SAAoBgB,CAAA,EAA0C,IAAvCC,EAAGD,EAAHC,GAAG,CAAEC,EAAcF,EAAdE,cAAc,CAC9DC,EAAWN,EAAY,CAAEI,IAAAA,CAAG,GAC5BG,EAAeX,IACfY,EAAiB,CAAC,CAAChB,EAA2B,kBAC9CiB,EAAwBC,OAAOnB,EAAW,2BAC1CoB,EAAuBd,IAE7B,OACCJ,EAAAmB,aAAA,CAACV,EAAmB,CAACG,eAAgBA,CAAe,EACnDZ,EAAAmB,aAAA,CAACd,EAAwB,KACvBQ,EAASO,GAAG,CAAC,SAACC,CAAO,CAAEC,CAAK,CAAAC,CAAA,EAA+B,IAAdC,EAAQD,CAAA,CAApBD,EAAQ,EAAC,CACpCG,EAAajB,EAAoBa,EAASG,EAAUR,GACpDU,EAAoBR,IAAyBG,EAAQM,GAAG,CACxDC,EAAS1B,EAAa2B,eAAe,CAACR,GACtCS,EAAU,CAAClC,EAAgByB,IAAY,CAACO,EAE9C,OACC5B,EAAAmB,aAAA,CAAClB,EAAQ,CAAC8B,IAAKV,EAAQM,GAAAA,AAAI,EAC1B3B,EAAAmB,aAAA,CAACb,EAAe,CACfe,QAASA,EACTG,SAAUA,EACVE,kBAAmBA,EACnBX,eAAgBA,EAChBU,WAAYA,EACZK,QAASA,EACThB,aAAcA,EACdc,OAAQA,CAAO,GAInB,IAIJ\"}"}