{"code":"function module(n,e,t){t.link(\"@babel/runtime/regenerator\",{default:function(n){s=n}},0),t.export({useChangeAdminStatusAction:function(){return u}}),t.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(n){a=n},useMethod:function(n){i=n},useTranslation:function(n){r=n},usePermission:function(n){o=n}},0),t.link(\"react\",{useCallback:function(n){c=n}},1);var s,a,i,r,o,c,u=function(n,e,t){var u=r(),l=a(),m=i(\"setAdminStatus\"),f=o(\"assign-admin-role\"),d=c(function(){return s.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.awrap(m(n,!e));case 3:l({type:\"success\",message:u(e?\"User_is_no_longer_an_admin\":\"User_is_now_an_admin\")}),t(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),l({type:\"error\",message:a.t0});case 11:case\"end\":return a.stop()}},null,null,[[0,8]],Promise)},[n,l,e,t,m,u]);return f?{icon:\"key\",label:e?u(\"Remove_Admin\"):u(\"Make_Admin\"),action:d}:void 0}}","map":"{\"version\":3,\"sources\":[\"client/views/admin/users/hooks/useChangeAdminStatusAction.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IUser } from '@rocket.chat/core-typings';\\nimport { useToastMessageDispatch, useMethod, useTranslation, usePermission } from '@rocket.chat/ui-contexts';\\nimport { useCallback } from 'react';\\n\\nimport type { Action } from '../../../hooks/useActionSpread';\\n\\nexport const useChangeAdminStatusAction = (userId: IUser['_id'], isAdmin: boolean, onChange: () => void): Action | undefined => {\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst setAdminStatus = useMethod('setAdminStatus');\\n\\tconst canAssignAdminRole = usePermission('assign-admin-role');\\n\\n\\tconst changeAdminStatus = useCallback(async () => {\\n\\t\\ttry {\\n\\t\\t\\tawait setAdminStatus(userId, !isAdmin);\\n\\t\\t\\tconst message = isAdmin ? 'User_is_no_longer_an_admin' : 'User_is_now_an_admin';\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t(message) });\\n\\t\\t\\tonChange();\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t}, [userId, dispatchToastMessage, isAdmin, onChange, setAdminStatus, t]);\\n\\n\\treturn canAssignAdminRole\\n\\t\\t? {\\n\\t\\t\\t\\ticon: 'key',\\n\\t\\t\\t\\tlabel: isAdmin ? t('Remove_Admin') : t('Make_Admin'),\\n\\t\\t\\t\\taction: changeAdminStatus,\\n\\t\\t  }\\n\\t\\t: undefined;\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"export\",\"useChangeAdminStatusAction\",\"useToastMessageDispatch\",\"useMethod\",\"useTranslation\",\"usePermission\",\"useCallback\",\"userId\",\"isAdmin\",\"onChange\",\"t\",\"dispatchToastMessage\",\"setAdminStatus\",\"canAssignAdminRole\",\"changeAdminStatus\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"type\",\"message\",\"t0\",\"stop\",\"Promise\",\"icon\",\"label\",\"action\",\"undefined\"],\"mappings\":\"uBACSA,EAAAC,IAAyB,CAAA,6BAA2B,CAAAC,QAAa,SAAQC,CAAA,EAAAC,EAAAD,CAAA,CAA0B,EAAC,GAA7GH,EAAOK,MAAE,CAAA,CAAAC,2BAAyB,WAAW,OAAcA,CAAuB,CAAA,GAA2BN,EAAAC,IAAA,CAAA,2BAAA,CAAAM,wBAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,EAAAK,UAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,eAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,EAAAO,cAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAU,YAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAKtG,IALPC,EAAkFG,EAA2BC,EAAAC,EAAAC,EAAAC,EAKhGL,EAA6B,SAACM,CAAoB,CAAEC,CAAgB,CAAEC,CAAoB,EACtG,IAAMC,EAAIN,IACJO,EAAuBT,IACvBU,EAAiBT,EAAU,kBAC3BU,EAAqBR,EAAc,qBAEnCS,EAAoBR,EAAY,WAAA,OAAAP,EAAAgB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAAnB,EAAAoB,KAAA,CAE9BP,EAAeL,EAAQ,CAACC,GAAQ,MAAA,EAEtCG,EAAqB,CAAES,KAAM,UAAWC,QAASX,EADjCF,EAAU,6BAA+B,uBACE,GAC3DC,IAAWO,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,EAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAM,EAAA,CAAAN,EAAA,KAAA,CAAA,GAEXL,EAAqB,CAAES,KAAM,QAASC,QAAOL,EAAAM,EAAAA,AAAO,EAAI,MAAA,GAAA,IAAA,MAAA,OAAAN,EAAAO,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAAC,QAAA,EAEvD,CAACjB,EAAQI,EAAsBH,EAASC,EAAUG,EAAgBF,EAAE,EAEvE,OAAOG,EACJ,CACAY,KAAM,MACNC,MAAOlB,EAAUE,EAAE,gBAAkBA,EAAE,cACvCiB,OAAQb,GAERc,KAAAA,CACJ\"}"}