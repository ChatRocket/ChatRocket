{"code":"function module(e,t,l){let n,a,r,o,c,m,i,u,s,E,_,d,p,h,k;l.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),l.export({WrapUpCallModal:()=>f}),l.link(\"@rocket.chat/fuselage\",{Box(e){a=e},Button(e){r=e},Field(e){o=e},FieldLabel(e){c=e},FieldRow(e){m=e},FieldHint(e){i=e},Modal(e){u=e},TextAreaInput(e){s=e}},0),l.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){E=e}},1),l.link(\"react\",{default(e){_=e},useEffect(e){d=e}},2),l.link(\"react-hook-form\",{useForm(e){p=e}},3),l.link(\"react-i18next\",{useTranslation(e){h=e}},4),l.link(\"../../../components/Omnichannel/Tags\",{default(e){k=e}},5);let f=e=>{let{closeRoom:t}=e,l=E(),f=()=>l(null),{t:b}=h(),{register:F,handleSubmit:x,setValue:C,watch:g}=p(),y=g(\"tags\");d(()=>{F(\"tags\")},[F]);let T=e=>{t(e),f()};return _.createElement(u,{wrapperFunction:e=>_.createElement(a,n({is:\"form\",onSubmit:x(T)},e))},_.createElement(u.Header,null,_.createElement(u.Title,null,b(\"Wrap_up_the_call\")),_.createElement(u.Close,{onClick:f})),_.createElement(u.Content,null,_.createElement(o,{mbe:\"24px\"},_.createElement(c,null,b(\"Notes\")),_.createElement(m,null,_.createElement(s,n({placeholder:b(\"Do_you_have_any_notes_for_this_conversation\")},F(\"comment\")))),_.createElement(i,null,b(\"These_notes_will_be_available_in_the_call_summary\"))),_.createElement(o,null,_.createElement(k,{tags:y,handler:e=>{C(\"tags\",e)}}))),_.createElement(u.Footer,null,_.createElement(u.FooterControllers,null,_.createElement(r,{secondary:!0,onClick:()=>{t(),f()}},b(\"Cancel\")),_.createElement(r,{type:\"submit\",primary:!0},b(\"Save\")))))}}","map":"{\"version\":3,\"sources\":[\"client/voip/components/modals/WrapUpCallModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Button, Field, FieldLabel, FieldRow, FieldHint, Modal, TextAreaInput } from '@rocket.chat/fuselage';\\nimport { useSetModal } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useEffect } from 'react';\\nimport type { SubmitHandler } from 'react-hook-form';\\nimport { useForm } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport Tags from '../../../components/Omnichannel/Tags';\\n\\ntype WrapUpCallPayload = {\\n\\tcomment: string;\\n\\ttags?: string[];\\n};\\n\\ntype WrapUpCallModalProps = {\\n\\tcloseRoom: (data?: { comment?: string; tags?: string[] }) => void;\\n};\\n\\nexport const WrapUpCallModal = ({ closeRoom }: WrapUpCallModalProps): ReactElement => {\\n\\tconst setModal = useSetModal();\\n\\n\\tconst closeModal = (): void => setModal(null);\\n\\tconst { t } = useTranslation();\\n\\n\\tconst { register, handleSubmit, setValue, watch } = useForm<WrapUpCallPayload>();\\n\\n\\tconst tags = watch('tags');\\n\\n\\tuseEffect(() => {\\n\\t\\tregister('tags');\\n\\t}, [register]);\\n\\n\\tconst handleTags = (value: string[]): void => {\\n\\t\\tsetValue('tags', value);\\n\\t};\\n\\n\\tconst onSubmit: SubmitHandler<WrapUpCallPayload> = (data: { comment?: string; tags?: string[] }): void => {\\n\\t\\tcloseRoom(data);\\n\\t\\tcloseModal();\\n\\t};\\n\\n\\tconst onCancel = (): void => {\\n\\t\\tcloseRoom();\\n\\t\\tcloseModal();\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Modal wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(onSubmit)} {...props} />}>\\n\\t\\t\\t<Modal.Header>\\n\\t\\t\\t\\t<Modal.Title>{t('Wrap_up_the_call')}</Modal.Title>\\n\\t\\t\\t\\t<Modal.Close onClick={closeModal} />\\n\\t\\t\\t</Modal.Header>\\n\\t\\t\\t<Modal.Content>\\n\\t\\t\\t\\t<Field mbe='24px'>\\n\\t\\t\\t\\t\\t<FieldLabel>{t('Notes')}</FieldLabel>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<TextAreaInput placeholder={t('Do_you_have_any_notes_for_this_conversation')} {...register('comment')} />\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t<FieldHint>{t('These_notes_will_be_available_in_the_call_summary')}</FieldHint>\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<Tags tags={tags} handler={handleTags as () => void} />\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t</Modal.Content>\\n\\t\\t\\t<Modal.Footer>\\n\\t\\t\\t\\t<Modal.FooterControllers>\\n\\t\\t\\t\\t\\t<Button secondary onClick={onCancel}>\\n\\t\\t\\t\\t\\t\\t{t('Cancel')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t<Button type='submit' primary>\\n\\t\\t\\t\\t\\t\\t{t('Save')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</Modal.FooterControllers>\\n\\t\\t\\t</Modal.Footer>\\n\\t\\t</Modal>\\n\\t);\\n};\\n\",null],\"names\":[\"_extends\",\"Box\",\"Button\",\"Field\",\"FieldLabel\",\"FieldRow\",\"FieldHint\",\"Modal\",\"TextAreaInput\",\"useSetModal\",\"React\",\"useEffect\",\"useForm\",\"useTranslation\",\"Tags\",\"module\",\"link\",\"default\",\"v\",\"export\",\"WrapUpCallModal\",\"_ref\",\"closeRoom\",\"setModal\",\"closeModal\",\"t\",\"register\",\"handleSubmit\",\"setValue\",\"watch\",\"tags\",\"onSubmit\",\"data\",\"createElement\",\"wrapperFunction\",\"props\",\"is\",\"Header\",\"Title\",\"Close\",\"onClick\",\"Content\",\"mbe\",\"placeholder\",\"handler\",\"value\",\"Footer\",\"FooterControllers\",\"secondary\",\"onCancel\",\"type\",\"primary\"],\"mappings\":\"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\"}"}