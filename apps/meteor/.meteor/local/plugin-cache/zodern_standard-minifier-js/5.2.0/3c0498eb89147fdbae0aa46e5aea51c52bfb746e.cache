{"code":"function module(e,t,a){let r,n,u,s;a.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){r=e}},0),a.export({useWeeklyChatActivity:()=>d}),a.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){n=e}},0),a.link(\"@tanstack/react-query\",{useQuery(e){u=e}},1),a.link(\"moment\",{default(e){s=e}},2);let d=e=>{let{displacement:t,utc:a}=e,d=n(\"GET\",\"/v1/engagement-dashboard/users/chat-busier/weekly-data\");return u([\"admin/engagement-dashboard/users/weekly-chat-activity\",{displacement:t,utc:a}],async()=>{let e=(a?s.utc().endOf(\"day\"):s().endOf(\"day\")).subtract(t,\"weeks\").toDate(),n=await d({start:e.toISOString()});return n?r(r({},n),{},{day:e}):void 0},{refetchInterval:3e5,useErrorBoundary:!0})}}","map":"{\"version\":3,\"sources\":[\"client/views/admin/engagementDashboard/users/useWeeklyChatActivity.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport moment from 'moment';\\n\\ntype UseWeeklyChatActivityOptions = {\\n\\tdisplacement: number;\\n\\tutc: boolean;\\n};\\n\\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\\nexport const useWeeklyChatActivity = ({ displacement, utc }: UseWeeklyChatActivityOptions) => {\\n\\tconst getWeeklyChatActivity = useEndpoint('GET', '/v1/engagement-dashboard/users/chat-busier/weekly-data');\\n\\n\\treturn useQuery(\\n\\t\\t['admin/engagement-dashboard/users/weekly-chat-activity', { displacement, utc }],\\n\\t\\tasync () => {\\n\\t\\t\\tconst day = (utc ? moment.utc().endOf('day') : moment().endOf('day')).subtract(displacement, 'weeks').toDate();\\n\\n\\t\\t\\tconst response = await getWeeklyChatActivity({\\n\\t\\t\\t\\tstart: day.toISOString(),\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn response\\n\\t\\t\\t\\t? {\\n\\t\\t\\t\\t\\t\\t...response,\\n\\t\\t\\t\\t\\t\\tday,\\n\\t\\t\\t\\t  }\\n\\t\\t\\t\\t: undefined;\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\trefetchInterval: 5 * 60 * 1000,\\n\\t\\t\\tuseErrorBoundary: true,\\n\\t\\t},\\n\\t);\\n};\\n\",null],\"names\":[\"_objectSpread\",\"useEndpoint\",\"useQuery\",\"moment\",\"module\",\"link\",\"default\",\"v\",\"export\",\"useWeeklyChatActivity\",\"_ref\",\"displacement\",\"utc\",\"getWeeklyChatActivity\",\"day\",\"endOf\",\"subtract\",\"toDate\",\"response\",\"start\",\"toISOString\",\"undefined\",\"refetchInterval\",\"useErrorBoundary\"],\"mappings\":\"2BAAAA,EAAuDC,EAAAC,EAAAC,EAA9CC,EAAaC,IAAM,CAAA,uCAA2B,CAAAC,QAAAC,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAvDH,EAAOI,MAAE,CAAA,CAAAC,sBAAmBA,IAAAA,CAA2B,GAAAL,EAAAC,IAAA,CAAA,2BAAA,CAAAJ,YAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAH,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,SAAA,CAAAC,QAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAUhD,IAAME,EAAwBC,IAAwD,GAAvD,CAAEC,aAAAA,CAAY,CAAEC,IAAAA,CAAAA,CAAmC,CAAAF,EAClFG,EAAwBZ,EAAY,MAAO,0DAEjD,OAAOC,EACN,CAAC,wDAAyD,CAAES,aAAAA,EAAcC,IAAAA,CAAG,EAAG,CAChF,UACC,IAAME,EAAM,AAACF,CAAAA,EAAMT,EAAOS,GAAG,GAAGG,KAAK,CAAC,OAASZ,IAASY,KAAK,CAAC,MAAK,EAAGC,QAAQ,CAACL,EAAc,SAASM,MAAM,GAEtGC,EAAW,MAAML,EAAsB,CAC5CM,MAAOL,EAAIM,WAAW,KAGvB,OAAOF,EAAQlB,EAAAA,EAAA,CAAA,EAETkB,GAAQ,CAAA,EAAA,CACXJ,IAAAA,CAAG,GAEHO,KAAAA,CACJ,EACA,CACCC,gBAAiB,IACjBC,iBAAkB,CAAA,GAGrB\"}"}