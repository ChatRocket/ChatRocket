{"code":"function module(e,r,s){var n,a;function o(e){if(e instanceof Error){a({type:\"error\",message:e.message});return}if(null!==(r=e.xhr)&&void 0!==r&&r.responseJSON){var r,s,o=e.xhr.responseJSON,t=o.status,i=o.messages,l=o.error,u=o.payload,p=void 0===u?null:u;switch(t){case\"storage_error\":s=i.join(\"\");break;case\"app_user_error\":s=i.join(\"\"),null!=p&&p.username&&(s=n(\"Apps_User_Already_Exists\",{username:p.username}));break;default:s=l||n(\"There_has_been_an_error_installing_the_app\")}a({type:\"error\",message:s})}}s.export({handleInstallError:function(){return o}}),s.link(\"../../../../app/utils/lib/i18n\",{t:function(e){n=e}},0),s.link(\"../../../lib/toast\",{dispatchToastMessage:function(e){a=e}},1)}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/helpers/handleInstallError.ts\",\"<anon>\"],\"sourcesContent\":[\"import { t } from '../../../../app/utils/lib/i18n';\\nimport { dispatchToastMessage } from '../../../lib/toast';\\n\\n// eslint-disable-next-line @typescript-eslint/naming-convention\\ninterface ApiError {\\n\\txhr: {\\n\\t\\tresponseJSON: {\\n\\t\\t\\terror: string;\\n\\t\\t\\tstatus: string;\\n\\t\\t\\tmessages: string[];\\n\\t\\t\\tpayload?: any;\\n\\t\\t};\\n\\t};\\n}\\n\\nexport function handleInstallError(apiError: ApiError | Error): void {\\n\\tif (apiError instanceof Error) {\\n\\t\\tdispatchToastMessage({ type: 'error', message: apiError.message });\\n\\t\\treturn;\\n\\t}\\n\\n\\tif (!apiError.xhr?.responseJSON) {\\n\\t\\treturn;\\n\\t}\\n\\n\\tconst { status, messages, error, payload = null } = apiError.xhr.responseJSON;\\n\\n\\tlet message: string;\\n\\n\\tswitch (status) {\\n\\t\\tcase 'storage_error':\\n\\t\\t\\tmessage = messages.join('');\\n\\t\\t\\tbreak;\\n\\t\\tcase 'app_user_error':\\n\\t\\t\\tmessage = messages.join('');\\n\\t\\t\\tif (payload?.username) {\\n\\t\\t\\t\\tmessage = t('Apps_User_Already_Exists', { username: payload.username });\\n\\t\\t\\t}\\n\\t\\t\\tbreak;\\n\\t\\tdefault:\\n\\t\\t\\tif (error) {\\n\\t\\t\\t\\tmessage = error;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tmessage = t('There_has_been_an_error_installing_the_app');\\n\\t\\t\\t}\\n\\t}\\n\\n\\tdispatchToastMessage({ type: 'error', message });\\n}\\n\",null],\"names\":[\"t\",\"dispatchToastMessage\",\"handleInstallError\",\"apiError\",\"Error\",\"type\",\"message\",\"_apiError$xhr\",\"xhr\",\"responseJSON\",\"_apiError$xhr$respons\",\"status\",\"messages\",\"error\",\"_apiError$xhr$respons2\",\"payload\",\"join\",\"username\",\"module\",\"export\",\"link\",\"v\"],\"mappings\":\"2BAAmDA,EAAAC,EAe7C,SAAUC,EAAmBC,CAA0B,EAC5D,GAAIA,aAAoBC,MAAO,CAC9BH,EAAqB,CAAEI,KAAM,QAASC,QAASH,EAASG,OAAAA,AAAO,GAC/D,MACD,CAEA,GAAI,AAAa,OAAbC,CAAAA,EAACJ,EAASK,GAAG,AAAHA,GAAGD,AAAA,KAAA,IAAAA,GAAZA,EAAcE,YAAY,EAI/B,IAV4DF,EAYxDD,EAFJI,EAAoDP,EAASK,GAAG,CAACC,YAAY,CAArEE,EAAMD,EAANC,MAAM,CAAEC,EAAQF,EAARE,QAAQ,CAAEC,EAAKH,EAALG,KAAK,CAAAC,EAAAJ,EAAEK,OAAO,CAAPA,EAAOD,AAAA,KAAA,IAAAA,EAAG,KAAIA,EAI/C,OAAQH,GACP,IAAK,gBACJL,EAAUM,EAASI,IAAI,CAAC,IACxB,KACD,KAAK,iBACJV,EAAUM,EAASI,IAAI,CAAC,UACpBD,GAAAA,EAASE,QAAQ,EACpBX,CAAAA,EAAUN,EAAE,2BAA4B,CAAEiB,SAAUF,EAAQE,QAAAA,AAAQ,EAAE,EAEvE,KACD,SAEEX,EADGO,GAGOb,EAAE,6CAEf,CAEAC,EAAqB,CAAEI,KAAM,QAASC,QAAAA,CAAO,GAC9C,CAhDAY,EAAOC,MAAK,CAAA,CAAAjB,mBAAM,WAAA,OAAiCA,CAAA,CAAA,GAAAgB,EAAAE,IAAA,CAAA,iCAAA,CAAApB,EAAA,SAAAqB,CAAA,EAAArB,EAAAqB,CAAA,CAAA,EAAA,GAAAH,EAAAE,IAAA,CAAA,qBAAA,CAAAnB,qBAAA,SAAAoB,CAAA,EAAApB,EAAAoB,CAAA,CAAA,EAAA\"}"}