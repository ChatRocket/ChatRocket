{"code":"function module(e,n,i){let o,s,r,t,d,c,l,a,u,h,C,g,f,k,_,V,m,I,M,E,b,w,x,D;i.link(\"react/jsx-runtime\",{jsx(e){o=e},jsxs(e){s=e},Fragment(e){r=e}},0),i.link(\"@rocket.chat/core-typings\",{VideoConferenceStatus(e){t=e}},1),i.link(\"@rocket.chat/ui-contexts\",{useGoToRoom(e){d=e},useTranslation(e){c=e},useUserId(e){l=e}},2),i.link(\"@rocket.chat/ui-video-conf\",{VideoConfMessageSkeleton(e){a=e},VideoConfMessage(e){u=e},VideoConfMessageRow(e){h=e},VideoConfMessageIcon(e){C=e},VideoConfMessageText(e){g=e},VideoConfMessageFooter(e){f=e},VideoConfMessageUserStack(e){k=e},VideoConfMessageFooterText(e){_=e},VideoConfMessageButton(e){V=e},VideoConfMessageContent(e){m=e},VideoConfMessageActions(e){I=e},VideoConfMessageAction(e){M=e}},3),i.link(\"react\",{useContext(e){E=e},memo(e){b=e}},4),i.link(\"../..\",{UiKitContext(e){w=e}},5),i.link(\"../../hooks/useSurfaceType\",{useSurfaceType(e){x=e}},6),i.link(\"./hooks/useVideoConfDataStream\",{useVideoConfDataStream(e){D=e}},7),i.exportDefault(b(({block:e})=>{let n=c(),{callId:i,appId:b=\"videoconf-core\"}=e,j=x(),p=l(),y=d(),{action:v,viewId:R,rid:S}=E(w);if(\"message\"!==j)throw Error(\"VideoConferenceBlock cannot be rendered outside message\");if(!S)throw Error(\"VideoConferenceBlock cannot be rendered without rid\");let T=D({rid:S,callId:i});if(T.isLoading||T.isError)return o(a,{});let{data:B}=T,L=B.createdBy._id===p,A=s(I,{children:[B.discussionRid&&o(M,{icon:\"discussion\",title:n(\"Join_discussion\"),onClick:e=>{B.discussionRid&&y(B.discussionRid)}}),o(M,{icon:\"info\",onClick:e=>{v({blockId:i,appId:b,actionId:\"info\",value:S,viewId:R},e)}})]});return\"endedAt\"in B?s(u,{children:[s(h,{children:[s(m,{children:[o(C,{}),o(g,{children:n(\"Call_ended\")})]}),A]}),s(f,{children:[\"direct\"===B.type&&s(r,{children:[o(V,{onClick:e=>{v({blockId:S||\"\",appId:b,actionId:\"callBack\",value:S||\"\",viewId:R},e)},children:n(L?\"Call_again\":\"Call_back\")}),[t.EXPIRED,t.DECLINED].includes(B.status)&&o(_,{children:n(\"Call_was_not_answered\")})]}),\"direct\"!==B.type&&(B.users.length?s(r,{children:[o(k,{users:B.users}),o(_,{children:B.users.length>3?n(\"__usersCount__member_joined\",{usersCount:B.users.length-3}):n(\"joined\")})]}):[t.EXPIRED,t.DECLINED].includes(B.status)&&o(_,{children:n(\"Call_was_not_answered\")}))]})]}):\"direct\"===B.type&&B.status===t.CALLING?s(u,{children:[s(h,{children:[s(m,{children:[o(C,{variant:\"incoming\"}),o(g,{children:n(\"Calling\")})]}),A]}),o(f,{children:o(_,{children:n(\"Waiting_for_answer\")})})]}):s(u,{children:[s(h,{children:[s(m,{children:[o(C,{variant:\"outgoing\"}),o(g,{children:n(\"Call_ongoing\")})]}),A]}),s(f,{children:[o(V,{primary:!0,onClick:n=>{v({blockId:e.blockId||\"\",appId:b,actionId:\"join\",value:e.blockId||\"\",viewId:R},n)},children:n(\"Join\")}),!!B.users.length&&s(r,{children:[o(k,{users:B.users}),o(_,{children:B.users.length>3?n(\"__usersCount__member_joined\",{count:B.users.length-3}):n(\"joined\")})]})]})]})}))}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}