{"code":"function module(e,n,t){var i,u,o,c,a,l,r,s,f,m,d;t.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){i=e}},0),t.link(\"@rocket.chat/fuselage\",{MenuItem:function(e){u=e},MenuItemContent:function(e){o=e},MenuSection:function(e){c=e},MenuV2:function(e){a=e},Skeleton:function(e){l=e}},0),t.link(\"@rocket.chat/ui-client\",{useHandleMenuAction:function(e){r=e}},1),t.link(\"react\",{default:function(e){s=e},memo:function(e){f=e}},2),t.link(\"react-i18next\",{useTranslation:function(e){m=e}},3),t.link(\"./hooks/useAppMenu\",{useAppMenu:function(e){d=e}},4),t.exportDefault(f(function(e){var n=e.app,t=e.isAppDetailsPage,f=m().t,p=d(n,t),k=p.isLoading,h=p.isAdminUser,M=p.sections,A=M.reduce(function(e,n){var t=n.items;return[].concat(i(e),i(t))},[]),b=r(A),g=A.filter(function(e){return e.disabled}).map(function(e){return e.id});return k?s.createElement(l,{variant:\"rect\",height:\"x28\",width:\"x28\"}):!h&&null!=n&&n.installed&&0===M.length?null:s.createElement(a,{title:f(\"More_options\"),onAction:b,disabledKeys:g,detached:!0},M.map(function(e,n){var t=e.items;return s.createElement(c,{key:n,items:t},t.map(function(e){return s.createElement(u,{key:e.id},s.createElement(o,null,e.content))}))}))}))}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/AppMenu.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { App } from '@rocket.chat/core-typings';\\nimport { MenuItem, MenuItemContent, MenuSection, MenuV2, Skeleton } from '@rocket.chat/fuselage';\\nimport { useHandleMenuAction } from '@rocket.chat/ui-client';\\nimport React, { memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport type { AppMenuOption } from './hooks/useAppMenu';\\nimport { useAppMenu } from './hooks/useAppMenu';\\n\\ntype AppMenuProps = {\\n\\tapp: App;\\n\\tisAppDetailsPage: boolean;\\n};\\n\\nconst AppMenu = ({ app, isAppDetailsPage }: AppMenuProps) => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst { isLoading, isAdminUser, sections } = useAppMenu(app, isAppDetailsPage);\\n\\n\\tconst itemsList = sections.reduce((acc, { items }) => [...acc, ...items], [] as AppMenuOption[]);\\n\\n\\tconst onAction = useHandleMenuAction(itemsList);\\n\\tconst disabledKeys = itemsList.filter((item) => item.disabled).map((item) => item.id);\\n\\n\\tif (isLoading) {\\n\\t\\treturn <Skeleton variant='rect' height='x28' width='x28' />;\\n\\t}\\n\\n\\tif (!isAdminUser && app?.installed && sections.length === 0) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<MenuV2 title={t('More_options')} onAction={onAction} disabledKeys={disabledKeys} detached>\\n\\t\\t\\t{sections.map(({ items }, idx) => (\\n\\t\\t\\t\\t<MenuSection key={idx} items={items}>\\n\\t\\t\\t\\t\\t{items.map((option) => (\\n\\t\\t\\t\\t\\t\\t<MenuItem key={option.id}>\\n\\t\\t\\t\\t\\t\\t\\t<MenuItemContent>{option.content}</MenuItemContent>\\n\\t\\t\\t\\t\\t\\t</MenuItem>\\n\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t</MenuSection>\\n\\t\\t\\t))}\\n\\t\\t</MenuV2>\\n\\t);\\n};\\n\\nexport default memo(AppMenu);\\n\",null],\"names\":[\"_toConsumableArray\",\"MenuItem\",\"MenuItemContent\",\"MenuSection\",\"MenuV2\",\"Skeleton\",\"useHandleMenuAction\",\"React\",\"memo\",\"useTranslation\",\"useAppMenu\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"app\",\"isAppDetailsPage\",\"t\",\"_useTranslation\",\"_useAppMenu\",\"isLoading\",\"isAdminUser\",\"sections\",\"itemsList\",\"reduce\",\"acc\",\"_ref2\",\"items\",\"concat\",\"onAction\",\"disabledKeys\",\"filter\",\"item\",\"disabled\",\"map\",\"id\",\"createElement\",\"variant\",\"height\",\"width\",\"installed\",\"length\",\"title\",\"detached\",\"_ref3\",\"idx\",\"key\",\"option\",\"content\"],\"mappings\":\"uBAcA,IAbAA,EAAAC,EAASC,EAAUC,EAAiBC,EAAWC,EAAkDC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9EC,EAAAC,IAAe,CAAA,2CAAuC,CAAAC,QAAA,SAAuBC,CAAC,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAxCH,EAAAC,IAAU,CAAA,wBAAM,CAAAX,SAAwB,SAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,gBAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,YAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,OAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,SAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,yBAAA,CAAAN,oBAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAP,EAAAO,CAAA,EAAAN,KAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAH,eAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,qBAAA,CAAAF,WAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAjGH,EAAOI,aAAY,CA8CJP,EAjCC,SAAAQ,CAAA,EAA4C,IAAzCC,EAAGD,EAAHC,GAAG,CAAEC,EAAgBF,EAAhBE,gBAAgB,CAC/BC,EAACC,AAAKX,IAANU,CAAC,CAETE,EAA6CX,EAAWO,EAAKC,GAArDI,EAASD,EAATC,SAAS,CAAEC,EAAWF,EAAXE,WAAW,CAAEC,EAAQH,EAARG,QAAQ,CAElCC,EAAYD,EAASE,MAAM,CAAC,SAACC,CAAG,CAAAC,CAAA,EAAA,IAAIC,EAAKD,EAALC,KAAK,CAAA,MAAA,EAAA,CAAAC,MAAA,CAAA9B,EAAW2B,GAAG3B,EAAK6B,GAAK,EAAG,EAAqB,EAEzFE,EAAWzB,EAAoBmB,GAC/BO,EAAeP,EAAUQ,MAAM,CAAC,SAACC,CAAI,EAAA,OAAKA,EAAKC,QAAQ,GAAEC,GAAG,CAAC,SAACF,CAAI,EAAA,OAAKA,EAAKG,EAAE,UAEpF,AAAIf,EACIf,EAAA+B,aAAA,CAACjC,EAAQ,CAACkC,QAAQ,OAAOC,OAAO,MAAMC,MAAM,KAAK,GAGrD,CAAClB,GAAeN,MAAAA,GAAAA,EAAKyB,SAAS,EAAIlB,AAAoB,IAApBA,EAASmB,MAAM,CAC7C,KAIPpC,EAAA+B,aAAA,CAAClC,EAAM,CAACwC,MAAOzB,EAAE,gBAAiBY,SAAUA,EAAUC,aAAcA,EAAca,SAAQ,CAAA,CAAA,EACxFrB,EAASY,GAAG,CAAC,SAAAU,CAAA,CAAYC,CAAG,EAAA,IAAZlB,EAAKiB,EAALjB,KAAK,CAAA,OACrBtB,EAAA+B,aAAA,CAACnC,EAAW,CAAC6C,IAAKD,EAAKlB,MAAOA,CAAM,EAClCA,EAAMO,GAAG,CAAC,SAACa,CAAM,EAAA,OACjB1C,EAAA+B,aAAA,CAACrC,EAAQ,CAAC+C,IAAKC,EAAOZ,EAAAA,AAAG,EACxB9B,EAAA+B,aAAA,CAACpC,EAAe,KAAE+C,EAAOC,OAAyB,EACxC,GAEC,GAIlB\"}"}