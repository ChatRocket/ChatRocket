{"code":"function module(e,n,t){var l,o,i,r,c,u,a,m,s,f,d;t.link(\"@babel/runtime/regenerator\",{default:function(e){l=e}},0),t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},IconButton:function(e){i=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMediaQuery:function(e){r=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){c=e}},2),t.link(\"react\",{default:function(e){u=e}},3),t.link(\"react-i18next\",{useTranslation:function(e){a=e}},4),t.link(\"../../../components/GenericTable\",{GenericTableCell:function(e){m=e},GenericTableRow:function(e){s=e}},5),t.link(\"../../../hooks/useFormatDateAndTime\",{useFormatDateAndTime:function(e){f=e}},6),t.link(\"../../../hooks/useTimeFromNow\",{useTimeFromNow:function(e){d=e}},7),t.exportDefault(function(e){var n,t,k,E=e._id,p=e.createdAt,T=e.expires,h=e.uses,x=e.maxUses,g=e.onRemove,v=a().t,w=f(),D=c(\"DELETE\",\"/v1/removeInvite/:_id\",{_id:E}),b=d(!1),F=r(\"(min-width: 768px)\");return u.createElement(s,null,u.createElement(m,null,u.createElement(o,{color:\"hint\",fontScale:\"p2\"},E)),F&&u.createElement(u.Fragment,null,u.createElement(m,null,w(new Date(p))),u.createElement(m,null,(n=T?new Date(T):null)?n&&n.getTime()<new Date().getTime()?v(\"Expired\"):b(n):v(\"Never\")),u.createElement(m,null,h),u.createElement(m,null,x>0?h>=x?0:x-h:v(\"Unlimited\"))),u.createElement(m,null,u.createElement(i,{icon:\"cross\",danger:!0,small:!0,onClick:function(e){return l.async(function(n){for(;;)switch(n.prev=n.next){case 0:e.stopPropagation(),g(function(){return D()});case 2:case\"end\":return n.stop()}},null,null,null,Promise)}})))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/invites/InviteRow.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IInvite } from '@rocket.chat/core-typings';\\nimport { Box, IconButton } from '@rocket.chat/fuselage';\\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement, MouseEvent } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\\nimport { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\\nimport { useTimeFromNow } from '../../../hooks/useTimeFromNow';\\n\\nconst isExpired = (expires: IInvite['expires']): boolean => {\\n\\tif (expires && expires.getTime() < new Date().getTime()) {\\n\\t\\treturn true;\\n\\t}\\n\\n\\treturn false;\\n};\\n\\ntype InviteRowProps = Omit<IInvite, 'createdAt' | 'expires' | '_updatedAt'> & {\\n\\tonRemove: (removeInvite: () => Promise<boolean>) => void;\\n\\t_updatedAt: string;\\n\\tcreatedAt: string;\\n\\texpires: string | null;\\n};\\n\\nconst InviteRow = ({ _id, createdAt, expires, uses, maxUses, onRemove }: InviteRowProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst formatDateAndTime = useFormatDateAndTime();\\n\\tconst removeInvite = useEndpoint('DELETE', '/v1/removeInvite/:_id', { _id });\\n\\n\\tconst getTimeFromNow = useTimeFromNow(false);\\n\\n\\tconst daysToExpire = (expires: IInvite['expires']): string => {\\n\\t\\tif (expires) {\\n\\t\\t\\tif (isExpired(expires)) {\\n\\t\\t\\t\\treturn t('Expired');\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn getTimeFromNow(expires);\\n\\t\\t}\\n\\n\\t\\treturn t('Never');\\n\\t};\\n\\n\\tconst maxUsesLeft = (maxUses: IInvite['maxUses'], uses: IInvite['uses']): number | string => {\\n\\t\\tif (maxUses > 0) {\\n\\t\\t\\tif (uses >= maxUses) {\\n\\t\\t\\t\\treturn 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn maxUses - uses;\\n\\t\\t}\\n\\n\\t\\treturn t('Unlimited');\\n\\t};\\n\\n\\tconst handleRemoveButtonClick = async (event: MouseEvent<HTMLElement>): Promise<void> => {\\n\\t\\tevent.stopPropagation();\\n\\t\\tonRemove(() => removeInvite());\\n\\t};\\n\\n\\tconst notSmall = useMediaQuery('(min-width: 768px)');\\n\\n\\treturn (\\n\\t\\t<GenericTableRow>\\n\\t\\t\\t<GenericTableCell>\\n\\t\\t\\t\\t<Box color='hint' fontScale='p2'>\\n\\t\\t\\t\\t\\t{_id}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</GenericTableCell>\\n\\t\\t\\t{notSmall && (\\n\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t<GenericTableCell>{formatDateAndTime(new Date(createdAt))}</GenericTableCell>\\n\\t\\t\\t\\t\\t<GenericTableCell>{daysToExpire(expires ? new Date(expires) : null)}</GenericTableCell>\\n\\t\\t\\t\\t\\t<GenericTableCell>{uses}</GenericTableCell>\\n\\t\\t\\t\\t\\t<GenericTableCell>{maxUsesLeft(maxUses, uses)}</GenericTableCell>\\n\\t\\t\\t\\t</>\\n\\t\\t\\t)}\\n\\t\\t\\t<GenericTableCell>\\n\\t\\t\\t\\t<IconButton icon='cross' danger small onClick={handleRemoveButtonClick} />\\n\\t\\t\\t</GenericTableCell>\\n\\t\\t</GenericTableRow>\\n\\t);\\n};\\n\\nexport default InviteRow;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"Box\",\"IconButton\",\"useMediaQuery\",\"useEndpoint\",\"React\",\"useTranslation\",\"GenericTableCell\",\"GenericTableRow\",\"useFormatDateAndTime\",\"useTimeFromNow\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"expires\",\"maxUses\",\"uses\",\"_id\",\"createdAt\",\"onRemove\",\"t\",\"_useTranslation\",\"formatDateAndTime\",\"removeInvite\",\"getTimeFromNow\",\"notSmall\",\"createElement\",\"color\",\"fontScale\",\"Fragment\",\"Date\",\"getTime\",\"icon\",\"danger\",\"small\",\"onClick\",\"event\",\"async\",\"_context\",\"prev\",\"next\",\"stopPropagation\",\"stop\",\"Promise\"],\"mappings\":\"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\"}"}