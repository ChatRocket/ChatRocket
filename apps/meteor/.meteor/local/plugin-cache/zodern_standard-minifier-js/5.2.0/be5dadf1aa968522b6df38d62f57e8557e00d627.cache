{"code":"function module(e,n,t){var i,o,u,l,a,r,c,s,f,d,h,k;t.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){i=e}},0),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){o=e}},1),t.link(\"@rocket.chat/fuselage\",{PaginatedMultiSelectFiltered:function(e){u=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue:function(e){l=e}},1),t.link(\"react\",{default:function(e){a=e},memo:function(e){r=e},useMemo:function(e){c=e},useState:function(e){s=e}},2),t.link(\"react-i18next\",{useTranslation:function(e){f=e}},3),t.link(\"../../hooks/lists/useRecordList\",{useRecordList:function(e){d=e}},4),t.link(\"../../hooks/useAsyncState\",{AsyncStatePhase:function(e){h=e}},5),t.link(\"../../hooks/useTagsList\",{useTagsList:function(e){k=e}},6),t.exportDefault(r(function(e){var n=e.value,t=void 0===n?[]:n,r=e.onlyMyTags,m=void 0!==r&&r,v=e.onChange,g=e.department,p=e.viewAll,y=void 0!==p&&p,A=f().t,T=s(\"\"),b=o(T,2),L=b[0],M=b[1],S=l(L,500),w=k(c(function(){return{filter:S,onlyMyTags:m,department:g,viewAll:y}},[S,m,g,y])),x=w.itemsList,C=w.loadMoreItems,D=d(x),R=D.phase,F=D.items,G=D.itemCount,I=c(function(){var e=t.filter(function(e){var n=e.value;return!F.find(function(e){return e.value===n})});return[].concat(i(F),i(e))},[F,t]);return a.createElement(u,{withTitle:!0,value:t,onChange:void 0===v?function(){}:v,filter:L,setFilter:M,options:I,width:\"100%\",flexShrink:0,flexGrow:0,placeholder:A(\"Select_an_option\"),endReached:R===h.LOADING?function(){}:function(e){return e&&C(e,Math.min(50,G))}})}))}","map":"{\"version\":3,\"sources\":[\"client/omnichannel/tags/AutoCompleteTagsMultiple.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { PaginatedMultiSelectOption } from '@rocket.chat/fuselage';\\nimport { PaginatedMultiSelectFiltered } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport React, { memo, useMemo, useState } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useRecordList } from '../../hooks/lists/useRecordList';\\nimport { AsyncStatePhase } from '../../hooks/useAsyncState';\\nimport { useTagsList } from '../../hooks/useTagsList';\\n\\ntype AutoCompleteTagsMultipleProps = {\\n\\tvalue?: PaginatedMultiSelectOption[];\\n\\tonlyMyTags?: boolean;\\n\\tonChange?: (value: PaginatedMultiSelectOption[]) => void;\\n\\tdepartment?: string;\\n\\tviewAll?: boolean;\\n};\\n\\nconst AutoCompleteTagsMultiple = ({\\n\\tvalue = [],\\n\\tonlyMyTags = false,\\n\\tonChange = () => undefined,\\n\\tdepartment,\\n\\tviewAll = false,\\n}: AutoCompleteTagsMultipleProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst [tagsFilter, setTagsFilter] = useState('');\\n\\n\\tconst debouncedTagsFilter = useDebouncedValue(tagsFilter, 500);\\n\\n\\tconst { itemsList: tagsList, loadMoreItems: loadMoreTags } = useTagsList(\\n\\t\\tuseMemo(\\n\\t\\t\\t() => ({ filter: debouncedTagsFilter, onlyMyTags, department, viewAll }),\\n\\t\\t\\t[debouncedTagsFilter, onlyMyTags, department, viewAll],\\n\\t\\t),\\n\\t);\\n\\n\\tconst { phase: tagsPhase, items: tagsItems, itemCount: tagsTotal } = useRecordList(tagsList);\\n\\n\\tconst tagsOptions = useMemo(() => {\\n\\t\\tconst pending = value.filter(({ value }) => !tagsItems.find((tag) => tag.value === value));\\n\\t\\treturn [...tagsItems, ...pending];\\n\\t}, [tagsItems, value]);\\n\\n\\treturn (\\n\\t\\t<PaginatedMultiSelectFiltered\\n\\t\\t\\twithTitle\\n\\t\\t\\tvalue={value}\\n\\t\\t\\tonChange={onChange}\\n\\t\\t\\tfilter={tagsFilter}\\n\\t\\t\\tsetFilter={setTagsFilter}\\n\\t\\t\\toptions={tagsOptions}\\n\\t\\t\\twidth='100%'\\n\\t\\t\\tflexShrink={0}\\n\\t\\t\\tflexGrow={0}\\n\\t\\t\\tplaceholder={t('Select_an_option')}\\n\\t\\t\\tendReached={\\n\\t\\t\\t\\ttagsPhase === AsyncStatePhase.LOADING ? () => undefined : (start) => start && loadMoreTags(start, Math.min(50, tagsTotal))\\n\\t\\t\\t}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default memo(AutoCompleteTagsMultiple);\\n\",null],\"names\":[\"_toConsumableArray\",\"_slicedToArray\",\"PaginatedMultiSelectFiltered\",\"useDebouncedValue\",\"React\",\"memo\",\"useMemo\",\"useState\",\"useTranslation\",\"useRecordList\",\"AsyncStatePhase\",\"useTagsList\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_ref$value\",\"value\",\"_ref$onlyMyTags\",\"onlyMyTags\",\"_ref$onChange\",\"onChange\",\"department\",\"_ref$viewAll\",\"viewAll\",\"t\",\"_useTranslation\",\"_useState\",\"_useState2\",\"tagsFilter\",\"setTagsFilter\",\"debouncedTagsFilter\",\"_useTagsList\",\"filter\",\"tagsList\",\"itemsList\",\"loadMoreTags\",\"loadMoreItems\",\"_useRecordList\",\"tagsPhase\",\"phase\",\"tagsItems\",\"items\",\"tagsTotal\",\"itemCount\",\"tagsOptions\",\"pending\",\"_ref2\",\"find\",\"tag\",\"concat\",\"createElement\",\"withTitle\",\"setFilter\",\"options\",\"width\",\"flexShrink\",\"flexGrow\",\"placeholder\",\"endReached\",\"LOADING\",\"start\",\"Math\",\"min\"],\"mappings\":\"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\"}"}