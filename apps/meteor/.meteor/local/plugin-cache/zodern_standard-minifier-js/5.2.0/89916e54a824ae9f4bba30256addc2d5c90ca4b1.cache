{"code":"function module(e,n,t){var i,r,l,c,o,a,u,s,f,d,m,h;t.link(\"@babel/runtime/helpers/taggedTemplateLiteralLoose\",{default:function(e){r=e}},0),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){l=e}},1),t.link(\"@rocket.chat/css-in-js\",{css:function(e){c=e}},0),t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},Icon:function(e){a=e}},1),t.link(\"react\",{default:function(e){u=e},useCallback:function(e){s=e},useEffect:function(e){f=e},useState:function(e){d=e}},2),t.link(\"react-dom\",{createPortal:function(e){m=e}},3),t.link(\"./ScreenshotCarousel\",{default:function(e){h=e}},4),t.exportDefault(function(e){var n,t=e.screenshots,p=d(!1),v=l(p,2),g=v[0],k=v[1],x=d(0),E=l(x,2),b=E[0],S=E[1],w=d(0),y=l(w,2),I=y[0],L=y[1],A=t.length,C=0===b,D=b===A-1,F=g&&(null==t?void 0:t.length),N=s(function(e){({ArrowLeft:function(){return S(function(e){return 0!==e?e-1:0})},ArrowRight:function(){return S(function(e){return e!==A-1?e+1:A-1})},Escape:function(){return k(!1)}})[e.key]()},[A]);f(function(){var e=setInterval(function(){L(function(e){return e===A-1?0:e+1})},5e3);return document.addEventListener(\"keydown\",N),function(){clearInterval(e),document.removeEventListener(\"keydown\",N)}},[N,A]);var P=m(u.createElement(h,{AppScreenshots:t,setViewCarousel:k,handleNextSlide:function(){S(b+1)},handlePrevSlide:function(){S(b-1)},isFirstSlide:C,isLastSlide:D,currentSlideIndex:b}),document.body);return u.createElement(u.Fragment,null,u.createElement(o,{onClick:function(){return k(!0)},display:\"flex\",flexDirection:\"column\",maxWidth:\"x640\",width:\"100%\",style:{cursor:\"pointer\"},tabIndex:0},u.createElement(o,{is:\"img\",src:null===(n=t[I])||void 0===n?void 0:n.accessUrl,alt:\"App preview image\",className:[c(i||(i=r([\"\\n\t\t\t\t\t\t\ttransition: filter 0.2s ease;\\n\t\t\t\t\t\t\t&:hover {\\n\t\t\t\t\t\t\t\tfilter: brightness(90%);\\n\t\t\t\t\t\t\t}\\n\t\t\t\t\t\t\"])))]}),u.createElement(o,{display:\"flex\",flexDirection:\"row\",bg:\"tint\",pi:16,pb:10,alignItems:\"center\"},u.createElement(a,{name:\"image\",size:\"x24\",mie:8}),\" \",u.createElement(o,{is:\"span\",fontScale:\"p2m\",color:\"default\"},I+1,\" of \",t.length))),F&&P)})}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/components/ScreenshotCarouselAnchor.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { AppScreenshot } from '@rocket.chat/core-typings';\\nimport { css } from '@rocket.chat/css-in-js';\\nimport { Box, Icon } from '@rocket.chat/fuselage';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback, useEffect, useState } from 'react';\\nimport { createPortal } from 'react-dom';\\n\\nimport ScreenshotCarousel from './ScreenshotCarousel';\\n\\ntype ScreenshotCarouselAnchorProps = {\\n\\tscreenshots: AppScreenshot[];\\n};\\n\\ntype voidFunction = () => void;\\n\\nconst ScreenshotCarouselAnchor = ({ screenshots }: ScreenshotCarouselAnchorProps): ReactElement => {\\n\\tconst [viewCarousel, setViewCarousel] = useState(false);\\n\\n\\tconst [currentSlideIndex, setCurrentSlideIndex] = useState(0);\\n\\n\\tconst [currentPreviewIndex, setCurrentPreviewIndex] = useState(0);\\n\\n\\tconst { length } = screenshots;\\n\\n\\tconst isFirstSlide = currentSlideIndex === 0;\\n\\tconst isLastSlide = currentSlideIndex === length - 1;\\n\\n\\tconst isCarouselVisible = viewCarousel && screenshots?.length;\\n\\n\\tconst handleNextSlide = (): void => {\\n\\t\\tsetCurrentSlideIndex(currentSlideIndex + 1);\\n\\t};\\n\\n\\tconst handlePrevSlide = (): void => {\\n\\t\\tsetCurrentSlideIndex(currentSlideIndex - 1);\\n\\t};\\n\\n\\tconst handleKeyboardKey = useCallback(\\n\\t\\t(onKeyDownEvent: KeyboardEvent): void => {\\n\\t\\t\\tconst keysObject: Record<string, voidFunction> = {\\n\\t\\t\\t\\tArrowLeft: () => setCurrentSlideIndex((prevSlideIndex) => (prevSlideIndex !== 0 ? prevSlideIndex - 1 : 0)),\\n\\t\\t\\t\\tArrowRight: () => setCurrentSlideIndex((prevSlideIndex) => (prevSlideIndex !== length - 1 ? prevSlideIndex + 1 : length - 1)),\\n\\t\\t\\t\\tEscape: () => setViewCarousel(false),\\n\\t\\t\\t};\\n\\n\\t\\t\\tkeysObject[onKeyDownEvent.key]();\\n\\t\\t},\\n\\t\\t[length],\\n\\t);\\n\\n\\tuseEffect(() => {\\n\\t\\tconst intervalId = setInterval(() => {\\n\\t\\t\\tsetCurrentPreviewIndex((prevIndex) => {\\n\\t\\t\\t\\tif (prevIndex === length - 1) return 0;\\n\\n\\t\\t\\t\\treturn prevIndex + 1;\\n\\t\\t\\t});\\n\\t\\t}, 5000);\\n\\n\\t\\tdocument.addEventListener('keydown', handleKeyboardKey);\\n\\n\\t\\treturn (): void => {\\n\\t\\t\\tclearInterval(intervalId);\\n\\t\\t\\tdocument.removeEventListener('keydown', handleKeyboardKey);\\n\\t\\t};\\n\\t}, [handleKeyboardKey, length]);\\n\\n\\tconst carouselPortal = createPortal(\\n\\t\\t<ScreenshotCarousel\\n\\t\\t\\tAppScreenshots={screenshots}\\n\\t\\t\\tsetViewCarousel={setViewCarousel}\\n\\t\\t\\thandleNextSlide={handleNextSlide}\\n\\t\\t\\thandlePrevSlide={handlePrevSlide}\\n\\t\\t\\tisFirstSlide={isFirstSlide}\\n\\t\\t\\tisLastSlide={isLastSlide}\\n\\t\\t\\tcurrentSlideIndex={currentSlideIndex}\\n\\t\\t/>,\\n\\t\\tdocument.body,\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<Box\\n\\t\\t\\t\\tonClick={(): void => setViewCarousel(true)}\\n\\t\\t\\t\\tdisplay='flex'\\n\\t\\t\\t\\tflexDirection='column'\\n\\t\\t\\t\\tmaxWidth='x640'\\n\\t\\t\\t\\twidth='100%'\\n\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\tcursor: 'pointer',\\n\\t\\t\\t\\t}}\\n\\t\\t\\t\\ttabIndex={0}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\tis='img'\\n\\t\\t\\t\\t\\tsrc={screenshots[currentPreviewIndex]?.accessUrl}\\n\\t\\t\\t\\t\\talt='App preview image'\\n\\t\\t\\t\\t\\tclassName={[\\n\\t\\t\\t\\t\\t\\tcss`\\n\\t\\t\\t\\t\\t\\t\\ttransition: filter 0.2s ease;\\n\\t\\t\\t\\t\\t\\t\\t&:hover {\\n\\t\\t\\t\\t\\t\\t\\t\\tfilter: brightness(90%);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t`,\\n\\t\\t\\t\\t\\t]}\\n\\t\\t\\t\\t/>\\n\\n\\t\\t\\t\\t<Box display='flex' flexDirection='row' bg='tint' pi={16} pb={10} alignItems='center'>\\n\\t\\t\\t\\t\\t<Icon name='image' size='x24' mie={8} />{' '}\\n\\t\\t\\t\\t\\t<Box is='span' fontScale='p2m' color='default'>\\n\\t\\t\\t\\t\\t\\t{currentPreviewIndex + 1} of {screenshots.length}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Box>\\n\\t\\t\\t{isCarouselVisible && carouselPortal}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default ScreenshotCarouselAnchor;\\n\",null],\"names\":[\"_taggedTemplateLiteralLoose\",\"_slicedToArray\",\"css\",\"Box\",\"Icon\",\"React\",\"useCallback\",\"useEffect\",\"useState\",\"createPortal\",\"ScreenshotCarousel\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_screenshots$currentP\",\"screenshots\",\"_useState\",\"_useState2\",\"viewCarousel\",\"setViewCarousel\",\"_useState3\",\"_useState4\",\"currentSlideIndex\",\"setCurrentSlideIndex\",\"_useState5\",\"_useState6\",\"currentPreviewIndex\",\"setCurrentPreviewIndex\",\"length\",\"isFirstSlide\",\"isLastSlide\",\"isCarouselVisible\",\"handleKeyboardKey\",\"onKeyDownEvent\",\"keysObject\",\"ArrowLeft\",\"prevSlideIndex\",\"ArrowRight\",\"Escape\",\"key\",\"intervalId\",\"setInterval\",\"prevIndex\",\"document\",\"addEventListener\",\"clearInterval\",\"removeEventListener\",\"carouselPortal\",\"createElement\",\"AppScreenshots\",\"handleNextSlide\",\"handlePrevSlide\",\"body\",\"Fragment\",\"onClick\",\"display\",\"flexDirection\",\"maxWidth\",\"width\",\"style\",\"cursor\",\"tabIndex\",\"is\",\"src\",\"accessUrl\",\"alt\",\"className\",\"_templateObject\",\"bg\",\"pi\",\"pb\",\"alignItems\",\"name\",\"size\",\"mie\",\"fontScale\",\"color\"],\"mappings\":\"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\"}"}