{"code":"function module(e,t,n){let a,r,s,l,i,o,u,c;let d=[\"resolve\",\"reject\",\"reset\"];n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){a=e}},0),n.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){r=e}},1),n.export({useEndpointData:()=>f}),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){s=e},useEndpoint(e){l=e}},0),n.link(\"react\",{useCallback(e){i=e},useEffect(e){o=e}},1),n.link(\"../lib/utils/getConfig\",{getConfig(e){u=e}},2),n.link(\"./useAsyncState\",{useAsyncState(e){c=e}},3);let p=\"true\"===u(\"debug\")?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.warn(\"useEndpointData is deprecated, use @tanstack/react-query instead\",...t)}:()=>void 0,f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(r({endpoint:e},t));let n=c(t.initialValue),{resolve:u,reject:f,reset:k}=n,b=a(n,d),g=s(),h=l(\"GET\",e,t.keys),m=i(()=>{k(),h(t.params).then(u).catch(e=>{console.error(e),g({type:\"error\",message:e}),f(e)})},[k,h,t.params,u,g,f]);return o(()=>{m()},[m]),r(r({},b),{},{reload:m})}}","map":"{\"version\":3,\"sources\":[\"client/hooks/useEndpointData.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { Serialized } from '@rocket.chat/core-typings';\\nimport type { OperationParams, OperationResult, PathPattern, UrlParams } from '@rocket.chat/rest-typings';\\nimport { useToastMessageDispatch, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useCallback, useEffect } from 'react';\\n\\nimport { getConfig } from '../lib/utils/getConfig';\\nimport type { AsyncState } from './useAsyncState';\\nimport { useAsyncState } from './useAsyncState';\\n\\nconst log = (name: string): Console['log'] =>\\n\\tprocess.env.NODE_ENV !== 'production' || getConfig('debug') === 'true'\\n\\t\\t? (...args): void => console.warn(name, ...args)\\n\\t\\t: (): void => undefined;\\n\\nconst deprecationWarning = log('useEndpointData is deprecated, use @tanstack/react-query instead');\\n\\n/**\\n * use @tanstack/react-query with useEndpoint instead\\n * @deprecated\\n */\\nexport const useEndpointData = <TPathPattern extends PathPattern>(\\n\\tendpoint: TPathPattern,\\n\\toptions: NoInfer<{\\n\\t\\tkeys?: UrlParams<TPathPattern>;\\n\\t\\tparams?: OperationParams<'GET', TPathPattern>;\\n\\t\\tinitialValue?: Serialized<OperationResult<'GET', TPathPattern>> | (() => Serialized<OperationResult<'GET', TPathPattern>>);\\n\\t}> = {},\\n): AsyncState<Serialized<OperationResult<'GET', TPathPattern>>> & {\\n\\treload: () => void;\\n} => {\\n\\tdeprecationWarning({ endpoint, ...options });\\n\\tconst { resolve, reject, reset, ...state } = useAsyncState(options.initialValue);\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst getData = useEndpoint('GET', endpoint, options.keys as UrlParams<TPathPattern>);\\n\\n\\tconst fetchData = useCallback(() => {\\n\\t\\treset();\\n\\t\\tgetData(options.params as OperationParams<'GET', TPathPattern>)\\n\\t\\t\\t.then(resolve)\\n\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\tconsole.error(error);\\n\\t\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\t\\ttype: 'error',\\n\\t\\t\\t\\t\\tmessage: error,\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\treject(error);\\n\\t\\t\\t});\\n\\t}, [reset, getData, options.params, resolve, dispatchToastMessage, reject]);\\n\\n\\tuseEffect(() => {\\n\\t\\tfetchData();\\n\\t}, [fetchData]);\\n\\n\\treturn {\\n\\t\\t...state,\\n\\t\\treload: fetchData,\\n\\t};\\n};\\n\",null],\"names\":[\"_objectWithoutProperties\",\"_objectSpread\",\"useToastMessageDispatch\",\"useEndpoint\",\"useCallback\",\"useEffect\",\"getConfig\",\"useAsyncState\",\"module\",\"link\",\"default\",\"v\",\"export\",\"useEndpointData\",\"deprecationWarning\",\"process\",\"_len\",\"arguments\",\"length\",\"args\",\"Array\",\"_key\",\"console\",\"warn\",\"undefined\",\"endpoint\",\"options\",\"_useAsyncState\",\"initialValue\",\"resolve\",\"reject\",\"reset\",\"state\",\"_excluded\",\"dispatchToastMessage\",\"getData\",\"keys\",\"fetchData\",\"params\",\"then\",\"catch\",\"error\",\"type\",\"message\",\"reload\"],\"mappings\":\"2BAEAA,EAAgFC,EAA3BC,EAA2BC,EAAAC,EAAAC,EAAAC,EAAAC,qCAAvEC,EAAyBC,IAAA,CAAA,iDAA8C,CAAAC,QAAAC,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAAC,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAhFH,EAAOI,MAAE,CAAA,CAAAC,gBAAAA,IAAyBA,CAAa,GAAiCL,EAAAC,IAAA,CAAA,2BAAA,CAAAP,wBAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,YAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAL,YAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,UAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,yBAAA,CAAAH,UAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kBAAA,CAAAF,cAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAYhF,IAAMG,EAJLC,AAAyCT,AAAuB,SAAvBA,EAAU,SAChD,WAAA,IAAA,IAAAU,EAAAC,UAAAC,MAAA,CAAIC,EAAI,AAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAJF,CAAI,CAAAE,EAAA,CAAAJ,SAAA,CAAAI,EAAA,CAAA,OAAWC,QAAQC,IAAI,CAGJ,sEAHcJ,EAAK,EAC9C,IAAYK,KAAAA,EAQHX,EAAkB,SAC9BY,CAAsB,EAQnB,IAPHC,EAAAT,UAAAC,MAAA,CAAA,GAAAD,AAAAO,KAAAA,IAAAP,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAIK,CAAA,EAILH,EAAkBb,EAAA,CAAGwB,SAAAA,CAAQ,EAAKC,IAClC,IAAAC,EAA6CpB,EAAcmB,EAAQE,YAAY,EAAzE,CAAEC,QAAAA,CAAO,CAAEC,OAAAA,CAAM,CAAEC,MAAAA,CAAAA,CAAiB,CAAAJ,EAAPK,EAAKhC,EAAA2B,EAAAM,GAClCC,EAAuBhC,IACvBiC,EAAUhC,EAAY,MAAOsB,EAAUC,EAAQU,IAA+B,EAE9EC,EAAYjC,EAAY,KAC7B2B,IACAI,EAAQT,EAAQY,MAA8C,EAC5DC,IAAI,CAACV,GACLW,KAAK,CAAEC,IACPnB,QAAQmB,KAAK,CAACA,GACdP,EAAqB,CACpBQ,KAAM,QACNC,QAASF,IAEVX,EAAOW,EACR,EACF,EAAG,CAACV,EAAOI,EAAST,EAAQY,MAAM,CAAET,EAASK,EAAsBJ,EAAO,EAM1E,OAJAzB,EAAU,KACTgC,GACD,EAAG,CAACA,EAAU,EAEdpC,EAAAA,EAAA,CAAA,EACI+B,GAAK,CAAA,EAAA,CACRY,OAAQP,CAAS,EAEnB\"}"}