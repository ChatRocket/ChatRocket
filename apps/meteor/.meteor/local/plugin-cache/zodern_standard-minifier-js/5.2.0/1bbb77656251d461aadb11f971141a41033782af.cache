{"code":"function module(e,t,n){var o,r,l,u,a,c,s,i,d,f,m,k,p,C,b,x,h,E,g,v,A,M,F,U,y,T;n.link(\"@babel/runtime/helpers/extends\",{default:function(e){o=e}},0),n.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},1),n.link(\"@rocket.chat/core-typings\",{isRoomFederated:function(e){l=e}},0),n.link(\"@rocket.chat/fuselage\",{Field:function(e){u=e},FieldLabel:function(e){a=e},Button:function(e){c=e},ButtonGroup:function(e){s=e},FieldGroup:function(e){i=e}},1),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){d=e}},2),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){f=e},useMethod:function(e){m=e},useTranslation:function(e){k=e}},3),n.link(\"react\",{default:function(e){p=e}},4),n.link(\"react-hook-form\",{Controller:function(e){C=e},useForm:function(e){b=e}},5),n.link(\"../../../../../components/Contextualbar\",{ContextualbarHeader:function(e){x=e},ContextualbarBack:function(e){h=e},ContextualbarTitle:function(e){E=e},ContextualbarClose:function(e){g=e},ContextualbarScrollableContent:function(e){v=e},ContextualbarFooter:function(e){A=e}},6),n.link(\"../../../../../components/UserAutoCompleteMultiple\",{default:function(e){M=e}},7),n.link(\"../../../../../components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated\",{default:function(e){F=e}},8),n.link(\"../../../contexts/RoomContext\",{useRoom:function(e){U=e}},9),n.link(\"../../../contexts/RoomToolboxContext\",{useRoomToolbox:function(e){y=e}},10),n.link(\"./AddMatrixUsers/useAddMatrixUsers\",{useAddMatrixUsers:function(e){T=e}},11),n.exportDefault(function(e){var t=e.rid,n=e.onClickBack,_=e.reload,R=k(),S=f(),B=U(),w=y().closeTab,D=m(\"addUsersToRoom\"),G=b({defaultValues:{users:[]}}),L=G.handleSubmit,V=G.control,H=G.getValues,P=G.formState,j=P.isDirty,q=P.isSubmitting,z=d(function(e){var o;return r.async(function(l){for(;;)switch(l.prev=l.next){case 0:return o=e.users,l.prev=1,l.next=4,r.awrap(D({rid:t,users:o}));case 4:S({type:\"success\",message:R(\"Users_added\")}),n(),_(),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(1),S({type:\"error\",message:l.t0});case 12:case\"end\":return l.stop()}},null,null,[[1,9]],Promise)}),I=T();return p.createElement(p.Fragment,null,p.createElement(x,null,n&&p.createElement(h,{onClick:n}),p.createElement(E,null,R(\"Add_users\")),w&&p.createElement(g,{onClick:w})),p.createElement(v,null,p.createElement(i,null,p.createElement(u,null,p.createElement(a,{flexGrow:0},R(\"Choose_users\")),l(B)?p.createElement(C,{name:\"users\",control:V,render:function(e){var t=e.field;return p.createElement(F,o({},t,{placeholder:R(\"Choose_users\")}))}}):p.createElement(C,{name:\"users\",control:V,render:function(e){var t=e.field;return p.createElement(M,o({},t,{placeholder:R(\"Choose_users\")}))}})))),p.createElement(A,null,p.createElement(s,{stretch:!0},l(B)?p.createElement(c,{primary:!0,disabled:I.isLoading,onClick:function(){return I.mutate({users:H(\"users\"),handleSave:z})}},R(\"Add_users\")):p.createElement(c,{primary:!0,loading:q,disabled:!j,onClick:L(z)},R(\"Add_users\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/RoomMembers/AddUsers/AddUsers.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport { isRoomFederated } from '@rocket.chat/core-typings';\\nimport { Field, FieldLabel, Button, ButtonGroup, FieldGroup } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useToastMessageDispatch, useMethod, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { Controller, useForm } from 'react-hook-form';\\n\\nimport {\\n\\tContextualbarHeader,\\n\\tContextualbarBack,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarScrollableContent,\\n\\tContextualbarFooter,\\n} from '../../../../../components/Contextualbar';\\nimport UserAutoCompleteMultiple from '../../../../../components/UserAutoCompleteMultiple';\\nimport UserAutoCompleteMultipleFederated from '../../../../../components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated';\\nimport { useRoom } from '../../../contexts/RoomContext';\\nimport { useRoomToolbox } from '../../../contexts/RoomToolboxContext';\\nimport { useAddMatrixUsers } from './AddMatrixUsers/useAddMatrixUsers';\\n\\ntype AddUsersProps = {\\n\\trid: IRoom['_id'];\\n\\tonClickBack: () => void;\\n\\treload: () => void;\\n};\\n\\nconst AddUsers = ({ rid, onClickBack, reload }: AddUsersProps): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst room = useRoom();\\n\\n\\tconst { closeTab } = useRoomToolbox();\\n\\tconst saveAction = useMethod('addUsersToRoom');\\n\\n\\tconst {\\n\\t\\thandleSubmit,\\n\\t\\tcontrol,\\n\\t\\tgetValues,\\n\\t\\tformState: { isDirty, isSubmitting },\\n\\t} = useForm({ defaultValues: { users: [] } });\\n\\n\\tconst handleSave = useMutableCallback(async ({ users }) => {\\n\\t\\ttry {\\n\\t\\t\\tawait saveAction({ rid, users });\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Users_added') });\\n\\t\\t\\tonClickBack();\\n\\t\\t\\treload();\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error as Error });\\n\\t\\t}\\n\\t});\\n\\n\\tconst addClickHandler = useAddMatrixUsers();\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t{onClickBack && <ContextualbarBack onClick={onClickBack} />}\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Add_users')}</ContextualbarTitle>\\n\\t\\t\\t\\t{closeTab && <ContextualbarClose onClick={closeTab} />}\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t<FieldGroup>\\n\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t<FieldLabel flexGrow={0}>{t('Choose_users')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t{isRoomFederated(room) ? (\\n\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\tname='users'\\n\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <UserAutoCompleteMultipleFederated {...field} placeholder={t('Choose_users')} />}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\tname='users'\\n\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <UserAutoCompleteMultiple {...field} placeholder={t('Choose_users')} />}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t{isRoomFederated(room) ? (\\n\\t\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\t\\tprimary\\n\\t\\t\\t\\t\\t\\t\\tdisabled={addClickHandler.isLoading}\\n\\t\\t\\t\\t\\t\\t\\tonClick={() =>\\n\\t\\t\\t\\t\\t\\t\\t\\taddClickHandler.mutate({\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tusers: getValues('users'),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\thandleSave,\\n\\t\\t\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t{t('Add_users')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t<Button primary loading={isSubmitting} disabled={!isDirty} onClick={handleSubmit(handleSave)}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Add_users')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default AddUsers;\\n\",null],\"names\":[\"_extends\",\"_regeneratorRuntime\",\"isRoomFederated\",\"Field\",\"FieldLabel\",\"Button\",\"ButtonGroup\",\"FieldGroup\",\"useMutableCallback\",\"useToastMessageDispatch\",\"useMethod\",\"useTranslation\",\"React\",\"Controller\",\"useForm\",\"ContextualbarHeader\",\"ContextualbarBack\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarScrollableContent\",\"ContextualbarFooter\",\"UserAutoCompleteMultiple\",\"UserAutoCompleteMultipleFederated\",\"useRoom\",\"useRoomToolbox\",\"useAddMatrixUsers\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"rid\",\"onClickBack\",\"reload\",\"t\",\"dispatchToastMessage\",\"room\",\"closeTab\",\"_useRoomToolbox\",\"saveAction\",\"_useForm\",\"defaultValues\",\"users\",\"handleSubmit\",\"control\",\"getValues\",\"_useForm$formState\",\"formState\",\"isDirty\",\"isSubmitting\",\"handleSave\",\"_ref2\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"type\",\"message\",\"t0\",\"stop\",\"Promise\",\"addClickHandler\",\"createElement\",\"Fragment\",\"onClick\",\"flexGrow\",\"name\",\"render\",\"_ref3\",\"field\",\"placeholder\",\"_ref4\",\"stretch\",\"primary\",\"disabled\",\"isLoading\",\"mutate\",\"loading\"],\"mappings\":\"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\"}"}