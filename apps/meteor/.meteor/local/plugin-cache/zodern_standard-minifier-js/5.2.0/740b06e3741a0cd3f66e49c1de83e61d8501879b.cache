{"code":"function module(e,n,t){t.link(\"@babel/runtime/helpers/extends\",{default:function(e){l=e}},0),t.export({WrapUpCallModal:function(){return k}}),t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},Button:function(e){a=e},Field:function(e){c=e},FieldLabel:function(e){r=e},FieldRow:function(e){u=e},FieldHint:function(e){i=e},Modal:function(e){m=e},TextAreaInput:function(e){f=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){s=e}},1),t.link(\"react\",{default:function(e){E=e},useEffect:function(e){_=e}},2),t.link(\"react-hook-form\",{useForm:function(e){d=e}},3),t.link(\"react-i18next\",{useTranslation:function(e){h=e}},4),t.link(\"../../../components/Omnichannel/Tags\",{default:function(e){p=e}},5);var l,o,a,c,r,u,i,m,f,s,E,_,d,h,p,k=function(e){var n=e.closeRoom,t=s(),k=function(){return t(null)},b=h().t,F=d(),g=F.register,v=F.handleSubmit,x=F.setValue,C=(0,F.watch)(\"tags\");_(function(){g(\"tags\")},[g]);var y=function(e){n(e),k()};return E.createElement(m,{wrapperFunction:function(e){return E.createElement(o,l({is:\"form\",onSubmit:v(y)},e))}},E.createElement(m.Header,null,E.createElement(m.Title,null,b(\"Wrap_up_the_call\")),E.createElement(m.Close,{onClick:k})),E.createElement(m.Content,null,E.createElement(c,{mbe:\"24px\"},E.createElement(r,null,b(\"Notes\")),E.createElement(u,null,E.createElement(f,l({placeholder:b(\"Do_you_have_any_notes_for_this_conversation\")},g(\"comment\")))),E.createElement(i,null,b(\"These_notes_will_be_available_in_the_call_summary\"))),E.createElement(c,null,E.createElement(p,{tags:C,handler:function(e){x(\"tags\",e)}}))),E.createElement(m.Footer,null,E.createElement(m.FooterControllers,null,E.createElement(a,{secondary:!0,onClick:function(){n(),k()}},b(\"Cancel\")),E.createElement(a,{type:\"submit\",primary:!0},b(\"Save\")))))}}","map":"{\"version\":3,\"sources\":[\"client/voip/components/modals/WrapUpCallModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Button, Field, FieldLabel, FieldRow, FieldHint, Modal, TextAreaInput } from '@rocket.chat/fuselage';\\nimport { useSetModal } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useEffect } from 'react';\\nimport type { SubmitHandler } from 'react-hook-form';\\nimport { useForm } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport Tags from '../../../components/Omnichannel/Tags';\\n\\ntype WrapUpCallPayload = {\\n\\tcomment: string;\\n\\ttags?: string[];\\n};\\n\\ntype WrapUpCallModalProps = {\\n\\tcloseRoom: (data?: { comment?: string; tags?: string[] }) => void;\\n};\\n\\nexport const WrapUpCallModal = ({ closeRoom }: WrapUpCallModalProps): ReactElement => {\\n\\tconst setModal = useSetModal();\\n\\n\\tconst closeModal = (): void => setModal(null);\\n\\tconst { t } = useTranslation();\\n\\n\\tconst { register, handleSubmit, setValue, watch } = useForm<WrapUpCallPayload>();\\n\\n\\tconst tags = watch('tags');\\n\\n\\tuseEffect(() => {\\n\\t\\tregister('tags');\\n\\t}, [register]);\\n\\n\\tconst handleTags = (value: string[]): void => {\\n\\t\\tsetValue('tags', value);\\n\\t};\\n\\n\\tconst onSubmit: SubmitHandler<WrapUpCallPayload> = (data: { comment?: string; tags?: string[] }): void => {\\n\\t\\tcloseRoom(data);\\n\\t\\tcloseModal();\\n\\t};\\n\\n\\tconst onCancel = (): void => {\\n\\t\\tcloseRoom();\\n\\t\\tcloseModal();\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Modal wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(onSubmit)} {...props} />}>\\n\\t\\t\\t<Modal.Header>\\n\\t\\t\\t\\t<Modal.Title>{t('Wrap_up_the_call')}</Modal.Title>\\n\\t\\t\\t\\t<Modal.Close onClick={closeModal} />\\n\\t\\t\\t</Modal.Header>\\n\\t\\t\\t<Modal.Content>\\n\\t\\t\\t\\t<Field mbe='24px'>\\n\\t\\t\\t\\t\\t<FieldLabel>{t('Notes')}</FieldLabel>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<TextAreaInput placeholder={t('Do_you_have_any_notes_for_this_conversation')} {...register('comment')} />\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t<FieldHint>{t('These_notes_will_be_available_in_the_call_summary')}</FieldHint>\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<Tags tags={tags} handler={handleTags as () => void} />\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t</Modal.Content>\\n\\t\\t\\t<Modal.Footer>\\n\\t\\t\\t\\t<Modal.FooterControllers>\\n\\t\\t\\t\\t\\t<Button secondary onClick={onCancel}>\\n\\t\\t\\t\\t\\t\\t{t('Cancel')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t<Button type='submit' primary>\\n\\t\\t\\t\\t\\t\\t{t('Save')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</Modal.FooterControllers>\\n\\t\\t\\t</Modal.Footer>\\n\\t\\t</Modal>\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_extends\",\"export\",\"WrapUpCallModal\",\"Box\",\"Button\",\"Field\",\"FieldLabel\",\"FieldRow\",\"FieldHint\",\"Modal\",\"TextAreaInput\",\"useSetModal\",\"React\",\"useEffect\",\"useForm\",\"useTranslation\",\"Tags\",\"_ref\",\"closeRoom\",\"setModal\",\"closeModal\",\"t\",\"_useTranslation\",\"_useForm\",\"register\",\"handleSubmit\",\"setValue\",\"tags\",\"watch\",\"onSubmit\",\"data\",\"createElement\",\"wrapperFunction\",\"props\",\"is\",\"Header\",\"Title\",\"Close\",\"onClick\",\"Content\",\"mbe\",\"placeholder\",\"handler\",\"value\",\"Footer\",\"FooterControllers\",\"secondary\",\"type\",\"primary\"],\"mappings\":\"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\"}"}