{"code":"function module(e,t,n){n.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},0),n.link(\"@rocket.chat/fuselage\",{Box:function(e){i=e},Skeleton:function(e){o=e}},0),n.link(\"react\",{default:function(e){r=e}},1),n.link(\"react-i18next\",{useTranslation:function(e){c=e}},2),n.link(\"../../../../hooks/useActiveConnections\",{useActiveConnections:function(e){l=e}},3),n.link(\"../FeatureUsageCard\",{default:function(e){u=e}},4),n.link(\"../UpgradeButton\",{default:function(e){s=e}},5);var a,i,o,r,c,l,u,s,f=function(e){var t=e.max,n=e.current,a=t||0,i=n||0;return{total:a,used:i,available:a-i,exceedLimit:i>=a}};n.exportDefault(function(){var e=c().t,t=l(),n={title:e(\"ActiveSessions\"),infoText:e(\"ActiveSessions_InfoText\")};if(t.isLoading||t.isError)return r.createElement(u,{card:n},r.createElement(o,{variant:\"rect\",width:\"x112\",height:\"x112\"}));var d=f(t.data),v=d.total,m=d.used,g=d.available,k=d.exceedLimit;return r.createElement(u,{card:a(a({},n),k&&{upgradeButton:r.createElement(s,{target:\"active-session-card\",action:\"upgrade\",small:!0},e(\"Upgrade\"))})},r.createElement(i,{color:\"font-secondary-info\"},r.createElement(i,{fontScale:\"h1\",color:k?\"font-danger\":\"font-default\",mbe:12},m,\" / \",v),g,\" \",e(\"ActiveSessions_available\")))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/subscription/components/cards/ActiveSessionsCard.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Skeleton } from '@rocket.chat/fuselage';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useActiveConnections } from '../../../../hooks/useActiveConnections';\\nimport type { CardProps } from '../FeatureUsageCard';\\nimport FeatureUsageCard from '../FeatureUsageCard';\\nimport UpgradeButton from '../UpgradeButton';\\n\\nconst getLimits = ({ max, current }: { max: number; current: number }) => {\\n\\tconst total = max || 0;\\n\\tconst used = current || 0;\\n\\tconst available = total - used;\\n\\n\\tconst exceedLimit = used >= total;\\n\\n\\treturn {\\n\\t\\ttotal,\\n\\t\\tused,\\n\\t\\tavailable,\\n\\t\\texceedLimit,\\n\\t};\\n};\\n\\nconst ActiveSessionsCard = (): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst result = useActiveConnections();\\n\\n\\tconst card: CardProps = {\\n\\t\\ttitle: t('ActiveSessions'),\\n\\t\\tinfoText: t('ActiveSessions_InfoText'),\\n\\t};\\n\\n\\tif (result.isLoading || result.isError) {\\n\\t\\treturn (\\n\\t\\t\\t<FeatureUsageCard card={card}>\\n\\t\\t\\t\\t<Skeleton variant='rect' width='x112' height='x112' />\\n\\t\\t\\t</FeatureUsageCard>\\n\\t\\t);\\n\\t}\\n\\n\\tconst { total, used, available, exceedLimit } = getLimits(result.data);\\n\\n\\treturn (\\n\\t\\t<FeatureUsageCard\\n\\t\\t\\tcard={{\\n\\t\\t\\t\\t...card,\\n\\t\\t\\t\\t...(exceedLimit && {\\n\\t\\t\\t\\t\\tupgradeButton: (\\n\\t\\t\\t\\t\\t\\t<UpgradeButton target='active-session-card' action='upgrade' small>\\n\\t\\t\\t\\t\\t\\t\\t{t('Upgrade')}\\n\\t\\t\\t\\t\\t\\t</UpgradeButton>\\n\\t\\t\\t\\t\\t),\\n\\t\\t\\t\\t}),\\n\\t\\t\\t}}\\n\\t\\t>\\n\\t\\t\\t<Box color='font-secondary-info'>\\n\\t\\t\\t\\t<Box fontScale='h1' color={exceedLimit ? 'font-danger' : 'font-default'} mbe={12}>\\n\\t\\t\\t\\t\\t{used} / {total}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t{available} {t('ActiveSessions_available')}\\n\\t\\t\\t</Box>\\n\\t\\t</FeatureUsageCard>\\n\\t);\\n};\\n\\nexport default ActiveSessionsCard;\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_objectSpread\",\"Box\",\"Skeleton\",\"React\",\"useTranslation\",\"useActiveConnections\",\"FeatureUsageCard\",\"UpgradeButton\",\"getLimits\",\"_ref\",\"max\",\"current\",\"total\",\"used\",\"available\",\"exceedLimit\",\"exportDefault\",\"t\",\"_useTranslation\",\"result\",\"card\",\"title\",\"infoText\",\"isLoading\",\"isError\",\"createElement\",\"variant\",\"width\",\"height\",\"_getLimits\",\"data\",\"upgradeButton\",\"target\",\"action\",\"small\",\"color\",\"fontScale\",\"mbe\"],\"mappings\":\"uBAAcA,EAAUC,IAAA,CAAM,uCAAwB,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAxCH,EAAUC,IAAA,CAAA,wBAA6B,CAACI,IAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,EAAAG,SAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAO,eAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,yCAAA,CAAAQ,qBAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,sBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,mBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAUtD,IAVAC,EAAAC,EAAOC,EAA+CC,EAAAC,EAAAC,EAAAC,EAAAC,EAUhDC,EAAY,SAAAC,CAAA,EAAuD,IAApDC,EAAGD,EAAHC,GAAG,CAAEC,EAAOF,EAAPE,OAAO,CAC1BC,EAAQF,GAAO,EACfG,EAAOF,GAAW,EAKxB,MAAO,CACNC,MAAAA,EACAC,KAAAA,EACAC,UAPiBF,EAAQC,EAQzBE,YANmBF,GAAQD,EAQ7B,EAvBAhB,EAAOoB,aAAO,CAyBa,WAC1B,IAAQC,EAACC,AAAKd,IAANa,CAAC,CACHE,EAASd,IAETe,EAAkB,CACvBC,MAAOJ,EAAE,kBACTK,SAAUL,EAAE,4BAGb,GAAIE,EAAOI,SAAS,EAAIJ,EAAOK,OAAO,CACrC,OACCrB,EAAAsB,aAAA,CAACnB,EAAgB,CAACc,KAAMA,CAAK,EAC5BjB,EAAAsB,aAAA,CAACvB,EAAQ,CAACwB,QAAQ,OAAOC,MAAM,OAAOC,OAAO,MAAM,IAKtD,IAAAC,EAAgDrB,EAAUW,EAAOW,IAAI,EAA7DlB,EAAKiB,EAALjB,KAAK,CAAEC,EAAIgB,EAAJhB,IAAI,CAAEC,EAASe,EAATf,SAAS,CAAEC,EAAWc,EAAXd,WAAW,CAE3C,OACCZ,EAAAsB,aAAA,CAACnB,EAAgB,CAChBc,KAAIpB,EAAAA,EAAA,CAAA,EACAoB,GACCL,GAAe,CAClBgB,cACC5B,EAAAsB,aAAA,CAAClB,EAAa,CAACyB,OAAO,sBAAsBC,OAAO,UAAUC,MAAK,CAAA,CAAA,EAChEjB,EAAE,aAIL,EAEFd,EAAAsB,aAAA,CAACxB,EAAG,CAACkC,MAAM,qBAAqB,EAC/BhC,EAAAsB,aAAA,CAACxB,EAAG,CAACmC,UAAU,KAAKD,MAAOpB,EAAc,cAAgB,eAAgBsB,IAAK,EAAG,EAC/ExB,EAAM,MAAGD,GAEVE,EAAW,IAACG,EAAE,6BAInB\"}"}