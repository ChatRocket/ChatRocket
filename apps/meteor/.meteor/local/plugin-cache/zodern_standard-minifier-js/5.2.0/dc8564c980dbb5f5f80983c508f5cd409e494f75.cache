{"code":"function module(e,t,s){let i,n,o,r,a,c,u,l;s.export({useDismissMessageAction:()=>m}),s.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){i=e},useSetModal(e){n=e},useToastMessageDispatch(e){o=e}},0),s.link(\"@tanstack/react-query\",{useMutation(e){r=e},useQueryClient(e){a=e}},1),s.link(\"react\",{default(e){c=e}},2),s.link(\"react-i18next\",{useTranslation(e){u=e}},3),s.link(\"../../../../components/GenericModal\",{default(e){l=e}},4);let m=e=>{let{t}=u(),s=n(),m=o(),d=a(),p=i(\"POST\",\"/v1/moderation.dismissReports\"),M=r({mutationFn:p,onError:e=>{m({type:\"error\",message:e})},onSuccess:()=>{m({type:\"success\",message:t(\"Moderation_Reports_dismissed\")})}}),_=async()=>{await M.mutateAsync({msgId:e}),d.invalidateQueries({queryKey:[\"moderation\",\"msgReports\"]}),s()},y=()=>{s(c.createElement(l,{title:t(\"Moderation_Dismiss_reports\"),confirmText:t(\"Moderation_Dismiss_reports\"),variant:\"danger\",onConfirm:()=>_(),onCancel:()=>s()},t(\"Moderation_Dismiss_reports_confirm\")))};return{action:()=>y()}}}","map":"{\"version\":3,\"sources\":[\"client/views/admin/moderation/hooks/useDismissMessageAction.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint, useSetModal, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../../components/GenericModal';\\n\\nexport const useDismissMessageAction = (msgId: string): { action: () => void } => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst queryClient = useQueryClient();\\n\\n\\tconst dismissMessage = useEndpoint('POST', '/v1/moderation.dismissReports');\\n\\n\\tconst handleDismissMessage = useMutation({\\n\\t\\tmutationFn: dismissMessage,\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t\\tonSuccess: () => {\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Moderation_Reports_dismissed') });\\n\\t\\t},\\n\\t});\\n\\n\\tconst onDismissMessage = async () => {\\n\\t\\tawait handleDismissMessage.mutateAsync({ msgId });\\n\\t\\tqueryClient.invalidateQueries({ queryKey: ['moderation', 'msgReports'] });\\n\\t\\tsetModal();\\n\\t};\\n\\n\\tconst confirmDismissMessage = (): void => {\\n\\t\\tsetModal(\\n\\t\\t\\t<GenericModal\\n\\t\\t\\t\\ttitle={t('Moderation_Dismiss_reports')}\\n\\t\\t\\t\\tconfirmText={t('Moderation_Dismiss_reports')}\\n\\t\\t\\t\\tvariant='danger'\\n\\t\\t\\t\\tonConfirm={() => onDismissMessage()}\\n\\t\\t\\t\\tonCancel={() => setModal()}\\n\\t\\t\\t>\\n\\t\\t\\t\\t{t('Moderation_Dismiss_reports_confirm')}\\n\\t\\t\\t</GenericModal>,\\n\\t\\t);\\n\\t};\\n\\n\\treturn {\\n\\t\\taction: () => confirmDismissMessage(),\\n\\t};\\n};\\n\",null],\"names\":[\"useEndpoint\",\"useSetModal\",\"useToastMessageDispatch\",\"useMutation\",\"useQueryClient\",\"React\",\"useTranslation\",\"GenericModal\",\"module\",\"export\",\"useDismissMessageAction\",\"link\",\"v\",\"default\",\"msgId\",\"t\",\"setModal\",\"dispatchToastMessage\",\"queryClient\",\"dismissMessage\",\"handleDismissMessage\",\"mutationFn\",\"onError\",\"error\",\"type\",\"message\",\"onSuccess\",\"onDismissMessage\",\"mutateAsync\",\"invalidateQueries\",\"queryKey\",\"confirmDismissMessage\",\"createElement\",\"title\",\"confirmText\",\"variant\",\"onConfirm\",\"onCancel\",\"action\"],\"mappings\":\"2BAAkEA,EAAAC,EAA2BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA7FC,EAAOC,MAAE,CAAA,CAAAC,wBAA0BA,IAAAA,CAA+B,GAA2BF,EAAAG,IAAA,CAAA,2BAAA,CAAAX,YAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,YAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,wBAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,wBAAA,CAAAR,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,eAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,gBAAA,CAAAL,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,sCAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAOtF,IAAMF,EAA2BI,IACvC,GAAM,CAAEC,CAAAA,CAAG,CAAGT,IACRU,EAAWf,IACXgB,EAAuBf,IACvBgB,EAAcd,IAEde,EAAiBnB,EAAY,OAAQ,iCAErCoB,EAAuBjB,EAAY,CACxCkB,WAAYF,EACZG,QAAUC,IACTN,EAAqB,CAAEO,KAAM,QAASC,QAASF,CAAK,EACrD,EACAG,UAAWA,KACVT,EAAqB,CAAEO,KAAM,UAAWC,QAASV,EAAE,+BAA+B,EACnF,IAGKY,EAAmB,UACxB,MAAMP,EAAqBQ,WAAW,CAAC,CAAEd,MAAAA,CAAK,GAC9CI,EAAYW,iBAAiB,CAAC,CAAEC,SAAU,CAAC,aAAc,aAAY,AAAC,GACtEd,GACD,EAEMe,EAAwBA,KAC7Bf,EACCX,EAAA2B,aAAA,CAACzB,EAAY,CACZ0B,MAAOlB,EAAE,8BACTmB,YAAanB,EAAE,8BACfoB,QAAQ,SACRC,UAAWA,IAAMT,IACjBU,SAAUA,IAAMrB,GAAW,EAE1BD,EAAE,uCAGN,EAEA,MAAO,CACNuB,OAAQA,IAAMP,IAEhB\"}"}