{"code":"function module(e,n,o){var i,a,t,l,s,u,d,r,c,v,m,f,p,k,g,h,M,R,b,S,C,N,P,x,E,L,y;o.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){i=e}},0),o.link(\"@rocket.chat/ui-contexts\",{useRouter:function(e){a=e}},0),o.link(\"react\",{default:function(e){t=e},useMemo:function(e){l=e},memo:function(e){s=e},useEffect:function(e){u=e},useCallback:function(e){d=e}},1),o.link(\"../../../../app/models/client\",{ChatSubscription:function(e){r=e}},2),o.link(\"../../../../app/ui-utils/client\",{RoomHistoryManager:function(e){c=e}},3),o.link(\"../../../../app/ui/client/lib/UserAction\",{UserAction:function(e){v=e}},4),o.link(\"../../../hooks/useReactiveQuery\",{useReactiveQuery:function(e){m=e}},5),o.link(\"../../../hooks/useReactiveValue\",{useReactiveValue:function(e){f=e}},6),o.link(\"../../../hooks/useRoomInfoEndpoint\",{useRoomInfoEndpoint:function(e){p=e}},7),o.link(\"../../../hooks/useSidePanelNavigation\",{useSidePanelNavigation:function(e){k=e}},8),o.link(\"../../../lib/RoomManager\",{RoomManager:function(e){g=e}},9),o.link(\"../../../lib/rooms/roomCoordinator\",{roomCoordinator:function(e){h=e}},10),o.link(\"../../../providers/ImageGalleryProvider\",{default:function(e){M=e}},11),o.link(\"../RoomNotFound\",{default:function(e){R=e}},12),o.link(\"../RoomSkeleton\",{default:function(e){b=e}},13),o.link(\"../body/hooks/useRoomRolesManagement\",{useRoomRolesManagement:function(e){S=e}},14),o.link(\"../contexts/RoomContext\",{RoomContext:function(e){C=e}},15),o.link(\"./ComposerPopupProvider\",{default:function(e){N=e}},16),o.link(\"./RoomToolboxProvider\",{default:function(e){P=e}},17),o.link(\"./UserCardProvider\",{default:function(e){x=e}},18),o.link(\"./hooks/useRedirectOnSettingsChanged\",{useRedirectOnSettingsChanged:function(e){E=e}},19),o.link(\"./hooks/useRoomQuery\",{useRoomQuery:function(e){L=e}},20),o.link(\"./hooks/useUsersNameChanged\",{useUsersNameChanged:function(e){y=e}},21),o.exportDefault(s(function(e){var n,o,s,I,U,O,Q,A,V,j=e.rid,w=e.children;S(j);var D=p(j),F=L(j),G=a();u(function(){F.isSuccess&&!F.data&&G.navigate(\"/home\")},[F.data,F.isSuccess,D,G]);var H=m([\"subscriptions\",{rid:j}],function(){var e;return null!==(e=r.findOne({rid:j}))&&void 0!==e?e:null});E(H.data),y();var T=l(function(){var e=F.data;return e?i(i(i({},H.data),e),{},{name:h.getRoomName(e.t,e),federationOriginalName:e.name}):null},[F.data,H.data]),_=f(d(function(){var e=c.getRoom(j),n=e.hasMore,o=e.hasMoreNext,i=e.isLoading;return{hasMorePreviousMessages:n.get(),hasMoreNextMessages:o.get(),isLoadingMoreMessages:i.get()}},[j])),q=_.hasMorePreviousMessages,z=_.hasMoreNextMessages,B=_.isLoadingMoreMessages,J=l(function(){var e;return T?{rid:j,room:T,subscription:null!==(e=H.data)&&void 0!==e?e:void 0,hasMorePreviousMessages:q,hasMoreNextMessages:z,isLoadingMoreMessages:B}:null},[z,q,B,T,j,H.data]),K=k();u(function(){var e,n,o,i,a,t,l,s,u,d,r,c,v,m;if(K){if(D.isSuccess){if(null!==(r=D.data.room)&&void 0!==r&&r.teamMain)return null!==(c=D.data.room.sidepanel)&&void 0!==c&&c.items.includes(\"channels\")||null!==(v=D.data.room)&&void 0!==v&&null!==(m=v.sidepanel)&&void 0!==m&&m.items.includes(\"discussions\")?g.openSecondLevel(j,j):g.open(j),function(){g.back(j)};switch(!0){case(null===(e=D.data.room)||void 0===e?void 0:e.prid)&&D.data.parent&&(null===(n=D.data.parent.sidepanel)||void 0===n?void 0:n.items.includes(\"discussions\")):g.openSecondLevel(D.data.parent._id,j);break;case(null===(o=D.data.team)||void 0===o?void 0:o.roomId)&&!(null!==(i=D.data.room)&&void 0!==i&&i.teamMain)&&(null===(a=D.data.parent)||void 0===a?void 0:null===(t=a.sidepanel)||void 0===t?void 0:t.items.includes(\"channels\")):g.openSecondLevel(D.data.team.roomId,j);break;default:null!==(l=D.data.parent)&&void 0!==l&&null!==(s=l.sidepanel)&&void 0!==s&&s.items.includes(\"channels\")||null!==(u=D.data.parent)&&void 0!==u&&null!==(d=u.sidepanel)&&void 0!==d&&d.items.includes(\"discussions\")?g.openSecondLevel(j,j):g.open(j)}}return function(){g.back(j)}}return g.open(j),function(){g.back(j)}},[K,j,null===(n=D.data)||void 0===n?void 0:null===(o=n.room)||void 0===o?void 0:o.prid,null===(s=D.data)||void 0===s?void 0:null===(I=s.room)||void 0===I?void 0:I.teamId,null===(U=D.data)||void 0===U?void 0:null===(O=U.room)||void 0===O?void 0:O.teamMain,D.isSuccess,null===(Q=D.data)||void 0===Q?void 0:Q.parent,null===(A=D.data)||void 0===A?void 0:null===(V=A.team)||void 0===V?void 0:V.roomId,D.data]);var W=!!H.data;return(u(function(){if(W)return v.addStream(j)},[j,W]),T)?t.createElement(C.Provider,{value:J},t.createElement(P,null,t.createElement(M,null,t.createElement(x,null,t.createElement(N,{room:T},w))))):F.isSuccess&&!F.data?t.createElement(R,null):t.createElement(b,null)}))}","map":"{\"version\":3,\"sources\":[\"client/views/room/providers/RoomProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport { useRouter } from '@rocket.chat/ui-contexts';\\nimport type { ReactNode, ContextType, ReactElement } from 'react';\\nimport React, { useMemo, memo, useEffect, useCallback } from 'react';\\n\\nimport { ChatSubscription } from '../../../../app/models/client';\\nimport { RoomHistoryManager } from '../../../../app/ui-utils/client';\\nimport { UserAction } from '../../../../app/ui/client/lib/UserAction';\\nimport { useReactiveQuery } from '../../../hooks/useReactiveQuery';\\nimport { useReactiveValue } from '../../../hooks/useReactiveValue';\\nimport { useRoomInfoEndpoint } from '../../../hooks/useRoomInfoEndpoint';\\nimport { useSidePanelNavigation } from '../../../hooks/useSidePanelNavigation';\\nimport { RoomManager } from '../../../lib/RoomManager';\\nimport { roomCoordinator } from '../../../lib/rooms/roomCoordinator';\\nimport ImageGalleryProvider from '../../../providers/ImageGalleryProvider';\\nimport RoomNotFound from '../RoomNotFound';\\nimport RoomSkeleton from '../RoomSkeleton';\\nimport { useRoomRolesManagement } from '../body/hooks/useRoomRolesManagement';\\nimport type { IRoomWithFederationOriginalName } from '../contexts/RoomContext';\\nimport { RoomContext } from '../contexts/RoomContext';\\nimport ComposerPopupProvider from './ComposerPopupProvider';\\nimport RoomToolboxProvider from './RoomToolboxProvider';\\nimport UserCardProvider from './UserCardProvider';\\nimport { useRedirectOnSettingsChanged } from './hooks/useRedirectOnSettingsChanged';\\nimport { useRoomQuery } from './hooks/useRoomQuery';\\nimport { useUsersNameChanged } from './hooks/useUsersNameChanged';\\n\\ntype RoomProviderProps = {\\n\\tchildren: ReactNode;\\n\\trid: IRoom['_id'];\\n};\\n\\nconst RoomProvider = ({ rid, children }: RoomProviderProps): ReactElement => {\\n\\tuseRoomRolesManagement(rid);\\n\\n\\tconst resultFromServer = useRoomInfoEndpoint(rid);\\n\\n\\tconst resultFromLocal = useRoomQuery(rid);\\n\\n\\t// TODO: the following effect is a workaround while we don't have a general and definitive solution for it\\n\\tconst router = useRouter();\\n\\tuseEffect(() => {\\n\\t\\tif (resultFromLocal.isSuccess && !resultFromLocal.data) {\\n\\t\\t\\trouter.navigate('/home');\\n\\t\\t}\\n\\t}, [resultFromLocal.data, resultFromLocal.isSuccess, resultFromServer, router]);\\n\\n\\tconst subscriptionQuery = useReactiveQuery(['subscriptions', { rid }], () => ChatSubscription.findOne({ rid }) ?? null);\\n\\n\\tuseRedirectOnSettingsChanged(subscriptionQuery.data);\\n\\n\\tuseUsersNameChanged();\\n\\n\\tconst pseudoRoom: IRoomWithFederationOriginalName | null = useMemo(() => {\\n\\t\\tconst room = resultFromLocal.data;\\n\\t\\tif (!room) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\t...subscriptionQuery.data,\\n\\t\\t\\t...room,\\n\\t\\t\\tname: roomCoordinator.getRoomName(room.t, room),\\n\\t\\t\\tfederationOriginalName: room.name,\\n\\t\\t};\\n\\t}, [resultFromLocal.data, subscriptionQuery.data]);\\n\\n\\tconst { hasMorePreviousMessages, hasMoreNextMessages, isLoadingMoreMessages } = useReactiveValue(\\n\\t\\tuseCallback(() => {\\n\\t\\t\\tconst { hasMore, hasMoreNext, isLoading } = RoomHistoryManager.getRoom(rid);\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\thasMorePreviousMessages: hasMore.get(),\\n\\t\\t\\t\\thasMoreNextMessages: hasMoreNext.get(),\\n\\t\\t\\t\\tisLoadingMoreMessages: isLoading.get(),\\n\\t\\t\\t};\\n\\t\\t}, [rid]),\\n\\t);\\n\\n\\tconst context = useMemo((): ContextType<typeof RoomContext> => {\\n\\t\\tif (!pseudoRoom) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\trid,\\n\\t\\t\\troom: pseudoRoom,\\n\\t\\t\\tsubscription: subscriptionQuery.data ?? undefined,\\n\\t\\t\\thasMorePreviousMessages,\\n\\t\\t\\thasMoreNextMessages,\\n\\t\\t\\tisLoadingMoreMessages,\\n\\t\\t};\\n\\t}, [hasMoreNextMessages, hasMorePreviousMessages, isLoadingMoreMessages, pseudoRoom, rid, subscriptionQuery.data]);\\n\\n\\tconst isSidepanelFeatureEnabled = useSidePanelNavigation();\\n\\n\\tuseEffect(() => {\\n\\t\\tif (isSidepanelFeatureEnabled) {\\n\\t\\t\\tif (resultFromServer.isSuccess) {\\n\\t\\t\\t\\tif (resultFromServer.data.room?.teamMain) {\\n\\t\\t\\t\\t\\tif (\\n\\t\\t\\t\\t\\t\\tresultFromServer.data.room.sidepanel?.items.includes('channels') ||\\n\\t\\t\\t\\t\\t\\tresultFromServer.data.room?.sidepanel?.items.includes('discussions')\\n\\t\\t\\t\\t\\t) {\\n\\t\\t\\t\\t\\t\\tRoomManager.openSecondLevel(rid, rid);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tRoomManager.open(rid);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn (): void => {\\n\\t\\t\\t\\t\\t\\tRoomManager.back(rid);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tswitch (true) {\\n\\t\\t\\t\\t\\tcase resultFromServer.data.room?.prid &&\\n\\t\\t\\t\\t\\t\\tresultFromServer.data.parent &&\\n\\t\\t\\t\\t\\t\\tresultFromServer.data.parent.sidepanel?.items.includes('discussions'):\\n\\t\\t\\t\\t\\t\\tRoomManager.openSecondLevel(resultFromServer.data.parent._id, rid);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase resultFromServer.data.team?.roomId &&\\n\\t\\t\\t\\t\\t\\t!resultFromServer.data.room?.teamMain &&\\n\\t\\t\\t\\t\\t\\tresultFromServer.data.parent?.sidepanel?.items.includes('channels'):\\n\\t\\t\\t\\t\\t\\tRoomManager.openSecondLevel(resultFromServer.data.team.roomId, rid);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tdefault:\\n\\t\\t\\t\\t\\t\\tif (\\n\\t\\t\\t\\t\\t\\t\\tresultFromServer.data.parent?.sidepanel?.items.includes('channels') ||\\n\\t\\t\\t\\t\\t\\t\\tresultFromServer.data.parent?.sidepanel?.items.includes('discussions')\\n\\t\\t\\t\\t\\t\\t) {\\n\\t\\t\\t\\t\\t\\t\\tRoomManager.openSecondLevel(rid, rid);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tRoomManager.open(rid);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn (): void => {\\n\\t\\t\\t\\tRoomManager.back(rid);\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tRoomManager.open(rid);\\n\\t\\treturn (): void => {\\n\\t\\t\\tRoomManager.back(rid);\\n\\t\\t};\\n\\t}, [\\n\\t\\tisSidepanelFeatureEnabled,\\n\\t\\trid,\\n\\t\\tresultFromServer.data?.room?.prid,\\n\\t\\tresultFromServer.data?.room?.teamId,\\n\\t\\tresultFromServer.data?.room?.teamMain,\\n\\t\\tresultFromServer.isSuccess,\\n\\t\\tresultFromServer.data?.parent,\\n\\t\\tresultFromServer.data?.team?.roomId,\\n\\t\\tresultFromServer.data,\\n\\t]);\\n\\n\\tconst subscribed = !!subscriptionQuery.data;\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!subscribed) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\treturn UserAction.addStream(rid);\\n\\t}, [rid, subscribed]);\\n\\n\\tif (!pseudoRoom) {\\n\\t\\treturn resultFromLocal.isSuccess && !resultFromLocal.data ? <RoomNotFound /> : <RoomSkeleton />;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<RoomContext.Provider value={context}>\\n\\t\\t\\t<RoomToolboxProvider>\\n\\t\\t\\t\\t<ImageGalleryProvider>\\n\\t\\t\\t\\t\\t<UserCardProvider>\\n\\t\\t\\t\\t\\t\\t<ComposerPopupProvider room={pseudoRoom}>{children}</ComposerPopupProvider>\\n\\t\\t\\t\\t\\t</UserCardProvider>\\n\\t\\t\\t\\t</ImageGalleryProvider>\\n\\t\\t\\t</RoomToolboxProvider>\\n\\t\\t</RoomContext.Provider>\\n\\t);\\n};\\n\\nexport default memo(RoomProvider);\\n\",null],\"names\":[\"_objectSpread\",\"useRouter\",\"React\",\"useMemo\",\"memo\",\"useEffect\",\"useCallback\",\"ChatSubscription\",\"RoomHistoryManager\",\"UserAction\",\"useReactiveQuery\",\"useReactiveValue\",\"useRoomInfoEndpoint\",\"useSidePanelNavigation\",\"RoomManager\",\"roomCoordinator\",\"ImageGalleryProvider\",\"RoomNotFound\",\"RoomSkeleton\",\"useRoomRolesManagement\",\"RoomContext\",\"ComposerPopupProvider\",\"RoomToolboxProvider\",\"UserCardProvider\",\"useRedirectOnSettingsChanged\",\"useRoomQuery\",\"useUsersNameChanged\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_resultFromServer$dat15\",\"_resultFromServer$dat16\",\"_resultFromServer$dat17\",\"_resultFromServer$dat18\",\"_resultFromServer$dat19\",\"_resultFromServer$dat20\",\"_resultFromServer$dat21\",\"_resultFromServer$dat22\",\"_resultFromServer$dat23\",\"rid\",\"children\",\"resultFromServer\",\"resultFromLocal\",\"router\",\"isSuccess\",\"data\",\"navigate\",\"subscriptionQuery\",\"_ChatSubscription$fin\",\"findOne\",\"pseudoRoom\",\"room\",\"name\",\"getRoomName\",\"t\",\"federationOriginalName\",\"_useReactiveValue\",\"_RoomHistoryManager$g\",\"getRoom\",\"hasMore\",\"hasMoreNext\",\"isLoading\",\"hasMorePreviousMessages\",\"get\",\"hasMoreNextMessages\",\"isLoadingMoreMessages\",\"context\",\"_subscriptionQuery$da\",\"subscription\",\"undefined\",\"isSidepanelFeatureEnabled\",\"_resultFromServer$dat5\",\"_resultFromServer$dat6\",\"_resultFromServer$dat7\",\"_resultFromServer$dat8\",\"_resultFromServer$dat9\",\"_resultFromServer$dat10\",\"_resultFromServer$dat11\",\"_resultFromServer$dat12\",\"_resultFromServer$dat13\",\"_resultFromServer$dat14\",\"_resultFromServer$dat\",\"_resultFromServer$dat2\",\"_resultFromServer$dat3\",\"_resultFromServer$dat4\",\"teamMain\",\"sidepanel\",\"items\",\"includes\",\"openSecondLevel\",\"open\",\"back\",\"prid\",\"parent\",\"_id\",\"team\",\"roomId\",\"teamId\",\"subscribed\",\"addStream\",\"createElement\",\"Provider\",\"value\"],\"mappings\":\"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\"}"}