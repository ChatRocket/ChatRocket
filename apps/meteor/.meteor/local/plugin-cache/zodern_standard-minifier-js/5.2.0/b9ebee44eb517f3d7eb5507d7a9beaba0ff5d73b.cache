{"code":"function module(t,e,n){n.link(\"@babel/runtime/regenerator\",{default:function(t){r=t}},0),n.export({useAuditMutation:function(){return i}}),n.link(\"@rocket.chat/ui-contexts\",{useMethod:function(t){a=t}},0),n.link(\"@tanstack/react-query\",{useMutation:function(t){u=t}},1);var r,a,u,i=function(t){var e=a(\"auditGetMessages\"),n=a(\"auditGetOmnichannelMessages\");return u([\"audit\"],function(a){var u,i,s,o,l,c,d,f,v,g;return r.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(s=a.msg,o=a.dateRange,l=a.rid,c=a.users,d=a.visitor,f=a.agent,\"l\"!==t){r.next=3;break}return r.abrupt(\"return\",n({type:t,msg:s,startDate:null!==(v=o.start)&&void 0!==v?v:new Date(0),endDate:null!==(g=o.end)&&void 0!==g?g:new Date,users:c,visitor:\"\",agent:\"\"}));case 3:return r.abrupt(\"return\",e({type:t,msg:s,startDate:null!==(u=o.start)&&void 0!==u?u:new Date(0),endDate:null!==(i=o.end)&&void 0!==i?i:new Date,rid:l,users:c,visitor:d,agent:f}));case 4:case\"end\":return r.stop()}},null,null,null,Promise)})}}","map":"{\"version\":3,\"sources\":[\"client/views/audit/hooks/useAuditMutation.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IAuditLog } from '@rocket.chat/core-typings';\\nimport { useMethod } from '@rocket.chat/ui-contexts';\\nimport { useMutation } from '@tanstack/react-query';\\n\\nimport type { AuditFields } from './useAuditForm';\\n\\nexport const useAuditMutation = (type: IAuditLog['fields']['type']) => {\\n\\tconst getAuditMessages = useMethod('auditGetMessages');\\n\\tconst getOmnichannelAuditMessages = useMethod('auditGetOmnichannelMessages');\\n\\n\\treturn useMutation(['audit'] as const, async ({ msg, dateRange, rid, users, visitor, agent }: AuditFields) => {\\n\\t\\tif (type === 'l') {\\n\\t\\t\\treturn getOmnichannelAuditMessages({\\n\\t\\t\\t\\ttype,\\n\\t\\t\\t\\tmsg,\\n\\t\\t\\t\\tstartDate: dateRange.start ?? new Date(0),\\n\\t\\t\\t\\tendDate: dateRange.end ?? new Date(),\\n\\t\\t\\t\\tusers,\\n\\t\\t\\t\\tvisitor: '',\\n\\t\\t\\t\\tagent: '',\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\treturn getAuditMessages({\\n\\t\\t\\ttype,\\n\\t\\t\\tmsg,\\n\\t\\t\\tstartDate: dateRange.start ?? new Date(0),\\n\\t\\t\\tendDate: dateRange.end ?? new Date(),\\n\\t\\t\\trid,\\n\\t\\t\\tusers,\\n\\t\\t\\tvisitor,\\n\\t\\t\\tagent,\\n\\t\\t});\\n\\t});\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"export\",\"useAuditMutation\",\"useMethod\",\"useMutation\",\"type\",\"getAuditMessages\",\"getOmnichannelAuditMessages\",\"_ref\",\"_dateRange$start2\",\"_dateRange$end2\",\"msg\",\"dateRange\",\"rid\",\"users\",\"visitor\",\"agent\",\"_dateRange$start\",\"_dateRange$end\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"startDate\",\"start\",\"Date\",\"endDate\",\"end\",\"stop\",\"Promise\"],\"mappings\":\"uBACoBA,EAAMC,IAAA,CAAA,6BAA2B,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAArDH,EAAOK,MAAE,CAAA,CAAAC,iBAAiB,WAAA,OAAAA,CAA2B,CAAA,GAAAN,EAAAC,IAAA,CAAA,2BAAA,CAAAM,UAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAO,YAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAK9C,IALPC,EAAqDG,EAAAC,EAKxCF,EAAmB,SAACG,CAAiC,EACjE,IAAMC,EAAmBH,EAAU,oBAC7BI,EAA8BJ,EAAU,+BAE9C,OAAOC,EAAY,CAAC,QAAiB,CAAE,SAAAI,CAAA,MAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAlB,EAAAmB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAmD,GAA1CX,EAAGH,EAAHG,GAAG,CAAEC,EAASJ,EAATI,SAAS,CAAEC,EAAGL,EAAHK,GAAG,CAAEC,EAAKN,EAALM,KAAK,CAAEC,EAAOP,EAAPO,OAAO,CAAEC,EAAKR,EAALQ,KAAK,CAAA,AAC5E,MAATX,EAAY,CAAAe,EAAAE,IAAA,CAAA,EAAA,KAAA,CAAA,OAAAF,EAAAG,MAAA,CAAA,SACRhB,EAA4B,CAClCF,KAAAA,EACAM,IAAAA,EACAa,UAAS,AAAiB,OAAjBP,CAAAA,EAAEL,EAAUa,KAAK,AAALA,GAAKR,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAAIS,KAAK,GACvCC,QAAO,AAAe,OAAfT,CAAAA,EAAEN,EAAUgB,GAAG,AAAHA,GAAGV,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAAIQ,KAC9BZ,MAAAA,EACAC,QAAS,GACTC,MAAO,KACN,MAAA,EAAA,OAAAI,EAAAG,MAAA,CAAA,SAGIjB,EAAiB,CACvBD,KAAAA,EACAM,IAAAA,EACAa,UAAS,AAAiB,OAAjBf,CAAAA,EAAEG,EAAUa,KAAK,AAALA,GAAKhB,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAAIiB,KAAK,GACvCC,QAAO,AAAe,OAAfjB,CAAAA,EAAEE,EAAUgB,GAAG,AAAHA,GAAGlB,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAAIgB,KAC9Bb,IAAAA,EACAC,MAAAA,EACAC,QAAAA,EACAC,MAAAA,IACC,MAAA,EAAA,IAAA,MAAA,OAAAI,EAAAS,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAEJ\"}"}