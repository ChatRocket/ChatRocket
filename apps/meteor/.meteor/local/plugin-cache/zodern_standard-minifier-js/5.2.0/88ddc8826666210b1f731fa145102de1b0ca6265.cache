{"code":"function module(e,t,l){let n,r,a,o,u,s,i,c,m,d,E,p,k,f,g,C,x,h,y,F,_,b,v,w;l.link(\"@rocket.chat/fuselage\",{Box(e){n=e},Callout(e){r=e},StatesAction(e){a=e},StatesActions(e){o=e},StatesIcon(e){u=e},StatesTitle(e){s=e},ContextualbarFooter(e){i=e},FieldGroup(e){c=e},Field(e){m=e},FieldLabel(e){d=e},FieldRow(e){E=e},ContextualbarSkeleton(e){p=e}},0),l.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){k=e},useTranslation(e){f=e}},1),l.link(\"@tanstack/react-query\",{useQuery(e){g=e}},2),l.link(\"react\",{default(e){C=e},useMemo(e){x=e}},3),l.link(\"../../../../components/Contextualbar\",{ContextualbarScrollableContent(e){h=e}},4),l.link(\"../../../../components/GenericNoResults\",{default(e){y=e}},5),l.link(\"../../../../components/UserCard\",{UserCardRole(e){F=e}},6),l.link(\"../../../../hooks/useFormatDate\",{useFormatDate(e){_=e}},7),l.link(\"../helpers/ReportReason\",{default(e){b=e}},8),l.link(\"../helpers/UserColumn\",{default(e){v=e}},9),l.link(\"./UserContextFooter\",{default(e){w=e}},10),l.exportDefault(e=>{let{userId:t}=e,l=f(),R=k(\"GET\",\"/v1/moderation.user.reportsByUserId\"),S=_(),{data:D,refetch:U,isLoading:I,isSuccess:A,isError:B,dataUpdatedAt:G}=g([\"moderation\",\"userReports\",\"fetchDetails\",t],async()=>R({userId:t})),T=x(()=>{if(!(null!=D&&D.user))return null;let{username:e,name:t}=D.user;return C.createElement(v,{key:G,username:e,name:t,fontSize:\"p2\",size:\"x48\"})},[null==D?void 0:D.user,G]),j=x(()=>{var e;return null!=D&&null!==(e=D.user)&&void 0!==e&&e.emails?D.user.emails.map(e=>e.address):[]},[D]);return B?C.createElement(n,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",pb:20,color:\"default\"},C.createElement(u,{name:\"warning\",variation:\"danger\"}),C.createElement(s,null,l(\"Something_went_wrong\")),C.createElement(o,null,C.createElement(a,{onClick:()=>U()},l(\"Reload_page\")))):C.createElement(C.Fragment,null,C.createElement(h,null,I&&C.createElement(p,null),A&&D.reports.length>0&&C.createElement(C.Fragment,null,D.user?C.createElement(c,null,C.createElement(m,null,T),C.createElement(m,null,C.createElement(d,null,l(\"Roles\")),C.createElement(E,{justifyContent:\"flex-start\",spacing:1},D.user.roles.map((e,t)=>C.createElement(F,{key:t},e)))),C.createElement(m,null,C.createElement(d,null,l(\"Email\")),C.createElement(E,null,j.join(\", \"))),C.createElement(m,null,C.createElement(d,null,l(\"Created_at\")),C.createElement(E,null,S(D.user.createdAt)))):C.createElement(r,{mbs:8,type:\"warning\",icon:\"warning\"},l(\"Moderation_User_deleted_warning\")),D.reports.map((e,t)=>{var l;return C.createElement(b,{key:t,ind:t+1,uinfo:null===(l=e.reportedBy)||void 0===l?void 0:l.username,msg:e.description,ts:new Date(e.ts)})})),A&&0===D.reports.length&&C.createElement(y,{title:l(\"No_user_reports\"),icon:\"user\"})),A&&D.reports.length>0&&C.createElement(i,null,C.createElement(w,{userId:t,deleted:!D.user})))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/moderation/UserReports/UserReportInfo.tsx\",\"<anon>\"],\"sourcesContent\":[\"import {\\n\\tBox,\\n\\tCallout,\\n\\tStatesAction,\\n\\tStatesActions,\\n\\tStatesIcon,\\n\\tStatesTitle,\\n\\tContextualbarFooter,\\n\\tFieldGroup,\\n\\tField,\\n\\tFieldLabel,\\n\\tFieldRow,\\n\\tContextualbarSkeleton,\\n} from '@rocket.chat/fuselage';\\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React, { useMemo } from 'react';\\n\\nimport { ContextualbarScrollableContent } from '../../../../components/Contextualbar';\\nimport GenericNoResults from '../../../../components/GenericNoResults';\\nimport { UserCardRole } from '../../../../components/UserCard';\\nimport { useFormatDate } from '../../../../hooks/useFormatDate';\\nimport ReportReason from '../helpers/ReportReason';\\nimport UserColumn from '../helpers/UserColumn';\\nimport UserContextFooter from './UserContextFooter';\\n\\nconst UserReportInfo = ({ userId }: { userId: string }) => {\\n\\tconst t = useTranslation();\\n\\tconst getUserReports = useEndpoint('GET', '/v1/moderation.user.reportsByUserId');\\n\\tconst formatDateAndTime = useFormatDate();\\n\\n\\tconst {\\n\\t\\tdata: report,\\n\\t\\trefetch: reloadUsersReports,\\n\\t\\tisLoading,\\n\\t\\tisSuccess,\\n\\t\\tisError,\\n\\t\\tdataUpdatedAt,\\n\\t} = useQuery(['moderation', 'userReports', 'fetchDetails', userId], async () => getUserReports({ userId }));\\n\\n\\tconst userProfile = useMemo(() => {\\n\\t\\tif (!report?.user) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tconst { username, name } = report.user;\\n\\t\\treturn <UserColumn key={dataUpdatedAt} username={username} name={name} fontSize='p2' size='x48' />;\\n\\t}, [report?.user, dataUpdatedAt]);\\n\\n\\tconst userEmails = useMemo(() => {\\n\\t\\tif (!report?.user?.emails) {\\n\\t\\t\\treturn [];\\n\\t\\t}\\n\\t\\treturn report.user.emails.map((email) => email.address);\\n\\t}, [report]);\\n\\n\\tif (isError) {\\n\\t\\treturn (\\n\\t\\t\\t<Box display='flex' flexDirection='column' alignItems='center' pb={20} color='default'>\\n\\t\\t\\t\\t<StatesIcon name='warning' variation='danger' />\\n\\t\\t\\t\\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\\n\\t\\t\\t\\t<StatesActions>\\n\\t\\t\\t\\t\\t<StatesAction onClick={() => reloadUsersReports()}>{t('Reload_page')}</StatesAction>\\n\\t\\t\\t\\t</StatesActions>\\n\\t\\t\\t</Box>\\n\\t\\t);\\n\\t}\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t{isLoading && <ContextualbarSkeleton />}\\n\\t\\t\\t\\t{isSuccess && report.reports.length > 0 && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t{report.user ? (\\n\\t\\t\\t\\t\\t\\t\\t<FieldGroup>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>{userProfile}</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel>{t('Roles')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow justifyContent='flex-start' spacing={1}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{report.user.roles.map((role, index) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<UserCardRole key={index}>{role}</UserCardRole>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel>{t('Email')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>{userEmails.join(', ')}</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel>{t('Created_at')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>{formatDateAndTime(report.user.createdAt)}</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t\\t<Callout mbs={8} type='warning' icon='warning'>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Moderation_User_deleted_warning')}\\n\\t\\t\\t\\t\\t\\t\\t</Callout>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t{report.reports.map((report, ind) => (\\n\\t\\t\\t\\t\\t\\t\\t<ReportReason key={ind} ind={ind + 1} uinfo={report.reportedBy?.username} msg={report.description} ts={new Date(report.ts)} />\\n\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{isSuccess && report.reports.length === 0 && <GenericNoResults title={t('No_user_reports')} icon='user' />}\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t{isSuccess && report.reports.length > 0 && (\\n\\t\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t\\t<UserContextFooter userId={userId} deleted={!report.user} />\\n\\t\\t\\t\\t</ContextualbarFooter>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default UserReportInfo;\\n\",null],\"names\":[\"Box\",\"Callout\",\"StatesAction\",\"StatesActions\",\"StatesIcon\",\"StatesTitle\",\"ContextualbarFooter\",\"FieldGroup\",\"Field\",\"FieldLabel\",\"FieldRow\",\"ContextualbarSkeleton\",\"useEndpoint\",\"useTranslation\",\"useQuery\",\"React\",\"useMemo\",\"ContextualbarScrollableContent\",\"GenericNoResults\",\"UserCardRole\",\"useFormatDate\",\"ReportReason\",\"UserColumn\",\"UserContextFooter\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"userId\",\"t\",\"getUserReports\",\"formatDateAndTime\",\"data\",\"report\",\"refetch\",\"reloadUsersReports\",\"isLoading\",\"isSuccess\",\"isError\",\"dataUpdatedAt\",\"userProfile\",\"user\",\"username\",\"name\",\"createElement\",\"key\",\"fontSize\",\"size\",\"userEmails\",\"_report$user\",\"emails\",\"map\",\"email\",\"address\",\"display\",\"flexDirection\",\"alignItems\",\"pb\",\"color\",\"variation\",\"onClick\",\"Fragment\",\"reports\",\"length\",\"justifyContent\",\"spacing\",\"roles\",\"role\",\"index\",\"join\",\"createdAt\",\"mbs\",\"type\",\"icon\",\"ind\",\"_report$reportedBy\",\"uinfo\",\"reportedBy\",\"msg\",\"description\",\"ts\",\"Date\",\"title\",\"deleted\"],\"mappings\":\"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\"}"}