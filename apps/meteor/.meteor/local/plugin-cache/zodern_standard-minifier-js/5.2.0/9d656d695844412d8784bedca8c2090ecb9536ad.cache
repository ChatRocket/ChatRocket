{"code":"function module(e,t,n){var o,a,i,s,u,c,l,r,m,f,d,p,h,g,k;n.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},0),n.link(\"@babel/runtime/helpers/taggedTemplateLiteralLoose\",{default:function(e){i=e}},1),n.link(\"@rocket.chat/css-in-js\",{css:function(e){s=e}},0),n.link(\"@rocket.chat/fuselage\",{IconButton:function(e){u=e},Box:function(e){c=e},Margins:function(e){l=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useSetting:function(e){r=e}},2),n.link(\"react\",{default:function(e){m=e},memo:function(e){f=e}},3),n.link(\"use-subscription\",{useSubscription:function(e){d=e}},4),n.link(\"../../../../../lib/getUserDisplayName\",{getUserDisplayName:function(e){p=e}},5),n.link(\"../../../../components/message/content/attachments/QuoteAttachment\",{QuoteAttachment:function(e){h=e}},6),n.link(\"../../../../providers/AttachmentProvider\",{default:function(e){g=e}},7),n.link(\"../../contexts/ChatContext\",{useChat:function(e){k=e}},8),n.exportDefault(f(function(){var e,t=k();if(!(null!=t&&null!==(e=t.composer)&&void 0!==e&&e.quotedMessages))throw Error(\"Chat context not found\");var n=d({getCurrentValue:t.composer.quotedMessages.get,subscribe:t.composer.quotedMessages.subscribe}),f=!!r(\"UI_Use_Real_Name\");if(!n.length)return null;var v=s(o||(o=i([\"\\n\t\tposition: absolute;\\n\t\tright: 0.5rem;\\n\t\ttop: 0.75rem;\\n\t\"])));return m.createElement(c,{mbe:8,position:\"relative\",overflowY:\"auto\",maxHeight:\"x256\"},n.map(function(e,n){var o;return m.createElement(l,{block:4,key:n},m.createElement(c,{display:\"flex\",position:\"relative\"},m.createElement(g,null,m.createElement(h,{attachment:{text:e.msg,md:e.md,author_name:e.alias||p(e.u.name,e.u.username,f),author_icon:\"/avatar/\"+e.u.username,ts:e.ts,attachments:null==e?void 0:null===(o=e.attachments)||void 0===o?void 0:o.map(function(e){return a(a({},e),{},{collapsed:!0})}),collapsed:!0}})),m.createElement(c,{className:v,\"data-mid\":e._id,onClick:function(){var n;null===(n=t.composer)||void 0===n||n.dismissQuotedMessage(e._id)}},m.createElement(u,{mini:!0,icon:\"cross\"}))))}))}))}","map":"{\"version\":3,\"sources\":[\"client/views/room/composer/messageBox/MessageBoxReplies.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { MessageQuoteAttachment } from '@rocket.chat/core-typings';\\nimport { css } from '@rocket.chat/css-in-js';\\nimport { IconButton, Box, Margins } from '@rocket.chat/fuselage';\\nimport { useSetting } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { memo } from 'react';\\nimport { useSubscription } from 'use-subscription';\\n\\nimport { getUserDisplayName } from '../../../../../lib/getUserDisplayName';\\nimport { QuoteAttachment } from '../../../../components/message/content/attachments/QuoteAttachment';\\nimport AttachmentProvider from '../../../../providers/AttachmentProvider';\\nimport { useChat } from '../../contexts/ChatContext';\\n\\nconst MessageBoxReplies = (): ReactElement | null => {\\n\\tconst chat = useChat();\\n\\n\\tif (!chat?.composer?.quotedMessages) {\\n\\t\\tthrow new Error('Chat context not found');\\n\\t}\\n\\n\\tconst replies = useSubscription({\\n\\t\\tgetCurrentValue: chat.composer.quotedMessages.get,\\n\\t\\tsubscribe: chat.composer.quotedMessages.subscribe,\\n\\t});\\n\\n\\tconst useRealName = Boolean(useSetting('UI_Use_Real_Name'));\\n\\n\\tif (!replies.length) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\tconst closeWrapperStyle = css`\\n\\t\\tposition: absolute;\\n\\t\\tright: 0.5rem;\\n\\t\\ttop: 0.75rem;\\n\\t`;\\n\\n\\treturn (\\n\\t\\t<Box mbe={8} position='relative' overflowY='auto' maxHeight='x256'>\\n\\t\\t\\t{replies.map((reply, key) => (\\n\\t\\t\\t\\t<Margins block={4} key={key}>\\n\\t\\t\\t\\t\\t<Box display='flex' position='relative'>\\n\\t\\t\\t\\t\\t\\t<AttachmentProvider>\\n\\t\\t\\t\\t\\t\\t\\t<QuoteAttachment\\n\\t\\t\\t\\t\\t\\t\\t\\tattachment={\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttext: reply.msg,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmd: reply.md,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tauthor_name: reply.alias || getUserDisplayName(reply.u.name, reply.u.username, useRealName),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tauthor_icon: `/avatar/${reply.u.username}`,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tts: reply.ts,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattachments: reply?.attachments?.map((obj) => ({ ...obj, collapsed: true })),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcollapsed: true,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t} as MessageQuoteAttachment\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t</AttachmentProvider>\\n\\t\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\t\\tclassName={closeWrapperStyle}\\n\\t\\t\\t\\t\\t\\t\\tdata-mid={reply._id}\\n\\t\\t\\t\\t\\t\\t\\tonClick={(): void => {\\n\\t\\t\\t\\t\\t\\t\\t\\tchat.composer?.dismissQuotedMessage(reply._id);\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t<IconButton mini icon='cross' />\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t))}\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default memo(MessageBoxReplies);\\n\",null],\"names\":[\"_objectSpread\",\"_taggedTemplateLiteralLoose\",\"css\",\"IconButton\",\"Box\",\"Margins\",\"useSetting\",\"React\",\"memo\",\"useSubscription\",\"getUserDisplayName\",\"QuoteAttachment\",\"AttachmentProvider\",\"useChat\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_chat$composer\",\"chat\",\"composer\",\"quotedMessages\",\"Error\",\"replies\",\"getCurrentValue\",\"get\",\"subscribe\",\"useRealName\",\"Boolean\",\"length\",\"closeWrapperStyle\",\"_templateObject\",\"createElement\",\"mbe\",\"position\",\"overflowY\",\"maxHeight\",\"map\",\"reply\",\"key\",\"_reply$attachments\",\"block\",\"display\",\"attachment\",\"text\",\"msg\",\"md\",\"author_name\",\"alias\",\"u\",\"name\",\"username\",\"author_icon\",\"ts\",\"attachments\",\"obj\",\"collapsed\",\"className\",\"_id\",\"onClick\",\"_chat$composer2\",\"dismissQuotedMessage\",\"mini\",\"icon\"],\"mappings\":\"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\"}"}