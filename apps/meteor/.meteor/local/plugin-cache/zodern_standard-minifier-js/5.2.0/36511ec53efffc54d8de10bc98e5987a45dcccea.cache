{"code":"function module(e,n,t){var i,o,r,c,a,l,u,s,f,m,d,k,E,g,v,j,h,p,y,P,C,b,T,w,x,S,R,I,L,B,D,_,A,O,z,F;t.link(\"@babel/runtime/helpers/extends\",{default:function(e){i=e}},0),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){o=e}},1),t.link(\"@rocket.chat/fuselage\",{TextInput:function(e){r=e},Icon:function(e){c=e},Button:function(e){a=e},Divider:function(e){l=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMediaQuery:function(e){u=e},useMergedRefs:function(e){s=e},useOutsideClick:function(e){f=e}},1),t.link(\"@rocket.chat/ui-client\",{EmojiPickerCategoryHeader:function(e){m=e},EmojiPickerContainer:function(e){d=e},EmojiPickerFooter:function(e){k=e},EmojiPickerPreviewArea:function(e){E=e},EmojiPickerHeader:function(e){g=e},EmojiPickerListArea:function(e){v=e},EmojiPickerPreview:function(e){j=e}},2),t.link(\"@rocket.chat/ui-contexts\",{useTranslation:function(e){h=e},usePermission:function(e){p=e},useRoute:function(e){y=e}},3),t.link(\"react\",{default:function(e){P=e},useLayoutEffect:function(e){C=e},useState:function(e){b=e},useEffect:function(e){T=e},useRef:function(e){w=e}},4),t.link(\"../../../../app/emoji/client\",{emoji:function(e){x=e},getCategoriesList:function(e){S=e},getEmojisBySearchTerm:function(e){R=e}},5),t.link(\"../../../contexts/EmojiPickerContext\",{usePreviewEmoji:function(e){I=e},useEmojiPickerData:function(e){L=e}},6),t.link(\"../../room/hooks/useIsVisible\",{useIsVisible:function(e){B=e}},7),t.link(\"./CategoriesResult\",{default:function(e){D=e}},8),t.link(\"./EmojiPickerCategoryItem\",{default:function(e){_=e}},9),t.link(\"./EmojiPickerDropDown\",{default:function(e){A=e}},10),t.link(\"./SearchingResult\",{default:function(e){O=e}},11),t.link(\"./ToneSelector\",{default:function(e){z=e}},12),t.link(\"./ToneSelector/ToneSelectorWrapper\",{default:function(e){F=e}},13),t.exportDefault(function(e){var n=e.reference,t=e.onClose,H=e.onPickEmoji,M=h(),V=w(n),G=w([]),J=w(null),K=w(null),Q=B(),W=o(Q,2),X=W[0],q=W[1],N=w(),U=s(X,N),Y=S(),Z=p(\"manage-emoji\"),$=y(\"emoji-custom\"),ee=b(!1),en=o(ee,2),et=en[0],ei=en[1],eo=b(\"\"),er=o(eo,2),ec=er[0],ea=er[1],el=b([]),eu=o(el,2),es=eu[0],ef=eu[1],em=I(),ed=em.emojiToPreview,ek=em.handleRemovePreview,eE=L(),eg=eE.recentEmojis,ev=eE.setCurrentCategory,ej=eE.addRecentEmoji,eh=eE.setRecentEmojis,ep=eE.actualTone,ey=eE.currentCategory,eP=eE.getEmojiListsByCategory,eC=eE.customItemsLimit,eb=eE.setActualTone,eT=eE.setCustomItemsLimit;T(function(){return function(){return ek()}},[ek]);var ew=u(\"(width < 340px)\");f([K],t),C(function(){if(n){var e=new ResizeObserver(function(){var e=n.getBoundingClientRect();if(0===e.width&&0===e.height){V.current=null;return}V.current=n});return e.observe(n),function(){e.disconnect()}}},[n]),T(function(){N.current&&q&&N.current.focus()},[q]);var ex=function(e){e.stopPropagation();var n,i=null===(n=e.currentTarget.dataset)||void 0===n?void 0:n.emoji;if(i){var o=\"\";for(var r in meteorBabelHelpers.sanitizeForInObject(x.packages))x.packages.hasOwnProperty(r)&&ep>0&&x.packages[r].toneList.hasOwnProperty(i)&&(o=\"_tone\"+ep);ea(\"\"),H(i+o),ej(i+o),t()}};T(function(){0===eg.length&&\"recent\"===ey&&eS(eP().filter(function(e){return\"rocket\"===e.key}).length>0?0:1)},[ep,eg,eP,ey,eh]);var eS=function(e){var n;ei(!1),null===(n=J.current)||void 0===n||n.scrollToIndex({index:e})};return P.createElement(A,{reference:V,ref:K},P.createElement(d,{role:\"dialog\",\"aria-label\":M(\"Emoji_picker\"),onKeyDown:function(e){\"Escape\"===e.key&&t()}},P.createElement(g,null,P.createElement(r,{autoFocus:!0,ref:U,value:ec,onChange:function(e){ea(e.target.value),ev(\"\"),ei(\"\"!==e.target.value);var n=R(e.target.value,ep,eg,eh);0===n.filter(function(e){return e.image}).length&&ev(\"no-results\"),ef(n)},addon:P.createElement(c,{name:\"magnifier\",size:\"x20\"}),placeholder:M(\"Search\"),\"aria-label\":M(\"Search\")})),P.createElement(m,i({role:\"tablist\"},ew&&{style:{overflowX:\"scroll\"}}),Y.map(function(e,n){return P.createElement(_,{key:e.key,index:n,category:e,active:e.key===ey,handleGoToCategory:eS})})),P.createElement(l,{mb:12}),P.createElement(v,{role:\"tabpanel\"},et&&P.createElement(O,{searchResults:es,handleSelectEmoji:ex}),!et&&P.createElement(D,{ref:J,emojiListByCategory:eP(),categoriesPosition:G,customItemsLimit:eC,handleLoadMore:function(){eT(eC+90)},handleSelectEmoji:ex,handleScroll:function(e){var n,t=null==e?void 0:e.scrollTop,i=null===(n=G.current)||void 0===n?void 0:n.filter(function(e){return e.top<=t}).pop();i&&ev(i.el.id.replace(\"emoji-list-category-\",\"\"))}})),P.createElement(E,null,P.createElement(\"div\",null,ed&&P.createElement(j,{emoji:ed.emoji,name:ed.name}),Z&&null===ed&&P.createElement(a,{small:!0,onClick:function(){$.push(),t()}},M(\"Add_emoji\"))),P.createElement(F,{caption:M(\"Skin_tone\")},P.createElement(z,{tone:ep,setTone:eb}))),P.createElement(k,null,M(\"Powered_by_JoyPixels\"))))})}","map":"{\"version\":3,\"sources\":[\"client/views/composer/EmojiPicker/EmojiPicker.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { TextInput, Icon, Button, Divider } from '@rocket.chat/fuselage';\\nimport { useMediaQuery, useMergedRefs, useOutsideClick } from '@rocket.chat/fuselage-hooks';\\nimport {\\n\\tEmojiPickerCategoryHeader,\\n\\tEmojiPickerContainer,\\n\\tEmojiPickerFooter,\\n\\tEmojiPickerPreviewArea,\\n\\tEmojiPickerHeader,\\n\\tEmojiPickerListArea,\\n\\tEmojiPickerPreview,\\n} from '@rocket.chat/ui-client';\\nimport { useTranslation, usePermission, useRoute } from '@rocket.chat/ui-contexts';\\nimport type { ChangeEvent, KeyboardEvent, MouseEvent, RefObject } from 'react';\\nimport React, { useLayoutEffect, useState, useEffect, useRef } from 'react';\\nimport type { VirtuosoHandle } from 'react-virtuoso';\\n\\nimport type { EmojiItem, EmojiCategoryPosition } from '../../../../app/emoji/client';\\nimport { emoji, getCategoriesList, getEmojisBySearchTerm } from '../../../../app/emoji/client';\\nimport { usePreviewEmoji, useEmojiPickerData } from '../../../contexts/EmojiPickerContext';\\nimport { useIsVisible } from '../../room/hooks/useIsVisible';\\nimport CategoriesResult from './CategoriesResult';\\nimport EmojiPickerCategoryItem from './EmojiPickerCategoryItem';\\nimport EmojiPickerDropdown from './EmojiPickerDropDown';\\nimport SearchingResult from './SearchingResult';\\nimport ToneSelector from './ToneSelector';\\nimport ToneSelectorWrapper from './ToneSelector/ToneSelectorWrapper';\\n\\ntype EmojiPickerProps = {\\n\\treference: Element;\\n\\tonClose: () => void;\\n\\tonPickEmoji: (emoji: string) => void;\\n};\\n\\nconst EmojiPicker = ({ reference, onClose, onPickEmoji }: EmojiPickerProps) => {\\n\\tconst t = useTranslation();\\n\\n\\tconst ref = useRef<Element | null>(reference);\\n\\tconst categoriesPosition = useRef<EmojiCategoryPosition[]>([]);\\n\\tconst virtuosoRef = useRef<VirtuosoHandle>(null);\\n\\tconst emojiContainerRef = useRef<HTMLDivElement>(null);\\n\\n\\tconst [isVisibleRef, isInputVisible] = useIsVisible();\\n\\tconst textInputRef = useRef<HTMLInputElement>();\\n\\n\\tconst mergedTextInputRef = useMergedRefs(isVisibleRef, textInputRef);\\n\\n\\tconst emojiCategories = getCategoriesList();\\n\\n\\tconst canManageEmoji = usePermission('manage-emoji');\\n\\tconst customEmojiRoute = useRoute('emoji-custom');\\n\\n\\tconst [searching, setSearching] = useState(false);\\n\\tconst [searchTerm, setSearchTerm] = useState('');\\n\\tconst [searchResults, setSearchResults] = useState<EmojiItem[]>([]);\\n\\n\\tconst { emojiToPreview, handleRemovePreview } = usePreviewEmoji();\\n\\tconst {\\n\\t\\trecentEmojis,\\n\\t\\tsetCurrentCategory,\\n\\t\\taddRecentEmoji,\\n\\t\\tsetRecentEmojis,\\n\\t\\tactualTone,\\n\\t\\tcurrentCategory,\\n\\t\\tgetEmojiListsByCategory,\\n\\t\\tcustomItemsLimit,\\n\\t\\tsetActualTone,\\n\\t\\tsetCustomItemsLimit,\\n\\t} = useEmojiPickerData();\\n\\n\\tuseEffect(() => () => handleRemovePreview(), [handleRemovePreview]);\\n\\n\\tconst scrollCategories = useMediaQuery('(width < 340px)');\\n\\n\\tuseOutsideClick([emojiContainerRef], onClose);\\n\\n\\tuseLayoutEffect(() => {\\n\\t\\tif (!reference) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst resizeObserver = new ResizeObserver(() => {\\n\\t\\t\\tconst anchorRect = reference.getBoundingClientRect();\\n\\t\\t\\tif (anchorRect.width === 0 && anchorRect.height === 0) {\\n\\t\\t\\t\\t// The element is hidden, skip it\\n\\t\\t\\t\\tref.current = null;\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tref.current = reference;\\n\\t\\t});\\n\\n\\t\\tresizeObserver.observe(reference);\\n\\n\\t\\treturn () => {\\n\\t\\t\\tresizeObserver.disconnect();\\n\\t\\t};\\n\\t}, [reference]);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (textInputRef.current && isInputVisible) {\\n\\t\\t\\ttextInputRef.current.focus();\\n\\t\\t}\\n\\t}, [isInputVisible]);\\n\\n\\tconst handleSelectEmoji = (event: MouseEvent<HTMLElement>) => {\\n\\t\\tevent.stopPropagation();\\n\\n\\t\\tconst _emoji = event.currentTarget.dataset?.emoji;\\n\\n\\t\\tif (!_emoji) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tlet tone = '';\\n\\n\\t\\tfor (const emojiPackage in emoji.packages) {\\n\\t\\t\\tif (emoji.packages.hasOwnProperty(emojiPackage)) {\\n\\t\\t\\t\\tif (actualTone > 0 && emoji.packages[emojiPackage].toneList.hasOwnProperty(_emoji)) {\\n\\t\\t\\t\\t\\ttone = `_tone${actualTone}`;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tsetSearchTerm('');\\n\\n\\t\\tonPickEmoji(_emoji + tone);\\n\\t\\taddRecentEmoji(_emoji + tone);\\n\\t\\tonClose();\\n\\t};\\n\\n\\tuseEffect(() => {\\n\\t\\tif (recentEmojis.length === 0 && currentCategory === 'recent') {\\n\\t\\t\\tconst customEmojiList = getEmojiListsByCategory().filter(({ key }) => key === 'rocket');\\n\\t\\t\\thandleGoToCategory(customEmojiList.length > 0 ? 0 : 1);\\n\\t\\t}\\n\\t}, [actualTone, recentEmojis, getEmojiListsByCategory, currentCategory, setRecentEmojis]);\\n\\n\\tconst handleSearch = (e: ChangeEvent<HTMLInputElement>) => {\\n\\t\\tsetSearchTerm(e.target.value);\\n\\t\\tsetCurrentCategory('');\\n\\t\\tsetSearching(e.target.value !== '');\\n\\n\\t\\tconst emojisResult = getEmojisBySearchTerm(e.target.value, actualTone, recentEmojis, setRecentEmojis);\\n\\n\\t\\tif (emojisResult.filter((emoji) => emoji.image).length === 0) {\\n\\t\\t\\tsetCurrentCategory('no-results');\\n\\t\\t}\\n\\t\\tsetSearchResults(emojisResult as EmojiItem[]);\\n\\t};\\n\\n\\tconst handleKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {\\n\\t\\tif (e.key === 'Escape') {\\n\\t\\t\\tonClose();\\n\\t\\t}\\n\\t};\\n\\n\\tconst handleLoadMore = () => {\\n\\t\\tsetCustomItemsLimit(customItemsLimit + 90);\\n\\t};\\n\\n\\t// FIXME: not able to type the event scroll yet due the virtuoso version\\n\\tconst handleScroll = (event: any) => {\\n\\t\\tconst scrollTop = event?.scrollTop;\\n\\t\\tconst last = categoriesPosition.current?.filter((pos) => pos.top <= scrollTop).pop();\\n\\n\\t\\tif (!last) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst { el } = last;\\n\\t\\tconst category = el.id.replace('emoji-list-category-', '');\\n\\n\\t\\tsetCurrentCategory(category);\\n\\t};\\n\\n\\tconst handleGoToCategory = (categoryIndex: number) => {\\n\\t\\tsetSearching(false);\\n\\t\\tvirtuosoRef.current?.scrollToIndex({ index: categoryIndex });\\n\\t};\\n\\n\\tconst handleGoToAddCustom = () => {\\n\\t\\tcustomEmojiRoute.push();\\n\\t\\tonClose();\\n\\t};\\n\\n\\treturn (\\n\\t\\t<EmojiPickerDropdown reference={ref as RefObject<HTMLElement>} ref={emojiContainerRef}>\\n\\t\\t\\t<EmojiPickerContainer role='dialog' aria-label={t('Emoji_picker')} onKeyDown={handleKeyDown}>\\n\\t\\t\\t\\t<EmojiPickerHeader>\\n\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t// FIXME: remove autoFocus prop when rewriting the emojiPicker dropdown\\n\\t\\t\\t\\t\\t\\tautoFocus\\n\\t\\t\\t\\t\\t\\tref={mergedTextInputRef}\\n\\t\\t\\t\\t\\t\\tvalue={searchTerm}\\n\\t\\t\\t\\t\\t\\tonChange={handleSearch}\\n\\t\\t\\t\\t\\t\\taddon={<Icon name='magnifier' size='x20' />}\\n\\t\\t\\t\\t\\t\\tplaceholder={t('Search')}\\n\\t\\t\\t\\t\\t\\taria-label={t('Search')}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</EmojiPickerHeader>\\n\\t\\t\\t\\t<EmojiPickerCategoryHeader role='tablist' {...(scrollCategories && { style: { overflowX: 'scroll' } })}>\\n\\t\\t\\t\\t\\t{emojiCategories.map((category, index) => (\\n\\t\\t\\t\\t\\t\\t<EmojiPickerCategoryItem\\n\\t\\t\\t\\t\\t\\t\\tkey={category.key}\\n\\t\\t\\t\\t\\t\\t\\tindex={index}\\n\\t\\t\\t\\t\\t\\t\\tcategory={category}\\n\\t\\t\\t\\t\\t\\t\\tactive={category.key === currentCategory}\\n\\t\\t\\t\\t\\t\\t\\thandleGoToCategory={handleGoToCategory}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t</EmojiPickerCategoryHeader>\\n\\t\\t\\t\\t<Divider mb={12} />\\n\\t\\t\\t\\t<EmojiPickerListArea role='tabpanel'>\\n\\t\\t\\t\\t\\t{searching && <SearchingResult searchResults={searchResults} handleSelectEmoji={handleSelectEmoji} />}\\n\\t\\t\\t\\t\\t{!searching && (\\n\\t\\t\\t\\t\\t\\t<CategoriesResult\\n\\t\\t\\t\\t\\t\\t\\tref={virtuosoRef}\\n\\t\\t\\t\\t\\t\\t\\temojiListByCategory={getEmojiListsByCategory()}\\n\\t\\t\\t\\t\\t\\t\\tcategoriesPosition={categoriesPosition}\\n\\t\\t\\t\\t\\t\\t\\tcustomItemsLimit={customItemsLimit}\\n\\t\\t\\t\\t\\t\\t\\thandleLoadMore={handleLoadMore}\\n\\t\\t\\t\\t\\t\\t\\thandleSelectEmoji={handleSelectEmoji}\\n\\t\\t\\t\\t\\t\\t\\thandleScroll={handleScroll}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</EmojiPickerListArea>\\n\\t\\t\\t\\t<EmojiPickerPreviewArea>\\n\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t{emojiToPreview && <EmojiPickerPreview emoji={emojiToPreview.emoji} name={emojiToPreview.name} />}\\n\\t\\t\\t\\t\\t\\t{canManageEmoji && emojiToPreview === null && (\\n\\t\\t\\t\\t\\t\\t\\t<Button small onClick={handleGoToAddCustom}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Add_emoji')}\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<ToneSelectorWrapper caption={t('Skin_tone')}>\\n\\t\\t\\t\\t\\t\\t<ToneSelector tone={actualTone} setTone={setActualTone} />\\n\\t\\t\\t\\t\\t</ToneSelectorWrapper>\\n\\t\\t\\t\\t</EmojiPickerPreviewArea>\\n\\t\\t\\t\\t<EmojiPickerFooter>{t('Powered_by_JoyPixels')}</EmojiPickerFooter>\\n\\t\\t\\t</EmojiPickerContainer>\\n\\t\\t</EmojiPickerDropdown>\\n\\t);\\n};\\n\\nexport default EmojiPicker;\\n\",null],\"names\":[\"_extends\",\"_slicedToArray\",\"TextInput\",\"Icon\",\"Button\",\"Divider\",\"useMediaQuery\",\"useMergedRefs\",\"useOutsideClick\",\"EmojiPickerCategoryHeader\",\"EmojiPickerContainer\",\"EmojiPickerFooter\",\"EmojiPickerPreviewArea\",\"EmojiPickerHeader\",\"EmojiPickerListArea\",\"EmojiPickerPreview\",\"useTranslation\",\"usePermission\",\"useRoute\",\"React\",\"useLayoutEffect\",\"useState\",\"useEffect\",\"useRef\",\"emoji\",\"getCategoriesList\",\"getEmojisBySearchTerm\",\"usePreviewEmoji\",\"useEmojiPickerData\",\"useIsVisible\",\"CategoriesResult\",\"EmojiPickerCategoryItem\",\"EmojiPickerDropdown\",\"SearchingResult\",\"ToneSelector\",\"ToneSelectorWrapper\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"reference\",\"onClose\",\"onPickEmoji\",\"t\",\"ref\",\"categoriesPosition\",\"virtuosoRef\",\"emojiContainerRef\",\"_useIsVisible\",\"_useIsVisible2\",\"isVisibleRef\",\"isInputVisible\",\"textInputRef\",\"mergedTextInputRef\",\"emojiCategories\",\"canManageEmoji\",\"customEmojiRoute\",\"_useState\",\"_useState2\",\"searching\",\"setSearching\",\"_useState3\",\"_useState4\",\"searchTerm\",\"setSearchTerm\",\"_useState5\",\"_useState6\",\"searchResults\",\"setSearchResults\",\"_usePreviewEmoji\",\"emojiToPreview\",\"handleRemovePreview\",\"_useEmojiPickerData\",\"recentEmojis\",\"setCurrentCategory\",\"addRecentEmoji\",\"setRecentEmojis\",\"actualTone\",\"currentCategory\",\"getEmojiListsByCategory\",\"customItemsLimit\",\"setActualTone\",\"setCustomItemsLimit\",\"scrollCategories\",\"resizeObserver\",\"ResizeObserver\",\"anchorRect\",\"getBoundingClientRect\",\"width\",\"height\",\"current\",\"observe\",\"disconnect\",\"focus\",\"handleSelectEmoji\",\"event\",\"stopPropagation\",\"_event$currentTarget$\",\"_emoji\",\"currentTarget\",\"dataset\",\"tone\",\"emojiPackage\",\"meteorBabelHelpers\",\"sanitizeForInObject\",\"packages\",\"hasOwnProperty\",\"toneList\",\"length\",\"handleGoToCategory\",\"customEmojiList\",\"filter\",\"_ref2\",\"key\",\"categoryIndex\",\"_virtuosoRef$current\",\"scrollToIndex\",\"index\",\"createElement\",\"role\",\"onKeyDown\",\"e\",\"autoFocus\",\"value\",\"onChange\",\"target\",\"emojisResult\",\"image\",\"addon\",\"name\",\"size\",\"placeholder\",\"style\",\"overflowX\",\"map\",\"category\",\"active\",\"mb\",\"emojiListByCategory\",\"handleLoadMore\",\"handleScroll\",\"_categoriesPosition$c\",\"scrollTop\",\"last\",\"pos\",\"top\",\"pop\",\"el\",\"id\",\"replace\",\"small\",\"onClick\",\"push\",\"caption\",\"setTone\"],\"mappings\":\"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\"}"}