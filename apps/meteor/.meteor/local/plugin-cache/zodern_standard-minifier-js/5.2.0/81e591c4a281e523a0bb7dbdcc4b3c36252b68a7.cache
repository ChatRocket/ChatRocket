{"code":"function module(o,n,e){e.link(\"meteor/accounts-base\",{Accounts:function(o){i=o}},0),e.link(\"meteor/meteor\",{Meteor:function(o){t=o}},1),e.link(\"../../lib/2fa/overrideLoginMethod\",{overrideLoginMethod:function(o){r=o}},2);var i,t,r,s=function(o,n,e,t){\"string\"==typeof o&&(o=-1===o.indexOf(\"@\")?{username:o}:{email:o}),i.callLoginMethod({methodArguments:[{totp:{login:{user:o,password:i._hashPassword(n)},code:e}}],userCallback:function(o){if(!o){null==t||t(void 0);return}if(t){t(o);return}throw o}})},u=t.loginWithPassword;t.loginWithPassword=function(o,n,e){r(u,[o,n],e,s)}}","map":"{\"version\":3,\"sources\":[\"client/meteorOverrides/login/password.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Accounts } from 'meteor/accounts-base';\\nimport { Meteor } from 'meteor/meteor';\\n\\nimport { overrideLoginMethod, type LoginCallback } from '../../lib/2fa/overrideLoginMethod';\\n\\ndeclare module 'meteor/meteor' {\\n\\t// eslint-disable-next-line @typescript-eslint/no-namespace\\n\\tnamespace Meteor {\\n\\t\\tfunction loginWithPassword(\\n\\t\\t\\tuserDescriptor: { username: string } | { email: string } | { id: string } | string,\\n\\t\\t\\tpassword: string,\\n\\t\\t\\tcallback?: LoginCallback,\\n\\t\\t): void;\\n\\t}\\n}\\n\\nconst loginWithPasswordAndTOTP = (\\n\\tuserDescriptor: { username: string } | { email: string } | { id: string } | string,\\n\\tpassword: string,\\n\\tcode: string,\\n\\tcallback?: LoginCallback,\\n) => {\\n\\tif (typeof userDescriptor === 'string') {\\n\\t\\tif (userDescriptor.indexOf('@') === -1) {\\n\\t\\t\\tuserDescriptor = { username: userDescriptor };\\n\\t\\t} else {\\n\\t\\t\\tuserDescriptor = { email: userDescriptor };\\n\\t\\t}\\n\\t}\\n\\n\\tAccounts.callLoginMethod({\\n\\t\\tmethodArguments: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttotp: {\\n\\t\\t\\t\\t\\tlogin: {\\n\\t\\t\\t\\t\\t\\tuser: userDescriptor,\\n\\t\\t\\t\\t\\t\\tpassword: Accounts._hashPassword(password),\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\tcode,\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t],\\n\\t\\tuserCallback(error) {\\n\\t\\t\\tif (!error) {\\n\\t\\t\\t\\tcallback?.(undefined);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (callback) {\\n\\t\\t\\t\\tcallback(error);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tthrow error;\\n\\t\\t},\\n\\t});\\n};\\n\\nconst { loginWithPassword } = Meteor;\\n\\nMeteor.loginWithPassword = (\\n\\tuserDescriptor: { username: string } | { email: string } | { id: string } | string,\\n\\tpassword: string,\\n\\tcallback?: LoginCallback,\\n) => {\\n\\toverrideLoginMethod(loginWithPassword, [userDescriptor, password], callback, loginWithPasswordAndTOTP);\\n};\\n\",null],\"names\":[\"module\",\"link\",\"Accounts\",\"v\",\"Meteor\",\"overrideLoginMethod\",\"loginWithPasswordAndTOTP\",\"userDescriptor\",\"password\",\"code\",\"callback\",\"indexOf\",\"username\",\"email\",\"callLoginMethod\",\"methodArguments\",\"totp\",\"login\",\"user\",\"_hashPassword\",\"userCallback\",\"error\",\"undefined\",\"loginWithPassword\",\"_Meteor\"],\"mappings\":\"uBAASA,EAAUC,IAAA,CAAM,uBAAuB,CAAAC,SAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAG,OAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oCAAA,CAAAI,oBAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAgBhD,IAhBAD,EAAgDE,EAAAC,EAgB1CC,EAA2B,SAChCC,CAAkF,CAClFC,CAAgB,CAChBC,CAAY,CACZC,CAAwB,EAEM,UAA1B,OAAOH,IAETA,EADGA,AAAgC,KAAhCA,EAAeI,OAAO,CAAC,KACT,CAAEC,SAAUL,CAAc,EAE1B,CAAEM,MAAON,CAAc,GAI1CL,EAASY,eAAe,CAAC,CACxBC,gBAAiB,CAChB,CACCC,KAAM,CACLC,MAAO,CACNC,KAAMX,EACNC,SAAUN,EAASiB,aAAa,CAACX,IAElCC,KAAAA,IAGF,CACDW,aAAY,SAACC,CAAK,EACjB,GAAI,CAACA,EAAO,CACXX,MAAAA,GAAAA,EAAWY,KAAAA,GACX,MACD,CAEA,GAAIZ,EAAU,CACbA,EAASW,GACT,MACD,CAEA,MAAMA,CACP,GAEF,EAEQE,EAAiBC,AAAKpB,EAAtBmB,iBAAiB,AAEzBnB,CAAAA,EAAOmB,iBAAiB,CAAG,SAC1BhB,CAAkF,CAClFC,CAAgB,CAChBE,CAAwB,EAExBL,EAAoBkB,EAAmB,CAAChB,EAAgBC,EAAS,CAAEE,EAAUJ,EAC9E\"}"}