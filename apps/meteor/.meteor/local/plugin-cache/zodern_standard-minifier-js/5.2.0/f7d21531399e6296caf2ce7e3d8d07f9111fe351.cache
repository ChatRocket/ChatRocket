{"code":"function module(e,t,a){let l,n,r,i,p,u,o,s,d,c;a.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){l=e}},0),a.link(\"@rocket.chat/fuselage\",{Skeleton(e){n=e}},0),a.link(\"@rocket.chat/ui-client\",{ExternalLink(e){r=e}},1),a.link(\"react\",{default(e){i=e}},2),a.link(\"react-i18next\",{Trans(e){p=e},useTranslation(e){u=e}},3),a.link(\"../../../utils/links\",{PRICING_LINK(e){o=e}},4),a.link(\"../../FeatureUsageCard\",{default(e){s=e}},5),a.link(\"../../UpgradeButton\",{default(e){d=e}},6),a.link(\"./AppsUsageCardSection\",{default(e){c=e}},7),a.exportDefault(e=>{let{privateAppsLimit:t,marketplaceAppsLimit:a}=e,{t:m}=u();if(!t||!a)return i.createElement(s,{card:{title:m(\"Apps\")}},i.createElement(n,{variant:\"rect\",width:\"x112\",height:\"x112\",role:\"presentation\"}));let k=(null==a?void 0:a.value)||0,g=(null==a?void 0:a.max)||5,f=(null==t?void 0:t.value)||0,h=(null==t?void 0:t.max)||0,v=l({title:m(\"Apps\"),infoText:i.createElement(p,{i18nKey:\"Apps_InfoText_limited\",values:{marketplaceAppsMaxCount:g},components:{1:i.createElement(r,{to:o},\"premium plans\")}})},(Math.round(k/g*100)||0)>=80&&{upgradeButton:i.createElement(d,{target:\"app-usage-card\",action:\"upgrade\",small:!0},m(\"Upgrade\"))});return i.createElement(s,{card:v},i.createElement(c,{title:m(\"Marketplace_apps\"),appsCount:k,appsMaxCount:g,warningThreshold:80}),i.createElement(c,{title:m(\"Private_apps\"),tip:0===h?m(\"Private_apps_premium_message\"):void 0,appsCount:f,appsMaxCount:h,warningThreshold:80}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/subscription/components/cards/AppsUsageCard/AppsUsageCard.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Skeleton } from '@rocket.chat/fuselage';\\nimport { ExternalLink } from '@rocket.chat/ui-client';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { Trans, useTranslation } from 'react-i18next';\\n\\nimport { PRICING_LINK } from '../../../utils/links';\\nimport type { CardProps } from '../../FeatureUsageCard';\\nimport FeatureUsageCard from '../../FeatureUsageCard';\\nimport UpgradeButton from '../../UpgradeButton';\\nimport AppsUsageCardSection from './AppsUsageCardSection';\\n\\n// Magic numbers\\nconst marketplaceAppsMaxCountFallback = 5;\\nconst privateAppsMaxCountFallback = 0;\\nconst defaultWarningThreshold = 80;\\n\\ntype AppsUsageCardProps = {\\n\\tprivateAppsLimit?: { value?: number; max: number };\\n\\tmarketplaceAppsLimit?: { value?: number; max: number };\\n};\\n\\nconst AppsUsageCard = ({ privateAppsLimit, marketplaceAppsLimit }: AppsUsageCardProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\n\\tif (!privateAppsLimit || !marketplaceAppsLimit) {\\n\\t\\t// FIXME: not accessible enough\\n\\t\\treturn (\\n\\t\\t\\t<FeatureUsageCard card={{ title: t('Apps') }}>\\n\\t\\t\\t\\t<Skeleton variant='rect' width='x112' height='x112' role='presentation' />\\n\\t\\t\\t</FeatureUsageCard>\\n\\t\\t);\\n\\t}\\n\\n\\tconst marketplaceAppsCount = marketplaceAppsLimit?.value || 0;\\n\\tconst marketplaceAppsMaxCount = marketplaceAppsLimit?.max || marketplaceAppsMaxCountFallback;\\n\\tconst marketplaceAppsPercentage = Math.round((marketplaceAppsCount / marketplaceAppsMaxCount) * 100) || 0;\\n\\tconst marketplaceAppsAboveWarning = marketplaceAppsPercentage >= defaultWarningThreshold;\\n\\n\\tconst privateAppsCount = privateAppsLimit?.value || 0;\\n\\tconst privateAppsMaxCount = privateAppsLimit?.max || privateAppsMaxCountFallback;\\n\\n\\tconst card: CardProps = {\\n\\t\\ttitle: t('Apps'),\\n\\t\\tinfoText: (\\n\\t\\t\\t<Trans\\n\\t\\t\\t\\ti18nKey='Apps_InfoText_limited'\\n\\t\\t\\t\\tvalues={{ marketplaceAppsMaxCount }}\\n\\t\\t\\t\\tcomponents={{ 1: <ExternalLink to={PRICING_LINK}>premium plans</ExternalLink> }}\\n\\t\\t\\t/>\\n\\t\\t),\\n\\n\\t\\t...(marketplaceAppsAboveWarning && {\\n\\t\\t\\tupgradeButton: (\\n\\t\\t\\t\\t<UpgradeButton target='app-usage-card' action='upgrade' small>\\n\\t\\t\\t\\t\\t{t('Upgrade')}\\n\\t\\t\\t\\t</UpgradeButton>\\n\\t\\t\\t),\\n\\t\\t}),\\n\\t};\\n\\n\\treturn (\\n\\t\\t<FeatureUsageCard card={card}>\\n\\t\\t\\t<AppsUsageCardSection\\n\\t\\t\\t\\ttitle={t('Marketplace_apps')}\\n\\t\\t\\t\\tappsCount={marketplaceAppsCount}\\n\\t\\t\\t\\tappsMaxCount={marketplaceAppsMaxCount}\\n\\t\\t\\t\\twarningThreshold={defaultWarningThreshold}\\n\\t\\t\\t/>\\n\\n\\t\\t\\t<AppsUsageCardSection\\n\\t\\t\\t\\ttitle={t('Private_apps')}\\n\\t\\t\\t\\ttip={privateAppsMaxCount === 0 ? t('Private_apps_premium_message') : undefined}\\n\\t\\t\\t\\tappsCount={privateAppsCount}\\n\\t\\t\\t\\tappsMaxCount={privateAppsMaxCount}\\n\\t\\t\\t\\twarningThreshold={defaultWarningThreshold}\\n\\t\\t\\t/>\\n\\t\\t</FeatureUsageCard>\\n\\t);\\n};\\n\\nexport default AppsUsageCard;\\n\",null],\"names\":[\"_objectSpread\",\"Skeleton\",\"ExternalLink\",\"React\",\"Trans\",\"useTranslation\",\"PRICING_LINK\",\"FeatureUsageCard\",\"UpgradeButton\",\"AppsUsageCardSection\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"privateAppsLimit\",\"marketplaceAppsLimit\",\"t\",\"createElement\",\"card\",\"title\",\"variant\",\"width\",\"height\",\"role\",\"marketplaceAppsCount\",\"value\",\"marketplaceAppsMaxCount\",\"max\",\"privateAppsCount\",\"privateAppsMaxCount\",\"infoText\",\"i18nKey\",\"values\",\"components\",\"to\",\"marketplaceAppsAboveWarning\",\"Math\",\"round\",\"upgradeButton\",\"target\",\"action\",\"small\",\"appsCount\",\"appsMaxCount\",\"warningThreshold\",\"tip\",\"undefined\"],\"mappings\":\"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\"}"}