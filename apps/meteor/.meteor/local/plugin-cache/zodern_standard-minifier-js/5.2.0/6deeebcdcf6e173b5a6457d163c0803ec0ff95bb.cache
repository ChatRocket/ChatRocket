{"code":"function module(e,n,t){let l,o,a,d,u,c,i,s;t.export({useWebdavActions:()=>r}),t.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){l=e},useSetting(e){o=e}},0),t.link(\"react\",{default(e){a=e}},1),t.link(\"react-i18next\",{useTranslation(e){d=e}},2),t.link(\"../../../../../../hooks/webdav/useWebDAVAccountIntegrationsQuery\",{useWebDAVAccountIntegrationsQuery(e){u=e}},3),t.link(\"../../../../contexts/ChatContext\",{useChat(e){c=e}},4),t.link(\"../../../../webdav/AddWebdavAccountModal\",{default(e){i=e}},5),t.link(\"../../../../webdav/WebdavFilePickerModal\",{default(e){s=e}},6);let r=()=>{let e=o(\"Webdav_Integration_Enabled\",!1),{isSuccess:n,data:t}=u({enabled:e}),r=c(),{t:b}=d(),k=l(),v=async(e,n)=>null==r?void 0:r.uploads.send(e,{description:n}),A=e=>k(a.createElement(s,{account:e,onUpload:v,onClose:()=>k(null)}));return[{id:\"webdav-add\",content:b(\"Add_Server\"),icon:\"cloud-plus\",disabled:!n,onClick:()=>k(a.createElement(i,{onClose:()=>k(null),onConfirm:()=>k(null)}))},...n?t.map(e=>({id:e._id,content:e.name,icon:\"cloud-plus\",onClick:()=>A(e)})):[]]}}","map":"{\"version\":3,\"sources\":[\"client/views/room/composer/messageBox/MessageBoxActionsToolbar/hooks/useWebdavActions.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IWebdavAccountIntegration } from '@rocket.chat/core-typings';\\nimport type { GenericMenuItemProps } from '@rocket.chat/ui-client';\\nimport { useSetModal, useSetting } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useWebDAVAccountIntegrationsQuery } from '../../../../../../hooks/webdav/useWebDAVAccountIntegrationsQuery';\\nimport { useChat } from '../../../../contexts/ChatContext';\\nimport AddWebdavAccountModal from '../../../../webdav/AddWebdavAccountModal';\\nimport WebdavFilePickerModal from '../../../../webdav/WebdavFilePickerModal';\\n\\nexport const useWebdavActions = (): GenericMenuItemProps[] => {\\n\\tconst enabled = useSetting<boolean>('Webdav_Integration_Enabled', false);\\n\\n\\tconst { isSuccess, data } = useWebDAVAccountIntegrationsQuery({ enabled });\\n\\n\\tconst chat = useChat();\\n\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst handleAddWebDav = () => setModal(<AddWebdavAccountModal onClose={() => setModal(null)} onConfirm={() => setModal(null)} />);\\n\\n\\tconst handleUpload = async (file: File, description?: string) =>\\n\\t\\tchat?.uploads.send(file, {\\n\\t\\t\\tdescription,\\n\\t\\t});\\n\\n\\tconst handleOpenWebdav = (account: IWebdavAccountIntegration) =>\\n\\t\\tsetModal(<WebdavFilePickerModal account={account} onUpload={handleUpload} onClose={() => setModal(null)} />);\\n\\n\\treturn [\\n\\t\\t{\\n\\t\\t\\tid: 'webdav-add',\\n\\t\\t\\tcontent: t('Add_Server'),\\n\\t\\t\\ticon: 'cloud-plus',\\n\\t\\t\\tdisabled: !isSuccess,\\n\\t\\t\\tonClick: handleAddWebDav,\\n\\t\\t},\\n\\t\\t...(isSuccess\\n\\t\\t\\t? data.map((account) => ({\\n\\t\\t\\t\\t\\tid: account._id,\\n\\t\\t\\t\\t\\tcontent: account.name,\\n\\t\\t\\t\\t\\ticon: 'cloud-plus' as const,\\n\\t\\t\\t\\t\\tonClick: () => handleOpenWebdav(account),\\n\\t\\t\\t  }))\\n\\t\\t\\t: []),\\n\\t];\\n};\\n\",null],\"names\":[\"useSetModal\",\"useSetting\",\"React\",\"useTranslation\",\"useWebDAVAccountIntegrationsQuery\",\"useChat\",\"AddWebdavAccountModal\",\"WebdavFilePickerModal\",\"module\",\"export\",\"useWebdavActions\",\"link\",\"v\",\"default\",\"enabled\",\"isSuccess\",\"data\",\"chat\",\"t\",\"setModal\",\"handleUpload\",\"file\",\"description\",\"uploads\",\"send\",\"handleOpenWebdav\",\"account\",\"createElement\",\"onUpload\",\"onClose\",\"id\",\"content\",\"icon\",\"disabled\",\"onClick\",\"handleAddWebDav\",\"onConfirm\",\"map\",\"_id\",\"name\"],\"mappings\":\"2BAEwCA,EAA2BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAnEC,EAAOC,MAAE,CAAA,CAAAC,iBAAuBA,IAAEA,CAAM,GAA2BF,EAAAG,IAAA,CAAA,2BAAA,CAAAX,YAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,WAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,gBAAA,CAAAR,eAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,mEAAA,CAAAP,kCAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,mCAAA,CAAAN,QAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,2CAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,2CAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAS5D,IAAMF,EAAmBA,KAC/B,IAAMI,EAAUb,EAAoB,6BAA8B,CAAA,GAE5D,CAAEc,UAAAA,CAAS,CAAEC,KAAAA,CAAAA,CAAM,CAAGZ,EAAkC,CAAEU,QAAAA,CAAO,GAEjEG,EAAOZ,IAEP,CAAEa,EAAAA,CAAAA,CAAG,CAAGf,IACRgB,EAAWnB,IAGXoB,EAAe,MAAOC,EAAYC,IACvCL,MAAAA,EAAI,KAAA,EAAJA,EAAMM,OAAO,CAACC,IAAI,CAACH,EAAM,CACxBC,YAAAA,IAGIG,EAAoBC,GACzBP,EAASjB,EAAAyB,aAAA,CAACpB,EAAqB,CAACmB,QAASA,EAASE,SAAUR,EAAcS,QAASA,IAAMV,EAAS,KAAM,IAEzG,MAAO,CACN,CACCW,GAAI,aACJC,QAASb,EAAE,cACXc,KAAM,aACNC,SAAU,CAAClB,EACXmB,QAhBsBC,IAAMhB,EAASjB,EAAAyB,aAAA,CAACrB,EAAqB,CAACuB,QAASA,IAAMV,EAAS,MAAOiB,UAAWA,IAAMjB,EAAS,KAAM,QAkBxHJ,EACDC,EAAKqB,GAAG,CAAEX,GAAa,CAAA,CACvBI,GAAIJ,EAAQY,GAAG,CACfP,QAASL,EAAQa,IAAI,CACrBP,KAAM,aACNE,QAASA,IAAMT,EAAiBC,MAEhC,EAAE,CACL,AACF\"}"}