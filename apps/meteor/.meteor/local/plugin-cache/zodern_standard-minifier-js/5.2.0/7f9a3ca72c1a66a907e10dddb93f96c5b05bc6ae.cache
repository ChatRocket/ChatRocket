{"code":"function module(t,e,a){let r,s,n,l,i;a.link(\"meteor/meteor\",{Meteor(t){r=t}},0),a.link(\"meteor/tracker\",{Tracker(t){s=t}},1),a.link(\"../../../app/authorization/client\",{hasPermission(t){n=t}},2),a.link(\"../../../app/settings/client\",{settings(t){l=t}},3),a.link(\"../../../lib/callbacks\",{callbacks(t){i=t}},4),r.startup(()=>{s.autorun(()=>{let t=l.get(\"AutoTranslate_Enabled\")&&n(\"auto-translate\");if(!t){i.remove(\"streamMessage\",\"autotranslate-stream\");return}a.dynamicImport(\"../../../app/autotranslate/client\").then(t=>{let{createAutoTranslateMessageStreamHandler:e}=t,a=e();i.remove(\"streamMessage\",\"autotranslate-stream\"),i.add(\"streamMessage\",a,i.priority.HIGH-3,\"autotranslate-stream\")})})})}","map":"{\"version\":3,\"sources\":[\"client/startup/streamMessage/autotranslate.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Meteor } from 'meteor/meteor';\\nimport { Tracker } from 'meteor/tracker';\\n\\nimport { hasPermission } from '../../../app/authorization/client';\\nimport { settings } from '../../../app/settings/client';\\nimport { callbacks } from '../../../lib/callbacks';\\n\\nMeteor.startup(() => {\\n\\tTracker.autorun(() => {\\n\\t\\tconst isEnabled = settings.get('AutoTranslate_Enabled') && hasPermission('auto-translate');\\n\\n\\t\\tif (!isEnabled) {\\n\\t\\t\\tcallbacks.remove('streamMessage', 'autotranslate-stream');\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\timport('../../../app/autotranslate/client').then(({ createAutoTranslateMessageStreamHandler }) => {\\n\\t\\t\\tconst streamMessage = createAutoTranslateMessageStreamHandler();\\n\\t\\t\\tcallbacks.remove('streamMessage', 'autotranslate-stream');\\n\\t\\t\\tcallbacks.add('streamMessage', streamMessage, callbacks.priority.HIGH - 3, 'autotranslate-stream');\\n\\t\\t});\\n\\t});\\n});\\n\",null],\"names\":[\"Meteor\",\"Tracker\",\"hasPermission\",\"settings\",\"callbacks\",\"module\",\"link\",\"v\",\"startup\",\"autorun\",\"isEnabled\",\"get\",\"remove\",\"dynamicImport\",\"then\",\"_ref\",\"createAutoTranslateMessageStreamHandler\",\"streamMessage\",\"add\",\"priority\",\"HIGH\"],\"mappings\":\"2BAAAA,EAAuCC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAQC,IAAA,CAAM,gBAAgB,CAAAN,OAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,iBAAA,CAAAL,QAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oCAAA,CAAAJ,cAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,+BAAA,CAAAH,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yBAAA,CAAAF,UAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAOvCP,EAAOQ,OAAO,CAAC,KACdP,EAAQQ,OAAO,CAAC,KACf,IAAMC,EAAYP,EAASQ,GAAG,CAAC,0BAA4BT,EAAc,kBAEzE,GAAI,CAACQ,EAAW,CACfN,EAAUQ,MAAM,CAAC,gBAAiB,wBAClC,MACD,CAEAP,EAAAQ,aAAA,CAAO,qCAAqCC,IAAI,CAACC,IAAgD,GAA/C,CAAEC,wCAAAA,CAAAA,CAAyC,CAAAD,EACtFE,EAAgBD,IACtBZ,EAAUQ,MAAM,CAAC,gBAAiB,wBAClCR,EAAUc,GAAG,CAAC,gBAAiBD,EAAeb,EAAUe,QAAQ,CAACC,IAAI,CAAG,EAAG,uBAC5E,EACD,EACD\"}"}