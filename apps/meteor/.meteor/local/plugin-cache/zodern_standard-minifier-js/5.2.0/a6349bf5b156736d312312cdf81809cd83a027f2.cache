{"code":"function module(e,t,l){let a,i,n,r,s,o;l.link(\"react\",{default(e){a=e},useEffect(e){i=e},useState(e){n=e}},0),l.link(\"../components/ImageGallery\",{ImageGallery(e){r=e}},1),l.link(\"../contexts/ImageGalleryContext\",{ImageGalleryContext(e){s=e}},2),l.link(\"../views/room/ImageGallery/ImageGalleryData\",{default(e){o=e}},3),l.exportDefault(e=>{let{children:t}=e,[l,c]=n(),[d,u]=n();return i(()=>{let e=e=>{var t,l;let a=null==e?void 0:e.target;if(null!=a&&a.closest(\".rcx-attachment__details\")||null!=a&&a.classList.contains(\"preview-image\"))return u(a.dataset.id);if(null!=a&&a.classList.contains(\"gallery-item\")){let e=(null===(t=a.closest(\".gallery-item-container\"))||void 0===t?void 0:t.getAttribute(\"data-id\"))||void 0;return c(a.dataset.id||e)}if(null!=a&&a.classList.contains(\"gallery-item-container\"))return c(a.dataset.id);if(null!=a&&a.classList.contains(\"rcx-avatar__element\")&&a.closest(\".gallery-item\")){let e=(null===(l=a.closest(\".gallery-item-container\"))||void 0===l?void 0:l.getAttribute(\"data-id\"))||void 0;return c(e)}};return document.addEventListener(\"click\",e),()=>document.removeEventListener(\"click\",e)},[]),a.createElement(s.Provider,{value:{imageId:l||\"\",isOpen:!!l,onClose:()=>c(void 0)}},t,!!d&&a.createElement(r,{images:[{_id:d,url:d}],onClose:()=>u(void 0)}),!!l&&a.createElement(o,null))})}","map":"{\"version\":3,\"sources\":[\"client/providers/ImageGalleryProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import React, { type ReactNode, useEffect, useState } from 'react';\\n\\nimport { ImageGallery } from '../components/ImageGallery';\\nimport { ImageGalleryContext } from '../contexts/ImageGalleryContext';\\nimport ImageGalleryData from '../views/room/ImageGallery/ImageGalleryData';\\n\\ntype ImageGalleryProviderProps = {\\n\\tchildren: ReactNode;\\n};\\n\\nconst ImageGalleryProvider = ({ children }: ImageGalleryProviderProps) => {\\n\\tconst [imageId, setImageId] = useState<string>();\\n\\tconst [singleImageUrl, setSingleImageUrl] = useState<string>();\\n\\n\\tuseEffect(() => {\\n\\t\\tconst handleImageClick = (event: Event) => {\\n\\t\\t\\tconst target = event?.target as HTMLElement | null;\\n\\n\\t\\t\\tif (target?.closest('.rcx-attachment__details')) {\\n\\t\\t\\t\\treturn setSingleImageUrl(target.dataset.id);\\n\\t\\t\\t}\\n\\t\\t\\tif (target?.classList.contains('preview-image')) {\\n\\t\\t\\t\\treturn setSingleImageUrl(target.dataset.id);\\n\\t\\t\\t}\\n\\t\\t\\tif (target?.classList.contains('gallery-item')) {\\n\\t\\t\\t\\tconst id = target.closest('.gallery-item-container')?.getAttribute('data-id') || undefined;\\n\\t\\t\\t\\treturn setImageId(target.dataset.id || id);\\n\\t\\t\\t}\\n\\t\\t\\tif (target?.classList.contains('gallery-item-container')) {\\n\\t\\t\\t\\treturn setImageId(target.dataset.id);\\n\\t\\t\\t}\\n\\t\\t\\tif (target?.classList.contains('rcx-avatar__element') && target.closest('.gallery-item')) {\\n\\t\\t\\t\\tconst avatarTarget = target.closest('.gallery-item-container')?.getAttribute('data-id') || undefined;\\n\\t\\t\\t\\treturn setImageId(avatarTarget);\\n\\t\\t\\t}\\n\\t\\t};\\n\\t\\tdocument.addEventListener('click', handleImageClick);\\n\\n\\t\\treturn () => document.removeEventListener('click', handleImageClick);\\n\\t}, []);\\n\\n\\treturn (\\n\\t\\t<ImageGalleryContext.Provider value={{ imageId: imageId || '', isOpen: !!imageId, onClose: () => setImageId(undefined) }}>\\n\\t\\t\\t{children}\\n\\t\\t\\t{!!singleImageUrl && (\\n\\t\\t\\t\\t<ImageGallery images={[{ _id: singleImageUrl, url: singleImageUrl }]} onClose={() => setSingleImageUrl(undefined)} />\\n\\t\\t\\t)}\\n\\t\\t\\t{!!imageId && <ImageGalleryData />}\\n\\t\\t</ImageGalleryContext.Provider>\\n\\t);\\n};\\n\\nexport default ImageGalleryProvider;\\n\",null],\"names\":[\"React\",\"useEffect\",\"useState\",\"ImageGallery\",\"ImageGalleryContext\",\"ImageGalleryData\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"children\",\"imageId\",\"setImageId\",\"singleImageUrl\",\"setSingleImageUrl\",\"handleImageClick\",\"event\",\"_target$closest\",\"_target$closest2\",\"target\",\"closest\",\"classList\",\"contains\",\"dataset\",\"id\",\"getAttribute\",\"undefined\",\"avatarTarget\",\"document\",\"addEventListener\",\"removeEventListener\",\"createElement\",\"Provider\",\"value\",\"isOpen\",\"onClose\",\"images\",\"_id\",\"url\"],\"mappings\":\"2BAAAA,EAAOC,EAAyBC,EAAmCC,EAAAC,EAAAC,EAAxBC,EAAQC,IAAE,CAAA,QAAM,CAAOC,QAACC,CAAA,EAAAT,EAAAS,CAAA,EAAAR,UAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,6BAAA,CAAAJ,aAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAH,oBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8CAAA,CAAAC,QAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAnEH,EAAOI,aAAyB,CAUHC,IAA4C,GAA3C,CAAEC,SAAAA,CAAAA,CAAqC,CAAAD,EAC9D,CAACE,EAASC,EAAW,CAAGZ,IACxB,CAACa,EAAgBC,EAAkB,CAAGd,IA6B5C,OA3BAD,EAAU,KACT,IAAMgB,EAAoBC,QASuBC,EAO0CC,EAf1F,IAAMC,EAASH,MAAAA,EAAK,KAAA,EAALA,EAAOG,MAA4B,CAElD,SAAIA,GAAAA,EAAQC,OAAO,CAAC,6BAGhBD,MAAAA,GAAAA,EAAQE,SAAS,CAACC,QAAQ,CAAC,iBAF9B,OAAOR,EAAkBK,EAAOI,OAAO,CAACC,EAAE,EAK3C,GAAIL,MAAAA,GAAAA,EAAQE,SAAS,CAACC,QAAQ,CAAC,gBAAiB,CAC/C,IAAME,EAAK,CAAA,AAAyC,OAAzCP,CAAAA,EAAAE,EAAOC,OAAO,CAAC,0BAAyB,GAACH,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAzCA,EAA2CQ,YAAY,CAAC,UAAS,GAAKC,KAAAA,EACjF,OAAOd,EAAWO,EAAOI,OAAO,CAACC,EAAE,EAAIA,EACxC,CACA,GAAIL,MAAAA,GAAAA,EAAQE,SAAS,CAACC,QAAQ,CAAC,0BAC9B,OAAOV,EAAWO,EAAOI,OAAO,CAACC,EAAE,EAEpC,GAAIL,MAAAA,GAAAA,EAAQE,SAAS,CAACC,QAAQ,CAAC,wBAA0BH,EAAOC,OAAO,CAAC,iBAAkB,CACzF,IAAMO,EAAe,CAAA,AAAyC,OAAzCT,CAAAA,EAAAC,EAAOC,OAAO,CAAC,0BAAyB,GAACF,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAzCA,EAA2CO,YAAY,CAAC,UAAS,GAAKC,KAAAA,EAC3F,OAAOd,EAAWe,EACnB,CACD,EAGA,OAFAC,SAASC,gBAAgB,CAAC,QAASd,GAE5B,IAAMa,SAASE,mBAAmB,CAAC,QAASf,EACpD,EAAG,EAAE,EAGJjB,EAAAiC,aAAA,CAAC7B,EAAoB8B,QAAQ,CAAA,CAACC,MAAO,CAAEtB,QAASA,GAAW,GAAIuB,OAAQ,CAAC,CAACvB,EAASwB,QAASA,IAAMvB,EAAWc,KAAAA,EAAU,CAAG,EACvHhB,EACA,CAAC,CAACG,GACFf,EAAAiC,aAAA,CAAC9B,EAAY,CAACmC,OAAQ,CAAC,CAAEC,IAAKxB,EAAgByB,IAAKzB,CAAc,EAAI,CAACsB,QAASA,IAAMrB,EAAkBY,KAAAA,EAAW,GAElH,CAAC,CAACf,GAAWb,EAAAiC,aAAA,CAAC5B,EAAgB,MAGlC\"}"}