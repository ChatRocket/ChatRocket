{"code":"function module(e,t,n){let l,o,a,i,c,r,s,u,d,k;n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){l=e}},0),n.link(\"react\",{default(e){o=e},useState(e){a=e},memo(e){i=e}},1),n.link(\"react-i18next\",{useTranslation(e){c=e}},2),n.link(\"../../../../../app/authorization/lib\",{CONSTANTS(e){r=e}},3),n.link(\"../../../../components/GenericTable\",{GenericTableRow(e){s=e},GenericTableCell(e){u=e}},4),n.link(\"../hooks/useChangeRole\",{useChangeRole(e){d=e}},5),n.link(\"./RoleCell\",{default(e){k=e}},6);let m=(e,t)=>{if(t.level===r.SETTINGS_LEVEL){let n=\"\";return t.group&&(n=\"\".concat(e(t.group),\" > \")),t.section&&(n=\"\".concat(n).concat(e(t.section),\" > \")),\"\".concat(n).concat(e(t.settingId))}return e(t._id)};n.exportDefault(i(e=>{let{permission:t,roleList:n,onGrant:i,onRemove:r}=e,{t:p}=c(),{_id:T,roles:h}=t,[g,b]=a(!1),C=d({onGrant:i,onRemove:r,permissionId:T}),E=l(()=>b(!0)),f=l(()=>b(!1));return o.createElement(s,{key:T,role:\"link\",action:!0,tabIndex:0,onMouseEnter:E,onMouseLeave:f},o.createElement(u,{maxWidth:\"x300\",withTruncatedText:!0,title:p(\"\".concat(T,\"_description\"))},m(p,t)),n.map(e=>{let{_id:t,name:n,description:l}=e;return o.createElement(k,{key:t,_id:t,name:n,description:l,grantedRoles:h,onChange:C,lineHovered:g,permissionId:t})}))}))}","map":"{\"version\":3,\"sources\":[\"client/views/admin/permissions/PermissionsTable/PermissionRow.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRole, IPermission } from '@rocket.chat/core-typings';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\\nimport type { TFunction } from 'i18next';\\nimport type { ReactElement } from 'react';\\nimport React, { useState, memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { CONSTANTS } from '../../../../../app/authorization/lib';\\nimport { GenericTableRow, GenericTableCell } from '../../../../components/GenericTable';\\nimport { useChangeRole } from '../hooks/useChangeRole';\\nimport RoleCell from './RoleCell';\\n\\nconst getName = (t: TFunction, permission: IPermission): string => {\\n\\tif (permission.level === CONSTANTS.SETTINGS_LEVEL) {\\n\\t\\tlet path = '';\\n\\t\\tif (permission.group) {\\n\\t\\t\\tpath = `${t(permission.group as TranslationKey)} > `;\\n\\t\\t}\\n\\t\\tif (permission.section) {\\n\\t\\t\\tpath = `${path}${t(permission.section as TranslationKey)} > `;\\n\\t\\t}\\n\\t\\treturn `${path}${t(permission.settingId as TranslationKey)}`;\\n\\t}\\n\\n\\treturn t(permission._id as TranslationKey);\\n};\\n\\ntype PermissionRowProps = {\\n\\tpermission: IPermission;\\n\\troleList: IRole[];\\n\\tonGrant: (permissionId: IPermission['_id'], roleId: IRole['_id']) => Promise<void>;\\n\\tonRemove: (permissionId: IPermission['_id'], roleId: IRole['_id']) => Promise<void>;\\n};\\n\\nconst PermissionRow = ({ permission, roleList, onGrant, onRemove }: PermissionRowProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst { _id, roles } = permission;\\n\\tconst [hovered, setHovered] = useState(false);\\n\\tconst changeRole = useChangeRole({ onGrant, onRemove, permissionId: _id });\\n\\n\\tconst onMouseEnter = useMutableCallback(() => setHovered(true));\\n\\tconst onMouseLeave = useMutableCallback(() => setHovered(false));\\n\\n\\treturn (\\n\\t\\t<GenericTableRow key={_id} role='link' action tabIndex={0} onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave}>\\n\\t\\t\\t<GenericTableCell maxWidth='x300' withTruncatedText title={t(`${_id}_description` as TranslationKey)}>\\n\\t\\t\\t\\t{getName(t, permission)}\\n\\t\\t\\t</GenericTableCell>\\n\\t\\t\\t{roleList.map(({ _id, name, description }) => (\\n\\t\\t\\t\\t<RoleCell\\n\\t\\t\\t\\t\\tkey={_id}\\n\\t\\t\\t\\t\\t_id={_id}\\n\\t\\t\\t\\t\\tname={name}\\n\\t\\t\\t\\t\\tdescription={description}\\n\\t\\t\\t\\t\\tgrantedRoles={roles}\\n\\t\\t\\t\\t\\tonChange={changeRole}\\n\\t\\t\\t\\t\\tlineHovered={hovered}\\n\\t\\t\\t\\t\\tpermissionId={_id}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t))}\\n\\t\\t</GenericTableRow>\\n\\t);\\n};\\n\\nexport default memo(PermissionRow);\\n\",null],\"names\":[\"useMutableCallback\",\"React\",\"useState\",\"memo\",\"useTranslation\",\"CONSTANTS\",\"GenericTableRow\",\"GenericTableCell\",\"useChangeRole\",\"RoleCell\",\"module\",\"link\",\"v\",\"default\",\"getName\",\"t\",\"permission\",\"level\",\"SETTINGS_LEVEL\",\"path\",\"group\",\"concat\",\"section\",\"settingId\",\"_id\",\"exportDefault\",\"_ref\",\"roleList\",\"onGrant\",\"onRemove\",\"roles\",\"hovered\",\"setHovered\",\"changeRole\",\"permissionId\",\"onMouseEnter\",\"onMouseLeave\",\"createElement\",\"key\",\"role\",\"action\",\"tabIndex\",\"maxWidth\",\"withTruncatedText\",\"title\",\"map\",\"_ref2\",\"name\",\"description\",\"grantedRoles\",\"onChange\",\"lineHovered\"],\"mappings\":\"2BACAA,EAAiEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxDC,EAAoBC,IAAA,CAAM,8BAA8B,CAAAX,mBAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAX,EAAAW,CAAA,EAAAV,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,KAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAP,eAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uCAAA,CAAAN,UAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,sCAAA,CAAAL,gBAAAM,CAAA,EAAAN,EAAAM,CAAA,EAAAL,iBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yBAAA,CAAAH,cAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,aAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAYjE,IAAME,EAAUA,CAACC,EAAcC,KAC9B,GAAIA,EAAWC,KAAK,GAAKZ,EAAUa,cAAc,CAAE,CAClD,IAAIC,EAAO,GAOX,OANIH,EAAWI,KAAK,EACnBD,CAAAA,EAAI,GAAAE,MAAA,CAAMN,EAAEC,EAAWI,KAAuB,EAAC,MAAA,EAE5CJ,EAAWM,OAAO,EACrBH,CAAAA,EAAI,GAAAE,MAAA,CAAMF,GAAIE,MAAA,CAAGN,EAAEC,EAAWM,OAAyB,EAAC,MAAA,EAEzD,GAAAD,MAAA,CAAUF,GAAIE,MAAA,CAAGN,EAAEC,EAAWO,SAA2B,EAC1D,CAEA,OAAOR,EAAEC,EAAWQ,GAAqB,CAC1C,EAzBAd,EAAOe,aAAE,CAgEMtB,EA9BOuB,IAAkF,GAAjF,CAAEV,WAAAA,CAAU,CAAEW,SAAAA,CAAQ,CAAEC,QAAAA,CAAO,CAAEC,SAAAA,CAAAA,CAA8B,CAAAH,EAC/E,CAAEX,EAAAA,CAAAA,CAAG,CAAGX,IACR,CAAEoB,IAAAA,CAAG,CAAEM,MAAAA,CAAAA,CAAO,CAAGd,EACjB,CAACe,EAASC,EAAW,CAAG9B,EAAS,CAAA,GACjC+B,EAAazB,EAAc,CAAEoB,QAAAA,EAASC,SAAAA,EAAUK,aAAcV,CAAG,GAEjEW,EAAenC,EAAmB,IAAMgC,EAAW,CAAA,IACnDI,EAAepC,EAAmB,IAAMgC,EAAW,CAAA,IAEzD,OACC/B,EAAAoC,aAAA,CAAC/B,EAAe,CAACgC,IAAKd,EAAKe,KAAK,OAAOC,OAAM,CAAA,EAACC,SAAU,EAAGN,aAAcA,EAAcC,aAAcA,CAAa,EACjHnC,EAAAoC,aAAA,CAAC9B,EAAgB,CAACmC,SAAS,OAAOC,kBAAiB,CAAA,EAACC,MAAO7B,EAAC,GAAAM,MAAA,CAAIG,EAAG,gBAAkC,EACnGV,EAAQC,EAAGC,IAEZW,EAASkB,GAAG,CAACC,IAAA,GAAC,CAAEtB,IAAAA,CAAG,CAAEuB,KAAAA,CAAI,CAAEC,YAAAA,CAAAA,CAAa,CAAAF,EAAA,OACxC7C,EAAAoC,aAAA,CAAC5B,EAAQ,CACR6B,IAAKd,EACLA,IAAKA,EACLuB,KAAMA,EACNC,YAAaA,EACbC,aAAcnB,EACdoB,SAAUjB,EACVkB,YAAapB,EACbG,aAAcV,CAAI,EACjB,GAIN\"}"}