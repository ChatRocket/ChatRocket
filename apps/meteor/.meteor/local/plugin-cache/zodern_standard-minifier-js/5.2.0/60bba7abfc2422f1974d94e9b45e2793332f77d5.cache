{"code":"function module(e,t,n){n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){r=e}},0),n.link(\"@babel/runtime/regenerator\",{default:function(e){o=e}},1),n.link(\"@rocket.chat/fuselage\",{Box:function(e){a=e},Skeleton:function(e){u=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useMethod:function(e){c=e}},1),n.link(\"@tanstack/react-query\",{useQuery:function(e){i=e}},2),n.link(\"react\",{default:function(e){l=e}},3),n.link(\"react-i18next\",{useTranslation:function(e){s=e}},4),n.link(\"../../../components/dataView/CounterSet\",{default:function(e){f=e}},5);var r,o,a,u,c,i,l,s,f,d=function(){var e=c(\"federation:getOverviewData\"),t=i([\"admin/federation-dashboard/overview\"],function(){return o.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",e());case 1:case\"end\":return t.stop()}},null,null,null,Promise)},{refetchInterval:1e4});if(t.isLoading)return[l.createElement(u,{key:\"event-count\",variant:\"text\"}),l.createElement(u,{key:\"user-count\",variant:\"text\"}),l.createElement(u,{key:\"server-count\",variant:\"text\"})];if(t.isError)return[l.createElement(a,{key:\"event-count\",color:\"status-font-on-danger\"},\"Error\"),l.createElement(a,{key:\"user-count\",color:\"status-font-on-danger\"},\"Error\"),l.createElement(a,{key:\"server-count\",color:\"status-font-on-danger\"},\"Error\")];var n=t.data.data;return[n[0].value,n[1].value,n[2].value]};n.exportDefault(function(){var e=s().t,t=d(),n=r(t,3),o=n[0],a=n[1],u=n[2];return l.createElement(f,{counters:[{count:o,description:e(\"Number_of_events\")},{count:a,description:e(\"Number_of_federated_users\")},{count:u,description:e(\"Number_of_federated_servers\")}]})})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/federationDashboard/OverviewSection.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Skeleton } from '@rocket.chat/fuselage';\\nimport { useMethod } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement, ReactNode } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport CounterSet from '../../../components/dataView/CounterSet';\\n\\nconst useOverviewData = (): [eventCount: ReactNode, userCount: ReactNode, serverCount: ReactNode] => {\\n\\tconst getFederationOverviewData = useMethod('federation:getOverviewData');\\n\\n\\tconst result = useQuery(['admin/federation-dashboard/overview'], async () => getFederationOverviewData(), {\\n\\t\\trefetchInterval: 10_000,\\n\\t});\\n\\n\\tif (result.isLoading) {\\n\\t\\treturn [\\n\\t\\t\\t<Skeleton key='event-count' variant='text' />,\\n\\t\\t\\t<Skeleton key='user-count' variant='text' />,\\n\\t\\t\\t<Skeleton key='server-count' variant='text' />,\\n\\t\\t];\\n\\t}\\n\\n\\tif (result.isError) {\\n\\t\\treturn [\\n\\t\\t\\t<Box key='event-count' color='status-font-on-danger'>\\n\\t\\t\\t\\tError\\n\\t\\t\\t</Box>,\\n\\t\\t\\t<Box key='user-count' color='status-font-on-danger'>\\n\\t\\t\\t\\tError\\n\\t\\t\\t</Box>,\\n\\t\\t\\t<Box key='server-count' color='status-font-on-danger'>\\n\\t\\t\\t\\tError\\n\\t\\t\\t</Box>,\\n\\t\\t];\\n\\t}\\n\\n\\tconst { data } = result.data;\\n\\n\\treturn [data[0].value, data[1].value, data[2].value];\\n};\\n\\nfunction OverviewSection(): ReactElement {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst [eventCount, userCount, serverCount] = useOverviewData();\\n\\n\\treturn (\\n\\t\\t<CounterSet\\n\\t\\t\\tcounters={[\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tcount: eventCount,\\n\\t\\t\\t\\t\\tdescription: t('Number_of_events'),\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tcount: userCount,\\n\\t\\t\\t\\t\\tdescription: t('Number_of_federated_users'),\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tcount: serverCount,\\n\\t\\t\\t\\t\\tdescription: t('Number_of_federated_servers'),\\n\\t\\t\\t\\t},\\n\\t\\t\\t]}\\n\\t\\t/>\\n\\t);\\n}\\n\\nexport default OverviewSection;\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_slicedToArray\",\"_regeneratorRuntime\",\"Box\",\"Skeleton\",\"useMethod\",\"useQuery\",\"React\",\"useTranslation\",\"CounterSet\",\"useOverviewData\",\"getFederationOverviewData\",\"result\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"stop\",\"Promise\",\"refetchInterval\",\"isLoading\",\"createElement\",\"key\",\"variant\",\"isError\",\"color\",\"data\",\"value\",\"exportDefault\",\"t\",\"_useTranslation\",\"_useOverviewData\",\"_useOverviewData2\",\"eventCount\",\"userCount\",\"serverCount\",\"counters\",\"count\",\"description\"],\"mappings\":\"uBAAcA,EAAUC,IAAM,CAAA,uCAAwB,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,6BAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAxCH,EAAUC,IAAA,CAAA,wBAA6B,CAACK,IAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,EAAAI,SAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAO,UAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAQ,SAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAU,eAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0CAAA,CAAA,QAAA,SAAAE,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAStD,IATAC,EAAsDC,EAAtDC,EAAOC,EAA+CC,EAAAC,EAAAC,EAAAC,EAAAC,EAShDC,EAAkB,WACvB,IAAMC,EAA4BN,EAAU,8BAEtCO,EAASN,EAAS,CAAC,sCAAsC,CAAE,WAAA,OAAAJ,EAAAW,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAG,MAAA,CAAA,SAAYN,IAA2B,MAAA,EAAA,IAAA,MAAA,OAAAG,EAAAI,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAAE,CACzGC,gBAAiB,MAGlB,GAAIR,EAAOS,SAAS,CACnB,MAAO,CACNd,EAAAe,aAAA,CAAClB,EAAQ,CAACmB,IAAI,cAAcC,QAAQ,MAAM,GAC1CjB,EAAAe,aAAA,CAAClB,EAAQ,CAACmB,IAAI,aAAaC,QAAQ,MAAM,GACzCjB,EAAAe,aAAA,CAAClB,EAAQ,CAACmB,IAAI,eAAeC,QAAQ,MAAM,GAC3C,CAGF,GAAIZ,EAAOa,OAAO,CACjB,MAAO,CACNlB,EAAAe,aAAA,CAACnB,EAAG,CAACoB,IAAI,cAAcG,MAAM,uBAAuB,EACnD,SAEDnB,EAAAe,aAAA,CAACnB,EAAG,CAACoB,IAAI,aAAaG,MAAM,uBAAuB,EAClD,SAEDnB,EAAAe,aAAA,CAACnB,EAAG,CAACoB,IAAI,eAAeG,MAAM,uBAAuB,EACpD,SAED,CAGF,IAAQC,EAASf,EAAOe,IAAI,CAApBA,IAAI,CAEZ,MAAO,CAACA,CAAI,CAAC,EAAE,CAACC,KAAK,CAAED,CAAI,CAAC,EAAE,CAACC,KAAK,CAAED,CAAI,CAAC,EAAE,CAACC,KAAK,CAAC,AACrD,EAzCA/B,EAAOgC,aAAO,CA2Cd,WACC,IAAQC,EAACC,AAAKvB,IAANsB,CAAC,CAETE,EAA6CtB,IAAiBuB,EAAAhC,EAAA+B,EAAA,GAAvDE,EAAUD,CAAA,CAAA,EAAA,CAAEE,EAASF,CAAA,CAAA,EAAA,CAAEG,EAAWH,CAAA,CAAA,EAAA,CAEzC,OACC1B,EAAAe,aAAA,CAACb,EAAU,CACV4B,SAAU,CACT,CACCC,MAAOJ,EACPK,YAAaT,EAAE,qBAEhB,CACCQ,MAAOH,EACPI,YAAaT,EAAE,8BAEhB,CACCQ,MAAOF,EACPG,YAAaT,EAAE,gCACf,AACA,EAGL\"}"}