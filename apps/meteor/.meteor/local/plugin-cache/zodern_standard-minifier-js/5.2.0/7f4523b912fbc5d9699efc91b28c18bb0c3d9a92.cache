{"code":"function module(t,e,n){var l,i,o,u,a,r,c,f,m,s,S,E,k,d,p,b,_,h,C,g,v,T;n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(t){l=t}},0),n.link(\"@rocket.chat/fuselage\",{Box:function(t){i=t},Button:function(t){o=t},ButtonGroup:function(t){u=t},States:function(t){a=t},StatesAction:function(t){r=t},StatesActions:function(t){c=t},StatesSubtitle:function(t){f=t},StatesTitle:function(t){m=t},TextAreaInput:function(t){s=t}},0),n.link(\"@rocket.chat/ui-contexts\",{useTranslation:function(t){S=t},useRoute:function(t){E=t}},1),n.link(\"react\",{default:function(t){k=t},useCallback:function(t){d=t},useState:function(t){p=t}},2),n.link(\"../../../../lib/emailValidator\",{validateEmail:function(t){b=t}},3),n.link(\"../../../components/Contextualbar\",{ContextualbarScrollableContent:function(t){_=t},ContextualbarFooter:function(t){h=t},ContextualbarContent:function(t){C=t}},4),n.link(\"../../../components/Skeleton\",{FormSkeleton:function(t){g=t}},5),n.link(\"./hooks/useSendInvitationEmailMutation\",{useSendInvitationEmailMutation:function(t){v=t}},6),n.link(\"./hooks/useSmtpQuery\",{useSmtpQuery:function(t){T=t}},7),n.exportDefault(function(){var t=S(),e=p(\"\"),n=l(e,2),x=n[0],M=n[1],y=d(function(t){return t.split(/[\\ ,;]+/i).filter(function(t){return b(t)})},[]),A=E(\"admin-settings\"),I=v(),P=T(),B=P.data;return P.isLoading?k.createElement(C,null,k.createElement(g,null)):null!=B&&B.isSMTPConfigured?k.createElement(k.Fragment,null,k.createElement(_,null,k.createElement(i,{is:\"h2\",fontScale:\"h2\",mb:8},t(\"Send_invitation_email\")),k.createElement(i,{fontScale:\"p2\",mb:8},t(\"Send_invitation_email_info\")),k.createElement(s,{rows:5,flexGrow:0,onChange:function(t){return M(t.currentTarget.value)}})),k.createElement(h,null,k.createElement(u,{stretch:!0},k.createElement(o,{icon:\"send\",primary:!0,onClick:function(){I.mutate({emails:y(x)})},disabled:!y(x).length,alignItems:\"stretch\",mb:8},t(\"Send\"))))):k.createElement(_,null,k.createElement(a,null,k.createElement(m,null,t(\"SMTP_Server_Not_Setup_Title\")),k.createElement(f,null,t(\"SMTP_Server_Not_Setup_Description\")),k.createElement(c,null,k.createElement(r,{role:\"link\",onClick:function(){return A.push({group:\"Email\"})}},t(\"Setup_SMTP\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/users/AdminInviteUsers.tsx\",\"<anon>\"],\"sourcesContent\":[\"import {\\n\\tBox,\\n\\tButton,\\n\\tButtonGroup,\\n\\tStates,\\n\\tStatesAction,\\n\\tStatesActions,\\n\\tStatesSubtitle,\\n\\tStatesTitle,\\n\\tTextAreaInput,\\n} from '@rocket.chat/fuselage';\\nimport { useTranslation, useRoute } from '@rocket.chat/ui-contexts';\\nimport type { ChangeEvent } from 'react';\\nimport React, { useCallback, useState } from 'react';\\n\\nimport { validateEmail } from '../../../../lib/emailValidator';\\nimport { ContextualbarScrollableContent, ContextualbarFooter, ContextualbarContent } from '../../../components/Contextualbar';\\nimport { FormSkeleton } from '../../../components/Skeleton';\\nimport { useSendInvitationEmailMutation } from './hooks/useSendInvitationEmailMutation';\\nimport { useSmtpQuery } from './hooks/useSmtpQuery';\\n\\n// TODO: Replace using RHF\\nconst AdminInviteUsers = () => {\\n\\tconst t = useTranslation();\\n\\tconst [text, setText] = useState('');\\n\\tconst getEmails = useCallback((text) => text.split(/[\\\\ ,;]+/i).filter((val: string) => validateEmail(val)), []);\\n\\tconst adminRouter = useRoute('admin-settings');\\n\\tconst sendInvitationMutation = useSendInvitationEmailMutation();\\n\\tconst { data, isLoading } = useSmtpQuery();\\n\\n\\tconst handleClick = () => {\\n\\t\\tsendInvitationMutation.mutate({ emails: getEmails(text) });\\n\\t};\\n\\n\\tif (isLoading) {\\n\\t\\treturn (\\n\\t\\t\\t<ContextualbarContent>\\n\\t\\t\\t\\t<FormSkeleton />\\n\\t\\t\\t</ContextualbarContent>\\n\\t\\t);\\n\\t}\\n\\n\\tif (!data?.isSMTPConfigured) {\\n\\t\\treturn (\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t<States>\\n\\t\\t\\t\\t\\t<StatesTitle>{t('SMTP_Server_Not_Setup_Title')}</StatesTitle>\\n\\t\\t\\t\\t\\t<StatesSubtitle>{t('SMTP_Server_Not_Setup_Description')}</StatesSubtitle>\\n\\t\\t\\t\\t\\t<StatesActions>\\n\\t\\t\\t\\t\\t\\t<StatesAction role='link' onClick={() => adminRouter.push({ group: 'Email' })}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Setup_SMTP')}\\n\\t\\t\\t\\t\\t\\t</StatesAction>\\n\\t\\t\\t\\t\\t</StatesActions>\\n\\t\\t\\t\\t</States>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t);\\n\\t}\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t<Box is='h2' fontScale='h2' mb={8}>\\n\\t\\t\\t\\t\\t{t('Send_invitation_email')}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<Box fontScale='p2' mb={8}>\\n\\t\\t\\t\\t\\t{t('Send_invitation_email_info')}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<TextAreaInput rows={5} flexGrow={0} onChange={(e: ChangeEvent<HTMLInputElement>): void => setText(e.currentTarget.value)} />\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t<Button icon='send' primary onClick={handleClick} disabled={!getEmails(text).length} alignItems='stretch' mb={8}>\\n\\t\\t\\t\\t\\t\\t{t('Send')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default AdminInviteUsers;\\n\",null],\"names\":[\"_slicedToArray\",\"Box\",\"Button\",\"ButtonGroup\",\"States\",\"StatesAction\",\"StatesActions\",\"StatesSubtitle\",\"StatesTitle\",\"TextAreaInput\",\"useTranslation\",\"useRoute\",\"React\",\"useCallback\",\"useState\",\"validateEmail\",\"ContextualbarScrollableContent\",\"ContextualbarFooter\",\"ContextualbarContent\",\"FormSkeleton\",\"useSendInvitationEmailMutation\",\"useSmtpQuery\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"t\",\"_useState\",\"_useState2\",\"text\",\"setText\",\"getEmails\",\"split\",\"filter\",\"val\",\"adminRouter\",\"sendInvitationMutation\",\"_useSmtpQuery\",\"data\",\"isLoading\",\"createElement\",\"isSMTPConfigured\",\"Fragment\",\"is\",\"fontScale\",\"mb\",\"rows\",\"flexGrow\",\"onChange\",\"e\",\"currentTarget\",\"value\",\"stretch\",\"icon\",\"primary\",\"onClick\",\"mutate\",\"emails\",\"disabled\",\"length\",\"alignItems\",\"role\",\"push\",\"group\"],\"mappings\":\"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\"}"}