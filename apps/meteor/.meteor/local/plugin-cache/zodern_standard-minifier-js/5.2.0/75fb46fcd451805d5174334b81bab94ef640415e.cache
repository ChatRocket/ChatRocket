{"code":"function module(e,t,i){var n,o,s,a,c,r,l;i.link(\"meteor/meteor\",{Meteor:function(e){n=e}},0),i.link(\"meteor/tracker\",{Tracker:function(e){o=e}},1),i.link(\"../../app/settings/client\",{settings:function(e){s=e}},2),i.link(\"../../app/ui-utils/client\",{MessageAction:function(e){a=e}},3),i.link(\"../lib/imperativeModal\",{imperativeModal:function(e){c=e}},4),i.link(\"../lib/utils/messageArgs\",{messageArgs:function(e){r=e}},5),i.link(\"../views/room/modals/ReadReceiptsModal\",{default:function(e){l=e}},6),n.startup(function(){o.autorun(function(){if(!(s.get(\"Message_Read_Receipt_Enabled\")&&s.get(\"Message_Read_Receipt_Store_Users\")))return a.removeButton(\"receipt-detail\");a.addButton({id:\"receipt-detail\",icon:\"check-double\",label:\"Read_Receipts\",context:[\"starred\",\"message\",\"message-mobile\",\"threads\",\"videoconf\",\"videoconf-threads\"],type:\"duplication\",action:function(e,t){var i=t.message,n=void 0===i?r(this).msg:i;c.open({component:l,props:{messageId:n._id,onClose:c.close}})},order:10,group:\"menu\"})})})}","map":"{\"version\":3,\"sources\":[\"client/startup/readReceipt.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Meteor } from 'meteor/meteor';\\nimport { Tracker } from 'meteor/tracker';\\n\\nimport { settings } from '../../app/settings/client';\\nimport { MessageAction } from '../../app/ui-utils/client';\\nimport { imperativeModal } from '../lib/imperativeModal';\\nimport { messageArgs } from '../lib/utils/messageArgs';\\nimport ReadReceiptsModal from '../views/room/modals/ReadReceiptsModal';\\n\\nMeteor.startup(() => {\\n\\tTracker.autorun(() => {\\n\\t\\tconst enabled = settings.get('Message_Read_Receipt_Enabled') && settings.get('Message_Read_Receipt_Store_Users');\\n\\n\\t\\tif (!enabled) {\\n\\t\\t\\treturn MessageAction.removeButton('receipt-detail');\\n\\t\\t}\\n\\n\\t\\tMessageAction.addButton({\\n\\t\\t\\tid: 'receipt-detail',\\n\\t\\t\\ticon: 'check-double',\\n\\t\\t\\tlabel: 'Read_Receipts',\\n\\t\\t\\tcontext: ['starred', 'message', 'message-mobile', 'threads', 'videoconf', 'videoconf-threads'],\\n\\t\\t\\ttype: 'duplication',\\n\\t\\t\\taction(_, props) {\\n\\t\\t\\t\\tconst { message = messageArgs(this).msg } = props;\\n\\t\\t\\t\\timperativeModal.open({\\n\\t\\t\\t\\t\\tcomponent: ReadReceiptsModal,\\n\\t\\t\\t\\t\\tprops: { messageId: message._id, onClose: imperativeModal.close },\\n\\t\\t\\t\\t});\\n\\t\\t\\t},\\n\\t\\t\\torder: 10,\\n\\t\\t\\tgroup: 'menu',\\n\\t\\t});\\n\\t});\\n});\\n\",null],\"names\":[\"Meteor\",\"Tracker\",\"settings\",\"MessageAction\",\"imperativeModal\",\"messageArgs\",\"ReadReceiptsModal\",\"module\",\"link\",\"v\",\"startup\",\"autorun\",\"get\",\"removeButton\",\"addButton\",\"id\",\"icon\",\"label\",\"context\",\"type\",\"action\",\"_\",\"props\",\"_props$message\",\"message\",\"msg\",\"open\",\"component\",\"messageId\",\"_id\",\"onClose\",\"close\",\"order\",\"group\"],\"mappings\":\"2BAAAA,EAAuCC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAQC,IAAA,CAAM,gBAAgB,CAAAR,OAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,iBAAA,CAAAP,QAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,4BAAA,CAAAN,SAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,4BAAA,CAAAL,cAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yBAAA,CAAAJ,gBAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAH,YAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GASvCT,EAAOU,OAAO,CAAC,WACdT,EAAQU,OAAO,CAAC,WAGf,GAAI,CAFYT,CAAAA,EAASU,GAAG,CAAC,iCAAmCV,EAASU,GAAG,CAAC,mCAAkC,EAG9G,OAAOT,EAAcU,YAAY,CAAC,kBAGnCV,EAAcW,SAAS,CAAC,CACvBC,GAAI,iBACJC,KAAM,eACNC,MAAO,gBACPC,QAAS,CAAC,UAAW,UAAW,iBAAkB,UAAW,YAAa,oBAAoB,CAC9FC,KAAM,cACNC,OAAM,SAACC,CAAC,CAAEC,CAAK,EACd,IAAAC,EAA4CD,EAApCE,OAAO,CAAPA,EAAOD,AAAA,KAAA,IAAAA,EAAGlB,EAAY,IAAI,EAAEoB,GAAG,CAAAF,EACvCnB,EAAgBsB,IAAI,CAAC,CACpBC,UAAWrB,EACXgB,MAAO,CAAEM,UAAWJ,EAAQK,GAAG,CAAEC,QAAS1B,EAAgB2B,KAAAA,AAAK,GAEjE,EACAC,MAAO,GACPC,MAAO,QAET,EACD\"}"}