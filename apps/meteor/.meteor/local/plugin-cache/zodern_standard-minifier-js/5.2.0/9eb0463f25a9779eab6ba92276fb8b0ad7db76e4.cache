{"code":"function module(e,n,t){t.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){o=e}},1),t.export({useChannelsList:function(){return s}}),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){a=e}},0),t.link(\"@tanstack/react-query\",{useQuery:function(e){u=e}},1),t.link(\"../../../../components/dashboards/periods\",{getPeriodRange:function(e){i=e}},2);var r,o,a,u,i,s=function(e){var n=e.period,t=e.offset,s=e.count,c=a(\"GET\",\"/v1/engagement-dashboard/channels/list\");return u([\"admin/engagement-dashboard/channels/list\",{period:n,offset:t,count:s}],function(){var e,a,u,d;return r.async(function(l){for(;;)switch(l.prev=l.next){case 0:return a=(e=i(n)).start,u=e.end,l.next=3,r.awrap(c({start:a.toISOString(),end:u.toISOString(),offset:t,count:s,hideRoomsWithNoActivity:!0}));case 3:return d=l.sent,l.abrupt(\"return\",d?o(o({},d),{},{start:a,end:u}):void 0);case 5:case\"end\":return l.stop()}},null,null,null,Promise)},{keepPreviousData:!0,refetchInterval:3e5,useErrorBoundary:!0})}}","map":"{\"version\":3,\"sources\":[\"client/views/admin/engagementDashboard/channels/useChannelsList.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\n\\nimport type { Period } from '../../../../components/dashboards/periods';\\nimport { getPeriodRange } from '../../../../components/dashboards/periods';\\n\\ntype UseChannelsListOptions = {\\n\\tperiod: Period['key'];\\n\\toffset: number;\\n\\tcount: number;\\n};\\n\\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\\nexport const useChannelsList = ({ period, offset, count }: UseChannelsListOptions) => {\\n\\tconst getChannelsList = useEndpoint('GET', '/v1/engagement-dashboard/channels/list');\\n\\n\\treturn useQuery(\\n\\t\\t['admin/engagement-dashboard/channels/list', { period, offset, count }],\\n\\t\\tasync () => {\\n\\t\\t\\tconst { start, end } = getPeriodRange(period);\\n\\n\\t\\t\\tconst response = await getChannelsList({\\n\\t\\t\\t\\tstart: start.toISOString(),\\n\\t\\t\\t\\tend: end.toISOString(),\\n\\t\\t\\t\\toffset,\\n\\t\\t\\t\\tcount,\\n\\t\\t\\t\\thideRoomsWithNoActivity: true,\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn response\\n\\t\\t\\t\\t? {\\n\\t\\t\\t\\t\\t\\t...response,\\n\\t\\t\\t\\t\\t\\tstart,\\n\\t\\t\\t\\t\\t\\tend,\\n\\t\\t\\t\\t  }\\n\\t\\t\\t\\t: undefined;\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tkeepPreviousData: true,\\n\\t\\t\\trefetchInterval: 5 * 60 * 1000,\\n\\t\\t\\tuseErrorBoundary: true,\\n\\t\\t},\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_objectSpread\",\"export\",\"useChannelsList\",\"useEndpoint\",\"useQuery\",\"getPeriodRange\",\"_ref\",\"period\",\"offset\",\"count\",\"getChannelsList\",\"_getPeriodRange\",\"start\",\"end\",\"response\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"toISOString\",\"hideRoomsWithNoActivity\",\"sent\",\"abrupt\",\"undefined\",\"stop\",\"Promise\",\"keepPreviousData\",\"refetchInterval\",\"useErrorBoundary\"],\"mappings\":\"uBAAsBA,EAAMC,IAAA,CAAA,6BAA2B,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAvDH,EAAOM,MAAE,CAAA,CAAAC,gBAAmB,WAAA,OAAAA,CAA2B,CAAA,GAAAP,EAAAC,IAAA,CAAA,2BAAA,CAAAO,YAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAQ,SAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,4CAAA,CAAAS,eAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAahD,IAbPC,EAAuDC,EAAAG,EAAAC,EAAAC,EAa1CH,EAAkB,SAAAI,CAAA,EAAsD,IAAnDC,EAAMD,EAANC,MAAM,CAAEC,EAAMF,EAANE,MAAM,CAAEC,EAAKH,EAALG,KAAK,CAChDC,EAAkBP,EAAY,MAAO,0CAE3C,OAAOC,EACN,CAAC,2CAA4C,CAAEG,OAAAA,EAAQC,OAAAA,EAAQC,MAAAA,CAAK,EAAG,CACvE,WAAA,IAAAE,EAAAC,EAAAC,EAAAC,EAAA,OAAAf,EAAAgB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EACmB,OAAVN,EAAKD,AADdA,CAAAA,EACwBN,EAAeE,EAAM,EAApCK,KAAK,CAAEC,EAAGF,EAAHE,GAAG,CAAAG,EAAAE,IAAA,CAAA,EAAAnB,EAAAoB,KAAA,CAEKT,EAAgB,CACtCE,MAAOA,EAAMQ,WAAW,GACxBP,IAAKA,EAAIO,WAAW,GACpBZ,OAAAA,EACAC,MAAAA,EACAY,wBAAyB,CAAA,IACxB,MAAA,EANY,OAARP,EAAQE,EAAAM,IAAA,CAAAN,EAAAO,MAAA,CAAA,SAQPT,EAAQd,EAAAA,EAAA,CAAA,EAETc,GAAQ,CAAA,EAAA,CACXF,MAAAA,EACAC,IAAAA,CAAG,GAEHW,KAAAA,EAAS,MAAA,EAAA,IAAA,MAAA,OAAAR,EAAAS,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAEb,CACCC,iBAAkB,CAAA,EAClBC,gBAAiB,IACjBC,iBAAkB,CAAA,GAGrB\"}"}