{"code":"function module(e,n,t){var r,o,a,l,u,i,c,f,m,s,d,k,h,v,x;t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){r=e}},0),t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},SearchInput:function(e){a=e},Select:function(e){l=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue:function(e){u=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){i=e},useTranslation:function(e){c=e}},2),t.link(\"react\",{default:function(e){f=e},useCallback:function(e){m=e},useState:function(e){s=e},useMemo:function(e){d=e}},3),t.link(\"./FederatedRoomList\",{default:function(e){k=e}},4),t.link(\"./FederatedRoomListErrorBoundary\",{default:function(e){h=e}},5),t.link(\"./MatrixFederationManageServerModal\",{default:function(e){v=e}},6),t.link(\"./MatrixFederationSearch\",{default:function(e){x=e}},7),t.exportDefault(function(e){var n=e.defaultSelectedServer,t=e.servers,S=s(function(){var e,r=t.find(function(e){return e.name===n});return null!==(e=null==r?void 0:r.name)&&void 0!==e?e:t[0].name}),E=r(S,2),g=E[0],p=E[1],b=s(\"\"),C=r(b,2),M=C[0],F=C[1],w=i(),y=u(M,400),D=c(),_=d(function(){return t.map(function(e){return[e.name,e.name]})},[t]),T=m(function(){w(f.createElement(v,{onClickClose:function(){return w(f.createElement(x,{onClose:function(){return w(null)}}))}}))},[w]);return f.createElement(f.Fragment,null,f.createElement(o,{display:\"flex\",flexDirection:\"row\"},f.createElement(o,{mie:4,flexGrow:0,flexShrink:4},f.createElement(l,{options:_,value:g,onChange:function(e){return p(String(e))}})),f.createElement(a,{\"aria-label\":D(\"Search_rooms\"),placeholder:D(\"Search_rooms\"),flexGrow:4,flexShrink:0,value:M,onChange:function(e){return F(e.currentTarget.value)}})),f.createElement(o,{is:\"a\",role:\"button\",display:\"flex\",flexDirection:\"row\",mbe:16,onClick:T},D(\"Manage_server_list\")),f.createElement(h,null,f.createElement(k,{serverName:g,roomName:y})))})}","map":"{\"version\":3,\"sources\":[\"client/sidebar/header/MatrixFederationSearch/MatrixFederationSearchModalContent.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Box, SearchInput, Select } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { FormEvent } from 'react';\\nimport React, { useCallback, useState, useMemo } from 'react';\\n\\nimport FederatedRoomList from './FederatedRoomList';\\nimport FederatedRoomListErrorBoundary from './FederatedRoomListErrorBoundary';\\nimport MatrixFederationManageServersModal from './MatrixFederationManageServerModal';\\nimport MatrixFederationSearch from './MatrixFederationSearch';\\n\\ntype MatrixFederationSearchModalContentProps = {\\n\\tservers: Array<{\\n\\t\\tname: string;\\n\\t\\tdefault: boolean;\\n\\t\\tlocal: boolean;\\n\\t}>;\\n\\tdefaultSelectedServer?: string;\\n};\\n\\nconst MatrixFederationSearchModalContent = ({ defaultSelectedServer, servers }: MatrixFederationSearchModalContentProps) => {\\n\\tconst [serverName, setServerName] = useState(() => {\\n\\t\\tconst defaultServer = servers.find((server) => server.name === defaultSelectedServer);\\n\\t\\treturn defaultServer?.name ?? servers[0].name;\\n\\t});\\n\\n\\tconst [roomName, setRoomName] = useState('');\\n\\n\\tconst setModal = useSetModal();\\n\\n\\tconst debouncedRoomName = useDebouncedValue(roomName, 400);\\n\\n\\tconst t = useTranslation();\\n\\n\\tconst serverOptions = useMemo(() => servers.map((server): SelectOption => [server.name, server.name]), [servers]);\\n\\n\\tconst manageServers = useCallback(() => {\\n\\t\\tsetModal(\\n\\t\\t\\t<MatrixFederationManageServersModal onClickClose={() => setModal(<MatrixFederationSearch onClose={() => setModal(null)} />)} />,\\n\\t\\t);\\n\\t}, [setModal]);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<Box display='flex' flexDirection='row'>\\n\\t\\t\\t\\t<Box mie={4} flexGrow={0} flexShrink={4}>\\n\\t\\t\\t\\t\\t<Select options={serverOptions} value={serverName} onChange={(value) => setServerName(String(value))} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<SearchInput\\n\\t\\t\\t\\t\\taria-label={t('Search_rooms')}\\n\\t\\t\\t\\t\\tplaceholder={t('Search_rooms')}\\n\\t\\t\\t\\t\\tflexGrow={4}\\n\\t\\t\\t\\t\\tflexShrink={0}\\n\\t\\t\\t\\t\\tvalue={roomName}\\n\\t\\t\\t\\t\\tonChange={(e: FormEvent<HTMLInputElement>) => setRoomName(e.currentTarget.value)}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</Box>\\n\\t\\t\\t<Box is='a' role='button' display='flex' flexDirection='row' mbe={16} onClick={manageServers}>\\n\\t\\t\\t\\t{t('Manage_server_list')}\\n\\t\\t\\t</Box>\\n\\t\\t\\t<FederatedRoomListErrorBoundary>\\n\\t\\t\\t\\t<FederatedRoomList serverName={serverName} roomName={debouncedRoomName} />\\n\\t\\t\\t</FederatedRoomListErrorBoundary>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default MatrixFederationSearchModalContent;\\n\",null],\"names\":[\"_slicedToArray\",\"Box\",\"SearchInput\",\"Select\",\"useDebouncedValue\",\"useSetModal\",\"useTranslation\",\"React\",\"useCallback\",\"useState\",\"useMemo\",\"FederatedRoomList\",\"FederatedRoomListErrorBoundary\",\"MatrixFederationManageServersModal\",\"MatrixFederationSearch\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"defaultSelectedServer\",\"servers\",\"_useState\",\"_defaultServer$name\",\"defaultServer\",\"find\",\"server\",\"name\",\"_useState2\",\"serverName\",\"setServerName\",\"_useState3\",\"_useState4\",\"roomName\",\"setRoomName\",\"setModal\",\"debouncedRoomName\",\"t\",\"serverOptions\",\"map\",\"manageServers\",\"createElement\",\"onClickClose\",\"onClose\",\"Fragment\",\"display\",\"flexDirection\",\"mie\",\"flexGrow\",\"flexShrink\",\"options\",\"value\",\"onChange\",\"String\",\"placeholder\",\"e\",\"currentTarget\",\"is\",\"role\",\"mbe\",\"onClick\"],\"mappings\":\"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\"}"}