{"code":"function module(e,n,t){var u,r,o,l,a,i,c,s,f,m,p,d,v,k,h,b,E,g,x,C=[\"onChange\"],y=[\"selected\",\"onRemove\"],A=[\"value\",\"label\"];t.link(\"@babel/runtime/regenerator\",{default:function(e){u=e}},0),t.link(\"@babel/runtime/helpers/extends\",{default:function(e){r=e}},1),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){o=e}},2),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){l=e}},3),t.link(\"@rocket.chat/fuselage\",{AutoComplete:function(e){a=e},Box:function(e){i=e},OptionAvatar:function(e){c=e},Option:function(e){s=e},OptionContent:function(e){f=e},Chip:function(e){m=e},OptionDescription:function(e){p=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue:function(e){d=e}},1),t.link(\"@rocket.chat/ui-avatar\",{UserAvatar:function(e){v=e}},2),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){k=e}},3),t.link(\"@tanstack/react-query\",{useQuery:function(e){h=e}},4),t.link(\"react\",{default:function(e){b=e},memo:function(e){E=e},useMemo:function(e){g=e},useState:function(e){x=e}},5);var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return{selector:JSON.stringify({term:e})}};t.exportDefault(E(function(e){var n=e.onChange,t=l(e,C),E=x(\"\"),D=o(E,2),S=D[0],q=D[1],z=d(S,1e3),P=k(\"GET\",\"/v1/users.autocomplete\"),R=h([\"usersAutoComplete\",z],function(){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",P(O(z)));case 1:case\"end\":return e.stop()}},null,null,null,Promise)}).data,T=g(function(){return(null==R?void 0:R.items.map(function(e){return{value:e.username,label:e.name}}))||[]},[R]);return b.createElement(a,r({},t,{filter:S,setFilter:q,onChange:n,multiple:!0,renderSelected:function(e){var n=e.selected,t=n.value,u=n.label,o=e.onRemove,a=l(e,y);return b.createElement(m,r({},a,{height:\"x20\",value:t,onClick:o,mie:4}),b.createElement(v,{size:\"x20\",username:t}),b.createElement(i,{is:\"span\",margin:\"none\",mis:4},u))},renderItem:function(e){var n=e.value,t=e.label,u=l(e,A);return b.createElement(s,r({\"data-qa-type\":\"autocomplete-user-option\",key:n},u),b.createElement(c,null,b.createElement(v,{username:n,size:\"x20\"})),b.createElement(f,null,t,\" \",b.createElement(p,null,\"(\",n,\")\")))},options:T}))}))}","map":"{\"version\":3,\"sources\":[\"client/components/UserAutoCompleteMultiple/UserAutoCompleteMultiple.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { AutoComplete, Box, OptionAvatar, Option, OptionContent, Chip, OptionDescription } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ComponentProps, ReactElement } from 'react';\\nimport React, { memo, useMemo, useState } from 'react';\\n\\nconst query = (\\n\\tterm = '',\\n): {\\n\\tselector: string;\\n} => ({ selector: JSON.stringify({ term }) });\\n\\ntype UserAutoCompleteMultipleProps = Omit<ComponentProps<typeof AutoComplete>, 'filter'>;\\n\\n// TODO: useDisplayUsername\\nconst UserAutoCompleteMultiple = ({ onChange, ...props }: UserAutoCompleteMultipleProps): ReactElement => {\\n\\tconst [filter, setFilter] = useState('');\\n\\tconst debouncedFilter = useDebouncedValue(filter, 1000);\\n\\tconst usersAutoCompleteEndpoint = useEndpoint('GET', '/v1/users.autocomplete');\\n\\tconst { data } = useQuery(['usersAutoComplete', debouncedFilter], async () => usersAutoCompleteEndpoint(query(debouncedFilter)));\\n\\n\\tconst options = useMemo(() => data?.items.map((user) => ({ value: user.username, label: user.name })) || [], [data]);\\n\\n\\treturn (\\n\\t\\t<AutoComplete\\n\\t\\t\\t{...props}\\n\\t\\t\\tfilter={filter}\\n\\t\\t\\tsetFilter={setFilter}\\n\\t\\t\\tonChange={onChange}\\n\\t\\t\\tmultiple\\n\\t\\t\\trenderSelected={({ selected: { value, label }, onRemove, ...props }): ReactElement => (\\n\\t\\t\\t\\t<Chip {...props} height='x20' value={value} onClick={onRemove} mie={4}>\\n\\t\\t\\t\\t\\t<UserAvatar size='x20' username={value} />\\n\\t\\t\\t\\t\\t<Box is='span' margin='none' mis={4}>\\n\\t\\t\\t\\t\\t\\t{label}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Chip>\\n\\t\\t\\t)}\\n\\t\\t\\trenderItem={({ value, label, ...props }): ReactElement => (\\n\\t\\t\\t\\t<Option data-qa-type='autocomplete-user-option' key={value} {...props}>\\n\\t\\t\\t\\t\\t<OptionAvatar>\\n\\t\\t\\t\\t\\t\\t<UserAvatar username={value} size='x20' />\\n\\t\\t\\t\\t\\t</OptionAvatar>\\n\\t\\t\\t\\t\\t<OptionContent>\\n\\t\\t\\t\\t\\t\\t{label} <OptionDescription>({value})</OptionDescription>\\n\\t\\t\\t\\t\\t</OptionContent>\\n\\t\\t\\t\\t</Option>\\n\\t\\t\\t)}\\n\\t\\t\\toptions={options}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default memo(UserAutoCompleteMultiple);\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_extends\",\"_slicedToArray\",\"_objectWithoutProperties\",\"AutoComplete\",\"Box\",\"OptionAvatar\",\"Option\",\"OptionContent\",\"Chip\",\"OptionDescription\",\"useDebouncedValue\",\"UserAvatar\",\"useEndpoint\",\"useQuery\",\"React\",\"memo\",\"useMemo\",\"useState\",\"module\",\"link\",\"default\",\"v\",\"query\",\"term\",\"arguments\",\"length\",\"undefined\",\"selector\",\"JSON\",\"stringify\",\"exportDefault\",\"_ref\",\"onChange\",\"props\",\"_excluded\",\"_useState\",\"_useState2\",\"filter\",\"setFilter\",\"debouncedFilter\",\"usersAutoCompleteEndpoint\",\"data\",\"_useQuery\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"stop\",\"Promise\",\"options\",\"items\",\"map\",\"user\",\"value\",\"username\",\"label\",\"name\",\"createElement\",\"multiple\",\"renderSelected\",\"_ref2\",\"_ref2$selected\",\"selected\",\"onRemove\",\"_excluded2\",\"height\",\"onClick\",\"mie\",\"size\",\"is\",\"margin\",\"mis\",\"renderItem\",\"_ref3\",\"_excluded3\",\"key\"],\"mappings\":\"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\"}"}