{"code":"function module(e,t,o){let l,n,i,a,r,d,c,u,s,m;o.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){l=e}},0),o.link(\"@rocket.chat/fuselage-hooks\",{useEffectEvent(e){n=e}},0),o.link(\"@rocket.chat/ui-client\",{GenericMenu(e){i=e}},1),o.link(\"@rocket.chat/ui-contexts\",{useLayout(e){a=e},useTranslation(e){r=e}},2),o.link(\"react\",{default(e){d=e},memo(e){c=e}},3),o.link(\"../../../../components/Header\",{HeaderToolbarAction(e){u=e},HeaderToolbarDivider(e){s=e}},4),o.link(\"../../contexts/RoomToolboxContext\",{useRoomToolbox(e){m=e}},5),o.exportDefault(c(e=>{let{className:t}=e,o=r(),{roomToolboxExpanded:c}=a(),p=m(),{actions:k,openTab:f}=p,b=k.filter(e=>e.featured),x=k.filter(e=>!e.featured),h=c?x.slice(0,6):[],v=(c?x.slice(6):k).filter(e=>!e.disabled&&!e.featured).map(e=>{var t;return l({key:e.id,content:o(e.title),onClick:null!==(t=e.action)&&void 0!==t?t:()=>{f(e.id)},\"data-qa-id\":\"ToolBoxAction-\".concat(e.icon)},e)}).reduce((e,t)=>{let l=t.type?t.type:\"\",n=e.find(e=>e.id===l);if(n)return n.items.push(t),e;let i={id:l,key:t.key,title:\"apps\"===l?o(\"Apps\"):\"\",items:[t]};return e.push(i),e},[]),T=n(e=>{let{id:t,className:l,index:n,icon:i,title:a,toolbox:{tab:r},action:c,disabled:s,tooltip:m}=e;return d.createElement(u,{key:t,className:l,index:n,id:t,icon:i,title:o(a),pressed:t===(null==r?void 0:r.id),action:c,disabled:s,tooltip:m})}),y=(e,o)=>{var n,i,a;return null===(n=null!==(i=e.renderToolboxItem)&&void 0!==i?i:T)||void 0===n?void 0:n(l(l({},e),{},{action:null!==(a=e.action)&&void 0!==a?a:()=>p.openTab(e.id),className:t,index:o,toolbox:p}))};return d.createElement(d.Fragment,null,b.map(y),b.length>0&&d.createElement(s,null),h.map(y),(x.length>6||!c)&&!!v.length&&d.createElement(i,{title:o(\"Options\"),\"data-qa-id\":\"ToolBox-Menu\",sections:v,placement:\"bottom-end\"}))}))}","map":"{\"version\":3,\"sources\":[\"client/views/room/HeaderV2/RoomToolbox/RoomToolbox.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { Box } from '@rocket.chat/fuselage';\\nimport { useEffectEvent } from '@rocket.chat/fuselage-hooks';\\nimport { GenericMenu } from '@rocket.chat/ui-client';\\nimport type { GenericMenuItemProps } from '@rocket.chat/ui-client';\\nimport { useLayout, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps } from 'react';\\nimport React, { memo } from 'react';\\n\\nimport { HeaderToolbarAction, HeaderToolbarDivider } from '../../../../components/Header';\\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\\nimport type { RoomToolboxActionConfig } from '../../contexts/RoomToolboxContext';\\n\\ntype RoomToolboxProps = {\\n\\tclassName?: ComponentProps<typeof Box>['className'];\\n};\\n\\ntype MenuActionsProps = {\\n\\tid: string;\\n\\titems: GenericMenuItemProps[];\\n}[];\\n\\nconst RoomToolbox = ({ className }: RoomToolboxProps) => {\\n\\tconst t = useTranslation();\\n\\tconst { roomToolboxExpanded } = useLayout();\\n\\n\\tconst toolbox = useRoomToolbox();\\n\\tconst { actions, openTab } = toolbox;\\n\\n\\tconst featuredActions = actions.filter((action) => action.featured);\\n\\tconst normalActions = actions.filter((action) => !action.featured);\\n\\tconst visibleActions = !roomToolboxExpanded ? [] : normalActions.slice(0, 6);\\n\\n\\tconst hiddenActions = (!roomToolboxExpanded ? actions : normalActions.slice(6))\\n\\t\\t.filter((item) => !item.disabled && !item.featured)\\n\\t\\t.map((item) => ({\\n\\t\\t\\t'key': item.id,\\n\\t\\t\\t'content': t(item.title),\\n\\t\\t\\t'onClick':\\n\\t\\t\\t\\titem.action ??\\n\\t\\t\\t\\t((): void => {\\n\\t\\t\\t\\t\\topenTab(item.id);\\n\\t\\t\\t\\t}),\\n\\t\\t\\t'data-qa-id': `ToolBoxAction-${item.icon}`,\\n\\t\\t\\t...item,\\n\\t\\t}))\\n\\t\\t.reduce((acc, item) => {\\n\\t\\t\\tconst group = item.type ? item.type : '';\\n\\t\\t\\tconst section = acc.find((section: { id: string }) => section.id === group);\\n\\t\\t\\tif (section) {\\n\\t\\t\\t\\tsection.items.push(item);\\n\\t\\t\\t\\treturn acc;\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst newSection = { id: group, key: item.key, title: group === 'apps' ? t('Apps') : '', items: [item] };\\n\\t\\t\\tacc.push(newSection);\\n\\n\\t\\t\\treturn acc;\\n\\t\\t}, [] as MenuActionsProps);\\n\\n\\tconst renderDefaultToolboxItem: RoomToolboxActionConfig['renderToolboxItem'] = useEffectEvent(\\n\\t\\t({ id, className, index, icon, title, toolbox: { tab }, action, disabled, tooltip }) => {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t<HeaderToolbarAction\\n\\t\\t\\t\\t\\tkey={id}\\n\\t\\t\\t\\t\\tclassName={className}\\n\\t\\t\\t\\t\\tindex={index}\\n\\t\\t\\t\\t\\tid={id}\\n\\t\\t\\t\\t\\ticon={icon}\\n\\t\\t\\t\\t\\ttitle={t(title)}\\n\\t\\t\\t\\t\\tpressed={id === tab?.id}\\n\\t\\t\\t\\t\\taction={action}\\n\\t\\t\\t\\t\\tdisabled={disabled}\\n\\t\\t\\t\\t\\ttooltip={tooltip}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t);\\n\\t\\t},\\n\\t);\\n\\n\\tconst mapToToolboxItem = (action: RoomToolboxActionConfig, index: number) => {\\n\\t\\treturn (action.renderToolboxItem ?? renderDefaultToolboxItem)?.({\\n\\t\\t\\t...action,\\n\\t\\t\\taction: action.action ?? (() => toolbox.openTab(action.id)),\\n\\t\\t\\tclassName,\\n\\t\\t\\tindex,\\n\\t\\t\\ttoolbox,\\n\\t\\t});\\n\\t};\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{featuredActions.map(mapToToolboxItem)}\\n\\t\\t\\t{featuredActions.length > 0 && <HeaderToolbarDivider />}\\n\\t\\t\\t{visibleActions.map(mapToToolboxItem)}\\n\\t\\t\\t{(normalActions.length > 6 || !roomToolboxExpanded) && !!hiddenActions.length && (\\n\\t\\t\\t\\t<GenericMenu title={t('Options')} data-qa-id='ToolBox-Menu' sections={hiddenActions} placement='bottom-end' />\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default memo(RoomToolbox);\\n\",null],\"names\":[\"_objectSpread\",\"useEffectEvent\",\"GenericMenu\",\"useLayout\",\"useTranslation\",\"React\",\"memo\",\"HeaderToolbarAction\",\"HeaderToolbarDivider\",\"useRoomToolbox\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"className\",\"t\",\"roomToolboxExpanded\",\"toolbox\",\"actions\",\"openTab\",\"featuredActions\",\"filter\",\"action\",\"featured\",\"normalActions\",\"visibleActions\",\"slice\",\"hiddenActions\",\"item\",\"disabled\",\"map\",\"_item$action\",\"id\",\"title\",\"concat\",\"icon\",\"reduce\",\"acc\",\"group\",\"type\",\"section\",\"find\",\"items\",\"push\",\"newSection\",\"key\",\"renderDefaultToolboxItem\",\"_ref2\",\"index\",\"tab\",\"tooltip\",\"createElement\",\"pressed\",\"mapToToolboxItem\",\"_ref3\",\"_action$renderToolbox\",\"_action$action\",\"renderToolboxItem\",\"Fragment\",\"length\",\"sections\",\"placement\"],\"mappings\":\"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\"}"}