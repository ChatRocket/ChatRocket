{"code":"function module(e,t,o){o.link(\"meteor/meteor\",{Meteor:function(e){n=e}},0),o.link(\"meteor/meteor-developer-oauth\",{MeteorDeveloperAccounts:function(e){i=e}},1),o.link(\"meteor/oauth\",{OAuth:function(e){r=e}},2),o.link(\"../../lib/2fa/overrideLoginMethod\",{overrideLoginMethod:function(e){l=e}},3),o.link(\"../../lib/wrapRequestCredentialFn\",{wrapRequestCredentialFn:function(e){c=e}},4),o.link(\"./oauth\",{createOAuthTotpLoginMethod:function(e){a=e}},5);var n,i,r,l,c,a,u=n.loginWithMeteorDeveloperAccount,d=a(i);n.loginWithMeteorDeveloperAccount=function(e,t){l(u,[e],t,d)},i.requestCredential=c(\"meteor-developer\",function(e){var t=e.config,o=e.loginStyle,n=e.options,l=e.credentialRequestCompleteCallback,c=Random.secret(),a=i._server+\"/oauth2/authorize?state=\"+r._stateParam(o,c,n.redirectUrl)+\"&response_type=code&client_id=\"+t.clientId+(n.details?\"&details=\"+n.details:\"\");n.loginHint&&(a+=\"&user_email=\"+encodeURIComponent(n.loginHint)),a+=\"&redirect_uri=\"+r._redirectUri(\"meteor-developer\",t),r.launchLogin({loginService:\"meteor-developer\",loginStyle:o,loginUrl:a,credentialRequestCompleteCallback:l,credentialToken:c,popupOptions:{width:497,height:749}})})}","map":"{\"version\":3,\"sources\":[\"client/meteorOverrides/login/meteorDeveloperAccount.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Meteor } from 'meteor/meteor';\\nimport { MeteorDeveloperAccounts } from 'meteor/meteor-developer-oauth';\\nimport { OAuth } from 'meteor/oauth';\\n\\nimport { overrideLoginMethod } from '../../lib/2fa/overrideLoginMethod';\\nimport { wrapRequestCredentialFn } from '../../lib/wrapRequestCredentialFn';\\nimport { createOAuthTotpLoginMethod } from './oauth';\\n\\nconst { loginWithMeteorDeveloperAccount } = Meteor;\\nconst loginWithMeteorDeveloperAccountAndTOTP = createOAuthTotpLoginMethod(MeteorDeveloperAccounts);\\nMeteor.loginWithMeteorDeveloperAccount = (options, callback) => {\\n\\toverrideLoginMethod(loginWithMeteorDeveloperAccount, [options], callback, loginWithMeteorDeveloperAccountAndTOTP);\\n};\\n\\nMeteorDeveloperAccounts.requestCredential = wrapRequestCredentialFn(\\n\\t'meteor-developer',\\n\\t({ config, loginStyle, options: requestOptions, credentialRequestCompleteCallback }) => {\\n\\t\\tconst options = requestOptions as Record<string, any>;\\n\\n\\t\\tconst credentialToken = Random.secret();\\n\\n\\t\\tlet loginUrl =\\n\\t\\t\\t`${MeteorDeveloperAccounts._server}/oauth2/authorize?` +\\n\\t\\t\\t`state=${OAuth._stateParam(loginStyle, credentialToken, options.redirectUrl)}` +\\n\\t\\t\\t`&response_type=code&` +\\n\\t\\t\\t`client_id=${config.clientId}${options.details ? `&details=${options.details}` : ''}`;\\n\\n\\t\\tif (options.loginHint) {\\n\\t\\t\\tloginUrl += `&user_email=${encodeURIComponent(options.loginHint)}`;\\n\\t\\t}\\n\\n\\t\\tloginUrl += `&redirect_uri=${OAuth._redirectUri('meteor-developer', config)}`;\\n\\n\\t\\tOAuth.launchLogin({\\n\\t\\t\\tloginService: 'meteor-developer',\\n\\t\\t\\tloginStyle,\\n\\t\\t\\tloginUrl,\\n\\t\\t\\tcredentialRequestCompleteCallback,\\n\\t\\t\\tcredentialToken,\\n\\t\\t\\tpopupOptions: { width: 497, height: 749 },\\n\\t\\t});\\n\\t},\\n);\\n\",null],\"names\":[\"module\",\"link\",\"Meteor\",\"v\",\"MeteorDeveloperAccounts\",\"OAuth\",\"overrideLoginMethod\",\"wrapRequestCredentialFn\",\"createOAuthTotpLoginMethod\",\"loginWithMeteorDeveloperAccount\",\"_Meteor\",\"loginWithMeteorDeveloperAccountAndTOTP\",\"options\",\"callback\",\"requestCredential\",\"_ref\",\"config\",\"loginStyle\",\"requestOptions\",\"credentialRequestCompleteCallback\",\"credentialToken\",\"Random\",\"secret\",\"loginUrl\",\"_server\",\"_stateParam\",\"redirectUrl\",\"clientId\",\"details\",\"loginHint\",\"encodeURIComponent\",\"_redirectUri\",\"launchLogin\",\"loginService\",\"popupOptions\",\"width\",\"height\"],\"mappings\":\"uBAASA,EAAQC,IAAA,CAAM,gBAAgB,CAAAC,OAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAAG,wBAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,eAAA,CAAAI,MAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oCAAA,CAAAK,oBAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oCAAA,CAAAM,wBAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,UAAA,CAAAO,2BAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAQvC,IARAD,EAAuCE,EAAAC,EAAAC,EAAAC,EAAAC,EAQ/BC,EAA+BC,AAAKR,EAApCO,+BAA+B,CACjCE,EAAyCH,EAA2BJ,EAC1EF,CAAAA,EAAOO,+BAA+B,CAAG,SAACG,CAAO,CAAEC,CAAQ,EAC1DP,EAAoBG,EAAiC,CAACG,EAAQ,CAAEC,EAAUF,EAC3E,EAEAP,EAAwBU,iBAAiB,CAAGP,EAC3C,mBACA,SAAAQ,CAAA,EAAuF,IAApFC,EAAMD,EAANC,MAAM,CAAEC,EAAUF,EAAVE,UAAU,CAAWC,EAAcH,EAAvBH,OAAO,CAAkBO,EAAiCJ,EAAjCI,iCAAiC,CAG1EC,EAAkBC,OAAOC,MAAM,GAEjCC,EACAnB,EAAwBoB,OAAO,CAA/BpB,2BACMC,EAAMoB,WAAW,CAACR,EAAYG,EAAiBR,AANzCM,EAMiDQ,WAAW,EADxEtB,iCAGUY,EAAOW,QAAQ,CAAGf,CAAAA,AARhBM,EAQwBU,OAAO,CAAA,YAAehB,AAR9CM,EAQsDU,OAAO,CAAK,EAAA,CAE9EhB,CAVYM,EAUJW,SAAS,EACpBN,CAAAA,GAAQ,eAAmBO,mBAAmBlB,AAX/BM,EAWuCW,SAAS,CAAA,EAGhEN,GAAQ,iBAAqBlB,EAAM0B,YAAY,CAAC,mBAAoBf,GAEpEX,EAAM2B,WAAW,CAAC,CACjBC,aAAc,mBACdhB,WAAAA,EACAM,SAAAA,EACAJ,kCAAAA,EACAC,gBAAAA,EACAc,aAAc,CAAEC,MAAO,IAAKC,OAAQ,GAAG,GAEzC\"}"}