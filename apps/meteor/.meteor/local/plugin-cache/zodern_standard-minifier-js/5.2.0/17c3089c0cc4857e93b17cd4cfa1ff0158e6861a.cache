{"code":"function module(e,t,n){let o,a,i,s,r;n.export({useCreateIntegration:()=>c}),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){o=e},useRouter(e){a=e},useToastMessageDispatch(e){i=e},useTranslation(e){s=e}},0),n.link(\"@tanstack/react-query\",{useMutation(e){r=e}},1);let c=e=>{let t=s(),n=a(),c=o(\"POST\",\"/v1/integrations.create\"),u=i();return r({mutationFn:c,onSuccess:o=>{u({type:\"success\",message:t(\"Integration_added\")}),n.navigate(\"/admin/integrations/edit/\".concat(\"webhook-incoming\"===e?\"incoming\":\"outgoing\",\"/\").concat(o.integration._id))},onError:e=>{u({type:\"error\",message:e})}})}}","map":"{\"version\":3,\"sources\":[\"client/views/admin/integrations/hooks/useCreateIntegration.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint, useRouter, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useMutation } from '@tanstack/react-query';\\n\\nexport const useCreateIntegration = (integrationType: 'webhook-incoming' | 'webhook-outgoing') => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst createIntegration = useEndpoint('POST', '/v1/integrations.create');\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\treturn useMutation({\\n\\t\\tmutationFn: createIntegration,\\n\\t\\tonSuccess: (data) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Integration_added') });\\n\\t\\t\\trouter.navigate(\\n\\t\\t\\t\\t`/admin/integrations/edit/${integrationType === 'webhook-incoming' ? 'incoming' : 'outgoing'}/${data.integration._id}`,\\n\\t\\t\\t);\\n\\t\\t},\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t});\\n};\\n\",null],\"names\":[\"useEndpoint\",\"useRouter\",\"useToastMessageDispatch\",\"useTranslation\",\"useMutation\",\"module\",\"export\",\"useCreateIntegration\",\"link\",\"v\",\"integrationType\",\"t\",\"router\",\"createIntegration\",\"dispatchToastMessage\",\"mutationFn\",\"onSuccess\",\"data\",\"type\",\"message\",\"navigate\",\"concat\",\"integration\",\"_id\",\"onError\",\"error\"],\"mappings\":\"2BAA0DA,EAAgBC,EAAMC,EAA2BC,EAAAC,EAA3GC,EAAOC,MAAE,CAAA,CAAAC,qBAAwBA,IAAAA,CAAyB,GAAiDF,EAAAG,IAAA,CAAA,2BAAA,CAAAR,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,UAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,wBAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,wBAAA,CAAAJ,YAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAGpG,IAAMF,EAAwBG,IACpC,IAAMC,EAAIR,IACJS,EAASX,IACTY,EAAoBb,EAAY,OAAQ,2BACxCc,EAAuBZ,IAE7B,OAAOE,EAAY,CAClBW,WAAYF,EACZG,UAAYC,IACXH,EAAqB,CAAEI,KAAM,UAAWC,QAASR,EAAE,oBAAoB,GACvEC,EAAOQ,QAAQ,CAAA,4BAAAC,MAAA,CACcX,AAAoB,qBAApBA,EAAyC,WAAa,WAAU,KAAAW,MAAA,CAAIJ,EAAKK,WAAW,CAACC,GAAG,EAEtH,EACAC,QAAUC,IACTX,EAAqB,CAAEI,KAAM,QAASC,QAASM,CAAK,EACrD,GAEF\"}"}