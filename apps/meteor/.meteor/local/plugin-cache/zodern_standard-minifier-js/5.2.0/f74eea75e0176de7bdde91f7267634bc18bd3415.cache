{"code":"function module(e,t,a){let s,l,r,n,o,c,d,u;a.link(\"@rocket.chat/fuselage\",{Select(e){s=e},Box(e){l=e}},0),a.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){r=e}},1),a.link(\"moment\",{default(e){n=e}},2),a.link(\"react\",{default(e){o=e},useMemo(e){c=e},useEffect(e){d=e}},3),a.link(\"react-i18next\",{useTranslation(e){u=e}},4);let i=e=>e.locale(\"en\").format(\"YYYY-MM-DD\"),k=i(n()),h=e=>({start:i(n().subtract(e,\"month\").date(1)),end:i(0===e?n():n().subtract(e).date(0))}),b=(e,t)=>({start:i(n().subtract(e,\"day\")),end:i(n().subtract(t,\"day\"))});a.exportDefault(e=>{let{onChange:t}=e,{t:a}=u(),f=r(e=>{t(e)}),y=c(()=>[[\"today\",a(\"Today\")],[\"yesterday\",a(\"Yesterday\")],[\"thisWeek\",a(\"This_week\")],[\"previousWeek\",a(\"Previous_week\")],[\"thisMonth\",a(\"This_month\")],[\"alldates\",a(\"All\")]].map(e=>{let[t,a]=e;return[t,a]}),[a]);d(()=>{f({start:i(n(0)),end:k})},[f]);let m=r(e=>{switch(e){case\"today\":f(b(0,0));break;case\"yesterday\":f(b(1,1));break;case\"thisWeek\":f(b(7,0));break;case\"previousWeek\":f(b(14,7));break;case\"thisMonth\":f(h(0));break;case\"alldates\":f({start:i(n(0)),end:k})}});return o.createElement(l,{flexGrow:0},o.createElement(s,{defaultSelectedKey:\"alldates\",width:\"100%\",options:y,onChange:m}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/moderation/helpers/DateRangePicker.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Select, Box, type SelectOption } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport moment, { type Moment } from 'moment';\\nimport React, { useMemo, useEffect } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\ntype DateRangePickerProps = {\\n\\tonChange(range: { start: string; end: string }): void;\\n};\\n\\nconst formatToDateInput = (date: Moment) => date.locale('en').format('YYYY-MM-DD');\\n\\nconst todayDate = formatToDateInput(moment());\\n\\nconst getMonthRange = (monthsToSubtractFromToday: number) => ({\\n\\tstart: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\\n\\tend: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0)),\\n});\\n\\nconst getWeekRange = (daysToSubtractFromStart: number, daysToSubtractFromEnd: number) => ({\\n\\tstart: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\\n\\tend: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day')),\\n});\\n\\nconst DateRangePicker = ({ onChange }: DateRangePickerProps) => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst handleRange = useMutableCallback((range) => {\\n\\t\\tonChange(range);\\n\\t});\\n\\n\\tconst timeOptions = useMemo<SelectOption[]>(() => {\\n\\t\\treturn [\\n\\t\\t\\t['today', t('Today')],\\n\\t\\t\\t['yesterday', t('Yesterday')],\\n\\t\\t\\t['thisWeek', t('This_week')],\\n\\t\\t\\t['previousWeek', t('Previous_week')],\\n\\t\\t\\t['thisMonth', t('This_month')],\\n\\t\\t\\t['alldates', t('All')],\\n\\t\\t].map(([value, label]) => [value, label] as SelectOption);\\n\\t}, [t]);\\n\\n\\tuseEffect(() => {\\n\\t\\thandleRange({\\n\\t\\t\\tstart: formatToDateInput(moment(0)),\\n\\t\\t\\tend: todayDate,\\n\\t\\t});\\n\\t}, [handleRange]);\\n\\n\\tconst handleOptionClick = useMutableCallback((action) => {\\n\\t\\tswitch (action) {\\n\\t\\t\\tcase 'today':\\n\\t\\t\\t\\thandleRange(getWeekRange(0, 0));\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase 'yesterday':\\n\\t\\t\\t\\thandleRange(getWeekRange(1, 1));\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase 'thisWeek':\\n\\t\\t\\t\\thandleRange(getWeekRange(7, 0));\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase 'previousWeek':\\n\\t\\t\\t\\thandleRange(getWeekRange(14, 7));\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase 'thisMonth':\\n\\t\\t\\t\\thandleRange(getMonthRange(0));\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase 'alldates':\\n\\t\\t\\t\\thandleRange({\\n\\t\\t\\t\\t\\tstart: formatToDateInput(moment(0)),\\n\\t\\t\\t\\t\\tend: todayDate,\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tdefault:\\n\\t\\t\\t\\tbreak;\\n\\t\\t}\\n\\t});\\n\\n\\treturn (\\n\\t\\t<Box flexGrow={0}>\\n\\t\\t\\t<Select defaultSelectedKey='alldates' width='100%' options={timeOptions} onChange={handleOptionClick} />\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default DateRangePicker;\\n\",null],\"names\":[\"Select\",\"Box\",\"useMutableCallback\",\"moment\",\"React\",\"useMemo\",\"useEffect\",\"useTranslation\",\"module\",\"link\",\"v\",\"default\",\"formatToDateInput\",\"date\",\"locale\",\"format\",\"todayDate\",\"getMonthRange\",\"monthsToSubtractFromToday\",\"start\",\"subtract\",\"end\",\"getWeekRange\",\"daysToSubtractFromStart\",\"daysToSubtractFromEnd\",\"exportDefault\",\"_ref\",\"onChange\",\"t\",\"handleRange\",\"range\",\"timeOptions\",\"map\",\"_ref2\",\"value\",\"label\",\"handleOptionClick\",\"action\",\"createElement\",\"flexGrow\",\"defaultSelectedKey\",\"width\",\"options\"],\"mappings\":\"2BAAAA,EAASC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxDC,EAA0BC,IAAA,CAAA,wBAA6B,CAACT,OAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,IAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAP,mBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,SAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,EAAAL,QAAAK,CAAA,EAAAL,EAAAK,CAAA,EAAAJ,UAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAF,eAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAUvE,IAAME,EAAqBC,GAAiBA,EAAKC,MAAM,CAAC,MAAMC,MAAM,CAAC,cAE/DC,EAAYJ,EAAkBT,KAE9Bc,EAAiBC,GAAuC,CAAA,CAC7DC,MAAOP,EAAkBT,IAASiB,QAAQ,CAACF,EAA2B,SAASL,IAAI,CAAC,IACpFQ,IAAKT,EAAkBM,AAA8B,IAA9BA,EAAkCf,IAAWA,IAASiB,QAAQ,CAACF,GAA2BL,IAAI,CAAC,MAGjHS,EAAeA,CAACC,EAAiCC,IAAmC,CAAA,CACzFL,MAAOP,EAAkBT,IAASiB,QAAQ,CAACG,EAAyB,QACpEF,IAAKT,EAAkBT,IAASiB,QAAQ,CAACI,EAAuB,UArBjEhB,EAAOiB,aAAa,CAwBIC,IAAuC,GAAtC,CAAEC,SAAAA,CAAAA,CAAgC,CAAAD,EACpD,CAAEE,EAAAA,CAAAA,CAAG,CAAGrB,IAERsB,EAAc3B,EAAoB4B,IACvCH,EAASG,EACV,GAEMC,EAAc1B,EAAwB,IACpC,CACN,CAAC,QAASuB,EAAE,SAAS,CACrB,CAAC,YAAaA,EAAE,aAAa,CAC7B,CAAC,WAAYA,EAAE,aAAa,CAC5B,CAAC,eAAgBA,EAAE,iBAAiB,CACpC,CAAC,YAAaA,EAAE,cAAc,CAC9B,CAAC,WAAYA,EAAE,OAAO,CACtB,CAACI,GAAG,CAACC,IAAA,GAAC,CAACC,EAAOC,EAAM,CAAAF,EAAA,MAAK,CAACC,EAAOC,EAAsB,GACtD,CAACP,EAAE,EAENtB,EAAU,KACTuB,EAAY,CACXV,MAAOP,EAAkBT,EAAO,IAChCkB,IAAKL,GAEP,EAAG,CAACa,EAAY,EAEhB,IAAMO,EAAoBlC,EAAoBmC,IAC7C,OAAQA,GACP,IAAK,QACJR,EAAYP,EAAa,EAAG,IAC5B,KACD,KAAK,YACJO,EAAYP,EAAa,EAAG,IAC5B,KACD,KAAK,WACJO,EAAYP,EAAa,EAAG,IAC5B,KACD,KAAK,eACJO,EAAYP,EAAa,GAAI,IAC7B,KACD,KAAK,YACJO,EAAYZ,EAAc,IAC1B,KACD,KAAK,WACJY,EAAY,CACXV,MAAOP,EAAkBT,EAAO,IAChCkB,IAAKL,GAKR,CACD,GAEA,OACCZ,EAAAkC,aAAA,CAACrC,EAAG,CAACsC,SAAU,CAAE,EAChBnC,EAAAkC,aAAA,CAACtC,EAAM,CAACwC,mBAAmB,WAAWC,MAAM,OAAOC,QAASX,EAAaJ,SAAUS,CAAkB,GAGxG\"}"}