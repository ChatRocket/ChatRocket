{"code":"function module(e,n,t){var l,a,u,c,o,r,i,f,s,m,d;t.link(\"@babel/runtime/regenerator\",{default:function(e){l=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useAtLeastOnePermission:function(e){a=e},useRoute:function(e){u=e},useRouteParameter:function(e){c=e}},0),t.link(\"react\",{default:function(e){o=e},Suspense:function(e){r=e},useEffect:function(e){i=e}},1),t.link(\"../../components/PageSkeleton\",{default:function(e){f=e}},2),t.link(\"../../sidebar/SidebarPortal\",{default:function(e){s=e}},3),t.link(\"../notFound/NotFoundPage\",{default:function(e){m=e}},4),t.link(\"./MarketplaceSidebar\",{default:function(e){d=e}},5),t.exportDefault(function(e){var n=e.children,t=c(\"context\")||\"all\",k=u(\"marketplace\"),p=a([\"access-marketplace\",\"manage-apps\"]);return(i(function(){l.async(function(e){for(;;)switch(e.prev=e.next){case 0:\"all\"===t&&k.replace({context:\"explore\",page:\"list\"});case 1:case\"end\":return e.stop()}},null,null,null,Promise)},[t,k]),p)?n?o.createElement(o.Fragment,null,o.createElement(r,{fallback:o.createElement(f,null)},n),o.createElement(s,null,o.createElement(d,null))):o.createElement(f,null):o.createElement(m,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/MarketplaceRouter.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useAtLeastOnePermission, useRoute, useRouteParameter } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement, ReactNode } from 'react';\\nimport React, { Suspense, useEffect } from 'react';\\n\\nimport PageSkeleton from '../../components/PageSkeleton';\\nimport SidebarPortal from '../../sidebar/SidebarPortal';\\nimport NotFoundPage from '../notFound/NotFoundPage';\\nimport MarketPlaceSidebar from './MarketplaceSidebar';\\n\\nconst MarketplaceRouter = ({ children }: { children?: ReactNode }): ReactElement => {\\n\\tconst currentContext = useRouteParameter('context') || 'all';\\n\\tconst marketplaceRoute = useRoute('marketplace');\\n\\tconst canAccessMarketplace = useAtLeastOnePermission(['access-marketplace', 'manage-apps']);\\n\\n\\tuseEffect(() => {\\n\\t\\tconst initialize = async () => {\\n\\t\\t\\t// The currentContext === 'all' verification is for users who bookmarked\\n\\t\\t\\t// the old marketplace\\n\\t\\t\\t// TODO: Remove the all verification in the future;\\n\\t\\t\\tif (currentContext === 'all') {\\n\\t\\t\\t\\tmarketplaceRoute.replace({ context: 'explore', page: 'list' });\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tinitialize();\\n\\t}, [currentContext, marketplaceRoute]);\\n\\n\\tif (!canAccessMarketplace) {\\n\\t\\treturn <NotFoundPage />;\\n\\t}\\n\\n\\treturn children ? (\\n\\t\\t<>\\n\\t\\t\\t<Suspense fallback={<PageSkeleton />}>{children}</Suspense>\\n\\t\\t\\t<SidebarPortal>\\n\\t\\t\\t\\t<MarketPlaceSidebar />\\n\\t\\t\\t</SidebarPortal>\\n\\t\\t</>\\n\\t) : (\\n\\t\\t<PageSkeleton />\\n\\t);\\n};\\n\\nexport default MarketplaceRouter;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"useAtLeastOnePermission\",\"useRoute\",\"useRouteParameter\",\"React\",\"Suspense\",\"useEffect\",\"PageSkeleton\",\"SidebarPortal\",\"NotFoundPage\",\"MarketPlaceSidebar\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"children\",\"currentContext\",\"marketplaceRoute\",\"canAccessMarketplace\",\"async\",\"_context\",\"prev\",\"next\",\"replace\",\"context\",\"page\",\"stop\",\"Promise\",\"createElement\",\"Fragment\",\"fallback\"],\"mappings\":\"uBASA,IATAA,EAAAC,EAASC,EAAyBC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvFC,EAAAC,IAAyB,CAAA,6BAA6B,CAAAC,QAAM,SAAAC,CAAA,EAAAd,EAA2Bc,CAAA,CAAA,EAAA,GAApDH,EAAiBC,IAAE,CAAA,2BAAM,CAA0BX,wBAAC,SAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,SAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,kBAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAV,EAAAU,CAAA,EAAAT,SAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,UAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAA,QAAA,SAAAE,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAhGH,EAAOI,aAAE,CASiB,SAAAC,CAAA,EAAyD,IAAtDC,EAAQD,EAARC,QAAQ,CAC9BC,EAAiBf,EAAkB,YAAc,MACjDgB,EAAmBjB,EAAS,eAC5BkB,EAAuBnB,EAAwB,CAAC,qBAAsB,cAAc,QAe1F,CAbAK,EAAU,WACUN,EAAAqB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAIK,QAAnBN,GACHC,EAAiBM,OAAO,CAAC,CAAEC,QAAS,UAAWC,KAAM,MAAM,EAC3D,MAAA,EAAA,IAAA,MAAA,OAAAL,EAAAM,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAIH,EAAG,CAACX,EAAgBC,EAAiB,EAEhCC,GAIEH,EACNb,EAAA0B,aAAA,CAAA1B,EAAA2B,QAAA,CAAA,KACC3B,EAAA0B,aAAA,CAACzB,EAAQ,CAAC2B,SAAU5B,EAAA0B,aAAA,CAACvB,EAAY,KAAI,EAAEU,GACvCb,EAAA0B,aAAA,CAACtB,EAAa,KACbJ,EAAA0B,aAAA,CAACpB,EAAkB,QAIrBN,EAAA0B,aAAA,CAACvB,EAAY,MAXNH,EAAA0B,aAAA,CAACrB,EAAY,KAatB\"}"}