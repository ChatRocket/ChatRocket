{"code":"function module(e,t,l){let n,a,r,o,c,s,u,i,m,k,p,E,d;let g=[\"onClose\",\"onStatusChange\"];l.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){n=e}},0),l.link(\"@rocket.chat/fuselage\",{Box(e){a=e},Button(e){r=e},ButtonGroup(e){o=e},Modal(e){c=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useSafely(e){s=e}},1),l.link(\"@rocket.chat/ui-contexts\",{useMethod(e){u=e},useSetModal(e){i=e},useToastMessageDispatch(e){m=e},useTranslation(e){k=e}},2),l.link(\"react\",{default(e){p=e},useState(e){E=e}},3),l.link(\"../hooks/useFeatureBullets\",{default(e){d=e}},4),l.exportDefault(e=>{let{onClose:t,onStatusChange:l}=e,h=n(e,g),y=k(),f=i(),C=m(),S=d(),[_,W]=s(E(!1)),b=u(\"cloud:syncWorkspace\"),R=async()=>{W(!0);try{let e=await b();if(!e)throw Error(y(\"RegisterWorkspace_Syncing_Error\"));C({type:\"success\",message:y(\"RegisterWorkspace_Syncing_Complete\")}),f(null)}catch(e){C({type:\"error\",message:e})}finally{null==l||l(),W(!1)}};return p.createElement(c,h,p.createElement(c.Header,null,p.createElement(c.HeaderText,null,p.createElement(c.Title,null,y(\"Workspace_registered\"))),p.createElement(c.Close,{onClick:t})),p.createElement(c.Content,null,p.createElement(a,{withRichContent:!0},p.createElement(\"span\",null,\"\".concat(y(\"RegisterWorkspace_Registered_Subtitle\"),\": \")),p.createElement(\"ul\",null,S.map((e,t)=>p.createElement(\"li\",{key:t},p.createElement(\"strong\",null,e.title),p.createElement(a,{is:\"p\",mbs:4},e.description)))))),p.createElement(c.Footer,null,p.createElement(o,{align:\"end\"},p.createElement(r,{icon:\"reload\",onClick:R,loading:_},y(\"Sync\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/workspace/VersionCard/modals/RegisteredWorkspaceModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Button, ButtonGroup, Modal } from '@rocket.chat/fuselage';\\nimport { useSafely } from '@rocket.chat/fuselage-hooks';\\nimport { useMethod, useSetModal, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\\nimport React, { useState } from 'react';\\n\\nimport useFeatureBullets from '../hooks/useFeatureBullets';\\n\\ntype RegisteredWorkspaceModalProps = {\\n\\tonClose: () => void;\\n\\tonStatusChange?: () => void;\\n};\\n\\nconst RegisteredWorkspaceModal = ({ onClose, onStatusChange, ...props }: RegisteredWorkspaceModalProps) => {\\n\\tconst t = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst bulletFeatures = useFeatureBullets();\\n\\tconst [isSyncing, setSyncing] = useSafely(useState(false));\\n\\n\\tconst syncWorkspace = useMethod('cloud:syncWorkspace');\\n\\n\\tconst handleSyncAction = async () => {\\n\\t\\tsetSyncing(true);\\n\\n\\t\\ttry {\\n\\t\\t\\tconst isSynced = await syncWorkspace();\\n\\n\\t\\t\\tif (!isSynced) {\\n\\t\\t\\t\\tthrow Error(t('RegisterWorkspace_Syncing_Error'));\\n\\t\\t\\t}\\n\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('RegisterWorkspace_Syncing_Complete') });\\n\\t\\t\\tsetModal(null);\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t} finally {\\n\\t\\t\\tonStatusChange?.();\\n\\t\\t\\tsetSyncing(false);\\n\\t\\t}\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Modal {...props}>\\n\\t\\t\\t<Modal.Header>\\n\\t\\t\\t\\t<Modal.HeaderText>\\n\\t\\t\\t\\t\\t<Modal.Title>{t('Workspace_registered')}</Modal.Title>\\n\\t\\t\\t\\t</Modal.HeaderText>\\n\\t\\t\\t\\t<Modal.Close onClick={onClose} />\\n\\t\\t\\t</Modal.Header>\\n\\t\\t\\t<Modal.Content>\\n\\t\\t\\t\\t<Box withRichContent>\\n\\t\\t\\t\\t\\t<span>{`${t('RegisterWorkspace_Registered_Subtitle')}: `}</span>\\n\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t{bulletFeatures.map((item, index) => (\\n\\t\\t\\t\\t\\t\\t\\t<li key={index}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong>{item.title}</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Box is='p' mbs={4}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{item.description}\\n\\t\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Modal.Content>\\n\\t\\t\\t<Modal.Footer>\\n\\t\\t\\t\\t<ButtonGroup align='end'>\\n\\t\\t\\t\\t\\t<Button icon='reload' onClick={handleSyncAction} loading={isSyncing}>\\n\\t\\t\\t\\t\\t\\t{t('Sync')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</Modal.Footer>\\n\\t\\t</Modal>\\n\\t);\\n};\\n\\nexport default RegisteredWorkspaceModal;\\n\",null],\"names\":[\"_objectWithoutProperties\",\"Box\",\"Button\",\"ButtonGroup\",\"Modal\",\"useSafely\",\"useMethod\",\"useSetModal\",\"useToastMessageDispatch\",\"useTranslation\",\"React\",\"useState\",\"useFeatureBullets\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"onClose\",\"onStatusChange\",\"props\",\"_excluded\",\"t\",\"setModal\",\"dispatchToastMessage\",\"bulletFeatures\",\"isSyncing\",\"setSyncing\",\"syncWorkspace\",\"handleSyncAction\",\"isSynced\",\"Error\",\"type\",\"message\",\"error\",\"createElement\",\"Header\",\"HeaderText\",\"Title\",\"Close\",\"onClick\",\"Content\",\"withRichContent\",\"concat\",\"map\",\"item\",\"index\",\"key\",\"title\",\"is\",\"mbs\",\"description\",\"Footer\",\"align\",\"icon\",\"loading\"],\"mappings\":\"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\"}"}