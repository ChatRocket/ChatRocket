{"code":"function module(e,n,t){var r,l,u,a,o,i,c,s,m,f,d,p,E,k,g,x,C,h,v,b,y,F,w,S,_;t.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),t.link(\"@rocket.chat/fuselage\",{Box:function(e){l=e},Callout:function(e){u=e},StatesAction:function(e){a=e},StatesActions:function(e){o=e},StatesIcon:function(e){i=e},StatesTitle:function(e){c=e},ContextualbarFooter:function(e){s=e},FieldGroup:function(e){m=e},Field:function(e){f=e},FieldLabel:function(e){d=e},FieldRow:function(e){p=e},ContextualbarSkeleton:function(e){E=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){k=e}},1),t.link(\"@tanstack/react-query\",{useQuery:function(e){g=e}},2),t.link(\"react\",{default:function(e){x=e},useMemo:function(e){C=e}},3),t.link(\"react-i18next\",{useTranslation:function(e){h=e}},4),t.link(\"../../../../components/Contextualbar\",{ContextualbarScrollableContent:function(e){v=e}},5),t.link(\"../../../../components/GenericNoResults\",{default:function(e){b=e}},6),t.link(\"../../../../components/UserCard\",{UserCardRole:function(e){y=e}},7),t.link(\"../../../../hooks/useFormatDate\",{useFormatDate:function(e){F=e}},8),t.link(\"../helpers/ReportReason\",{default:function(e){w=e}},9),t.link(\"../helpers/UserColumn\",{default:function(e){S=e}},10),t.link(\"./UserContextFooter\",{default:function(e){_=e}},11),t.exportDefault(function(e){var n=e.userId,t=h().t,R=k(\"GET\",\"/v1/moderation.user.reportsByUserId\"),U=F(),D=g([\"moderation\",\"userReports\",\"fetchDetails\",n],function(){return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",R({userId:n}));case 1:case\"end\":return e.stop()}},null,null,null,Promise)}),I=D.data,A=D.refetch,B=D.isLoading,G=D.isSuccess,T=D.isError,j=D.dataUpdatedAt,z=C(function(){if(!(null!=I&&I.user))return null;var e=I.user,n=e.username,t=e.name;return x.createElement(S,{key:j,username:n,name:t,fontSize:\"p2\",size:\"x48\"})},[null==I?void 0:I.user,j]),L=C(function(){var e;return null!=I&&null!==(e=I.user)&&void 0!==e&&e.emails?I.user.emails.map(function(e){return e.address}):[]},[I]);return T?x.createElement(l,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",pb:20,color:\"default\"},x.createElement(i,{name:\"warning\",variation:\"danger\"}),x.createElement(c,null,t(\"Something_went_wrong\")),x.createElement(o,null,x.createElement(a,{onClick:function(){return A()}},t(\"Reload_page\")))):x.createElement(x.Fragment,null,x.createElement(v,null,B&&x.createElement(E,null),G&&I.reports.length>0&&x.createElement(x.Fragment,null,I.user?x.createElement(m,null,x.createElement(f,null,z),x.createElement(f,null,x.createElement(d,null,t(\"Roles\")),x.createElement(p,{justifyContent:\"flex-start\",spacing:1},I.user.roles.map(function(e,n){return x.createElement(y,{key:n},e)}))),x.createElement(f,null,x.createElement(d,null,t(\"Email\")),x.createElement(p,null,L.join(\", \"))),x.createElement(f,null,x.createElement(d,null,t(\"Created_at\")),x.createElement(p,null,U(I.user.createdAt)))):x.createElement(u,{mbs:8,type:\"warning\",icon:\"warning\"},t(\"Moderation_User_deleted_warning\")),I.reports.map(function(e,n){var t;return x.createElement(w,{key:n,ind:n+1,uinfo:null===(t=e.reportedBy)||void 0===t?void 0:t.username,msg:e.description,ts:new Date(e.ts)})})),G&&0===I.reports.length&&x.createElement(b,{title:t(\"No_user_reports\"),icon:\"user\"})),G&&I.reports.length>0&&x.createElement(s,null,x.createElement(_,{userId:n,deleted:!I.user})))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/moderation/UserReports/UserReportInfo.tsx\",\"<anon>\"],\"sourcesContent\":[\"import {\\n\\tBox,\\n\\tCallout,\\n\\tStatesAction,\\n\\tStatesActions,\\n\\tStatesIcon,\\n\\tStatesTitle,\\n\\tContextualbarFooter,\\n\\tFieldGroup,\\n\\tField,\\n\\tFieldLabel,\\n\\tFieldRow,\\n\\tContextualbarSkeleton,\\n} from '@rocket.chat/fuselage';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { ContextualbarScrollableContent } from '../../../../components/Contextualbar';\\nimport GenericNoResults from '../../../../components/GenericNoResults';\\nimport { UserCardRole } from '../../../../components/UserCard';\\nimport { useFormatDate } from '../../../../hooks/useFormatDate';\\nimport ReportReason from '../helpers/ReportReason';\\nimport UserColumn from '../helpers/UserColumn';\\nimport UserContextFooter from './UserContextFooter';\\n\\nconst UserReportInfo = ({ userId }: { userId: string }) => {\\n\\tconst { t } = useTranslation();\\n\\tconst getUserReports = useEndpoint('GET', '/v1/moderation.user.reportsByUserId');\\n\\tconst formatDateAndTime = useFormatDate();\\n\\n\\tconst {\\n\\t\\tdata: report,\\n\\t\\trefetch: reloadUsersReports,\\n\\t\\tisLoading,\\n\\t\\tisSuccess,\\n\\t\\tisError,\\n\\t\\tdataUpdatedAt,\\n\\t} = useQuery(['moderation', 'userReports', 'fetchDetails', userId], async () => getUserReports({ userId }));\\n\\n\\tconst userProfile = useMemo(() => {\\n\\t\\tif (!report?.user) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tconst { username, name } = report.user;\\n\\t\\treturn <UserColumn key={dataUpdatedAt} username={username} name={name} fontSize='p2' size='x48' />;\\n\\t}, [report?.user, dataUpdatedAt]);\\n\\n\\tconst userEmails = useMemo(() => {\\n\\t\\tif (!report?.user?.emails) {\\n\\t\\t\\treturn [];\\n\\t\\t}\\n\\t\\treturn report.user.emails.map((email) => email.address);\\n\\t}, [report]);\\n\\n\\tif (isError) {\\n\\t\\treturn (\\n\\t\\t\\t<Box display='flex' flexDirection='column' alignItems='center' pb={20} color='default'>\\n\\t\\t\\t\\t<StatesIcon name='warning' variation='danger' />\\n\\t\\t\\t\\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\\n\\t\\t\\t\\t<StatesActions>\\n\\t\\t\\t\\t\\t<StatesAction onClick={() => reloadUsersReports()}>{t('Reload_page')}</StatesAction>\\n\\t\\t\\t\\t</StatesActions>\\n\\t\\t\\t</Box>\\n\\t\\t);\\n\\t}\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t{isLoading && <ContextualbarSkeleton />}\\n\\t\\t\\t\\t{isSuccess && report.reports.length > 0 && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t{report.user ? (\\n\\t\\t\\t\\t\\t\\t\\t<FieldGroup>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>{userProfile}</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel>{t('Roles')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow justifyContent='flex-start' spacing={1}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{report.user.roles.map((role, index) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<UserCardRole key={index}>{role}</UserCardRole>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel>{t('Email')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>{userEmails.join(', ')}</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel>{t('Created_at')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>{formatDateAndTime(report.user.createdAt)}</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t\\t<Callout mbs={8} type='warning' icon='warning'>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Moderation_User_deleted_warning')}\\n\\t\\t\\t\\t\\t\\t\\t</Callout>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t{report.reports.map((report, ind) => (\\n\\t\\t\\t\\t\\t\\t\\t<ReportReason key={ind} ind={ind + 1} uinfo={report.reportedBy?.username} msg={report.description} ts={new Date(report.ts)} />\\n\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{isSuccess && report.reports.length === 0 && <GenericNoResults title={t('No_user_reports')} icon='user' />}\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t{isSuccess && report.reports.length > 0 && (\\n\\t\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t\\t<UserContextFooter userId={userId} deleted={!report.user} />\\n\\t\\t\\t\\t</ContextualbarFooter>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default UserReportInfo;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"Box\",\"Callout\",\"StatesAction\",\"StatesActions\",\"StatesIcon\",\"StatesTitle\",\"ContextualbarFooter\",\"FieldGroup\",\"Field\",\"FieldLabel\",\"FieldRow\",\"ContextualbarSkeleton\",\"useEndpoint\",\"useQuery\",\"React\",\"useMemo\",\"useTranslation\",\"ContextualbarScrollableContent\",\"GenericNoResults\",\"UserCardRole\",\"useFormatDate\",\"ReportReason\",\"UserColumn\",\"UserContextFooter\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"userId\",\"t\",\"_useTranslation\",\"getUserReports\",\"formatDateAndTime\",\"_useQuery\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"stop\",\"Promise\",\"report\",\"data\",\"reloadUsersReports\",\"refetch\",\"isLoading\",\"isSuccess\",\"isError\",\"dataUpdatedAt\",\"userProfile\",\"user\",\"_report$user\",\"username\",\"name\",\"createElement\",\"key\",\"fontSize\",\"size\",\"userEmails\",\"_report$user2\",\"emails\",\"map\",\"email\",\"address\",\"display\",\"flexDirection\",\"alignItems\",\"pb\",\"color\",\"variation\",\"onClick\",\"Fragment\",\"reports\",\"length\",\"justifyContent\",\"spacing\",\"roles\",\"role\",\"index\",\"join\",\"createdAt\",\"mbs\",\"type\",\"icon\",\"ind\",\"_report$reportedBy\",\"uinfo\",\"reportedBy\",\"msg\",\"description\",\"ts\",\"Date\",\"title\",\"deleted\"],\"mappings\":\"uBA2BA,IA3BAA,EAAAC,EAAOC,EAENC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAmBC,EACnBC,EACAC,EACAC,EAG8BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAV9BC,EAAAC,IAAY,CAAA,6BAGZ,CAAAC,QAAA,SACAC,CAAA,EAAA5B,EACA4B,CAAA,CAAU,EACV,GAGAH,EAAAC,IAAA,CAAA,wBACM,CAAAzB,IAAA,SAAwB2B,CAAA,EAAA3B,EAAA2B,CAAA,EAAA1B,QAAA,SAAA0B,CAAA,EAAA1B,EAAA0B,CAAA,EAAAzB,aAAA,SAAAyB,CAAA,EAAAzB,EAAAyB,CAAA,EAAAxB,cAAA,SAAAwB,CAAA,EAAAxB,EAAAwB,CAAA,EAAAvB,WAAA,SAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,EAAAtB,YAAA,SAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,EAAArB,oBAAA,SAAAqB,CAAA,EAAArB,EAAAqB,CAAA,EAAApB,WAAA,SAAAoB,CAAA,EAAApB,EAAAoB,CAAA,EAAAnB,MAAA,SAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,EAAAlB,WAAA,SAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,EAAAjB,SAAA,SAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,EAAAhB,sBAAA,SAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAb,YAAA,SAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAZ,SAAA,SAAAc,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,QAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAT,eAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAR,+BAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0CAAA,CAAA,QAAA,SAAAE,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAN,aAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAL,cAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,sBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,IAb/BH,EAAOI,aAEN,CAyBsB,SAAAC,CAAA,EAAmC,IAAhCC,EAAMD,EAANC,MAAM,CACvBC,EAACC,AAAKhB,IAANe,CAAC,CACHE,EAAiBrB,EAAY,MAAO,uCACpCsB,EAAoBd,IAE1Be,EAOItB,EAAS,CAAC,aAAc,cAAe,eAAgBiB,EAAO,CAAE,WAAA,OAAA/B,EAAAqC,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAG,MAAA,CAAA,SAAYP,EAAe,CAAEH,OAAAA,CAAM,GAAG,MAAA,EAAA,IAAA,MAAA,OAAAO,EAAAI,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,GANnGC,EAAMR,EAAZS,IAAI,CACKC,EAAkBV,EAA3BW,OAAO,CACPC,EAASZ,EAATY,SAAS,CACTC,EAASb,EAATa,SAAS,CACTC,EAAOd,EAAPc,OAAO,CACPC,EAAaf,EAAbe,aAAa,CAGRC,EAAcpC,EAAQ,WAC3B,GAAI,CAAC4B,CAAAA,MAAAA,GAAAA,EAAQS,IAAI,AAAJA,EACZ,OAAO,KAGR,IAAAC,EAA2BV,EAAOS,IAAI,CAA9BE,EAAQD,EAARC,QAAQ,CAAEC,EAAIF,EAAJE,IAAI,CACtB,OAAOzC,EAAA0C,aAAA,CAAClC,EAAU,CAACmC,IAAKP,EAAeI,SAAUA,EAAUC,KAAMA,EAAMG,SAAS,KAAKC,KAAK,KAAK,EAChG,EAAG,CAAChB,MAAAA,EAAM,KAAA,EAANA,EAAQS,IAAI,CAAEF,EAAc,EAE1BU,EAAa7C,EAAQ,WAAK,IAAA8C,SAC/B,AAAKlB,MAAAA,GAAM,AAAM,OAANkB,CAAAA,EAANlB,EAAQS,IAAI,AAAJA,GAAIS,AAAA,KAAA,IAAAA,GAAZA,EAAcC,MAAM,CAGlBnB,EAAOS,IAAI,CAACU,MAAM,CAACC,GAAG,CAAC,SAACC,CAAK,EAAA,OAAKA,EAAMC,OAAO,GAF9C,EAAE,AAGX,EAAG,CAACtB,EAAO,SAEX,AAAIM,EAEFnC,EAAA0C,aAAA,CAACxD,EAAG,CAACkE,QAAQ,OAAOC,cAAc,SAASC,WAAW,SAASC,GAAI,GAAIC,MAAM,SAAS,EACrFxD,EAAA0C,aAAA,CAACpD,EAAU,CAACmD,KAAK,UAAUgB,UAAU,QAAQ,GAC7CzD,EAAA0C,aAAA,CAACnD,EAAW,KAAE0B,EAAE,yBAChBjB,EAAA0C,aAAA,CAACrD,EAAa,KACbW,EAAA0C,aAAA,CAACtD,EAAY,CAACsE,QAAS,WAAA,OAAM3B,GAAoB,CAAC,EAAEd,EAAE,kBAOzDjB,EAAA0C,aAAA,CAAA1C,EAAA2D,QAAA,CAAA,KACC3D,EAAA0C,aAAA,CAACvC,EAA8B,KAC7B8B,GAAajC,EAAA0C,aAAA,CAAC7C,EAAqB,MACnCqC,GAAaL,EAAO+B,OAAO,CAACC,MAAM,CAAG,GACrC7D,EAAA0C,aAAA,CAAA1C,EAAA2D,QAAA,CAAA,KACE9B,EAAOS,IAAI,CACXtC,EAAA0C,aAAA,CAACjD,EAAU,KACVO,EAAA0C,aAAA,CAAChD,EAAK,KAAE2C,GACRrC,EAAA0C,aAAA,CAAChD,EAAK,KACLM,EAAA0C,aAAA,CAAC/C,EAAU,KAAEsB,EAAE,UACfjB,EAAA0C,aAAA,CAAC9C,EAAQ,CAACkE,eAAe,aAAaC,QAAS,CAAE,EAC/ClC,EAAOS,IAAI,CAAC0B,KAAK,CAACf,GAAG,CAAC,SAACgB,CAAI,CAAEC,CAAK,EAAA,OAClClE,EAAA0C,aAAA,CAACrC,EAAY,CAACsC,IAAKuB,CAAM,EAAED,EAAoB,KAIlDjE,EAAA0C,aAAA,CAAChD,EAAK,KACLM,EAAA0C,aAAA,CAAC/C,EAAU,KAAEsB,EAAE,UACfjB,EAAA0C,aAAA,CAAC9C,EAAQ,KAAEkD,EAAWqB,IAAI,CAAC,QAE5BnE,EAAA0C,aAAA,CAAChD,EAAK,KACLM,EAAA0C,aAAA,CAAC/C,EAAU,KAAEsB,EAAE,eACfjB,EAAA0C,aAAA,CAAC9C,EAAQ,KAAEwB,EAAkBS,EAAOS,IAAI,CAAC8B,SAAS,KAIpDpE,EAAA0C,aAAA,CAACvD,EAAO,CAACkF,IAAK,EAAGC,KAAK,UAAUC,KAAK,SAAS,EAC5CtD,EAAE,oCAGJY,EAAO+B,OAAO,CAACX,GAAG,CAAC,SAACpB,CAAM,CAAE2C,CAAG,EAAA,IAAAC,EAAA,OAC/BzE,EAAA0C,aAAA,CAACnC,EAAY,CAACoC,IAAK6B,EAAKA,IAAKA,EAAM,EAAGE,MAAK,AAAmB,OAAnBD,CAAAA,EAAE5C,EAAO8C,UAAU,AAAVA,GAAUF,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAjBA,EAAmBjC,QAAS,CAACoC,IAAK/C,EAAOgD,WAAY,CAACC,GAAI,IAAIC,KAAKlD,EAAOiD,EAAE,CAAE,EAAG,IAIhI5C,GAAaL,AAA0B,IAA1BA,EAAO+B,OAAO,CAACC,MAAM,EAAU7D,EAAA0C,aAAA,CAACtC,EAAgB,CAAC4E,MAAO/D,EAAE,mBAAoBsD,KAAK,MAAM,IAEvGrC,GAAaL,EAAO+B,OAAO,CAACC,MAAM,CAAG,GACrC7D,EAAA0C,aAAA,CAAClD,EAAmB,KACnBQ,EAAA0C,aAAA,CAACjC,EAAiB,CAACO,OAAQA,EAAQiE,QAAS,CAACpD,EAAOS,IAAAA,AAAK,IAK9D\"}"}