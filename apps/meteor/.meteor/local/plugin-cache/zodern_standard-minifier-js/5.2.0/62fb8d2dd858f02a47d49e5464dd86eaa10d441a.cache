{"code":"function module(e,t,n){var a,i,l,r,p,u,o,c,s,d;n.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},0),n.link(\"@rocket.chat/fuselage\",{Skeleton:function(e){i=e}},0),n.link(\"@rocket.chat/ui-client\",{ExternalLink:function(e){l=e}},1),n.link(\"react\",{default:function(e){r=e}},2),n.link(\"react-i18next\",{Trans:function(e){p=e},useTranslation:function(e){u=e}},3),n.link(\"../../../utils/links\",{PRICING_LINK:function(e){o=e}},4),n.link(\"../../FeatureUsageCard\",{default:function(e){c=e}},5),n.link(\"../../UpgradeButton\",{default:function(e){s=e}},6),n.link(\"./AppsUsageCardSection\",{default:function(e){d=e}},7),n.exportDefault(function(e){var t=e.privateAppsLimit,n=e.marketplaceAppsLimit,m=u().t;if(!t||!n)return r.createElement(c,{card:{title:m(\"Apps\")}},r.createElement(i,{variant:\"rect\",width:\"x112\",height:\"x112\",role:\"presentation\"}));var f=(null==n?void 0:n.value)||0,k=(null==n?void 0:n.max)||5,v=(null==t?void 0:t.value)||0,g=(null==t?void 0:t.max)||0,x=a({title:m(\"Apps\"),infoText:r.createElement(p,{i18nKey:\"Apps_InfoText_limited\",values:{marketplaceAppsMaxCount:k},components:{1:r.createElement(l,{to:o},\"premium plans\")}})},(Math.round(f/k*100)||0)>=80&&{upgradeButton:r.createElement(s,{target:\"app-usage-card\",action:\"upgrade\",small:!0},m(\"Upgrade\"))});return r.createElement(c,{card:x},r.createElement(d,{title:m(\"Marketplace_apps\"),appsCount:f,appsMaxCount:k,warningThreshold:80}),r.createElement(d,{title:m(\"Private_apps\"),tip:0===g?m(\"Private_apps_premium_message\"):void 0,appsCount:v,appsMaxCount:g,warningThreshold:80}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/subscription/components/cards/AppsUsageCard/AppsUsageCard.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Skeleton } from '@rocket.chat/fuselage';\\nimport { ExternalLink } from '@rocket.chat/ui-client';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { Trans, useTranslation } from 'react-i18next';\\n\\nimport { PRICING_LINK } from '../../../utils/links';\\nimport type { CardProps } from '../../FeatureUsageCard';\\nimport FeatureUsageCard from '../../FeatureUsageCard';\\nimport UpgradeButton from '../../UpgradeButton';\\nimport AppsUsageCardSection from './AppsUsageCardSection';\\n\\n// Magic numbers\\nconst marketplaceAppsMaxCountFallback = 5;\\nconst privateAppsMaxCountFallback = 0;\\nconst defaultWarningThreshold = 80;\\n\\ntype AppsUsageCardProps = {\\n\\tprivateAppsLimit?: { value?: number; max: number };\\n\\tmarketplaceAppsLimit?: { value?: number; max: number };\\n};\\n\\nconst AppsUsageCard = ({ privateAppsLimit, marketplaceAppsLimit }: AppsUsageCardProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\n\\tif (!privateAppsLimit || !marketplaceAppsLimit) {\\n\\t\\t// FIXME: not accessible enough\\n\\t\\treturn (\\n\\t\\t\\t<FeatureUsageCard card={{ title: t('Apps') }}>\\n\\t\\t\\t\\t<Skeleton variant='rect' width='x112' height='x112' role='presentation' />\\n\\t\\t\\t</FeatureUsageCard>\\n\\t\\t);\\n\\t}\\n\\n\\tconst marketplaceAppsCount = marketplaceAppsLimit?.value || 0;\\n\\tconst marketplaceAppsMaxCount = marketplaceAppsLimit?.max || marketplaceAppsMaxCountFallback;\\n\\tconst marketplaceAppsPercentage = Math.round((marketplaceAppsCount / marketplaceAppsMaxCount) * 100) || 0;\\n\\tconst marketplaceAppsAboveWarning = marketplaceAppsPercentage >= defaultWarningThreshold;\\n\\n\\tconst privateAppsCount = privateAppsLimit?.value || 0;\\n\\tconst privateAppsMaxCount = privateAppsLimit?.max || privateAppsMaxCountFallback;\\n\\n\\tconst card: CardProps = {\\n\\t\\ttitle: t('Apps'),\\n\\t\\tinfoText: (\\n\\t\\t\\t<Trans\\n\\t\\t\\t\\ti18nKey='Apps_InfoText_limited'\\n\\t\\t\\t\\tvalues={{ marketplaceAppsMaxCount }}\\n\\t\\t\\t\\tcomponents={{ 1: <ExternalLink to={PRICING_LINK}>premium plans</ExternalLink> }}\\n\\t\\t\\t/>\\n\\t\\t),\\n\\n\\t\\t...(marketplaceAppsAboveWarning && {\\n\\t\\t\\tupgradeButton: (\\n\\t\\t\\t\\t<UpgradeButton target='app-usage-card' action='upgrade' small>\\n\\t\\t\\t\\t\\t{t('Upgrade')}\\n\\t\\t\\t\\t</UpgradeButton>\\n\\t\\t\\t),\\n\\t\\t}),\\n\\t};\\n\\n\\treturn (\\n\\t\\t<FeatureUsageCard card={card}>\\n\\t\\t\\t<AppsUsageCardSection\\n\\t\\t\\t\\ttitle={t('Marketplace_apps')}\\n\\t\\t\\t\\tappsCount={marketplaceAppsCount}\\n\\t\\t\\t\\tappsMaxCount={marketplaceAppsMaxCount}\\n\\t\\t\\t\\twarningThreshold={defaultWarningThreshold}\\n\\t\\t\\t/>\\n\\n\\t\\t\\t<AppsUsageCardSection\\n\\t\\t\\t\\ttitle={t('Private_apps')}\\n\\t\\t\\t\\ttip={privateAppsMaxCount === 0 ? t('Private_apps_premium_message') : undefined}\\n\\t\\t\\t\\tappsCount={privateAppsCount}\\n\\t\\t\\t\\tappsMaxCount={privateAppsMaxCount}\\n\\t\\t\\t\\twarningThreshold={defaultWarningThreshold}\\n\\t\\t\\t/>\\n\\t\\t</FeatureUsageCard>\\n\\t);\\n};\\n\\nexport default AppsUsageCard;\\n\",null],\"names\":[\"_objectSpread\",\"Skeleton\",\"ExternalLink\",\"React\",\"Trans\",\"useTranslation\",\"PRICING_LINK\",\"FeatureUsageCard\",\"UpgradeButton\",\"AppsUsageCardSection\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"privateAppsLimit\",\"marketplaceAppsLimit\",\"t\",\"_useTranslation\",\"createElement\",\"card\",\"title\",\"variant\",\"width\",\"height\",\"role\",\"marketplaceAppsCount\",\"value\",\"marketplaceAppsMaxCount\",\"max\",\"privateAppsCount\",\"privateAppsMaxCount\",\"infoText\",\"i18nKey\",\"values\",\"components\",\"to\",\"marketplaceAppsAboveWarning\",\"Math\",\"round\",\"upgradeButton\",\"target\",\"action\",\"small\",\"appsCount\",\"appsMaxCount\",\"warningThreshold\",\"tip\",\"undefined\"],\"mappings\":\"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\"}"}