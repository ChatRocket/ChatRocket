{"code":"function module(e,o,t){let l,n,s,r,a,i,u,d,k,p,m,c,f,h,x,v,b,R,w,C,S;t.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),t.link(\"@rocket.chat/fuselage\",{Box(e){n=e},SidebarV2CollapseGroup(e){s=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useResizeObserver(e){r=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useUserPreference(e){a=e},useUserId(e){i=e}},2),t.link(\"react\",{default(e){u=e},useMemo(e){d=e}},3),t.link(\"react-i18next\",{useTranslation(e){k=e}},4),t.link(\"react-virtuoso\",{GroupedVirtuoso(e){p=e}},5),t.link(\"../../components/CustomScrollbars\",{VirtuosoScrollbars(e){m=e}},6),t.link(\"../../lib/RoomManager\",{useOpenedRoom(e){c=e}},7),t.link(\"../hooks/useAvatarTemplate\",{useAvatarTemplate(e){f=e}},8),t.link(\"../hooks/useCollapsedGroups\",{useCollapsedGroups(e){h=e}},9),t.link(\"../hooks/usePreventDefault\",{usePreventDefault(e){x=e}},10),t.link(\"../hooks/useRoomList\",{useRoomList(e){v=e}},11),t.link(\"../hooks/useShortcutOpenMenu\",{useShortcutOpenMenu(e){b=e}},12),t.link(\"../hooks/useTemplateByViewMode\",{useTemplateByViewMode(e){R=e}},13),t.link(\"./RoomListRow\",{default(e){w=e}},14),t.link(\"./RoomListRowWrapper\",{default(e){C=e}},15),t.link(\"./RoomListWrapper\",{default(e){S=e}},16),t.exportDefault(()=>{var e;let{t:o}=k(),t=!i(),{collapsedGroups:g,handleCollapsedGroups:M}=h(),{groupsCount:T,groupsList:L,roomList:V}=v({collapsedGroups:g}),y=f(),D=R(),{ref:G}=r({debounceDelay:100}),B=null!==(e=c())&&void 0!==e?e:\"\",E=a(\"sidebarViewMode\")||\"extended\",O=\"extended\"===E,A=d(()=>({extended:O,t:o,SidebarItemTemplate:D,AvatarTemplate:y,openedRoom:B,sidebarViewMode:E,isAnonymous:t}),[y,O,t,B,D,E,o]);return x(G),b(G),u.createElement(n,{position:\"relative\",display:\"flex\",overflow:\"hidden\",height:\"full\",flexGrow:1,flexShrink:1,flexBasis:\"auto\",ref:G},u.createElement(p,l({groupCounts:T,groupContent:e=>u.createElement(s,{title:o(L[e]),onClick:()=>M(L[e]),onKeyDown:()=>M(L[e]),expanded:!g.includes(L[e])})},V.length>0&&{itemContent:e=>V[e]&&u.createElement(w,{data:A,item:V[e]})},{components:{Item:C,List:S,Scroller:m}})))})}","map":"{\"version\":3,\"sources\":[\"client/sidebarv2/RoomList/RoomList.tsx\",\"<anon>\"],\"sourcesContent\":[\"/* eslint-disable react/no-multi-comp */\\nimport { Box, SidebarV2CollapseGroup } from '@rocket.chat/fuselage';\\nimport { useResizeObserver } from '@rocket.chat/fuselage-hooks';\\nimport { useUserPreference, useUserId } from '@rocket.chat/ui-contexts';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\nimport { GroupedVirtuoso } from 'react-virtuoso';\\n\\nimport { VirtuosoScrollbars } from '../../components/CustomScrollbars';\\nimport { useOpenedRoom } from '../../lib/RoomManager';\\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\\nimport { useCollapsedGroups } from '../hooks/useCollapsedGroups';\\nimport { usePreventDefault } from '../hooks/usePreventDefault';\\nimport { useRoomList } from '../hooks/useRoomList';\\nimport { useShortcutOpenMenu } from '../hooks/useShortcutOpenMenu';\\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\\nimport RoomListRow from './RoomListRow';\\nimport RoomListRowWrapper from './RoomListRowWrapper';\\nimport RoomListWrapper from './RoomListWrapper';\\n\\nconst RoomList = () => {\\n\\tconst { t } = useTranslation();\\n\\tconst isAnonymous = !useUserId();\\n\\n\\tconst { collapsedGroups, handleCollapsedGroups } = useCollapsedGroups();\\n\\tconst { groupsCount, groupsList, roomList } = useRoomList({ collapsedGroups });\\n\\tconst avatarTemplate = useAvatarTemplate();\\n\\tconst sideBarItemTemplate = useTemplateByViewMode();\\n\\tconst { ref } = useResizeObserver<HTMLElement>({ debounceDelay: 100 });\\n\\tconst openedRoom = useOpenedRoom() ?? '';\\n\\tconst sidebarViewMode = useUserPreference<'extended' | 'medium' | 'condensed'>('sidebarViewMode') || 'extended';\\n\\n\\tconst extended = sidebarViewMode === 'extended';\\n\\tconst itemData = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\textended,\\n\\t\\t\\tt,\\n\\t\\t\\tSidebarItemTemplate: sideBarItemTemplate,\\n\\t\\t\\tAvatarTemplate: avatarTemplate,\\n\\t\\t\\topenedRoom,\\n\\t\\t\\tsidebarViewMode,\\n\\t\\t\\tisAnonymous,\\n\\t\\t}),\\n\\t\\t[avatarTemplate, extended, isAnonymous, openedRoom, sideBarItemTemplate, sidebarViewMode, t],\\n\\t);\\n\\n\\tusePreventDefault(ref);\\n\\tuseShortcutOpenMenu(ref);\\n\\n\\treturn (\\n\\t\\t<Box position='relative' display='flex' overflow='hidden' height='full' flexGrow={1} flexShrink={1} flexBasis='auto' ref={ref}>\\n\\t\\t\\t<GroupedVirtuoso\\n\\t\\t\\t\\tgroupCounts={groupsCount}\\n\\t\\t\\t\\tgroupContent={(index) => (\\n\\t\\t\\t\\t\\t<SidebarV2CollapseGroup\\n\\t\\t\\t\\t\\t\\ttitle={t(groupsList[index])}\\n\\t\\t\\t\\t\\t\\tonClick={() => handleCollapsedGroups(groupsList[index])}\\n\\t\\t\\t\\t\\t\\tonKeyDown={() => handleCollapsedGroups(groupsList[index])}\\n\\t\\t\\t\\t\\t\\texpanded={!collapsedGroups.includes(groupsList[index])}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{...(roomList.length > 0 && {\\n\\t\\t\\t\\t\\titemContent: (index) => roomList[index] && <RoomListRow data={itemData} item={roomList[index]} />,\\n\\t\\t\\t\\t})}\\n\\t\\t\\t\\tcomponents={{ Item: RoomListRowWrapper, List: RoomListWrapper, Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t/>\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default RoomList;\\n\",null],\"names\":[\"_extends\",\"Box\",\"SidebarV2CollapseGroup\",\"useResizeObserver\",\"useUserPreference\",\"useUserId\",\"React\",\"useMemo\",\"useTranslation\",\"GroupedVirtuoso\",\"VirtuosoScrollbars\",\"useOpenedRoom\",\"useAvatarTemplate\",\"useCollapsedGroups\",\"usePreventDefault\",\"useRoomList\",\"useShortcutOpenMenu\",\"useTemplateByViewMode\",\"RoomListRow\",\"RoomListRowWrapper\",\"RoomListWrapper\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"RoomList\",\"_useOpenedRoom\",\"t\",\"isAnonymous\",\"collapsedGroups\",\"handleCollapsedGroups\",\"groupsCount\",\"groupsList\",\"roomList\",\"avatarTemplate\",\"sideBarItemTemplate\",\"ref\",\"debounceDelay\",\"openedRoom\",\"sidebarViewMode\",\"extended\",\"itemData\",\"SidebarItemTemplate\",\"AvatarTemplate\",\"createElement\",\"position\",\"display\",\"overflow\",\"height\",\"flexGrow\",\"flexShrink\",\"flexBasis\",\"groupCounts\",\"groupContent\",\"index\",\"title\",\"onClick\",\"onKeyDown\",\"expanded\",\"includes\",\"length\",\"itemContent\",\"data\",\"item\",\"components\",\"Item\",\"List\",\"Scroller\"],\"mappings\":\"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\"}"}