{"code":"function module(e,l,n){let t,o,i,a,c,r;n.link(\"@rocket.chat/fuselage\",{Banner(e){t=e},Icon(e){o=e}},0),n.link(\"react\",{default(e){i=e},useCallback(e){a=e},useEffect(e){c=e}},1),n.link(\"../../lib/banners\",{\"*\"(e){r=e}},2),n.exportDefault(e=>{let{config:l}=e,{closable:n=!0,title:u,text:s,html:d,icon:f,modifiers:v}=l,m=!(null!=v&&v.includes(\"large\")),C=null!=v&&v.includes(\"danger\")?\"danger\":\"info\";c(()=>{if(!l.timer)return;let e=setTimeout(()=>{var e;null===(e=l.onClose)||void 0===e||e.call(void 0),r.close()},l.timer);return()=>{clearTimeout(e)}},[l.onClose,l.timer]);let b=a(()=>{var e;null===(e=l.action)||void 0===e||e.call(void 0)},[l.action]),g=a(()=>{var e;null===(e=l.onClose)||void 0===e||e.call(void 0),r.close()},[l.onClose]);return i.createElement(t,{inline:m,actionable:!!l.action,closeable:n,icon:f?i.createElement(o,{name:f,size:\"x20\"}):void 0,title:\"function\"==typeof u?u():u,variant:C,onAction:b,onClose:g},\"function\"==typeof s?s():s,d&&i.createElement(\"div\",{dangerouslySetInnerHTML:{__html:\"function\"==typeof d?d():d}}))})}","map":"{\"version\":3,\"sources\":[\"client/views/banners/LegacyBanner.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Banner, Icon } from '@rocket.chat/fuselage';\\nimport React, { useCallback, useEffect } from 'react';\\n\\nimport type { LegacyBannerPayload } from '../../lib/banners';\\nimport * as banners from '../../lib/banners';\\n\\ntype LegacyBannerProps = {\\n\\tconfig: LegacyBannerPayload;\\n};\\n\\nconst LegacyBanner = ({ config }: LegacyBannerProps) => {\\n\\tconst { closable = true, title, text, html, icon, modifiers } = config;\\n\\n\\tconst inline = !modifiers?.includes('large');\\n\\tconst variant = modifiers?.includes('danger') ? 'danger' : 'info';\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!config.timer) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst timer = setTimeout(() => {\\n\\t\\t\\tconfig.onClose?.call(undefined);\\n\\t\\t\\tbanners.close();\\n\\t\\t}, config.timer);\\n\\n\\t\\treturn (): void => {\\n\\t\\t\\tclearTimeout(timer);\\n\\t\\t};\\n\\t}, [config.onClose, config.timer]);\\n\\n\\tconst handleAction = useCallback(() => {\\n\\t\\tconfig.action?.call(undefined);\\n\\t}, [config.action]);\\n\\n\\tconst handleClose = useCallback(() => {\\n\\t\\tconfig.onClose?.call(undefined);\\n\\t\\tbanners.close();\\n\\t}, [config.onClose]);\\n\\n\\treturn (\\n\\t\\t<Banner\\n\\t\\t\\tinline={inline}\\n\\t\\t\\tactionable={!!config.action}\\n\\t\\t\\tcloseable={closable}\\n\\t\\t\\ticon={icon ? <Icon name={icon} size='x20' /> : undefined}\\n\\t\\t\\ttitle={typeof title === 'function' ? title() : title}\\n\\t\\t\\tvariant={variant}\\n\\t\\t\\tonAction={handleAction}\\n\\t\\t\\tonClose={handleClose}\\n\\t\\t>\\n\\t\\t\\t{typeof text === 'function' ? text() : text}\\n\\t\\t\\t{html && <div dangerouslySetInnerHTML={{ __html: typeof html === 'function' ? html() : html }} />}\\n\\t\\t</Banner>\\n\\t);\\n};\\n\\nexport default LegacyBanner;\\n\",null],\"names\":[\"Banner\",\"Icon\",\"React\",\"useCallback\",\"useEffect\",\"banners\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"config\",\"closable\",\"title\",\"text\",\"html\",\"icon\",\"modifiers\",\"inline\",\"includes\",\"variant\",\"timer\",\"setTimeout\",\"_config$onClose\",\"onClose\",\"call\",\"undefined\",\"close\",\"clearTimeout\",\"handleAction\",\"_config$action\",\"action\",\"handleClose\",\"_config$onClose2\",\"createElement\",\"actionable\",\"closeable\",\"name\",\"size\",\"onAction\",\"dangerouslySetInnerHTML\",\"__html\"],\"mappings\":\"2BAAAA,EAASC,EAA4CC,EAAAC,EAAAC,EAAAC,EAAtCC,EAAQC,IAAA,CAAA,wBAA6B,CAACP,OAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,KAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,EAAAL,YAAAK,CAAA,EAAAL,EAAAK,CAAA,EAAAJ,UAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oBAAA,CAAA,IAAAC,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAArDF,EAAOI,aAAU,CAUIC,IAAkC,GAAjC,CAAEC,OAAAA,CAAAA,CAA2B,CAAAD,EAC5C,CAAEE,SAAAA,EAAW,CAAA,CAAI,CAAEC,MAAAA,CAAK,CAAEC,KAAAA,CAAI,CAAEC,KAAAA,CAAI,CAAEC,KAAAA,CAAI,CAAEC,UAAAA,CAAAA,CAAW,CAAGN,EAE1DO,EAAS,CAACD,CAAAA,MAAAA,GAAAA,EAAWE,QAAQ,CAAC,QAAO,EACrCC,EAAUH,MAAAA,GAAAA,EAAWE,QAAQ,CAAC,UAAY,SAAW,OAE3DhB,EAAU,KACT,GAAI,CAACQ,EAAOU,KAAK,CAChB,OAGD,IAAMA,EAAQC,WAAW,KAAK,IAAAC,CAC7B,AAAc,QAAdA,CAAAA,EAAAZ,EAAOa,OAAO,AAAPA,GAAOD,AAAA,KAAA,IAAAA,GAAdA,EAAgBE,IAAI,CAACC,KAAAA,GACrBtB,EAAQuB,KAAK,EACd,EAAGhB,EAAOU,KAAK,EAEf,MAAO,KACNO,aAAaP,EACd,CACD,EAAG,CAACV,EAAOa,OAAO,CAAEb,EAAOU,KAAK,CAAC,EAEjC,IAAMQ,EAAe3B,EAAY,KAAK,IAAA4B,CACrC,AAAa,QAAbA,CAAAA,EAAAnB,EAAOoB,MAAM,AAANA,GAAMD,AAAA,KAAA,IAAAA,GAAbA,EAAeL,IAAI,CAACC,KAAAA,EACrB,EAAG,CAACf,EAAOoB,MAAM,CAAC,EAEZC,EAAc9B,EAAY,KAAK,IAAA+B,CACpC,AAAc,QAAdA,CAAAA,EAAAtB,EAAOa,OAAO,AAAPA,GAAOS,AAAA,KAAA,IAAAA,GAAdA,EAAgBR,IAAI,CAACC,KAAAA,GACrBtB,EAAQuB,KAAK,EACd,EAAG,CAAChB,EAAOa,OAAO,CAAC,EAEnB,OACCvB,EAAAiC,aAAA,CAACnC,EAAM,CACNmB,OAAQA,EACRiB,WAAY,CAAC,CAACxB,EAAOoB,MAAO,CAC5BK,UAAWxB,EACXI,KAAMA,EAAOf,EAAAiC,aAAA,CAAClC,EAAI,CAACqC,KAAMrB,EAAMsB,KAAK,KAAK,GAAMZ,KAAAA,EAC/Cb,MAAO,AAAiB,YAAjB,OAAOA,EAAuBA,IAAUA,EAC/CO,QAASA,EACTmB,SAAUV,EACVL,QAASQ,CAAY,EAEpB,AAAgB,YAAhB,OAAOlB,EAAsBA,IAASA,EACtCC,GAAQd,EAAAiC,aAAA,CAAA,MAAA,CAAKM,wBAAyB,CAAEC,OAAQ,AAAgB,YAAhB,OAAO1B,EAAsBA,IAASA,CAAI,CAAG,GAGjG\"}"}