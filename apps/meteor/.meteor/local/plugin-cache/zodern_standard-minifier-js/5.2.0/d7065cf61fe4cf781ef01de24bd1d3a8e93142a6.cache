{"code":"function module(e,n,t){var o,s,i,a,l,r,u,c,m,d,f,k,g,h,p,R,E,b,v,M,_,C,B,N,x,y,w,T,L,U,A,P,S,F,D,H,I,j,J,G,O,Q,W,z,Y,$,q,K,V,X,Z,ee,en,et,eo,es=[\"innerRef\",\"bubbleRef\",\"listStyle\"];t.link(\"@babel/runtime/helpers/extends\",{default:function(e){o=e}},0),t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){s=e}},1),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){i=e}},2),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){a=e}},3),t.link(\"@rocket.chat/fuselage\",{Box:function(e){l=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMergedRefs:function(e){r=e}},1),t.link(\"@rocket.chat/ui-contexts\",{usePermission:function(e){u=e},useRole:function(e){c=e},useSetting:function(e){m=e},useTranslation:function(e){d=e},useUser:function(e){f=e},useUserPreference:function(e){k=e}},2),t.link(\"react\",{default:function(e){g=e},memo:function(e){h=e},useCallback:function(e){p=e},useMemo:function(e){R=e},useRef:function(e){E=e}},3),t.link(\"../../../../app/models/client\",{RoomRoles:function(e){b=e}},4),t.link(\"../../../../lib/isTruthy\",{isTruthy:function(e){v=e}},5),t.link(\"../../../components/CustomScrollbars\",{CustomScrollbars:function(e){M=e}},6),t.link(\"../../../hooks/useEmbeddedLayout\",{useEmbeddedLayout:function(e){_=e}},7),t.link(\"../../../hooks/useReactiveQuery\",{useReactiveQuery:function(e){C=e}},8),t.link(\"../Announcement\",{default:function(e){B=e}},9),t.link(\"../BubbleDate\",{BubbleDate:function(e){N=e}},10),t.link(\"../MessageList\",{MessageList:function(e){x=e}},11),t.link(\"../MessageList/MessageListErrorBoundary\",{default:function(e){y=e}},12),t.link(\"../composer/ComposerContainer\",{default:function(e){w=e}},13),t.link(\"../composer/RoomComposer/RoomComposer\",{default:function(e){T=e}},14),t.link(\"../contexts/ChatContext\",{useChat:function(e){L=e}},15),t.link(\"../contexts/RoomContext\",{useRoom:function(e){U=e},useRoomSubscription:function(e){A=e},useRoomMessages:function(e){P=e}},16),t.link(\"../contexts/RoomToolboxContext\",{useRoomToolbox:function(e){S=e}},17),t.link(\"../contexts/UserCardContext\",{useUserCard:function(e){F=e}},18),t.link(\"../hooks/useDateScroll\",{useDateScroll:function(e){D=e}},19),t.link(\"../hooks/useMessageListNavigation\",{useMessageListNavigation:function(e){H=e}},20),t.link(\"../hooks/useRetentionPolicy\",{useRetentionPolicy:function(e){I=e}},21),t.link(\"./DropTargetOverlay\",{default:function(e){j=e}},22),t.link(\"./JumpToRecentMessageButton\",{default:function(e){J=e}},23),t.link(\"./LeaderBar\",{default:function(e){G=e}},24),t.link(\"./LoadingMessagesIndicator\",{default:function(e){O=e}},25),t.link(\"./RetentionPolicyWarning\",{default:function(e){Q=e}},26),t.link(\"./RoomForeword/RoomForeword\",{default:function(e){W=e}},27),t.link(\"./UnreadMessagesIndicator\",{default:function(e){z=e}},28),t.link(\"./UploadProgressIndicator\",{default:function(e){Y=e}},29),t.link(\"./hooks/useFileUpload\",{useFileUpload:function(e){$=e}},30),t.link(\"./hooks/useGetMore\",{useGetMore:function(e){q=e}},31),t.link(\"./hooks/useGoToHomeOnRemoved\",{useGoToHomeOnRemoved:function(e){K=e}},32),t.link(\"./hooks/useHasNewMessages\",{useHasNewMessages:function(e){V=e}},33),t.link(\"./hooks/useLeaderBanner\",{useLeaderBanner:function(e){X=e}},34),t.link(\"./hooks/useListIsAtBottom\",{useListIsAtBottom:function(e){Z=e}},35),t.link(\"./hooks/useQuoteMessageByUrl\",{useQuoteMessageByUrl:function(e){ee=e}},36),t.link(\"./hooks/useReadMessageWindowEvents\",{useReadMessageWindowEvents:function(e){en=e}},37),t.link(\"./hooks/useRestoreScrollPosition\",{useRestoreScrollPosition:function(e){et=e}},38),t.link(\"./hooks/useUnreadMessages\",{useHandleUnread:function(e){eo=e}},39),t.exportDefault(h(function(){var e=L();if(!e)throw Error(\"No ChatContext provided\");var n=d(),t=_(),h=U(),ei=f(),ea=S(),el=c(\"admin\"),er=A(),eu=I(h),ec=k(\"hideFlexTab\")||void 0,em=k(\"hideUsernames\"),ed=k(\"displayAvatars\"),ef=P(),ek=ef.hasMorePreviousMessages,eg=ef.hasMoreNextMessages,eh=ef.isLoadingMoreMessages,ep=m(\"Accounts_AllowAnonymousRead\"),eR=u(\"preview-c-room\"),eE=!!er,eb=R(function(){return!!h&&\"c\"!==h.t||!0===ep||!!eR||eE},[ep,eR,h,eE]),ev=m(\"UI_Use_Real_Name\"),eM=E(null),e_=eo(h,er),eC=e_.wrapperRef,eB=e_.innerRef,eN=e_.handleUnreadBarJumpToButtonClick,ex=e_.handleMarkAsReadButtonClick,ey=a(e_.counter,1)[0],ew=D(),eT=ew.innerRef,eL=ew.bubbleRef,eU=ew.listStyle,eA=i(ew,es),eP=Z(),eS=eP.innerRef,eF=eP.atBottomRef,eD=eP.sendToBottom,eH=eP.sendToBottomIfNecessary,eI=eP.isAtBottom,ej=q(h._id,eF).innerRef,eJ=X(),eG=eJ.wrapperRef,eO=eJ.hideLeaderHeader,eQ=eJ.innerRef,eW=$(),ez=eW.uploads,eY=eW.handleUploadFiles,e$=eW.handleUploadProgressClose,eq=a(eW.targeDrop,2),eK=eq[0],eV=eq[1],eX=et(h._id).innerRef,eZ=H().messageListRef,e1=V(h._id,null==ei?void 0:ei._id,eF,{sendToBottom:eD,sendToBottomIfNecessary:eH,isAtBottom:eI}),e2=e1.handleNewMessageButtonClick,e0=e1.handleJumpToRecentButtonClick,e3=e1.handleComposerResize,e4=e1.hasNewMessages,e5=e1.newMessagesScrollRef,e6=r(eT,eM,eX,eS,e5,eQ,eB,ej,eZ),e7=r(eC,eG),e8=p(function(){e.messageEditing.toPreviousMessage()},[e.messageEditing]),e9=p(function(){e.messageEditing.toNextMessage()},[e.messageEditing]),ne=p(function(e){var n=function(e){return!!e&&(!!(e instanceof HTMLButtonElement||\"button\"===e.getAttribute(\"role\")||e instanceof HTMLAnchorElement||\"link\"===e.getAttribute(\"role\"))||n(e.parentElement))};n(e.target)||ea.closeTab()},[ea]),nn=F(),nt=nn.openUserCard,no=nn.triggerProps,ns=p(function(e,n){n&&nt(e,n)},[nt]);K(h,null==ei?void 0:ei._id),en(),ee();var ni=C([\"rooms\",h._id,\"leader\",{not:null==ei?void 0:ei._id}],function(){var e=b.findOne({rid:h._id,roles:\"leader\",\"u._id\":{$ne:null==ei?void 0:ei._id}});return e?s(s({},e.u),{},{name:ev&&e.u.name||e.u.username}):null}).data;return g.createElement(g.Fragment,null,!t&&h.announcement&&g.createElement(B,{announcement:h.announcement,announcementDetails:void 0}),g.createElement(l,{key:h._id,className:[\"main-content-flex\",eU]},g.createElement(\"section\",{role:\"presentation\",className:\"messages-container flex-tab-main-content \"+(el?\"admin\":\"\"),id:\"chat-window-\"+h._id,onClick:ec&&ne},g.createElement(\"div\",{className:\"messages-container-wrapper\"},g.createElement(\"div\",o({className:\"messages-container-main\",ref:e7},eK),g.createElement(j,eV),g.createElement(l,{position:\"absolute\",w:\"full\"},ni?g.createElement(G,{_id:ni._id,username:ni.username,name:ni.name,visible:!eO,onAvatarClick:ns,triggerProps:no}):null,g.createElement(\"div\",{className:[\"container-bars\",ez.length&&\"show\"].filter(v).join(\" \")},ez.map(function(e){return g.createElement(Y,{key:e.id,id:e.id,name:e.name,percentage:e.percentage,error:e.error instanceof Error?e.error.message:void 0,onClose:e$})})),!!ey&&g.createElement(z,{count:ey,onJumpButtonClick:eN,onMarkAsReadButtonClick:ex}),g.createElement(N,o({ref:eL},eA))),g.createElement(\"div\",{className:[\"messages-box\",ni&&!eO&&\"has-leader\"].filter(v).join(\" \")},g.createElement(J,{visible:e4,onClick:e2,text:n(\"New_messages\")}),g.createElement(J,{visible:eg,onClick:e0,text:n(\"Jump_to_recent_messages\")}),eb?null:g.createElement(\"div\",{className:\"content room-not-found error-color\"},g.createElement(\"div\",null,n(\"You_must_join_to_view_messages_in_this_channel\"))),g.createElement(\"div\",{className:[\"wrapper\",eg&&\"has-more-next\",em&&\"hide-usernames\",!ed&&\"hide-avatar\"].filter(v).join(\" \")},g.createElement(y,null,g.createElement(M,{ref:e6},g.createElement(\"ul\",{className:\"messages-list\",\"aria-label\":n(\"Message_list\"),\"aria-busy\":eh},eb?g.createElement(g.Fragment,null,ek?g.createElement(\"li\",{className:\"load-more\"},eh?g.createElement(O,null):null):g.createElement(\"li\",null,g.createElement(W,{user:ei,room:h}),null!=eu&&eu.isActive?g.createElement(Q,{room:h}):null)):null,g.createElement(x,{rid:h._id,messageListRef:eM}),eg?g.createElement(\"li\",{className:\"load-more\"},eh?g.createElement(O,null):null):null))))),g.createElement(T,null,g.createElement(w,{subscription:er,onResize:e3,onNavigateToPreviousMessage:e8,onNavigateToNextMessage:e9,onUploadFiles:eY})))))))}))}","map":"{\"version\":3,\"sources\":[\"client/views/room/body/RoomBody.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IUser } from '@rocket.chat/core-typings';\\nimport { Box } from '@rocket.chat/fuselage';\\nimport { useMergedRefs } from '@rocket.chat/fuselage-hooks';\\nimport { usePermission, useRole, useSetting, useTranslation, useUser, useUserPreference } from '@rocket.chat/ui-contexts';\\nimport type { MouseEventHandler, ReactElement, UIEvent } from 'react';\\nimport React, { memo, useCallback, useMemo, useRef } from 'react';\\n\\nimport { RoomRoles } from '../../../../app/models/client';\\nimport { isTruthy } from '../../../../lib/isTruthy';\\nimport { CustomScrollbars } from '../../../components/CustomScrollbars';\\nimport { useEmbeddedLayout } from '../../../hooks/useEmbeddedLayout';\\nimport { useReactiveQuery } from '../../../hooks/useReactiveQuery';\\nimport Announcement from '../Announcement';\\nimport { BubbleDate } from '../BubbleDate';\\nimport { MessageList } from '../MessageList';\\nimport MessageListErrorBoundary from '../MessageList/MessageListErrorBoundary';\\nimport ComposerContainer from '../composer/ComposerContainer';\\nimport RoomComposer from '../composer/RoomComposer/RoomComposer';\\nimport { useChat } from '../contexts/ChatContext';\\nimport { useRoom, useRoomSubscription, useRoomMessages } from '../contexts/RoomContext';\\nimport { useRoomToolbox } from '../contexts/RoomToolboxContext';\\nimport { useUserCard } from '../contexts/UserCardContext';\\nimport { useDateScroll } from '../hooks/useDateScroll';\\nimport { useMessageListNavigation } from '../hooks/useMessageListNavigation';\\nimport { useRetentionPolicy } from '../hooks/useRetentionPolicy';\\nimport DropTargetOverlay from './DropTargetOverlay';\\nimport JumpToRecentMessageButton from './JumpToRecentMessageButton';\\nimport LeaderBar from './LeaderBar';\\nimport LoadingMessagesIndicator from './LoadingMessagesIndicator';\\nimport RetentionPolicyWarning from './RetentionPolicyWarning';\\nimport RoomForeword from './RoomForeword/RoomForeword';\\nimport UnreadMessagesIndicator from './UnreadMessagesIndicator';\\nimport UploadProgressIndicator from './UploadProgressIndicator';\\nimport { useFileUpload } from './hooks/useFileUpload';\\nimport { useGetMore } from './hooks/useGetMore';\\nimport { useGoToHomeOnRemoved } from './hooks/useGoToHomeOnRemoved';\\nimport { useHasNewMessages } from './hooks/useHasNewMessages';\\nimport { useLeaderBanner } from './hooks/useLeaderBanner';\\nimport { useListIsAtBottom } from './hooks/useListIsAtBottom';\\nimport { useQuoteMessageByUrl } from './hooks/useQuoteMessageByUrl';\\nimport { useReadMessageWindowEvents } from './hooks/useReadMessageWindowEvents';\\nimport { useRestoreScrollPosition } from './hooks/useRestoreScrollPosition';\\nimport { useHandleUnread } from './hooks/useUnreadMessages';\\n\\nconst RoomBody = (): ReactElement => {\\n\\tconst chat = useChat();\\n\\tif (!chat) {\\n\\t\\tthrow new Error('No ChatContext provided');\\n\\t}\\n\\n\\tconst t = useTranslation();\\n\\tconst isLayoutEmbedded = useEmbeddedLayout();\\n\\tconst room = useRoom();\\n\\tconst user = useUser();\\n\\tconst toolbox = useRoomToolbox();\\n\\tconst admin = useRole('admin');\\n\\tconst subscription = useRoomSubscription();\\n\\n\\tconst retentionPolicy = useRetentionPolicy(room);\\n\\n\\tconst hideFlexTab = useUserPreference<boolean>('hideFlexTab') || undefined;\\n\\tconst hideUsernames = useUserPreference<boolean>('hideUsernames');\\n\\tconst displayAvatars = useUserPreference<boolean>('displayAvatars');\\n\\n\\tconst { hasMorePreviousMessages, hasMoreNextMessages, isLoadingMoreMessages } = useRoomMessages();\\n\\n\\tconst allowAnonymousRead = useSetting('Accounts_AllowAnonymousRead') as boolean | undefined;\\n\\n\\tconst canPreviewChannelRoom = usePermission('preview-c-room');\\n\\n\\tconst subscribed = !!subscription;\\n\\n\\tconst canPreview = useMemo(() => {\\n\\t\\tif (room && room.t !== 'c') {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\tif (allowAnonymousRead === true) {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\tif (canPreviewChannelRoom) {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\treturn subscribed;\\n\\t}, [allowAnonymousRead, canPreviewChannelRoom, room, subscribed]);\\n\\n\\tconst useRealName = useSetting('UI_Use_Real_Name') as boolean;\\n\\n\\tconst innerBoxRef = useRef<HTMLDivElement | null>(null);\\n\\n\\tconst {\\n\\t\\twrapperRef: unreadBarWrapperRef,\\n\\t\\tinnerRef: unreadBarInnerRef,\\n\\t\\thandleUnreadBarJumpToButtonClick,\\n\\t\\thandleMarkAsReadButtonClick,\\n\\t\\tcounter: [unread],\\n\\t} = useHandleUnread(room, subscription);\\n\\n\\tconst { innerRef: dateScrollInnerRef, bubbleRef, listStyle, ...bubbleDate } = useDateScroll();\\n\\n\\tconst { innerRef: isAtBottomInnerRef, atBottomRef, sendToBottom, sendToBottomIfNecessary, isAtBottom } = useListIsAtBottom();\\n\\n\\tconst { innerRef: getMoreInnerRef } = useGetMore(room._id, atBottomRef);\\n\\n\\tconst { wrapperRef: leaderBannerWrapperRef, hideLeaderHeader, innerRef: leaderBannerInnerRef } = useLeaderBanner();\\n\\n\\tconst {\\n\\t\\tuploads,\\n\\t\\thandleUploadFiles,\\n\\t\\thandleUploadProgressClose,\\n\\t\\ttargeDrop: [fileUploadTriggerProps, fileUploadOverlayProps],\\n\\t} = useFileUpload();\\n\\n\\tconst { innerRef: restoreScrollPositionInnerRef } = useRestoreScrollPosition(room._id);\\n\\n\\tconst { messageListRef } = useMessageListNavigation();\\n\\n\\tconst { handleNewMessageButtonClick, handleJumpToRecentButtonClick, handleComposerResize, hasNewMessages, newMessagesScrollRef } =\\n\\t\\tuseHasNewMessages(room._id, user?._id, atBottomRef, {\\n\\t\\t\\tsendToBottom,\\n\\t\\t\\tsendToBottomIfNecessary,\\n\\t\\t\\tisAtBottom,\\n\\t\\t});\\n\\n\\tconst innerRef = useMergedRefs(\\n\\t\\tdateScrollInnerRef,\\n\\t\\tinnerBoxRef,\\n\\t\\trestoreScrollPositionInnerRef,\\n\\t\\tisAtBottomInnerRef,\\n\\t\\tnewMessagesScrollRef,\\n\\t\\tleaderBannerInnerRef,\\n\\t\\tunreadBarInnerRef,\\n\\t\\tgetMoreInnerRef,\\n\\n\\t\\tmessageListRef,\\n\\t);\\n\\n\\tconst wrapperBoxRefs = useMergedRefs(unreadBarWrapperRef, leaderBannerWrapperRef);\\n\\n\\tconst handleNavigateToPreviousMessage = useCallback((): void => {\\n\\t\\tchat.messageEditing.toPreviousMessage();\\n\\t}, [chat.messageEditing]);\\n\\n\\tconst handleNavigateToNextMessage = useCallback((): void => {\\n\\t\\tchat.messageEditing.toNextMessage();\\n\\t}, [chat.messageEditing]);\\n\\n\\tconst handleCloseFlexTab: MouseEventHandler<HTMLElement> = useCallback(\\n\\t\\t(e): void => {\\n\\t\\t\\t/*\\n\\t\\t\\t * check if the element is a button or anchor\\n\\t\\t\\t * it considers the role as well\\n\\t\\t\\t * usually, the flex tab is closed when clicking outside of it\\n\\t\\t\\t * but if the user clicks on a button or anchor, we don't want to close the flex tab\\n\\t\\t\\t * because the user could be actually trying to open the flex tab through those elements\\n\\t\\t\\t */\\n\\n\\t\\t\\tconst checkElement = (element: HTMLElement | null): boolean => {\\n\\t\\t\\t\\tif (!element) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (element instanceof HTMLButtonElement || element.getAttribute('role') === 'button') {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (element instanceof HTMLAnchorElement || element.getAttribute('role') === 'link') {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn checkElement(element.parentElement);\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (checkElement(e.target as HTMLElement)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttoolbox.closeTab();\\n\\t\\t},\\n\\t\\t[toolbox],\\n\\t);\\n\\n\\tconst { openUserCard, triggerProps } = useUserCard();\\n\\n\\tconst handleOpenUserCard = useCallback(\\n\\t\\t(event: UIEvent, username: IUser['username']) => {\\n\\t\\t\\tif (!username) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\topenUserCard(event, username);\\n\\t\\t},\\n\\t\\t[openUserCard],\\n\\t);\\n\\n\\tuseGoToHomeOnRemoved(room, user?._id);\\n\\tuseReadMessageWindowEvents();\\n\\tuseQuoteMessageByUrl();\\n\\n\\tconst { data: roomLeader } = useReactiveQuery(['rooms', room._id, 'leader', { not: user?._id }], () => {\\n\\t\\tconst leaderRoomRole = RoomRoles.findOne({\\n\\t\\t\\t'rid': room._id,\\n\\t\\t\\t'roles': 'leader',\\n\\t\\t\\t'u._id': { $ne: user?._id },\\n\\t\\t});\\n\\n\\t\\tif (!leaderRoomRole) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\t...leaderRoomRole.u,\\n\\t\\t\\tname: useRealName ? leaderRoomRole.u.name || leaderRoomRole.u.username : leaderRoomRole.u.username,\\n\\t\\t};\\n\\t});\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{!isLayoutEmbedded && room.announcement && <Announcement announcement={room.announcement} announcementDetails={undefined} />}\\n\\t\\t\\t<Box key={room._id} className={['main-content-flex', listStyle]}>\\n\\t\\t\\t\\t<section\\n\\t\\t\\t\\t\\trole='presentation'\\n\\t\\t\\t\\t\\tclassName={`messages-container flex-tab-main-content ${admin ? 'admin' : ''}`}\\n\\t\\t\\t\\t\\tid={`chat-window-${room._id}`}\\n\\t\\t\\t\\t\\tonClick={hideFlexTab && handleCloseFlexTab}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<div className='messages-container-wrapper'>\\n\\t\\t\\t\\t\\t\\t<div className='messages-container-main' ref={wrapperBoxRefs} {...fileUploadTriggerProps}>\\n\\t\\t\\t\\t\\t\\t\\t<DropTargetOverlay {...fileUploadOverlayProps} />\\n\\t\\t\\t\\t\\t\\t\\t<Box position='absolute' w='full'>\\n\\t\\t\\t\\t\\t\\t\\t\\t{roomLeader ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<LeaderBar\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t_id={roomLeader._id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tusername={roomLeader.username}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname={roomLeader.name}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvisible={!hideLeaderHeader}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonAvatarClick={handleOpenUserCard}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttriggerProps={triggerProps}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t) : null}\\n\\t\\t\\t\\t\\t\\t\\t\\t<div className={['container-bars', uploads.length && 'show'].filter(isTruthy).join(' ')}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{uploads.map((upload) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<UploadProgressIndicator\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tkey={upload.id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={upload.id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname={upload.name}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tpercentage={upload.percentage}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\terror={upload.error instanceof Error ? upload.error.message : undefined}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonClose={handleUploadProgressClose}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t{Boolean(unread) && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<UnreadMessagesIndicator\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcount={unread}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonJumpButtonClick={handleUnreadBarJumpToButtonClick}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonMarkAsReadButtonClick={handleMarkAsReadButtonClick}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<BubbleDate ref={bubbleRef} {...bubbleDate} />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\n\\t\\t\\t\\t\\t\\t\\t<div className={['messages-box', roomLeader && !hideLeaderHeader && 'has-leader'].filter(isTruthy).join(' ')}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<JumpToRecentMessageButton visible={hasNewMessages} onClick={handleNewMessageButtonClick} text={t('New_messages')} />\\n\\t\\t\\t\\t\\t\\t\\t\\t<JumpToRecentMessageButton\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvisible={hasMoreNextMessages}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClick={handleJumpToRecentButtonClick}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttext={t('Jump_to_recent_messages')}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t{!canPreview ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div className='content room-not-found error-color'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div>{t('You_must_join_to_view_messages_in_this_channel')}</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t) : null}\\n\\t\\t\\t\\t\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tclassName={[\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'wrapper',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\thasMoreNextMessages && 'has-more-next',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\thideUsernames && 'hide-usernames',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t!displayAvatars && 'hide-avatar',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t.filter(isTruthy)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t.join(' ')}\\n\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<MessageListErrorBoundary>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<CustomScrollbars ref={innerRef}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul className='messages-list' aria-label={t('Message_list')} aria-busy={isLoadingMoreMessages}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{canPreview ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{hasMorePreviousMessages ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li className='load-more'>{isLoadingMoreMessages ? <LoadingMessagesIndicator /> : null}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<RoomForeword user={user} room={room} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{retentionPolicy?.isActive ? <RetentionPolicyWarning room={room} /> : null}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t) : null}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<MessageList rid={room._id} messageListRef={innerBoxRef} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{hasMoreNextMessages ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li className='load-more'>{isLoadingMoreMessages ? <LoadingMessagesIndicator /> : null}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t) : null}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</CustomScrollbars>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</MessageListErrorBoundary>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<RoomComposer>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ComposerContainer\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tsubscription={subscription}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonResize={handleComposerResize}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonNavigateToPreviousMessage={handleNavigateToPreviousMessage}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonNavigateToNextMessage={handleNavigateToNextMessage}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonUploadFiles={handleUploadFiles}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// TODO: send previewUrls param\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// previewUrls={}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</RoomComposer>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</section>\\n\\t\\t\\t</Box>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default memo(RoomBody);\\n\",null],\"names\":[\"_extends\",\"_objectSpread\",\"_objectWithoutProperties\",\"_slicedToArray\",\"Box\",\"useMergedRefs\",\"usePermission\",\"useRole\",\"useSetting\",\"useTranslation\",\"useUser\",\"useUserPreference\",\"React\",\"memo\",\"useCallback\",\"useMemo\",\"useRef\",\"RoomRoles\",\"isTruthy\",\"CustomScrollbars\",\"useEmbeddedLayout\",\"useReactiveQuery\",\"Announcement\",\"BubbleDate\",\"MessageList\",\"MessageListErrorBoundary\",\"ComposerContainer\",\"RoomComposer\",\"useChat\",\"useRoom\",\"useRoomSubscription\",\"useRoomMessages\",\"useRoomToolbox\",\"useUserCard\",\"useDateScroll\",\"useMessageListNavigation\",\"useRetentionPolicy\",\"DropTargetOverlay\",\"JumpToRecentMessageButton\",\"LeaderBar\",\"LoadingMessagesIndicator\",\"RetentionPolicyWarning\",\"RoomForeword\",\"UnreadMessagesIndicator\",\"UploadProgressIndicator\",\"useFileUpload\",\"useGetMore\",\"useGoToHomeOnRemoved\",\"useHasNewMessages\",\"useLeaderBanner\",\"useListIsAtBottom\",\"useQuoteMessageByUrl\",\"useReadMessageWindowEvents\",\"useRestoreScrollPosition\",\"useHandleUnread\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"chat\",\"Error\",\"t\",\"isLayoutEmbedded\",\"room\",\"user\",\"toolbox\",\"admin\",\"subscription\",\"retentionPolicy\",\"hideFlexTab\",\"undefined\",\"hideUsernames\",\"displayAvatars\",\"_useRoomMessages\",\"hasMorePreviousMessages\",\"hasMoreNextMessages\",\"isLoadingMoreMessages\",\"allowAnonymousRead\",\"canPreviewChannelRoom\",\"subscribed\",\"canPreview\",\"useRealName\",\"innerBoxRef\",\"_useHandleUnread\",\"unreadBarWrapperRef\",\"wrapperRef\",\"unreadBarInnerRef\",\"innerRef\",\"handleUnreadBarJumpToButtonClick\",\"handleMarkAsReadButtonClick\",\"unread\",\"_useHandleUnread$coun\",\"counter\",\"_useDateScroll\",\"dateScrollInnerRef\",\"bubbleRef\",\"listStyle\",\"bubbleDate\",\"_excluded\",\"_useListIsAtBottom\",\"isAtBottomInnerRef\",\"atBottomRef\",\"sendToBottom\",\"sendToBottomIfNecessary\",\"isAtBottom\",\"getMoreInnerRef\",\"_useGetMore\",\"_id\",\"_useLeaderBanner\",\"leaderBannerWrapperRef\",\"hideLeaderHeader\",\"leaderBannerInnerRef\",\"_useFileUpload\",\"uploads\",\"handleUploadFiles\",\"handleUploadProgressClose\",\"_useFileUpload$targeD\",\"targeDrop\",\"fileUploadTriggerProps\",\"fileUploadOverlayProps\",\"restoreScrollPositionInnerRef\",\"_useRestoreScrollPosi\",\"messageListRef\",\"_useMessageListNaviga\",\"_useHasNewMessages\",\"handleNewMessageButtonClick\",\"handleJumpToRecentButtonClick\",\"handleComposerResize\",\"hasNewMessages\",\"newMessagesScrollRef\",\"wrapperBoxRefs\",\"handleNavigateToPreviousMessage\",\"messageEditing\",\"toPreviousMessage\",\"handleNavigateToNextMessage\",\"toNextMessage\",\"handleCloseFlexTab\",\"e\",\"checkElement\",\"element\",\"HTMLButtonElement\",\"getAttribute\",\"HTMLAnchorElement\",\"parentElement\",\"target\",\"closeTab\",\"_useUserCard\",\"openUserCard\",\"triggerProps\",\"handleOpenUserCard\",\"event\",\"username\",\"roomLeader\",\"_useReactiveQuery\",\"not\",\"leaderRoomRole\",\"findOne\",\"$ne\",\"u\",\"name\",\"data\",\"createElement\",\"Fragment\",\"announcement\",\"announcementDetails\",\"key\",\"className\",\"role\",\"id\",\"onClick\",\"ref\",\"position\",\"w\",\"visible\",\"onAvatarClick\",\"length\",\"filter\",\"join\",\"map\",\"upload\",\"percentage\",\"error\",\"message\",\"onClose\",\"Boolean\",\"count\",\"onJumpButtonClick\",\"onMarkAsReadButtonClick\",\"text\",\"isActive\",\"rid\",\"onResize\",\"onNavigateToPreviousMessage\",\"onNavigateToNextMessage\",\"onUploadFiles\"],\"mappings\":\"2BACAA,EAA4CC,EAAAC,EAAAC,EAA5CC,EAA4CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAAC,GAAAC,GAAAC,2CAAhCC,EAAQC,IAAA,CAAA,iCAAwB,CAAAC,QAAA,SAAAC,CAAA,EAAA1D,EAAA0D,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAzD,EAAAyD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iDAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAxD,EAAAwD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAvD,EAAAuD,CAAA,CAAA,EAAA,GAArCH,EAAOC,IAAA,CAAM,wBAAwB,CAAApD,IAAA,SAAAsD,CAAA,EAAAtD,EAAAsD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAnD,cAAA,SAAAqD,CAAA,EAAArD,EAAAqD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAlD,cAAA,SAAAoD,CAAA,EAAApD,EAAAoD,CAAA,EAAAnD,QAAA,SAAAmD,CAAA,EAAAnD,EAAAmD,CAAA,EAAAlD,WAAA,SAAAkD,CAAA,EAAAlD,EAAAkD,CAAA,EAAAjD,eAAA,SAAAiD,CAAA,EAAAjD,EAAAiD,CAAA,EAAAhD,QAAA,SAAAgD,CAAA,EAAAhD,EAAAgD,CAAA,EAAA/C,kBAAA,SAAA+C,CAAA,EAAA/C,EAAA+C,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAA9C,EAAA8C,CAAA,EAAA7C,KAAA,SAAA6C,CAAA,EAAA7C,EAAA6C,CAAA,EAAA5C,YAAA,SAAA4C,CAAA,EAAA5C,EAAA4C,CAAA,EAAA3C,QAAA,SAAA2C,CAAA,EAAA3C,EAAA2C,CAAA,EAAA1C,OAAA,SAAA0C,CAAA,EAAA1C,EAAA0C,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAAvC,UAAA,SAAAyC,CAAA,EAAAzC,EAAAyC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAtC,SAAA,SAAAwC,CAAA,EAAAxC,EAAAwC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAArC,iBAAA,SAAAuC,CAAA,EAAAvC,EAAAuC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,mCAAA,CAAApC,kBAAA,SAAAsC,CAAA,EAAAtC,EAAAsC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAnC,iBAAA,SAAAqC,CAAA,EAAArC,EAAAqC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kBAAA,CAAA,QAAA,SAAAE,CAAA,EAAApC,EAAAoC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAjC,WAAA,SAAAmC,CAAA,EAAAnC,EAAAmC,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,iBAAA,CAAAhC,YAAA,SAAAkC,CAAA,EAAAlC,EAAAkC,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,0CAAA,CAAA,QAAA,SAAAE,CAAA,EAAAjC,EAAAiC,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAA,QAAA,SAAAE,CAAA,EAAAhC,EAAAgC,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,wCAAA,CAAA,QAAA,SAAAE,CAAA,EAAA/B,EAAA+B,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAA5B,QAAA,SAAA8B,CAAA,EAAA9B,EAAA8B,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAA3B,QAAA,SAAA6B,CAAA,EAAA7B,EAAA6B,CAAA,EAAA5B,oBAAA,SAAA4B,CAAA,EAAA5B,EAAA4B,CAAA,EAAA3B,gBAAA,SAAA2B,CAAA,EAAA3B,EAAA2B,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAxB,eAAA,SAAA0B,CAAA,EAAA1B,EAAA0B,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAvB,YAAA,SAAAyB,CAAA,EAAAzB,EAAAyB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,yBAAA,CAAAtB,cAAA,SAAAwB,CAAA,EAAAxB,EAAAwB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,oCAAA,CAAArB,yBAAA,SAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAApB,mBAAA,SAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,sBAAA,CAAA,QAAA,SAAAE,CAAA,EAAArB,EAAAqB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAA,QAAA,SAAAE,CAAA,EAAApB,EAAAoB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,cAAA,CAAA,QAAA,SAAAE,CAAA,EAAAnB,EAAAmB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,6BAAA,CAAA,QAAA,SAAAE,CAAA,EAAAlB,EAAAkB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAA,QAAA,SAAAE,CAAA,EAAAjB,EAAAiB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAA,QAAA,SAAAE,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAA,QAAA,SAAAE,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAA,QAAA,SAAAE,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAX,cAAA,SAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,qBAAA,CAAAV,WAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,+BAAA,CAAAT,qBAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAAR,kBAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAAP,gBAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAAN,kBAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,+BAAA,CAAAL,qBAAA,SAAAO,CAAA,EAAAP,GAAAO,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,qCAAA,CAAAJ,2BAAA,SAAAM,CAAA,EAAAN,GAAAM,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,mCAAA,CAAAH,yBAAA,SAAAK,CAAA,EAAAL,GAAAK,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,4BAAA,CAAAF,gBAAA,SAAAI,CAAA,EAAAJ,GAAAI,CAAA,CAAA,EAAA,IAA5CH,EAAOI,aAAa,CAsUL9C,EA3RE,WAChB,IAAM+C,EAAOhC,IACb,GAAI,CAACgC,EACJ,MAAM,AAAIC,MAAM,2BAGjB,IAAMC,EAAIrD,IACJsD,EAAmB3C,IACnB4C,EAAOnC,IACPoC,GAAOvD,IACPwD,GAAUlC,IACVmC,GAAQ5D,EAAQ,SAChB6D,GAAetC,IAEfuC,GAAkBjC,EAAmB4B,GAErCM,GAAc3D,EAA2B,gBAAkB4D,KAAAA,EAC3DC,GAAgB7D,EAA2B,iBAC3C8D,GAAiB9D,EAA2B,kBAElD+D,GAAgF3C,IAAxE4C,GAAuBD,GAAvBC,uBAAuB,CAAEC,GAAmBF,GAAnBE,mBAAmB,CAAEC,GAAqBH,GAArBG,qBAAqB,CAErEC,GAAqBtE,EAAW,+BAEhCuE,GAAwBzE,EAAc,kBAEtC0E,GAAa,CAAC,CAACZ,GAEfa,GAAalE,EAAQ,iBAC1B,EAAIiD,GAAQA,AAAW,MAAXA,EAAKF,CAAC,EAIdgB,AAAuB,CAAA,IAAvBA,MAIAC,IAIGC,EACR,EAAG,CAACF,GAAoBC,GAAuBf,EAAMgB,GAAW,EAE1DE,GAAc1E,EAAW,oBAEzB2E,GAAcnE,EAA8B,MAElDoE,GAMI9B,GAAgBU,EAAMI,IALbiB,GAAmBD,GAA/BE,UAAU,CACAC,GAAiBH,GAA3BI,QAAQ,CACRC,GAAgCL,GAAhCK,gCAAgC,CAChCC,GAA2BN,GAA3BM,2BAA2B,CACjBC,GAAMC,AADWzF,EAAAiF,GAC3BS,OAAO,CAAA,EAAS,CAAA,EAAA,CAGjBC,GAA8E5D,IAA5D6D,GAAkBD,GAA5BN,QAAQ,CAAsBQ,GAASF,GAATE,SAAS,CAAEC,GAASH,GAATG,SAAS,CAAKC,GAAUhG,EAAA4F,GAAAK,IAEzEC,GAAyGlD,IAAvFmD,GAAkBD,GAA5BZ,QAAQ,CAAsBc,GAAWF,GAAXE,WAAW,CAAEC,GAAYH,GAAZG,YAAY,CAAEC,GAAuBJ,GAAvBI,uBAAuB,CAAEC,GAAUL,GAAVK,UAAU,CAElFC,GAAeC,AAAK7D,EAAWkB,EAAK4C,GAAG,CAAEN,IAAnDd,QAAQ,CAEhBqB,GAAiG5D,IAA7E6D,GAAsBD,GAAlCvB,UAAU,CAA0ByB,GAAgBF,GAAhBE,gBAAgB,CAAYC,GAAoBH,GAA9BrB,QAAQ,CAEtEyB,GAKIpE,IAJHqE,GAAOD,GAAPC,OAAO,CACPC,GAAiBF,GAAjBE,iBAAiB,CACjBC,GAAyBH,GAAzBG,yBAAyB,CAAAC,GAAAlH,EAAA8G,GACzBK,SAAS,CAAA,GAAGC,GAAsBF,EAAA,CAAA,EAAA,CAAEG,GAAsBH,EAAA,CAAA,EAAA,CAGzCI,GAA6BC,AAAKrE,GAAyBW,EAAK4C,GAAG,EAA7EpB,QAAQ,CAERmC,GAAcC,AAAKzF,IAAnBwF,cAAc,CAEtBE,GACC7E,EAAkBgB,EAAK4C,GAAG,CAAE3C,MAAAA,GAAI,KAAA,EAAJA,GAAM2C,GAAG,CAAEN,GAAa,CACnDC,aAAAA,GACAC,wBAAAA,GACAC,WAAAA,KAJMqB,GAA2BD,GAA3BC,2BAA2B,CAAEC,GAA6BF,GAA7BE,6BAA6B,CAAEC,GAAoBH,GAApBG,oBAAoB,CAAEC,GAAcJ,GAAdI,cAAc,CAAEC,GAAoBL,GAApBK,oBAAoB,CAOxH1C,GAAWnF,EAChB0F,GACAZ,GACAsC,GACApB,GACA6B,GACAlB,GACAzB,GACAmB,GAEAiB,IAGKQ,GAAiB9H,EAAcgF,GAAqByB,IAEpDsB,GAAkCtH,EAAY,WACnD8C,EAAKyE,cAAc,CAACC,iBAAiB,EACtC,EAAG,CAAC1E,EAAKyE,cAAc,CAAC,EAElBE,GAA8BzH,EAAY,WAC/C8C,EAAKyE,cAAc,CAACG,aAAa,EAClC,EAAG,CAAC5E,EAAKyE,cAAc,CAAC,EAElBI,GAAqD3H,EAC1D,SAAC4H,CAAC,EASD,IAAMC,EAAe,SAACC,CAA2B,QAChD,EAAKA,OAGDA,aAAmBC,mBAAqBD,AAAiC,WAAjCA,EAAQE,YAAY,CAAC,SAG7DF,aAAmBG,mBAAqBH,AAAiC,SAAjCA,EAAQE,YAAY,CAAC,UAG1DH,EAAaC,EAAQI,aAAa,EAC1C,EAEIL,EAAaD,EAAEO,MAAqB,GAIxC/E,GAAQgF,QAAQ,EACjB,EACA,CAAChF,GAAQ,EAGViF,GAAuClH,IAA/BmH,GAAYD,GAAZC,YAAY,CAAEC,GAAYF,GAAZE,YAAY,CAE5BC,GAAqBxI,EAC1B,SAACyI,CAAc,CAAEC,CAA2B,EACtCA,GAILJ,GAAaG,EAAOC,EACrB,EACA,CAACJ,GAAa,EAGfrG,EAAqBiB,EAAMC,MAAAA,GAAI,KAAA,EAAJA,GAAM2C,GAAG,EACpCxD,KACAD,KAEA,IAAcsG,GAAUC,AAAKrI,EAAiB,CAAC,QAAS2C,EAAK4C,GAAG,CAAE,SAAU,CAAE+C,IAAK1F,MAAAA,GAAI,KAAA,EAAJA,GAAM2C,GAAAA,AAAG,EAAG,CAAE,WAChG,IAAMgD,EAAiB3I,EAAU4I,OAAO,CAAC,CACxC,IAAO7F,EAAK4C,GAAG,CACf,MAAS,SACT,QAAS,CAAEkD,IAAK7F,MAAAA,GAAI,KAAA,EAAJA,GAAM2C,GAAAA,AAAG,WAG1B,AAAKgD,EAIL3J,EAAAA,EAAA,CAAA,EACI2J,EAAeG,CAAC,EAAA,CAAA,EAAA,CACnBC,KAAM9E,IAAc0E,EAAeG,CAAC,CAACC,IAAI,EAAIJ,EAAeG,CAAC,CAACP,QAAQ,AAA4B,GAL3F,IAOT,GAfQS,IAAI,CAiBZ,OACCrJ,EAAAsJ,aAAA,CAAAtJ,EAAAuJ,QAAA,CAAA,KACE,CAACpG,GAAoBC,EAAKoG,YAAY,EAAIxJ,EAAAsJ,aAAA,CAAC5I,EAAY,CAAC8I,aAAcpG,EAAKoG,YAAa,CAACC,oBAAqB9F,KAAAA,CAAU,GACzH3D,EAAAsJ,aAAA,CAAC9J,EAAG,CAACkK,IAAKtG,EAAK4C,GAAI,CAAC2D,UAAW,CAAC,oBAAqBtE,GAAS,AAAE,EAC/DrF,EAAAsJ,aAAA,CAAA,UAAA,CACCM,KAAK,eACLD,UAAS,4CAA8CpG,CAAAA,GAAQ,QAAU,EAAA,EACzEsG,GAAE,eAAiBzG,EAAK4C,GAAM,CAC9B8D,QAASpG,IAAemE,EAAmB,EAE3C7H,EAAAsJ,aAAA,CAAA,MAAA,CAAKK,UAAU,4BAA4B,EAC1C3J,EAAAsJ,aAAA,CAAA,MAAAlK,EAAA,CAAKuK,UAAU,0BAA0BI,IAAKxC,EAAe,EAAKZ,IACjE3G,EAAAsJ,aAAA,CAAC7H,EAAsBmF,IACvB5G,EAAAsJ,aAAA,CAAC9J,EAAG,CAACwK,SAAS,WAAWC,EAAE,MAAM,EAC/BpB,GACA7I,EAAAsJ,aAAA,CAAC3H,EAAS,CACTqE,IAAK6C,GAAW7C,GAAI,CACpB4C,SAAUC,GAAWD,QAAS,CAC9BQ,KAAMP,GAAWO,IAAK,CACtBc,QAAS,CAAC/D,GACVgE,cAAezB,GACfD,aAAcA,EAAa,GAEzB,KACJzI,EAAAsJ,aAAA,CAAA,MAAA,CAAKK,UAAW,CAAC,iBAAkBrD,GAAQ8D,MAAM,EAAI,OAAO,CAACC,MAAM,CAAC/J,GAAUgK,IAAI,CAAC,IAAK,EACtFhE,GAAQiE,GAAG,CAAC,SAACC,CAAM,EAAA,OACnBxK,EAAAsJ,aAAA,CAACtH,EAAuB,CACvB0H,IAAKc,EAAOX,EAAG,CACfA,GAAIW,EAAOX,EAAG,CACdT,KAAMoB,EAAOpB,IAAK,CAClBqB,WAAYD,EAAOC,UAAW,CAC9BC,MAAOF,EAAOE,KAAK,YAAYzH,MAAQuH,EAAOE,KAAK,CAACC,OAAO,CAAGhH,KAAAA,EAC9DiH,QAASpE,EAA0B,EAClC,IAGHqE,CAAAA,CAAQ9F,IACR/E,EAAAsJ,aAAA,CAACvH,EAAuB,CACvB+I,MAAO/F,GACPgG,kBAAmBlG,GACnBmG,wBAAyBlG,EAA4B,GAIvD9E,EAAAsJ,aAAA,CAAC3I,EAAUvB,EAAA,CAAC2K,IAAK3E,EAAU,EAAKE,MAGjCtF,EAAAsJ,aAAA,CAAA,MAAA,CAAKK,UAAW,CAAC,eAAgBd,IAAc,CAAC1C,IAAoB,aAAa,CAACkE,MAAM,CAAC/J,GAAUgK,IAAI,CAAC,IAAK,EAC5GtK,EAAAsJ,aAAA,CAAC5H,EAAyB,CAACwI,QAAS7C,GAAgByC,QAAS5C,GAA6B+D,KAAM/H,EAAE,eAAgB,GAClHlD,EAAAsJ,aAAA,CAAC5H,EAAyB,CACzBwI,QAASlG,GACT8F,QAAS3C,GACT8D,KAAM/H,EAAE,0BAA2B,GAEnC,AAACmB,GAIE,KAHHrE,EAAAsJ,aAAA,CAAA,MAAA,CAAKK,UAAU,oCAAoC,EAClD3J,EAAAsJ,aAAA,CAAA,MAAA,KAAMpG,EAAE,oDAGVlD,EAAAsJ,aAAA,CAAA,MAAA,CACCK,UAAW,CACV,UACA3F,IAAuB,gBACvBJ,IAAiB,iBACjB,CAACC,IAAkB,cACnB,CACCwG,MAAM,CAAC/J,GACPgK,IAAI,CAAC,IAAK,EAEZtK,EAAAsJ,aAAA,CAACzI,EAAwB,KACxBb,EAAAsJ,aAAA,CAAC/I,EAAgB,CAACwJ,IAAKnF,EAAS,EAC/B5E,EAAAsJ,aAAA,CAAA,KAAA,CAAIK,UAAU,gBAAgB,aAAYzG,EAAE,gBAAiB,YAAWe,EAAsB,EAC5FI,GACArE,EAAAsJ,aAAA,CAAAtJ,EAAAuJ,QAAA,CAAA,KACExF,GACA/D,EAAAsJ,aAAA,CAAA,KAAA,CAAIK,UAAU,WAAW,EAAE1F,GAAwBjE,EAAAsJ,aAAA,CAAC1H,EAAwB,MAAM,MAElF5B,EAAAsJ,aAAA,CAAA,KAAA,KACCtJ,EAAAsJ,aAAA,CAACxH,EAAY,CAACuB,KAAMA,GAAMD,KAAMA,CAAK,GACpCK,MAAAA,IAAAA,GAAiByH,QAAQ,CAAGlL,EAAAsJ,aAAA,CAACzH,EAAsB,CAACuB,KAAMA,CAAK,GAAM,OAItE,KACJpD,EAAAsJ,aAAA,CAAC1I,EAAW,CAACuK,IAAK/H,EAAK4C,GAAI,CAACe,eAAgBxC,EAAY,GACvDP,GACAhE,EAAAsJ,aAAA,CAAA,KAAA,CAAIK,UAAU,WAAW,EAAE1F,GAAwBjE,EAAAsJ,aAAA,CAAC1H,EAAwB,MAAM,MAC/E,UAMT5B,EAAAsJ,aAAA,CAACvI,EAAY,KACZf,EAAAsJ,aAAA,CAACxI,EAAiB,CACjB0C,aAAcA,GACd4H,SAAUhE,GACViE,4BAA6B7D,GAC7B8D,wBAAyB3D,GACzB4D,cAAehF,EAAkB,QAW1C\"}"}