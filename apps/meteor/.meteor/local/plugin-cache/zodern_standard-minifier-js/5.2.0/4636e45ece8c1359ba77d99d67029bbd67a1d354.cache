{"code":"function module(e,n,t){var o,l,i,a,c,r,u,f,s,m,d,C,x,k,E,p,h,b,v,g,w,I,S,y;t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},Button:function(e){l=e},ButtonGroup:function(e){i=e},ContextualbarEmptyContent:function(e){a=e},Icon:function(e){c=e},Margins:function(e){r=e},Select:function(e){u=e},TextInput:function(e){f=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useAutoFocus:function(e){s=e},useResizeObserver:function(e){m=e}},1),t.link(\"react\",{default:function(e){d=e},memo:function(e){C=e}},2),t.link(\"react-i18next\",{useTranslation:function(e){x=e}},3),t.link(\"react-virtuoso\",{Virtuoso:function(e){k=e}},4),t.link(\"../../../../components/Contextualbar\",{ContextualbarHeader:function(e){E=e},ContextualbarTitle:function(e){p=e},ContextualbarClose:function(e){h=e},ContextualbarContent:function(e){b=e},ContextualbarInnerContent:function(e){v=e},ContextualbarFooter:function(e){g=e}},5),t.link(\"../../../../components/CustomScrollbars\",{VirtuosoScrollbars:function(e){w=e}},6),t.link(\"../../../../views/room/contexts/RoomToolboxContext\",{useRoomToolbox:function(e){I=e}},7),t.link(\"./Item\",{default:function(e){S=e}},8),t.link(\"./WrapCannedResponse\",{default:function(e){y=e}},9),t.exportDefault(C(function(e){var n=e.loadMoreItems,t=e.cannedItems,C=e.itemCount,R=e.onClose,T=e.loading,B=e.options,U=e.text,z=e.setText,D=e.type,M=e.setType,_=e.isRoomOverMacLimit,F=e.onClickItem,G=e.onClickCreate,O=e.onClickUse,V=e.reload,A=x().t,H=s(!0),L=I().context,N=m({debounceDelay:200}),W=N.ref,j=N.contentBoxSize,q=(j=void 0===j?{}:j).inlineSize,J=t.find(function(e){return e._id===L});return d.createElement(d.Fragment,null,d.createElement(E,null,d.createElement(p,null,A(\"Canned_Responses\")),d.createElement(h,{onClick:R})),d.createElement(b,{paddingInline:0,ref:W},d.createElement(o,{display:\"flex\",flexDirection:\"row\",p:24,flexShrink:0},d.createElement(o,{display:\"flex\",flexDirection:\"row\",flexGrow:1,mi:\"neg-x4\"},d.createElement(r,{inline:4},d.createElement(f,{placeholder:A(\"Search\"),value:U,onChange:z,addon:d.createElement(c,{name:\"magnifier\",size:\"x20\"}),ref:H}),d.createElement(o,{w:\"x144\"},d.createElement(u,{onChange:function(e){return M(String(e))},value:D,options:B}))))),0===C&&d.createElement(a,{title:A(\"No_Canned_Responses\")}),C>0&&t.length>0&&d.createElement(o,{flexGrow:1,flexShrink:1,overflow:\"hidden\",display:\"flex\"},d.createElement(k,{style:{width:void 0===q?378:q},totalCount:C,endReached:T?void 0:function(e){return n(e,Math.min(25,C-e))},overscan:25,data:t,components:{Scroller:w},itemContent:function(e,n){return d.createElement(S,{data:n,allowUse:!_,onClickItem:function(){F(n)},onClickUse:O})}}))),J&&d.createElement(v,null,d.createElement(y,{allowUse:!_,cannedItem:J,onClickBack:F,onClickUse:O,reload:V})),d.createElement(g,null,d.createElement(i,{stretch:!0},d.createElement(l,{onClick:G},A(\"Create\")))))}))}","map":"{\"version\":3,\"sources\":[\"client/omnichannel/cannedResponses/contextualBar/CannedResponse/CannedResponseList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatDepartment, IOmnichannelCannedResponse } from '@rocket.chat/core-typings';\\nimport { Box, Button, ButtonGroup, ContextualbarEmptyContent, Icon, Margins, Select, TextInput } from '@rocket.chat/fuselage';\\nimport { useAutoFocus, useResizeObserver } from '@rocket.chat/fuselage-hooks';\\nimport type { Dispatch, FormEventHandler, MouseEvent, ReactElement, SetStateAction } from 'react';\\nimport React, { memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\nimport { Virtuoso } from 'react-virtuoso';\\n\\nimport {\\n\\tContextualbarHeader,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarContent,\\n\\tContextualbarInnerContent,\\n\\tContextualbarFooter,\\n} from '../../../../components/Contextualbar';\\nimport { VirtuosoScrollbars } from '../../../../components/CustomScrollbars';\\nimport { useRoomToolbox } from '../../../../views/room/contexts/RoomToolboxContext';\\nimport Item from './Item';\\nimport WrapCannedResponse from './WrapCannedResponse';\\n\\ntype CannedResponseListProps = {\\n\\tloadMoreItems: (start: number, end: number) => void;\\n\\tcannedItems: (IOmnichannelCannedResponse & { departmentName: ILivechatDepartment['name'] })[];\\n\\titemCount: number;\\n\\tonClose: any;\\n\\tloading: boolean;\\n\\toptions: [string, string][];\\n\\ttext: string;\\n\\tsetText: FormEventHandler<HTMLOrSVGElement>;\\n\\ttype: string;\\n\\tsetType: Dispatch<SetStateAction<string>>;\\n\\tisRoomOverMacLimit: boolean;\\n\\tonClickItem: (data: any) => void;\\n\\tonClickCreate: (e: MouseEvent<HTMLOrSVGElement>) => void;\\n\\tonClickUse: (e: MouseEvent<HTMLOrSVGElement>, text: string) => void;\\n\\treload: () => void;\\n};\\n\\nconst CannedResponseList = ({\\n\\tloadMoreItems,\\n\\tcannedItems,\\n\\titemCount,\\n\\tonClose,\\n\\tloading,\\n\\toptions,\\n\\ttext,\\n\\tsetText,\\n\\ttype,\\n\\tsetType,\\n\\tisRoomOverMacLimit,\\n\\tonClickItem,\\n\\tonClickCreate,\\n\\tonClickUse,\\n\\treload,\\n}: CannedResponseListProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst inputRef = useAutoFocus<HTMLInputElement>(true);\\n\\n\\tconst { context: cannedId } = useRoomToolbox();\\n\\n\\tconst { ref, contentBoxSize: { inlineSize = 378 } = {} } = useResizeObserver<HTMLElement>({\\n\\t\\tdebounceDelay: 200,\\n\\t});\\n\\n\\tconst cannedItem = cannedItems.find((canned) => canned._id === cannedId);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Canned_Responses')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={onClose} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\n\\t\\t\\t<ContextualbarContent paddingInline={0} ref={ref}>\\n\\t\\t\\t\\t<Box display='flex' flexDirection='row' p={24} flexShrink={0}>\\n\\t\\t\\t\\t\\t<Box display='flex' flexDirection='row' flexGrow={1} mi='neg-x4'>\\n\\t\\t\\t\\t\\t\\t<Margins inline={4}>\\n\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Search')}\\n\\t\\t\\t\\t\\t\\t\\t\\tvalue={text}\\n\\t\\t\\t\\t\\t\\t\\t\\tonChange={setText}\\n\\t\\t\\t\\t\\t\\t\\t\\taddon={<Icon name='magnifier' size='x20' />}\\n\\t\\t\\t\\t\\t\\t\\t\\tref={inputRef}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t<Box w='x144'>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Select onChange={(value) => setType(String(value))} value={type} options={options} />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Margins>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t{itemCount === 0 && <ContextualbarEmptyContent title={t('No_Canned_Responses')} />}\\n\\t\\t\\t\\t{itemCount > 0 && cannedItems.length > 0 && (\\n\\t\\t\\t\\t\\t<Box flexGrow={1} flexShrink={1} overflow='hidden' display='flex'>\\n\\t\\t\\t\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\t\\t\\t\\tstyle={{ width: inlineSize }}\\n\\t\\t\\t\\t\\t\\t\\ttotalCount={itemCount}\\n\\t\\t\\t\\t\\t\\t\\tendReached={loading ? undefined : (start): void => loadMoreItems(start, Math.min(25, itemCount - start))}\\n\\t\\t\\t\\t\\t\\t\\toverscan={25}\\n\\t\\t\\t\\t\\t\\t\\tdata={cannedItems}\\n\\t\\t\\t\\t\\t\\t\\tcomponents={{\\n\\t\\t\\t\\t\\t\\t\\t\\tScroller: VirtuosoScrollbars,\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\titemContent={(_index, data): ReactElement => (\\n\\t\\t\\t\\t\\t\\t\\t\\t<Item\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata={data}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tallowUse={!isRoomOverMacLimit}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClickItem={(): void => {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonClickItem(data);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClickUse={onClickUse}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</ContextualbarContent>\\n\\n\\t\\t\\t{cannedItem && (\\n\\t\\t\\t\\t<ContextualbarInnerContent>\\n\\t\\t\\t\\t\\t<WrapCannedResponse\\n\\t\\t\\t\\t\\t\\tallowUse={!isRoomOverMacLimit}\\n\\t\\t\\t\\t\\t\\tcannedItem={cannedItem}\\n\\t\\t\\t\\t\\t\\tonClickBack={onClickItem}\\n\\t\\t\\t\\t\\t\\tonClickUse={onClickUse}\\n\\t\\t\\t\\t\\t\\treload={reload}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</ContextualbarInnerContent>\\n\\t\\t\\t)}\\n\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t<Button onClick={onClickCreate}>{t('Create')}</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default memo(CannedResponseList);\\n\",null],\"names\":[\"Box\",\"Button\",\"ButtonGroup\",\"ContextualbarEmptyContent\",\"Icon\",\"Margins\",\"Select\",\"TextInput\",\"useAutoFocus\",\"useResizeObserver\",\"React\",\"memo\",\"useTranslation\",\"Virtuoso\",\"ContextualbarHeader\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarContent\",\"ContextualbarInnerContent\",\"ContextualbarFooter\",\"VirtuosoScrollbars\",\"useRoomToolbox\",\"Item\",\"WrapCannedResponse\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"loadMoreItems\",\"cannedItems\",\"itemCount\",\"onClose\",\"loading\",\"options\",\"text\",\"setText\",\"type\",\"setType\",\"isRoomOverMacLimit\",\"onClickItem\",\"onClickCreate\",\"onClickUse\",\"reload\",\"t\",\"_useTranslation\",\"inputRef\",\"cannedId\",\"_useRoomToolbox\",\"context\",\"_useResizeObserver\",\"debounceDelay\",\"ref\",\"_useResizeObserver$co\",\"contentBoxSize\",\"_useResizeObserver$co2\",\"inlineSize\",\"cannedItem\",\"find\",\"canned\",\"_id\",\"createElement\",\"Fragment\",\"onClick\",\"paddingInline\",\"display\",\"flexDirection\",\"p\",\"flexShrink\",\"flexGrow\",\"mi\",\"inline\",\"placeholder\",\"value\",\"onChange\",\"addon\",\"name\",\"size\",\"w\",\"String\",\"title\",\"length\",\"overflow\",\"style\",\"width\",\"totalCount\",\"endReached\",\"undefined\",\"start\",\"Math\",\"min\",\"overscan\",\"data\",\"components\",\"Scroller\",\"itemContent\",\"_index\",\"allowUse\",\"onClickBack\",\"stretch\"],\"mappings\":\"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\"}"}