{"code":"function module(e,n,t){var a,l,r,i,o,u,s,c,m,d,f,g,h,v,p,E,_,b,w,C,F,T,k,x,D,S,M,I,R,q,O,y,N,A,L,B,P,H,Q,W,G,V,j,z,U,J,K,X,Y,Z,$=[\"label\"];function ee(e,n){return e||n}t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){a=e}},0),t.link(\"@babel/runtime/regenerator\",{default:function(e){l=e}},1),t.link(\"@babel/runtime/helpers/extends\",{default:function(e){r=e}},2),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){i=e}},3),t.link(\"@rocket.chat/fuselage\",{FieldGroup:function(e){o=e},Field:function(e){u=e},FieldLabel:function(e){s=e},FieldRow:function(e){c=e},FieldError:function(e){m=e},TextInput:function(e){d=e},Box:function(e){f=e},Icon:function(e){g=e},Divider:function(e){h=e},ToggleSwitch:function(e){v=e},TextAreaInput:function(e){p=e},ButtonGroup:function(e){E=e},Button:function(e){_=e},PaginatedSelectFiltered:function(e){b=e},FieldHint:function(e){w=e},Option:function(e){C=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue:function(e){F=e},useMutableCallback:function(e){T=e},useUniqueId:function(e){k=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){x=e},useMethod:function(e){D=e},useEndpoint:function(e){S=e},useTranslation:function(e){M=e},useRouter:function(e){I=e}},2),t.link(\"@tanstack/react-query\",{useQueryClient:function(e){R=e}},3),t.link(\"react\",{default:function(e){q=e},useMemo:function(e){O=e},useState:function(e){y=e}},4),t.link(\"react-hook-form\",{Controller:function(e){N=e},useForm:function(e){A=e}},5),t.link(\"../../../../lib/emailValidator\",{validateEmail:function(e){L=e}},6),t.link(\"../../../components/AutoCompleteDepartment\",{default:function(e){B=e}},7),t.link(\"../../../components/Page\",{Page:function(e){P=e},PageHeader:function(e){H=e},PageScrollableContentWithShadow:function(e){Q=e}},8),t.link(\"../../../hooks/lists/useRecordList\",{useRecordList:function(e){W=e}},9),t.link(\"../../../hooks/useHasLicenseModule\",{useHasLicenseModule:function(e){G=e}},10),t.link(\"../../../hooks/useRoomsList\",{useRoomsList:function(e){V=e}},11),t.link(\"../../../lib/asyncState\",{AsyncStatePhase:function(e){j=e}},12),t.link(\"../additionalForms\",{EeTextInput:function(e){z=e},EeTextAreaInput:function(e){U=e},EeNumberInput:function(e){J=e},DepartmentForwarding:function(e){K=e},DepartmentBusinessHours:function(e){X=e}},13),t.link(\"./DepartmentAgentsTable/DepartmentAgentsTable\",{default:function(e){Y=e}},14),t.link(\"./DepartmentTags\",{default:function(e){Z=e}},15);var en=function(e){var n,t,a=e.department,l=e.agents,r=e.allowedToForwardData;return{name:(null==a?void 0:a.name)||\"\",email:(null==a?void 0:a.email)||\"\",description:(null==a?void 0:a.description)||\"\",enabled:!!(null!=a&&a.enabled),maxNumberSimultaneousChat:null==a?void 0:a.maxNumberSimultaneousChat,showOnRegistration:!!(null!=a&&a.showOnRegistration),showOnOfflineForm:!!(null!=a&&a.showOnOfflineForm),abandonedRoomsCloseCustomMessage:(null==a?void 0:a.abandonedRoomsCloseCustomMessage)||\"\",requestTagBeforeClosingChat:!!(null!=a&&a.requestTagBeforeClosingChat),offlineMessageChannelName:(null==a?void 0:a.offlineMessageChannelName)||\"\",visitorInactivityTimeoutInSeconds:null==a?void 0:a.visitorInactivityTimeoutInSeconds,waitingQueueMessage:(null==a?void 0:a.waitingQueueMessage)||\"\",departmentsAllowedToForward:(null==r?void 0:null===(n=r.departments)||void 0===n?void 0:n.map(function(e){return{label:e.name,value:e._id}}))||[],fallbackForwardDepartment:(null==a?void 0:a.fallbackForwardDepartment)||\"\",chatClosingTags:null!==(t=null==a?void 0:a.chatClosingTags)&&void 0!==t?t:[],agentList:l||[],allowReceiveForwardOffline:(null==a?void 0:a.allowReceiveForwardOffline)||!1}};t.exportDefault(function(e){var n,t,ee,et,ea,el=e.data,er=e.id,ei=e.title,eo=e.allowedToForwardData,eu=M(),es=I(),ec=R(),em=el||{},ed=em.department,ef=em.agents,eg=G(\"livechat-enterprise\"),eh=en({department:ed,agents:void 0===ef?[]:ef,allowedToForwardData:eo}),ev=A({mode:\"onChange\",defaultValues:eh}),ep=ev.register,eE=ev.control,e_=ev.handleSubmit,eb=ev.watch,ew=ev.formState,eC=ew.errors,eF=ew.isValid,eT=ew.isDirty,ek=ew.isSubmitting,ex=eb(\"requestTagBeforeClosingChat\"),eD=y(\"\"),eS=i(eD,2),eM=eS[0],eI=eS[1],eR=F(eM,500),eq=V(O(function(){return{text:eR}},[eR])),eO=eq.itemsList,ey=eq.loadMoreItems,eN=W(eO),eA=eN.phase,eL=eN.items,eB=eN.itemCount,eP=D(\"livechat:saveDepartment\"),eH=S(\"POST\",\"/v1/livechat/department/:_id/agents\",{_id:er||\"\"}),eQ=x(),eW=T(function(e){var n,t,a,r,i,o,u,s,c,m,d,f,g,h,v,p,E,_,b;return l.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(n=e.agentList,t=e.enabled,a=e.name,r=e.description,i=e.showOnRegistration,o=e.showOnOfflineForm,u=e.email,s=e.chatClosingTags,c=e.offlineMessageChannelName,m=e.maxNumberSimultaneousChat,d=e.visitorInactivityTimeoutInSeconds,f=e.abandonedRoomsCloseCustomMessage,g=e.waitingQueueMessage,h=e.departmentsAllowedToForward,v=e.fallbackForwardDepartment,p=e.allowReceiveForwardOffline,E={enabled:t,name:a,description:r,showOnRegistration:i,showOnOfflineForm:o,requestTagBeforeClosingChat:ex,email:u,chatClosingTags:s,offlineMessageChannelName:c,maxNumberSimultaneousChat:m,visitorInactivityTimeoutInSeconds:d,abandonedRoomsCloseCustomMessage:f,waitingQueueMessage:g,departmentsAllowedToForward:null==h?void 0:h.map(function(e){return e.value}),fallbackForwardDepartment:v,allowReceiveForwardOffline:p},w.prev=2,!er){w.next=13;break}return _=eh.agentList,b={upsert:n.filter(function(e){return!_.some(function(n){return n._id===e._id&&e.count===n.count&&e.order===n.order})}),remove:_.filter(function(e){return!n.some(function(n){return e._id===n._id})})},w.next=8,l.awrap(eP(er,E,[]));case 8:if(!(b.upsert.length>0||b.remove.length>0)){w.next=11;break}return w.next=11,l.awrap(eH(b));case 11:w.next=15;break;case 13:return w.next=15,l.awrap(eP(null!=er?er:null,E,n));case 15:ec.invalidateQueries([\"/v1/livechat/department/:_id\",er]),eQ({type:\"success\",message:eu(\"Saved\")}),es.navigate(\"/omnichannel/departments\"),w.next=23;break;case 20:w.prev=20,w.t0=w.catch(2),eQ({type:\"error\",message:w.t0});case 23:case\"end\":return w.stop()}},null,null,[[2,20]],Promise)}),eG=k(),eV=k(),ej=k(),ez=k(),eU=k(),eJ=k(),eK=k(),eX=k(),eY=k(),eZ=k(),e$=k(),e0=k();return q.createElement(P,{flexDirection:\"row\"},q.createElement(P,null,q.createElement(H,{title:ei,onClickBack:function(){return es.navigate(\"/omnichannel/departments\")}},q.createElement(E,null,q.createElement(_,{type:\"submit\",form:eG,primary:!0,disabled:!(eF&&eT),loading:ek},eu(\"Save\")))),q.createElement(Q,null,q.createElement(o,{w:\"full\",alignSelf:\"center\",maxWidth:\"x600\",id:eG,is:\"form\",autoComplete:\"off\",onSubmit:e_(eW)},q.createElement(u,null,q.createElement(c,null,q.createElement(s,{htmlFor:eV},eu(\"Enabled\")),q.createElement(v,r({id:eV},ep(\"enabled\"))))),q.createElement(u,null,q.createElement(s,{htmlFor:ej,required:!0},eu(\"Name\")),q.createElement(c,null,q.createElement(d,r({id:ej,\"data-qa\":\"DepartmentEditTextInput-Name\",flexGrow:1,error:null===(n=eC.name)||void 0===n?void 0:n.message,placeholder:eu(\"Name\")},ep(\"name\",{required:eu(\"Required_field\",{field:eu(\"Name\")})})))),eC.name&&q.createElement(m,{\"aria-live\":\"assertive\",id:ej+\"-error\"},null===(t=eC.name)||void 0===t?void 0:t.message)),q.createElement(u,null,q.createElement(s,{htmlFor:ez},eu(\"Description\")),q.createElement(c,null,q.createElement(p,r({id:ez,\"data-qa\":\"DepartmentEditTextInput-Description\",placeholder:eu(\"Description\")},ep(\"description\"))))),q.createElement(u,{\"data-qa\":\"DepartmentEditToggle-ShowOnRegistrationPage\"},q.createElement(c,null,q.createElement(s,{htmlFor:eU},eu(\"Show_on_registration_page\")),q.createElement(v,r({id:eU},ep(\"showOnRegistration\"))))),q.createElement(u,null,q.createElement(s,{htmlFor:eJ,required:!0},eu(\"Email\")),q.createElement(c,null,q.createElement(d,r({id:eJ,\"data-qa\":\"DepartmentEditTextInput-Email\",error:null===(ee=eC.email)||void 0===ee?void 0:ee.message,addon:q.createElement(g,{name:\"mail\",size:\"x20\"}),placeholder:eu(\"Email\")},ep(\"email\",{required:eu(\"Required_field\",{field:eu(\"Email\")}),validate:function(e){return L(e)||eu(\"error-invalid-email-address\")}}),{\"aria-describedby\":eJ+\"-error\"}))),eC.email&&q.createElement(m,{\"aria-live\":\"assertive\",id:eJ+\"-error\"},null===(et=eC.email)||void 0===et?void 0:et.message)),q.createElement(u,null,q.createElement(c,null,q.createElement(s,{htmlFor:eK},eu(\"Show_on_offline_page\")),q.createElement(v,r({id:eK},ep(\"showOnOfflineForm\"))))),q.createElement(u,null,q.createElement(s,{htmlFor:eX},eu(\"Livechat_DepartmentOfflineMessageToChannel\")),q.createElement(c,null,q.createElement(N,{control:eE,name:\"offlineMessageChannelName\",render:function(e){var n=e.field,t=n.value,a=n.onChange;return q.createElement(b,{id:eX,\"data-qa\":\"DepartmentSelect-LivechatDepartmentOfflineMessageToChannel\",value:t,onChange:a,flexShrink:0,filter:eM,setFilter:eI,options:eL,placeholder:eu(\"Channel_name\"),endReached:eA===j.LOADING?function(){}:function(e){return ey(e,Math.min(50,eB))},\"aria-busy\":eM!==eR})}}))),eg&&q.createElement(q.Fragment,null,q.createElement(u,null,q.createElement(N,{control:eE,name:\"maxNumberSimultaneousChat\",render:function(e){var n=e.field;return q.createElement(J,r({},n,{label:eu(\"Max_number_of_chats_per_agent\"),placeholder:eu(\"Max_number_of_chats_per_agent_description\")}))}})),q.createElement(u,null,q.createElement(N,{control:eE,name:\"visitorInactivityTimeoutInSeconds\",render:function(e){var n=e.field;return q.createElement(J,r({},n,{label:eu(\"How_long_to_wait_to_consider_visitor_abandonment_in_seconds\"),placeholder:eu(\"Number_in_seconds\")}))}})),q.createElement(u,null,q.createElement(N,{control:eE,name:\"abandonedRoomsCloseCustomMessage\",render:function(e){var n=e.field;return q.createElement(z,r({},n,{label:eu(\"Livechat_abandoned_rooms_closed_custom_message\"),placeholder:eu(\"Enter_a_custom_message\")}))}})),q.createElement(u,null,q.createElement(N,{control:eE,name:\"waitingQueueMessage\",render:function(e){var n=e.field;return q.createElement(U,r({},n,{label:eu(\"Waiting_queue_message\"),placeholder:eu(\"Waiting_queue_message\")}))}})),q.createElement(u,null,q.createElement(N,{control:eE,name:\"departmentsAllowedToForward\",render:function(e){var n=e.field,t=n.value,a=n.onChange;return q.createElement(K,{departmentId:null!=er?er:\"\",value:t,handler:a,label:\"List_of_departments_for_forward\"})}})),q.createElement(u,null,q.createElement(s,{htmlFor:eY},eu(\"Fallback_forward_department\")),q.createElement(N,{control:eE,name:\"fallbackForwardDepartment\",render:function(e){var n=e.field,t=n.value,l=n.onChange;return q.createElement(B,{id:eY,haveNone:!0,excludeDepartmentId:null==ed?void 0:ed._id,value:t,onChange:l,onlyMyDepartments:!0,showArchived:!0,withTitle:!1,renderItem:function(e){var n=e.label,t=a(e,$);return q.createElement(C,r({},t,{label:q.createElement(\"span\",{style:{whiteSpace:\"normal\"}},n)}))}})}}))),q.createElement(u,null,q.createElement(c,null,q.createElement(s,{htmlFor:eZ},eu(\"Request_tag_before_closing_chat\")),q.createElement(v,r({id:eZ},ep(\"requestTagBeforeClosingChat\"))))),ex&&q.createElement(u,null,q.createElement(s,{htmlFor:e$,required:!0},eu(\"Conversation_closing_tags\")),q.createElement(N,{control:eE,name:\"chatClosingTags\",rules:{required:eu(\"Required_field\",\"tags\")},render:function(e){var n,t=e.field,a=t.value,l=t.onChange;return q.createElement(Z,{id:e$,value:a,onChange:l,error:null===(n=eC.chatClosingTags)||void 0===n?void 0:n.message,\"aria-describedby\":e$+\"-hint \"+e$+\"-error\"})}}),q.createElement(w,{id:e$+\"-hint\"},eu(\"Conversation_closing_tags_description\")),eC.chatClosingTags&&q.createElement(m,{\"aria-live\":\"assertive\",id:e$+\"-error\"},null===(ea=eC.chatClosingTags)||void 0===ea?void 0:ea.message)),q.createElement(u,null,q.createElement(c,null,q.createElement(s,{htmlFor:e0},eu(\"Accept_receive_inquiry_no_online_agents\")),q.createElement(v,r({id:e0},ep(\"allowReceiveForwardOffline\")))),q.createElement(c,null,q.createElement(w,{id:e0+\"-hint\"},eu(\"Accept_receive_inquiry_no_online_agents_Hint\")))),q.createElement(u,null,q.createElement(X,{bhId:null==ed?void 0:ed.businessHourId})),q.createElement(h,{mb:16}),q.createElement(u,null,q.createElement(s,{mb:4},eu(\"Agents\")),q.createElement(f,{display:\"flex\",flexDirection:\"column\",height:\"50vh\"},q.createElement(Y,{control:eE,register:ep})))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/departments/EditDepartment.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatDepartment, ILivechatDepartmentAgents, Serialized } from '@rocket.chat/core-typings';\\nimport {\\n\\tFieldGroup,\\n\\tField,\\n\\tFieldLabel,\\n\\tFieldRow,\\n\\tFieldError,\\n\\tTextInput,\\n\\tBox,\\n\\tIcon,\\n\\tDivider,\\n\\tToggleSwitch,\\n\\tTextAreaInput,\\n\\tButtonGroup,\\n\\tButton,\\n\\tPaginatedSelectFiltered,\\n\\tFieldHint,\\n\\tOption,\\n} from '@rocket.chat/fuselage';\\nimport { useDebouncedValue, useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport { useToastMessageDispatch, useMethod, useEndpoint, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\\nimport { useQueryClient } from '@tanstack/react-query';\\nimport React, { useMemo, useState } from 'react';\\nimport { Controller, useForm } from 'react-hook-form';\\n\\nimport { validateEmail } from '../../../../lib/emailValidator';\\nimport AutoCompleteDepartment from '../../../components/AutoCompleteDepartment';\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport { useRecordList } from '../../../hooks/lists/useRecordList';\\nimport { useHasLicenseModule } from '../../../hooks/useHasLicenseModule';\\nimport { useRoomsList } from '../../../hooks/useRoomsList';\\nimport { AsyncStatePhase } from '../../../lib/asyncState';\\nimport { EeTextInput, EeTextAreaInput, EeNumberInput, DepartmentForwarding, DepartmentBusinessHours } from '../additionalForms';\\nimport DepartmentsAgentsTable from './DepartmentAgentsTable/DepartmentAgentsTable';\\nimport DepartmentTags from './DepartmentTags';\\n\\nexport type EditDepartmentProps = {\\n\\tid?: string;\\n\\ttitle: string;\\n\\tdata?: Serialized<{\\n\\t\\tdepartment: ILivechatDepartment | null;\\n\\t\\tagents?: ILivechatDepartmentAgents[];\\n\\t}>;\\n\\tallowedToForwardData?: Serialized<{\\n\\t\\tdepartments: ILivechatDepartment[];\\n\\t}>;\\n};\\n\\ntype InitialValueParams = {\\n\\tdepartment?: Serialized<ILivechatDepartment> | null;\\n\\tagents?: Serialized<ILivechatDepartmentAgents>[];\\n\\tallowedToForwardData?: EditDepartmentProps['allowedToForwardData'];\\n};\\n\\nexport type IDepartmentAgent = Pick<ILivechatDepartmentAgents, 'agentId' | 'username' | 'count' | 'order'> & {\\n\\t_id?: string;\\n\\tname?: string;\\n};\\n\\nexport type FormValues = {\\n\\tname: string;\\n\\temail: string;\\n\\tdescription: string;\\n\\tenabled: boolean;\\n\\tmaxNumberSimultaneousChat: number;\\n\\tshowOnRegistration: boolean;\\n\\tshowOnOfflineForm: boolean;\\n\\tabandonedRoomsCloseCustomMessage: string;\\n\\trequestTagBeforeClosingChat: boolean;\\n\\tofflineMessageChannelName: string;\\n\\tvisitorInactivityTimeoutInSeconds: number;\\n\\twaitingQueueMessage: string;\\n\\tdepartmentsAllowedToForward: { label: string; value: string }[];\\n\\tfallbackForwardDepartment: string;\\n\\tagentList: IDepartmentAgent[];\\n\\tchatClosingTags: string[];\\n\\tallowReceiveForwardOffline: boolean;\\n};\\n\\nfunction withDefault<T>(key: T | undefined | null, defaultValue: T) {\\n\\treturn key || defaultValue;\\n}\\n\\nconst getInitialValues = ({ department, agents, allowedToForwardData }: InitialValueParams) => ({\\n\\tname: withDefault(department?.name, ''),\\n\\temail: withDefault(department?.email, ''),\\n\\tdescription: withDefault(department?.description, ''),\\n\\tenabled: !!department?.enabled,\\n\\tmaxNumberSimultaneousChat: department?.maxNumberSimultaneousChat,\\n\\tshowOnRegistration: !!department?.showOnRegistration,\\n\\tshowOnOfflineForm: !!department?.showOnOfflineForm,\\n\\tabandonedRoomsCloseCustomMessage: withDefault(department?.abandonedRoomsCloseCustomMessage, ''),\\n\\trequestTagBeforeClosingChat: !!department?.requestTagBeforeClosingChat,\\n\\tofflineMessageChannelName: withDefault(department?.offlineMessageChannelName, ''),\\n\\tvisitorInactivityTimeoutInSeconds: department?.visitorInactivityTimeoutInSeconds,\\n\\twaitingQueueMessage: withDefault(department?.waitingQueueMessage, ''),\\n\\tdepartmentsAllowedToForward: allowedToForwardData?.departments?.map((dep) => ({ label: dep.name, value: dep._id })) || [],\\n\\tfallbackForwardDepartment: withDefault(department?.fallbackForwardDepartment, ''),\\n\\tchatClosingTags: department?.chatClosingTags ?? [],\\n\\tagentList: agents || [],\\n\\tallowReceiveForwardOffline: withDefault(department?.allowReceiveForwardOffline, false),\\n});\\n\\nfunction EditDepartment({ data, id, title, allowedToForwardData }: EditDepartmentProps) {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst queryClient = useQueryClient();\\n\\n\\tconst { department, agents = [] } = data || {};\\n\\n\\tconst hasLicense = useHasLicenseModule('livechat-enterprise');\\n\\n\\tconst initialValues = getInitialValues({ department, agents, allowedToForwardData });\\n\\n\\tconst {\\n\\t\\tregister,\\n\\t\\tcontrol,\\n\\t\\thandleSubmit,\\n\\t\\twatch,\\n\\t\\tformState: { errors, isValid, isDirty, isSubmitting },\\n\\t} = useForm<FormValues>({ mode: 'onChange', defaultValues: initialValues });\\n\\n\\tconst requestTagBeforeClosingChat = watch('requestTagBeforeClosingChat');\\n\\n\\tconst [fallbackFilter, setFallbackFilter] = useState<string>('');\\n\\n\\tconst debouncedFallbackFilter = useDebouncedValue(fallbackFilter, 500);\\n\\n\\tconst { itemsList: RoomsList, loadMoreItems: loadMoreRooms } = useRoomsList(\\n\\t\\tuseMemo(() => ({ text: debouncedFallbackFilter }), [debouncedFallbackFilter]),\\n\\t);\\n\\n\\tconst { phase: roomsPhase, items: roomsItems, itemCount: roomsTotal } = useRecordList(RoomsList);\\n\\n\\tconst saveDepartmentInfo = useMethod('livechat:saveDepartment');\\n\\tconst saveDepartmentAgentsInfoOnEdit = useEndpoint('POST', `/v1/livechat/department/:_id/agents`, { _id: id || '' });\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst handleSave = useMutableCallback(async (data: FormValues) => {\\n\\t\\tconst {\\n\\t\\t\\tagentList,\\n\\t\\t\\tenabled,\\n\\t\\t\\tname,\\n\\t\\t\\tdescription,\\n\\t\\t\\tshowOnRegistration,\\n\\t\\t\\tshowOnOfflineForm,\\n\\t\\t\\temail,\\n\\t\\t\\tchatClosingTags,\\n\\t\\t\\tofflineMessageChannelName,\\n\\t\\t\\tmaxNumberSimultaneousChat,\\n\\t\\t\\tvisitorInactivityTimeoutInSeconds,\\n\\t\\t\\tabandonedRoomsCloseCustomMessage,\\n\\t\\t\\twaitingQueueMessage,\\n\\t\\t\\tdepartmentsAllowedToForward,\\n\\t\\t\\tfallbackForwardDepartment,\\n\\t\\t\\tallowReceiveForwardOffline,\\n\\t\\t} = data;\\n\\n\\t\\tconst payload = {\\n\\t\\t\\tenabled,\\n\\t\\t\\tname,\\n\\t\\t\\tdescription,\\n\\t\\t\\tshowOnRegistration,\\n\\t\\t\\tshowOnOfflineForm,\\n\\t\\t\\trequestTagBeforeClosingChat,\\n\\t\\t\\temail,\\n\\t\\t\\tchatClosingTags,\\n\\t\\t\\tofflineMessageChannelName,\\n\\t\\t\\tmaxNumberSimultaneousChat,\\n\\t\\t\\tvisitorInactivityTimeoutInSeconds,\\n\\t\\t\\tabandonedRoomsCloseCustomMessage,\\n\\t\\t\\twaitingQueueMessage,\\n\\t\\t\\tdepartmentsAllowedToForward: departmentsAllowedToForward?.map((dep) => dep.value),\\n\\t\\t\\tfallbackForwardDepartment,\\n\\t\\t\\tallowReceiveForwardOffline,\\n\\t\\t};\\n\\n\\t\\ttry {\\n\\t\\t\\tif (id) {\\n\\t\\t\\t\\tconst { agentList: initialAgentList } = initialValues;\\n\\n\\t\\t\\t\\tconst agentListPayload = {\\n\\t\\t\\t\\t\\tupsert: agentList.filter(\\n\\t\\t\\t\\t\\t\\t(agent) =>\\n\\t\\t\\t\\t\\t\\t\\t!initialAgentList.some(\\n\\t\\t\\t\\t\\t\\t\\t\\t(initialAgent) =>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tinitialAgent._id === agent._id && agent.count === initialAgent.count && agent.order === initialAgent.order,\\n\\t\\t\\t\\t\\t\\t\\t),\\n\\t\\t\\t\\t\\t),\\n\\t\\t\\t\\t\\tremove: initialAgentList.filter((initialAgent) => !agentList.some((agent) => initialAgent._id === agent._id)),\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tawait saveDepartmentInfo(id, payload, []);\\n\\t\\t\\t\\tif (agentListPayload.upsert.length > 0 || agentListPayload.remove.length > 0) {\\n\\t\\t\\t\\t\\tawait saveDepartmentAgentsInfoOnEdit(agentListPayload);\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tawait saveDepartmentInfo(id ?? null, payload, agentList);\\n\\t\\t\\t}\\n\\t\\t\\tqueryClient.invalidateQueries(['/v1/livechat/department/:_id', id]);\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Saved') });\\n\\t\\t\\trouter.navigate('/omnichannel/departments');\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t});\\n\\n\\tconst isFormValid = isValid && isDirty;\\n\\n\\tconst formId = useUniqueId();\\n\\tconst enabledField = useUniqueId();\\n\\tconst nameField = useUniqueId();\\n\\tconst descriptionField = useUniqueId();\\n\\tconst showOnRegistrationField = useUniqueId();\\n\\tconst emailField = useUniqueId();\\n\\tconst showOnOfflineFormField = useUniqueId();\\n\\tconst offlineMessageChannelNameField = useUniqueId();\\n\\tconst fallbackForwardDepartmentField = useUniqueId();\\n\\tconst requestTagBeforeClosingChatField = useUniqueId();\\n\\tconst chatClosingTagsField = useUniqueId();\\n\\tconst allowReceiveForwardOffline = useUniqueId();\\n\\n\\treturn (\\n\\t\\t<Page flexDirection='row'>\\n\\t\\t\\t<Page>\\n\\t\\t\\t\\t<PageHeader title={title} onClickBack={() => router.navigate('/omnichannel/departments')}>\\n\\t\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t\\t<Button type='submit' form={formId} primary disabled={!isFormValid} loading={isSubmitting}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Save')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t</PageHeader>\\n\\t\\t\\t\\t<PageScrollableContentWithShadow>\\n\\t\\t\\t\\t\\t<FieldGroup\\n\\t\\t\\t\\t\\t\\tw='full'\\n\\t\\t\\t\\t\\t\\talignSelf='center'\\n\\t\\t\\t\\t\\t\\tmaxWidth='x600'\\n\\t\\t\\t\\t\\t\\tid={formId}\\n\\t\\t\\t\\t\\t\\tis='form'\\n\\t\\t\\t\\t\\t\\tautoComplete='off'\\n\\t\\t\\t\\t\\t\\tonSubmit={handleSubmit(handleSave)}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={enabledField}>{t('Enabled')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ToggleSwitch id={enabledField} {...register('enabled')} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={nameField} required>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Name')}\\n\\t\\t\\t\\t\\t\\t\\t</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tid={nameField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa='DepartmentEditTextInput-Name'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tflexGrow={1}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\terror={errors.name?.message as string}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Name')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{...register('name', { required: t('Required_field', { field: t('Name') }) })}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t{errors.name && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{errors.name?.message}\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldError>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<TextAreaInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tid={descriptionField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa='DepartmentEditTextInput-Description'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Description')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{...register('description')}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field data-qa='DepartmentEditToggle-ShowOnRegistrationPage'>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={showOnRegistrationField}>{t('Show_on_registration_page')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ToggleSwitch id={showOnRegistrationField} {...register('showOnRegistration')} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={emailField} required>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Email')}\\n\\t\\t\\t\\t\\t\\t\\t</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tid={emailField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa='DepartmentEditTextInput-Email'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\terror={errors.email?.message as string}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\taddon={<Icon name='mail' size='x20' />}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Email')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{...register('email', {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trequired: t('Required_field', { field: t('Email') }),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalidate: (email) => validateEmail(email) || t('error-invalid-email-address'),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t})}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\taria-describedby={`${emailField}-error`}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t{errors.email && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldError aria-live='assertive' id={`${emailField}-error`}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{errors.email?.message}\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldError>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={showOnOfflineFormField}>{t('Show_on_offline_page')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ToggleSwitch id={showOnOfflineFormField} {...register('showOnOfflineForm')} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={offlineMessageChannelNameField}>{t('Livechat_DepartmentOfflineMessageToChannel')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='offlineMessageChannelName'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field: { value, onChange } }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<PaginatedSelectFiltered\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={offlineMessageChannelNameField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa='DepartmentSelect-LivechatDepartmentOfflineMessageToChannel'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={value}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonChange={onChange}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tflexShrink={0}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfilter={fallbackFilter}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tsetFilter={setFallbackFilter as (value?: string | number) => void}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\toptions={roomsItems}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Channel_name')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tendReached={\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\troomsPhase === AsyncStatePhase.LOADING ? () => undefined : (start) => loadMoreRooms(start, Math.min(50, roomsTotal))\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-busy={fallbackFilter !== debouncedFallbackFilter}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t{hasLicense && (\\n\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='maxNumberSimultaneousChat'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<EeNumberInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlabel={t('Max_number_of_chats_per_agent')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Max_number_of_chats_per_agent_description')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='visitorInactivityTimeoutInSeconds'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<EeNumberInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlabel={t('How_long_to_wait_to_consider_visitor_abandonment_in_seconds')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Number_in_seconds')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='abandonedRoomsCloseCustomMessage'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<EeTextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlabel={t('Livechat_abandoned_rooms_closed_custom_message')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Enter_a_custom_message')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='waitingQueueMessage'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<EeTextAreaInput {...field} label={t('Waiting_queue_message')} placeholder={t('Waiting_queue_message')} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='departmentsAllowedToForward'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field: { value, onChange } }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<DepartmentForwarding\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdepartmentId={id ?? ''}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={value}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\thandler={onChange}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlabel='List_of_departments_for_forward'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={fallbackForwardDepartmentField}>{t('Fallback_forward_department')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='fallbackForwardDepartment'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field: { value, onChange } }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<AutoCompleteDepartment\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={fallbackForwardDepartmentField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\thaveNone\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\texcludeDepartmentId={department?._id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={value}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonChange={onChange}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonlyMyDepartments\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tshowArchived\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\twithTitle={false}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trenderItem={({ label, ...props }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={requestTagBeforeClosingChatField}>{t('Request_tag_before_closing_chat')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ToggleSwitch id={requestTagBeforeClosingChatField} {...register('requestTagBeforeClosingChat')} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t{requestTagBeforeClosingChat && (\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={chatClosingTagsField} required>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Conversation_closing_tags')}\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='chatClosingTags'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trules={{ required: t('Required_field', 'tags') }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field: { value, onChange } }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<DepartmentTags\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={chatClosingTagsField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={value}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonChange={onChange}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\terror={errors.chatClosingTags?.message as string}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-describedby={`${chatClosingTagsField}-hint ${chatClosingTagsField}-error`}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldHint id={`${chatClosingTagsField}-hint`}>{t('Conversation_closing_tags_description')}</FieldHint>\\n\\t\\t\\t\\t\\t\\t\\t\\t{errors.chatClosingTags && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldError aria-live='assertive' id={`${chatClosingTagsField}-error`}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{errors.chatClosingTags?.message}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</FieldError>\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={allowReceiveForwardOffline}>{t('Accept_receive_inquiry_no_online_agents')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ToggleSwitch id={allowReceiveForwardOffline} {...register('allowReceiveForwardOffline')} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldHint id={`${allowReceiveForwardOffline}-hint`}>{t('Accept_receive_inquiry_no_online_agents_Hint')}</FieldHint>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<DepartmentBusinessHours bhId={department?.businessHourId} />\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Divider mb={16} />\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel mb={4}>{t('Agents')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<Box display='flex' flexDirection='column' height='50vh'>\\n\\t\\t\\t\\t\\t\\t\\t\\t<DepartmentsAgentsTable control={control} register={register} />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t\\t</Page>\\n\\t\\t</Page>\\n\\t);\\n}\\n\\nexport default EditDepartment;\\n\",null],\"names\":[\"_objectWithoutProperties\",\"_regeneratorRuntime\",\"_extends\",\"_slicedToArray\",\"FieldGroup\",\"Field\",\"FieldLabel\",\"FieldRow\",\"FieldError\",\"TextInput\",\"Box\",\"Icon\",\"Divider\",\"ToggleSwitch\",\"TextAreaInput\",\"ButtonGroup\",\"Button\",\"PaginatedSelectFiltered\",\"FieldHint\",\"Option\",\"useDebouncedValue\",\"useMutableCallback\",\"useUniqueId\",\"useToastMessageDispatch\",\"useMethod\",\"useEndpoint\",\"useTranslation\",\"useRouter\",\"useQueryClient\",\"React\",\"useMemo\",\"useState\",\"Controller\",\"useForm\",\"validateEmail\",\"AutoCompleteDepartment\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"useRecordList\",\"useHasLicenseModule\",\"useRoomsList\",\"AsyncStatePhase\",\"EeTextInput\",\"EeTextAreaInput\",\"EeNumberInput\",\"DepartmentForwarding\",\"DepartmentBusinessHours\",\"DepartmentsAgentsTable\",\"DepartmentTags\",\"withDefault\",\"key\",\"defaultValue\",\"module\",\"link\",\"default\",\"v\",\"getInitialValues\",\"_ref\",\"_allowedToForwardData\",\"_department$chatClosi\",\"department\",\"agents\",\"allowedToForwardData\",\"name\",\"email\",\"description\",\"enabled\",\"maxNumberSimultaneousChat\",\"showOnRegistration\",\"showOnOfflineForm\",\"abandonedRoomsCloseCustomMessage\",\"requestTagBeforeClosingChat\",\"offlineMessageChannelName\",\"visitorInactivityTimeoutInSeconds\",\"waitingQueueMessage\",\"departmentsAllowedToForward\",\"departments\",\"map\",\"dep\",\"label\",\"value\",\"_id\",\"fallbackForwardDepartment\",\"chatClosingTags\",\"agentList\",\"allowReceiveForwardOffline\",\"exportDefault\",\"_ref2\",\"_errors$name\",\"_errors$name2\",\"_errors$email\",\"_errors$email2\",\"_errors$chatClosingTa2\",\"data\",\"id\",\"title\",\"t\",\"router\",\"queryClient\",\"_ref3\",\"_ref3$agents\",\"hasLicense\",\"initialValues\",\"_useForm\",\"mode\",\"defaultValues\",\"register\",\"control\",\"handleSubmit\",\"watch\",\"_useForm$formState\",\"formState\",\"errors\",\"isValid\",\"isDirty\",\"isSubmitting\",\"_useState\",\"_useState2\",\"fallbackFilter\",\"setFallbackFilter\",\"debouncedFallbackFilter\",\"_useRoomsList\",\"text\",\"RoomsList\",\"itemsList\",\"loadMoreRooms\",\"loadMoreItems\",\"_useRecordList\",\"roomsPhase\",\"phase\",\"roomsItems\",\"items\",\"roomsTotal\",\"itemCount\",\"saveDepartmentInfo\",\"saveDepartmentAgentsInfoOnEdit\",\"dispatchToastMessage\",\"handleSave\",\"payload\",\"initialAgentList\",\"agentListPayload\",\"async\",\"_context\",\"prev\",\"next\",\"upsert\",\"filter\",\"agent\",\"some\",\"initialAgent\",\"count\",\"order\",\"remove\",\"awrap\",\"length\",\"invalidateQueries\",\"type\",\"message\",\"navigate\",\"t0\",\"stop\",\"Promise\",\"formId\",\"enabledField\",\"nameField\",\"descriptionField\",\"showOnRegistrationField\",\"emailField\",\"showOnOfflineFormField\",\"offlineMessageChannelNameField\",\"fallbackForwardDepartmentField\",\"requestTagBeforeClosingChatField\",\"chatClosingTagsField\",\"createElement\",\"flexDirection\",\"onClickBack\",\"form\",\"primary\",\"disabled\",\"loading\",\"w\",\"alignSelf\",\"maxWidth\",\"is\",\"autoComplete\",\"onSubmit\",\"htmlFor\",\"required\",\"flexGrow\",\"error\",\"placeholder\",\"field\",\"addon\",\"size\",\"validate\",\"render\",\"_ref4\",\"_ref4$field\",\"onChange\",\"flexShrink\",\"setFilter\",\"options\",\"endReached\",\"LOADING\",\"start\",\"Math\",\"min\",\"Fragment\",\"_ref5\",\"_ref6\",\"_ref7\",\"_ref8\",\"_ref9\",\"_ref9$field\",\"departmentId\",\"handler\",\"_ref10\",\"_ref10$field\",\"haveNone\",\"excludeDepartmentId\",\"onlyMyDepartments\",\"showArchived\",\"withTitle\",\"renderItem\",\"_ref11\",\"props\",\"_excluded\",\"style\",\"whiteSpace\",\"rules\",\"_ref12\",\"_errors$chatClosingTa\",\"_ref12$field\",\"bhId\",\"businessHourId\",\"mb\",\"display\",\"height\"],\"mappings\":\"2BACAA,EAcCC,EAG8BC,EAAAC,EAjB/BC,EACCC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAAC,EAASC,EAETC,EACOC,EACKC,EACZC,EACAC,EAEAC,EAAAC,EAG8BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,cA6D/B,SAASC,GAAeC,CAAyB,CAAEC,CAAe,EACjE,OAAOD,GAAOC,CACf,CA7ECC,EAAAC,IACA,CAAA,iDAKA,CAAOC,QACP,SACAC,CAAA,EAAAxD,EAEAwD,CAAA,CAAA,EAAA,GACuBH,EACvBC,IAAS,CACT,6BACM,CAAAC,QAAuB,SAACC,CAAA,EAAAvD,EAAAuD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAtD,EAAAsD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAArD,EAAAqD,CAAA,CAAA,EAAA,GAHPH,EACvBC,IAAS,CAAA,wBAEH,CAAAlD,WAAA,SAAwBoD,CAAA,EAAApD,EAAAoD,CAAA,EAAAnD,MAAA,SAAAmD,CAAA,EAAAnD,EAAAmD,CAAA,EAAAlD,WAAA,SAAAkD,CAAA,EAAAlD,EAAAkD,CAAA,EAAAjD,SAAA,SAAAiD,CAAA,EAAAjD,EAAAiD,CAAA,EAAAhD,WAAA,SAAAgD,CAAA,EAAAhD,EAAAgD,CAAA,EAAA/C,UAAA,SAAA+C,CAAA,EAAA/C,EAAA+C,CAAA,EAAA9C,IAAA,SAAA8C,CAAA,EAAA9C,EAAA8C,CAAA,EAAA7C,KAAA,SAAA6C,CAAA,EAAA7C,EAAA6C,CAAA,EAAA5C,QAAA,SAAA4C,CAAA,EAAA5C,EAAA4C,CAAA,EAAA3C,aAAA,SAAA2C,CAAA,EAAA3C,EAAA2C,CAAA,EAAA1C,cAAA,SAAA0C,CAAA,EAAA1C,EAAA0C,CAAA,EAAAzC,YAAA,SAAAyC,CAAA,EAAAzC,EAAAyC,CAAA,EAAAxC,OAAA,SAAAwC,CAAA,EAAAxC,EAAAwC,CAAA,EAAAvC,wBAAA,SAAAuC,CAAA,EAAAvC,EAAAuC,CAAA,EAAAtC,UAAA,SAAAsC,CAAA,EAAAtC,EAAAsC,CAAA,EAAArC,OAAA,SAAAqC,CAAA,EAAArC,EAAAqC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAlC,kBAAA,SAAAoC,CAAA,EAAApC,EAAAoC,CAAA,EAAAnC,mBAAA,SAAAmC,CAAA,EAAAnC,EAAAmC,CAAA,EAAAlC,YAAA,SAAAkC,CAAA,EAAAlC,EAAAkC,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAA/B,wBAAA,SAAAiC,CAAA,EAAAjC,EAAAiC,CAAA,EAAAhC,UAAA,SAAAgC,CAAA,EAAAhC,EAAAgC,CAAA,EAAA/B,YAAA,SAAA+B,CAAA,EAAA/B,EAAA+B,CAAA,EAAA9B,eAAA,SAAA8B,CAAA,EAAA9B,EAAA8B,CAAA,EAAA7B,UAAA,SAAA6B,CAAA,EAAA7B,EAAA6B,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAA1B,eAAA,SAAA4B,CAAA,EAAA5B,EAAA4B,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAA3B,EAAA2B,CAAA,EAAA1B,QAAA,SAAA0B,CAAA,EAAA1B,EAAA0B,CAAA,EAAAzB,SAAA,SAAAyB,CAAA,EAAAzB,EAAAyB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kBAAA,CAAAtB,WAAA,SAAAwB,CAAA,EAAAxB,EAAAwB,CAAA,EAAAvB,QAAA,SAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAApB,cAAA,SAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,6CAAA,CAAA,QAAA,SAAAE,CAAA,EAAArB,EAAAqB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAlB,KAAA,SAAAoB,CAAA,EAAApB,EAAAoB,CAAA,EAAAnB,WAAA,SAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,EAAAlB,gCAAA,SAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,qCAAA,CAAAf,cAAA,SAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,qCAAA,CAAAd,oBAAA,SAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAb,aAAA,SAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAAZ,gBAAA,SAAAc,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,qBAAA,CAAAX,YAAA,SAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,gBAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,cAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,qBAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,wBAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,gDAAA,CAAA,QAAA,SAAAE,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,IAAAH,EAAAC,IAAA,CAAA,mBAAA,CAAA,QAAA,SAAAE,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,IAiE/B,IAAMC,GAAmB,SAAAC,CAAA,EAAA,IAAAC,EAAAC,EAAGC,EAAUH,EAAVG,UAAU,CAAEC,EAAMJ,EAANI,MAAM,CAAEC,EAAoBL,EAApBK,oBAAoB,CAAA,MAA4B,CAC/FC,KAJOb,AAIWU,CAAAA,MAAAA,EAAU,KAAA,EAAVA,EAAYG,IAAI,AAAJA,GAAM,GACpCC,MALOd,AAKYU,CAAAA,MAAAA,EAAU,KAAA,EAAVA,EAAYI,KAAK,AAALA,GAAO,GACtCC,YANOf,AAMkBU,CAAAA,MAAAA,EAAU,KAAA,EAAVA,EAAYK,WAAW,AAAXA,GAAa,GAClDC,QAAS,CAAC,CAACN,CAAAA,MAAAA,GAAAA,EAAYM,OAAO,AAAPA,EACvBC,0BAA2BP,MAAAA,EAAU,KAAA,EAAVA,EAAYO,yBAAyB,CAChEC,mBAAoB,CAAC,CAACR,CAAAA,MAAAA,GAAAA,EAAYQ,kBAAkB,AAAlBA,EAClCC,kBAAmB,CAAC,CAACT,CAAAA,MAAAA,GAAAA,EAAYS,iBAAiB,AAAjBA,EACjCC,iCAXOpB,AAWuCU,CAAAA,MAAAA,EAAU,KAAA,EAAVA,EAAYU,gCAAgC,AAAhCA,GAAkC,GAC5FC,4BAA6B,CAAC,CAACX,CAAAA,MAAAA,GAAAA,EAAYW,2BAA2B,AAA3BA,EAC3CC,0BAbOtB,AAagCU,CAAAA,MAAAA,EAAU,KAAA,EAAVA,EAAYY,yBAAyB,AAAzBA,GAA2B,GAC9EC,kCAAmCb,MAAAA,EAAU,KAAA,EAAVA,EAAYa,iCAAiC,CAChFC,oBAfOxB,AAe0BU,CAAAA,MAAAA,EAAU,KAAA,EAAVA,EAAYc,mBAAmB,AAAnBA,GAAqB,GAClEC,4BAA6B,AAAAb,CAAAA,MAAAA,EAAoB,KAAA,EAAA,AAAa,OAAbJ,CAAAA,EAApBI,EAAsBc,WAAW,AAAXA,GAAWlB,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAjCA,EAAmCmB,GAAG,CAAC,SAACC,CAAG,EAAA,MAAM,CAAEC,MAAOD,EAAIf,IAAI,CAAEiB,MAAOF,EAAIG,GAAAA,AAAG,CAAE,EAAC,GAAK,EAAE,CACzHC,0BAjBOhC,AAiBgCU,CAAAA,MAAAA,EAAU,KAAA,EAAVA,EAAYsB,yBAAyB,AAAzBA,GAA2B,GAC9EC,gBAAe,AAA6B,OAA7BxB,CAAAA,EAAEC,MAAAA,EAAU,KAAA,EAAVA,EAAYuB,eAAe,AAAfA,GAAexB,AAAA,KAAA,IAAAA,EAAAA,EAAI,EAAE,CAClDyB,UAAWvB,GAAU,EAAE,CACvBwB,2BApBOnC,AAoBiCU,CAAAA,MAAAA,EAAU,KAAA,EAAVA,EAAYyB,0BAA0B,AAA1BA,GAA4B,CAAA,EAChF,EApGDjC,EAAOkC,aACI,CAqGX,SAAuBC,CAAA,EAA+D,IAAAC,EAAAC,EAAAC,GAAAC,GAAAC,GAA5DC,GAAIN,EAAJM,IAAI,CAAEC,GAAEP,EAAFO,EAAE,CAAEC,GAAKR,EAALQ,KAAK,CAAEjC,GAAoByB,EAApBzB,oBAAoB,CACxDkC,GAAIvE,IACJwE,GAASvE,IACTwE,GAAcvE,IAEpBwE,GAAoCN,IAAQ,CAAA,EAApCjC,GAAUuC,GAAVvC,UAAU,CAAAwC,GAAAD,GAAEtC,MAAM,CAEpBwC,GAAa9D,EAAoB,uBAEjC+D,GAAgB9C,GAAiB,CAAEI,WAAAA,GAAYC,OAJ3BuC,AAAA,KAAA,IAAAA,GAAG,EAAE,CAAAA,GAI8BtC,qBAAAA,EAAoB,GAEjFyC,GAMIvE,EAAoB,CAAEwE,KAAM,WAAYC,cAAeH,EAAa,GALvEI,GAAQH,GAARG,QAAQ,CACRC,GAAOJ,GAAPI,OAAO,CACPC,GAAYL,GAAZK,YAAY,CACZC,GAAKN,GAALM,KAAK,CAAAC,GAAAP,GACLQ,SAAS,CAAIC,GAAMF,GAANE,MAAM,CAAEC,GAAOH,GAAPG,OAAO,CAAEC,GAAOJ,GAAPI,OAAO,CAAEC,GAAYL,GAAZK,YAAY,CAG9C5C,GAA8BsC,GAAM,+BAE1CO,GAA4CtF,EAAiB,IAAGuF,GAAAnH,EAAAkH,GAAA,GAAzDE,GAAcD,EAAA,CAAA,EAAA,CAAEE,GAAiBF,EAAA,CAAA,EAAA,CAElCG,GAA0BrG,EAAkBmG,GAAgB,KAElEG,GAA+DjF,EAC9DX,EAAQ,WAAA,MAAO,CAAE6F,KAAMF,EAAuB,CAAE,EAAG,CAACA,GAAwB,GAD1DG,GAASF,GAApBG,SAAS,CAA4BC,GAAaJ,GAA5BK,aAAa,CAI3CC,GAAwEzF,EAAcqF,IAAvEK,GAAUD,GAAjBE,KAAK,CAAqBC,GAAUH,GAAjBI,KAAK,CAAyBC,GAAUL,GAArBM,SAAS,CAEjDC,GAAqB/G,EAAU,2BAC/BgH,GAAiC/G,EAAY,OAAM,sCAAyC,CAAEyD,IAAKa,IAAM,EAAE,GAE3G0C,GAAuBlH,IAEvBmH,GAAarH,EAAmB,SAAOyE,CAAgB,EAAA,IAAAT,EAAAlB,EAAAH,EAAAE,EAAAG,EAAAC,EAAAL,EAAAmB,EAAAX,EAAAL,EAAAM,EAAAH,EAAAI,EAAAC,EAAAO,EAAAG,EAAAqD,EAAAC,EAAAC,EAAA,OAAA5I,EAAA6I,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAqC3D,GAnCA5D,EAgBGS,EAhBHT,SAAS,CACTlB,EAeG2B,EAfH3B,OAAO,CACPH,EAcG8B,EAdH9B,IAAI,CACJE,EAaG4B,EAbH5B,WAAW,CACXG,EAYGyB,EAZHzB,kBAAkB,CAClBC,EAWGwB,EAXHxB,iBAAiB,CACjBL,EAUG6B,EAVH7B,KAAK,CACLmB,EASGU,EATHV,eAAe,CACfX,EAQGqB,EARHrB,yBAAyB,CACzBL,EAOG0B,EAPH1B,yBAAyB,CACzBM,EAMGoB,EANHpB,iCAAiC,CACjCH,EAKGuB,EALHvB,gCAAgC,CAChCI,EAIGmB,EAJHnB,mBAAmB,CACnBC,EAGGkB,EAHHlB,2BAA2B,CAC3BO,EAEGW,EAFHX,yBAAyB,CACzBG,EACGQ,EADHR,0BAA0B,CAGrBqD,EAAU,CACfxE,QAAAA,EACAH,KAAAA,EACAE,YAAAA,EACAG,mBAAAA,EACAC,kBAAAA,EACAE,4BAAAA,GACAP,MAAAA,EACAmB,gBAAAA,EACAX,0BAAAA,EACAL,0BAAAA,EACAM,kCAAAA,EACAH,iCAAAA,EACAI,oBAAAA,EACAC,4BAA6BA,MAAAA,EAA2B,KAAA,EAA3BA,EAA6BE,GAAG,CAAC,SAACC,CAAG,EAAA,OAAKA,EAAIE,KAAK,GAChFE,0BAAAA,EACAG,2BAAAA,GACAyD,EAAAC,IAAA,CAAA,EAAA,CAGIjD,GAAE,CAAAgD,EAAAE,IAAA,CAAA,GAAA,KAAA,CAYJ,OAXkBL,EAAqBrC,GAAhClB,SAAS,CAEXwD,EAAmB,CACxBK,OAAQ7D,EAAU8D,MAAM,CACvB,SAACC,CAAK,EAAA,MACL,CAACR,EAAiBS,IAAI,CACrB,SAACC,CAAY,EAAA,OACZA,EAAapE,GAAG,GAAKkE,EAAMlE,GAAG,EAAIkE,EAAMG,KAAK,GAAKD,EAAaC,KAAK,EAAIH,EAAMI,KAAK,GAAKF,EAAaE,KAAK,EAC3G,GAEHC,OAAQb,EAAiBO,MAAM,CAAC,SAACG,CAAY,EAAA,MAAK,CAACjE,EAAUgE,IAAI,CAAC,SAACD,CAAK,EAAA,OAAKE,EAAapE,GAAG,GAAKkE,EAAMlE,GAAG,EAAC,IAC5G6D,EAAAE,IAAA,CAAA,EAAAhJ,EAAAyJ,KAAA,CAEKnB,GAAmBxC,GAAI4C,EAAS,EAAE,EAAC,MAAA,EAAA,GAAA,CACrCE,CAAAA,EAAiBK,MAAM,CAACS,MAAM,CAAG,GAAKd,EAAiBY,MAAM,CAACE,MAAM,CAAG,CAAA,EAAC,CAAAZ,EAAAE,IAAA,CAAA,GAAA,KAAA,CAAA,OAAAF,EAAAE,IAAA,CAAA,GAAAhJ,EAAAyJ,KAAA,CACrElB,GAA+BK,GAAiB,MAAA,GAAAE,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,GAAA,OAAAF,EAAAE,IAAA,CAAA,GAAAhJ,EAAAyJ,KAAA,CAGjDnB,GAAmBxC,MAAAA,GAAAA,GAAM,KAAM4C,EAAStD,GAAU,MAAA,GAEzDc,GAAYyD,iBAAiB,CAAC,CAAC,+BAAgC7D,GAAG,EAClE0C,GAAqB,CAAEoB,KAAM,UAAWC,QAAS7D,GAAE,QAAQ,GAC3DC,GAAO6D,QAAQ,CAAC,4BAA4BhB,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,GAAAF,EAAAC,IAAA,CAAA,GAAAD,EAAAiB,EAAA,CAAAjB,EAAA,KAAA,CAAA,GAE5CN,GAAqB,CAAEoB,KAAM,QAASC,QAAOf,EAAAiB,EAAAA,AAAO,EAAI,MAAA,GAAA,IAAA,MAAA,OAAAjB,EAAAkB,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,GAAA,CAAA,CAAAC,QAAA,GAMpDC,GAAS7I,IACT8I,GAAe9I,IACf+I,GAAY/I,IACZgJ,GAAmBhJ,IACnBiJ,GAA0BjJ,IAC1BkJ,GAAalJ,IACbmJ,GAAyBnJ,IACzBoJ,GAAiCpJ,IACjCqJ,GAAiCrJ,IACjCsJ,GAAmCtJ,IACnCuJ,GAAuBvJ,IACvBgE,GAA6BhE,IAEnC,OACCO,EAAAiJ,aAAA,CAAC1I,EAAI,CAAC2I,cAAc,KAAK,EACxBlJ,EAAAiJ,aAAA,CAAC1I,EAAI,KACJP,EAAAiJ,aAAA,CAACzI,EAAU,CAAC2D,MAAOA,GAAOgF,YAAa,WAAA,OAAM9E,GAAO6D,QAAQ,CAAC,2BAA2B,CAAC,EACxFlI,EAAAiJ,aAAA,CAAC/J,EAAW,KACXc,EAAAiJ,aAAA,CAAC9J,EAAM,CAAC6I,KAAK,SAASoB,KAAMd,GAAQe,QAAO,CAAA,EAACC,SAAU,CApBvCjE,CAAAA,IAAWC,EAAAA,EAoB0CiE,QAAShE,EAAa,EACxFnB,GAAE,WAINpE,EAAAiJ,aAAA,CAACxI,EAA+B,KAC/BT,EAAAiJ,aAAA,CAAC1K,EAAU,CACViL,EAAE,OACFC,UAAU,SACVC,SAAS,OACTxF,GAAIoE,GACJqB,GAAG,OACHC,aAAa,MACbC,SAAU7E,GAAa6B,GAAY,EAEnC7G,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAACvK,EAAQ,KACRsB,EAAAiJ,aAAA,CAACxK,EAAU,CAACqL,QAASvB,EAAa,EAAEnE,GAAE,YACtCpE,EAAAiJ,aAAA,CAACjK,EAAYX,EAAA,CAAC6F,GAAIqE,EAAa,EAAKzD,GAAS,eAG/C9E,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAACxK,EAAU,CAACqL,QAAStB,GAAWuB,SAAQ,CAAA,CAAA,EACtC3F,GAAE,SAEJpE,EAAAiJ,aAAA,CAACvK,EAAQ,KACRsB,EAAAiJ,aAAA,CAACrK,EAASP,EAAA,CACT6F,GAAIsE,GACJ,UAAQ,+BACRwB,SAAU,EACVC,MAAK,AAAa,OAAbrG,CAAAA,EAAEwB,GAAOjD,IAAI,AAAJA,GAAIyB,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAXA,EAAaqE,OAAkB,CACtCiC,YAAa9F,GAAE,OAAQ,EACnBU,GAAS,OAAQ,CAAEiF,SAAU3F,GAAE,iBAAkB,CAAE+F,MAAO/F,GAAE,OAAO,EAAG,MAG3EgB,GAAOjD,IAAI,EACXnC,EAAAiJ,aAAA,CAACtK,EAAU,CAAC,YAAU,YAAYuF,GAAOsE,GAAS,QAAS,EAAA,AAC9C,OAD8C3E,CAAAA,EACzDuB,GAAOjD,IAAI,AAAJA,GAAI0B,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAXA,EAAaoE,OACH,GAGdjI,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAACxK,EAAU,CAACqL,QAASrB,EAAiB,EAAErE,GAAE,gBAC1CpE,EAAAiJ,aAAA,CAACvK,EAAQ,KACRsB,EAAAiJ,aAAA,CAAChK,EAAaZ,EAAA,CACb6F,GAAIuE,GACJ,UAAQ,sCACRyB,YAAa9F,GAAE,cAAe,EAC1BU,GAAS,mBAIhB9E,EAAAiJ,aAAA,CAACzK,EAAK,CAAC,UAAQ,6CAA6C,EAC3DwB,EAAAiJ,aAAA,CAACvK,EAAQ,KACRsB,EAAAiJ,aAAA,CAACxK,EAAU,CAACqL,QAASpB,EAAwB,EAAEtE,GAAE,8BACjDpE,EAAAiJ,aAAA,CAACjK,EAAYX,EAAA,CAAC6F,GAAIwE,EAAwB,EAAK5D,GAAS,0BAG1D9E,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAACxK,EAAU,CAACqL,QAASnB,GAAYoB,SAAQ,CAAA,CAAA,EACvC3F,GAAE,UAEJpE,EAAAiJ,aAAA,CAACvK,EAAQ,KACRsB,EAAAiJ,aAAA,CAACrK,EAASP,EAAA,CACT6F,GAAIyE,GACJ,UAAQ,gCACRsB,MAAK,AAAc,OAAdnG,CAAAA,GAAEsB,GAAOhD,KAAK,AAALA,GAAK0B,AAAA,KAAA,IAAAA,GAAA,KAAA,EAAZA,GAAcmE,OAAkB,CACvCmC,MAAOpK,EAAAiJ,aAAA,CAACnK,EAAI,CAACqD,KAAK,OAAOkI,KAAK,KAAK,GACnCH,YAAa9F,GAAE,QAAS,EACpBU,GAAS,QAAS,CACrBiF,SAAU3F,GAAE,iBAAkB,CAAE+F,MAAO/F,GAAE,QAAQ,GACjDkG,SAAU,SAAClI,CAAK,EAAA,OAAK/B,EAAc+B,IAAUgC,GAAE,8BAA8B,IAC5E,CACF,mBAAqBuE,GAAU,QAAS,KAGzCvD,GAAOhD,KAAK,EACZpC,EAAAiJ,aAAA,CAACtK,EAAU,CAAC,YAAU,YAAYuF,GAAOyE,GAAU,QAAS,EAAA,AAC9C,OAD8C5E,CAAAA,GAC1DqB,GAAOhD,KAAK,AAALA,GAAK2B,AAAA,KAAA,IAAAA,GAAA,KAAA,EAAZA,GAAckE,OACJ,GAGdjI,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAACvK,EAAQ,KACRsB,EAAAiJ,aAAA,CAACxK,EAAU,CAACqL,QAASlB,EAAuB,EAAExE,GAAE,yBAChDpE,EAAAiJ,aAAA,CAACjK,EAAYX,EAAA,CAAC6F,GAAI0E,EAAuB,EAAK9D,GAAS,yBAGzD9E,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAACxK,EAAU,CAACqL,QAASjB,EAA+B,EAAEzE,GAAE,+CACxDpE,EAAAiJ,aAAA,CAACvK,EAAQ,KACRsB,EAAAiJ,aAAA,CAAC9I,EAAU,CACV4E,QAASA,GACT5C,KAAK,4BACLoI,OAAQ,SAAAC,CAAA,EAAA,IAAAC,EAAAD,EAAGL,KAAK,CAAI/G,EAAKqH,EAALrH,KAAK,CAAEsH,EAAQD,EAARC,QAAQ,CAAA,OAClC1K,EAAAiJ,aAAA,CAAC7J,EAAuB,CACvB8E,GAAI2E,GACJ,UAAQ,6DACRzF,MAAOA,EACPsH,SAAUA,EACVC,WAAY,EACZrD,OAAQ5B,GACRkF,UAAWjF,GACXkF,QAASvE,GACT4D,YAAa9F,GAAE,gBACf0G,WACC1E,KAAevF,EAAgBkK,OAAO,CAAG,WAAe,EAAG,SAACC,CAAK,EAAA,OAAK/E,GAAc+E,EAAOC,KAAKC,GAAG,CAAC,GAAI1E,IACzG,EACA,YAAWd,KAAmBE,EAAwB,EACrD,CACD,KAIJnB,IACAzE,EAAAiJ,aAAA,CAAAjJ,EAAAmL,QAAA,CAAA,KACCnL,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAAC9I,EAAU,CACV4E,QAASA,GACT5C,KAAK,4BACLoI,OAAQ,SAAAa,CAAA,EAAA,IAAGjB,EAAKiB,EAALjB,KAAK,CAAA,OACfnK,EAAAiJ,aAAA,CAACjI,EAAa3C,EAAA,CAAA,EACT8L,EAAK,CACThH,MAAOiB,GAAE,iCACT8F,YAAa9F,GAAE,4CAA6C,GAC3D,CACD,IAGJpE,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAAC9I,EAAU,CACV4E,QAASA,GACT5C,KAAK,oCACLoI,OAAQ,SAAAc,CAAA,EAAA,IAAGlB,EAAKkB,EAALlB,KAAK,CAAA,OACfnK,EAAAiJ,aAAA,CAACjI,EAAa3C,EAAA,CAAA,EACT8L,EAAK,CACThH,MAAOiB,GAAE,+DACT8F,YAAa9F,GAAE,oBAAqB,GACnC,CACD,IAGJpE,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAAC9I,EAAU,CACV4E,QAASA,GACT5C,KAAK,mCACLoI,OAAQ,SAAAe,CAAA,EAAA,IAAGnB,EAAKmB,EAALnB,KAAK,CAAA,OACfnK,EAAAiJ,aAAA,CAACnI,EAAWzC,EAAA,CAAA,EACP8L,EAAK,CACThH,MAAOiB,GAAE,kDACT8F,YAAa9F,GAAE,yBAA0B,GACxC,CACD,IAGJpE,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAAC9I,EAAU,CACV4E,QAASA,GACT5C,KAAK,sBACLoI,OAAQ,SAAAgB,CAAA,EAAA,IAAGpB,EAAKoB,EAALpB,KAAK,CAAA,OACfnK,EAAAiJ,aAAA,CAAClI,EAAe1C,EAAA,CAAA,EAAK8L,EAAK,CAAEhH,MAAOiB,GAAE,yBAA0B8F,YAAa9F,GAAE,wBAAyB,GAAG,CACzG,IAGJpE,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAAC9I,EAAU,CACV4E,QAASA,GACT5C,KAAK,8BACLoI,OAAQ,SAAAiB,CAAA,EAAA,IAAAC,EAAAD,EAAGrB,KAAK,CAAI/G,EAAKqI,EAALrI,KAAK,CAAEsH,EAAQe,EAARf,QAAQ,CAAA,OAClC1K,EAAAiJ,aAAA,CAAChI,EAAoB,CACpByK,aAAcxH,MAAAA,GAAAA,GAAM,GACpBd,MAAOA,EACPuI,QAASjB,EACTvH,MAAM,iCAAiC,EACtC,CACD,IAGJnD,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAACxK,EAAU,CAACqL,QAAShB,EAA+B,EAAE1E,GAAE,gCACxDpE,EAAAiJ,aAAA,CAAC9I,EAAU,CACV4E,QAASA,GACT5C,KAAK,4BACLoI,OAAQ,SAAAqB,CAAA,EAAA,IAAAC,EAAAD,EAAGzB,KAAK,CAAI/G,EAAKyI,EAALzI,KAAK,CAAEsH,EAAQmB,EAARnB,QAAQ,CAAA,OAClC1K,EAAAiJ,aAAA,CAAC3I,EAAsB,CACtB4D,GAAI4E,GACJgD,SAAQ,CAAA,EACRC,oBAAqB/J,MAAAA,GAAU,KAAA,EAAVA,GAAYqB,GAAI,CACrCD,MAAOA,EACPsH,SAAUA,EACVsB,kBAAiB,CAAA,EACjBC,aAAY,CAAA,EACZC,UAAW,CAAA,EACXC,WAAY,SAAAC,CAAA,EAAA,IAAGjJ,EAAKiJ,EAALjJ,KAAK,CAAKkJ,EAAKlO,EAAAiO,EAAAE,GAAA,OAC7BtM,EAAAiJ,aAAA,CAAC3J,EAAMjB,EAAA,CAAA,EAAKgO,EAAK,CAAElJ,MAAOnD,EAAAiJ,aAAA,CAAA,OAAA,CAAMsD,MAAO,CAAEC,WAAY,QAAQ,CAAG,EAAErJ,EAAc,GAAG,CAClF,EACD,CACD,KAKNnD,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAACvK,EAAQ,KACRsB,EAAAiJ,aAAA,CAACxK,EAAU,CAACqL,QAASf,EAAiC,EAAE3E,GAAE,oCAC1DpE,EAAAiJ,aAAA,CAACjK,EAAYX,EAAA,CAAC6F,GAAI6E,EAAiC,EAAKjE,GAAS,mCAGlEnC,IACA3C,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAACxK,EAAU,CAACqL,QAASd,GAAsBe,SAAQ,CAAA,CAAA,EACjD3F,GAAE,8BAEJpE,EAAAiJ,aAAA,CAAC9I,EAAU,CACV4E,QAASA,GACT5C,KAAK,kBACLsK,MAAO,CAAE1C,SAAU3F,GAAE,iBAAkB,OAAO,EAC9CmG,OAAQ,SAAAmC,CAAA,EAAA,IAAAC,EAAAC,EAAAF,EAAGvC,KAAK,CAAI/G,EAAKwJ,EAALxJ,KAAK,CAAEsH,EAAQkC,EAARlC,QAAQ,CAAA,OAClC1K,EAAAiJ,aAAA,CAAC7H,EAAc,CACd8C,GAAI8E,GACJ5F,MAAOA,EACPsH,SAAUA,EACVT,MAAK,AAAwB,OAAxB0C,CAAAA,EAAEvH,GAAO7B,eAAe,AAAfA,GAAeoJ,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAtBA,EAAwB1E,OAAkB,CACjD,mBAAqBe,GAAoB,SAASA,GAAoB,QAAS,EAC9E,CACD,GAEHhJ,EAAAiJ,aAAA,CAAC5J,EAAS,CAAC6E,GAAO8E,GAAoB,OAAQ,EAAE5E,GAAE,0CACjDgB,GAAO7B,eAAe,EACtBvD,EAAAiJ,aAAA,CAACtK,EAAU,CAAC,YAAU,YAAYuF,GAAO8E,GAAoB,QAAS,EAAA,AAC9C,OAD8ChF,CAAAA,GACpEoB,GAAO7B,eAAe,AAAfA,GAAeS,AAAA,KAAA,IAAAA,GAAA,KAAA,EAAtBA,GAAwBiE,OACd,GAIfjI,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAACvK,EAAQ,KACRsB,EAAAiJ,aAAA,CAACxK,EAAU,CAACqL,QAASrG,EAA2B,EAAEW,GAAE,4CACpDpE,EAAAiJ,aAAA,CAACjK,EAAYX,EAAA,CAAC6F,GAAIT,EAA2B,EAAKqB,GAAS,iCAE5D9E,EAAAiJ,aAAA,CAACvK,EAAQ,KACRsB,EAAAiJ,aAAA,CAAC5J,EAAS,CAAC6E,GAAOT,GAA0B,OAAQ,EAAEW,GAAE,mDAG1DpE,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAAC/H,EAAuB,CAAC2L,KAAM7K,MAAAA,GAAU,KAAA,EAAVA,GAAY8K,cAAAA,AAAe,IAE3D9M,EAAAiJ,aAAA,CAAClK,EAAO,CAACgO,GAAI,EAAG,GAChB/M,EAAAiJ,aAAA,CAACzK,EAAK,KACLwB,EAAAiJ,aAAA,CAACxK,EAAU,CAACsO,GAAI,CAAE,EAAE3I,GAAE,WACtBpE,EAAAiJ,aAAA,CAACpK,EAAG,CAACmO,QAAQ,OAAO9D,cAAc,SAAS+D,OAAO,MAAM,EACvDjN,EAAAiJ,aAAA,CAAC9H,EAAsB,CAAC4D,QAASA,GAASD,SAAUA,EAAS,QAQrE\"}"}