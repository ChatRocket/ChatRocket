{"code":"function module(e,t,l){let n,a,r,i,o,m,s,c,d,u,g,h,E,p,v,_,f,b,w,C,F,k,T,D,x,q,S,I,y,M,R,O,L,A,N,B,P,H,Q,W,G,V,j,z,U,J,K,X;let Y=[\"label\"];function Z(e,t){return e||t}l.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){n=e}},0),l.link(\"@babel/runtime/helpers/extends\",{default(e){a=e}},1),l.link(\"@rocket.chat/fuselage\",{FieldGroup(e){r=e},Field(e){i=e},FieldLabel(e){o=e},FieldRow(e){m=e},FieldError(e){s=e},TextInput(e){c=e},Box(e){d=e},Icon(e){u=e},Divider(e){g=e},ToggleSwitch(e){h=e},TextAreaInput(e){E=e},ButtonGroup(e){p=e},Button(e){v=e},PaginatedSelectFiltered(e){_=e},FieldHint(e){f=e},Option(e){b=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue(e){w=e},useMutableCallback(e){C=e},useUniqueId(e){F=e}},1),l.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){k=e},useMethod(e){T=e},useEndpoint(e){D=e},useTranslation(e){x=e},useRouter(e){q=e}},2),l.link(\"@tanstack/react-query\",{useQueryClient(e){S=e}},3),l.link(\"react\",{default(e){I=e},useMemo(e){y=e},useState(e){M=e}},4),l.link(\"react-hook-form\",{Controller(e){R=e},useForm(e){O=e}},5),l.link(\"../../../../lib/emailValidator\",{validateEmail(e){L=e}},6),l.link(\"../../../components/AutoCompleteDepartment\",{default(e){A=e}},7),l.link(\"../../../components/Page\",{Page(e){N=e},PageHeader(e){B=e},PageScrollableContentWithShadow(e){P=e}},8),l.link(\"../../../hooks/lists/useRecordList\",{useRecordList(e){H=e}},9),l.link(\"../../../hooks/useHasLicenseModule\",{useHasLicenseModule(e){Q=e}},10),l.link(\"../../../hooks/useRoomsList\",{useRoomsList(e){W=e}},11),l.link(\"../../../lib/asyncState\",{AsyncStatePhase(e){G=e}},12),l.link(\"../additionalForms\",{EeTextInput(e){V=e},EeTextAreaInput(e){j=e},EeNumberInput(e){z=e},DepartmentForwarding(e){U=e},DepartmentBusinessHours(e){J=e}},13),l.link(\"./DepartmentAgentsTable/DepartmentAgentsTable\",{default(e){K=e}},14),l.link(\"./DepartmentTags\",{default(e){X=e}},15);let $=e=>{var t,l;let{department:n,agents:a,allowedToForwardData:r}=e;return{name:(null==n?void 0:n.name)||\"\",email:(null==n?void 0:n.email)||\"\",description:(null==n?void 0:n.description)||\"\",enabled:!!(null!=n&&n.enabled),maxNumberSimultaneousChat:null==n?void 0:n.maxNumberSimultaneousChat,showOnRegistration:!!(null!=n&&n.showOnRegistration),showOnOfflineForm:!!(null!=n&&n.showOnOfflineForm),abandonedRoomsCloseCustomMessage:(null==n?void 0:n.abandonedRoomsCloseCustomMessage)||\"\",requestTagBeforeClosingChat:!!(null!=n&&n.requestTagBeforeClosingChat),offlineMessageChannelName:(null==n?void 0:n.offlineMessageChannelName)||\"\",visitorInactivityTimeoutInSeconds:null==n?void 0:n.visitorInactivityTimeoutInSeconds,waitingQueueMessage:(null==n?void 0:n.waitingQueueMessage)||\"\",departmentsAllowedToForward:(null==r?void 0:null===(t=r.departments)||void 0===t?void 0:t.map(e=>({label:e.name,value:e._id})))||[],fallbackForwardDepartment:(null==n?void 0:n.fallbackForwardDepartment)||\"\",chatClosingTags:null!==(l=null==n?void 0:n.chatClosingTags)&&void 0!==l?l:[],agentList:a||[],allowReceiveForwardOffline:(null==n?void 0:n.allowReceiveForwardOffline)||!1}};l.exportDefault(function(e){var t,l,Z,ee,et;let{data:el,id:en,title:ea,allowedToForwardData:er}=e,ei=x(),eo=q(),em=S(),{department:es,agents:ec=[]}=el||{},ed=Q(\"livechat-enterprise\"),eu=$({department:es,agents:ec,allowedToForwardData:er}),{register:eg,control:eh,handleSubmit:eE,watch:ep,formState:{errors:ev,isValid:e_,isDirty:ef,isSubmitting:eb}}=O({mode:\"onChange\",defaultValues:eu}),ew=ep(\"requestTagBeforeClosingChat\"),[eC,eF]=M(\"\"),ek=w(eC,500),{itemsList:eT,loadMoreItems:eD}=W(y(()=>({text:ek}),[ek])),{phase:ex,items:eq,itemCount:eS}=H(eT),eI=T(\"livechat:saveDepartment\"),ey=D(\"POST\",\"/v1/livechat/department/:_id/agents\",{_id:en||\"\"}),eM=k(),eR=C(async e=>{let{agentList:t,enabled:l,name:n,description:a,showOnRegistration:r,showOnOfflineForm:i,email:o,chatClosingTags:m,offlineMessageChannelName:s,maxNumberSimultaneousChat:c,visitorInactivityTimeoutInSeconds:d,abandonedRoomsCloseCustomMessage:u,waitingQueueMessage:g,departmentsAllowedToForward:h,fallbackForwardDepartment:E,allowReceiveForwardOffline:p}=e,v={enabled:l,name:n,description:a,showOnRegistration:r,showOnOfflineForm:i,requestTagBeforeClosingChat:ew,email:o,chatClosingTags:m,offlineMessageChannelName:s,maxNumberSimultaneousChat:c,visitorInactivityTimeoutInSeconds:d,abandonedRoomsCloseCustomMessage:u,waitingQueueMessage:g,departmentsAllowedToForward:null==h?void 0:h.map(e=>e.value),fallbackForwardDepartment:E,allowReceiveForwardOffline:p};try{if(en){let{agentList:e}=eu,l={upsert:t.filter(t=>!e.some(e=>e._id===t._id&&t.count===e.count&&t.order===e.order)),remove:e.filter(e=>!t.some(t=>e._id===t._id))};await eI(en,v,[]),(l.upsert.length>0||l.remove.length>0)&&await ey(l)}else await eI(null!=en?en:null,v,t);em.invalidateQueries([\"/v1/livechat/department/:_id\",en]),eM({type:\"success\",message:ei(\"Saved\")}),eo.navigate(\"/omnichannel/departments\")}catch(e){eM({type:\"error\",message:e})}}),eO=F(),eL=F(),eA=F(),eN=F(),eB=F(),eP=F(),eH=F(),eQ=F(),eW=F(),eG=F(),eV=F(),ej=F();return I.createElement(N,{flexDirection:\"row\"},I.createElement(N,null,I.createElement(B,{title:ea,onClickBack:()=>eo.navigate(\"/omnichannel/departments\")},I.createElement(p,null,I.createElement(v,{type:\"submit\",form:eO,primary:!0,disabled:!(e_&&ef),loading:eb},ei(\"Save\")))),I.createElement(P,null,I.createElement(r,{w:\"full\",alignSelf:\"center\",maxWidth:\"x600\",id:eO,is:\"form\",autoComplete:\"off\",onSubmit:eE(eR)},I.createElement(i,null,I.createElement(m,null,I.createElement(o,{htmlFor:eL},ei(\"Enabled\")),I.createElement(h,a({id:eL},eg(\"enabled\"))))),I.createElement(i,null,I.createElement(o,{htmlFor:eA,required:!0},ei(\"Name\")),I.createElement(m,null,I.createElement(c,a({id:eA,\"data-qa\":\"DepartmentEditTextInput-Name\",flexGrow:1,error:null===(t=ev.name)||void 0===t?void 0:t.message,placeholder:ei(\"Name\")},eg(\"name\",{required:ei(\"Required_field\",{field:ei(\"Name\")})})))),ev.name&&I.createElement(s,{\"aria-live\":\"assertive\",id:\"\".concat(eA,\"-error\")},null===(l=ev.name)||void 0===l?void 0:l.message)),I.createElement(i,null,I.createElement(o,{htmlFor:eN},ei(\"Description\")),I.createElement(m,null,I.createElement(E,a({id:eN,\"data-qa\":\"DepartmentEditTextInput-Description\",placeholder:ei(\"Description\")},eg(\"description\"))))),I.createElement(i,{\"data-qa\":\"DepartmentEditToggle-ShowOnRegistrationPage\"},I.createElement(m,null,I.createElement(o,{htmlFor:eB},ei(\"Show_on_registration_page\")),I.createElement(h,a({id:eB},eg(\"showOnRegistration\"))))),I.createElement(i,null,I.createElement(o,{htmlFor:eP,required:!0},ei(\"Email\")),I.createElement(m,null,I.createElement(c,a({id:eP,\"data-qa\":\"DepartmentEditTextInput-Email\",error:null===(Z=ev.email)||void 0===Z?void 0:Z.message,addon:I.createElement(u,{name:\"mail\",size:\"x20\"}),placeholder:ei(\"Email\")},eg(\"email\",{required:ei(\"Required_field\",{field:ei(\"Email\")}),validate:e=>L(e)||ei(\"error-invalid-email-address\")}),{\"aria-describedby\":\"\".concat(eP,\"-error\")}))),ev.email&&I.createElement(s,{\"aria-live\":\"assertive\",id:\"\".concat(eP,\"-error\")},null===(ee=ev.email)||void 0===ee?void 0:ee.message)),I.createElement(i,null,I.createElement(m,null,I.createElement(o,{htmlFor:eH},ei(\"Show_on_offline_page\")),I.createElement(h,a({id:eH},eg(\"showOnOfflineForm\"))))),I.createElement(i,null,I.createElement(o,{htmlFor:eQ},ei(\"Livechat_DepartmentOfflineMessageToChannel\")),I.createElement(m,null,I.createElement(R,{control:eh,name:\"offlineMessageChannelName\",render:e=>{let{field:{value:t,onChange:l}}=e;return I.createElement(_,{id:eQ,\"data-qa\":\"DepartmentSelect-LivechatDepartmentOfflineMessageToChannel\",value:t,onChange:l,flexShrink:0,filter:eC,setFilter:eF,options:eq,placeholder:ei(\"Channel_name\"),endReached:ex===G.LOADING?()=>void 0:e=>eD(e,Math.min(50,eS)),\"aria-busy\":eC!==ek})}}))),ed&&I.createElement(I.Fragment,null,I.createElement(i,null,I.createElement(R,{control:eh,name:\"maxNumberSimultaneousChat\",render:e=>{let{field:t}=e;return I.createElement(z,a({},t,{label:ei(\"Max_number_of_chats_per_agent\"),placeholder:ei(\"Max_number_of_chats_per_agent_description\")}))}})),I.createElement(i,null,I.createElement(R,{control:eh,name:\"visitorInactivityTimeoutInSeconds\",render:e=>{let{field:t}=e;return I.createElement(z,a({},t,{label:ei(\"How_long_to_wait_to_consider_visitor_abandonment_in_seconds\"),placeholder:ei(\"Number_in_seconds\")}))}})),I.createElement(i,null,I.createElement(R,{control:eh,name:\"abandonedRoomsCloseCustomMessage\",render:e=>{let{field:t}=e;return I.createElement(V,a({},t,{label:ei(\"Livechat_abandoned_rooms_closed_custom_message\"),placeholder:ei(\"Enter_a_custom_message\")}))}})),I.createElement(i,null,I.createElement(R,{control:eh,name:\"waitingQueueMessage\",render:e=>{let{field:t}=e;return I.createElement(j,a({},t,{label:ei(\"Waiting_queue_message\"),placeholder:ei(\"Waiting_queue_message\")}))}})),I.createElement(i,null,I.createElement(R,{control:eh,name:\"departmentsAllowedToForward\",render:e=>{let{field:{value:t,onChange:l}}=e;return I.createElement(U,{departmentId:null!=en?en:\"\",value:t,handler:l,label:\"List_of_departments_for_forward\"})}})),I.createElement(i,null,I.createElement(o,{htmlFor:eW},ei(\"Fallback_forward_department\")),I.createElement(R,{control:eh,name:\"fallbackForwardDepartment\",render:e=>{let{field:{value:t,onChange:l}}=e;return I.createElement(A,{id:eW,haveNone:!0,excludeDepartmentId:null==es?void 0:es._id,value:t,onChange:l,onlyMyDepartments:!0,showArchived:!0,withTitle:!1,renderItem:e=>{let{label:t}=e,l=n(e,Y);return I.createElement(b,a({},l,{label:I.createElement(\"span\",{style:{whiteSpace:\"normal\"}},t)}))}})}}))),I.createElement(i,null,I.createElement(m,null,I.createElement(o,{htmlFor:eG},ei(\"Request_tag_before_closing_chat\")),I.createElement(h,a({id:eG},eg(\"requestTagBeforeClosingChat\"))))),ew&&I.createElement(i,null,I.createElement(o,{htmlFor:eV,required:!0},ei(\"Conversation_closing_tags\")),I.createElement(R,{control:eh,name:\"chatClosingTags\",rules:{required:ei(\"Required_field\",\"tags\")},render:e=>{var t;let{field:{value:l,onChange:n}}=e;return I.createElement(X,{id:eV,value:l,onChange:n,error:null===(t=ev.chatClosingTags)||void 0===t?void 0:t.message,\"aria-describedby\":\"\".concat(eV,\"-hint \").concat(eV,\"-error\")})}}),I.createElement(f,{id:\"\".concat(eV,\"-hint\")},ei(\"Conversation_closing_tags_description\")),ev.chatClosingTags&&I.createElement(s,{\"aria-live\":\"assertive\",id:\"\".concat(eV,\"-error\")},null===(et=ev.chatClosingTags)||void 0===et?void 0:et.message)),I.createElement(i,null,I.createElement(m,null,I.createElement(o,{htmlFor:ej},ei(\"Accept_receive_inquiry_no_online_agents\")),I.createElement(h,a({id:ej},eg(\"allowReceiveForwardOffline\")))),I.createElement(m,null,I.createElement(f,{id:\"\".concat(ej,\"-hint\")},ei(\"Accept_receive_inquiry_no_online_agents_Hint\")))),I.createElement(i,null,I.createElement(J,{bhId:null==es?void 0:es.businessHourId})),I.createElement(g,{mb:16}),I.createElement(i,null,I.createElement(o,{mb:4},ei(\"Agents\")),I.createElement(d,{display:\"flex\",flexDirection:\"column\",height:\"50vh\"},I.createElement(K,{control:eh,register:eg})))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/departments/EditDepartment.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatDepartment, ILivechatDepartmentAgents, Serialized } from '@rocket.chat/core-typings';\\nimport {\\n\\tFieldGroup,\\n\\tField,\\n\\tFieldLabel,\\n\\tFieldRow,\\n\\tFieldError,\\n\\tTextInput,\\n\\tBox,\\n\\tIcon,\\n\\tDivider,\\n\\tToggleSwitch,\\n\\tTextAreaInput,\\n\\tButtonGroup,\\n\\tButton,\\n\\tPaginatedSelectFiltered,\\n\\tFieldHint,\\n\\tOption,\\n} from '@rocket.chat/fuselage';\\nimport { useDebouncedValue, useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport { useToastMessageDispatch, useMethod, useEndpoint, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\\nimport { useQueryClient } from '@tanstack/react-query';\\nimport React, { useMemo, useState } from 'react';\\nimport { Controller, useForm } from 'react-hook-form';\\n\\nimport { validateEmail } from '../../../../lib/emailValidator';\\nimport AutoCompleteDepartment from '../../../components/AutoCompleteDepartment';\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport { useRecordList } from '../../../hooks/lists/useRecordList';\\nimport { useHasLicenseModule } from '../../../hooks/useHasLicenseModule';\\nimport { useRoomsList } from '../../../hooks/useRoomsList';\\nimport { AsyncStatePhase } from '../../../lib/asyncState';\\nimport { EeTextInput, EeTextAreaInput, EeNumberInput, DepartmentForwarding, DepartmentBusinessHours } from '../additionalForms';\\nimport DepartmentsAgentsTable from './DepartmentAgentsTable/DepartmentAgentsTable';\\nimport DepartmentTags from './DepartmentTags';\\n\\nexport type EditDepartmentProps = {\\n\\tid?: string;\\n\\ttitle: string;\\n\\tdata?: Serialized<{\\n\\t\\tdepartment: ILivechatDepartment | null;\\n\\t\\tagents?: ILivechatDepartmentAgents[];\\n\\t}>;\\n\\tallowedToForwardData?: Serialized<{\\n\\t\\tdepartments: ILivechatDepartment[];\\n\\t}>;\\n};\\n\\ntype InitialValueParams = {\\n\\tdepartment?: Serialized<ILivechatDepartment> | null;\\n\\tagents?: Serialized<ILivechatDepartmentAgents>[];\\n\\tallowedToForwardData?: EditDepartmentProps['allowedToForwardData'];\\n};\\n\\nexport type IDepartmentAgent = Pick<ILivechatDepartmentAgents, 'agentId' | 'username' | 'count' | 'order'> & {\\n\\t_id?: string;\\n\\tname?: string;\\n};\\n\\nexport type FormValues = {\\n\\tname: string;\\n\\temail: string;\\n\\tdescription: string;\\n\\tenabled: boolean;\\n\\tmaxNumberSimultaneousChat: number;\\n\\tshowOnRegistration: boolean;\\n\\tshowOnOfflineForm: boolean;\\n\\tabandonedRoomsCloseCustomMessage: string;\\n\\trequestTagBeforeClosingChat: boolean;\\n\\tofflineMessageChannelName: string;\\n\\tvisitorInactivityTimeoutInSeconds: number;\\n\\twaitingQueueMessage: string;\\n\\tdepartmentsAllowedToForward: { label: string; value: string }[];\\n\\tfallbackForwardDepartment: string;\\n\\tagentList: IDepartmentAgent[];\\n\\tchatClosingTags: string[];\\n\\tallowReceiveForwardOffline: boolean;\\n};\\n\\nfunction withDefault<T>(key: T | undefined | null, defaultValue: T) {\\n\\treturn key || defaultValue;\\n}\\n\\nconst getInitialValues = ({ department, agents, allowedToForwardData }: InitialValueParams) => ({\\n\\tname: withDefault(department?.name, ''),\\n\\temail: withDefault(department?.email, ''),\\n\\tdescription: withDefault(department?.description, ''),\\n\\tenabled: !!department?.enabled,\\n\\tmaxNumberSimultaneousChat: department?.maxNumberSimultaneousChat,\\n\\tshowOnRegistration: !!department?.showOnRegistration,\\n\\tshowOnOfflineForm: !!department?.showOnOfflineForm,\\n\\tabandonedRoomsCloseCustomMessage: withDefault(department?.abandonedRoomsCloseCustomMessage, ''),\\n\\trequestTagBeforeClosingChat: !!department?.requestTagBeforeClosingChat,\\n\\tofflineMessageChannelName: withDefault(department?.offlineMessageChannelName, ''),\\n\\tvisitorInactivityTimeoutInSeconds: department?.visitorInactivityTimeoutInSeconds,\\n\\twaitingQueueMessage: withDefault(department?.waitingQueueMessage, ''),\\n\\tdepartmentsAllowedToForward: allowedToForwardData?.departments?.map((dep) => ({ label: dep.name, value: dep._id })) || [],\\n\\tfallbackForwardDepartment: withDefault(department?.fallbackForwardDepartment, ''),\\n\\tchatClosingTags: department?.chatClosingTags ?? [],\\n\\tagentList: agents || [],\\n\\tallowReceiveForwardOffline: withDefault(department?.allowReceiveForwardOffline, false),\\n});\\n\\nfunction EditDepartment({ data, id, title, allowedToForwardData }: EditDepartmentProps) {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst queryClient = useQueryClient();\\n\\n\\tconst { department, agents = [] } = data || {};\\n\\n\\tconst hasLicense = useHasLicenseModule('livechat-enterprise');\\n\\n\\tconst initialValues = getInitialValues({ department, agents, allowedToForwardData });\\n\\n\\tconst {\\n\\t\\tregister,\\n\\t\\tcontrol,\\n\\t\\thandleSubmit,\\n\\t\\twatch,\\n\\t\\tformState: { errors, isValid, isDirty, isSubmitting },\\n\\t} = useForm<FormValues>({ mode: 'onChange', defaultValues: initialValues });\\n\\n\\tconst requestTagBeforeClosingChat = watch('requestTagBeforeClosingChat');\\n\\n\\tconst [fallbackFilter, setFallbackFilter] = useState<string>('');\\n\\n\\tconst debouncedFallbackFilter = useDebouncedValue(fallbackFilter, 500);\\n\\n\\tconst { itemsList: RoomsList, loadMoreItems: loadMoreRooms } = useRoomsList(\\n\\t\\tuseMemo(() => ({ text: debouncedFallbackFilter }), [debouncedFallbackFilter]),\\n\\t);\\n\\n\\tconst { phase: roomsPhase, items: roomsItems, itemCount: roomsTotal } = useRecordList(RoomsList);\\n\\n\\tconst saveDepartmentInfo = useMethod('livechat:saveDepartment');\\n\\tconst saveDepartmentAgentsInfoOnEdit = useEndpoint('POST', `/v1/livechat/department/:_id/agents`, { _id: id || '' });\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst handleSave = useMutableCallback(async (data: FormValues) => {\\n\\t\\tconst {\\n\\t\\t\\tagentList,\\n\\t\\t\\tenabled,\\n\\t\\t\\tname,\\n\\t\\t\\tdescription,\\n\\t\\t\\tshowOnRegistration,\\n\\t\\t\\tshowOnOfflineForm,\\n\\t\\t\\temail,\\n\\t\\t\\tchatClosingTags,\\n\\t\\t\\tofflineMessageChannelName,\\n\\t\\t\\tmaxNumberSimultaneousChat,\\n\\t\\t\\tvisitorInactivityTimeoutInSeconds,\\n\\t\\t\\tabandonedRoomsCloseCustomMessage,\\n\\t\\t\\twaitingQueueMessage,\\n\\t\\t\\tdepartmentsAllowedToForward,\\n\\t\\t\\tfallbackForwardDepartment,\\n\\t\\t\\tallowReceiveForwardOffline,\\n\\t\\t} = data;\\n\\n\\t\\tconst payload = {\\n\\t\\t\\tenabled,\\n\\t\\t\\tname,\\n\\t\\t\\tdescription,\\n\\t\\t\\tshowOnRegistration,\\n\\t\\t\\tshowOnOfflineForm,\\n\\t\\t\\trequestTagBeforeClosingChat,\\n\\t\\t\\temail,\\n\\t\\t\\tchatClosingTags,\\n\\t\\t\\tofflineMessageChannelName,\\n\\t\\t\\tmaxNumberSimultaneousChat,\\n\\t\\t\\tvisitorInactivityTimeoutInSeconds,\\n\\t\\t\\tabandonedRoomsCloseCustomMessage,\\n\\t\\t\\twaitingQueueMessage,\\n\\t\\t\\tdepartmentsAllowedToForward: departmentsAllowedToForward?.map((dep) => dep.value),\\n\\t\\t\\tfallbackForwardDepartment,\\n\\t\\t\\tallowReceiveForwardOffline,\\n\\t\\t};\\n\\n\\t\\ttry {\\n\\t\\t\\tif (id) {\\n\\t\\t\\t\\tconst { agentList: initialAgentList } = initialValues;\\n\\n\\t\\t\\t\\tconst agentListPayload = {\\n\\t\\t\\t\\t\\tupsert: agentList.filter(\\n\\t\\t\\t\\t\\t\\t(agent) =>\\n\\t\\t\\t\\t\\t\\t\\t!initialAgentList.some(\\n\\t\\t\\t\\t\\t\\t\\t\\t(initialAgent) =>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tinitialAgent._id === agent._id && agent.count === initialAgent.count && agent.order === initialAgent.order,\\n\\t\\t\\t\\t\\t\\t\\t),\\n\\t\\t\\t\\t\\t),\\n\\t\\t\\t\\t\\tremove: initialAgentList.filter((initialAgent) => !agentList.some((agent) => initialAgent._id === agent._id)),\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tawait saveDepartmentInfo(id, payload, []);\\n\\t\\t\\t\\tif (agentListPayload.upsert.length > 0 || agentListPayload.remove.length > 0) {\\n\\t\\t\\t\\t\\tawait saveDepartmentAgentsInfoOnEdit(agentListPayload);\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tawait saveDepartmentInfo(id ?? null, payload, agentList);\\n\\t\\t\\t}\\n\\t\\t\\tqueryClient.invalidateQueries(['/v1/livechat/department/:_id', id]);\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Saved') });\\n\\t\\t\\trouter.navigate('/omnichannel/departments');\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t});\\n\\n\\tconst isFormValid = isValid && isDirty;\\n\\n\\tconst formId = useUniqueId();\\n\\tconst enabledField = useUniqueId();\\n\\tconst nameField = useUniqueId();\\n\\tconst descriptionField = useUniqueId();\\n\\tconst showOnRegistrationField = useUniqueId();\\n\\tconst emailField = useUniqueId();\\n\\tconst showOnOfflineFormField = useUniqueId();\\n\\tconst offlineMessageChannelNameField = useUniqueId();\\n\\tconst fallbackForwardDepartmentField = useUniqueId();\\n\\tconst requestTagBeforeClosingChatField = useUniqueId();\\n\\tconst chatClosingTagsField = useUniqueId();\\n\\tconst allowReceiveForwardOffline = useUniqueId();\\n\\n\\treturn (\\n\\t\\t<Page flexDirection='row'>\\n\\t\\t\\t<Page>\\n\\t\\t\\t\\t<PageHeader title={title} onClickBack={() => router.navigate('/omnichannel/departments')}>\\n\\t\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t\\t<Button type='submit' form={formId} primary disabled={!isFormValid} loading={isSubmitting}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Save')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t</PageHeader>\\n\\t\\t\\t\\t<PageScrollableContentWithShadow>\\n\\t\\t\\t\\t\\t<FieldGroup\\n\\t\\t\\t\\t\\t\\tw='full'\\n\\t\\t\\t\\t\\t\\talignSelf='center'\\n\\t\\t\\t\\t\\t\\tmaxWidth='x600'\\n\\t\\t\\t\\t\\t\\tid={formId}\\n\\t\\t\\t\\t\\t\\tis='form'\\n\\t\\t\\t\\t\\t\\tautoComplete='off'\\n\\t\\t\\t\\t\\t\\tonSubmit={handleSubmit(handleSave)}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={enabledField}>{t('Enabled')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ToggleSwitch id={enabledField} {...register('enabled')} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={nameField} required>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Name')}\\n\\t\\t\\t\\t\\t\\t\\t</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tid={nameField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa='DepartmentEditTextInput-Name'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tflexGrow={1}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\terror={errors.name?.message as string}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Name')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{...register('name', { required: t('Required_field', { field: t('Name') }) })}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t{errors.name && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{errors.name?.message}\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldError>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<TextAreaInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tid={descriptionField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa='DepartmentEditTextInput-Description'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Description')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{...register('description')}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field data-qa='DepartmentEditToggle-ShowOnRegistrationPage'>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={showOnRegistrationField}>{t('Show_on_registration_page')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ToggleSwitch id={showOnRegistrationField} {...register('showOnRegistration')} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={emailField} required>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Email')}\\n\\t\\t\\t\\t\\t\\t\\t</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tid={emailField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa='DepartmentEditTextInput-Email'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\terror={errors.email?.message as string}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\taddon={<Icon name='mail' size='x20' />}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Email')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{...register('email', {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trequired: t('Required_field', { field: t('Email') }),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalidate: (email) => validateEmail(email) || t('error-invalid-email-address'),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t})}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\taria-describedby={`${emailField}-error`}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t{errors.email && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldError aria-live='assertive' id={`${emailField}-error`}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{errors.email?.message}\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldError>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={showOnOfflineFormField}>{t('Show_on_offline_page')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ToggleSwitch id={showOnOfflineFormField} {...register('showOnOfflineForm')} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={offlineMessageChannelNameField}>{t('Livechat_DepartmentOfflineMessageToChannel')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='offlineMessageChannelName'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field: { value, onChange } }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<PaginatedSelectFiltered\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={offlineMessageChannelNameField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-qa='DepartmentSelect-LivechatDepartmentOfflineMessageToChannel'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={value}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonChange={onChange}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tflexShrink={0}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfilter={fallbackFilter}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tsetFilter={setFallbackFilter as (value?: string | number) => void}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\toptions={roomsItems}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Channel_name')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tendReached={\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\troomsPhase === AsyncStatePhase.LOADING ? () => undefined : (start) => loadMoreRooms(start, Math.min(50, roomsTotal))\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-busy={fallbackFilter !== debouncedFallbackFilter}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t{hasLicense && (\\n\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='maxNumberSimultaneousChat'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<EeNumberInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlabel={t('Max_number_of_chats_per_agent')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Max_number_of_chats_per_agent_description')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='visitorInactivityTimeoutInSeconds'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<EeNumberInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlabel={t('How_long_to_wait_to_consider_visitor_abandonment_in_seconds')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Number_in_seconds')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='abandonedRoomsCloseCustomMessage'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<EeTextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlabel={t('Livechat_abandoned_rooms_closed_custom_message')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={t('Enter_a_custom_message')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='waitingQueueMessage'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<EeTextAreaInput {...field} label={t('Waiting_queue_message')} placeholder={t('Waiting_queue_message')} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='departmentsAllowedToForward'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field: { value, onChange } }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<DepartmentForwarding\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdepartmentId={id ?? ''}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={value}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\thandler={onChange}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlabel='List_of_departments_for_forward'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={fallbackForwardDepartmentField}>{t('Fallback_forward_department')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tname='fallbackForwardDepartment'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field: { value, onChange } }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<AutoCompleteDepartment\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={fallbackForwardDepartmentField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\thaveNone\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\texcludeDepartmentId={department?._id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={value}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonChange={onChange}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonlyMyDepartments\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tshowArchived\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\twithTitle={false}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trenderItem={({ label, ...props }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={requestTagBeforeClosingChatField}>{t('Request_tag_before_closing_chat')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ToggleSwitch id={requestTagBeforeClosingChatField} {...register('requestTagBeforeClosingChat')} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t{requestTagBeforeClosingChat && (\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={chatClosingTagsField} required>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Conversation_closing_tags')}\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='chatClosingTags'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trules={{ required: t('Required_field', 'tags') }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field: { value, onChange } }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<DepartmentTags\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={chatClosingTagsField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={value}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonChange={onChange}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\terror={errors.chatClosingTags?.message as string}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-describedby={`${chatClosingTagsField}-hint ${chatClosingTagsField}-error`}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldHint id={`${chatClosingTagsField}-hint`}>{t('Conversation_closing_tags_description')}</FieldHint>\\n\\t\\t\\t\\t\\t\\t\\t\\t{errors.chatClosingTags && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FieldError aria-live='assertive' id={`${chatClosingTagsField}-error`}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{errors.chatClosingTags?.message}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</FieldError>\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={allowReceiveForwardOffline}>{t('Accept_receive_inquiry_no_online_agents')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ToggleSwitch id={allowReceiveForwardOffline} {...register('allowReceiveForwardOffline')} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldHint id={`${allowReceiveForwardOffline}-hint`}>{t('Accept_receive_inquiry_no_online_agents_Hint')}</FieldHint>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<DepartmentBusinessHours bhId={department?.businessHourId} />\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t<Divider mb={16} />\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel mb={4}>{t('Agents')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<Box display='flex' flexDirection='column' height='50vh'>\\n\\t\\t\\t\\t\\t\\t\\t\\t<DepartmentsAgentsTable control={control} register={register} />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t\\t</Page>\\n\\t\\t</Page>\\n\\t);\\n}\\n\\nexport default EditDepartment;\\n\",null],\"names\":[\"_objectWithoutProperties\",\"_extends\",\"FieldGroup\",\"Field\",\"FieldLabel\",\"FieldRow\",\"FieldError\",\"TextInput\",\"Box\",\"Icon\",\"Divider\",\"ToggleSwitch\",\"TextAreaInput\",\"ButtonGroup\",\"Button\",\"PaginatedSelectFiltered\",\"FieldHint\",\"Option\",\"useDebouncedValue\",\"useMutableCallback\",\"useUniqueId\",\"useToastMessageDispatch\",\"useMethod\",\"useEndpoint\",\"useTranslation\",\"useRouter\",\"useQueryClient\",\"React\",\"useMemo\",\"useState\",\"Controller\",\"useForm\",\"validateEmail\",\"AutoCompleteDepartment\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"useRecordList\",\"useHasLicenseModule\",\"useRoomsList\",\"AsyncStatePhase\",\"EeTextInput\",\"EeTextAreaInput\",\"EeNumberInput\",\"DepartmentForwarding\",\"DepartmentBusinessHours\",\"DepartmentsAgentsTable\",\"DepartmentTags\",\"withDefault\",\"key\",\"defaultValue\",\"module\",\"link\",\"default\",\"v\",\"getInitialValues\",\"_ref\",\"_allowedToForwardData\",\"_department$chatClosi\",\"department\",\"agents\",\"allowedToForwardData\",\"name\",\"email\",\"description\",\"enabled\",\"maxNumberSimultaneousChat\",\"showOnRegistration\",\"showOnOfflineForm\",\"abandonedRoomsCloseCustomMessage\",\"requestTagBeforeClosingChat\",\"offlineMessageChannelName\",\"visitorInactivityTimeoutInSeconds\",\"waitingQueueMessage\",\"departmentsAllowedToForward\",\"departments\",\"map\",\"dep\",\"label\",\"value\",\"_id\",\"fallbackForwardDepartment\",\"chatClosingTags\",\"agentList\",\"allowReceiveForwardOffline\",\"exportDefault\",\"_ref2\",\"_errors$name\",\"_errors$name2\",\"_errors$email\",\"_errors$email2\",\"_errors$chatClosingTa2\",\"data\",\"id\",\"title\",\"t\",\"router\",\"queryClient\",\"hasLicense\",\"initialValues\",\"register\",\"control\",\"handleSubmit\",\"watch\",\"formState\",\"errors\",\"isValid\",\"isDirty\",\"isSubmitting\",\"mode\",\"defaultValues\",\"fallbackFilter\",\"setFallbackFilter\",\"debouncedFallbackFilter\",\"itemsList\",\"RoomsList\",\"loadMoreItems\",\"loadMoreRooms\",\"text\",\"phase\",\"roomsPhase\",\"items\",\"roomsItems\",\"itemCount\",\"roomsTotal\",\"saveDepartmentInfo\",\"saveDepartmentAgentsInfoOnEdit\",\"dispatchToastMessage\",\"handleSave\",\"payload\",\"initialAgentList\",\"agentListPayload\",\"upsert\",\"filter\",\"agent\",\"some\",\"initialAgent\",\"count\",\"order\",\"remove\",\"length\",\"invalidateQueries\",\"type\",\"message\",\"navigate\",\"error\",\"formId\",\"enabledField\",\"nameField\",\"descriptionField\",\"showOnRegistrationField\",\"emailField\",\"showOnOfflineFormField\",\"offlineMessageChannelNameField\",\"fallbackForwardDepartmentField\",\"requestTagBeforeClosingChatField\",\"chatClosingTagsField\",\"createElement\",\"flexDirection\",\"onClickBack\",\"form\",\"primary\",\"disabled\",\"loading\",\"w\",\"alignSelf\",\"maxWidth\",\"is\",\"autoComplete\",\"onSubmit\",\"htmlFor\",\"required\",\"flexGrow\",\"placeholder\",\"field\",\"concat\",\"addon\",\"size\",\"validate\",\"render\",\"_ref3\",\"onChange\",\"flexShrink\",\"setFilter\",\"options\",\"endReached\",\"LOADING\",\"undefined\",\"start\",\"Math\",\"min\",\"Fragment\",\"_ref4\",\"_ref5\",\"_ref6\",\"_ref7\",\"_ref8\",\"departmentId\",\"handler\",\"_ref9\",\"haveNone\",\"excludeDepartmentId\",\"onlyMyDepartments\",\"showArchived\",\"withTitle\",\"renderItem\",\"_ref10\",\"props\",\"_excluded\",\"style\",\"whiteSpace\",\"rules\",\"_ref11\",\"_errors$chatClosingTa\",\"bhId\",\"businessHourId\",\"mb\",\"display\",\"height\"],\"mappings\":\"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\"}"}