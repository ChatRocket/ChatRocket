{"code":"function module(e,t,n){let a,s,l,i,c,o,r,u;n.link(\"@babel/runtime/helpers/extends\",{default(e){a=e}},0),n.link(\"@rocket.chat/fuselage\",{Sidebar(e){s=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useEffectEvent(e){l=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){i=e},useToastMessageDispatch(e){c=e}},2),n.link(\"react\",{default(e){o=e}},3),n.link(\"react-i18next\",{useTranslation(e){r=e}},4),n.link(\"../../hooks/omnichannel/useOmnichannelAgentAvailable\",{useOmnichannelAgentAvailable(e){u=e}},5),n.exportDefault(e=>{let{t}=r(),n=u(),h=i(\"POST\",\"/v1/livechat/agent.status\"),k=c(),g=l(async()=>{try{await h({})}catch(e){k({type:\"error\",message:e})}});return o.createElement(s.TopBar.Action,a({},e,{id:\"omnichannel-status-toggle\",title:t(n?\"Turn_off_answer_chats\":\"Turn_on_answer_chats\"),success:n,icon:n?\"message\":\"message-disabled\",onClick:g}))})}","map":"{\"version\":3,\"sources\":[\"client/NavBarV2/NavBarOmnichannelToolbar/NavBarItemOmnichannelLivechatToggle.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Sidebar } from '@rocket.chat/fuselage';\\nimport { useEffectEvent } from '@rocket.chat/fuselage-hooks';\\nimport { useEndpoint, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement, ComponentProps } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useOmnichannelAgentAvailable } from '../../hooks/omnichannel/useOmnichannelAgentAvailable';\\n\\ntype NavBarItemOmnichannelLivechatToggleProps = Omit<ComponentProps<typeof Sidebar.TopBar.Action>, 'icon'>;\\n\\nconst NavBarItemOmnichannelLivechatToggle = (props: NavBarItemOmnichannelLivechatToggleProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst agentAvailable = useOmnichannelAgentAvailable();\\n\\tconst changeAgentStatus = useEndpoint('POST', '/v1/livechat/agent.status');\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst handleAvailableStatusChange = useEffectEvent(async () => {\\n\\t\\ttry {\\n\\t\\t\\tawait changeAgentStatus({});\\n\\t\\t} catch (error: unknown) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t});\\n\\n\\treturn (\\n\\t\\t<Sidebar.TopBar.Action\\n\\t\\t\\t{...props}\\n\\t\\t\\tid='omnichannel-status-toggle'\\n\\t\\t\\ttitle={agentAvailable ? t('Turn_off_answer_chats') : t('Turn_on_answer_chats')}\\n\\t\\t\\tsuccess={agentAvailable}\\n\\t\\t\\ticon={agentAvailable ? 'message' : 'message-disabled'}\\n\\t\\t\\tonClick={handleAvailableStatusChange}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default NavBarItemOmnichannelLivechatToggle;\\n\",null],\"names\":[\"_extends\",\"Sidebar\",\"useEffectEvent\",\"useEndpoint\",\"useToastMessageDispatch\",\"React\",\"useTranslation\",\"useOmnichannelAgentAvailable\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"props\",\"t\",\"agentAvailable\",\"changeAgentStatus\",\"dispatchToastMessage\",\"handleAvailableStatusChange\",\"error\",\"type\",\"message\",\"createElement\",\"TopBar\",\"Action\",\"id\",\"title\",\"success\",\"icon\",\"onClick\"],\"mappings\":\"2BAAAA,EAAAC,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAASC,IAAM,CAAA,iCAAwB,CAAAC,QAAAC,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAvCH,EAASC,IAAA,CAAM,wBAAwB,CAAAR,QAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAP,eAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAN,YAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,wBAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAH,eAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uDAAA,CAAAF,6BAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAhDH,EAAOI,aAAW,CAW2BC,IAC5C,GAAM,CAAEC,CAAAA,CAAG,CAAGR,IACRS,EAAiBR,IACjBS,EAAoBb,EAAY,OAAQ,6BACxCc,EAAuBb,IAEvBc,EAA8BhB,EAAe,UAClD,GAAI,CACH,MAAMc,EAAkB,CAAA,EACzB,CAAE,MAAOG,EAAgB,CACxBF,EAAqB,CAAEG,KAAM,QAASC,QAASF,CAAK,EACrD,CACD,GAEA,OACCd,EAAAiB,aAAA,CAACrB,EAAQsB,MAAM,CAACC,MAAM,CAAAxB,EAAA,CAAA,EACjBa,EAAK,CACTY,GAAG,4BACHC,KAAK,CAAmBZ,EAAE,AAAnBC,EAAmB,wBAA6B,wBACvDY,QAASZ,EACTa,KAAMb,EAAiB,UAAY,mBACnCc,QAASX,CAA4B,GAGxC\"}"}