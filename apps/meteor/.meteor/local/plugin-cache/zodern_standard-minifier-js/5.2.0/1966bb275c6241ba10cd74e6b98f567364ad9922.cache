{"code":"function module(e,t,n){let l,o,a,i,r,c,u,d,s,m,b,f,E,k,p,x,v,g;n.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),n.link(\"@rocket.chat/fuselage\",{Modal(e){o=e},AnimatedVisibility(e){a=e},Button(e){i=e},Box(e){r=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useUniqueId(e){c=e}},1),n.link(\"@rocket.chat/fuselage-ui-kit\",{UiKitComponent(e){u=e},UiKitModal(e){d=e},modalParser(e){s=e}},2),n.link(\"@rocket.chat/ui-kit\",{\"*\"(e){m=e}},3),n.link(\"react\",{default(e){b=e},useCallback(e){f=e},useEffect(e){E=e},useMemo(e){k=e},useRef(e){p=e}},4),n.link(\"react-aria\",{FocusScope(e){x=e}},5),n.link(\"../../../../app/utils/client/getURL\",{getURL(e){v=e}},6),n.link(\"./getButtonStyle\",{getButtonStyle(e){g=e}},7);let y='\\n\ta[href]:not([tabindex=\"-1\"]),\\n\tarea[href]:not([tabindex=\"-1\"]),\\n\tinput:not([disabled]):not([tabindex=\"-1\"]),\\n\tselect:not([disabled]):not([tabindex=\"-1\"]),\\n\ttextarea:not([disabled]):not([tabindex=\"-1\"]),\\n\tbutton:not([disabled]):not([tabindex=\"-1\"]),\\n\tiframe,\\n\tobject,\\n\tembed,\\n\t[tabindex]:not([tabindex=\"-1\"]),\\n\t[contenteditable]',h=e=>null!==e&&\"focus\"in e&&\"function\"==typeof e.focus,C=new Map([[\"ENTER\",13],[\"ESC\",27],[\"TAB\",9]]);n.exportDefault(e=>{let{view:t,errors:n,onSubmit:N,onClose:S,onCancel:B}=e,T=\"modal_id_\".concat(c()),A=p(null);E(()=>{if(A.current){if(n&&Object.keys(n).length){let e=A.current.querySelector('\\n\ta[href]:not([tabindex=\"-1\"]):invalid,\\n\tarea[href]:not([tabindex=\"-1\"]):invalid,\\n\tinput:not([disabled]):not([tabindex=\"-1\"]):invalid,\\n\tselect:not([disabled]):not([tabindex=\"-1\"]):invalid,\\n\ttextarea:not([disabled]):not([tabindex=\"-1\"]):invalid,\\n\tbutton:not([disabled]):not([tabindex=\"-1\"]):invalid,\\n\tiframe:invalid,\\n\tobject:invalid,\\n\tembed:invalid,\\n\t[tabindex]:not([tabindex=\"-1\"]):invalid,\\n\t[contenteditable]:invalid');null==e||e.focus()}else{let e=A.current.querySelector(y);null==e||e.focus()}}},[n]);let q=k(()=>document.activeElement,[]);E(()=>()=>{if(q&&h(q))return q.focus()},[q]);let D=f(e=>{var t;switch(e.keyCode){case C.get(\"ENTER\"):if((null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.nodeName)!==\"TEXTAREA\")return N(e);return;case C.get(\"ESC\"):e.stopPropagation(),e.preventDefault(),S();return;case C.get(\"TAB\"):if(!A.current)return;let n=Array.from(A.current.querySelectorAll(y)),[l]=n,o=n.pop();if(!A.current.contains(document.activeElement))return l.focus();if(e.shiftKey){l&&l!==document.activeElement||(null==o||o.focus(),e.stopPropagation(),e.preventDefault());return}o&&o!==document.activeElement||(l.focus(),e.stopPropagation(),e.preventDefault())}},[S,N]);return E(()=>{let e=document.querySelector(\"#modal-root\"),t=e.querySelector(\".rcx-modal__content\"),n=t=>{if(t.target===e)return t.preventDefault(),t.stopPropagation(),S(),!1},l=n=>{if(n.target===e&&t.contains(n.target))return D(n)};return document.addEventListener(\"keydown\",l),e.addEventListener(\"click\",n),()=>{document.removeEventListener(\"keydown\",l),e.removeEventListener(\"click\",n)}},[D,S]),b.createElement(a,{visibility:a.UNHIDING},b.createElement(x,{contain:!0,restoreFocus:!0,autoFocus:!0},b.createElement(o,{open:!0,id:T,ref:A},b.createElement(o.Header,null,t.showIcon?b.createElement(o.Thumb,{url:v(\"/api/apps/\".concat(t.appId,\"/icon\"))}):null,b.createElement(o.Title,null,s.text(t.title,m.BlockContext.NONE,0)),b.createElement(o.Close,{tabIndex:-1,onClick:S})),b.createElement(o.Content,null,b.createElement(r,{is:\"form\",method:\"post\",action:\"#\",onSubmit:N},b.createElement(u,{render:d,blocks:t.blocks}))),b.createElement(o.Footer,null,b.createElement(o.FooterControllers,null,t.close&&b.createElement(i,{danger:\"danger\"===t.close.style,onClick:B},s.text(t.close.text,m.BlockContext.NONE,0)),t.submit&&b.createElement(i,l({},g(t.submit),{onClick:N}),s.text(t.submit.text,m.BlockContext.NONE,1)))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/modal/uikit/ModalBlock.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Modal, AnimatedVisibility, Button, Box } from '@rocket.chat/fuselage';\\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport { UiKitComponent, UiKitModal, modalParser } from '@rocket.chat/fuselage-ui-kit';\\nimport * as UiKit from '@rocket.chat/ui-kit';\\nimport type { FormEventHandler, ReactElement } from 'react';\\nimport React, { useCallback, useEffect, useMemo, useRef } from 'react';\\nimport { FocusScope } from 'react-aria';\\n\\nimport { getURL } from '../../../../app/utils/client/getURL';\\nimport { getButtonStyle } from './getButtonStyle';\\n\\nconst focusableElementsString = `\\n\\ta[href]:not([tabindex=\\\"-1\\\"]),\\n\\tarea[href]:not([tabindex=\\\"-1\\\"]),\\n\\tinput:not([disabled]):not([tabindex=\\\"-1\\\"]),\\n\\tselect:not([disabled]):not([tabindex=\\\"-1\\\"]),\\n\\ttextarea:not([disabled]):not([tabindex=\\\"-1\\\"]),\\n\\tbutton:not([disabled]):not([tabindex=\\\"-1\\\"]),\\n\\tiframe,\\n\\tobject,\\n\\tembed,\\n\\t[tabindex]:not([tabindex=\\\"-1\\\"]),\\n\\t[contenteditable]`;\\n\\nconst focusableElementsStringInvalid = `\\n\\ta[href]:not([tabindex=\\\"-1\\\"]):invalid,\\n\\tarea[href]:not([tabindex=\\\"-1\\\"]):invalid,\\n\\tinput:not([disabled]):not([tabindex=\\\"-1\\\"]):invalid,\\n\\tselect:not([disabled]):not([tabindex=\\\"-1\\\"]):invalid,\\n\\ttextarea:not([disabled]):not([tabindex=\\\"-1\\\"]):invalid,\\n\\tbutton:not([disabled]):not([tabindex=\\\"-1\\\"]):invalid,\\n\\tiframe:invalid,\\n\\tobject:invalid,\\n\\tembed:invalid,\\n\\t[tabindex]:not([tabindex=\\\"-1\\\"]):invalid,\\n\\t[contenteditable]:invalid`;\\n\\ntype ModalBlockParams = {\\n\\tview: UiKit.ModalView;\\n\\terrors: any;\\n\\tappId: string;\\n\\tonSubmit: FormEventHandler<HTMLElement>;\\n\\tonClose: () => void;\\n\\tonCancel: FormEventHandler<HTMLElement>;\\n};\\n\\nconst isFocusable = (element: Element | null): element is HTMLElement =>\\n\\telement !== null && 'focus' in element && typeof element.focus === 'function';\\n\\nconst KeyboardCode = new Map<string, number>([\\n\\t['ENTER', 13],\\n\\t['ESC', 27],\\n\\t['TAB', 9],\\n]);\\n\\nconst ModalBlock = ({ view, errors, onSubmit, onClose, onCancel }: ModalBlockParams): ReactElement => {\\n\\tconst id = `modal_id_${useUniqueId()}`;\\n\\tconst ref = useRef<HTMLElement>(null);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!ref.current) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tif (errors && Object.keys(errors).length) {\\n\\t\\t\\tconst element = ref.current.querySelector<HTMLElement>(focusableElementsStringInvalid);\\n\\t\\t\\telement?.focus();\\n\\t\\t} else {\\n\\t\\t\\tconst element = ref.current.querySelector<HTMLElement>(focusableElementsString);\\n\\t\\t\\telement?.focus();\\n\\t\\t}\\n\\t}, [errors]);\\n\\n\\tconst previousFocus = useMemo(() => document.activeElement, []);\\n\\n\\tuseEffect(\\n\\t\\t() => () => {\\n\\t\\t\\tif (previousFocus && isFocusable(previousFocus)) {\\n\\t\\t\\t\\treturn previousFocus.focus();\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[previousFocus],\\n\\t);\\n\\n\\tconst handleKeyDown = useCallback(\\n\\t\\t(event) => {\\n\\t\\t\\tswitch (event.keyCode) {\\n\\t\\t\\t\\tcase KeyboardCode.get('ENTER'):\\n\\t\\t\\t\\t\\tif (event?.target?.nodeName !== 'TEXTAREA') {\\n\\t\\t\\t\\t\\t\\treturn onSubmit(event);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\tcase KeyboardCode.get('ESC'):\\n\\t\\t\\t\\t\\tevent.stopPropagation();\\n\\t\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\t\\tonClose();\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\tcase KeyboardCode.get('TAB'):\\n\\t\\t\\t\\t\\tif (!ref.current) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tconst elements = Array.from(ref.current.querySelectorAll(focusableElementsString)) as HTMLElement[];\\n\\t\\t\\t\\t\\tconst [first] = elements;\\n\\t\\t\\t\\t\\tconst last = elements.pop();\\n\\n\\t\\t\\t\\t\\tif (!ref.current.contains(document.activeElement)) {\\n\\t\\t\\t\\t\\t\\treturn first.focus();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (event.shiftKey) {\\n\\t\\t\\t\\t\\t\\tif (!first || first === document.activeElement) {\\n\\t\\t\\t\\t\\t\\t\\tlast?.focus();\\n\\t\\t\\t\\t\\t\\t\\tevent.stopPropagation();\\n\\t\\t\\t\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!last || last === document.activeElement) {\\n\\t\\t\\t\\t\\t\\tfirst.focus();\\n\\t\\t\\t\\t\\t\\tevent.stopPropagation();\\n\\t\\t\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[onClose, onSubmit],\\n\\t);\\n\\n\\tuseEffect(() => {\\n\\t\\tconst element = document.querySelector('#modal-root') as HTMLElement;\\n\\t\\tconst container = element.querySelector('.rcx-modal__content') as HTMLElement;\\n\\t\\tconst close = (e: Event) => {\\n\\t\\t\\tif (e.target !== element) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\te.preventDefault();\\n\\t\\t\\te.stopPropagation();\\n\\t\\t\\tonClose();\\n\\t\\t\\treturn false;\\n\\t\\t};\\n\\n\\t\\tconst ignoreIfNotContains = (e: Event) => {\\n\\t\\t\\tif (e.target !== element) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!container.contains(e.target as HTMLElement)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\treturn handleKeyDown(e);\\n\\t\\t};\\n\\n\\t\\tdocument.addEventListener('keydown', ignoreIfNotContains);\\n\\t\\telement.addEventListener('click', close);\\n\\t\\treturn () => {\\n\\t\\t\\tdocument.removeEventListener('keydown', ignoreIfNotContains);\\n\\t\\t\\telement.removeEventListener('click', close);\\n\\t\\t};\\n\\t}, [handleKeyDown, onClose]);\\n\\n\\treturn (\\n\\t\\t<AnimatedVisibility visibility={AnimatedVisibility.UNHIDING}>\\n\\t\\t\\t<FocusScope contain restoreFocus autoFocus>\\n\\t\\t\\t\\t<Modal open id={id} ref={ref}>\\n\\t\\t\\t\\t\\t<Modal.Header>\\n\\t\\t\\t\\t\\t\\t{view.showIcon ? <Modal.Thumb url={getURL(`/api/apps/${view.appId}/icon`)} /> : null}\\n\\t\\t\\t\\t\\t\\t<Modal.Title>{modalParser.text(view.title, UiKit.BlockContext.NONE, 0)}</Modal.Title>\\n\\t\\t\\t\\t\\t\\t<Modal.Close tabIndex={-1} onClick={onClose} />\\n\\t\\t\\t\\t\\t</Modal.Header>\\n\\t\\t\\t\\t\\t<Modal.Content>\\n\\t\\t\\t\\t\\t\\t<Box is='form' method='post' action='#' onSubmit={onSubmit}>\\n\\t\\t\\t\\t\\t\\t\\t<UiKitComponent render={UiKitModal} blocks={view.blocks} />\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</Modal.Content>\\n\\t\\t\\t\\t\\t<Modal.Footer>\\n\\t\\t\\t\\t\\t\\t<Modal.FooterControllers>\\n\\t\\t\\t\\t\\t\\t\\t{view.close && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<Button danger={view.close.style === 'danger'} onClick={onCancel}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{modalParser.text(view.close.text, UiKit.BlockContext.NONE, 0)}\\n\\t\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t{view.submit && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<Button {...getButtonStyle(view.submit)} onClick={onSubmit}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{modalParser.text(view.submit.text, UiKit.BlockContext.NONE, 1)}\\n\\t\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</Modal.FooterControllers>\\n\\t\\t\\t\\t\\t</Modal.Footer>\\n\\t\\t\\t\\t</Modal>\\n\\t\\t\\t</FocusScope>\\n\\t\\t</AnimatedVisibility>\\n\\t);\\n};\\n\\nexport default ModalBlock;\\n\",null],\"names\":[\"_extends\",\"Modal\",\"AnimatedVisibility\",\"Button\",\"Box\",\"useUniqueId\",\"UiKitComponent\",\"UiKitModal\",\"modalParser\",\"UiKit\",\"React\",\"useCallback\",\"useEffect\",\"useMemo\",\"useRef\",\"FocusScope\",\"getURL\",\"getButtonStyle\",\"module\",\"link\",\"default\",\"v\",\"focusableElementsString\",\"isFocusable\",\"element\",\"focus\",\"KeyboardCode\",\"Map\",\"exportDefault\",\"_ref\",\"view\",\"errors\",\"onSubmit\",\"onClose\",\"onCancel\",\"id\",\"concat\",\"ref\",\"current\",\"Object\",\"keys\",\"length\",\"querySelector\",\"previousFocus\",\"document\",\"activeElement\",\"handleKeyDown\",\"event\",\"_event$target\",\"keyCode\",\"get\",\"target\",\"nodeName\",\"stopPropagation\",\"preventDefault\",\"elements\",\"Array\",\"from\",\"querySelectorAll\",\"first\",\"last\",\"pop\",\"contains\",\"shiftKey\",\"container\",\"close\",\"e\",\"ignoreIfNotContains\",\"addEventListener\",\"removeEventListener\",\"createElement\",\"visibility\",\"UNHIDING\",\"contain\",\"restoreFocus\",\"autoFocus\",\"open\",\"Header\",\"showIcon\",\"Thumb\",\"url\",\"appId\",\"Title\",\"text\",\"title\",\"BlockContext\",\"NONE\",\"Close\",\"tabIndex\",\"onClick\",\"Content\",\"is\",\"method\",\"action\",\"render\",\"blocks\",\"Footer\",\"FooterControllers\",\"danger\",\"style\",\"submit\"],\"mappings\":\"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\"}"}