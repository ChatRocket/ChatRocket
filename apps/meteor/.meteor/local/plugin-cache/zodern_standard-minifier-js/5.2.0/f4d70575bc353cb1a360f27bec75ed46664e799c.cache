{"code":"function module(e,t,l){let a,n,r,u,c,o,s,m,i,k;l.link(\"@rocket.chat/ui-contexts\",{useAtLeastOnePermission(e){a=e},useRoute(e){n=e},useRouteParameter(e){r=e}},0),l.link(\"react\",{default(e){u=e},Suspense(e){c=e},useEffect(e){o=e}},1),l.link(\"../../components/PageSkeleton\",{default(e){s=e}},2),l.link(\"../../sidebar/SidebarPortal\",{default(e){m=e}},3),l.link(\"../notFound/NotFoundPage\",{default(e){i=e}},4),l.link(\"./MarketplaceSidebar\",{default(e){k=e}},5),l.exportDefault(e=>{let{children:t}=e,l=r(\"context\")||\"all\",d=n(\"marketplace\"),p=a([\"access-marketplace\",\"manage-apps\"]);return(o(()=>{let e=async()=>{\"all\"===l&&d.replace({context:\"explore\",page:\"list\"})};e()},[l,d]),p)?t?u.createElement(u.Fragment,null,u.createElement(c,{fallback:u.createElement(s,null)},t),u.createElement(m,null,u.createElement(k,null))):u.createElement(s,null):u.createElement(i,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/MarketplaceRouter.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useAtLeastOnePermission, useRoute, useRouteParameter } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement, ReactNode } from 'react';\\nimport React, { Suspense, useEffect } from 'react';\\n\\nimport PageSkeleton from '../../components/PageSkeleton';\\nimport SidebarPortal from '../../sidebar/SidebarPortal';\\nimport NotFoundPage from '../notFound/NotFoundPage';\\nimport MarketPlaceSidebar from './MarketplaceSidebar';\\n\\nconst MarketplaceRouter = ({ children }: { children?: ReactNode }): ReactElement => {\\n\\tconst currentContext = useRouteParameter('context') || 'all';\\n\\tconst marketplaceRoute = useRoute('marketplace');\\n\\tconst canAccessMarketplace = useAtLeastOnePermission(['access-marketplace', 'manage-apps']);\\n\\n\\tuseEffect(() => {\\n\\t\\tconst initialize = async () => {\\n\\t\\t\\t// The currentContext === 'all' verification is for users who bookmarked\\n\\t\\t\\t// the old marketplace\\n\\t\\t\\t// TODO: Remove the all verification in the future;\\n\\t\\t\\tif (currentContext === 'all') {\\n\\t\\t\\t\\tmarketplaceRoute.replace({ context: 'explore', page: 'list' });\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tinitialize();\\n\\t}, [currentContext, marketplaceRoute]);\\n\\n\\tif (!canAccessMarketplace) {\\n\\t\\treturn <NotFoundPage />;\\n\\t}\\n\\n\\treturn children ? (\\n\\t\\t<>\\n\\t\\t\\t<Suspense fallback={<PageSkeleton />}>{children}</Suspense>\\n\\t\\t\\t<SidebarPortal>\\n\\t\\t\\t\\t<MarketPlaceSidebar />\\n\\t\\t\\t</SidebarPortal>\\n\\t\\t</>\\n\\t) : (\\n\\t\\t<PageSkeleton />\\n\\t);\\n};\\n\\nexport default MarketplaceRouter;\\n\",null],\"names\":[\"useAtLeastOnePermission\",\"useRoute\",\"useRouteParameter\",\"React\",\"Suspense\",\"useEffect\",\"PageSkeleton\",\"SidebarPortal\",\"NotFoundPage\",\"MarketPlaceSidebar\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"children\",\"currentContext\",\"marketplaceRoute\",\"canAccessMarketplace\",\"initialize\",\"replace\",\"context\",\"page\",\"createElement\",\"Fragment\",\"fallback\"],\"mappings\":\"2BAAAA,EAASC,EAAyBC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAApDC,EAAiBC,IAAE,CAAA,2BAAM,CAA0BX,wBAACY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,kBAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAT,EAAAS,CAAA,EAAAR,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,UAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gCAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAE,QAAAD,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uBAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAhGF,EAAOI,aAAE,CASiBC,IAAyD,GAAxD,CAAEC,SAAAA,CAAAA,CAAoC,CAAAD,EAC1DE,EAAiBf,EAAkB,YAAc,MACjDgB,EAAmBjB,EAAS,eAC5BkB,EAAuBnB,EAAwB,CAAC,qBAAsB,cAAc,QAe1F,CAbAK,EAAU,KACT,IAAMe,EAAa,UAIK,QAAnBH,GACHC,EAAiBG,OAAO,CAAC,CAAEC,QAAS,UAAWC,KAAM,MAAM,EAE7D,EAEAH,GACD,EAAG,CAACH,EAAgBC,EAAiB,EAEhCC,GAIEH,EACNb,EAAAqB,aAAA,CAAArB,EAAAsB,QAAA,CAAA,KACCtB,EAAAqB,aAAA,CAACpB,EAAQ,CAACsB,SAAUvB,EAAAqB,aAAA,CAAClB,EAAY,KAAI,EAAEU,GACvCb,EAAAqB,aAAA,CAACjB,EAAa,KACbJ,EAAAqB,aAAA,CAACf,EAAkB,QAIrBN,EAAAqB,aAAA,CAAClB,EAAY,MAXNH,EAAAqB,aAAA,CAAChB,EAAY,KAatB\"}"}