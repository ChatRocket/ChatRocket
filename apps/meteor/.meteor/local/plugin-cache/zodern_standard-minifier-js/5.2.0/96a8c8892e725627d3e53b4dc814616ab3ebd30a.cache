{"code":"function module(e,t,o){let l,n,u,s,a,i,r,c,p,m,C,E,d,F,R,k;o.export({VoipFooter:()=>_}),o.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){l=e},useTranslation(e){n=e}},0),o.link(\"react\",{default(e){u=e},useCallback(e){s=e},useState(e){a=e}},1),o.link(\"../../../contexts/CallContext\",{useCallActions(e){i=e},useCallCreateRoom(e){r=e},useCallerInfo(e){c=e},useCallOpenRoom(e){p=e},useIsVoipEnterprise(e){m=e},useOpenedRoomInfo(e){C=e},useQueueCounter(e){E=e},useQueueName(e){d=e}},2),o.link(\"../../../hooks/useVoipFooterMenu\",{useVoipFooterMenu(e){F=e}},3),o.link(\"../SidebarFooterDefault\",{default(e){R=e}},4),o.link(\"./VoipFooter\",{VoipFooter(e){k=e}},5);let _=()=>{let e=n(),t=c(),o=i(),_=l(\"POST\",\"/v1/voip/events\"),g=r(),I=p(),O=E(),f=d(),V=C(),S=F(),[h,v]=a(!1),[x,N]=a(!1),b=m(),A=s(e=>{e?o.mute():o.unmute(),v(e)},[o]),D=s(e=>{e?o.pause():o.resume(),v(!1),N(e)},[o]);return\"caller\"in t?u.createElement(k,{caller:t.caller,callerState:t.state,callActions:o,title:f||e(\"Phone_call\"),subtitle:(t=>{let o={IN_CALL:e(\"In_progress\"),OFFER_RECEIVED:e(\"Ringing\"),OFFER_SENT:e(\"Calling\"),ON_HOLD:e(\"On_Hold\")};return o[t]||\"\"})(t.state),muted:h,paused:x,toggleMic:A,togglePause:D,createRoom:g,openRoom:I,callsInQueue:e(\"Calls_in_queue\",{count:O}),dispatchEvent:_,openedRoomInfo:V,isEnterprise:b,options:S}):u.createElement(R,null)}}","map":"{\"version\":3,\"sources\":[\"client/sidebar/footer/voip/index.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { VoIpCallerInfo } from '@rocket.chat/core-typings';\\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback, useState } from 'react';\\n\\nimport {\\n\\tuseCallActions,\\n\\tuseCallCreateRoom,\\n\\tuseCallerInfo,\\n\\tuseCallOpenRoom,\\n\\tuseIsVoipEnterprise,\\n\\tuseOpenedRoomInfo,\\n\\tuseQueueCounter,\\n\\tuseQueueName,\\n} from '../../../contexts/CallContext';\\nimport { useVoipFooterMenu } from '../../../hooks/useVoipFooterMenu';\\nimport SidebarFooterDefault from '../SidebarFooterDefault';\\nimport { VoipFooter as VoipFooterComponent } from './VoipFooter';\\n\\nexport const VoipFooter = (): ReactElement | null => {\\n\\tconst t = useTranslation();\\n\\tconst callerInfo = useCallerInfo();\\n\\tconst callActions = useCallActions();\\n\\tconst dispatchEvent = useEndpoint('POST', '/v1/voip/events');\\n\\n\\tconst createRoom = useCallCreateRoom();\\n\\tconst openRoom = useCallOpenRoom();\\n\\tconst queueCounter = useQueueCounter();\\n\\tconst queueName = useQueueName();\\n\\tconst openedRoomInfo = useOpenedRoomInfo();\\n\\tconst options = useVoipFooterMenu();\\n\\n\\tconst [muted, setMuted] = useState(false);\\n\\tconst [paused, setPaused] = useState(false);\\n\\tconst isEnterprise = useIsVoipEnterprise();\\n\\n\\tconst toggleMic = useCallback(\\n\\t\\t(state: boolean) => {\\n\\t\\t\\tstate ? callActions.mute() : callActions.unmute();\\n\\t\\t\\tsetMuted(state);\\n\\t\\t},\\n\\t\\t[callActions],\\n\\t);\\n\\n\\tconst togglePause = useCallback(\\n\\t\\t(state: boolean) => {\\n\\t\\t\\tstate ? callActions.pause() : callActions.resume();\\n\\t\\t\\tsetMuted(false);\\n\\t\\t\\tsetPaused(state);\\n\\t\\t},\\n\\t\\t[callActions],\\n\\t);\\n\\n\\tconst getSubtitle = (state: VoIpCallerInfo['state']): string => {\\n\\t\\tconst subtitles: Record<string, string> = {\\n\\t\\t\\tIN_CALL: t('In_progress'),\\n\\t\\t\\tOFFER_RECEIVED: t('Ringing'),\\n\\t\\t\\tOFFER_SENT: t('Calling'),\\n\\t\\t\\tON_HOLD: t('On_Hold'),\\n\\t\\t};\\n\\n\\t\\treturn subtitles[state] || '';\\n\\t};\\n\\n\\tif (!('caller' in callerInfo)) {\\n\\t\\treturn <SidebarFooterDefault />;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<VoipFooterComponent\\n\\t\\t\\tcaller={callerInfo.caller}\\n\\t\\t\\tcallerState={callerInfo.state}\\n\\t\\t\\tcallActions={callActions}\\n\\t\\t\\ttitle={queueName || t('Phone_call')}\\n\\t\\t\\tsubtitle={getSubtitle(callerInfo.state)}\\n\\t\\t\\tmuted={muted}\\n\\t\\t\\tpaused={paused}\\n\\t\\t\\ttoggleMic={toggleMic}\\n\\t\\t\\ttogglePause={togglePause}\\n\\t\\t\\tcreateRoom={createRoom}\\n\\t\\t\\topenRoom={openRoom}\\n\\t\\t\\tcallsInQueue={t('Calls_in_queue', { count: queueCounter })}\\n\\t\\t\\tdispatchEvent={dispatchEvent}\\n\\t\\t\\topenedRoomInfo={openedRoomInfo}\\n\\t\\t\\tisEnterprise={isEnterprise}\\n\\t\\t\\toptions={options}\\n\\t\\t/>\\n\\t);\\n};\\n\",null],\"names\":[\"useEndpoint\",\"useTranslation\",\"React\",\"useCallback\",\"useState\",\"useCallActions\",\"useCallCreateRoom\",\"useCallerInfo\",\"useCallOpenRoom\",\"useIsVoipEnterprise\",\"useOpenedRoomInfo\",\"useQueueCounter\",\"useQueueName\",\"useVoipFooterMenu\",\"SidebarFooterDefault\",\"VoipFooterComponent\",\"module\",\"export\",\"VoipFooter\",\"link\",\"v\",\"default\",\"t\",\"callerInfo\",\"callActions\",\"dispatchEvent\",\"createRoom\",\"openRoom\",\"queueCounter\",\"queueName\",\"openedRoomInfo\",\"options\",\"muted\",\"setMuted\",\"paused\",\"setPaused\",\"isEnterprise\",\"toggleMic\",\"state\",\"mute\",\"unmute\",\"togglePause\",\"pause\",\"resume\",\"createElement\",\"caller\",\"callerState\",\"title\",\"subtitle\",\"getSubtitle\",\"subtitles\",\"IN_CALL\",\"OFFER_RECEIVED\",\"OFFER_SENT\",\"ON_HOLD\",\"callsInQueue\",\"count\"],\"mappings\":\"2BAC4CA,EAAAC,EAA2BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvEC,EAAOC,MAAE,CAAA,CAAAC,WAAaA,IAAAA,CAAgB,GAAiCF,EAAAG,IAAA,CAAA,2BAAA,CAAAnB,YAAAoB,CAAA,EAAApB,EAAAoB,CAAA,EAAAnB,eAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAlB,EAAAkB,CAAA,EAAAjB,YAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,EAAAhB,SAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,gCAAA,CAAAd,eAAAe,CAAA,EAAAf,EAAAe,CAAA,EAAAd,kBAAAc,CAAA,EAAAd,EAAAc,CAAA,EAAAb,cAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,gBAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,oBAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,kBAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,gBAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,aAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,mCAAA,CAAAN,kBAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,0BAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,eAAA,CAAAD,WAAAE,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAkBhE,IAAMF,EAAaA,KACzB,IAAMI,EAAIrB,IACJsB,EAAahB,IACbiB,EAAcnB,IACdoB,EAAgBzB,EAAY,OAAQ,mBAEpC0B,EAAapB,IACbqB,EAAWnB,IACXoB,EAAejB,IACfkB,EAAYjB,IACZkB,EAAiBpB,IACjBqB,EAAUlB,IAEV,CAACmB,EAAOC,EAAS,CAAG7B,EAAS,CAAA,GAC7B,CAAC8B,EAAQC,EAAU,CAAG/B,EAAS,CAAA,GAC/BgC,EAAe3B,IAEf4B,EAAYlC,EAChBmC,IACAA,EAAQd,EAAYe,IAAI,GAAKf,EAAYgB,MAAM,GAC/CP,EAASK,EACV,EACA,CAACd,EAAY,EAGRiB,EAActC,EAClBmC,IACAA,EAAQd,EAAYkB,KAAK,GAAKlB,EAAYmB,MAAM,GAChDV,EAAS,CAAA,GACTE,EAAUG,EACX,EACA,CAACd,EAAY,QAcd,AAAM,WAAYD,EAKjBrB,EAAA0C,aAAA,CAAC7B,EAAmB,CACnB8B,OAAQtB,EAAWsB,MAAO,CAC1BC,YAAavB,EAAWe,KAAM,CAC9Bd,YAAaA,EACbuB,MAAOlB,GAAaP,EAAE,cACtB0B,SAAUC,AArBSX,CAAAA,IACpB,IAAMY,EAAoC,CACzCC,QAAS7B,EAAE,eACX8B,eAAgB9B,EAAE,WAClB+B,WAAY/B,EAAE,WACdgC,QAAShC,EAAE,YAGZ,OAAO4B,CAAS,CAACZ,EAAM,EAAI,EAC5B,CAAA,EAYwBf,EAAWe,KAAK,EACtCN,MAAOA,EACPE,OAAQA,EACRG,UAAWA,EACXI,YAAaA,EACbf,WAAYA,EACZC,SAAUA,EACV4B,aAAcjC,EAAE,iBAAkB,CAAEkC,MAAO5B,CAAY,GACvDH,cAAeA,EACfK,eAAgBA,EAChBM,aAAcA,EACdL,QAASA,CAAQ,GApBX7B,EAAA0C,aAAA,CAAC9B,EAAoB,KAuB9B\"}"}