{"code":"function module(e,n,t){var r,i,l,a,o,u,c,s,m,d,f,v,g,p,E,b,h,k,F,x,y,C,S,T,_,q,D,M,w,A,B,O,R,j=[\"value\"],I=[\"value\"];t.link(\"@babel/runtime/helpers/extends\",{default:function(e){r=e}},0),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){i=e}},1),t.link(\"@babel/runtime/regenerator\",{default:function(e){l=e}},2),t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},3),t.export({getDefaultAction:function(){return Q}}),t.link(\"@rocket.chat/fuselage\",{FieldGroup:function(e){o=e},Button:function(e){u=e},ButtonGroup:function(e){c=e},Field:function(e){s=e},FieldLabel:function(e){m=e},FieldRow:function(e){d=e},FieldError:function(e){f=e},TextInput:function(e){v=e},ToggleSwitch:function(e){g=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useUniqueId:function(e){p=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){E=e},useRouter:function(e){b=e},useEndpoint:function(e){h=e},useTranslation:function(e){k=e}},2),t.link(\"@tanstack/react-query\",{useMutation:function(e){F=e},useQueryClient:function(e){x=e}},3),t.link(\"react\",{default:function(e){y=e},useMemo:function(e){C=e}},4),t.link(\"react-hook-form\",{Controller:function(e){S=e},useFieldArray:function(e){T=e},useForm:function(e){_=e}},5),t.link(\"../../../components/Contextualbar\",{ContextualbarScrollableContent:function(e){q=e},ContextualbarTitle:function(e){D=e},ContextualbarFooter:function(e){M=e},Contextualbar:function(e){w=e},ContextualbarHeader:function(e){A=e},ContextualbarClose:function(e){B=e}},6),t.link(\"./ConditionForm\",{ConditionForm:function(e){O=e}},7),t.link(\"./actions/ActionForm\",{ActionForm:function(e){R=e}},8);var N={name:\"send-message\",params:{sender:\"queue\",name:\"\",msg:\"\"}},P={name:\"page-url\",value:\"\"},Q=function(e){var n,t,r,i,l,a,o,u;switch(e.name){case\"send-message\":return{name:\"send-message\",params:{name:(null===(n=e.params)||void 0===n?void 0:n.name)||\"\",msg:(null===(t=e.params)||void 0===t?void 0:t.msg)||\"\",sender:(null===(r=e.params)||void 0===r?void 0:r.sender)||\"queue\"}};case\"use-external-service\":return{name:\"use-external-service\",params:{name:(null===(i=e.params)||void 0===i?void 0:i.name)||\"\",sender:(null===(l=e.params)||void 0===l?void 0:l.sender)||\"queue\",serviceUrl:(null===(a=e.params)||void 0===a?void 0:a.serviceUrl)||\"\",serviceTimeout:(null===(o=e.params)||void 0===o?void 0:o.serviceTimeout)||0,serviceFallbackMessage:(null===(u=e.params)||void 0===u?void 0:u.serviceFallbackMessage)||\"\"}}}},U=function(e){var n,t,r,i;return{name:null!==(n=null==e?void 0:e.name)&&void 0!==n?n:\"\",description:(null==e?void 0:e.description)||\"\",enabled:null===(t=null==e?void 0:e.enabled)||void 0===t||t,runOnce:!!(null!=e&&e.runOnce),conditions:null!==(r=null==e?void 0:e.conditions.map(function(e){return{name:e.name||\"page-url\",value:e.value||\"\"}}))&&void 0!==r?r:[P],actions:null!==(i=null==e?void 0:e.actions.map(function(e){return Q(e)}))&&void 0!==i?i:[N]}};t.exportDefault(function(e){var n=e.triggerData,t=k(),N=b(),P=x(),G=E(),H=h(\"POST\",\"/v1/livechat/triggers\"),L=U(n),V=p(),W=p(),z=p(),J=p(),K=p(),X=_({mode:\"onBlur\",reValidateMode:\"onBlur\",values:L}),Y=X.control,Z=X.handleSubmit,$=X.trigger,ee=X.formState,en=ee.isDirty,et=ee.isSubmitting,er=ee.errors,ei=C(function(){return 0===Object.keys(er).length},[er]),el=T({control:Y,name:\"conditions\"}).fields,ea=T({control:Y,name:\"actions\"}).fields,eo=F({mutationFn:H,onSuccess:function(){G({type:\"success\",message:t(\"Saved\")}),P.invalidateQueries([\"livechat-getTriggersById\"]),P.invalidateQueries([\"livechat-triggers\"]),N.navigate(\"/omnichannel/triggers\")},onError:function(e){G({type:\"error\",message:e})}});return y.createElement(w,null,y.createElement(A,null,y.createElement(D,null,null!=n&&n._id?t(\"Edit_Trigger\"):t(\"New_Trigger\")),y.createElement(B,{onClick:function(){return N.navigate(\"/omnichannel/triggers\")}})),y.createElement(q,null,y.createElement(\"form\",{id:V,onSubmit:Z(function(e){return l.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",eo.mutateAsync(a(a({},e),{},{_id:null==n?void 0:n._id,actions:e.actions.map(Q)})));case 1:case\"end\":return t.stop()}},null,null,null,Promise)})},y.createElement(o,null,y.createElement(s,null,y.createElement(d,null,y.createElement(m,{htmlFor:W},t(\"Enabled\")),y.createElement(S,{name:\"enabled\",control:Y,render:function(e){var n=e.field,t=n.value,l=i(n,j);return y.createElement(g,r({id:W},l,{checked:t}))}}))),y.createElement(s,null,y.createElement(d,null,y.createElement(m,{htmlFor:z},t(\"Run_only_once_for_each_visitor\")),y.createElement(S,{name:\"runOnce\",control:Y,render:function(e){var n=e.field,t=n.value,l=i(n,I);return y.createElement(g,r({id:z},l,{checked:t}))}}))),y.createElement(s,null,y.createElement(m,{htmlFor:J,required:!0},t(\"Name\")),y.createElement(d,null,y.createElement(S,{name:\"name\",control:Y,rules:{required:t(\"Required_field\",{field:t(\"Name\")})},render:function(e){var n,t=e.field;return y.createElement(v,r({},t,{id:J,error:null==er?void 0:null===(n=er.name)||void 0===n?void 0:n.message,\"aria-required\":!0,\"aria-invalid\":!!(null==er?void 0:er.name),\"aria-describedby\":J+\"-error\"}))}})),(null==er?void 0:er.name)&&y.createElement(f,{\"aria-live\":\"assertive\",id:J+\"-error\"},null==er?void 0:er.name.message)),y.createElement(s,null,y.createElement(m,{htmlFor:K},t(\"Description\")),y.createElement(d,null,y.createElement(S,{name:\"description\",control:Y,render:function(e){var n=e.field;return y.createElement(v,r({id:K},n))}}))),el.map(function(e,n){return y.createElement(O,{key:e.id,control:Y,index:n})}),ea.map(function(e,n){return y.createElement(R,{key:e.id,control:Y,trigger:$,index:n})})))),y.createElement(M,null,y.createElement(c,{stretch:!0},y.createElement(u,{onClick:function(){return N.navigate(\"/omnichannel/triggers\")}},t(\"Cancel\")),y.createElement(u,{form:V,type:\"submit\",primary:!0,disabled:!en||!ei,loading:et},t(\"Save\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/triggers/EditTrigger.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { type ILivechatTrigger, type ILivechatTriggerAction, type Serialized } from '@rocket.chat/core-typings';\\nimport { FieldGroup, Button, ButtonGroup, Field, FieldLabel, FieldRow, FieldError, TextInput, ToggleSwitch } from '@rocket.chat/fuselage';\\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport { useToastMessageDispatch, useRouter, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\\nimport React, { useMemo } from 'react';\\nimport { Controller, useFieldArray, useForm } from 'react-hook-form';\\n\\nimport {\\n\\tContextualbarScrollableContent,\\n\\tContextualbarTitle,\\n\\tContextualbarFooter,\\n\\tContextualbar,\\n\\tContextualbarHeader,\\n\\tContextualbarClose,\\n} from '../../../components/Contextualbar';\\nimport { ConditionForm } from './ConditionForm';\\nimport { ActionForm } from './actions/ActionForm';\\n\\nexport type TriggersPayload = {\\n\\tname: string;\\n\\tdescription: string;\\n\\tenabled: boolean;\\n\\trunOnce: boolean;\\n\\tconditions: ILivechatTrigger['conditions'];\\n\\tactions: ILivechatTrigger['actions'];\\n};\\n\\nconst DEFAULT_SEND_MESSAGE_ACTION = {\\n\\tname: 'send-message',\\n\\tparams: {\\n\\t\\tsender: 'queue',\\n\\t\\tname: '',\\n\\t\\tmsg: '',\\n\\t},\\n} as const;\\n\\nconst DEFAULT_PAGE_URL_CONDITION = { name: 'page-url', value: '' } as const;\\n\\nexport const getDefaultAction = (action: ILivechatTriggerAction): ILivechatTriggerAction => {\\n\\tswitch (action.name) {\\n\\t\\tcase 'send-message':\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tname: 'send-message',\\n\\t\\t\\t\\tparams: {\\n\\t\\t\\t\\t\\tname: action.params?.name || '',\\n\\t\\t\\t\\t\\tmsg: action.params?.msg || '',\\n\\t\\t\\t\\t\\tsender: action.params?.sender || 'queue',\\n\\t\\t\\t\\t},\\n\\t\\t\\t};\\n\\t\\tcase 'use-external-service':\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tname: 'use-external-service',\\n\\t\\t\\t\\tparams: {\\n\\t\\t\\t\\t\\tname: action.params?.name || '',\\n\\t\\t\\t\\t\\tsender: action.params?.sender || 'queue',\\n\\t\\t\\t\\t\\tserviceUrl: action.params?.serviceUrl || '',\\n\\t\\t\\t\\t\\tserviceTimeout: action.params?.serviceTimeout || 0,\\n\\t\\t\\t\\t\\tserviceFallbackMessage: action.params?.serviceFallbackMessage || '',\\n\\t\\t\\t\\t},\\n\\t\\t\\t};\\n\\t}\\n};\\n\\nconst getInitialValues = (triggerData: Serialized<ILivechatTrigger> | undefined): TriggersPayload => ({\\n\\tname: triggerData?.name ?? '',\\n\\tdescription: triggerData?.description || '',\\n\\tenabled: triggerData?.enabled ?? true,\\n\\trunOnce: !!triggerData?.runOnce || false,\\n\\tconditions: triggerData?.conditions.map(({ name, value }) => ({ name: name || 'page-url', value: value || '' })) ?? [\\n\\t\\tDEFAULT_PAGE_URL_CONDITION,\\n\\t],\\n\\tactions: triggerData?.actions.map((action) => getDefaultAction(action)) ?? [DEFAULT_SEND_MESSAGE_ACTION],\\n});\\n\\nconst EditTrigger = ({ triggerData }: { triggerData?: Serialized<ILivechatTrigger> }) => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst queryClient = useQueryClient();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst saveTrigger = useEndpoint('POST', '/v1/livechat/triggers');\\n\\tconst initValues = getInitialValues(triggerData);\\n\\n\\tconst formId = useUniqueId();\\n\\tconst enabledField = useUniqueId();\\n\\tconst runOnceField = useUniqueId();\\n\\tconst nameField = useUniqueId();\\n\\tconst descriptionField = useUniqueId();\\n\\n\\tconst {\\n\\t\\tcontrol,\\n\\t\\thandleSubmit,\\n\\t\\ttrigger,\\n\\t\\tformState: { isDirty, isSubmitting, errors },\\n\\t} = useForm<TriggersPayload>({ mode: 'onBlur', reValidateMode: 'onBlur', values: initValues });\\n\\n\\t// Alternative way of checking isValid in order to not trigger validation on every render\\n\\t// https://github.com/react-hook-form/documentation/issues/944\\n\\tconst isValid = useMemo(() => Object.keys(errors).length === 0, [errors]);\\n\\n\\tconst { fields: conditionsFields } = useFieldArray({\\n\\t\\tcontrol,\\n\\t\\tname: 'conditions',\\n\\t});\\n\\n\\tconst { fields: actionsFields } = useFieldArray({\\n\\t\\tcontrol,\\n\\t\\tname: 'actions',\\n\\t});\\n\\n\\tconst saveTriggerMutation = useMutation({\\n\\t\\tmutationFn: saveTrigger,\\n\\t\\tonSuccess: () => {\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Saved') });\\n\\t\\t\\tqueryClient.invalidateQueries(['livechat-getTriggersById']);\\n\\t\\t\\tqueryClient.invalidateQueries(['livechat-triggers']);\\n\\t\\t\\trouter.navigate('/omnichannel/triggers');\\n\\t\\t},\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t});\\n\\n\\tconst handleSave = async (data: TriggersPayload) => {\\n\\t\\treturn saveTriggerMutation.mutateAsync({\\n\\t\\t\\t...data,\\n\\t\\t\\t_id: triggerData?._id,\\n\\t\\t\\tactions: data.actions.map(getDefaultAction),\\n\\t\\t});\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Contextualbar>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarTitle>{triggerData?._id ? t('Edit_Trigger') : t('New_Trigger')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/triggers')} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t<form id={formId} onSubmit={handleSubmit(handleSave)}>\\n\\t\\t\\t\\t\\t<FieldGroup>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={enabledField}>{t('Enabled')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='enabled'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field: { value, ...field } }) => <ToggleSwitch id={enabledField} {...field} checked={value} />}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={runOnceField}>{t('Run_only_once_for_each_visitor')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='runOnce'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field: { value, ...field } }) => <ToggleSwitch id={runOnceField} {...field} checked={value} />}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={nameField} required>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Name')}\\n\\t\\t\\t\\t\\t\\t\\t</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='name'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trules={{ required: t('Required_field', { field: t('Name') }) }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={nameField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\terror={errors?.name?.message}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-required={true}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-invalid={Boolean(errors?.name)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-describedby={`${nameField}-error`}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t{errors?.name && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{errors?.name.message}\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldError>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller name='description' control={control} render={({ field }) => <TextInput id={descriptionField} {...field} />} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\n\\t\\t\\t\\t\\t\\t{conditionsFields.map((field, index) => (\\n\\t\\t\\t\\t\\t\\t\\t<ConditionForm key={field.id} control={control} index={index} />\\n\\t\\t\\t\\t\\t\\t))}\\n\\n\\t\\t\\t\\t\\t\\t{actionsFields.map((field, index) => (\\n\\t\\t\\t\\t\\t\\t\\t<ActionForm key={field.id} control={control} trigger={trigger} index={index} />\\n\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t\\t</form>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t<Button onClick={() => router.navigate('/omnichannel/triggers')}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t<Button form={formId} type='submit' primary disabled={!isDirty || !isValid} loading={isSubmitting}>\\n\\t\\t\\t\\t\\t\\t{t('Save')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</Contextualbar>\\n\\t);\\n};\\n\\nexport default EditTrigger;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"_regeneratorRuntime\",\"_objectSpread\",\"FieldGroup\",\"Button\",\"ButtonGroup\",\"Field\",\"FieldLabel\",\"FieldRow\",\"FieldError\",\"TextInput\",\"ToggleSwitch\",\"useUniqueId\",\"useToastMessageDispatch\",\"useRouter\",\"useEndpoint\",\"useTranslation\",\"useMutation\",\"useQueryClient\",\"React\",\"useMemo\",\"Controller\",\"useFieldArray\",\"useForm\",\"ContextualbarScrollableContent\",\"ContextualbarTitle\",\"ContextualbarFooter\",\"Contextualbar\",\"ContextualbarHeader\",\"ContextualbarClose\",\"ConditionForm\",\"ActionForm\",\"module\",\"link\",\"default\",\"v\",\"export\",\"getDefaultAction\",\"DEFAULT_SEND_MESSAGE_ACTION\",\"name\",\"params\",\"sender\",\"msg\",\"DEFAULT_PAGE_URL_CONDITION\",\"value\",\"action\",\"_action$params\",\"_action$params2\",\"_action$params3\",\"_action$params4\",\"_action$params5\",\"_action$params6\",\"_action$params7\",\"_action$params8\",\"serviceUrl\",\"serviceTimeout\",\"serviceFallbackMessage\",\"getInitialValues\",\"triggerData\",\"_triggerData$name\",\"_triggerData$enabled\",\"_triggerData$conditio\",\"_triggerData$actions$\",\"description\",\"enabled\",\"runOnce\",\"conditions\",\"map\",\"_ref\",\"actions\",\"exportDefault\",\"_ref2\",\"t\",\"router\",\"queryClient\",\"dispatchToastMessage\",\"saveTrigger\",\"initValues\",\"formId\",\"enabledField\",\"runOnceField\",\"nameField\",\"descriptionField\",\"_useForm\",\"mode\",\"reValidateMode\",\"values\",\"control\",\"handleSubmit\",\"trigger\",\"_useForm$formState\",\"formState\",\"isDirty\",\"isSubmitting\",\"errors\",\"isValid\",\"Object\",\"keys\",\"length\",\"conditionsFields\",\"_useFieldArray\",\"fields\",\"actionsFields\",\"_useFieldArray2\",\"saveTriggerMutation\",\"mutationFn\",\"onSuccess\",\"type\",\"message\",\"invalidateQueries\",\"navigate\",\"onError\",\"error\",\"createElement\",\"_id\",\"onClick\",\"id\",\"onSubmit\",\"data\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"mutateAsync\",\"stop\",\"Promise\",\"htmlFor\",\"render\",\"_ref3\",\"_ref3$field\",\"field\",\"_excluded\",\"checked\",\"_ref4\",\"_ref4$field\",\"_excluded2\",\"required\",\"rules\",\"_ref5\",\"_errors$name\",\"Boolean\",\"_ref6\",\"index\",\"key\",\"stretch\",\"form\",\"primary\",\"disabled\",\"loading\"],\"mappings\":\"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\"}"}