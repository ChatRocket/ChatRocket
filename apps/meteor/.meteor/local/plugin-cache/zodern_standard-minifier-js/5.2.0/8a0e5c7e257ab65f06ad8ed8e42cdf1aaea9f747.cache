{"code":"function module(e,n,t){t.link(\"@babel/runtime/regenerator\",{default:function(e){o=e}},0),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){r=e}},1),t.link(\"@babel/runtime/helpers/taggedTemplateLiteralLoose\",{default:function(e){l=e}},2),t.link(\"@rocket.chat/css-in-js\",{css:function(e){c=e}},0),t.link(\"@rocket.chat/fuselage\",{Box:function(e){a=e},ButtonGroup:function(e){u=e},Button:function(e){s=e},Icon:function(e){d=e},PositionAnimated:function(e){f=e}},1),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){p=e}},2),t.link(\"@rocket.chat/ui-contexts\",{useTranslation:function(e){m=e},useToastMessageDispatch:function(e){v=e}},3),t.link(\"react\",{default:function(e){g=e},useRef:function(e){h=e},useEffect:function(e){b=e},useState:function(e){k=e}},4),t.link(\"../../../../app/ui/client/lib/UserAction\",{UserAction:function(e){E=e},USER_ACTIVITIES:function(e){w=e}},5),t.link(\"../../../../app/ui/client/lib/recorderjs/videoRecorder\",{VideoRecorder:function(e){y=e}},6),t.link(\"../../room/contexts/ChatContext\",{useChat:function(e){x=e}},7);var i,o,r,l,c,a,u,s,d,f,p,m,v,g,h,b,k,E,w,y,x,R=c(i||(i=l([\"\\n\ttransform: scaleX(-1);\\n\tfilter: FlipH;\\n\\n\t@media (max-width: 500px) {\\n\t\t& > video {\\n\t\t\twidth: 100%;\\n\t\t\theight: 100%;\\n\t\t}\\n\t}\\n\"])));t.exportDefault(function(e){var n,t=e.rid,i=e.tmid,l=e.chatContext,c=e.reference,C=m(),S=h(null),T=v(),I=k(),_=r(I,2),M=_[0],D=_[1],P=k(\"idle\"),A=r(P,2),U=A[0],V=A[1],B=k(null),j=r(B,2),F=j[0],G=j[1],N=!(y.cameraStarted.get()&&\"recording\"!==U),L=null!==(n=x())&&void 0!==n?n:l,O=function(e,n){return o.async(function(t){for(;;)switch(t.prev=t.next){case 0:F&&clearInterval(F),G(null),y.stopRecording(),E.stop(e,w.USER_RECORDING,{tmid:n}),V(\"idle\");case 5:case\"end\":return t.stop()}},null,null,null,Promise)},z=p(function(){var e;y.stop(),null==L||null===(e=L.composer)||void 0===e||e.setRecordingVideo(!1),D(void 0),O(t,i)});return b(function(){var e;return y.getSupportedMimeTypes()?(y.start(null!==(e=S.current)&&void 0!==e?e:void 0,function(e){return e?void 0:z()}),function(){y.stop()}):T({type:\"error\",message:C(\"Browser_does_not_support_recording_video\")})},[T,z,C]),g.createElement(f,{visible:\"visible\",anchor:c,placement:\"top-end\"},g.createElement(a,{bg:\"light\",padding:4,borderRadius:4,elevation:\"2\"},g.createElement(a,{className:R,overflow:\"hidden\",height:240,borderRadius:4},g.createElement(\"video\",{muted:!0,autoPlay:!0,playsInline:!0,ref:S,width:320,height:240})),g.createElement(a,{mbs:4,display:\"flex\",justifyContent:\"space-between\"},g.createElement(s,{small:!0,onClick:function(){var e;return o.async(function(n){for(;;)switch(n.prev=n.next){case 0:\"recording\"===U?O(t,i):(y.record(),V(\"recording\"),E.performContinuously(t,w.USER_RECORDING,{tmid:i}),D(\"00:00\"),e=new Date,G(setInterval(function(){var n=(new Date().getTime()-e.getTime())/1e3,t=Math.floor(n/60),i=Math.floor(n%60);D(String(t).padStart(2,\"0\")+\":\"+String(i).padStart(2,\"0\"))},1e3)));case 1:case\"end\":return n.stop()}},null,null,null,Promise)}},g.createElement(a,{is:\"span\",display:\"flex\",alignItems:\"center\"},g.createElement(d,{size:\"x16\",mie:M?4:void 0,name:\"recording\"===U?\"stop-unfilled\":\"rec\"}),M&&g.createElement(\"span\",null,M))),g.createElement(u,null,g.createElement(s,{small:!0,onClick:z},C(\"Cancel\")),g.createElement(s,{primary:!0,small:!0,disabled:N,onClick:function(){var e;return o.async(function(n){for(;;)switch(n.prev=n.next){case 0:e=function e(e){var n,t,i;return o.async(function r(r){for(;;)switch(r.prev=r.next){case 0:return t=C(\"Video_record\")+\".\"+(y.getSupportedMimeTypes().match(/video\\/webm/)?\"webm\":\"mp4\"),i=new File([e],t,{type:y.getSupportedMimeTypes().split(\";\")[0]}),r.next=4,o.awrap(null==L?void 0:L.flows.uploadFiles([i]));case 4:null==L||null===(n=L.composer)||void 0===n||n.setRecordingVideo(!1);case 5:case\"end\":return r.stop()}},null,null,null,Promise)},y.stop(e),D(void 0),O(t,i);case 4:case\"end\":return n.stop()}},null,null,null,Promise)}},C(\"Send\"))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/composer/VideoMessageRecorder/VideoMessageRecorder.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage, IRoom } from '@rocket.chat/core-typings';\\nimport { css } from '@rocket.chat/css-in-js';\\nimport { Box, ButtonGroup, Button, Icon, PositionAnimated } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useTranslation, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport type { AllHTMLAttributes, RefObject } from 'react';\\nimport React, { useRef, useEffect, useState } from 'react';\\n\\nimport { UserAction, USER_ACTIVITIES } from '../../../../app/ui/client/lib/UserAction';\\nimport { VideoRecorder } from '../../../../app/ui/client/lib/recorderjs/videoRecorder';\\nimport type { ChatAPI } from '../../../lib/chats/ChatAPI';\\nimport { useChat } from '../../room/contexts/ChatContext';\\n\\ntype VideoMessageRecorderProps = {\\n\\trid: IRoom['_id'];\\n\\ttmid?: IMessage['_id'];\\n\\tchatContext?: ChatAPI; // TODO: remove this when the composer is migrated to React\\n\\treference: RefObject<HTMLElement>;\\n} & Omit<AllHTMLAttributes<HTMLDivElement>, 'is'>;\\n\\nconst videoContainerClass = css`\\n\\ttransform: scaleX(-1);\\n\\tfilter: FlipH;\\n\\n\\t@media (max-width: 500px) {\\n\\t\\t& > video {\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\theight: 100%;\\n\\t\\t}\\n\\t}\\n`;\\n\\nconst getVideoRecordingExtension = () => {\\n\\tconst supported = VideoRecorder.getSupportedMimeTypes();\\n\\tif (supported.match(/video\\\\/webm/)) {\\n\\t\\treturn 'webm';\\n\\t}\\n\\treturn 'mp4';\\n};\\n\\nconst VideoMessageRecorder = ({ rid, tmid, chatContext, reference }: VideoMessageRecorderProps) => {\\n\\tconst t = useTranslation();\\n\\tconst videoRef = useRef<HTMLVideoElement>(null);\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst [time, setTime] = useState<string | undefined>();\\n\\tconst [recordingState, setRecordingState] = useState<'idle' | 'loading' | 'recording'>('idle');\\n\\tconst [recordingInterval, setRecordingInterval] = useState<ReturnType<typeof setInterval> | null>(null);\\n\\tconst isRecording = recordingState === 'recording';\\n\\tconst sendButtonDisabled = !(VideoRecorder.cameraStarted.get() && !(recordingState === 'recording'));\\n\\n\\tconst chat = useChat() ?? chatContext;\\n\\n\\tconst stopVideoRecording = async (rid: IRoom['_id'], tmid?: IMessage['_id']) => {\\n\\t\\tif (recordingInterval) {\\n\\t\\t\\tclearInterval(recordingInterval);\\n\\t\\t}\\n\\t\\tsetRecordingInterval(null);\\n\\t\\tVideoRecorder.stopRecording();\\n\\t\\tUserAction.stop(rid, USER_ACTIVITIES.USER_RECORDING, { tmid });\\n\\t\\tsetRecordingState('idle');\\n\\t};\\n\\n\\tconst handleRecord = async () => {\\n\\t\\tif (recordingState === 'recording') {\\n\\t\\t\\tstopVideoRecording(rid, tmid);\\n\\t\\t} else {\\n\\t\\t\\tVideoRecorder.record();\\n\\t\\t\\tsetRecordingState('recording');\\n\\t\\t\\tUserAction.performContinuously(rid, USER_ACTIVITIES.USER_RECORDING, { tmid });\\n\\t\\t\\tsetTime('00:00');\\n\\t\\t\\tconst startTime = new Date();\\n\\t\\t\\tsetRecordingInterval(\\n\\t\\t\\t\\tsetInterval(() => {\\n\\t\\t\\t\\t\\tconst now = new Date();\\n\\t\\t\\t\\t\\tconst distance = (now.getTime() - startTime.getTime()) / 1000;\\n\\t\\t\\t\\t\\tconst minutes = Math.floor(distance / 60);\\n\\t\\t\\t\\t\\tconst seconds = Math.floor(distance % 60);\\n\\t\\t\\t\\t\\tsetTime(`${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`);\\n\\t\\t\\t\\t}, 1000),\\n\\t\\t\\t);\\n\\t\\t}\\n\\t};\\n\\n\\tconst handleSendRecord = async () => {\\n\\t\\tconst cb = async (blob: Blob) => {\\n\\t\\t\\tconst fileName = `${t('Video_record')}.${getVideoRecordingExtension()}`;\\n\\t\\t\\tconst file = new File([blob], fileName, { type: VideoRecorder.getSupportedMimeTypes().split(';')[0] });\\n\\t\\t\\tawait chat?.flows.uploadFiles([file]);\\n\\t\\t\\tchat?.composer?.setRecordingVideo(false);\\n\\t\\t};\\n\\n\\t\\tVideoRecorder.stop(cb);\\n\\t\\tsetTime(undefined);\\n\\t\\tstopVideoRecording(rid, tmid);\\n\\t};\\n\\n\\tconst handleCancel = useMutableCallback(() => {\\n\\t\\tVideoRecorder.stop();\\n\\t\\tchat?.composer?.setRecordingVideo(false);\\n\\t\\tsetTime(undefined);\\n\\t\\tstopVideoRecording(rid, tmid);\\n\\t});\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!VideoRecorder.getSupportedMimeTypes()) {\\n\\t\\t\\treturn dispatchToastMessage({ type: 'error', message: t('Browser_does_not_support_recording_video') });\\n\\t\\t}\\n\\n\\t\\tVideoRecorder.start(videoRef.current ?? undefined, (success) => (!success ? handleCancel() : undefined));\\n\\n\\t\\treturn () => {\\n\\t\\t\\tVideoRecorder.stop();\\n\\t\\t};\\n\\t}, [dispatchToastMessage, handleCancel, t]);\\n\\n\\treturn (\\n\\t\\t<PositionAnimated visible='visible' anchor={reference} placement='top-end'>\\n\\t\\t\\t<Box bg='light' padding={4} borderRadius={4} elevation='2'>\\n\\t\\t\\t\\t<Box className={videoContainerClass} overflow='hidden' height={240} borderRadius={4}>\\n\\t\\t\\t\\t\\t<video muted autoPlay playsInline ref={videoRef} width={320} height={240} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<Box mbs={4} display='flex' justifyContent='space-between'>\\n\\t\\t\\t\\t\\t<Button small onClick={handleRecord}>\\n\\t\\t\\t\\t\\t\\t<Box is='span' display='flex' alignItems='center'>\\n\\t\\t\\t\\t\\t\\t\\t<Icon size='x16' mie={time ? 4 : undefined} name={isRecording ? 'stop-unfilled' : 'rec'} />\\n\\t\\t\\t\\t\\t\\t\\t{time && <span>{time}</span>}\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t\\t<Button small onClick={handleCancel}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Cancel')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t<Button primary small disabled={sendButtonDisabled} onClick={handleSendRecord}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Send')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Box>\\n\\t\\t</PositionAnimated>\\n\\t);\\n};\\n\\nexport default VideoMessageRecorder;\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_slicedToArray\",\"_taggedTemplateLiteralLoose\",\"css\",\"Box\",\"ButtonGroup\",\"Button\",\"Icon\",\"PositionAnimated\",\"useMutableCallback\",\"useTranslation\",\"useToastMessageDispatch\",\"React\",\"useRef\",\"useEffect\",\"useState\",\"UserAction\",\"USER_ACTIVITIES\",\"VideoRecorder\",\"useChat\",\"videoContainerClass\",\"_templateObject\",\"exportDefault\",\"_ref\",\"_useChat\",\"rid\",\"tmid\",\"chatContext\",\"reference\",\"t\",\"videoRef\",\"dispatchToastMessage\",\"_useState\",\"_useState2\",\"time\",\"setTime\",\"_useState3\",\"_useState4\",\"recordingState\",\"setRecordingState\",\"_useState5\",\"_useState6\",\"recordingInterval\",\"setRecordingInterval\",\"sendButtonDisabled\",\"cameraStarted\",\"get\",\"chat\",\"stopVideoRecording\",\"async\",\"_context\",\"prev\",\"next\",\"clearInterval\",\"stopRecording\",\"stop\",\"USER_RECORDING\",\"Promise\",\"handleCancel\",\"_chat$composer2\",\"composer\",\"setRecordingVideo\",\"undefined\",\"_videoRef$current\",\"getSupportedMimeTypes\",\"start\",\"current\",\"success\",\"type\",\"message\",\"createElement\",\"visible\",\"anchor\",\"placement\",\"bg\",\"padding\",\"borderRadius\",\"elevation\",\"className\",\"overflow\",\"height\",\"muted\",\"autoPlay\",\"playsInline\",\"ref\",\"width\",\"mbs\",\"display\",\"justifyContent\",\"small\",\"onClick\",\"startTime\",\"_context2\",\"record\",\"performContinuously\",\"Date\",\"setInterval\",\"distance\",\"now\",\"getTime\",\"minutes\",\"Math\",\"floor\",\"seconds\",\"String\",\"padStart\",\"is\",\"alignItems\",\"size\",\"mie\",\"name\",\"isRecording\",\"primary\",\"disabled\",\"cb\",\"_context4\",\"_callee3\",\"blob\",\"_chat$composer\",\"fileName\",\"file\",\"_callee3$\",\"_context3\",\"supported\",\"match\",\"File\",\"split\",\"awrap\",\"flows\",\"uploadFiles\"],\"mappings\":\"uBACoBA,EAAAC,IAAA,CAAA,6BAAyB,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,oDAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAAtCH,EAAOC,IAAA,CAAM,yBAAyB,CAAAM,IAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAO,IAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,YAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,EAAAO,OAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,EAAAQ,KAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,EAAAS,iBAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAY,mBAAA,SAAAV,CAAA,EAAAU,EAAAV,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAa,eAAA,SAAAX,CAAA,EAAAW,EAAAX,CAAA,EAAAY,wBAAA,SAAAZ,CAAA,EAAAY,EAAAZ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAa,EAAAb,CAAA,EAAAc,OAAA,SAAAd,CAAA,EAAAc,EAAAd,CAAA,EAAAe,UAAA,SAAAf,CAAA,EAAAe,EAAAf,CAAA,EAAAgB,SAAA,SAAAhB,CAAA,EAAAgB,EAAAhB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2CAAA,CAAAmB,WAAA,SAAAjB,CAAA,EAAAiB,EAAAjB,CAAA,EAAAkB,gBAAA,SAAAlB,CAAA,EAAAkB,EAAAlB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,yDAAA,CAAAqB,cAAA,SAAAnB,CAAA,EAAAmB,EAAAnB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAsB,QAAA,SAAApB,CAAA,EAAAoB,EAAApB,CAAA,CAAA,EAAA,GAmB7C,MAnBAC,EAA6CC,EAAAC,EAA7CC,EAA6CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAmBvCC,EAAsBjB,EAAGkB,GAAAA,CAAAA,EAAAnB,EAAA,CAAA,0IAAA,CAAA,GAnB/BN,EAAO0B,aAAa,CAuCS,SAAAC,CAAA,EAAqE,IAAAC,EAAlEC,EAAGF,EAAHE,GAAG,CAAEC,EAAIH,EAAJG,IAAI,CAAEC,EAAWJ,EAAXI,WAAW,CAAEC,EAASL,EAATK,SAAS,CAC1DC,EAAInB,IACJoB,EAAWjB,EAAyB,MACpCkB,EAAuBpB,IAE7BqB,EAAwBjB,IAA8BkB,EAAAhC,EAAA+B,EAAA,GAA/CE,EAAID,CAAA,CAAA,EAAA,CAAEE,EAAOF,CAAA,CAAA,EAAA,CACpBG,EAA4CrB,EAA2C,QAAOsB,EAAApC,EAAAmC,EAAA,GAAvFE,EAAcD,CAAA,CAAA,EAAA,CAAEE,EAAiBF,CAAA,CAAA,EAAA,CACxCG,EAAkDzB,EAAgD,MAAK0B,EAAAxC,EAAAuC,EAAA,GAAhGE,EAAiBD,CAAA,CAAA,EAAA,CAAEE,EAAoBF,CAAA,CAAA,EAAA,CAExCG,EAAqB,CAAE1B,CAAAA,EAAc2B,aAAa,CAACC,GAAG,IAAM,AAAqB,cAAnBR,CAA8B,EAE5FS,EAAI,AAAY,OAAZvB,CAAAA,EAAGL,GAAO,GAAEK,AAAA,KAAA,IAAAA,EAAAA,EAAIG,EAEpBqB,EAAqB,SAAOvB,CAAiB,CAAEC,CAAsB,EAAA,OAAA1B,EAAAiD,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EACtEV,GACHW,cAAcX,GAEfC,EAAqB,MACrBzB,EAAcoC,aAAa,GAC3BtC,EAAWuC,IAAI,CAAC9B,EAAKR,EAAgBuC,cAAc,CAAE,CAAE9B,KAAAA,CAAI,GAC3Da,EAAkB,OAAQ,MAAA,EAAA,IAAA,MAAA,OAAAW,EAAAK,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAE,QAAA,EAqCrBC,EAAejD,EAAmB,WAAK,IAAAkD,EAC5CzC,EAAcqC,IAAI,GAClBR,MAAAA,GAAI,AAAU,OAAVY,CAAAA,EAAJZ,EAAMa,QAAQ,AAARA,GAAQD,AAAA,KAAA,IAAAA,GAAdA,EAAgBE,iBAAiB,CAAC,CAAA,GAClC1B,EAAQ2B,KAAAA,GACRd,EAAmBvB,EAAKC,EACzB,GAcA,OAZAZ,EAAU,WAAK,IAAAiD,SACd,AAAK7C,EAAc8C,qBAAqB,IAIxC9C,EAAc+C,KAAK,CAAA,AAAiB,OAAjBF,CAAAA,EAACjC,EAASoC,OAAO,AAAPA,GAAOH,AAAA,KAAA,IAAAA,EAAAA,EAAID,KAAAA,EAAW,SAACK,CAAO,EAAA,OAAM,AAACA,EAA2BL,KAAAA,EAAjBJ,GAA0B,GAE/F,WACNxC,EAAcqC,IAAI,EACnB,GAPQxB,EAAqB,CAAEqC,KAAM,QAASC,QAASxC,EAAE,2CAA2C,EAQrG,EAAG,CAACE,EAAsB2B,EAAc7B,EAAE,EAGzCjB,EAAA0D,aAAA,CAAC9D,EAAgB,CAAC+D,QAAQ,UAAUC,OAAQ5C,EAAW6C,UAAU,SAAS,EACzE7D,EAAA0D,aAAA,CAAClE,EAAG,CAACsE,GAAG,QAAQC,QAAS,EAAGC,aAAc,EAAGC,UAAU,GAAG,EACzDjE,EAAA0D,aAAA,CAAClE,EAAG,CAAC0E,UAAW1D,EAAqB2D,SAAS,SAASC,OAAQ,IAAKJ,aAAc,CAAE,EACnFhE,EAAA0D,aAAA,CAAA,QAAA,CAAOW,MAAK,CAAA,EAACC,SAAQ,CAAA,EAACC,YAAW,CAAA,EAACC,IAAKtD,EAAUuD,MAAO,IAAKL,OAAQ,GAAI,IAE1EpE,EAAA0D,aAAA,CAAClE,EAAG,CAACkF,IAAK,EAAGC,QAAQ,OAAOC,eAAe,eAAe,EACzD5E,EAAA0D,aAAA,CAAChE,EAAM,CAACmF,MAAK,CAAA,EAACC,QA5DG,WAAA,IAAAC,EAAA,OAAA3F,EAAAiD,KAAA,CAAA,SAAA2C,CAAA,EAAA,OAAA,OAAAA,EAAAzC,IAAA,CAAAyC,EAAAxC,IAAA,EAAA,KAAA,EAChBd,AAAmB,cAAnBA,EACHU,EAAmBvB,EAAKC,IAExBR,EAAc2E,MAAM,GACpBtD,EAAkB,aAClBvB,EAAW8E,mBAAmB,CAACrE,EAAKR,EAAgBuC,cAAc,CAAE,CAAE9B,KAAAA,CAAI,GAC1ES,EAAQ,SACFwD,EAAY,IAAII,KACtBpD,EACCqD,YAAY,WAEX,IAAMC,EAAW,AAACC,CAAAA,AADN,IAAIH,OACMI,OAAO,GAAKR,EAAUQ,OAAO,EAAA,EAAM,IACnDC,EAAUC,KAAKC,KAAK,CAACL,EAAW,IAChCM,EAAUF,KAAKC,KAAK,CAACL,EAAW,IACtC9D,EAAWqE,OAAOJ,GAASK,QAAQ,CAAC,EAAG,KAAI,IAAID,OAAOD,GAASE,QAAQ,CAAC,EAAG,KAC5E,EAAG,MAEJ,MAAA,EAAA,IAAA,MAAA,OAAAb,EAAArC,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAE,QAAA,CA0CsC,EACnC7C,EAAA0D,aAAA,CAAClE,EAAG,CAACsG,GAAG,OAAOnB,QAAQ,OAAOoB,WAAW,QAAQ,EAChD/F,EAAA0D,aAAA,CAAC/D,EAAI,CAACqG,KAAK,MAAMC,IAAK3E,EAAO,EAAI4B,KAAAA,EAAWgD,KAAMC,AA7EpCzE,AAAmB,cAAnBA,EA6EkD,gBAAkB,KAAM,GACvFJ,GAAQtB,EAAA0D,aAAA,CAAA,OAAA,KAAOpC,KAGlBtB,EAAA0D,aAAA,CAACjE,EAAW,KACXO,EAAA0D,aAAA,CAAChE,EAAM,CAACmF,MAAK,CAAA,EAACC,QAAShC,CAAa,EAClC7B,EAAE,WAEJjB,EAAA0D,aAAA,CAAChE,EAAM,CAAC0G,QAAO,CAAA,EAACvB,MAAK,CAAA,EAACwB,SAAUrE,EAAoB8C,QAjDhC,WAAA,IAAAwB,EAAA,OAAAlH,EAAAiD,KAAA,CAAA,SAAAkE,CAAA,EAAA,OAAA,OAAAA,EAAAhE,IAAA,CAAAgE,EAAA/D,IAAA,EAAA,KAAA,EAClB8D,EAAK,SAAAE,EAAOC,CAAU,MAAAC,EAAAC,EAAAC,EAAA,OAAAxH,EAAAiD,KAAA,CAAA,SAAAwE,EAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAvE,IAAA,CAAAuE,EAAAtE,IAAA,EAAA,KAAA,EAE2E,OADhGmE,EAAc1F,EAAE,gBAAe,IApDvC,CAAA,AAAI8F,AADczG,EAAc8C,qBAAqB,GACvC4D,KAAK,CAAC,eACZ,OAED,KADP,EAmDQJ,EAAO,IAAIK,KAAK,CAACR,EAAK,CAAEE,EAAU,CAAEnD,KAAMlD,EAAc8C,qBAAqB,GAAG8D,KAAK,CAAC,IAAI,CAAC,EAAC,AAAC,GAAGJ,EAAAtE,IAAA,CAAA,EAAApD,EAAA+H,KAAA,CAChGhF,MAAAA,EAAI,KAAA,EAAJA,EAAMiF,KAAK,CAACC,WAAW,CAAC,CAACT,EAAK,EAAC,MAAA,EACrCzE,MAAAA,GAAI,AAAU,OAAVuE,CAAAA,EAAJvE,EAAMa,QAAQ,AAARA,GAAQ0D,AAAA,KAAA,IAAAA,GAAdA,EAAgBzD,iBAAiB,CAAC,CAAA,EAAO,MAAA,EAAA,IAAA,MAAA,OAAA6D,EAAAnE,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAE,QAAA,EAG1CvC,EAAcqC,IAAI,CAAC2D,GACnB/E,EAAQ2B,KAAAA,GACRd,EAAmBvB,EAAKC,EAAM,MAAA,EAAA,IAAA,MAAA,OAAAyF,EAAA5D,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAE,QAAA,CAuCoD,EAC5E5B,EAAE,YAOV\"}"}