{"code":"function module(e,n,o){o.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){t=e}},0),o.export({VoipFooter:function(){return _}}),o.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){u=e},useTranslation:function(e){i=e}},0),o.link(\"react\",{default:function(e){l=e},useCallback:function(e){c=e},useState:function(e){a=e}},1),o.link(\"../../../contexts/CallContext\",{useCallActions:function(e){s=e},useCallCreateRoom:function(e){r=e},useCallerInfo:function(e){f=e},useCallOpenRoom:function(e){p=e},useIsVoipEnterprise:function(e){m=e},useOpenedRoomInfo:function(e){d=e},useQueueCounter:function(e){C=e},useQueueName:function(e){E=e}},2),o.link(\"../../../hooks/useVoipFooterMenu\",{useVoipFooterMenu:function(e){k=e}},3),o.link(\"../SidebarFooterDefault\",{default:function(e){F=e}},4),o.link(\"./VoipFooter\",{VoipFooter:function(e){R=e}},5);var t,u,i,l,c,a,s,r,f,p,m,d,C,E,k,F,R,_=function(){var e,n=i(),o=f(),_=s(),g=u(\"POST\",\"/v1/voip/events\"),I=r(),O=p(),V=C(),v=E(),b=d(),h=k(),S=a(!1),x=t(S,2),A=x[0],N=x[1],T=a(!1),D=t(T,2),L=D[0],M=D[1],P=m(),Q=c(function(e){e?_.mute():_.unmute(),N(e)},[_]),H=c(function(e){e?_.pause():_.resume(),N(!1),M(e)},[_]);return\"caller\"in o?l.createElement(R,{caller:o.caller,callerState:o.state,callActions:_,title:v||n(\"Phone_call\"),subtitle:(e=o.state,({IN_CALL:n(\"In_progress\"),OFFER_RECEIVED:n(\"Ringing\"),OFFER_SENT:n(\"Calling\"),ON_HOLD:n(\"On_Hold\")})[e]||\"\"),muted:A,paused:L,toggleMic:Q,togglePause:H,createRoom:I,openRoom:O,callsInQueue:n(\"Calls_in_queue\",{count:V}),dispatchEvent:g,openedRoomInfo:b,isEnterprise:P,options:h}):l.createElement(F,null)}}","map":"{\"version\":3,\"sources\":[\"client/sidebar/footer/voip/index.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { VoIpCallerInfo } from '@rocket.chat/core-typings';\\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback, useState } from 'react';\\n\\nimport {\\n\\tuseCallActions,\\n\\tuseCallCreateRoom,\\n\\tuseCallerInfo,\\n\\tuseCallOpenRoom,\\n\\tuseIsVoipEnterprise,\\n\\tuseOpenedRoomInfo,\\n\\tuseQueueCounter,\\n\\tuseQueueName,\\n} from '../../../contexts/CallContext';\\nimport { useVoipFooterMenu } from '../../../hooks/useVoipFooterMenu';\\nimport SidebarFooterDefault from '../SidebarFooterDefault';\\nimport { VoipFooter as VoipFooterComponent } from './VoipFooter';\\n\\nexport const VoipFooter = (): ReactElement | null => {\\n\\tconst t = useTranslation();\\n\\tconst callerInfo = useCallerInfo();\\n\\tconst callActions = useCallActions();\\n\\tconst dispatchEvent = useEndpoint('POST', '/v1/voip/events');\\n\\n\\tconst createRoom = useCallCreateRoom();\\n\\tconst openRoom = useCallOpenRoom();\\n\\tconst queueCounter = useQueueCounter();\\n\\tconst queueName = useQueueName();\\n\\tconst openedRoomInfo = useOpenedRoomInfo();\\n\\tconst options = useVoipFooterMenu();\\n\\n\\tconst [muted, setMuted] = useState(false);\\n\\tconst [paused, setPaused] = useState(false);\\n\\tconst isEnterprise = useIsVoipEnterprise();\\n\\n\\tconst toggleMic = useCallback(\\n\\t\\t(state: boolean) => {\\n\\t\\t\\tstate ? callActions.mute() : callActions.unmute();\\n\\t\\t\\tsetMuted(state);\\n\\t\\t},\\n\\t\\t[callActions],\\n\\t);\\n\\n\\tconst togglePause = useCallback(\\n\\t\\t(state: boolean) => {\\n\\t\\t\\tstate ? callActions.pause() : callActions.resume();\\n\\t\\t\\tsetMuted(false);\\n\\t\\t\\tsetPaused(state);\\n\\t\\t},\\n\\t\\t[callActions],\\n\\t);\\n\\n\\tconst getSubtitle = (state: VoIpCallerInfo['state']): string => {\\n\\t\\tconst subtitles: Record<string, string> = {\\n\\t\\t\\tIN_CALL: t('In_progress'),\\n\\t\\t\\tOFFER_RECEIVED: t('Ringing'),\\n\\t\\t\\tOFFER_SENT: t('Calling'),\\n\\t\\t\\tON_HOLD: t('On_Hold'),\\n\\t\\t};\\n\\n\\t\\treturn subtitles[state] || '';\\n\\t};\\n\\n\\tif (!('caller' in callerInfo)) {\\n\\t\\treturn <SidebarFooterDefault />;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<VoipFooterComponent\\n\\t\\t\\tcaller={callerInfo.caller}\\n\\t\\t\\tcallerState={callerInfo.state}\\n\\t\\t\\tcallActions={callActions}\\n\\t\\t\\ttitle={queueName || t('Phone_call')}\\n\\t\\t\\tsubtitle={getSubtitle(callerInfo.state)}\\n\\t\\t\\tmuted={muted}\\n\\t\\t\\tpaused={paused}\\n\\t\\t\\ttoggleMic={toggleMic}\\n\\t\\t\\ttogglePause={togglePause}\\n\\t\\t\\tcreateRoom={createRoom}\\n\\t\\t\\topenRoom={openRoom}\\n\\t\\t\\tcallsInQueue={t('Calls_in_queue', { count: queueCounter })}\\n\\t\\t\\tdispatchEvent={dispatchEvent}\\n\\t\\t\\topenedRoomInfo={openedRoomInfo}\\n\\t\\t\\tisEnterprise={isEnterprise}\\n\\t\\t\\toptions={options}\\n\\t\\t/>\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_slicedToArray\",\"export\",\"VoipFooter\",\"useEndpoint\",\"useTranslation\",\"React\",\"useCallback\",\"useState\",\"useCallActions\",\"useCallCreateRoom\",\"useCallerInfo\",\"useCallOpenRoom\",\"useIsVoipEnterprise\",\"useOpenedRoomInfo\",\"useQueueCounter\",\"useQueueName\",\"useVoipFooterMenu\",\"SidebarFooterDefault\",\"VoipFooterComponent\",\"state\",\"t\",\"callerInfo\",\"callActions\",\"dispatchEvent\",\"createRoom\",\"openRoom\",\"queueCounter\",\"queueName\",\"openedRoomInfo\",\"options\",\"_useState\",\"_useState2\",\"muted\",\"setMuted\",\"_useState3\",\"_useState4\",\"paused\",\"setPaused\",\"isEnterprise\",\"toggleMic\",\"mute\",\"unmute\",\"togglePause\",\"pause\",\"resume\",\"createElement\",\"caller\",\"callerState\",\"title\",\"subtitle\",\"subtitles\",\"IN_CALL\",\"OFFER_RECEIVED\",\"OFFER_SENT\",\"ON_HOLD\",\"callsInQueue\",\"count\"],\"mappings\":\"uBACSA,EAAaC,IAAA,CAAA,uCAAgD,CAACC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAvEH,EAAOK,MAAE,CAAA,CAAAC,WAAa,WAAc,OAAQA,CAAA,CAAA,GAA2BN,EAAAC,IAAA,CAAA,2BAAA,CAAAM,YAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,EAAAK,eAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAM,EAAAN,CAAA,EAAAO,YAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,EAAAQ,SAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAAW,eAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,EAAAU,kBAAA,SAAAV,CAAA,EAAAU,EAAAV,CAAA,EAAAW,cAAA,SAAAX,CAAA,EAAAW,EAAAX,CAAA,EAAAY,gBAAA,SAAAZ,CAAA,EAAAY,EAAAZ,CAAA,EAAAa,oBAAA,SAAAb,CAAA,EAAAa,EAAAb,CAAA,EAAAc,kBAAA,SAAAd,CAAA,EAAAc,EAAAd,CAAA,EAAAe,gBAAA,SAAAf,CAAA,EAAAe,EAAAf,CAAA,EAAAgB,aAAA,SAAAhB,CAAA,EAAAgB,EAAAhB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,mCAAA,CAAAmB,kBAAA,SAAAjB,CAAA,EAAAiB,EAAAjB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAA,QAAA,SAAAE,CAAA,EAAAkB,EAAAlB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,eAAA,CAAAK,WAAA,SAAAH,CAAA,EAAAmB,EAAAnB,CAAA,CAAA,EAAA,GAkBhE,IAlBPC,EAA4CG,EAA2BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAkB1DhB,EAAa,WACzB,IAiCqBiB,EAjCfC,EAAIhB,IACJiB,EAAaX,IACbY,EAAcd,IACde,EAAgBpB,EAAY,OAAQ,mBAEpCqB,EAAaf,IACbgB,EAAWd,IACXe,EAAeZ,IACfa,EAAYZ,IACZa,EAAiBf,IACjBgB,EAAUb,IAEhBc,EAA0BvB,EAAS,CAAA,GAAMwB,EAAA/B,EAAA8B,EAAA,GAAlCE,EAAKD,CAAA,CAAA,EAAA,CAAEE,EAAQF,CAAA,CAAA,EAAA,CACtBG,EAA4B3B,EAAS,CAAA,GAAM4B,EAAAnC,EAAAkC,EAAA,GAApCE,EAAMD,CAAA,CAAA,EAAA,CAAEE,EAASF,CAAA,CAAA,EAAA,CAClBG,EAAe1B,IAEf2B,EAAYjC,EACjB,SAACa,CAAc,EACdA,EAAQG,EAAYkB,IAAI,GAAKlB,EAAYmB,MAAM,GAC/CR,EAASd,EACV,EACA,CAACG,EAAY,EAGRoB,EAAcpC,EACnB,SAACa,CAAc,EACdA,EAAQG,EAAYqB,KAAK,GAAKrB,EAAYsB,MAAM,GAChDX,EAAS,CAAA,GACTI,EAAUlB,EACX,EACA,CAACG,EAAY,QAcd,AAAM,WAAYD,EAKjBhB,EAAAwC,aAAA,CAAC3B,EAAmB,CACnB4B,OAAQzB,EAAWyB,MAAO,CAC1BC,YAAa1B,EAAWF,KAAM,CAC9BG,YAAaA,EACb0B,MAAOrB,GAAaP,EAAE,cACtB6B,QAAQ,EArBW9B,EAqBGE,EAAWF,KAAK,CAbhC+B,AAPmC,CAAA,CACzCC,QAAS/B,EAAE,eACXgC,eAAgBhC,EAAE,WAClBiC,WAAYjC,EAAE,WACdkC,QAASlC,EAAE,YAGI,CAACD,EAAM,EAAI,IAc1Ba,MAAOA,EACPI,OAAQA,EACRG,UAAWA,EACXG,YAAaA,EACblB,WAAYA,EACZC,SAAUA,EACV8B,aAAcnC,EAAE,iBAAkB,CAAEoC,MAAO9B,CAAY,GACvDH,cAAeA,EACfK,eAAgBA,EAChBU,aAAcA,EACdT,QAASA,CAAQ,GApBXxB,EAAAwC,aAAA,CAAC5B,EAAoB,KAuB9B\"}"}