{"code":"function module(e,n,t){let l,o,s,r,i,a,u,c,m,k;t.link(\"@rocket.chat/fuselage\",{ButtonGroup(e){l=e},IconButton(e){o=e},Skeleton(e){s=e}},0),t.link(\"@rocket.chat/ui-client\",{GenericMenu(e){r=e}},1),t.link(\"react\",{default(e){i=e},useMemo(e){a=e}},2),t.link(\"react-i18next\",{useTranslation(e){u=e}},3),t.link(\"../../../../components/UserInfo\",{UserInfoAction(e){c=e}},4),t.link(\"../../../hooks/useMemberExists\",{useMemberExists(e){m=e}},5),t.link(\"../../hooks/useUserInfoActions\",{useUserInfoActions(e){k=e}},6),t.exportDefault(e=>{let{user:n,rid:t,backToList:d}=e,{t:f}=u(),{data:b,refetch:I,isSuccess:U,isLoading:E}=m({roomId:t,username:n.username}),M=U&&(null==b?void 0:b.isMember),{_id:h,username:p,name:x,freeSwitchExtension:A}=n,{actions:g,menuActions:y}=k({rid:t,user:{_id:h,username:p,name:x,freeSwitchExtension:A},size:3,isMember:M,reload:()=>{null==d||d(),I()}}),B=a(()=>null!=y&&y.length?i.createElement(r,{button:i.createElement(o,{icon:\"kebab\",secondary:!0}),title:f(\"More\"),key:\"menu\",\"data-qa-id\":\"UserUserInfo-menu\",sections:y,placement:\"bottom-end\",small:!1,\"data-qa\":\"UserUserInfo-menu\"}):null,[y,f]),q=a(()=>[...g.map(e=>{let[n,{content:t,title:l,icon:o,onClick:s}]=e;return i.createElement(c,{key:n,title:l,label:t,onClick:s,icon:o})}),B].filter(Boolean),[g,B]);return E?i.createElement(s,{w:\"full\"}):i.createElement(l,{align:\"center\"},q)})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/UserInfo/UserInfoActions.tsx\",\"<anon>\"],\"sourcesContent\":[\"/* eslint-disable react/display-name, react/no-multi-comp */\\nimport type { IRoom, IUser } from '@rocket.chat/core-typings';\\nimport { ButtonGroup, IconButton, Skeleton } from '@rocket.chat/fuselage';\\nimport { GenericMenu } from '@rocket.chat/ui-client';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { UserInfoAction } from '../../../../components/UserInfo';\\nimport { useMemberExists } from '../../../hooks/useMemberExists';\\nimport { useUserInfoActions } from '../../hooks/useUserInfoActions';\\n\\ntype UserInfoActionsProps = {\\n\\tuser: Pick<IUser, '_id' | 'username' | 'name' | 'freeSwitchExtension'>;\\n\\trid: IRoom['_id'];\\n\\tbackToList?: () => void;\\n};\\n\\nconst UserInfoActions = ({ user, rid, backToList }: UserInfoActionsProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst {\\n\\t\\tdata: isMemberData,\\n\\t\\trefetch,\\n\\t\\tisSuccess: membershipCheckSuccess,\\n\\t\\tisLoading,\\n\\t} = useMemberExists({ roomId: rid, username: user.username as string });\\n\\n\\tconst isMember = membershipCheckSuccess && isMemberData?.isMember;\\n\\tconst { _id: userId, username, name, freeSwitchExtension } = user;\\n\\n\\tconst { actions: actionsDefinition, menuActions: menuOptions } = useUserInfoActions({\\n\\t\\trid,\\n\\t\\tuser: { _id: userId, username, name, freeSwitchExtension },\\n\\t\\tsize: 3,\\n\\t\\tisMember,\\n\\t\\treload: () => {\\n\\t\\t\\tbackToList?.();\\n\\t\\t\\trefetch();\\n\\t\\t},\\n\\t});\\n\\n\\tconst menu = useMemo(() => {\\n\\t\\tif (!menuOptions?.length) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\treturn (\\n\\t\\t\\t<GenericMenu\\n\\t\\t\\t\\tbutton={<IconButton icon='kebab' secondary />}\\n\\t\\t\\t\\ttitle={t('More')}\\n\\t\\t\\t\\tkey='menu'\\n\\t\\t\\t\\tdata-qa-id='UserUserInfo-menu'\\n\\t\\t\\t\\tsections={menuOptions}\\n\\t\\t\\t\\tplacement='bottom-end'\\n\\t\\t\\t\\tsmall={false}\\n\\t\\t\\t\\tdata-qa='UserUserInfo-menu'\\n\\t\\t\\t/>\\n\\t\\t);\\n\\t}, [menuOptions, t]);\\n\\n\\t// TODO: sanitize Action type to avoid any\\n\\tconst actions = useMemo(() => {\\n\\t\\tconst mapAction = ([key, { content, title, icon, onClick }]: any): ReactElement => (\\n\\t\\t\\t<UserInfoAction key={key} title={title} label={content} onClick={onClick} icon={icon} />\\n\\t\\t);\\n\\n\\t\\treturn [...actionsDefinition.map(mapAction), menu].filter(Boolean);\\n\\t}, [actionsDefinition, menu]);\\n\\n\\tif (isLoading) {\\n\\t\\treturn <Skeleton w='full' />;\\n\\t}\\n\\treturn <ButtonGroup align='center'>{actions}</ButtonGroup>;\\n};\\n\\nexport default UserInfoActions;\\n\",null],\"names\":[\"ButtonGroup\",\"IconButton\",\"Skeleton\",\"GenericMenu\",\"React\",\"useMemo\",\"useTranslation\",\"UserInfoAction\",\"useMemberExists\",\"useUserInfoActions\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"user\",\"rid\",\"backToList\",\"t\",\"data\",\"isMemberData\",\"refetch\",\"isSuccess\",\"membershipCheckSuccess\",\"isLoading\",\"roomId\",\"username\",\"isMember\",\"_id\",\"userId\",\"name\",\"freeSwitchExtension\",\"actions\",\"actionsDefinition\",\"menuActions\",\"menuOptions\",\"size\",\"reload\",\"menu\",\"length\",\"createElement\",\"button\",\"icon\",\"secondary\",\"title\",\"key\",\"sections\",\"placement\",\"small\",\"map\",\"_ref2\",\"content\",\"onClick\",\"label\",\"filter\",\"Boolean\",\"w\",\"align\"],\"mappings\":\"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\"}"}