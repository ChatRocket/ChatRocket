{"code":"function module(e,t,n){n.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){a=e}},0),n.export({useAppsItems:function(){return d}}),n.link(\"@rocket.chat/fuselage\",{Badge:function(e){o=e},Skeleton:function(e){c=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useTranslation:function(e){i=e},useRoute:function(e){s=e},usePermission:function(e){u=e}},1),n.link(\"react\",{default:function(e){r=e}},2),n.link(\"../../../../hooks/useAppActionButtons\",{useUserDropdownAppsActionButtons:function(e){l=e}},3),n.link(\"../../../../views/marketplace/hooks/useAppRequestStats\",{useAppRequestStats:function(e){p=e}},4);var a,o,c,i,s,u,r,l,p,d=function(){var e=i(),t=l(),n=u(\"manage-apps\"),d=u(\"access-marketplace\")||n,k=s(\"marketplace\"),f=\"list\",m=p(),h=[{id:\"marketplace\",icon:\"store\",content:e(\"Marketplace\"),onClick:function(){return k.push({context:\"explore\",page:f})}},{id:\"installed\",icon:\"circle-arrow-down\",content:e(\"Installed\"),onClick:function(){return k.push({context:\"installed\",page:f})}}],g={id:\"requested-apps\",icon:\"cube\",content:e(\"Requested\"),onClick:function(){k.push({context:\"requested\",page:f})},addon:r.createElement(r.Fragment,null,m.isLoading&&r.createElement(c,{variant:\"circle\",height:16,width:16}),m.isSuccess&&m.data.totalUnseen>0&&r.createElement(o,{variant:\"primary\"},m.data.totalUnseen))};return[].concat(a(d?h:[]),a(n?[g]:[]),a(t.isSuccess?t.data:[]))}}","map":"{\"version\":3,\"sources\":[\"client/sidebar/header/actions/hooks/useAppsItems.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Badge, Skeleton } from '@rocket.chat/fuselage';\\nimport type { GenericMenuItemProps } from '@rocket.chat/ui-client';\\nimport { useTranslation, useRoute, usePermission } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\n\\nimport { useUserDropdownAppsActionButtons } from '../../../../hooks/useAppActionButtons';\\nimport { useAppRequestStats } from '../../../../views/marketplace/hooks/useAppRequestStats';\\n\\n/**\\n * @deprecated Feature preview\\n * @description Should be moved to navbar when the feature became part of the core\\n * @memberof navigationBar\\n */\\n\\nexport const useAppsItems = (): GenericMenuItemProps[] => {\\n\\tconst t = useTranslation();\\n\\n\\tconst appBoxItems = useUserDropdownAppsActionButtons();\\n\\n\\tconst hasManageAppsPermission = usePermission('manage-apps');\\n\\tconst hasAccessMarketplacePermission = usePermission('access-marketplace');\\n\\n\\tconst showMarketplace = hasAccessMarketplacePermission || hasManageAppsPermission;\\n\\n\\tconst marketplaceRoute = useRoute('marketplace');\\n\\tconst page = 'list';\\n\\n\\tconst appRequestStats = useAppRequestStats();\\n\\n\\tconst marketPlaceItems: GenericMenuItemProps[] = [\\n\\t\\t{\\n\\t\\t\\tid: 'marketplace',\\n\\t\\t\\ticon: 'store',\\n\\t\\t\\tcontent: t('Marketplace'),\\n\\t\\t\\tonClick: () => marketplaceRoute.push({ context: 'explore', page }),\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tid: 'installed',\\n\\t\\t\\ticon: 'circle-arrow-down',\\n\\t\\t\\tcontent: t('Installed'),\\n\\t\\t\\tonClick: () => marketplaceRoute.push({ context: 'installed', page }),\\n\\t\\t},\\n\\t];\\n\\n\\tconst appsManagementItem: GenericMenuItemProps = {\\n\\t\\tid: 'requested-apps',\\n\\t\\ticon: 'cube',\\n\\t\\tcontent: t('Requested'),\\n\\t\\tonClick: () => {\\n\\t\\t\\tmarketplaceRoute.push({ context: 'requested', page });\\n\\t\\t},\\n\\t\\taddon: (\\n\\t\\t\\t<>\\n\\t\\t\\t\\t{appRequestStats.isLoading && <Skeleton variant='circle' height={16} width={16} />}\\n\\t\\t\\t\\t{appRequestStats.isSuccess && appRequestStats.data.totalUnseen > 0 && (\\n\\t\\t\\t\\t\\t<Badge variant='primary'>{appRequestStats.data.totalUnseen}</Badge>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</>\\n\\t\\t),\\n\\t};\\n\\n\\treturn [\\n\\t\\t...(showMarketplace ? marketPlaceItems : []),\\n\\t\\t...(hasManageAppsPermission ? [appsManagementItem] : []),\\n\\t\\t...(appBoxItems.isSuccess ? appBoxItems.data : []),\\n\\t];\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_toConsumableArray\",\"export\",\"useAppsItems\",\"Badge\",\"Skeleton\",\"useTranslation\",\"useRoute\",\"usePermission\",\"React\",\"useUserDropdownAppsActionButtons\",\"useAppRequestStats\",\"t\",\"appBoxItems\",\"hasManageAppsPermission\",\"showMarketplace\",\"hasAccessMarketplacePermission\",\"marketplaceRoute\",\"page\",\"appRequestStats\",\"marketPlaceItems\",\"id\",\"icon\",\"content\",\"onClick\",\"push\",\"context\",\"appsManagementItem\",\"addon\",\"createElement\",\"Fragment\",\"isLoading\",\"variant\",\"height\",\"width\",\"isSuccess\",\"data\",\"totalUnseen\",\"concat\"],\"mappings\":\"uBAAgBA,EAAUC,IAAM,CAAA,2CAAwB,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAxDH,EAAOK,MAAE,CAAK,CAAAC,aAAY,WAAM,OAAAA,CAAwB,CAAA,GAAAN,EAAAC,IAAA,CAAA,wBAAA,CAAAM,MAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,EAAAK,SAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAQ,eAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,EAAAO,SAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,EAAAQ,cAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wCAAA,CAAAY,iCAAA,SAAAV,CAAA,EAAAU,EAAAV,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,yDAAA,CAAAa,mBAAA,SAAAX,CAAA,EAAAW,EAAAX,CAAA,CAAA,EAAA,GAcjD,IAdPC,EAAwDG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAc3CR,EAAe,WAC3B,IAAMS,EAAIN,IAEJO,EAAcH,IAEdI,EAA0BN,EAAc,eAGxCO,EAAkBC,AAFeR,EAAc,uBAEKM,EAEpDG,EAAmBV,EAAS,eAC5BW,EAAO,OAEPC,EAAkBR,IAElBS,EAA2C,CAChD,CACCC,GAAI,cACJC,KAAM,QACNC,QAASX,EAAE,eACXY,QAAS,WAAA,OAAMP,EAAiBQ,IAAI,CAAC,CAAEC,QAAS,UAAWR,KAAAA,CAAI,EAAG,GAEnE,CACCG,GAAI,YACJC,KAAM,oBACNC,QAASX,EAAE,aACXY,QAAS,WAAA,OAAMP,EAAiBQ,IAAI,CAAC,CAAEC,QAAS,YAAaR,KAAAA,CAAI,EAAG,GAErE,CAEKS,EAA2C,CAChDN,GAAI,iBACJC,KAAM,OACNC,QAASX,EAAE,aACXY,QAAS,WACRP,EAAiBQ,IAAI,CAAC,CAAEC,QAAS,YAAaR,KAAAA,CAAI,EACnD,EACAU,MACCnB,EAAAoB,aAAA,CAAApB,EAAAqB,QAAA,CAAA,KACEX,EAAgBY,SAAS,EAAItB,EAAAoB,aAAA,CAACxB,EAAQ,CAAC2B,QAAQ,SAASC,OAAQ,GAAIC,MAAO,EAAG,GAC9Ef,EAAgBgB,SAAS,EAAIhB,EAAgBiB,IAAI,CAACC,WAAW,CAAG,GAChE5B,EAAAoB,aAAA,CAACzB,EAAK,CAAC4B,QAAQ,SAAS,EAAEb,EAAgBiB,IAAI,CAACC,WAAmB,IAMtE,MAAA,EAAA,CAAAC,MAAA,CAAArC,EACKc,EAAkBK,EAAmB,EAAE,EAAAnB,EACvCa,EAA0B,CAACa,EAAmB,CAAG,EAAE,EAAA1B,EACnDY,EAAYsB,SAAS,CAAGtB,EAAYuB,IAAI,CAAG,EAAE,EAEnD\"}"}