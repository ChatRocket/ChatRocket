{"code":"function module(e,t,r){let l,n,u,i,o,s;let c=[\"loadMore\"];r.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),r.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){n=e}},1),r.link(\"@rocket.chat/fuselage\",{Box(e){u=e}},0),r.link(\"react\",{default(e){i=e},useEffect(e){o=e},useRef(e){s=e}},1),r.exportDefault(e=>{let{loadMore:t}=e,r=n(e,c),a=s(null);return o(()=>{let e=a.current;if(!e)return;let r=new IntersectionObserver(e=>{e[0].isIntersecting&&t()},{root:null,threshold:.1});return r.observe(e),()=>r.disconnect()},[t]),i.createElement(u,l({width:5,height:5,ref:a},r))})}","map":"{\"version\":3,\"sources\":[\"client/components/InfiniteListAnchor.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box } from '@rocket.chat/fuselage';\\nimport type { ComponentProps } from 'react';\\nimport React, { useEffect, useRef } from 'react';\\n\\ntype InfiniteListAnchorProps = {\\n\\tloadMore: () => void;\\n} & ComponentProps<typeof Box>;\\n\\nconst InfiniteListAnchor = ({ loadMore, ...props }: InfiniteListAnchorProps) => {\\n\\tconst ref = useRef<HTMLDivElement | null>(null);\\n\\n\\tuseEffect(() => {\\n\\t\\tconst target = ref.current;\\n\\n\\t\\tif (!target) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst observer = new IntersectionObserver(\\n\\t\\t\\t(e) => {\\n\\t\\t\\t\\tif (e[0].isIntersecting) {\\n\\t\\t\\t\\t\\tloadMore();\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\troot: null,\\n\\t\\t\\t\\tthreshold: 0.1,\\n\\t\\t\\t},\\n\\t\\t);\\n\\n\\t\\tobserver.observe(target);\\n\\n\\t\\treturn () => observer.disconnect();\\n\\t}, [loadMore]);\\n\\n\\treturn <Box width={5} height={5} ref={ref} {...props} />;\\n};\\n\\nexport default InfiniteListAnchor;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Box\",\"React\",\"useEffect\",\"useRef\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"loadMore\",\"props\",\"_excluded\",\"ref\",\"target\",\"current\",\"observer\",\"IntersectionObserver\",\"e\",\"isIntersecting\",\"root\",\"threshold\",\"observe\",\"disconnect\",\"createElement\",\"width\",\"height\"],\"mappings\":\"2BAAAA,EAA4CC,EAA5CC,EAA4CC,EAAAC,EAAAC,qBAAhCC,EAAQC,IAAA,CAAA,iCAAwB,CAAAC,QAAAC,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iDAAA,CAAAC,QAAAC,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAArCH,EAAOC,IAAA,CAAM,wBAAwB,CAAAL,IAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAN,EAAAM,CAAA,EAAAL,UAAAK,CAAA,EAAAL,EAAAK,CAAA,EAAAJ,OAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAA5CH,EAAOI,aAAa,CAQOC,IAAoD,GAAnD,CAAEC,SAAAA,CAAAA,CAA6C,CAAAD,EAAhCE,EAAKZ,EAAAU,EAAAG,GACzCC,EAAMV,EAA8B,MA0B1C,OAxBAD,EAAU,KACT,IAAMY,EAASD,EAAIE,OAAO,CAE1B,GAAI,CAACD,EACJ,OAGD,IAAME,EAAW,IAAIC,qBACnBC,IACIA,CAAC,CAAC,EAAE,CAACC,cAAc,EACtBT,GAEF,EACA,CACCU,KAAM,KACNC,UAAW,KAMb,OAFAL,EAASM,OAAO,CAACR,GAEV,IAAME,EAASO,UAAU,EACjC,EAAG,CAACb,EAAS,EAENT,EAAAuB,aAAA,CAACxB,EAAGF,EAAA,CAAC2B,MAAO,EAAGC,OAAQ,EAAGb,IAAKA,CAAI,EAAKF,GAChD\"}"}