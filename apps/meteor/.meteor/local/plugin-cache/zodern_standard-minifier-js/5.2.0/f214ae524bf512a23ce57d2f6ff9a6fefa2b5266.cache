{"code":"function module(n,t,e){var r,i,u,a,o,c,l,s;e.link(\"@babel/runtime/regenerator\",{default:function(n){r=n}},0),e.link(\"@rocket.chat/fuselage\",{Callout:function(n){i=n}},0),e.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(n){u=n}},1),e.link(\"@tanstack/react-query\",{useQuery:function(n){a=n}},2),e.link(\"react\",{default:function(n){o=n}},3),e.link(\"react-i18next\",{useTranslation:function(n){c=n}},4),e.link(\"../../components/Contextualbar\",{ContextualbarSkeleton:function(n){l=n}},5),e.link(\"./UnitEdit\",{default:function(n){s=n}},6),e.exportDefault(function(n){var t=n.unitId,e=c().t,d=u(\"GET\",\"/v1/livechat/units/:id\",{id:t}),f=u(\"GET\",\"/v1/livechat/units/:unitId/monitors\",{unitId:t}),p=u(\"GET\",\"/v1/livechat/units/:unitId/departments\",{unitId:t}),m=a([\"livechat-getUnitById\",t],function(){return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt(\"return\",d());case 1:case\"end\":return n.stop()}},null,null,null,Promise)},{refetchOnWindowFocus:!1}),v=m.data,h=m.isError,k=m.isLoading,E=a([\"livechat-getMonitorsByUnitId\",t],function(){return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt(\"return\",f({unitId:t}));case 1:case\"end\":return n.stop()}},null,null,null,Promise)},{refetchOnWindowFocus:!1}),I=E.data,g=E.isError,y=E.isLoading,b=a([\"livechat-getDepartmentsByUnitId\",t],function(){return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt(\"return\",p({unitId:t}));case 1:case\"end\":return n.stop()}},null,null,null,Promise)},{refetchOnWindowFocus:!1}),x=b.data,w=b.isError,D=b.isLoading;return k||y||D?o.createElement(l,null):h||g||w?o.createElement(i,{m:16,type:\"danger\"},e(\"Not_Available\")):o.createElement(s,{unitData:v,unitMonitors:I.monitors,unitDepartments:x.departments})})}","map":"{\"version\":3,\"sources\":[\"client/omnichannel/units/UnitEditWithData.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IOmnichannelBusinessUnit } from '@rocket.chat/core-typings';\\nimport { Callout } from '@rocket.chat/fuselage';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { ContextualbarSkeleton } from '../../components/Contextualbar';\\nimport UnitEdit from './UnitEdit';\\n\\nconst UnitEditWithData = ({ unitId }: { unitId: IOmnichannelBusinessUnit['_id'] }) => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst getUnitById = useEndpoint('GET', '/v1/livechat/units/:id', { id: unitId });\\n\\tconst getMonitorsByUnitId = useEndpoint('GET', '/v1/livechat/units/:unitId/monitors', { unitId });\\n\\tconst getDepartmentsByUnitId = useEndpoint('GET', '/v1/livechat/units/:unitId/departments', { unitId });\\n\\n\\tconst {\\n\\t\\tdata: unitData,\\n\\t\\tisError,\\n\\t\\tisLoading,\\n\\t} = useQuery(['livechat-getUnitById', unitId], async () => getUnitById(), { refetchOnWindowFocus: false });\\n\\tconst {\\n\\t\\tdata: unitMonitors,\\n\\t\\tisError: unitMonitorsError,\\n\\t\\tisLoading: unitMonitorsLoading,\\n\\t} = useQuery(['livechat-getMonitorsByUnitId', unitId], async () => getMonitorsByUnitId({ unitId }), { refetchOnWindowFocus: false });\\n\\tconst {\\n\\t\\tdata: unitDepartments,\\n\\t\\tisError: unitDepartmentsError,\\n\\t\\tisLoading: unitDepartmentsLoading,\\n\\t} = useQuery(['livechat-getDepartmentsByUnitId', unitId], async () => getDepartmentsByUnitId({ unitId }), {\\n\\t\\trefetchOnWindowFocus: false,\\n\\t});\\n\\n\\tif (isLoading || unitMonitorsLoading || unitDepartmentsLoading) {\\n\\t\\treturn <ContextualbarSkeleton />;\\n\\t}\\n\\n\\tif (isError || unitMonitorsError || unitDepartmentsError) {\\n\\t\\treturn (\\n\\t\\t\\t<Callout m={16} type='danger'>\\n\\t\\t\\t\\t{t('Not_Available')}\\n\\t\\t\\t</Callout>\\n\\t\\t);\\n\\t}\\n\\n\\treturn <UnitEdit unitData={unitData} unitMonitors={unitMonitors.monitors} unitDepartments={unitDepartments.departments} />;\\n};\\n\\nexport default UnitEditWithData;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"Callout\",\"useEndpoint\",\"useQuery\",\"React\",\"useTranslation\",\"ContextualbarSkeleton\",\"UnitEdit\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"unitId\",\"t\",\"_useTranslation\",\"getUnitById\",\"id\",\"getMonitorsByUnitId\",\"getDepartmentsByUnitId\",\"_useQuery\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"stop\",\"Promise\",\"refetchOnWindowFocus\",\"unitData\",\"data\",\"isError\",\"isLoading\",\"_useQuery2\",\"_context2\",\"unitMonitors\",\"unitMonitorsError\",\"unitMonitorsLoading\",\"_useQuery3\",\"_context3\",\"unitDepartments\",\"unitDepartmentsError\",\"unitDepartmentsLoading\",\"createElement\",\"m\",\"type\",\"monitors\",\"departments\"],\"mappings\":\"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\"}"}