{"code":"function module(n,e,t){var i,c,a,l,u,o,r,f,s,d;t.link(\"@rocket.chat/ui-contexts\",{useUserId:function(n){i=n}},0),t.link(\"react\",{default:function(n){c=n},useEffect:function(n){a=n}},1),t.link(\"../../../../app/models/client\",{CachedChatSubscription:function(n){l=n}},2),t.link(\"../../../../app/settings/client\",{settings:function(n){u=n}},3),t.link(\"../../../../app/ui-cached-collection/client\",{CachedCollectionManager:function(n){o=n}},4),t.link(\"../../../../app/ui-utils/client\",{mainReady:function(n){r=n}},5),t.link(\"../../../hooks/useReactiveVar\",{useReactiveVar:function(n){f=n}},6),t.link(\"../../../lib/userData\",{isSyncReady:function(n){s=n}},7),t.link(\"../PageLoading\",{default:function(n){d=n}},8),t.exportDefault(function(n){var e=n.children,t=i(),k=f(l.ready),p=f(u.cachedCollection.ready),h=f(s),g=!t||h&&k&&p;return(a(function(){o.syncEnabled=g,r.set(g)},[g]),g)?c.createElement(c.Fragment,null,e):c.createElement(d,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/root/MainLayout/Preload.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useUserId } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement, ReactNode } from 'react';\\nimport React, { useEffect } from 'react';\\n\\nimport { CachedChatSubscription } from '../../../../app/models/client';\\nimport { settings } from '../../../../app/settings/client';\\nimport { CachedCollectionManager } from '../../../../app/ui-cached-collection/client';\\nimport { mainReady } from '../../../../app/ui-utils/client';\\nimport { useReactiveVar } from '../../../hooks/useReactiveVar';\\nimport { isSyncReady } from '../../../lib/userData';\\nimport PageLoading from '../PageLoading';\\n\\nconst Preload = ({ children }: { children: ReactNode }): ReactElement => {\\n\\tconst uid = useUserId();\\n\\tconst subscriptionsReady = useReactiveVar(CachedChatSubscription.ready);\\n\\tconst settingsReady = useReactiveVar(settings.cachedCollection.ready);\\n\\tconst userDataReady = useReactiveVar(isSyncReady);\\n\\n\\tconst ready = !uid || (userDataReady && subscriptionsReady && settingsReady);\\n\\n\\tuseEffect(() => {\\n\\t\\tCachedCollectionManager.syncEnabled = ready;\\n\\t\\tmainReady.set(ready);\\n\\t}, [ready]);\\n\\n\\tif (!ready) {\\n\\t\\treturn <PageLoading />;\\n\\t}\\n\\n\\treturn <>{children}</>;\\n};\\n\\nexport default Preload;\\n\",null],\"names\":[\"useUserId\",\"React\",\"useEffect\",\"CachedChatSubscription\",\"settings\",\"CachedCollectionManager\",\"mainReady\",\"useReactiveVar\",\"isSyncReady\",\"PageLoading\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"children\",\"uid\",\"subscriptionsReady\",\"ready\",\"settingsReady\",\"cachedCollection\",\"userDataReady\",\"syncEnabled\",\"set\",\"createElement\",\"Fragment\"],\"mappings\":\"uBAYA,IAZAA,EAAqDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA5CC,EAAWC,IAAA,CAAM,2BAA2B,CAAAX,UAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAX,EAAAW,CAAA,EAAAV,UAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gCAAA,CAAAR,uBAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kCAAA,CAAAP,SAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8CAAA,CAAAN,wBAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kCAAA,CAAAL,UAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gCAAA,CAAAJ,eAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAH,YAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,iBAAA,CAAA,QAAA,SAAAC,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAArDF,EAAOG,aAAa,CAYJ,SAAAC,CAAA,EAAwD,IAArDC,EAAQD,EAARC,QAAQ,CACpBC,EAAMhB,IACNiB,EAAqBV,EAAeJ,EAAuBe,KAAK,EAChEC,EAAgBZ,EAAeH,EAASgB,gBAAgB,CAACF,KAAK,EAC9DG,EAAgBd,EAAeC,GAE/BU,EAAQ,CAACF,GAAQK,GAAiBJ,GAAsBE,QAO9D,CALAjB,EAAU,WACTG,EAAwBiB,WAAW,CAAGJ,EACtCZ,EAAUiB,GAAG,CAACL,EACf,EAAG,CAACA,EAAM,EAELA,GAIEjB,EAAAuB,aAAA,CAAAvB,EAAAwB,QAAA,CAAA,KAAGV,GAHFd,EAAAuB,aAAA,CAACf,EAAW,KAIrB\"}"}