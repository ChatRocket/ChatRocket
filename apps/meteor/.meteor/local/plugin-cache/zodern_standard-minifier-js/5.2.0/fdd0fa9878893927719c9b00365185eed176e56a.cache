{"code":"function module(n,e,o){var t,i,r,u,l,c,a;o.link(\"@rocket.chat/fuselage-hooks\",{useEffectEvent:function(n){t=n}},0),o.link(\"@rocket.chat/ui-contexts\",{ModalContext:function(n){i=n}},1),o.link(\"react\",{default:function(n){r=n},useMemo:function(n){u=n},memo:function(n){l=n}},2),o.link(\"use-sync-external-store/shim\",{useSyncExternalStore:function(n){c=n}},3),o.link(\"./ModalStore\",{modalStore:function(n){a=n}},4),o.exportDefault(l(function(n){var e=n.children,o=n.region,l=c(a.subscribe,a.getSnapshot),f=t(function(n){if(\"function\"==typeof n){a.open(n(),o);return}a.open(n,o)}),d=u(function(){return{modal:{setModal:f},currentModal:{component:null==l?void 0:l.node,region:null==l?void 0:l.region},region:o}},[null==l?void 0:l.node,null==l?void 0:l.region,o,f]);return r.createElement(i.Provider,{value:d,children:e})}))}","map":"{\"version\":3,\"sources\":[\"client/providers/ModalProvider/ModalProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useEffectEvent } from '@rocket.chat/fuselage-hooks';\\nimport { ModalContext } from '@rocket.chat/ui-contexts';\\nimport type { ReactNode } from 'react';\\nimport React, { useMemo, memo } from 'react';\\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\\n\\nimport { modalStore } from './ModalStore';\\n\\ntype ModalProviderProps = {\\n\\tchildren?: ReactNode;\\n\\tregion?: symbol;\\n};\\n\\nconst ModalProvider = ({ children, region }: ModalProviderProps) => {\\n\\tconst currentModal = useSyncExternalStore(modalStore.subscribe, modalStore.getSnapshot);\\n\\n\\tconst setModal = useEffectEvent((modal: ReactNode | (() => ReactNode)) => {\\n\\t\\tif (typeof modal === 'function') {\\n\\t\\t\\tmodalStore.open(modal(), region);\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tmodalStore.open(modal, region);\\n\\t});\\n\\n\\tconst contextValue = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\tmodal: {\\n\\t\\t\\t\\tsetModal,\\n\\t\\t\\t},\\n\\t\\t\\tcurrentModal: {\\n\\t\\t\\t\\tcomponent: currentModal?.node,\\n\\t\\t\\t\\tregion: currentModal?.region,\\n\\t\\t\\t},\\n\\t\\t\\tregion,\\n\\t\\t}),\\n\\t\\t[currentModal?.node, currentModal?.region, region, setModal],\\n\\t);\\n\\n\\treturn <ModalContext.Provider value={contextValue} children={children} />;\\n};\\n\\nexport default memo<typeof ModalProvider>(ModalProvider);\\n\",null],\"names\":[\"useEffectEvent\",\"ModalContext\",\"React\",\"useMemo\",\"memo\",\"useSyncExternalStore\",\"modalStore\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"children\",\"region\",\"currentModal\",\"subscribe\",\"getSnapshot\",\"setModal\",\"modal\",\"open\",\"contextValue\",\"component\",\"node\",\"createElement\",\"Provider\",\"value\"],\"mappings\":\"uBAaA,IAbAA,EAA6DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAApDC,EAAgBC,IAAA,CAAM,8BAA8B,CAAAR,eAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAP,aAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAP,EAAAO,CAAA,EAAAN,QAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,EAAAL,KAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,+BAAA,CAAAH,qBAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,eAAA,CAAAF,WAAA,SAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA7DF,EAAOG,aAAE,CAyCMN,EA5BO,SAAAO,CAAA,EAA6C,IAA1CC,EAAQD,EAARC,QAAQ,CAAEC,EAAMF,EAANE,MAAM,CAClCC,EAAeT,EAAqBC,EAAWS,SAAS,CAAET,EAAWU,WAAW,EAEhFC,EAAWjB,EAAe,SAACkB,CAAoC,EACpE,GAAI,AAAiB,YAAjB,OAAOA,EAAsB,CAChCZ,EAAWa,IAAI,CAACD,IAASL,GACzB,MACD,CACAP,EAAWa,IAAI,CAACD,EAAOL,EACxB,GAEMO,EAAejB,EACpB,WAAA,MAAO,CACNe,MAAO,CACND,SAAAA,GAEDH,aAAc,CACbO,UAAWP,MAAAA,EAAY,KAAA,EAAZA,EAAcQ,IAAI,CAC7BT,OAAQC,MAAAA,EAAY,KAAA,EAAZA,EAAcD,MAAAA,EAEvBA,OAAAA,EACA,EACD,CAACC,MAAAA,EAAY,KAAA,EAAZA,EAAcQ,IAAI,CAAER,MAAAA,EAAY,KAAA,EAAZA,EAAcD,MAAM,CAAEA,EAAQI,EAAS,EAG7D,OAAOf,EAAAqB,aAAA,CAACtB,EAAauB,QAAQ,CAAA,CAACC,MAAOL,EAAcR,SAAUA,CAAS,EACvE\"}"}