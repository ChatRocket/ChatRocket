{"code":"function module(n,e,t){t.export({useDialModal:function(){return m}}),t.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(n){o=n}},0),t.link(\"react\",{default:function(n){i=n},Suspense:function(n){a=n},lazy:function(n){l=n},useCallback:function(n){u=n},useMemo:function(n){r=n}},1),t.link(\"react-i18next\",{useTranslation:function(n){c=n}},2),t.link(\"../contexts/CallContext\",{useIsVoipEnterprise:function(n){s=n}},3),t.link(\"../lib/toast\",{dispatchToastMessage:function(n){f=n}},4);var o,i,a,l,u,r,c,s,f,d=l(function(){return t.dynamicImport(\"../voip/modal/DialPad/DialPadModal\")}),m=function(){var n=o(),e=s(),t=c().t,l=u(function(){return n(null)},[n]),m=u(function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=o.initialValue,r=o.errorMessage;if(!e){f({type:\"error\",message:t(\"You_do_not_have_permission_to_do_this\")});return}n(i.createElement(a,{fallback:i.createElement(\"div\",null)},i.createElement(d,{initialValue:u,errorMessage:r,handleClose:l})))},[n,e,t,l]);return r(function(){return{openDialModal:m,closeDialModal:l}},[m,l])}}","map":"{\"version\":3,\"sources\":[\"client/hooks/useDialModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useSetModal } from '@rocket.chat/ui-contexts';\\nimport React, { Suspense, lazy, useCallback, useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useIsVoipEnterprise } from '../contexts/CallContext';\\nimport { dispatchToastMessage } from '../lib/toast';\\n\\nconst DialPadModal = lazy(() => import('../voip/modal/DialPad/DialPadModal'));\\n\\ntype DialModalProps = {\\n\\tinitialValue?: string;\\n\\terrorMessage?: string;\\n};\\n\\ntype DialModalControls = {\\n\\topenDialModal: (props?: DialModalProps) => void;\\n\\tcloseDialModal: () => void;\\n};\\n\\nexport const useDialModal = (): DialModalControls => {\\n\\tconst setModal = useSetModal();\\n\\tconst isEnterprise = useIsVoipEnterprise();\\n\\tconst { t } = useTranslation();\\n\\n\\tconst closeDialModal = useCallback(() => setModal(null), [setModal]);\\n\\n\\tconst openDialModal = useCallback(\\n\\t\\t({ initialValue, errorMessage }: DialModalProps = {}) => {\\n\\t\\t\\tif (!isEnterprise) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('You_do_not_have_permission_to_do_this') });\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tsetModal(\\n\\t\\t\\t\\t// TODO: Revisit Modal's FocusScope which currently does not accept null as children.\\n\\t\\t\\t\\t// Added dummy div fallback for that reason.\\n\\t\\t\\t\\t<Suspense fallback={<div />}>\\n\\t\\t\\t\\t\\t<DialPadModal initialValue={initialValue} errorMessage={errorMessage} handleClose={closeDialModal} />\\n\\t\\t\\t\\t</Suspense>,\\n\\t\\t\\t);\\n\\t\\t},\\n\\t\\t[setModal, isEnterprise, t, closeDialModal],\\n\\t);\\n\\n\\treturn useMemo(\\n\\t\\t() => ({\\n\\t\\t\\topenDialModal,\\n\\t\\t\\tcloseDialModal,\\n\\t\\t}),\\n\\t\\t[openDialModal, closeDialModal],\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"useDialModal\",\"link\",\"useSetModal\",\"v\",\"React\",\"Suspense\",\"lazy\",\"useCallback\",\"useMemo\",\"useTranslation\",\"useIsVoipEnterprise\",\"dispatchToastMessage\",\"DialPadModal\",\"dynamicImport\",\"setModal\",\"isEnterprise\",\"t\",\"_useTranslation\",\"closeDialModal\",\"openDialModal\",\"_ref\",\"arguments\",\"length\",\"undefined\",\"initialValue\",\"errorMessage\",\"type\",\"message\",\"createElement\",\"fallback\",\"handleClose\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,aAAmB,WAAA,OAAAA,CAA2B,CAAA,GAAAF,EAAAG,IAAA,CAAA,2BAAA,CAAAC,YAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAC,EAAAD,CAAA,EAAAE,SAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,EAAAG,KAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,EAAAI,YAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,EAAAK,QAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,gBAAA,CAAAQ,eAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,0BAAA,CAAAS,oBAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,eAAA,CAAAU,qBAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAOvD,IAPuDD,EAAAE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAOjDC,EAAeN,EAAK,WAAA,OAAMR,EAAAe,aAAA,CAAO,qCAAqC,GAY/Db,EAAe,WAC3B,IAAMc,EAAWZ,IACXa,EAAeL,IACbM,EAACC,AAAKR,IAANO,CAAC,CAEHE,EAAiBX,EAAY,WAAA,OAAMO,EAAS,KAAK,EAAE,CAACA,EAAS,EAE7DK,EAAgBZ,EACrB,WAAwD,IAAAa,EAAAC,UAAAC,MAAA,CAAA,GAAAD,AAAAE,KAAAA,IAAAF,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAAN,CAAA,EAA/CG,EAAYJ,EAAZI,YAAY,CAAEC,EAAYL,EAAZK,YAAY,CAC5B,GAAI,CAACV,EAAc,CAClBJ,EAAqB,CAAEe,KAAM,QAASC,QAASX,EAAE,wCAAwC,GACzF,MACD,CAEAF,EAGCV,EAAAwB,aAAA,CAACvB,EAAQ,CAACwB,SAAUzB,EAAAwB,aAAA,CAAA,MAAA,KAAQ,EAC3BxB,EAAAwB,aAAA,CAAChB,EAAY,CAACY,aAAcA,EAAcC,aAAcA,EAAcK,YAAaZ,CAAe,IAGrG,EACA,CAACJ,EAAUC,EAAcC,EAAGE,EAAe,EAG5C,OAAOV,EACN,WAAA,MAAO,CACNW,cAAAA,EACAD,eAAAA,EACA,EACD,CAACC,EAAeD,EAAe,CAEjC\"}"}