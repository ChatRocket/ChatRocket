{"code":"function module(e,n,l){let t,r,a,i,o,u,s,c,m,d,v,g,p,E,b,h,k,f,F,x,C,y,T,_,q,S,M,A,B,O,w,D;let R=[\"value\"],j=[\"value\"];l.link(\"@babel/runtime/helpers/extends\",{default(e){t=e}},0),l.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){r=e}},1),l.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){a=e}},2),l.export({getDefaultAction:()=>Q}),l.link(\"@rocket.chat/fuselage\",{FieldGroup(e){i=e},Button(e){o=e},ButtonGroup(e){u=e},Field(e){s=e},FieldLabel(e){c=e},FieldRow(e){m=e},FieldError(e){d=e},TextInput(e){v=e},ToggleSwitch(e){g=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useUniqueId(e){p=e}},1),l.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){E=e},useRouter(e){b=e},useEndpoint(e){h=e},useTranslation(e){k=e}},2),l.link(\"@tanstack/react-query\",{useMutation(e){f=e},useQueryClient(e){F=e}},3),l.link(\"react\",{default(e){x=e},useMemo(e){C=e}},4),l.link(\"react-hook-form\",{Controller(e){y=e},useFieldArray(e){T=e},useForm(e){_=e}},5),l.link(\"../../../components/Contextualbar\",{ContextualbarScrollableContent(e){q=e},ContextualbarTitle(e){S=e},ContextualbarFooter(e){M=e},Contextualbar(e){A=e},ContextualbarHeader(e){B=e},ContextualbarClose(e){O=e}},6),l.link(\"./ConditionForm\",{ConditionForm(e){w=e}},7),l.link(\"./actions/ActionForm\",{ActionForm(e){D=e}},8);let I={name:\"send-message\",params:{sender:\"queue\",name:\"\",msg:\"\"}},N={name:\"page-url\",value:\"\"},Q=e=>{var n,l,t,r,a,i,o,u;switch(e.name){case\"send-message\":return{name:\"send-message\",params:{name:(null===(n=e.params)||void 0===n?void 0:n.name)||\"\",msg:(null===(l=e.params)||void 0===l?void 0:l.msg)||\"\",sender:(null===(t=e.params)||void 0===t?void 0:t.sender)||\"queue\"}};case\"use-external-service\":return{name:\"use-external-service\",params:{name:(null===(r=e.params)||void 0===r?void 0:r.name)||\"\",sender:(null===(a=e.params)||void 0===a?void 0:a.sender)||\"queue\",serviceUrl:(null===(i=e.params)||void 0===i?void 0:i.serviceUrl)||\"\",serviceTimeout:(null===(o=e.params)||void 0===o?void 0:o.serviceTimeout)||0,serviceFallbackMessage:(null===(u=e.params)||void 0===u?void 0:u.serviceFallbackMessage)||\"\"}}}},U=e=>{var n,l,t,r,a;return{name:null!==(n=null==e?void 0:e.name)&&void 0!==n?n:\"\",description:(null==e?void 0:e.description)||\"\",enabled:null===(l=null==e?void 0:e.enabled)||void 0===l||l,runOnce:t=!!(null!=e&&e.runOnce),conditions:null!==(r=null==e?void 0:e.conditions.map(e=>{let{name:n,value:l}=e;return{name:n||\"page-url\",value:l||\"\"}}))&&void 0!==r?r:[N],actions:null!==(a=null==e?void 0:e.actions.map(e=>Q(e)))&&void 0!==a?a:[I]}};l.exportDefault(e=>{let{triggerData:n}=e,l=k(),I=b(),N=F(),G=E(),P=h(\"POST\",\"/v1/livechat/triggers\"),H=U(n),L=p(),V=p(),W=p(),z=p(),J=p(),{control:K,handleSubmit:X,trigger:Y,formState:{isDirty:Z,isSubmitting:$,errors:ee}}=_({mode:\"onBlur\",reValidateMode:\"onBlur\",values:H}),en=C(()=>0===Object.keys(ee).length,[ee]),{fields:el}=T({control:K,name:\"conditions\"}),{fields:et}=T({control:K,name:\"actions\"}),er=f({mutationFn:P,onSuccess:()=>{G({type:\"success\",message:l(\"Saved\")}),N.invalidateQueries([\"livechat-getTriggersById\"]),N.invalidateQueries([\"livechat-triggers\"]),I.navigate(\"/omnichannel/triggers\")},onError:e=>{G({type:\"error\",message:e})}}),ea=async e=>er.mutateAsync(a(a({},e),{},{_id:null==n?void 0:n._id,actions:e.actions.map(Q)}));return x.createElement(A,null,x.createElement(B,null,x.createElement(S,null,null!=n&&n._id?l(\"Edit_Trigger\"):l(\"New_Trigger\")),x.createElement(O,{onClick:()=>I.navigate(\"/omnichannel/triggers\")})),x.createElement(q,null,x.createElement(\"form\",{id:L,onSubmit:X(ea)},x.createElement(i,null,x.createElement(s,null,x.createElement(m,null,x.createElement(c,{htmlFor:V},l(\"Enabled\")),x.createElement(y,{name:\"enabled\",control:K,render:e=>{let{field:{value:n}}=e,l=r(e.field,R);return x.createElement(g,t({id:V},l,{checked:n}))}}))),x.createElement(s,null,x.createElement(m,null,x.createElement(c,{htmlFor:W},l(\"Run_only_once_for_each_visitor\")),x.createElement(y,{name:\"runOnce\",control:K,render:e=>{let{field:{value:n}}=e,l=r(e.field,j);return x.createElement(g,t({id:W},l,{checked:n}))}}))),x.createElement(s,null,x.createElement(c,{htmlFor:z,required:!0},l(\"Name\")),x.createElement(m,null,x.createElement(y,{name:\"name\",control:K,rules:{required:l(\"Required_field\",{field:l(\"Name\")})},render:e=>{var n;let{field:l}=e;return x.createElement(v,t({},l,{id:z,error:null==ee?void 0:null===(n=ee.name)||void 0===n?void 0:n.message,\"aria-required\":!0,\"aria-invalid\":!!(null==ee?void 0:ee.name),\"aria-describedby\":\"\".concat(z,\"-error\")}))}})),(null==ee?void 0:ee.name)&&x.createElement(d,{\"aria-live\":\"assertive\",id:\"\".concat(z,\"-error\")},null==ee?void 0:ee.name.message)),x.createElement(s,null,x.createElement(c,{htmlFor:J},l(\"Description\")),x.createElement(m,null,x.createElement(y,{name:\"description\",control:K,render:e=>{let{field:n}=e;return x.createElement(v,t({id:J},n))}}))),el.map((e,n)=>x.createElement(w,{key:e.id,control:K,index:n})),et.map((e,n)=>x.createElement(D,{key:e.id,control:K,trigger:Y,index:n}))))),x.createElement(M,null,x.createElement(u,{stretch:!0},x.createElement(o,{onClick:()=>I.navigate(\"/omnichannel/triggers\")},l(\"Cancel\")),x.createElement(o,{form:L,type:\"submit\",primary:!0,disabled:!Z||!en,loading:$},l(\"Save\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/triggers/EditTrigger.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { type ILivechatTrigger, type ILivechatTriggerAction, type Serialized } from '@rocket.chat/core-typings';\\nimport { FieldGroup, Button, ButtonGroup, Field, FieldLabel, FieldRow, FieldError, TextInput, ToggleSwitch } from '@rocket.chat/fuselage';\\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport { useToastMessageDispatch, useRouter, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\\nimport React, { useMemo } from 'react';\\nimport { Controller, useFieldArray, useForm } from 'react-hook-form';\\n\\nimport {\\n\\tContextualbarScrollableContent,\\n\\tContextualbarTitle,\\n\\tContextualbarFooter,\\n\\tContextualbar,\\n\\tContextualbarHeader,\\n\\tContextualbarClose,\\n} from '../../../components/Contextualbar';\\nimport { ConditionForm } from './ConditionForm';\\nimport { ActionForm } from './actions/ActionForm';\\n\\nexport type TriggersPayload = {\\n\\tname: string;\\n\\tdescription: string;\\n\\tenabled: boolean;\\n\\trunOnce: boolean;\\n\\tconditions: ILivechatTrigger['conditions'];\\n\\tactions: ILivechatTrigger['actions'];\\n};\\n\\nconst DEFAULT_SEND_MESSAGE_ACTION = {\\n\\tname: 'send-message',\\n\\tparams: {\\n\\t\\tsender: 'queue',\\n\\t\\tname: '',\\n\\t\\tmsg: '',\\n\\t},\\n} as const;\\n\\nconst DEFAULT_PAGE_URL_CONDITION = { name: 'page-url', value: '' } as const;\\n\\nexport const getDefaultAction = (action: ILivechatTriggerAction): ILivechatTriggerAction => {\\n\\tswitch (action.name) {\\n\\t\\tcase 'send-message':\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tname: 'send-message',\\n\\t\\t\\t\\tparams: {\\n\\t\\t\\t\\t\\tname: action.params?.name || '',\\n\\t\\t\\t\\t\\tmsg: action.params?.msg || '',\\n\\t\\t\\t\\t\\tsender: action.params?.sender || 'queue',\\n\\t\\t\\t\\t},\\n\\t\\t\\t};\\n\\t\\tcase 'use-external-service':\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tname: 'use-external-service',\\n\\t\\t\\t\\tparams: {\\n\\t\\t\\t\\t\\tname: action.params?.name || '',\\n\\t\\t\\t\\t\\tsender: action.params?.sender || 'queue',\\n\\t\\t\\t\\t\\tserviceUrl: action.params?.serviceUrl || '',\\n\\t\\t\\t\\t\\tserviceTimeout: action.params?.serviceTimeout || 0,\\n\\t\\t\\t\\t\\tserviceFallbackMessage: action.params?.serviceFallbackMessage || '',\\n\\t\\t\\t\\t},\\n\\t\\t\\t};\\n\\t}\\n};\\n\\nconst getInitialValues = (triggerData: Serialized<ILivechatTrigger> | undefined): TriggersPayload => ({\\n\\tname: triggerData?.name ?? '',\\n\\tdescription: triggerData?.description || '',\\n\\tenabled: triggerData?.enabled ?? true,\\n\\trunOnce: !!triggerData?.runOnce ?? false,\\n\\tconditions: triggerData?.conditions.map(({ name, value }) => ({ name: name || 'page-url', value: value || '' })) ?? [\\n\\t\\tDEFAULT_PAGE_URL_CONDITION,\\n\\t],\\n\\tactions: triggerData?.actions.map((action) => getDefaultAction(action)) ?? [DEFAULT_SEND_MESSAGE_ACTION],\\n});\\n\\nconst EditTrigger = ({ triggerData }: { triggerData?: Serialized<ILivechatTrigger> }) => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst queryClient = useQueryClient();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst saveTrigger = useEndpoint('POST', '/v1/livechat/triggers');\\n\\tconst initValues = getInitialValues(triggerData);\\n\\n\\tconst formId = useUniqueId();\\n\\tconst enabledField = useUniqueId();\\n\\tconst runOnceField = useUniqueId();\\n\\tconst nameField = useUniqueId();\\n\\tconst descriptionField = useUniqueId();\\n\\n\\tconst {\\n\\t\\tcontrol,\\n\\t\\thandleSubmit,\\n\\t\\ttrigger,\\n\\t\\tformState: { isDirty, isSubmitting, errors },\\n\\t} = useForm<TriggersPayload>({ mode: 'onBlur', reValidateMode: 'onBlur', values: initValues });\\n\\n\\t// Alternative way of checking isValid in order to not trigger validation on every render\\n\\t// https://github.com/react-hook-form/documentation/issues/944\\n\\tconst isValid = useMemo(() => Object.keys(errors).length === 0, [errors]);\\n\\n\\tconst { fields: conditionsFields } = useFieldArray({\\n\\t\\tcontrol,\\n\\t\\tname: 'conditions',\\n\\t});\\n\\n\\tconst { fields: actionsFields } = useFieldArray({\\n\\t\\tcontrol,\\n\\t\\tname: 'actions',\\n\\t});\\n\\n\\tconst saveTriggerMutation = useMutation({\\n\\t\\tmutationFn: saveTrigger,\\n\\t\\tonSuccess: () => {\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Saved') });\\n\\t\\t\\tqueryClient.invalidateQueries(['livechat-getTriggersById']);\\n\\t\\t\\tqueryClient.invalidateQueries(['livechat-triggers']);\\n\\t\\t\\trouter.navigate('/omnichannel/triggers');\\n\\t\\t},\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t});\\n\\n\\tconst handleSave = async (data: TriggersPayload) => {\\n\\t\\treturn saveTriggerMutation.mutateAsync({\\n\\t\\t\\t...data,\\n\\t\\t\\t_id: triggerData?._id,\\n\\t\\t\\tactions: data.actions.map(getDefaultAction),\\n\\t\\t});\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Contextualbar>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarTitle>{triggerData?._id ? t('Edit_Trigger') : t('New_Trigger')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/triggers')} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t<form id={formId} onSubmit={handleSubmit(handleSave)}>\\n\\t\\t\\t\\t\\t<FieldGroup>\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={enabledField}>{t('Enabled')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='enabled'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field: { value, ...field } }) => <ToggleSwitch id={enabledField} {...field} checked={value} />}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={runOnceField}>{t('Run_only_once_for_each_visitor')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='runOnce'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field: { value, ...field } }) => <ToggleSwitch id={runOnceField} {...field} checked={value} />}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={nameField} required>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Name')}\\n\\t\\t\\t\\t\\t\\t\\t</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname='name'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trules={{ required: t('Required_field', { field: t('Name') }) }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={nameField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\terror={errors?.name?.message}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-required={true}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-invalid={Boolean(errors?.name)}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-describedby={`${nameField}-error`}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t{errors?.name && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{errors?.name.message}\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldError>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Controller name='description' control={control} render={({ field }) => <TextInput id={descriptionField} {...field} />} />\\n\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\n\\t\\t\\t\\t\\t\\t{conditionsFields.map((field, index) => (\\n\\t\\t\\t\\t\\t\\t\\t<ConditionForm key={field.id} control={control} index={index} />\\n\\t\\t\\t\\t\\t\\t))}\\n\\n\\t\\t\\t\\t\\t\\t{actionsFields.map((field, index) => (\\n\\t\\t\\t\\t\\t\\t\\t<ActionForm key={field.id} control={control} trigger={trigger} index={index} />\\n\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t\\t</form>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t<Button onClick={() => router.navigate('/omnichannel/triggers')}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t<Button form={formId} type='submit' primary disabled={!isDirty || !isValid} loading={isSubmitting}>\\n\\t\\t\\t\\t\\t\\t{t('Save')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</Contextualbar>\\n\\t);\\n};\\n\\nexport default EditTrigger;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"_objectSpread\",\"FieldGroup\",\"Button\",\"ButtonGroup\",\"Field\",\"FieldLabel\",\"FieldRow\",\"FieldError\",\"TextInput\",\"ToggleSwitch\",\"useUniqueId\",\"useToastMessageDispatch\",\"useRouter\",\"useEndpoint\",\"useTranslation\",\"useMutation\",\"useQueryClient\",\"React\",\"useMemo\",\"Controller\",\"useFieldArray\",\"useForm\",\"ContextualbarScrollableContent\",\"ContextualbarTitle\",\"ContextualbarFooter\",\"Contextualbar\",\"ContextualbarHeader\",\"ContextualbarClose\",\"ConditionForm\",\"ActionForm\",\"module\",\"link\",\"default\",\"v\",\"export\",\"getDefaultAction\",\"DEFAULT_SEND_MESSAGE_ACTION\",\"name\",\"params\",\"sender\",\"msg\",\"DEFAULT_PAGE_URL_CONDITION\",\"value\",\"action\",\"_action$params\",\"_action$params2\",\"_action$params3\",\"_action$params4\",\"_action$params5\",\"_action$params6\",\"_action$params7\",\"_action$params8\",\"serviceUrl\",\"serviceTimeout\",\"serviceFallbackMessage\",\"getInitialValues\",\"triggerData\",\"_triggerData$name\",\"_triggerData$enabled\",\"_triggerData$runOnce\",\"_triggerData$conditio\",\"_triggerData$actions$\",\"description\",\"enabled\",\"runOnce\",\"conditions\",\"map\",\"_ref\",\"actions\",\"exportDefault\",\"_ref2\",\"t\",\"router\",\"queryClient\",\"dispatchToastMessage\",\"saveTrigger\",\"initValues\",\"formId\",\"enabledField\",\"runOnceField\",\"nameField\",\"descriptionField\",\"control\",\"handleSubmit\",\"trigger\",\"formState\",\"isDirty\",\"isSubmitting\",\"errors\",\"mode\",\"reValidateMode\",\"values\",\"isValid\",\"Object\",\"keys\",\"length\",\"fields\",\"conditionsFields\",\"actionsFields\",\"saveTriggerMutation\",\"mutationFn\",\"onSuccess\",\"type\",\"message\",\"invalidateQueries\",\"navigate\",\"onError\",\"error\",\"handleSave\",\"data\",\"mutateAsync\",\"_id\",\"createElement\",\"onClick\",\"id\",\"onSubmit\",\"htmlFor\",\"render\",\"_ref3\",\"field\",\"_excluded\",\"checked\",\"_ref4\",\"_excluded2\",\"required\",\"rules\",\"_ref5\",\"_errors$name\",\"Boolean\",\"concat\",\"_ref6\",\"index\",\"key\",\"stretch\",\"form\",\"primary\",\"disabled\",\"loading\"],\"mappings\":\"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\"}"}