{"code":"function module(e,t,n){let l,r,a,i,o,s,c,m,u,p,d,E,_,g,k,f;n.link(\"@rocket.chat/fuselage\",{Box(e){l=e},Button(e){r=e},ButtonGroup(e){a=e},Callout(e){i=e},CardGrid(e){o=e}},0),n.link(\"react\",{default(e){s=e},memo(e){c=e}},1),n.link(\"react-i18next\",{useTranslation(e){m=e}},2),n.link(\"../../../components/Page\",{Page(e){u=e},PageHeader(e){p=e},PageScrollableContentWithShadow(e){d=e}},3),n.link(\"../../../hooks/useIsEnterprise\",{useIsEnterprise(e){E=e}},4),n.link(\"./DeploymentCard/DeploymentCard\",{default(e){_=e}},5),n.link(\"./MessagesRoomsCard/MessagesRoomsCard\",{default(e){g=e}},6),n.link(\"./UsersUploadsCard/UsersUploadsCard\",{default(e){k=e}},7),n.link(\"./VersionCard/VersionCard\",{default(e){f=e}},8),n.exportDefault(c(e=>{let{canViewStatistics:t,serverInfo:n,statistics:c,statisticsIsLoading:h,instances:C,onClickRefreshButton:b,onClickDownloadInfo:w}=e,{t:B}=m(),{data:I}=E(),R=!(null!=I&&I.isEnterprise)&&!(null!=c&&c.msEnabled)&&(null==c?void 0:c.instanceCount)>1,v=R&&!c.oplogEnabled;return s.createElement(u,{bg:\"tint\"},s.createElement(p,{title:B(\"Workspace\")},t&&s.createElement(a,null,s.createElement(r,{onClick:w},B(\"Download_Info\")),s.createElement(r,{onClick:b,loading:h},B(\"Refresh\")))),s.createElement(d,{p:16},s.createElement(l,{marginBlock:\"none\",marginInline:\"auto\",width:\"full\",color:\"default\"},R&&s.createElement(i,{type:\"warning\",title:B(\"Multiple_monolith_instances_alert\"),marginBlockEnd:16}),v&&s.createElement(i,{type:\"danger\",title:B(\"Error_RocketChat_requires_oplog_tailing_when_running_in_multiple_instances\"),marginBlockEnd:16},s.createElement(l,{withRichContent:!0},s.createElement(\"p\",null,B(\"Error_RocketChat_requires_oplog_tailing_when_running_in_multiple_instances_details\")),s.createElement(\"p\",null,s.createElement(\"a\",{rel:\"noopener noreferrer\",target:\"_blank\",href:\"https://rocket.chat/docs/installation/manual-installation/multiple-instances-to-improve-performance/#running-multiple-instances-per-host-to-improve-performance\"},B(\"Click_here_for_more_info\"))))),s.createElement(l,{mbe:16},s.createElement(f,{serverInfo:n})),s.createElement(o,{breakpoints:{lg:4,xs:4,p:8}},s.createElement(_,{serverInfo:n,statistics:c,instances:C}),s.createElement(k,{statistics:c}),s.createElement(g,{statistics:c})))))}))}","map":"{\"version\":3,\"sources\":[\"client/views/admin/workspace/WorkspacePage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IWorkspaceInfo, IStats } from '@rocket.chat/core-typings';\\nimport { Box, Button, ButtonGroup, Callout, CardGrid } from '@rocket.chat/fuselage';\\nimport type { IInstance } from '@rocket.chat/rest-typings';\\nimport React, { memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport { useIsEnterprise } from '../../../hooks/useIsEnterprise';\\nimport DeploymentCard from './DeploymentCard/DeploymentCard';\\nimport MessagesRoomsCard from './MessagesRoomsCard/MessagesRoomsCard';\\nimport UsersUploadsCard from './UsersUploadsCard/UsersUploadsCard';\\nimport VersionCard from './VersionCard/VersionCard';\\n\\ntype WorkspaceStatusPageProps = {\\n\\tcanViewStatistics: boolean;\\n\\tserverInfo: IWorkspaceInfo;\\n\\tstatistics: IStats;\\n\\tstatisticsIsLoading: boolean;\\n\\tinstances: IInstance[];\\n\\tonClickRefreshButton: () => void;\\n\\tonClickDownloadInfo: () => void;\\n};\\n\\nconst WorkspacePage = ({\\n\\tcanViewStatistics,\\n\\tserverInfo,\\n\\tstatistics,\\n\\tstatisticsIsLoading,\\n\\tinstances,\\n\\tonClickRefreshButton,\\n\\tonClickDownloadInfo,\\n}: WorkspaceStatusPageProps) => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst { data } = useIsEnterprise();\\n\\n\\tconst warningMultipleInstances = !data?.isEnterprise && !statistics?.msEnabled && statistics?.instanceCount > 1;\\n\\tconst alertOplogForMultipleInstances = warningMultipleInstances && !statistics.oplogEnabled;\\n\\n\\treturn (\\n\\t\\t<Page bg='tint'>\\n\\t\\t\\t<PageHeader title={t('Workspace')}>\\n\\t\\t\\t\\t{canViewStatistics && (\\n\\t\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t\\t<Button onClick={onClickDownloadInfo}>{t('Download_Info')}</Button>\\n\\t\\t\\t\\t\\t\\t<Button onClick={onClickRefreshButton} loading={statisticsIsLoading}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Refresh')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</PageHeader>\\n\\n\\t\\t\\t<PageScrollableContentWithShadow p={16}>\\n\\t\\t\\t\\t<Box marginBlock='none' marginInline='auto' width='full' color='default'>\\n\\t\\t\\t\\t\\t{warningMultipleInstances && (\\n\\t\\t\\t\\t\\t\\t<Callout type='warning' title={t('Multiple_monolith_instances_alert')} marginBlockEnd={16}></Callout>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{alertOplogForMultipleInstances && (\\n\\t\\t\\t\\t\\t\\t<Callout\\n\\t\\t\\t\\t\\t\\t\\ttype='danger'\\n\\t\\t\\t\\t\\t\\t\\ttitle={t('Error_RocketChat_requires_oplog_tailing_when_running_in_multiple_instances')}\\n\\t\\t\\t\\t\\t\\t\\tmarginBlockEnd={16}\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t<Box withRichContent>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p>{t('Error_RocketChat_requires_oplog_tailing_when_running_in_multiple_instances_details')}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trel='noopener noreferrer'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttarget='_blank'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\thref={\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'https://rocket.chat/docs/installation/manual-installation/multiple-instances-to-improve-' +\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'performance/#running-multiple-instances-per-host-to-improve-performance'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Click_here_for_more_info')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Callout>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t<Box mbe={16}>\\n\\t\\t\\t\\t\\t\\t<VersionCard serverInfo={serverInfo} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t<CardGrid breakpoints={{ lg: 4, xs: 4, p: 8 }}>\\n\\t\\t\\t\\t\\t\\t<DeploymentCard serverInfo={serverInfo} statistics={statistics} instances={instances} />\\n\\t\\t\\t\\t\\t\\t<UsersUploadsCard statistics={statistics} />\\n\\t\\t\\t\\t\\t\\t<MessagesRoomsCard statistics={statistics} />\\n\\t\\t\\t\\t\\t</CardGrid>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default memo(WorkspacePage);\\n\",null],\"names\":[\"Box\",\"Button\",\"ButtonGroup\",\"Callout\",\"CardGrid\",\"React\",\"memo\",\"useTranslation\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"useIsEnterprise\",\"DeploymentCard\",\"MessagesRoomsCard\",\"UsersUploadsCard\",\"VersionCard\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"canViewStatistics\",\"serverInfo\",\"statistics\",\"statisticsIsLoading\",\"instances\",\"onClickRefreshButton\",\"onClickDownloadInfo\",\"t\",\"data\",\"warningMultipleInstances\",\"isEnterprise\",\"msEnabled\",\"instanceCount\",\"alertOplogForMultipleInstances\",\"oplogEnabled\",\"createElement\",\"bg\",\"title\",\"onClick\",\"loading\",\"p\",\"marginBlock\",\"marginInline\",\"width\",\"color\",\"type\",\"marginBlockEnd\",\"withRichContent\",\"rel\",\"target\",\"href\",\"mbe\",\"breakpoints\",\"lg\",\"xs\"],\"mappings\":\"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\"}"}