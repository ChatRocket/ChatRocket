{"code":"function module(e,n,t){var a,s,i,u,o,r,l,m,c,d,f,g,k,p,h,M,b,E,y,U,_,D;t.link(\"@babel/runtime/helpers/extends\",{default:function(e){a=e}},0),t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){s=e}},1),t.link(\"@rocket.chat/fuselage\",{MessageHeader:function(e){i=e},MessageName:function(e){u=e},MessageTimestamp:function(e){o=e},MessageUsername:function(e){r=e},MessageStatusPrivateIndicator:function(e){l=e},MessageNameContainer:function(e){m=e}},0),t.link(\"react\",{default:function(e){c=e},memo:function(e){d=e}},1),t.link(\"react-i18next\",{useTranslation:function(e){f=e}},2),t.link(\"../../../lib/getUserDisplayName\",{getUserDisplayName:function(e){g=e}},3),t.link(\"../../hooks/useFormatDateAndTime\",{useFormatDateAndTime:function(e){k=e}},4),t.link(\"../../hooks/useFormatTime\",{useFormatTime:function(e){p=e}},5),t.link(\"../../hooks/useUserData\",{useUserData:function(e){h=e}},6),t.link(\"../../views/room/contexts/UserCardContext\",{useUserCard:function(e){M=e}},7),t.link(\"./StatusIndicators\",{default:function(e){b=e}},8),t.link(\"./header/MessageRoles\",{default:function(e){E=e}},9),t.link(\"./header/hooks/useMessageRoles\",{useMessageRoles:function(e){y=e}},10),t.link(\"./list/MessageListContext\",{useMessageListShowUsername:function(e){U=e},useMessageListShowRealName:function(e){_=e},useMessageListShowRoles:function(e){D=e}},11),t.exportDefault(d(function(e){var n=e.message,t=f().t,d=p(),x=k(),C=M(),S=C.triggerProps,v=C.openUserCard,N=_(),T=s(s({},n.u),{},{roles:[]},h(n.u._id)),w=!T.name||T.username===T.name,F=U()&&N&&!w,R=D(),L=y(n.u._id,n.rid,R),I=L.length>0;return c.createElement(i,null,c.createElement(m,a({tabIndex:0,role:\"button\",id:n._id+\"-displayName\",\"aria-label\":g(T.name,T.username,N),onClick:function(e){return v(e,n.u.username)},onKeyDown:function(e){(\"Enter\"===e.code||\"Space\"===e.code)&&v(e,n.u.username)},style:{cursor:\"pointer\"}},S),c.createElement(u,a({},!F&&{\"data-qa-type\":\"username\"},{title:F||w?void 0:\"@\"+T.username,\"data-username\":T.username}),n.alias||g(T.name,T.username,N)),F&&c.createElement(c.Fragment,null,\" \",c.createElement(r,{\"data-username\":T.username,\"data-qa-type\":\"username\"},\"@\",T.username))),I&&c.createElement(E,{roles:L,isBot:n.bot}),c.createElement(o,{id:n._id+\"-time\",title:x(n.ts)},d(n.ts)),n.private&&c.createElement(l,null,t(\"Only_you_can_see_this_message\")),c.createElement(b,{message:n}))}))}","map":"{\"version\":3,\"sources\":[\"client/components/message/MessageHeader.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport {\\n\\tMessageHeader as FuselageMessageHeader,\\n\\tMessageName,\\n\\tMessageTimestamp,\\n\\tMessageUsername,\\n\\tMessageStatusPrivateIndicator,\\n\\tMessageNameContainer,\\n} from '@rocket.chat/fuselage';\\nimport type { KeyboardEvent, ReactElement } from 'react';\\nimport React, { memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { getUserDisplayName } from '../../../lib/getUserDisplayName';\\nimport { useFormatDateAndTime } from '../../hooks/useFormatDateAndTime';\\nimport { useFormatTime } from '../../hooks/useFormatTime';\\nimport { useUserData } from '../../hooks/useUserData';\\nimport type { UserPresence } from '../../lib/presence';\\nimport { useUserCard } from '../../views/room/contexts/UserCardContext';\\nimport StatusIndicators from './StatusIndicators';\\nimport MessageRoles from './header/MessageRoles';\\nimport { useMessageRoles } from './header/hooks/useMessageRoles';\\nimport { useMessageListShowUsername, useMessageListShowRealName, useMessageListShowRoles } from './list/MessageListContext';\\n\\ntype MessageHeaderProps = {\\n\\tmessage: IMessage;\\n};\\n\\nconst MessageHeader = ({ message }: MessageHeaderProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst formatTime = useFormatTime();\\n\\tconst formatDateAndTime = useFormatDateAndTime();\\n\\tconst { triggerProps, openUserCard } = useUserCard();\\n\\n\\tconst showRealName = useMessageListShowRealName();\\n\\tconst user: UserPresence = { ...message.u, roles: [], ...useUserData(message.u._id) };\\n\\tconst usernameAndRealNameAreSame = !user.name || user.username === user.name;\\n\\tconst showUsername = useMessageListShowUsername() && showRealName && !usernameAndRealNameAreSame;\\n\\n\\tconst showRoles = useMessageListShowRoles();\\n\\tconst roles = useMessageRoles(message.u._id, message.rid, showRoles);\\n\\tconst shouldShowRolesList = roles.length > 0;\\n\\n\\treturn (\\n\\t\\t<FuselageMessageHeader>\\n\\t\\t\\t<MessageNameContainer\\n\\t\\t\\t\\ttabIndex={0}\\n\\t\\t\\t\\trole='button'\\n\\t\\t\\t\\tid={`${message._id}-displayName`}\\n\\t\\t\\t\\taria-label={getUserDisplayName(user.name, user.username, showRealName)}\\n\\t\\t\\t\\tonClick={(e) => openUserCard(e, message.u.username)}\\n\\t\\t\\t\\tonKeyDown={(e: KeyboardEvent<HTMLSpanElement>) => {\\n\\t\\t\\t\\t\\t(e.code === 'Enter' || e.code === 'Space') && openUserCard(e, message.u.username);\\n\\t\\t\\t\\t}}\\n\\t\\t\\t\\tstyle={{ cursor: 'pointer' }}\\n\\t\\t\\t\\t{...triggerProps}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<MessageName\\n\\t\\t\\t\\t\\t{...(!showUsername && { 'data-qa-type': 'username' })}\\n\\t\\t\\t\\t\\ttitle={!showUsername && !usernameAndRealNameAreSame ? `@${user.username}` : undefined}\\n\\t\\t\\t\\t\\tdata-username={user.username}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t{message.alias || getUserDisplayName(user.name, user.username, showRealName)}\\n\\t\\t\\t\\t</MessageName>\\n\\t\\t\\t\\t{showUsername && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t{' '}\\n\\t\\t\\t\\t\\t\\t<MessageUsername data-username={user.username} data-qa-type='username'>\\n\\t\\t\\t\\t\\t\\t\\t@{user.username}\\n\\t\\t\\t\\t\\t\\t</MessageUsername>\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</MessageNameContainer>\\n\\t\\t\\t{shouldShowRolesList && <MessageRoles roles={roles} isBot={message.bot} />}\\n\\t\\t\\t<MessageTimestamp id={`${message._id}-time`} title={formatDateAndTime(message.ts)}>\\n\\t\\t\\t\\t{formatTime(message.ts)}\\n\\t\\t\\t</MessageTimestamp>\\n\\t\\t\\t{message.private && <MessageStatusPrivateIndicator>{t('Only_you_can_see_this_message')}</MessageStatusPrivateIndicator>}\\n\\t\\t\\t<StatusIndicators message={message} />\\n\\t\\t</FuselageMessageHeader>\\n\\t);\\n};\\n\\nexport default memo(MessageHeader);\\n\",null],\"names\":[\"_extends\",\"_objectSpread\",\"FuselageMessageHeader\",\"MessageName\",\"MessageTimestamp\",\"MessageUsername\",\"MessageStatusPrivateIndicator\",\"MessageNameContainer\",\"React\",\"memo\",\"useTranslation\",\"getUserDisplayName\",\"useFormatDateAndTime\",\"useFormatTime\",\"useUserData\",\"useUserCard\",\"StatusIndicators\",\"MessageRoles\",\"useMessageRoles\",\"useMessageListShowUsername\",\"useMessageListShowRealName\",\"useMessageListShowRoles\",\"module\",\"link\",\"default\",\"v\",\"MessageHeader\",\"exportDefault\",\"_ref\",\"message\",\"t\",\"_useTranslation\",\"formatTime\",\"formatDateAndTime\",\"_useUserCard\",\"triggerProps\",\"openUserCard\",\"showRealName\",\"user\",\"u\",\"roles\",\"_id\",\"usernameAndRealNameAreSame\",\"name\",\"username\",\"showUsername\",\"showRoles\",\"rid\",\"shouldShowRolesList\",\"length\",\"createElement\",\"tabIndex\",\"role\",\"id\",\"onClick\",\"e\",\"onKeyDown\",\"code\",\"style\",\"cursor\",\"title\",\"undefined\",\"alias\",\"Fragment\",\"isBot\",\"bot\",\"ts\",\"private\"],\"mappings\":\"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\"}"}