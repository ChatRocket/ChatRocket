{"code":"function module(n,o,e){e.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(n){t=n}},0),e.export({VoipRoomType:function(){return f}}),e.link(\"../../../../app/authorization/client\",{hasPermission:function(n){i=n}},0),e.link(\"../../../../app/models/client\",{ChatRoom:function(n){r=n}},1),e.link(\"../../../../app/settings/client\",{settings:function(n){a=n}},2),e.link(\"../../../../app/utils/client/getAvatarURL\",{getAvatarURL:function(n){u=n}},3),e.link(\"../../../../lib/rooms/roomTypes/voip\",{getVoipRoomType:function(n){c=n}},4),e.link(\"../roomCoordinator\",{roomCoordinator:function(n){l=n}},5);var t,i,r,a,u,c,l,f=c(l);l.add(t(t({},f),{},{label:\"Voip\"}),{roomName:function(n){return n.name||n.fname||n.label},condition:function(){return a.get(\"Livechat_enabled\")&&i(\"view-l-room\")},getAvatarPath:function(n){return u({username:\"@\"+this.roomName(n)})||\"\"},findRoom:function(n){return r.findOne({_id:n})},canSendMessage:function(n){return!1},readOnly:function(n,o){return!0},getIcon:function(){return\"phone\"},extractOpenRoomParams:function(n){return{type:\"v\",reference:n.id}}})}","map":"{\"version\":3,\"sources\":[\"client/lib/rooms/roomTypes/voip.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { AtLeast } from '@rocket.chat/core-typings';\\n\\nimport { hasPermission } from '../../../../app/authorization/client';\\nimport { ChatRoom } from '../../../../app/models/client';\\nimport { settings } from '../../../../app/settings/client';\\nimport { getAvatarURL } from '../../../../app/utils/client/getAvatarURL';\\nimport type { IRoomTypeClientDirectives } from '../../../../definition/IRoomTypeConfig';\\nimport { getVoipRoomType } from '../../../../lib/rooms/roomTypes/voip';\\nimport { roomCoordinator } from '../roomCoordinator';\\n\\nexport const VoipRoomType = getVoipRoomType(roomCoordinator);\\n\\nroomCoordinator.add(\\n\\t{\\n\\t\\t...VoipRoomType,\\n\\t\\tlabel: 'Voip',\\n\\t},\\n\\t{\\n\\t\\troomName(room) {\\n\\t\\t\\treturn room.name || room.fname || (room as any).label;\\n\\t\\t},\\n\\n\\t\\tcondition() {\\n\\t\\t\\treturn settings.get('Livechat_enabled') && hasPermission('view-l-room');\\n\\t\\t},\\n\\n\\t\\tgetAvatarPath(room) {\\n\\t\\t\\treturn getAvatarURL({ username: `@${this.roomName(room)}` }) || '';\\n\\t\\t},\\n\\n\\t\\tfindRoom(identifier) {\\n\\t\\t\\treturn ChatRoom.findOne({ _id: identifier });\\n\\t\\t},\\n\\n\\t\\tcanSendMessage(_rid) {\\n\\t\\t\\treturn false;\\n\\t\\t},\\n\\n\\t\\treadOnly(_rid, _user) {\\n\\t\\t\\treturn true;\\n\\t\\t},\\n\\n\\t\\tgetIcon() {\\n\\t\\t\\treturn 'phone';\\n\\t\\t},\\n\\n\\t\\textractOpenRoomParams({ id }) {\\n\\t\\t\\treturn { type: 'v', reference: id };\\n\\t\\t},\\n\\t} as AtLeast<IRoomTypeClientDirectives, 'roomName'>,\\n);\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_objectSpread\",\"export\",\"VoipRoomType\",\"hasPermission\",\"ChatRoom\",\"settings\",\"getAvatarURL\",\"getVoipRoomType\",\"roomCoordinator\",\"add\",\"label\",\"roomName\",\"room\",\"name\",\"fname\",\"condition\",\"get\",\"getAvatarPath\",\"username\",\"findRoom\",\"identifier\",\"findOne\",\"_id\",\"canSendMessage\",\"_rid\",\"readOnly\",\"_user\",\"getIcon\",\"extractOpenRoomParams\",\"_ref\",\"type\",\"reference\",\"id\"],\"mappings\":\"uBAESA,EAAeC,IAAA,CAAM,uCAAuC,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAArEH,EAAOK,MAAE,CAAA,CAAAC,aAAe,WAAM,OAAAA,CAAA,CAAA,GAAuCN,EAAAC,IAAA,CAAA,uCAAA,CAAAM,cAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAAO,SAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAQ,SAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,4CAAA,CAAAS,aAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAU,gBAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,qBAAA,CAAAW,gBAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAQ9D,IARPC,EAA8BG,EAAuCC,EAAAC,EAAAC,EAAAC,EAAAC,EAQxDN,EAAeK,EAAgBC,GAE5CA,EAAgBC,GAAG,CAAAT,EAAAA,EAAA,CAAA,EAEdE,GAAY,CAAA,EAAA,CACfQ,MAAO,MAAM,GAEd,CACCC,SAAQ,SAACC,CAAI,EACZ,OAAOA,EAAKC,IAAI,EAAID,EAAKE,KAAK,EAAKF,EAAaF,KAAK,AACtD,EAEAK,UAAS,WACR,OAAOV,EAASW,GAAG,CAAC,qBAAuBb,EAAc,cAC1D,EAEAc,cAAa,SAACL,CAAI,EACjB,OAAON,EAAa,CAAEY,SAAQ,IAAM,IAAI,CAACP,QAAQ,CAACC,EAAO,IAAO,EACjE,EAEAO,SAAQ,SAACC,CAAU,EAClB,OAAOhB,EAASiB,OAAO,CAAC,CAAEC,IAAKF,CAAU,EAC1C,EAEAG,eAAc,SAACC,CAAI,EAClB,MAAO,CAAA,CACR,EAEAC,SAAQ,SAACD,CAAI,CAAEE,CAAK,EACnB,MAAO,CAAA,CACR,EAEAC,QAAO,WACN,MAAO,OACR,EAEAC,sBAAqB,SAAAC,CAAA,EACpB,MAAO,CAAEC,KAAM,IAAKC,UADKF,EAAFG,EAAE,AACQ,CAClC\"}"}