{"code":"function module(e,t,a){let l,o,r,i,n,s,u,m,c,d,k,f,h,p,b,g;a.link(\"@rocket.chat/fuselage\",{Box(e){l=e},SidebarV2GroupTitle(e){o=e}},0),a.link(\"@rocket.chat/ui-contexts\",{useTranslation(e){r=e},useUserPreference(e){i=e},useSetting(e){n=e}},1),a.link(\"react\",{default(e){s=e},useMemo(e){u=e},useRef(e){m=e}},2),a.link(\"react-virtuoso\",{Virtuoso(e){c=e}},3),a.link(\"../../components/CustomScrollbars\",{VirtuosoScrollbars(e){d=e}},4),a.link(\"../RoomList/RoomListWrapper\",{default(e){k=e}},5),a.link(\"../hooks/useAvatarTemplate\",{useAvatarTemplate(e){f=e}},6),a.link(\"../hooks/usePreventDefault\",{usePreventDefault(e){h=e}},7),a.link(\"../hooks/useTemplateByViewMode\",{useTemplateByViewMode(e){p=e}},8),a.link(\"../search/Row\",{default(e){b=e}},9),a.link(\"./hooks/useSearchItems\",{useSearchItems(e){g=e}},10),a.exportDefault(e=>{let{filterText:t,onEscSearch:a,showRecentList:v}=e,S=r(),T=m(null);h(T);let{data:x=[],isLoading:w}=g(t),E=i(\"sidebarViewMode\"),I=n(\"UI_Use_Real_Name\"),R=p(),V=f(),y=\"extended\"===E,B=u(()=>({items:x,t:S,SidebarItemTemplate:R,avatarTemplate:V,useRealName:I,extended:y,sidebarViewMode:E}),[V,y,x,I,R,E,S]);return s.createElement(l,{ref:T,role:\"listbox\",tabIndex:-1,flexShrink:1,h:\"full\",w:\"full\",pbs:v?0:8,\"aria-live\":\"polite\",\"aria-atomic\":\"true\",\"aria-busy\":w,onClick:e=>{var t;if(!(e.target instanceof Element&&[e.target.tagName,null===(t=e.target.parentElement)||void 0===t?void 0:t.tagName].includes(\"BUTTON\")))return a()}},v&&s.createElement(o,{title:S(\"Recent\")}),s.createElement(c,{style:{height:\"100%\",width:\"100%\"},totalCount:x.length,data:x,components:{List:k,Scroller:d},computeItemKey:(e,t)=>t._id,itemContent:(e,t)=>s.createElement(b,{data:B,item:t})}))})}","map":"{\"version\":3,\"sources\":[\"client/sidebarv2/header/SearchList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, SidebarV2GroupTitle } from '@rocket.chat/fuselage';\\nimport { useTranslation, useUserPreference, useSetting } from '@rocket.chat/ui-contexts';\\nimport type { MouseEventHandler, ReactElement } from 'react';\\nimport React, { useMemo, useRef } from 'react';\\nimport { Virtuoso } from 'react-virtuoso';\\n\\nimport { VirtuosoScrollbars } from '../../components/CustomScrollbars';\\nimport RoomListWrapper from '../RoomList/RoomListWrapper';\\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\\nimport { usePreventDefault } from '../hooks/usePreventDefault';\\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\\nimport Row from '../search/Row';\\nimport { useSearchItems } from './hooks/useSearchItems';\\n\\ntype SearchListProps = { filterText: string; onEscSearch: () => void; showRecentList?: boolean };\\n\\nconst SearchList = ({ filterText, onEscSearch, showRecentList }: SearchListProps) => {\\n\\tconst t = useTranslation();\\n\\n\\tconst boxRef = useRef<HTMLDivElement>(null);\\n\\tusePreventDefault(boxRef);\\n\\n\\tconst { data: items = [], isLoading } = useSearchItems(filterText);\\n\\n\\tconst sidebarViewMode = useUserPreference('sidebarViewMode');\\n\\tconst useRealName = useSetting('UI_Use_Real_Name');\\n\\n\\tconst sideBarItemTemplate = useTemplateByViewMode();\\n\\tconst avatarTemplate = useAvatarTemplate();\\n\\n\\tconst extended = sidebarViewMode === 'extended';\\n\\n\\tconst itemData = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\titems,\\n\\t\\t\\tt,\\n\\t\\t\\tSidebarItemTemplate: sideBarItemTemplate,\\n\\t\\t\\tavatarTemplate,\\n\\t\\t\\tuseRealName,\\n\\t\\t\\textended,\\n\\t\\t\\tsidebarViewMode,\\n\\t\\t}),\\n\\t\\t[avatarTemplate, extended, items, useRealName, sideBarItemTemplate, sidebarViewMode, t],\\n\\t);\\n\\n\\tconst handleClick: MouseEventHandler<HTMLElement> = (e): void => {\\n\\t\\tif (e.target instanceof Element && [e.target.tagName, e.target.parentElement?.tagName].includes('BUTTON')) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\treturn onEscSearch();\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Box\\n\\t\\t\\tref={boxRef}\\n\\t\\t\\trole='listbox'\\n\\t\\t\\ttabIndex={-1}\\n\\t\\t\\tflexShrink={1}\\n\\t\\t\\th='full'\\n\\t\\t\\tw='full'\\n\\t\\t\\tpbs={showRecentList ? 0 : 8}\\n\\t\\t\\taria-live='polite'\\n\\t\\t\\taria-atomic='true'\\n\\t\\t\\taria-busy={isLoading}\\n\\t\\t\\tonClick={handleClick}\\n\\t\\t>\\n\\t\\t\\t{showRecentList && <SidebarV2GroupTitle title={t('Recent')} />}\\n\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\tstyle={{ height: '100%', width: '100%' }}\\n\\t\\t\\t\\ttotalCount={items.length}\\n\\t\\t\\t\\tdata={items}\\n\\t\\t\\t\\tcomponents={{ List: RoomListWrapper, Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t\\tcomputeItemKey={(_, room) => room._id}\\n\\t\\t\\t\\titemContent={(_, data): ReactElement => <Row data={itemData} item={data} />}\\n\\t\\t\\t/>\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default SearchList;\\n\",null],\"names\":[\"Box\",\"SidebarV2GroupTitle\",\"useTranslation\",\"useUserPreference\",\"useSetting\",\"React\",\"useMemo\",\"useRef\",\"Virtuoso\",\"VirtuosoScrollbars\",\"RoomListWrapper\",\"useAvatarTemplate\",\"usePreventDefault\",\"useTemplateByViewMode\",\"Row\",\"useSearchItems\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"filterText\",\"onEscSearch\",\"showRecentList\",\"t\",\"boxRef\",\"data\",\"items\",\"isLoading\",\"sidebarViewMode\",\"useRealName\",\"sideBarItemTemplate\",\"avatarTemplate\",\"extended\",\"itemData\",\"SidebarItemTemplate\",\"createElement\",\"ref\",\"role\",\"tabIndex\",\"flexShrink\",\"h\",\"w\",\"pbs\",\"onClick\",\"e\",\"_e$target$parentEleme\",\"target\",\"Element\",\"tagName\",\"parentElement\",\"includes\",\"title\",\"style\",\"height\",\"width\",\"totalCount\",\"length\",\"components\",\"List\",\"Scroller\",\"computeItemKey\",\"_\",\"room\",\"_id\",\"itemContent\",\"item\"],\"mappings\":\"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\"}"}