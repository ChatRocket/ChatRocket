{"code":"function module(e,t,r){let l,o,u,a,n;r.export({DateListProvider:()=>s,useDateListController:()=>f,useDateRef:()=>i}),r.link(\"react\",{default(e){l=e},createContext(e){o=e},useContext(e){u=e},useMemo(e){a=e},useState(e){n=e}},0);let d=o(void 0),i=()=>{let e=f();return a(()=>e.dateRef(),[e])},s=e=>{let{children:t}=e,[r]=n(new Set),o=e=>(r.add(e),()=>{r.delete(e)});return l.createElement(d.Provider,{value:{list:r,dateRef:()=>{let e;return t=>{e&&e(),t&&(e=o(t))}}}},t)},f=()=>{let e=u(d);if(!e)throw Error(\"useDateController must be used within an DateScrollProvider\");return e}}","map":"{\"version\":3,\"sources\":[\"client/views/room/providers/DateListProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import React, { createContext, useContext, useMemo, useState } from 'react';\\n\\ntype DateListContextValue = {\\n\\tlist: Set<HTMLElement>;\\n\\tdateRef: () => (ref: HTMLElement | null) => void;\\n};\\n\\nconst DateListContext = createContext<DateListContextValue | undefined>(undefined);\\n\\nconst useDateRef = () => {\\n\\tconst context = useDateListController();\\n\\treturn useMemo(() => context.dateRef(), [context]);\\n};\\n\\nconst DateListProvider = ({ children }: { children: React.ReactNode }) => {\\n\\tconst [list] = useState<Set<HTMLElement>>(new Set<HTMLElement>());\\n\\n\\tconst addToList = (value: HTMLElement) => {\\n\\t\\tlist.add(value);\\n\\t\\treturn () => {\\n\\t\\t\\tlist.delete(value);\\n\\t\\t};\\n\\t};\\n\\n\\tconst dateRef = () => {\\n\\t\\tlet remove: () => void;\\n\\t\\treturn (ref: HTMLElement | null) => {\\n\\t\\t\\tif (remove) remove();\\n\\n\\t\\t\\tif (!ref) return;\\n\\t\\t\\tremove = addToList(ref);\\n\\t\\t};\\n\\t};\\n\\n\\treturn <DateListContext.Provider value={{ list, dateRef }}>{children}</DateListContext.Provider>;\\n};\\n\\nconst useDateListController = () => {\\n\\tconst context = useContext(DateListContext);\\n\\tif (!context) {\\n\\t\\tthrow new Error('useDateController must be used within an DateScrollProvider');\\n\\t}\\n\\treturn context;\\n};\\n\\nexport { DateListProvider, useDateListController, useDateRef };\\n\",null],\"names\":[\"React\",\"createContext\",\"useContext\",\"useMemo\",\"useState\",\"module\",\"export\",\"DateListProvider\",\"useDateListController\",\"useDateRef\",\"link\",\"default\",\"v\",\"DateListContext\",\"undefined\",\"context\",\"dateRef\",\"_ref\",\"children\",\"list\",\"Set\",\"addToList\",\"value\",\"add\",\"delete\",\"createElement\",\"Provider\",\"remove\",\"ref\",\"Error\"],\"mappings\":\"2BAA4EA,EAAAC,EAAAC,EAAAC,EAAAC,EAA5EC,EAAOC,MAAK,CAAE,CAAAC,iBAAiBA,IAAAA,EAAqBC,sBAAuBA,IAACA,EAAAC,WAAAA,IAAAA,CAAA,GAAAJ,EAAAK,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,cAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,WAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,QAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAO5E,IAAMC,EAAkBZ,EAAgDa,KAAAA,GAElEL,EAAaA,KAClB,IAAMM,EAAUP,IAChB,OAAOL,EAAQ,IAAMY,EAAQC,OAAO,GAAI,CAACD,EAAQ,CAClD,EAEMR,EAAmBU,IAAgD,GAA/C,CAAEC,SAAAA,CAAAA,CAAyC,CAAAD,EAC9D,CAACE,EAAK,CAAGf,EAA2B,IAAIgB,KAExCC,EAAaC,IAClBH,EAAKI,GAAG,CAACD,GACF,KACNH,EAAKK,MAAM,CAACF,EACb,GAaD,OAAOtB,EAAAyB,aAAA,CAACZ,EAAgBa,QAAQ,CAAA,CAACJ,MAAO,CAAEH,KAAAA,EAAMH,QAVhCA,KACf,IAAIW,EACJ,OAAQC,IACHD,GAAQA,IAEPC,GACLD,CAAAA,EAASN,EAAUO,EAAG,CACvB,CACD,CAEuD,CAAG,EAAEV,EAC7D,EAEMV,EAAwBA,KAC7B,IAAMO,EAAUb,EAAWW,GAC3B,GAAI,CAACE,EACJ,MAAM,AAAIc,MAAM,+DAEjB,OAAOd,CACR\"}"}