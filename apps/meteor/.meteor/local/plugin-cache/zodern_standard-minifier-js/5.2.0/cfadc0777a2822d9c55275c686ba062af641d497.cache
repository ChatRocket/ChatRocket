{"code":"function module(e,t,o){let n,i,r,a,l,s,c;o.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){n=e}},0),o.export({useCleanHistoryRoomAction:()=>m}),o.link(\"@rocket.chat/core-typings\",{isRoomFederated(e){i=e}},0),o.link(\"@rocket.chat/ui-contexts\",{usePermission(e){r=e}},1),o.link(\"react\",{lazy(e){a=e},useMemo(e){l=e}},2),o.link(\"react-i18next\",{useTranslation(e){s=e}},3),o.link(\"../../views/room/contexts/RoomContext\",{useRoom(e){c=e}},4);let u=a(()=>o.dynamicImport(\"../../views/room/contextualBar/PruneMessages\")),m=()=>{let e=c(),t=i(e),o=r(\"clean-channel-history\",e._id),{t:a}=s();return l(()=>{if(o)return n(n({id:\"clean-history\",groups:[\"channel\",\"group\",\"team\",\"direct_multiple\",\"direct\"],full:!0,title:\"Prune_Messages\",icon:\"eraser\"},t&&{tooltip:a(\"core.Clean_History_unavailable_for_federation\"),disabled:!0}),{},{tabComponent:u,order:250,type:\"customization\"})},[t,o,a])}}","map":"{\"version\":3,\"sources\":[\"client/hooks/roomActions/useCleanHistoryRoomAction.ts\",\"<anon>\"],\"sourcesContent\":[\"import { isRoomFederated } from '@rocket.chat/core-typings';\\nimport { usePermission } from '@rocket.chat/ui-contexts';\\nimport { lazy, useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useRoom } from '../../views/room/contexts/RoomContext';\\nimport type { RoomToolboxActionConfig } from '../../views/room/contexts/RoomToolboxContext';\\n\\nconst PruneMessages = lazy(() => import('../../views/room/contextualBar/PruneMessages'));\\n\\nexport const useCleanHistoryRoomAction = () => {\\n\\tconst room = useRoom();\\n\\tconst federated = isRoomFederated(room);\\n\\tconst permitted = usePermission('clean-channel-history', room._id);\\n\\tconst { t } = useTranslation();\\n\\n\\treturn useMemo((): RoomToolboxActionConfig | undefined => {\\n\\t\\tif (!permitted) {\\n\\t\\t\\treturn undefined;\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tid: 'clean-history',\\n\\t\\t\\tgroups: ['channel', 'group', 'team', 'direct_multiple', 'direct'],\\n\\t\\t\\tfull: true,\\n\\t\\t\\ttitle: 'Prune_Messages',\\n\\t\\t\\ticon: 'eraser',\\n\\t\\t\\t...(federated && {\\n\\t\\t\\t\\ttooltip: t('core.Clean_History_unavailable_for_federation'),\\n\\t\\t\\t\\tdisabled: true,\\n\\t\\t\\t}),\\n\\t\\t\\ttabComponent: PruneMessages,\\n\\t\\t\\torder: 250,\\n\\t\\t\\ttype: 'customization',\\n\\t\\t};\\n\\t}, [federated, permitted, t]);\\n};\\n\",null],\"names\":[\"_objectSpread\",\"isRoomFederated\",\"usePermission\",\"lazy\",\"useMemo\",\"useTranslation\",\"useRoom\",\"module\",\"link\",\"default\",\"v\",\"export\",\"useCleanHistoryRoomAction\",\"PruneMessages\",\"dynamicImport\",\"room\",\"federated\",\"permitted\",\"_id\",\"t\",\"id\",\"groups\",\"full\",\"title\",\"icon\",\"tooltip\",\"disabled\",\"tabComponent\",\"order\",\"type\"],\"mappings\":\"2BAAAA,EAA4DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAnDC,EAAeC,IAAE,CAAA,uCAAkC,CAAAC,QAAAC,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAA5DH,EAAOI,MAAE,CAAA,CAAAC,0BAAuBA,IAAAA,CAA4B,GAAAL,EAAAC,IAAA,CAAA,4BAAA,CAAAP,gBAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAN,cAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAL,KAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,QAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAH,eAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wCAAA,CAAAF,QAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAQ5D,IAAMG,EAAgBV,EAAK,IAAMI,EAAAO,aAAA,CAAO,iDAE3BF,EAA4BA,KACxC,IAAMG,EAAOT,IACPU,EAAYf,EAAgBc,GAC5BE,EAAYf,EAAc,wBAAyBa,EAAKG,GAAG,EAC3D,CAAEC,EAAAA,CAAAA,CAAG,CAAGd,IAEd,OAAOD,EAAQ,KACd,GAAKa,EAIL,OAAAjB,EAAAA,EAAA,CACCoB,GAAI,gBACJC,OAAQ,CAAC,UAAW,QAAS,OAAQ,kBAAmB,SAAS,CACjEC,KAAM,CAAA,EACNC,MAAO,iBACPC,KAAM,QAAQ,EACVR,GAAa,CAChBS,QAASN,EAAE,iDACXO,SAAU,CAAA,IACV,CAAA,EAAA,CACDC,aAAcd,EACde,MAAO,IACPC,KAAM,eAAe,EAEvB,EAAG,CAACb,EAAWC,EAAWE,EAAE,CAC7B\"}"}