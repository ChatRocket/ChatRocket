{"code":"function module(e,t,a){var n;let l,s,o,r,i,c,u,m,d,p,h,g,k,b;a.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){l=e}},0),a.link(\"@babel/runtime/helpers/taggedTemplateLiteral\",{default(e){s=e}},1),a.link(\"@rocket.chat/css-in-js\",{css(e){o=e}},0),a.link(\"@rocket.chat/fuselage\",{IconButton(e){r=e},Box(e){i=e},Margins(e){c=e}},1),a.link(\"@rocket.chat/ui-contexts\",{useSetting(e){u=e}},2),a.link(\"react\",{default(e){m=e},memo(e){d=e}},3),a.link(\"use-subscription\",{useSubscription(e){p=e}},4),a.link(\"../../../../../lib/getUserDisplayName\",{getUserDisplayName(e){h=e}},5),a.link(\"../../../../components/message/content/attachments/QuoteAttachment\",{QuoteAttachment(e){g=e}},6),a.link(\"../../../../providers/AttachmentProvider\",{default(e){k=e}},7),a.link(\"../../contexts/ChatContext\",{useChat(e){b=e}},8),a.exportDefault(d(()=>{var e;let t=b();if(!(null!=t&&null!==(e=t.composer)&&void 0!==e&&e.quotedMessages))throw Error(\"Chat context not found\");let a=p({getCurrentValue:t.composer.quotedMessages.get,subscribe:t.composer.quotedMessages.subscribe}),d=!!u(\"UI_Use_Real_Name\");if(!a.length)return null;let v=o(n||(n=s([\"\\n\t\tposition: absolute;\\n\t\tright: 0.5rem;\\n\t\ttop: 0.75rem;\\n\t\"])));return m.createElement(i,{mbe:8,position:\"relative\",overflowY:\"auto\",maxHeight:\"x256\"},a.map((e,a)=>{var n;return m.createElement(c,{block:4,key:a},m.createElement(i,{display:\"flex\",position:\"relative\"},m.createElement(k,null,m.createElement(g,{attachment:{text:e.msg,md:e.md,author_name:e.alias||h(e.u.name,e.u.username,d),author_icon:\"/avatar/\".concat(e.u.username),ts:e.ts,attachments:null==e?void 0:null===(n=e.attachments)||void 0===n?void 0:n.map(e=>l(l({},e),{},{collapsed:!0})),collapsed:!0}})),m.createElement(i,{className:v,\"data-mid\":e._id,onClick:()=>{var a;null===(a=t.composer)||void 0===a||a.dismissQuotedMessage(e._id)}},m.createElement(r,{mini:!0,icon:\"cross\"}))))}))}))}","map":"{\"version\":3,\"sources\":[\"client/views/room/composer/messageBox/MessageBoxReplies.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { MessageQuoteAttachment } from '@rocket.chat/core-typings';\\nimport { css } from '@rocket.chat/css-in-js';\\nimport { IconButton, Box, Margins } from '@rocket.chat/fuselage';\\nimport { useSetting } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { memo } from 'react';\\nimport { useSubscription } from 'use-subscription';\\n\\nimport { getUserDisplayName } from '../../../../../lib/getUserDisplayName';\\nimport { QuoteAttachment } from '../../../../components/message/content/attachments/QuoteAttachment';\\nimport AttachmentProvider from '../../../../providers/AttachmentProvider';\\nimport { useChat } from '../../contexts/ChatContext';\\n\\nconst MessageBoxReplies = (): ReactElement | null => {\\n\\tconst chat = useChat();\\n\\n\\tif (!chat?.composer?.quotedMessages) {\\n\\t\\tthrow new Error('Chat context not found');\\n\\t}\\n\\n\\tconst replies = useSubscription({\\n\\t\\tgetCurrentValue: chat.composer.quotedMessages.get,\\n\\t\\tsubscribe: chat.composer.quotedMessages.subscribe,\\n\\t});\\n\\n\\tconst useRealName = Boolean(useSetting('UI_Use_Real_Name'));\\n\\n\\tif (!replies.length) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\tconst closeWrapperStyle = css`\\n\\t\\tposition: absolute;\\n\\t\\tright: 0.5rem;\\n\\t\\ttop: 0.75rem;\\n\\t`;\\n\\n\\treturn (\\n\\t\\t<Box mbe={8} position='relative' overflowY='auto' maxHeight='x256'>\\n\\t\\t\\t{replies.map((reply, key) => (\\n\\t\\t\\t\\t<Margins block={4} key={key}>\\n\\t\\t\\t\\t\\t<Box display='flex' position='relative'>\\n\\t\\t\\t\\t\\t\\t<AttachmentProvider>\\n\\t\\t\\t\\t\\t\\t\\t<QuoteAttachment\\n\\t\\t\\t\\t\\t\\t\\t\\tattachment={\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttext: reply.msg,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmd: reply.md,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tauthor_name: reply.alias || getUserDisplayName(reply.u.name, reply.u.username, useRealName),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tauthor_icon: `/avatar/${reply.u.username}`,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tts: reply.ts,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattachments: reply?.attachments?.map((obj) => ({ ...obj, collapsed: true })),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcollapsed: true,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t} as MessageQuoteAttachment\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t</AttachmentProvider>\\n\\t\\t\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\t\\t\\tclassName={closeWrapperStyle}\\n\\t\\t\\t\\t\\t\\t\\tdata-mid={reply._id}\\n\\t\\t\\t\\t\\t\\t\\tonClick={(): void => {\\n\\t\\t\\t\\t\\t\\t\\t\\tchat.composer?.dismissQuotedMessage(reply._id);\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t<IconButton mini icon='cross' />\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t))}\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default memo(MessageBoxReplies);\\n\",null],\"names\":[\"_objectSpread\",\"_taggedTemplateLiteral\",\"css\",\"IconButton\",\"Box\",\"Margins\",\"useSetting\",\"React\",\"memo\",\"useSubscription\",\"getUserDisplayName\",\"QuoteAttachment\",\"AttachmentProvider\",\"useChat\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"MessageBoxReplies\",\"_chat$composer\",\"chat\",\"composer\",\"quotedMessages\",\"Error\",\"replies\",\"getCurrentValue\",\"get\",\"subscribe\",\"useRealName\",\"Boolean\",\"length\",\"closeWrapperStyle\",\"_templateObject\",\"createElement\",\"mbe\",\"position\",\"overflowY\",\"maxHeight\",\"map\",\"reply\",\"key\",\"_reply$attachments\",\"block\",\"display\",\"attachment\",\"text\",\"msg\",\"md\",\"author_name\",\"alias\",\"u\",\"name\",\"username\",\"author_icon\",\"concat\",\"ts\",\"attachments\",\"obj\",\"collapsed\",\"className\",\"_id\",\"onClick\",\"_chat$composer2\",\"dismissQuotedMessage\",\"mini\",\"icon\"],\"mappings\":\"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\"}"}