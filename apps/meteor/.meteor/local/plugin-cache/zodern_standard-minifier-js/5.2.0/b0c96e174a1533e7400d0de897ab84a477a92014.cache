{"code":"function module(e,n,t){var a,o,i,u,s,c,l,r,f,m,d,p,g,k,h,R=[\"hasReacted\",\"counter\",\"name\",\"names\",\"messageId\"];t.link(\"@babel/runtime/regenerator\",{default:function(e){a=e}},0),t.link(\"@babel/runtime/helpers/extends\",{default:function(e){o=e}},1),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){i=e}},2),t.link(\"@rocket.chat/fuselage\",{MessageReaction:function(e){u=e},MessageReactionEmoji:function(e){s=e},MessageReactionCounter:function(e){c=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useTooltipClose:function(e){l=e},useTooltipOpen:function(e){r=e},useTranslation:function(e){f=e}},1),t.link(\"react\",{default:function(e){m=e},useRef:function(e){d=e},useContext:function(e){p=e}},2),t.link(\"../../../../lib/utils/renderEmoji\",{getEmojiClassNameAndDataTitle:function(e){g=e}},3),t.link(\"../../list/MessageListContext\",{MessageListContext:function(e){k=e}},4),t.link(\"./ReactionTooltip\",{default:function(e){h=e}},5),t.exportDefault(function(e){var n=e.hasReacted,t=e.counter,b=e.name,E=e.names,x=e.messageId,M=i(e,R),C=f(),j=d(null),v=r(),T=l(),_=p(k),w=_.showRealName,N=_.username,D=n(b),I=g(b);return m.createElement(u,o({ref:j,key:b,mine:D,\"aria-label\":C(\"React_with__reaction__\",{reaction:b}),\"data-tooltip\":\"\",onMouseEnter:function(e){return a.async(function(n){for(;;)switch(n.prev=n.next){case 0:e.stopPropagation(),e.preventDefault(),j.current&&v(m.createElement(h,{emojiName:b,usernames:E,mine:D,messageId:x,showRealName:w,username:N}),j.current);case 3:case\"end\":return n.stop()}},null,null,null,Promise)},onMouseLeave:function(){T()}},M),m.createElement(s,I),m.createElement(c,{counter:t}))})}","map":"{\"version\":3,\"sources\":[\"client/components/message/content/reactions/Reaction.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { MessageReaction as MessageReactionTemplate, MessageReactionEmoji, MessageReactionCounter } from '@rocket.chat/fuselage';\\nimport { useTooltipClose, useTooltipOpen, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps, ReactElement } from 'react';\\nimport React, { useRef, useContext } from 'react';\\n\\nimport { getEmojiClassNameAndDataTitle } from '../../../../lib/utils/renderEmoji';\\nimport { MessageListContext } from '../../list/MessageListContext';\\nimport ReactionTooltip from './ReactionTooltip';\\n\\n// TODO: replace it with proper usage of i18next plurals\\ntype ReactionProps = {\\n\\thasReacted: (name: string) => boolean;\\n\\tcounter: number;\\n\\tname: string;\\n\\tnames: string[];\\n\\tmessageId: string;\\n} & ComponentProps<typeof MessageReactionTemplate>;\\n\\nconst Reaction = ({ hasReacted, counter, name, names, messageId, ...props }: ReactionProps): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst ref = useRef<HTMLDivElement>(null);\\n\\tconst openTooltip = useTooltipOpen();\\n\\tconst closeTooltip = useTooltipClose();\\n\\tconst { showRealName, username } = useContext(MessageListContext);\\n\\n\\tconst mine = hasReacted(name);\\n\\n\\tconst emojiProps = getEmojiClassNameAndDataTitle(name);\\n\\n\\treturn (\\n\\t\\t<MessageReactionTemplate\\n\\t\\t\\tref={ref}\\n\\t\\t\\tkey={name}\\n\\t\\t\\tmine={mine}\\n\\t\\t\\taria-label={t('React_with__reaction__', { reaction: name })}\\n\\t\\t\\t// if data-tooltip is not set, the tooltip will close on first mouse enter\\n\\t\\t\\tdata-tooltip=''\\n\\t\\t\\tonMouseEnter={async (e) => {\\n\\t\\t\\t\\te.stopPropagation();\\n\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\tref.current &&\\n\\t\\t\\t\\t\\topenTooltip(\\n\\t\\t\\t\\t\\t\\t<ReactionTooltip\\n\\t\\t\\t\\t\\t\\t\\temojiName={name}\\n\\t\\t\\t\\t\\t\\t\\tusernames={names}\\n\\t\\t\\t\\t\\t\\t\\tmine={mine}\\n\\t\\t\\t\\t\\t\\t\\tmessageId={messageId}\\n\\t\\t\\t\\t\\t\\t\\tshowRealName={showRealName}\\n\\t\\t\\t\\t\\t\\t\\tusername={username}\\n\\t\\t\\t\\t\\t\\t/>,\\n\\t\\t\\t\\t\\t\\tref.current,\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t}}\\n\\t\\t\\tonMouseLeave={(): void => {\\n\\t\\t\\t\\tcloseTooltip();\\n\\t\\t\\t}}\\n\\t\\t\\t{...props}\\n\\t\\t>\\n\\t\\t\\t<MessageReactionEmoji {...emojiProps} />\\n\\t\\t\\t<MessageReactionCounter counter={counter} />\\n\\t\\t</MessageReactionTemplate>\\n\\t);\\n};\\n\\nexport default Reaction;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_extends\",\"_objectWithoutProperties\",\"MessageReactionTemplate\",\"MessageReactionEmoji\",\"MessageReactionCounter\",\"useTooltipClose\",\"useTooltipOpen\",\"useTranslation\",\"React\",\"useRef\",\"useContext\",\"getEmojiClassNameAndDataTitle\",\"MessageListContext\",\"ReactionTooltip\",\"module\",\"link\",\"default\",\"v\",\"MessageReaction\",\"exportDefault\",\"_ref\",\"hasReacted\",\"counter\",\"name\",\"names\",\"messageId\",\"props\",\"_excluded\",\"t\",\"ref\",\"openTooltip\",\"closeTooltip\",\"_useContext\",\"showRealName\",\"username\",\"mine\",\"emojiProps\",\"createElement\",\"key\",\"reaction\",\"onMouseEnter\",\"e\",\"async\",\"_context\",\"prev\",\"next\",\"stopPropagation\",\"preventDefault\",\"current\",\"emojiName\",\"usernames\",\"stop\",\"Promise\",\"onMouseLeave\"],\"mappings\":\"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\"}"}