{"code":"function module(t,e,a){let n,r;function l(t){let{context:e,canvas:a,init:l,t:c}=t;return n(async(t,n)=>{var i;let u=a.current;if(!u)return;let o=null!==(i=e.current)&&void 0!==i?i:await l(u,void 0,c);await r(o,t,n)})}a.export({useUpdateChartData:()=>l}),a.link(\"@rocket.chat/fuselage-hooks\",{useEffectEvent(t){n=t}},0),a.link(\"../../../../../app/livechat/client/lib/chartHandler\",{updateChart(t){r=t}},1)}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/realTimeMonitoring/charts/useUpdateChartData.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEffectEvent } from '@rocket.chat/fuselage-hooks';\\nimport type * as chartjs from 'chart.js';\\nimport type { TFunction } from 'i18next';\\nimport { type MutableRefObject } from 'react';\\n\\nimport { updateChart } from '../../../../../app/livechat/client/lib/chartHandler';\\n\\ntype UseUpdateChartDataOptions<TChart> = {\\n\\tcontext: MutableRefObject<TChart | undefined>;\\n\\tcanvas: MutableRefObject<HTMLCanvasElement | null>;\\n\\tinit: (canvas: HTMLCanvasElement, context: TChart | undefined, t: TFunction) => Promise<TChart>;\\n\\tt: TFunction;\\n};\\n\\nexport function useUpdateChartData<TChartType extends chartjs.ChartType>({\\n\\tcontext: contextRef,\\n\\tcanvas: canvasRef,\\n\\tinit,\\n\\tt,\\n}: UseUpdateChartDataOptions<chartjs.Chart<TChartType>>) {\\n\\treturn useEffectEvent(async (label: string, data: number[]) => {\\n\\t\\tconst canvas = canvasRef.current;\\n\\n\\t\\tif (!canvas) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst context = contextRef.current ?? (await init(canvas, undefined, t));\\n\\n\\t\\tawait updateChart(context, label, data);\\n\\t});\\n}\\n\",null],\"names\":[\"useEffectEvent\",\"updateChart\",\"useUpdateChartData\",\"_ref\",\"context\",\"contextRef\",\"canvas\",\"canvasRef\",\"init\",\"t\",\"label\",\"data\",\"_contextRef$current\",\"current\",\"undefined\",\"module\",\"export\",\"link\",\"v\"],\"mappings\":\"2BAA6DA,EAAAC,EAcvD,SAAUC,EAAkBC,CAAA,EAKqB,GALkB,CACxEC,QAASC,CAAU,CACnBC,OAAQC,CAAS,CACjBC,KAAAA,CAAI,CACJC,EAAAA,CAAAA,CACsD,CAAAN,EACtD,OAAOH,EAAe,MAAOU,EAAeC,KAAkB,IAAAC,EAC7D,IAAMN,EAASC,EAAUM,OAAO,CAEhC,GAAI,CAACP,EACJ,OAGD,IAAMF,EAAO,AAAqB,OAArBQ,CAAAA,EAAGP,EAAWQ,OAAO,AAAPA,GAAOD,AAAA,KAAA,IAAAA,EAAAA,EAAK,MAAMJ,EAAKF,EAAQQ,KAAAA,EAAWL,EAErE,OAAMR,EAAYG,EAASM,EAAOC,EACnC,EACD,CA/BAI,EAAOC,MAAE,CAAA,CAAAd,mBAAsBA,IAAAA,CAAA,GAA8Ba,EAAAE,IAAA,CAAA,8BAAA,CAAAjB,eAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,CAAA,EAAA,GAAAH,EAAAE,IAAA,CAAA,sDAAA,CAAAhB,YAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,CAAA,EAAA\"}"}