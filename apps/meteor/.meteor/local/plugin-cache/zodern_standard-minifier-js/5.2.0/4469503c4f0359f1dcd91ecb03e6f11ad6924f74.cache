{"code":"function module(e,a,n){let t,l,r,i,o,s,u,c,g,d,p,h,m,f,k,L,v,S,b,x,C,T,y,N,w,E;n.link(\"@rocket.chat/fuselage-hooks\",{useLocalStorage(e){t=e}},0),n.link(\"@rocket.chat/i18n/dist/languages\",{default(e){l=e}},1),n.link(\"@rocket.chat/i18n/src/locales/en.i18n.json\",{default(e){r=e}},2),n.link(\"@rocket.chat/tools\",{normalizeLanguage(e){i=e}},3),n.link(\"@rocket.chat/ui-contexts\",{useMethod(e){o=e},useSetting(e){s=e},TranslationContext(e){u=e}},4),n.link(\"i18next-http-backend\",{default(e){c=e}},5),n.link(\"moment\",{default(e){g=e}},6),n.link(\"react\",{default(e){d=e},useEffect(e){p=e},useMemo(e){h=e}},7),n.link(\"react-i18next\",{I18nextProvider(e){m=e},initReactI18next(e){f=e},useTranslation(e){k=e}},8),n.link(\"../../app/ui-cached-collection/client\",{CachedCollectionManager(e){L=e}},9),n.link(\"../../app/utils/client\",{getURL(e){v=e}},10),n.link(\"../../app/utils/lib/i18n\",{i18n(e){S=e},addSprinfToI18n(e){b=e},extractTranslationKeys(e){x=e},applyCustomTranslations(e){C=e},availableTranslationNamespaces(e){T=e},defaultTranslationNamespace(e){y=e},extractTranslationNamespaces(e){N=e}},11),n.link(\"../apps/orchestrator\",{AppClientOrchestratorInstance(e){w=e}},12),n.link(\"../lib/utils/isRTLScriptLanguage\",{isRTLScriptLanguage(e){E=e}},13),S.use(c).use(f);let I=e=>{let a=s(\"Custom_Translations\"),n=h(()=>{if(a&&\"string\"==typeof a)try{return JSON.parse(a)}catch(e){console.error(e);return}},[a]);p(()=>{if(!n)return;C(e,n);let a=()=>{C(e,n)};return e.on(\"languageChanged\",a),()=>{e.off(\"languageChanged\",a)}},[e,n])},D=new Map,M=!1,O=e=>(M||(M=!0,S.init({lng:e,fallbackLng:\"en\",ns:T,defaultNS:y,nsSeparator:\".\",resources:{en:N(r)},partialBundledLanguages:!0,backend:{loadPath:\"i18n/{{lng}}.json\",parse:function(e,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return x(JSON.parse(e),n)},request:(e,a,n,t)=>{let l=a.split(\"/\"),r=l[l.length-1],i=D.get(r);i||(i=fetch(v(a)).then(e=>e.text()),D.set(r,i)),i.then(e=>t(null,{data:e,status:200}),()=>t(null,{data:\"\",status:500}))}},react:{useSuspense:!0,bindI18n:\"languageChanged loaded\",bindI18nStore:\"added removed\"},interpolation:{escapeValue:!1}})),p(()=>{S.changeLanguage(e)},[e]),S),R=()=>{var e,a;let n=s(\"Language\"),r=i(null!==(e=window.navigator.userLanguage)&&void 0!==e?e:window.navigator.language),o=r||n||\"en\",u=l.includes(o)?o:null!==(a=o.split(\"-\").shift())&&void 0!==a?a:\"en\",[c]=t(\"userLanguage\",u);return document.documentElement.classList[E(c)?\"add\":\"remove\"](\"rtl\"),document.documentElement.setAttribute(\"dir\",E(c)?\"rtl\":\"ltr\"),document.documentElement.lang=c,c||u},j=(e,a)=>{try{var n;let t=new Intl.DisplayNames([a],{type:\"language\"});return null!==(n=t.of(e))&&void 0!==n?n:e}catch(a){return e}},A=e=>{let{children:a,availableLanguages:n}=e,{t,i18n:l}=k(),r=h(()=>({language:l.language,languages:n,loadLanguage:async e=>{l.changeLanguage(e)},translate:Object.assign(b(t),{has:(e,a)=>e&&l.exists(e,a)})}),[n,l,t]);return d.createElement(u.Provider,{children:a,value:r})};n.exportDefault(e=>{let{children:a}=e,n=o(\"loadLocale\"),t=R(),r=O(t);I(r);let i=h(()=>[{en:\"Default\",name:r.t(\"Default\"),ogName:r.t(\"Default\"),key:\"\"},...[...new Set([...r.languages,...l])].map(e=>({en:e,name:j(e,t),ogName:j(e,e),key:e}))],[t,r]);return p(()=>{if(g.locales().includes(t.toLowerCase())){g.locale(t);return}let e=i.find(e=>e.key===t)?t:t.split(\"-\").shift();n(null!=e?e:t).then(e=>{e&&Function(e).call({moment:g}),g.locale(t)}).catch(e=>{g.locale(\"en\"),console.error(\"Error loading moment locale:\",e)})},[t,n,i]),p(()=>{let e=()=>{w.getAppClientManager().initialize(),w.load()};return L.onLogin(e),()=>L.off(\"login\",e)},[]),d.createElement(m,{i18n:r},d.createElement(A,{children:a,availableLanguages:i}))})}","map":"{\"version\":3,\"sources\":[\"client/providers/TranslationProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useLocalStorage } from '@rocket.chat/fuselage-hooks';\\nimport languages from '@rocket.chat/i18n/dist/languages';\\nimport en from '@rocket.chat/i18n/src/locales/en.i18n.json';\\nimport { normalizeLanguage } from '@rocket.chat/tools';\\nimport type { TranslationContextValue } from '@rocket.chat/ui-contexts';\\nimport { useMethod, useSetting, TranslationContext } from '@rocket.chat/ui-contexts';\\nimport type i18next from 'i18next';\\nimport I18NextHttpBackend from 'i18next-http-backend';\\nimport moment from 'moment';\\nimport type { ReactElement, ReactNode } from 'react';\\nimport React, { useEffect, useMemo } from 'react';\\nimport { I18nextProvider, initReactI18next, useTranslation } from 'react-i18next';\\n\\nimport { CachedCollectionManager } from '../../app/ui-cached-collection/client';\\nimport { getURL } from '../../app/utils/client';\\nimport {\\n\\ti18n,\\n\\taddSprinfToI18n,\\n\\textractTranslationKeys,\\n\\tapplyCustomTranslations,\\n\\tavailableTranslationNamespaces,\\n\\tdefaultTranslationNamespace,\\n\\textractTranslationNamespaces,\\n} from '../../app/utils/lib/i18n';\\nimport { AppClientOrchestratorInstance } from '../apps/orchestrator';\\nimport { isRTLScriptLanguage } from '../lib/utils/isRTLScriptLanguage';\\n\\ni18n.use(I18NextHttpBackend).use(initReactI18next);\\n\\nconst useCustomTranslations = (i18n: typeof i18next) => {\\n\\tconst customTranslations = useSetting('Custom_Translations');\\n\\n\\tconst parsedCustomTranslations = useMemo((): Record<string, Record<string, string>> | undefined => {\\n\\t\\tif (!customTranslations || typeof customTranslations !== 'string') {\\n\\t\\t\\treturn undefined;\\n\\t\\t}\\n\\n\\t\\ttry {\\n\\t\\t\\treturn JSON.parse(customTranslations);\\n\\t\\t} catch (e) {\\n\\t\\t\\tconsole.error(e);\\n\\t\\t\\treturn undefined;\\n\\t\\t}\\n\\t}, [customTranslations]);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!parsedCustomTranslations) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tapplyCustomTranslations(i18n, parsedCustomTranslations);\\n\\n\\t\\tconst handleLanguageChanged = (): void => {\\n\\t\\t\\tapplyCustomTranslations(i18n, parsedCustomTranslations);\\n\\t\\t};\\n\\n\\t\\ti18n.on('languageChanged', handleLanguageChanged);\\n\\n\\t\\treturn () => {\\n\\t\\t\\ti18n.off('languageChanged', handleLanguageChanged);\\n\\t\\t};\\n\\t}, [i18n, parsedCustomTranslations]);\\n};\\n\\nconst localeCache = new Map<string, Promise<string>>();\\nlet isI18nInitialized = false;\\n\\nconst useI18next = (lng: string): typeof i18next => {\\n\\t// i18n.init is async, so there's a chance a race condition happens and it is initialized twice\\n\\t// This breaks translations because it loads `lng` in the first init but not the second.\\n\\tif (!isI18nInitialized) {\\n\\t\\tisI18nInitialized = true;\\n\\t\\ti18n.init({\\n\\t\\t\\tlng,\\n\\t\\t\\tfallbackLng: 'en',\\n\\t\\t\\tns: availableTranslationNamespaces,\\n\\t\\t\\tdefaultNS: defaultTranslationNamespace,\\n\\t\\t\\tnsSeparator: '.',\\n\\t\\t\\tresources: {\\n\\t\\t\\t\\ten: extractTranslationNamespaces(en),\\n\\t\\t\\t},\\n\\t\\t\\tpartialBundledLanguages: true,\\n\\t\\t\\tbackend: {\\n\\t\\t\\t\\tloadPath: 'i18n/{{lng}}.json',\\n\\t\\t\\t\\tparse: (data: string, _lngs?: string | string[], namespaces: string | string[] = []) =>\\n\\t\\t\\t\\t\\textractTranslationKeys(JSON.parse(data), namespaces),\\n\\t\\t\\t\\trequest: (_options: unknown, url: string, _payload: unknown, callback: (error: unknown, data: unknown) => void) => {\\n\\t\\t\\t\\t\\tconst params = url.split('/');\\n\\n\\t\\t\\t\\t\\tconst lng = params[params.length - 1];\\n\\n\\t\\t\\t\\t\\tlet promise = localeCache.get(lng);\\n\\n\\t\\t\\t\\t\\tif (!promise) {\\n\\t\\t\\t\\t\\t\\tpromise = fetch(getURL(url)).then((res) => res.text());\\n\\t\\t\\t\\t\\t\\tlocaleCache.set(lng, promise);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tpromise.then(\\n\\t\\t\\t\\t\\t\\t(res) => callback(null, { data: res, status: 200 }),\\n\\t\\t\\t\\t\\t\\t() => callback(null, { data: '', status: 500 }),\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t\\treact: {\\n\\t\\t\\t\\tuseSuspense: true,\\n\\t\\t\\t\\tbindI18n: 'languageChanged loaded',\\n\\t\\t\\t\\tbindI18nStore: 'added removed',\\n\\t\\t\\t},\\n\\t\\t\\tinterpolation: {\\n\\t\\t\\t\\tescapeValue: false,\\n\\t\\t\\t},\\n\\t\\t});\\n\\t}\\n\\n\\tuseEffect(() => {\\n\\t\\ti18n.changeLanguage(lng);\\n\\t}, [lng]);\\n\\n\\treturn i18n;\\n};\\n\\nconst useAutoLanguage = () => {\\n\\tconst serverLanguage = useSetting<string>('Language');\\n\\tconst browserLanguage = normalizeLanguage(window.navigator.userLanguage ?? window.navigator.language);\\n\\tconst defaultUserLanguage = browserLanguage || serverLanguage || 'en';\\n\\n\\t// if the language is supported, if not remove the region\\n\\tconst suggestedLanguage = languages.includes(defaultUserLanguage) ? defaultUserLanguage : defaultUserLanguage.split('-').shift() ?? 'en';\\n\\n\\t// usually that value is set based on the user's config language\\n\\tconst [language] = useLocalStorage('userLanguage', suggestedLanguage);\\n\\n\\tdocument.documentElement.classList[isRTLScriptLanguage(language) ? 'add' : 'remove']('rtl');\\n\\tdocument.documentElement.setAttribute('dir', isRTLScriptLanguage(language) ? 'rtl' : 'ltr');\\n\\tdocument.documentElement.lang = language;\\n\\n\\t// if user has no language set, we should set it to the default language\\n\\treturn language || suggestedLanguage;\\n};\\n\\nconst getLanguageName = (code: string, lng: string): string => {\\n\\ttry {\\n\\t\\tconst lang = new Intl.DisplayNames([lng], { type: 'language' });\\n\\t\\treturn lang.of(code) ?? code;\\n\\t} catch (e) {\\n\\t\\treturn code;\\n\\t}\\n};\\n\\ntype TranslationProviderProps = {\\n\\tchildren: ReactNode;\\n};\\n\\nconst TranslationProvider = ({ children }: TranslationProviderProps): ReactElement => {\\n\\tconst loadLocale = useMethod('loadLocale');\\n\\n\\tconst language = useAutoLanguage();\\n\\tconst i18nextInstance = useI18next(language);\\n\\tuseCustomTranslations(i18nextInstance);\\n\\n\\tconst availableLanguages = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t{\\n\\t\\t\\t\\ten: 'Default',\\n\\t\\t\\t\\tname: i18nextInstance.t('Default'),\\n\\t\\t\\t\\togName: i18nextInstance.t('Default'),\\n\\t\\t\\t\\tkey: '',\\n\\t\\t\\t},\\n\\t\\t\\t...[...new Set([...i18nextInstance.languages, ...languages])].map((key) => ({\\n\\t\\t\\t\\ten: key,\\n\\t\\t\\t\\tname: getLanguageName(key, language),\\n\\t\\t\\t\\togName: getLanguageName(key, key),\\n\\t\\t\\t\\tkey,\\n\\t\\t\\t})),\\n\\t\\t],\\n\\t\\t[language, i18nextInstance],\\n\\t);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (moment.locales().includes(language.toLowerCase())) {\\n\\t\\t\\tmoment.locale(language);\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst locale = !availableLanguages.find((lng) => lng.key === language) ? language.split('-').shift() : language;\\n\\n\\t\\tloadLocale(locale ?? language)\\n\\t\\t\\t.then((localeSrc) => {\\n\\t\\t\\t\\tlocaleSrc && Function(localeSrc).call({ moment });\\n\\t\\t\\t\\tmoment.locale(language);\\n\\t\\t\\t})\\n\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\tmoment.locale('en');\\n\\t\\t\\t\\tconsole.error('Error loading moment locale:', error);\\n\\t\\t\\t});\\n\\t}, [language, loadLocale, availableLanguages]);\\n\\n\\tuseEffect(() => {\\n\\t\\tconst cb = () => {\\n\\t\\t\\tAppClientOrchestratorInstance.getAppClientManager().initialize();\\n\\t\\t\\tAppClientOrchestratorInstance.load();\\n\\t\\t};\\n\\t\\tCachedCollectionManager.onLogin(cb);\\n\\t\\treturn () => CachedCollectionManager.off('login', cb);\\n\\t}, []);\\n\\n\\treturn (\\n\\t\\t<I18nextProvider i18n={i18nextInstance}>\\n\\t\\t\\t<TranslationProviderInner children={children} availableLanguages={availableLanguages} />\\n\\t\\t</I18nextProvider>\\n\\t);\\n};\\n\\n/**\\n * I was forced to create this component to keep the api useTranslation from rocketchat\\n * rocketchat useTranslation invalidates the provider content, triggering all the places that use it\\n * i18next triggers a re-render inside useTranslation, since now we are using 100% of the i18next\\n * the only way to invalidate after changing the language in a safe way is using the useTranslation from i8next\\n * and invalidating the provider content\\n */\\n// eslint-disable-next-line react/no-multi-comp\\nconst TranslationProviderInner = ({\\n\\tchildren,\\n\\tavailableLanguages,\\n}: {\\n\\tchildren: ReactNode;\\n\\tavailableLanguages: {\\n\\t\\ten: string;\\n\\t\\tname: string;\\n\\t\\togName: string;\\n\\t\\tkey: string;\\n\\t}[];\\n}): ReactElement => {\\n\\tconst { t, i18n } = useTranslation();\\n\\n\\tconst value: TranslationContextValue = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\tlanguage: i18n.language,\\n\\t\\t\\tlanguages: availableLanguages,\\n\\t\\t\\tloadLanguage: async (language: string) => {\\n\\t\\t\\t\\ti18n.changeLanguage(language);\\n\\t\\t\\t},\\n\\t\\t\\ttranslate: Object.assign(addSprinfToI18n(t), {\\n\\t\\t\\t\\thas: ((key, options) => key && i18n.exists(key, options)) as TranslationContextValue['translate']['has'],\\n\\t\\t\\t}),\\n\\t\\t}),\\n\\t\\t[availableLanguages, i18n, t],\\n\\t);\\n\\n\\treturn <TranslationContext.Provider children={children} value={value} />;\\n};\\n\\nexport default TranslationProvider;\\n\",null],\"names\":[\"useLocalStorage\",\"languages\",\"en\",\"normalizeLanguage\",\"useMethod\",\"useSetting\",\"TranslationContext\",\"I18NextHttpBackend\",\"moment\",\"React\",\"useEffect\",\"useMemo\",\"I18nextProvider\",\"initReactI18next\",\"useTranslation\",\"CachedCollectionManager\",\"getURL\",\"i18n\",\"addSprinfToI18n\",\"extractTranslationKeys\",\"applyCustomTranslations\",\"availableTranslationNamespaces\",\"defaultTranslationNamespace\",\"extractTranslationNamespaces\",\"AppClientOrchestratorInstance\",\"isRTLScriptLanguage\",\"module\",\"link\",\"v\",\"default\",\"use\",\"useCustomTranslations\",\"customTranslations\",\"parsedCustomTranslations\",\"JSON\",\"parse\",\"e\",\"console\",\"error\",\"handleLanguageChanged\",\"on\",\"off\",\"localeCache\",\"Map\",\"isI18nInitialized\",\"useI18next\",\"lng\",\"init\",\"fallbackLng\",\"ns\",\"defaultNS\",\"nsSeparator\",\"resources\",\"partialBundledLanguages\",\"backend\",\"loadPath\",\"data\",\"_lngs\",\"namespaces\",\"arguments\",\"length\",\"undefined\",\"request\",\"_options\",\"url\",\"_payload\",\"callback\",\"params\",\"split\",\"promise\",\"get\",\"fetch\",\"then\",\"res\",\"text\",\"set\",\"status\",\"react\",\"useSuspense\",\"bindI18n\",\"bindI18nStore\",\"interpolation\",\"escapeValue\",\"changeLanguage\",\"useAutoLanguage\",\"_window$navigator$use\",\"_defaultUserLanguage$\",\"serverLanguage\",\"browserLanguage\",\"window\",\"navigator\",\"userLanguage\",\"language\",\"defaultUserLanguage\",\"suggestedLanguage\",\"includes\",\"shift\",\"document\",\"documentElement\",\"classList\",\"setAttribute\",\"lang\",\"getLanguageName\",\"code\",\"_lang$of\",\"Intl\",\"DisplayNames\",\"type\",\"of\",\"TranslationProviderInner\",\"_ref2\",\"children\",\"availableLanguages\",\"t\",\"value\",\"loadLanguage\",\"translate\",\"Object\",\"assign\",\"has\",\"key\",\"options\",\"exists\",\"createElement\",\"Provider\",\"exportDefault\",\"_ref\",\"loadLocale\",\"i18nextInstance\",\"name\",\"ogName\",\"Set\",\"map\",\"locales\",\"toLowerCase\",\"locale\",\"find\",\"localeSrc\",\"Function\",\"call\",\"catch\",\"cb\",\"getAppClientManager\",\"initialize\",\"load\",\"onLogin\"],\"mappings\":\"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\"}"}