{"code":"function module(e,n,t){let a,l,o;t.export({useOmnichannelContactLabel:()=>u}),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){a=e}},0),t.link(\"@tanstack/react-query\",{useQuery(e){l=e}},1),t.link(\"../../../../lib/voip/parseOutboundPhoneNumber\",{parseOutboundPhoneNumber(e){o=e}},2);let u=e=>{let n=a(\"GET\",\"/v1/omnichannel/contact.search\"),t=o(e.callerId),{data:u}=l([\"getContactsByPhone\",t],async()=>n({phone:t}).then(e=>{let{contact:n}=e;return n}),{enabled:!!t});return(null==u?void 0:u.name)||e.callerName||t}}","map":"{\"version\":3,\"sources\":[\"client/sidebar/footer/voip/hooks/useOmnichannelContactLabel.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { ICallerInfo } from '@rocket.chat/core-typings';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\n\\nimport { parseOutboundPhoneNumber } from '../../../../lib/voip/parseOutboundPhoneNumber';\\n\\nexport const useOmnichannelContactLabel = (caller: ICallerInfo): string => {\\n\\tconst getContactBy = useEndpoint('GET', '/v1/omnichannel/contact.search');\\n\\tconst phone = parseOutboundPhoneNumber(caller.callerId);\\n\\n\\tconst { data } = useQuery(['getContactsByPhone', phone], async () => getContactBy({ phone }).then(({ contact }) => contact), {\\n\\t\\tenabled: !!phone,\\n\\t});\\n\\n\\treturn data?.name || caller.callerName || phone;\\n};\\n\",null],\"names\":[\"useEndpoint\",\"useQuery\",\"parseOutboundPhoneNumber\",\"module\",\"export\",\"useOmnichannelContactLabel\",\"link\",\"v\",\"caller\",\"getContactBy\",\"phone\",\"callerId\",\"data\",\"then\",\"_ref\",\"contact\",\"enabled\",\"name\",\"callerName\"],\"mappings\":\"2BACuDA,EAAAC,EAAAC,EAAvDC,EAAOC,MAAE,CAAA,CAAAC,2BAAmBA,IAAAA,CAA2B,GAAAF,EAAAG,IAAA,CAAA,2BAAA,CAAAN,YAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,wBAAA,CAAAL,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,gDAAA,CAAAJ,yBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAKhD,IAAMF,EAA8BG,IAC1C,IAAMC,EAAeT,EAAY,MAAO,kCAClCU,EAAQR,EAAyBM,EAAOG,QAAQ,EAEhD,CAAEC,KAAAA,CAAAA,CAAM,CAAGX,EAAS,CAAC,qBAAsBS,EAAM,CAAE,SAAYD,EAAa,CAAEC,MAAAA,CAAK,GAAIG,IAAI,CAACC,IAAA,GAAC,CAAEC,QAAAA,CAAAA,CAAS,CAAAD,EAAA,OAAKC,CAAO,GAAG,CAC5HC,QAAS,CAAC,CAACN,IAGZ,MAAO,AAAAE,CAAAA,MAAAA,EAAI,KAAA,EAAJA,EAAMK,IAAI,AAAJA,GAAQT,EAAOU,UAAU,EAAIR,CAC3C\"}"}