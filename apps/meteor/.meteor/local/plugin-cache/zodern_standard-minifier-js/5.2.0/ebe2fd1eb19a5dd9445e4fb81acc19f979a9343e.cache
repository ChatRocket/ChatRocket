{"code":"function module(e,t,o){let l;o.link(\"meteor/oauth\",{OAuth(e){l=e}},0);let{_redirectUri:c}=l;l._redirectUri=(e,t,o,l)=>{let i=c(e,t,o,l);return null!=t&&t.loginStyle||i.includes(\"close\")?i:(console.warn(\"Automatically added ?close to 'redirect_uri' for \".concat(e,\", this behavior will be removed in v5.0.0.\\n\")+\"Please update your OAuth config to accept both with and without ?close as the 'redirect_uri'.\"),\"\".concat(i+(i.includes(\"?\")?\"&\":\"?\"),\"close\"))}}","map":"{\"version\":3,\"sources\":[\"client/meteorOverrides/oauthRedirectUri.ts\",\"<anon>\"],\"sourcesContent\":[\"import { OAuth } from 'meteor/oauth';\\n\\ndeclare module 'meteor/oauth' {\\n\\t// eslint-disable-next-line @typescript-eslint/no-namespace\\n\\tnamespace OAuth {\\n\\t\\tfunction _redirectUri(serviceName: string, config: any, params: any, absoluteUrlOptions: any): string;\\n\\t}\\n}\\n\\nconst { _redirectUri } = OAuth;\\n\\nOAuth._redirectUri = (serviceName: string, config: any, params: unknown, absoluteUrlOptions: unknown): string => {\\n\\tconst ret = _redirectUri(serviceName, config, params, absoluteUrlOptions);\\n\\n\\t// DEPRECATED: Remove in v5.0.0\\n\\t// Meteor 2.3 removed ?close from redirect uri so we need to add it back to not break old oauth clients\\n\\t// https://github.com/meteor/meteor/commit/b5b7306bedc3e8eb241e64efb1e281925aa75dd3#diff-59244f4e0176cb1beed2e287924e97dc7ae2c0cc51494ce121a85d8937d116a5L11\\n\\tif (!config?.loginStyle && !ret.includes('close')) {\\n\\t\\tconsole.warn(\\n\\t\\t\\t`Automatically added ?close to 'redirect_uri' for ${serviceName}, this behavior will be removed in v5.0.0.\\\\n` +\\n\\t\\t\\t\\t\\\"Please update your OAuth config to accept both with and without ?close as the 'redirect_uri'.\\\",\\n\\t\\t);\\n\\t\\treturn `${ret + (ret.includes('?') ? '&' : '?')}close`;\\n\\t}\\n\\n\\treturn ret;\\n};\\n\",null],\"names\":[\"OAuth\",\"module\",\"link\",\"v\",\"_redirectUri\",\"serviceName\",\"config\",\"params\",\"absoluteUrlOptions\",\"ret\",\"loginStyle\",\"includes\",\"console\",\"warn\",\"concat\"],\"mappings\":\"2BAAAA,EAASC,EAAOC,IAAA,CAAM,eAAe,CAAAF,MAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GASrC,GAAM,CAAEC,aAAAA,CAAAA,CAAc,CAAGJ,CAEzBA,CAAAA,EAAMI,YAAY,CAAG,CAACC,EAAqBC,EAAaC,EAAiBC,KACxE,IAAMC,EAAML,EAAaC,EAAaC,EAAQC,EAAQC,UAKtD,AAAI,MAACF,GAAAA,EAAQI,UAAU,EAAKD,EAAIE,QAAQ,CAAC,SAQlCF,GAPNG,QAAQC,IAAI,CACX,oDAAAC,MAAA,CAAoDT,EAAW,gDAC9D,iGAEF,GAAAS,MAAA,CAAUL,EAAOA,CAAAA,EAAIE,QAAQ,CAAC,KAAO,IAAM,GAAA,EAAI,SAIjD\"}"}