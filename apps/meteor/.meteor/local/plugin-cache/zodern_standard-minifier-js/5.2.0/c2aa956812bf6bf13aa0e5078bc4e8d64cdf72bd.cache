{"code":"function module(e,n,t){t.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){i=e}},1),t.export({useCategories:function(){return d}}),t.link(\"react\",{useCallback:function(e){a=e},useEffect:function(e){u=e},useMemo:function(e){l=e},useState:function(e){c=e}},0),t.link(\"react-i18next\",{useTranslation:function(e){o=e}},1),t.link(\"../../../apps/orchestrator\",{AppClientOrchestratorInstance:function(e){s=e}},2),t.link(\"../helpers/handleAPIError\",{handleAPIError:function(e){f=e}},3),t.link(\"./useCategoryFlatList\",{useCategoryFlatList:function(e){g=e}},4),t.link(\"./useCategoryToggle\",{useCategoryToggle:function(e){p=e}},5);var r,i,a,u,l,c,o,s,f,g,p,d=function(){var e=o().t,n=c([]),t=i(n,2),d=t[0],h=t[1],k=a(function(){var n;return r.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.awrap(s.getCategories());case 3:n=t.sent.filter(function(e){return!e.hidden}).map(function(e){return{id:e.id,label:e.title,checked:!1}}),h([{items:[{id:\"all\",label:e(\"All_categories\")}]},{label:e(\"Filter_by_category\"),items:n}]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),f(t.t0);case 11:case\"end\":return t.stop()}},null,null,[[0,8]],Promise)},[e]);u(function(){r.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.awrap(k());case 2:case\"end\":return e.stop()}},null,null,null,Promise)},[k]);var b=p(h),m=g(d),y=g(d).length,v=l(function(){return m.filter(function(e){return!!e.checked})},[m]);return[d,v,y===v.length?[]:v,b]}}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/hooks/useCategories.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useCallback, useEffect, useMemo, useState } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { AppClientOrchestratorInstance } from '../../../apps/orchestrator';\\nimport type {\\n\\tCategoryDropDownGroups,\\n\\tCategoryDropdownItem,\\n\\tCategoryDropDownListProps,\\n\\tCategoryOnSelected,\\n\\tselectedCategoriesList,\\n} from '../definitions/CategoryDropdownDefinitions';\\nimport { handleAPIError } from '../helpers/handleAPIError';\\nimport { useCategoryFlatList } from './useCategoryFlatList';\\nimport { useCategoryToggle } from './useCategoryToggle';\\n\\nexport const useCategories = (): [CategoryDropDownGroups, selectedCategoriesList, selectedCategoriesList, CategoryOnSelected] => {\\n\\tconst { t } = useTranslation();\\n\\tconst [categories, setCategories] = useState<CategoryDropDownListProps['categories']>([]);\\n\\n\\tconst fetchCategories = useCallback(async (): Promise<void> => {\\n\\t\\ttry {\\n\\t\\t\\tconst fetchedCategories = await AppClientOrchestratorInstance.getCategories();\\n\\n\\t\\t\\tconst mappedCategories = fetchedCategories\\n\\t\\t\\t\\t.filter((currentCategory) => !currentCategory.hidden)\\n\\t\\t\\t\\t.map((currentCategory) => ({\\n\\t\\t\\t\\t\\tid: currentCategory.id,\\n\\t\\t\\t\\t\\tlabel: currentCategory.title,\\n\\t\\t\\t\\t\\tchecked: false,\\n\\t\\t\\t\\t}));\\n\\n\\t\\t\\tsetCategories([\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\titems: [\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tid: 'all',\\n\\t\\t\\t\\t\\t\\t\\tlabel: t('All_categories'),\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t],\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tlabel: t('Filter_by_category'),\\n\\t\\t\\t\\t\\titems: mappedCategories,\\n\\t\\t\\t\\t},\\n\\t\\t\\t]);\\n\\t\\t} catch (e: any) {\\n\\t\\t\\thandleAPIError(e);\\n\\t\\t}\\n\\t}, [t]);\\n\\n\\tuseEffect(() => {\\n\\t\\tconst fetchCategoriesWrapper = async (): Promise<void> => {\\n\\t\\t\\tawait fetchCategories();\\n\\t\\t};\\n\\n\\t\\tfetchCategoriesWrapper();\\n\\t}, [fetchCategories]);\\n\\n\\tconst onSelected = useCategoryToggle(setCategories);\\n\\tconst flatCategories = useCategoryFlatList(categories);\\n\\tconst originalSize = useCategoryFlatList(categories).length;\\n\\n\\tconst selectedCategories = useMemo(\\n\\t\\t() => flatCategories.filter((category) => Boolean(category.checked)),\\n\\t\\t[flatCategories],\\n\\t) as (CategoryDropdownItem & { checked: true })[];\\n\\treturn [categories, selectedCategories, originalSize === selectedCategories.length ? [] : selectedCategories, onSelected];\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_slicedToArray\",\"export\",\"useCategories\",\"useCallback\",\"useEffect\",\"useMemo\",\"useState\",\"useTranslation\",\"AppClientOrchestratorInstance\",\"handleAPIError\",\"useCategoryFlatList\",\"useCategoryToggle\",\"t\",\"_useTranslation\",\"_useState\",\"_useState2\",\"categories\",\"setCategories\",\"fetchCategories\",\"mappedCategories\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"getCategories\",\"fetchedCategories\",\"sent\",\"filter\",\"currentCategory\",\"hidden\",\"map\",\"id\",\"label\",\"title\",\"checked\",\"items\",\"t0\",\"stop\",\"Promise\",\"_context2\",\"onSelected\",\"flatCategories\",\"originalSize\",\"length\",\"selectedCategories\",\"category\",\"Boolean\"],\"mappings\":\"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\"}"}