{"code":"function module(e,t,i){let l,n,s,c;let o=[\"_id\"];i.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){l=e}},0),i.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){n=e}},1),i.export({PrivateSettingsCachedCollection:()=>a}),i.link(\"../../../app/ui-cached-collection/client\",{CachedCollection(e){s=e}},0),i.link(\"../../../app/utils/client/lib/SDKClient\",{sdk(e){c=e}},1);let a=new class e extends s{constructor(){super({name:\"private-settings\",eventType:\"notify-logged\"})}async setupListener(){c.stream(\"notify-logged\",[this.eventName],async(e,t)=>{let{_id:i}=t,s=n(t,o);this.log(\"record received\",e,l({_id:i},s)),this.collection.update({_id:i},{$set:s},{upsert:!0}),this.sync()})}}}","map":"{\"version\":3,\"sources\":[\"client/lib/settings/PrivateSettingsCachedCollection.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { ISetting } from '@rocket.chat/core-typings';\\n\\nimport { CachedCollection } from '../../../app/ui-cached-collection/client';\\nimport { sdk } from '../../../app/utils/client/lib/SDKClient';\\n\\nclass PrivateSettingsCachedCollection extends CachedCollection<ISetting> {\\n\\tconstructor() {\\n\\t\\tsuper({\\n\\t\\t\\tname: 'private-settings',\\n\\t\\t\\teventType: 'notify-logged',\\n\\t\\t});\\n\\t}\\n\\n\\tasync setupListener(): Promise<void> {\\n\\t\\tsdk.stream('notify-logged', [this.eventName as 'private-settings-changed'], async (t: string, { _id, ...record }: { _id: string }) => {\\n\\t\\t\\tthis.log('record received', t, { _id, ...record });\\n\\t\\t\\tthis.collection.update({ _id }, { $set: record }, { upsert: true });\\n\\t\\t\\tthis.sync();\\n\\t\\t});\\n\\t}\\n}\\n\\nconst instance = new PrivateSettingsCachedCollection();\\n\\nexport {\\n\\t/** @deprecated */\\n\\tinstance as PrivateSettingsCachedCollection,\\n};\\n\",null],\"names\":[\"_objectSpread\",\"_objectWithoutProperties\",\"CachedCollection\",\"sdk\",\"module\",\"link\",\"default\",\"v\",\"export\",\"PrivateSettingsCachedCollection\",\"instance\",\"constructor\",\"name\",\"eventType\",\"setupListener\",\"stream\",\"eventName\",\"t\",\"_ref\",\"_id\",\"record\",\"_excluded\",\"log\",\"collection\",\"update\",\"$set\",\"upsert\",\"sync\"],\"mappings\":\"2BAEAA,EAA4EC,EAA3CC,EAA2CC,gBAAnEC,EAAgBC,IAAE,CAAA,uCAAM,CAAAC,QAA2CC,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iDAAA,CAAAC,QAAAC,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAA5EH,EAAOI,MAAE,CAAA,CAAAC,gCAAwBA,IAAAC,CAAA,GAA2CN,EAAAC,IAAA,CAAA,2CAAA,CAAAH,iBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0CAAA,CAAAF,IAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAoB5E,IAAMG,EAAW,IAjBjB,MAAMD,UAAwCP,EAC7CS,aAAA,CACC,KAAK,CAAC,CACLC,KAAM,mBACNC,UAAW,iBAEb,CAEA,MAAMC,eAAa,CAClBX,EAAIY,MAAM,CAAC,gBAAiB,CAAC,IAAI,CAACC,SAAuC,CAAC,CAAE,MAAOC,EAASC,KAAyC,GAAvC,CAAEC,IAAAA,CAAAA,CAAiC,CAAAD,EAAzBE,EAAMnB,EAAAiB,EAAAG,GAC7G,IAAI,CAACC,GAAG,CAAC,kBAAmBL,EAACjB,EAAA,CAAImB,IAAAA,CAAG,EAAKC,IACzC,IAAI,CAACG,UAAU,CAACC,MAAM,CAAC,CAAEL,IAAAA,CAAG,EAAI,CAAEM,KAAML,CAAM,EAAI,CAAEM,OAAQ,CAAA,CAAI,GAChE,IAAI,CAACC,IAAI,EACV,EACD\"}"}