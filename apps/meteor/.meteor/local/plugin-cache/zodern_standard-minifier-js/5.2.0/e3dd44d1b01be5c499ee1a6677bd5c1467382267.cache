{"code":"function module(e,t,l){let n,a,o,r,i,u,m,c,s,d,E,f,k,p,v,h,g,T,b,F,C,x,_,y,D,I,M,A,P,S,w,B,O,Q,R,N;l.link(\"@rocket.chat/fuselage\",{Box(e){n=e},Margins(e){a=e},Tag(e){o=e},Button(e){r=e},ButtonGroup(e){i=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){u=e}},1),l.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){m=e},useRoute(e){c=e},useUserSubscription(e){s=e},useTranslation(e){d=e},usePermission(e){E=e}},2),l.link(\"meteor/meteor\",{Meteor(e){f=e}},3),l.link(\"moment\",{default(e){k=e}},4),l.link(\"react\",{default(e){p=e},useEffect(e){v=e},useMemo(e){h=e},useState(e){g=e}},5),l.link(\"../../../../../components/Contextualbar\",{ContextualbarScrollableContent(e){T=e},ContextualbarFooter(e){b=e}},6),l.link(\"../../../../../components/InfoPanel\",{InfoPanelField(e){F=e},InfoPanelLabel(e){C=e},InfoPanelText(e){x=e}},7),l.link(\"../../../../../components/MarkdownText\",{default(e){_=e}},8),l.link(\"../../../../../hooks/useEndpointData\",{useEndpointData(e){y=e}},9),l.link(\"../../../../../hooks/useFormatDateAndTime\",{useFormatDateAndTime(e){D=e}},10),l.link(\"../../../../../hooks/useFormatDuration\",{useFormatDuration(e){I=e}},11),l.link(\"../../../components/CustomField\",{default(e){M=e}},12),l.link(\"../../components\",{AgentField(e){A=e},SlaField(e){P=e},ContactField(e){S=e},SourceField(e){w=e}},13),l.link(\"../../components/PriorityField\",{default(e){B=e}},14),l.link(\"../../hooks/useOmnichannelRoomInfo\",{useOmnichannelRoomInfo(e){O=e}},15),l.link(\"../../utils/formatQueuedAt\",{formatQueuedAt(e){Q=e}},16),l.link(\"./DepartmentField\",{default(e){R=e}},17),l.link(\"./VisitorClientInfo\",{default(e){N=e}},18),l.exportDefault(function(e){var t;let{id:l,route:j}=e,q=d(),z=m(),G=D(),{value:L,phase:U}=y(\"/v1/livechat/custom-fields\"),[V,H]=g([]),J=I(),{data:K}=O(l),{ts:W,tags:X,closedAt:Y,departmentId:Z,v:$,servedBy:ee,metrics:et,topic:el,waitingResponse:en,responseBy:ea,slaId:eo,priorityId:er,livechatData:ei,source:eu,queuedAt:em}=K||{v:{}},ec=c(j||\"omnichannel-directory\"),es=E(\"view-livechat-room-customfields\"),ed=s(l),eE=E(\"save-others-livechat-room-info\"),ef=(null==ee?void 0:ee._id)===f.userId(),ek=null==$?void 0:$._id,ep=em||W,ev=h(()=>Q(K),[K]);v(()=>{if(L){let{customFields:e}=L;H(e)}},[L,U]);let eh=e=>{let t=V.find(t=>{let{_id:l}=t;return l===e});return(null==t?void 0:t.visibility)===\"visible\"&&(null==t?void 0:t.scope)===\"room\"},eg=u(()=>{if(!(ed||ef||eE))return z({type:\"error\",message:q(\"Not_authorized\")});ec.push(j?{tab:\"room-info\",context:\"edit\",id:l}:{page:\"chats\",id:l,bar:\"edit\"})}),eT=Object.entries(ei||{}).filter(e=>{let[t]=e;return eh(t)&&ei[t]});return p.createElement(p.Fragment,null,p.createElement(T,{p:24},p.createElement(a,{block:\"x4\"},eu&&p.createElement(w,{room:K}),K&&$&&p.createElement(S,{contact:$,room:K}),ek&&p.createElement(N,{uid:ek}),ee&&p.createElement(A,{agent:ee}),Z&&p.createElement(R,{departmentId:Z}),X&&X.length>0&&p.createElement(F,null,p.createElement(C,null,q(\"Tags\")),p.createElement(x,null,X.map(e=>p.createElement(n,{key:e,mie:4,display:\"inline\"},p.createElement(o,{style:{display:\"inline\"},disabled:!0},e))))),el&&p.createElement(F,null,p.createElement(C,null,q(\"Topic\")),p.createElement(x,{withTruncatedText:!1},p.createElement(_,{variant:\"inline\",content:el}))),ep&&p.createElement(F,null,p.createElement(C,null,q(\"Queue_Time\")),p.createElement(x,null,ev)),Y&&p.createElement(F,null,p.createElement(C,null,q(\"Chat_Duration\")),p.createElement(x,null,k(Y).from(k(W),!0))),W&&p.createElement(F,null,p.createElement(C,null,q(\"Created_at\")),p.createElement(x,null,G(W))),Y&&p.createElement(F,null,p.createElement(C,null,q(\"Closed_At\")),p.createElement(x,null,G(Y))),(null==ee?void 0:ee.ts)&&p.createElement(F,null,p.createElement(C,null,q(\"Taken_at\")),p.createElement(x,null,G(ee.ts))),(null==et?void 0:null===(t=et.response)||void 0===t?void 0:t.avg)&&J(et.response.avg)&&p.createElement(F,null,p.createElement(C,null,q(\"Avg_response_time\")),p.createElement(x,null,J(et.response.avg))),!en&&(null==ea?void 0:ea.lastMessageTs)&&p.createElement(F,null,p.createElement(C,null,q(\"Inactivity_Time\")),p.createElement(x,null,k(ea.lastMessageTs).fromNow(!0))),es&&eT.map(e=>{let[t,l]=e;return p.createElement(M,{key:t,id:t,value:l})}),eo&&p.createElement(P,{id:eo}),er&&p.createElement(B,{id:er}))),p.createElement(b,null,p.createElement(i,{stretch:!0},p.createElement(r,{icon:\"pencil\",onClick:eg,\"data-qa-id\":\"room-info-edit\"},q(\"Edit\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/chats/contextualBar/ChatInfo.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatCustomField, IOmnichannelRoom, IVisitor, Serialized } from '@rocket.chat/core-typings';\\nimport { Box, Margins, Tag, Button, ButtonGroup } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { IRouterPaths } from '@rocket.chat/ui-contexts';\\nimport { useToastMessageDispatch, useRoute, useUserSubscription, useTranslation, usePermission } from '@rocket.chat/ui-contexts';\\nimport { Meteor } from 'meteor/meteor';\\nimport moment from 'moment';\\nimport React, { useEffect, useMemo, useState } from 'react';\\n\\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../../../components/Contextualbar';\\nimport { InfoPanelField, InfoPanelLabel, InfoPanelText } from '../../../../../components/InfoPanel';\\nimport MarkdownText from '../../../../../components/MarkdownText';\\nimport { useEndpointData } from '../../../../../hooks/useEndpointData';\\nimport { useFormatDateAndTime } from '../../../../../hooks/useFormatDateAndTime';\\nimport { useFormatDuration } from '../../../../../hooks/useFormatDuration';\\nimport CustomField from '../../../components/CustomField';\\nimport { AgentField, SlaField, ContactField, SourceField } from '../../components';\\nimport PriorityField from '../../components/PriorityField';\\nimport { useOmnichannelRoomInfo } from '../../hooks/useOmnichannelRoomInfo';\\nimport { formatQueuedAt } from '../../utils/formatQueuedAt';\\nimport DepartmentField from './DepartmentField';\\nimport VisitorClientInfo from './VisitorClientInfo';\\n\\ntype ChatInfoProps = {\\n\\tid: string;\\n\\troute: keyof IRouterPaths;\\n};\\n\\n// TODO: Remove moment we are mixing moment and our own formatters :sadface:\\nfunction ChatInfo({ id, route }: ChatInfoProps) {\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst formatDateAndTime = useFormatDateAndTime();\\n\\tconst { value: allCustomFields, phase: stateCustomFields } = useEndpointData('/v1/livechat/custom-fields');\\n\\tconst [customFields, setCustomFields] = useState<Serialized<ILivechatCustomField>[]>([]);\\n\\tconst formatDuration = useFormatDuration();\\n\\n\\tconst { data: room } = useOmnichannelRoomInfo(id); // FIXME: `room` is serialized, but we need to deserialize it\\n\\n\\tconst {\\n\\t\\tts,\\n\\t\\ttags,\\n\\t\\tclosedAt,\\n\\t\\tdepartmentId,\\n\\t\\tv,\\n\\t\\tservedBy,\\n\\t\\tmetrics,\\n\\t\\ttopic,\\n\\t\\twaitingResponse,\\n\\t\\tresponseBy,\\n\\t\\tslaId,\\n\\t\\tpriorityId,\\n\\t\\tlivechatData,\\n\\t\\tsource,\\n\\t\\tqueuedAt,\\n\\t} = room || { v: {} };\\n\\n\\tconst routePath = useRoute(route || 'omnichannel-directory');\\n\\tconst canViewCustomFields = usePermission('view-livechat-room-customfields');\\n\\tconst subscription = useUserSubscription(id);\\n\\tconst hasGlobalEditRoomPermission = usePermission('save-others-livechat-room-info');\\n\\tconst hasLocalEditRoomPermission = servedBy?._id === Meteor.userId();\\n\\tconst visitorId = v?._id;\\n\\tconst queueStartedAt = queuedAt || ts;\\n\\n\\tconst queueTime = useMemo(() => formatQueuedAt(room), [room]);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (allCustomFields) {\\n\\t\\t\\tconst { customFields: customFieldsAPI } = allCustomFields;\\n\\t\\t\\tsetCustomFields(customFieldsAPI);\\n\\t\\t}\\n\\t}, [allCustomFields, stateCustomFields]);\\n\\n\\tconst checkIsVisibleAndScopeRoom = (key: string) => {\\n\\t\\tconst field = customFields.find(({ _id }) => _id === key);\\n\\t\\treturn field?.visibility === 'visible' && field?.scope === 'room';\\n\\t};\\n\\n\\tconst onEditClick = useMutableCallback(() => {\\n\\t\\tconst hasEditAccess = !!subscription || hasLocalEditRoomPermission || hasGlobalEditRoomPermission;\\n\\t\\tif (!hasEditAccess) {\\n\\t\\t\\treturn dispatchToastMessage({ type: 'error', message: t('Not_authorized') });\\n\\t\\t}\\n\\n\\t\\troutePath.push(\\n\\t\\t\\troute\\n\\t\\t\\t\\t? {\\n\\t\\t\\t\\t\\t\\ttab: 'room-info',\\n\\t\\t\\t\\t\\t\\tcontext: 'edit',\\n\\t\\t\\t\\t\\t\\tid,\\n\\t\\t\\t\\t  }\\n\\t\\t\\t\\t: {\\n\\t\\t\\t\\t\\t\\tpage: 'chats',\\n\\t\\t\\t\\t\\t\\tid,\\n\\t\\t\\t\\t\\t\\tbar: 'edit',\\n\\t\\t\\t\\t  },\\n\\t\\t);\\n\\t});\\n\\n\\tconst customFieldEntries: [string, any][] = Object.entries(livechatData || {}).filter(\\n\\t\\t([key]) => checkIsVisibleAndScopeRoom(key) && livechatData[key],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarScrollableContent p={24}>\\n\\t\\t\\t\\t<Margins block='x4'>\\n\\t\\t\\t\\t\\t{source && <SourceField room={room as unknown as IOmnichannelRoom} />}\\n\\t\\t\\t\\t\\t{room && v && <ContactField contact={v as IVisitor} room={room as unknown as IOmnichannelRoom} />}\\n\\t\\t\\t\\t\\t{visitorId && <VisitorClientInfo uid={visitorId} />}\\n\\t\\t\\t\\t\\t{servedBy && <AgentField agent={servedBy as unknown as IOmnichannelRoom['servedBy']} />}\\n\\t\\t\\t\\t\\t{departmentId && <DepartmentField departmentId={departmentId} />}\\n\\t\\t\\t\\t\\t{tags && tags.length > 0 && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Tags')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>\\n\\t\\t\\t\\t\\t\\t\\t\\t{tags.map((tag) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Box key={tag} mie={4} display='inline'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Tag style={{ display: 'inline' }} disabled>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{tag}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Tag>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t\\t</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{topic && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Topic')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText withTruncatedText={false}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<MarkdownText variant='inline' content={topic} />\\n\\t\\t\\t\\t\\t\\t\\t</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{queueStartedAt && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Queue_Time')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{queueTime}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{closedAt && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Chat_Duration')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{moment(closedAt).from(moment(ts), true)}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{ts && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Created_at')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{formatDateAndTime(ts)}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{closedAt && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Closed_At')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{formatDateAndTime(closedAt)}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{servedBy?.ts && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Taken_at')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{formatDateAndTime(servedBy.ts)}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{metrics?.response?.avg && formatDuration(metrics.response.avg) && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Avg_response_time')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{formatDuration(metrics.response.avg)}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{!waitingResponse && responseBy?.lastMessageTs && (\\n\\t\\t\\t\\t\\t\\t<InfoPanelField>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel>{t('Inactivity_Time')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{moment(responseBy.lastMessageTs).fromNow(true)}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</InfoPanelField>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{canViewCustomFields && customFieldEntries.map(([key, value]) => <CustomField key={key} id={key} value={value} />)}\\n\\t\\t\\t\\t\\t{slaId && <SlaField id={slaId} />}\\n\\t\\t\\t\\t\\t{priorityId && <PriorityField id={priorityId} />}\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t<Button icon='pencil' onClick={onEditClick} data-qa-id='room-info-edit'>\\n\\t\\t\\t\\t\\t\\t{t('Edit')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</>\\n\\t);\\n}\\n\\nexport default ChatInfo;\\n\",null],\"names\":[\"Box\",\"Margins\",\"Tag\",\"Button\",\"ButtonGroup\",\"useMutableCallback\",\"useToastMessageDispatch\",\"useRoute\",\"useUserSubscription\",\"useTranslation\",\"usePermission\",\"Meteor\",\"moment\",\"React\",\"useEffect\",\"useMemo\",\"useState\",\"ContextualbarScrollableContent\",\"ContextualbarFooter\",\"InfoPanelField\",\"InfoPanelLabel\",\"InfoPanelText\",\"MarkdownText\",\"useEndpointData\",\"useFormatDateAndTime\",\"useFormatDuration\",\"CustomField\",\"AgentField\",\"SlaField\",\"ContactField\",\"SourceField\",\"PriorityField\",\"useOmnichannelRoomInfo\",\"formatQueuedAt\",\"DepartmentField\",\"VisitorClientInfo\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"_metrics$response\",\"id\",\"route\",\"t\",\"dispatchToastMessage\",\"formatDateAndTime\",\"value\",\"allCustomFields\",\"phase\",\"stateCustomFields\",\"customFields\",\"setCustomFields\",\"formatDuration\",\"data\",\"room\",\"ts\",\"tags\",\"closedAt\",\"departmentId\",\"servedBy\",\"metrics\",\"topic\",\"waitingResponse\",\"responseBy\",\"slaId\",\"priorityId\",\"livechatData\",\"source\",\"queuedAt\",\"routePath\",\"canViewCustomFields\",\"subscription\",\"hasGlobalEditRoomPermission\",\"hasLocalEditRoomPermission\",\"_id\",\"userId\",\"visitorId\",\"queueStartedAt\",\"queueTime\",\"customFieldsAPI\",\"checkIsVisibleAndScopeRoom\",\"key\",\"field\",\"find\",\"_ref2\",\"visibility\",\"scope\",\"onEditClick\",\"type\",\"message\",\"push\",\"tab\",\"context\",\"page\",\"bar\",\"customFieldEntries\",\"Object\",\"entries\",\"filter\",\"_ref3\",\"createElement\",\"Fragment\",\"p\",\"block\",\"contact\",\"uid\",\"agent\",\"length\",\"map\",\"tag\",\"mie\",\"display\",\"style\",\"disabled\",\"withTruncatedText\",\"variant\",\"content\",\"from\",\"response\",\"avg\",\"lastMessageTs\",\"fromNow\",\"_ref4\",\"stretch\",\"icon\",\"onClick\"],\"mappings\":\"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\"}"}