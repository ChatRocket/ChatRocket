{"code":"function module(e,t,l){let i,n,a,c,o,r,s,u,k,h;l.link(\"@rocket.chat/fuselage\",{Margins(e){i=e},Box(e){n=e},CheckBox(e){a=e},Throbber(e){c=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){o=e}},1),l.link(\"react\",{default(e){r=e},useState(e){s=e},memo(e){u=e}},2),l.link(\"../../../../../app/authorization/lib\",{AuthorizationUtils(e){k=e}},3),l.link(\"../../../../components/GenericTable\",{GenericTableCell(e){h=e}},4),l.exportDefault(u(e=>{let{_id:t,name:l,description:u,onChange:b,lineHovered:d,permissionId:m,grantedRoles:p=[]}=e,[f,x]=s(()=>!!p.includes(t)),[E,T]=s(!1),g=k.isPermissionRestrictedForRole(m,t),C=o(async()=>{T(!0);let e=await b(t,f);x(e),T(!1)}),y=!!E||!!g;return r.createElement(h,{withTruncatedText:!0},r.createElement(i,{inline:2},r.createElement(a,{checked:f,onChange:C,disabled:y}),!E&&r.createElement(n,{display:\"inline\",color:\"hint\",invisible:!d},u||l),E&&r.createElement(c,{size:\"x12\",display:\"inline-block\"})))}))}","map":"{\"version\":3,\"sources\":[\"client/views/admin/permissions/PermissionsTable/RoleCell.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRole } from '@rocket.chat/core-typings';\\nimport { Margins, Box, CheckBox, Throbber } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { ReactElement } from 'react';\\nimport React, { useState, memo } from 'react';\\n\\nimport { AuthorizationUtils } from '../../../../../app/authorization/lib';\\nimport { GenericTableCell } from '../../../../components/GenericTable';\\n\\ntype RoleCellProps = {\\n\\t_id: IRole['_id'];\\n\\tname: IRole['name'];\\n\\tdescription: IRole['description'];\\n\\tonChange: (roleId: IRole['_id'], granted: boolean) => Promise<boolean>;\\n\\tlineHovered: boolean;\\n\\tpermissionId: string;\\n\\tgrantedRoles: IRole['_id'][];\\n};\\n\\nconst RoleCell = ({ _id, name, description, onChange, lineHovered, permissionId, grantedRoles = [] }: RoleCellProps): ReactElement => {\\n\\tconst [granted, setGranted] = useState(() => !!grantedRoles.includes(_id));\\n\\tconst [loading, setLoading] = useState(false);\\n\\n\\tconst isRestrictedForRole = AuthorizationUtils.isPermissionRestrictedForRole(permissionId, _id);\\n\\n\\tconst handleChange = useMutableCallback(async () => {\\n\\t\\tsetLoading(true);\\n\\t\\tconst result = await onChange(_id, granted);\\n\\t\\tsetGranted(result);\\n\\t\\tsetLoading(false);\\n\\t});\\n\\n\\tconst isDisabled = !!loading || !!isRestrictedForRole;\\n\\n\\treturn (\\n\\t\\t<GenericTableCell withTruncatedText>\\n\\t\\t\\t<Margins inline={2}>\\n\\t\\t\\t\\t<CheckBox checked={granted} onChange={handleChange} disabled={isDisabled} />\\n\\t\\t\\t\\t{!loading && (\\n\\t\\t\\t\\t\\t<Box display='inline' color='hint' invisible={!lineHovered}>\\n\\t\\t\\t\\t\\t\\t{description || name}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{loading && <Throbber size='x12' display='inline-block' />}\\n\\t\\t\\t</Margins>\\n\\t\\t</GenericTableCell>\\n\\t);\\n};\\n\\nexport default memo(RoleCell);\\n\",null],\"names\":[\"Margins\",\"Box\",\"CheckBox\",\"Throbber\",\"useMutableCallback\",\"React\",\"useState\",\"memo\",\"AuthorizationUtils\",\"GenericTableCell\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"_id\",\"name\",\"description\",\"onChange\",\"lineHovered\",\"permissionId\",\"grantedRoles\",\"granted\",\"setGranted\",\"includes\",\"loading\",\"setLoading\",\"isRestrictedForRole\",\"isPermissionRestrictedForRole\",\"handleChange\",\"result\",\"isDisabled\",\"createElement\",\"withTruncatedText\",\"inline\",\"checked\",\"disabled\",\"display\",\"color\",\"invisible\",\"size\"],\"mappings\":\"2BACAA,EAASC,EAAOC,EAAOC,EAAkDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxCC,EAAQC,IAAE,CAAA,wBAAM,CAAAX,QAAwBY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,IAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAP,mBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,EAAAN,SAAAM,CAAA,EAAAN,EAAAM,CAAA,EAAAL,KAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uCAAA,CAAAH,mBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,sCAAA,CAAAF,iBAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAzEF,EAAOI,aAAW,CAgDHP,EA9BEQ,IAAoH,GAAnH,CAAEC,IAAAA,CAAG,CAAEC,KAAAA,CAAI,CAAEC,YAAAA,CAAW,CAAEC,SAAAA,CAAQ,CAAEC,YAAAA,CAAW,CAAEC,aAAAA,CAAY,CAAEC,aAAAA,EAAe,EAAA,CAAmB,CAAAP,EAC5G,CAACQ,EAASC,EAAW,CAAGlB,EAAS,IAAM,CAAC,CAACgB,EAAaG,QAAQ,CAACT,IAC/D,CAACU,EAASC,EAAW,CAAGrB,EAAS,CAAA,GAEjCsB,EAAsBpB,EAAmBqB,6BAA6B,CAACR,EAAcL,GAErFc,EAAe1B,EAAmB,UACvCuB,EAAW,CAAA,GACX,IAAMI,EAAS,MAAMZ,EAASH,EAAKO,GACnCC,EAAWO,GACXJ,EAAW,CAAA,EACZ,GAEMK,EAAa,CAAC,CAACN,GAAW,CAAC,CAACE,EAElC,OACCvB,EAAA4B,aAAA,CAACxB,EAAgB,CAACyB,kBAAiB,CAAA,CAAA,EAClC7B,EAAA4B,aAAA,CAACjC,EAAO,CAACmC,OAAQ,CAAE,EAClB9B,EAAA4B,aAAA,CAAC/B,EAAQ,CAACkC,QAASb,EAASJ,SAAUW,EAAcO,SAAUL,CAAW,GACxE,CAACN,GACDrB,EAAA4B,aAAA,CAAChC,EAAG,CAACqC,QAAQ,SAASC,MAAM,OAAOC,UAAW,CAACpB,CAAY,EACzDF,GAAeD,GAGjBS,GAAWrB,EAAA4B,aAAA,CAAC9B,EAAQ,CAACsC,KAAK,MAAMH,QAAQ,cAAc,IAI3D\"}"}