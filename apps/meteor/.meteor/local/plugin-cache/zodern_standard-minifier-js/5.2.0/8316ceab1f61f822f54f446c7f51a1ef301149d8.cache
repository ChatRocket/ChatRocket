{"code":"function module(e,n,t){var a,l,o,r,u,i,c,s,f,m,d,E,v,b,k,g,h,x,C,I,A,U,p;t.link(\"@babel/runtime/regenerator\",{default:function(e){a=e}},0),t.link(\"@rocket.chat/fuselage\",{Box:function(e){l=e},Margins:function(e){o=e},ButtonGroup:function(e){r=e},ContextualbarSkeleton:function(e){u=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){i=e},useRouter:function(e){c=e},useTranslation:function(e){s=e}},1),t.link(\"@tanstack/react-query\",{useQuery:function(e){f=e}},2),t.link(\"react\",{default:function(e){m=e}},3),t.link(\"../../../components/Contextualbar\",{Contextualbar:function(e){d=e},ContextualbarTitle:function(e){E=e},ContextualbarClose:function(e){v=e},ContextualbarHeader:function(e){b=e},ContextualbarScrollableContent:function(e){k=e}},4),t.link(\"../../../components/InfoPanel\",{InfoPanelLabel:function(e){g=e},InfoPanelText:function(e){h=e}},5),t.link(\"../../../components/UserInfo\",{UserInfoAvatar:function(e){x=e},UserInfoUsername:function(e){C=e}},6),t.link(\"../../../components/UserStatus\",{UserStatus:function(e){I=e}},7),t.link(\"../additionalForms\",{MaxChatsPerAgentDisplay:function(e){A=e}},8),t.link(\"./AgentInfoAction\",{default:function(e){U=e}},9),t.link(\"./hooks/useRemoveAgent\",{useRemoveAgent:function(e){p=e}},10),t.exportDefault(function(e){var n,t=e.uid,y=s(),S=c(),_=i(\"GET\",\"/v1/livechat/users/agent/:_id\",{_id:t}),R=f([\"livechat-getAgentInfoById\",t],function(){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",_());case 1:case\"end\":return e.stop()}},null,null,null,Promise)},{refetchOnWindowFocus:!1}),q=R.data,L=R.isLoading,P=R.isError,N=p(t);if(L)return m.createElement(u,null);if(P)return m.createElement(l,{mbs:16},y(\"User_not_found\"));var T=null==q?void 0:q.user,B=T.username,F=T.statusLivechat,w=T.status;return m.createElement(d,{\"data-qa-id\":\"agent-info-contextual-bar\"},m.createElement(b,null,m.createElement(E,null,y(\"User_Info\")),m.createElement(v,{onClick:function(){return S.navigate(\"/omnichannel/agents\")}})),m.createElement(k,null,B&&m.createElement(l,{alignSelf:\"center\"},m.createElement(x,{\"data-qa\":\"AgentUserInfoAvatar\",username:B})),m.createElement(r,{align:\"center\"},m.createElement(U,{key:y(\"Edit\"),title:y(\"Edit\"),label:y(\"Edit\"),onClick:function(){return S.navigate(\"/omnichannel/agents/edit/\"+t)},icon:\"edit\"}),m.createElement(U,{key:y(\"Remove\"),title:y(\"Remove\"),label:y(\"Remove\"),onClick:N,icon:\"trash\"})),m.createElement(o,{block:4},m.createElement(l,{mb:2},m.createElement(C,{\"data-qa\":\"AgentInfoUserInfoUserName\",username:B,status:m.createElement(I,{status:w})})),F&&m.createElement(m.Fragment,null,m.createElement(g,{\"data-qa\":\"AgentInfoUserInfoLabel\"},y(\"Livechat_status\")),m.createElement(h,null,y(\"available\"===F?\"Available\":\"Not_Available\"))),A&&m.createElement(A,{maxNumberSimultaneousChat:null===(n=q.user.livechat)||void 0===n?void 0:n.maxNumberSimultaneousChat}))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/agents/AgentInfo.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Margins, ButtonGroup, ContextualbarSkeleton } from '@rocket.chat/fuselage';\\nimport { useEndpoint, useRouter, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { HTMLAttributes } from 'react';\\nimport React from 'react';\\n\\nimport {\\n\\tContextualbar,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarHeader,\\n\\tContextualbarScrollableContent,\\n} from '../../../components/Contextualbar';\\nimport { InfoPanelLabel, InfoPanelText } from '../../../components/InfoPanel';\\nimport { UserInfoAvatar, UserInfoUsername } from '../../../components/UserInfo';\\nimport { UserStatus } from '../../../components/UserStatus';\\nimport { MaxChatsPerAgentDisplay } from '../additionalForms';\\nimport AgentInfoAction from './AgentInfoAction';\\nimport { useRemoveAgent } from './hooks/useRemoveAgent';\\n\\ntype AgentInfoProps = {\\n\\tuid: string;\\n} & Omit<HTMLAttributes<HTMLElement>, 'is'>;\\n\\nconst AgentInfo = ({ uid }: AgentInfoProps) => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst getAgentById = useEndpoint('GET', '/v1/livechat/users/agent/:_id', { _id: uid });\\n\\tconst { data, isLoading, isError } = useQuery(['livechat-getAgentInfoById', uid], async () => getAgentById(), {\\n\\t\\trefetchOnWindowFocus: false,\\n\\t});\\n\\n\\tconst handleDelete = useRemoveAgent(uid);\\n\\n\\tif (isLoading) {\\n\\t\\treturn <ContextualbarSkeleton />;\\n\\t}\\n\\n\\tif (isError) {\\n\\t\\treturn <Box mbs={16}>{t('User_not_found')}</Box>;\\n\\t}\\n\\n\\tconst { username, statusLivechat, status: userStatus } = data?.user;\\n\\n\\treturn (\\n\\t\\t<Contextualbar data-qa-id='agent-info-contextual-bar'>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarTitle>{t('User_Info')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/agents')} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarScrollableContent>\\n\\t\\t\\t\\t{username && (\\n\\t\\t\\t\\t\\t<Box alignSelf='center'>\\n\\t\\t\\t\\t\\t\\t<UserInfoAvatar data-qa='AgentUserInfoAvatar' username={username} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t<ButtonGroup align='center'>\\n\\t\\t\\t\\t\\t<AgentInfoAction\\n\\t\\t\\t\\t\\t\\tkey={t('Edit')}\\n\\t\\t\\t\\t\\t\\ttitle={t('Edit')}\\n\\t\\t\\t\\t\\t\\tlabel={t('Edit')}\\n\\t\\t\\t\\t\\t\\tonClick={() => router.navigate(`/omnichannel/agents/edit/${uid}`)}\\n\\t\\t\\t\\t\\t\\ticon='edit'\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t<AgentInfoAction key={t('Remove')} title={t('Remove')} label={t('Remove')} onClick={handleDelete} icon='trash' />\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t<Margins block={4}>\\n\\t\\t\\t\\t\\t<Box mb={2}>\\n\\t\\t\\t\\t\\t\\t<UserInfoUsername data-qa='AgentInfoUserInfoUserName' username={username} status={<UserStatus status={userStatus} />} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t{statusLivechat && (\\n\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelLabel data-qa='AgentInfoUserInfoLabel'>{t('Livechat_status')}</InfoPanelLabel>\\n\\t\\t\\t\\t\\t\\t\\t<InfoPanelText>{t(statusLivechat === 'available' ? 'Available' : 'Not_Available')}</InfoPanelText>\\n\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{MaxChatsPerAgentDisplay && <MaxChatsPerAgentDisplay maxNumberSimultaneousChat={data.user.livechat?.maxNumberSimultaneousChat} />}\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t</Contextualbar>\\n\\t);\\n};\\n\\nexport default AgentInfo;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"Box\",\"Margins\",\"ButtonGroup\",\"ContextualbarSkeleton\",\"useEndpoint\",\"useRouter\",\"useTranslation\",\"useQuery\",\"React\",\"Contextualbar\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarHeader\",\"ContextualbarScrollableContent\",\"InfoPanelLabel\",\"InfoPanelText\",\"UserInfoAvatar\",\"UserInfoUsername\",\"UserStatus\",\"MaxChatsPerAgentDisplay\",\"AgentInfoAction\",\"useRemoveAgent\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_data$user$livechat\",\"uid\",\"t\",\"router\",\"getAgentById\",\"_id\",\"_useQuery\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"stop\",\"Promise\",\"refetchOnWindowFocus\",\"data\",\"isLoading\",\"isError\",\"handleDelete\",\"createElement\",\"mbs\",\"_data$user\",\"user\",\"username\",\"statusLivechat\",\"userStatus\",\"status\",\"onClick\",\"navigate\",\"alignSelf\",\"align\",\"key\",\"title\",\"label\",\"icon\",\"block\",\"mb\",\"Fragment\",\"maxNumberSimultaneousChat\",\"livechat\"],\"mappings\":\"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\"}"}