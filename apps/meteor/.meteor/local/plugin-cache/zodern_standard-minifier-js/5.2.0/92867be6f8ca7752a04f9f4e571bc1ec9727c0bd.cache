{"code":"function module(n,t,e){e.export({useInviteTokenMutation:function(){return c}}),e.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(n){o=n},useRouter:function(n){i=n},useToastMessageDispatch:function(n){a=n}},0),e.link(\"@tanstack/react-query\",{useMutation:function(n){r=n}},1),e.link(\"react-i18next\",{useTranslation:function(n){u=n}},2);var o,i,a,r,u,c=function(){var n=u().t,t=i(),e=a(),c=o(\"POST\",\"/v1/useInviteToken\");return r({mutationFn:function(n){return c({token:n})},onSuccess:function(o){if(!o.room.name){e({type:\"error\",message:n(\"Failed_to_activate_invite_token\")}),t.navigate(\"/home\");return}if(\"p\"===o.room.t){t.navigate(\"/group/\"+o.room.name);return}t.navigate(\"/channel/\"+o.room.name)},onError:function(){e({type:\"error\",message:n(\"Failed_to_activate_invite_token\")}),t.navigate(\"/home\")}}).mutate}}","map":"{\"version\":3,\"sources\":[\"client/views/invite/hooks/useInviteTokenMutation.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint, useRouter, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport { useMutation } from '@tanstack/react-query';\\nimport { useTranslation } from 'react-i18next';\\n\\nexport const useInviteTokenMutation = () => {\\n\\tconst { t } = useTranslation();\\n\\tconst router = useRouter();\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst getInviteRoom = useEndpoint('POST', '/v1/useInviteToken');\\n\\n\\tconst { mutate } = useMutation({\\n\\t\\tmutationFn: (token: string) => getInviteRoom({ token }),\\n\\t\\tonSuccess: (result) => {\\n\\t\\t\\tif (!result.room.name) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('Failed_to_activate_invite_token') });\\n\\t\\t\\t\\trouter.navigate('/home');\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (result.room.t === 'p') {\\n\\t\\t\\t\\trouter.navigate(`/group/${result.room.name}`);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\trouter.navigate(`/channel/${result.room.name}`);\\n\\t\\t},\\n\\t\\tonError: () => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('Failed_to_activate_invite_token') });\\n\\t\\t\\trouter.navigate('/home');\\n\\t\\t},\\n\\t});\\n\\n\\treturn mutate;\\n};\\n\",null],\"names\":[\"module\",\"export\",\"useInviteTokenMutation\",\"link\",\"useEndpoint\",\"v\",\"useRouter\",\"useToastMessageDispatch\",\"useMutation\",\"useTranslation\",\"t\",\"_useTranslation\",\"router\",\"dispatchToastMessage\",\"getInviteRoom\",\"_useMutation\",\"mutationFn\",\"token\",\"onSuccess\",\"result\",\"room\",\"name\",\"type\",\"message\",\"navigate\",\"onError\",\"mutate\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,uBAAwB,WAAA,OAAuBA,CAAQ,CAAA,GAA2BF,EAAAG,IAAA,CAAA,2BAAA,CAAAC,YAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,EAAAC,UAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,EAAAE,wBAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,wBAAA,CAAAK,YAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,gBAAA,CAAAM,eAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAIpF,IAJyDD,EAA2BE,EAAAC,EAAAC,EAAAC,EAI9EP,EAAyB,WACrC,IAAQQ,EAACC,AAAKF,IAANC,CAAC,CACHE,EAASN,IAETO,EAAuBN,IAEvBO,EAAgBV,EAAY,OAAQ,sBAwB1C,OAtBcW,AAAKP,EAAY,CAC9BQ,WAAY,SAACC,CAAa,EAAA,OAAKH,EAAc,CAAEG,MAAAA,CAAK,EAAG,EACvDC,UAAW,SAACC,CAAM,EACjB,GAAI,CAACA,EAAOC,IAAI,CAACC,IAAI,CAAE,CACtBR,EAAqB,CAAES,KAAM,QAASC,QAASb,EAAE,kCAAkC,GACnFE,EAAOY,QAAQ,CAAC,SAChB,MACD,CAEA,GAAIL,AAAkB,MAAlBA,EAAOC,IAAI,CAACV,CAAC,CAAU,CAC1BE,EAAOY,QAAQ,CAAA,UAAWL,EAAOC,IAAI,CAACC,IAAM,EAC5C,MACD,CAEAT,EAAOY,QAAQ,CAAA,YAAaL,EAAOC,IAAI,CAACC,IAAM,CAC/C,EACAI,QAAS,WACRZ,EAAqB,CAAES,KAAM,QAASC,QAASb,EAAE,kCAAkC,GACnFE,EAAOY,QAAQ,CAAC,QACjB,IAnBOE,MAAM,AAuBf\"}"}