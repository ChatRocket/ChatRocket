{"code":"function module(e,t,l){let a,i,n,o,u,c,s,r,k;l.link(\"@babel/runtime/helpers/extends\",{default(e){a=e}},0),l.link(\"@rocket.chat/fuselage\",{NavBarItem(e){i=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useEffectEvent(e){n=e}},1),l.link(\"@rocket.chat/ui-contexts\",{useLayout(e){o=e}},2),l.link(\"@rocket.chat/ui-voip\",{useVoipDialer(e){u=e},useVoipState(e){c=e}},3),l.link(\"react\",{default(e){s=e},useMemo(e){r=e}},4),l.link(\"react-i18next\",{useTranslation(e){k=e}},5),l.exportDefault(e=>{let{t}=k(),{sidebar:l}=o(),{clientError:d,isEnabled:f,isReady:p,isRegistered:h}=c(),{open:g,openDialer:m,closeDialer:b}=u(),x=n(()=>{l.toggle(),g?b():m()}),v=r(()=>p||d?!h||d?t(\"Voice_calling_disabled\"):t(\"New_Call\"):t(\"Loading\"),[d,p,h,t]);return f?s.createElement(i,a({},e,{title:v,icon:\"phone\",onClick:x,pressed:g,disabled:!p||!h})):null})}","map":"{\"version\":3,\"sources\":[\"client/NavBarV2/NavBarVoipToolbar/NavBarItemVoipDialer.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { NavBarItem } from '@rocket.chat/fuselage';\\nimport { useEffectEvent } from '@rocket.chat/fuselage-hooks';\\nimport { useLayout } from '@rocket.chat/ui-contexts';\\nimport { useVoipDialer, useVoipState } from '@rocket.chat/ui-voip';\\nimport type { HTMLAttributes } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\ntype NavBarItemVoipDialerProps = Omit<HTMLAttributes<HTMLElement>, 'is'> & {\\n\\tprimary?: boolean;\\n};\\n\\nconst NavBarItemVoipDialer = (props: NavBarItemVoipDialerProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst { sidebar } = useLayout();\\n\\tconst { clientError, isEnabled, isReady, isRegistered } = useVoipState();\\n\\tconst { open: isDialerOpen, openDialer, closeDialer } = useVoipDialer();\\n\\n\\tconst handleToggleDialer = useEffectEvent(() => {\\n\\t\\tsidebar.toggle();\\n\\t\\tisDialerOpen ? closeDialer() : openDialer();\\n\\t});\\n\\n\\tconst title = useMemo(() => {\\n\\t\\tif (!isReady && !clientError) {\\n\\t\\t\\treturn t('Loading');\\n\\t\\t}\\n\\n\\t\\tif (!isRegistered || clientError) {\\n\\t\\t\\treturn t('Voice_calling_disabled');\\n\\t\\t}\\n\\n\\t\\treturn t('New_Call');\\n\\t}, [clientError, isReady, isRegistered, t]);\\n\\n\\treturn isEnabled ? (\\n\\t\\t<NavBarItem\\n\\t\\t\\t{...props}\\n\\t\\t\\ttitle={title}\\n\\t\\t\\ticon='phone'\\n\\t\\t\\tonClick={handleToggleDialer}\\n\\t\\t\\tpressed={isDialerOpen}\\n\\t\\t\\tdisabled={!isReady || !isRegistered}\\n\\t\\t/>\\n\\t) : null;\\n};\\n\\nexport default NavBarItemVoipDialer;\\n\",null],\"names\":[\"_extends\",\"NavBarItem\",\"useEffectEvent\",\"useLayout\",\"useVoipDialer\",\"useVoipState\",\"React\",\"useMemo\",\"useTranslation\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"props\",\"t\",\"sidebar\",\"clientError\",\"isEnabled\",\"isReady\",\"isRegistered\",\"open\",\"isDialerOpen\",\"openDialer\",\"closeDialer\",\"handleToggleDialer\",\"toggle\",\"title\",\"createElement\",\"icon\",\"onClick\",\"pressed\",\"disabled\"],\"mappings\":\"2BAAAA,EAAAC,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA1CC,EAAUC,IAAE,CAAA,iCAA8B,CAAAC,QAAAC,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAA1CH,EAAYC,IAAA,CAAM,wBAAwB,CAAAT,WAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAR,eAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAP,UAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uBAAA,CAAAN,cAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,aAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAN,EAAAM,CAAA,EAAAL,QAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAF,eAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAnDH,EAAOI,aAAY,CAYWC,IAC7B,GAAM,CAAEC,CAAAA,CAAG,CAAGP,IACR,CAAEQ,QAAAA,CAAAA,CAAS,CAAGb,IACd,CAAEc,YAAAA,CAAW,CAAEC,UAAAA,CAAS,CAAEC,QAAAA,CAAO,CAAEC,aAAAA,CAAAA,CAAc,CAAGf,IACpD,CAAEgB,KAAMC,CAAY,CAAEC,WAAAA,CAAU,CAAEC,YAAAA,CAAAA,CAAa,CAAGpB,IAElDqB,EAAqBvB,EAAe,KACzCc,EAAQU,MAAM,GACdJ,EAAeE,IAAgBD,GAChC,GAEMI,EAAQpB,EAAQ,IACrB,AAAI,AAACY,GAAYF,EAIb,CAACG,GAAgBH,EACbF,EAAE,0BAGHA,EAAE,YAPDA,EAAE,WAQR,CAACE,EAAaE,EAASC,EAAcL,EAAE,EAE1C,OAAOG,EACNZ,EAAAsB,aAAA,CAAC3B,EAAUD,EAAA,CAAA,EACNc,EAAK,CACTa,MAAOA,EACPE,KAAK,QACLC,QAASL,EACTM,QAAST,EACTU,SAAU,CAACb,GAAW,CAACC,CAAa,IAElC,IACL\"}"}