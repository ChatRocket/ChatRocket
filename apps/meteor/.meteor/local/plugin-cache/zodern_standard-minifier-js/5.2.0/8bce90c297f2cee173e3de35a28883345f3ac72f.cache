{"code":"function module(e,n,o){let i,l,r,s,t,d,u;o.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){i=e}},0),o.export({useEditRoomInitialValues:()=>a}),o.link(\"@rocket.chat/ui-contexts\",{usePermission(e){l=e}},0),o.link(\"react\",{useMemo(e){r=e}},1),o.link(\"../../../../../lib/convertTimeUnit\",{msToTimeUnit(e){s=e},TIMEUNIT(e){t=e}},2),o.link(\"../../../../../lib/rooms/roomCoordinator\",{roomCoordinator(e){d=e}},3),o.link(\"../../../hooks/useRetentionPolicy\",{useRetentionPolicy(e){u=e}},4);let a=e=>{let n=u(e),o=l(\"edit-room-retention-policy\",e._id),{t:a,ro:m,archived:c,topic:v,description:y,announcement:h,joinCodeRequired:b,sysMes:A,encrypted:T,retention:g,reactWhenReadOnly:x,sidepanel:k}=e;return r(()=>{var l,r,u,p,P;return i(i({roomName:\"d\"===a&&e.usernames?e.usernames.join(\" x \"):d.getRoomName(a,e),roomType:a,readOnly:!!m,reactWhenReadOnly:x,archived:!!c,roomTopic:null!=v?v:\"\",roomDescription:null!=y?y:\"\",roomAnnouncement:null!=h?h:\"\",roomAvatar:void 0,joinCode:\"\",joinCodeRequired:!!b,systemMessages:Array.isArray(A)?A:[],hideSysMes:Array.isArray(A)?!!(null!=A&&A.length):!!A,encrypted:T},o&&(null==n?void 0:n.enabled)&&{retentionEnabled:null!==(l=null==g?void 0:g.enabled)&&void 0!==l?l:n.isActive,retentionOverrideGlobal:!!(null!=g&&g.overrideGlobal),retentionMaxAge:null!==(r=null==g?void 0:g.maxAge)&&void 0!==r?r:s(t.days,n.maxAge),retentionExcludePinned:null!==(u=null==g?void 0:g.excludePinned)&&void 0!==u?u:n.excludePinned,retentionFilesOnly:null!==(p=null==g?void 0:g.filesOnly)&&void 0!==p?p:n.filesOnly,retentionIgnoreThreads:null!==(P=null==g?void 0:g.ignoreThreads)&&void 0!==P?P:n.ignoreThreads}),{},{showDiscussions:null==k?void 0:k.items.includes(\"discussions\"),showChannels:null==k?void 0:k.items.includes(\"channels\")})},[h,c,y,b,g,n,m,e,A,a,v,T,x,o,k])}}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/Info/EditRoomInfo/useEditRoomInitialValues.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoomWithRetentionPolicy } from '@rocket.chat/core-typings';\\nimport { usePermission } from '@rocket.chat/ui-contexts';\\nimport { useMemo } from 'react';\\n\\nimport { msToTimeUnit, TIMEUNIT } from '../../../../../lib/convertTimeUnit';\\nimport { roomCoordinator } from '../../../../../lib/rooms/roomCoordinator';\\nimport { useRetentionPolicy } from '../../../hooks/useRetentionPolicy';\\n\\nexport const useEditRoomInitialValues = (room: IRoomWithRetentionPolicy) => {\\n\\tconst retentionPolicy = useRetentionPolicy(room);\\n\\tconst canEditRoomRetentionPolicy = usePermission('edit-room-retention-policy', room._id);\\n\\n\\tconst {\\n\\t\\tt,\\n\\t\\tro,\\n\\t\\tarchived,\\n\\t\\ttopic,\\n\\t\\tdescription,\\n\\t\\tannouncement,\\n\\t\\tjoinCodeRequired,\\n\\t\\tsysMes,\\n\\t\\tencrypted,\\n\\t\\tretention,\\n\\t\\treactWhenReadOnly,\\n\\t\\tsidepanel,\\n\\t} = room;\\n\\n\\treturn useMemo(\\n\\t\\t() => ({\\n\\t\\t\\troomName: t === 'd' && room.usernames ? room.usernames.join(' x ') : roomCoordinator.getRoomName(t, room),\\n\\t\\t\\troomType: t,\\n\\t\\t\\treadOnly: !!ro,\\n\\t\\t\\treactWhenReadOnly,\\n\\t\\t\\tarchived: !!archived,\\n\\t\\t\\troomTopic: topic ?? '',\\n\\t\\t\\troomDescription: description ?? '',\\n\\t\\t\\troomAnnouncement: announcement ?? '',\\n\\t\\t\\troomAvatar: undefined,\\n\\t\\t\\tjoinCode: '',\\n\\t\\t\\tjoinCodeRequired: !!joinCodeRequired,\\n\\t\\t\\tsystemMessages: Array.isArray(sysMes) ? sysMes : [],\\n\\t\\t\\thideSysMes: Array.isArray(sysMes) ? !!sysMes?.length : !!sysMes,\\n\\t\\t\\tencrypted,\\n\\t\\t\\t...(canEditRoomRetentionPolicy &&\\n\\t\\t\\t\\tretentionPolicy?.enabled && {\\n\\t\\t\\t\\t\\tretentionEnabled: retention?.enabled ?? retentionPolicy.isActive,\\n\\t\\t\\t\\t\\tretentionOverrideGlobal: !!retention?.overrideGlobal,\\n\\t\\t\\t\\t\\tretentionMaxAge: retention?.maxAge ?? msToTimeUnit(TIMEUNIT.days, retentionPolicy.maxAge),\\n\\t\\t\\t\\t\\tretentionExcludePinned: retention?.excludePinned ?? retentionPolicy.excludePinned,\\n\\t\\t\\t\\t\\tretentionFilesOnly: retention?.filesOnly ?? retentionPolicy.filesOnly,\\n\\t\\t\\t\\t\\tretentionIgnoreThreads: retention?.ignoreThreads ?? retentionPolicy.ignoreThreads,\\n\\t\\t\\t\\t}),\\n\\t\\t\\tshowDiscussions: sidepanel?.items.includes('discussions'),\\n\\t\\t\\tshowChannels: sidepanel?.items.includes('channels'),\\n\\t\\t}),\\n\\t\\t[\\n\\t\\t\\tannouncement,\\n\\t\\t\\tarchived,\\n\\t\\t\\tdescription,\\n\\t\\t\\tjoinCodeRequired,\\n\\t\\t\\tretention,\\n\\t\\t\\tretentionPolicy,\\n\\t\\t\\tro,\\n\\t\\t\\troom,\\n\\t\\t\\tsysMes,\\n\\t\\t\\tt,\\n\\t\\t\\ttopic,\\n\\t\\t\\tencrypted,\\n\\t\\t\\treactWhenReadOnly,\\n\\t\\t\\tcanEditRoomRetentionPolicy,\\n\\t\\t\\tsidepanel,\\n\\t\\t],\\n\\t);\\n};\\n\",null],\"names\":[\"_objectSpread\",\"usePermission\",\"useMemo\",\"msToTimeUnit\",\"TIMEUNIT\",\"roomCoordinator\",\"useRetentionPolicy\",\"module\",\"link\",\"default\",\"v\",\"export\",\"useEditRoomInitialValues\",\"room\",\"retentionPolicy\",\"canEditRoomRetentionPolicy\",\"_id\",\"t\",\"ro\",\"archived\",\"topic\",\"description\",\"announcement\",\"joinCodeRequired\",\"sysMes\",\"encrypted\",\"retention\",\"reactWhenReadOnly\",\"sidepanel\",\"_retention$enabled\",\"_retention$maxAge\",\"_retention$excludePin\",\"_retention$filesOnly\",\"_retention$ignoreThre\",\"roomName\",\"usernames\",\"join\",\"getRoomName\",\"roomType\",\"readOnly\",\"roomTopic\",\"roomDescription\",\"roomAnnouncement\",\"roomAvatar\",\"undefined\",\"joinCode\",\"systemMessages\",\"Array\",\"isArray\",\"hideSysMes\",\"length\",\"enabled\",\"retentionEnabled\",\"isActive\",\"retentionOverrideGlobal\",\"overrideGlobal\",\"retentionMaxAge\",\"maxAge\",\"days\",\"retentionExcludePinned\",\"excludePinned\",\"retentionFilesOnly\",\"filesOnly\",\"retentionIgnoreThreads\",\"ignoreThreads\",\"showDiscussions\",\"items\",\"includes\",\"showChannels\"],\"mappings\":\"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\"}"}