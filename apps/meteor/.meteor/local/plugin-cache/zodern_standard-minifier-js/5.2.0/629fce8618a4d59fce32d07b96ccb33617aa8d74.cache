{"code":"function module(e,a,t){let s,r,l,n,i,o,m,d,u,g,c;t.link(\"@babel/runtime/helpers/extends\",{default(e){s=e}},0),t.export({ThreadMessageItem:()=>k}),t.link(\"@rocket.chat/fuselage\",{Box(e){r=e},Bubble(e){l=e},MessageDivider(e){n=e}},0),t.link(\"react\",{default(e){i=e}},1),t.link(\"react-i18next\",{useTranslation(e){o=e}},2),t.link(\"../../../../../components/message/variants/SystemMessage\",{default(e){m=e}},3),t.link(\"../../../../../components/message/variants/ThreadMessage\",{default(e){d=e}},4),t.link(\"../../../../../hooks/useFormatDate\",{useFormatDate(e){u=e}},5),t.link(\"../../../MessageList/lib/isMessageNewDay\",{isMessageNewDay(e){g=e}},6),t.link(\"../../../providers/DateListProvider\",{useDateRef(e){c=e}},7);let k=e=>{let{message:a,previous:t,shouldShowAsSequential:k,showUserAvatar:f,firstUnread:v,system:D}=e,{t:M}=o(),b=u(),h=c(),p=g(a,t),w=p||v;return i.createElement(i.Fragment,null,w&&i.createElement(r,s({role:\"listitem\",ref:h,\"data-id\":a.ts},p&&{\"data-time\":new Date(a.ts).toISOString().replaceAll(/[-T:.]/g,\"\").substring(0,8)}),i.createElement(n,{unreadLabel:v?M(\"Unread_Messages\").toLowerCase():void 0},p&&i.createElement(l,{small:!0,secondary:!0},b(a.ts)))),D?i.createElement(m,{message:a,showUserAvatar:f}):i.createElement(d,{message:a,sequential:k,unread:v,showUserAvatar:f}))}}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/Threads/components/ThreadMessageItem.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IThreadMainMessage, IThreadMessage } from '@rocket.chat/core-typings';\\nimport { Box, Bubble, MessageDivider } from '@rocket.chat/fuselage';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport SystemMessage from '../../../../../components/message/variants/SystemMessage';\\nimport ThreadMessage from '../../../../../components/message/variants/ThreadMessage';\\nimport { useFormatDate } from '../../../../../hooks/useFormatDate';\\nimport { isMessageNewDay } from '../../../MessageList/lib/isMessageNewDay';\\nimport { useDateRef } from '../../../providers/DateListProvider';\\n\\ntype ThreadMessageProps = {\\n\\tmessage: IThreadMessage | IThreadMainMessage;\\n\\tprevious: IThreadMessage | IThreadMainMessage;\\n\\tsequential: boolean;\\n\\tshouldShowAsSequential: boolean;\\n\\tshowUserAvatar: boolean;\\n\\tfirstUnread: boolean;\\n\\tsystem: boolean;\\n};\\n\\nexport const ThreadMessageItem = ({\\n\\tmessage,\\n\\tprevious,\\n\\tshouldShowAsSequential,\\n\\tshowUserAvatar,\\n\\tfirstUnread,\\n\\tsystem,\\n}: ThreadMessageProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst formatDate = useFormatDate();\\n\\tconst ref = useDateRef();\\n\\n\\tconst newDay = isMessageNewDay(message, previous);\\n\\n\\tconst showDivider = newDay || firstUnread;\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{showDivider && (\\n\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\trole='listitem'\\n\\t\\t\\t\\t\\tref={ref}\\n\\t\\t\\t\\t\\tdata-id={message.ts}\\n\\t\\t\\t\\t\\t{...(newDay && {\\n\\t\\t\\t\\t\\t\\t'data-time': new Date(message.ts)\\n\\t\\t\\t\\t\\t\\t\\t.toISOString()\\n\\t\\t\\t\\t\\t\\t\\t.replaceAll(/[-T:.]/g, '')\\n\\t\\t\\t\\t\\t\\t\\t.substring(0, 8),\\n\\t\\t\\t\\t\\t})}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<MessageDivider unreadLabel={firstUnread ? t('Unread_Messages').toLowerCase() : undefined}>\\n\\t\\t\\t\\t\\t\\t{newDay && (\\n\\t\\t\\t\\t\\t\\t\\t<Bubble small secondary>\\n\\t\\t\\t\\t\\t\\t\\t\\t{formatDate(message.ts)}\\n\\t\\t\\t\\t\\t\\t\\t</Bubble>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</MessageDivider>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t)}\\n\\t\\t\\t{system ? (\\n\\t\\t\\t\\t<SystemMessage message={message} showUserAvatar={showUserAvatar} />\\n\\t\\t\\t) : (\\n\\t\\t\\t\\t<ThreadMessage message={message} sequential={shouldShowAsSequential} unread={firstUnread} showUserAvatar={showUserAvatar} />\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\",null],\"names\":[\"_extends\",\"Box\",\"Bubble\",\"MessageDivider\",\"React\",\"useTranslation\",\"SystemMessage\",\"ThreadMessage\",\"useFormatDate\",\"isMessageNewDay\",\"useDateRef\",\"module\",\"link\",\"default\",\"v\",\"export\",\"ThreadMessageItem\",\"_ref\",\"message\",\"previous\",\"shouldShowAsSequential\",\"showUserAvatar\",\"firstUnread\",\"system\",\"t\",\"formatDate\",\"ref\",\"newDay\",\"showDivider\",\"createElement\",\"Fragment\",\"role\",\"ts\",\"Date\",\"toISOString\",\"replaceAll\",\"substring\",\"unreadLabel\",\"toLowerCase\",\"undefined\",\"small\",\"secondary\",\"sequential\",\"unread\"],\"mappings\":\"2BACAA,EAA4CC,EAAAC,EAAwBC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxDC,EAAQC,IAAE,CAAA,iCAAsB,CAAAC,QAAuBC,CAAC,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAApEH,EAAOI,MAAK,CAAE,CAAAC,kBAAQA,IAAcA,CAAQ,GAAwBL,EAAAC,IAAA,CAAA,wBAAA,CAAAX,IAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,OAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,eAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAP,eAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2DAAA,CAAAC,QAAAC,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2DAAA,CAAAC,QAAAC,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,qCAAA,CAAAJ,cAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2CAAA,CAAAH,gBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,sCAAA,CAAAF,WAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAoB7D,IAAME,EAAoBC,IAOR,GAPS,CACjCC,QAAAA,CAAO,CACPC,SAAAA,CAAQ,CACRC,uBAAAA,CAAsB,CACtBC,eAAAA,CAAc,CACdC,YAAAA,CAAW,CACXC,OAAAA,CAAAA,CACoB,CAAAN,EACd,CAAEO,EAAAA,CAAAA,CAAG,CAAGnB,IACRoB,EAAajB,IACbkB,EAAMhB,IAENiB,EAASlB,EAAgBS,EAASC,GAElCS,EAAcD,GAAUL,EAE9B,OACClB,EAAAyB,aAAA,CAAAzB,EAAA0B,QAAA,CAAA,KACEF,GACAxB,EAAAyB,aAAA,CAAC5B,EAAGD,EAAA,CACH+B,KAAK,WACLL,IAAKA,EACL,UAASR,EAAQc,EAAAA,AAAG,EACfL,GAAU,CACd,YAAa,IAAIM,KAAKf,EAAQc,EAAE,EAC9BE,WAAW,GACXC,UAAU,CAAC,UAAW,IACtBC,SAAS,CAAC,EAAG,KAGhBhC,EAAAyB,aAAA,CAAC1B,EAAc,CAACkC,YAAaf,EAAcE,EAAE,mBAAmBc,WAAW,GAAKC,KAAAA,CAAU,EACxFZ,GACAvB,EAAAyB,aAAA,CAAC3B,EAAM,CAACsC,MAAK,CAAA,EAACC,UAAS,CAAA,CAAA,EACrBhB,EAAWP,EAAQc,EAAE,KAM1BT,EACAnB,EAAAyB,aAAA,CAACvB,EAAa,CAACY,QAASA,EAASG,eAAgBA,CAAe,GAEhEjB,EAAAyB,aAAA,CAACtB,EAAa,CAACW,QAASA,EAASwB,WAAYtB,EAAwBuB,OAAQrB,EAAaD,eAAgBA,CAAe,GAI7H\"}"}