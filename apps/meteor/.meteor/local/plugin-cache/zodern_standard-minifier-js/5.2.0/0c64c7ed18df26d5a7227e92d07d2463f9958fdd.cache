{"code":"function module(e,r,t){let l,n,a,i,o,c,s,d,u,m,k,f,g;let h=[\"control\",\"index\"];t.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){n=e}},1),t.export({SendMessageActionForm:()=>E}),t.link(\"@rocket.chat/fuselage\",{Field(e){a=e},FieldError(e){i=e},FieldLabel(e){o=e},FieldRow(e){c=e},TextAreaInput(e){s=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useUniqueId(e){d=e}},1),t.link(\"react\",{default(e){u=e}},2),t.link(\"react-hook-form\",{Controller(e){m=e}},3),t.link(\"react-i18next\",{useTranslation(e){k=e}},4),t.link(\"../hooks\",{useFieldError(e){f=e}},5),t.link(\"./ActionSender\",{ActionSender(e){g=e}},6);let E=e=>{let{control:r,index:t}=e,E=n(e,h),{t:b}=k(),F=d(),p=\"actions.\".concat(t,\".params.msg\"),[x]=f({control:r,name:p});return u.createElement(u.Fragment,null,u.createElement(g,l({},E,{control:r,index:t})),u.createElement(a,E,u.createElement(o,{required:!0,htmlFor:F},b(\"Message\")),u.createElement(c,null,u.createElement(m,{control:r,name:p,defaultValue:\"\",rules:{required:b(\"Required_field\",{field:b(\"Message\")})},render:e=>{let{field:r}=e;return u.createElement(s,l({error:null==x?void 0:x.message,\"aria-invalid\":!!x,\"aria-describedby\":\"\".concat(F,\"-error\"),\"aria-required\":!0},r,{rows:3,placeholder:\"\".concat(b(\"Message\"),\"*\")}))}})),x&&u.createElement(i,{\"aria-live\":\"assertive\",id:\"\".concat(F,\"-error\")},x.message)))}}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/triggers/actions/SendMessageActionForm.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Field, FieldError, FieldLabel, FieldRow, TextAreaInput } from '@rocket.chat/fuselage';\\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport type { ComponentProps } from 'react';\\nimport React from 'react';\\nimport type { Control } from 'react-hook-form';\\nimport { Controller } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport type { TriggersPayload } from '../EditTrigger';\\nimport { useFieldError } from '../hooks';\\nimport { ActionSender } from './ActionSender';\\n\\ntype SendMessageActionFormType = ComponentProps<typeof Field> & {\\n\\tindex: number;\\n\\tcontrol: Control<TriggersPayload>;\\n};\\n\\nexport const SendMessageActionForm = ({ control, index, ...props }: SendMessageActionFormType) => {\\n\\tconst { t } = useTranslation();\\n\\tconst messageFieldId = useUniqueId();\\n\\tconst name = `actions.${index}.params.msg` as const;\\n\\tconst [messageError] = useFieldError({ control, name });\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ActionSender {...props} control={control} index={index} />\\n\\n\\t\\t\\t<Field {...props}>\\n\\t\\t\\t\\t<FieldLabel required htmlFor={messageFieldId}>\\n\\t\\t\\t\\t\\t{t('Message')}\\n\\t\\t\\t\\t</FieldLabel>\\n\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\tname={name}\\n\\t\\t\\t\\t\\t\\tdefaultValue=''\\n\\t\\t\\t\\t\\t\\trules={{ required: t('Required_field', { field: t('Message') }) }}\\n\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t<TextAreaInput\\n\\t\\t\\t\\t\\t\\t\\t\\terror={messageError?.message}\\n\\t\\t\\t\\t\\t\\t\\t\\taria-invalid={Boolean(messageError)}\\n\\t\\t\\t\\t\\t\\t\\t\\taria-describedby={`${messageFieldId}-error`}\\n\\t\\t\\t\\t\\t\\t\\t\\taria-required={true}\\n\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\trows={3}\\n\\t\\t\\t\\t\\t\\t\\t\\tplaceholder={`${t('Message')}*`}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</FieldRow>\\n\\n\\t\\t\\t\\t{messageError && (\\n\\t\\t\\t\\t\\t<FieldError aria-live='assertive' id={`${messageFieldId}-error`}>\\n\\t\\t\\t\\t\\t\\t{messageError.message}\\n\\t\\t\\t\\t\\t</FieldError>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</Field>\\n\\t\\t</>\\n\\t);\\n};\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Field\",\"FieldError\",\"FieldLabel\",\"FieldRow\",\"TextAreaInput\",\"useUniqueId\",\"React\",\"Controller\",\"useTranslation\",\"useFieldError\",\"ActionSender\",\"module\",\"link\",\"default\",\"v\",\"export\",\"SendMessageActionForm\",\"_ref\",\"control\",\"index\",\"props\",\"_excluded\",\"t\",\"messageFieldId\",\"name\",\"concat\",\"messageError\",\"createElement\",\"Fragment\",\"required\",\"htmlFor\",\"defaultValue\",\"rules\",\"field\",\"render\",\"_ref2\",\"error\",\"message\",\"Boolean\",\"rows\",\"placeholder\",\"id\"],\"mappings\":\"2BAAAA,EAAuEC,EAANC,EAAMC,EAAAC,EAAwBC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,4BAAtFC,EAAOC,IAAA,CAAA,iCAAkC,CAAAC,QAAeC,CAAA,EAAAhB,EAAMgB,CAAA,CAAA,EAAA,GAAwBH,EAAAC,IAAA,CAAA,iDAAA,CAAAC,QAAAC,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAA/FH,EAAOI,MAAE,CAAK,CAAAC,sBAAcA,IAAYA,CAAU,GAA6CL,EAAAC,IAAA,CAAA,wBAAA,CAAAZ,MAAAc,CAAA,EAAAd,EAAAc,CAAA,EAAAb,WAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,WAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,cAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAP,YAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAC,QAAAC,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kBAAA,CAAAL,WAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAJ,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,WAAA,CAAAH,cAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iBAAA,CAAAF,aAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAiBxF,IAAME,EAAwBC,IAA4D,GAA3D,CAAEC,QAAAA,CAAO,CAAEC,MAAAA,CAAAA,CAA4C,CAAAF,EAAlCG,EAAKrB,EAAAkB,EAAAI,GACzD,CAAEC,EAAAA,CAAAA,CAAG,CAAGd,IACRe,EAAiBlB,IACjBmB,EAAI,WAAAC,MAAA,CAAcN,EAAK,eACvB,CAACO,EAAa,CAAGjB,EAAc,CAAES,QAAAA,EAASM,KAAAA,CAAI,GAEpD,OACClB,EAAAqB,aAAA,CAAArB,EAAAsB,QAAA,CAAA,KACCtB,EAAAqB,aAAA,CAACjB,EAAYZ,EAAA,CAAA,EAAKsB,EAAK,CAAEF,QAASA,EAASC,MAAOA,CAAM,IAExDb,EAAAqB,aAAA,CAAC3B,EAAUoB,EACVd,EAAAqB,aAAA,CAACzB,EAAU,CAAC2B,SAAQ,CAAA,EAACC,QAASP,CAAe,EAC3CD,EAAE,YAEJhB,EAAAqB,aAAA,CAACxB,EAAQ,KACRG,EAAAqB,aAAA,CAACpB,EAAU,CACVW,QAASA,EACTM,KAAMA,EACNO,aAAa,GACbC,MAAO,CAAEH,SAAUP,EAAE,iBAAkB,CAAEW,MAAOX,EAAE,UAAU,EAAG,EAC/DY,OAAQC,IAAA,GAAC,CAAEF,MAAAA,CAAAA,CAAO,CAAAE,EAAA,OACjB7B,EAAAqB,aAAA,CAACvB,EAAaN,EAAA,CACbsC,MAAOV,MAAAA,EAAY,KAAA,EAAZA,EAAcW,OAAQ,CAC7B,eAAcC,CAAAA,CAAQZ,EACtB,mBAAA,GAAAD,MAAA,CAAqBF,EAAc,UACnC,gBAAe,CAAA,CAAK,EAChBU,EAAK,CACTM,KAAM,EACNC,YAAW,GAAAf,MAAA,CAAKH,EAAE,WAAU,IAAI,GAC/B,CACD,IAIHI,GACApB,EAAAqB,aAAA,CAAC1B,EAAU,CAAC,YAAU,YAAYwC,GAAE,GAAAhB,MAAA,CAAKF,EAAc,SAAS,EAC9DG,EAAaW,OACH,GAKjB\"}"}