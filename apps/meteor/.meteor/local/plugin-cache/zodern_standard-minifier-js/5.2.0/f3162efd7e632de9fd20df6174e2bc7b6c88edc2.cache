{"code":"function module(e,t,n){var o,i,a,r,u,l,c,s,f,m,d,k,h,p,v,T;n.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},SidebarV2GroupTitle:function(e){i=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useTranslation:function(e){a=e},useUserPreference:function(e){r=e},useSetting:function(e){u=e}},1),n.link(\"react\",{default:function(e){l=e},useMemo:function(e){c=e},useRef:function(e){s=e}},2),n.link(\"react-virtuoso\",{Virtuoso:function(e){f=e}},3),n.link(\"../../components/CustomScrollbars\",{VirtuosoScrollbars:function(e){m=e}},4),n.link(\"../RoomList/RoomListWrapper\",{default:function(e){d=e}},5),n.link(\"../hooks/useAvatarTemplate\",{useAvatarTemplate:function(e){k=e}},6),n.link(\"../hooks/usePreventDefault\",{usePreventDefault:function(e){h=e}},7),n.link(\"../hooks/useTemplateByViewMode\",{useTemplateByViewMode:function(e){p=e}},8),n.link(\"../search/Row\",{default:function(e){v=e}},9),n.link(\"./hooks/useSearchItems\",{useSearchItems:function(e){T=e}},10),n.exportDefault(function(e){var t=e.filterText,n=e.onEscSearch,b=e.showRecentList,g=a(),S=s(null);h(S);var x=T(t),w=x.data,R=void 0===w?[]:w,E=x.isLoading,V=r(\"sidebarViewMode\"),I=u(\"UI_Use_Real_Name\"),y=p(),L=k(),M=\"extended\"===V,N=c(function(){return{items:R,t:g,SidebarItemTemplate:y,avatarTemplate:L,useRealName:I,extended:M,sidebarViewMode:V}},[L,M,R,I,y,V,g]);return l.createElement(o,{ref:S,role:\"listbox\",tabIndex:-1,flexShrink:1,h:\"full\",w:\"full\",pbs:b?0:8,\"aria-live\":\"polite\",\"aria-atomic\":\"true\",\"aria-busy\":E,onClick:function(e){var t;if(!(e.target instanceof Element&&[e.target.tagName,null===(t=e.target.parentElement)||void 0===t?void 0:t.tagName].includes(\"BUTTON\")))return n()}},b&&l.createElement(i,{title:g(\"Recent\")}),l.createElement(f,{style:{height:\"100%\",width:\"100%\"},totalCount:R.length,data:R,components:{List:d,Scroller:m},computeItemKey:function(e,t){return t._id},itemContent:function(e,t){return l.createElement(v,{data:N,item:t})}}))})}","map":"{\"version\":3,\"sources\":[\"client/sidebarv2/header/SearchList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, SidebarV2GroupTitle } from '@rocket.chat/fuselage';\\nimport { useTranslation, useUserPreference, useSetting } from '@rocket.chat/ui-contexts';\\nimport type { MouseEventHandler, ReactElement } from 'react';\\nimport React, { useMemo, useRef } from 'react';\\nimport { Virtuoso } from 'react-virtuoso';\\n\\nimport { VirtuosoScrollbars } from '../../components/CustomScrollbars';\\nimport RoomListWrapper from '../RoomList/RoomListWrapper';\\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\\nimport { usePreventDefault } from '../hooks/usePreventDefault';\\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\\nimport Row from '../search/Row';\\nimport { useSearchItems } from './hooks/useSearchItems';\\n\\ntype SearchListProps = { filterText: string; onEscSearch: () => void; showRecentList?: boolean };\\n\\nconst SearchList = ({ filterText, onEscSearch, showRecentList }: SearchListProps) => {\\n\\tconst t = useTranslation();\\n\\n\\tconst boxRef = useRef<HTMLDivElement>(null);\\n\\tusePreventDefault(boxRef);\\n\\n\\tconst { data: items = [], isLoading } = useSearchItems(filterText);\\n\\n\\tconst sidebarViewMode = useUserPreference('sidebarViewMode');\\n\\tconst useRealName = useSetting('UI_Use_Real_Name');\\n\\n\\tconst sideBarItemTemplate = useTemplateByViewMode();\\n\\tconst avatarTemplate = useAvatarTemplate();\\n\\n\\tconst extended = sidebarViewMode === 'extended';\\n\\n\\tconst itemData = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\titems,\\n\\t\\t\\tt,\\n\\t\\t\\tSidebarItemTemplate: sideBarItemTemplate,\\n\\t\\t\\tavatarTemplate,\\n\\t\\t\\tuseRealName,\\n\\t\\t\\textended,\\n\\t\\t\\tsidebarViewMode,\\n\\t\\t}),\\n\\t\\t[avatarTemplate, extended, items, useRealName, sideBarItemTemplate, sidebarViewMode, t],\\n\\t);\\n\\n\\tconst handleClick: MouseEventHandler<HTMLElement> = (e): void => {\\n\\t\\tif (e.target instanceof Element && [e.target.tagName, e.target.parentElement?.tagName].includes('BUTTON')) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\treturn onEscSearch();\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Box\\n\\t\\t\\tref={boxRef}\\n\\t\\t\\trole='listbox'\\n\\t\\t\\ttabIndex={-1}\\n\\t\\t\\tflexShrink={1}\\n\\t\\t\\th='full'\\n\\t\\t\\tw='full'\\n\\t\\t\\tpbs={showRecentList ? 0 : 8}\\n\\t\\t\\taria-live='polite'\\n\\t\\t\\taria-atomic='true'\\n\\t\\t\\taria-busy={isLoading}\\n\\t\\t\\tonClick={handleClick}\\n\\t\\t>\\n\\t\\t\\t{showRecentList && <SidebarV2GroupTitle title={t('Recent')} />}\\n\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\tstyle={{ height: '100%', width: '100%' }}\\n\\t\\t\\t\\ttotalCount={items.length}\\n\\t\\t\\t\\tdata={items}\\n\\t\\t\\t\\tcomponents={{ List: RoomListWrapper, Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t\\tcomputeItemKey={(_, room) => room._id}\\n\\t\\t\\t\\titemContent={(_, data): ReactElement => <Row data={itemData} item={data} />}\\n\\t\\t\\t/>\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default SearchList;\\n\",null],\"names\":[\"Box\",\"SidebarV2GroupTitle\",\"useTranslation\",\"useUserPreference\",\"useSetting\",\"React\",\"useMemo\",\"useRef\",\"Virtuoso\",\"VirtuosoScrollbars\",\"RoomListWrapper\",\"useAvatarTemplate\",\"usePreventDefault\",\"useTemplateByViewMode\",\"Row\",\"useSearchItems\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"filterText\",\"onEscSearch\",\"showRecentList\",\"t\",\"boxRef\",\"_useSearchItems\",\"_useSearchItems$data\",\"data\",\"items\",\"isLoading\",\"sidebarViewMode\",\"useRealName\",\"sideBarItemTemplate\",\"avatarTemplate\",\"extended\",\"itemData\",\"SidebarItemTemplate\",\"createElement\",\"ref\",\"role\",\"tabIndex\",\"flexShrink\",\"h\",\"w\",\"pbs\",\"onClick\",\"e\",\"_e$target$parentEleme\",\"target\",\"Element\",\"tagName\",\"parentElement\",\"includes\",\"title\",\"style\",\"height\",\"width\",\"totalCount\",\"length\",\"components\",\"List\",\"Scroller\",\"computeItemKey\",\"_\",\"room\",\"_id\",\"itemContent\",\"item\"],\"mappings\":\"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\"}"}