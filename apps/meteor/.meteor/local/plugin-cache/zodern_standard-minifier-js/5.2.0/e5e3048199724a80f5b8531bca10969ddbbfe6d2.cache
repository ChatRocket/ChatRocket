{"code":"function module(e,o,t){let n,a,i,r,l,m,p;t.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){n=e}},0),t.export({VoipRoomType:()=>s}),t.link(\"../../../../app/authorization/client\",{hasPermission(e){a=e}},0),t.link(\"../../../../app/models/client\",{ChatRoom(e){i=e}},1),t.link(\"../../../../app/settings/client\",{settings(e){r=e}},2),t.link(\"../../../../app/utils/client/getAvatarURL\",{getAvatarURL(e){l=e}},3),t.link(\"../../../../lib/rooms/roomTypes/voip\",{getVoipRoomType(e){m=e}},4),t.link(\"../roomCoordinator\",{roomCoordinator(e){p=e}},5);let s=m(p);p.add(n(n({},s),{},{label:\"Voip\"}),{roomName:e=>e.name||e.fname||e.label,condition:()=>r.get(\"Livechat_enabled\")&&a(\"view-l-room\"),getAvatarPath(e){return l({username:\"@\".concat(this.roomName(e))})||\"\"},findRoom:e=>i.findOne({_id:e}),canSendMessage:e=>!1,readOnly:(e,o)=>!0,getIcon:()=>\"phone\",extractOpenRoomParams(e){let{id:o}=e;return{type:\"v\",reference:o}}})}","map":"{\"version\":3,\"sources\":[\"client/lib/rooms/roomTypes/voip.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { AtLeast } from '@rocket.chat/core-typings';\\n\\nimport { hasPermission } from '../../../../app/authorization/client';\\nimport { ChatRoom } from '../../../../app/models/client';\\nimport { settings } from '../../../../app/settings/client';\\nimport { getAvatarURL } from '../../../../app/utils/client/getAvatarURL';\\nimport type { IRoomTypeClientDirectives } from '../../../../definition/IRoomTypeConfig';\\nimport { getVoipRoomType } from '../../../../lib/rooms/roomTypes/voip';\\nimport { roomCoordinator } from '../roomCoordinator';\\n\\nexport const VoipRoomType = getVoipRoomType(roomCoordinator);\\n\\nroomCoordinator.add(\\n\\t{\\n\\t\\t...VoipRoomType,\\n\\t\\tlabel: 'Voip',\\n\\t},\\n\\t{\\n\\t\\troomName(room) {\\n\\t\\t\\treturn room.name || room.fname || (room as any).label;\\n\\t\\t},\\n\\n\\t\\tcondition() {\\n\\t\\t\\treturn settings.get('Livechat_enabled') && hasPermission('view-l-room');\\n\\t\\t},\\n\\n\\t\\tgetAvatarPath(room) {\\n\\t\\t\\treturn getAvatarURL({ username: `@${this.roomName(room)}` }) || '';\\n\\t\\t},\\n\\n\\t\\tfindRoom(identifier) {\\n\\t\\t\\treturn ChatRoom.findOne({ _id: identifier });\\n\\t\\t},\\n\\n\\t\\tcanSendMessage(_rid) {\\n\\t\\t\\treturn false;\\n\\t\\t},\\n\\n\\t\\treadOnly(_rid, _user) {\\n\\t\\t\\treturn true;\\n\\t\\t},\\n\\n\\t\\tgetIcon() {\\n\\t\\t\\treturn 'phone';\\n\\t\\t},\\n\\n\\t\\textractOpenRoomParams({ id }) {\\n\\t\\t\\treturn { type: 'v', reference: id };\\n\\t\\t},\\n\\t} as AtLeast<IRoomTypeClientDirectives, 'roomName'>,\\n);\\n\",null],\"names\":[\"_objectSpread\",\"hasPermission\",\"ChatRoom\",\"settings\",\"getAvatarURL\",\"getVoipRoomType\",\"roomCoordinator\",\"module\",\"link\",\"default\",\"v\",\"export\",\"VoipRoomType\",\"add\",\"label\",\"roomName\",\"room\",\"name\",\"fname\",\"condition\",\"get\",\"getAvatarPath\",\"username\",\"concat\",\"findRoom\",\"identifier\",\"findOne\",\"_id\",\"canSendMessage\",\"_rid\",\"readOnly\",\"_user\",\"getIcon\",\"extractOpenRoomParams\",\"_ref\",\"id\",\"type\",\"reference\"],\"mappings\":\"2BAEAA,EAA8BC,EAAuCC,EAAAC,EAAAC,EAAAC,EAAAC,EAA5DC,EAAeC,IAAA,CAAM,uCAAuC,CAAAC,QAAAC,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAArEH,EAAOI,MAAE,CAAA,CAAAC,aAAeA,IAAMA,CAAA,GAAAL,EAAuCC,IAAA,CAAA,uCAAA,CAAAP,cAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gCAAA,CAAAN,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAL,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,4CAAA,CAAAJ,aAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAH,gBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,qBAAA,CAAAF,gBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAQ9D,IAAME,EAAeP,EAAgBC,GAE5CA,EAAgBO,GAAG,CAAAb,EAAAA,EAAA,CAAA,EAEdY,GAAY,CAAA,EAAA,CACfE,MAAO,MAAM,GAEd,CACCC,SAAAA,AAASC,GACDA,EAAKC,IAAI,EAAID,EAAKE,KAAK,EAAKF,EAAaF,KAAK,CAGtDK,UAAAA,IACQhB,EAASiB,GAAG,CAAC,qBAAuBnB,EAAc,eAG1DoB,cAAcL,CAAI,EACjB,OAAOZ,EAAa,CAAEkB,SAAQ,IAAAC,MAAA,CAAM,IAAI,CAACR,QAAQ,CAACC,GAAO,IAAO,EACjE,EAEAQ,SAAAA,AAASC,GACDvB,EAASwB,OAAO,CAAC,CAAEC,IAAKF,CAAU,GAG1CG,eAAAA,AAAeC,GACP,CAAA,EAGRC,SAAAA,CAASD,EAAME,IACP,CAAA,EAGRC,QAAAA,IACQ,QAGRC,sBAAqBC,CAAA,EAAO,GAAN,CAAEC,GAAAA,CAAAA,CAAI,CAAAD,EAC3B,MAAO,CAAEE,KAAM,IAAKC,UAAWF,CAAE,CAClC\"}"}