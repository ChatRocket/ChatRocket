{"code":"function module(e,t,n){let l,i,a,u,r,c,o,d,m,s;n.link(\"@rocket.chat/fuselage\",{MenuItem(e){l=e},MenuItemContent(e){i=e},MenuSection(e){a=e},MenuV2(e){u=e},Skeleton(e){r=e}},0),n.link(\"@rocket.chat/ui-client\",{useHandleMenuAction(e){c=e}},1),n.link(\"react\",{default(e){o=e},memo(e){d=e}},2),n.link(\"react-i18next\",{useTranslation(e){m=e}},3),n.link(\"./hooks/useAppMenu\",{useAppMenu(e){s=e}},4),n.exportDefault(d(e=>{let{app:t,isAppDetailsPage:n}=e,{t:d}=m(),{isLoading:k,isAdminUser:p,sections:h}=s(t,n),M=h.reduce((e,t)=>{let{items:n}=t;return[...e,...n]},[]),f=c(M),E=M.filter(e=>e.disabled).map(e=>e.id);return k?o.createElement(r,{variant:\"rect\",height:\"x28\",width:\"x28\"}):!p&&null!=t&&t.installed&&0===h.length?null:o.createElement(u,{title:d(\"More_options\"),onAction:f,disabledKeys:E,detached:!0},h.map((e,t)=>{let{items:n}=e;return o.createElement(a,{key:t,items:n},n.map(e=>o.createElement(l,{key:e.id},o.createElement(i,null,e.content))))}))}))}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/AppMenu.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { App } from '@rocket.chat/core-typings';\\nimport { MenuItem, MenuItemContent, MenuSection, MenuV2, Skeleton } from '@rocket.chat/fuselage';\\nimport { useHandleMenuAction } from '@rocket.chat/ui-client';\\nimport React, { memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport type { AppMenuOption } from './hooks/useAppMenu';\\nimport { useAppMenu } from './hooks/useAppMenu';\\n\\ntype AppMenuProps = {\\n\\tapp: App;\\n\\tisAppDetailsPage: boolean;\\n};\\n\\nconst AppMenu = ({ app, isAppDetailsPage }: AppMenuProps) => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst { isLoading, isAdminUser, sections } = useAppMenu(app, isAppDetailsPage);\\n\\n\\tconst itemsList = sections.reduce((acc, { items }) => [...acc, ...items], [] as AppMenuOption[]);\\n\\n\\tconst onAction = useHandleMenuAction(itemsList);\\n\\tconst disabledKeys = itemsList.filter((item) => item.disabled).map((item) => item.id);\\n\\n\\tif (isLoading) {\\n\\t\\treturn <Skeleton variant='rect' height='x28' width='x28' />;\\n\\t}\\n\\n\\tif (!isAdminUser && app?.installed && sections.length === 0) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<MenuV2 title={t('More_options')} onAction={onAction} disabledKeys={disabledKeys} detached>\\n\\t\\t\\t{sections.map(({ items }, idx) => (\\n\\t\\t\\t\\t<MenuSection key={idx} items={items}>\\n\\t\\t\\t\\t\\t{items.map((option) => (\\n\\t\\t\\t\\t\\t\\t<MenuItem key={option.id}>\\n\\t\\t\\t\\t\\t\\t\\t<MenuItemContent>{option.content}</MenuItemContent>\\n\\t\\t\\t\\t\\t\\t</MenuItem>\\n\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t</MenuSection>\\n\\t\\t\\t))}\\n\\t\\t</MenuV2>\\n\\t);\\n};\\n\\nexport default memo(AppMenu);\\n\",null],\"names\":[\"MenuItem\",\"MenuItemContent\",\"MenuSection\",\"MenuV2\",\"Skeleton\",\"useHandleMenuAction\",\"React\",\"memo\",\"useTranslation\",\"useAppMenu\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"app\",\"isAppDetailsPage\",\"t\",\"isLoading\",\"isAdminUser\",\"sections\",\"itemsList\",\"reduce\",\"acc\",\"_ref2\",\"items\",\"onAction\",\"disabledKeys\",\"filter\",\"item\",\"disabled\",\"map\",\"id\",\"createElement\",\"variant\",\"height\",\"width\",\"installed\",\"length\",\"title\",\"detached\",\"_ref3\",\"idx\",\"key\",\"option\",\"content\"],\"mappings\":\"2BACAA,EAASC,EAAUC,EAAiBC,EAAWC,EAAkDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxCC,EAAAC,IAAU,CAAA,wBAAM,CAAAX,SAAwBY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,gBAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,YAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,OAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yBAAA,CAAAN,oBAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,EAAAL,KAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAH,eAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,qBAAA,CAAAF,WAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAjGF,EAAOI,aAAY,CA8CJP,EAjCCQ,IAA4C,GAA3C,CAAEC,IAAAA,CAAG,CAAEC,iBAAAA,CAAAA,CAAgC,CAAAF,EACjD,CAAEG,EAAAA,CAAAA,CAAG,CAAGV,IAER,CAAEW,UAAAA,CAAS,CAAEC,YAAAA,CAAW,CAAEC,SAAAA,CAAAA,CAAU,CAAGZ,EAAWO,EAAKC,GAEvDK,EAAYD,EAASE,MAAM,CAAC,CAACC,EAAGC,KAAA,GAAE,CAAEC,MAAAA,CAAAA,CAAO,CAAAD,EAAA,MAAK,IAAID,KAAQE,EAAM,EAAE,EAAqB,EAEzFC,EAAWtB,EAAoBiB,GAC/BM,EAAeN,EAAUO,MAAM,CAAEC,GAASA,EAAKC,QAAQ,EAAEC,GAAG,CAAEF,GAASA,EAAKG,EAAE,SAEpF,AAAId,EACIb,EAAA4B,aAAA,CAAC9B,EAAQ,CAAC+B,QAAQ,OAAOC,OAAO,MAAMC,MAAM,KAAK,GAGrD,CAACjB,GAAeJ,MAAAA,GAAAA,EAAKsB,SAAS,EAAIjB,AAAoB,IAApBA,EAASkB,MAAM,CAC7C,KAIPjC,EAAA4B,aAAA,CAAC/B,EAAM,CAACqC,MAAOtB,EAAE,gBAAiBS,SAAUA,EAAUC,aAAcA,EAAca,SAAQ,CAAA,CAAA,EACxFpB,EAASW,GAAG,CAAC,CAAAU,EAAYC,KAAG,GAAd,CAAEjB,MAAAA,CAAAA,CAAO,CAAAgB,EAAA,OACvBpC,EAAA4B,aAAA,CAAChC,EAAW,CAAC0C,IAAKD,EAAKjB,MAAOA,CAAM,EAClCA,EAAMM,GAAG,CAAEa,GACXvC,EAAA4B,aAAA,CAAClC,EAAQ,CAAC4C,IAAKC,EAAOZ,EAAAA,AAAG,EACxB3B,EAAA4B,aAAA,CAACjC,EAAe,KAAE4C,EAAOC,OAAyB,IAGvC,GAIlB\"}"}