{"code":"function module(e,t,n){n.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){s=e}},1),n.link(\"@babel/runtime/helpers/inheritsLoose\",{default:function(e){i=e}},2),n.export({ClientSession:function(){return c}}),n.link(\"../Session\",{Session:function(e){u=e}},0);var r,s,i,u,c=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.init=function(){var e,t;return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.awrap(this.sodium());case 2:return e=n.sent,n.next=5,r.awrap(e.crypto_box_keypair());case 5:return t=n.sent,n.next=8,r.awrap(e.crypto_box_secretkey(t));case 8:return this.secretKey=n.sent,n.next=11,r.awrap(e.crypto_box_publickey(t));case 11:return this.publicKey=n.sent,n.abrupt(\"return\",this.publicKey.toString(this.stringFormatKey));case 13:case\"end\":return n.stop()}},null,this,null,Promise)},n.setServerKey=function(e){var t,n,i,u,c;return r.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.awrap(this.sodium());case 2:return t=a.sent,a.next=5,r.awrap(t.crypto_kx_client_session_keys(this.publicKey,this.secretKey,this.publicKeyFromString(e)));case 5:n=a.sent,u=(i=s(n,2))[0],c=i[1],this.decryptKey=u,this.encryptKey=c;case 11:case\"end\":return a.stop()}},null,this,null,Promise)},t}(u)}","map":"{\"version\":3,\"sources\":[\"app/ecdh/client/ClientSession.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Session } from '../Session';\\n\\nexport class ClientSession extends Session {\\n\\tasync init(): Promise<string> {\\n\\t\\tconst sodium = await this.sodium();\\n\\n\\t\\tconst clientKeypair = await sodium.crypto_box_keypair();\\n\\t\\tthis.secretKey = await sodium.crypto_box_secretkey(clientKeypair);\\n\\t\\tthis.publicKey = await sodium.crypto_box_publickey(clientKeypair);\\n\\n\\t\\treturn this.publicKey.toString(this.stringFormatKey);\\n\\t}\\n\\n\\tasync setServerKey(serverPublic: string): Promise<void> {\\n\\t\\tconst sodium = await this.sodium();\\n\\n\\t\\tconst [decryptKey, encryptKey] = await sodium.crypto_kx_client_session_keys(\\n\\t\\t\\tthis.publicKey,\\n\\t\\t\\tthis.secretKey,\\n\\t\\t\\tthis.publicKeyFromString(serverPublic),\\n\\t\\t);\\n\\n\\t\\tthis.decryptKey = decryptKey;\\n\\t\\tthis.encryptKey = encryptKey;\\n\\t}\\n}\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_slicedToArray\",\"_inheritsLoose\",\"export\",\"ClientSession\",\"Session\",\"_Session\",\"apply\",\"arguments\",\"_proto\",\"prototype\",\"init\",\"sodium\",\"clientKeypair\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"sent\",\"crypto_box_keypair\",\"crypto_box_secretkey\",\"secretKey\",\"crypto_box_publickey\",\"publicKey\",\"abrupt\",\"toString\",\"stringFormatKey\",\"stop\",\"Promise\",\"setServerKey\",\"serverPublic\",\"_await$sodium$crypto_\",\"_await$sodium$crypto_2\",\"decryptKey\",\"encryptKey\",\"_context2\",\"crypto_kx_client_session_keys\",\"publicKeyFromString\"],\"mappings\":\"uBAAwBA,EAAAC,IAAA,CAAY,6BAAC,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,uCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAArCH,EAAOO,MAAE,CAAA,CAAAC,cAAe,WAAa,OAAAA,CAAA,CAAA,GAAAR,EAAAC,IAAA,CAAA,aAAA,CAAAQ,QAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAA,IAArCC,EAAqCC,EAAAC,EAAAG,EAExBD,EAAc,SAAAE,CAAA,EAAA,SAAAF,IAAA,OAAAE,EAAAC,KAAA,CAAA,IAAA,CAAAC,YAAA,IAAA,CAAAN,EAAAE,EAAAE,GAAA,IAAAG,EAAAL,EAAAM,SAAA,CAsBzB,OAtByBD,EACpBE,IAAI,CAAV,WAAA,IAAAC,EAAAC,EAAA,OAAAb,EAAAc,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAE,IAAA,CAAA,EAAAjB,EAAAkB,KAAA,CACsB,IAAI,CAACN,MAAM,GAAE,MAAA,EAAtB,OAANA,EAAMG,EAAAI,IAAA,CAAAJ,EAAAE,IAAA,CAAA,EAAAjB,EAAAkB,KAAA,CAEgBN,EAAOQ,kBAAkB,GAAE,MAAA,EAApC,OAAbP,EAAaE,EAAAI,IAAA,CAAAJ,EAAAE,IAAA,CAAA,EAAAjB,EAAAkB,KAAA,CACIN,EAAOS,oBAAoB,CAACR,GAAc,MAAA,EAAnD,OAAd,IAAI,CAACS,SAAS,CAAAP,EAAAI,IAAA,CAAAJ,EAAAE,IAAA,CAAA,GAAAjB,EAAAkB,KAAA,CACSN,EAAOW,oBAAoB,CAACV,GAAc,MAAA,GAAnD,OAAd,IAAI,CAACW,SAAS,CAAAT,EAAAI,IAAA,CAAAJ,EAAAU,MAAA,CAAA,SAEP,IAAI,CAACD,SAAS,CAACE,QAAQ,CAAC,IAAI,CAACC,eAAe,EAAC,MAAA,GAAA,IAAA,MAAA,OAAAZ,EAAAa,IAAA,EAAA,CAAA,EAAA,KAAA,IAAA,CAAA,KAAAC,QAAA,EACpDpB,EAEKqB,YAAY,CAAlB,SAAmBC,CAAoB,EAAA,IAAAnB,EAAAoB,EAAAC,EAAAC,EAAAC,EAAA,OAAAnC,EAAAc,KAAA,CAAA,SAAAsB,CAAA,EAAA,OAAA,OAAAA,EAAApB,IAAA,CAAAoB,EAAAnB,IAAA,EAAA,KAAA,EAAA,OAAAmB,EAAAnB,IAAA,CAAA,EAAAjB,EAAAkB,KAAA,CACjB,IAAI,CAACN,MAAM,GAAE,MAAA,EAAtB,OAANA,EAAMwB,EAAAjB,IAAA,CAAAiB,EAAAnB,IAAA,CAAA,EAAAjB,EAAAkB,KAAA,CAE2BN,EAAOyB,6BAA6B,CAC1E,IAAI,CAACb,SAAS,CACd,IAAI,CAACF,SAAS,CACd,IAAI,CAACgB,mBAAmB,CAACP,IACzB,MAAA,EAAAC,EAAAI,EAAAjB,IAAA,CAJMe,EAAUD,AAIhBA,CAAAA,EAAAhC,EAAA+B,EAAA,EAAA,CAJgB,CAAA,EAAA,CAAEG,EAAUF,CAAA,CAAA,EAAA,CAM7B,IAAI,CAACC,UAAU,CAAGA,EAClB,IAAI,CAACC,UAAU,CAAGA,CAAW,MAAA,GAAA,IAAA,MAAA,OAAAC,EAAAR,IAAA,EAAA,CAAA,EAAA,KAAA,IAAA,CAAA,KAAAC,QAAA,EAC7BzB,CAAA,EAtBiCC\"}"}