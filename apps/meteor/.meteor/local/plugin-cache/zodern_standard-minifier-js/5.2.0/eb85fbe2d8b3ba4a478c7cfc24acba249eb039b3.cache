{"code":"function module(e,n,t){var u,l,c,i,o,a,r;t.link(\"@rocket.chat/ui-contexts\",{useSession:function(e){u=e},useUserId:function(e){l=e},useSetting:function(e){c=e}},0),t.link(\"@rocket.chat/web-ui-registration\",{default:function(e){i=e}},1),t.link(\"react\",{default:function(e){o=e}},2),t.link(\"./LoginPage\",{default:function(e){a=e}},3),t.link(\"./UsernameCheck\",{default:function(e){r=e}},4),t.exportDefault(function(e){var n=e.children,t=e.guest,f=l(),s=c(\"Accounts_AllowAnonymousRead\"),d=u(\"forceLogin\");return f?o.createElement(r,null,n):!d&&t?o.createElement(i,{defaultRoute:\"guest\",children:n}):!d&&s?o.createElement(r,null,n):o.createElement(a,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/root/MainLayout/AuthenticationCheck.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useSession, useUserId, useSetting } from '@rocket.chat/ui-contexts';\\nimport RegistrationRoute from '@rocket.chat/web-ui-registration';\\nimport type { ReactElement, ReactNode } from 'react';\\nimport React from 'react';\\n\\nimport LoginPage from './LoginPage';\\nimport UsernameCheck from './UsernameCheck';\\n\\n/*\\n * Anonymous and guest are similar in some way\\n *\\n * Anonymous is an old feature that allows the user to navigate as an anonymus user\\n * by default the user dont need to do anything its hadled by the system but by behind the scenes a new    * user is registered\\n *\\n * Guest is only for certain locations, it shows a form asking if the user wants to stay as guest and if so\\n * renders the page, without creating an user (not even an anonymous user)\\n */\\nconst AuthenticationCheck = ({ children, guest }: { children: ReactNode; guest?: boolean }): ReactElement => {\\n\\tconst uid = useUserId();\\n\\tconst allowAnonymousRead = useSetting('Accounts_AllowAnonymousRead');\\n\\tconst forceLogin = useSession('forceLogin');\\n\\n\\tif (uid) {\\n\\t\\treturn <UsernameCheck>{children}</UsernameCheck>;\\n\\t}\\n\\n\\tif (!forceLogin && guest) {\\n\\t\\treturn <RegistrationRoute defaultRoute='guest' children={children} />;\\n\\t}\\n\\n\\tif (!forceLogin && allowAnonymousRead) {\\n\\t\\treturn <UsernameCheck>{children}</UsernameCheck>;\\n\\t}\\n\\n\\treturn <LoginPage />;\\n};\\n\\nexport default AuthenticationCheck;\\n\",null],\"names\":[\"useSession\",\"useUserId\",\"useSetting\",\"RegistrationRoute\",\"React\",\"LoginPage\",\"UsernameCheck\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"children\",\"guest\",\"uid\",\"allowAnonymousRead\",\"forceLogin\",\"createElement\",\"defaultRoute\"],\"mappings\":\"uBAiBA,IAjBAA,EAASC,EAAYC,EAAwDC,EAAAC,EAAAC,EAAAC,EAA7CC,EAAUC,IAAE,CAAA,2BAAM,CAA0BR,WAAC,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,UAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,WAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,cAAA,CAAA,QAAA,SAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kBAAA,CAAA,QAAA,SAAAC,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA7EF,EAAOG,aAAY,CAiBS,SAAAC,CAAA,EAAgF,IAA7EC,EAAQD,EAARC,QAAQ,CAAEC,EAAKF,EAALE,KAAK,CACvCC,EAAMb,IACNc,EAAqBb,EAAW,+BAChCc,EAAahB,EAAW,qBAE9B,AAAIc,EACIV,EAAAa,aAAA,CAACX,EAAa,KAAEM,GAGpB,CAACI,GAAcH,EACXT,EAAAa,aAAA,CAACd,EAAiB,CAACe,aAAa,QAAQN,SAAUA,CAAS,GAG/D,CAACI,GAAcD,EACXX,EAAAa,aAAA,CAACX,EAAa,KAAEM,GAGjBR,EAAAa,aAAA,CAACZ,EAAS,KAClB\"}"}