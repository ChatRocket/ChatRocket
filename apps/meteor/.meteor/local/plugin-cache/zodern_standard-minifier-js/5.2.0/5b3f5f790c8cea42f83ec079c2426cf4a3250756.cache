{"code":"function module(e,t,s){let a,l,i,n,o,u,r,c,h;s.link(\"@rocket.chat/fuselage\",{PaginatedSelectFiltered(e){a=e}},0),s.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue(e){l=e}},1),s.link(\"react\",{default(e){i=e},memo(e){n=e},useMemo(e){o=e},useState(e){u=e}},2),s.link(\"../hooks/lists/useRecordList\",{useRecordList(e){r=e}},3),s.link(\"../lib/asyncState\",{AsyncStatePhase(e){c=e}},4),s.link(\"./Omnichannel/hooks/useAgentsList\",{useAgentsList(e){h=e}},5),s.exportDefault(n(e=>{let{value:t,error:s,placeholder:n,haveAll:d=!1,haveNoAgentsSelectedOption:k=!1,excludeId:m,showIdleAgents:f=!0,onlyAvailable:g=!1,withTitle:L=!1,onChange:p}=e,[S,A]=u(\"\"),x=l(S,500),{itemsList:D,loadMoreItems:M}=h(o(()=>({text:x,onlyAvailable:g,haveAll:d,haveNoAgentsSelectedOption:k,excludeId:m,showIdleAgents:f}),[x,m,d,k,g,f])),{phase:R,itemCount:b,items:v}=r(D);return i.createElement(a,{withTitle:L,value:t,error:s,placeholder:n,onChange:p,flexShrink:0,filter:S,setFilter:A,options:v,\"data-qa\":\"autocomplete-agent\",endReached:R===c.LOADING?()=>void 0:e=>M(e,Math.min(50,b))})}))}","map":"{\"version\":3,\"sources\":[\"client/components/AutoCompleteAgent.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { PaginatedSelectFiltered } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport type { ReactElement } from 'react';\\nimport React, { memo, useMemo, useState } from 'react';\\n\\nimport { useRecordList } from '../hooks/lists/useRecordList';\\nimport { AsyncStatePhase } from '../lib/asyncState';\\nimport { useAgentsList } from './Omnichannel/hooks/useAgentsList';\\n\\ntype AutoCompleteAgentProps = {\\n\\tvalue: string;\\n\\terror?: string;\\n\\tplaceholder?: string;\\n\\thaveAll?: boolean;\\n\\thaveNoAgentsSelectedOption?: boolean;\\n\\texcludeId?: string;\\n\\tshowIdleAgents?: boolean;\\n\\tonlyAvailable?: boolean;\\n\\twithTitle?: boolean;\\n\\tonChange: (value: string) => void;\\n};\\n\\nconst AutoCompleteAgent = ({\\n\\tvalue,\\n\\terror,\\n\\tplaceholder,\\n\\thaveAll = false,\\n\\thaveNoAgentsSelectedOption = false,\\n\\texcludeId,\\n\\tshowIdleAgents = true,\\n\\tonlyAvailable = false,\\n\\twithTitle = false,\\n\\tonChange,\\n}: AutoCompleteAgentProps): ReactElement => {\\n\\tconst [agentsFilter, setAgentsFilter] = useState<string>('');\\n\\n\\tconst debouncedAgentsFilter = useDebouncedValue(agentsFilter, 500);\\n\\n\\tconst { itemsList: AgentsList, loadMoreItems: loadMoreAgents } = useAgentsList(\\n\\t\\tuseMemo(\\n\\t\\t\\t() => ({ text: debouncedAgentsFilter, onlyAvailable, haveAll, haveNoAgentsSelectedOption, excludeId, showIdleAgents }),\\n\\t\\t\\t[debouncedAgentsFilter, excludeId, haveAll, haveNoAgentsSelectedOption, onlyAvailable, showIdleAgents],\\n\\t\\t),\\n\\t);\\n\\n\\tconst { phase: agentsPhase, itemCount: agentsTotal, items: agentsItems } = useRecordList(AgentsList);\\n\\n\\treturn (\\n\\t\\t<PaginatedSelectFiltered\\n\\t\\t\\twithTitle={withTitle}\\n\\t\\t\\tvalue={value}\\n\\t\\t\\terror={error}\\n\\t\\t\\tplaceholder={placeholder}\\n\\t\\t\\tonChange={onChange}\\n\\t\\t\\tflexShrink={0}\\n\\t\\t\\tfilter={agentsFilter}\\n\\t\\t\\tsetFilter={setAgentsFilter as (value: string | number | undefined) => void}\\n\\t\\t\\toptions={agentsItems}\\n\\t\\t\\tdata-qa='autocomplete-agent'\\n\\t\\t\\tendReached={\\n\\t\\t\\t\\tagentsPhase === AsyncStatePhase.LOADING ? (): void => undefined : (start): void => loadMoreAgents(start, Math.min(50, agentsTotal))\\n\\t\\t\\t}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default memo(AutoCompleteAgent);\\n\",null],\"names\":[\"PaginatedSelectFiltered\",\"useDebouncedValue\",\"React\",\"memo\",\"useMemo\",\"useState\",\"useRecordList\",\"AsyncStatePhase\",\"useAgentsList\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"value\",\"error\",\"placeholder\",\"haveAll\",\"haveNoAgentsSelectedOption\",\"excludeId\",\"showIdleAgents\",\"onlyAvailable\",\"withTitle\",\"onChange\",\"agentsFilter\",\"setAgentsFilter\",\"debouncedAgentsFilter\",\"itemsList\",\"AgentsList\",\"loadMoreItems\",\"loadMoreAgents\",\"text\",\"phase\",\"agentsPhase\",\"itemCount\",\"agentsTotal\",\"items\",\"agentsItems\",\"createElement\",\"flexShrink\",\"filter\",\"setFilter\",\"options\",\"endReached\",\"LOADING\",\"undefined\",\"start\",\"Math\",\"min\"],\"mappings\":\"2BAAAA,EAAgEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAyBC,IAAA,CAAM,wBAAwB,CAAAV,wBAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAT,kBAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAT,EAAAS,CAAA,EAAAR,KAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,QAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,+BAAA,CAAAJ,cAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oBAAA,CAAAH,gBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oCAAA,CAAAF,cAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAhEF,EAAOI,aAAE,CAkEMV,EA5CWW,IAWiB,GAXhB,CAC1BC,MAAAA,CAAK,CACLC,MAAAA,CAAK,CACLC,YAAAA,CAAW,CACXC,QAAAA,EAAU,CAAA,CAAK,CACfC,2BAAAA,EAA6B,CAAA,CAAK,CAClCC,UAAAA,CAAS,CACTC,eAAAA,EAAiB,CAAA,CAAI,CACrBC,cAAAA,EAAgB,CAAA,CAAK,CACrBC,UAAAA,EAAY,CAAA,CAAK,CACjBC,SAAAA,CAAAA,CACwB,CAAAV,EAClB,CAACW,EAAcC,EAAgB,CAAGrB,EAAiB,IAEnDsB,EAAwB1B,EAAkBwB,EAAc,KAExD,CAAEG,UAAWC,CAAU,CAAEC,cAAeC,CAAAA,CAAgB,CAAGvB,EAChEJ,EACC,IAAO,CAAA,CAAE4B,KAAML,EAAuBL,cAAAA,EAAeJ,QAAAA,EAASC,2BAAAA,EAA4BC,UAAAA,EAAWC,eAAAA,CAAc,CAAA,EACnH,CAACM,EAAuBP,EAAWF,EAASC,EAA4BG,EAAeD,EAAe,GAIlG,CAAEY,MAAOC,CAAW,CAAEC,UAAWC,CAAW,CAAEC,MAAOC,CAAAA,CAAa,CAAGhC,EAAcuB,GAEzF,OACC3B,EAAAqC,aAAA,CAACvC,EAAuB,CACvBuB,UAAWA,EACXR,MAAOA,EACPC,MAAOA,EACPC,YAAaA,EACbO,SAAUA,EACVgB,WAAY,EACZC,OAAQhB,EACRiB,UAAWhB,EACXiB,QAASL,EACT,UAAQ,qBACRM,WACCV,IAAgB3B,EAAgBsC,OAAO,CAAG,IAAYC,KAAAA,EAAaC,GAAgBhB,EAAegB,EAAOC,KAAKC,GAAG,CAAC,GAAIb,GACtH,EAGJ\"}"}