{"code":"function module(e,n,i){i.link(\"@babel/runtime/regenerator\",{default:function(e){o=e}},0),i.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){t=e}},1),i.link(\"meteor/meteor\",{Meteor:function(e){r=e}},0),i.link(\"../../emoji/client\",{emoji:function(e){a=e}},1),i.link(\"../../utils/client\",{getUserPreference:function(e){s=e}},2),i.link(\"../lib/getEmojiConfig\",{getEmojiConfig:function(e){c=e}},3),i.link(\"../lib/isSetNotNull\",{isSetNotNull:function(e){u=e}},4);var o,t,r,a,s,c,u,m=c();if(a.packages.emojione=m.emojione,a.packages.emojione){a.packages.emojione.sprites=m.sprites,a.packages.emojione.emojisByCategory=m.emojisByCategory,a.packages.emojione.emojiCategories=m.emojiCategories,a.packages.emojione.toneList=m.toneList,a.packages.emojione.render=m.render,a.packages.emojione.renderPicker=m.renderPicker;for(var l=function(e){e.emojiPackage=\"emojione\",a.list[p]=e,e.shortnames&&e.shortnames.forEach(function(n){a.list[n]=e})},j=0,f=Object.entries(m.emojione.emojioneList);j<f.length;j++){var k=f[j],g=t(k,2),p=g[0];l(g[1])}r.startup(function(){Tracker.autorun(function(){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.awrap(u(function(){return a.packages.emojione}));case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=a.packages.emojione;case 5:if(!e.t0){e.next=15;break}return e.next=8,o.awrap(u(function(){return s(r.userId(),\"convertAsciiEmoji\")}));case 8:if(!e.sent){e.next=14;break}return e.next=11,o.awrap(s(r.userId(),\"convertAsciiEmoji\"));case 11:a.packages.emojione.ascii=e.sent,e.next=15;break;case 14:a.packages.emojione.ascii=!0;case 15:case\"end\":return e.stop()}},null,null,null,Promise)})})}}","map":"{\"version\":3,\"sources\":[\"app/emoji-emojione/client/lib.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Meteor } from 'meteor/meteor';\\n\\nimport { emoji } from '../../emoji/client';\\nimport { getUserPreference } from '../../utils/client';\\nimport { getEmojiConfig } from '../lib/getEmojiConfig';\\nimport { isSetNotNull } from '../lib/isSetNotNull';\\n\\nconst config = getEmojiConfig();\\n\\nemoji.packages.emojione = config.emojione as any;\\nif (emoji.packages.emojione) {\\n\\temoji.packages.emojione.sprites = config.sprites;\\n\\temoji.packages.emojione.emojisByCategory = config.emojisByCategory;\\n\\temoji.packages.emojione.emojiCategories = config.emojiCategories as any;\\n\\temoji.packages.emojione.toneList = config.toneList;\\n\\n\\temoji.packages.emojione.render = config.render;\\n\\temoji.packages.emojione.renderPicker = config.renderPicker;\\n\\n\\t// RocketChat.emoji.list is the collection of emojis from all emoji packages\\n\\tfor (const [key, currentEmoji] of Object.entries(config.emojione.emojioneList)) {\\n\\t\\tcurrentEmoji.emojiPackage = 'emojione';\\n\\t\\temoji.list[key] = currentEmoji;\\n\\n\\t\\tif (currentEmoji.shortnames) {\\n\\t\\t\\tcurrentEmoji.shortnames.forEach((shortname: string) => {\\n\\t\\t\\t\\temoji.list[shortname] = currentEmoji;\\n\\t\\t\\t});\\n\\t\\t}\\n\\t}\\n\\n\\t// Additional settings -- ascii emojis\\n\\tMeteor.startup(() => {\\n\\t\\tTracker.autorun(async () => {\\n\\t\\t\\tif ((await isSetNotNull(() => emoji.packages.emojione)) && emoji.packages.emojione) {\\n\\t\\t\\t\\tif (await isSetNotNull(() => getUserPreference(Meteor.userId() as string, 'convertAsciiEmoji'))) {\\n\\t\\t\\t\\t\\temoji.packages.emojione.ascii = await getUserPreference(Meteor.userId() as string, 'convertAsciiEmoji');\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\temoji.packages.emojione.ascii = true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\t});\\n}\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_slicedToArray\",\"Meteor\",\"emoji\",\"getUserPreference\",\"getEmojiConfig\",\"isSetNotNull\",\"config\",\"packages\",\"emojione\",\"sprites\",\"emojisByCategory\",\"emojiCategories\",\"toneList\",\"render\",\"renderPicker\",\"_loop\",\"currentEmoji\",\"emojiPackage\",\"list\",\"key\",\"shortnames\",\"forEach\",\"shortname\",\"_i\",\"_Object$entries\",\"Object\",\"entries\",\"emojioneList\",\"length\",\"_ref\",\"_ref2\",\"startup\",\"Tracker\",\"autorun\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"t0\",\"sent\",\"userId\",\"ascii\",\"stop\",\"Promise\"],\"mappings\":\"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\"}"}