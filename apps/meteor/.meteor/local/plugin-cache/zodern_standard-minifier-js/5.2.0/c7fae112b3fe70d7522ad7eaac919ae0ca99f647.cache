{"code":"function module(e,t,n){let l,o,r,i,a,c,s,u,m,d,p,_,h,k,E;let g=[\"control\",\"index\"];n.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){o=e}},1),n.export({ConditionForm:()=>b}),n.link(\"@rocket.chat/fuselage\",{Field(e){r=e},FieldGroup(e){i=e},FieldLabel(e){a=e},FieldRow(e){c=e},NumberInput(e){s=e},Select(e){u=e},TextInput(e){m=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useUniqueId(e){d=e}},1),n.link(\"react\",{default(e){p=e},useMemo(e){_=e}},2),n.link(\"react-hook-form\",{Controller(e){h=e},useWatch(e){k=e}},3),n.link(\"react-i18next\",{useTranslation(e){E=e}},4);let b=e=>{let{control:t,index:n}=e,b=o(e,g),f=d(),{t:x}=E(),F=k({control:t,name:\"conditions.\".concat(n,\".name\")}),C=_(()=>({\"page-url\":x(\"Enter_a_regex\"),\"time-on-site\":x(\"Time_in_seconds\")}),[x]),v=_(()=>[[\"page-url\",x(\"Visitor_page_URL\")],[\"time-on-site\",x(\"Visitor_time_on_site\")],[\"chat-opened-by-visitor\",x(\"Chat_opened_by_visitor\")],[\"after-guest-registration\",x(\"After_guest_registration\")]],[x]),I=C[F];return p.createElement(i,b,p.createElement(r,null,p.createElement(a,{htmlFor:f},x(\"Condition\")),p.createElement(c,null,p.createElement(h,{name:\"conditions.\".concat(n,\".name\"),control:t,render:e=>{let{field:t}=e;return p.createElement(u,l({},t,{id:f,options:v,placeholder:x(\"Select_an_option\")}))}})),I&&p.createElement(c,null,p.createElement(h,{name:\"conditions.\".concat(n,\".value\"),control:t,render:e=>{let{field:t}=e;return\"time-on-site\"===F?p.createElement(s,l({},t,{placeholder:I})):p.createElement(m,l({},t,{placeholder:I}))}}))))}}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/triggers/ConditionForm.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Field, FieldGroup, FieldLabel, FieldRow, NumberInput, Select, TextInput } from '@rocket.chat/fuselage';\\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport type { ComponentProps } from 'react';\\nimport React, { useMemo } from 'react';\\nimport type { Control } from 'react-hook-form';\\nimport { Controller, useWatch } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport type { TriggersPayload } from './EditTrigger';\\n\\ntype ConditionFormType = ComponentProps<typeof Field> & {\\n\\tindex: number;\\n\\tcontrol: Control<TriggersPayload>;\\n};\\n\\nexport const ConditionForm = ({ control, index, ...props }: ConditionFormType) => {\\n\\tconst conditionFieldId = useUniqueId();\\n\\tconst { t } = useTranslation();\\n\\tconst conditionName = useWatch({ control, name: `conditions.${index}.name` });\\n\\n\\tconst placeholders: { [conditionName: string]: string } = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\t'page-url': t('Enter_a_regex'),\\n\\t\\t\\t'time-on-site': t('Time_in_seconds'),\\n\\t\\t}),\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst conditionOptions: SelectOption[] = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['page-url', t('Visitor_page_URL')],\\n\\t\\t\\t['time-on-site', t('Visitor_time_on_site')],\\n\\t\\t\\t['chat-opened-by-visitor', t('Chat_opened_by_visitor')],\\n\\t\\t\\t['after-guest-registration', t('After_guest_registration')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst conditionValuePlaceholder = placeholders[conditionName];\\n\\n\\treturn (\\n\\t\\t<FieldGroup {...props}>\\n\\t\\t\\t<Field>\\n\\t\\t\\t\\t<FieldLabel htmlFor={conditionFieldId}>{t('Condition')}</FieldLabel>\\n\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\tname={`conditions.${index}.name`}\\n\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t<Select {...field} id={conditionFieldId} options={conditionOptions} placeholder={t('Select_an_option')} />\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</FieldRow>\\n\\n\\t\\t\\t\\t{conditionValuePlaceholder && (\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\tname={`conditions.${index}.value`}\\n\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\trender={({ field }) => {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (conditionName === 'time-on-site') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn <NumberInput {...field} placeholder={conditionValuePlaceholder} />;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\treturn <TextInput {...field} placeholder={conditionValuePlaceholder} />;\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</Field>\\n\\t\\t</FieldGroup>\\n\\t);\\n};\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Field\",\"FieldGroup\",\"FieldLabel\",\"FieldRow\",\"NumberInput\",\"Select\",\"TextInput\",\"useUniqueId\",\"React\",\"useMemo\",\"Controller\",\"useWatch\",\"useTranslation\",\"module\",\"link\",\"default\",\"v\",\"export\",\"ConditionForm\",\"_ref\",\"control\",\"index\",\"props\",\"_excluded\",\"conditionFieldId\",\"t\",\"conditionName\",\"name\",\"concat\",\"placeholders\",\"conditionOptions\",\"conditionValuePlaceholder\",\"createElement\",\"htmlFor\",\"render\",\"_ref2\",\"field\",\"id\",\"options\",\"placeholder\",\"_ref3\"],\"mappings\":\"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\"}"}