{"code":"function module(e,t,n){n.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),n.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},1),n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){i=e}},2),n.link(\"@rocket.chat/fuselage\",{Badge:function(e){u=e},Box:function(e){o=e},Button:function(e){l=e},ButtonGroup:function(e){c=e},Margins:function(e){s=e},ProgressBar:function(e){m=e},Throbber:function(e){f=e},Tabs:function(e){p=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue:function(e){d=e},useSafely:function(e){g=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){h=e},useTranslation:function(e){v=e},useStream:function(e){k=e},useRouter:function(e){_=e}},2),n.link(\"react\",{default:function(e){b=e},useEffect:function(e){E=e},useState:function(e){x=e},useMemo:function(e){S=e}},3),n.link(\"../../../../app/importer/lib/ImporterProgressStep\",{ProgressStep:function(e){I=e},ImportWaitingStates:function(e){P=e},ImportFileReadyStates:function(e){C=e},ImportPreparingStartedStates:function(e){w=e},ImportingStartedStates:function(e){T=e},ImportingErrorStates:function(e){y=e}},4),n.link(\"../../../../lib/utils/stringUtils\",{numberFormat:function(e){F=e}},5),n.link(\"../../../components/Page\",{Page:function(e){B=e},PageHeader:function(e){D=e},PageScrollableContentWithShadow:function(e){U=e}},6),n.link(\"./PrepareChannels\",{default:function(e){O=e}},7),n.link(\"./PrepareUsers\",{default:function(e){M=e}},8),n.link(\"./useErrorHandler\",{useErrorHandler:function(e){j=e}},9);var r,a,i,u,o,l,c,s,m,f,p,d,g,h,v,k,_,b,E,x,S,I,P,C,w,T,y,F,B,D,U,O,M,j,G=function(e,t){return new Promise(function(n,r){var a=function(){e().then(function(e){if(t(e)){n(e);return}setTimeout(a,1e3)},r)};a()})};n.exportDefault(function(){var e=v(),t=j(),n=g(x(!0)),H=i(n,2),L=H[0],R=H[1],W=g(x(null)),N=i(W,2),A=N[0],V=N[1],q=g(x(null)),z=i(q,2),J=z[0],K=z[1],Q=g(x(0)),X=i(Q,2),Y=X[0],Z=X[1],$=x([]),ee=i($,2),et=ee[0],en=ee[1],er=x([]),ea=i(er,2),ei=ea[0],eu=ea[1],eo=g(x(!1)),el=i(eo,2),ec=el[0],es=el[1],em=S(function(){return et.filter(function(e){return e.do_import}).length},[et]),ef=S(function(){return ei.filter(function(e){return e.do_import}).length},[ei]),ep=_(),ed=h(\"GET\",\"/v1/getImportFileData\"),eg=h(\"GET\",\"/v1/getCurrentImportOperation\"),eh=h(\"POST\",\"/v1/startImport\"),ev=k(\"importers\");E(function(){return ev(\"progress\",function(e){\"rate\"in e&&V(e.rate)})},[ev,V]),E(function(){var n,i=function(){var n;return r.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,r.awrap(G(ed,function(e){return e&&(!(\"waiting\"in e)||!e.waiting)}));case 3:if(n=i.sent){i.next=8;break}return t(e(\"Importer_not_setup\")),ep.navigate(\"/admin/import\"),i.abrupt(\"return\");case 8:Z(n.message_count),en(n.users.map(function(e){var t;return a(a({},e),{},{username:null!==(t=e.username)&&void 0!==t?t:\"\",do_import:!0})})),eu(n.channels.map(function(e){var t;return a(a({},e),{},{name:null!==(t=e.name)&&void 0!==t?t:\"\",do_import:!0})})),R(!1),V(null),i.next=19;break;case 15:i.prev=15,i.t0=i.catch(0),t(i.t0,e(\"Failed_To_Load_Import_Data\")),ep.navigate(\"/admin/import\");case 19:case\"end\":return i.stop()}},null,null,[[0,15]],Promise)};r.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.awrap(G(eg,function(e){return e.operation.valid&&!P.includes(e.operation.status)}));case 3:if((n=a.sent.operation).valid){a.next=8;break}return ep.navigate(\"/admin/import/new\"),a.abrupt(\"return\");case 8:if(!T.includes(n.status)){a.next=11;break}return ep.navigate(\"/admin/import/progress\"),a.abrupt(\"return\");case 11:if(!(n.status===I.USER_SELECTION||w.includes(n.status)||C.includes(n.status))){a.next=15;break}return K(n.status),i(),a.abrupt(\"return\");case 15:if(!y.includes(n.status)){a.next=19;break}return t(e(\"Import_Operation_Failed\")),ep.navigate(\"/admin/import\"),a.abrupt(\"return\");case 19:if(n.status!==I.DONE){a.next=22;break}return ep.navigate(\"/admin/import\"),a.abrupt(\"return\");case 22:t(e(\"Unknown_Import_State\")),ep.navigate(\"/admin/import\"),a.next=30;break;case 26:a.prev=26,a.t0=a.catch(0),t(e(\"Failed_To_Load_Import_Data\")),ep.navigate(\"/admin/import\");case 30:case\"end\":return a.stop()}},null,null,[[0,26]],Promise)},[eg,ed,t,ep,Z,R,V,K,e]);var ek=x(\"users\"),e_=i(ek,2),eb=e_[0],eE=e_[1],ex=S(function(){return function(e){return function(){return eE(e)}}},[]),eS=d(J,100),eI=!!(!em&&!ef&&!Y||!em&&!ef&&0!==Y);return b.createElement(B,null,b.createElement(D,{title:e(\"Importing_Data\"),onClickBack:function(){return ep.navigate(\"/admin/import\")}},b.createElement(c,null,b.createElement(l,{primary:!0,disabled:ec||eI,onClick:function(){var n,a;return r.async(function(i){for(;;)switch(i.prev=i.next){case 0:return es(!0),i.prev=1,n=et.filter(function(e){return e.do_import}).map(function(e){return e.user_id}),a=ei.filter(function(e){return e.do_import}).map(function(e){return e.channel_id}),i.next=6,r.awrap(eh({input:{users:{all:et.length>0&&n.length===et.length,list:n.length!==et.length&&n||void 0},channels:{all:ei.length>0&&a.length===ei.length,list:a.length!==ei.length&&a||void 0}}}));case 6:ep.navigate(\"/admin/import/progress\"),i.next=13;break;case 9:i.prev=9,i.t0=i.catch(1),t(i.t0,e(\"Failed_To_Start_Import\")),ep.navigate(\"/admin/import\");case 13:case\"end\":return i.stop()}},null,null,[[1,9]],Promise)}},e(\"Importer_Prepare_Start_Import\")))),b.createElement(U,null,b.createElement(o,{marginInline:\"auto\",marginBlock:\"x24\",width:\"full\",maxWidth:\"590px\"},b.createElement(o,{is:\"h2\",fontScale:\"p2m\"},eS&&e(eS.replace(\"importer_\",\"importer_status_\"))),!L&&b.createElement(p,{flexShrink:0},b.createElement(p.Item,{selected:\"users\"===eb,onClick:ex(\"users\")},e(\"Users\"),\" \",b.createElement(u,null,em)),b.createElement(p.Item,{selected:\"channels\"===eb,onClick:ex(\"channels\")},e(\"Channels\"),\" \",b.createElement(u,null,ef)),b.createElement(p.Item,{disabled:!0},e(\"Messages\"),b.createElement(u,null,Y))),b.createElement(s,{block:\"x24\"},L&&b.createElement(b.Fragment,null,A?b.createElement(o,{display:\"flex\",justifyContent:\"center\",fontScale:\"p2\"},b.createElement(m,{percentage:Math.floor(A)}),b.createElement(o,{is:\"span\",mis:\"x24\"},F(A,0),\"%\")):b.createElement(f,{justifyContent:\"center\"})),!L&&\"users\"===eb&&b.createElement(M,{usersCount:em,users:et,setUsers:en}),!L&&\"channels\"===eb&&b.createElement(O,{channels:ei,channelsCount:ef,setChannels:eu})))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/import/PrepareImportPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IImport, IImporterSelection, Serialized } from '@rocket.chat/core-typings';\\nimport { Badge, Box, Button, ButtonGroup, Margins, ProgressBar, Throbber, Tabs } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue, useSafely } from '@rocket.chat/fuselage-hooks';\\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\\nimport { useEndpoint, useTranslation, useStream, useRouter } from '@rocket.chat/ui-contexts';\\nimport React, { useEffect, useState, useMemo } from 'react';\\n\\nimport {\\n\\tProgressStep,\\n\\tImportWaitingStates,\\n\\tImportFileReadyStates,\\n\\tImportPreparingStartedStates,\\n\\tImportingStartedStates,\\n\\tImportingErrorStates,\\n} from '../../../../app/importer/lib/ImporterProgressStep';\\nimport { numberFormat } from '../../../../lib/utils/stringUtils';\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport type { ChannelDescriptor } from './ChannelDescriptor';\\nimport PrepareChannels from './PrepareChannels';\\nimport PrepareUsers from './PrepareUsers';\\nimport type { UserDescriptor } from './UserDescriptor';\\nimport { useErrorHandler } from './useErrorHandler';\\n\\nconst waitFor = <T, U extends T>(fn: () => Promise<T>, predicate: (arg: T) => arg is U) =>\\n\\tnew Promise<U>((resolve, reject) => {\\n\\t\\tconst callPromise = () => {\\n\\t\\t\\tfn().then((result) => {\\n\\t\\t\\t\\tif (predicate(result)) {\\n\\t\\t\\t\\t\\tresolve(result);\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsetTimeout(callPromise, 1000);\\n\\t\\t\\t}, reject);\\n\\t\\t};\\n\\n\\t\\tcallPromise();\\n\\t});\\n\\n// TODO: review inner logic\\nfunction PrepareImportPage() {\\n\\tconst t = useTranslation();\\n\\tconst handleError = useErrorHandler();\\n\\n\\tconst [isPreparing, setPreparing] = useSafely(useState(true));\\n\\tconst [progressRate, setProgressRate] = useSafely(useState<number | null>(null));\\n\\tconst [status, setStatus] = useSafely(useState<string | null>(null));\\n\\tconst [messageCount, setMessageCount] = useSafely(useState(0));\\n\\tconst [users, setUsers] = useState<UserDescriptor[]>([]);\\n\\tconst [channels, setChannels] = useState<ChannelDescriptor[]>([]);\\n\\tconst [isImporting, setImporting] = useSafely(useState(false));\\n\\n\\tconst usersCount = useMemo(() => users.filter(({ do_import }) => do_import).length, [users]);\\n\\tconst channelsCount = useMemo(() => channels.filter(({ do_import }) => do_import).length, [channels]);\\n\\n\\tconst router = useRouter();\\n\\n\\tconst getImportFileData = useEndpoint('GET', '/v1/getImportFileData');\\n\\tconst getCurrentImportOperation = useEndpoint('GET', '/v1/getCurrentImportOperation');\\n\\tconst startImport = useEndpoint('POST', '/v1/startImport');\\n\\n\\tconst streamer = useStream('importers');\\n\\n\\tuseEffect(\\n\\t\\t() =>\\n\\t\\t\\tstreamer('progress', (progress) => {\\n\\t\\t\\t\\t// Ignore any update without the rate since we're not showing any other info anyway\\n\\t\\t\\t\\tif ('rate' in progress) {\\n\\t\\t\\t\\t\\tsetProgressRate(progress.rate);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}),\\n\\t\\t[streamer, setProgressRate],\\n\\t);\\n\\n\\tuseEffect(() => {\\n\\t\\tconst loadImportFileData = async () => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tconst data = await waitFor(\\n\\t\\t\\t\\t\\tgetImportFileData,\\n\\t\\t\\t\\t\\t(data): data is IImporterSelection => data && (!('waiting' in data) || !data.waiting),\\n\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\tif (!data) {\\n\\t\\t\\t\\t\\thandleError(t('Importer_not_setup'));\\n\\t\\t\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsetMessageCount(data.message_count);\\n\\t\\t\\t\\tsetUsers(data.users.map((user) => ({ ...user, username: user.username ?? '', do_import: true })));\\n\\t\\t\\t\\tsetChannels(data.channels.map((channel) => ({ ...channel, name: channel.name ?? '', do_import: true })));\\n\\t\\t\\t\\tsetPreparing(false);\\n\\t\\t\\t\\tsetProgressRate(null);\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\thandleError(error, t('Failed_To_Load_Import_Data'));\\n\\t\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tconst loadCurrentOperation = async () => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tconst { operation } = await waitFor(\\n\\t\\t\\t\\t\\tgetCurrentImportOperation,\\n\\t\\t\\t\\t\\t(data): data is Serialized<{ operation: IImport }> =>\\n\\t\\t\\t\\t\\t\\tdata.operation.valid && !ImportWaitingStates.includes(data.operation.status),\\n\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\tif (!operation.valid) {\\n\\t\\t\\t\\t\\trouter.navigate('/admin/import/new');\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (ImportingStartedStates.includes(operation.status)) {\\n\\t\\t\\t\\t\\trouter.navigate('/admin/import/progress');\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (\\n\\t\\t\\t\\t\\toperation.status === ProgressStep.USER_SELECTION ||\\n\\t\\t\\t\\t\\tImportPreparingStartedStates.includes(operation.status) ||\\n\\t\\t\\t\\t\\tImportFileReadyStates.includes(operation.status)\\n\\t\\t\\t\\t) {\\n\\t\\t\\t\\t\\tsetStatus(operation.status);\\n\\t\\t\\t\\t\\tloadImportFileData();\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (ImportingErrorStates.includes(operation.status)) {\\n\\t\\t\\t\\t\\thandleError(t('Import_Operation_Failed'));\\n\\t\\t\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (operation.status === ProgressStep.DONE) {\\n\\t\\t\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\thandleError(t('Unknown_Import_State'));\\n\\t\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\thandleError(t('Failed_To_Load_Import_Data'));\\n\\t\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tloadCurrentOperation();\\n\\t}, [getCurrentImportOperation, getImportFileData, handleError, router, setMessageCount, setPreparing, setProgressRate, setStatus, t]);\\n\\n\\tconst handleStartButtonClick = async () => {\\n\\t\\tsetImporting(true);\\n\\n\\t\\ttry {\\n\\t\\t\\tconst usersToImport = users.filter(({ do_import }) => do_import).map(({ user_id }) => user_id);\\n\\t\\t\\tconst channelsToImport = channels.filter(({ do_import }) => do_import).map(({ channel_id }) => channel_id);\\n\\n\\t\\t\\tawait startImport({\\n\\t\\t\\t\\tinput: {\\n\\t\\t\\t\\t\\tusers: {\\n\\t\\t\\t\\t\\t\\tall: users.length > 0 && usersToImport.length === users.length,\\n\\t\\t\\t\\t\\t\\tlist: (usersToImport.length !== users.length && usersToImport) || undefined,\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\tchannels: {\\n\\t\\t\\t\\t\\t\\tall: channels.length > 0 && channelsToImport.length === channels.length,\\n\\t\\t\\t\\t\\t\\tlist: (channelsToImport.length !== channels.length && channelsToImport) || undefined,\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t},\\n\\t\\t\\t});\\n\\t\\t\\trouter.navigate('/admin/import/progress');\\n\\t\\t} catch (error) {\\n\\t\\t\\thandleError(error, t('Failed_To_Start_Import'));\\n\\t\\t\\trouter.navigate('/admin/import');\\n\\t\\t}\\n\\t};\\n\\n\\tconst [tab, setTab] = useState('users');\\n\\tconst handleTabClick = useMemo(() => (tab: string) => () => setTab(tab), []);\\n\\n\\tconst statusDebounced = useDebouncedValue(status, 100);\\n\\n\\tconst handleMinimumImportData = !!(\\n\\t\\t(!usersCount && !channelsCount && !messageCount) ||\\n\\t\\t(!usersCount && !channelsCount && messageCount !== 0)\\n\\t);\\n\\n\\treturn (\\n\\t\\t<Page>\\n\\t\\t\\t<PageHeader title={t('Importing_Data')} onClickBack={() => router.navigate('/admin/import')}>\\n\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t<Button primary disabled={isImporting || handleMinimumImportData} onClick={handleStartButtonClick}>\\n\\t\\t\\t\\t\\t\\t{t('Importer_Prepare_Start_Import')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</PageHeader>\\n\\t\\t\\t<PageScrollableContentWithShadow>\\n\\t\\t\\t\\t<Box marginInline='auto' marginBlock='x24' width='full' maxWidth='590px'>\\n\\t\\t\\t\\t\\t<Box is='h2' fontScale='p2m'>\\n\\t\\t\\t\\t\\t\\t{statusDebounced && t(statusDebounced.replace('importer_', 'importer_status_') as TranslationKey)}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t{!isPreparing && (\\n\\t\\t\\t\\t\\t\\t<Tabs flexShrink={0}>\\n\\t\\t\\t\\t\\t\\t\\t<Tabs.Item selected={tab === 'users'} onClick={handleTabClick('users')}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Users')} <Badge>{usersCount}</Badge>\\n\\t\\t\\t\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t\\t\\t\\t\\t<Tabs.Item selected={tab === 'channels'} onClick={handleTabClick('channels')}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Channels')} <Badge>{channelsCount}</Badge>\\n\\t\\t\\t\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t\\t\\t\\t\\t<Tabs.Item disabled>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Messages')}\\n\\t\\t\\t\\t\\t\\t\\t\\t<Badge>{messageCount}</Badge>\\n\\t\\t\\t\\t\\t\\t\\t</Tabs.Item>\\n\\t\\t\\t\\t\\t\\t</Tabs>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t<Margins block='x24'>\\n\\t\\t\\t\\t\\t\\t{isPreparing && (\\n\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t{progressRate ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Box display='flex' justifyContent='center' fontScale='p2'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ProgressBar percentage={Math.floor(progressRate)} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Box is='span' mis='x24'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{numberFormat(progressRate, 0)}%\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Throbber justifyContent='center' />\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t{!isPreparing && tab === 'users' && <PrepareUsers usersCount={usersCount} users={users} setUsers={setUsers} />}\\n\\t\\t\\t\\t\\t\\t{!isPreparing && tab === 'channels' && (\\n\\t\\t\\t\\t\\t\\t\\t<PrepareChannels channels={channels} channelsCount={channelsCount} setChannels={setChannels} />\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</Margins>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t</Page>\\n\\t);\\n}\\n\\nexport default PrepareImportPage;\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_objectSpread\",\"_slicedToArray\",\"Badge\",\"Box\",\"Button\",\"ButtonGroup\",\"Margins\",\"ProgressBar\",\"Throbber\",\"Tabs\",\"useDebouncedValue\",\"useSafely\",\"useEndpoint\",\"useTranslation\",\"useStream\",\"useRouter\",\"React\",\"useEffect\",\"useState\",\"useMemo\",\"ProgressStep\",\"ImportWaitingStates\",\"ImportFileReadyStates\",\"ImportPreparingStartedStates\",\"ImportingStartedStates\",\"ImportingErrorStates\",\"numberFormat\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"PrepareChannels\",\"PrepareUsers\",\"useErrorHandler\",\"waitFor\",\"fn\",\"predicate\",\"Promise\",\"resolve\",\"reject\",\"callPromise\",\"then\",\"result\",\"setTimeout\",\"exportDefault\",\"t\",\"handleError\",\"_useSafely\",\"_useSafely2\",\"isPreparing\",\"setPreparing\",\"_useSafely3\",\"_useSafely4\",\"progressRate\",\"setProgressRate\",\"_useSafely5\",\"_useSafely6\",\"status\",\"setStatus\",\"_useSafely7\",\"_useSafely8\",\"messageCount\",\"setMessageCount\",\"_useState\",\"_useState2\",\"users\",\"setUsers\",\"_useState3\",\"_useState4\",\"channels\",\"setChannels\",\"_useSafely9\",\"_useSafely10\",\"isImporting\",\"setImporting\",\"usersCount\",\"filter\",\"_ref\",\"do_import\",\"length\",\"channelsCount\",\"_ref2\",\"router\",\"getImportFileData\",\"getCurrentImportOperation\",\"startImport\",\"streamer\",\"progress\",\"rate\",\"operation\",\"loadImportFileData\",\"data\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"waiting\",\"sent\",\"navigate\",\"abrupt\",\"message_count\",\"map\",\"user\",\"_user$username\",\"username\",\"channel\",\"_channel$name\",\"name\",\"t0\",\"stop\",\"_context2\",\"valid\",\"includes\",\"_await$waitFor\",\"USER_SELECTION\",\"DONE\",\"_useState5\",\"_useState6\",\"tab\",\"setTab\",\"handleTabClick\",\"statusDebounced\",\"handleMinimumImportData\",\"createElement\",\"title\",\"onClickBack\",\"primary\",\"disabled\",\"onClick\",\"usersToImport\",\"channelsToImport\",\"_context3\",\"_ref3\",\"_ref4\",\"user_id\",\"_ref5\",\"_ref6\",\"channel_id\",\"input\",\"all\",\"list\",\"undefined\",\"marginInline\",\"marginBlock\",\"width\",\"maxWidth\",\"is\",\"fontScale\",\"replace\",\"flexShrink\",\"Item\",\"selected\",\"block\",\"Fragment\",\"display\",\"justifyContent\",\"percentage\",\"Math\",\"floor\",\"mis\"],\"mappings\":\"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\"}"}