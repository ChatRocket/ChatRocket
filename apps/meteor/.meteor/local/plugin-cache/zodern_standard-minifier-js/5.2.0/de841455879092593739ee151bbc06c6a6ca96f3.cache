{"code":"function module(e,t,a){let n,s,l,i,o,r,c,u,d;a.export({useRemoveAgent:()=>g}),a.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){n=e}},0),a.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){s=e},useToastMessageDispatch(e){l=e},useTranslation(e){i=e},useRouter(e){o=e},useEndpoint(e){r=e}},1),a.link(\"@tanstack/react-query\",{useQueryClient(e){c=e}},2),a.link(\"react\",{default(e){u=e}},3),a.link(\"../../../../components/GenericModal\",{default(e){d=e}},4);let g=e=>{let t=i(),a=o(),g=s(),m=c(),k=l(),v=r(\"DELETE\",\"/v1/livechat/users/agent/:_id\",{_id:e}),h=n(()=>{let e=async()=>{try{await v(),k({type:\"success\",message:t(\"Agent_removed\")}),a.navigate(\"/omnichannel/agents\"),m.invalidateQueries([\"livechat-agents\"])}catch(e){k({type:\"error\",message:e})}finally{g()}};g(u.createElement(d,{\"data-qa-id\":\"remove-agent-modal\",variant:\"danger\",onConfirm:e,onCancel:()=>g(),confirmText:t(\"Delete\")}))});return h}}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/agents/hooks/useRemoveAgent.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatAgent } from '@rocket.chat/core-typings';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useTranslation, useRouter, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQueryClient } from '@tanstack/react-query';\\nimport React from 'react';\\n\\nimport GenericModal from '../../../../components/GenericModal';\\n\\nexport const useRemoveAgent = (uid: ILivechatAgent['_id']) => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\tconst setModal = useSetModal();\\n\\tconst queryClient = useQueryClient();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst deleteAction = useEndpoint('DELETE', '/v1/livechat/users/agent/:_id', { _id: uid });\\n\\n\\tconst handleDelete = useMutableCallback(() => {\\n\\t\\tconst onDeleteAgent = async () => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait deleteAction();\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Agent_removed') });\\n\\t\\t\\t\\trouter.navigate('/omnichannel/agents');\\n\\t\\t\\t\\tqueryClient.invalidateQueries(['livechat-agents']);\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tsetModal();\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tsetModal(\\n\\t\\t\\t<GenericModal\\n\\t\\t\\t\\tdata-qa-id='remove-agent-modal'\\n\\t\\t\\t\\tvariant='danger'\\n\\t\\t\\t\\tonConfirm={onDeleteAgent}\\n\\t\\t\\t\\tonCancel={() => setModal()}\\n\\t\\t\\t\\tconfirmText={t('Delete')}\\n\\t\\t\\t/>,\\n\\t\\t);\\n\\t});\\n\\n\\treturn handleDelete;\\n};\\n\",null],\"names\":[\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useTranslation\",\"useRouter\",\"useEndpoint\",\"useQueryClient\",\"React\",\"GenericModal\",\"module\",\"export\",\"useRemoveAgent\",\"link\",\"v\",\"default\",\"uid\",\"t\",\"router\",\"setModal\",\"queryClient\",\"dispatchToastMessage\",\"deleteAction\",\"_id\",\"handleDelete\",\"onDeleteAgent\",\"type\",\"message\",\"navigate\",\"invalidateQueries\",\"error\",\"createElement\",\"variant\",\"onConfirm\",\"onCancel\",\"confirmText\"],\"mappings\":\"2BACmCA,EAA8BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjEC,EAAOC,MAAE,CAAA,CAAAC,eAAoBA,IAAAA,CAAM,GAA8BF,EAAAG,IAAA,CAAA,8BAAA,CAAAZ,mBAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,2BAAA,CAAAX,YAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,wBAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,eAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,UAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,YAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,wBAAA,CAAAN,eAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,sCAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAO1D,IAAMF,EAAkBI,IAC9B,IAAMC,EAAIb,IACJc,EAASb,IACTc,EAAWjB,IACXkB,EAAcb,IACdc,EAAuBlB,IAEvBmB,EAAehB,EAAY,SAAU,gCAAiC,CAAEiB,IAAKP,CAAG,GAEhFQ,EAAevB,EAAmB,KACvC,IAAMwB,EAAgB,UACrB,GAAI,CACH,MAAMH,IACND,EAAqB,CAAEK,KAAM,UAAWC,QAASV,EAAE,gBAAgB,GACnEC,EAAOU,QAAQ,CAAC,uBAChBR,EAAYS,iBAAiB,CAAC,CAAC,kBAAkB,CAClD,CAAE,MAAOC,EAAO,CACfT,EAAqB,CAAEK,KAAM,QAASC,QAASG,CAAK,EACrD,QAAU,CACTX,GACD,CACD,EAEAA,EACCX,EAAAuB,aAAA,CAACtB,EAAY,CACZ,aAAW,qBACXuB,QAAQ,SACRC,UAAWR,EACXS,SAAUA,IAAMf,IAChBgB,YAAalB,EAAE,SAAU,GAG5B,GAEA,OAAOO,CACR\"}"}