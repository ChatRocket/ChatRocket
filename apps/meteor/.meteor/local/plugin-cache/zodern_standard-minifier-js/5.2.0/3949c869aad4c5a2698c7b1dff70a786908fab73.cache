{"code":"function module(e,t,o){let a,n,l,E,r,i,_,c,m,s,u,d,k,S,p;o.link(\"@rocket.chat/ui-client\",{FeaturePreview(e){a=e},FeaturePreviewOff(e){n=e},FeaturePreviewOn(e){l=e}},0),o.link(\"react\",{default(e){E=e},useCallback(e){r=e}},1),o.link(\"react-i18next\",{useTranslation(e){i=e}},2),o.link(\"../../../../app/e2e/client\",{e2e(e){_=e}},3),o.link(\"../../../../app/e2e/client/E2EEState\",{E2EEState(e){c=e}},4),o.link(\"../../../../app/e2e/client/E2ERoomState\",{E2ERoomState(e){m=e}},5),o.link(\"../body/RoomBody\",{default(e){s=e}},6),o.link(\"../body/RoomBodyV2\",{default(e){u=e}},7),o.link(\"../contexts/RoomContext\",{useRoom(e){d=e}},8),o.link(\"../hooks/useE2EERoomState\",{useE2EERoomState(e){k=e}},9),o.link(\"../hooks/useE2EEState\",{useE2EEState(e){S=e}},10),o.link(\"./RoomE2EENotAllowed\",{default(e){p=e}},11),o.exportDefault(()=>{let e=d(),t=S(),o=k(e._id),{t:y}=i(),w=window.localStorage.getItem(\"e2e.randomPassword\"),R=r(()=>{w&&_.openSaveE2EEPasswordModal(w)},[w]),b=r(()=>_.decodePrivateKeyFlow(),[]);return t===c.SAVE_PASSWORD?E.createElement(p,{title:y(\"__roomName__is_encrypted\",{roomName:e.name}),subTitle:y(\"Save_your_encryption_password_to_access\"),icon:\"key\",action:R,btnText:y(\"Save_E2EE_password\")}):t===c.ENTER_PASSWORD?E.createElement(p,{title:y(\"__roomName__is_encrypted\",{roomName:e.name}),subTitle:y(\"Enter_your_E2E_password_to_access\"),icon:\"key\",action:b,btnText:y(\"Enter_your_E2E_password\")}):o===m.WAITING_KEYS?E.createElement(p,{title:y(\"Check_back_later\"),subTitle:y(\"__roomName__encryption_keys_need_to_be_updated\",{roomName:e.name}),icon:\"clock\"}):E.createElement(a,{feature:\"newNavigation\"},E.createElement(l,null,E.createElement(u,null)),E.createElement(n,null,E.createElement(s,null)))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/E2EESetup/RoomE2EESetup.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { FeaturePreview, FeaturePreviewOff, FeaturePreviewOn } from '@rocket.chat/ui-client';\\nimport React, { useCallback } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { e2e } from '../../../../app/e2e/client';\\nimport { E2EEState } from '../../../../app/e2e/client/E2EEState';\\nimport { E2ERoomState } from '../../../../app/e2e/client/E2ERoomState';\\nimport RoomBody from '../body/RoomBody';\\nimport RoomBodyV2 from '../body/RoomBodyV2';\\nimport { useRoom } from '../contexts/RoomContext';\\nimport { useE2EERoomState } from '../hooks/useE2EERoomState';\\nimport { useE2EEState } from '../hooks/useE2EEState';\\nimport RoomE2EENotAllowed from './RoomE2EENotAllowed';\\n\\nconst RoomE2EESetup = () => {\\n\\tconst room = useRoom();\\n\\n\\tconst e2eeState = useE2EEState();\\n\\tconst e2eRoomState = useE2EERoomState(room._id);\\n\\n\\tconst { t } = useTranslation();\\n\\tconst randomPassword = window.localStorage.getItem('e2e.randomPassword');\\n\\n\\tconst onSavePassword = useCallback(() => {\\n\\t\\tif (!randomPassword) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\te2e.openSaveE2EEPasswordModal(randomPassword);\\n\\t}, [randomPassword]);\\n\\n\\tconst onEnterE2EEPassword = useCallback(() => e2e.decodePrivateKeyFlow(), []);\\n\\n\\tif (e2eeState === E2EEState.SAVE_PASSWORD) {\\n\\t\\treturn (\\n\\t\\t\\t<RoomE2EENotAllowed\\n\\t\\t\\t\\ttitle={t('__roomName__is_encrypted', { roomName: room.name })}\\n\\t\\t\\t\\tsubTitle={t('Save_your_encryption_password_to_access')}\\n\\t\\t\\t\\ticon='key'\\n\\t\\t\\t\\taction={onSavePassword}\\n\\t\\t\\t\\tbtnText={t('Save_E2EE_password')}\\n\\t\\t\\t/>\\n\\t\\t);\\n\\t}\\n\\n\\tif (e2eeState === E2EEState.ENTER_PASSWORD) {\\n\\t\\treturn (\\n\\t\\t\\t<RoomE2EENotAllowed\\n\\t\\t\\t\\ttitle={t('__roomName__is_encrypted', { roomName: room.name })}\\n\\t\\t\\t\\tsubTitle={t('Enter_your_E2E_password_to_access')}\\n\\t\\t\\t\\ticon='key'\\n\\t\\t\\t\\taction={onEnterE2EEPassword}\\n\\t\\t\\t\\tbtnText={t('Enter_your_E2E_password')}\\n\\t\\t\\t/>\\n\\t\\t);\\n\\t}\\n\\n\\tif (e2eRoomState === E2ERoomState.WAITING_KEYS) {\\n\\t\\treturn (\\n\\t\\t\\t<RoomE2EENotAllowed\\n\\t\\t\\t\\ttitle={t('Check_back_later')}\\n\\t\\t\\t\\tsubTitle={t('__roomName__encryption_keys_need_to_be_updated', { roomName: room.name })}\\n\\t\\t\\t\\ticon='clock'\\n\\t\\t\\t/>\\n\\t\\t);\\n\\t}\\n\\n\\treturn (\\n\\t\\t<FeaturePreview feature='newNavigation'>\\n\\t\\t\\t<FeaturePreviewOn>\\n\\t\\t\\t\\t<RoomBodyV2 />\\n\\t\\t\\t</FeaturePreviewOn>\\n\\t\\t\\t<FeaturePreviewOff>\\n\\t\\t\\t\\t<RoomBody />\\n\\t\\t\\t</FeaturePreviewOff>\\n\\t\\t</FeaturePreview>\\n\\t);\\n};\\n\\nexport default RoomE2EESetup;\\n\",null],\"names\":[\"FeaturePreview\",\"FeaturePreviewOff\",\"FeaturePreviewOn\",\"React\",\"useCallback\",\"useTranslation\",\"e2e\",\"E2EEState\",\"E2ERoomState\",\"RoomBody\",\"RoomBodyV2\",\"useRoom\",\"useE2EERoomState\",\"useE2EEState\",\"RoomE2EENotAllowed\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"RoomE2EESetup\",\"room\",\"e2eeState\",\"e2eRoomState\",\"_id\",\"t\",\"randomPassword\",\"window\",\"localStorage\",\"getItem\",\"onSavePassword\",\"openSaveE2EEPasswordModal\",\"onEnterE2EEPassword\",\"decodePrivateKeyFlow\",\"SAVE_PASSWORD\",\"createElement\",\"title\",\"roomName\",\"name\",\"subTitle\",\"icon\",\"action\",\"btnText\",\"ENTER_PASSWORD\",\"WAITING_KEYS\",\"feature\"],\"mappings\":\"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\"}"}