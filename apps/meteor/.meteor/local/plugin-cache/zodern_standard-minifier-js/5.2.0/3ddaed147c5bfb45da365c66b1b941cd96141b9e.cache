{"code":"function module(e,t,n){let l,a,r,o,c,s,u,i,m,d,k,E,g,b,h,f,p,P,S,T,C,G,y,v,w,x,F;let I=[\"current\",\"itemsPerPage\",\"setItemsPerPage\",\"setCurrent\"];n.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),n.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){a=e}},1),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){r=e}},2),n.link(\"@rocket.chat/fuselage\",{Pagination(e){o=e},States(e){c=e},StatesIcon(e){s=e},StatesActions(e){u=e},StatesAction(e){i=e},StatesTitle(e){m=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue(e){d=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useTranslation(e){k=e},useEndpoint(e){E=e}},2),n.link(\"@tanstack/react-query\",{useQuery(e){g=e}},3),n.link(\"react\",{default(e){b=e},useState(e){h=e},useMemo(e){f=e},useEffect(e){p=e}},4),n.link(\"../../../../components/FilterByText\",{default(e){P=e}},5),n.link(\"../../../../components/GenericNoResults\",{default(e){S=e}},6),n.link(\"../../../../components/GenericTable\",{GenericTable(e){T=e},GenericTableBody(e){C=e},GenericTableHeader(e){G=e},GenericTableHeaderCell(e){y=e},GenericTableLoadingTable(e){v=e}},7),n.link(\"../../../../components/GenericTable/hooks/usePagination\",{usePagination(e){w=e}},8),n.link(\"../../../../components/GenericTable/hooks/useSort\",{useSort(e){x=e}},9),n.link(\"./CustomSoundRow\",{default(e){F=e}},10),n.exportDefault(e=>{let{reload:t,onClick:n}=e,_=k(),{sortBy:R,sortDirection:j,setSort:A}=x(\"name\"),B=w(),{current:D,itemsPerPage:H,setItemsPerPage:M,setCurrent:N}=B,q=r(B,I),[L,O]=h(\"\"),Q=d(f(()=>a(a({name:L,sort:'{ \"'.concat(R,'\": ').concat(\"asc\"===j?1:-1,\" }\")},H&&{count:H}),D&&{offset:D}),[L,H,D,R,j]),500),V=E(\"GET\",\"/v1/custom-sounds.list\"),{data:W,refetch:z,isLoading:J,isError:K,isSuccess:U}=g([\"custom-sounds\",Q],async()=>V(Q),{refetchOnMount:!1});p(()=>{t.current=z},[t,z]);let X=b.createElement(b.Fragment,null,b.createElement(y,{key:\"name\",direction:j,active:\"name\"===R,onClick:A,sort:\"name\"},_(\"Name\")),b.createElement(y,{w:\"x40\",key:\"action\"}));return b.createElement(b.Fragment,null,b.createElement(P,{onChange:O}),J&&b.createElement(T,null,b.createElement(G,null,X),b.createElement(C,null,b.createElement(v,{headerCells:2}))),U&&(null==W?void 0:W.sounds.length)>0&&b.createElement(b.Fragment,null,b.createElement(T,null,b.createElement(G,null,X),b.createElement(C,null,W.sounds.map(e=>b.createElement(F,{key:e._id,sound:e,onClick:n})))),b.createElement(o,l({divider:!0,current:D,itemsPerPage:H,count:W.sounds.length||0,onSetItemsPerPage:M,onSetCurrent:N},q))),U&&(null==W?void 0:W.sounds.length)===0&&b.createElement(S,null),K&&b.createElement(c,null,b.createElement(s,{name:\"warning\",variation:\"danger\"}),b.createElement(m,null,_(\"Something_went_wrong\")),b.createElement(u,null,b.createElement(i,{onClick:()=>z()},_(\"Reload_page\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/customSounds/CustomSoundsTable/CustomSoundsTable.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Pagination, States, StatesIcon, StatesActions, StatesAction, StatesTitle } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { MutableRefObject } from 'react';\\nimport React, { useState, useMemo, useEffect } from 'react';\\n\\nimport FilterByText from '../../../../components/FilterByText';\\nimport GenericNoResults from '../../../../components/GenericNoResults';\\nimport {\\n\\tGenericTable,\\n\\tGenericTableBody,\\n\\tGenericTableHeader,\\n\\tGenericTableHeaderCell,\\n\\tGenericTableLoadingTable,\\n} from '../../../../components/GenericTable';\\nimport { usePagination } from '../../../../components/GenericTable/hooks/usePagination';\\nimport { useSort } from '../../../../components/GenericTable/hooks/useSort';\\nimport CustomSoundRow from './CustomSoundRow';\\n\\ntype CustomSoundsTableProps = {\\n\\tonClick: (soundId: string) => () => void;\\n\\treload: MutableRefObject<() => void>;\\n};\\n\\nconst CustomSoundsTable = ({ reload, onClick }: CustomSoundsTableProps) => {\\n\\tconst t = useTranslation();\\n\\tconst { sortBy, sortDirection, setSort } = useSort<'name'>('name');\\n\\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\\n\\n\\tconst [text, setParams] = useState('');\\n\\n\\tconst query = useDebouncedValue(\\n\\t\\tuseMemo(\\n\\t\\t\\t() => ({\\n\\t\\t\\t\\tname: text,\\n\\t\\t\\t\\tsort: `{ \\\"${sortBy}\\\": ${sortDirection === 'asc' ? 1 : -1} }`,\\n\\t\\t\\t\\t...(itemsPerPage && { count: itemsPerPage }),\\n\\t\\t\\t\\t...(current && { offset: current }),\\n\\t\\t\\t}),\\n\\t\\t\\t[text, itemsPerPage, current, sortBy, sortDirection],\\n\\t\\t),\\n\\t\\t500,\\n\\t);\\n\\n\\tconst getSounds = useEndpoint('GET', '/v1/custom-sounds.list');\\n\\tconst { data, refetch, isLoading, isError, isSuccess } = useQuery(['custom-sounds', query], async () => getSounds(query), {\\n\\t\\trefetchOnMount: false,\\n\\t});\\n\\n\\tuseEffect(() => {\\n\\t\\treload.current = refetch;\\n\\t}, [reload, refetch]);\\n\\n\\tconst headers = (\\n\\t\\t<>\\n\\t\\t\\t<GenericTableHeaderCell key='name' direction={sortDirection} active={sortBy === 'name'} onClick={setSort} sort='name'>\\n\\t\\t\\t\\t{t('Name')}\\n\\t\\t\\t</GenericTableHeaderCell>\\n\\t\\t\\t<GenericTableHeaderCell w='x40' key='action' />\\n\\t\\t</>\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<FilterByText onChange={setParams} />\\n\\t\\t\\t{isLoading && (\\n\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t<GenericTableLoadingTable headerCells={2} />\\n\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t)}\\n\\t\\t\\t{isSuccess && data?.sounds.length > 0 && (\\n\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t\\t{data.sounds.map((sound) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t<CustomSoundRow key={sound._id} sound={sound} onClick={onClick} />\\n\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t\\t\\t<Pagination\\n\\t\\t\\t\\t\\t\\tdivider\\n\\t\\t\\t\\t\\t\\tcurrent={current}\\n\\t\\t\\t\\t\\t\\titemsPerPage={itemsPerPage}\\n\\t\\t\\t\\t\\t\\tcount={data.sounds.length || 0}\\n\\t\\t\\t\\t\\t\\tonSetItemsPerPage={onSetItemsPerPage}\\n\\t\\t\\t\\t\\t\\tonSetCurrent={onSetCurrent}\\n\\t\\t\\t\\t\\t\\t{...paginationProps}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</>\\n\\t\\t\\t)}\\n\\t\\t\\t{isSuccess && data?.sounds.length === 0 && <GenericNoResults />}\\n\\t\\t\\t{isError && (\\n\\t\\t\\t\\t<States>\\n\\t\\t\\t\\t\\t<StatesIcon name='warning' variation='danger' />\\n\\t\\t\\t\\t\\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\\n\\t\\t\\t\\t\\t<StatesActions>\\n\\t\\t\\t\\t\\t\\t<StatesAction onClick={() => refetch()}>{t('Reload_page')}</StatesAction>\\n\\t\\t\\t\\t\\t</StatesActions>\\n\\t\\t\\t\\t</States>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default CustomSoundsTable;\\n\",null],\"names\":[\"_extends\",\"_objectSpread\",\"_objectWithoutProperties\",\"Pagination\",\"States\",\"StatesIcon\",\"StatesActions\",\"StatesAction\",\"StatesTitle\",\"useDebouncedValue\",\"useTranslation\",\"useEndpoint\",\"useQuery\",\"React\",\"useState\",\"useMemo\",\"useEffect\",\"FilterByText\",\"GenericNoResults\",\"GenericTable\",\"GenericTableBody\",\"GenericTableHeader\",\"GenericTableHeaderCell\",\"GenericTableLoadingTable\",\"usePagination\",\"useSort\",\"CustomSoundRow\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"reload\",\"onClick\",\"t\",\"sortBy\",\"sortDirection\",\"setSort\",\"_usePagination\",\"current\",\"itemsPerPage\",\"setItemsPerPage\",\"onSetItemsPerPage\",\"setCurrent\",\"onSetCurrent\",\"paginationProps\",\"_excluded\",\"text\",\"setParams\",\"query\",\"name\",\"sort\",\"concat\",\"count\",\"offset\",\"getSounds\",\"data\",\"refetch\",\"isLoading\",\"isError\",\"isSuccess\",\"refetchOnMount\",\"headers\",\"createElement\",\"Fragment\",\"key\",\"direction\",\"active\",\"w\",\"onChange\",\"headerCells\",\"sounds\",\"length\",\"map\",\"sound\",\"_id\",\"divider\",\"variation\"],\"mappings\":\"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\"}"}