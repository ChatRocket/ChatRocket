{"code":"function module(e,t,l){let r,i,o,n,a;l.export({useLeaderBanner:()=>s}),l.link(\"react\",{useCallback(e){r=e},useRef(e){i=e},useState(e){o=e}},0),l.link(\"../../../../../app/ui/client/views/app/lib/scrolling\",{isAtBottom(e){n=e}},1),l.link(\"../../../../../lib/utils/highOrderFunctions\",{withThrottling(e){a=e}},2);let s=()=>{let[e,t]=o(!1),l=i(null),s=r(e=>{if(!e)return;let r=0;e.addEventListener(\"scroll\",a({wait:100})(i=>{var o;let a=null===(o=l.current)||void 0===o?void 0:o.querySelector(\".room-leader\");a&&(i.target.scrollTop<r?t(!1):!1===n(e,100)&&i.target.scrollTop>parseFloat(getComputedStyle(a).height)&&t(!0)),r=i.target.scrollTop}),{passive:!0})},[]);return{wrapperRef:l,hideLeaderHeader:e,innerRef:s}}}","map":"{\"version\":3,\"sources\":[\"client/views/room/body/hooks/useLeaderBanner.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useCallback, useRef, useState } from 'react';\\n\\nimport { isAtBottom } from '../../../../../app/ui/client/views/app/lib/scrolling';\\nimport { withThrottling } from '../../../../../lib/utils/highOrderFunctions';\\n\\nexport const useLeaderBanner = () => {\\n\\tconst [hideLeaderHeader, setHideLeaderHeader] = useState(false);\\n\\n\\tconst wrapperBoxRef = useRef<HTMLDivElement>(null);\\n\\n\\tconst innerScrollRef = useCallback((node: HTMLElement | null) => {\\n\\t\\tif (!node) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tlet lastScrollTopRef = 0;\\n\\n\\t\\tnode.addEventListener(\\n\\t\\t\\t'scroll',\\n\\t\\t\\twithThrottling({ wait: 100 })((event) => {\\n\\t\\t\\t\\tconst roomLeader = wrapperBoxRef.current?.querySelector('.room-leader');\\n\\t\\t\\t\\tif (roomLeader) {\\n\\t\\t\\t\\t\\tif (event.target.scrollTop < lastScrollTopRef) {\\n\\t\\t\\t\\t\\t\\tsetHideLeaderHeader(false);\\n\\t\\t\\t\\t\\t} else if (isAtBottom(node, 100) === false && event.target.scrollTop > parseFloat(getComputedStyle(roomLeader).height)) {\\n\\t\\t\\t\\t\\t\\tsetHideLeaderHeader(true);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tlastScrollTopRef = event.target.scrollTop;\\n\\t\\t\\t}),\\n\\t\\t\\t{ passive: true },\\n\\t\\t);\\n\\t}, []);\\n\\n\\treturn {\\n\\t\\twrapperRef: wrapperBoxRef,\\n\\t\\thideLeaderHeader,\\n\\t\\tinnerRef: innerScrollRef,\\n\\t};\\n};\\n\",null],\"names\":[\"useCallback\",\"useRef\",\"useState\",\"isAtBottom\",\"withThrottling\",\"module\",\"export\",\"useLeaderBanner\",\"link\",\"v\",\"hideLeaderHeader\",\"setHideLeaderHeader\",\"wrapperBoxRef\",\"innerScrollRef\",\"node\",\"lastScrollTopRef\",\"addEventListener\",\"wait\",\"event\",\"_wrapperBoxRef$curren\",\"roomLeader\",\"current\",\"querySelector\",\"target\",\"scrollTop\",\"parseFloat\",\"getComputedStyle\",\"height\",\"passive\",\"wrapperRef\",\"innerRef\"],\"mappings\":\"2BAAsDA,EAAAC,EAAAC,EAAAC,EAAAC,EAAtDC,EAAOC,MAAE,CAAA,CAAAC,gBAAqBA,IAAAA,CAAgB,GAAQF,EAAAG,IAAA,CAAA,QAAA,CAAAR,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,OAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,uDAAA,CAAAL,WAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,8CAAA,CAAAJ,eAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAK/C,IAAMF,EAAkBA,KAC9B,GAAM,CAACG,EAAkBC,EAAoB,CAAGT,EAAS,CAAA,GAEnDU,EAAgBX,EAAuB,MAEvCY,EAAiBb,EAAac,IACnC,GAAI,CAACA,EACJ,OAED,IAAIC,EAAmB,EAEvBD,EAAKE,gBAAgB,CACpB,SACAZ,EAAe,CAAEa,KAAM,GAAG,GAAKC,IAAS,IAAAC,EACvC,IAAMC,EAAU,AAAwB,OAAxBD,CAAAA,EAAGP,EAAcS,OAAO,AAAPA,GAAOF,AAAA,KAAA,IAAAA,EAAA,KAAA,EAArBA,EAAuBG,aAAa,CAAC,gBACpDF,IACCF,EAAMK,MAAM,CAACC,SAAS,CAAGT,EAC5BJ,EAAoB,CAAA,GACgB,CAAA,IAA1BR,EAAWW,EAAM,MAAkBI,EAAMK,MAAM,CAACC,SAAS,CAAGC,WAAWC,iBAAiBN,GAAYO,MAAM,GACpHhB,EAAoB,CAAA,IAGtBI,EAAmBG,EAAMK,MAAM,CAACC,SAAS,AAC1C,GACA,CAAEI,QAAS,CAAA,CAAI,EAEjB,EAAG,EAAE,EAEL,MAAO,CACNC,WAAYjB,EACZF,iBAAAA,EACAoB,SAAUjB,EAEZ\"}"}