{"code":"function module(e,t,n){var u,o,c,i,a,l,r,s,f,m,d,E,C,k,p,_,x,h,v,b,P,g,S,U,w;n.link(\"@rocket.chat/fuselage\",{Button:function(e){u=e},ButtonGroup:function(e){o=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useRoute:function(e){c=e},useRouteParameter:function(e){i=e},usePermission:function(e){a=e},useTranslation:function(e){l=e},useSetting:function(e){r=e}},1),n.link(\"react\",{default:function(e){s=e},useCallback:function(e){f=e},useRef:function(e){m=e},useEffect:function(e){d=e}},2),n.link(\"../../../components/Contextualbar\",{Contextualbar:function(e){E=e},ContextualbarHeader:function(e){C=e},ContextualbarClose:function(e){k=e},ContextualbarTitle:function(e){p=e},ContextualbarDialog:function(e){_=e}},3),n.link(\"../../../components/Page\",{Page:function(e){x=e},PageHeader:function(e){h=e},PageContent:function(e){v=e}},4),n.link(\"../../../hooks/useIsEnterprise\",{useIsEnterprise:function(e){b=e}},5),n.link(\"../../notAuthorized/NotAuthorizedPage\",{default:function(e){P=e}},6),n.link(\"./CustomUserActiveConnections\",{default:function(e){g=e}},7),n.link(\"./CustomUserStatusFormWithData\",{default:function(e){S=e}},8),n.link(\"./CustomUserStatusService\",{default:function(e){U=e}},9),n.link(\"./CustomUserStatusTable\",{default:function(e){w=e}},10),n.exportDefault(function(){var e=l(),t=c(\"user-status\"),n=i(\"context\"),A=i(\"id\"),D=a(\"manage-user-status\"),R=b().data,T=r(\"Presence_broadcast_disabled\");d(function(){T&&t.push({context:\"presence-service\"})},[T,t]);var z=f(function(){t.push({context:\"new\"})},[t]),B=f(function(){t.push({context:\"presence-service\"})},[t]),H=f(function(){t.push({})},[t]),I=m(function(){return null}),N=f(function(){I.current()},[I]);return D?s.createElement(x,{flexDirection:\"row\"},s.createElement(x,{name:\"admin-user-status\"},s.createElement(h,{title:e(\"User_Status\")},!(null!=R&&R.isEnterprise)&&s.createElement(g,null),s.createElement(o,null,s.createElement(u,{onClick:B},e(\"Presence_service\")),s.createElement(u,{onClick:z},e(\"New_custom_status\")))),s.createElement(v,null,s.createElement(w,{reload:I,onClick:function(e){t.push({context:\"edit\",id:e})}}))),n&&s.createElement(_,null,s.createElement(E,null,s.createElement(C,null,s.createElement(p,null,\"edit\"===n&&e(\"Custom_User_Status_Edit\"),\"new\"===n&&e(\"Custom_User_Status_Add\"),\"presence-service\"===n&&e(\"Presence_service_cap\")),s.createElement(k,{onClick:H})),\"presence-service\"===n&&s.createElement(U,null),(\"new\"===n||\"edit\"===n)&&s.createElement(S,{_id:A,onClose:H,onReload:N})))):s.createElement(P,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/customUserStatus/CustomUserStatusRoute.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Button, ButtonGroup } from '@rocket.chat/fuselage';\\nimport { useRoute, useRouteParameter, usePermission, useTranslation, useSetting } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback, useRef, useEffect } from 'react';\\n\\nimport {\\n\\tContextualbar,\\n\\tContextualbarHeader,\\n\\tContextualbarClose,\\n\\tContextualbarTitle,\\n\\tContextualbarDialog,\\n} from '../../../components/Contextualbar';\\nimport { Page, PageHeader, PageContent } from '../../../components/Page';\\nimport { useIsEnterprise } from '../../../hooks/useIsEnterprise';\\nimport NotAuthorizedPage from '../../notAuthorized/NotAuthorizedPage';\\nimport CustomUserActiveConnections from './CustomUserActiveConnections';\\nimport CustomUserStatusFormWithData from './CustomUserStatusFormWithData';\\nimport CustomUserStatusService from './CustomUserStatusService';\\nimport CustomUserStatusTable from './CustomUserStatusTable';\\n\\nconst CustomUserStatusRoute = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst route = useRoute('user-status');\\n\\tconst context = useRouteParameter('context');\\n\\tconst id = useRouteParameter('id');\\n\\tconst canManageUserStatus = usePermission('manage-user-status');\\n\\tconst { data: license } = useIsEnterprise();\\n\\tconst presenceDisabled = useSetting<boolean>('Presence_broadcast_disabled');\\n\\n\\tuseEffect(() => {\\n\\t\\tpresenceDisabled && route.push({ context: 'presence-service' });\\n\\t}, [presenceDisabled, route]);\\n\\n\\tconst handleItemClick = (id: string): void => {\\n\\t\\troute.push({\\n\\t\\t\\tcontext: 'edit',\\n\\t\\t\\tid,\\n\\t\\t});\\n\\t};\\n\\n\\tconst handleNewButtonClick = useCallback(() => {\\n\\t\\troute.push({ context: 'new' });\\n\\t}, [route]);\\n\\n\\tconst handlePresenceServiceClick = useCallback(() => {\\n\\t\\troute.push({ context: 'presence-service' });\\n\\t}, [route]);\\n\\n\\tconst handleClose = useCallback(() => {\\n\\t\\troute.push({});\\n\\t}, [route]);\\n\\n\\tconst reload = useRef(() => null);\\n\\n\\tconst handleReload = useCallback(() => {\\n\\t\\treload.current();\\n\\t}, [reload]);\\n\\n\\tif (!canManageUserStatus) {\\n\\t\\treturn <NotAuthorizedPage />;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<Page flexDirection='row'>\\n\\t\\t\\t<Page name='admin-user-status'>\\n\\t\\t\\t\\t<PageHeader title={t('User_Status')}>\\n\\t\\t\\t\\t\\t{!license?.isEnterprise && <CustomUserActiveConnections />}\\n\\t\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t\\t<Button onClick={handlePresenceServiceClick}>{t('Presence_service')}</Button>\\n\\t\\t\\t\\t\\t\\t<Button onClick={handleNewButtonClick}>{t('New_custom_status')}</Button>\\n\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t</PageHeader>\\n\\t\\t\\t\\t<PageContent>\\n\\t\\t\\t\\t\\t<CustomUserStatusTable reload={reload} onClick={handleItemClick} />\\n\\t\\t\\t\\t</PageContent>\\n\\t\\t\\t</Page>\\n\\t\\t\\t{context && (\\n\\t\\t\\t\\t<ContextualbarDialog>\\n\\t\\t\\t\\t\\t<Contextualbar>\\n\\t\\t\\t\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t\\t\\t\\t<ContextualbarTitle>\\n\\t\\t\\t\\t\\t\\t\\t\\t{context === 'edit' && t('Custom_User_Status_Edit')}\\n\\t\\t\\t\\t\\t\\t\\t\\t{context === 'new' && t('Custom_User_Status_Add')}\\n\\t\\t\\t\\t\\t\\t\\t\\t{context === 'presence-service' && t('Presence_service_cap')}\\n\\t\\t\\t\\t\\t\\t\\t</ContextualbarTitle>\\n\\t\\t\\t\\t\\t\\t\\t<ContextualbarClose onClick={handleClose} />\\n\\t\\t\\t\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t\\t\\t\\t{context === 'presence-service' && <CustomUserStatusService />}\\n\\t\\t\\t\\t\\t\\t{(context === 'new' || context === 'edit') && (\\n\\t\\t\\t\\t\\t\\t\\t<CustomUserStatusFormWithData _id={id} onClose={handleClose} onReload={handleReload} />\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</Contextualbar>\\n\\t\\t\\t\\t</ContextualbarDialog>\\n\\t\\t\\t)}\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default CustomUserStatusRoute;\\n\",null],\"names\":[\"Button\",\"ButtonGroup\",\"useRoute\",\"useRouteParameter\",\"usePermission\",\"useTranslation\",\"useSetting\",\"React\",\"useCallback\",\"useRef\",\"useEffect\",\"Contextualbar\",\"ContextualbarHeader\",\"ContextualbarClose\",\"ContextualbarTitle\",\"ContextualbarDialog\",\"Page\",\"PageHeader\",\"PageContent\",\"useIsEnterprise\",\"NotAuthorizedPage\",\"CustomUserActiveConnections\",\"CustomUserStatusFormWithData\",\"CustomUserStatusService\",\"CustomUserStatusTable\",\"module\",\"link\",\"v\",\"exportDefault\",\"t\",\"route\",\"context\",\"id\",\"canManageUserStatus\",\"license\",\"_useIsEnterprise\",\"data\",\"presenceDisabled\",\"push\",\"handleNewButtonClick\",\"handlePresenceServiceClick\",\"handleClose\",\"reload\",\"handleReload\",\"current\",\"createElement\",\"flexDirection\",\"name\",\"title\",\"isEnterprise\",\"onClick\",\"_id\",\"onClose\",\"onReload\"],\"mappings\":\"uBAoBA,IApBAA,EAASC,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA3CC,EAAaC,IAAA,CAAA,wBAA6B,CAAC1B,OAAA,SAAA2B,CAAA,EAAA3B,EAAA2B,CAAA,EAAA1B,YAAA,SAAA0B,CAAA,EAAA1B,EAAA0B,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAxB,SAAA,SAAAyB,CAAA,EAAAzB,EAAAyB,CAAA,EAAAxB,kBAAA,SAAAwB,CAAA,EAAAxB,EAAAwB,CAAA,EAAAvB,cAAA,SAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,EAAAtB,eAAA,SAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,EAAArB,WAAA,SAAAqB,CAAA,EAAArB,EAAAqB,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAApB,EAAAoB,CAAA,EAAAnB,YAAA,SAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,EAAAlB,OAAA,SAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,EAAAjB,UAAA,SAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oCAAA,CAAAf,cAAA,SAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,EAAAf,oBAAA,SAAAe,CAAA,EAAAf,EAAAe,CAAA,EAAAd,mBAAA,SAAAc,CAAA,EAAAd,EAAAc,CAAA,EAAAb,mBAAA,SAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,oBAAA,SAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAV,KAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,WAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,YAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,iCAAA,CAAAP,gBAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,iCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,4BAAA,CAAA,QAAA,SAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0BAAA,CAAA,QAAA,SAAAC,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,IAA5DF,EAAOG,aAAU,CAoBa,WAC7B,IAAMC,EAAIxB,IACJyB,EAAQ5B,EAAS,eACjB6B,EAAU5B,EAAkB,WAC5B6B,EAAK7B,EAAkB,MACvB8B,EAAsB7B,EAAc,sBAC5B8B,EAAOC,AAAKhB,IAAlBiB,IAAI,CACNC,EAAmB/B,EAAoB,+BAE7CI,EAAU,WACT2B,GAAoBP,EAAMQ,IAAI,CAAC,CAAEP,QAAS,kBAAkB,EAC7D,EAAG,CAACM,EAAkBP,EAAM,EAS5B,IAAMS,EAAuB/B,EAAY,WACxCsB,EAAMQ,IAAI,CAAC,CAAEP,QAAS,KAAK,EAC5B,EAAG,CAACD,EAAM,EAEJU,EAA6BhC,EAAY,WAC9CsB,EAAMQ,IAAI,CAAC,CAAEP,QAAS,kBAAkB,EACzC,EAAG,CAACD,EAAM,EAEJW,EAAcjC,EAAY,WAC/BsB,EAAMQ,IAAI,CAAC,CAAA,EACZ,EAAG,CAACR,EAAM,EAEJY,EAASjC,EAAO,WAAA,OAAM,IAAI,GAE1BkC,EAAenC,EAAY,WAChCkC,EAAOE,OAAO,EACf,EAAG,CAACF,EAAO,SAEX,AAAKT,EAKJ1B,EAAAsC,aAAA,CAAC7B,EAAI,CAAC8B,cAAc,KAAK,EACxBvC,EAAAsC,aAAA,CAAC7B,EAAI,CAAC+B,KAAK,mBAAmB,EAC7BxC,EAAAsC,aAAA,CAAC5B,EAAU,CAAC+B,MAAOnB,EAAE,cAAe,EAClC,CAACK,CAAAA,MAAAA,GAAAA,EAASe,YAAY,AAAZA,GAAgB1C,EAAAsC,aAAA,CAACxB,EAA2B,MACvDd,EAAAsC,aAAA,CAAC5C,EAAW,KACXM,EAAAsC,aAAA,CAAC7C,EAAM,CAACkD,QAASV,CAA2B,EAAEX,EAAE,qBAChDtB,EAAAsC,aAAA,CAAC7C,EAAM,CAACkD,QAASX,CAAqB,EAAEV,EAAE,wBAG5CtB,EAAAsC,aAAA,CAAC3B,EAAW,KACXX,EAAAsC,aAAA,CAACrB,EAAqB,CAACkB,OAAQA,EAAQQ,QAxCnB,SAAClB,CAAU,EAClCF,EAAMQ,IAAI,CAAC,CACVP,QAAS,OACTC,GAAAA,GAEF,CAmCoE,KAGjED,GACAxB,EAAAsC,aAAA,CAAC9B,EAAmB,KACnBR,EAAAsC,aAAA,CAAClC,EAAa,KACbJ,EAAAsC,aAAA,CAACjC,EAAmB,KACnBL,EAAAsC,aAAA,CAAC/B,EAAkB,KACjBiB,AAAY,SAAZA,GAAsBF,EAAE,2BACxBE,AAAY,QAAZA,GAAqBF,EAAE,0BACvBE,AAAY,qBAAZA,GAAkCF,EAAE,yBAEtCtB,EAAAsC,aAAA,CAAChC,EAAkB,CAACqC,QAAST,CAAY,IAEzCV,AAAY,qBAAZA,GAAkCxB,EAAAsC,aAAA,CAACtB,EAAuB,MAC1D,AAACQ,CAAAA,AAAY,QAAZA,GAAqBA,AAAY,SAAZA,CAAY,GAClCxB,EAAAsC,aAAA,CAACvB,EAA4B,CAAC6B,IAAKnB,EAAIoB,QAASX,EAAaY,SAAUV,CAAa,MA9BlFpC,EAAAsC,aAAA,CAACzB,EAAiB,KAqC3B\"}"}