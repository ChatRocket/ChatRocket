{"code":"Package[\"core-runtime\"].queue(\"ostrio:cookies\",function(){Package.meteor.Meteor,Package.meteor.global,Package.meteor.meteorEnv,Package.fetch.fetch;var e=Package.modules.meteorInstall;Package.modules.meteorBabelHelpers,Package.promise.Promise,Package[\"ecmascript-runtime-client\"].Symbol;var r=Package[\"ecmascript-runtime-client\"].Map;return Package[\"ecmascript-runtime-client\"].Set,{require:e({node_modules:{meteor:{\"ostrio:cookies\":{\"cookies.js\":function e(e,o,i){i.link(\"@babel/runtime/helpers/assertThisInitialized\",{default:function(e){t=e}},0),i.link(\"@babel/runtime/helpers/inheritsLoose\",{default:function(e){n=e}},1),i.link(\"@babel/runtime/helpers/typeof\",{default:function(e){s=e}},2),i.export({Cookies:function(){return L}}),i.link(\"meteor/meteor\",{Meteor:function(e){a=e}},0),a.isServer?u=e(\"meteor/webapp\").WebApp:c=e(\"meteor/fetch\").fetch;for(var t,n,s,a,c,u,l=function(){},h=/\\/___cookie___\\/set/,d=a.isServer?process.env.ROOT_URL:window.__meteor_runtime_config__.ROOT_URL||window.__meteor_runtime_config__.meteorEnv.ROOT_URL||!1,p=a.isServer?process.env.MOBILE_ROOT_URL:window.__meteor_runtime_config__.MOBILE_ROOT_URL||window.__meteor_runtime_config__.meteorEnv.MOBILE_ROOT_URL||!1,_={isUndefined:function(e){return void 0===e},isArray:function(e){return Array.isArray(e)},clone:function(e){return this.isObject(e)?this.isArray(e)?e.slice():Object.assign({},e):e}},f=[\"Number\",\"Object\",\"Function\"],k=function(e){_[\"is\"+f[e]]=function(r){return Object.prototype.toString.call(r)===\"[object \"+f[e]+\"]\"}},m=0;m<f.length;m++)k(m);var g=decodeURIComponent,v=encodeURIComponent,O=/; */,w=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/,S=function(e,r){try{return r(e)}catch(r){return e}},y=function(e,r){if(\"string\"!=typeof e)throw new a.Error(404,\"argument str must be a string\");var o,i,t,n={},s=r||{};return e.split(O).forEach(function(e){(t=e.indexOf(\"=\"))<0||(i=S(unescape(i=e.substr(0,t).trim()),s.decode||g),'\"'===(o=e.substr(++t,e.length).trim())[0]&&(o=o.slice(1,-1)),void 0===n[i]&&(n[i]=S(o,s.decode||g)))}),n},C=function(e){var o=_.clone(e),i=new r;return JSON.stringify(o,function(e,r){if(\"object\"===s(r)&&null!==r){if(i.get(r))return;i.set(r,!0)}return r})},T=function(e,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o=w.test(e)?e:escape(e);var t=r,n=r;if(_.isUndefined(n))n=\"\";else if(_.isObject(n)||_.isArray(n)){var s=C(n);n=v(\"JSON.parse(\"+s+\")\"),t=JSON.parse(s)}else(n=v(n))&&!w.test(n)&&(n=escape(n));var c=[o+\"=\"+n];if(_.isNumber(i.maxAge)&&c.push(\"Max-Age=\"+i.maxAge),i.domain&&\"string\"==typeof i.domain){if(!w.test(i.domain))throw new a.Error(404,\"option domain is invalid\");c.push(\"Domain=\"+i.domain)}if(i.path&&\"string\"==typeof i.path){if(!w.test(i.path))throw new a.Error(404,\"option path is invalid\");c.push(\"Path=\"+i.path)}else c.push(\"Path=/\");return i.expires=i.expires||i.expire||!1,i.expires===1/0?c.push(\"Expires=Fri, 31 Dec 9999 23:59:59 GMT\"):i.expires instanceof Date?c.push(\"Expires=\"+i.expires.toUTCString()):0===i.expires?c.push(\"Expires=0\"):_.isNumber(i.expires)&&c.push(\"Expires=\"+new Date(i.expires).toUTCString()),i.httpOnly&&c.push(\"HttpOnly\"),i.secure&&c.push(\"Secure\"),i.firstPartyOnly&&c.push(\"First-Party-Only\"),i.sameSite&&c.push(!0===i.sameSite?\"SameSite\":\"SameSite=\"+i.sameSite),{cookieString:c.join(\"; \"),sanitizedValue:t}},b=/JSON\\.parse\\((.*)\\)/,E=/false|true|null/,P=function(e){if(\"string\"!=typeof e)return e;if(b.test(e)){var r=e.match(b)[1];if(r)try{return JSON.parse(g(r))}catch(o){console.error(\"[ostrio:cookies] [.get()] [deserialize()] Exception:\",o,e,r)}}else if(E.test(e))try{return JSON.parse(e)}catch(e){}return e},R=function(){function e(e){this.__pendingCookies=[],this.TTL=e.TTL||!1,this.response=e.response||!1,this.runOnServer=e.runOnServer||!1,this.allowQueryStringCookies=e.allowQueryStringCookies||!1,this.allowedCordovaOrigins=e.allowedCordovaOrigins||!1,!0===this.allowedCordovaOrigins&&(this.allowedCordovaOrigins=/^http:\\/\\/localhost:12[0-9]{3}$/),this.originRE=RegExp(\"^https?://(\"+(d||\"\")+(p?\"|\"+p:\"\")+\")$\"),_.isObject(e._cookies)?this.cookies=e._cookies:this.cookies=y(e._cookies)}var r=e.prototype;return r.get=function(e,r){var o=r?y(r):this.cookies;if(e&&o&&o.hasOwnProperty(e))return P(o[e])},r.set=function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&!_.isUndefined(r)){_.isNumber(this.TTL)&&void 0===o.expires&&(o.expires=new Date(+new Date+this.TTL));var i=T(e,r,o),t=i.cookieString,n=i.sanitizedValue;return this.cookies[e]=n,a.isClient?document.cookie=t:this.response&&(this.__pendingCookies.push(t),this.response.setHeader(\"Set-Cookie\",this.__pendingCookies)),!0}return!1},r.remove=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"/\",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\";if(e&&this.cookies.hasOwnProperty(e)){var i=T(e,\"\",{domain:o,path:r,expires:new Date(0)}).cookieString;return delete this.cookies[e],a.isClient?document.cookie=i:this.response&&this.response.setHeader(\"Set-Cookie\",i),!0}if(!e&&this.keys().length>0&&\"\"!==this.keys()[0]){for(var t=Object.keys(this.cookies),n=0;n<t.length;n++)this.remove(t[n]);return!0}return!1},r.has=function(e,r){var o=r?y(r):this.cookies;return!!e&&!!o&&o.hasOwnProperty(e)},r.keys=function(){return this.cookies?Object.keys(this.cookies):[]},r.send=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;if(a.isServer&&e(new a.Error(400,\"Can't run `.send()` on server, it's Client only method!\")),this.runOnServer){var r=(window.__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||window.__meteor_runtime_config__.meteorEnv.ROOT_URL_PATH_PREFIX||\"\")+\"/___cookie___/set\",o=\"\";if(a.isCordova&&this.allowQueryStringCookies){for(var i=this.keys(),t=[],n=0;n<i.length;n++){var s=T(i[n],this.get(i[n])).sanitizedValue,u=i[n]+\"=\"+s;t.includes(u)||t.push(u)}t.length&&(r=a.absoluteUrl(\"___cookie___/set\"),o=\"?___cookies___=\"+encodeURIComponent(t.join(\"; \")))}c(\"\"+r+o,{credentials:\"include\",type:\"cors\"}).then(function(r){e(void 0,r)}).catch(e)}else e(new a.Error(400,\"Can't send cookies on server when `runOnServer` is false.\"))},e}(),x=function(e,r,o){var i={};if(o.runOnServer)return e.headers&&e.headers.cookie&&(i=y(e.headers.cookie)),new R({_cookies:i,TTL:o.TTL,runOnServer:o.runOnServer,response:r,allowQueryStringCookies:o.allowQueryStringCookies});throw new a.Error(400,\"Can't use middleware when `runOnServer` is false.\")},L=function(e){function r(){var o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.TTL=!!_.isNumber(i.TTL)&&i.TTL,i.runOnServer=!1!==i.runOnServer,i.allowQueryStringCookies=!0===i.allowQueryStringCookies,a.isClient?(i._cookies=document.cookie,o=e.call(this,i)||this):(i._cookies={},o=e.call(this,i)||this,i.auto=!1!==i.auto,o.opts=i,o.handler=!!_.isFunction(i.handler)&&i.handler,o.onCookies=!!_.isFunction(i.onCookies)&&i.onCookies,i.runOnServer&&!r.isLoadedOnServer&&(r.isLoadedOnServer=!0,i.auto&&u.connectHandlers.use(function(e,r,t){if(h.test(e._parsedUrl.path)){var n=!!e.headers.origin&&o.allowedCordovaOrigins&&o.allowedCordovaOrigins.test(e.headers.origin);(n||e.headers.origin&&o.originRE.test(e.headers.origin))&&(r.setHeader(\"Access-Control-Allow-Credentials\",\"true\"),r.setHeader(\"Access-Control-Allow-Origin\",e.headers.origin));var s=[],a={};n&&i.allowQueryStringCookies&&e.query.___cookies___?a=y(decodeURIComponent(e.query.___cookies___)):e.headers.cookie&&(a=y(e.headers.cookie));var c=Object.keys(a);if(c.length){for(var u=0;u<c.length;u++){var l=T(c[u],a[c[u]]).cookieString;s.includes(l)||s.push(l)}s.length&&r.setHeader(\"Set-Cookie\",s)}_.isFunction(o.onCookies)&&o.onCookies(x(e,r,i)),r.writeHead(200),r.end(\"\")}else e.Cookies=x(e,r,i),_.isFunction(o.handler)&&o.handler(e.Cookies),t()}))),t(o)}return n(r,e),r.prototype.middleware=function(){var e=this;if(!a.isServer)throw new a.Error(500,\"[ostrio:cookies] Can't use `.middleware()` on Client, it's Server only!\");return function(r,o,i){_.isFunction(e.handler)&&e.handler(x(r,o,e.opts)),i()}},r}(R);a.isServer&&(L.isLoadedOnServer=!1)}}}}},{extensions:[\".js\",\".json\"]}),eagerModulePaths:[\"/node_modules/meteor/ostrio:cookies/cookies.js\"],mainModulePath:\"/node_modules/meteor/ostrio:cookies/cookies.js\"}});","map":"{\"version\":3,\"sources\":[\"packages/ostrio:cookies/cookies.js\",\"<anon>\"],\"sourcesContent\":[\"import { Meteor } from 'meteor/meteor';\\n\\nlet fetch;\\nlet WebApp;\\n\\nif (Meteor.isServer) {\\n\\tWebApp = require('meteor/webapp').WebApp;\\n} else {\\n\\tfetch = require('meteor/fetch').fetch;\\n}\\n\\nconst NoOp = () => {};\\nconst urlRE = /\\\\/___cookie___\\\\/set/;\\nconst rootUrl = Meteor.isServer\\n\\t? process.env.ROOT_URL\\n\\t: window.__meteor_runtime_config__.ROOT_URL || window.__meteor_runtime_config__.meteorEnv.ROOT_URL || false;\\nconst mobileRootUrl = Meteor.isServer\\n\\t? process.env.MOBILE_ROOT_URL\\n\\t: window.__meteor_runtime_config__.MOBILE_ROOT_URL || window.__meteor_runtime_config__.meteorEnv.MOBILE_ROOT_URL || false;\\n\\nconst helpers = {\\n\\tisUndefined(obj) {\\n\\t\\treturn obj === void 0;\\n\\t},\\n\\tisArray(obj) {\\n\\t\\treturn Array.isArray(obj);\\n\\t},\\n\\tclone(obj) {\\n\\t\\tif (!this.isObject(obj)) return obj;\\n\\t\\treturn this.isArray(obj) ? obj.slice() : Object.assign({}, obj);\\n\\t},\\n};\\nconst _helpers = ['Number', 'Object', 'Function'];\\nfor (let i = 0; i < _helpers.length; i++) {\\n\\thelpers['is' + _helpers[i]] = function (obj) {\\n\\t\\treturn Object.prototype.toString.call(obj) === '[object ' + _helpers[i] + ']';\\n\\t};\\n}\\n\\n/**\\n * @url https://github.com/jshttp/cookie/blob/master/index.js\\n * @name cookie\\n * @author jshttp\\n * @license\\n * (The MIT License)\\n *\\n * Copyright (c) 2012-2014 Roman Shtylman <shtylman@gmail.com>\\n * Copyright (c) 2015 Douglas Christopher Wilson <doug@somethingdoug.com>\\n *\\n * Permission is hereby granted, free of charge, to any person obtaining\\n * a copy of this software and associated documentation files (the\\n * 'Software'), to deal in the Software without restriction, including\\n * without limitation the rights to use, copy, modify, merge, publish,\\n * distribute, sublicense, and/or sell copies of the Software, and to\\n * permit persons to whom the Software is furnished to do so, subject to\\n * the following conditions:\\n *\\n * The above copyright notice and this permission notice shall be\\n * included in all copies or substantial portions of the Software.\\n *\\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\\n * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\\n * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\\n */\\nconst decode = decodeURIComponent;\\nconst encode = encodeURIComponent;\\nconst pairSplitRegExp = /; */;\\n\\n/**\\n * RegExp to match field-content in RFC 7230 sec 3.2\\n *\\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\\n * field-vchar   = VCHAR / obs-text\\n * obs-text      = %x80-FF\\n */\\nconst fieldContentRegExp = /^[\\\\u0009\\\\u0020-\\\\u007e\\\\u0080-\\\\u00ff]+$/;\\n\\n/**\\n * @function\\n * @name tryDecode\\n * @param {String} str\\n * @param {Function} d\\n * @summary Try decoding a string using a decoding function.\\n * @private\\n */\\nconst tryDecode = (str, d) => {\\n\\ttry {\\n\\t\\treturn d(str);\\n\\t} catch (e) {\\n\\t\\treturn str;\\n\\t}\\n};\\n\\n/**\\n * @function\\n * @name parse\\n * @param {String} str\\n * @param {Object} [options]\\n * @return {Object}\\n * @summary\\n * Parse a cookie header.\\n * Parse the given cookie header string into an object\\n * The object has the various cookies as keys(names) => values\\n * @private\\n */\\nconst parse = (str, options) => {\\n\\tif (typeof str !== 'string') {\\n\\t\\tthrow new Meteor.Error(404, 'argument str must be a string');\\n\\t}\\n\\tconst obj = {};\\n\\tconst opt = options || {};\\n\\tlet val;\\n\\tlet key;\\n\\tlet eqIndx;\\n\\n\\tstr.split(pairSplitRegExp).forEach((pair) => {\\n\\t\\teqIndx = pair.indexOf('=');\\n\\t\\tif (eqIndx < 0) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tkey = pair.substr(0, eqIndx).trim();\\n\\t\\tkey = tryDecode(unescape(key), opt.decode || decode);\\n\\t\\tval = pair.substr(++eqIndx, pair.length).trim();\\n\\t\\tif (val[0] === '\\\"') {\\n\\t\\t\\tval = val.slice(1, -1);\\n\\t\\t}\\n\\t\\tif (void 0 === obj[key]) {\\n\\t\\t\\tobj[key] = tryDecode(val, opt.decode || decode);\\n\\t\\t}\\n\\t});\\n\\treturn obj;\\n};\\n\\n/**\\n * @function\\n * @name antiCircular\\n * @param data {Object} - Circular or any other object which needs to be non-circular\\n * @private\\n */\\nconst antiCircular = (_obj) => {\\n\\tconst object = helpers.clone(_obj);\\n\\tconst cache = new Map();\\n\\treturn JSON.stringify(object, (key, value) => {\\n\\t\\tif (typeof value === 'object' && value !== null) {\\n\\t\\t\\tif (cache.get(value)) {\\n\\t\\t\\t\\treturn void 0;\\n\\t\\t\\t}\\n\\t\\t\\tcache.set(value, true);\\n\\t\\t}\\n\\t\\treturn value;\\n\\t});\\n};\\n\\n/**\\n * @function\\n * @name serialize\\n * @param {String} name\\n * @param {String} val\\n * @param {Object} [options]\\n * @return { cookieString: String, sanitizedValue: Mixed }\\n * @summary\\n * Serialize data into a cookie header.\\n * Serialize the a name value pair into a cookie string suitable for\\n * http headers. An optional options object specified cookie parameters.\\n * serialize('foo', 'bar', { httpOnly: true }) => \\\"foo=bar; httpOnly\\\"\\n * @private\\n */\\nconst serialize = (key, val, opt = {}) => {\\n\\tlet name;\\n\\n\\tif (!fieldContentRegExp.test(key)) {\\n\\t\\tname = escape(key);\\n\\t} else {\\n\\t\\tname = key;\\n\\t}\\n\\n\\tlet sanitizedValue = val;\\n\\tlet value = val;\\n\\tif (!helpers.isUndefined(value)) {\\n\\t\\tif (helpers.isObject(value) || helpers.isArray(value)) {\\n\\t\\t\\tconst stringified = antiCircular(value);\\n\\t\\t\\tvalue = encode(`JSON.parse(${stringified})`);\\n\\t\\t\\tsanitizedValue = JSON.parse(stringified);\\n\\t\\t} else {\\n\\t\\t\\tvalue = encode(value);\\n\\t\\t\\tif (value && !fieldContentRegExp.test(value)) {\\n\\t\\t\\t\\tvalue = escape(value);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t} else {\\n\\t\\tvalue = '';\\n\\t}\\n\\n\\tconst pairs = [`${name}=${value}`];\\n\\n\\tif (helpers.isNumber(opt.maxAge)) {\\n\\t\\tpairs.push(`Max-Age=${opt.maxAge}`);\\n\\t}\\n\\n\\tif (opt.domain && typeof opt.domain === 'string') {\\n\\t\\tif (!fieldContentRegExp.test(opt.domain)) {\\n\\t\\t\\tthrow new Meteor.Error(404, 'option domain is invalid');\\n\\t\\t}\\n\\t\\tpairs.push(`Domain=${opt.domain}`);\\n\\t}\\n\\n\\tif (opt.path && typeof opt.path === 'string') {\\n\\t\\tif (!fieldContentRegExp.test(opt.path)) {\\n\\t\\t\\tthrow new Meteor.Error(404, 'option path is invalid');\\n\\t\\t}\\n\\t\\tpairs.push(`Path=${opt.path}`);\\n\\t} else {\\n\\t\\tpairs.push('Path=/');\\n\\t}\\n\\n\\topt.expires = opt.expires || opt.expire || false;\\n\\tif (opt.expires === Infinity) {\\n\\t\\tpairs.push('Expires=Fri, 31 Dec 9999 23:59:59 GMT');\\n\\t} else if (opt.expires instanceof Date) {\\n\\t\\tpairs.push(`Expires=${opt.expires.toUTCString()}`);\\n\\t} else if (opt.expires === 0) {\\n\\t\\tpairs.push('Expires=0');\\n\\t} else if (helpers.isNumber(opt.expires)) {\\n\\t\\tpairs.push(`Expires=${new Date(opt.expires).toUTCString()}`);\\n\\t}\\n\\n\\tif (opt.httpOnly) {\\n\\t\\tpairs.push('HttpOnly');\\n\\t}\\n\\n\\tif (opt.secure) {\\n\\t\\tpairs.push('Secure');\\n\\t}\\n\\n\\tif (opt.firstPartyOnly) {\\n\\t\\tpairs.push('First-Party-Only');\\n\\t}\\n\\n\\tif (opt.sameSite) {\\n\\t\\tpairs.push(opt.sameSite === true ? 'SameSite' : `SameSite=${opt.sameSite}`);\\n\\t}\\n\\n\\treturn { cookieString: pairs.join('; '), sanitizedValue };\\n};\\n\\nconst isStringifiedRegEx = /JSON\\\\.parse\\\\((.*)\\\\)/;\\nconst isTypedRegEx = /false|true|null/;\\nconst deserialize = (string) => {\\n\\tif (typeof string !== 'string') {\\n\\t\\treturn string;\\n\\t}\\n\\n\\tif (isStringifiedRegEx.test(string)) {\\n\\t\\tlet obj = string.match(isStringifiedRegEx)[1];\\n\\t\\tif (obj) {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\treturn JSON.parse(decode(obj));\\n\\t\\t\\t} catch (e) {\\n\\t\\t\\t\\tconsole.error('[ostrio:cookies] [.get()] [deserialize()] Exception:', e, string, obj);\\n\\t\\t\\t\\treturn string;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\treturn string;\\n\\t} else if (isTypedRegEx.test(string)) {\\n\\t\\ttry {\\n\\t\\t\\treturn JSON.parse(string);\\n\\t\\t} catch (e) {\\n\\t\\t\\treturn string;\\n\\t\\t}\\n\\t}\\n\\treturn string;\\n};\\n\\n/**\\n * @locus Anywhere\\n * @class __cookies\\n * @param opts {Object} - Options (configuration) object\\n * @param opts._cookies {Object|String} - Current cookies as String or Object\\n * @param opts.TTL {Number|Boolean} - Default cookies expiration time (max-age) in milliseconds, by default - session (false)\\n * @param opts.runOnServer {Boolean} - Expose Cookies class to Server\\n * @param opts.response {http.ServerResponse|Object} - This object is created internally by a HTTP server\\n * @param opts.allowQueryStringCookies {Boolean} - Allow passing Cookies in a query string (in URL). Primary should be used only in Cordova environment\\n * @param opts.allowedCordovaOrigins {Regex|Boolean} - [Server] Allow setting Cookies from that specific origin which in Meteor/Cordova is localhost:12XXX (^http://localhost:12[0-9]{3}$)\\n * @summary Internal Class\\n */\\nclass __cookies {\\n\\tconstructor(opts) {\\n\\t\\tthis.__pendingCookies = [];\\n\\t\\tthis.TTL = opts.TTL || false;\\n\\t\\tthis.response = opts.response || false;\\n\\t\\tthis.runOnServer = opts.runOnServer || false;\\n\\t\\tthis.allowQueryStringCookies = opts.allowQueryStringCookies || false;\\n\\t\\tthis.allowedCordovaOrigins = opts.allowedCordovaOrigins || false;\\n\\n\\t\\tif (this.allowedCordovaOrigins === true) {\\n\\t\\t\\tthis.allowedCordovaOrigins = /^http:\\\\/\\\\/localhost:12[0-9]{3}$/;\\n\\t\\t}\\n\\n\\t\\tthis.originRE = new RegExp(`^https?:\\\\/\\\\/(${rootUrl ? rootUrl : ''}${mobileRootUrl ? '|' + mobileRootUrl : ''})$`);\\n\\n\\t\\tif (helpers.isObject(opts._cookies)) {\\n\\t\\t\\tthis.cookies = opts._cookies;\\n\\t\\t} else {\\n\\t\\t\\tthis.cookies = parse(opts._cookies);\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * @locus Anywhere\\n\\t * @memberOf __cookies\\n\\t * @name get\\n\\t * @param {String} key  - The name of the cookie to read\\n\\t * @param {String} _tmp - Unparsed string instead of user's cookies\\n\\t * @summary Read a cookie. If the cookie doesn't exist a null value will be returned.\\n\\t * @returns {String|void}\\n\\t */\\n\\tget(key, _tmp) {\\n\\t\\tconst cookieString = _tmp ? parse(_tmp) : this.cookies;\\n\\t\\tif (!key || !cookieString) {\\n\\t\\t\\treturn void 0;\\n\\t\\t}\\n\\n\\t\\tif (cookieString.hasOwnProperty(key)) {\\n\\t\\t\\treturn deserialize(cookieString[key]);\\n\\t\\t}\\n\\n\\t\\treturn void 0;\\n\\t}\\n\\n\\t/**\\n\\t * @locus Anywhere\\n\\t * @memberOf __cookies\\n\\t * @name set\\n\\t * @param {String} key   - The name of the cookie to create/overwrite\\n\\t * @param {String} value - The value of the cookie\\n\\t * @param {Object} opts  - [Optional] Cookie options (see readme docs)\\n\\t * @summary Create/overwrite a cookie.\\n\\t * @returns {Boolean}\\n\\t */\\n\\tset(key, value, opts = {}) {\\n\\t\\tif (key && !helpers.isUndefined(value)) {\\n\\t\\t\\tif (helpers.isNumber(this.TTL) && opts.expires === undefined) {\\n\\t\\t\\t\\topts.expires = new Date(+new Date() + this.TTL);\\n\\t\\t\\t}\\n\\t\\t\\tconst { cookieString, sanitizedValue } = serialize(key, value, opts);\\n\\n\\t\\t\\tthis.cookies[key] = sanitizedValue;\\n\\t\\t\\tif (Meteor.isClient) {\\n\\t\\t\\t\\tdocument.cookie = cookieString;\\n\\t\\t\\t} else if (this.response) {\\n\\t\\t\\t\\tthis.__pendingCookies.push(cookieString);\\n\\t\\t\\t\\tthis.response.setHeader('Set-Cookie', this.__pendingCookies);\\n\\t\\t\\t}\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\t\\treturn false;\\n\\t}\\n\\n\\t/**\\n\\t * @locus Anywhere\\n\\t * @memberOf __cookies\\n\\t * @name remove\\n\\t * @param {String} key    - The name of the cookie to create/overwrite\\n\\t * @param {String} path   - [Optional] The path from where the cookie will be\\n\\t * readable. E.g., \\\"/\\\", \\\"/mydir\\\"; if not specified, defaults to the current\\n\\t * path of the current document location (string or null). The path must be\\n\\t * absolute (see RFC 2965). For more information on how to use relative paths\\n\\t * in this argument, see: https://developer.mozilla.org/en-US/docs/Web/API/document.cookie#Using_relative_URLs_in_the_path_parameter\\n\\t * @param {String} domain - [Optional] The domain from where the cookie will\\n\\t * be readable. E.g., \\\"example.com\\\", \\\".example.com\\\" (includes all subdomains)\\n\\t * or \\\"subdomain.example.com\\\"; if not specified, defaults to the host portion\\n\\t * of the current document location (string or null).\\n\\t * @summary Remove a cookie(s).\\n\\t * @returns {Boolean}\\n\\t */\\n\\tremove(key, path = '/', domain = '') {\\n\\t\\tif (key && this.cookies.hasOwnProperty(key)) {\\n\\t\\t\\tconst { cookieString } = serialize(key, '', {\\n\\t\\t\\t\\tdomain,\\n\\t\\t\\t\\tpath,\\n\\t\\t\\t\\texpires: new Date(0),\\n\\t\\t\\t});\\n\\n\\t\\t\\tdelete this.cookies[key];\\n\\t\\t\\tif (Meteor.isClient) {\\n\\t\\t\\t\\tdocument.cookie = cookieString;\\n\\t\\t\\t} else if (this.response) {\\n\\t\\t\\t\\tthis.response.setHeader('Set-Cookie', cookieString);\\n\\t\\t\\t}\\n\\t\\t\\treturn true;\\n\\t\\t} else if (!key && this.keys().length > 0 && this.keys()[0] !== '') {\\n\\t\\t\\tconst keys = Object.keys(this.cookies);\\n\\t\\t\\tfor (let i = 0; i < keys.length; i++) {\\n\\t\\t\\t\\tthis.remove(keys[i]);\\n\\t\\t\\t}\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\t\\treturn false;\\n\\t}\\n\\n\\t/**\\n\\t * @locus Anywhere\\n\\t * @memberOf __cookies\\n\\t * @name has\\n\\t * @param {String} key  - The name of the cookie to create/overwrite\\n\\t * @param {String} _tmp - Unparsed string instead of user's cookies\\n\\t * @summary Check whether a cookie exists in the current position.\\n\\t * @returns {Boolean}\\n\\t */\\n\\thas(key, _tmp) {\\n\\t\\tconst cookieString = _tmp ? parse(_tmp) : this.cookies;\\n\\t\\tif (!key || !cookieString) {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\treturn cookieString.hasOwnProperty(key);\\n\\t}\\n\\n\\t/**\\n\\t * @locus Anywhere\\n\\t * @memberOf __cookies\\n\\t * @name keys\\n\\t * @summary Returns an array of all readable cookies from this location.\\n\\t * @returns {[String]}\\n\\t */\\n\\tkeys() {\\n\\t\\tif (this.cookies) {\\n\\t\\t\\treturn Object.keys(this.cookies);\\n\\t\\t}\\n\\t\\treturn [];\\n\\t}\\n\\n\\t/**\\n\\t * @locus Client\\n\\t * @memberOf __cookies\\n\\t * @name send\\n\\t * @param cb {Function} - Callback\\n\\t * @summary Send all cookies over XHR to server.\\n\\t * @returns {void}\\n\\t */\\n\\tsend(cb = NoOp) {\\n\\t\\tif (Meteor.isServer) {\\n\\t\\t\\tcb(new Meteor.Error(400, \\\"Can't run `.send()` on server, it's Client only method!\\\"));\\n\\t\\t}\\n\\n\\t\\tif (this.runOnServer) {\\n\\t\\t\\tlet path = `${\\n\\t\\t\\t\\twindow.__meteor_runtime_config__.ROOT_URL_PATH_PREFIX || window.__meteor_runtime_config__.meteorEnv.ROOT_URL_PATH_PREFIX || ''\\n\\t\\t\\t}/___cookie___/set`;\\n\\t\\t\\tlet query = '';\\n\\n\\t\\t\\tif (Meteor.isCordova && this.allowQueryStringCookies) {\\n\\t\\t\\t\\tconst cookiesKeys = this.keys();\\n\\t\\t\\t\\tconst cookiesArray = [];\\n\\t\\t\\t\\tfor (let i = 0; i < cookiesKeys.length; i++) {\\n\\t\\t\\t\\t\\tconst { sanitizedValue } = serialize(cookiesKeys[i], this.get(cookiesKeys[i]));\\n\\t\\t\\t\\t\\tconst pair = `${cookiesKeys[i]}=${sanitizedValue}`;\\n\\t\\t\\t\\t\\tif (!cookiesArray.includes(pair)) {\\n\\t\\t\\t\\t\\t\\tcookiesArray.push(pair);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (cookiesArray.length) {\\n\\t\\t\\t\\t\\tpath = Meteor.absoluteUrl('___cookie___/set');\\n\\t\\t\\t\\t\\tquery = `?___cookies___=${encodeURIComponent(cookiesArray.join('; '))}`;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfetch(`${path}${query}`, {\\n\\t\\t\\t\\tcredentials: 'include',\\n\\t\\t\\t\\ttype: 'cors',\\n\\t\\t\\t})\\n\\t\\t\\t\\t.then((response) => {\\n\\t\\t\\t\\t\\tcb(void 0, response);\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.catch(cb);\\n\\t\\t} else {\\n\\t\\t\\tcb(new Meteor.Error(400, \\\"Can't send cookies on server when `runOnServer` is false.\\\"));\\n\\t\\t}\\n\\t\\treturn void 0;\\n\\t}\\n}\\n\\n/**\\n * @function\\n * @locus Server\\n * @summary Middleware handler\\n * @private\\n */\\nconst __middlewareHandler = (request, response, opts) => {\\n\\tlet _cookies = {};\\n\\tif (opts.runOnServer) {\\n\\t\\tif (request.headers && request.headers.cookie) {\\n\\t\\t\\t_cookies = parse(request.headers.cookie);\\n\\t\\t}\\n\\n\\t\\treturn new __cookies({\\n\\t\\t\\t_cookies,\\n\\t\\t\\tTTL: opts.TTL,\\n\\t\\t\\trunOnServer: opts.runOnServer,\\n\\t\\t\\tresponse,\\n\\t\\t\\tallowQueryStringCookies: opts.allowQueryStringCookies,\\n\\t\\t});\\n\\t}\\n\\n\\tthrow new Meteor.Error(400, \\\"Can't use middleware when `runOnServer` is false.\\\");\\n};\\n\\n/**\\n * @locus Anywhere\\n * @class Cookies\\n * @param opts {Object}\\n * @param opts.TTL {Number} - Default cookies expiration time (max-age) in milliseconds, by default - session (false)\\n * @param opts.auto {Boolean} - [Server] Auto-bind in middleware as `req.Cookies`, by default `true`\\n * @param opts.handler {Function} - [Server] Middleware handler\\n * @param opts.runOnServer {Boolean} - Expose Cookies class to Server\\n * @param opts.allowQueryStringCookies {Boolean} - Allow passing Cookies in a query string (in URL). Primary should be used only in Cordova environment\\n * @param opts.allowedCordovaOrigins {Regex|Boolean} - [Server] Allow setting Cookies from that specific origin which in Meteor/Cordova is localhost:12XXX (^http://localhost:12[0-9]{3}$)\\n * @summary Main Cookie class\\n */\\nclass Cookies extends __cookies {\\n\\tconstructor(opts = {}) {\\n\\t\\topts.TTL = helpers.isNumber(opts.TTL) ? opts.TTL : false;\\n\\t\\topts.runOnServer = opts.runOnServer !== false ? true : false;\\n\\t\\topts.allowQueryStringCookies = opts.allowQueryStringCookies !== true ? false : true;\\n\\n\\t\\tif (Meteor.isClient) {\\n\\t\\t\\topts._cookies = document.cookie;\\n\\t\\t\\tsuper(opts);\\n\\t\\t} else {\\n\\t\\t\\topts._cookies = {};\\n\\t\\t\\tsuper(opts);\\n\\t\\t\\topts.auto = opts.auto !== false ? true : false;\\n\\t\\t\\tthis.opts = opts;\\n\\t\\t\\tthis.handler = helpers.isFunction(opts.handler) ? opts.handler : false;\\n\\t\\t\\tthis.onCookies = helpers.isFunction(opts.onCookies) ? opts.onCookies : false;\\n\\n\\t\\t\\tif (opts.runOnServer && !Cookies.isLoadedOnServer) {\\n\\t\\t\\t\\tCookies.isLoadedOnServer = true;\\n\\t\\t\\t\\tif (opts.auto) {\\n\\t\\t\\t\\t\\tWebApp.connectHandlers.use((req, res, next) => {\\n\\t\\t\\t\\t\\t\\tif (urlRE.test(req._parsedUrl.path)) {\\n\\t\\t\\t\\t\\t\\t\\tconst matchedCordovaOrigin =\\n\\t\\t\\t\\t\\t\\t\\t\\t!!req.headers.origin && this.allowedCordovaOrigins && this.allowedCordovaOrigins.test(req.headers.origin);\\n\\t\\t\\t\\t\\t\\t\\tconst matchedOrigin = matchedCordovaOrigin || (!!req.headers.origin && this.originRE.test(req.headers.origin));\\n\\n\\t\\t\\t\\t\\t\\t\\tif (matchedOrigin) {\\n\\t\\t\\t\\t\\t\\t\\t\\tres.setHeader('Access-Control-Allow-Credentials', 'true');\\n\\t\\t\\t\\t\\t\\t\\t\\tres.setHeader('Access-Control-Allow-Origin', req.headers.origin);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tconst cookiesArray = [];\\n\\t\\t\\t\\t\\t\\t\\tlet cookiesObject = {};\\n\\t\\t\\t\\t\\t\\t\\tif (matchedCordovaOrigin && opts.allowQueryStringCookies && req.query.___cookies___) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcookiesObject = parse(decodeURIComponent(req.query.___cookies___));\\n\\t\\t\\t\\t\\t\\t\\t} else if (req.headers.cookie) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcookiesObject = parse(req.headers.cookie);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tconst cookiesKeys = Object.keys(cookiesObject);\\n\\t\\t\\t\\t\\t\\t\\tif (cookiesKeys.length) {\\n\\t\\t\\t\\t\\t\\t\\t\\tfor (let i = 0; i < cookiesKeys.length; i++) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tconst { cookieString } = serialize(cookiesKeys[i], cookiesObject[cookiesKeys[i]]);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (!cookiesArray.includes(cookieString)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcookiesArray.push(cookieString);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif (cookiesArray.length) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tres.setHeader('Set-Cookie', cookiesArray);\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\thelpers.isFunction(this.onCookies) && this.onCookies(__middlewareHandler(req, res, opts));\\n\\n\\t\\t\\t\\t\\t\\t\\tres.writeHead(200);\\n\\t\\t\\t\\t\\t\\t\\tres.end('');\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\treq.Cookies = __middlewareHandler(req, res, opts);\\n\\t\\t\\t\\t\\t\\t\\thelpers.isFunction(this.handler) && this.handler(req.Cookies);\\n\\t\\t\\t\\t\\t\\t\\tnext();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * @locus Server\\n\\t * @memberOf Cookies\\n\\t * @name middleware\\n\\t * @summary Get Cookies instance into callback\\n\\t * @returns {void}\\n\\t */\\n\\tmiddleware() {\\n\\t\\tif (!Meteor.isServer) {\\n\\t\\t\\tthrow new Meteor.Error(500, \\\"[ostrio:cookies] Can't use `.middleware()` on Client, it's Server only!\\\");\\n\\t\\t}\\n\\n\\t\\treturn (req, res, next) => {\\n\\t\\t\\thelpers.isFunction(this.handler) && this.handler(__middlewareHandler(req, res, this.opts));\\n\\t\\t\\tnext();\\n\\t\\t};\\n\\t}\\n}\\n\\nif (Meteor.isServer) {\\n\\tCookies.isLoadedOnServer = false;\\n}\\n\\n/* Export the Cookies class */\\nexport { Cookies };\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_assertThisInitialized\",\"_inheritsLoose\",\"_typeof\",\"export\",\"Cookies\",\"Meteor\",\"isServer\",\"WebApp\",\"require\",\"fetch\",\"NoOp\",\"urlRE\",\"rootUrl\",\"process\",\"env\",\"ROOT_URL\",\"window\",\"__meteor_runtime_config__\",\"meteorEnv\",\"mobileRootUrl\",\"MOBILE_ROOT_URL\",\"helpers\",\"isUndefined\",\"obj\",\"isArray\",\"Array\",\"clone\",\"isObject\",\"slice\",\"Object\",\"assign\",\"_helpers\",\"_loop\",\"i\",\"prototype\",\"toString\",\"call\",\"length\",\"decode\",\"decodeURIComponent\",\"encode\",\"encodeURIComponent\",\"pairSplitRegExp\",\"fieldContentRegExp\",\"tryDecode\",\"str\",\"d\",\"e\",\"parse\",\"options\",\"Error\",\"val\",\"key\",\"eqIndx\",\"opt\",\"split\",\"forEach\",\"pair\",\"indexOf\",\"unescape\",\"substr\",\"trim\",\"antiCircular\",\"_obj\",\"object\",\"cache\",\"Map\",\"JSON\",\"stringify\",\"value\",\"get\",\"set\",\"serialize\",\"name\",\"arguments\",\"undefined\",\"test\",\"escape\",\"sanitizedValue\",\"stringified\",\"pairs\",\"isNumber\",\"maxAge\",\"push\",\"domain\",\"path\",\"expires\",\"expire\",\"Infinity\",\"Date\",\"toUTCString\",\"httpOnly\",\"secure\",\"firstPartyOnly\",\"sameSite\",\"cookieString\",\"join\",\"isStringifiedRegEx\",\"isTypedRegEx\",\"deserialize\",\"string\",\"match\",\"console\",\"error\",\"__cookies\",\"opts\",\"__pendingCookies\",\"TTL\",\"response\",\"runOnServer\",\"allowQueryStringCookies\",\"allowedCordovaOrigins\",\"originRE\",\"RegExp\",\"_cookies\",\"cookies\",\"_proto\",\"_tmp\",\"hasOwnProperty\",\"_serialize\",\"isClient\",\"document\",\"cookie\",\"setHeader\",\"remove\",\"_serialize2\",\"keys\",\"has\",\"send\",\"cb\",\"ROOT_URL_PATH_PREFIX\",\"query\",\"isCordova\",\"cookiesKeys\",\"cookiesArray\",\"_serialize3\",\"includes\",\"absoluteUrl\",\"credentials\",\"type\",\"then\",\"catch\",\"__middlewareHandler\",\"request\",\"headers\",\"_cookies2\",\"_this\",\"auto\",\"handler\",\"isFunction\",\"onCookies\",\"isLoadedOnServer\",\"connectHandlers\",\"use\",\"req\",\"res\",\"next\",\"_parsedUrl\",\"matchedCordovaOrigin\",\"origin\",\"cookiesObject\",\"___cookies___\",\"_serialize4\",\"writeHead\",\"end\",\"_proto2\",\"middleware\",\"_this2\"],\"mappings\":\"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\"}"}