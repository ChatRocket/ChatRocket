{"code":"function module(t,e,o){let u,n,s,i,a,l,d;o.link(\"@rocket.chat/ui-contexts\",{CustomSoundContext(t){u=t},useUserId(t){n=t},useStream(t){s=t}},0),o.link(\"react\",{default(t){i=t},useEffect(t){a=t}},1),o.link(\"../../app/custom-sounds/client/lib/CustomSounds\",{CustomSounds(t){l=t}},2),o.link(\"../hooks/useContinuousSoundNotification\",{useContinuousSoundNotification(t){d=t}},3),o.exportDefault(t=>{let{children:e}=t,o=n();a(()=>{o&&l.fetchCustomSoundList()},[o]),d();let c=s(\"notify-all\");return a(()=>{if(o)return c(\"public-info\",t=>{let[e,o]=t;switch(e){case\"updateCustomSound\":l.update(o[0].soundData);break;case\"deleteCustomSound\":l.remove(o[0].soundData)}})},[o,c]),i.createElement(u.Provider,{children:e,value:l})})}","map":"{\"version\":3,\"sources\":[\"client/providers/CustomSoundProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { CustomSoundContext, useUserId, useStream } from '@rocket.chat/ui-contexts';\\nimport type { ReactNode } from 'react';\\nimport React, { useEffect } from 'react';\\n\\nimport { CustomSounds } from '../../app/custom-sounds/client/lib/CustomSounds';\\nimport { useContinuousSoundNotification } from '../hooks/useContinuousSoundNotification';\\n\\ntype CustomSoundProviderProps = {\\n\\tchildren?: ReactNode;\\n};\\n\\nconst CustomSoundProvider = ({ children }: CustomSoundProviderProps) => {\\n\\tconst userId = useUserId();\\n\\tuseEffect(() => {\\n\\t\\tif (!userId) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tvoid CustomSounds.fetchCustomSoundList();\\n\\t}, [userId]);\\n\\n\\tuseContinuousSoundNotification();\\n\\n\\tconst streamAll = useStream('notify-all');\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!userId) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\treturn streamAll('public-info', ([key, data]) => {\\n\\t\\t\\tswitch (key) {\\n\\t\\t\\t\\tcase 'updateCustomSound':\\n\\t\\t\\t\\t\\tCustomSounds.update(data[0].soundData);\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\tcase 'deleteCustomSound':\\n\\t\\t\\t\\t\\tCustomSounds.remove(data[0].soundData);\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}, [userId, streamAll]);\\n\\treturn <CustomSoundContext.Provider children={children} value={CustomSounds} />;\\n};\\n\\nexport default CustomSoundProvider;\\n\",null],\"names\":[\"CustomSoundContext\",\"useUserId\",\"useStream\",\"React\",\"useEffect\",\"CustomSounds\",\"useContinuousSoundNotification\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"children\",\"userId\",\"fetchCustomSoundList\",\"streamAll\",\"_ref2\",\"key\",\"data\",\"update\",\"soundData\",\"remove\",\"createElement\",\"Provider\",\"value\"],\"mappings\":\"2BAAAA,EAASC,EAAoBC,EAAuDC,EAAAC,EAAAC,EAAAC,EAA5CC,EAASC,IAAE,CAAA,2BAAM,CAA0BR,mBAACS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,UAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,UAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,EAAAL,UAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kDAAA,CAAAH,aAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0CAAA,CAAAF,+BAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAApFF,EAAOI,aAAE,CAWmBC,IAA2C,GAA1C,CAAEC,SAAAA,CAAAA,CAAoC,CAAAD,EAC5DE,EAASb,IACfG,EAAU,KACJU,GAGAT,EAAaU,oBAAoB,EACvC,EAAG,CAACD,EAAO,EAEXR,IAEA,IAAMU,EAAYd,EAAU,cAkB5B,OAhBAE,EAAU,KACT,GAAKU,EAIL,OAAOE,EAAU,cAAeC,IAAgB,GAAf,CAACC,EAAKC,EAAK,CAAAF,EAC3C,OAAQC,GACP,IAAK,oBACJb,EAAae,MAAM,CAACD,CAAI,CAAC,EAAE,CAACE,SAAS,EACrC,KACD,KAAK,oBACJhB,EAAaiB,MAAM,CAACH,CAAI,CAAC,EAAE,CAACE,SAAS,CAEvC,CACD,EACD,EAAG,CAACP,EAAQE,EAAU,EACfb,EAAAoB,aAAA,CAACvB,EAAmBwB,QAAQ,CAAA,CAACX,SAAUA,EAAUY,MAAOpB,CAAa,EAC7E\"}"}