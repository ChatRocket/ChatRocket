{"code":"function module(e,t,a){let n,l,s,c,i,o,r,u,g;a.export({useRemoveTag:()=>k}),a.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){n=e}},0),a.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){l=e},useToastMessageDispatch(e){s=e},useRouter(e){c=e},useMethod(e){i=e}},1),a.link(\"@tanstack/react-query\",{useQueryClient(e){o=e}},2),a.link(\"react\",{default(e){r=e}},3),a.link(\"react-i18next\",{useTranslation(e){u=e}},4),a.link(\"../../components/GenericModal\",{default(e){g=e}},5);let k=()=>{let{t:e}=u(),t=l(),a=s(),k=i(\"livechat:removeTag\"),m=o(),d=c(),h=n(n=>{let l=async()=>{try{await k(n),a({type:\"success\",message:e(\"Tag_removed\")}),d.navigate(\"/omnichannel/tags\"),m.invalidateQueries([\"livechat-tags\"])}catch(e){a({type:\"error\",message:e})}finally{t()}};t(r.createElement(g,{variant:\"danger\",onConfirm:l,onCancel:()=>t(),confirmText:e(\"Delete\")}))});return h}}","map":"{\"version\":3,\"sources\":[\"client/omnichannel/tags/useRemoveTag.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useRouter, useMethod } from '@rocket.chat/ui-contexts';\\nimport { useQueryClient } from '@tanstack/react-query';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../components/GenericModal';\\n\\nexport const useRemoveTag = () => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst removeTag = useMethod('livechat:removeTag');\\n\\tconst queryClient = useQueryClient();\\n\\tconst router = useRouter();\\n\\n\\tconst handleDeleteTag = useMutableCallback((tagId) => {\\n\\t\\tconst handleDelete = async () => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait removeTag(tagId);\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Tag_removed') });\\n\\t\\t\\t\\trouter.navigate('/omnichannel/tags');\\n\\t\\t\\t\\tqueryClient.invalidateQueries(['livechat-tags']);\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tsetModal();\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tsetModal(<GenericModal variant='danger' onConfirm={handleDelete} onCancel={() => setModal()} confirmText={t('Delete')} />);\\n\\t});\\n\\n\\treturn handleDeleteTag;\\n};\\n\",null],\"names\":[\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useRouter\",\"useMethod\",\"useQueryClient\",\"React\",\"useTranslation\",\"GenericModal\",\"module\",\"export\",\"useRemoveTag\",\"link\",\"v\",\"default\",\"t\",\"setModal\",\"dispatchToastMessage\",\"removeTag\",\"queryClient\",\"router\",\"handleDeleteTag\",\"tagId\",\"handleDelete\",\"type\",\"message\",\"navigate\",\"invalidateQueries\",\"error\",\"createElement\",\"variant\",\"onConfirm\",\"onCancel\",\"confirmText\"],\"mappings\":\"2BAAmCA,EAA8BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjEC,EAAOC,MAAE,CAAA,CAAAC,aAAkBA,IAAEA,CAAM,GAA8BF,EAAAG,IAAA,CAAA,8BAAA,CAAAZ,mBAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,2BAAA,CAAAX,YAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,wBAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,UAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,UAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,wBAAA,CAAAP,eAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,gBAAA,CAAAL,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,gCAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAQ1D,IAAMF,EAAeA,KAC3B,GAAM,CAAEI,EAAAA,CAAAA,CAAG,CAAGR,IACRS,EAAWf,IACXgB,EAAuBf,IACvBgB,EAAYd,EAAU,sBACtBe,EAAcd,IACde,EAASjB,IAETkB,EAAkBrB,EAAoBsB,IAC3C,IAAMC,EAAe,UACpB,GAAI,CACH,MAAML,EAAUI,GAChBL,EAAqB,CAAEO,KAAM,UAAWC,QAASV,EAAE,cAAc,GACjEK,EAAOM,QAAQ,CAAC,qBAChBP,EAAYQ,iBAAiB,CAAC,CAAC,gBAAgB,CAChD,CAAE,MAAOC,EAAO,CACfX,EAAqB,CAAEO,KAAM,QAASC,QAASG,CAAK,EACrD,QAAU,CACTZ,GACD,CACD,EAEAA,EAASV,EAAAuB,aAAA,CAACrB,EAAY,CAACsB,QAAQ,SAASC,UAAWR,EAAcS,SAAUA,IAAMhB,IAAYiB,YAAalB,EAAE,SAAU,GACvH,GAEA,OAAOM,CACR\"}"}