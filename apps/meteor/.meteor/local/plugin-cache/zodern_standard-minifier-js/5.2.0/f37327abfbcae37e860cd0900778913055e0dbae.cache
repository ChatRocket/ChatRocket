{"code":"function module(e,t,a){let l,u,n,r,o,s;a.link(\"@rocket.chat/ui-contexts\",{useRouter(e){l=e},useUser(e){u=e},useUserId(e){n=e}},0),a.link(\"react\",{default(e){r=e},useEffect(e){o=e}},1),a.link(\"./PageLoading\",{default(e){s=e}},2),a.exportDefault(()=>{let e=l(),t=n(),a=u();return o(()=>{if(!t){e.navigate(\"/home\");return}let l=Tracker.autorun(t=>{setTimeout(async()=>{if(null!=a&&a.defaultRoom){let t=a.defaultRoom.split(\"/\");e.navigate({name:t[0],params:{name:t[1]},search:e.getSearchParameters()})}else e.navigate(\"/home\")},0),t.stop()});return()=>{l.stop()}},[e,t,null==a?void 0:a.defaultRoom]),r.createElement(s,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/root/IndexRoute.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { RouteName } from '@rocket.chat/ui-contexts';\\nimport { useRouter, useUser, useUserId } from '@rocket.chat/ui-contexts';\\nimport React, { useEffect } from 'react';\\n\\nimport PageLoading from './PageLoading';\\n\\nconst IndexRoute = () => {\\n\\tconst router = useRouter();\\n\\tconst uid = useUserId();\\n\\tconst user = useUser();\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!uid) {\\n\\t\\t\\trouter.navigate('/home');\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst computation = Tracker.autorun((c) => {\\n\\t\\t\\tsetTimeout(async () => {\\n\\t\\t\\t\\tif (user?.defaultRoom) {\\n\\t\\t\\t\\t\\tconst room = user.defaultRoom.split('/') as [routeName: RouteName, routeParam: string];\\n\\t\\t\\t\\t\\trouter.navigate({\\n\\t\\t\\t\\t\\t\\tname: room[0],\\n\\t\\t\\t\\t\\t\\tparams: { name: room[1] },\\n\\t\\t\\t\\t\\t\\tsearch: router.getSearchParameters(),\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trouter.navigate('/home');\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, 0);\\n\\t\\t\\tc.stop();\\n\\t\\t});\\n\\n\\t\\treturn () => {\\n\\t\\t\\tcomputation.stop();\\n\\t\\t};\\n\\t}, [router, uid, user?.defaultRoom]);\\n\\n\\treturn <PageLoading />;\\n};\\n\\nexport default IndexRoute;\\n\",null],\"names\":[\"useRouter\",\"useUser\",\"useUserId\",\"React\",\"useEffect\",\"PageLoading\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"IndexRoute\",\"router\",\"uid\",\"user\",\"navigate\",\"computation\",\"Tracker\",\"autorun\",\"c\",\"setTimeout\",\"defaultRoom\",\"room\",\"split\",\"name\",\"params\",\"search\",\"getSearchParameters\",\"stop\",\"createElement\"],\"mappings\":\"2BACAA,EAASC,EAAWC,EAAqDC,EAAAC,EAAAC,EAA5CC,EAASC,IAAE,CAAA,2BAAM,CAA0BP,UAACQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,QAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,UAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,EAAAJ,UAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAzEF,EAAOI,aAAa,CAKDC,KAClB,IAAMC,EAASZ,IACTa,EAAMX,IACNY,EAAOb,IA6Bb,OA3BAG,EAAU,KACT,GAAI,CAACS,EAAK,CACTD,EAAOG,QAAQ,CAAC,SAChB,MACD,CAEA,IAAMC,EAAcC,QAAQC,OAAO,CAAEC,IACpCC,WAAW,UACV,GAAIN,MAAAA,GAAAA,EAAMO,WAAW,CAAE,CACtB,IAAMC,EAAOR,EAAKO,WAAW,CAACE,KAAK,CAAC,KACpCX,EAAOG,QAAQ,CAAC,CACfS,KAAMF,CAAI,CAAC,EAAE,CACbG,OAAQ,CAAED,KAAMF,CAAI,CAAC,EAAC,AAAC,EACvBI,OAAQd,EAAOe,mBAAmB,IAEpC,MACCf,EAAOG,QAAQ,CAAC,QAElB,EAAG,GACHI,EAAES,IAAI,EACP,GAEA,MAAO,KACNZ,EAAYY,IAAI,EACjB,CACD,EAAG,CAAChB,EAAQC,EAAKC,MAAAA,EAAI,KAAA,EAAJA,EAAMO,WAAW,CAAC,EAE5BlB,EAAA0B,aAAA,CAACxB,EAAW,KACpB\"}"}