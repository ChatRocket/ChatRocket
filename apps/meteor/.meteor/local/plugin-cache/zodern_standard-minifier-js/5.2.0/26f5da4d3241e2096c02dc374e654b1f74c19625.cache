{"code":"function module(t,n,o){o.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(t){e=t}},0),o.export({useOTRRoomAction:function(){return s}}),o.link(\"@rocket.chat/core-typings\",{isRoomFederated:function(t){i=t}},0),o.link(\"@rocket.chat/ui-contexts\",{useSetting:function(t){r=t}},1),o.link(\"react\",{lazy:function(t){c=t},useMemo:function(t){u=t}},2),o.link(\"react-i18next\",{useTranslation:function(t){a=t}},3),o.link(\"../../views/room/contexts/RoomContext\",{useRoom:function(t){l=t}},4);var e,i,r,c,u,a,l,f=c(function(){return o.dynamicImport(\"../../views/room/contextualBar/OTR\")}),s=function(){var t=r(\"OTR_Enable\",!1),n=l(),o=i(n),c=!!global.crypto,s=a().t;return u(function(){if(t&&c)return e({id:\"otr\",groups:[\"direct\"],title:\"OTR\",icon:\"stopwatch\",tabComponent:f,order:13,full:!0,type:\"communication\"},o&&{tooltip:s(\"core.OTR_unavailable_for_federation\"),disabled:!0})},[t,c,o,s])}}","map":"{\"version\":3,\"sources\":[\"client/hooks/roomActions/useOTRRoomAction.ts\",\"<anon>\"],\"sourcesContent\":[\"import { isRoomFederated } from '@rocket.chat/core-typings';\\nimport { useSetting } from '@rocket.chat/ui-contexts';\\nimport { lazy, useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useRoom } from '../../views/room/contexts/RoomContext';\\nimport type { RoomToolboxActionConfig } from '../../views/room/contexts/RoomToolboxContext';\\n\\nconst OTR = lazy(() => import('../../views/room/contextualBar/OTR'));\\n\\nexport const useOTRRoomAction = () => {\\n\\tconst enabled = useSetting('OTR_Enable', false);\\n\\tconst room = useRoom();\\n\\tconst federated = isRoomFederated(room);\\n\\tconst capable = !!global.crypto;\\n\\tconst { t } = useTranslation();\\n\\n\\treturn useMemo((): RoomToolboxActionConfig | undefined => {\\n\\t\\tif (!enabled || !capable) {\\n\\t\\t\\treturn undefined;\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tid: 'otr',\\n\\t\\t\\tgroups: ['direct'],\\n\\t\\t\\ttitle: 'OTR',\\n\\t\\t\\ticon: 'stopwatch',\\n\\t\\t\\ttabComponent: OTR,\\n\\t\\t\\torder: 13,\\n\\t\\t\\tfull: true,\\n\\t\\t\\ttype: 'communication',\\n\\t\\t\\t...(federated && {\\n\\t\\t\\t\\ttooltip: t('core.OTR_unavailable_for_federation'),\\n\\t\\t\\t\\tdisabled: true,\\n\\t\\t\\t}),\\n\\t\\t};\\n\\t}, [enabled, capable, federated, t]);\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_objectSpread\",\"export\",\"useOTRRoomAction\",\"isRoomFederated\",\"useSetting\",\"lazy\",\"useMemo\",\"useTranslation\",\"useRoom\",\"OTR\",\"dynamicImport\",\"enabled\",\"room\",\"federated\",\"capable\",\"global\",\"crypto\",\"t\",\"_useTranslation\",\"id\",\"groups\",\"title\",\"icon\",\"tabComponent\",\"order\",\"full\",\"type\",\"tooltip\",\"disabled\"],\"mappings\":\"uBAASA,EAAeC,IAAE,CAAA,uCAAkC,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAA5DH,EAAOK,MAAE,CAAA,CAAAC,iBAAuB,WAAA,OAAAA,CAA4B,CAAA,GAAAN,EAAAC,IAAA,CAAA,4BAAA,CAAAM,gBAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,2BAAA,CAAAO,WAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAQ,KAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,EAAAO,QAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAU,eAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wCAAA,CAAAW,QAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAQ5D,IARAC,EAA4DG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAQtDC,EAAMJ,EAAK,WAAA,OAAMT,EAAAc,aAAA,CAAO,qCAAqC,GAEtDR,EAAmB,WAC/B,IAAMS,EAAUP,EAAW,aAAc,CAAA,GACnCQ,EAAOJ,IACPK,EAAYV,EAAgBS,GAC5BE,EAAU,CAAC,CAACC,OAAOC,MAAM,CACvBC,EAACC,AAAKX,IAANU,CAAC,CAET,OAAOX,EAAQ,WACd,GAAI,AAACK,GAAYG,EAIjB,OAAAd,EAAA,CACCmB,GAAI,MACJC,OAAQ,CAAC,SAAS,CAClBC,MAAO,MACPC,KAAM,YACNC,aAAcd,EACde,MAAO,GACPC,KAAM,CAAA,EACNC,KAAM,eAAe,EACjBb,GAAa,CAChBc,QAASV,EAAE,uCACXW,SAAU,CAAA,GAGb,EAAG,CAACjB,EAASG,EAASD,EAAWI,EAAE,CACpC\"}"}