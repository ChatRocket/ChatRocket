{"code":"function module(e,t,i){let l,s,o,n,a,r,u,c,d,h;i.link(\"@rocket.chat/fuselage\",{PaginatedMultiSelectFiltered(e){l=e}},0),i.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue(e){s=e}},1),i.link(\"react\",{default(e){o=e},memo(e){n=e},useMemo(e){a=e},useState(e){r=e}},2),i.link(\"react-i18next\",{useTranslation(e){u=e}},3),i.link(\"../../hooks/lists/useRecordList\",{useRecordList(e){c=e}},4),i.link(\"../../hooks/useAsyncState\",{AsyncStatePhase(e){d=e}},5),i.link(\"../../hooks/useTagsList\",{useTagsList(e){h=e}},6),i.exportDefault(n(e=>{let{value:t=[],onlyMyTags:i=!1,onChange:n=()=>void 0,department:k,viewAll:f=!1}=e,{t:m}=u(),[g,L]=r(\"\"),S=s(g,500),{itemsList:p,loadMoreItems:v}=h(a(()=>({filter:S,onlyMyTags:i,department:k,viewAll:f}),[S,i,k,f])),{phase:x,items:M,itemCount:T}=c(p),w=a(()=>{let e=t.filter(e=>{let{value:t}=e;return!M.find(e=>e.value===t)});return[...M,...e]},[M,t]);return o.createElement(l,{withTitle:!0,value:t,onChange:n,filter:g,setFilter:L,options:w,width:\"100%\",flexShrink:0,flexGrow:0,placeholder:m(\"Select_an_option\"),endReached:x===d.LOADING?()=>void 0:e=>e&&v(e,Math.min(50,T))})}))}","map":"{\"version\":3,\"sources\":[\"client/omnichannel/tags/AutoCompleteTagsMultiple.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { PaginatedMultiSelectOption } from '@rocket.chat/fuselage';\\nimport { PaginatedMultiSelectFiltered } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport React, { memo, useMemo, useState } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { useRecordList } from '../../hooks/lists/useRecordList';\\nimport { AsyncStatePhase } from '../../hooks/useAsyncState';\\nimport { useTagsList } from '../../hooks/useTagsList';\\n\\ntype AutoCompleteTagsMultipleProps = {\\n\\tvalue?: PaginatedMultiSelectOption[];\\n\\tonlyMyTags?: boolean;\\n\\tonChange?: (value: PaginatedMultiSelectOption[]) => void;\\n\\tdepartment?: string;\\n\\tviewAll?: boolean;\\n};\\n\\nconst AutoCompleteTagsMultiple = ({\\n\\tvalue = [],\\n\\tonlyMyTags = false,\\n\\tonChange = () => undefined,\\n\\tdepartment,\\n\\tviewAll = false,\\n}: AutoCompleteTagsMultipleProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst [tagsFilter, setTagsFilter] = useState('');\\n\\n\\tconst debouncedTagsFilter = useDebouncedValue(tagsFilter, 500);\\n\\n\\tconst { itemsList: tagsList, loadMoreItems: loadMoreTags } = useTagsList(\\n\\t\\tuseMemo(\\n\\t\\t\\t() => ({ filter: debouncedTagsFilter, onlyMyTags, department, viewAll }),\\n\\t\\t\\t[debouncedTagsFilter, onlyMyTags, department, viewAll],\\n\\t\\t),\\n\\t);\\n\\n\\tconst { phase: tagsPhase, items: tagsItems, itemCount: tagsTotal } = useRecordList(tagsList);\\n\\n\\tconst tagsOptions = useMemo(() => {\\n\\t\\tconst pending = value.filter(({ value }) => !tagsItems.find((tag) => tag.value === value));\\n\\t\\treturn [...tagsItems, ...pending];\\n\\t}, [tagsItems, value]);\\n\\n\\treturn (\\n\\t\\t<PaginatedMultiSelectFiltered\\n\\t\\t\\twithTitle\\n\\t\\t\\tvalue={value}\\n\\t\\t\\tonChange={onChange}\\n\\t\\t\\tfilter={tagsFilter}\\n\\t\\t\\tsetFilter={setTagsFilter}\\n\\t\\t\\toptions={tagsOptions}\\n\\t\\t\\twidth='100%'\\n\\t\\t\\tflexShrink={0}\\n\\t\\t\\tflexGrow={0}\\n\\t\\t\\tplaceholder={t('Select_an_option')}\\n\\t\\t\\tendReached={\\n\\t\\t\\t\\ttagsPhase === AsyncStatePhase.LOADING ? () => undefined : (start) => start && loadMoreTags(start, Math.min(50, tagsTotal))\\n\\t\\t\\t}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default memo(AutoCompleteTagsMultiple);\\n\",null],\"names\":[\"PaginatedMultiSelectFiltered\",\"useDebouncedValue\",\"React\",\"memo\",\"useMemo\",\"useState\",\"useTranslation\",\"useRecordList\",\"AsyncStatePhase\",\"useTagsList\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"value\",\"onlyMyTags\",\"onChange\",\"undefined\",\"department\",\"viewAll\",\"t\",\"tagsFilter\",\"setTagsFilter\",\"debouncedTagsFilter\",\"itemsList\",\"tagsList\",\"loadMoreItems\",\"loadMoreTags\",\"filter\",\"phase\",\"tagsPhase\",\"items\",\"tagsItems\",\"itemCount\",\"tagsTotal\",\"tagsOptions\",\"pending\",\"_ref2\",\"find\",\"tag\",\"createElement\",\"withTitle\",\"setFilter\",\"options\",\"width\",\"flexShrink\",\"flexGrow\",\"placeholder\",\"endReached\",\"LOADING\",\"start\",\"Math\",\"min\"],\"mappings\":\"2BACAA,EAAqEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA5DC,EAA8BC,IAAA,CAAM,wBAAwB,CAAAX,6BAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAV,kBAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAV,EAAAU,CAAA,EAAAT,KAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,QAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAL,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kCAAA,CAAAJ,cAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,4BAAA,CAAAH,gBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0BAAA,CAAAF,YAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAArEF,EAAOI,aAAE,CA8DMX,EA7CkBY,IAMG,GANF,CACjCC,MAAAA,EAAQ,EAAE,CACVC,WAAAA,EAAa,CAAA,CAAK,CAClBC,SAAAA,EAAWA,IAAMC,KAAAA,CAAS,CAC1BC,WAAAA,CAAU,CACVC,QAAAA,EAAU,CAAA,CAAA,CACqB,CAAAN,EACzB,CAAEO,EAAAA,CAAAA,CAAG,CAAGhB,IACR,CAACiB,EAAYC,EAAc,CAAGnB,EAAS,IAEvCoB,EAAsBxB,EAAkBsB,EAAY,KAEpD,CAAEG,UAAWC,CAAQ,CAAEC,cAAeC,CAAAA,CAAc,CAAGpB,EAC5DL,EACC,IAAO,CAAA,CAAE0B,OAAQL,EAAqBR,WAAAA,EAAYG,WAAAA,EAAYC,QAAAA,CAAO,CAAA,EACrE,CAACI,EAAqBR,EAAYG,EAAYC,EAAQ,GAIlD,CAAEU,MAAOC,CAAS,CAAEC,MAAOC,CAAS,CAAEC,UAAWC,CAAAA,CAAW,CAAG7B,EAAcoB,GAE7EU,EAAcjC,EAAQ,KAC3B,IAAMkC,EAAUtB,EAAMc,MAAM,CAACS,IAAA,GAAC,CAAEvB,MAAAA,CAAAA,CAAO,CAAAuB,EAAA,MAAK,CAACL,EAAUM,IAAI,CAAEC,GAAQA,EAAIzB,KAAK,GAAKA,EAAM,GACzF,MAAO,IAAIkB,KAAcI,EAAQ,AAClC,EAAG,CAACJ,EAAWlB,EAAM,EAErB,OACCd,EAAAwC,aAAA,CAAC1C,EAA4B,CAC5B2C,UAAS,CAAA,EACT3B,MAAOA,EACPE,SAAUA,EACVY,OAAQP,EACRqB,UAAWpB,EACXqB,QAASR,EACTS,MAAM,OACNC,WAAY,EACZC,SAAU,EACVC,YAAa3B,EAAE,oBACf4B,WACClB,IAAcxB,EAAgB2C,OAAO,CAAG,IAAMhC,KAAAA,EAAaiC,GAAUA,GAASvB,EAAauB,EAAOC,KAAKC,GAAG,CAAC,GAAIlB,GAC/G,EAGJ\"}"}