{"code":"Package[\"core-runtime\"].queue(\"meteor-developer-oauth\",function(){Package.meteor.Meteor,Package.meteor.global,Package.meteor.meteorEnv;var e,o=Package.oauth.OAuth,r=Package[\"service-configuration\"].ServiceConfiguration,t=Package.random.Random,n=Package.modules.meteorInstall;return Package.modules.meteorBabelHelpers,Package.promise.Promise,Package[\"ecmascript-runtime-client\"].Symbol,Package[\"ecmascript-runtime-client\"].Map,Package[\"ecmascript-runtime-client\"].Set,{export:function(){return{MeteorDeveloperAccounts:e}},require:n({node_modules:{meteor:{\"meteor-developer-oauth\":{\"meteor_developer_common.js\":function o(){(e={})._server=\"https://www.meteor.com\",e._config=function(o){o.developerAccountsServer&&(e._server=o.developerAccountsServer)}},\"meteor_developer_client.js\":function n(){e.requestCredential=function(n,i){i||\"function\"!=typeof n||(i=n,n=null);var a=r.configurations.findOne({service:\"meteor-developer\"});if(!a){i&&i(new r.ConfigError);return}var l=t.secret(),c=o._loginStyle(\"meteor-developer\",a,n),m=e._server+\"/oauth2/authorize?state=\"+o._stateParam(c,l,n&&n.redirectUrl)+\"&response_type=code&client_id=\"+a.clientId+(n&&n.details?\"&details=\"+(n&&n.details):\"\");n&&n.userEmail&&!n.loginHint&&(n.loginHint=n.userEmail,delete n.userEmail),n&&n.loginHint&&(m+=\"&user_email=\"+encodeURIComponent(n.loginHint)),m+=\"&redirect_uri=\"+o._redirectUri(\"meteor-developer\",a),o.launchLogin({loginService:\"meteor-developer\",loginStyle:c,loginUrl:m,credentialRequestCompleteCallback:i,credentialToken:l,popupOptions:{width:497,height:749}})}}}}}},{extensions:[\".js\",\".json\"]}),eagerModulePaths:[\"/node_modules/meteor/meteor-developer-oauth/meteor_developer_common.js\",\"/node_modules/meteor/meteor-developer-oauth/meteor_developer_client.js\"]}});","map":"{\"version\":3,\"sources\":[\"packages/meteor-developer-oauth/meteor_developer_common.js\",\"packages/meteor-developer-oauth/meteor_developer_client.js\",\"<anon>\"],\"sourcesContent\":[\"MeteorDeveloperAccounts = {};\\n\\nMeteorDeveloperAccounts._server = \\\"https://www.meteor.com\\\";\\n\\n// Options are:\\n//  - developerAccountsServer: defaults to \\\"https://www.meteor.com\\\"\\nMeteorDeveloperAccounts._config = options => {\\n  if (options.developerAccountsServer) {\\n    MeteorDeveloperAccounts._server = options.developerAccountsServer;\\n  }\\n};\\n\",\"// Request Meteor developer account credentials for the user\\n// @param credentialRequestCompleteCallback {Function} Callback function to call on\\n//   completion. Takes one argument, credentialToken on success, or Error on\\n//   error.\\nconst requestCredential = (options, credentialRequestCompleteCallback) => {\\n  // support a callback without options\\n  if (! credentialRequestCompleteCallback && typeof options === \\\"function\\\") {\\n    credentialRequestCompleteCallback = options;\\n    options = null;\\n  }\\n\\n  const config = ServiceConfiguration.configurations.findOne({\\n    service: 'meteor-developer'\\n  });\\n  if (!config) {\\n    credentialRequestCompleteCallback &&\\n      credentialRequestCompleteCallback(new ServiceConfiguration.ConfigError());\\n    return;\\n  }\\n\\n  const credentialToken = Random.secret();\\n\\n  const loginStyle = OAuth._loginStyle('meteor-developer', config, options);\\n\\n  let loginUrl =\\n        MeteorDeveloperAccounts._server +\\n        \\\"/oauth2/authorize?\\\" +\\n        `state=${OAuth._stateParam(loginStyle, credentialToken, options && options.redirectUrl)}` +\\n        \\\"&response_type=code&\\\" +\\n        `client_id=${config.clientId}${options && options.details ? `&details=${options && options.details}` : ''}`;\\n\\n  /**\\n   * @deprecated in 1.3.0\\n   */\\n  if (options && options.userEmail && !options.loginHint) {\\n    options.loginHint = options.userEmail;\\n    delete options.userEmail;\\n  }\\n\\n  if (options && options.loginHint) {\\n    loginUrl += `&user_email=${encodeURIComponent(options.loginHint)}`;\\n  }\\n\\n  loginUrl += `&redirect_uri=${OAuth._redirectUri('meteor-developer', config)}`;\\n\\n  OAuth.launchLogin({\\n    loginService: \\\"meteor-developer\\\",\\n    loginStyle,\\n    loginUrl,\\n    credentialRequestCompleteCallback,\\n    credentialToken,\\n    popupOptions: {width: 497, height: 749}\\n  });\\n};\\n\\nMeteorDeveloperAccounts.requestCredential = requestCredential;\\n\",null],\"names\":[\"MeteorDeveloperAccounts\",\"_server\",\"_config\",\"options\",\"developerAccountsServer\",\"requestCredential\",\"credentialRequestCompleteCallback\",\"config\",\"ServiceConfiguration\",\"configurations\",\"findOne\",\"service\",\"ConfigError\",\"credentialToken\",\"Random\",\"secret\",\"loginStyle\",\"OAuth\",\"_loginStyle\",\"loginUrl\",\"_stateParam\",\"redirectUrl\",\"clientId\",\"details\",\"userEmail\",\"loginHint\",\"encodeURIComponent\",\"_redirectUri\",\"launchLogin\",\"loginService\",\"popupOptions\",\"width\",\"height\"],\"mappings\":\"8mBAEAA,AAFAA,CAAAA,EAA0B,CAAC,CAAA,EAEHC,OAAO,CAAG,yBAIlCD,EAAwBE,OAAO,CAAG,SAAAC,CAAO,EACnCA,EAAQC,uBAAuB,EACjCJ,CAAAA,EAAwBC,OAAO,CAAGE,EAAQC,uBAAuB,AAAvBA,CAE9C,6CC6CAJ,EAAwBK,iBAAiB,CAnDf,SAACF,CAAO,CAAEG,CAAiC,EAE7DA,GAAqC,AAAmB,YAAnB,OAAOH,IAChDG,EAAoCH,EACpCA,EAAU,MAGZ,IAAMI,EAASC,EAAqBC,cAAc,CAACC,OAAO,CAAC,CACzDC,QAAS,kBACX,GACA,GAAI,CAACJ,EAAQ,CACXD,GACEA,EAAkC,IAAIE,EAAqBI,WAAW,EACxE,MACF,CAEA,IAAMC,EAAkBC,EAAOC,MAAM,GAE/BC,EAAaC,EAAMC,WAAW,CAAC,mBAAoBX,EAAQJ,GAE7DgB,EACEnB,EAAwBC,OAAO,CAA/BD,2BAESiB,EAAMG,WAAW,CAACJ,EAAYH,EAAiBV,GAAWA,EAAQkB,WAAW,EAFtFrB,iCAIaO,EAAOe,QAAQ,CAAGnB,CAAAA,GAAWA,EAAQoB,OAAO,CAAA,YAAepB,CAAAA,GAAWA,EAAQoB,OAAO,AAAPA,EAAY,EAAA,EAKzGpB,GAAWA,EAAQqB,SAAS,EAAI,CAACrB,EAAQsB,SAAS,GACpDtB,EAAQsB,SAAS,CAAGtB,EAAQqB,SAAS,CACrC,OAAOrB,EAAQqB,SAAS,EAGtBrB,GAAWA,EAAQsB,SAAS,EAC9BN,CAAAA,GAAQ,eAAmBO,mBAAmBvB,EAAQsB,SAAS,CAAA,EAGjEN,GAAQ,iBAAqBF,EAAMU,YAAY,CAAC,mBAAoBpB,GAEpEU,EAAMW,WAAW,CAAC,CAChBC,aAAc,mBACdb,WAAAA,EACAG,SAAAA,EACAb,kCAAAA,EACAO,gBAAAA,EACAiB,aAAc,CAACC,MAAO,IAAKC,OAAQ,GAAG,CACxC,EACF\"}"}