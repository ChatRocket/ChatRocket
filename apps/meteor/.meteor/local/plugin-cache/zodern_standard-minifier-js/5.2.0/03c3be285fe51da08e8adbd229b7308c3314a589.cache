{"code":"function module(i,n,e){e.export({buildImageURL:function(){return t}}),e.link(\"../../../../views/room/MessageList/lib/isValidLink\",{isValidLink:function(i){r=i}},0);var r,t=function(i,n){return r(n)?JSON.stringify(n):JSON.stringify((new URL(i).origin+\"/\"+n).replace(/([^:]\\/)\\/+/gm,\"$1\"))}}","map":"{\"version\":3,\"sources\":[\"client/components/message/content/urlPreviews/buildImageURL.ts\",\"<anon>\"],\"sourcesContent\":[\"import { isValidLink } from '../../../../views/room/MessageList/lib/isValidLink';\\n\\nexport const buildImageURL = (url: string, imageUrl: string): string => {\\n\\tif (isValidLink(imageUrl)) {\\n\\t\\treturn JSON.stringify(imageUrl);\\n\\t}\\n\\n\\tconst { origin } = new URL(url);\\n\\tconst imgURL = `${origin}/${imageUrl}`;\\n\\tconst normalizedUrl = imgURL.replace(/([^:]\\\\/)\\\\/+/gm, '$1');\\n\\n\\treturn JSON.stringify(normalizedUrl);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"buildImageURL\",\"link\",\"isValidLink\",\"v\",\"url\",\"imageUrl\",\"JSON\",\"stringify\",\"imgURL\",\"origin\",\"_URL\",\"URL\",\"replace\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,cAAmB,WAAA,OAAAA,CAAA,CAAA,GAAoDF,EAACG,IAAA,CAAA,qDAAA,CAAAC,YAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAE1E,IAFqBD,EAEfF,EAAgB,SAACI,CAAW,CAAEC,CAAgB,SAC1D,AAAIH,EAAYG,GACRC,KAAKC,SAAS,CAACF,GAOhBC,KAAKC,SAAS,CAFCC,AADJC,CAAAA,AADJC,AAAK,IAAIC,IAAIP,GAAnBK,MAAM,CACU,IAAIJ,CAAAA,EACCO,OAAO,CAAC,gBAAiB,MAGvD\"}"}