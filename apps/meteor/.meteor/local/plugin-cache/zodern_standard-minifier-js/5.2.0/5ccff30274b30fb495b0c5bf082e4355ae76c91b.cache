{"code":"function module(e,t,n){let l,o,a,r,i,s,c,u,m,d,C,h,x,E,b,f,k,g,p,S,v,y;n.link(\"@rocket.chat/fuselage\",{Box(e){l=e},Icon(e){o=e},TextInput(e){a=e},Callout(e){r=e},Throbber(e){i=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useResizeObserver(e){s=e},useAutoFocus(e){c=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useSetting(e){u=e},useTranslation(e){m=e}},2),n.link(\"react\",{default(e){d=e},useCallback(e){C=e}},3),n.link(\"react-virtuoso\",{Virtuoso(e){h=e}},4),n.link(\"../../../../components/Contextualbar\",{ContextualbarHeader(e){x=e},ContextualbarIcon(e){E=e},ContextualbarContent(e){b=e},ContextualbarClose(e){f=e},ContextualbarEmptyContent(e){k=e},ContextualbarTitle(e){g=e},ContextualbarSection(e){p=e}},5),n.link(\"../../../../components/CustomScrollbars\",{VirtuosoScrollbars(e){S=e}},6),n.link(\"../../../../lib/utils/goToRoomById\",{goToRoomById(e){v=e}},7),n.link(\"./DiscussionsListRow\",{default(e){y=e}},8),n.exportDefault(function(e){let{total:t=10,discussions:n=[],loadMoreItems:I,loading:R,onClose:T,error:w,text:_,onChangeFilter:D}=e,z=m(),B=u(\"UI_Use_Real_Name\")||!1,N=c(!0),F=C(e=>{let{drid:t}=e.currentTarget.dataset;v(t)},[]),{ref:M,contentBoxSize:{inlineSize:U=378,blockSize:V=1}={}}=s({debounceDelay:200});return d.createElement(d.Fragment,null,d.createElement(x,null,d.createElement(E,{name:\"discussion\"}),d.createElement(g,null,z(\"Discussions\")),d.createElement(f,{onClick:T})),d.createElement(p,null,d.createElement(a,{placeholder:z(\"Search_Messages\"),value:_,onChange:D,ref:N,addon:d.createElement(o,{name:\"magnifier\",size:\"x20\"})})),d.createElement(b,{paddingInline:0,ref:M},R&&d.createElement(l,{pi:24,pb:12},d.createElement(i,{size:\"x12\"})),w instanceof Error&&d.createElement(r,{mi:24,type:\"danger\"},w.toString()),!R&&0===t&&d.createElement(k,{title:z(\"No_Discussions_found\")}),d.createElement(l,{flexGrow:1,flexShrink:1,overflow:\"hidden\",display:\"flex\"},!w&&t>0&&n.length>0&&d.createElement(h,{style:{height:V,width:U,overflow:\"hidden\"},totalCount:t,endReached:R?()=>void 0:e=>I(e,Math.min(50,t-e)),overscan:25,data:n,components:{Scroller:S},itemContent:(e,t)=>d.createElement(y,{discussion:t,showRealNames:B,onClick:F})}))))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/Discussions/DiscussionsList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IDiscussionMessage } from '@rocket.chat/core-typings';\\nimport { Box, Icon, TextInput, Callout, Throbber } from '@rocket.chat/fuselage';\\nimport { useResizeObserver, useAutoFocus } from '@rocket.chat/fuselage-hooks';\\nimport { useSetting, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { RefObject } from 'react';\\nimport React, { useCallback } from 'react';\\nimport { Virtuoso } from 'react-virtuoso';\\n\\nimport {\\n\\tContextualbarHeader,\\n\\tContextualbarIcon,\\n\\tContextualbarContent,\\n\\tContextualbarClose,\\n\\tContextualbarEmptyContent,\\n\\tContextualbarTitle,\\n\\tContextualbarSection,\\n} from '../../../../components/Contextualbar';\\nimport { VirtuosoScrollbars } from '../../../../components/CustomScrollbars';\\nimport { goToRoomById } from '../../../../lib/utils/goToRoomById';\\nimport DiscussionsListRow from './DiscussionsListRow';\\n\\ntype DiscussionsListProps = {\\n\\ttotal: number;\\n\\tdiscussions: Array<IDiscussionMessage>;\\n\\tloadMoreItems: (start: number, end: number) => void;\\n\\tloading: boolean;\\n\\tonClose: () => void;\\n\\terror: unknown;\\n\\ttext: string;\\n\\tonChangeFilter: (e: unknown) => void;\\n};\\n\\nfunction DiscussionsList({\\n\\ttotal = 10,\\n\\tdiscussions = [],\\n\\tloadMoreItems,\\n\\tloading,\\n\\tonClose,\\n\\terror,\\n\\ttext,\\n\\tonChangeFilter,\\n}: DiscussionsListProps) {\\n\\tconst t = useTranslation();\\n\\tconst showRealNames = useSetting<boolean>('UI_Use_Real_Name') || false;\\n\\tconst inputRef = useAutoFocus(true);\\n\\n\\tconst onClick = useCallback((e) => {\\n\\t\\tconst { drid } = e.currentTarget.dataset;\\n\\t\\tgoToRoomById(drid);\\n\\t}, []);\\n\\n\\tconst { ref, contentBoxSize: { inlineSize = 378, blockSize = 1 } = {} } = useResizeObserver<HTMLElement>({\\n\\t\\tdebounceDelay: 200,\\n\\t});\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarIcon name='discussion' />\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Discussions')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={onClose} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarSection>\\n\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\tplaceholder={t('Search_Messages')}\\n\\t\\t\\t\\t\\tvalue={text}\\n\\t\\t\\t\\t\\tonChange={onChangeFilter}\\n\\t\\t\\t\\t\\tref={inputRef as RefObject<HTMLInputElement>}\\n\\t\\t\\t\\t\\taddon={<Icon name='magnifier' size='x20' />}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</ContextualbarSection>\\n\\t\\t\\t<ContextualbarContent paddingInline={0} ref={ref}>\\n\\t\\t\\t\\t{loading && (\\n\\t\\t\\t\\t\\t<Box pi={24} pb={12}>\\n\\t\\t\\t\\t\\t\\t<Throbber size='x12' />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t{error instanceof Error && (\\n\\t\\t\\t\\t\\t<Callout mi={24} type='danger'>\\n\\t\\t\\t\\t\\t\\t{error.toString()}\\n\\t\\t\\t\\t\\t</Callout>\\n\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t{!loading && total === 0 && <ContextualbarEmptyContent title={t('No_Discussions_found')} />}\\n\\n\\t\\t\\t\\t<Box flexGrow={1} flexShrink={1} overflow='hidden' display='flex'>\\n\\t\\t\\t\\t\\t{!error && total > 0 && discussions.length > 0 && (\\n\\t\\t\\t\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\theight: blockSize,\\n\\t\\t\\t\\t\\t\\t\\t\\twidth: inlineSize,\\n\\t\\t\\t\\t\\t\\t\\t\\toverflow: 'hidden',\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\ttotalCount={total}\\n\\t\\t\\t\\t\\t\\t\\tendReached={loading ? () => undefined : (start) => loadMoreItems(start, Math.min(50, total - start))}\\n\\t\\t\\t\\t\\t\\t\\toverscan={25}\\n\\t\\t\\t\\t\\t\\t\\tdata={discussions}\\n\\t\\t\\t\\t\\t\\t\\tcomponents={{ Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t\\t\\t\\t\\titemContent={(_, data) => <DiscussionsListRow discussion={data} showRealNames={showRealNames} onClick={onClick} />}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</ContextualbarContent>\\n\\t\\t</>\\n\\t);\\n}\\n\\nexport default DiscussionsList;\\n\",null],\"names\":[\"Box\",\"Icon\",\"TextInput\",\"Callout\",\"Throbber\",\"useResizeObserver\",\"useAutoFocus\",\"useSetting\",\"useTranslation\",\"React\",\"useCallback\",\"Virtuoso\",\"ContextualbarHeader\",\"ContextualbarIcon\",\"ContextualbarContent\",\"ContextualbarClose\",\"ContextualbarEmptyContent\",\"ContextualbarTitle\",\"ContextualbarSection\",\"VirtuosoScrollbars\",\"goToRoomById\",\"DiscussionsListRow\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"total\",\"discussions\",\"loadMoreItems\",\"loading\",\"onClose\",\"error\",\"text\",\"onChangeFilter\",\"t\",\"showRealNames\",\"inputRef\",\"onClick\",\"e\",\"drid\",\"currentTarget\",\"dataset\",\"ref\",\"contentBoxSize\",\"inlineSize\",\"blockSize\",\"debounceDelay\",\"createElement\",\"Fragment\",\"name\",\"placeholder\",\"value\",\"onChange\",\"addon\",\"size\",\"paddingInline\",\"pi\",\"pb\",\"Error\",\"mi\",\"type\",\"toString\",\"title\",\"flexGrow\",\"flexShrink\",\"overflow\",\"display\",\"length\",\"style\",\"height\",\"width\",\"totalCount\",\"endReached\",\"undefined\",\"start\",\"Math\",\"min\",\"overscan\",\"data\",\"components\",\"Scroller\",\"itemContent\",\"_\",\"discussion\"],\"mappings\":\"2BACAA,EAAOC,EAAKC,EAAQC,EAAWC,EAAiDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxCC,EAAAC,IAAU,CAAA,wBAAM,CAAAvB,IAAwBwB,CAAA,EAAAxB,EAAAwB,CAAA,EAAAvB,KAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,EAAAtB,UAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,EAAArB,QAAAqB,CAAA,EAAArB,EAAAqB,CAAA,EAAApB,SAAAoB,CAAA,EAAApB,EAAAoB,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAlB,kBAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,EAAAlB,aAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAhB,WAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,EAAAhB,eAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAf,EAAAe,CAAA,EAAAd,YAAAc,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,iBAAA,CAAAZ,SAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uCAAA,CAAAX,oBAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,kBAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,qBAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,mBAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,0BAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,mBAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,qBAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0CAAA,CAAAJ,mBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,qCAAA,CAAAH,aAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uBAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAhFF,EAAOI,aAAa,CA+BpB,SAAwBC,CAAA,EASD,GATE,CACxBC,MAAAA,EAAQ,EAAE,CACVC,YAAAA,EAAc,EAAE,CAChBC,cAAAA,CAAa,CACbC,QAAAA,CAAO,CACPC,QAAAA,CAAO,CACPC,MAAAA,CAAK,CACLC,KAAAA,CAAI,CACJC,eAAAA,CAAAA,CACsB,CAAAR,EAChBS,EAAI5B,IACJ6B,EAAgB9B,EAAoB,qBAAuB,CAAA,EAC3D+B,EAAWhC,EAAa,CAAA,GAExBiC,EAAU7B,EAAa8B,IAC5B,GAAM,CAAEC,KAAAA,CAAAA,CAAM,CAAGD,EAAEE,aAAa,CAACC,OAAO,CACxCvB,EAAaqB,EACd,EAAG,EAAE,EAEC,CAAEG,IAAAA,CAAG,CAAEC,eAAgB,CAAEC,WAAAA,EAAa,GAAG,CAAEC,UAAAA,EAAY,CAAA,CAAG,CAAG,CAAA,CAAA,CAAI,CAAG1C,EAA+B,CACxG2C,cAAe,MAGhB,OACCvC,EAAAwC,aAAA,CAAAxC,EAAAyC,QAAA,CAAA,KACCzC,EAAAwC,aAAA,CAACrC,EAAmB,KACnBH,EAAAwC,aAAA,CAACpC,EAAiB,CAACsC,KAAK,YAAY,GACpC1C,EAAAwC,aAAA,CAAChC,EAAkB,KAAEmB,EAAE,gBACvB3B,EAAAwC,aAAA,CAAClC,EAAkB,CAACwB,QAASP,CAAQ,IAEtCvB,EAAAwC,aAAA,CAAC/B,EAAoB,KACpBT,EAAAwC,aAAA,CAAC/C,EAAS,CACTkD,YAAahB,EAAE,mBACfiB,MAAOnB,EACPoB,SAAUnB,EACVS,IAAKN,EACLiB,MAAO9C,EAAAwC,aAAA,CAAChD,EAAI,CAACkD,KAAK,YAAYK,KAAK,KAAK,EAAI,IAG9C/C,EAAAwC,aAAA,CAACnC,EAAoB,CAAC2C,cAAe,EAAGb,IAAKA,CAAI,EAC/Cb,GACAtB,EAAAwC,aAAA,CAACjD,EAAG,CAAC0D,GAAI,GAAIC,GAAI,EAAG,EACnBlD,EAAAwC,aAAA,CAAC7C,EAAQ,CAACoD,KAAK,KAAK,IAIrBvB,aAAiB2B,OACjBnD,EAAAwC,aAAA,CAAC9C,EAAO,CAAC0D,GAAI,GAAIC,KAAK,QAAQ,EAC5B7B,EAAM8B,QAAQ,IAIhB,CAAChC,GAAWH,AAAU,IAAVA,GAAenB,EAAAwC,aAAA,CAACjC,EAAyB,CAACgD,MAAO5B,EAAE,uBAAwB,GAExF3B,EAAAwC,aAAA,CAACjD,EAAG,CAACiE,SAAU,EAAGC,WAAY,EAAGC,SAAS,SAASC,QAAQ,MAAM,EAC/D,CAACnC,GAASL,EAAQ,GAAKC,EAAYwC,MAAM,CAAG,GAC5C5D,EAAAwC,aAAA,CAACtC,EAAQ,CACR2D,MAAO,CACNC,OAAQxB,EACRyB,MAAO1B,EACPqB,SAAU,UAEXM,WAAY7C,EACZ8C,WAAY3C,EAAU,IAAM4C,KAAAA,EAAaC,GAAU9C,EAAc8C,EAAOC,KAAKC,GAAG,CAAC,GAAIlD,EAAQgD,IAC7FG,SAAU,GACVC,KAAMnD,EACNoD,WAAY,CAAEC,SAAU/D,CAAkB,EAC1CgE,YAAaA,CAACC,EAAGJ,IAASvE,EAAAwC,aAAA,CAAC5B,EAAkB,CAACgE,WAAYL,EAAM3C,cAAeA,EAAeE,QAASA,CAAQ,EAAI,KAO1H\"}"}