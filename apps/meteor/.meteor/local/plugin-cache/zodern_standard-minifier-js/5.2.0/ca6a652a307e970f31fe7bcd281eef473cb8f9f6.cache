{"code":"function module(e,n,t){t.export({SelectedMessageContext:function(){return i},useIsSelectedMessage:function(){return l},useIsSelecting:function(){return f},useToggleSelect:function(){return a},useCountSelected:function(){return g}}),t.link(\"react\",{createContext:function(e){r=e},useCallback:function(e){u=e},useContext:function(e){o=e}},0),t.link(\"use-sync-external-store/shim\",{useSyncExternalStore:function(e){c=e}},1),t.link(\"../../providers/SelectedMessagesProvider\",{selectedMessageStore:function(e){s=e}},2);var r,u,o,c,s,i=r({selectedMessageStore:s}),l=function(e){var n=o(i).selectedMessageStore,t=u(function(t){return n.on(e,t)},[n,e]);return c(t,function(){return n.isSelected(e)})},f=function(){var e=o(i).selectedMessageStore,n=u(function(n){return e.on(\"toggleIsSelecting\",n)},[e]);return c(n,function(){return e.getIsSelecting()})},a=function(e){var n=o(i).selectedMessageStore;return u(function(){n.toggle(e)},[e,n])},g=function(){var e=o(i).selectedMessageStore,n=u(function(n){return e.on(\"change\",n)},[e]);return c(n,function(){return e.count()})}}","map":"{\"version\":3,\"sources\":[\"client/views/room/MessageList/contexts/SelectedMessagesContext.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { createContext, useCallback, useContext } from 'react';\\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\\n\\nimport { selectedMessageStore } from '../../providers/SelectedMessagesProvider';\\n\\ntype SelectMessageContextValue = {\\n\\tselectedMessageStore: typeof selectedMessageStore;\\n};\\n\\nexport const SelectedMessageContext = createContext({\\n\\tselectedMessageStore,\\n} as SelectMessageContextValue);\\n\\nexport const useIsSelectedMessage = (mid: string): boolean => {\\n\\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\\n\\n\\tconst subscribe = useCallback(\\n\\t\\t(callback: () => void): (() => void) => selectedMessageStore.on(mid, callback),\\n\\t\\t[selectedMessageStore, mid],\\n\\t);\\n\\n\\tconst getSnapshot = (): boolean => selectedMessageStore.isSelected(mid);\\n\\n\\treturn useSyncExternalStore(subscribe, getSnapshot);\\n};\\n\\nexport const useIsSelecting = (): boolean => {\\n\\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\\n\\n\\tconst subscribe = useCallback(\\n\\t\\t(callback: () => void): (() => void) => selectedMessageStore.on('toggleIsSelecting', callback),\\n\\t\\t[selectedMessageStore],\\n\\t);\\n\\n\\tconst getSnapshot = (): boolean => selectedMessageStore.getIsSelecting();\\n\\n\\treturn useSyncExternalStore(subscribe, getSnapshot);\\n};\\n\\nexport const useToggleSelect = (mid: string): (() => void) => {\\n\\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\\n\\treturn useCallback(() => {\\n\\t\\tselectedMessageStore.toggle(mid);\\n\\t}, [mid, selectedMessageStore]);\\n};\\n\\nexport const useCountSelected = (): number => {\\n\\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\\n\\n\\tconst subscribe = useCallback(\\n\\t\\t(callback: () => void): (() => void) => selectedMessageStore.on('change', callback),\\n\\t\\t[selectedMessageStore],\\n\\t);\\n\\n\\tconst getSnapshot = (): number => selectedMessageStore.count();\\n\\n\\treturn useSyncExternalStore(subscribe, getSnapshot);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"SelectedMessageContext\",\"useIsSelectedMessage\",\"useIsSelecting\",\"useToggleSelect\",\"useCountSelected\",\"link\",\"createContext\",\"v\",\"useCallback\",\"useContext\",\"useSyncExternalStore\",\"selectedMessageStore\",\"mid\",\"_useContext\",\"subscribe\",\"callback\",\"on\",\"isSelected\",\"_useContext2\",\"getIsSelecting\",\"_useContext3\",\"toggle\",\"_useContext4\",\"count\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,uBAA4B,WAAY,OAAMA,CAAQ,EAAAC,qBAAA,WAAA,OAAAA,CAAA,EAAAC,eAAA,WAAA,OAAAA,CAAA,EAAAC,gBAAA,WAAA,OAAAA,CAAA,EAAAC,iBAAA,WAAA,OAAAA,CAAA,CAAA,GAAAN,EAAAO,IAAA,CAAA,QAAA,CAAAC,cAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,EAAAC,YAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,EAAAE,WAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAT,EAAAO,IAAA,CAAA,+BAAA,CAAAK,qBAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAAAT,EAAAO,IAAA,CAAA,2CAAA,CAAAM,qBAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GASxD,IATwDD,EAAAE,EAAAC,EAAAC,EAAAC,EASlDX,EAAyBM,EAAc,CACnDK,qBAAAA,IAGYV,EAAuB,SAACW,CAAW,EAC/C,IAAQD,EAAoBE,AAAKJ,EAAWT,GAApCW,oBAAoB,CAEtBG,EAAYN,EACjB,SAACO,CAAoB,EAAA,OAAmBJ,EAAqBK,EAAE,CAACJ,EAAKG,EAAS,EAC9E,CAACJ,EAAsBC,EAAI,EAK5B,OAAOF,EAAqBI,EAFR,WAAA,OAAeH,EAAqBM,UAAU,CAACL,EAAI,EAGxE,EAEaV,EAAiB,WAC7B,IAAQS,EAAoBO,AAAKT,EAAWT,GAApCW,oBAAoB,CAEtBG,EAAYN,EACjB,SAACO,CAAoB,EAAA,OAAmBJ,EAAqBK,EAAE,CAAC,oBAAqBD,EAAS,EAC9F,CAACJ,EAAqB,EAKvB,OAAOD,EAAqBI,EAFR,WAAA,OAAeH,EAAqBQ,cAAc,EAAE,EAGzE,EAEahB,EAAkB,SAACS,CAAW,EAC1C,IAAQD,EAAoBS,AAAKX,EAAWT,GAApCW,oBAAoB,CAC5B,OAAOH,EAAY,WAClBG,EAAqBU,MAAM,CAACT,EAC7B,EAAG,CAACA,EAAKD,EAAqB,CAC/B,EAEaP,EAAmB,WAC/B,IAAQO,EAAoBW,AAAKb,EAAWT,GAApCW,oBAAoB,CAEtBG,EAAYN,EACjB,SAACO,CAAoB,EAAA,OAAmBJ,EAAqBK,EAAE,CAAC,SAAUD,EAAS,EACnF,CAACJ,EAAqB,EAKvB,OAAOD,EAAqBI,EAFR,WAAA,OAAcH,EAAqBY,KAAK,EAAE,EAG/D\"}"}