{"code":"function module(e,s,t){let n,c,o;function u(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{keys:{}},u=c(e,s,t.keys),a=n(),r=o(u,{onSuccess:()=>{t.successMessage&&a({type:\"success\",message:t.successMessage})},onError:e=>{a({type:\"error\",message:e})}});return r.mutateAsync}t.export({useEndpointAction:()=>u}),t.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){n=e},useEndpoint(e){c=e}},0),t.link(\"@tanstack/react-query\",{useMutation(e){o=e}},1)}","map":"{\"version\":3,\"sources\":[\"client/hooks/useEndpointAction.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { Method, PathPattern, UrlParams } from '@rocket.chat/rest-typings';\\nimport type { EndpointFunction } from '@rocket.chat/ui-contexts';\\nimport { useToastMessageDispatch, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useMutation } from '@tanstack/react-query';\\n\\ntype UseEndpointActionOptions<TPathPattern extends PathPattern> = (undefined extends UrlParams<TPathPattern>\\n\\t? {\\n\\t\\t\\tkeys?: UrlParams<TPathPattern>;\\n\\t  }\\n\\t: {\\n\\t\\t\\tkeys: UrlParams<TPathPattern>;\\n\\t  }) & {\\n\\tsuccessMessage?: string;\\n};\\nexport function useEndpointAction<TMethod extends Method, TPathPattern extends PathPattern>(\\n\\tmethod: TMethod,\\n\\tpathPattern: TPathPattern,\\n\\toptions: NoInfer<UseEndpointActionOptions<TPathPattern>> = { keys: {} as UrlParams<TPathPattern> },\\n) {\\n\\tconst sendData = useEndpoint(method, pathPattern, options.keys as UrlParams<TPathPattern>);\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst mutation = useMutation(sendData, {\\n\\t\\tonSuccess: () => {\\n\\t\\t\\tif (options.successMessage) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: options.successMessage });\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t});\\n\\n\\treturn mutation.mutateAsync as EndpointFunction<TMethod, TPathPattern>;\\n}\\n\",null],\"names\":[\"useToastMessageDispatch\",\"useEndpoint\",\"useMutation\",\"useEndpointAction\",\"method\",\"pathPattern\",\"options\",\"arguments\",\"length\",\"undefined\",\"keys\",\"sendData\",\"dispatchToastMessage\",\"mutation\",\"onSuccess\",\"successMessage\",\"type\",\"message\",\"onError\",\"error\",\"mutateAsync\",\"module\",\"export\",\"link\",\"v\"],\"mappings\":\"2BAEqDA,EAA2BC,EAAAC,EAY1E,SAAUC,EACfC,CAAe,CACfC,CAAyB,EACyE,IAAlGC,EAAAC,UAAAC,MAAA,CAAA,GAAAD,AAAAE,KAAAA,IAAAF,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAA2D,CAAEG,KAAM,CAAA,CAA6B,EAE1FC,EAAWV,EAAYG,EAAQC,EAAaC,EAAQI,IAA+B,EAEnFE,EAAuBZ,IAEvBa,EAAWX,EAAYS,EAAU,CACtCG,UAAWA,KACNR,EAAQS,cAAc,EACzBH,EAAqB,CAAEI,KAAM,UAAWC,QAASX,EAAQS,cAAAA,AAAc,EAEzE,EACAG,QAAUC,IACTP,EAAqB,CAAEI,KAAM,QAASC,QAASE,CAAK,EACrD,IAGD,OAAON,EAASO,WAAsD,AACvE,CAjCAC,EAAOC,MAAE,CAAA,CAAAnB,kBAAuBA,IAAEA,CAAmB,GAA2BkB,EAAAE,IAAA,CAAA,2BAAA,CAAAvB,wBAAAwB,CAAA,EAAAxB,EAAAwB,CAAA,EAAAvB,YAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,CAAA,EAAA,GAAAH,EAAAE,IAAA,CAAA,wBAAA,CAAArB,YAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,CAAA,EAAA\"}"}