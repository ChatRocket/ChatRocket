{"code":"function module(n,e,t){var o,l,i,c,u,a,r,f;t.link(\"@rocket.chat/fuselage\",{Box:function(n){o=n}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(n){l=n}},1),t.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(n){i=n}},2),t.link(\"react\",{default:function(n){c=n}},3),t.link(\"react-i18next\",{useTranslation:function(n){u=n}},4),t.link(\"../../../components/GenericModal\",{default:function(n){a=n}},5),t.link(\"../../../components/MarkdownText\",{default:function(n){r=n}},6),t.link(\"./AnnouncementComponent\",{default:function(n){f=n}},7),t.exportDefault(function(n){var e=n.announcement,t=n.announcementDetails,m=u().t,k=i(),s=l(function(){return k(null)});return e?c.createElement(f,{onClickOpen:function(n){var l,i;n.target.href||(null===(l=window)||void 0===l?void 0:null===(i=l.getSelection())||void 0===i?void 0:i.toString())!==\"\"||(t?t():k(c.createElement(a,{icon:null,title:m(\"Announcement\"),confirmText:m(\"Close\"),onConfirm:s,onClose:s},c.createElement(o,null,c.createElement(r,{content:e,parseEmoji:!0})))))}},c.createElement(r,{variant:\"inlineWithoutBreaks\",content:e,withTruncatedText:!0,parseEmoji:!0})):null})}","map":"{\"version\":3,\"sources\":[\"client/views/room/RoomAnnouncement/RoomAnnouncement.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal } from '@rocket.chat/ui-contexts';\\nimport type { MouseEvent } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../components/GenericModal';\\nimport MarkdownText from '../../../components/MarkdownText';\\nimport AnnouncementComponent from './AnnouncementComponent';\\n\\ntype RoomAnnouncementParams = {\\n\\tannouncement: string;\\n\\tannouncementDetails?: () => void;\\n};\\n\\nconst RoomAnnouncement = ({ announcement, announcementDetails }: RoomAnnouncementParams) => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst closeModal = useMutableCallback(() => setModal(null));\\n\\tconst handleClick = (e: MouseEvent<HTMLAnchorElement>): void => {\\n\\t\\tif ((e.target as HTMLAnchorElement).href) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tif (window?.getSelection()?.toString() !== '') {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tannouncementDetails\\n\\t\\t\\t? announcementDetails()\\n\\t\\t\\t: setModal(\\n\\t\\t\\t\\t\\t<GenericModal icon={null} title={t('Announcement')} confirmText={t('Close')} onConfirm={closeModal} onClose={closeModal}>\\n\\t\\t\\t\\t\\t\\t<Box>\\n\\t\\t\\t\\t\\t\\t\\t<MarkdownText content={announcement} parseEmoji />\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</GenericModal>,\\n\\t\\t\\t  );\\n\\t};\\n\\n\\treturn announcement ? (\\n\\t\\t<AnnouncementComponent onClickOpen={handleClick}>\\n\\t\\t\\t<MarkdownText variant='inlineWithoutBreaks' content={announcement} withTruncatedText parseEmoji />\\n\\t\\t</AnnouncementComponent>\\n\\t) : null;\\n};\\n\\nexport default RoomAnnouncement;\\n\",null],\"names\":[\"Box\",\"useMutableCallback\",\"useSetModal\",\"React\",\"useTranslation\",\"GenericModal\",\"MarkdownText\",\"AnnouncementComponent\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"announcement\",\"announcementDetails\",\"t\",\"_useTranslation\",\"setModal\",\"closeModal\",\"createElement\",\"onClickOpen\",\"e\",\"_window\",\"_window$getSelection\",\"target\",\"href\",\"window\",\"getSelection\",\"toString\",\"icon\",\"title\",\"confirmText\",\"onConfirm\",\"onClose\",\"content\",\"parseEmoji\",\"variant\",\"withTruncatedText\"],\"mappings\":\"uBAgBA,IAhBAA,EAA4CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAArCC,EAAOC,IAAA,CAAM,wBAAwB,CAAAT,IAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAR,mBAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAP,YAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAL,eAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0BAAA,CAAA,QAAA,SAAAC,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA5CF,EAAOG,aAAa,CAgBK,SAAAC,CAAA,EAAkE,IAA/DC,EAAYD,EAAZC,YAAY,CAAEC,EAAmBF,EAAnBE,mBAAmB,CACpDC,EAACC,AAAKZ,IAANW,CAAC,CACHE,EAAWf,IACXgB,EAAajB,EAAmB,WAAA,OAAMgB,EAAS,KAAK,GAqB1D,OAAOJ,EACNV,EAAAgB,aAAA,CAACZ,EAAqB,CAACa,YArBJ,SAACC,CAAgC,EAAU,IAAAC,EAAAC,CACzDF,CAAAA,EAAEG,MAA4B,CAACC,IAAI,EAIpC,CAAA,AAAM,OAANH,CAAAA,EAAAI,MAAAA,GAAMJ,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAA,AAAgB,OAAhBC,CAAAA,EAAND,EAAQK,YAAY,EAAA,GAAEJ,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAtBA,EAAwBK,QAAQ,EAAA,IAAO,IAI3Cd,CAAAA,EACGA,IACAG,EACAd,EAAAgB,aAAA,CAACd,EAAY,CAACwB,KAAM,KAAMC,MAAOf,EAAE,gBAAiBgB,YAAahB,EAAE,SAAUiB,UAAWd,EAAYe,QAASf,CAAW,EACvHf,EAAAgB,aAAA,CAACnB,EAAG,KACHG,EAAAgB,aAAA,CAACb,EAAY,CAAC4B,QAASrB,EAAcsB,WAAU,CAAA,CAAA,KAElC,CAEnB,CAGiD,EAC/ChC,EAAAgB,aAAA,CAACb,EAAY,CAAC8B,QAAQ,sBAAsBF,QAASrB,EAAcwB,kBAAiB,CAAA,EAACF,WAAU,CAAA,CAAA,IAE7F,IACL\"}"}