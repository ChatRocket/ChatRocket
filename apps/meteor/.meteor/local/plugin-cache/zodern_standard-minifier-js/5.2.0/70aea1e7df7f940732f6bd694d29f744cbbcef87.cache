{"code":"function module(e,o,t){let l,n,s,r,a,i,u,d,k,p,m,c,f,h,x,v,b,R,w,C,S;t.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),t.link(\"@rocket.chat/fuselage\",{Box(e){n=e},SidebarV2CollapseGroup(e){s=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useResizeObserver(e){r=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useUserPreference(e){a=e},useUserId(e){i=e}},2),t.link(\"react\",{default(e){u=e},useMemo(e){d=e}},3),t.link(\"react-i18next\",{useTranslation(e){k=e}},4),t.link(\"react-virtuoso\",{GroupedVirtuoso(e){p=e}},5),t.link(\"../../components/CustomScrollbars\",{VirtuosoScrollbars(e){m=e}},6),t.link(\"../../lib/RoomManager\",{useOpenedRoom(e){c=e}},7),t.link(\"../hooks/useAvatarTemplate\",{useAvatarTemplate(e){f=e}},8),t.link(\"../hooks/useCollapsedGroups\",{useCollapsedGroups(e){h=e}},9),t.link(\"../hooks/usePreventDefault\",{usePreventDefault(e){x=e}},10),t.link(\"../hooks/useRoomList\",{useRoomList(e){v=e}},11),t.link(\"../hooks/useShortcutOpenMenu\",{useShortcutOpenMenu(e){b=e}},12),t.link(\"../hooks/useTemplateByViewMode\",{useTemplateByViewMode(e){R=e}},13),t.link(\"./RoomListRow\",{default(e){w=e}},14),t.link(\"./RoomListRowWrapper\",{default(e){C=e}},15),t.link(\"./RoomListWrapper\",{default(e){S=e}},16),t.exportDefault(()=>{var e;let{t:o}=k(),t=!i(),{collapsedGroups:g,handleClick:M,handleKeyDown:T}=h(),{groupsCount:L,groupsList:V,roomList:y}=v({collapsedGroups:g}),D=f(),G=R(),{ref:B}=r({debounceDelay:100}),E=null!==(e=c())&&void 0!==e?e:\"\",O=a(\"sidebarViewMode\")||\"extended\",A=\"extended\"===O,I=d(()=>({extended:A,t:o,SidebarItemTemplate:G,AvatarTemplate:D,openedRoom:E,sidebarViewMode:O,isAnonymous:t}),[D,A,t,E,G,O,o]);return x(B),b(B),u.createElement(n,{position:\"relative\",display:\"flex\",overflow:\"hidden\",height:\"full\",flexGrow:1,flexShrink:1,flexBasis:\"auto\",ref:B},u.createElement(p,l({groupCounts:L,groupContent:e=>u.createElement(s,{title:o(V[e]),onClick:()=>M(V[e]),onKeyDown:o=>T(o,V[e]),expanded:!g.includes(V[e])})},y.length>0&&{itemContent:e=>y[e]&&u.createElement(w,{data:I,item:y[e]})},{components:{Item:C,List:S,Scroller:m}})))})}","map":"{\"version\":3,\"sources\":[\"client/sidebarv2/RoomList/RoomList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, SidebarV2CollapseGroup } from '@rocket.chat/fuselage';\\nimport { useResizeObserver } from '@rocket.chat/fuselage-hooks';\\nimport { useUserPreference, useUserId } from '@rocket.chat/ui-contexts';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\nimport { GroupedVirtuoso } from 'react-virtuoso';\\n\\nimport { VirtuosoScrollbars } from '../../components/CustomScrollbars';\\nimport { useOpenedRoom } from '../../lib/RoomManager';\\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\\nimport { useCollapsedGroups } from '../hooks/useCollapsedGroups';\\nimport { usePreventDefault } from '../hooks/usePreventDefault';\\nimport { useRoomList } from '../hooks/useRoomList';\\nimport { useShortcutOpenMenu } from '../hooks/useShortcutOpenMenu';\\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\\nimport RoomListRow from './RoomListRow';\\nimport RoomListRowWrapper from './RoomListRowWrapper';\\nimport RoomListWrapper from './RoomListWrapper';\\n\\nconst RoomList = () => {\\n\\tconst { t } = useTranslation();\\n\\tconst isAnonymous = !useUserId();\\n\\n\\tconst { collapsedGroups, handleClick, handleKeyDown } = useCollapsedGroups();\\n\\tconst { groupsCount, groupsList, roomList } = useRoomList({ collapsedGroups });\\n\\tconst avatarTemplate = useAvatarTemplate();\\n\\tconst sideBarItemTemplate = useTemplateByViewMode();\\n\\tconst { ref } = useResizeObserver<HTMLElement>({ debounceDelay: 100 });\\n\\tconst openedRoom = useOpenedRoom() ?? '';\\n\\tconst sidebarViewMode = useUserPreference<'extended' | 'medium' | 'condensed'>('sidebarViewMode') || 'extended';\\n\\n\\tconst extended = sidebarViewMode === 'extended';\\n\\tconst itemData = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\textended,\\n\\t\\t\\tt,\\n\\t\\t\\tSidebarItemTemplate: sideBarItemTemplate,\\n\\t\\t\\tAvatarTemplate: avatarTemplate,\\n\\t\\t\\topenedRoom,\\n\\t\\t\\tsidebarViewMode,\\n\\t\\t\\tisAnonymous,\\n\\t\\t}),\\n\\t\\t[avatarTemplate, extended, isAnonymous, openedRoom, sideBarItemTemplate, sidebarViewMode, t],\\n\\t);\\n\\n\\tusePreventDefault(ref);\\n\\tuseShortcutOpenMenu(ref);\\n\\n\\treturn (\\n\\t\\t<Box position='relative' display='flex' overflow='hidden' height='full' flexGrow={1} flexShrink={1} flexBasis='auto' ref={ref}>\\n\\t\\t\\t<GroupedVirtuoso\\n\\t\\t\\t\\tgroupCounts={groupsCount}\\n\\t\\t\\t\\tgroupContent={(index) => (\\n\\t\\t\\t\\t\\t<SidebarV2CollapseGroup\\n\\t\\t\\t\\t\\t\\ttitle={t(groupsList[index])}\\n\\t\\t\\t\\t\\t\\tonClick={() => handleClick(groupsList[index])}\\n\\t\\t\\t\\t\\t\\tonKeyDown={(e) => handleKeyDown(e, groupsList[index])}\\n\\t\\t\\t\\t\\t\\texpanded={!collapsedGroups.includes(groupsList[index])}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{...(roomList.length > 0 && {\\n\\t\\t\\t\\t\\titemContent: (index) => roomList[index] && <RoomListRow data={itemData} item={roomList[index]} />,\\n\\t\\t\\t\\t})}\\n\\t\\t\\t\\tcomponents={{ Item: RoomListRowWrapper, List: RoomListWrapper, Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t/>\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default RoomList;\\n\",null],\"names\":[\"_extends\",\"Box\",\"SidebarV2CollapseGroup\",\"useResizeObserver\",\"useUserPreference\",\"useUserId\",\"React\",\"useMemo\",\"useTranslation\",\"GroupedVirtuoso\",\"VirtuosoScrollbars\",\"useOpenedRoom\",\"useAvatarTemplate\",\"useCollapsedGroups\",\"usePreventDefault\",\"useRoomList\",\"useShortcutOpenMenu\",\"useTemplateByViewMode\",\"RoomListRow\",\"RoomListRowWrapper\",\"RoomListWrapper\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"RoomList\",\"_useOpenedRoom\",\"t\",\"isAnonymous\",\"collapsedGroups\",\"handleClick\",\"handleKeyDown\",\"groupsCount\",\"groupsList\",\"roomList\",\"avatarTemplate\",\"sideBarItemTemplate\",\"ref\",\"debounceDelay\",\"openedRoom\",\"sidebarViewMode\",\"extended\",\"itemData\",\"SidebarItemTemplate\",\"AvatarTemplate\",\"createElement\",\"position\",\"display\",\"overflow\",\"height\",\"flexGrow\",\"flexShrink\",\"flexBasis\",\"groupCounts\",\"groupContent\",\"index\",\"title\",\"onClick\",\"onKeyDown\",\"e\",\"expanded\",\"includes\",\"length\",\"itemContent\",\"data\",\"item\",\"components\",\"Item\",\"List\",\"Scroller\"],\"mappings\":\"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\"}"}