{"code":"function module(e,t,s){let o,i,n,l,u,a,c,r,k,d,m,x;s.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue(e){o=e}},0),s.link(\"@rocket.chat/ui-contexts\",{useUserId(e){i=e}},1),s.link(\"react\",{default(e){n=e},useCallback(e){l=e},useMemo(e){u=e},useState(e){a=e}},2),s.link(\"../../../../hooks/lists/useRecordList\",{useRecordList(e){c=e}},3),s.link(\"../../../../hooks/useAsyncState\",{AsyncStatePhase(e){r=e}},4),s.link(\"../../contexts/RoomContext\",{useRoom(e){k=e}},5),s.link(\"../../contexts/RoomToolboxContext\",{useRoomToolbox(e){d=e}},6),s.link(\"./DiscussionsList\",{default(e){m=e}},7),s.link(\"./useDiscussionsList\",{useDiscussionsList(e){x=e}},8),s.exportDefault(()=>{let e=i(),t=k(),{closeTab:s}=d(),[h,C]=a(\"\"),D=o(h,400),L=u(()=>({rid:t._id,text:D}),[t._id,D]),{discussionsList:R,loadMoreItems:f}=x(L,e),{phase:b,error:g,items:A,itemCount:I}=c(R),S=l(e=>{C(e.currentTarget.value)},[]);return e?n.createElement(m,{onClose:s,error:g,discussions:A,total:I,loading:b===r.LOADING,loadMoreItems:f,text:h,onChangeFilter:S}):null})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/Discussions/DiscussionsListContextBar.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IDiscussionMessage } from '@rocket.chat/core-typings';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { useUserId } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback, useMemo, useState } from 'react';\\n\\nimport { useRecordList } from '../../../../hooks/lists/useRecordList';\\nimport { AsyncStatePhase } from '../../../../hooks/useAsyncState';\\nimport { useRoom } from '../../contexts/RoomContext';\\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\\nimport DiscussionsList from './DiscussionsList';\\nimport { useDiscussionsList } from './useDiscussionsList';\\n\\nconst DiscussionListContextBar = (): ReactElement | null => {\\n\\tconst userId = useUserId();\\n\\tconst room = useRoom();\\n\\tconst { closeTab } = useRoomToolbox();\\n\\n\\tconst [text, setText] = useState('');\\n\\tconst debouncedText = useDebouncedValue(text, 400);\\n\\n\\tconst options = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\trid: room._id,\\n\\t\\t\\ttext: debouncedText,\\n\\t\\t}),\\n\\t\\t[room._id, debouncedText],\\n\\t);\\n\\n\\tconst { discussionsList, loadMoreItems } = useDiscussionsList(options, userId);\\n\\tconst { phase, error, items: discussions, itemCount: totalItemCount } = useRecordList<IDiscussionMessage>(discussionsList);\\n\\n\\tconst handleTextChange = useCallback((e) => {\\n\\t\\tsetText(e.currentTarget.value);\\n\\t}, []);\\n\\n\\tif (!userId) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<DiscussionsList\\n\\t\\t\\tonClose={closeTab}\\n\\t\\t\\terror={error}\\n\\t\\t\\tdiscussions={discussions}\\n\\t\\t\\ttotal={totalItemCount}\\n\\t\\t\\tloading={phase === AsyncStatePhase.LOADING}\\n\\t\\t\\tloadMoreItems={loadMoreItems}\\n\\t\\t\\ttext={text}\\n\\t\\t\\tonChangeFilter={handleTextChange}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default DiscussionListContextBar;\\n\",null],\"names\":[\"useDebouncedValue\",\"useUserId\",\"React\",\"useCallback\",\"useMemo\",\"useState\",\"useRecordList\",\"AsyncStatePhase\",\"useRoom\",\"useRoomToolbox\",\"DiscussionsList\",\"useDiscussionsList\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"DiscussionListContextBar\",\"userId\",\"room\",\"closeTab\",\"text\",\"setText\",\"debouncedText\",\"options\",\"rid\",\"_id\",\"discussionsList\",\"loadMoreItems\",\"phase\",\"error\",\"items\",\"discussions\",\"itemCount\",\"totalItemCount\",\"handleTextChange\",\"e\",\"currentTarget\",\"value\",\"createElement\",\"onClose\",\"total\",\"loading\",\"LOADING\",\"onChangeFilter\"],\"mappings\":\"2BACAA,EAAgEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAmBC,IAAA,CAAM,8BAA8B,CAAAb,kBAAAc,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAZ,UAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,YAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,QAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wCAAA,CAAAP,cAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kCAAA,CAAAN,gBAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,6BAAA,CAAAL,QAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oCAAA,CAAAJ,eAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oBAAA,CAAAE,QAAAD,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uBAAA,CAAAF,mBAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAhEF,EAAOI,aAAE,CAYwBC,KAChC,IAAMC,EAASjB,IACTkB,EAAOX,IACP,CAAEY,SAAAA,CAAAA,CAAU,CAAGX,IAEf,CAACY,EAAMC,EAAQ,CAAGjB,EAAS,IAC3BkB,EAAgBvB,EAAkBqB,EAAM,KAExCG,EAAUpB,EACf,IAAO,CAAA,CACNqB,IAAKN,EAAKO,GAAG,CACbL,KAAME,IAEP,CAACJ,EAAKO,GAAG,CAAEH,EAAc,EAGpB,CAAEI,gBAAAA,CAAe,CAAEC,cAAAA,CAAAA,CAAe,CAAGjB,EAAmBa,EAASN,GACjE,CAAEW,MAAAA,CAAK,CAAEC,MAAAA,CAAK,CAAEC,MAAOC,CAAW,CAAEC,UAAWC,CAAAA,CAAgB,CAAG5B,EAAkCqB,GAEpGQ,EAAmBhC,EAAaiC,IACrCd,EAAQc,EAAEC,aAAa,CAACC,KAAK,CAC9B,EAAG,EAAE,SAEL,AAAKpB,EAKJhB,EAAAqC,aAAA,CAAC7B,EAAe,CACf8B,QAASpB,EACTU,MAAOA,EACPE,YAAaA,EACbS,MAAOP,EACPQ,QAASb,IAAUtB,EAAgBoC,OAAQ,CAC3Cf,cAAeA,EACfP,KAAMA,EACNuB,eAAgBT,CAAiB,GAZ3B,IAeT\"}"}