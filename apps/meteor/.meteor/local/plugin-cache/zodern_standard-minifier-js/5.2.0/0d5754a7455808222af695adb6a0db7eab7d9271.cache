{"code":"function module(e,t,n){n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){u=e}},0),n.export({useStepRouting:function(){return f}}),n.link(\"@rocket.chat/ui-contexts\",{useRouteParameter:function(e){i=e},useRouter:function(e){r=e},useRole:function(e){a=e},useSetting:function(e){c=e}},0),n.link(\"react\",{useState:function(e){o=e},useEffect:function(e){s=e}},1);var u,i,r,a,c,o,s,f=function(){var e=i(\"step\"),t=r(),n=a(\"admin\"),f=!!c(\"Organization_Name\"),l=o(function(){var t=function(){switch(!0){case f:return 3;case n:return 2;default:return 1}}();if(!e)return t;var u=parseInt(e,10);return u&&Number.isFinite(u)&&u>=1?u:t}),d=u(l,2),p=d[0],v=d[1];return s(function(){switch(!0){case(1===p||2===p)&&f:v(3),t.navigate(\"/setup-wizard/3\");break;case 1===p&&n:v(2),t.navigate(\"/setup-wizard/2\");break;default:t.navigate(\"/setup-wizard/\"+p)}},[t,p,n,f]),[p,v]}}","map":"{\"version\":3,\"sources\":[\"client/views/setupWizard/hooks/useStepRouting.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useRouteParameter, useRouter, useRole, useSetting } from '@rocket.chat/ui-contexts';\\nimport type { Dispatch, SetStateAction } from 'react';\\nimport { useState, useEffect } from 'react';\\n\\nexport const useStepRouting = (): [number, Dispatch<SetStateAction<number>>] => {\\n\\tconst param = useRouteParameter('step');\\n\\tconst router = useRouter();\\n\\tconst hasAdminRole = useRole('admin');\\n\\tconst hasOrganizationData = !!useSetting('Organization_Name');\\n\\n\\tconst [currentStep, setCurrentStep] = useState<number>(() => {\\n\\t\\tconst initialStep = (() => {\\n\\t\\t\\tswitch (true) {\\n\\t\\t\\t\\tcase hasOrganizationData: {\\n\\t\\t\\t\\t\\treturn 3;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tcase hasAdminRole: {\\n\\t\\t\\t\\t\\treturn 2;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tdefault: {\\n\\t\\t\\t\\t\\treturn 1;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t})();\\n\\n\\t\\tif (!param) {\\n\\t\\t\\treturn initialStep;\\n\\t\\t}\\n\\n\\t\\tconst step = parseInt(param, 10);\\n\\t\\tif (step && Number.isFinite(step) && step >= 1) {\\n\\t\\t\\treturn step;\\n\\t\\t}\\n\\n\\t\\treturn initialStep;\\n\\t});\\n\\n\\tuseEffect(() => {\\n\\t\\tswitch (true) {\\n\\t\\t\\tcase (currentStep === 1 || currentStep === 2) && hasOrganizationData: {\\n\\t\\t\\t\\tsetCurrentStep(3);\\n\\t\\t\\t\\trouter.navigate(`/setup-wizard/3`);\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\n\\t\\t\\tcase currentStep === 1 && hasAdminRole: {\\n\\t\\t\\t\\tsetCurrentStep(2);\\n\\t\\t\\t\\trouter.navigate(`/setup-wizard/2`);\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\n\\t\\t\\tdefault: {\\n\\t\\t\\t\\trouter.navigate(`/setup-wizard/${currentStep}`);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}, [router, currentStep, hasAdminRole, hasOrganizationData]);\\n\\n\\treturn [currentStep, setCurrentStep];\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_slicedToArray\",\"export\",\"useStepRouting\",\"useRouteParameter\",\"useRouter\",\"useRole\",\"useSetting\",\"useState\",\"useEffect\",\"param\",\"router\",\"hasAdminRole\",\"hasOrganizationData\",\"_useState\",\"initialStep\",\"step\",\"parseInt\",\"Number\",\"isFinite\",\"_useState2\",\"currentStep\",\"setCurrentStep\",\"navigate\"],\"mappings\":\"uBAASA,EAAiBC,IAAE,CAAA,uCAAsC,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAA2BD,CAAA,CAAA,EAAA,GAA7FH,EAAOK,MAAE,CAAA,CAAAC,eAAmB,WAAW,OAASA,CAAY,CAAA,GAAiCN,EAAAC,IAAA,CAAA,2BAAA,CAAAM,kBAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,EAAAK,UAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,QAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,EAAAO,WAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAAU,SAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,EAAAS,UAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAItF,IAJPC,EAAkEG,EAAAC,EAA2BC,EAAAC,EAAAC,EAAAC,EAIhFN,EAAiB,WAC7B,IAAMO,EAAQN,EAAkB,QAC1BO,EAASN,IACTO,EAAeN,EAAQ,SACvBO,EAAsB,CAAC,CAACN,EAAW,qBAEzCO,EAAsCN,EAAiB,WACtD,IAAMO,EAAe,WACpB,OAAQ,CAAA,GACP,KAAKF,EACJ,OAAO,CAER,MAAKD,EACJ,OAAO,CAER,SACC,OAAO,CAET,CACD,IAEA,GAAI,CAACF,EACJ,OAAOK,EAGR,IAAMC,EAAOC,SAASP,EAAO,WAC7B,AAAIM,GAAQE,OAAOC,QAAQ,CAACH,IAASA,GAAQ,EACrCA,EAGDD,CACR,GAAEK,EAAAnB,EAAAa,EAAA,GAzBKO,EAAWD,CAAA,CAAA,EAAA,CAAEE,EAAcF,CAAA,CAAA,EAAA,CA+ClC,OApBAX,EAAU,WACT,OAAQ,CAAA,GACP,IAAK,AAACY,CAAAA,AAAgB,IAAhBA,GAAqBA,AAAgB,IAAhBA,CAAgB,GAAMR,EAChDS,EAAe,GACfX,EAAOY,QAAQ,CAAA,mBACf,KAGD,MAAKF,AAAgB,IAAhBA,GAAqBT,EACzBU,EAAe,GACfX,EAAOY,QAAQ,CAAA,mBACf,KAGD,SACCZ,EAAOY,QAAQ,CAAA,iBAAkBF,EAEnC,CACD,EAAG,CAACV,EAAQU,EAAaT,EAAcC,EAAoB,EAEpD,CAACQ,EAAaC,EAAe,AACrC\"}"}