{"code":"function module(e,n,t){var l,u,a,i,r,o,c,f,s,p,d,m,k,E,g;t.link(\"@babel/runtime/regenerator\",{default:function(e){l=e}},0),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){u=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useRouteParameter:function(e){a=e},useRoute:function(e){i=e},usePermission:function(e){r=e}},0),t.link(\"react\",{default:function(e){o=e},useState:function(e){c=e},useEffect:function(e){f=e}},1),t.link(\"../../components/PageSkeleton\",{default:function(e){s=e}},2),t.link(\"../../providers/AppsProvider\",{default:function(e){p=e}},3),t.link(\"../notAuthorized/NotAuthorizedPage\",{default:function(e){d=e}},4),t.link(\"./AppDetailsPage\",{default:function(e){m=e}},5),t.link(\"./AppInstallPage\",{default:function(e){k=e}},6),t.link(\"./AppsPage\",{default:function(e){E=e}},7),t.link(\"./components/BannerEnterpriseTrialEnded\",{default:function(e){g=e}},8),t.exportDefault(function(){var e=c(!0),n=u(e,2),t=n[0],P=n[1],x=i(\"marketplace\"),v=a(\"context\")||\"explore\",A=a(\"id\"),b=a(\"page\"),h=r(\"manage-apps\"),y=r(\"access-marketplace\");return(b||x.push({context:v,page:\"list\"}),f(function(){var e=!0;return l.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt(\"return\");case 2:P(!1);case 3:case\"end\":return n.stop()}},null,null,null,Promise),function(){e=!1}},[x,v]),(\"explore\"!==v&&\"installed\"!==v&&\"private\"!==v&&\"premium\"!==v||y||h)&&(\"requested\"!==v&&\"install\"!==b||h))?t?o.createElement(s,null):o.createElement(p,null,o.createElement(g,null),\"list\"===b&&o.createElement(E,null)||A&&\"info\"===b&&o.createElement(m,{id:A})||\"install\"===b&&o.createElement(k,null)):o.createElement(d,null)})}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/AppsRoute.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useRouteParameter, useRoute, usePermission } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useState, useEffect } from 'react';\\n\\nimport PageSkeleton from '../../components/PageSkeleton';\\nimport AppsProvider from '../../providers/AppsProvider';\\nimport NotAuthorizedPage from '../notAuthorized/NotAuthorizedPage';\\nimport AppDetailsPage from './AppDetailsPage';\\nimport AppInstallPage from './AppInstallPage';\\nimport AppsPage from './AppsPage';\\nimport BannerEnterpriseTrialEnded from './components/BannerEnterpriseTrialEnded';\\n\\nconst AppsRoute = (): ReactElement => {\\n\\tconst [isLoading, setLoading] = useState(true);\\n\\tconst marketplaceRoute = useRoute('marketplace');\\n\\n\\tconst context = useRouteParameter('context') || 'explore';\\n\\tconst id = useRouteParameter('id');\\n\\tconst page = useRouteParameter('page');\\n\\n\\tconst isAdminUser = usePermission('manage-apps');\\n\\tconst canAccessMarketplace = usePermission('access-marketplace');\\n\\n\\tif (!page) marketplaceRoute.push({ context, page: 'list' });\\n\\n\\tuseEffect(() => {\\n\\t\\tlet mounted = true;\\n\\n\\t\\tconst initialize = async (): Promise<void> => {\\n\\t\\t\\tif (!mounted) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tsetLoading(false);\\n\\t\\t};\\n\\n\\t\\tinitialize();\\n\\n\\t\\treturn (): void => {\\n\\t\\t\\tmounted = false;\\n\\t\\t};\\n\\t}, [marketplaceRoute, context]);\\n\\n\\tif (\\n\\t\\t(context === 'explore' || context === 'installed' || context === 'private' || context === 'premium') &&\\n\\t\\t!canAccessMarketplace &&\\n\\t\\t!isAdminUser\\n\\t) {\\n\\t\\treturn <NotAuthorizedPage />;\\n\\t}\\n\\n\\tif ((context === 'requested' || page === 'install') && !isAdminUser) return <NotAuthorizedPage />;\\n\\n\\tif (isLoading) {\\n\\t\\treturn <PageSkeleton />;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<AppsProvider>\\n\\t\\t\\t<BannerEnterpriseTrialEnded />\\n\\t\\t\\t{(page === 'list' && <AppsPage />) ||\\n\\t\\t\\t\\t(id && page === 'info' && <AppDetailsPage id={id} />) ||\\n\\t\\t\\t\\t(page === 'install' && <AppInstallPage />)}\\n\\t\\t</AppsProvider>\\n\\t);\\n};\\n\\nexport default AppsRoute;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_slicedToArray\",\"useRouteParameter\",\"useRoute\",\"usePermission\",\"React\",\"useState\",\"useEffect\",\"PageSkeleton\",\"AppsProvider\",\"NotAuthorizedPage\",\"AppDetailsPage\",\"AppInstallPage\",\"AppsPage\",\"BannerEnterpriseTrialEnded\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_useState\",\"_useState2\",\"isLoading\",\"setLoading\",\"marketplaceRoute\",\"context\",\"id\",\"page\",\"isAdminUser\",\"canAccessMarketplace\",\"push\",\"mounted\",\"async\",\"_context\",\"prev\",\"next\",\"abrupt\",\"stop\",\"Promise\",\"createElement\"],\"mappings\":\"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\"}"}