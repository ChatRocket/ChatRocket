{"code":"function module(e,t,n){var l,a,i,r,o,c,u,f,s,m,d,p,g,v,E,_,x,h,y,b,k,w,C,A,S=[\"label\"];n.link(\"@babel/runtime/helpers/extends\",{default:function(e){l=e}},0),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){a=e}},1),n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){i=e}},2),n.link(\"@rocket.chat/fuselage\",{Box:function(e){r=e},Select:function(e){o=e},Margins:function(e){c=e},Field:function(e){u=e},FieldLabel:function(e){f=e},FieldRow:function(e){s=e},Label:function(e){m=e},Option:function(e){d=e}},0),n.link(\"react\",{default:function(e){p=e},useMemo:function(e){g=e},useState:function(e){v=e},useEffect:function(e){E=e}},1),n.link(\"react-i18next\",{useTranslation:function(e){_=e}},2),n.link(\"../../../components/AutoCompleteDepartment\",{default:function(e){x=e}},3),n.link(\"../../../components/Page\",{Page:function(e){h=e},PageHeader:function(e){y=e},PageScrollableContentWithShadow:function(e){b=e}},4),n.link(\"./AgentOverview\",{default:function(e){k=e}},5),n.link(\"./DateRangePicker\",{default:function(e){w=e}},6),n.link(\"./InterchangeableChart\",{default:function(e){C=e}},7),n.link(\"./Overview\",{default:function(e){A=e}},8);var D=function(e){var t=_().t;return g(function(){return\"Conversations\"===e?[[\"Total_conversations\",t(\"Total_conversations\")],[\"Avg_chat_duration\",t(\"Avg_chat_duration\")],[\"Total_messages\",t(\"Total_messages\")]]:[[\"Avg_first_response_time\",t(\"Avg_first_response_time\")],[\"Best_first_response_time\",t(\"Best_first_response_time\")],[\"Avg_response_time\",t(\"Avg_response_time\")],[\"Avg_reaction_time\",t(\"Avg_reaction_time\")]]},[t,e])};n.exportDefault(function(){var e=_().t,t=v(\"Conversations\"),n=i(t,2),P=n[0],T=n[1],G=v(null),I=i(G,2),R=I[0],W=I[1],B=v({start:\"\",end:\"\"}),F=i(B,2),M=F[0],O=F[1],j=v(),L=i(j,2),H=L[0],N=L[1],q=g(function(){return[[\"Conversations\",e(\"Conversations\")],[\"Productivity\",e(\"Productivity\")]]},[e]),z=D(P);return E(function(){N(z[0][0])},[z]),p.createElement(h,null,p.createElement(y,{title:e(\"Analytics\")}),p.createElement(b,{display:\"flex\",flexDirection:\"column\"},p.createElement(c,{block:4},p.createElement(r,{display:\"flex\",mi:\"neg-x4\",flexWrap:\"wrap\",flexGrow:1},p.createElement(r,{display:\"flex\",flexWrap:\"wrap\",flexGrow:1},p.createElement(r,{display:\"flex\",mi:4,flexDirection:\"column\",flexGrow:1},p.createElement(m,{mb:4},e(\"Type\")),p.createElement(o,{options:q,value:P,onChange:function(e){return T(String(e))}})),p.createElement(r,{display:\"flex\",mi:4,flexDirection:\"column\",flexGrow:1},p.createElement(m,{mb:4},e(\"Departments\")),p.createElement(x,{value:R||void 0,onChange:W,onlyMyDepartments:!0,withTitle:!1,renderItem:function(e){var t=e.label,n=a(e,S);return p.createElement(d,l({},n,{label:p.createElement(\"span\",{style:{whiteSpace:\"normal\"}},t)}))}}))),p.createElement(w,{flexGrow:1,mi:4,onChange:O})),p.createElement(r,null,p.createElement(A,{type:P,dateRange:M,departmentId:R||\"\"})),p.createElement(r,{display:\"flex\"},p.createElement(c,{inline:2},p.createElement(u,null,p.createElement(f,null,e(\"Chart\")),p.createElement(s,null,p.createElement(o,{options:z,value:H,onChange:function(e){return N(String(e))}}))))),p.createElement(r,{display:\"flex\",flexGrow:1,flexShrink:1},p.createElement(C,{flexShrink:1,w:\"66%\",h:\"100%\",chartName:H||\"\",departmentId:R||\"\",dateRange:M,alignSelf:\"stretch\"}),p.createElement(r,{display:\"flex\",w:\"33%\",justifyContent:\"stretch\",p:10,mis:4},p.createElement(k,{type:H||\"\",dateRange:M,departmentId:R||\"\"}))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/analytics/AnalyticsPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Box, Select, Margins, Field, FieldLabel, FieldRow, Label, Option } from '@rocket.chat/fuselage';\\nimport React, { useMemo, useState, useEffect } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport AutoCompleteDepartment from '../../../components/AutoCompleteDepartment';\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport AgentOverview from './AgentOverview';\\nimport DateRangePicker from './DateRangePicker';\\nimport InterchangeableChart from './InterchangeableChart';\\nimport Overview from './Overview';\\n\\nconst useOptions = (type: string): SelectOption[] => {\\n\\tconst { t } = useTranslation();\\n\\treturn useMemo(() => {\\n\\t\\tif (type === 'Conversations') {\\n\\t\\t\\treturn [\\n\\t\\t\\t\\t['Total_conversations', t('Total_conversations')],\\n\\t\\t\\t\\t['Avg_chat_duration', t('Avg_chat_duration')],\\n\\t\\t\\t\\t['Total_messages', t('Total_messages')],\\n\\t\\t\\t];\\n\\t\\t}\\n\\t\\treturn [\\n\\t\\t\\t['Avg_first_response_time', t('Avg_first_response_time')],\\n\\t\\t\\t['Best_first_response_time', t('Best_first_response_time')],\\n\\t\\t\\t['Avg_response_time', t('Avg_response_time')],\\n\\t\\t\\t['Avg_reaction_time', t('Avg_reaction_time')],\\n\\t\\t];\\n\\t}, [t, type]);\\n};\\n\\nconst AnalyticsPage = () => {\\n\\tconst { t } = useTranslation();\\n\\tconst [type, setType] = useState('Conversations');\\n\\tconst [department, setDepartment] = useState<string | null>(null);\\n\\tconst [dateRange, setDateRange] = useState({ start: '', end: '' });\\n\\tconst [chartName, setChartName] = useState<string | undefined>();\\n\\n\\tconst typeOptions: SelectOption[] = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['Conversations', t('Conversations')],\\n\\t\\t\\t['Productivity', t('Productivity')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst graphOptions: SelectOption[] = useOptions(type);\\n\\n\\tuseEffect(() => {\\n\\t\\tsetChartName(graphOptions[0][0]);\\n\\t}, [graphOptions]);\\n\\n\\treturn (\\n\\t\\t<Page>\\n\\t\\t\\t<PageHeader title={t('Analytics')} />\\n\\t\\t\\t<PageScrollableContentWithShadow display='flex' flexDirection='column'>\\n\\t\\t\\t\\t<Margins block={4}>\\n\\t\\t\\t\\t\\t<Box display='flex' mi='neg-x4' flexWrap='wrap' flexGrow={1}>\\n\\t\\t\\t\\t\\t\\t<Box display='flex' flexWrap='wrap' flexGrow={1}>\\n\\t\\t\\t\\t\\t\\t\\t<Box display='flex' mi={4} flexDirection='column' flexGrow={1}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Label mb={4}>{t('Type')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Select options={typeOptions} value={type} onChange={(value) => setType(String(value))} />\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t\\t<Box display='flex' mi={4} flexDirection='column' flexGrow={1}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<Label mb={4}>{t('Departments')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<AutoCompleteDepartment\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={department || undefined}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonChange={setDepartment}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonlyMyDepartments\\n\\t\\t\\t\\t\\t\\t\\t\\t\\twithTitle={false}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trenderItem={({ label, ...props }) => <Option {...props} label={<span style={{ whiteSpace: 'normal' }}>{label}</span>} />}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t<DateRangePicker flexGrow={1} mi={4} onChange={setDateRange} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t<Box>\\n\\t\\t\\t\\t\\t\\t<Overview type={type} dateRange={dateRange} departmentId={department || ''} />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t<Box display='flex'>\\n\\t\\t\\t\\t\\t\\t<Margins inline={2}>\\n\\t\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldLabel>{t('Chart')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Select options={graphOptions} value={chartName} onChange={(value) => setChartName(String(value))} />\\n\\t\\t\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t\\t</Margins>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t<Box display='flex' flexGrow={1} flexShrink={1}>\\n\\t\\t\\t\\t\\t\\t<InterchangeableChart\\n\\t\\t\\t\\t\\t\\t\\tflexShrink={1}\\n\\t\\t\\t\\t\\t\\t\\tw='66%'\\n\\t\\t\\t\\t\\t\\t\\th='100%'\\n\\t\\t\\t\\t\\t\\t\\tchartName={chartName || ''}\\n\\t\\t\\t\\t\\t\\t\\tdepartmentId={department || ''}\\n\\t\\t\\t\\t\\t\\t\\tdateRange={dateRange}\\n\\t\\t\\t\\t\\t\\t\\talignSelf='stretch'\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t<Box display='flex' w='33%' justifyContent='stretch' p={10} mis={4}>\\n\\t\\t\\t\\t\\t\\t\\t<AgentOverview type={chartName || ''} dateRange={dateRange} departmentId={department || ''} />\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default AnalyticsPage;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"_slicedToArray\",\"Box\",\"Select\",\"Margins\",\"Field\",\"FieldLabel\",\"FieldRow\",\"Label\",\"Option\",\"React\",\"useMemo\",\"useState\",\"useEffect\",\"useTranslation\",\"AutoCompleteDepartment\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"AgentOverview\",\"DateRangePicker\",\"InterchangeableChart\",\"Overview\",\"module\",\"link\",\"default\",\"v\",\"useOptions\",\"type\",\"t\",\"_useTranslation\",\"exportDefault\",\"_useTranslation2\",\"_useState\",\"_useState2\",\"setType\",\"_useState3\",\"_useState4\",\"department\",\"setDepartment\",\"_useState5\",\"start\",\"end\",\"_useState6\",\"dateRange\",\"setDateRange\",\"_useState7\",\"_useState8\",\"chartName\",\"setChartName\",\"typeOptions\",\"graphOptions\",\"createElement\",\"title\",\"display\",\"flexDirection\",\"block\",\"mi\",\"flexWrap\",\"flexGrow\",\"mb\",\"options\",\"value\",\"onChange\",\"String\",\"undefined\",\"onlyMyDepartments\",\"withTitle\",\"renderItem\",\"_ref\",\"label\",\"props\",\"_excluded\",\"style\",\"whiteSpace\",\"departmentId\",\"inline\",\"flexShrink\",\"w\",\"h\",\"alignSelf\",\"justifyContent\",\"p\",\"mis\"],\"mappings\":\"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\"}"}