{"code":"function module(e,n,t){t.export({useMessageLinkClicks:function(){return u}}),t.link(\"@rocket.chat/ui-contexts\",{useAbsoluteUrl:function(e){i=e},useLayout:function(e){c=e}},0),t.link(\"react\",{useEffect:function(e){o=e}},1),t.link(\"../../../lib/utils/fireGlobalEvent\",{fireGlobalEvent:function(e){r=e}},2);var i,c,o,r,u=function(){var e=i(),n=c().isEmbedded;o(function(){if(n){var t=function(n){var t=n.currentTarget;t&&t instanceof HTMLElement&&t instanceof HTMLAnchorElement&&t.origin===e(\"\").replace(/\\/+$/,\"\")&&/msg=([a-zA-Z0-9]+)/.test(t.search)&&r(\"click-message-link\",{link:t.pathname+t.search})};return document.body.addEventListener(\"click\",t),function(){document.body.removeEventListener(\"click\",t)}}},[e,n])}}","map":"{\"version\":3,\"sources\":[\"client/views/root/hooks/useMessageLinkClicks.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useAbsoluteUrl, useLayout } from '@rocket.chat/ui-contexts';\\nimport { useEffect } from 'react';\\n\\nimport { fireGlobalEvent } from '../../../lib/utils/fireGlobalEvent';\\n\\nexport const useMessageLinkClicks = () => {\\n\\tconst absoluteUrl = useAbsoluteUrl();\\n\\tconst { isEmbedded: embeddedLayout } = useLayout();\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!embeddedLayout) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst handleMessageLinkClick = (event: Event) => {\\n\\t\\t\\tconst element = event.currentTarget as Element | null;\\n\\n\\t\\t\\tif (!element || !(element instanceof HTMLElement)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!(element instanceof HTMLAnchorElement)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (element.origin !== absoluteUrl('').replace(/\\\\/+$/, '') || !/msg=([a-zA-Z0-9]+)/.test(element.search)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfireGlobalEvent('click-message-link', { link: element.pathname + element.search });\\n\\t\\t};\\n\\n\\t\\tdocument.body.addEventListener('click', handleMessageLinkClick);\\n\\n\\t\\treturn () => {\\n\\t\\t\\tdocument.body.removeEventListener('click', handleMessageLinkClick);\\n\\t\\t};\\n\\t}, [absoluteUrl, embeddedLayout]);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"useMessageLinkClicks\",\"link\",\"useAbsoluteUrl\",\"v\",\"useLayout\",\"useEffect\",\"fireGlobalEvent\",\"absoluteUrl\",\"embeddedLayout\",\"_useLayout\",\"isEmbedded\",\"handleMessageLinkClick\",\"event\",\"element\",\"currentTarget\",\"HTMLElement\",\"HTMLAnchorElement\",\"origin\",\"replace\",\"test\",\"search\",\"pathname\",\"document\",\"body\",\"addEventListener\",\"removeEventListener\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,qBAA2B,WAAM,OAAAA,CAA2B,CAAA,GAAAF,EAAAG,IAAA,CAAA,2BAAA,CAAAC,eAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,EAAAC,UAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,QAAA,CAAAI,UAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,qCAAA,CAAAK,gBAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAK9D,IAL8DD,EAAAE,EAAAC,EAAAC,EAKxDN,EAAuB,WACnC,IAAMO,EAAcL,IACAM,EAAcC,AAAKL,IAA/BM,UAAU,CAElBL,EAAU,WACT,GAAKG,GAIL,IAAMG,EAAyB,SAACC,CAAY,EAC3C,IAAMC,EAAUD,EAAME,aAA+B,CAEhDD,GAAaA,aAAmBE,aAI/BF,aAAmBG,mBAIrBH,EAAQI,MAAM,GAAKV,EAAY,IAAIW,OAAO,CAAC,OAAQ,KAAQ,qBAAqBC,IAAI,CAACN,EAAQO,MAAM,GAIvGd,EAAgB,qBAAsB,CAAEL,KAAMY,EAAQQ,QAAQ,CAAGR,EAAQO,MAAAA,AAAM,EAChF,EAIA,OAFAE,SAASC,IAAI,CAACC,gBAAgB,CAAC,QAASb,GAEjC,WACNW,SAASC,IAAI,CAACE,mBAAmB,CAAC,QAASd,EAC5C,EACD,EAAG,CAACJ,EAAaC,EAAe,CACjC\"}"}