{"code":"Package[\"core-runtime\"].queue(\"rocketchat:streamer\",function(){var e,t,n=Package.meteor.Meteor;Package.meteor.global,Package.meteor.meteorEnv;var r=Package[\"ddp-common\"].DDPCommon,s=Package.check.check,i=Package.check.Match,o=Package.tracker.Tracker;Package.tracker.Deps;var a=Package.modules.meteorInstall;Package.modules.meteorBabelHelpers;var c=Package.promise.Promise;return Package[\"ecmascript-runtime-client\"].Symbol,Package[\"ecmascript-runtime-client\"].Map,Package[\"ecmascript-runtime-client\"].Set,{export:function(){return{Streamer:t}},require:a({node_modules:{meteor:{\"rocketchat:streamer\":{lib:{\"ev.js\":function t(){e=function(){function e(){this.handlers={}}var t=e.prototype;return t.emit=function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return this.handlers[e]&&this.handlers[e].forEach(function(e){return e.apply(t,r)})},t.emitWithScope=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return this.handlers[e]&&this.handlers[e].forEach(function(e){return e.apply(t,r)})},t.listenerCount=function(e){return this.handlers[e]&&this.handlers[e].length||0},t.on=function(e,t){this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},t.once=function(e,t){var n=this;this.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)})},t.removeListener=function(e,t){if(this.handlers[e]){var n=this.handlers[e].indexOf(t);n>-1&&this.handlers[e].splice(n,1)}},t.removeAllListeners=function(e){this.handlers[e]=void 0},e}()}},client:{\"client.js\":function t(t,a,l){l.link(\"@babel/runtime/helpers/createClass\",{default:function(e){u=e}},0),l.link(\"@babel/runtime/helpers/assertThisInitialized\",{default:function(e){h=e}},1),l.link(\"@babel/runtime/helpers/inheritsLoose\",{default:function(e){p=e}},2);var u,h,p,f=i.Where(function(e){return s(e,String),e.length>0}),m=function(e){function t(){var t;return(t=e.call(this)||this).instances={},t.ddpConnections={},t}p(t,e);var n=t.prototype;return n.setupDdpConnection=function(e,t){var n=this;t.hasMeteorStreamerEventListeners||(t._stream.on(\"message\",function(e){var t=r.parseDDP(e);t&&\"changed\"===t.msg&&t.collection&&t.fields&&t.fields.eventName&&t.fields.args&&(t.fields.args.unshift(t.fields.eventName),t.fields.args.unshift(t.collection),n.emit.apply(n,t.fields.args))}),this.storeDdpConnection(e,t))},n.storeDdpConnection=function(e,t){t.hasMeteorStreamerEventListeners=!0,this.ddpConnections[e]=t},t}(e);n.StreamerCentral=new m,n.Streamer=function(t){function r(r){var s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.useCollection,a=i.ddpConnection,c=void 0===a?n.connection:a;return n.StreamerCentral.instances[r]?(console.warn(\"Streamer instance already exists:\",r),n.StreamerCentral.instances[r]||h(s)):(n.StreamerCentral.setupDdpConnection(r,c),(s=t.call(this)||this).ddpConnection=c||n.connection,n.StreamerCentral.instances[r]=s,s.name=r,s.useCollection=void 0!==o&&o,s.subscriptions={},n.StreamerCentral.on(s.subscriptionName,function(t){if(s.subscriptions[t]){for(var n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];s.subscriptions[t].lastMessage=i,(n=e.prototype.emit).call.apply(n,[s,t].concat(i))}}),s.ddpConnection._stream.on(\"reset\",function(){e.prototype.emit.call(s,\"__reconnect__\")}),s)}p(r,t);var i=r.prototype;return i.stop=function(e){return this.subscriptions[e]&&this.subscriptions[e].subscription&&this.subscriptions[e].subscription.stop()},i.stopAll=function(){var e=this;Object.keys(this.subscriptions).forEach(function(t){return e.removeAllListeners(t)})},i.unsubscribe=function(t){delete this.subscriptions[t],e.prototype.removeAllListeners.call(this,t)},i.subscribe=function(e,t){var n=this;return new c(function(r,s){if(n.subscriptions[e])return r();var i=o.nonreactive(function(){return n.ddpConnection.subscribe(n.subscriptionName,e,{useCollection:n.useCollection,args:t},{onStop:function(){return s(n.unsubscribe(e))},onReady:r})});n.subscriptions[e]={subscription:i}})},i.onReconnect=function(t){\"function\"==typeof t&&e.prototype.on.call(this,\"__reconnect__\",t)},i.getLastMessageFromEvent=function(e){var t=this.subscriptions[e];if(t&&t.lastMessage)return t.lastMessage},i.removeAllListeners=function(t){return e.prototype.removeAllListeners.call(this,t),this.stop(t)},i.removeListener=function(t){var n;1===this.listenerCount(t)&&this.stop(t);for(var r=arguments.length,s=Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];(n=e.prototype.removeListener).call.apply(n,[this,t].concat(s))},i.on=function(t){s(t,f);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=r.pop();return s(o,Function),e.prototype.on.call(this,t,o),this.subscribe(t,r)},i.once=function(t){var n=this;s(t,f);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=i.pop();return s(a,Function),e.prototype.once.call(this,t,function(){if(a.apply(void 0,arguments),0===n.listenerCount(t))return n.stop(t)}),this.subscribe(t,i)},i.emit=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this.ddpConnection).call.apply(e,[this.subscriptionName].concat(n))},u(r,[{key:\"name\",get:function(){return this._name},set:function(e){s(e,String),this._name=e}},{key:\"subscriptionName\",get:function(){return\"stream-\"+this.name}},{key:\"useCollection\",get:function(){return this._useCollection},set:function(e){s(e,Boolean),this._useCollection=e}}])}(e)}}}}}},{extensions:[\".js\",\".json\"]}),eagerModulePaths:[\"/node_modules/meteor/rocketchat:streamer/lib/ev.js\",\"/node_modules/meteor/rocketchat:streamer/client/client.js\"]}});","map":"{\"version\":3,\"sources\":[\"packages/rocketchat:streamer/lib/ev.js\",\"packages/rocketchat:streamer/client/client.js\",\"<anon>\"],\"sourcesContent\":[\"/* globals EV:true */\\n/* exported EV */\\n\\nEV = class EV {\\n\\tconstructor() {\\n\\t\\tthis.handlers = {};\\n\\t}\\n\\n\\temit(event, ...args) {\\n\\t\\treturn this.handlers[event] && this.handlers[event].forEach(handler => handler.apply(this, args));\\n\\t}\\n\\n\\temitWithScope(event, scope, ...args) {\\n\\t\\treturn this.handlers[event] && this.handlers[event].forEach(handler => handler.apply(scope, args));\\n\\t}\\n\\n\\tlistenerCount(event) {\\n\\t\\treturn (this.handlers[event] && this.handlers[event].length) || 0;\\n\\t}\\n\\n\\ton(event, callback) {\\n\\t\\tif (!this.handlers[event]) {\\n\\t\\t\\tthis.handlers[event] = [];\\n\\t\\t}\\n\\t\\tthis.handlers[event].push(callback);\\n\\t}\\n\\n\\tonce(event, callback) {\\n\\t\\tconst self = this;\\n\\t\\tthis.on(event, function onetimeCallback() {\\n\\t\\t\\tself.removeListener(event, onetimeCallback);\\n\\t\\t\\tcallback.apply(this, arguments);\\n\\t\\t});\\n\\t}\\n\\n\\tremoveListener(event, callback) {\\n\\t\\tif (!this.handlers[event]) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tconst index = this.handlers[event].indexOf(callback);\\n\\t\\tif (index > -1) {\\n\\t\\t\\tthis.handlers[event].splice(index, 1);\\n\\t\\t}\\n\\t}\\n\\n\\tremoveAllListeners(event) {\\n\\t\\tthis.handlers[event] = undefined;\\n\\t}\\n};\\n\",\"/* globals DDPCommon, EV */\\n/* eslint-disable new-cap */\\nconst NonEmptyString = Match.Where(function (x) {\\n\\tcheck(x, String);\\n\\treturn x.length > 0;\\n});\\n\\nclass StreamerCentral extends EV {\\n\\tconstructor() {\\n\\t\\tsuper();\\n\\n\\t\\tthis.instances = {};\\n\\t\\tthis.ddpConnections = {};\\t\\t// since each Streamer instance can provide its own ddp connection, store them by streamer name\\n\\t}\\n\\n\\tsetupDdpConnection(name, ddpConnection) {\\n\\t\\t// make sure we only setup event listeners for each ddp connection once\\n\\t\\tif (ddpConnection.hasMeteorStreamerEventListeners) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tddpConnection._stream.on('message', (raw_msg) => {\\n\\t\\t\\tconst msg = DDPCommon.parseDDP(raw_msg);\\n\\t\\t\\tif (msg && msg.msg === 'changed' && msg.collection && msg.fields && msg.fields.eventName && msg.fields.args) {\\n\\t\\t\\t\\tmsg.fields.args.unshift(msg.fields.eventName);\\n\\t\\t\\t\\tmsg.fields.args.unshift(msg.collection);\\n\\t\\t\\t\\tthis.emit.apply(this, msg.fields.args);\\n\\t\\t\\t}\\n\\t\\t});\\n\\t\\t// store ddp connection\\n\\t\\tthis.storeDdpConnection(name, ddpConnection);\\n\\n\\t}\\n\\n\\tstoreDdpConnection(name, ddpConnection) {\\n\\t\\t// mark the connection as setup for Streamer, and store it\\n\\t\\tddpConnection.hasMeteorStreamerEventListeners = true;\\n\\t\\tthis.ddpConnections[name] = ddpConnection;\\n\\t}\\n}\\n\\nMeteor.StreamerCentral = new StreamerCentral;\\n\\nMeteor.Streamer = class Streamer extends EV {\\n\\tconstructor(name, { useCollection = false, ddpConnection = Meteor.connection } = {}) {\\n\\t\\tif (Meteor.StreamerCentral.instances[name]) {\\n\\t\\t\\tconsole.warn('Streamer instance already exists:', name);\\n\\t\\t\\treturn Meteor.StreamerCentral.instances[name];\\n\\t\\t}\\n\\t\\tMeteor.StreamerCentral.setupDdpConnection(name, ddpConnection);\\n\\n\\t\\tsuper();\\n\\n\\t\\tthis.ddpConnection = ddpConnection || Meteor.connection;\\n\\n\\t\\tMeteor.StreamerCentral.instances[name] = this;\\n\\n\\t\\tthis.name = name;\\n\\t\\tthis.useCollection = useCollection;\\n\\t\\tthis.subscriptions = {};\\n\\n\\t\\tMeteor.StreamerCentral.on(this.subscriptionName, (eventName, ...args) => {\\n\\t\\t\\tif (this.subscriptions[eventName]) {\\n\\t\\t\\t\\tthis.subscriptions[eventName].lastMessage = args;\\n\\t\\t\\t\\tEV.prototype.emit.call(this, eventName, ...args);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tthis.ddpConnection._stream.on('reset', () => {\\n\\t\\t\\tEV.prototype.emit.call(this, '__reconnect__');\\n\\t\\t});\\n\\t}\\n\\n\\tget name() {\\n\\t\\treturn this._name;\\n\\t}\\n\\n\\tset name(name) {\\n\\t\\tcheck(name, String);\\n\\t\\tthis._name = name;\\n\\t}\\n\\n\\tget subscriptionName() {\\n\\t\\treturn `stream-${this.name}`;\\n\\t}\\n\\n\\tget useCollection() {\\n\\t\\treturn this._useCollection;\\n\\t}\\n\\n\\tset useCollection(useCollection) {\\n\\t\\tcheck(useCollection, Boolean);\\n\\t\\tthis._useCollection = useCollection;\\n\\t}\\n\\n\\tstop(eventName) {\\n\\t\\treturn this.subscriptions[eventName] && this.subscriptions[eventName].subscription && this.subscriptions[eventName].subscription.stop();\\n\\t}\\n\\n\\tstopAll() {\\n\\t\\tObject.keys(this.subscriptions).forEach(eventName => this.removeAllListeners(eventName));\\n\\t}\\n\\n\\tunsubscribe(eventName) {\\n\\t\\tdelete this.subscriptions[eventName];\\n\\t\\tEV.prototype.removeAllListeners.call(this, eventName);\\n\\t}\\n\\n\\tsubscribe(eventName, args) {\\n\\t\\treturn new Promise((resolve, reject) => {\\n\\t\\t\\tif (this.subscriptions[eventName]) {\\n\\t\\t\\t\\treturn resolve();\\n\\t\\t\\t}\\n\\t\\t\\tconst subscription = Tracker.nonreactive(() => this.ddpConnection.subscribe(\\n\\t\\t\\t\\tthis.subscriptionName,\\n\\t\\t\\t\\teventName,\\n\\t\\t\\t\\t{ useCollection: this.useCollection, args },\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tonStop: () => reject(this.unsubscribe(eventName)),\\n\\t\\t\\t\\t\\tonReady: resolve\\n\\t\\t\\t\\t}\\n\\t\\t\\t));\\n\\t\\t\\tthis.subscriptions[eventName] = { subscription };\\n\\t\\t})\\n\\t}\\n\\n\\tonReconnect(fn) {\\n\\t\\tif (typeof fn === 'function') {\\n\\t\\t\\tEV.prototype.on.call(this, '__reconnect__', fn);\\n\\t\\t}\\n\\t}\\n\\n\\tgetLastMessageFromEvent(eventName) {\\n\\t\\tconst subscription = this.subscriptions[eventName];\\n\\t\\tif (subscription && subscription.lastMessage) {\\n\\t\\t\\treturn subscription.lastMessage;\\n\\t\\t}\\n\\t}\\n\\n\\tremoveAllListeners(eventName) {\\n\\t\\tEV.prototype.removeAllListeners.call(this, eventName);\\n\\t\\treturn this.stop(eventName);\\n\\t}\\n\\n\\tremoveListener(eventName, ...args) {\\n\\t\\tif (this.listenerCount(eventName) === 1) {\\n\\t\\t\\tthis.stop(eventName);\\n\\t\\t}\\n\\t\\tEV.prototype.removeListener.call(this, eventName, ...args);\\n\\t}\\n\\n\\ton(eventName, ...args) {\\n\\t\\tcheck(eventName, NonEmptyString);\\n\\n\\t\\tconst callback = args.pop();\\n\\t\\tcheck(callback, Function);\\n\\n\\t\\tEV.prototype.on.call(this, eventName, callback);\\n\\n\\t\\treturn this.subscribe(eventName, args);\\n\\t}\\n\\n\\tonce(eventName, ...args) {\\n\\t\\tcheck(eventName, NonEmptyString);\\n\\n\\t\\tconst callback = args.pop();\\n\\t\\tcheck(callback, Function);\\n\\n\\t\\tEV.prototype.once.call(this, eventName, (...args) => {\\n\\t\\t\\tcallback(...args);\\n\\t\\t\\tif (this.listenerCount(eventName) === 0) {\\n\\t\\t\\t\\treturn this.stop(eventName);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\treturn this.subscribe(eventName, args);\\n\\t}\\n\\n\\temit(...args) {\\n\\t\\tthis.ddpConnection.call(this.subscriptionName, ...args);\\n\\t}\\n};\\n\",null],\"names\":[\"EV\",\"handlers\",\"_proto\",\"prototype\",\"emit\",\"event\",\"_this\",\"_len\",\"arguments\",\"length\",\"args\",\"Array\",\"_key\",\"forEach\",\"handler\",\"apply\",\"emitWithScope\",\"scope\",\"_len2\",\"_key2\",\"listenerCount\",\"on\",\"callback\",\"push\",\"once\",\"self\",\"onetimeCallback\",\"removeListener\",\"index\",\"indexOf\",\"splice\",\"removeAllListeners\",\"undefined\",\"module\",\"link\",\"default\",\"v\",\"_createClass\",\"_assertThisInitialized\",\"_inheritsLoose\",\"NonEmptyString\",\"Match\",\"Where\",\"x\",\"check\",\"String\",\"StreamerCentral\",\"_EV\",\"call\",\"instances\",\"ddpConnections\",\"setupDdpConnection\",\"name\",\"ddpConnection\",\"_this2\",\"hasMeteorStreamerEventListeners\",\"_stream\",\"raw_msg\",\"msg\",\"DDPCommon\",\"parseDDP\",\"collection\",\"fields\",\"eventName\",\"unshift\",\"storeDdpConnection\",\"Meteor\",\"Streamer\",\"_EV2\",\"_this3\",\"_ref\",\"_ref$useCollection\",\"useCollection\",\"_ref$ddpConnection\",\"connection\",\"console\",\"warn\",\"subscriptions\",\"subscriptionName\",\"_EV$prototype$emit\",\"lastMessage\",\"concat\",\"_proto2\",\"stop\",\"subscription\",\"stopAll\",\"_this4\",\"Object\",\"keys\",\"unsubscribe\",\"subscribe\",\"_this5\",\"Promise\",\"resolve\",\"reject\",\"Tracker\",\"nonreactive\",\"onStop\",\"onReady\",\"onReconnect\",\"fn\",\"getLastMessageFromEvent\",\"_EV$prototype$removeL\",\"_len3\",\"_key3\",\"pop\",\"Function\",\"_this6\",\"_len4\",\"_key4\",\"_this$ddpConnection\",\"_len5\",\"_key5\",\"key\",\"get\",\"_name\",\"set\",\"_useCollection\",\"Boolean\"],\"mappings\":\"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\"}"}