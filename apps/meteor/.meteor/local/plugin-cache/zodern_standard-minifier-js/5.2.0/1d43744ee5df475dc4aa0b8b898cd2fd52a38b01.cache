{"code":"function module(e,n,t){var o,i,l,a,c,r,u,s,f,d,m,C,x,h,k,b,E,g,v,p,S,I;t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},Icon:function(e){i=e},TextInput:function(e){l=e},Callout:function(e){a=e},Throbber:function(e){c=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useResizeObserver:function(e){r=e},useAutoFocus:function(e){u=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useSetting:function(e){s=e}},2),t.link(\"react\",{default:function(e){f=e},useCallback:function(e){d=e}},3),t.link(\"react-i18next\",{useTranslation:function(e){m=e}},4),t.link(\"react-virtuoso\",{Virtuoso:function(e){C=e}},5),t.link(\"../../../../components/Contextualbar\",{ContextualbarHeader:function(e){x=e},ContextualbarIcon:function(e){h=e},ContextualbarContent:function(e){k=e},ContextualbarClose:function(e){b=e},ContextualbarEmptyContent:function(e){E=e},ContextualbarTitle:function(e){g=e},ContextualbarSection:function(e){v=e}},6),t.link(\"../../../../components/CustomScrollbars\",{VirtuosoScrollbars:function(e){p=e}},7),t.link(\"../../../../lib/utils/goToRoomById\",{goToRoomById:function(e){S=e}},8),t.link(\"./DiscussionsListRow\",{default:function(e){I=e}},9),t.exportDefault(function(e){var n=e.total,t=void 0===n?10:n,y=e.discussions,R=void 0===y?[]:y,T=e.loadMoreItems,w=e.loading,z=e.onClose,_=e.error,D=e.text,B=e.onChangeFilter,F=m().t,M=s(\"UI_Use_Real_Name\")||!1,N=u(!0),U=d(function(e){var n=e.currentTarget.dataset.drid;S(n)},[]),V=r({debounceDelay:200}),A=V.ref,G=V.contentBoxSize,H=(G=void 0===G?{}:G).inlineSize,L=G.blockSize;return f.createElement(f.Fragment,null,f.createElement(x,null,f.createElement(h,{name:\"discussion\"}),f.createElement(g,null,F(\"Discussions\")),f.createElement(b,{onClick:z})),f.createElement(v,null,f.createElement(l,{placeholder:F(\"Search_Messages\"),value:D,onChange:B,ref:N,addon:f.createElement(i,{name:\"magnifier\",size:\"x20\"})})),f.createElement(k,{paddingInline:0,ref:A},w&&f.createElement(o,{pi:24,pb:12},f.createElement(c,{size:\"x12\"})),_ instanceof Error&&f.createElement(a,{mi:24,type:\"danger\"},_.toString()),!w&&0===t&&f.createElement(E,{title:F(\"No_Discussions_found\")}),f.createElement(o,{flexGrow:1,flexShrink:1,overflow:\"hidden\",display:\"flex\"},!_&&t>0&&R.length>0&&f.createElement(C,{style:{height:void 0===L?1:L,width:void 0===H?378:H,overflow:\"hidden\"},totalCount:t,endReached:w?function(){}:function(e){return T(e,Math.min(50,t-e))},overscan:25,data:R,components:{Scroller:p},itemContent:function(e,n){return f.createElement(I,{discussion:n,showRealNames:M,onClick:U})}}))))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/Discussions/DiscussionsList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IDiscussionMessage } from '@rocket.chat/core-typings';\\nimport { Box, Icon, TextInput, Callout, Throbber } from '@rocket.chat/fuselage';\\nimport { useResizeObserver, useAutoFocus } from '@rocket.chat/fuselage-hooks';\\nimport { useSetting } from '@rocket.chat/ui-contexts';\\nimport type { RefObject } from 'react';\\nimport React, { useCallback } from 'react';\\nimport { useTranslation } from 'react-i18next';\\nimport { Virtuoso } from 'react-virtuoso';\\n\\nimport {\\n\\tContextualbarHeader,\\n\\tContextualbarIcon,\\n\\tContextualbarContent,\\n\\tContextualbarClose,\\n\\tContextualbarEmptyContent,\\n\\tContextualbarTitle,\\n\\tContextualbarSection,\\n} from '../../../../components/Contextualbar';\\nimport { VirtuosoScrollbars } from '../../../../components/CustomScrollbars';\\nimport { goToRoomById } from '../../../../lib/utils/goToRoomById';\\nimport DiscussionsListRow from './DiscussionsListRow';\\n\\ntype DiscussionsListProps = {\\n\\ttotal: number;\\n\\tdiscussions: Array<IDiscussionMessage>;\\n\\tloadMoreItems: (start: number, end: number) => void;\\n\\tloading: boolean;\\n\\tonClose: () => void;\\n\\terror: unknown;\\n\\ttext: string;\\n\\tonChangeFilter: (e: unknown) => void;\\n};\\n\\nfunction DiscussionsList({\\n\\ttotal = 10,\\n\\tdiscussions = [],\\n\\tloadMoreItems,\\n\\tloading,\\n\\tonClose,\\n\\terror,\\n\\ttext,\\n\\tonChangeFilter,\\n}: DiscussionsListProps) {\\n\\tconst { t } = useTranslation();\\n\\tconst showRealNames = useSetting<boolean>('UI_Use_Real_Name') || false;\\n\\tconst inputRef = useAutoFocus(true);\\n\\n\\tconst onClick = useCallback((e) => {\\n\\t\\tconst { drid } = e.currentTarget.dataset;\\n\\t\\tgoToRoomById(drid);\\n\\t}, []);\\n\\n\\tconst { ref, contentBoxSize: { inlineSize = 378, blockSize = 1 } = {} } = useResizeObserver<HTMLElement>({\\n\\t\\tdebounceDelay: 200,\\n\\t});\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarIcon name='discussion' />\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Discussions')}</ContextualbarTitle>\\n\\t\\t\\t\\t<ContextualbarClose onClick={onClose} />\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarSection>\\n\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\tplaceholder={t('Search_Messages')}\\n\\t\\t\\t\\t\\tvalue={text}\\n\\t\\t\\t\\t\\tonChange={onChangeFilter}\\n\\t\\t\\t\\t\\tref={inputRef as RefObject<HTMLInputElement>}\\n\\t\\t\\t\\t\\taddon={<Icon name='magnifier' size='x20' />}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</ContextualbarSection>\\n\\t\\t\\t<ContextualbarContent paddingInline={0} ref={ref}>\\n\\t\\t\\t\\t{loading && (\\n\\t\\t\\t\\t\\t<Box pi={24} pb={12}>\\n\\t\\t\\t\\t\\t\\t<Throbber size='x12' />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t{error instanceof Error && (\\n\\t\\t\\t\\t\\t<Callout mi={24} type='danger'>\\n\\t\\t\\t\\t\\t\\t{error.toString()}\\n\\t\\t\\t\\t\\t</Callout>\\n\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t{!loading && total === 0 && <ContextualbarEmptyContent title={t('No_Discussions_found')} />}\\n\\n\\t\\t\\t\\t<Box flexGrow={1} flexShrink={1} overflow='hidden' display='flex'>\\n\\t\\t\\t\\t\\t{!error && total > 0 && discussions.length > 0 && (\\n\\t\\t\\t\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\theight: blockSize,\\n\\t\\t\\t\\t\\t\\t\\t\\twidth: inlineSize,\\n\\t\\t\\t\\t\\t\\t\\t\\toverflow: 'hidden',\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\ttotalCount={total}\\n\\t\\t\\t\\t\\t\\t\\tendReached={loading ? () => undefined : (start) => loadMoreItems(start, Math.min(50, total - start))}\\n\\t\\t\\t\\t\\t\\t\\toverscan={25}\\n\\t\\t\\t\\t\\t\\t\\tdata={discussions}\\n\\t\\t\\t\\t\\t\\t\\tcomponents={{ Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t\\t\\t\\t\\titemContent={(_, data) => <DiscussionsListRow discussion={data} showRealNames={showRealNames} onClick={onClick} />}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</ContextualbarContent>\\n\\t\\t</>\\n\\t);\\n}\\n\\nexport default DiscussionsList;\\n\",null],\"names\":[\"Box\",\"Icon\",\"TextInput\",\"Callout\",\"Throbber\",\"useResizeObserver\",\"useAutoFocus\",\"useSetting\",\"React\",\"useCallback\",\"useTranslation\",\"Virtuoso\",\"ContextualbarHeader\",\"ContextualbarIcon\",\"ContextualbarContent\",\"ContextualbarClose\",\"ContextualbarEmptyContent\",\"ContextualbarTitle\",\"ContextualbarSection\",\"VirtuosoScrollbars\",\"goToRoomById\",\"DiscussionsListRow\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"_ref$total\",\"total\",\"_ref$discussions\",\"discussions\",\"loadMoreItems\",\"loading\",\"onClose\",\"error\",\"text\",\"onChangeFilter\",\"t\",\"_useTranslation\",\"showRealNames\",\"inputRef\",\"onClick\",\"e\",\"drid\",\"currentTarget\",\"dataset\",\"_useResizeObserver\",\"debounceDelay\",\"ref\",\"_useResizeObserver$co\",\"contentBoxSize\",\"_useResizeObserver$co2\",\"inlineSize\",\"_useResizeObserver$co3\",\"blockSize\",\"createElement\",\"Fragment\",\"name\",\"placeholder\",\"value\",\"onChange\",\"addon\",\"size\",\"paddingInline\",\"pi\",\"pb\",\"Error\",\"mi\",\"type\",\"toString\",\"title\",\"flexGrow\",\"flexShrink\",\"overflow\",\"display\",\"length\",\"style\",\"height\",\"width\",\"totalCount\",\"endReached\",\"start\",\"Math\",\"min\",\"overscan\",\"data\",\"components\",\"Scroller\",\"itemContent\",\"_\",\"discussion\"],\"mappings\":\"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\"}"}