{"code":"function module(e,t,n){var l,o,i,a,c,r,u,s,f,m,d,g,k,E,M,h,T;n.link(\"@rocket.chat/fuselage\",{MessageMetricsItem:function(e){l=e},MessageBlock:function(e){o=e},MessageMetrics:function(e){i=e},MessageMetricsReply:function(e){a=e},MessageMetricsFollowing:function(e){c=e}},0),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){r=e},useTranslation:function(e){u=e}},1),n.link(\"react\",{default:function(e){s=e},useCallback:function(e){f=e}},2),n.link(\"../../../hooks/useTimeAgo\",{useTimeAgo:function(e){m=e}},3),n.link(\"../../../views/room/contextualBar/Threads/hooks/useToggleFollowingThreadMutation\",{useToggleFollowingThreadMutation:function(e){d=e}},4),n.link(\"../../../views/room/hooks/useGoToThread\",{useGoToThread:function(e){g=e}},5),n.link(\"../helpers/followSyle\",{followStyle:function(e){k=e},anchor:function(e){E=e}},6),n.link(\"../notification/AllMentionNotification\",{default:function(e){M=e}},7),n.link(\"../notification/MeMentionNotification\",{default:function(e){h=e}},8),n.link(\"../notification/UnreadMessagesNotification\",{default:function(e){T=e}},9),n.exportDefault(function(e){var t=e.unread,n=e.mention,w=e.all,p=e.rid,b=e.mid,v=e.counter,N=e.participants,y=e.following,L=e.lm,F=u(),I=m(),x=g(),A=r(),C=d({onError:function(e){A({type:\"error\",message:e})}}),R=f(function(){C.mutate({rid:p,tmid:b,follow:!y})},[y,p,b,C]);return s.createElement(o,{className:k},s.createElement(i,null,s.createElement(a,{\"data-rid\":p,\"data-mid\":b,onClick:function(){return x({rid:p,tmid:b})}},F(\"Reply\")),s.createElement(l,{title:F(\"Replies\")},s.createElement(l.Icon,{name:\"thread\"}),s.createElement(l.Label,null,v)),!!N&&s.createElement(l,{title:F(\"Participants\")},s.createElement(l.Icon,{name:\"user\"}),s.createElement(l.Label,null,N)),s.createElement(l,{title:null==L?void 0:L.toLocaleString()},s.createElement(l.Icon,{name:\"clock\"}),s.createElement(l.Label,null,I(L))),s.createElement(l,{className:y?void 0:E,\"data-rid\":p},s.createElement(c,{title:F(y?\"Following\":\"Not_following\"),name:y?\"bell\":\"bell-off\",onClick:R})),(n||w||t)&&s.createElement(l,null,s.createElement(l.Label,null,n&&s.createElement(h,null)||w&&s.createElement(M,null)||t&&s.createElement(T,null)))))})}","map":"{\"version\":3,\"sources\":[\"client/components/message/content/ThreadMetrics.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { MessageMetricsItem, MessageBlock, MessageMetrics, MessageMetricsReply, MessageMetricsFollowing } from '@rocket.chat/fuselage';\\nimport { useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback } from 'react';\\n\\nimport { useTimeAgo } from '../../../hooks/useTimeAgo';\\nimport { useToggleFollowingThreadMutation } from '../../../views/room/contextualBar/Threads/hooks/useToggleFollowingThreadMutation';\\nimport { useGoToThread } from '../../../views/room/hooks/useGoToThread';\\nimport { followStyle, anchor } from '../helpers/followSyle';\\nimport AllMentionNotification from '../notification/AllMentionNotification';\\nimport MeMentionNotification from '../notification/MeMentionNotification';\\nimport UnreadMessagesNotification from '../notification/UnreadMessagesNotification';\\n\\ntype ThreadMetricsProps = {\\n\\tunread: boolean;\\n\\tmention: boolean;\\n\\tall: boolean;\\n\\tlm: Date;\\n\\tmid: string;\\n\\trid: string;\\n\\tcounter: number;\\n\\tparticipants: number;\\n\\tfollowing: boolean;\\n};\\n\\nconst ThreadMetrics = ({ unread, mention, all, rid, mid, counter, participants, following, lm }: ThreadMetricsProps): ReactElement => {\\n\\tconst t = useTranslation();\\n\\n\\tconst format = useTimeAgo();\\n\\n\\tconst goToThread = useGoToThread();\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst toggleFollowingThreadMutation = useToggleFollowingThreadMutation({\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t});\\n\\n\\tconst handleFollow = useCallback(() => {\\n\\t\\ttoggleFollowingThreadMutation.mutate({ rid, tmid: mid, follow: !following });\\n\\t}, [following, rid, mid, toggleFollowingThreadMutation]);\\n\\n\\treturn (\\n\\t\\t<MessageBlock className={followStyle}>\\n\\t\\t\\t<MessageMetrics>\\n\\t\\t\\t\\t<MessageMetricsReply data-rid={rid} data-mid={mid} onClick={() => goToThread({ rid, tmid: mid })}>\\n\\t\\t\\t\\t\\t{t('Reply')}\\n\\t\\t\\t\\t</MessageMetricsReply>\\n\\t\\t\\t\\t<MessageMetricsItem title={t('Replies')}>\\n\\t\\t\\t\\t\\t<MessageMetricsItem.Icon name='thread' />\\n\\t\\t\\t\\t\\t<MessageMetricsItem.Label>{counter}</MessageMetricsItem.Label>\\n\\t\\t\\t\\t</MessageMetricsItem>\\n\\t\\t\\t\\t{!!participants && (\\n\\t\\t\\t\\t\\t<MessageMetricsItem title={t('Participants')}>\\n\\t\\t\\t\\t\\t\\t<MessageMetricsItem.Icon name='user' />\\n\\t\\t\\t\\t\\t\\t<MessageMetricsItem.Label>{participants}</MessageMetricsItem.Label>\\n\\t\\t\\t\\t\\t</MessageMetricsItem>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t<MessageMetricsItem title={lm?.toLocaleString()}>\\n\\t\\t\\t\\t\\t<MessageMetricsItem.Icon name='clock' />\\n\\t\\t\\t\\t\\t<MessageMetricsItem.Label>{format(lm)}</MessageMetricsItem.Label>\\n\\t\\t\\t\\t</MessageMetricsItem>\\n\\t\\t\\t\\t<MessageMetricsItem className={!following ? anchor : undefined} data-rid={rid}>\\n\\t\\t\\t\\t\\t<MessageMetricsFollowing\\n\\t\\t\\t\\t\\t\\ttitle={t(following ? 'Following' : 'Not_following')}\\n\\t\\t\\t\\t\\t\\tname={following ? 'bell' : 'bell-off'}\\n\\t\\t\\t\\t\\t\\tonClick={handleFollow}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</MessageMetricsItem>\\n\\t\\t\\t\\t{(mention || all || unread) && (\\n\\t\\t\\t\\t\\t<MessageMetricsItem>\\n\\t\\t\\t\\t\\t\\t<MessageMetricsItem.Label>\\n\\t\\t\\t\\t\\t\\t\\t{(mention && <MeMentionNotification />) || (all && <AllMentionNotification />) || (unread && <UnreadMessagesNotification />)}\\n\\t\\t\\t\\t\\t\\t</MessageMetricsItem.Label>\\n\\t\\t\\t\\t\\t</MessageMetricsItem>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</MessageMetrics>\\n\\t\\t</MessageBlock>\\n\\t);\\n};\\n\\nexport default ThreadMetrics;\\n\",null],\"names\":[\"MessageMetricsItem\",\"MessageBlock\",\"MessageMetrics\",\"MessageMetricsReply\",\"MessageMetricsFollowing\",\"useToastMessageDispatch\",\"useTranslation\",\"React\",\"useCallback\",\"useTimeAgo\",\"useToggleFollowingThreadMutation\",\"useGoToThread\",\"followStyle\",\"anchor\",\"AllMentionNotification\",\"MeMentionNotification\",\"UnreadMessagesNotification\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"unread\",\"mention\",\"all\",\"rid\",\"mid\",\"counter\",\"participants\",\"following\",\"lm\",\"t\",\"format\",\"goToThread\",\"dispatchToastMessage\",\"toggleFollowingThreadMutation\",\"onError\",\"error\",\"type\",\"message\",\"handleFollow\",\"mutate\",\"tmid\",\"follow\",\"createElement\",\"className\",\"onClick\",\"title\",\"Icon\",\"name\",\"Label\",\"toLocaleString\",\"undefined\"],\"mappings\":\"uBAyBA,IAzBAA,EAASC,EAAoBC,EAAcC,EAAgBC,EAA4EC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAAC,IAAyB,CAAA,wBAAM,CAAAlB,mBAAwB,SAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,EAAAlB,aAAA,SAAAkB,CAAA,EAAAlB,EAAAkB,CAAA,EAAAjB,eAAA,SAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,EAAAhB,oBAAA,SAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,EAAAf,wBAAA,SAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAb,wBAAA,SAAAc,CAAA,EAAAd,EAAAc,CAAA,EAAAb,eAAA,SAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,YAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,4BAAA,CAAAT,WAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mFAAA,CAAAR,iCAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0CAAA,CAAAP,cAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAN,YAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,OAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,6CAAA,CAAA,QAAA,SAAAC,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAvIF,EAAOG,aAAE,CAyBa,SAAAC,CAAA,EAA+G,IAA5GC,EAAMD,EAANC,MAAM,CAAEC,EAAOF,EAAPE,OAAO,CAAEC,EAAGH,EAAHG,GAAG,CAAEC,EAAGJ,EAAHI,GAAG,CAAEC,EAAGL,EAAHK,GAAG,CAAEC,EAAON,EAAPM,OAAO,CAAEC,EAAYP,EAAZO,YAAY,CAAEC,EAASR,EAATQ,SAAS,CAAEC,EAAET,EAAFS,EAAE,CACtFC,EAAIzB,IAEJ0B,EAASvB,IAETwB,EAAatB,IAEbuB,EAAuB7B,IACvB8B,EAAgCzB,EAAiC,CACtE0B,QAAS,SAACC,CAAK,EACdH,EAAqB,CAAEI,KAAM,QAASC,QAASF,CAAK,EACrD,IAGKG,EAAehC,EAAY,WAChC2B,EAA8BM,MAAM,CAAC,CAAEhB,IAAAA,EAAKiB,KAAMhB,EAAKiB,OAAQ,CAACd,CAAS,EAC1E,EAAG,CAACA,EAAWJ,EAAKC,EAAKS,EAA8B,EAEvD,OACC5B,EAAAqC,aAAA,CAAC3C,EAAY,CAAC4C,UAAWjC,CAAY,EACpCL,EAAAqC,aAAA,CAAC1C,EAAc,KACdK,EAAAqC,aAAA,CAACzC,EAAmB,CAAC,WAAUsB,EAAK,WAAUC,EAAKoB,QAAS,WAAA,OAAMb,EAAW,CAAER,IAAAA,EAAKiB,KAAMhB,CAAG,EAAG,CAAC,EAC/FK,EAAE,UAEJxB,EAAAqC,aAAA,CAAC5C,EAAkB,CAAC+C,MAAOhB,EAAE,UAAW,EACvCxB,EAAAqC,aAAA,CAAC5C,EAAmBgD,IAAI,CAAA,CAACC,KAAK,QAAQ,GACtC1C,EAAAqC,aAAA,CAAC5C,EAAmBkD,KAAK,CAAA,KAAEvB,IAE3B,CAAC,CAACC,GACFrB,EAAAqC,aAAA,CAAC5C,EAAkB,CAAC+C,MAAOhB,EAAE,eAAgB,EAC5CxB,EAAAqC,aAAA,CAAC5C,EAAmBgD,IAAI,CAAA,CAACC,KAAK,MAAM,GACpC1C,EAAAqC,aAAA,CAAC5C,EAAmBkD,KAAK,CAAA,KAAEtB,IAG7BrB,EAAAqC,aAAA,CAAC5C,EAAkB,CAAC+C,MAAOjB,MAAAA,EAAE,KAAA,EAAFA,EAAIqB,cAAc,EAAG,EAC/C5C,EAAAqC,aAAA,CAAC5C,EAAmBgD,IAAI,CAAA,CAACC,KAAK,OAAO,GACrC1C,EAAAqC,aAAA,CAAC5C,EAAmBkD,KAAK,CAAA,KAAElB,EAAOF,KAEnCvB,EAAAqC,aAAA,CAAC5C,EAAkB,CAAC6C,UAAW,AAAChB,EAAqBuB,KAAAA,EAATvC,EAAoB,WAAUY,CAAI,EAC7ElB,EAAAqC,aAAA,CAACxC,EAAuB,CACvB2C,MAAOhB,EAAEF,EAAY,YAAc,iBACnCoB,KAAMpB,EAAY,OAAS,WAC3BiB,QAASN,CAAa,IAGvB,AAACjB,CAAAA,GAAWC,GAAOF,CAAAA,GACnBf,EAAAqC,aAAA,CAAC5C,EAAkB,KAClBO,EAAAqC,aAAA,CAAC5C,EAAmBkD,KAAK,CAAA,KACtB3B,GAAWhB,EAAAqC,aAAA,CAAC7B,EAAqB,OAASS,GAAOjB,EAAAqC,aAAA,CAAC9B,EAAsB,OAASQ,GAAUf,EAAAqC,aAAA,CAAC5B,EAA0B,SAO/H\"}"}