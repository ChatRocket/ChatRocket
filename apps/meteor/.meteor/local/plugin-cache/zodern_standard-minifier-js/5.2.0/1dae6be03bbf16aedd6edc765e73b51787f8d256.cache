{"code":"function module(e,t,n){var l,o,a,i,c,r,u,m,f,s,d,C,x,h,E,p,k,b;n.link(\"@rocket.chat/fuselage\",{Box:function(e){l=e},Icon:function(e){o=e},TextInput:function(e){a=e},Select:function(e){i=e},Throbber:function(e){c=e},ContextualbarSection:function(e){r=e}},0),n.link(\"react\",{default:function(e){u=e},useMemo:function(e){m=e}},1),n.link(\"react-i18next\",{useTranslation:function(e){f=e}},2),n.link(\"react-virtuoso\",{Virtuoso:function(e){s=e}},3),n.link(\"../../../../components/Contextualbar\",{ContextualbarHeader:function(e){d=e},ContextualbarIcon:function(e){C=e},ContextualbarTitle:function(e){x=e},ContextualbarClose:function(e){h=e},ContextualbarContent:function(e){E=e},ContextualbarEmptyContent:function(e){p=e}},4),n.link(\"../../../../components/CustomScrollbars\",{VirtuosoScrollbars:function(e){k=e}},5),n.link(\"./components/FileItem\",{default:function(e){b=e}},6),n.exportDefault(function(e){var t=e.loading,n=e.type,g=e.text,v=e.filesItems,I=void 0===v?[]:v,S=e.loadMoreItems,T=e.setType,F=e.setText,w=e.total,y=e.onClickClose,D=e.onClickDelete,M=f().t,V=m(function(){return[[\"all\",M(\"All\")],[\"image\",M(\"Images\")],[\"video\",M(\"Videos\")],[\"audio\",M(\"Audios\")],[\"text\",M(\"Texts\")],[\"application\",M(\"Files\")]]},[M]);return u.createElement(u.Fragment,null,u.createElement(d,null,u.createElement(C,{name:\"attachment\"}),u.createElement(x,null,M(\"Files\")),y&&u.createElement(h,{onClick:y})),u.createElement(r,null,u.createElement(a,{\"data-qa-files-search\":!0,placeholder:M(\"Search_Files\"),value:g,onChange:F,addon:u.createElement(o,{name:\"magnifier\",size:\"x20\"})}),u.createElement(l,{w:\"x144\",mis:8},u.createElement(i,{onChange:T,value:n,options:V}))),u.createElement(E,{paddingInline:0},t&&u.createElement(l,{p:24},u.createElement(c,{size:\"x12\"})),!t&&0===I.length&&u.createElement(p,{title:M(\"No_files_found\")}),!t&&I.length>0&&u.createElement(l,{w:\"full\",h:\"full\",flexShrink:1,overflow:\"hidden\"},u.createElement(s,{style:{height:\"100%\",width:\"100%\"},totalCount:w,endReached:function(e){return S(e,Math.min(50,w-e))},overscan:50,data:I,components:{Scroller:k},itemContent:function(e,t){return u.createElement(b,{fileData:t,onClickDelete:D})}}))))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/RoomFiles/RoomFiles.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IUpload, IUploadWithUser } from '@rocket.chat/core-typings';\\nimport type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Box, Icon, TextInput, Select, Throbber, ContextualbarSection } from '@rocket.chat/fuselage';\\nimport type { FormEvent } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\nimport { Virtuoso } from 'react-virtuoso';\\n\\nimport {\\n\\tContextualbarHeader,\\n\\tContextualbarIcon,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarContent,\\n\\tContextualbarEmptyContent,\\n} from '../../../../components/Contextualbar';\\nimport { VirtuosoScrollbars } from '../../../../components/CustomScrollbars';\\nimport FileItem from './components/FileItem';\\n\\ntype RoomFilesProps = {\\n\\tloading: boolean;\\n\\ttype: string;\\n\\ttext: string;\\n\\tfilesItems: IUploadWithUser[];\\n\\tloadMoreItems: (start: number, end: number) => void;\\n\\tsetType: (value: any) => void;\\n\\tsetText: (e: FormEvent<HTMLElement>) => void;\\n\\ttotal: number;\\n\\tonClickClose: () => void;\\n\\tonClickDelete: (id: IUpload['_id']) => void;\\n};\\n\\nconst RoomFiles = ({\\n\\tloading,\\n\\ttype,\\n\\ttext,\\n\\tfilesItems = [],\\n\\tloadMoreItems,\\n\\tsetType,\\n\\tsetText,\\n\\ttotal,\\n\\tonClickClose,\\n\\tonClickDelete,\\n}: RoomFilesProps) => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst options: SelectOption[] = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['all', t('All')],\\n\\t\\t\\t['image', t('Images')],\\n\\t\\t\\t['video', t('Videos')],\\n\\t\\t\\t['audio', t('Audios')],\\n\\t\\t\\t['text', t('Texts')],\\n\\t\\t\\t['application', t('Files')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarIcon name='attachment' />\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Files')}</ContextualbarTitle>\\n\\t\\t\\t\\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarSection>\\n\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\tdata-qa-files-search\\n\\t\\t\\t\\t\\tplaceholder={t('Search_Files')}\\n\\t\\t\\t\\t\\tvalue={text}\\n\\t\\t\\t\\t\\tonChange={setText}\\n\\t\\t\\t\\t\\taddon={<Icon name='magnifier' size='x20' />}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t\\t<Box w='x144' mis={8}>\\n\\t\\t\\t\\t\\t<Select onChange={setType} value={type} options={options} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</ContextualbarSection>\\n\\t\\t\\t<ContextualbarContent paddingInline={0}>\\n\\t\\t\\t\\t{loading && (\\n\\t\\t\\t\\t\\t<Box p={24}>\\n\\t\\t\\t\\t\\t\\t<Throbber size='x12' />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{!loading && filesItems.length === 0 && <ContextualbarEmptyContent title={t('No_files_found')} />}\\n\\t\\t\\t\\t{!loading && filesItems.length > 0 && (\\n\\t\\t\\t\\t\\t<Box w='full' h='full' flexShrink={1} overflow='hidden'>\\n\\t\\t\\t\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\t\\t\\t\\tstyle={{\\n\\t\\t\\t\\t\\t\\t\\t\\theight: '100%',\\n\\t\\t\\t\\t\\t\\t\\t\\twidth: '100%',\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\ttotalCount={total}\\n\\t\\t\\t\\t\\t\\t\\tendReached={(start) => loadMoreItems(start, Math.min(50, total - start))}\\n\\t\\t\\t\\t\\t\\t\\toverscan={50}\\n\\t\\t\\t\\t\\t\\t\\tdata={filesItems}\\n\\t\\t\\t\\t\\t\\t\\tcomponents={{ Scroller: VirtuosoScrollbars }}\\n\\t\\t\\t\\t\\t\\t\\titemContent={(_, data) => <FileItem fileData={data} onClickDelete={onClickDelete} />}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</ContextualbarContent>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default RoomFiles;\\n\",null],\"names\":[\"Box\",\"Icon\",\"TextInput\",\"Select\",\"Throbber\",\"ContextualbarSection\",\"React\",\"useMemo\",\"useTranslation\",\"Virtuoso\",\"ContextualbarHeader\",\"ContextualbarIcon\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarContent\",\"ContextualbarEmptyContent\",\"VirtuosoScrollbars\",\"FileItem\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"loading\",\"type\",\"text\",\"_ref$filesItems\",\"filesItems\",\"loadMoreItems\",\"setType\",\"setText\",\"total\",\"onClickClose\",\"onClickDelete\",\"t\",\"_useTranslation\",\"options\",\"createElement\",\"Fragment\",\"name\",\"onClick\",\"placeholder\",\"value\",\"onChange\",\"addon\",\"size\",\"w\",\"mis\",\"paddingInline\",\"p\",\"length\",\"title\",\"h\",\"flexShrink\",\"overflow\",\"style\",\"height\",\"width\",\"totalCount\",\"endReached\",\"start\",\"Math\",\"min\",\"overscan\",\"data\",\"components\",\"Scroller\",\"itemContent\",\"_\",\"fileData\"],\"mappings\":\"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\"}"}