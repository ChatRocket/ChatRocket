{"code":"function module(e,t,l){let s,n,r,o,c;l.export({SelectedMessageContext:()=>u,useIsSelectedMessage:()=>g,useIsSelecting:()=>S,useToggleSelect:()=>a,useCountSelected:()=>i}),l.link(\"react\",{createContext(e){s=e},useCallback(e){n=e},useContext(e){r=e}},0),l.link(\"use-sync-external-store/shim\",{useSyncExternalStore(e){o=e}},1),l.link(\"../../providers/SelectedMessagesProvider\",{selectedMessageStore(e){c=e}},2);let u=s({selectedMessageStore:c}),g=e=>{let{selectedMessageStore:t}=r(u),l=n(l=>t.on(e,l),[t,e]);return o(l,()=>t.isSelected(e))},S=()=>{let{selectedMessageStore:e}=r(u),t=n(t=>e.on(\"toggleIsSelecting\",t),[e]);return o(t,()=>e.getIsSelecting())},a=e=>{let{selectedMessageStore:t}=r(u);return n(()=>{t.toggle(e)},[e,t])},i=()=>{let{selectedMessageStore:e}=r(u),t=n(t=>e.on(\"change\",t),[e]);return o(t,()=>e.count())}}","map":"{\"version\":3,\"sources\":[\"client/views/room/MessageList/contexts/SelectedMessagesContext.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { createContext, useCallback, useContext } from 'react';\\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\\n\\nimport { selectedMessageStore } from '../../providers/SelectedMessagesProvider';\\n\\ntype SelectMessageContextValue = {\\n\\tselectedMessageStore: typeof selectedMessageStore;\\n};\\n\\nexport const SelectedMessageContext = createContext({\\n\\tselectedMessageStore,\\n} as SelectMessageContextValue);\\n\\nexport const useIsSelectedMessage = (mid: string): boolean => {\\n\\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\\n\\n\\tconst subscribe = useCallback(\\n\\t\\t(callback: () => void): (() => void) => selectedMessageStore.on(mid, callback),\\n\\t\\t[selectedMessageStore, mid],\\n\\t);\\n\\n\\tconst getSnapshot = (): boolean => selectedMessageStore.isSelected(mid);\\n\\n\\treturn useSyncExternalStore(subscribe, getSnapshot);\\n};\\n\\nexport const useIsSelecting = (): boolean => {\\n\\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\\n\\n\\tconst subscribe = useCallback(\\n\\t\\t(callback: () => void): (() => void) => selectedMessageStore.on('toggleIsSelecting', callback),\\n\\t\\t[selectedMessageStore],\\n\\t);\\n\\n\\tconst getSnapshot = (): boolean => selectedMessageStore.getIsSelecting();\\n\\n\\treturn useSyncExternalStore(subscribe, getSnapshot);\\n};\\n\\nexport const useToggleSelect = (mid: string): (() => void) => {\\n\\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\\n\\treturn useCallback(() => {\\n\\t\\tselectedMessageStore.toggle(mid);\\n\\t}, [mid, selectedMessageStore]);\\n};\\n\\nexport const useCountSelected = (): number => {\\n\\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\\n\\n\\tconst subscribe = useCallback(\\n\\t\\t(callback: () => void): (() => void) => selectedMessageStore.on('change', callback),\\n\\t\\t[selectedMessageStore],\\n\\t);\\n\\n\\tconst getSnapshot = (): number => selectedMessageStore.count();\\n\\n\\treturn useSyncExternalStore(subscribe, getSnapshot);\\n};\\n\",null],\"names\":[\"createContext\",\"useCallback\",\"useContext\",\"useSyncExternalStore\",\"selectedMessageStore\",\"module\",\"export\",\"SelectedMessageContext\",\"useIsSelectedMessage\",\"useIsSelecting\",\"useToggleSelect\",\"useCountSelected\",\"link\",\"v\",\"mid\",\"subscribe\",\"callback\",\"on\",\"getSnapshot\",\"isSelected\",\"getIsSelecting\",\"toggle\",\"count\"],\"mappings\":\"2BAA+DA,EAAAC,EAAAC,EAAAC,EAAAC,EAA/DC,EAAOC,MAAE,CAAA,CAAAC,uBAA4BA,IAAAA,EAA0BC,qBAAAA,IAAAA,EAAAC,eAAAA,IAAAA,EAAAC,gBAAAA,IAAAA,EAAAC,iBAAAA,IAAAA,CAAA,GAAAN,EAAAO,IAAA,CAAA,QAAA,CAAAZ,cAAAa,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,YAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,WAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAR,EAAAO,IAAA,CAAA,+BAAA,CAAAT,qBAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAR,EAAAO,IAAA,CAAA,2CAAA,CAAAR,qBAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GASxD,IAAMN,EAAyBP,EAAc,CACnDI,qBAAAA,IAGYI,EAAwBM,IACpC,GAAM,CAAEV,qBAAAA,CAAAA,CAAsB,CAAGF,EAAWK,GAEtCQ,EAAYd,EAChBe,GAAuCZ,EAAqBa,EAAE,CAACH,EAAKE,GACrE,CAACZ,EAAsBU,EAAI,EAK5B,OAAOX,EAAqBY,EAFRG,IAAed,EAAqBe,UAAU,CAACL,GAGpE,EAEaL,EAAiBA,KAC7B,GAAM,CAAEL,qBAAAA,CAAAA,CAAsB,CAAGF,EAAWK,GAEtCQ,EAAYd,EAChBe,GAAuCZ,EAAqBa,EAAE,CAAC,oBAAqBD,GACrF,CAACZ,EAAqB,EAKvB,OAAOD,EAAqBY,EAFRG,IAAed,EAAqBgB,cAAc,GAGvE,EAEaV,EAAmBI,IAC/B,GAAM,CAAEV,qBAAAA,CAAAA,CAAsB,CAAGF,EAAWK,GAC5C,OAAON,EAAY,KAClBG,EAAqBiB,MAAM,CAACP,EAC7B,EAAG,CAACA,EAAKV,EAAqB,CAC/B,EAEaO,EAAmBA,KAC/B,GAAM,CAAEP,qBAAAA,CAAAA,CAAsB,CAAGF,EAAWK,GAEtCQ,EAAYd,EAChBe,GAAuCZ,EAAqBa,EAAE,CAAC,SAAUD,GAC1E,CAACZ,EAAqB,EAKvB,OAAOD,EAAqBY,EAFRG,IAAcd,EAAqBkB,KAAK,GAG7D\"}"}