{"code":"function module(n,i,e){var t,o,u,c,r;function a(n){var i,e=!0===t(\"Accounts_EmailVerification\"),a=o(),f=r().t,s=null==n?void 0:null===(i=n.emails)||void 0===i?void 0:i[0],l=u(!1);c(function(){var n=l.current;s&&!0!==s.verified&&e&&!n&&(a({type:\"warning\",message:f(\"core.You_have_not_verified_your_email\")}),l.current=!0)},[s,e,a,f])}e.export({useEmailVerificationWarning:function(){return a}}),e.link(\"@rocket.chat/ui-contexts\",{useSetting:function(n){t=n},useToastMessageDispatch:function(n){o=n}},0),e.link(\"react\",{useRef:function(n){u=n},useEffect:function(n){c=n}},1),e.link(\"react-i18next\",{useTranslation:function(n){r=n}},2)}","map":"{\"version\":3,\"sources\":[\"client/providers/UserProvider/hooks/useEmailVerificationWarning.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IUser } from '@rocket.chat/core-typings';\\nimport { useSetting, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport { useRef, useEffect } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nexport function useEmailVerificationWarning(user: IUser | undefined) {\\n\\tconst emailVerificationEnabled = useSetting<boolean>('Accounts_EmailVerification') === true;\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst { t } = useTranslation();\\n\\n\\tconst mainEmail = user?.emails?.[0];\\n\\tconst warnedRef = useRef(false);\\n\\n\\tuseEffect(() => {\\n\\t\\tconst { current: warned } = warnedRef;\\n\\t\\tif (mainEmail && mainEmail.verified !== true && emailVerificationEnabled && !warned) {\\n\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\ttype: 'warning',\\n\\t\\t\\t\\tmessage: t('core.You_have_not_verified_your_email'),\\n\\t\\t\\t});\\n\\t\\t\\twarnedRef.current = true;\\n\\t\\t}\\n\\t}, [mainEmail, emailVerificationEnabled, dispatchToastMessage, t]);\\n}\\n\",null],\"names\":[\"useSetting\",\"useToastMessageDispatch\",\"useRef\",\"useEffect\",\"useTranslation\",\"useEmailVerificationWarning\",\"user\",\"_user$emails\",\"emailVerificationEnabled\",\"dispatchToastMessage\",\"t\",\"_useTranslation\",\"mainEmail\",\"emails\",\"warnedRef\",\"warned\",\"current\",\"verified\",\"type\",\"message\",\"module\",\"export\",\"link\",\"v\"],\"mappings\":\"2BAC+EA,EAAAC,EAAAC,EAAAC,EAAAC,EAIzE,SAAUC,EAA4BC,CAAuB,EAClE,IADkEC,EAC5DC,EAA2BR,AAAsD,CAAA,IAAtDA,EAAoB,8BAC/CS,EAAuBR,IACrBS,EAACC,AAAKP,IAANM,CAAC,CAEHE,EAAYN,MAAAA,EAAI,KAAA,EAAA,AAAQ,OAARC,CAAAA,EAAJD,EAAMO,MAAM,AAANA,GAAMN,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAZA,CAAA,CAAe,EAAE,CAC7BO,EAAYZ,EAAO,CAAA,GAEzBC,EAAU,WACT,IAAiBY,EAAWD,EAApBE,OAAO,CACXJ,GAAaA,AAAuB,CAAA,IAAvBA,EAAUK,QAAQ,EAAaT,GAA4B,CAACO,IAC5EN,EAAqB,CACpBS,KAAM,UACNC,QAAST,EAAE,2CAEZI,EAAUE,OAAO,CAAG,CAAA,EAEtB,EAAG,CAACJ,EAAWJ,EAA0BC,EAAsBC,EAAE,CAClE,CAtBAU,EAAOC,MAAE,CAAA,CAAAhB,4BAAY,WAA+B,OAAAA,CAA2B,CAAA,GAAAe,EAAAE,IAAA,CAAA,2BAAA,CAAAtB,WAAA,SAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,EAAAtB,wBAAA,SAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,CAAA,EAAA,GAAAH,EAAAE,IAAA,CAAA,QAAA,CAAApB,OAAA,SAAAqB,CAAA,EAAArB,EAAAqB,CAAA,EAAApB,UAAA,SAAAoB,CAAA,EAAApB,EAAAoB,CAAA,CAAA,EAAA,GAAAH,EAAAE,IAAA,CAAA,gBAAA,CAAAlB,eAAA,SAAAmB,CAAA,EAAAnB,EAAAmB,CAAA,CAAA,EAAA\"}"}