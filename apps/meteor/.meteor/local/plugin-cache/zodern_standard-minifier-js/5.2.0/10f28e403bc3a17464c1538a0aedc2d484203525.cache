{"code":"function module(e,n,t){var o,i,r,u,c,l,a,s,f,m,k,d;t.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){o=e}},0),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){i=e}},1),t.link(\"@rocket.chat/fuselage\",{ButtonGroup:function(e){r=e},IconButton:function(e){u=e},Skeleton:function(e){c=e}},0),t.link(\"@rocket.chat/ui-client\",{GenericMenu:function(e){l=e}},1),t.link(\"react\",{default:function(e){a=e},useMemo:function(e){s=e}},2),t.link(\"react-i18next\",{useTranslation:function(e){f=e}},3),t.link(\"../../../../components/UserInfo\",{UserInfoAction:function(e){m=e}},4),t.link(\"../../../hooks/useMemberExists\",{useMemberExists:function(e){k=e}},5),t.link(\"../../hooks/useUserInfoActions\",{useUserInfoActions:function(e){d=e}},6),t.exportDefault(function(e){var n=e.user,t=e.rid,b=e.backToList,h=f().t,E=k({roomId:t,username:n.username}),I=E.data,U=E.refetch,p=E.isSuccess,M=E.isLoading,x=p&&(null==I?void 0:I.isMember),A=n._id,y=n.username,g=n.name,v=n.freeSwitchExtension,S=d({rid:t,user:{_id:A,username:y,name:g,freeSwitchExtension:v},size:3,isMember:x,reload:function(){null==b||b(),U()}}),w=S.actions,B=S.menuActions,C=s(function(){return null!=B&&B.length?a.createElement(l,{button:a.createElement(u,{icon:\"kebab\",secondary:!0}),title:h(\"More\"),key:\"menu\",\"data-qa-id\":\"UserUserInfo-menu\",sections:B,placement:\"bottom-end\",small:!1,\"data-qa\":\"UserUserInfo-menu\"}):null},[B,h]),T=s(function(){return[].concat(o(w.map(function(e){var n=i(e,2),t=n[0],o=n[1],r=o.content,u=o.title,c=o.icon,l=o.onClick;return a.createElement(m,{key:t,title:u,label:r,onClick:l,icon:c})})),[C]).filter(Boolean)},[w,C]);return M?a.createElement(c,{w:\"full\"}):a.createElement(r,{align:\"center\"},T)})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/UserInfo/UserInfoActions.tsx\",\"<anon>\"],\"sourcesContent\":[\"/* eslint-disable react/display-name, react/no-multi-comp */\\nimport type { IRoom, IUser } from '@rocket.chat/core-typings';\\nimport { ButtonGroup, IconButton, Skeleton } from '@rocket.chat/fuselage';\\nimport { GenericMenu } from '@rocket.chat/ui-client';\\nimport type { ReactElement } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { UserInfoAction } from '../../../../components/UserInfo';\\nimport { useMemberExists } from '../../../hooks/useMemberExists';\\nimport { useUserInfoActions } from '../../hooks/useUserInfoActions';\\n\\ntype UserInfoActionsProps = {\\n\\tuser: Pick<IUser, '_id' | 'username' | 'name' | 'freeSwitchExtension'>;\\n\\trid: IRoom['_id'];\\n\\tbackToList?: () => void;\\n};\\n\\nconst UserInfoActions = ({ user, rid, backToList }: UserInfoActionsProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst {\\n\\t\\tdata: isMemberData,\\n\\t\\trefetch,\\n\\t\\tisSuccess: membershipCheckSuccess,\\n\\t\\tisLoading,\\n\\t} = useMemberExists({ roomId: rid, username: user.username as string });\\n\\n\\tconst isMember = membershipCheckSuccess && isMemberData?.isMember;\\n\\tconst { _id: userId, username, name, freeSwitchExtension } = user;\\n\\n\\tconst { actions: actionsDefinition, menuActions: menuOptions } = useUserInfoActions({\\n\\t\\trid,\\n\\t\\tuser: { _id: userId, username, name, freeSwitchExtension },\\n\\t\\tsize: 3,\\n\\t\\tisMember,\\n\\t\\treload: () => {\\n\\t\\t\\tbackToList?.();\\n\\t\\t\\trefetch();\\n\\t\\t},\\n\\t});\\n\\n\\tconst menu = useMemo(() => {\\n\\t\\tif (!menuOptions?.length) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\treturn (\\n\\t\\t\\t<GenericMenu\\n\\t\\t\\t\\tbutton={<IconButton icon='kebab' secondary />}\\n\\t\\t\\t\\ttitle={t('More')}\\n\\t\\t\\t\\tkey='menu'\\n\\t\\t\\t\\tdata-qa-id='UserUserInfo-menu'\\n\\t\\t\\t\\tsections={menuOptions}\\n\\t\\t\\t\\tplacement='bottom-end'\\n\\t\\t\\t\\tsmall={false}\\n\\t\\t\\t\\tdata-qa='UserUserInfo-menu'\\n\\t\\t\\t/>\\n\\t\\t);\\n\\t}, [menuOptions, t]);\\n\\n\\t// TODO: sanitize Action type to avoid any\\n\\tconst actions = useMemo(() => {\\n\\t\\tconst mapAction = ([key, { content, title, icon, onClick }]: any): ReactElement => (\\n\\t\\t\\t<UserInfoAction key={key} title={title} label={content} onClick={onClick} icon={icon} />\\n\\t\\t);\\n\\n\\t\\treturn [...actionsDefinition.map(mapAction), menu].filter(Boolean);\\n\\t}, [actionsDefinition, menu]);\\n\\n\\tif (isLoading) {\\n\\t\\treturn <Skeleton w='full' />;\\n\\t}\\n\\treturn <ButtonGroup align='center'>{actions}</ButtonGroup>;\\n};\\n\\nexport default UserInfoActions;\\n\",null],\"names\":[\"_toConsumableArray\",\"_slicedToArray\",\"ButtonGroup\",\"IconButton\",\"Skeleton\",\"GenericMenu\",\"React\",\"useMemo\",\"useTranslation\",\"UserInfoAction\",\"useMemberExists\",\"useUserInfoActions\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"user\",\"rid\",\"backToList\",\"t\",\"_useTranslation\",\"_useMemberExists\",\"roomId\",\"username\",\"isMemberData\",\"data\",\"refetch\",\"membershipCheckSuccess\",\"isSuccess\",\"isLoading\",\"isMember\",\"userId\",\"_id\",\"name\",\"freeSwitchExtension\",\"_useUserInfoActions\",\"size\",\"reload\",\"actionsDefinition\",\"actions\",\"menuOptions\",\"menuActions\",\"menu\",\"length\",\"createElement\",\"button\",\"icon\",\"secondary\",\"title\",\"key\",\"sections\",\"placement\",\"small\",\"concat\",\"map\",\"_ref2\",\"_ref3\",\"_ref3$\",\"content\",\"onClick\",\"label\",\"filter\",\"Boolean\",\"w\",\"align\"],\"mappings\":\"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\"}"}