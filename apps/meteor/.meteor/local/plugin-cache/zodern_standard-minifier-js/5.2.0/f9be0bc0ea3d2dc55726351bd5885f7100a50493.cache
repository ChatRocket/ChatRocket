{"code":"function module(e,n,t){var r,i,l,a,o,u,c;function m(e){var n=i({},(r(e),e));if(n.msg){n.msg=u(n.msg),delete n.mentions;var t=n.msg?a(n.msg,{emoticons:!0}):void 0;return t?o.createElement(c,null,o.createElement(l,{tokens:t})):null}if(n.attachments){var m=n.attachments.find(function(e){return e.title||e.description});if(null!=m&&m.description)return o.createElement(o.Fragment,null,m.description);if(null!=m&&m.title)return o.createElement(o.Fragment,null,m.title)}return null}t.link(\"@babel/runtime/helpers/objectDestructuringEmpty\",{default:function(e){r=e}},0),t.link(\"@babel/runtime/helpers/extends\",{default:function(e){i=e}},1),t.export({normalizeThreadMessage:function(){return m}}),t.link(\"@rocket.chat/gazzodown\",{Markup:function(e){l=e}},0),t.link(\"@rocket.chat/message-parser\",{parse:function(e){a=e}},1),t.link(\"react\",{default:function(e){o=e}},2),t.link(\"../../app/markdown/lib/markdown\",{filterMarkdown:function(e){u=e}},3),t.link(\"../components/GazzodownText\",{default:function(e){c=e}},4)}","map":"{\"version\":3,\"sources\":[\"client/lib/normalizeThreadMessage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { Markup } from '@rocket.chat/gazzodown';\\nimport { parse } from '@rocket.chat/message-parser';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\n\\nimport { filterMarkdown } from '../../app/markdown/lib/markdown';\\nimport GazzodownText from '../components/GazzodownText';\\n\\nexport function normalizeThreadMessage({ ...message }: Readonly<Pick<IMessage, 'msg' | 'mentions' | 'attachments'>>): ReactElement | null {\\n\\tif (message.msg) {\\n\\t\\tmessage.msg = filterMarkdown(message.msg);\\n\\t\\tdelete message.mentions;\\n\\n\\t\\tconst tokens = message.msg ? parse(message.msg, { emoticons: true }) : undefined;\\n\\n\\t\\tif (!tokens) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\treturn (\\n\\t\\t\\t<GazzodownText>\\n\\t\\t\\t\\t<Markup tokens={tokens} />\\n\\t\\t\\t</GazzodownText>\\n\\t\\t);\\n\\t}\\n\\n\\tif (message.attachments) {\\n\\t\\tconst attachment = message.attachments.find((attachment) => attachment.title || attachment.description);\\n\\n\\t\\tif (attachment?.description) {\\n\\t\\t\\treturn <>{attachment.description}</>;\\n\\t\\t}\\n\\n\\t\\tif (attachment?.title) {\\n\\t\\t\\treturn <>{attachment.title}</>;\\n\\t\\t}\\n\\t}\\n\\n\\treturn null;\\n}\\n\",null],\"names\":[\"_objectDestructuringEmpty\",\"_extends\",\"Markup\",\"parse\",\"React\",\"filterMarkdown\",\"GazzodownText\",\"normalizeThreadMessage\",\"_ref\",\"message\",\"msg\",\"mentions\",\"tokens\",\"emoticons\",\"undefined\",\"createElement\",\"attachments\",\"attachment\",\"find\",\"title\",\"description\",\"Fragment\",\"module\",\"link\",\"default\",\"v\",\"export\"],\"mappings\":\"2BACAA,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAQ1C,SAAUC,EAAsBC,CAAA,EAA6E,IAAvEC,EAAOR,EAAA,CAAA,EAAAD,CAAAA,EAAAQ,GAAAA,CAAAA,GAClD,GAAIC,EAAQC,GAAG,CAAE,CAChBD,EAAQC,GAAG,CAAGL,EAAeI,EAAQC,GAAG,EACxC,OAAOD,EAAQE,QAAQ,CAEvB,IAAMC,EAASH,EAAQC,GAAG,CAAGP,EAAMM,EAAQC,GAAG,CAAE,CAAEG,UAAW,CAAA,CAAI,GAAMC,KAAAA,SAEvE,AAAKF,EAKJR,EAAAW,aAAA,CAACT,EAAa,KACbF,EAAAW,aAAA,CAACb,EAAM,CAACU,OAAQA,CAAO,IALjB,IAQT,CAEA,GAAIH,EAAQO,WAAW,CAAE,CACxB,IAAMC,EAAaR,EAAQO,WAAW,CAACE,IAAI,CAAC,SAACD,CAAU,EAAA,OAAKA,EAAWE,KAAK,EAAIF,EAAWG,WAAW,GAEtG,GAAIH,MAAAA,GAAAA,EAAYG,WAAW,CAC1B,OAAOhB,EAAAW,aAAA,CAAAX,EAAAiB,QAAA,CAAA,KAAGJ,EAAWG,WAAY,EAGlC,GAAIH,MAAAA,GAAAA,EAAYE,KAAK,CACpB,OAAOf,EAAAW,aAAA,CAAAX,EAAAiB,QAAA,CAAA,KAAGJ,EAAWE,KAAM,CAE7B,CAEA,OAAO,IACR,CAvCuBG,EAAAC,IAAA,CAAA,kDAAyB,CAAAC,QAAA,SAAAC,CAAA,EAAAzB,EAAAyB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAxB,EAAAwB,CAAA,CAAA,EAAA,GAAhDH,EAAOI,MAAE,CAAA,CAAMnB,uBAAQ,WAAyB,OAAAA,CAAA,CAAA,GAAAe,EAAAC,IAAA,CAAA,yBAAA,CAAArB,OAAA,SAAAuB,CAAA,EAAAvB,EAAAuB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAApB,MAAA,SAAAsB,CAAA,EAAAtB,EAAAsB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAArB,EAAAqB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,kCAAA,CAAAlB,eAAA,SAAAoB,CAAA,EAAApB,EAAAoB,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAA,QAAA,SAAAE,CAAA,EAAAnB,EAAAmB,CAAA,CAAA,EAAA\"}"}