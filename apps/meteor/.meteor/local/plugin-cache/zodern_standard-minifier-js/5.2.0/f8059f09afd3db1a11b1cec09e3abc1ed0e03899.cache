{"code":"function module(e,t,n){let l,a,o,r,c,i,m,u,s,h,E,C,k,b,p,d,x,f,g,S,T,w,_,A,F;n.link(\"@rocket.chat/fuselage\",{Box(e){l=e},Icon(e){a=e},TextInput(e){o=e},Select(e){r=e},Throbber(e){c=e},ButtonGroup(e){i=e},Button(e){m=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){u=e},useAutoFocus(e){s=e},useDebouncedCallback(e){h=e}},1),n.link(\"react\",{default(e){E=e},useMemo(e){C=e}},2),n.link(\"react-i18next\",{useTranslation(e){k=e}},3),n.link(\"react-virtuoso\",{Virtuoso(e){b=e}},4),n.link(\"../../../../components/Contextualbar\",{ContextualbarHeader(e){p=e},ContextualbarIcon(e){d=e},ContextualbarTitle(e){x=e},ContextualbarClose(e){f=e},ContextualbarContent(e){g=e},ContextualbarFooter(e){S=e},ContextualbarEmptyContent(e){T=e},ContextualbarSection(e){w=e}},5),n.link(\"../../../../components/CustomScrollbars\",{VirtuosoScrollbars(e){_=e}},6),n.link(\"../../../../components/InfiniteListAnchor\",{default(e){A=e}},7),n.link(\"./TeamsChannelItem\",{default(e){F=e}},8),n.exportDefault(e=>{let{loading:t,channels:n=[],mainRoom:I,text:v,type:M,setText:B,setType:V,onClickClose:y,onClickAddExisting:z,onClickCreateNew:D,total:j,loadMoreItems:G,onClickView:H,reload:J}=e,{t:L}=k(),N=s(!0),R=C(()=>[[\"all\",L(\"All\")],[\"autoJoin\",L(\"Team_Auto-join\")]],[L]),q=u(e=>!t&&G(e,Math.min(50,j-e))),K=h(()=>{n.length>=j||q(n.length)},300,[q,n]);return E.createElement(E.Fragment,null,E.createElement(p,null,E.createElement(d,{name:\"hash\"}),E.createElement(x,null,L(\"Team_Channels\")),y&&E.createElement(f,{onClick:y})),E.createElement(w,null,E.createElement(o,{placeholder:L(\"Search\"),value:v,ref:N,onChange:B,addon:E.createElement(a,{name:\"magnifier\",size:\"x20\"})}),E.createElement(l,{w:\"x144\",mis:8},E.createElement(r,{onChange:e=>V(e),value:M,options:R}))),E.createElement(g,{p:12},t&&E.createElement(l,{pi:24,pb:12},E.createElement(c,{size:\"x12\"})),!t&&0===n.length&&E.createElement(T,{title:L(\"No_channels_in_team\")}),!t&&n.length>0&&E.createElement(E.Fragment,null,E.createElement(l,{pi:18,pb:12},E.createElement(l,{is:\"span\",color:\"hint\",fontScale:\"p2\"},L(\"Showing\"),\": \",n.length),E.createElement(l,{is:\"span\",color:\"hint\",fontScale:\"p2\",mis:8},L(\"Total\"),\": \",j)),E.createElement(l,{w:\"full\",h:\"full\",role:\"list\",overflow:\"hidden\",flexShrink:1},E.createElement(b,{totalCount:j,data:n,components:{Scroller:_,Footer:()=>E.createElement(A,{loadMore:K})},itemContent:(e,t)=>E.createElement(F,{onClickView:H,room:t,mainRoom:I,reload:J,key:e})})))),(z||D)&&E.createElement(S,null,E.createElement(i,{stretch:!0},z&&E.createElement(m,{onClick:z,width:\"50%\"},L(\"Team_Add_existing\")),D&&E.createElement(m,{onClick:D,width:\"50%\"},L(\"Create_new\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/teams/contextualBar/channels/TeamsChannels.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Box, Icon, TextInput, Select, Throbber, ButtonGroup, Button } from '@rocket.chat/fuselage';\\nimport { useMutableCallback, useAutoFocus, useDebouncedCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { ChangeEvent, Dispatch, SetStateAction, SyntheticEvent } from 'react';\\nimport React, { useMemo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\nimport { Virtuoso } from 'react-virtuoso';\\n\\nimport {\\n\\tContextualbarHeader,\\n\\tContextualbarIcon,\\n\\tContextualbarTitle,\\n\\tContextualbarClose,\\n\\tContextualbarContent,\\n\\tContextualbarFooter,\\n\\tContextualbarEmptyContent,\\n\\tContextualbarSection,\\n} from '../../../../components/Contextualbar';\\nimport { VirtuosoScrollbars } from '../../../../components/CustomScrollbars';\\nimport InfiniteListAnchor from '../../../../components/InfiniteListAnchor';\\nimport TeamsChannelItem from './TeamsChannelItem';\\n\\ntype TeamsChannelsProps = {\\n\\tloading: boolean;\\n\\tchannels: IRoom[];\\n\\tmainRoom: IRoom;\\n\\ttext: string;\\n\\ttype: 'all' | 'autoJoin';\\n\\tsetType: Dispatch<SetStateAction<'all' | 'autoJoin'>>;\\n\\tsetText: (e: ChangeEvent<HTMLInputElement>) => void;\\n\\tonClickClose: () => void;\\n\\tonClickAddExisting: false | ((e: SyntheticEvent) => void);\\n\\tonClickCreateNew: false | ((e: SyntheticEvent) => void);\\n\\ttotal: number;\\n\\tloadMoreItems: (start: number, end: number) => void;\\n\\tonClickView: (room: IRoom) => void;\\n\\treload: () => void;\\n};\\n\\nconst TeamsChannels = ({\\n\\tloading,\\n\\tchannels = [],\\n\\tmainRoom,\\n\\ttext,\\n\\ttype,\\n\\tsetText,\\n\\tsetType,\\n\\tonClickClose,\\n\\tonClickAddExisting,\\n\\tonClickCreateNew,\\n\\ttotal,\\n\\tloadMoreItems,\\n\\tonClickView,\\n\\treload,\\n}: TeamsChannelsProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst inputRef = useAutoFocus<HTMLInputElement>(true);\\n\\n\\tconst options: SelectOption[] = useMemo(\\n\\t\\t() => [\\n\\t\\t\\t['all', t('All')],\\n\\t\\t\\t['autoJoin', t('Team_Auto-join')],\\n\\t\\t],\\n\\t\\t[t],\\n\\t);\\n\\n\\tconst lm = useMutableCallback((start) => !loading && loadMoreItems(start, Math.min(50, total - start)));\\n\\n\\tconst loadMoreChannels = useDebouncedCallback(\\n\\t\\t() => {\\n\\t\\t\\tif (channels.length >= total) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tlm(channels.length);\\n\\t\\t},\\n\\t\\t300,\\n\\t\\t[lm, channels],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarHeader>\\n\\t\\t\\t\\t<ContextualbarIcon name='hash' />\\n\\t\\t\\t\\t<ContextualbarTitle>{t('Team_Channels')}</ContextualbarTitle>\\n\\t\\t\\t\\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\\n\\t\\t\\t</ContextualbarHeader>\\n\\t\\t\\t<ContextualbarSection>\\n\\t\\t\\t\\t<TextInput placeholder={t('Search')} value={text} ref={inputRef} onChange={setText} addon={<Icon name='magnifier' size='x20' />} />\\n\\t\\t\\t\\t<Box w='x144' mis={8}>\\n\\t\\t\\t\\t\\t<Select onChange={(val) => setType(val as 'all' | 'autoJoin')} value={type} options={options} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</ContextualbarSection>\\n\\t\\t\\t<ContextualbarContent p={12}>\\n\\t\\t\\t\\t{loading && (\\n\\t\\t\\t\\t\\t<Box pi={24} pb={12}>\\n\\t\\t\\t\\t\\t\\t<Throbber size='x12' />\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{!loading && channels.length === 0 && <ContextualbarEmptyContent title={t('No_channels_in_team')} />}\\n\\t\\t\\t\\t{!loading && channels.length > 0 && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t<Box pi={18} pb={12}>\\n\\t\\t\\t\\t\\t\\t\\t<Box is='span' color='hint' fontScale='p2'>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Showing')}: {channels.length}\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\n\\t\\t\\t\\t\\t\\t\\t<Box is='span' color='hint' fontScale='p2' mis={8}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Total')}: {total}\\n\\t\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t\\t<Box w='full' h='full' role='list' overflow='hidden' flexShrink={1}>\\n\\t\\t\\t\\t\\t\\t\\t<Virtuoso\\n\\t\\t\\t\\t\\t\\t\\t\\ttotalCount={total}\\n\\t\\t\\t\\t\\t\\t\\t\\tdata={channels}\\n\\t\\t\\t\\t\\t\\t\\t\\t// eslint-disable-next-line react/no-multi-comp\\n\\t\\t\\t\\t\\t\\t\\t\\tcomponents={{ Scroller: VirtuosoScrollbars, Footer: () => <InfiniteListAnchor loadMore={loadMoreChannels} /> }}\\n\\t\\t\\t\\t\\t\\t\\t\\titemContent={(index, data) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<TeamsChannelItem onClickView={onClickView} room={data} mainRoom={mainRoom} reload={reload} key={index} />\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</ContextualbarContent>\\n\\t\\t\\t{(onClickAddExisting || onClickCreateNew) && (\\n\\t\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t\\t{onClickAddExisting && (\\n\\t\\t\\t\\t\\t\\t\\t<Button onClick={onClickAddExisting} width='50%'>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Team_Add_existing')}\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t{onClickCreateNew && (\\n\\t\\t\\t\\t\\t\\t\\t<Button onClick={onClickCreateNew} width='50%'>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Create_new')}\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t</ContextualbarFooter>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default TeamsChannels;\\n\",null],\"names\":[\"Box\",\"Icon\",\"TextInput\",\"Select\",\"Throbber\",\"ButtonGroup\",\"Button\",\"useMutableCallback\",\"useAutoFocus\",\"useDebouncedCallback\",\"React\",\"useMemo\",\"useTranslation\",\"Virtuoso\",\"ContextualbarHeader\",\"ContextualbarIcon\",\"ContextualbarTitle\",\"ContextualbarClose\",\"ContextualbarContent\",\"ContextualbarFooter\",\"ContextualbarEmptyContent\",\"ContextualbarSection\",\"VirtuosoScrollbars\",\"InfiniteListAnchor\",\"TeamsChannelItem\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"loading\",\"channels\",\"mainRoom\",\"text\",\"type\",\"setText\",\"setType\",\"onClickClose\",\"onClickAddExisting\",\"onClickCreateNew\",\"total\",\"loadMoreItems\",\"onClickView\",\"reload\",\"t\",\"inputRef\",\"options\",\"lm\",\"start\",\"Math\",\"min\",\"loadMoreChannels\",\"length\",\"createElement\",\"Fragment\",\"name\",\"onClick\",\"placeholder\",\"value\",\"ref\",\"onChange\",\"addon\",\"size\",\"w\",\"mis\",\"val\",\"p\",\"pi\",\"pb\",\"title\",\"is\",\"color\",\"fontScale\",\"h\",\"role\",\"overflow\",\"flexShrink\",\"totalCount\",\"data\",\"components\",\"Scroller\",\"Footer\",\"loadMore\",\"itemContent\",\"index\",\"room\",\"key\",\"stretch\",\"width\"],\"mappings\":\"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\"}"}