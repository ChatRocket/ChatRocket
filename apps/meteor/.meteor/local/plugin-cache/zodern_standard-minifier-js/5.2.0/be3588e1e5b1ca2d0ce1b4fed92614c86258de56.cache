{"code":"function module(e,n,t){var o,c,i,r,s,a,l,u,m;t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},Modal:function(e){c=e}},0),t.link(\"@rocket.chat/ui-client\",{ExternalLink:function(e){i=e}},1),t.link(\"react\",{default:function(e){r=e}},2),t.link(\"react-i18next\",{Trans:function(e){s=e},useTranslation:function(e){a=e}},3),t.link(\"../../../../components/GenericModal\",{default:function(e){l=e}},4),t.link(\"../../../../lib/toast\",{dispatchToastMessage:function(e){u=e}},5),t.link(\"../../hooks/useE2EEResetRoomKey\",{useE2EEResetRoomKey:function(e){m=e}},6),t.exportDefault(function(e){var n=e.roomType,t=e.roomId,y=e.onCancel,E=a().t,f=m();return r.createElement(l,{icon:r.createElement(c.Icon,{color:\"danger\",name:\"key\"}),title:E(\"E2E_reset_encryption_keys\"),variant:\"danger\",confirmText:E(\"E2E_reset_encryption_keys\"),dontAskAgain:r.createElement(c.FooterAnnotation,null,E(\"This_action_cannot_be_undone\")),onCancel:y,onConfirm:function(){f.mutate({roomId:t},{onSuccess:function(){u({type:\"success\",message:E(\"E2E_reset_encryption_keys_success\")})},onError:function(){u({type:\"error\",message:E(\"E2E_reset_encryption_keys_error\")})},onSettled:function(){y()}})},onDismiss:function(){}},r.createElement(o,{mbe:16,is:\"p\"},r.createElement(s,{i18nKey:\"E2E_reset_encryption_keys_modal_description\",tOptions:{roomType:n}},\"Resetting E2EE keys is only recommend if no \",n,\" member has a valid key to regain access to the previously encrypted content. All members may lose access to previously encrypted content.\",r.createElement(i,{to:\"https://go.rocket.chat/i/e2ee-guide\"},\"Learn more\"),\" about resetting encryption keys. Proceed with caution.\")))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/modals/E2EEModals/ResetKeysE2EEModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Modal } from '@rocket.chat/fuselage';\\nimport { ExternalLink } from '@rocket.chat/ui-client';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { Trans, useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../../components/GenericModal';\\nimport { dispatchToastMessage } from '../../../../lib/toast';\\nimport { useE2EEResetRoomKey } from '../../hooks/useE2EEResetRoomKey';\\n\\nconst E2EE_RESET_KEY_LINK = 'https://go.rocket.chat/i/e2ee-guide';\\n\\ntype ResetKeysE2EEModalProps = {\\n\\troomType: string;\\n\\troomId: string;\\n\\tonCancel: () => void;\\n};\\n\\nconst ResetKeysE2EEModal = ({ roomType, roomId, onCancel }: ResetKeysE2EEModalProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst resetRoomKeyMutation = useE2EEResetRoomKey();\\n\\n\\tconst handleResetRoomKey = () => {\\n\\t\\tresetRoomKeyMutation.mutate(\\n\\t\\t\\t{ roomId },\\n\\t\\t\\t{\\n\\t\\t\\t\\tonSuccess: () => {\\n\\t\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('E2E_reset_encryption_keys_success') });\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tonError: () => {\\n\\t\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('E2E_reset_encryption_keys_error') });\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tonSettled: () => {\\n\\t\\t\\t\\t\\tonCancel();\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t);\\n\\t};\\n\\n\\treturn (\\n\\t\\t<GenericModal\\n\\t\\t\\ticon={<Modal.Icon color='danger' name='key' />}\\n\\t\\t\\ttitle={t('E2E_reset_encryption_keys')}\\n\\t\\t\\tvariant='danger'\\n\\t\\t\\tconfirmText={t('E2E_reset_encryption_keys')}\\n\\t\\t\\tdontAskAgain={<Modal.FooterAnnotation>{t('This_action_cannot_be_undone')}</Modal.FooterAnnotation>}\\n\\t\\t\\tonCancel={onCancel}\\n\\t\\t\\tonConfirm={handleResetRoomKey}\\n\\t\\t\\tonDismiss={() => undefined}\\n\\t\\t>\\n\\t\\t\\t<Box mbe={16} is='p'>\\n\\t\\t\\t\\t<Trans i18nKey='E2E_reset_encryption_keys_modal_description' tOptions={{ roomType }}>\\n\\t\\t\\t\\t\\tResetting E2EE keys is only recommend if no {roomType} member has a valid key to regain access to the previously encrypted\\n\\t\\t\\t\\t\\tcontent. All members may lose access to previously encrypted content.\\n\\t\\t\\t\\t\\t<ExternalLink to={E2EE_RESET_KEY_LINK}>Learn more</ExternalLink> about resetting encryption keys. Proceed with caution.\\n\\t\\t\\t\\t</Trans>\\n\\t\\t\\t</Box>\\n\\t\\t</GenericModal>\\n\\t);\\n};\\n\\nexport default ResetKeysE2EEModal;\\n\",null],\"names\":[\"Box\",\"Modal\",\"ExternalLink\",\"React\",\"Trans\",\"useTranslation\",\"GenericModal\",\"dispatchToastMessage\",\"useE2EEResetRoomKey\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"roomType\",\"roomId\",\"onCancel\",\"t\",\"_useTranslation\",\"resetRoomKeyMutation\",\"createElement\",\"icon\",\"Icon\",\"color\",\"name\",\"title\",\"variant\",\"confirmText\",\"dontAskAgain\",\"FooterAnnotation\",\"onConfirm\",\"mutate\",\"onSuccess\",\"type\",\"message\",\"onError\",\"onSettled\",\"onDismiss\",\"mbe\",\"is\",\"i18nKey\",\"tOptions\",\"to\"],\"mappings\":\"uBAUA,IAVAA,EAAOC,EAA4CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAArCC,EAAOC,IAAA,CAAA,wBAA6B,CAACV,IAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,MAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yBAAA,CAAAR,aAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAN,MAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,eAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,sCAAA,CAAA,QAAA,SAAAC,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAH,qBAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,kCAAA,CAAAF,oBAAA,SAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAnDF,EAAOG,aAAY,CAkBQ,SAAAC,CAAA,EAA0E,IAAvEC,EAAQD,EAARC,QAAQ,CAAEC,EAAMF,EAANE,MAAM,CAAEC,EAAQH,EAARG,QAAQ,CAC/CC,EAACC,AAAKb,IAANY,CAAC,CACHE,EAAuBX,IAmB7B,OACCL,EAAAiB,aAAA,CAACd,EAAY,CACZe,KAAMlB,EAAAiB,aAAA,CAACnB,EAAMqB,IAAI,CAAA,CAACC,MAAM,SAASC,KAAK,KAAK,GAC3CC,MAAOR,EAAE,6BACTS,QAAQ,SACRC,YAAaV,EAAE,6BACfW,aAAczB,EAAAiB,aAAA,CAACnB,EAAM4B,gBAAgB,CAAA,KAAEZ,EAAE,iCACzCD,SAAUA,EACVc,UAzByB,WAC1BX,EAAqBY,MAAM,CAC1B,CAAEhB,OAAAA,CAAM,EACR,CACCiB,UAAW,WACVzB,EAAqB,CAAE0B,KAAM,UAAWC,QAASjB,EAAE,oCAAoC,EACxF,EACAkB,QAAS,WACR5B,EAAqB,CAAE0B,KAAM,QAASC,QAASjB,EAAE,kCAAkC,EACpF,EACAmB,UAAW,WACVpB,GACD,GAGH,EAWEqB,UAAW,WAAe,CAAC,EAE3BlC,EAAAiB,aAAA,CAACpB,EAAG,CAACsC,IAAK,GAAIC,GAAG,GAAG,EACnBpC,EAAAiB,aAAA,CAAChB,EAAK,CAACoC,QAAQ,8CAA8CC,SAAU,CAAE3B,SAAAA,CAAQ,CAAG,EACnF,+CAA6CA,EAAU,6IAEvDX,EAAAiB,aAAA,CAAClB,EAAY,CAACwC,GA5CS,qCA4Ce,EAAC,cAA0B,4DAKtE\"}"}