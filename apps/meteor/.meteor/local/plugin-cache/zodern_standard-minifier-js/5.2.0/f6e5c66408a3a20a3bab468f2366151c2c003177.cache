{"code":"function module(e,t,n){n.export({useUpdateAvatar:function(){return i}}),n.link(\"@rocket.chat/ui-contexts\",{useUserId:function(e){u=e},useStream:function(e){r=e}},0),n.link(\"meteor/meteor\",{Meteor:function(e){a=e}},1),n.link(\"react\",{useEffect:function(e){o=e}},2);var u,r,a,o,i=function(){var e=r(\"notify-logged\"),t=u();o(function(){if(t)return e(\"updateAvatar\",function(e){if(\"username\"in e){var t=e.username,n=e.etag;t&&a.users.update({username:t},{$set:{avatarETag:n}})}})},[e,t])}}","map":"{\"version\":3,\"sources\":[\"client/providers/UserProvider/hooks/useUpdateAvatar.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useUserId, useStream } from '@rocket.chat/ui-contexts';\\nimport { Meteor } from 'meteor/meteor';\\nimport { useEffect } from 'react';\\n\\nexport const useUpdateAvatar = () => {\\n\\tconst notify = useStream('notify-logged');\\n\\tconst uid = useUserId();\\n\\tuseEffect(() => {\\n\\t\\tif (!uid) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\treturn notify('updateAvatar', (data) => {\\n\\t\\t\\tif ('username' in data) {\\n\\t\\t\\t\\tconst { username, etag } = data;\\n\\t\\t\\t\\tusername && Meteor.users.update({ username }, { $set: { avatarETag: etag } });\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}, [notify, uid]);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"useUpdateAvatar\",\"link\",\"useUserId\",\"v\",\"useStream\",\"Meteor\",\"useEffect\",\"notify\",\"uid\",\"data\",\"username\",\"etag\",\"users\",\"update\",\"$set\",\"avatarETag\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,gBAAsB,WAAM,OAAAA,CAA2B,CAAA,GAAAF,EAAAG,IAAA,CAAA,2BAAA,CAAAC,UAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,EAAAC,UAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,gBAAA,CAAAI,OAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,QAAA,CAAAK,UAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAIzD,IAJyDD,EAAAE,EAAAC,EAAAC,EAInDN,EAAkB,WAC9B,IAAMO,EAASH,EAAU,iBACnBI,EAAMN,IACZI,EAAU,WACT,GAAKE,EAGL,OAAOD,EAAO,eAAgB,SAACE,CAAI,EAClC,GAAI,aAAcA,EAAM,CACvB,IAAQC,EAAmBD,EAAnBC,QAAQ,CAAEC,EAASF,EAATE,IAAI,AACtBD,CAAAA,GAAYL,EAAOO,KAAK,CAACC,MAAM,CAAC,CAAEH,SAAAA,CAAQ,EAAI,CAAEI,KAAM,CAAEC,WAAYJ,CAAI,CAAE,EAC3E,CACD,EACD,EAAG,CAACJ,EAAQC,EAAI,CACjB\"}"}