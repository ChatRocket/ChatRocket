{"code":"function module(e,n,t){var l,o,i,r,c,u,a,m,s,f,d;t.link(\"@babel/runtime/regenerator\",{default:function(e){l=e}},0),t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},IconButton:function(e){i=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMediaQuery:function(e){r=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(e){c=e},useTranslation:function(e){u=e}},2),t.link(\"react\",{default:function(e){a=e}},3),t.link(\"../../../components/GenericTable\",{GenericTableCell:function(e){m=e},GenericTableRow:function(e){s=e}},4),t.link(\"../../../hooks/useFormatDateAndTime\",{useFormatDateAndTime:function(e){f=e}},5),t.link(\"../../../hooks/useTimeFromNow\",{useTimeFromNow:function(e){d=e}},6),t.exportDefault(function(e){var n,t,k,E=e._id,p=e.createdAt,T=e.expires,h=e.uses,g=e.maxUses,v=e.onRemove,w=u(),x=f(),D=c(\"DELETE\",\"/v1/removeInvite/:_id\",{_id:E}),b=d(!1),F=r(\"(min-width: 768px)\");return a.createElement(s,null,a.createElement(m,null,a.createElement(o,{color:\"hint\",fontScale:\"p2\"},E)),F&&a.createElement(a.Fragment,null,a.createElement(m,null,x(new Date(p))),a.createElement(m,null,(n=T?new Date(T):null)?n&&n.getTime()<new Date().getTime()?w(\"Expired\"):b(n):w(\"Never\")),a.createElement(m,null,h),a.createElement(m,null,g>0?h>=g?0:g-h:w(\"Unlimited\"))),a.createElement(m,null,a.createElement(i,{icon:\"cross\",danger:!0,small:!0,onClick:function(e){return l.async(function(n){for(;;)switch(n.prev=n.next){case 0:e.stopPropagation(),v(function(){return D()});case 2:case\"end\":return n.stop()}},null,null,null,Promise)}})))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/invites/InviteRow.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IInvite } from '@rocket.chat/core-typings';\\nimport { Box, IconButton } from '@rocket.chat/fuselage';\\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement, MouseEvent } from 'react';\\nimport React from 'react';\\n\\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\\nimport { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\\nimport { useTimeFromNow } from '../../../hooks/useTimeFromNow';\\n\\nconst isExpired = (expires: IInvite['expires']): boolean => {\\n\\tif (expires && expires.getTime() < new Date().getTime()) {\\n\\t\\treturn true;\\n\\t}\\n\\n\\treturn false;\\n};\\n\\ntype InviteRowProps = Omit<IInvite, 'createdAt' | 'expires' | '_updatedAt'> & {\\n\\tonRemove: (removeInvite: () => Promise<boolean>) => void;\\n\\t_updatedAt: string;\\n\\tcreatedAt: string;\\n\\texpires: string | null;\\n};\\n\\nconst InviteRow = ({ _id, createdAt, expires, uses, maxUses, onRemove }: InviteRowProps): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst formatDateAndTime = useFormatDateAndTime();\\n\\tconst removeInvite = useEndpoint('DELETE', '/v1/removeInvite/:_id', { _id });\\n\\n\\tconst getTimeFromNow = useTimeFromNow(false);\\n\\n\\tconst daysToExpire = (expires: IInvite['expires']): string => {\\n\\t\\tif (expires) {\\n\\t\\t\\tif (isExpired(expires)) {\\n\\t\\t\\t\\treturn t('Expired');\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn getTimeFromNow(expires);\\n\\t\\t}\\n\\n\\t\\treturn t('Never');\\n\\t};\\n\\n\\tconst maxUsesLeft = (maxUses: IInvite['maxUses'], uses: IInvite['uses']): number | string => {\\n\\t\\tif (maxUses > 0) {\\n\\t\\t\\tif (uses >= maxUses) {\\n\\t\\t\\t\\treturn 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn maxUses - uses;\\n\\t\\t}\\n\\n\\t\\treturn t('Unlimited');\\n\\t};\\n\\n\\tconst handleRemoveButtonClick = async (event: MouseEvent<HTMLElement>): Promise<void> => {\\n\\t\\tevent.stopPropagation();\\n\\t\\tonRemove(() => removeInvite());\\n\\t};\\n\\n\\tconst notSmall = useMediaQuery('(min-width: 768px)');\\n\\n\\treturn (\\n\\t\\t<GenericTableRow>\\n\\t\\t\\t<GenericTableCell>\\n\\t\\t\\t\\t<Box color='hint' fontScale='p2'>\\n\\t\\t\\t\\t\\t{_id}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</GenericTableCell>\\n\\t\\t\\t{notSmall && (\\n\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t<GenericTableCell>{formatDateAndTime(new Date(createdAt))}</GenericTableCell>\\n\\t\\t\\t\\t\\t<GenericTableCell>{daysToExpire(expires ? new Date(expires) : null)}</GenericTableCell>\\n\\t\\t\\t\\t\\t<GenericTableCell>{uses}</GenericTableCell>\\n\\t\\t\\t\\t\\t<GenericTableCell>{maxUsesLeft(maxUses, uses)}</GenericTableCell>\\n\\t\\t\\t\\t</>\\n\\t\\t\\t)}\\n\\t\\t\\t<GenericTableCell>\\n\\t\\t\\t\\t<IconButton icon='cross' danger small onClick={handleRemoveButtonClick} />\\n\\t\\t\\t</GenericTableCell>\\n\\t\\t</GenericTableRow>\\n\\t);\\n};\\n\\nexport default InviteRow;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"Box\",\"IconButton\",\"useMediaQuery\",\"useEndpoint\",\"useTranslation\",\"React\",\"GenericTableCell\",\"GenericTableRow\",\"useFormatDateAndTime\",\"useTimeFromNow\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"expires\",\"maxUses\",\"uses\",\"_id\",\"createdAt\",\"onRemove\",\"t\",\"formatDateAndTime\",\"removeInvite\",\"getTimeFromNow\",\"notSmall\",\"createElement\",\"color\",\"fontScale\",\"Fragment\",\"Date\",\"getTime\",\"icon\",\"danger\",\"small\",\"onClick\",\"event\",\"async\",\"_context\",\"prev\",\"next\",\"stopPropagation\",\"stop\",\"Promise\"],\"mappings\":\"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\"}"}