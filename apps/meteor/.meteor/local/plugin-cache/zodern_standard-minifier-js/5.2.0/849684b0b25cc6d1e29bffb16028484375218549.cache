{"code":"Package[\"core-runtime\"].queue(\"facebook-oauth\",function(){var e,o=Package.meteor.Meteor;Package.meteor.global,Package.meteor.meteorEnv;var a=Package.oauth.OAuth,t=Package.random.Random,n=Package[\"service-configuration\"].ServiceConfiguration,i=Package.modules.meteorInstall;return Package.promise.Promise,{export:function(){return{Facebook:e}},require:i({node_modules:{meteor:{\"facebook-oauth\":{\"facebook_client.js\":function i(){(e={}).requestCredential=(e,i)=>{var c,r,u,s;i||\"function\"!=typeof e||(i=e,e={});let l=n.configurations.findOne({service:\"facebook\"});if(!l){i&&i(new n.ConfigError);return}let d=t.secret(),g=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent),k=\"email\";e&&e.requestPermissions&&(k=e.requestPermissions.join(\",\"));let f=a._loginStyle(\"facebook\",l,e),m=(null===(c=o.settings)||void 0===c?void 0:null===(r=c.public)||void 0===r?void 0:null===(u=r.packages)||void 0===u?void 0:null===(s=u[\"facebook-oauth\"])||void 0===s?void 0:s.apiVersion)||\"17.0\",p=\"https://www.facebook.com/v\".concat(m,\"/dialog/oauth?client_id=\").concat(l.appId)+\"&redirect_uri=\".concat(a._redirectUri(\"facebook\",l,e.params,e.absoluteUrlOptions))+\"&display=\".concat(g?\"touch\":\"popup\",\"&scope=\").concat(k)+\"&state=\".concat(a._stateParam(f,d,e&&e.redirectUrl));e&&e.auth_type&&(p+=\"&auth_type=\".concat(encodeURIComponent(e.auth_type))),a.launchLogin({loginService:\"facebook\",loginStyle:f,loginUrl:p,credentialRequestCompleteCallback:i,credentialToken:d})}}}}}},{extensions:[\".js\",\".json\"]}),eagerModulePaths:[\"/node_modules/meteor/facebook-oauth/facebook_client.js\"]}});","map":"{\"version\":3,\"sources\":[\"packages/facebook-oauth/facebook_client.js\",\"<anon>\"],\"sourcesContent\":[\"Facebook = {};\\n\\n// Request Facebook credentials for the user\\n//\\n// @param options {optional}\\n// @param credentialRequestCompleteCallback {Function} Callback function to call on\\n//   completion. Takes one argument, credentialToken on success, or Error on\\n//   error.\\nFacebook.requestCredential = (options, credentialRequestCompleteCallback) => {\\n  // support both (options, callback) and (callback).\\n  if (!credentialRequestCompleteCallback && typeof options === 'function') {\\n    credentialRequestCompleteCallback = options;\\n    options = {};\\n  }\\n\\n  const config = ServiceConfiguration.configurations.findOne({service: 'facebook'});\\n  if (!config) {\\n    credentialRequestCompleteCallback && credentialRequestCompleteCallback(\\n      new ServiceConfiguration.ConfigError());\\n    return;\\n  }\\n\\n  const credentialToken = Random.secret();\\n  const mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent);\\n  const display = mobile ? 'touch' : 'popup';\\n\\n  let scope = \\\"email\\\";\\n  if (options && options.requestPermissions)\\n    scope = options.requestPermissions.join(',');\\n\\n  const loginStyle = OAuth._loginStyle('facebook', config, options);\\n\\n  const API_VERSION = Meteor.settings?.public?.packages?.['facebook-oauth']?.apiVersion || '17.0';\\n\\n  let loginUrl =\\n      `https://www.facebook.com/v${API_VERSION}/dialog/oauth?client_id=${config.appId}` +\\n      `&redirect_uri=${OAuth._redirectUri('facebook', config, options.params, options.absoluteUrlOptions)}` +\\n      `&display=${display}&scope=${scope}` +\\n      `&state=${OAuth._stateParam(loginStyle, credentialToken, options && options.redirectUrl)}`;\\n\\n  // Handle authentication type (e.g. for force login you need auth_type: \\\"reauthenticate\\\")\\n  if (options && options.auth_type) {\\n    loginUrl += `&auth_type=${encodeURIComponent(options.auth_type)}`;\\n  }\\n\\n  OAuth.launchLogin({\\n    loginService: \\\"facebook\\\",\\n    loginStyle,\\n    loginUrl,\\n    credentialRequestCompleteCallback,\\n    credentialToken,\\n  });\\n};\\n\",null],\"names\":[\"Facebook\",\"requestCredential\",\"options\",\"credentialRequestCompleteCallback\",\"_Meteor$settings\",\"_Meteor$settings$publ\",\"_Meteor$settings$publ2\",\"_Meteor$settings$publ3\",\"config\",\"ServiceConfiguration\",\"configurations\",\"findOne\",\"service\",\"ConfigError\",\"credentialToken\",\"Random\",\"secret\",\"mobile\",\"test\",\"navigator\",\"userAgent\",\"scope\",\"requestPermissions\",\"join\",\"loginStyle\",\"OAuth\",\"_loginStyle\",\"API_VERSION\",\"Meteor\",\"settings\",\"public\",\"packages\",\"apiVersion\",\"loginUrl\",\"concat\",\"appId\",\"_redirectUri\",\"params\",\"absoluteUrlOptions\",\"_stateParam\",\"redirectUrl\",\"auth_type\",\"encodeURIComponent\",\"launchLogin\",\"loginService\"],\"mappings\":\"4aAQAA,AARAA,CAAAA,EAAW,CAAC,CAAA,EAQHC,iBAAiB,CAAG,CAACC,EAASC,KAAsC,IAAAC,EAAAC,EAAAC,EAAAC,EAEtEJ,GAAqC,AAAmB,YAAnB,OAAOD,IAC/CC,EAAoCD,EACpCA,EAAU,CAAC,GAGb,IAAMM,EAASC,EAAqBC,cAAc,CAACC,OAAO,CAAC,CAACC,QAAS,UAAU,GAC/E,GAAI,CAACJ,EAAQ,CACXL,GAAqCA,EACnC,IAAIM,EAAqBI,WAAW,EACtC,MACF,CAEA,IAAMC,EAAkBC,EAAOC,MAAM,GAC/BC,EAAS,2DAA2DC,IAAI,CAACC,UAAUC,SAAS,EAG9FC,EAAQ,QACRnB,GAAWA,EAAQoB,kBAAkB,EACvCD,CAAAA,EAAQnB,EAAQoB,kBAAkB,CAACC,IAAI,CAAC,IAAG,EAE7C,IAAMC,EAAaC,EAAMC,WAAW,CAAC,WAAYlB,EAAQN,GAEnDyB,EAAc,CAAA,AAAe,OAAfvB,CAAAA,EAAAwB,EAAOC,QAAQ,AAARA,GAAQzB,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAA,AAAQ,OAARC,CAAAA,EAAfD,EAAiB0B,MAAM,AAANA,GAAMzB,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAA,AAAU,OAAVC,CAAAA,EAAvBD,EAAyB0B,QAAQ,AAARA,GAAQzB,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAA,AAAoB,OAApBC,CAAAA,EAAjCD,CAAA,CAAoC,iBAAiB,AAAD,GAACC,AAAA,KAAA,IAAAA,EAAA,KAAA,EAArDA,EAAuDyB,UAAU,AAAVA,GAAc,OAErFC,EACA,6BAAAC,MAAA,CAA6BP,EAAW,4BAAAO,MAAA,CAA2B1B,EAAO2B,KAAK,EAAA,iBAAAD,MAAA,CAC9DT,EAAMW,YAAY,CAAC,WAAY5B,EAAQN,EAAQmC,MAAM,CAAEnC,EAAQoC,kBAAkB,GAAG,YAAAJ,MAAA,CAZzFjB,EAAS,QAAU,QAaZ,WAAAiB,MAAA,CAAUb,GAAO,UAAAa,MAAA,CAC1BT,EAAMc,WAAW,CAACf,EAAYV,EAAiBZ,GAAWA,EAAQsC,WAAW,GAGvFtC,GAAWA,EAAQuC,SAAS,EAC9BR,CAAAA,GAAQ,cAAAC,MAAA,CAAkBQ,mBAAmBxC,EAAQuC,SAAS,EAAC,EAGjEhB,EAAMkB,WAAW,CAAC,CAChBC,aAAc,WACdpB,WAAAA,EACAS,SAAAA,EACA9B,kCAAAA,EACAW,gBAAAA,CACF,EACF\"}"}