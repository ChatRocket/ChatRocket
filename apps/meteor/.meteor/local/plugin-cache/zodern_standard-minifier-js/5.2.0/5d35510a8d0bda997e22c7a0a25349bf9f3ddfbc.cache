{"code":"function module(e,t,l){let n,r,c,a,o,i,s,u;l.link(\"@rocket.chat/fuselage\",{Modal(e){n=e},Button(e){r=e},Box(e){c=e},Icon(e){a=e}},0),l.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){o=e}},1),l.link(\"react\",{default(e){i=e}},2),l.link(\"react-hook-form\",{useForm(e){s=e}},3),l.link(\"react-i18next\",{useTranslation(e){u=e}},4);let m=e=>\"VERIFIED\"===e?\"circle-check\":\"UNVERIFIED\"===e?\"circle-cross\":\"UNABLE_TO_VERIFY\"===e?\"circle-exclamation\":void 0;l.exportDefault(e=>{let{onClose:t,matrixIdVerifiedStatus:l,onSave:E,completeUserList:k}=e,d=o(),h=k.filter(e=>!(l.has(e)&&\"UNVERIFIED\"===l.get(e))),C=h.filter(e=>!l.has(e)),{handleSubmit:f}=s({defaultValues:{usersToInvite:h}}),{t:I}=u();return i.createElement(n,null,i.createElement(n.Header,null,i.createElement(n.HeaderText,null,i.createElement(n.Title,null,I(\"Continue_Adding\"))),i.createElement(n.Close,{title:I(\"Close\"),onClick:t})),i.createElement(n.Content,null,i.createElement(c,null,i.createElement(c,{is:\"ul\"},[...l.entries()].map(e=>{let[t,l]=e;return i.createElement(\"li\",{key:t},t,\": \",i.createElement(a,{name:m(l),size:\"x20\"}))}),C.map(e=>i.createElement(\"li\",{key:\"rocket-chat-\".concat(e)},e))))),i.createElement(n.Footer,{justifyContent:\"center\"},i.createElement(n.FooterControllers,null,i.createElement(r,{onClick:t},I(\"Cancel\")),i.createElement(r,{primary:!0,onClick:f(e=>{E({users:e.usersToInvite}).then(t).catch(e=>d({type:\"error\",message:e}))}),disabled:!(h.length>0)},I(\"Yes_continue\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/RoomMembers/AddUsers/AddMatrixUsers/AddMatrixUsersModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Modal, Button, Box, Icon } from '@rocket.chat/fuselage';\\nimport { useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps, ReactElement } from 'react';\\nimport React from 'react';\\nimport { useForm } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\ntype AddMatrixUsersModalProps = {\\n\\tmatrixIdVerifiedStatus: Map<string, string>;\\n\\tcompleteUserList: string[];\\n\\tonClose: () => void;\\n\\tonSave: (args_0: any) => Promise<void>;\\n};\\n\\ntype FormValues = {\\n\\tusersToInvite: string[];\\n};\\n\\nconst verificationStatusAsIcon = (verificationStatus: string) => {\\n\\tif (verificationStatus === 'VERIFIED') {\\n\\t\\treturn 'circle-check';\\n\\t}\\n\\n\\tif (verificationStatus === 'UNVERIFIED') {\\n\\t\\treturn 'circle-cross';\\n\\t}\\n\\n\\tif (verificationStatus === 'UNABLE_TO_VERIFY') {\\n\\t\\treturn 'circle-exclamation';\\n\\t}\\n};\\n\\nconst AddMatrixUsersModal = ({ onClose, matrixIdVerifiedStatus, onSave, completeUserList }: AddMatrixUsersModalProps): ReactElement => {\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst usersToInvite = completeUserList.filter(\\n\\t\\t(user) => !(matrixIdVerifiedStatus.has(user) && matrixIdVerifiedStatus.get(user) === 'UNVERIFIED'),\\n\\t);\\n\\tconst rocketChatUsers = usersToInvite.filter((user) => !matrixIdVerifiedStatus.has(user));\\n\\n\\tconst { handleSubmit } = useForm<FormValues>({\\n\\t\\tdefaultValues: {\\n\\t\\t\\tusersToInvite,\\n\\t\\t},\\n\\t});\\n\\n\\tconst onSubmit = (data: FormValues) => {\\n\\t\\tonSave({ users: data.usersToInvite })\\n\\t\\t\\t.then(onClose)\\n\\t\\t\\t.catch((error) => dispatchToastMessage({ type: 'error', message: error as Error }));\\n\\t};\\n\\n\\tconst { t } = useTranslation();\\n\\n\\treturn (\\n\\t\\t<Modal>\\n\\t\\t\\t<Modal.Header>\\n\\t\\t\\t\\t<Modal.HeaderText>\\n\\t\\t\\t\\t\\t<Modal.Title>{t('Continue_Adding')}</Modal.Title>\\n\\t\\t\\t\\t</Modal.HeaderText>\\n\\t\\t\\t\\t<Modal.Close title={t('Close')} onClick={onClose} />\\n\\t\\t\\t</Modal.Header>\\n\\t\\t\\t<Modal.Content>\\n\\t\\t\\t\\t<Box>\\n\\t\\t\\t\\t\\t<Box is='ul'>\\n\\t\\t\\t\\t\\t\\t{[...matrixIdVerifiedStatus.entries()].map(([_matrixId, _verificationStatus]) => (\\n\\t\\t\\t\\t\\t\\t\\t<li key={_matrixId}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{_matrixId}: <Icon name={verificationStatusAsIcon(_verificationStatus) as ComponentProps<typeof Icon>['name']} size='x20' />\\n\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t{rocketChatUsers.map((_user) => (\\n\\t\\t\\t\\t\\t\\t\\t<li key={`rocket-chat-${_user}`}>{_user}</li>\\n\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</Modal.Content>\\n\\t\\t\\t<Modal.Footer justifyContent='center'>\\n\\t\\t\\t\\t<Modal.FooterControllers>\\n\\t\\t\\t\\t\\t<Button onClick={onClose}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t<Button primary onClick={handleSubmit(onSubmit)} disabled={!(usersToInvite.length > 0)}>\\n\\t\\t\\t\\t\\t\\t{t('Yes_continue')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</Modal.FooterControllers>\\n\\t\\t\\t</Modal.Footer>\\n\\t\\t</Modal>\\n\\t);\\n};\\n\\nexport default AddMatrixUsersModal;\\n\",null],\"names\":[\"Modal\",\"Button\",\"Box\",\"Icon\",\"useToastMessageDispatch\",\"React\",\"useForm\",\"useTranslation\",\"module\",\"link\",\"v\",\"default\",\"verificationStatusAsIcon\",\"verificationStatus\",\"exportDefault\",\"_ref\",\"onClose\",\"matrixIdVerifiedStatus\",\"onSave\",\"completeUserList\",\"dispatchToastMessage\",\"usersToInvite\",\"filter\",\"user\",\"has\",\"get\",\"rocketChatUsers\",\"handleSubmit\",\"defaultValues\",\"t\",\"createElement\",\"Header\",\"HeaderText\",\"Title\",\"Close\",\"title\",\"onClick\",\"Content\",\"is\",\"entries\",\"map\",\"_ref2\",\"_matrixId\",\"_verificationStatus\",\"key\",\"name\",\"size\",\"_user\",\"concat\",\"Footer\",\"justifyContent\",\"FooterControllers\",\"primary\",\"data\",\"users\",\"then\",\"catch\",\"error\",\"type\",\"message\",\"disabled\",\"length\"],\"mappings\":\"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\"}"}