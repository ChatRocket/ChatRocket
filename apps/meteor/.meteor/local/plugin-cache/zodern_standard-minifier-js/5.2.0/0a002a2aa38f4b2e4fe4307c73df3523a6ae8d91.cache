{"code":"function module(e,t,l){let a,n,s,c,i,o,r;l.export({useDeleteFile:()=>u}),l.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){a=e}},0),l.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){n=e},useToastMessageDispatch(e){s=e},useMethod(e){c=e}},1),l.link(\"react\",{default(e){i=e}},2),l.link(\"react-i18next\",{useTranslation(e){o=e}},3),l.link(\"../../../../../components/GenericModal\",{default(e){r=e}},4);let u=e=>{let{t}=o(),l=n(),u=s(),d=c(\"deleteFileMessage\"),k=a(a=>{let n=async()=>{try{await d(a),u({type:\"success\",message:t(\"Deleted\")}),e()}catch(e){u({type:\"error\",message:e})}finally{l(null)}};l(i.createElement(r,{variant:\"danger\",onConfirm:n,onCancel:()=>l(null),confirmText:t(\"Delete\")},t(\"Delete_File_Warning\")))});return k}}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/RoomFiles/hooks/useDeleteFile.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useMethod } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../../../../components/GenericModal';\\n\\nexport const useDeleteFile = (reload: () => void) => {\\n\\tconst { t } = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst deleteFile = useMethod('deleteFileMessage');\\n\\n\\tconst handleDelete = useMutableCallback((_id) => {\\n\\t\\tconst onConfirm = async () => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait deleteFile(_id);\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Deleted') });\\n\\t\\t\\t\\treload();\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tsetModal(null);\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tsetModal(\\n\\t\\t\\t<GenericModal variant='danger' onConfirm={onConfirm} onCancel={() => setModal(null)} confirmText={t('Delete')}>\\n\\t\\t\\t\\t{t('Delete_File_Warning')}\\n\\t\\t\\t</GenericModal>,\\n\\t\\t);\\n\\t});\\n\\n\\treturn handleDelete;\\n};\\n\",null],\"names\":[\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useMethod\",\"React\",\"useTranslation\",\"GenericModal\",\"module\",\"export\",\"useDeleteFile\",\"link\",\"v\",\"default\",\"reload\",\"t\",\"setModal\",\"dispatchToastMessage\",\"deleteFile\",\"handleDelete\",\"_id\",\"onConfirm\",\"type\",\"message\",\"error\",\"createElement\",\"variant\",\"onCancel\",\"confirmText\"],\"mappings\":\"2BAAmCA,EAA8BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjEC,EAAOC,MAAE,CAAA,CAAAC,cAAoBA,IAAAA,CAAM,GAA8BF,EAAAG,IAAA,CAAA,8BAAA,CAAAV,mBAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,2BAAA,CAAAT,YAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,wBAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,UAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,gBAAA,CAAAL,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,yCAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAO1D,IAAMF,EAAiBI,IAC7B,GAAM,CAAEC,CAAAA,CAAG,CAAGT,IACRU,EAAWd,IACXe,EAAuBd,IACvBe,EAAad,EAAU,qBAEvBe,EAAelB,EAAoBmB,IACxC,IAAMC,EAAY,UACjB,GAAI,CACH,MAAMH,EAAWE,GACjBH,EAAqB,CAAEK,KAAM,UAAWC,QAASR,EAAE,UAAU,GAC7DD,GACD,CAAE,MAAOU,EAAO,CACfP,EAAqB,CAAEK,KAAM,QAASC,QAASC,CAAK,EACrD,QAAU,CACTR,EAAS,KACV,CACD,EAEAA,EACCX,EAAAoB,aAAA,CAAClB,EAAY,CAACmB,QAAQ,SAASL,UAAWA,EAAWM,SAAUA,IAAMX,EAAS,MAAOY,YAAab,EAAE,SAAU,EAC5GA,EAAE,wBAGN,GAEA,OAAOI,CACR\"}"}