{"code":"Package[\"core-runtime\"].queue(\"github-oauth\",function(){Package.meteor.Meteor,Package.meteor.global,Package.meteor.meteorEnv;var e,t=Package.oauth.OAuth,o=Package.random.Random,i=Package[\"accounts-base\"].Accounts,n=Package[\"service-configuration\"].ServiceConfiguration,a=Package.modules.meteorInstall;return Package.promise.Promise,{export:function(){return{Github:e}},require:a({node_modules:{meteor:{\"github-oauth\":{\"github_client.js\":function a(){(e={}).requestCredential=(e,a)=>{var r;a||\"function\"!=typeof e||(a=e,e={});let c=n.configurations.findOne({service:\"github\"});if(!c){a&&a(new n.ConfigError);return}let u=o.secret(),s=e&&e.requestPermissions||[\"user:email\"],g=s.map(encodeURIComponent).join(\"+\"),l=t._loginStyle(\"github\",c,e),h=\"\";null!==(r=i._options)&&void 0!==r&&r.forbidClientAccountCreation&&(h=\"&allow_signup=false\");let m=\"https://github.com/login/oauth/authorize\"+\"?client_id=\".concat(c.clientId)+\"&scope=\".concat(g)+\"&redirect_uri=\".concat(t._redirectUri(\"github\",c))+\"&state=\".concat(t._stateParam(l,u,e&&e.redirectUrl))+h;t.launchLogin({loginService:\"github\",loginStyle:l,loginUrl:m,credentialRequestCompleteCallback:a,credentialToken:u,popupOptions:{width:900,height:450}})}}}}}},{extensions:[\".js\",\".json\"]}),eagerModulePaths:[\"/node_modules/meteor/github-oauth/github_client.js\"]}});","map":"{\"version\":3,\"sources\":[\"packages/github-oauth/github_client.js\",\"<anon>\"],\"sourcesContent\":[\"Github = {};\\n\\n// Request Github credentials for the user\\n// @param options {optional}\\n// @param credentialRequestCompleteCallback {Function} Callback function to call on\\n//   completion. Takes one argument, credentialToken on success, or Error on\\n//   error.\\nGithub.requestCredential = (options, credentialRequestCompleteCallback) => {\\n  // support both (options, callback) and (callback).\\n  if (!credentialRequestCompleteCallback && typeof options === 'function') {\\n    credentialRequestCompleteCallback = options;\\n    options = {};\\n  }\\n\\n  const config = ServiceConfiguration.configurations.findOne({service: 'github'});\\n  if (!config) {\\n    credentialRequestCompleteCallback && credentialRequestCompleteCallback(\\n      new ServiceConfiguration.ConfigError());\\n    return;\\n  }\\n  const credentialToken = Random.secret();\\n\\n  const scope = (options && options.requestPermissions) || ['user:email'];\\n  const flatScope = scope.map(encodeURIComponent).join('+');\\n\\n  const loginStyle = OAuth._loginStyle('github', config, options);\\n\\n  let allowSignup = '';\\n  if (Accounts._options?.forbidClientAccountCreation) {\\n    allowSignup = '&allow_signup=false'; // https://docs.github.com/en/developers/apps/building-oauth-apps/authorizing-oauth-apps#parameters\\n  }\\n\\n  const loginUrl =\\n    'https://github.com/login/oauth/authorize' +\\n    `?client_id=${config.clientId}` +\\n    `&scope=${flatScope}` +\\n    `&redirect_uri=${OAuth._redirectUri('github', config)}` +\\n    `&state=${OAuth._stateParam(loginStyle, credentialToken, options && options.redirectUrl)}` +\\n    allowSignup;\\n\\n  OAuth.launchLogin({\\n    loginService: \\\"github\\\",\\n    loginStyle,\\n    loginUrl,\\n    credentialRequestCompleteCallback,\\n    credentialToken,\\n    popupOptions: {width: 900, height: 450}\\n  });\\n};\\n\",null],\"names\":[\"Github\",\"requestCredential\",\"options\",\"credentialRequestCompleteCallback\",\"_Accounts$_options\",\"config\",\"ServiceConfiguration\",\"configurations\",\"findOne\",\"service\",\"ConfigError\",\"credentialToken\",\"Random\",\"secret\",\"scope\",\"requestPermissions\",\"flatScope\",\"map\",\"encodeURIComponent\",\"join\",\"loginStyle\",\"OAuth\",\"_loginStyle\",\"allowSignup\",\"Accounts\",\"_options\",\"forbidClientAccountCreation\",\"loginUrl\",\"concat\",\"clientId\",\"_redirectUri\",\"_stateParam\",\"redirectUrl\",\"launchLogin\",\"loginService\",\"popupOptions\",\"width\",\"height\"],\"mappings\":\"kcAOAA,AAPAA,CAAAA,EAAS,CAAC,CAAA,EAOHC,iBAAiB,CAAG,CAACC,EAASC,KAAsC,IAAAC,EAEpED,GAAqC,AAAmB,YAAnB,OAAOD,IAC/CC,EAAoCD,EACpCA,EAAU,CAAC,GAGb,IAAMG,EAASC,EAAqBC,cAAc,CAACC,OAAO,CAAC,CAACC,QAAS,QAAQ,GAC7E,GAAI,CAACJ,EAAQ,CACXF,GAAqCA,EACnC,IAAIG,EAAqBI,WAAW,EACtC,MACF,CACA,IAAMC,EAAkBC,EAAOC,MAAM,GAE/BC,EAASZ,GAAWA,EAAQa,kBAAkB,EAAK,CAAC,aAAa,CACjEC,EAAYF,EAAMG,GAAG,CAACC,oBAAoBC,IAAI,CAAC,KAE/CC,EAAaC,EAAMC,WAAW,CAAC,SAAUjB,EAAQH,GAEnDqB,EAAc,EACG,QAArBnB,CAAAA,EAAIoB,EAASC,QAAQ,AAARA,GAAQrB,AAAA,KAAA,IAAAA,GAAjBA,EAAmBsB,2BAA2B,EAChDH,CAAAA,EAAc,qBAAA,EAGhB,IAAMI,EACJ,2CAA0C,cAAAC,MAAA,CAC5BvB,EAAOwB,QAAQ,EAAE,UAAAD,MAAA,CACrBZ,GAAW,iBAAAY,MAAA,CACJP,EAAMS,YAAY,CAAC,SAAUzB,IAAS,UAAAuB,MAAA,CAC7CP,EAAMU,WAAW,CAACX,EAAYT,EAAiBT,GAAWA,EAAQ8B,WAAW,GACvFT,EAEFF,EAAMY,WAAW,CAAC,CAChBC,aAAc,SACdd,WAAAA,EACAO,SAAAA,EACAxB,kCAAAA,EACAQ,gBAAAA,EACAwB,aAAc,CAACC,MAAO,IAAKC,OAAQ,GAAG,CACxC,EACF\"}"}