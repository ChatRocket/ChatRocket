{"code":"function module(n,e,t){t.export({useDialModal:function(){return m}}),t.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(n){o=n},useTranslation:function(n){i=n}},0),t.link(\"react\",{default:function(n){a=n},Suspense:function(n){l=n},lazy:function(n){u=n},useCallback:function(n){r=n},useMemo:function(n){c=n}},1),t.link(\"../contexts/CallContext\",{useIsVoipEnterprise:function(n){s=n}},2),t.link(\"../lib/toast\",{dispatchToastMessage:function(n){f=n}},3);var o,i,a,l,u,r,c,s,f,d=u(function(){return t.dynamicImport(\"../voip/modal/DialPad/DialPadModal\")}),m=function(){var n=o(),e=s(),t=i(),u=r(function(){return n(null)},[n]),m=r(function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=o.initialValue,r=o.errorMessage;if(!e){f({type:\"error\",message:t(\"You_do_not_have_permission_to_do_this\")});return}n(a.createElement(l,{fallback:a.createElement(\"div\",null)},a.createElement(d,{initialValue:i,errorMessage:r,handleClose:u})))},[n,e,t,u]);return c(function(){return{openDialModal:m,closeDialModal:u}},[m,u])}}","map":"{\"version\":3,\"sources\":[\"client/hooks/useDialModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\\nimport React, { Suspense, lazy, useCallback, useMemo } from 'react';\\n\\nimport { useIsVoipEnterprise } from '../contexts/CallContext';\\nimport { dispatchToastMessage } from '../lib/toast';\\n\\nconst DialPadModal = lazy(() => import('../voip/modal/DialPad/DialPadModal'));\\n\\ntype DialModalProps = {\\n\\tinitialValue?: string;\\n\\terrorMessage?: string;\\n};\\n\\ntype DialModalControls = {\\n\\topenDialModal: (props?: DialModalProps) => void;\\n\\tcloseDialModal: () => void;\\n};\\n\\nexport const useDialModal = (): DialModalControls => {\\n\\tconst setModal = useSetModal();\\n\\tconst isEnterprise = useIsVoipEnterprise();\\n\\tconst t = useTranslation();\\n\\n\\tconst closeDialModal = useCallback(() => setModal(null), [setModal]);\\n\\n\\tconst openDialModal = useCallback(\\n\\t\\t({ initialValue, errorMessage }: DialModalProps = {}) => {\\n\\t\\t\\tif (!isEnterprise) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: t('You_do_not_have_permission_to_do_this') });\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tsetModal(\\n\\t\\t\\t\\t// TODO: Revisit Modal's FocusScope which currently does not accept null as children.\\n\\t\\t\\t\\t// Added dummy div fallback for that reason.\\n\\t\\t\\t\\t<Suspense fallback={<div />}>\\n\\t\\t\\t\\t\\t<DialPadModal initialValue={initialValue} errorMessage={errorMessage} handleClose={closeDialModal} />\\n\\t\\t\\t\\t</Suspense>,\\n\\t\\t\\t);\\n\\t\\t},\\n\\t\\t[setModal, isEnterprise, t, closeDialModal],\\n\\t);\\n\\n\\treturn useMemo(\\n\\t\\t() => ({\\n\\t\\t\\topenDialModal,\\n\\t\\t\\tcloseDialModal,\\n\\t\\t}),\\n\\t\\t[openDialModal, closeDialModal],\\n\\t);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"useDialModal\",\"link\",\"useSetModal\",\"v\",\"useTranslation\",\"React\",\"Suspense\",\"lazy\",\"useCallback\",\"useMemo\",\"useIsVoipEnterprise\",\"dispatchToastMessage\",\"DialPadModal\",\"dynamicImport\",\"setModal\",\"isEnterprise\",\"t\",\"closeDialModal\",\"openDialModal\",\"_ref\",\"arguments\",\"length\",\"undefined\",\"initialValue\",\"errorMessage\",\"type\",\"message\",\"createElement\",\"fallback\",\"handleClose\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,aAAa,WAAgB,OAAMA,CAAA,CAAA,GAA2BF,EAAAG,IAAA,CAAA,2BAAA,CAAAC,YAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,EAAAC,eAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAE,EAAAF,CAAA,EAAAG,SAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,EAAAI,KAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,EAAAK,YAAA,SAAAL,CAAA,EAAAK,EAAAL,CAAA,EAAAM,QAAA,SAAAN,CAAA,EAAAM,EAAAN,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,0BAAA,CAAAS,oBAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,eAAA,CAAAU,qBAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAMvE,IAN4CD,EAA2BE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAMjEC,EAAeL,EAAK,WAAA,OAAMT,EAAAe,aAAA,CAAO,qCAAqC,GAY/Db,EAAe,WAC3B,IAAMc,EAAWZ,IACXa,EAAeL,IACfM,EAAIZ,IAEJa,EAAiBT,EAAY,WAAA,OAAMM,EAAS,KAAK,EAAE,CAACA,EAAS,EAE7DI,EAAgBV,EACrB,WAAwD,IAAAW,EAAAC,UAAAC,MAAA,CAAA,GAAAD,AAAAE,KAAAA,IAAAF,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAAN,CAAA,EAA/CG,EAAYJ,EAAZI,YAAY,CAAEC,EAAYL,EAAZK,YAAY,CAC5B,GAAI,CAACT,EAAc,CAClBJ,EAAqB,CAAEc,KAAM,QAASC,QAASV,EAAE,wCAAwC,GACzF,MACD,CAEAF,EAGCT,EAAAsB,aAAA,CAACrB,EAAQ,CAACsB,SAAUvB,EAAAsB,aAAA,CAAA,MAAA,KAAQ,EAC3BtB,EAAAsB,aAAA,CAACf,EAAY,CAACW,aAAcA,EAAcC,aAAcA,EAAcK,YAAaZ,CAAe,IAGrG,EACA,CAACH,EAAUC,EAAcC,EAAGC,EAAe,EAG5C,OAAOR,EACN,WAAA,MAAO,CACNS,cAAAA,EACAD,eAAAA,EACA,EACD,CAACC,EAAeD,EAAe,CAEjC\"}"}