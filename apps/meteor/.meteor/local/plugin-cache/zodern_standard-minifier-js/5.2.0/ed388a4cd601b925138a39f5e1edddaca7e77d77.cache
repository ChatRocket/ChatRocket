{"code":"function module(e,n,o){var t,i,l,r,s,a,u,c,m,f;o.link(\"react\",{default:function(e){t=e},useContext:function(e){i=e},useMemo:function(e){l=e}},0),o.link(\"../../../components/ImageGallery\",{ImageGallery:function(e){r=e},ImageGalleryError:function(e){s=e},ImageGalleryLoading:function(e){a=e}},1),o.link(\"../../../contexts/ImageGalleryContext\",{ImageGalleryContext:function(e){u=e}},2),o.link(\"../../../hooks/lists/useRecordList\",{useRecordList:function(e){c=e}},3),o.link(\"../contexts/RoomContext\",{useRoom:function(e){m=e}},4),o.link(\"./hooks/useImagesList\",{useImagesList:function(e){f=e}},5),o.exportDefault(function(){var e=m()._id,n=i(u),o=n.imageId,g=n.onClose,d=f(l(function(){return{roomId:e,startingFromId:o}},[o,e])),I=d.filesList,k=d.loadMoreItems,C=c(I),x=C.phase,y=C.items;return C.error?t.createElement(s,{onClose:g}):\"loading\"===x?t.createElement(a,{onClose:g}):t.createElement(r,{images:y,loadMore:function(){return k(y.length-1)},onClose:g})})}","map":"{\"version\":3,\"sources\":[\"client/views/room/ImageGallery/ImageGalleryData.tsx\",\"<anon>\"],\"sourcesContent\":[\"import React, { useContext, useMemo } from 'react';\\n\\nimport { ImageGallery, ImageGalleryError, ImageGalleryLoading } from '../../../components/ImageGallery';\\nimport { ImageGalleryContext } from '../../../contexts/ImageGalleryContext';\\nimport { useRecordList } from '../../../hooks/lists/useRecordList';\\nimport { useRoom } from '../contexts/RoomContext';\\nimport { useImagesList } from './hooks/useImagesList';\\n\\nconst ImageGalleryData = () => {\\n\\tconst { _id: rid } = useRoom();\\n\\n\\tconst { imageId, onClose } = useContext(ImageGalleryContext);\\n\\n\\tconst { filesList, loadMoreItems } = useImagesList(useMemo(() => ({ roomId: rid, startingFromId: imageId }), [imageId, rid]));\\n\\tconst { phase, items: images, error } = useRecordList(filesList);\\n\\n\\tif (error) {\\n\\t\\treturn <ImageGalleryError onClose={onClose} />;\\n\\t}\\n\\n\\tif (phase === 'loading') {\\n\\t\\treturn <ImageGalleryLoading onClose={onClose} />;\\n\\t}\\n\\n\\treturn <ImageGallery images={images} loadMore={() => loadMoreItems(images.length - 1)} onClose={onClose} />;\\n};\\n\\nexport default ImageGalleryData;\\n\",null],\"names\":[\"React\",\"useContext\",\"useMemo\",\"ImageGallery\",\"ImageGalleryError\",\"ImageGalleryLoading\",\"ImageGalleryContext\",\"useRecordList\",\"useRoom\",\"useImagesList\",\"module\",\"link\",\"v\",\"exportDefault\",\"rid\",\"_useRoom\",\"_id\",\"_useContext\",\"imageId\",\"onClose\",\"_useImagesList\",\"roomId\",\"startingFromId\",\"filesList\",\"loadMoreItems\",\"_useRecordList\",\"phase\",\"images\",\"items\",\"error\",\"createElement\",\"loadMore\",\"length\"],\"mappings\":\"uBAQA,IARAA,EAAOC,EAASC,EAAmCC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvBC,EAAOC,IAAE,CAAA,QAAM,CAAO,QAAC,SAAAC,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,WAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,QAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAAR,aAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,kBAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,oBAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wCAAA,CAAAL,oBAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,qCAAA,CAAAJ,cAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0BAAA,CAAAH,QAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAF,cAAA,SAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAnDF,EAAOG,aAAS,CAQS,WACxB,IAAaC,EAAGC,AAAKP,IAAbQ,GAAG,CAEXC,EAA6BhB,EAAWK,GAAhCY,EAAOD,EAAPC,OAAO,CAAEC,EAAOF,EAAPE,OAAO,CAExBC,EAAqCX,EAAcP,EAAQ,WAAA,MAAO,CAAEmB,OAAQP,EAAKQ,eAAgBJ,CAAO,CAAE,EAAG,CAACA,EAASJ,EAAI,GAAnHS,EAASH,EAATG,SAAS,CAAEC,EAAaJ,EAAbI,aAAa,CAChCC,EAAwClB,EAAcgB,GAA9CG,EAAKD,EAALC,KAAK,CAASC,EAAMF,EAAbG,KAAK,QAEpB,AAFmCH,EAALI,KAAK,CAG3B7B,EAAA8B,aAAA,CAAC1B,EAAiB,CAACe,QAASA,CAAQ,GAGxCO,AAAU,YAAVA,EACI1B,EAAA8B,aAAA,CAACzB,EAAmB,CAACc,QAASA,CAAQ,GAGvCnB,EAAA8B,aAAA,CAAC3B,EAAY,CAACwB,OAAQA,EAAQI,SAAU,WAAA,OAAMP,EAAcG,EAAOK,MAAM,CAAG,EAAE,EAAEb,QAASA,CAAQ,EACzG\"}"}