{"code":"function module(e,t,o){var n,a,i,s,r,c,u,f,l;o.link(\"@rocket.chat/fuselage-hooks\",{useEffectEvent:function(e){n=e}},0),o.link(\"@rocket.chat/ui-contexts\",{useSetting:function(e){a=e},useMethod:function(e){i=e},useTranslation:function(e){s=e},useToastMessageDispatch:function(e){r=e}},1),o.link(\"react\",{default:function(e){c=e},memo:function(e){u=e}},2),o.link(\"../../../../components/Header\",{HeaderState:function(e){f=e}},3),o.link(\"../../contexts/RoomContext\",{useUserIsSubscribed:function(e){l=e}},4),o.exportDefault(u(function(e){var t=e.room,o=t._id,u=t.f,m=void 0!==u&&u,_=t.t,d=t.name,v=s(),k=l(),g=r(),h=a(\"Favorite_Rooms\")&&[\"c\",\"p\",\"d\",\"t\"].includes(_),p=i(\"toggleFavorite\"),x=n(function(){if(h)try{p(o,!m),g({type:\"success\",message:m?v(\"__roomName__was_removed_from_favorites\",{roomName:d}):v(\"__roomName__was_added_to_favorites\",{roomName:d})})}catch(e){g({type:\"error\",message:e})}}),y=m?v(\"Unfavorite\")+\" \"+d:v(\"Favorite\")+\" \"+d;return k&&h?c.createElement(f,{title:y,icon:m?\"star-filled\":\"star\",onClick:x,color:m?\"status-font-on-warning\":null,tiny:!0}):null}))}","map":"{\"version\":3,\"sources\":[\"client/views/room/HeaderV2/icons/Favorite.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom, ISubscription } from '@rocket.chat/core-typings';\\nimport { useEffectEvent } from '@rocket.chat/fuselage-hooks';\\nimport { useSetting, useMethod, useTranslation, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport React, { memo } from 'react';\\n\\nimport { HeaderState } from '../../../../components/Header';\\nimport { useUserIsSubscribed } from '../../contexts/RoomContext';\\n\\nconst Favorite = ({ room: { _id, f: favorite = false, t: type, name } }: { room: IRoom & { f?: ISubscription['f'] } }) => {\\n\\tconst t = useTranslation();\\n\\tconst subscribed = useUserIsSubscribed();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst isFavoritesEnabled = useSetting('Favorite_Rooms') && ['c', 'p', 'd', 't'].includes(type);\\n\\tconst toggleFavorite = useMethod('toggleFavorite');\\n\\n\\tconst handleFavoriteClick = useEffectEvent(() => {\\n\\t\\tif (!isFavoritesEnabled) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\ttry {\\n\\t\\t\\ttoggleFavorite(_id, !favorite);\\n\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\ttype: 'success',\\n\\t\\t\\t\\tmessage: !favorite\\n\\t\\t\\t\\t\\t? t('__roomName__was_added_to_favorites', { roomName: name })\\n\\t\\t\\t\\t\\t: t('__roomName__was_removed_from_favorites', { roomName: name }),\\n\\t\\t\\t});\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t});\\n\\n\\tconst favoriteLabel = favorite ? `${t('Unfavorite')} ${name}` : `${t('Favorite')} ${name}`;\\n\\n\\tif (!subscribed || !isFavoritesEnabled) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<HeaderState\\n\\t\\t\\ttitle={favoriteLabel}\\n\\t\\t\\ticon={favorite ? 'star-filled' : 'star'}\\n\\t\\t\\tonClick={handleFavoriteClick}\\n\\t\\t\\tcolor={favorite ? 'status-font-on-warning' : null}\\n\\t\\t\\ttiny\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default memo(Favorite);\\n\",null],\"names\":[\"useEffectEvent\",\"useSetting\",\"useMethod\",\"useTranslation\",\"useToastMessageDispatch\",\"React\",\"memo\",\"HeaderState\",\"useUserIsSubscribed\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"_ref$room\",\"room\",\"_id\",\"_ref$room$f\",\"f\",\"favorite\",\"type\",\"t\",\"name\",\"subscribed\",\"dispatchToastMessage\",\"isFavoritesEnabled\",\"includes\",\"toggleFavorite\",\"handleFavoriteClick\",\"message\",\"roomName\",\"error\",\"favoriteLabel\",\"createElement\",\"title\",\"icon\",\"onClick\",\"color\",\"tiny\"],\"mappings\":\"uBAQA,IAPAA,EAA6DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAApDC,EAAgBC,IAAA,CAAM,8BAA8B,CAAAV,eAAA,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAT,WAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,UAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,eAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,wBAAA,SAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAC,CAAA,EAAAN,EAAAM,CAAA,EAAAL,KAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gCAAA,CAAAH,YAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,6BAAA,CAAAF,oBAAA,SAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA7DF,EAAOG,aAAE,CAkDMN,EA3CE,SAAAO,CAAA,EAAwG,IAAAC,EAAAD,EAArGE,IAAI,CAAIC,EAAGF,EAAHE,GAAG,CAAAC,EAAAH,EAAEI,CAAC,CAAEC,EAAQF,AAAA,KAAA,IAAAA,GAAQA,EAAKG,EAAIN,EAAPO,CAAC,CAAQC,EAAIR,EAAJQ,IAAI,CAC5DD,EAAIlB,IACJoB,EAAaf,IACbgB,EAAuBpB,IAEvBqB,EAAqBxB,EAAW,mBAAqB,CAAC,IAAK,IAAK,IAAK,IAAI,CAACyB,QAAQ,CAACN,GACnFO,EAAiBzB,EAAU,kBAE3B0B,EAAsB5B,EAAe,WAC1C,GAAKyB,EAIL,GAAI,CACHE,EAAeX,EAAK,CAACG,GACrBK,EAAqB,CACpBJ,KAAM,UACNS,QAAS,AAACV,EAEPE,EAAE,yCAA0C,CAAES,SAAUR,CAAI,GAD5DD,EAAE,qCAAsC,CAAES,SAAUR,CAAI,IAG7D,CAAE,MAAOS,EAAO,CACfP,EAAqB,CAAEJ,KAAM,QAASS,QAASE,CAAK,EACrD,CACD,GAEMC,EAAgBb,EAAcE,EAAE,cAAa,IAAIC,EAAYD,EAAE,YAAW,IAAIC,SAEpF,AAAI,AAACC,GAAeE,EAKnBpB,EAAA4B,aAAA,CAAC1B,EAAW,CACX2B,MAAOF,EACPG,KAAMhB,EAAW,cAAgB,OACjCiB,QAASR,EACTS,MAAOlB,EAAW,yBAA2B,KAC7CmB,KAAI,CAAA,CAAA,GATE,IAYT\"}"}