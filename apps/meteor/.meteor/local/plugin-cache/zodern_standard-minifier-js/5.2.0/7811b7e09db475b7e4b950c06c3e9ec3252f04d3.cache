{"code":"function module(e,t,s){let a,o,r,i,n,l,u,m;s.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){a=e},useTranslation(e){o=e}},0),s.link(\"@tanstack/react-query\",{useQuery(e){r=e}},1),s.link(\"react\",{default(e){i=e}},2),s.link(\"../../../lib/onClientMessageReceived\",{onClientMessageReceived(e){n=e}},3),s.link(\"../../../lib/utils/mapMessageFromApi\",{mapMessageFromApi(e){l=e}},4),s.link(\"../contexts/RoomContext\",{useRoom(e){u=e}},5),s.link(\"./MessageListTab\",{default(e){m=e}},6),s.exportDefault(()=>{let e=a(\"GET\",\"/v1/chat.getStarredMessages\"),t=u(),s=r([\"rooms\",t._id,\"starred-messages\"],async()=>{let s=[];for(let a=0,o=await e({roomId:t._id,offset:0});o.count>0;a+=o.count,o=await e({roomId:t._id,offset:a}))s.push(...o.messages.map(l));return Promise.all(s.map(n))}),c=o();return i.createElement(m,{iconName:\"star\",title:c(\"Starred_Messages\"),emptyResultMessage:c(\"No_starred_messages\"),context:\"starred\",queryResult:s})})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/StarredMessagesTab.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React from 'react';\\n\\nimport { onClientMessageReceived } from '../../../lib/onClientMessageReceived';\\nimport { mapMessageFromApi } from '../../../lib/utils/mapMessageFromApi';\\nimport { useRoom } from '../contexts/RoomContext';\\nimport MessageListTab from './MessageListTab';\\n\\nconst StarredMessagesTab = () => {\\n\\tconst getStarredMessages = useEndpoint('GET', '/v1/chat.getStarredMessages');\\n\\n\\tconst room = useRoom();\\n\\n\\tconst starredMessagesQueryResult = useQuery(['rooms', room._id, 'starred-messages'] as const, async () => {\\n\\t\\tconst messages: IMessage[] = [];\\n\\n\\t\\tfor (\\n\\t\\t\\tlet offset = 0, result = await getStarredMessages({ roomId: room._id, offset: 0 });\\n\\t\\t\\tresult.count > 0;\\n\\t\\t\\t// eslint-disable-next-line no-await-in-loop\\n\\t\\t\\toffset += result.count, result = await getStarredMessages({ roomId: room._id, offset })\\n\\t\\t) {\\n\\t\\t\\tmessages.push(...result.messages.map(mapMessageFromApi));\\n\\t\\t}\\n\\n\\t\\treturn Promise.all(messages.map(onClientMessageReceived));\\n\\t});\\n\\n\\tconst t = useTranslation();\\n\\n\\treturn (\\n\\t\\t<MessageListTab\\n\\t\\t\\ticonName='star'\\n\\t\\t\\ttitle={t('Starred_Messages')}\\n\\t\\t\\temptyResultMessage={t('No_starred_messages')}\\n\\t\\t\\tcontext='starred'\\n\\t\\t\\tqueryResult={starredMessagesQueryResult}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default StarredMessagesTab;\\n\",null],\"names\":[\"useEndpoint\",\"useTranslation\",\"useQuery\",\"React\",\"onClientMessageReceived\",\"mapMessageFromApi\",\"useRoom\",\"MessageListTab\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"StarredMessagesTab\",\"getStarredMessages\",\"room\",\"starredMessagesQueryResult\",\"_id\",\"messages\",\"offset\",\"result\",\"roomId\",\"count\",\"push\",\"map\",\"Promise\",\"all\",\"t\",\"createElement\",\"iconName\",\"title\",\"emptyResultMessage\",\"context\",\"queryResult\"],\"mappings\":\"2BACAA,EAASC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjDC,EAAgBC,IAAA,CAAA,2BAAgC,CAACT,YAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,eAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAP,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uCAAA,CAAAL,wBAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uCAAA,CAAAJ,kBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0BAAA,CAAAH,QAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mBAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAvEF,EAAOI,aAAa,CASOC,KAC1B,IAAMC,EAAqBd,EAAY,MAAO,+BAExCe,EAAOT,IAEPU,EAA6Bd,EAAS,CAAC,QAASa,EAAKE,GAAG,CAAE,mBAA4B,CAAE,UAC7F,IAAMC,EAAuB,EAAE,CAE/B,IACC,IAAIC,EAAS,EAAGC,EAAS,MAAMN,EAAmB,CAAEO,OAAQN,EAAKE,GAAG,CAAEE,OAAQ,CAAC,GAC/EC,EAAOE,KAAK,CAAG,EAEfH,GAAUC,EAAOE,KAAK,CAAEF,EAAS,MAAMN,EAAmB,CAAEO,OAAQN,EAAKE,GAAG,CAAEE,OAAAA,CAAM,GAEpFD,EAASK,IAAI,IAAIH,EAAOF,QAAQ,CAACM,GAAG,CAACnB,IAGtC,OAAOoB,QAAQC,GAAG,CAACR,EAASM,GAAG,CAACpB,GACjC,GAEMuB,EAAI1B,IAEV,OACCE,EAAAyB,aAAA,CAACrB,EAAc,CACdsB,SAAS,OACTC,MAAOH,EAAE,oBACTI,mBAAoBJ,EAAE,uBACtBK,QAAQ,UACRC,YAAajB,CAA2B,EAG3C\"}"}