{"code":"function module(e,t,l){let a,n,r,o,i,u,m,c,d,E,s,k,v,p,b,f,x,y,_,g,C,h,P,w,R,S;l.link(\"@rocket.chat/ui-client\",{FeaturePreview(e){a=e},FeaturePreviewOff(e){n=e},FeaturePreviewOn(e){r=e}},0),l.link(\"@rocket.chat/ui-contexts\",{useTranslation(e){o=e},useSetting(e){i=e}},1),l.link(\"react\",{default(e){u=e},createElement(e){m=e},lazy(e){c=e},memo(e){d=e},Suspense(e){E=e}},2),l.link(\"react-aria\",{FocusScope(e){s=e}},3),l.link(\"react-error-boundary\",{ErrorBoundary(e){k=e}},4),l.link(\"../../components/Contextualbar\",{ContextualbarSkeleton(e){v=e}},5),l.link(\"./E2EESetup/RoomE2EESetup\",{default(e){p=e}},6),l.link(\"./Header\",{default(e){b=e}},7),l.link(\"./HeaderV2\",{HeaderV2(e){f=e}},8),l.link(\"./MessageList/providers/MessageHighlightProvider\",{default(e){x=e}},9),l.link(\"./body/RoomBody\",{default(e){y=e}},10),l.link(\"./body/RoomBodyV2\",{default(e){_=e}},11),l.link(\"./contexts/RoomContext\",{useRoom(e){g=e}},12),l.link(\"./contexts/RoomToolboxContext\",{useRoomToolbox(e){C=e}},13),l.link(\"./hooks/useAppsContextualBar\",{useAppsContextualBar(e){h=e}},14),l.link(\"./layout/RoomLayout\",{default(e){P=e}},15),l.link(\"./providers/ChatProvider\",{default(e){w=e}},16),l.link(\"./providers/DateListProvider\",{DateListProvider(e){R=e}},17),l.link(\"./providers/SelectedMessagesProvider\",{SelectedMessagesProvider(e){S=e}},18);let B=c(()=>l.dynamicImport(\"./contextualBar/uikit/UiKitContextualBar\"));l.exportDefault(d(()=>{var e;let t=o(),l=g(),c=C(),d=h(),F=i(\"E2E_Enable\"),M=i(\"E2E_Allow_Unencrypted_Messages\"),N=(null==l?void 0:l.encrypted)&&!M&&F;return u.createElement(w,null,u.createElement(x,null,u.createElement(s,null,u.createElement(R,null,u.createElement(P,{\"data-qa-rc-room\":l._id,\"aria-label\":t(\"d\"===l.t?\"Conversation_with__roomName__\":\"Channel__roomName__\",{roomName:l.name}),header:u.createElement(u.Fragment,null,u.createElement(a,{feature:\"newNavigation\"},u.createElement(r,null,u.createElement(f,{room:l})),u.createElement(n,null,u.createElement(b,{room:l})))),body:N?u.createElement(p,null):u.createElement(u.Fragment,null,u.createElement(a,{feature:\"newNavigation\"},u.createElement(r,null,u.createElement(_,null)),u.createElement(n,null,u.createElement(y,null)))),aside:(null===(e=c.tab)||void 0===e?void 0:e.tabComponent)&&u.createElement(k,{fallback:null},u.createElement(S,null,u.createElement(E,{fallback:u.createElement(v,null)},m(c.tab.tabComponent))))||d&&u.createElement(k,{fallback:null},u.createElement(S,null,u.createElement(E,{fallback:u.createElement(v,null)},u.createElement(B,{key:d.id,initialView:d}))))})))))}))}","map":"{\"version\":3,\"sources\":[\"client/views/room/Room.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { FeaturePreview, FeaturePreviewOff, FeaturePreviewOn } from '@rocket.chat/ui-client';\\nimport { useTranslation, useSetting } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { createElement, lazy, memo, Suspense } from 'react';\\nimport { FocusScope } from 'react-aria';\\nimport { ErrorBoundary } from 'react-error-boundary';\\n\\nimport { ContextualbarSkeleton } from '../../components/Contextualbar';\\nimport RoomE2EESetup from './E2EESetup/RoomE2EESetup';\\nimport Header from './Header';\\nimport { HeaderV2 } from './HeaderV2';\\nimport MessageHighlightProvider from './MessageList/providers/MessageHighlightProvider';\\nimport RoomBody from './body/RoomBody';\\nimport RoomBodyV2 from './body/RoomBodyV2';\\nimport { useRoom } from './contexts/RoomContext';\\nimport { useRoomToolbox } from './contexts/RoomToolboxContext';\\nimport { useAppsContextualBar } from './hooks/useAppsContextualBar';\\nimport RoomLayout from './layout/RoomLayout';\\nimport ChatProvider from './providers/ChatProvider';\\nimport { DateListProvider } from './providers/DateListProvider';\\nimport { SelectedMessagesProvider } from './providers/SelectedMessagesProvider';\\n\\nconst UiKitContextualBar = lazy(() => import('./contextualBar/uikit/UiKitContextualBar'));\\n\\nconst Room = (): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst room = useRoom();\\n\\tconst toolbox = useRoomToolbox();\\n\\tconst contextualBarView = useAppsContextualBar();\\n\\tconst isE2EEnabled = useSetting('E2E_Enable');\\n\\tconst unencryptedMessagesAllowed = useSetting('E2E_Allow_Unencrypted_Messages');\\n\\tconst shouldDisplayE2EESetup = room?.encrypted && !unencryptedMessagesAllowed && isE2EEnabled;\\n\\n\\treturn (\\n\\t\\t<ChatProvider>\\n\\t\\t\\t<MessageHighlightProvider>\\n\\t\\t\\t\\t<FocusScope>\\n\\t\\t\\t\\t\\t<DateListProvider>\\n\\t\\t\\t\\t\\t\\t<RoomLayout\\n\\t\\t\\t\\t\\t\\t\\tdata-qa-rc-room={room._id}\\n\\t\\t\\t\\t\\t\\t\\taria-label={\\n\\t\\t\\t\\t\\t\\t\\t\\troom.t === 'd'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t? t('Conversation_with__roomName__', { roomName: room.name })\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t: t('Channel__roomName__', { roomName: room.name })\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\theader={\\n\\t\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<FeaturePreview feature='newNavigation'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FeaturePreviewOn>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<HeaderV2 room={room} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FeaturePreviewOn>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FeaturePreviewOff>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Header room={room} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FeaturePreviewOff>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</FeaturePreview>\\n\\t\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\tbody={\\n\\t\\t\\t\\t\\t\\t\\t\\tshouldDisplayE2EESetup ? (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<RoomE2EESetup />\\n\\t\\t\\t\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FeaturePreview feature='newNavigation'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FeaturePreviewOn>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<RoomBodyV2 />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FeaturePreviewOn>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FeaturePreviewOff>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<RoomBody />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FeaturePreviewOff>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</FeaturePreview>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t\\t\\t\\t)\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\taside={\\n\\t\\t\\t\\t\\t\\t\\t\\t(toolbox.tab?.tabComponent && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ErrorBoundary fallback={null}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<SelectedMessagesProvider>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Suspense fallback={<ContextualbarSkeleton />}>{createElement(toolbox.tab.tabComponent)}</Suspense>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</SelectedMessagesProvider>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ErrorBoundary>\\n\\t\\t\\t\\t\\t\\t\\t\\t)) ||\\n\\t\\t\\t\\t\\t\\t\\t\\t(contextualBarView && (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ErrorBoundary fallback={null}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<SelectedMessagesProvider>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Suspense fallback={<ContextualbarSkeleton />}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<UiKitContextualBar key={contextualBarView.id} initialView={contextualBarView} />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Suspense>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</SelectedMessagesProvider>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ErrorBoundary>\\n\\t\\t\\t\\t\\t\\t\\t\\t))\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t</DateListProvider>\\n\\t\\t\\t\\t</FocusScope>\\n\\t\\t\\t</MessageHighlightProvider>\\n\\t\\t</ChatProvider>\\n\\t);\\n};\\n\\nexport default memo(Room);\\n\",null],\"names\":[\"FeaturePreview\",\"FeaturePreviewOff\",\"FeaturePreviewOn\",\"useTranslation\",\"useSetting\",\"React\",\"createElement\",\"lazy\",\"memo\",\"Suspense\",\"FocusScope\",\"ErrorBoundary\",\"ContextualbarSkeleton\",\"RoomE2EESetup\",\"Header\",\"HeaderV2\",\"MessageHighlightProvider\",\"RoomBody\",\"RoomBodyV2\",\"useRoom\",\"useRoomToolbox\",\"useAppsContextualBar\",\"RoomLayout\",\"ChatProvider\",\"DateListProvider\",\"SelectedMessagesProvider\",\"module\",\"link\",\"v\",\"default\",\"UiKitContextualBar\",\"dynamicImport\",\"exportDefault\",\"Room\",\"_toolbox$tab\",\"t\",\"room\",\"toolbox\",\"contextualBarView\",\"isE2EEnabled\",\"unencryptedMessagesAllowed\",\"shouldDisplayE2EESetup\",\"encrypted\",\"_id\",\"roomName\",\"name\",\"header\",\"Fragment\",\"feature\",\"body\",\"aside\",\"tab\",\"tabComponent\",\"fallback\",\"key\",\"id\",\"initialView\"],\"mappings\":\"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\"}"}