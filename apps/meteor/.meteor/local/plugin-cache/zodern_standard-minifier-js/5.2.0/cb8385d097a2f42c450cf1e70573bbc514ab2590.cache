{"code":"function module(e,t,l){let n,a,i,r,o;l.link(\"@rocket.chat/fuselage\",{Box(e){n=e}},0),l.link(\"react\",{default(e){a=e},useState(e){i=e}},1),l.link(\"./GenericPreview\",{default(e){r=e}},2),l.link(\"./PreviewSkeleton\",{default(e){o=e}},3),l.exportDefault(e=>{let{url:t,file:l}=e,[c,u]=i(!1),[f,m]=i(!0);return c?a.createElement(r,{file:l}):a.createElement(a.Fragment,null,f&&a.createElement(o,null),a.createElement(n,{is:\"img\",src:t,maxWidth:\"full\",style:{objectFit:\"contain\"},onLoad:()=>m(!1),onError:()=>{m(!1),u(!0)},display:f?\"none\":\"initial\"}))})}","map":"{\"version\":3,\"sources\":[\"client/views/room/modals/FileUploadModal/ImagePreview.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box } from '@rocket.chat/fuselage';\\nimport type { ReactElement } from 'react';\\nimport React, { useState } from 'react';\\n\\nimport GenericPreview from './GenericPreview';\\nimport PreviewSkeleton from './PreviewSkeleton';\\n\\ntype ImagePreviewProps = {\\n\\turl: string;\\n\\tfile: File;\\n};\\n\\nconst ImagePreview = ({ url, file }: ImagePreviewProps): ReactElement => {\\n\\tconst [error, setError] = useState(false);\\n\\tconst [loading, setLoading] = useState(true);\\n\\n\\tconst handleLoad = (): void => setLoading(false);\\n\\tconst handleError = (): void => {\\n\\t\\tsetLoading(false);\\n\\t\\tsetError(true);\\n\\t};\\n\\n\\tif (error) {\\n\\t\\treturn <GenericPreview file={file} />;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t{loading && <PreviewSkeleton />}\\n\\t\\t\\t<Box\\n\\t\\t\\t\\tis='img'\\n\\t\\t\\t\\tsrc={url}\\n\\t\\t\\t\\tmaxWidth='full'\\n\\t\\t\\t\\tstyle={{ objectFit: 'contain' }}\\n\\t\\t\\t\\tonLoad={handleLoad}\\n\\t\\t\\t\\tonError={handleError}\\n\\t\\t\\t\\tdisplay={loading ? 'none' : 'initial'}\\n\\t\\t\\t/>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default ImagePreview;\\n\",null],\"names\":[\"Box\",\"React\",\"useState\",\"GenericPreview\",\"PreviewSkeleton\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"url\",\"file\",\"error\",\"setError\",\"loading\",\"setLoading\",\"createElement\",\"Fragment\",\"is\",\"src\",\"maxWidth\",\"style\",\"objectFit\",\"onLoad\",\"handleLoad\",\"onError\",\"handleError\",\"display\"],\"mappings\":\"2BAAAA,EAA4CC,EAAAC,EAAAC,EAAAC,EAArCC,EAAOC,IAAA,CAAM,wBAAwB,CAAAN,IAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAN,EAAAM,CAAA,EAAAL,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mBAAA,CAAAE,QAAAD,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oBAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA5CF,EAAOI,aAAa,CAYCC,IAAmD,GAAlD,CAAEC,IAAAA,CAAG,CAAEC,KAAAA,CAAAA,CAAyB,CAAAF,EAC/C,CAACG,EAAOC,EAAS,CAAGZ,EAAS,CAAA,GAC7B,CAACa,EAASC,EAAW,CAAGd,EAAS,CAAA,UAQvC,AAAIW,EACIZ,EAAAgB,aAAA,CAACd,EAAc,CAACS,KAAMA,CAAK,GAIlCX,EAAAgB,aAAA,CAAAhB,EAAAiB,QAAA,CAAA,KACEH,GAAWd,EAAAgB,aAAA,CAACb,EAAe,MAC5BH,EAAAgB,aAAA,CAACjB,EAAG,CACHmB,GAAG,MACHC,IAAKT,EACLU,SAAS,OACTC,MAAO,CAAEC,UAAW,SAAS,EAC7BC,OAlBgBC,IAAYT,EAAW,CAAA,GAmBvCU,QAlBiBC,KACnBX,EAAW,CAAA,GACXF,EAAS,CAAA,EACV,EAgBGc,QAASb,EAAU,OAAS,SAAU,GAI1C\"}"}