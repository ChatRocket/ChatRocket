{"code":"function module(e,t,n){let l,a,r,o,c,i,u,s,m,d,E,k,h,p,f,b,v,C,g,x,y,F,I,N,S,_,B,D,M,R,T;n.link(\"@rocket.chat/fuselage\",{Box(e){l=e},Margins(e){a=e},ButtonGroup(e){r=e},Button(e){o=e},Divider(e){c=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){i=e}},1),n.link(\"@rocket.chat/ui-avatar\",{UserAvatar(e){u=e}},2),n.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){s=e},useRoute(e){m=e},useTranslation(e){d=e},useEndpoint(e){E=e},usePermission(e){k=e},useRouter(e){h=e}},3),n.link(\"@tanstack/react-query\",{useQuery(e){p=e}},4),n.link(\"react\",{default(e){f=e},useCallback(e){b=e}},5),n.link(\"use-sync-external-store/shim\",{useSyncExternalStore(e){v=e}},6),n.link(\"../../../../../components/Contextualbar\",{ContextualbarScrollableContent(e){C=e},ContextualbarFooter(e){g=e}},7),n.link(\"../../../../../components/UserStatus\",{UserStatus(e){x=e}},8),n.link(\"../../../../../contexts/CallContext\",{useIsCallReady(e){y=e}},9),n.link(\"../../../../../hooks/useFormatDate\",{useFormatDate(e){F=e}},10),n.link(\"../../../../../lib/voip/parseOutboundPhoneNumber\",{parseOutboundPhoneNumber(e){I=e}},11),n.link(\"../../../../../omnichannel/ContactManagerInfo\",{default(e){N=e}},12),n.link(\"../../../components/AgentInfoDetails\",{default(e){S=e}},13),n.link(\"../../../components/CustomField\",{default(e){_=e}},14),n.link(\"../../../components/Field\",{default(e){B=e}},15),n.link(\"../../../components/Info\",{default(e){D=e}},16),n.link(\"../../../components/Label\",{default(e){M=e}},17),n.link(\"../../calls/contextualBar/VoipInfoCallButton\",{VoipInfoCallButton(e){R=e}},18),n.link(\"../../components/FormSkeleton\",{FormSkeleton(e){T=e}},19),n.exportDefault(e=>{let{id:t,rid:n=\"\",route:P}=e,U=d(),G=s(),O=h(),q=m(\"live\"),w=v(O.subscribeToRouteChange,b(()=>O.getRouteName(),[O])),z=F(),A=y(),L=k(\"view-livechat-room-customfields\"),V=k(\"edit-omnichannel-contact\"),j=E(\"GET\",\"/v1/livechat/custom-fields\"),{data:{customFields:H}={}}=p([\"/v1/livechat/custom-fields\"],()=>j()),Q=E(\"GET\",\"/v1/omnichannel/contact\"),{data:{contact:J}={},isInitialLoading:K,isError:W}=p([\"/v1/omnichannel/contact\",t],()=>Q({contactId:t}),{enabled:L&&!!t}),X=i(()=>{if(!V)return G({type:\"error\",message:U(\"Not_authorized\")});if(P){O.navigate({name:P,params:{tab:\"contact-profile\",context:\"edit\",id:n}});return}O.navigate({name:\"omnichannel-directory\",params:{page:\"contacts\",id:t,bar:\"edit\"}})});if(K)return f.createElement(l,{pi:24},f.createElement(T,null));if(W||!J)return f.createElement(l,{mbs:16},U(\"Contact_not_found\"));let{username:Y,visitorEmails:Z,phone:$,ts:ee,livechatData:et,lastChat:en,contactManager:el,status:ea}=J,er=\"live\"===w&&en,[{phoneNumber:eo=\"\"}]=null!=$?$:[{}],[{address:ec=\"\"}]=null!=Z?Z:[{}],ei=e=>{let t=null==H?void 0:H.find(t=>{let{_id:n}=t;return n===e});return(null==t?void 0:t.visibility)===\"visible\"&&(null==t?void 0:t.scope)===\"visitor\"},eu=Object.entries(null!=et?et:{}).filter(e=>{let[t,n]=e;return ei(t)&&n});return f.createElement(f.Fragment,null,f.createElement(C,{p:24},f.createElement(a,{block:4},Y&&f.createElement(B,null,f.createElement(M,null,\"\".concat(U(\"Name\"),\" / \").concat(U(\"Username\"))),f.createElement(D,{style:{display:\"flex\"}},f.createElement(u,{size:\"x40\",title:Y,username:Y}),f.createElement(S,{mis:10,name:Y,shortName:Y,status:f.createElement(x,{status:ea})}))),ec&&f.createElement(B,null,f.createElement(M,null,U(\"Email\")),f.createElement(D,{\"data-qa-id\":\"contactInfo-email\"},ec)),eo&&f.createElement(B,null,f.createElement(M,null,U(\"Phone\")),f.createElement(D,null,I(eo))),ee&&f.createElement(B,null,f.createElement(M,null,U(\"Created_at\")),f.createElement(D,null,z(ee))),en&&f.createElement(B,null,f.createElement(M,null,U(\"Last_Chat\")),f.createElement(D,null,z(en.ts))),L&&eu.map(e=>{let[t,n]=e;return f.createElement(_,{key:t,id:t,value:n})}),el&&f.createElement(B,null,f.createElement(M,null,U(\"Contact_Manager\")),f.createElement(N,{username:el.username})))),f.createElement(g,null,A&&f.createElement(r,{stretch:!0},f.createElement(f.Fragment,null,f.createElement(R,{phoneNumber:eo}),er&&f.createElement(c,{width:\"100%\"}))),f.createElement(r,{stretch:!0},er&&f.createElement(o,{icon:\"history\",onClick:()=>{let{_id:e=\"\"}=null!=en?en:{};q.push({id:e,tab:\"contact-chat-history\"})}},U(\"Chat_History\")),f.createElement(o,{icon:\"pencil\",onClick:X},U(\"Edit\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/contacts/contextualBar/ContactInfo.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Box, Margins, ButtonGroup, Button, Divider } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\\nimport type { RouteName } from '@rocket.chat/ui-contexts';\\nimport { useToastMessageDispatch, useRoute, useTranslation, useEndpoint, usePermission, useRouter } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React, { useCallback } from 'react';\\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\\n\\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../../../components/Contextualbar';\\nimport { UserStatus } from '../../../../../components/UserStatus';\\nimport { useIsCallReady } from '../../../../../contexts/CallContext';\\nimport { useFormatDate } from '../../../../../hooks/useFormatDate';\\nimport { parseOutboundPhoneNumber } from '../../../../../lib/voip/parseOutboundPhoneNumber';\\nimport ContactManagerInfo from '../../../../../omnichannel/ContactManagerInfo';\\nimport AgentInfoDetails from '../../../components/AgentInfoDetails';\\nimport CustomField from '../../../components/CustomField';\\nimport Field from '../../../components/Field';\\nimport Info from '../../../components/Info';\\nimport Label from '../../../components/Label';\\nimport { VoipInfoCallButton } from '../../calls/contextualBar/VoipInfoCallButton';\\nimport { FormSkeleton } from '../../components/FormSkeleton';\\n\\ntype ContactInfoProps = {\\n\\tid: string;\\n\\trid?: string;\\n\\troute?: RouteName;\\n};\\n\\nconst ContactInfo = ({ id: contactId, rid: roomId = '', route }: ContactInfoProps) => {\\n\\tconst t = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst router = useRouter();\\n\\tconst liveRoute = useRoute('live');\\n\\n\\tconst currentRouteName = useSyncExternalStore(\\n\\t\\trouter.subscribeToRouteChange,\\n\\t\\tuseCallback(() => router.getRouteName(), [router]),\\n\\t);\\n\\n\\tconst formatDate = useFormatDate();\\n\\tconst isCallReady = useIsCallReady();\\n\\n\\tconst canViewCustomFields = usePermission('view-livechat-room-customfields');\\n\\tconst canEditContact = usePermission('edit-omnichannel-contact');\\n\\n\\tconst getCustomFields = useEndpoint('GET', '/v1/livechat/custom-fields');\\n\\tconst { data: { customFields } = {} } = useQuery(['/v1/livechat/custom-fields'], () => getCustomFields());\\n\\n\\tconst getContact = useEndpoint('GET', '/v1/omnichannel/contact');\\n\\tconst {\\n\\t\\tdata: { contact } = {},\\n\\t\\tisInitialLoading,\\n\\t\\tisError,\\n\\t} = useQuery(['/v1/omnichannel/contact', contactId], () => getContact({ contactId }), {\\n\\t\\tenabled: canViewCustomFields && !!contactId,\\n\\t});\\n\\n\\tconst onEditButtonClick = useMutableCallback(() => {\\n\\t\\tif (!canEditContact) {\\n\\t\\t\\treturn dispatchToastMessage({ type: 'error', message: t('Not_authorized') });\\n\\t\\t}\\n\\n\\t\\tif (route) {\\n\\t\\t\\trouter.navigate({\\n\\t\\t\\t\\tname: route,\\n\\t\\t\\t\\tparams: {\\n\\t\\t\\t\\t\\ttab: 'contact-profile',\\n\\t\\t\\t\\t\\tcontext: 'edit',\\n\\t\\t\\t\\t\\tid: roomId,\\n\\t\\t\\t\\t},\\n\\t\\t\\t});\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\trouter.navigate({\\n\\t\\t\\tname: 'omnichannel-directory',\\n\\t\\t\\tparams: {\\n\\t\\t\\t\\tpage: 'contacts',\\n\\t\\t\\t\\tid: contactId,\\n\\t\\t\\t\\tbar: 'edit',\\n\\t\\t\\t},\\n\\t\\t});\\n\\t});\\n\\n\\tif (isInitialLoading) {\\n\\t\\treturn (\\n\\t\\t\\t<Box pi={24}>\\n\\t\\t\\t\\t<FormSkeleton />\\n\\t\\t\\t</Box>\\n\\t\\t);\\n\\t}\\n\\n\\tif (isError || !contact) {\\n\\t\\treturn <Box mbs={16}>{t('Contact_not_found')}</Box>;\\n\\t}\\n\\n\\tconst { username, visitorEmails, phone, ts, livechatData, lastChat, contactManager, status } = contact;\\n\\n\\tconst showContactHistory = currentRouteName === 'live' && lastChat;\\n\\n\\tconst [{ phoneNumber = '' }] = phone ?? [{}];\\n\\tconst [{ address: email = '' }] = visitorEmails ?? [{}];\\n\\n\\tconst checkIsVisibleAndScopeVisitor = (key: string) => {\\n\\t\\tconst field = customFields?.find(({ _id }) => _id === key);\\n\\t\\treturn field?.visibility === 'visible' && field?.scope === 'visitor';\\n\\t};\\n\\n\\tconst onChatHistory = () => {\\n\\t\\tconst { _id = '' } = lastChat ?? {};\\n\\t\\tliveRoute.push({ id: _id, tab: 'contact-chat-history' });\\n\\t};\\n\\n\\t// Serialized does not like unknown :(\\n\\tconst customFieldEntries = Object.entries((livechatData ?? {}) as unknown as Record<string, string>).filter(\\n\\t\\t([key, value]) => checkIsVisibleAndScopeVisitor(key) && value,\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<ContextualbarScrollableContent p={24}>\\n\\t\\t\\t\\t<Margins block={4}>\\n\\t\\t\\t\\t\\t{username && (\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Label>{`${t('Name')} / ${t('Username')}`}</Label>\\n\\t\\t\\t\\t\\t\\t\\t<Info style={{ display: 'flex' }}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<UserAvatar size='x40' title={username} username={username} />\\n\\t\\t\\t\\t\\t\\t\\t\\t<AgentInfoDetails mis={10} name={username} shortName={username} status={<UserStatus status={status} />} />\\n\\t\\t\\t\\t\\t\\t\\t</Info>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{email && (\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Label>{t('Email')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t<Info data-qa-id='contactInfo-email'>{email}</Info>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{phoneNumber && (\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Label>{t('Phone')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t<Info>{parseOutboundPhoneNumber(phoneNumber)}</Info>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t{ts && (\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Label>{t('Created_at')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t<Info>{formatDate(ts)}</Info>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t\\t{lastChat && (\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Label>{t('Last_Chat')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t<Info>{formatDate(lastChat.ts)}</Info>\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t)}\\n\\n\\t\\t\\t\\t\\t{canViewCustomFields &&\\n\\t\\t\\t\\t\\t\\tcustomFieldEntries.map(([key, value]) => {\\n\\t\\t\\t\\t\\t\\t\\treturn <CustomField key={key} id={key} value={value} />;\\n\\t\\t\\t\\t\\t\\t})}\\n\\n\\t\\t\\t\\t\\t{contactManager && (\\n\\t\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t\\t<Label>{t('Contact_Manager')}</Label>\\n\\t\\t\\t\\t\\t\\t\\t<ContactManagerInfo username={contactManager.username} />\\n\\t\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t</ContextualbarScrollableContent>\\n\\t\\t\\t<ContextualbarFooter>\\n\\t\\t\\t\\t{isCallReady && (\\n\\t\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t\\t<VoipInfoCallButton phoneNumber={phoneNumber} />\\n\\t\\t\\t\\t\\t\\t\\t{showContactHistory && <Divider width='100%' />}\\n\\t\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t{showContactHistory && (\\n\\t\\t\\t\\t\\t\\t<Button icon='history' onClick={onChatHistory}>\\n\\t\\t\\t\\t\\t\\t\\t{t('Chat_History')}\\n\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t<Button icon='pencil' onClick={onEditButtonClick}>\\n\\t\\t\\t\\t\\t\\t{t('Edit')}\\n\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t</ContextualbarFooter>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default ContactInfo;\\n\",null],\"names\":[\"Box\",\"Margins\",\"ButtonGroup\",\"Button\",\"Divider\",\"useMutableCallback\",\"UserAvatar\",\"useToastMessageDispatch\",\"useRoute\",\"useTranslation\",\"useEndpoint\",\"usePermission\",\"useRouter\",\"useQuery\",\"React\",\"useCallback\",\"useSyncExternalStore\",\"ContextualbarScrollableContent\",\"ContextualbarFooter\",\"UserStatus\",\"useIsCallReady\",\"useFormatDate\",\"parseOutboundPhoneNumber\",\"ContactManagerInfo\",\"AgentInfoDetails\",\"CustomField\",\"Field\",\"Info\",\"Label\",\"VoipInfoCallButton\",\"FormSkeleton\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"id\",\"contactId\",\"rid\",\"roomId\",\"route\",\"t\",\"dispatchToastMessage\",\"router\",\"liveRoute\",\"currentRouteName\",\"subscribeToRouteChange\",\"getRouteName\",\"formatDate\",\"isCallReady\",\"canViewCustomFields\",\"canEditContact\",\"getCustomFields\",\"data\",\"customFields\",\"getContact\",\"contact\",\"isInitialLoading\",\"isError\",\"enabled\",\"onEditButtonClick\",\"type\",\"message\",\"navigate\",\"name\",\"params\",\"tab\",\"context\",\"page\",\"bar\",\"createElement\",\"pi\",\"mbs\",\"username\",\"visitorEmails\",\"phone\",\"ts\",\"livechatData\",\"lastChat\",\"contactManager\",\"status\",\"showContactHistory\",\"phoneNumber\",\"address\",\"email\",\"checkIsVisibleAndScopeVisitor\",\"key\",\"field\",\"find\",\"_ref2\",\"_id\",\"visibility\",\"scope\",\"customFieldEntries\",\"Object\",\"entries\",\"filter\",\"_ref3\",\"value\",\"Fragment\",\"p\",\"block\",\"concat\",\"style\",\"display\",\"size\",\"title\",\"mis\",\"shortName\",\"map\",\"_ref4\",\"stretch\",\"width\",\"icon\",\"onClick\",\"onChatHistory\",\"push\"],\"mappings\":\"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\"}"}