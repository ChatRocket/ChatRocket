{"code":"function module(n,e,t){var r,u,o,i,a,l,s,c,f,d,k=[\"_id\",\"onChange\"];t.link(\"@babel/runtime/regenerator\",{default:function(n){r=n}},0),t.link(\"@babel/runtime/helpers/extends\",{default:function(n){u=n}},1),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(n){o=n}},2),t.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(n){i=n},useToastMessageDispatch:function(n){a=n}},0),t.link(\"@tanstack/react-query\",{useQuery:function(n){l=n}},1),t.link(\"react\",{default:function(n){s=n}},2),t.link(\"react-i18next\",{useTranslation:function(n){c=n}},3),t.link(\"../../../components/Skeleton\",{FormSkeleton:function(n){f=n}},4),t.link(\"./EditSound\",{default:function(n){d=n}},5),t.exportDefault(function(n){var e=n._id,t=n.onChange,p=o(n,k),h=c().t,m=i(\"GET\",\"/v1/custom-sounds.list\"),b=a(),g=l([\"custom-sounds\",e],function(){var n;return r.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.awrap(m({query:JSON.stringify({_id:e})}));case 2:if(0!==(n=t.sent.sounds).length){t.next=6;break}throw Error(h(\"No_results_found\"));case 6:return t.abrupt(\"return\",n[0]);case 7:case\"end\":return t.stop()}},null,null,null,Promise)},{onError:function(n){b({type:\"error\",message:n})}}),x=g.data,E=g.isLoading,y=g.refetch;return E?s.createElement(f,{pi:20}):x?s.createElement(d,u({data:x,onChange:function(){null==t||t(),null==y||y()}},p)):null})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/customSounds/EditCustomSound.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useEndpoint, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { FormSkeleton } from '../../../components/Skeleton';\\nimport EditSound from './EditSound';\\n\\ntype EditCustomSoundProps = {\\n\\t_id: string | undefined;\\n\\tonChange?: () => void;\\n\\tclose?: () => void;\\n};\\n\\nfunction EditCustomSound({ _id, onChange, ...props }: EditCustomSoundProps): ReactElement | null {\\n\\tconst { t } = useTranslation();\\n\\tconst getSounds = useEndpoint('GET', '/v1/custom-sounds.list');\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst { data, isLoading, refetch } = useQuery(\\n\\t\\t['custom-sounds', _id],\\n\\t\\tasync () => {\\n\\t\\t\\tconst { sounds } = await getSounds({ query: JSON.stringify({ _id }) });\\n\\n\\t\\t\\tif (sounds.length === 0) {\\n\\t\\t\\t\\tthrow new Error(t('No_results_found'));\\n\\t\\t\\t}\\n\\t\\t\\treturn sounds[0];\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tonError: (error) => {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t},\\n\\t\\t},\\n\\t);\\n\\n\\tif (isLoading) {\\n\\t\\treturn <FormSkeleton pi={20} />;\\n\\t}\\n\\n\\tif (!data) {\\n\\t\\treturn null;\\n\\t}\\n\\n\\tconst handleChange: () => void = () => {\\n\\t\\tonChange?.();\\n\\t\\trefetch?.();\\n\\t};\\n\\n\\treturn <EditSound data={data} onChange={handleChange} {...props} />;\\n}\\n\\nexport default EditCustomSound;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_extends\",\"_objectWithoutProperties\",\"useEndpoint\",\"useToastMessageDispatch\",\"useQuery\",\"React\",\"useTranslation\",\"FormSkeleton\",\"EditSound\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_id\",\"onChange\",\"props\",\"_excluded\",\"t\",\"_useTranslation\",\"getSounds\",\"dispatchToastMessage\",\"_useQuery\",\"sounds\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"query\",\"JSON\",\"stringify\",\"_await$getSounds\",\"sent\",\"length\",\"Error\",\"abrupt\",\"stop\",\"Promise\",\"onError\",\"error\",\"type\",\"message\",\"data\",\"isLoading\",\"refetch\",\"createElement\",\"pi\"],\"mappings\":\"2BAAAA,EAAgFC,EAAAC,EAAhFC,EAASC,EAAuEC,EAAAC,EAAAC,EAAAC,EAAAC,uBAA1DC,EAAAC,IAAA,CAAA,6BAA+B,CAAAC,QAAA,SAA2BC,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iCAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,iDAAA,CAAAC,QAAA,SAAAC,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAA1DH,EAAyBC,IAAA,CAAA,2BAAgC,CAACR,YAAA,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,wBAAA,SAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAN,SAAA,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAJ,eAAA,SAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,+BAAA,CAAAH,aAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,cAAA,CAAA,QAAA,SAAAE,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAhFH,EAAOI,aAAa,CAepB,SAAwBC,CAAA,EAAkD,IAA/CC,EAAGD,EAAHC,GAAG,CAAEC,EAAQF,EAARE,QAAQ,CAAKC,EAAKhB,EAAAa,EAAAI,GACzCC,EAACC,AAAKd,IAANa,CAAC,CACHE,EAAYnB,EAAY,MAAO,0BAE/BoB,EAAuBnB,IAE7BoB,EAAqCnB,EACpC,CAAC,gBAAiBW,EAAI,CACtB,WAAA,IAAAS,EAAA,OAAAzB,EAAA0B,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAE,IAAA,CAAA,EAAA7B,EAAA8B,KAAA,CAC0BR,EAAU,CAAES,MAAOC,KAAKC,SAAS,CAAC,CAAEjB,IAAAA,CAAG,EAAG,GAAG,MAAA,EAAxD,GAAA,AAEQ,IAAlBS,AAFIA,CAAAA,EAAMS,AAAwDP,EAAAQ,IAAA,CAA9DV,MAAM,AAANA,EAEGW,MAAM,CAAM,CAAAT,EAAAE,IAAA,CAAA,EAAA,KAAA,CAAA,MAChB,AAAIQ,MAAMjB,EAAE,oBAAoB,MAAA,EAAA,OAAAO,EAAAW,MAAA,CAAA,SAEhCb,CAAM,CAAC,EAAE,CAAA,MAAA,EAAA,IAAA,MAAA,OAAAE,EAAAY,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAEjB,CACCC,QAAS,SAACC,CAAK,EACdnB,EAAqB,CAAEoB,KAAM,QAASC,QAASF,CAAK,EACrD,IAbMG,EAAIrB,EAAJqB,IAAI,CAAEC,EAAStB,EAATsB,SAAS,CAAEC,EAAOvB,EAAPuB,OAAO,QAiBhC,AAAID,EACIxC,EAAA0C,aAAA,CAACxC,EAAY,CAACyC,GAAI,EAAG,GAGxBJ,EASEvC,EAAA0C,aAAA,CAACvC,EAASR,EAAA,CAAC4C,KAAMA,EAAM5B,SALG,WAChCA,MAAAA,GAAAA,IACA8B,MAAAA,GAAAA,GACD,CAEqD,EAAK7B,IARlD,IAST\"}"}