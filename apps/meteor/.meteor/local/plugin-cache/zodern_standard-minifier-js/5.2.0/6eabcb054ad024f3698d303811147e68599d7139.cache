{"code":"function module(e,t,n){n.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){a=e}},0),n.link(\"@rocket.chat/fuselage\",{Select:function(e){o=e},Box:function(e){r=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){u=e}},1),n.link(\"moment\",{default:function(e){c=e}},2),n.link(\"react\",{default:function(e){i=e},useMemo:function(e){s=e},useEffect:function(e){l=e}},3),n.link(\"react-i18next\",{useTranslation:function(e){f=e}},4);var a,o,r,u,c,i,s,l,f,d=function(e){return e.locale(\"en\").format(\"YYYY-MM-DD\")},k=d(c()),h=function(e,t){return{start:d(c().subtract(e,\"day\")),end:d(c().subtract(t,\"day\"))}};n.exportDefault(function(e){var t=e.onChange,n=f().t,b=u(function(e){t(e)}),y=s(function(){return[[\"today\",n(\"Today\")],[\"yesterday\",n(\"Yesterday\")],[\"thisWeek\",n(\"This_week\")],[\"previousWeek\",n(\"Previous_week\")],[\"thisMonth\",n(\"This_month\")],[\"alldates\",n(\"All\")]].map(function(e){var t=a(e,2);return[t[0],t[1]]})},[n]);l(function(){b({start:d(c(0)),end:k})},[b]);var m=u(function(e){switch(e){case\"today\":b(h(0,0));break;case\"yesterday\":b(h(1,1));break;case\"thisWeek\":b(h(7,0));break;case\"previousWeek\":b(h(14,7));break;case\"thisMonth\":b({start:d(c().subtract(0,\"month\").date(1)),end:d(c())});break;case\"alldates\":b({start:d(c(0)),end:k})}});return i.createElement(r,{flexGrow:0},i.createElement(o,{defaultSelectedKey:\"alldates\",width:\"100%\",options:y,onChange:m}))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/moderation/helpers/DateRangePicker.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Select, Box, type SelectOption } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport moment, { type Moment } from 'moment';\\nimport React, { useMemo, useEffect } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\ntype DateRangePickerProps = {\\n\\tonChange(range: { start: string; end: string }): void;\\n};\\n\\nconst formatToDateInput = (date: Moment) => date.locale('en').format('YYYY-MM-DD');\\n\\nconst todayDate = formatToDateInput(moment());\\n\\nconst getMonthRange = (monthsToSubtractFromToday: number) => ({\\n\\tstart: formatToDateInput(moment().subtract(monthsToSubtractFromToday, 'month').date(1)),\\n\\tend: formatToDateInput(monthsToSubtractFromToday === 0 ? moment() : moment().subtract(monthsToSubtractFromToday).date(0)),\\n});\\n\\nconst getWeekRange = (daysToSubtractFromStart: number, daysToSubtractFromEnd: number) => ({\\n\\tstart: formatToDateInput(moment().subtract(daysToSubtractFromStart, 'day')),\\n\\tend: formatToDateInput(moment().subtract(daysToSubtractFromEnd, 'day')),\\n});\\n\\nconst DateRangePicker = ({ onChange }: DateRangePickerProps) => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst handleRange = useMutableCallback((range) => {\\n\\t\\tonChange(range);\\n\\t});\\n\\n\\tconst timeOptions = useMemo<SelectOption[]>(() => {\\n\\t\\treturn [\\n\\t\\t\\t['today', t('Today')],\\n\\t\\t\\t['yesterday', t('Yesterday')],\\n\\t\\t\\t['thisWeek', t('This_week')],\\n\\t\\t\\t['previousWeek', t('Previous_week')],\\n\\t\\t\\t['thisMonth', t('This_month')],\\n\\t\\t\\t['alldates', t('All')],\\n\\t\\t].map(([value, label]) => [value, label] as SelectOption);\\n\\t}, [t]);\\n\\n\\tuseEffect(() => {\\n\\t\\thandleRange({\\n\\t\\t\\tstart: formatToDateInput(moment(0)),\\n\\t\\t\\tend: todayDate,\\n\\t\\t});\\n\\t}, [handleRange]);\\n\\n\\tconst handleOptionClick = useMutableCallback((action) => {\\n\\t\\tswitch (action) {\\n\\t\\t\\tcase 'today':\\n\\t\\t\\t\\thandleRange(getWeekRange(0, 0));\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase 'yesterday':\\n\\t\\t\\t\\thandleRange(getWeekRange(1, 1));\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase 'thisWeek':\\n\\t\\t\\t\\thandleRange(getWeekRange(7, 0));\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase 'previousWeek':\\n\\t\\t\\t\\thandleRange(getWeekRange(14, 7));\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase 'thisMonth':\\n\\t\\t\\t\\thandleRange(getMonthRange(0));\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase 'alldates':\\n\\t\\t\\t\\thandleRange({\\n\\t\\t\\t\\t\\tstart: formatToDateInput(moment(0)),\\n\\t\\t\\t\\t\\tend: todayDate,\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tdefault:\\n\\t\\t\\t\\tbreak;\\n\\t\\t}\\n\\t});\\n\\n\\treturn (\\n\\t\\t<Box flexGrow={0}>\\n\\t\\t\\t<Select defaultSelectedKey='alldates' width='100%' options={timeOptions} onChange={handleOptionClick} />\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default DateRangePicker;\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_slicedToArray\",\"Select\",\"Box\",\"useMutableCallback\",\"moment\",\"React\",\"useMemo\",\"useEffect\",\"useTranslation\",\"formatToDateInput\",\"date\",\"locale\",\"format\",\"todayDate\",\"getWeekRange\",\"daysToSubtractFromStart\",\"daysToSubtractFromEnd\",\"start\",\"subtract\",\"end\",\"exportDefault\",\"_ref\",\"onChange\",\"t\",\"_useTranslation\",\"handleRange\",\"range\",\"timeOptions\",\"map\",\"_ref2\",\"_ref3\",\"handleOptionClick\",\"action\",\"createElement\",\"flexGrow\",\"defaultSelectedKey\",\"width\",\"options\"],\"mappings\":\"uBAAiBA,EAAwBC,IAAM,CAAA,uCAAwB,CAAAC,QAAA,SAAAC,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAxDH,EAA0BC,IAAA,CAAA,wBAA6B,CAACI,OAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,EAAAG,IAAA,SAAAH,CAAA,EAAAG,EAAAH,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,8BAAA,CAAAM,mBAAA,SAAAJ,CAAA,EAAAI,EAAAJ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,SAAA,CAAA,QAAA,SAAAE,CAAA,EAAAK,EAAAL,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,QAAA,CAAA,QAAA,SAAAE,CAAA,EAAAM,EAAAN,CAAA,EAAAO,QAAA,SAAAP,CAAA,EAAAO,EAAAP,CAAA,EAAAQ,UAAA,SAAAR,CAAA,EAAAQ,EAAAR,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,gBAAA,CAAAW,eAAA,SAAAT,CAAA,EAAAS,EAAAT,CAAA,CAAA,EAAA,GAUvE,IAVAC,EAAAC,EAASC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAUjEC,EAAoB,SAACC,CAAY,EAAA,OAAKA,EAAKC,MAAM,CAAC,MAAMC,MAAM,CAAC,aAAa,EAE5EC,EAAYJ,EAAkBL,KAO9BU,EAAe,SAACC,CAA+B,CAAEC,CAA6B,EAAA,MAAM,CACzFC,MAAOR,EAAkBL,IAASc,QAAQ,CAACH,EAAyB,QACpEI,IAAKV,EAAkBL,IAASc,QAAQ,CAACF,EAAuB,QAChE,EAtBDpB,EAAOwB,aAAa,CAwBI,SAAAC,CAAA,EAAuC,IAApCC,EAAQD,EAARC,QAAQ,CAC1BC,EAACC,AAAKhB,IAANe,CAAC,CAEHE,EAActB,EAAmB,SAACuB,CAAK,EAC5CJ,EAASI,EACV,GAEMC,EAAcrB,EAAwB,WAC3C,MAAO,CACN,CAAC,QAASiB,EAAE,SAAS,CACrB,CAAC,YAAaA,EAAE,aAAa,CAC7B,CAAC,WAAYA,EAAE,aAAa,CAC5B,CAAC,eAAgBA,EAAE,iBAAiB,CACpC,CAAC,YAAaA,EAAE,cAAc,CAC9B,CAAC,WAAYA,EAAE,OAAO,CACtB,CAACK,GAAG,CAAC,SAAAC,CAAA,EAAA,IAAAC,EAAA9B,EAAA6B,EAAA,GAAc,MAAM,CAAbC,CAAA,CAAA,EAAA,CAAOA,CAAA,CAAA,EAAA,CAAoC,EACzD,EAAG,CAACP,EAAE,EAENhB,EAAU,WACTkB,EAAY,CACXR,MAAOR,EAAkBL,EAAO,IAChCe,IAAKN,GAEP,EAAG,CAACY,EAAY,EAEhB,IAAMM,EAAoB5B,EAAmB,SAAC6B,CAAM,EACnD,OAAQA,GACP,IAAK,QACJP,EAAYX,EAAa,EAAG,IAC5B,KACD,KAAK,YACJW,EAAYX,EAAa,EAAG,IAC5B,KACD,KAAK,WACJW,EAAYX,EAAa,EAAG,IAC5B,KACD,KAAK,eACJW,EAAYX,EAAa,GAAI,IAC7B,KACD,KAAK,YACJW,EAlD0D,CAC7DR,MAAOR,EAAkBL,IAASc,QAAQ,CAiDb,EAjDyC,SAASR,IAAI,CAAC,IACpFS,IAAKV,EAAoDL,OAiDtD,KACD,KAAK,WACJqB,EAAY,CACXR,MAAOR,EAAkBL,EAAO,IAChCe,IAAKN,GAKR,CACD,GAEA,OACCR,EAAA4B,aAAA,CAAC/B,EAAG,CAACgC,SAAU,CAAE,EAChB7B,EAAA4B,aAAA,CAAChC,EAAM,CAACkC,mBAAmB,WAAWC,MAAM,OAAOC,QAASV,EAAaL,SAAUS,CAAkB,GAGxG\"}"}