{"code":"function module(e,t,i){var n,o,a,u,l,c,r,d,s,v,f;i.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){n=e}},0),i.link(\"@rocket.chat/fuselage-hooks\",{useEffectEvent:function(e){o=e}},0),i.link(\"@rocket.chat/fuselage-ui-kit\",{UiKitContext:function(e){a=e}},1),i.link(\"@rocket.chat/gazzodown\",{MarkupInteractionContext:function(e){u=e}},2),i.link(\"react\",{default:function(e){l=e}},3),i.link(\"../../../lib/utils/detectEmoji\",{detectEmoji:function(e){c=e}},4),i.link(\"../../../lib/utils/preventSyntheticEvent\",{preventSyntheticEvent:function(e){r=e}},5),i.link(\"../../../uikit/hooks/useModalContextValue\",{useModalContextValue:function(e){d=e}},6),i.link(\"../../../uikit/hooks/useUiKitActionManager\",{useUiKitActionManager:function(e){s=e}},7),i.link(\"../../../uikit/hooks/useUiKitView\",{useUiKitView:function(e){v=e}},8),i.link(\"./ModalBlock\",{default:function(e){f=e}},9),i.exportDefault(function(e){var t=e.initialView,i=s(),k=v(t),p=k.view,w=k.errors,m=k.values,I=k.updateValues,h=k.state,C=d({view:p,errors:w,values:m,updateValues:I}),E=o(function(e){r(e),i.emitInteraction(p.appId,{type:\"viewSubmit\",payload:{view:n(n({},p),{},{state:h})},viewId:p.id})}),y=o(function(e){r(e),i.emitInteraction(p.appId,{type:\"viewClosed\",payload:{viewId:p.id,view:n(n({},p),{},{state:h}),isCleared:!1}})}),b=o(function(){i.emitInteraction(p.appId,{type:\"viewClosed\",payload:{viewId:p.id,view:n(n({},p),{},{state:h}),isCleared:!0}})});return l.createElement(a.Provider,{value:C},l.createElement(u.Provider,{value:{detectEmoji:c}},l.createElement(f,{view:p,errors:w,appId:p.appId,onSubmit:E,onCancel:y,onClose:b})))})}","map":"{\"version\":3,\"sources\":[\"client/views/modal/uikit/UiKitModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useEffectEvent } from '@rocket.chat/fuselage-hooks';\\nimport { UiKitContext } from '@rocket.chat/fuselage-ui-kit';\\nimport { MarkupInteractionContext } from '@rocket.chat/gazzodown';\\nimport type * as UiKit from '@rocket.chat/ui-kit';\\nimport React from 'react';\\nimport type { FormEvent } from 'react';\\n\\nimport { detectEmoji } from '../../../lib/utils/detectEmoji';\\nimport { preventSyntheticEvent } from '../../../lib/utils/preventSyntheticEvent';\\nimport { useModalContextValue } from '../../../uikit/hooks/useModalContextValue';\\nimport { useUiKitActionManager } from '../../../uikit/hooks/useUiKitActionManager';\\nimport { useUiKitView } from '../../../uikit/hooks/useUiKitView';\\nimport ModalBlock from './ModalBlock';\\n\\ntype UiKitModalProps = {\\n\\tkey: UiKit.ModalView['id']; // force re-mount when viewId changes\\n\\tinitialView: UiKit.ModalView;\\n};\\n\\nconst UiKitModal = ({ initialView }: UiKitModalProps) => {\\n\\tconst actionManager = useUiKitActionManager();\\n\\tconst { view, errors, values, updateValues, state } = useUiKitView(initialView);\\n\\tconst contextValue = useModalContextValue({ view, errors, values, updateValues });\\n\\n\\tconst handleSubmit = useEffectEvent((e: FormEvent) => {\\n\\t\\tpreventSyntheticEvent(e);\\n\\t\\tvoid actionManager.emitInteraction(view.appId, {\\n\\t\\t\\ttype: 'viewSubmit',\\n\\t\\t\\tpayload: {\\n\\t\\t\\t\\tview: {\\n\\t\\t\\t\\t\\t...view,\\n\\t\\t\\t\\t\\tstate,\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t\\tviewId: view.id,\\n\\t\\t});\\n\\t});\\n\\n\\tconst handleCancel = useEffectEvent((e: FormEvent) => {\\n\\t\\tpreventSyntheticEvent(e);\\n\\t\\tvoid actionManager.emitInteraction(view.appId, {\\n\\t\\t\\ttype: 'viewClosed',\\n\\t\\t\\tpayload: {\\n\\t\\t\\t\\tviewId: view.id,\\n\\t\\t\\t\\tview: {\\n\\t\\t\\t\\t\\t...view,\\n\\t\\t\\t\\t\\tstate,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tisCleared: false,\\n\\t\\t\\t},\\n\\t\\t});\\n\\t});\\n\\n\\tconst handleClose = useEffectEvent(() => {\\n\\t\\tvoid actionManager.emitInteraction(view.appId, {\\n\\t\\t\\ttype: 'viewClosed',\\n\\t\\t\\tpayload: {\\n\\t\\t\\t\\tviewId: view.id,\\n\\t\\t\\t\\tview: {\\n\\t\\t\\t\\t\\t...view,\\n\\t\\t\\t\\t\\tstate,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tisCleared: true,\\n\\t\\t\\t},\\n\\t\\t});\\n\\t});\\n\\n\\treturn (\\n\\t\\t<UiKitContext.Provider value={contextValue}>\\n\\t\\t\\t<MarkupInteractionContext.Provider\\n\\t\\t\\t\\tvalue={{\\n\\t\\t\\t\\t\\tdetectEmoji,\\n\\t\\t\\t\\t}}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<ModalBlock view={view} errors={errors} appId={view.appId} onSubmit={handleSubmit} onCancel={handleCancel} onClose={handleClose} />\\n\\t\\t\\t</MarkupInteractionContext.Provider>\\n\\t\\t</UiKitContext.Provider>\\n\\t);\\n};\\n\\nexport default UiKitModal;\\n\",null],\"names\":[\"_objectSpread\",\"useEffectEvent\",\"UiKitContext\",\"MarkupInteractionContext\",\"React\",\"detectEmoji\",\"preventSyntheticEvent\",\"useModalContextValue\",\"useUiKitActionManager\",\"useUiKitView\",\"ModalBlock\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"initialView\",\"actionManager\",\"_useUiKitView\",\"view\",\"errors\",\"values\",\"updateValues\",\"state\",\"contextValue\",\"handleSubmit\",\"e\",\"emitInteraction\",\"appId\",\"type\",\"payload\",\"viewId\",\"id\",\"handleCancel\",\"isCleared\",\"handleClose\",\"createElement\",\"Provider\",\"value\",\"onSubmit\",\"onCancel\",\"onClose\"],\"mappings\":\"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\"}"}