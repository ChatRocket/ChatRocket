{"code":"function module(e,t,n){let s,o,a,i,l,u,r;n.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){s=e}},0),n.link(\"@tanstack/react-query\",{useQuery(e){o=e}},1),n.link(\"react\",{default(e){a=e}},2),n.link(\"react-i18next\",{useTranslation(e){i=e}},3),n.link(\"../../../lib/utils/mapMessageFromApi\",{mapMessageFromApi(e){l=e}},4),n.link(\"../contexts/RoomContext\",{useRoom(e){u=e}},5),n.link(\"./MessageListTab\",{default(e){r=e}},6),n.exportDefault(()=>{let e=s(\"GET\",\"/v1/chat.getMentionedMessages\"),t=u(),n=o([\"rooms\",t._id,\"mentioned-messages\"],async()=>{let n=[];for(let s=0,o=await e({roomId:t._id,offset:0});o.count>0;s+=o.count,o=await e({roomId:t._id,offset:s}))n.push(...o.messages.map(l));return n}),{t:m}=i();return a.createElement(r,{iconName:\"at\",title:m(\"Mentions\"),emptyResultMessage:m(\"No_mentions_found\"),context:\"mentions\",queryResult:n})})}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/MentionsTab.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ReactElement } from 'react';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { mapMessageFromApi } from '../../../lib/utils/mapMessageFromApi';\\nimport { useRoom } from '../contexts/RoomContext';\\nimport MessageListTab from './MessageListTab';\\n\\nconst MentionsTab = (): ReactElement => {\\n\\tconst getMentionedMessages = useEndpoint('GET', '/v1/chat.getMentionedMessages');\\n\\n\\tconst room = useRoom();\\n\\n\\tconst mentionedMessagesQueryResult = useQuery(['rooms', room._id, 'mentioned-messages'] as const, async () => {\\n\\t\\tconst messages: IMessage[] = [];\\n\\n\\t\\tfor (\\n\\t\\t\\tlet offset = 0, result = await getMentionedMessages({ roomId: room._id, offset: 0 });\\n\\t\\t\\tresult.count > 0;\\n\\t\\t\\t// eslint-disable-next-line no-await-in-loop\\n\\t\\t\\toffset += result.count, result = await getMentionedMessages({ roomId: room._id, offset })\\n\\t\\t) {\\n\\t\\t\\tmessages.push(...result.messages.map(mapMessageFromApi));\\n\\t\\t}\\n\\n\\t\\treturn messages;\\n\\t});\\n\\n\\tconst { t } = useTranslation();\\n\\n\\treturn (\\n\\t\\t<MessageListTab\\n\\t\\t\\ticonName='at'\\n\\t\\t\\ttitle={t('Mentions')}\\n\\t\\t\\temptyResultMessage={t('No_mentions_found')}\\n\\t\\t\\tcontext='mentions'\\n\\t\\t\\tqueryResult={mentionedMessagesQueryResult}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default MentionsTab;\\n\",null],\"names\":[\"useEndpoint\",\"useQuery\",\"React\",\"useTranslation\",\"mapMessageFromApi\",\"useRoom\",\"MessageListTab\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"MentionsTab\",\"getMentionedMessages\",\"room\",\"mentionedMessagesQueryResult\",\"_id\",\"messages\",\"offset\",\"result\",\"roomId\",\"count\",\"push\",\"map\",\"t\",\"createElement\",\"iconName\",\"title\",\"emptyResultMessage\",\"context\",\"queryResult\"],\"mappings\":\"2BACAA,EAAuDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9CC,EAAaC,IAAA,CAAM,2BAA2B,CAAAR,YAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAP,SAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAL,eAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,uCAAA,CAAAJ,kBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,0BAAA,CAAAH,QAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mBAAA,CAAAE,QAAAD,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAvDF,EAAOI,aAAa,CAUAC,KACnB,IAAMC,EAAuBb,EAAY,MAAO,iCAE1Cc,EAAOT,IAEPU,EAA+Bd,EAAS,CAAC,QAASa,EAAKE,GAAG,CAAE,qBAA8B,CAAE,UACjG,IAAMC,EAAuB,EAAE,CAE/B,IACC,IAAIC,EAAS,EAAGC,EAAS,MAAMN,EAAqB,CAAEO,OAAQN,EAAKE,GAAG,CAAEE,OAAQ,CAAC,GACjFC,EAAOE,KAAK,CAAG,EAEfH,GAAUC,EAAOE,KAAK,CAAEF,EAAS,MAAMN,EAAqB,CAAEO,OAAQN,EAAKE,GAAG,CAAEE,OAAAA,CAAM,GAEtFD,EAASK,IAAI,IAAIH,EAAOF,QAAQ,CAACM,GAAG,CAACnB,IAGtC,OAAOa,CACR,GAEM,CAAEO,EAAAA,CAAAA,CAAG,CAAGrB,IAEd,OACCD,EAAAuB,aAAA,CAACnB,EAAc,CACdoB,SAAS,KACTC,MAAOH,EAAE,YACTI,mBAAoBJ,EAAE,qBACtBK,QAAQ,WACRC,YAAaf,CAA6B,EAG7C\"}"}