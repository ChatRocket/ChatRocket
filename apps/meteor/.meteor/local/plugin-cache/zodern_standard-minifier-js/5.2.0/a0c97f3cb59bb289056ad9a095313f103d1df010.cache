{"code":"function module(t,e,i){i.export({formatCustomFieldsMetadata:function(){return n}});var n=function(t,e){return t?t.filter(function(t){return\"visible\"===t.visibility&&t.scope===e}).map(function(t){var e=t._id,i=t.label,n=t.options,r=t.defaultValue;return{name:e,label:i,type:n?\"select\":\"text\",required:t.required,defaultValue:r,options:null==n?void 0:n.split(\",\").map(function(t){return[t.trim(),t.trim()]})}}):[]}}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/utils/formatCustomFieldsMetadata.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatCustomField, Serialized, CustomFieldMetadata } from '@rocket.chat/core-typings';\\n\\nexport const formatCustomFieldsMetadata = (\\n\\tcustomFields: Serialized<ILivechatCustomField>[],\\n\\tscope: 'visitor' | 'room',\\n): CustomFieldMetadata[] => {\\n\\tif (!customFields) {\\n\\t\\treturn [];\\n\\t}\\n\\n\\treturn customFields\\n\\t\\t.filter((field) => field.visibility === 'visible' && field.scope === scope)\\n\\t\\t.map(({ _id, label, options, defaultValue, required }) => ({\\n\\t\\t\\tname: _id,\\n\\t\\t\\tlabel,\\n\\t\\t\\ttype: options ? 'select' : 'text',\\n\\t\\t\\trequired,\\n\\t\\t\\tdefaultValue,\\n\\t\\t\\toptions: options?.split(',').map((item) => [item.trim(), item.trim()]),\\n\\t\\t}));\\n};\\n\",null],\"names\":[\"module\",\"export\",\"formatCustomFieldsMetadata\",\"customFields\",\"scope\",\"filter\",\"field\",\"visibility\",\"map\",\"_ref\",\"_id\",\"label\",\"options\",\"defaultValue\",\"name\",\"type\",\"required\",\"split\",\"item\",\"trim\"],\"mappings\":\"uBAEAA,EAAOC,MAAM,CAAA,CAAAC,2BAA6B,WACzC,OACAA,CAC0B,CAAA,GAHpB,IAAMA,EAA6B,SACzCC,CAAgD,CAChDC,CAAyB,SAEzB,AAAKD,EAIEA,EACLE,MAAM,CAAC,SAACC,CAAK,EAAA,MAAKA,AAAqB,YAArBA,EAAMC,UAAU,EAAkBD,EAAMF,KAAK,GAAKA,CAAK,GACzEI,GAAG,CAAC,SAAAC,CAAA,EAAA,IAAGC,EAAGD,EAAHC,GAAG,CAAEC,EAAKF,EAALE,KAAK,CAAEC,EAAOH,EAAPG,OAAO,CAAEC,EAAYJ,EAAZI,YAAY,CAAU,MAAQ,CAC1DC,KAAMJ,EACNC,MAAAA,EACAI,KAAMH,EAAU,SAAW,OAC3BI,SAJkDP,EAARO,QAAQ,CAKlDH,aAAAA,EACAD,QAASA,MAAAA,EAAO,KAAA,EAAPA,EAASK,KAAK,CAAC,KAAKT,GAAG,CAAC,SAACU,CAAI,EAAA,MAAK,CAACA,EAAKC,IAAI,GAAID,EAAKC,IAAI,GAAG,GACrE,GAZM,EAAE,AAaX\"}"}