{"code":"function module(e,t,s){let a,l,r;s.export({useDropTarget:()=>i}),s.link(\"react\",{useCallback(e){a=e},useMemo(e){l=e},useState(e){r=e}},0);let u=e=>e.types.includes(\"Files\"),n=e=>e.types.includes(\"text/uri-list\")&&e.types.includes(\"text/html\"),i=()=>{let[e,t]=r(!1),s=a(e=>{e.stopPropagation(),(u(e.dataTransfer)||n(e.dataTransfer))&&t(!0)},[]),i=a(()=>{t(!1)},[]),o=l(()=>({onDragEnter:s}),[s]),p=l(()=>({visible:e,onDismiss:i}),[e,i]);return{triggerProps:o,overlayProps:p}}}","map":"{\"version\":3,\"sources\":[\"client/views/room/body/hooks/useDropTarget.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { DragEvent } from 'react';\\nimport type React from 'react';\\nimport { useCallback, useMemo, useState } from 'react';\\n\\nconst hasFilesToUpload = (dataTransfer: DataTransfer): boolean => dataTransfer.types.includes('Files');\\n\\nconst hasURLToUpload = (dataTransfer: DataTransfer): boolean =>\\n\\tdataTransfer.types.includes('text/uri-list') && dataTransfer.types.includes('text/html');\\n\\nexport const useDropTarget = (): {\\n\\ttriggerProps: {\\n\\t\\tonDragEnter: (event: React.DragEvent<Element>) => void;\\n\\t};\\n\\toverlayProps: {\\n\\t\\tvisible: boolean;\\n\\t\\tonDismiss: () => void;\\n\\t};\\n} => {\\n\\tconst [visible, setVisible] = useState(false);\\n\\n\\tconst onDragEnter = useCallback((event: DragEvent) => {\\n\\t\\tevent.stopPropagation();\\n\\n\\t\\tif (!hasFilesToUpload(event.dataTransfer) && !hasURLToUpload(event.dataTransfer)) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tsetVisible(true);\\n\\t}, []);\\n\\n\\tconst onDismiss = useCallback(() => {\\n\\t\\tsetVisible(false);\\n\\t}, []);\\n\\n\\tconst triggerProps = useMemo(() => ({ onDragEnter }), [onDragEnter]);\\n\\tconst overlayProps = useMemo(() => ({ visible, onDismiss }), [visible, onDismiss]);\\n\\n\\treturn {\\n\\t\\ttriggerProps,\\n\\t\\toverlayProps,\\n\\t};\\n};\\n\",null],\"names\":[\"useCallback\",\"useMemo\",\"useState\",\"module\",\"export\",\"useDropTarget\",\"link\",\"v\",\"hasFilesToUpload\",\"dataTransfer\",\"types\",\"includes\",\"hasURLToUpload\",\"visible\",\"setVisible\",\"onDragEnter\",\"event\",\"stopPropagation\",\"onDismiss\",\"triggerProps\",\"overlayProps\"],\"mappings\":\"2BAE+CA,EAAQC,EAAAC,EAAvDC,EAAOC,MAAE,CAAA,CAAAC,cAAoBA,IAAEA,CAAU,GAAcF,EAAAG,IAAA,CAAA,QAAA,CAAAN,YAAAO,CAAA,EAAAP,EAAAO,CAAA,EAAAN,QAAAM,CAAA,EAAAN,EAAAM,CAAA,EAAAL,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAEvD,IAAMC,EAAoBC,GAAwCA,EAAaC,KAAK,CAACC,QAAQ,CAAC,SAExFC,EAAkBH,GACvBA,EAAaC,KAAK,CAACC,QAAQ,CAAC,kBAAoBF,EAAaC,KAAK,CAACC,QAAQ,CAAC,aAEhEN,EAAgBA,KAS5B,GAAM,CAACQ,EAASC,EAAW,CAAGZ,EAAS,CAAA,GAEjCa,EAAcf,EAAagB,IAChCA,EAAMC,eAAe,GAEjB,CAAA,AAACT,EAAiBQ,EAAMP,YAAY,GAAMG,EAAeI,EAAMP,YAAY,CAAA,GAI/EK,EAAW,CAAA,EACZ,EAAG,EAAE,EAECI,EAAYlB,EAAY,KAC7Bc,EAAW,CAAA,EACZ,EAAG,EAAE,EAECK,EAAelB,EAAQ,IAAO,CAAA,CAAEc,YAAAA,CAAW,CAAA,EAAK,CAACA,EAAY,EAC7DK,EAAenB,EAAQ,IAAO,CAAA,CAAEY,QAAAA,EAASK,UAAAA,CAAS,CAAA,EAAK,CAACL,EAASK,EAAU,EAEjF,MAAO,CACNC,aAAAA,EACAC,aAAAA,EAEF\"}"}