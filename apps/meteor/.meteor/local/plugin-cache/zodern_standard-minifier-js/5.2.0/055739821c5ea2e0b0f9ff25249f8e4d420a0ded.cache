{"code":"function module(n,o,t){var e,i,r;t.link(\"@rocket.chat/random\",{Random:function(n){e=n}},0),t.link(\"meteor/meteor\",{Meteor:function(n){i=n}},1),t.link(\"../../lib/2fa/overrideLoginMethod\",{callLoginMethod:function(n){r=n}},2),i.loginWithCas=function(n,o){var i=e.id();t.dynamicImport(\"../../lib/openCASLoginPopup\").then(function(n){return(0,n.openCASLoginPopup)(i)}).then(function(){return r({methodArguments:[{cas:{credentialToken:i}}]})}).then(function(){return null==o?void 0:o()}).catch(o)}}","map":"{\"version\":3,\"sources\":[\"client/meteorOverrides/login/cas.ts\",\"<anon>\"],\"sourcesContent\":[\"import { Random } from '@rocket.chat/random';\\nimport { Meteor } from 'meteor/meteor';\\n\\nimport { callLoginMethod } from '../../lib/2fa/overrideLoginMethod';\\n\\ndeclare module 'meteor/meteor' {\\n\\t// eslint-disable-next-line @typescript-eslint/no-namespace\\n\\tnamespace Meteor {\\n\\t\\tfunction loginWithCas(_?: unknown, callback?: (err?: any) => void): void;\\n\\t}\\n}\\n\\nMeteor.loginWithCas = (_, callback) => {\\n\\tconst credentialToken = Random.id();\\n\\timport('../../lib/openCASLoginPopup')\\n\\t\\t.then(({ openCASLoginPopup }) => openCASLoginPopup(credentialToken))\\n\\t\\t.then(() => callLoginMethod({ methodArguments: [{ cas: { credentialToken } }] }))\\n\\t\\t.then(() => callback?.())\\n\\t\\t.catch(callback);\\n};\\n\",null],\"names\":[\"Random\",\"Meteor\",\"callLoginMethod\",\"module\",\"link\",\"v\",\"loginWithCas\",\"_\",\"callback\",\"credentialToken\",\"id\",\"dynamicImport\",\"then\",\"_ref\",\"openCASLoginPopup\",\"methodArguments\",\"cas\",\"catch\"],\"mappings\":\"2BAAAA,EAA6CC,EAAAC,EAApCC,EAAQC,IAAA,CAAM,sBAAsB,CAAAJ,OAAA,SAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gBAAA,CAAAH,OAAA,SAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,oCAAA,CAAAF,gBAAA,SAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAY7CJ,EAAOK,YAAY,CAAG,SAACC,CAAC,CAAEC,CAAQ,EACjC,IAAMC,EAAkBT,EAAOU,EAAE,GACjCP,EAAAQ,aAAA,CAAO,+BACLC,IAAI,CAAC,SAAAC,CAAA,EAAoB,MAAOC,AAAPD,CAAAA,EAAAA,EAAjBC,iBAAiB,AAAjBA,EAA0CL,EAAgB,GAClEG,IAAI,CAAC,WAAA,OAAMV,EAAgB,CAAEa,gBAAiB,CAAC,CAAEC,IAAK,CAAEP,gBAAAA,CAAe,CAAE,EAAE,AAAC,EAAG,GAC/EG,IAAI,CAAC,WAAA,OAAMJ,MAAAA,EAAQ,KAAA,EAARA,GAAY,GACvBS,KAAK,CAACT,EACT\"}"}