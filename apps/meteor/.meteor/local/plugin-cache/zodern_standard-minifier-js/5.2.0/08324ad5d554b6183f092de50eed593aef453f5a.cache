{"code":"function module(e,t,n){let l,a,r,c,i,o,u,s,m,d,k,E,g,h,p,y,b,T,P,C,S,f,G,v,x,w,_,D;let A=[\"current\",\"itemsPerPage\",\"setItemsPerPage\",\"setCurrent\"];n.link(\"@babel/runtime/helpers/extends\",{default(e){l=e}},0),n.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){a=e}},1),n.link(\"@rocket.chat/fuselage\",{Pagination(e){r=e},States(e){c=e},StatesIcon(e){i=e},StatesTitle(e){o=e},StatesActions(e){u=e},StatesAction(e){s=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMediaQuery(e){m=e},useDebouncedValue(e){d=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useRoute(e){k=e},useTranslation(e){E=e},useEndpoint(e){g=e}},2),n.link(\"@tanstack/react-query\",{useQuery(e){h=e}},3),n.link(\"react\",{default(e){p=e},useMemo(e){y=e},useState(e){b=e}},4),n.link(\"../../../../../components/FilterByText\",{default(e){T=e}},5),n.link(\"../../../../../components/GenericNoResults\",{default(e){P=e}},6),n.link(\"../../../../../components/GenericTable\",{GenericTable(e){C=e},GenericTableHeader(e){S=e},GenericTableHeaderCell(e){f=e},GenericTableBody(e){G=e},GenericTableLoadingTable(e){v=e}},7),n.link(\"../../../../../components/GenericTable/hooks/usePagination\",{usePagination(e){x=e}},8),n.link(\"../../../../../components/GenericTable/hooks/useSort\",{useSort(e){w=e}},9),n.link(\"../../../hooks/useDirectoryQuery\",{useDirectoryQuery(e){_=e}},10),n.link(\"./TeamsTableRow\",{default(e){D=e}},11),n.exportDefault(()=>{let e=E(),t=m(\"(min-width: 768px)\"),[n,Q]=b(\"\"),I=d(n,500),R=x(),{current:B,itemsPerPage:F,setItemsPerPage:H,setCurrent:M}=R,N=a(R,A),{sortBy:j,sortDirection:q,setSort:L}=w(\"name\"),V=y(()=>[p.createElement(f,{key:\"name\",direction:q,active:\"name\"===j,onClick:L,sort:\"name\"},e(\"Name\")),p.createElement(f,{key:\"channelsCount\",w:\"100px\"},e(\"Channels\")),t&&p.createElement(f,{key:\"createdAt\",direction:q,active:\"createdAt\"===j,onClick:L,sort:\"createdAt\",w:\"150px\"},e(\"Created_at\"))].filter(Boolean),[L,j,q,e,t]),W=k(\"channel\"),z=k(\"group\"),J=g(\"GET\",\"/v1/directory\"),K=_({text:I,current:B,itemsPerPage:F},[j,q],\"teams\"),{data:O,isFetched:U,isLoading:X,isError:Y,refetch:Z}=h([\"getDirectoryData\",K],()=>J(K)),$=y(()=>(e,t)=>n=>{e&&(\"click\"===n.type||\"Enter\"===n.key)&&(\"c\"===t?W.push({name:e}):z.push({name:e}))},[W,z]);return p.createElement(p.Fragment,null,p.createElement(T,{placeholder:e(\"Teams_Search_teams\"),onChange:Q}),X&&p.createElement(C,null,p.createElement(S,null,V),p.createElement(G,null,p.createElement(v,{headerCells:3}))),(null==O?void 0:O.result)&&O.result.length>0&&U&&p.createElement(p.Fragment,null,p.createElement(C,null,p.createElement(S,null,V),p.createElement(G,null,O.result.map(e=>p.createElement(D,{key:e._id,team:e,onClick:$,mediaQuery:t})))),p.createElement(r,l({divider:!0,current:B,itemsPerPage:F,count:(null==O?void 0:O.total)||0,onSetItemsPerPage:H,onSetCurrent:M},N))),U&&(null==O?void 0:O.result.length)===0&&p.createElement(P,null),Y&&p.createElement(c,null,p.createElement(i,{name:\"warning\",variation:\"danger\"}),p.createElement(o,null,e(\"Something_went_wrong\")),p.createElement(u,null,p.createElement(s,{onClick:()=>Z()},e(\"Reload_page\")))))})}","map":"{\"version\":3,\"sources\":[\"client/views/directory/tabs/teams/TeamsTable/TeamsTable.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport { Pagination, States, StatesIcon, StatesTitle, StatesActions, StatesAction } from '@rocket.chat/fuselage';\\nimport { useMediaQuery, useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { useRoute, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React, { useMemo, useState } from 'react';\\n\\nimport FilterByText from '../../../../../components/FilterByText';\\nimport GenericNoResults from '../../../../../components/GenericNoResults';\\nimport {\\n\\tGenericTable,\\n\\tGenericTableHeader,\\n\\tGenericTableHeaderCell,\\n\\tGenericTableBody,\\n\\tGenericTableLoadingTable,\\n} from '../../../../../components/GenericTable';\\nimport { usePagination } from '../../../../../components/GenericTable/hooks/usePagination';\\nimport { useSort } from '../../../../../components/GenericTable/hooks/useSort';\\nimport { useDirectoryQuery } from '../../../hooks/useDirectoryQuery';\\nimport TeamsTableRow from './TeamsTableRow';\\n\\nconst TeamsTable = () => {\\n\\tconst t = useTranslation();\\n\\n\\tconst mediaQuery = useMediaQuery('(min-width: 768px)');\\n\\n\\tconst [text, setText] = useState('');\\n\\tconst debouncedText = useDebouncedValue(text, 500);\\n\\n\\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\\n\\tconst { sortBy, sortDirection, setSort } = useSort<'name' | 'usersCount' | 'lastMessage' | 'createdAt'>('name');\\n\\n\\tconst headers = useMemo(\\n\\t\\t() =>\\n\\t\\t\\t[\\n\\t\\t\\t\\t<GenericTableHeaderCell key='name' direction={sortDirection} active={sortBy === 'name'} onClick={setSort} sort='name'>\\n\\t\\t\\t\\t\\t{t('Name')}\\n\\t\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t\\t<GenericTableHeaderCell key='channelsCount' w='100px'>\\n\\t\\t\\t\\t\\t{t('Channels')}\\n\\t\\t\\t\\t</GenericTableHeaderCell>,\\n\\t\\t\\t\\tmediaQuery && (\\n\\t\\t\\t\\t\\t<GenericTableHeaderCell\\n\\t\\t\\t\\t\\t\\tkey='createdAt'\\n\\t\\t\\t\\t\\t\\tdirection={sortDirection}\\n\\t\\t\\t\\t\\t\\tactive={sortBy === 'createdAt'}\\n\\t\\t\\t\\t\\t\\tonClick={setSort}\\n\\t\\t\\t\\t\\t\\tsort='createdAt'\\n\\t\\t\\t\\t\\t\\tw='150px'\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t{t('Created_at')}\\n\\t\\t\\t\\t\\t</GenericTableHeaderCell>\\n\\t\\t\\t\\t),\\n\\t\\t\\t].filter(Boolean),\\n\\t\\t[setSort, sortBy, sortDirection, t, mediaQuery],\\n\\t);\\n\\n\\tconst channelsRoute = useRoute('channel');\\n\\tconst groupsRoute = useRoute('group');\\n\\n\\tconst getDirectoryData = useEndpoint('GET', '/v1/directory');\\n\\tconst query = useDirectoryQuery({ text: debouncedText, current, itemsPerPage }, [sortBy, sortDirection], 'teams');\\n\\tconst { data, isFetched, isLoading, isError, refetch } = useQuery(['getDirectoryData', query], () => getDirectoryData(query));\\n\\n\\tconst onClick = useMemo(\\n\\t\\t() => (name: IRoom['name'], type: IRoom['t']) => (e: React.KeyboardEvent | React.MouseEvent) => {\\n\\t\\t\\tif (name && (e.type === 'click' || (e as React.KeyboardEvent).key === 'Enter')) {\\n\\t\\t\\t\\ttype === 'c' ? channelsRoute.push({ name }) : groupsRoute.push({ name });\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[channelsRoute, groupsRoute],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<FilterByText placeholder={t('Teams_Search_teams')} onChange={setText} />\\n\\t\\t\\t{isLoading && (\\n\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t<GenericTableLoadingTable headerCells={3} />\\n\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t)}\\n\\t\\t\\t{data?.result && data.result.length > 0 && isFetched && (\\n\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t\\t\\t{data.result.map((team) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t<TeamsTableRow\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tkey={team._id}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tteam={team as unknown as IRoom & { roomsCount: number }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClick={onClick}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmediaQuery={mediaQuery}\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t\\t\\t</GenericTable>\\n\\t\\t\\t\\t\\t<Pagination\\n\\t\\t\\t\\t\\t\\tdivider\\n\\t\\t\\t\\t\\t\\tcurrent={current}\\n\\t\\t\\t\\t\\t\\titemsPerPage={itemsPerPage}\\n\\t\\t\\t\\t\\t\\tcount={data?.total || 0}\\n\\t\\t\\t\\t\\t\\tonSetItemsPerPage={onSetItemsPerPage}\\n\\t\\t\\t\\t\\t\\tonSetCurrent={onSetCurrent}\\n\\t\\t\\t\\t\\t\\t{...paginationProps}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</>\\n\\t\\t\\t)}\\n\\t\\t\\t{isFetched && data?.result.length === 0 && <GenericNoResults />}\\n\\t\\t\\t{isError && (\\n\\t\\t\\t\\t<States>\\n\\t\\t\\t\\t\\t<StatesIcon name='warning' variation='danger' />\\n\\t\\t\\t\\t\\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\\n\\t\\t\\t\\t\\t<StatesActions>\\n\\t\\t\\t\\t\\t\\t<StatesAction onClick={() => refetch()}>{t('Reload_page')}</StatesAction>\\n\\t\\t\\t\\t\\t</StatesActions>\\n\\t\\t\\t\\t</States>\\n\\t\\t\\t)}\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default TeamsTable;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"Pagination\",\"States\",\"StatesIcon\",\"StatesTitle\",\"StatesActions\",\"StatesAction\",\"useMediaQuery\",\"useDebouncedValue\",\"useRoute\",\"useTranslation\",\"useEndpoint\",\"useQuery\",\"React\",\"useMemo\",\"useState\",\"FilterByText\",\"GenericNoResults\",\"GenericTable\",\"GenericTableHeader\",\"GenericTableHeaderCell\",\"GenericTableBody\",\"GenericTableLoadingTable\",\"usePagination\",\"useSort\",\"useDirectoryQuery\",\"TeamsTableRow\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"TeamsTable\",\"t\",\"mediaQuery\",\"text\",\"setText\",\"debouncedText\",\"_usePagination\",\"current\",\"itemsPerPage\",\"setItemsPerPage\",\"onSetItemsPerPage\",\"setCurrent\",\"onSetCurrent\",\"paginationProps\",\"_excluded\",\"sortBy\",\"sortDirection\",\"setSort\",\"headers\",\"createElement\",\"key\",\"direction\",\"active\",\"onClick\",\"sort\",\"w\",\"filter\",\"Boolean\",\"channelsRoute\",\"groupsRoute\",\"getDirectoryData\",\"query\",\"data\",\"isFetched\",\"isLoading\",\"isError\",\"refetch\",\"name\",\"type\",\"e\",\"push\",\"Fragment\",\"placeholder\",\"onChange\",\"headerCells\",\"result\",\"length\",\"map\",\"team\",\"_id\",\"divider\",\"count\",\"total\",\"variation\"],\"mappings\":\"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\"}"}