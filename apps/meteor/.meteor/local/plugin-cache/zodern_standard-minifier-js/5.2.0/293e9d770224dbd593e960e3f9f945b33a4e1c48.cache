{"code":"function module(t,n,e){var o,i,a,r,l,c,u,s,f,m,d,k,v;e.link(\"@rocket.chat/fuselage\",{Avatar:function(t){o=t},Box:function(t){i=t}},0),e.link(\"@rocket.chat/ui-contexts\",{useEndpoint:function(t){a=t},useTranslation:function(t){r=t}},1),e.link(\"@tanstack/react-query\",{useQuery:function(t){l=t}},2),e.link(\"react\",{default:function(t){c=t}},3),e.link(\"../../../../components/UserStatus\",{UserStatus:function(t){u=t}},4),e.link(\"../../../../lib/rooms/roomCoordinator\",{roomCoordinator:function(t){s=t}},5),e.link(\"../../components/AgentInfoDetails\",{default:function(t){f=t}},6),e.link(\"../../components/Field\",{default:function(t){m=t}},7),e.link(\"../../components/Info\",{default:function(t){d=t}},8),e.link(\"../../components/Label\",{default:function(t){k=t}},9),e.link(\"./FormSkeleton\",{FormSkeleton:function(t){v=t}},10),e.exportDefault(function(t){var n=t.contact,e=t.room,E=r(),p=n.status,h=e.fname,g=e.t,x=s.getRoomDirectives(g).getAvatarPath(e)||\"\",y=a(\"GET\",\"/v1/livechat/visitors.info\"),C=l([\"/v1/livechat/visitors.info\",n._id],function(){return y({visitorId:n._id})}),I=C.data,S=C.isLoading,_=C.isError;if(S)return c.createElement(v,null);if(_||!(null!=I&&I.visitor))return c.createElement(i,{mbs:16},E(\"Contact_not_found\"));var b=I.visitor,A=b.username,D=b.name;return c.createElement(m,null,c.createElement(k,null,E(\"Contact\")),c.createElement(d,{style:{display:\"flex\"}},c.createElement(o,{size:\"x40\",title:h,url:x}),c.createElement(f,{\"data-qa-id\":\"contactInfo-name\",mis:10,name:D||A,shortName:A,status:c.createElement(u,{status:p})})))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/components/ContactField.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IOmnichannelGenericRoom, IVisitor } from '@rocket.chat/core-typings';\\nimport { Avatar, Box } from '@rocket.chat/fuselage';\\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React from 'react';\\n\\nimport { UserStatus } from '../../../../components/UserStatus';\\nimport { roomCoordinator } from '../../../../lib/rooms/roomCoordinator';\\nimport AgentInfoDetails from '../../components/AgentInfoDetails';\\nimport Field from '../../components/Field';\\nimport Info from '../../components/Info';\\nimport Label from '../../components/Label';\\nimport { FormSkeleton } from './FormSkeleton';\\n\\ntype ContactFieldProps = {\\n\\tcontact: IVisitor;\\n\\troom: IOmnichannelGenericRoom;\\n};\\n\\nconst ContactField = ({ contact, room }: ContactFieldProps) => {\\n\\tconst t = useTranslation();\\n\\tconst { status } = contact;\\n\\tconst { fname, t: type } = room;\\n\\tconst avatarUrl = roomCoordinator.getRoomDirectives(type).getAvatarPath(room) || '';\\n\\n\\tconst getVisitorInfo = useEndpoint('GET', '/v1/livechat/visitors.info');\\n\\tconst { data, isLoading, isError } = useQuery(['/v1/livechat/visitors.info', contact._id], () =>\\n\\t\\tgetVisitorInfo({ visitorId: contact._id }),\\n\\t);\\n\\n\\tif (isLoading) {\\n\\t\\treturn <FormSkeleton />;\\n\\t}\\n\\n\\tif (isError || !data?.visitor) {\\n\\t\\treturn <Box mbs={16}>{t('Contact_not_found')}</Box>;\\n\\t}\\n\\n\\tconst {\\n\\t\\tvisitor: { username, name },\\n\\t} = data;\\n\\n\\tconst displayName = name || username;\\n\\n\\treturn (\\n\\t\\t<Field>\\n\\t\\t\\t<Label>{t('Contact')}</Label>\\n\\t\\t\\t<Info style={{ display: 'flex' }}>\\n\\t\\t\\t\\t<Avatar size='x40' title={fname} url={avatarUrl} />\\n\\t\\t\\t\\t<AgentInfoDetails\\n\\t\\t\\t\\t\\tdata-qa-id='contactInfo-name'\\n\\t\\t\\t\\t\\tmis={10}\\n\\t\\t\\t\\t\\tname={displayName}\\n\\t\\t\\t\\t\\tshortName={username}\\n\\t\\t\\t\\t\\tstatus={<UserStatus status={status} />}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</Info>\\n\\t\\t</Field>\\n\\t);\\n};\\n\\nexport default ContactField;\\n\",null],\"names\":[\"Avatar\",\"Box\",\"useEndpoint\",\"useTranslation\",\"useQuery\",\"React\",\"UserStatus\",\"roomCoordinator\",\"AgentInfoDetails\",\"Field\",\"Info\",\"Label\",\"FormSkeleton\",\"module\",\"link\",\"v\",\"exportDefault\",\"_ref\",\"contact\",\"room\",\"t\",\"status\",\"fname\",\"type\",\"avatarUrl\",\"getRoomDirectives\",\"getAvatarPath\",\"getVisitorInfo\",\"_useQuery\",\"_id\",\"visitorId\",\"data\",\"isLoading\",\"isError\",\"createElement\",\"visitor\",\"mbs\",\"_data$visitor\",\"username\",\"name\",\"style\",\"display\",\"size\",\"title\",\"url\",\"mis\",\"shortName\"],\"mappings\":\"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\"}"}