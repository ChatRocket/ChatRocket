{"code":"function module(e,n,t){var c,o,a,i,r,u,l,s,f,d,m,k,p;t.link(\"@babel/runtime/regenerator\",{default:function(e){c=e}},0),t.link(\"@rocket.chat/fuselage\",{IconButton:function(e){o=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){a=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){i=e},useToastMessageDispatch:function(e){r=e},useRoute:function(e){u=e},useTranslation:function(e){l=e},useEndpoint:function(e){s=e}},2),t.link(\"react\",{default:function(e){f=e},memo:function(e){d=e}},3),t.link(\"../../../components/GenericModal\",{default:function(e){m=e}},4),t.link(\"../../../components/GenericTable\",{GenericTableCell:function(e){k=e},GenericTableRow:function(e){p=e}},5),t.exportDefault(d(function(e){var n=e._id,t=e.name,d=e.description,T=e.enabled,h=e.reload,g=l(),E=i(),v=u(\"omnichannel-triggers\"),x=s(\"DELETE\",\"/v1/livechat/triggers/:_id\",{_id:n}),b=r(),w=a(function(){v.push({context:\"edit\",id:n})}),C=a(function(e){[\"Enter\",\"Space\"].includes(e.nativeEvent.code)&&w()}),y=a(function(e){e.stopPropagation(),E(f.createElement(m,{variant:\"danger\",onConfirm:function(){return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.awrap(x());case 3:b({type:\"success\",message:g(\"Trigger_removed\")}),h(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b({type:\"error\",message:e.t0});case 10:E();case 11:case\"end\":return e.stop()}},null,null,[[0,7]],Promise)},onCancel:function(){return E()},confirmText:g(\"Delete\")}))});return f.createElement(p,{key:n,role:\"link\",action:!0,tabIndex:0,onClick:w,onKeyDown:C},f.createElement(k,{withTruncatedText:!0},t),f.createElement(k,{withTruncatedText:!0},d),f.createElement(k,{withTruncatedText:!0},T?g(\"Yes\"):g(\"No\")),f.createElement(k,{withTruncatedText:!0},f.createElement(o,{icon:\"trash\",small:!0,title:g(\"Remove\"),onClick:y})))}))}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/triggers/TriggersRow.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatTrigger } from '@rocket.chat/core-typings';\\nimport { IconButton } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useRoute, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport React, { memo } from 'react';\\n\\nimport GenericModal from '../../../components/GenericModal';\\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\\n\\ntype TriggersRowProps = Pick<ILivechatTrigger, '_id' | 'name' | 'description' | 'enabled'> & { reload: () => void };\\n\\nconst TriggersRow = ({ _id, name, description, enabled, reload }: TriggersRowProps) => {\\n\\tconst t = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst triggersRoute = useRoute('omnichannel-triggers');\\n\\tconst deleteTrigger = useEndpoint('DELETE', '/v1/livechat/triggers/:_id', { _id });\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst handleClick = useMutableCallback(() => {\\n\\t\\ttriggersRoute.push({\\n\\t\\t\\tcontext: 'edit',\\n\\t\\t\\tid: _id,\\n\\t\\t});\\n\\t});\\n\\n\\tconst handleKeyDown = useMutableCallback((e) => {\\n\\t\\tif (!['Enter', 'Space'].includes(e.nativeEvent.code)) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\thandleClick();\\n\\t});\\n\\n\\tconst handleDelete = useMutableCallback((e) => {\\n\\t\\te.stopPropagation();\\n\\t\\tconst onDeleteTrigger = async () => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait deleteTrigger();\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Trigger_removed') });\\n\\t\\t\\t\\treload();\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t}\\n\\t\\t\\tsetModal();\\n\\t\\t};\\n\\n\\t\\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteTrigger} onCancel={() => setModal()} confirmText={t('Delete')} />);\\n\\t});\\n\\n\\treturn (\\n\\t\\t<GenericTableRow key={_id} role='link' action tabIndex={0} onClick={handleClick} onKeyDown={handleKeyDown}>\\n\\t\\t\\t<GenericTableCell withTruncatedText>{name}</GenericTableCell>\\n\\t\\t\\t<GenericTableCell withTruncatedText>{description}</GenericTableCell>\\n\\t\\t\\t<GenericTableCell withTruncatedText>{enabled ? t('Yes') : t('No')}</GenericTableCell>\\n\\t\\t\\t<GenericTableCell withTruncatedText>\\n\\t\\t\\t\\t<IconButton icon='trash' small title={t('Remove')} onClick={handleDelete} />\\n\\t\\t\\t</GenericTableCell>\\n\\t\\t</GenericTableRow>\\n\\t);\\n};\\n\\nexport default memo(TriggersRow);\\n\",null],\"names\":[\"_regeneratorRuntime\",\"IconButton\",\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useRoute\",\"useTranslation\",\"useEndpoint\",\"React\",\"memo\",\"GenericModal\",\"GenericTableCell\",\"GenericTableRow\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_id\",\"name\",\"description\",\"enabled\",\"reload\",\"t\",\"setModal\",\"triggersRoute\",\"deleteTrigger\",\"dispatchToastMessage\",\"handleClick\",\"push\",\"context\",\"id\",\"handleKeyDown\",\"e\",\"includes\",\"nativeEvent\",\"code\",\"handleDelete\",\"stopPropagation\",\"createElement\",\"variant\",\"onConfirm\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"type\",\"message\",\"t0\",\"stop\",\"Promise\",\"onCancel\",\"confirmText\",\"key\",\"role\",\"action\",\"tabIndex\",\"onClick\",\"onKeyDown\",\"withTruncatedText\",\"icon\",\"small\",\"title\"],\"mappings\":\"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\"}"}