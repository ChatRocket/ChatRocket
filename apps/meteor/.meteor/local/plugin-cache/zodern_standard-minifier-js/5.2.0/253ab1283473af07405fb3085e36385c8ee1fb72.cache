{"code":"Package[\"core-runtime\"].queue(\"rocketchat:streamer\",function(){var e,t,s=Package.meteor.Meteor;Package.meteor.global,Package.meteor.meteorEnv;var r=Package[\"ddp-common\"].DDPCommon,n=Package.check.check,i=Package.check.Match,o=Package.tracker.Tracker;Package.tracker.Deps;var a=Package.modules.meteorInstall,c=Package.promise.Promise;return{export:function(){return{Streamer:t}},require:a({node_modules:{meteor:{\"rocketchat:streamer\":{lib:{\"ev.js\":function t(){e=class e{constructor(){this.handlers={}}emit(e){for(var t=arguments.length,s=Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return this.handlers[e]&&this.handlers[e].forEach(e=>e.apply(this,s))}emitWithScope(e,t){for(var s=arguments.length,r=Array(s>2?s-2:0),n=2;n<s;n++)r[n-2]=arguments[n];return this.handlers[e]&&this.handlers[e].forEach(e=>e.apply(t,r))}listenerCount(e){return this.handlers[e]&&this.handlers[e].length||0}on(e,t){this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)}once(e,t){let s=this;this.on(e,function r(){s.removeListener(e,r),t.apply(this,arguments)})}removeListener(e,t){if(!this.handlers[e])return;let s=this.handlers[e].indexOf(t);s>-1&&this.handlers[e].splice(s,1)}removeAllListeners(e){this.handlers[e]=void 0}}}},client:{\"client.js\":function t(){let t=i.Where(function(e){return n(e,String),e.length>0});s.StreamerCentral=new class t extends e{constructor(){super(),this.instances={},this.ddpConnections={}}setupDdpConnection(e,t){t.hasMeteorStreamerEventListeners||(t._stream.on(\"message\",e=>{let t=r.parseDDP(e);t&&\"changed\"===t.msg&&t.collection&&t.fields&&t.fields.eventName&&t.fields.args&&(t.fields.args.unshift(t.fields.eventName),t.fields.args.unshift(t.collection),this.emit.apply(this,t.fields.args))}),this.storeDdpConnection(e,t))}storeDdpConnection(e,t){t.hasMeteorStreamerEventListeners=!0,this.ddpConnections[e]=t}},s.Streamer=class r extends e{constructor(t){var r;let{useCollection:n=!1,ddpConnection:i=s.connection}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s.StreamerCentral.instances[t])return console.warn(\"Streamer instance already exists:\",t),s.StreamerCentral.instances[t];s.StreamerCentral.setupDdpConnection(t,i),super(),r=this,this.ddpConnection=i||s.connection,s.StreamerCentral.instances[t]=this,this.name=t,this.useCollection=n,this.subscriptions={},s.StreamerCentral.on(this.subscriptionName,function(t){if(r.subscriptions[t]){for(var s=arguments.length,n=Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];r.subscriptions[t].lastMessage=n,e.prototype.emit.call(r,t,...n)}}),this.ddpConnection._stream.on(\"reset\",()=>{e.prototype.emit.call(this,\"__reconnect__\")})}get name(){return this._name}set name(e){n(e,String),this._name=e}get subscriptionName(){return\"stream-\".concat(this.name)}get useCollection(){return this._useCollection}set useCollection(e){n(e,Boolean),this._useCollection=e}stop(e){return this.subscriptions[e]&&this.subscriptions[e].subscription&&this.subscriptions[e].subscription.stop()}stopAll(){Object.keys(this.subscriptions).forEach(e=>this.removeAllListeners(e))}unsubscribe(t){delete this.subscriptions[t],e.prototype.removeAllListeners.call(this,t)}subscribe(e,t){return new c((s,r)=>{if(this.subscriptions[e])return s();let n=o.nonreactive(()=>this.ddpConnection.subscribe(this.subscriptionName,e,{useCollection:this.useCollection,args:t},{onStop:()=>r(this.unsubscribe(e)),onReady:s}));this.subscriptions[e]={subscription:n}})}onReconnect(t){\"function\"==typeof t&&e.prototype.on.call(this,\"__reconnect__\",t)}getLastMessageFromEvent(e){let t=this.subscriptions[e];if(t&&t.lastMessage)return t.lastMessage}removeAllListeners(t){return e.prototype.removeAllListeners.call(this,t),this.stop(t)}removeListener(t){1===this.listenerCount(t)&&this.stop(t);for(var s=arguments.length,r=Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];e.prototype.removeListener.call(this,t,...r)}on(s){n(s,t);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];let a=i.pop();return n(a,Function),e.prototype.on.call(this,s,a),this.subscribe(s,i)}once(s){var r=this;n(s,t);for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];let c=o.pop();return n(c,Function),e.prototype.once.call(this,s,function(){if(c(...arguments),0===r.listenerCount(s))return r.stop(s)}),this.subscribe(s,o)}emit(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];this.ddpConnection.call(this.subscriptionName,...t)}}}}}}}},{extensions:[\".js\",\".json\"]}),eagerModulePaths:[\"/node_modules/meteor/rocketchat:streamer/lib/ev.js\",\"/node_modules/meteor/rocketchat:streamer/client/client.js\"]}});","map":"{\"version\":3,\"sources\":[\"packages/rocketchat:streamer/lib/ev.js\",\"packages/rocketchat:streamer/client/client.js\",\"<anon>\"],\"sourcesContent\":[\"/* globals EV:true */\\n/* exported EV */\\n\\nEV = class EV {\\n\\tconstructor() {\\n\\t\\tthis.handlers = {};\\n\\t}\\n\\n\\temit(event, ...args) {\\n\\t\\treturn this.handlers[event] && this.handlers[event].forEach(handler => handler.apply(this, args));\\n\\t}\\n\\n\\temitWithScope(event, scope, ...args) {\\n\\t\\treturn this.handlers[event] && this.handlers[event].forEach(handler => handler.apply(scope, args));\\n\\t}\\n\\n\\tlistenerCount(event) {\\n\\t\\treturn (this.handlers[event] && this.handlers[event].length) || 0;\\n\\t}\\n\\n\\ton(event, callback) {\\n\\t\\tif (!this.handlers[event]) {\\n\\t\\t\\tthis.handlers[event] = [];\\n\\t\\t}\\n\\t\\tthis.handlers[event].push(callback);\\n\\t}\\n\\n\\tonce(event, callback) {\\n\\t\\tconst self = this;\\n\\t\\tthis.on(event, function onetimeCallback() {\\n\\t\\t\\tself.removeListener(event, onetimeCallback);\\n\\t\\t\\tcallback.apply(this, arguments);\\n\\t\\t});\\n\\t}\\n\\n\\tremoveListener(event, callback) {\\n\\t\\tif (!this.handlers[event]) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tconst index = this.handlers[event].indexOf(callback);\\n\\t\\tif (index > -1) {\\n\\t\\t\\tthis.handlers[event].splice(index, 1);\\n\\t\\t}\\n\\t}\\n\\n\\tremoveAllListeners(event) {\\n\\t\\tthis.handlers[event] = undefined;\\n\\t}\\n};\\n\",\"/* globals DDPCommon, EV */\\n/* eslint-disable new-cap */\\nconst NonEmptyString = Match.Where(function (x) {\\n\\tcheck(x, String);\\n\\treturn x.length > 0;\\n});\\n\\nclass StreamerCentral extends EV {\\n\\tconstructor() {\\n\\t\\tsuper();\\n\\n\\t\\tthis.instances = {};\\n\\t\\tthis.ddpConnections = {};\\t\\t// since each Streamer instance can provide its own ddp connection, store them by streamer name\\n\\t}\\n\\n\\tsetupDdpConnection(name, ddpConnection) {\\n\\t\\t// make sure we only setup event listeners for each ddp connection once\\n\\t\\tif (ddpConnection.hasMeteorStreamerEventListeners) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tddpConnection._stream.on('message', (raw_msg) => {\\n\\t\\t\\tconst msg = DDPCommon.parseDDP(raw_msg);\\n\\t\\t\\tif (msg && msg.msg === 'changed' && msg.collection && msg.fields && msg.fields.eventName && msg.fields.args) {\\n\\t\\t\\t\\tmsg.fields.args.unshift(msg.fields.eventName);\\n\\t\\t\\t\\tmsg.fields.args.unshift(msg.collection);\\n\\t\\t\\t\\tthis.emit.apply(this, msg.fields.args);\\n\\t\\t\\t}\\n\\t\\t});\\n\\t\\t// store ddp connection\\n\\t\\tthis.storeDdpConnection(name, ddpConnection);\\n\\n\\t}\\n\\n\\tstoreDdpConnection(name, ddpConnection) {\\n\\t\\t// mark the connection as setup for Streamer, and store it\\n\\t\\tddpConnection.hasMeteorStreamerEventListeners = true;\\n\\t\\tthis.ddpConnections[name] = ddpConnection;\\n\\t}\\n}\\n\\nMeteor.StreamerCentral = new StreamerCentral;\\n\\nMeteor.Streamer = class Streamer extends EV {\\n\\tconstructor(name, { useCollection = false, ddpConnection = Meteor.connection } = {}) {\\n\\t\\tif (Meteor.StreamerCentral.instances[name]) {\\n\\t\\t\\tconsole.warn('Streamer instance already exists:', name);\\n\\t\\t\\treturn Meteor.StreamerCentral.instances[name];\\n\\t\\t}\\n\\t\\tMeteor.StreamerCentral.setupDdpConnection(name, ddpConnection);\\n\\n\\t\\tsuper();\\n\\n\\t\\tthis.ddpConnection = ddpConnection || Meteor.connection;\\n\\n\\t\\tMeteor.StreamerCentral.instances[name] = this;\\n\\n\\t\\tthis.name = name;\\n\\t\\tthis.useCollection = useCollection;\\n\\t\\tthis.subscriptions = {};\\n\\n\\t\\tMeteor.StreamerCentral.on(this.subscriptionName, (eventName, ...args) => {\\n\\t\\t\\tif (this.subscriptions[eventName]) {\\n\\t\\t\\t\\tthis.subscriptions[eventName].lastMessage = args;\\n\\t\\t\\t\\tEV.prototype.emit.call(this, eventName, ...args);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tthis.ddpConnection._stream.on('reset', () => {\\n\\t\\t\\tEV.prototype.emit.call(this, '__reconnect__');\\n\\t\\t});\\n\\t}\\n\\n\\tget name() {\\n\\t\\treturn this._name;\\n\\t}\\n\\n\\tset name(name) {\\n\\t\\tcheck(name, String);\\n\\t\\tthis._name = name;\\n\\t}\\n\\n\\tget subscriptionName() {\\n\\t\\treturn `stream-${this.name}`;\\n\\t}\\n\\n\\tget useCollection() {\\n\\t\\treturn this._useCollection;\\n\\t}\\n\\n\\tset useCollection(useCollection) {\\n\\t\\tcheck(useCollection, Boolean);\\n\\t\\tthis._useCollection = useCollection;\\n\\t}\\n\\n\\tstop(eventName) {\\n\\t\\treturn this.subscriptions[eventName] && this.subscriptions[eventName].subscription && this.subscriptions[eventName].subscription.stop();\\n\\t}\\n\\n\\tstopAll() {\\n\\t\\tObject.keys(this.subscriptions).forEach(eventName => this.removeAllListeners(eventName));\\n\\t}\\n\\n\\tunsubscribe(eventName) {\\n\\t\\tdelete this.subscriptions[eventName];\\n\\t\\tEV.prototype.removeAllListeners.call(this, eventName);\\n\\t}\\n\\n\\tsubscribe(eventName, args) {\\n\\t\\treturn new Promise((resolve, reject) => {\\n\\t\\t\\tif (this.subscriptions[eventName]) {\\n\\t\\t\\t\\treturn resolve();\\n\\t\\t\\t}\\n\\t\\t\\tconst subscription = Tracker.nonreactive(() => this.ddpConnection.subscribe(\\n\\t\\t\\t\\tthis.subscriptionName,\\n\\t\\t\\t\\teventName,\\n\\t\\t\\t\\t{ useCollection: this.useCollection, args },\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tonStop: () => reject(this.unsubscribe(eventName)),\\n\\t\\t\\t\\t\\tonReady: resolve\\n\\t\\t\\t\\t}\\n\\t\\t\\t));\\n\\t\\t\\tthis.subscriptions[eventName] = { subscription };\\n\\t\\t})\\n\\t}\\n\\n\\tonReconnect(fn) {\\n\\t\\tif (typeof fn === 'function') {\\n\\t\\t\\tEV.prototype.on.call(this, '__reconnect__', fn);\\n\\t\\t}\\n\\t}\\n\\n\\tgetLastMessageFromEvent(eventName) {\\n\\t\\tconst subscription = this.subscriptions[eventName];\\n\\t\\tif (subscription && subscription.lastMessage) {\\n\\t\\t\\treturn subscription.lastMessage;\\n\\t\\t}\\n\\t}\\n\\n\\tremoveAllListeners(eventName) {\\n\\t\\tEV.prototype.removeAllListeners.call(this, eventName);\\n\\t\\treturn this.stop(eventName);\\n\\t}\\n\\n\\tremoveListener(eventName, ...args) {\\n\\t\\tif (this.listenerCount(eventName) === 1) {\\n\\t\\t\\tthis.stop(eventName);\\n\\t\\t}\\n\\t\\tEV.prototype.removeListener.call(this, eventName, ...args);\\n\\t}\\n\\n\\ton(eventName, ...args) {\\n\\t\\tcheck(eventName, NonEmptyString);\\n\\n\\t\\tconst callback = args.pop();\\n\\t\\tcheck(callback, Function);\\n\\n\\t\\tEV.prototype.on.call(this, eventName, callback);\\n\\n\\t\\treturn this.subscribe(eventName, args);\\n\\t}\\n\\n\\tonce(eventName, ...args) {\\n\\t\\tcheck(eventName, NonEmptyString);\\n\\n\\t\\tconst callback = args.pop();\\n\\t\\tcheck(callback, Function);\\n\\n\\t\\tEV.prototype.once.call(this, eventName, (...args) => {\\n\\t\\t\\tcallback(...args);\\n\\t\\t\\tif (this.listenerCount(eventName) === 0) {\\n\\t\\t\\t\\treturn this.stop(eventName);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\treturn this.subscribe(eventName, args);\\n\\t}\\n\\n\\temit(...args) {\\n\\t\\tthis.ddpConnection.call(this.subscriptionName, ...args);\\n\\t}\\n};\\n\",null],\"names\":[\"EV\",\"constructor\",\"handlers\",\"emit\",\"event\",\"_len\",\"arguments\",\"length\",\"args\",\"Array\",\"_key\",\"forEach\",\"handler\",\"apply\",\"emitWithScope\",\"scope\",\"_len2\",\"_key2\",\"listenerCount\",\"on\",\"callback\",\"push\",\"once\",\"self\",\"onetimeCallback\",\"removeListener\",\"index\",\"indexOf\",\"splice\",\"removeAllListeners\",\"undefined\",\"NonEmptyString\",\"Match\",\"Where\",\"x\",\"check\",\"String\",\"Meteor\",\"StreamerCentral\",\"instances\",\"ddpConnections\",\"setupDdpConnection\",\"name\",\"ddpConnection\",\"hasMeteorStreamerEventListeners\",\"_stream\",\"raw_msg\",\"msg\",\"DDPCommon\",\"parseDDP\",\"collection\",\"fields\",\"eventName\",\"unshift\",\"storeDdpConnection\",\"Streamer\",\"_this\",\"useCollection\",\"connection\",\"console\",\"warn\",\"this\",\"subscriptions\",\"subscriptionName\",\"lastMessage\",\"prototype\",\"call\",\"_name\",\"concat\",\"_useCollection\",\"Boolean\",\"stop\",\"subscription\",\"stopAll\",\"Object\",\"keys\",\"unsubscribe\",\"subscribe\",\"Promise\",\"resolve\",\"reject\",\"Tracker\",\"nonreactive\",\"onStop\",\"onReady\",\"onReconnect\",\"fn\",\"getLastMessageFromEvent\",\"_len3\",\"_key3\",\"pop\",\"Function\",\"_this2\",\"_len4\",\"_key4\",\"_len5\",\"_key5\"],\"mappings\":\"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\"}"}