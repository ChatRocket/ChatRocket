{"code":"function module(e,t,l){let n,a,r,c,i,u,o,m,s,d,E,_,p,h,f,k,b,g,x,C,R;l.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),l.link(\"@rocket.chat/fuselage\",{Button(e){a=e},ButtonGroup(e){r=e},TextInput(e){c=e},Field(e){i=e},FieldLabel(e){u=e},FieldRow(e){o=e},FieldError(e){m=e},FieldHint(e){s=e},TextAreaInput(e){d=e},ToggleSwitch(e){E=e},FieldGroup(e){_=e}},0),l.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch(e){p=e},useRoute(e){h=e},useEndpoint(e){f=e}},1),l.link(\"react\",{default(e){k=e},useCallback(e){b=e}},2),l.link(\"react-hook-form\",{useForm(e){g=e},Controller(e){x=e}},3),l.link(\"react-i18next\",{useTranslation(e){C=e}},4),l.link(\"../../../components/Contextualbar\",{ContextualbarScrollableContent(e){R=e}},5),l.exportDefault(()=>{let{t:e}=C(),t=p(),{register:l,handleSubmit:v,formState:{errors:w},control:y}=g(),F=f(\"POST\",\"/v1/oauth-apps.create\"),T=h(\"admin-oauth-apps\"),A=b(()=>T.push({}),[T]),S=async l=>{try{await F(l),A(),t({type:\"success\",message:e(\"Application_added\")})}catch(e){t({type:\"error\",message:e})}};return k.createElement(R,{w:\"full\"},k.createElement(_,{maxWidth:\"x600\",alignSelf:\"center\",w:\"full\"},k.createElement(i,null,k.createElement(o,null,k.createElement(u,null,e(\"Active\")),k.createElement(x,{name:\"active\",control:y,defaultValue:!1,render:e=>{let{field:t}=e;return k.createElement(E,{onChange:t.onChange,checked:t.value})}}))),k.createElement(i,null,k.createElement(u,null,e(\"Application_Name\")),k.createElement(o,null,k.createElement(c,l(\"name\",{required:e(\"Required_field\",{field:e(\"Name\")})}))),k.createElement(s,null,e(\"Give_the_application_a_name_This_will_be_seen_by_your_users\")),(null==w?void 0:w.name)&&k.createElement(m,null,w.name.message)),k.createElement(i,null,k.createElement(u,null,e(\"Redirect_URI\")),k.createElement(o,null,k.createElement(d,n({rows:5},l(\"redirectUri\",{required:!0})))),k.createElement(s,null,e(\"After_OAuth2_authentication_users_will_be_redirected_to_this_URL\")),(null==w?void 0:w.redirectUri)&&k.createElement(m,null,e(\"Required_field\",{field:e(\"Redirect_URI\")}))),k.createElement(i,null,k.createElement(o,null,k.createElement(r,{stretch:!0},k.createElement(a,{onClick:A},e(\"Cancel\")),k.createElement(a,{primary:!0,onClick:v(S)},e(\"Save\")))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/oauthApps/OAuthAddApp.tsx\",\"<anon>\"],\"sourcesContent\":[\"import {\\n\\tButton,\\n\\tButtonGroup,\\n\\tTextInput,\\n\\tField,\\n\\tFieldLabel,\\n\\tFieldRow,\\n\\tFieldError,\\n\\tFieldHint,\\n\\tTextAreaInput,\\n\\tToggleSwitch,\\n\\tFieldGroup,\\n} from '@rocket.chat/fuselage';\\nimport { useToastMessageDispatch, useRoute, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback } from 'react';\\nimport type { SubmitHandler } from 'react-hook-form';\\nimport { useForm, Controller } from 'react-hook-form';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { ContextualbarScrollableContent } from '../../../components/Contextualbar';\\n\\ntype OAuthAddAppPayload = {\\n\\tname: string;\\n\\tactive: boolean;\\n\\tredirectUri: string;\\n};\\n\\nconst OAuthAddApp = (): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst {\\n\\t\\tregister,\\n\\t\\thandleSubmit,\\n\\t\\tformState: { errors },\\n\\t\\tcontrol,\\n\\t} = useForm<OAuthAddAppPayload>();\\n\\n\\tconst saveApp = useEndpoint('POST', '/v1/oauth-apps.create');\\n\\n\\tconst router = useRoute('admin-oauth-apps');\\n\\n\\tconst close = useCallback(() => router.push({}), [router]);\\n\\n\\tconst onSubmit: SubmitHandler<OAuthAddAppPayload> = async (data) => {\\n\\t\\ttry {\\n\\t\\t\\tawait saveApp(data);\\n\\t\\t\\tclose();\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Application_added') });\\n\\t\\t} catch (error) {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t}\\n\\t};\\n\\n\\treturn (\\n\\t\\t<ContextualbarScrollableContent w='full'>\\n\\t\\t\\t<FieldGroup maxWidth='x600' alignSelf='center' w='full'>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<FieldLabel>{t('Active')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\tname='active'\\n\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\tdefaultValue={false}\\n\\t\\t\\t\\t\\t\\t\\trender={({ field }): ReactElement => <ToggleSwitch onChange={field.onChange} checked={field.value} />}\\n\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<FieldLabel>{t('Application_Name')}</FieldLabel>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<TextInput {...register('name', { required: t('Required_field', { field: t('Name') }) })} />\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t<FieldHint>{t('Give_the_application_a_name_This_will_be_seen_by_your_users')}</FieldHint>\\n\\t\\t\\t\\t\\t{errors?.name && <FieldError>{errors.name.message}</FieldError>}\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<FieldLabel>{t('Redirect_URI')}</FieldLabel>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<TextAreaInput rows={5} {...register('redirectUri', { required: true })} />\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t<FieldHint>{t('After_OAuth2_authentication_users_will_be_redirected_to_this_URL')}</FieldHint>\\n\\t\\t\\t\\t\\t{errors?.redirectUri && <FieldError>{t('Required_field', { field: t('Redirect_URI') })}</FieldError>}\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t<ButtonGroup stretch>\\n\\t\\t\\t\\t\\t\\t\\t<Button onClick={close}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t\\t\\t<Button primary onClick={handleSubmit(onSubmit)}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Save')}\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t</Field>\\n\\t\\t\\t</FieldGroup>\\n\\t\\t</ContextualbarScrollableContent>\\n\\t);\\n};\\n\\nexport default OAuthAddApp;\\n\",null],\"names\":[\"_extends\",\"Button\",\"ButtonGroup\",\"TextInput\",\"Field\",\"FieldLabel\",\"FieldRow\",\"FieldError\",\"FieldHint\",\"TextAreaInput\",\"ToggleSwitch\",\"FieldGroup\",\"useToastMessageDispatch\",\"useRoute\",\"useEndpoint\",\"React\",\"useCallback\",\"useForm\",\"Controller\",\"useTranslation\",\"ContextualbarScrollableContent\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"OAuthAddApp\",\"t\",\"dispatchToastMessage\",\"register\",\"handleSubmit\",\"formState\",\"errors\",\"control\",\"saveApp\",\"router\",\"close\",\"push\",\"onSubmit\",\"data\",\"type\",\"message\",\"error\",\"createElement\",\"w\",\"maxWidth\",\"alignSelf\",\"name\",\"defaultValue\",\"render\",\"_ref\",\"field\",\"onChange\",\"checked\",\"value\",\"required\",\"rows\",\"redirectUri\",\"stretch\",\"onClick\",\"primary\"],\"mappings\":\"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\"}"}