{"code":"function module(e,t,s){let o,r,a,n;s.link(\"meteor/meteor\",{Meteor(e){o=e}},0),s.link(\"meteor/tracker\",{Tracker(e){r=e}},1),s.link(\"../../custom-oauth/client/CustomOAuth\",{CustomOAuth(e){a=e}},2),s.link(\"../../settings/client\",{settings(e){n=e}},3);let u={serverURL:\"\",identityPath:\"/oauth/user\",authorizePath:\"/oauth/authorize\",tokenPath:\"/oauth/access-token\",scope:\"user\",tokenSentVia:\"payload\",usernameField:\"username\",mergeUsers:!0,addAutopublishFields:{forLoggedInUser:[\"services.tokenpass\"],forOtherUsers:[\"services.tokenpass.name\"]},accessTokenParam:\"access_token\"},i=new a(\"tokenpass\",u);o.startup(()=>{r.autorun(()=>{n.get(\"API_Tokenpass_URL\")&&(u.serverURL=n.get(\"API_Tokenpass_URL\"),i.configure(u))})})}","map":"{\"version\":3,\"sources\":[\"app/tokenpass/client/lib.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { OauthConfig } from '@rocket.chat/core-typings';\\nimport { Meteor } from 'meteor/meteor';\\nimport { Tracker } from 'meteor/tracker';\\n\\nimport { CustomOAuth } from '../../custom-oauth/client/CustomOAuth';\\nimport { settings } from '../../settings/client';\\n\\nconst config: OauthConfig = {\\n\\tserverURL: '',\\n\\tidentityPath: '/oauth/user',\\n\\tauthorizePath: '/oauth/authorize',\\n\\ttokenPath: '/oauth/access-token',\\n\\tscope: 'user',\\n\\ttokenSentVia: 'payload',\\n\\tusernameField: 'username',\\n\\tmergeUsers: true,\\n\\taddAutopublishFields: {\\n\\t\\tforLoggedInUser: ['services.tokenpass'],\\n\\t\\tforOtherUsers: ['services.tokenpass.name'],\\n\\t},\\n\\taccessTokenParam: 'access_token',\\n};\\n\\nconst Tokenpass = new CustomOAuth('tokenpass', config);\\n\\nMeteor.startup(() => {\\n\\tTracker.autorun(() => {\\n\\t\\tif (settings.get('API_Tokenpass_URL')) {\\n\\t\\t\\tconfig.serverURL = settings.get('API_Tokenpass_URL');\\n\\t\\t\\tTokenpass.configure(config);\\n\\t\\t}\\n\\t});\\n});\\n\",null],\"names\":[\"Meteor\",\"Tracker\",\"CustomOAuth\",\"settings\",\"module\",\"link\",\"v\",\"config\",\"serverURL\",\"identityPath\",\"authorizePath\",\"tokenPath\",\"scope\",\"tokenSentVia\",\"usernameField\",\"mergeUsers\",\"addAutopublishFields\",\"forLoggedInUser\",\"forOtherUsers\",\"accessTokenParam\",\"Tokenpass\",\"startup\",\"autorun\",\"get\",\"configure\"],\"mappings\":\"2BACAA,EAAuCC,EAAAC,EAAAC,EAA9BC,EAAQC,IAAA,CAAM,gBAAgB,CAAAL,OAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,iBAAA,CAAAJ,QAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wCAAA,CAAAH,YAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAF,SAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAMvC,IAAMC,EAAsB,CAC3BC,UAAW,GACXC,aAAc,cACdC,cAAe,mBACfC,UAAW,sBACXC,MAAO,OACPC,aAAc,UACdC,cAAe,WACfC,WAAY,CAAA,EACZC,qBAAsB,CACrBC,gBAAiB,CAAC,qBAAqB,CACvCC,cAAe,CAAC,0BAAyB,EAE1CC,iBAAkB,gBAGbC,EAAY,IAAIlB,EAAY,YAAaK,GAE/CP,EAAOqB,OAAO,CAAC,KACdpB,EAAQqB,OAAO,CAAC,KACXnB,EAASoB,GAAG,CAAC,uBAChBhB,EAAOC,SAAS,CAAGL,EAASoB,GAAG,CAAC,qBAChCH,EAAUI,SAAS,CAACjB,GAEtB,EACD\"}"}