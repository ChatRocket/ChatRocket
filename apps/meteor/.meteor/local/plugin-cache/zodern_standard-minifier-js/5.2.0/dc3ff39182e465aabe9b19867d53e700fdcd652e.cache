{"code":"function module(e,n,t){var o,l,r,a,i,c,u,s,m,f,d;t.link(\"@babel/runtime/helpers/toConsumableArray\",{default:function(e){o=e}},0),t.link(\"@rocket.chat/fuselage\",{Box:function(e){l=e},CheckBox:function(e){r=e}},0),t.link(\"react\",{default:function(e){a=e}},1),t.link(\"react-i18next\",{useTranslation:function(e){i=e}},2),t.link(\"../../../../../../components/GenericTable\",{GenericTable:function(e){c=e},GenericTableHeaderCell:function(e){u=e},GenericTableBody:function(e){s=e},GenericTableHeader:function(e){m=e}},3),t.link(\"../../../../../../components/GenericTable/hooks/useSort\",{useSort:function(e){f=e}},4),t.link(\"./ChannelDeletionTableRow\",{default:function(e){d=e}},5),t.exportDefault(function(e){var n=e.rooms,t=e.onChangeRoomSelection,C=e.selectedRooms,h=e.onToggleAllRooms,k=i().t,b=f(\"name\"),g=b.sortBy,E=b.sortDirection,v=b.setSort,T=Object.values(C).filter(Boolean).length,x=function(){if(n){var e=o(n);return(\"name\"===g&&e.sort(function(e,n){return e.name&&n.name?e.name.localeCompare(n.name):0}),\"usersCount\"===g&&e.sort(function(e,n){return e.usersCount-n.usersCount}),\"desc\"===E)?null==e?void 0:e.reverse():e}}(),p=n.length===T,y=n.length>T&&T>0,G=a.createElement(a.Fragment,null,a.createElement(u,{key:\"name\",sort:\"name\",onClick:v,direction:E,active:\"name\"===g},a.createElement(r,{indeterminate:y,checked:p,onChange:h}),a.createElement(l,{mi:8},k(\"Channel_name\"))),a.createElement(u,{key:\"usersCount\",sort:\"usersCount\",onClick:v,direction:E,active:\"usersCount\"===g},a.createElement(l,{width:\"100%\",textAlign:\"end\"},k(\"Members\"))));return a.createElement(l,{display:\"flex\",flexDirection:\"column\",height:\"x200\",mbs:24},a.createElement(c,null,a.createElement(m,null,G),a.createElement(s,null,null==x?void 0:x.map(function(e){return a.createElement(d,{room:e,key:e._id,onChange:t,selected:!!C[e._id]})}))))})}","map":"{\"version\":3,\"sources\":[\"client/views/teams/contextualBar/info/DeleteTeam/ChannelDeletionTable/ChannelDeletionTable.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom, Serialized } from '@rocket.chat/core-typings';\\nimport { Box, CheckBox } from '@rocket.chat/fuselage';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { GenericTable, GenericTableHeaderCell, GenericTableBody, GenericTableHeader } from '../../../../../../components/GenericTable';\\nimport { useSort } from '../../../../../../components/GenericTable/hooks/useSort';\\nimport ChannelDeletionTableRow from './ChannelDeletionTableRow';\\n\\ntype ChannelDeletionTableProps = {\\n\\trooms: Serialized<IRoom>[];\\n\\tonToggleAllRooms: () => void;\\n\\tonChangeRoomSelection: (room: Serialized<IRoom>) => void;\\n\\tselectedRooms: { [key: string]: Serialized<IRoom> };\\n};\\n\\nconst ChannelDeletionTable = ({ rooms, onChangeRoomSelection, selectedRooms, onToggleAllRooms }: ChannelDeletionTableProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst { sortBy, sortDirection, setSort } = useSort<'name' | 'usersCount'>('name');\\n\\n\\tconst selectedRoomsLength = Object.values(selectedRooms).filter(Boolean).length;\\n\\n\\tconst getSortedChannels = () => {\\n\\t\\tif (rooms) {\\n\\t\\t\\tconst sortedRooms = [...rooms];\\n\\t\\t\\tif (sortBy === 'name') {\\n\\t\\t\\t\\tsortedRooms.sort((a, b) => (a.name && b.name ? a.name.localeCompare(b.name) : 0));\\n\\t\\t\\t}\\n\\t\\t\\tif (sortBy === 'usersCount') {\\n\\t\\t\\t\\tsortedRooms.sort((a, b) => a.usersCount - b.usersCount);\\n\\t\\t\\t}\\n\\t\\t\\tif (sortDirection === 'desc') {\\n\\t\\t\\t\\treturn sortedRooms?.reverse();\\n\\t\\t\\t}\\n\\t\\t\\treturn sortedRooms;\\n\\t\\t}\\n\\t};\\n\\n\\tconst sortedRooms = getSortedChannels();\\n\\n\\tconst checked = rooms.length === selectedRoomsLength;\\n\\tconst indeterminate = rooms.length > selectedRoomsLength && selectedRoomsLength > 0;\\n\\n\\tconst headers = (\\n\\t\\t<>\\n\\t\\t\\t<GenericTableHeaderCell key='name' sort='name' onClick={setSort} direction={sortDirection} active={sortBy === 'name'}>\\n\\t\\t\\t\\t<CheckBox indeterminate={indeterminate} checked={checked} onChange={onToggleAllRooms} />\\n\\t\\t\\t\\t<Box mi={8}>{t('Channel_name')}</Box>\\n\\t\\t\\t</GenericTableHeaderCell>\\n\\t\\t\\t<GenericTableHeaderCell\\n\\t\\t\\t\\tkey='usersCount'\\n\\t\\t\\t\\tsort='usersCount'\\n\\t\\t\\t\\tonClick={setSort}\\n\\t\\t\\t\\tdirection={sortDirection}\\n\\t\\t\\t\\tactive={sortBy === 'usersCount'}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<Box width='100%' textAlign='end'>\\n\\t\\t\\t\\t\\t{t('Members')}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</GenericTableHeaderCell>\\n\\t\\t</>\\n\\t);\\n\\n\\treturn (\\n\\t\\t<Box display='flex' flexDirection='column' height='x200' mbs={24}>\\n\\t\\t\\t<GenericTable>\\n\\t\\t\\t\\t<GenericTableHeader>{headers}</GenericTableHeader>\\n\\t\\t\\t\\t<GenericTableBody>\\n\\t\\t\\t\\t\\t{sortedRooms?.map((room) => (\\n\\t\\t\\t\\t\\t\\t<ChannelDeletionTableRow room={room} key={room._id} onChange={onChangeRoomSelection} selected={!!selectedRooms[room._id]} />\\n\\t\\t\\t\\t\\t))}\\n\\t\\t\\t\\t</GenericTableBody>\\n\\t\\t\\t</GenericTable>\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default ChannelDeletionTable;\\n\",null],\"names\":[\"_toConsumableArray\",\"Box\",\"CheckBox\",\"React\",\"useTranslation\",\"GenericTable\",\"GenericTableHeaderCell\",\"GenericTableBody\",\"GenericTableHeader\",\"useSort\",\"ChannelDeletionTableRow\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"rooms\",\"onChangeRoomSelection\",\"selectedRooms\",\"onToggleAllRooms\",\"t\",\"_useTranslation\",\"_useSort\",\"sortBy\",\"sortDirection\",\"setSort\",\"selectedRoomsLength\",\"Object\",\"values\",\"filter\",\"Boolean\",\"length\",\"sortedRooms\",\"getSortedChannels\",\"sort\",\"a\",\"b\",\"name\",\"localeCompare\",\"usersCount\",\"reverse\",\"checked\",\"indeterminate\",\"headers\",\"createElement\",\"Fragment\",\"key\",\"onClick\",\"direction\",\"active\",\"onChange\",\"mi\",\"width\",\"textAlign\",\"display\",\"flexDirection\",\"height\",\"mbs\",\"map\",\"room\",\"_id\",\"selected\"],\"mappings\":\"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\"}"}