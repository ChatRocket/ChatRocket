{"code":"function module(e,s,t){let i,r,a,n,l,o,u,g,d,c,k,m,M;t.export({MessageList:()=>p}),t.link(\"@rocket.chat/core-typings\",{isThreadMessage(e){i=e}},0),t.link(\"@rocket.chat/ui-contexts\",{useSetting(e){r=e},useUserPreference(e){a=e}},1),t.link(\"react\",{default(e){n=e},Fragment(e){l=e}},2),t.link(\"../../../../app/ui-utils/client\",{MessageTypes(e){o=e}},3),t.link(\"../contexts/RoomContext\",{useRoomSubscription(e){u=e}},4),t.link(\"../hooks/useFirstUnreadMessageId\",{useFirstUnreadMessageId(e){g=e}},5),t.link(\"../providers/SelectedMessagesProvider\",{SelectedMessagesProvider(e){d=e}},6),t.link(\"./MessageListItem\",{MessageListItem(e){c=e}},7),t.link(\"./hooks/useMessages\",{useMessages(e){k=e}},8),t.link(\"./lib/isMessageSequential\",{isMessageSequential(e){m=e}},9),t.link(\"./providers/MessageListProvider\",{default(e){M=e}},10);let p=function e(e){let{rid:s,messageListRef:t}=e,p=k({rid:s}),v=u(),h=!!a(\"displayAvatars\"),S=Number(r(\"Message_GroupingPeriod\")),f=g();return n.createElement(M,{messageListRef:t},n.createElement(d,null,p.map((e,s,t)=>{let{[s-1]:r}=t,a=m(e,r,S),u=f===e._id,g=o.isSystemMessage(e),d=!i(e)&&!g;return n.createElement(l,{key:e._id},n.createElement(c,{message:e,previous:r,showUnreadDivider:u,showUserAvatar:h,sequential:a,visible:d,subscription:v,system:g}))})))}}","map":"{\"version\":3,\"sources\":[\"client/views/room/MessageList/MessageList.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IRoom } from '@rocket.chat/core-typings';\\nimport { isThreadMessage } from '@rocket.chat/core-typings';\\nimport { useSetting, useUserPreference } from '@rocket.chat/ui-contexts';\\nimport type { ComponentProps } from 'react';\\nimport React, { Fragment } from 'react';\\n\\nimport { MessageTypes } from '../../../../app/ui-utils/client';\\nimport { useRoomSubscription } from '../contexts/RoomContext';\\nimport { useFirstUnreadMessageId } from '../hooks/useFirstUnreadMessageId';\\nimport { SelectedMessagesProvider } from '../providers/SelectedMessagesProvider';\\nimport { MessageListItem } from './MessageListItem';\\nimport { useMessages } from './hooks/useMessages';\\nimport { isMessageSequential } from './lib/isMessageSequential';\\nimport MessageListProvider from './providers/MessageListProvider';\\n\\ntype MessageListProps = {\\n\\trid: IRoom['_id'];\\n\\tmessageListRef: ComponentProps<typeof MessageListProvider>['messageListRef'];\\n};\\n\\nexport const MessageList = function MessageList({ rid, messageListRef }: MessageListProps) {\\n\\tconst messages = useMessages({ rid });\\n\\tconst subscription = useRoomSubscription();\\n\\tconst showUserAvatar = !!useUserPreference<boolean>('displayAvatars');\\n\\tconst messageGroupingPeriod = Number(useSetting('Message_GroupingPeriod'));\\n\\tconst firstUnreadMessageId = useFirstUnreadMessageId();\\n\\n\\treturn (\\n\\t\\t<MessageListProvider messageListRef={messageListRef}>\\n\\t\\t\\t<SelectedMessagesProvider>\\n\\t\\t\\t\\t{messages.map((message, index, { [index - 1]: previous }) => {\\n\\t\\t\\t\\t\\tconst sequential = isMessageSequential(message, previous, messageGroupingPeriod);\\n\\t\\t\\t\\t\\tconst showUnreadDivider = firstUnreadMessageId === message._id;\\n\\t\\t\\t\\t\\tconst system = MessageTypes.isSystemMessage(message);\\n\\t\\t\\t\\t\\tconst visible = !isThreadMessage(message) && !system;\\n\\n\\t\\t\\t\\t\\treturn (\\n\\t\\t\\t\\t\\t\\t<Fragment key={message._id}>\\n\\t\\t\\t\\t\\t\\t\\t<MessageListItem\\n\\t\\t\\t\\t\\t\\t\\t\\tmessage={message}\\n\\t\\t\\t\\t\\t\\t\\t\\tprevious={previous}\\n\\t\\t\\t\\t\\t\\t\\t\\tshowUnreadDivider={showUnreadDivider}\\n\\t\\t\\t\\t\\t\\t\\t\\tshowUserAvatar={showUserAvatar}\\n\\t\\t\\t\\t\\t\\t\\t\\tsequential={sequential}\\n\\t\\t\\t\\t\\t\\t\\t\\tvisible={visible}\\n\\t\\t\\t\\t\\t\\t\\t\\tsubscription={subscription}\\n\\t\\t\\t\\t\\t\\t\\t\\tsystem={system}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t</Fragment>\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t})}\\n\\t\\t\\t</SelectedMessagesProvider>\\n\\t\\t</MessageListProvider>\\n\\t);\\n};\\n\",null],\"names\":[\"isThreadMessage\",\"useSetting\",\"useUserPreference\",\"React\",\"Fragment\",\"MessageTypes\",\"useRoomSubscription\",\"useFirstUnreadMessageId\",\"SelectedMessagesProvider\",\"MessageListItem\",\"useMessages\",\"isMessageSequential\",\"MessageListProvider\",\"module\",\"export\",\"MessageList\",\"link\",\"v\",\"default\",\"_ref\",\"rid\",\"messageListRef\",\"messages\",\"subscription\",\"showUserAvatar\",\"messageGroupingPeriod\",\"Number\",\"firstUnreadMessageId\",\"createElement\",\"map\",\"message\",\"index\",\"_ref2\",\"previous\",\"sequential\",\"showUnreadDivider\",\"_id\",\"system\",\"isSystemMessage\",\"visible\",\"key\"],\"mappings\":\"2BACgCA,EAA4BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA5DC,EAAOC,MAAE,CAAA,CAAAC,YAAiBA,IAAAA,CAAM,GAA4BF,EAAAG,IAAA,CAAA,4BAAA,CAAAhB,gBAAAiB,CAAA,EAAAjB,EAAAiB,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,2BAAA,CAAAf,WAAAgB,CAAA,EAAAhB,EAAAgB,CAAA,EAAAf,kBAAAe,CAAA,EAAAf,EAAAe,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAd,EAAAc,CAAA,EAAAb,SAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,kCAAA,CAAAX,aAAAY,CAAA,EAAAZ,EAAAY,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,0BAAA,CAAAV,oBAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,mCAAA,CAAAT,wBAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,wCAAA,CAAAR,yBAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,oBAAA,CAAAP,gBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,sBAAA,CAAAN,YAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,4BAAA,CAAAL,oBAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,kCAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,IAmBrD,IAAMF,EAAc,SAASA,EAAWI,CAAA,EAA0C,GAAzC,CAAEC,IAAAA,CAAG,CAAEC,eAAAA,CAAAA,CAAkC,CAAAF,EAClFG,EAAWZ,EAAY,CAAEU,IAAAA,CAAG,GAC5BG,EAAejB,IACfkB,EAAiB,CAAC,CAACtB,EAA2B,kBAC9CuB,EAAwBC,OAAOzB,EAAW,2BAC1C0B,EAAuBpB,IAE7B,OACCJ,EAAAyB,aAAA,CAAChB,EAAmB,CAACS,eAAgBA,CAAe,EACnDlB,EAAAyB,aAAA,CAACpB,EAAwB,KACvBc,EAASO,GAAG,CAAC,CAACC,EAASC,EAAKC,KAA+B,GAA7B,CAAE,CAACD,EAAQ,EAAC,CAAGE,CAAAA,CAAU,CAAAD,EACjDE,EAAavB,EAAoBmB,EAASG,EAAUR,GACpDU,EAAoBR,IAAyBG,EAAQM,GAAG,CACxDC,EAAShC,EAAaiC,eAAe,CAACR,GACtCS,EAAU,CAACvC,EAAgB8B,IAAY,CAACO,EAE9C,OACClC,EAAAyB,aAAA,CAACxB,EAAQ,CAACoC,IAAKV,EAAQM,GAAAA,AAAI,EAC1BjC,EAAAyB,aAAA,CAACnB,EAAe,CACfqB,QAASA,EACTG,SAAUA,EACVE,kBAAmBA,EACnBX,eAAgBA,EAChBU,WAAYA,EACZK,QAASA,EACThB,aAAcA,EACdc,OAAQA,CAAO,GAInB,IAIJ\"}"}