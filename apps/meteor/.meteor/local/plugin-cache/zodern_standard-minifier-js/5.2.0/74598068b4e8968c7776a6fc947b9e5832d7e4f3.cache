{"code":"function module(n,t,i){i.export({useClearRemovedRoomsHistory:function(){return u}}),i.link(\"@rocket.chat/ui-contexts\",{useStream:function(n){e=n}},0),i.link(\"react\",{useEffect:function(n){o=n}},1),i.link(\"../../../../app/ui-utils/client\",{RoomHistoryManager:function(n){r=n}},2);var e,o,r,u=function(n){var t=e(\"notify-user\");o(function(){if(n)return t(n+\"/subscriptions-changed\",function(n,t){\"l\"!==t.t&&\"removed\"===n&&t.rid&&r.clear(t.rid)})},[n,t])}}","map":"{\"version\":3,\"sources\":[\"client/providers/UserProvider/hooks/useClearRemovedRoomsHistory.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useStream } from '@rocket.chat/ui-contexts';\\nimport { useEffect } from 'react';\\n\\nimport { RoomHistoryManager } from '../../../../app/ui-utils/client';\\n\\nexport const useClearRemovedRoomsHistory = (userId: string | null) => {\\n\\tconst subscribeToNotifyUser = useStream('notify-user');\\n\\tuseEffect(() => {\\n\\t\\tif (!userId) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\treturn subscribeToNotifyUser(`${userId}/subscriptions-changed`, (event, data) => {\\n\\t\\t\\tif (data.t !== 'l' && event === 'removed' && data.rid) {\\n\\t\\t\\t\\tRoomHistoryManager.clear(data.rid);\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}, [userId, subscribeToNotifyUser]);\\n};\\n\",null],\"names\":[\"module\",\"export\",\"useClearRemovedRoomsHistory\",\"link\",\"useStream\",\"v\",\"useEffect\",\"RoomHistoryManager\",\"userId\",\"subscribeToNotifyUser\",\"event\",\"data\",\"t\",\"rid\",\"clear\"],\"mappings\":\"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,4BAAiB,WAA2B,OAAAA,CAAA,CAAA,GAAAF,EAAAG,IAAA,CAAA,2BAAA,CAAAC,UAAA,SAAAC,CAAA,EAAAD,EAAAC,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,QAAA,CAAAG,UAAA,SAAAD,CAAA,EAAAC,EAAAD,CAAA,CAAA,EAAA,GAAAL,EAAAG,IAAA,CAAA,kCAAA,CAAAI,mBAAA,SAAAF,CAAA,EAAAE,EAAAF,CAAA,CAAA,EAAA,GAK9C,IAL8CD,EAAAE,EAAAC,EAKxCL,EAA8B,SAACM,CAAqB,EAChE,IAAMC,EAAwBL,EAAU,eACxCE,EAAU,WACT,GAAKE,EAIL,OAAOC,EAAyBD,EAAM,yBAA0B,SAACE,CAAK,CAAEC,CAAI,EAC5D,MAAXA,EAAKC,CAAC,EAAYF,AAAU,YAAVA,GAAuBC,EAAKE,GAAG,EACpDN,EAAmBO,KAAK,CAACH,EAAKE,GAAG,CAEnC,EACD,EAAG,CAACL,EAAQC,EAAsB,CACnC\"}"}