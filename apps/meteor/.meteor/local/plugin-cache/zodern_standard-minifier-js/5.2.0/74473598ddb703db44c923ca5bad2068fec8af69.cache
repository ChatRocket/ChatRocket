{"code":"function module(e,n,t){t.link(\"@babel/runtime/regenerator\",{default:function(e){o=e}},0),t.export({useRoomMoveToTeam:function(){return m}}),t.link(\"@rocket.chat/core-typings\",{isRoomFederated:function(e){r=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){a=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useSetModal:function(e){u=e},useToastMessageDispatch:function(e){c=e},useTranslation:function(e){s=e},useEndpoint:function(e){i=e}},2),t.link(\"react\",{default:function(e){l=e}},3),t.link(\"../../ChannelToTeamModal\",{default:function(e){f=e}},4),t.link(\"../useCanEditRoom\",{useCanEditRoom:function(e){d=e}},5);var o,r,a,u,c,s,i,l,f,d,m=function(e){var n=s(),t=u(),m=c(),p=d(e),k=!r(e)&&!e.teamId&&!e.prid&&p,h=i(\"POST\",\"/v1/teams.addRooms\"),v=a(function(){var r;return o.async(function(a){for(;;)switch(a.prev=a.next){case 0:r=function r(r){return o.async(function a(a){for(;;)switch(a.prev=a.next){case 0:if(r){a.next=2;break}throw Error(\"teamId not provided\");case 2:return a.prev=2,a.next=5,o.awrap(h({rooms:[e._id],teamId:r}));case 5:m({type:\"success\",message:n(\"Rooms_added_successfully\")}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),m({type:\"error\",message:a.t0});case 11:return a.prev=11,t(null),a.finish(11);case 14:case\"end\":return a.stop()}},null,null,[[2,8,11,14]],Promise)},t(l.createElement(f,{onCancel:function(){return t(null)},onConfirm:r}));case 2:case\"end\":return a.stop()}},null,null,null,Promise)});return k?v:null}}","map":"{\"version\":3,\"sources\":[\"client/views/room/contextualBar/Info/hooks/actions/useRoomMoveToTeam.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { isRoomFederated } from '@rocket.chat/core-typings';\\nimport type { IRoom } from '@rocket.chat/core-typings';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\n\\nimport ChannelToTeamModal from '../../ChannelToTeamModal';\\nimport { useCanEditRoom } from '../useCanEditRoom';\\n\\nexport const useRoomMoveToTeam = (room: IRoom) => {\\n\\tconst t = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst canEdit = useCanEditRoom(room);\\n\\tconst canMoveToTeam = !isRoomFederated(room) && !room.teamId && !room.prid && canEdit;\\n\\n\\tconst moveChannelToTeam = useEndpoint('POST', '/v1/teams.addRooms');\\n\\n\\tconst handleMoveToTeam = useMutableCallback(async () => {\\n\\t\\tconst onConfirm = async (teamId: IRoom['teamId']) => {\\n\\t\\t\\tif (!teamId) {\\n\\t\\t\\t\\tthrow new Error('teamId not provided');\\n\\t\\t\\t}\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait moveChannelToTeam({ rooms: [room._id], teamId });\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Rooms_added_successfully') });\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tsetModal(null);\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tsetModal(<ChannelToTeamModal onCancel={() => setModal(null)} onConfirm={onConfirm} />);\\n\\t});\\n\\n\\treturn canMoveToTeam ? handleMoveToTeam : null;\\n};\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"export\",\"useRoomMoveToTeam\",\"isRoomFederated\",\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useTranslation\",\"useEndpoint\",\"React\",\"ChannelToTeamModal\",\"useCanEditRoom\",\"room\",\"t\",\"setModal\",\"dispatchToastMessage\",\"canEdit\",\"canMoveToTeam\",\"teamId\",\"prid\",\"moveChannelToTeam\",\"handleMoveToTeam\",\"onConfirm\",\"async\",\"_context2\",\"prev\",\"next\",\"_callee\",\"_callee$\",\"_context\",\"Error\",\"awrap\",\"rooms\",\"_id\",\"type\",\"message\",\"t0\",\"finish\",\"stop\",\"Promise\",\"createElement\",\"onCancel\"],\"mappings\":\"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\"}"}