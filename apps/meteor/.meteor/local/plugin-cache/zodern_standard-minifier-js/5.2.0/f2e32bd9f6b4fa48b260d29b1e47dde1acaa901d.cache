{"code":"function module(e,n,t){var i,l,a,s,u,o,r,c,p,d,f,k,m,b,v,h,y,x,g,q,P,A,E,S,T,D,I,M=[\"app\",\"showStatus\",\"isAppDetailsPage\",\"installed\"];t.link(\"@babel/runtime/regenerator\",{default:function(e){i=e}},0),t.link(\"@babel/runtime/helpers/extends\",{default:function(e){l=e}},1),t.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},2),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){s=e}},3),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){u=e}},4),t.link(\"@rocket.chat/fuselage\",{Box:function(e){o=e},Button:function(e){r=e},Tag:function(e){c=e},Margins:function(e){p=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useSafely:function(e){d=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useRouteParameter:function(e){f=e},usePermission:function(e){k=e},useSetModal:function(e){m=e}},2),t.link(\"react\",{default:function(e){b=e},useCallback:function(e){v=e},useState:function(e){h=e},memo:function(e){y=e}},3),t.link(\"react-i18next\",{useTranslation:function(e){x=e}},4),t.link(\"semver\",{default:function(e){g=e}},5),t.link(\"../../../../../hooks/useHasLicenseModule\",{useHasLicenseModule:function(e){q=e}},6),t.link(\"../../../../../hooks/useIsEnterprise\",{useIsEnterprise:function(e){P=e}},7),t.link(\"../../../AppsList/AddonRequiredModal\",{default:function(e){A=e}},8),t.link(\"../../../helpers\",{appButtonProps:function(e){E=e},appMultiStatusProps:function(e){S=e}},9),t.link(\"../../../hooks/useAppInstallationHandler\",{useAppInstallationHandler:function(e){T=e}},10),t.link(\"../../../hooks/useMarketplaceActions\",{useMarketplaceActions:function(e){D=e}},11),t.link(\"./AppStatusPriceDisplay\",{default:function(e){I=e}},12),t.exportDefault(y(function(e){var n,t,y,w=e.app,R=e.showStatus,H=e.isAppDetailsPage,U=e.installed,j=u(e,M),B=x().t,C=h(!1),L=s(C,2),V=L[0],G=L[1],O=d(h(!1)),W=s(O,2),_=W[0],z=W[1],F=d(h(!!(null!=w&&w.isPurchased))),J=s(F,2),K=J[0],N=J[1],Q=m(),X=k(\"manage-apps\"),Y=f(\"context\"),Z=w.price,$=w.purchaseType,ee=w.pricingPlans,en=E(a(a({},w),{},{isAdminUser:X,endUserRequested:V})),et=\"requested\"===Y,ei=H&&en&&!w.isEnterpriseOnly,el=U&&(null==w?void 0:w.version)&&(null==w?void 0:w.marketplaceVersion)&&g.lt(null==w?void 0:w.version,null==w?void 0:w.marketplaceVersion),ea=P().data,es=null!==(n=null==ea?void 0:ea.isEnterprise)&&void 0!==n&&n,eu=w.addon,eo=q(eu),er=S(w,H,Y||\"\",es),ec=null==w?void 0:null===(t=w.appRequestStats)||void 0===t?void 0:t.totalSeen,ep=null==w?void 0:null===(y=w.appRequestStats)||void 0===y?void 0:y.totalUnseen,ed=null==en?void 0:en.action,ef=D(),ek=v(function(e,n){return i.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}if(!(\"request\"!==e)){t.next=6;break}return t.next=4,i.awrap(ef[e](a(a({},w),{},{permissionsGranted:n})));case 4:t.next=7;break;case 6:G(!0);case 7:z(!1);case 8:case\"end\":return t.stop()}},null,null,null,Promise)},[w,ef,z]),em=v(function(){z(!1),Q(null)},[z,Q]),eb=T({app:w,action:ed||\"purchase\",isAppPurchased:K,onDismiss:em,onSuccess:ek,setIsPurchased:N}),ev=v(function(){if(z(!0),X&&eu&&!eo)return Q(b.createElement(A,{actionType:\"install\",onDismiss:em,onInstallAnyway:eb}));eb()},[eu,eb,em,X,z,Q,eo]),eh=function(e){if((\"request\"===e.label||\"requests\"===e.label)&&!U&&et){var n=0;return ep>=0&&(n+=ep),ec>=0&&(n+=ec),n}return null};return b.createElement(o,l({},j,{display:\"flex\",alignItems:\"center\",mie:8}),en&&H&&(!U||el)&&b.createElement(o,{display:\"flex\",flexDirection:\"row\",alignItems:\"center\",justifyContent:\"center\",borderRadius:\"x4\",invisible:!(void 0===R||R)&&!_},b.createElement(r,{icon:en.icon,primary:!0,small:!0,loading:_,disabled:\"request\"===ed&&((null==w?void 0:w.requestedEndUser)||V),onClick:ev,mie:8},B(en.label.replace(\" \",\"_\"))),ei&&!U&&b.createElement(I,{purchaseType:$,pricingPlans:ee,price:Z,showType:!1})),null==er?void 0:er.map(function(e,n){return b.createElement(p,{inlineEnd:n!==er.length-1?8:void 0,key:n},b.createElement(c,{\"data-qa-type\":\"app-status-tag\",variant:et&&ep&&(\"request\"===e.label||\"requests\"===e.label)?\"primary\":et&&\"Requested\"===e.label?void 0:e.label.includes(\"Disabled\")?\"secondary-danger\":void 0,title:e.tooltipText?e.tooltipText:\"\"},eh(e),\" \",B(e.label)))}))}))}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/AppDetailsPage/tabs/AppStatus/AppStatus.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { App } from '@rocket.chat/core-typings';\\nimport { Box, Button, Tag, Margins } from '@rocket.chat/fuselage';\\nimport { useSafely } from '@rocket.chat/fuselage-hooks';\\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\\nimport { useRouteParameter, usePermission, useSetModal } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement } from 'react';\\nimport React, { useCallback, useState, memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\nimport semver from 'semver';\\n\\nimport { useHasLicenseModule } from '../../../../../hooks/useHasLicenseModule';\\nimport { useIsEnterprise } from '../../../../../hooks/useIsEnterprise';\\nimport AddonRequiredModal from '../../../AppsList/AddonRequiredModal';\\nimport type { appStatusSpanResponseProps } from '../../../helpers';\\nimport { appButtonProps, appMultiStatusProps } from '../../../helpers';\\nimport type { AppInstallationHandlerParams } from '../../../hooks/useAppInstallationHandler';\\nimport { useAppInstallationHandler } from '../../../hooks/useAppInstallationHandler';\\nimport { useMarketplaceActions } from '../../../hooks/useMarketplaceActions';\\nimport AppStatusPriceDisplay from './AppStatusPriceDisplay';\\n\\ntype AppStatusProps = {\\n\\tapp: App;\\n\\tshowStatus?: boolean;\\n\\tisAppDetailsPage: boolean;\\n\\tinstalled?: boolean;\\n};\\n\\nconst AppStatus = ({ app, showStatus = true, isAppDetailsPage, installed, ...props }: AppStatusProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst [endUserRequested, setEndUserRequested] = useState(false);\\n\\tconst [loading, setLoading] = useSafely(useState(false));\\n\\tconst [isAppPurchased, setPurchased] = useSafely(useState(!!app?.isPurchased));\\n\\tconst setModal = useSetModal();\\n\\tconst isAdminUser = usePermission('manage-apps');\\n\\tconst context = useRouteParameter('context');\\n\\n\\tconst { price, purchaseType, pricingPlans } = app;\\n\\n\\tconst button = appButtonProps({ ...app, isAdminUser, endUserRequested });\\n\\tconst isAppRequestsPage = context === 'requested';\\n\\tconst shouldShowPriceDisplay = isAppDetailsPage && button && !app.isEnterpriseOnly;\\n\\tconst canUpdate = installed && app?.version && app?.marketplaceVersion && semver.lt(app?.version, app?.marketplaceVersion);\\n\\n\\tconst { data } = useIsEnterprise();\\n\\tconst isEnterprise = data?.isEnterprise ?? false;\\n\\n\\tconst appAddon = app.addon;\\n\\tconst workspaceHasAddon = useHasLicenseModule(appAddon);\\n\\n\\tconst statuses = appMultiStatusProps(app, isAppDetailsPage, context || '', isEnterprise);\\n\\n\\tconst totalSeenRequests = app?.appRequestStats?.totalSeen;\\n\\tconst totalUnseenRequests = app?.appRequestStats?.totalUnseen;\\n\\n\\tconst action = button?.action;\\n\\n\\tconst marketplaceActions = useMarketplaceActions();\\n\\n\\tconst confirmAction = useCallback<AppInstallationHandlerParams['onSuccess']>(\\n\\t\\tasync (action, permissionsGranted) => {\\n\\t\\t\\tif (action) {\\n\\t\\t\\t\\tif (action !== 'request') {\\n\\t\\t\\t\\t\\tawait marketplaceActions[action]({ ...app, permissionsGranted });\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tsetEndUserRequested(true);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tsetLoading(false);\\n\\t\\t},\\n\\t\\t[app, marketplaceActions, setLoading],\\n\\t);\\n\\n\\tconst cancelAction = useCallback(() => {\\n\\t\\tsetLoading(false);\\n\\t\\tsetModal(null);\\n\\t}, [setLoading, setModal]);\\n\\n\\tconst appInstallationHandler = useAppInstallationHandler({\\n\\t\\tapp,\\n\\t\\taction: action || 'purchase',\\n\\t\\tisAppPurchased,\\n\\t\\tonDismiss: cancelAction,\\n\\t\\tonSuccess: confirmAction,\\n\\t\\tsetIsPurchased: setPurchased,\\n\\t});\\n\\n\\tconst handleAcquireApp = useCallback(() => {\\n\\t\\tsetLoading(true);\\n\\n\\t\\tif (isAdminUser && appAddon && !workspaceHasAddon) {\\n\\t\\t\\treturn setModal(<AddonRequiredModal actionType='install' onDismiss={cancelAction} onInstallAnyway={appInstallationHandler} />);\\n\\t\\t}\\n\\n\\t\\tappInstallationHandler();\\n\\t}, [appAddon, appInstallationHandler, cancelAction, isAdminUser, setLoading, setModal, workspaceHasAddon]);\\n\\n\\t// @TODO we should refactor this to not use the label to determine the variant\\n\\tconst getStatusVariant = (status: appStatusSpanResponseProps) => {\\n\\t\\tif (isAppRequestsPage && totalUnseenRequests && (status.label === 'request' || status.label === 'requests')) {\\n\\t\\t\\treturn 'primary';\\n\\t\\t}\\n\\n\\t\\tif (isAppRequestsPage && status.label === 'Requested') {\\n\\t\\t\\treturn undefined;\\n\\t\\t}\\n\\n\\t\\t// includes() here because the label can be 'Disabled' or 'Disabled*'\\n\\t\\tif (status.label.includes('Disabled')) {\\n\\t\\t\\treturn 'secondary-danger';\\n\\t\\t}\\n\\n\\t\\treturn undefined;\\n\\t};\\n\\n\\tconst handleAppRequestsNumber = (status: appStatusSpanResponseProps) => {\\n\\t\\tif ((status.label === 'request' || status.label === 'requests') && !installed && isAppRequestsPage) {\\n\\t\\t\\tlet numberOfRequests = 0;\\n\\n\\t\\t\\tif (totalUnseenRequests >= 0) {\\n\\t\\t\\t\\tnumberOfRequests += totalUnseenRequests;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (totalSeenRequests >= 0) {\\n\\t\\t\\t\\tnumberOfRequests += totalSeenRequests;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn numberOfRequests;\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t};\\n\\n\\treturn (\\n\\t\\t<Box {...props} display='flex' alignItems='center' mie={8}>\\n\\t\\t\\t{button && isAppDetailsPage && (!installed || canUpdate) && (\\n\\t\\t\\t\\t<Box\\n\\t\\t\\t\\t\\tdisplay='flex'\\n\\t\\t\\t\\t\\tflexDirection='row'\\n\\t\\t\\t\\t\\talignItems='center'\\n\\t\\t\\t\\t\\tjustifyContent='center'\\n\\t\\t\\t\\t\\tborderRadius='x4'\\n\\t\\t\\t\\t\\tinvisible={!showStatus && !loading}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<Button\\n\\t\\t\\t\\t\\t\\ticon={button.icon}\\n\\t\\t\\t\\t\\t\\tprimary\\n\\t\\t\\t\\t\\t\\tsmall\\n\\t\\t\\t\\t\\t\\tloading={loading}\\n\\t\\t\\t\\t\\t\\tdisabled={action === 'request' && (app?.requestedEndUser || endUserRequested)}\\n\\t\\t\\t\\t\\t\\tonClick={handleAcquireApp}\\n\\t\\t\\t\\t\\t\\tmie={8}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t{t(button.label.replace(' ', '_') as TranslationKey)}\\n\\t\\t\\t\\t\\t</Button>\\n\\n\\t\\t\\t\\t\\t{shouldShowPriceDisplay && !installed && (\\n\\t\\t\\t\\t\\t\\t<AppStatusPriceDisplay purchaseType={purchaseType} pricingPlans={pricingPlans} price={price} showType={false} />\\n\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t)}\\n\\n\\t\\t\\t{statuses?.map((status, index) => (\\n\\t\\t\\t\\t<Margins inlineEnd={index !== statuses.length - 1 ? 8 : undefined} key={index}>\\n\\t\\t\\t\\t\\t<Tag data-qa-type='app-status-tag' variant={getStatusVariant(status)} title={status.tooltipText ? status.tooltipText : ''}>\\n\\t\\t\\t\\t\\t\\t{handleAppRequestsNumber(status)} {t(status.label)}\\n\\t\\t\\t\\t\\t</Tag>\\n\\t\\t\\t\\t</Margins>\\n\\t\\t\\t))}\\n\\t\\t</Box>\\n\\t);\\n};\\n\\nexport default memo(AppStatus);\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_extends\",\"_objectSpread\",\"_slicedToArray\",\"_objectWithoutProperties\",\"Box\",\"Button\",\"Tag\",\"Margins\",\"useSafely\",\"useRouteParameter\",\"usePermission\",\"useSetModal\",\"React\",\"useCallback\",\"useState\",\"memo\",\"useTranslation\",\"semver\",\"useHasLicenseModule\",\"useIsEnterprise\",\"AddonRequiredModal\",\"appButtonProps\",\"appMultiStatusProps\",\"useAppInstallationHandler\",\"useMarketplaceActions\",\"AppStatusPriceDisplay\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"_data$isEnterprise\",\"_app$appRequestStats\",\"_app$appRequestStats2\",\"app\",\"_ref$showStatus\",\"showStatus\",\"isAppDetailsPage\",\"installed\",\"props\",\"_excluded\",\"t\",\"_useTranslation\",\"_useState\",\"_useState2\",\"endUserRequested\",\"setEndUserRequested\",\"_useSafely\",\"_useSafely2\",\"loading\",\"setLoading\",\"_useSafely3\",\"isPurchased\",\"_useSafely4\",\"isAppPurchased\",\"setPurchased\",\"setModal\",\"isAdminUser\",\"context\",\"price\",\"purchaseType\",\"pricingPlans\",\"button\",\"isAppRequestsPage\",\"shouldShowPriceDisplay\",\"isEnterpriseOnly\",\"canUpdate\",\"version\",\"marketplaceVersion\",\"lt\",\"data\",\"_useIsEnterprise\",\"isEnterprise\",\"appAddon\",\"addon\",\"workspaceHasAddon\",\"statuses\",\"totalSeenRequests\",\"appRequestStats\",\"totalSeen\",\"totalUnseenRequests\",\"totalUnseen\",\"action\",\"marketplaceActions\",\"confirmAction\",\"permissionsGranted\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"stop\",\"Promise\",\"cancelAction\",\"appInstallationHandler\",\"onDismiss\",\"onSuccess\",\"setIsPurchased\",\"handleAcquireApp\",\"createElement\",\"actionType\",\"onInstallAnyway\",\"handleAppRequestsNumber\",\"status\",\"label\",\"numberOfRequests\",\"display\",\"alignItems\",\"mie\",\"flexDirection\",\"justifyContent\",\"borderRadius\",\"invisible\",\"icon\",\"primary\",\"small\",\"disabled\",\"requestedEndUser\",\"onClick\",\"replace\",\"showType\",\"map\",\"index\",\"inlineEnd\",\"length\",\"undefined\",\"key\",\"variant\",\"includes\",\"title\",\"tooltipText\"],\"mappings\":\"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\"}"}