{"code":"function module(e,l,a){let t,r,n,o,i,u,c,m,s,d,f,k,h,x;a.link(\"@rocket.chat/fuselage\",{Box(e){t=e},SearchInput(e){r=e},Select(e){n=e}},0),a.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue(e){o=e}},1),a.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){i=e},useTranslation(e){u=e}},2),a.link(\"react\",{default(e){c=e},useCallback(e){m=e},useState(e){s=e},useMemo(e){d=e}},3),a.link(\"./FederatedRoomList\",{default(e){f=e}},4),a.link(\"./FederatedRoomListErrorBoundary\",{default(e){k=e}},5),a.link(\"./MatrixFederationManageServerModal\",{default(e){h=e}},6),a.link(\"./MatrixFederationSearch\",{default(e){x=e}},7),a.exportDefault(e=>{let{defaultSelectedServer:l,servers:a}=e,[E,S]=s(()=>{var e;let t=a.find(e=>e.name===l);return null!==(e=null==t?void 0:t.name)&&void 0!==e?e:a[0].name}),[g,v]=s(\"\"),p=i(),C=o(g,400),M=u(),b=d(()=>a.map(e=>[e.name,e.name]),[a]),F=m(()=>{p(c.createElement(h,{onClickClose:()=>p(c.createElement(x,{onClose:()=>p(null)}))}))},[p]);return c.createElement(c.Fragment,null,c.createElement(t,{display:\"flex\",flexDirection:\"row\"},c.createElement(t,{mie:4,flexGrow:0,flexShrink:4},c.createElement(n,{options:b,value:E,onChange:e=>S(String(e))})),c.createElement(r,{\"aria-label\":M(\"Search_rooms\"),placeholder:M(\"Search_rooms\"),flexGrow:4,flexShrink:0,value:g,onChange:e=>v(e.currentTarget.value)})),c.createElement(t,{is:\"a\",role:\"button\",display:\"flex\",flexDirection:\"row\",mbe:16,onClick:F},M(\"Manage_server_list\")),c.createElement(k,null,c.createElement(f,{serverName:E,roomName:C})))})}","map":"{\"version\":3,\"sources\":[\"client/sidebar/header/MatrixFederationSearch/MatrixFederationSearchModalContent.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { SelectOption } from '@rocket.chat/fuselage';\\nimport { Box, SearchInput, Select } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { FormEvent } from 'react';\\nimport React, { useCallback, useState, useMemo } from 'react';\\n\\nimport FederatedRoomList from './FederatedRoomList';\\nimport FederatedRoomListErrorBoundary from './FederatedRoomListErrorBoundary';\\nimport MatrixFederationManageServersModal from './MatrixFederationManageServerModal';\\nimport MatrixFederationSearch from './MatrixFederationSearch';\\n\\ntype MatrixFederationSearchModalContentProps = {\\n\\tservers: Array<{\\n\\t\\tname: string;\\n\\t\\tdefault: boolean;\\n\\t\\tlocal: boolean;\\n\\t}>;\\n\\tdefaultSelectedServer?: string;\\n};\\n\\nconst MatrixFederationSearchModalContent = ({ defaultSelectedServer, servers }: MatrixFederationSearchModalContentProps) => {\\n\\tconst [serverName, setServerName] = useState(() => {\\n\\t\\tconst defaultServer = servers.find((server) => server.name === defaultSelectedServer);\\n\\t\\treturn defaultServer?.name ?? servers[0].name;\\n\\t});\\n\\n\\tconst [roomName, setRoomName] = useState('');\\n\\n\\tconst setModal = useSetModal();\\n\\n\\tconst debouncedRoomName = useDebouncedValue(roomName, 400);\\n\\n\\tconst t = useTranslation();\\n\\n\\tconst serverOptions = useMemo(() => servers.map((server): SelectOption => [server.name, server.name]), [servers]);\\n\\n\\tconst manageServers = useCallback(() => {\\n\\t\\tsetModal(\\n\\t\\t\\t<MatrixFederationManageServersModal onClickClose={() => setModal(<MatrixFederationSearch onClose={() => setModal(null)} />)} />,\\n\\t\\t);\\n\\t}, [setModal]);\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<Box display='flex' flexDirection='row'>\\n\\t\\t\\t\\t<Box mie={4} flexGrow={0} flexShrink={4}>\\n\\t\\t\\t\\t\\t<Select options={serverOptions} value={serverName} onChange={(value) => setServerName(String(value))} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t<SearchInput\\n\\t\\t\\t\\t\\taria-label={t('Search_rooms')}\\n\\t\\t\\t\\t\\tplaceholder={t('Search_rooms')}\\n\\t\\t\\t\\t\\tflexGrow={4}\\n\\t\\t\\t\\t\\tflexShrink={0}\\n\\t\\t\\t\\t\\tvalue={roomName}\\n\\t\\t\\t\\t\\tonChange={(e: FormEvent<HTMLInputElement>) => setRoomName(e.currentTarget.value)}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</Box>\\n\\t\\t\\t<Box is='a' role='button' display='flex' flexDirection='row' mbe={16} onClick={manageServers}>\\n\\t\\t\\t\\t{t('Manage_server_list')}\\n\\t\\t\\t</Box>\\n\\t\\t\\t<FederatedRoomListErrorBoundary>\\n\\t\\t\\t\\t<FederatedRoomList serverName={serverName} roomName={debouncedRoomName} />\\n\\t\\t\\t</FederatedRoomListErrorBoundary>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default MatrixFederationSearchModalContent;\\n\",null],\"names\":[\"Box\",\"SearchInput\",\"Select\",\"useDebouncedValue\",\"useSetModal\",\"useTranslation\",\"React\",\"useCallback\",\"useState\",\"useMemo\",\"FederatedRoomList\",\"FederatedRoomListErrorBoundary\",\"MatrixFederationManageServersModal\",\"MatrixFederationSearch\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"defaultSelectedServer\",\"servers\",\"serverName\",\"setServerName\",\"_defaultServer$name\",\"defaultServer\",\"find\",\"server\",\"name\",\"roomName\",\"setRoomName\",\"setModal\",\"debouncedRoomName\",\"t\",\"serverOptions\",\"map\",\"manageServers\",\"createElement\",\"onClickClose\",\"onClose\",\"Fragment\",\"display\",\"flexDirection\",\"mie\",\"flexGrow\",\"flexShrink\",\"options\",\"value\",\"onChange\",\"String\",\"placeholder\",\"e\",\"currentTarget\",\"is\",\"role\",\"mbe\",\"onClick\"],\"mappings\":\"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\"}"}