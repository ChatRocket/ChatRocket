{"code":"function module(e,r,t){var n,a,i,o,c,l,u,d,s,m=[\"lineNumbers\",\"lineWrapping\",\"mode\",\"gutters\",\"foldGutter\",\"matchBrackets\",\"autoCloseBrackets\",\"matchTags\",\"showTrailingSpace\",\"highlightSelectionMatches\",\"readOnly\",\"value\",\"defaultValue\",\"onChange\"];t.link(\"@babel/runtime/regenerator\",{default:function(e){n=e}},0),t.link(\"@babel/runtime/helpers/extends\",{default:function(e){a=e}},1),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){i=e}},2),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){o=e}},3),t.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(e){c=e}},0),t.link(\"react\",{default:function(e){l=e},useEffect:function(e){u=e},useRef:function(e){d=e},useState:function(e){s=e}},1);var f=[\"CodeMirror-linenumbers\",\"CodeMirror-foldgutter\"];t.exportDefault(function(e){var r=e.lineNumbers,h=void 0===r||r,p=e.lineWrapping,g=void 0===p||p,b=e.mode,v=void 0===b?\"javascript\":b,k=e.gutters,y=void 0===k?f:k,x=e.foldGutter,T=void 0===x||x,C=e.matchBrackets,I=void 0===C||C,M=e.autoCloseBrackets,S=void 0===M||M,w=e.matchTags,B=void 0===w||w,V=e.showTrailingSpace,O=void 0===V||V,W=e.highlightSelectionMatches,A=void 0===W||W,G=e.readOnly,N=e.value,P=e.defaultValue,j=e.onChange,E=o(e,m),D=s(N||P),R=i(D,2),q=R[0],z=R[1],F=d(null),H=d(null),J=c(j);return u(function(){var e;if(!H.current)return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.awrap(t.dynamicImport(\"codemirror\"));case 2:return e=r.sent.default,r.next=6,n.awrap(Promise.all([t.dynamicImport(\"../../../../../../../app/ui/client/lib/codeMirror/codeMirror\"),t.dynamicImport(\"codemirror/addon/edit/matchbrackets\"),t.dynamicImport(\"codemirror/addon/edit/closebrackets\"),t.dynamicImport(\"codemirror/addon/edit/matchtags\"),t.dynamicImport(\"codemirror/addon/edit/trailingspace\"),t.dynamicImport(\"codemirror/addon/search/match-highlighter\"),t.dynamicImport(\"codemirror/lib/codemirror.css\")]));case 6:if(F.current){r.next=8;break}return r.abrupt(\"return\");case 8:H.current=e.fromTextArea(F.current,{lineNumbers:h,lineWrapping:g,mode:v,gutters:y,foldGutter:T,matchBrackets:I,autoCloseBrackets:S,matchTags:B,showTrailingSpace:O,highlightSelectionMatches:A,readOnly:G}),H.current.on(\"change\",function(e){var r=e.getValue();z(r),J(r)});case 10:case\"end\":return r.stop()}},null,null,null,Promise),function(){H.current&&H.current.toTextArea()}},[S,T,y,A,h,g,I,B,v,J,G,F,O]),u(function(){z(N)},[N]),u(function(){H.current&&q!==H.current.getValue()&&H.current.setValue(null!=q?q:\"\")},[F,q]),l.createElement(\"textarea\",a({readOnly:!0,ref:F,style:{display:\"none\"},value:q},E))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/settings/Setting/inputs/CodeMirror/CodeMirror.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { Editor, EditorFromTextArea } from 'codemirror';\\nimport type { ReactElement } from 'react';\\nimport React, { useEffect, useRef, useState } from 'react';\\n\\nconst defaultGutters = ['CodeMirror-linenumbers', 'CodeMirror-foldgutter'];\\n\\ntype CodeMirrorProps = {\\n\\tid: string;\\n\\tplaceholder?: string;\\n\\tdisabled?: boolean;\\n\\tautoComplete?: string | undefined;\\n\\tlineNumbers?: boolean;\\n\\tlineWrapping?: boolean;\\n\\tmode?: string;\\n\\tgutters?: string[];\\n\\tfoldGutter?: boolean;\\n\\tmatchBrackets?: boolean;\\n\\tautoCloseBrackets?: boolean;\\n\\tmatchTags?: boolean;\\n\\tshowTrailingSpace?: boolean;\\n\\thighlightSelectionMatches?: boolean;\\n\\treadOnly: boolean;\\n\\tvalue: string;\\n\\tdefaultValue?: string;\\n\\tonChange: (value: string) => void;\\n};\\n\\nfunction CodeMirror({\\n\\tlineNumbers = true,\\n\\tlineWrapping = true,\\n\\tmode = 'javascript',\\n\\tgutters = defaultGutters,\\n\\tfoldGutter = true,\\n\\tmatchBrackets = true,\\n\\tautoCloseBrackets = true,\\n\\tmatchTags = true,\\n\\tshowTrailingSpace = true,\\n\\thighlightSelectionMatches = true,\\n\\treadOnly,\\n\\tvalue: valueProp,\\n\\tdefaultValue,\\n\\tonChange,\\n\\t...props\\n}: CodeMirrorProps): ReactElement {\\n\\tconst [value, setValue] = useState(valueProp || defaultValue);\\n\\n\\tconst textAreaRef = useRef<HTMLTextAreaElement>(null);\\n\\tconst editorRef = useRef<EditorFromTextArea | null>(null);\\n\\tconst handleChange = useMutableCallback(onChange);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (editorRef.current) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst setupCodeMirror = async (): Promise<void> => {\\n\\t\\t\\tconst { default: CodeMirror } = await import('codemirror');\\n\\t\\t\\tawait Promise.all([\\n\\t\\t\\t\\timport('../../../../../../../app/ui/client/lib/codeMirror/codeMirror'),\\n\\t\\t\\t\\timport('codemirror/addon/edit/matchbrackets'),\\n\\t\\t\\t\\timport('codemirror/addon/edit/closebrackets'),\\n\\t\\t\\t\\timport('codemirror/addon/edit/matchtags'),\\n\\t\\t\\t\\timport('codemirror/addon/edit/trailingspace'),\\n\\t\\t\\t\\timport('codemirror/addon/search/match-highlighter'),\\n\\t\\t\\t\\timport('codemirror/lib/codemirror.css'),\\n\\t\\t\\t]);\\n\\n\\t\\t\\tif (!textAreaRef.current) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\teditorRef.current = CodeMirror.fromTextArea(textAreaRef.current, {\\n\\t\\t\\t\\tlineNumbers,\\n\\t\\t\\t\\tlineWrapping,\\n\\t\\t\\t\\tmode,\\n\\t\\t\\t\\tgutters,\\n\\t\\t\\t\\tfoldGutter,\\n\\t\\t\\t\\tmatchBrackets,\\n\\t\\t\\t\\tautoCloseBrackets,\\n\\t\\t\\t\\tmatchTags,\\n\\t\\t\\t\\tshowTrailingSpace,\\n\\t\\t\\t\\thighlightSelectionMatches,\\n\\t\\t\\t\\treadOnly,\\n\\t\\t\\t});\\n\\n\\t\\t\\teditorRef.current.on('change', (doc: Editor) => {\\n\\t\\t\\t\\tconst value = doc.getValue();\\n\\t\\t\\t\\tsetValue(value);\\n\\t\\t\\t\\thandleChange(value);\\n\\t\\t\\t});\\n\\t\\t};\\n\\n\\t\\tsetupCodeMirror();\\n\\n\\t\\treturn (): void => {\\n\\t\\t\\tif (!editorRef.current) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\teditorRef.current.toTextArea();\\n\\t\\t};\\n\\t}, [\\n\\t\\tautoCloseBrackets,\\n\\t\\tfoldGutter,\\n\\t\\tgutters,\\n\\t\\thighlightSelectionMatches,\\n\\t\\tlineNumbers,\\n\\t\\tlineWrapping,\\n\\t\\tmatchBrackets,\\n\\t\\tmatchTags,\\n\\t\\tmode,\\n\\t\\thandleChange,\\n\\t\\treadOnly,\\n\\t\\ttextAreaRef,\\n\\t\\tshowTrailingSpace,\\n\\t]);\\n\\n\\tuseEffect(() => {\\n\\t\\tsetValue(valueProp);\\n\\t}, [valueProp]);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!editorRef.current) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tif (value !== editorRef.current.getValue()) {\\n\\t\\t\\teditorRef.current.setValue(value ?? '');\\n\\t\\t}\\n\\t}, [textAreaRef, value]);\\n\\n\\treturn <textarea readOnly ref={textAreaRef} style={{ display: 'none' }} value={value} {...props} />;\\n}\\n\\nexport default CodeMirror;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_extends\",\"_slicedToArray\",\"_objectWithoutProperties\",\"useMutableCallback\",\"React\",\"useEffect\",\"useRef\",\"useState\",\"module\",\"link\",\"default\",\"v\",\"defaultGutters\",\"exportDefault\",\"_ref\",\"_ref$lineNumbers\",\"lineNumbers\",\"_ref$lineWrapping\",\"lineWrapping\",\"_ref$mode\",\"mode\",\"_ref$gutters\",\"gutters\",\"_ref$foldGutter\",\"foldGutter\",\"_ref$matchBrackets\",\"matchBrackets\",\"_ref$autoCloseBracket\",\"autoCloseBrackets\",\"_ref$matchTags\",\"matchTags\",\"_ref$showTrailingSpac\",\"showTrailingSpace\",\"_ref$highlightSelecti\",\"highlightSelectionMatches\",\"readOnly\",\"valueProp\",\"value\",\"defaultValue\",\"onChange\",\"props\",\"_excluded\",\"_useState\",\"_useState2\",\"setValue\",\"textAreaRef\",\"editorRef\",\"handleChange\",\"CodeMirror\",\"current\",\"async\",\"_context\",\"prev\",\"next\",\"awrap\",\"dynamicImport\",\"_await$module$dynamic\",\"sent\",\"Promise\",\"all\",\"abrupt\",\"fromTextArea\",\"on\",\"doc\",\"getValue\",\"stop\",\"toTextArea\",\"createElement\",\"ref\",\"style\",\"display\"],\"mappings\":\"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\"}"}