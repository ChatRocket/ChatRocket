{"code":"function module(e,r,n){n.link(\"@babel/runtime/regenerator\",{default:function(e){t=e}},0),n.link(\"@babel/runtime/helpers/objectSpread2\",{default:function(e){a=e}},1),n.link(\"@babel/runtime/helpers/typeof\",{default:function(e){s=e}},2),n.export({AppClientOrchestratorInstance:function(){return c}}),n.link(\"@rocket.chat/apps-engine/client/AppClientManager\",{AppClientManager:function(e){p=e}},0),n.link(\"../../app/authorization/client\",{hasAtLeastOnePermission:function(e){u=e}},1),n.link(\"../../app/utils/client/lib/SDKClient\",{sdk:function(e){i=e}},2),n.link(\"../lib/toast\",{dispatchToastMessage:function(e){l=e}},3),n.link(\"./RealAppsEngineUIHost\",{RealAppsEngineUIHost:function(e){o=e}},4);var t,a,s,p,u,i,l,o,c=new(function(){function e(){this._appClientUIHost=void 0,this._manager=void 0,this._isLoaded=void 0,this._appClientUIHost=new o,this._manager=new p(this._appClientUIHost),this._isLoaded=!1}var r=e.prototype;return r.load=function(){return t.async(function(e){for(;;)switch(e.prev=e.next){case 0:this._isLoaded||(this._isLoaded=!0);case 1:case\"end\":return e.stop()}},null,this,null,Promise)},r.getAppClientManager=function(){return this._manager},r.handleError=function(e){u([\"manage-apps\"])&&l({type:\"error\",message:e})},r.getInstalledApps=function(){var e;return t.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.awrap(i.rest.get(\"/apps/installed\"));case 2:if(!(\"apps\"in(e=r.sent))){r.next=5;break}return r.abrupt(\"return\",e.apps);case 5:throw Error(\"Invalid response from API\");case 6:case\"end\":return r.stop()}},null,null,null,Promise)},r.getAppsFromMarketplace=function(e){var r,n;return t.async(function(p){for(;;)switch(p.prev=p.next){case 0:return r=[],p.prev=1,p.next=4,t.awrap(i.rest.get(\"/apps/marketplace\",{isAdminUser:e?e.toString():\"false\"}));case 4:r=p.sent,p.next=13;break;case 7:var u;if(p.prev=7,p.t0=p.catch(1),u=p.t0,\"object\"!==s(u)||null===u||!(\"error\"in u)||\"string\"!=typeof u.error){p.next=11;break}return p.abrupt(\"return\",{apps:[],error:p.t0.error});case 11:if(\"string\"!=typeof p.t0){p.next=13;break}return p.abrupt(\"return\",{apps:[],error:p.t0});case 13:if(Array.isArray(r)){p.next=15;break}return p.abrupt(\"return\",{apps:[],error:\"Invalid response from API\"});case 15:return n=r.map(function(e){var r=e.latest,n=e.appRequestStats,t=e.price,s=e.pricingPlans,p=e.purchaseType,u=e.isEnterpriseOnly,i=e.modifiedAt,l=e.bundledIn,o=e.requestedEndUser;return a(a({},r),{},{appRequestStats:n,price:t,pricingPlans:s,purchaseType:p,isEnterpriseOnly:u,modifiedAt:i,bundledIn:l,requestedEndUser:o})}),p.abrupt(\"return\",{apps:n,error:void 0});case 17:case\"end\":return p.stop()}},null,null,[[1,7]],Promise)},r.getAppsOnBundle=function(e){var r;return t.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.awrap(i.rest.get(\"/apps/bundles/\"+e+\"/apps\"));case 2:return r=n.sent.apps,n.abrupt(\"return\",r);case 5:case\"end\":return n.stop()}},null,null,null,Promise)},r.getApp=function(e){var r;return t.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.awrap(i.rest.get(\"/apps/\"+e));case 2:return r=n.sent.app,n.abrupt(\"return\",r);case 5:case\"end\":return n.stop()}},null,null,null,Promise)},r.setAppSettings=function(e,r){return t.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.awrap(i.rest.post(\"/apps/\"+e+\"/settings\",{settings:r}));case 2:case\"end\":return n.stop()}},null,null,null,Promise)},r.installApp=function(e,r,n){var a;return t.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.awrap(i.rest.post(\"/apps\",{appId:e,marketplace:!0,version:r,permissionsGranted:n}));case 2:return a=s.sent.app,s.abrupt(\"return\",a);case 5:case\"end\":return s.stop()}},null,null,null,Promise)},r.updateApp=function(e,r,n){var a;return t.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.awrap(i.rest.post(\"/apps/\"+e,{appId:e,marketplace:!0,version:r,permissionsGranted:n}));case 2:if(!(\"app\"in(a=s.sent))){s.next=5;break}return s.abrupt(\"return\",a.app);case 5:throw Error(\"App not found\");case 6:case\"end\":return s.stop()}},null,null,null,Promise)},r.buildExternalUrl=function(e){var r,n,a,s=arguments;return t.async(function(p){for(;;)switch(p.prev=p.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:\"buy\",n=s.length>2&&void 0!==s[2]&&s[2],p.next=4,t.awrap(i.rest.get(\"/apps/buildExternalUrl\",{appId:e,purchaseType:r,details:\"\"+n}));case 4:if(!(\"url\"in(a=p.sent))){p.next=7;break}return p.abrupt(\"return\",a);case 7:throw Error(\"Failed to build external url\");case 8:case\"end\":return p.stop()}},null,null,null,Promise)},r.buildExternalAppRequest=function(e){var r;return t.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.awrap(i.rest.get(\"/apps/buildExternalAppRequest\",{appId:e}));case 2:if(!(\"url\"in(r=n.sent))){n.next=5;break}return n.abrupt(\"return\",r);case 5:throw Error(\"Failed to build App Request external url\");case 6:case\"end\":return n.stop()}},null,null,null,Promise)},r.buildIncompatibleExternalUrl=function(e,r,n){var a;return t.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.awrap(i.rest.get(\"/apps/incompatibleModal\",{appId:e,appVersion:r,action:n}));case 2:if(!(\"url\"in(a=s.sent))){s.next=5;break}return s.abrupt(\"return\",a);case 5:throw Error(\"Failed to build external url\");case 6:case\"end\":return s.stop()}},null,null,null,Promise)},r.getCategories=function(){var e;return t.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.awrap(i.rest.get(\"/apps/categories\"));case 2:if(!Array.isArray(e=r.sent)){r.next=5;break}return r.abrupt(\"return\",e);case 5:throw Error(\"Failed to get categories\");case 6:case\"end\":return r.stop()}},null,null,null,Promise)},e}())}","map":"{\"version\":3,\"sources\":[\"client/apps/orchestrator.ts\",\"<anon>\"],\"sourcesContent\":[\"import { AppClientManager } from '@rocket.chat/apps-engine/client/AppClientManager';\\nimport type { AppsEngineUIHost } from '@rocket.chat/apps-engine/client/AppsEngineUIHost';\\nimport type { IPermission } from '@rocket.chat/apps-engine/definition/permissions/IPermission';\\nimport type { ISetting } from '@rocket.chat/apps-engine/definition/settings';\\nimport type { Serialized } from '@rocket.chat/core-typings';\\n\\nimport { hasAtLeastOnePermission } from '../../app/authorization/client';\\nimport { sdk } from '../../app/utils/client/lib/SDKClient';\\nimport { dispatchToastMessage } from '../lib/toast';\\nimport type { App } from '../views/marketplace/types';\\nimport type { IAppExternalURL, ICategory } from './@types/IOrchestrator';\\nimport { RealAppsEngineUIHost } from './RealAppsEngineUIHost';\\n\\nconst isErrorObject = (e: unknown): e is { error: string } =>\\n\\ttypeof e === 'object' && e !== null && 'error' in e && typeof e.error === 'string';\\n\\nclass AppClientOrchestrator {\\n\\tprivate _appClientUIHost: AppsEngineUIHost;\\n\\n\\tprivate _manager: AppClientManager;\\n\\n\\tprivate _isLoaded: boolean;\\n\\n\\tconstructor() {\\n\\t\\tthis._appClientUIHost = new RealAppsEngineUIHost();\\n\\t\\tthis._manager = new AppClientManager(this._appClientUIHost);\\n\\t\\tthis._isLoaded = false;\\n\\t}\\n\\n\\tpublic async load(): Promise<void> {\\n\\t\\tif (!this._isLoaded) {\\n\\t\\t\\tthis._isLoaded = true;\\n\\t\\t}\\n\\t}\\n\\n\\tpublic getAppClientManager(): AppClientManager {\\n\\t\\treturn this._manager;\\n\\t}\\n\\n\\tpublic handleError(error: unknown): void {\\n\\t\\tif (hasAtLeastOnePermission(['manage-apps'])) {\\n\\t\\t\\tdispatchToastMessage({\\n\\t\\t\\t\\ttype: 'error',\\n\\t\\t\\t\\tmessage: error,\\n\\t\\t\\t});\\n\\t\\t}\\n\\t}\\n\\n\\tpublic async getInstalledApps(): Promise<App[]> {\\n\\t\\tconst result = await sdk.rest.get<'/apps/installed'>('/apps/installed');\\n\\n\\t\\tif ('apps' in result) {\\n\\t\\t\\t// TODO: chapter day: multiple results are returned, but we only need one\\n\\t\\t\\treturn result.apps as App[];\\n\\t\\t}\\n\\t\\tthrow new Error('Invalid response from API');\\n\\t}\\n\\n\\tpublic async getAppsFromMarketplace(isAdminUser?: boolean): Promise<{ apps: App[]; error?: unknown }> {\\n\\t\\tlet result: App[] = [];\\n\\t\\ttry {\\n\\t\\t\\tresult = await sdk.rest.get('/apps/marketplace', { isAdminUser: isAdminUser ? isAdminUser.toString() : 'false' });\\n\\t\\t} catch (e) {\\n\\t\\t\\tif (isErrorObject(e)) {\\n\\t\\t\\t\\treturn { apps: [], error: e.error };\\n\\t\\t\\t}\\n\\t\\t\\tif (typeof e === 'string') {\\n\\t\\t\\t\\treturn { apps: [], error: e };\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (!Array.isArray(result)) {\\n\\t\\t\\t// TODO: chapter day: multiple results are returned, but we only need one\\n\\t\\t\\treturn { apps: [], error: 'Invalid response from API' };\\n\\t\\t}\\n\\n\\t\\tconst apps = (result as App[]).map((app: App) => {\\n\\t\\t\\tconst { latest, appRequestStats, price, pricingPlans, purchaseType, isEnterpriseOnly, modifiedAt, bundledIn, requestedEndUser } = app;\\n\\t\\t\\treturn {\\n\\t\\t\\t\\t...latest,\\n\\t\\t\\t\\tappRequestStats,\\n\\t\\t\\t\\tprice,\\n\\t\\t\\t\\tpricingPlans,\\n\\t\\t\\t\\tpurchaseType,\\n\\t\\t\\t\\tisEnterpriseOnly,\\n\\t\\t\\t\\tmodifiedAt,\\n\\t\\t\\t\\tbundledIn,\\n\\t\\t\\t\\trequestedEndUser,\\n\\t\\t\\t};\\n\\t\\t});\\n\\n\\t\\treturn { apps, error: undefined };\\n\\t}\\n\\n\\tpublic async getAppsOnBundle(bundleId: string): Promise<App[]> {\\n\\t\\tconst { apps } = await sdk.rest.get(`/apps/bundles/${bundleId}/apps`);\\n\\t\\treturn apps;\\n\\t}\\n\\n\\tpublic async getApp(appId: string): Promise<App> {\\n\\t\\tconst { app } = await sdk.rest.get(`/apps/${appId}` as any);\\n\\t\\treturn app;\\n\\t}\\n\\n\\tpublic async setAppSettings(appId: string, settings: ISetting[]): Promise<void> {\\n\\t\\tawait sdk.rest.post(`/apps/${appId}/settings`, { settings });\\n\\t}\\n\\n\\tpublic async installApp(appId: string, version: string, permissionsGranted?: IPermission[]): Promise<App> {\\n\\t\\tconst { app } = (await sdk.rest.post<'/apps'>('/apps', {\\n\\t\\t\\tappId,\\n\\t\\t\\tmarketplace: true,\\n\\t\\t\\tversion,\\n\\t\\t\\tpermissionsGranted,\\n\\t\\t})) as { app: App };\\n\\t\\treturn app;\\n\\t}\\n\\n\\tpublic async updateApp(appId: string, version: string, permissionsGranted?: IPermission[]): Promise<App> {\\n\\t\\tconst result = await sdk.rest.post<'/apps/:id'>(`/apps/${appId}`, {\\n\\t\\t\\tappId,\\n\\t\\t\\tmarketplace: true,\\n\\t\\t\\tversion,\\n\\t\\t\\tpermissionsGranted,\\n\\t\\t});\\n\\n\\t\\tif ('app' in result) {\\n\\t\\t\\treturn result.app;\\n\\t\\t}\\n\\t\\tthrow new Error('App not found');\\n\\t}\\n\\n\\tpublic async buildExternalUrl(appId: string, purchaseType: 'buy' | 'subscription' = 'buy', details = false): Promise<IAppExternalURL> {\\n\\t\\tconst result = await sdk.rest.get('/apps/buildExternalUrl', {\\n\\t\\t\\tappId,\\n\\t\\t\\tpurchaseType,\\n\\t\\t\\tdetails: `${details}`,\\n\\t\\t});\\n\\n\\t\\tif ('url' in result) {\\n\\t\\t\\treturn result;\\n\\t\\t}\\n\\n\\t\\tthrow new Error('Failed to build external url');\\n\\t}\\n\\n\\tpublic async buildExternalAppRequest(appId: string) {\\n\\t\\tconst result = await sdk.rest.get('/apps/buildExternalAppRequest', {\\n\\t\\t\\tappId,\\n\\t\\t});\\n\\n\\t\\tif ('url' in result) {\\n\\t\\t\\treturn result;\\n\\t\\t}\\n\\t\\tthrow new Error('Failed to build App Request external url');\\n\\t}\\n\\n\\tpublic async buildIncompatibleExternalUrl(appId: string, appVersion: string, action: string): Promise<IAppExternalURL> {\\n\\t\\tconst result = await sdk.rest.get('/apps/incompatibleModal', {\\n\\t\\t\\tappId,\\n\\t\\t\\tappVersion,\\n\\t\\t\\taction,\\n\\t\\t});\\n\\n\\t\\tif ('url' in result) {\\n\\t\\t\\treturn result;\\n\\t\\t}\\n\\n\\t\\tthrow new Error('Failed to build external url');\\n\\t}\\n\\n\\tpublic async getCategories(): Promise<Serialized<ICategory[]>> {\\n\\t\\tconst result = await sdk.rest.get('/apps/categories');\\n\\n\\t\\tif (Array.isArray(result)) {\\n\\t\\t\\t// TODO: chapter day: multiple results are returned, but we only need one\\n\\t\\t\\treturn result as Serialized<ICategory>[];\\n\\t\\t}\\n\\t\\tthrow new Error('Failed to get categories');\\n\\t}\\n}\\n\\nexport const AppClientOrchestratorInstance = new AppClientOrchestrator();\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_regeneratorRuntime\",\"_objectSpread\",\"_typeof\",\"export\",\"AppClientOrchestratorInstance\",\"AppClientManager\",\"hasAtLeastOnePermission\",\"sdk\",\"dispatchToastMessage\",\"RealAppsEngineUIHost\",\"AppClientOrchestrator\",\"_appClientUIHost\",\"_manager\",\"_isLoaded\",\"_proto\",\"prototype\",\"load\",\"async\",\"_context\",\"prev\",\"next\",\"stop\",\"Promise\",\"getAppClientManager\",\"handleError\",\"error\",\"type\",\"message\",\"getInstalledApps\",\"result\",\"_context2\",\"awrap\",\"rest\",\"get\",\"sent\",\"abrupt\",\"apps\",\"Error\",\"getAppsFromMarketplace\",\"isAdminUser\",\"_context3\",\"toString\",\"e\",\"t0\",\"Array\",\"isArray\",\"map\",\"app\",\"latest\",\"appRequestStats\",\"price\",\"pricingPlans\",\"purchaseType\",\"isEnterpriseOnly\",\"modifiedAt\",\"bundledIn\",\"requestedEndUser\",\"undefined\",\"getAppsOnBundle\",\"bundleId\",\"_context4\",\"_await$sdk$rest$get\",\"getApp\",\"appId\",\"_context5\",\"_await$sdk$rest$get2\",\"setAppSettings\",\"settings\",\"_context6\",\"post\",\"installApp\",\"version\",\"permissionsGranted\",\"_context7\",\"marketplace\",\"_await$sdk$rest$post\",\"updateApp\",\"_context8\",\"buildExternalUrl\",\"details\",\"_args9\",\"arguments\",\"_context9\",\"length\",\"buildExternalAppRequest\",\"_context10\",\"buildIncompatibleExternalUrl\",\"appVersion\",\"action\",\"_context11\",\"getCategories\",\"_context12\"],\"mappings\":\"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\"}"}