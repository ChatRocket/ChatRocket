{"code":"function module(e,o,t){let l,n,s,a,r,m,i,g,u,c;t.link(\"react\",{default(e){l=e},useContext(e){n=e},useMemo(e){s=e}},0),t.link(\"../../../components/ImageGallery\",{ImageGallery(e){a=e},ImageGalleryError(e){r=e},ImageGalleryLoading(e){m=e}},1),t.link(\"../../../contexts/ImageGalleryContext\",{ImageGalleryContext(e){i=e}},2),t.link(\"../../../hooks/lists/useRecordList\",{useRecordList(e){g=e}},3),t.link(\"../contexts/RoomContext\",{useRoom(e){u=e}},4),t.link(\"./hooks/useImagesList\",{useImagesList(e){c=e}},5),t.exportDefault(()=>{let{_id:e}=u(),{imageId:o,onClose:t}=n(i),{filesList:d,loadMoreItems:I}=c(s(()=>({roomId:e,startingFromId:o}),[o,e])),{phase:k,items:x,error:C}=g(d);return C?l.createElement(r,{onClose:t}):\"loading\"===k?l.createElement(m,{onClose:t}):l.createElement(a,{images:x,loadMore:()=>I(x.length-1),onClose:t})})}","map":"{\"version\":3,\"sources\":[\"client/views/room/ImageGallery/ImageGalleryData.tsx\",\"<anon>\"],\"sourcesContent\":[\"import React, { useContext, useMemo } from 'react';\\n\\nimport { ImageGallery, ImageGalleryError, ImageGalleryLoading } from '../../../components/ImageGallery';\\nimport { ImageGalleryContext } from '../../../contexts/ImageGalleryContext';\\nimport { useRecordList } from '../../../hooks/lists/useRecordList';\\nimport { useRoom } from '../contexts/RoomContext';\\nimport { useImagesList } from './hooks/useImagesList';\\n\\nconst ImageGalleryData = () => {\\n\\tconst { _id: rid } = useRoom();\\n\\n\\tconst { imageId, onClose } = useContext(ImageGalleryContext);\\n\\n\\tconst { filesList, loadMoreItems } = useImagesList(useMemo(() => ({ roomId: rid, startingFromId: imageId }), [imageId, rid]));\\n\\tconst { phase, items: images, error } = useRecordList(filesList);\\n\\n\\tif (error) {\\n\\t\\treturn <ImageGalleryError onClose={onClose} />;\\n\\t}\\n\\n\\tif (phase === 'loading') {\\n\\t\\treturn <ImageGalleryLoading onClose={onClose} />;\\n\\t}\\n\\n\\treturn <ImageGallery images={images} loadMore={() => loadMoreItems(images.length - 1)} onClose={onClose} />;\\n};\\n\\nexport default ImageGalleryData;\\n\",null],\"names\":[\"React\",\"useContext\",\"useMemo\",\"ImageGallery\",\"ImageGalleryError\",\"ImageGalleryLoading\",\"ImageGalleryContext\",\"useRecordList\",\"useRoom\",\"useImagesList\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"ImageGalleryData\",\"_id\",\"rid\",\"imageId\",\"onClose\",\"filesList\",\"loadMoreItems\",\"roomId\",\"startingFromId\",\"phase\",\"items\",\"images\",\"error\",\"createElement\",\"loadMore\",\"length\"],\"mappings\":\"2BAAAA,EAAOC,EAASC,EAAmCC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvBC,EAAOC,IAAE,CAAA,QAAM,CAAOC,QAACC,CAAA,EAAAb,EAAAa,CAAA,EAAAZ,WAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,QAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,mCAAA,CAAAR,aAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,kBAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,oBAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wCAAA,CAAAL,oBAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,qCAAA,CAAAJ,cAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,0BAAA,CAAAH,QAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAH,EAAAC,IAAA,CAAA,wBAAA,CAAAF,cAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAnDH,EAAOI,aAAS,CAQSC,KACxB,GAAM,CAAEC,IAAKC,CAAAA,CAAK,CAAGT,IAEf,CAAEU,QAAAA,CAAO,CAAEC,QAAAA,CAAAA,CAAS,CAAGlB,EAAWK,GAElC,CAAEc,UAAAA,CAAS,CAAEC,cAAAA,CAAAA,CAAe,CAAGZ,EAAcP,EAAQ,IAAO,CAAA,CAAEoB,OAAQL,EAAKM,eAAgBL,CAAO,CAAA,EAAK,CAACA,EAASD,EAAI,GACrH,CAAEO,MAAAA,CAAK,CAAEC,MAAOC,CAAM,CAAEC,MAAAA,CAAAA,CAAO,CAAGpB,EAAca,UAEtD,AAAIO,EACI3B,EAAA4B,aAAA,CAACxB,EAAiB,CAACe,QAASA,CAAQ,GAGxCK,AAAU,YAAVA,EACIxB,EAAA4B,aAAA,CAACvB,EAAmB,CAACc,QAASA,CAAQ,GAGvCnB,EAAA4B,aAAA,CAACzB,EAAY,CAACuB,OAAQA,EAAQG,SAAUA,IAAMR,EAAcK,EAAOI,MAAM,CAAG,GAAIX,QAASA,CAAQ,EACzG\"}"}