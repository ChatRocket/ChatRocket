{"code":"function module(e,t,l){let n,a,r,o,u,i,s,c,m,p,k,d,h,E,f,v,b;let g=[\"onChange\"],x=[\"selected\",\"onRemove\"],C=[\"value\",\"label\"];l.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),l.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default(e){a=e}},1),l.link(\"@rocket.chat/fuselage\",{AutoComplete(e){r=e},Box(e){o=e},OptionAvatar(e){u=e},Option(e){i=e},OptionContent(e){s=e},Chip(e){c=e},OptionDescription(e){m=e}},0),l.link(\"@rocket.chat/fuselage-hooks\",{useDebouncedValue(e){p=e}},1),l.link(\"@rocket.chat/ui-avatar\",{UserAvatar(e){k=e}},2),l.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){d=e}},3),l.link(\"@tanstack/react-query\",{useQuery(e){h=e}},4),l.link(\"react\",{default(e){E=e},memo(e){f=e},useMemo(e){v=e},useState(e){b=e}},5);let y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return{selector:JSON.stringify({term:e})}};l.exportDefault(f(e=>{let{onChange:t}=e,l=a(e,g),[f,O]=b(\"\"),A=p(f,1e3),D=d(\"GET\",\"/v1/users.autocomplete\"),{data:S}=h([\"usersAutoComplete\",A],async()=>D(y(A))),q=v(()=>(null==S?void 0:S.items.map(e=>({value:e.username,label:e.name})))||[],[S]);return E.createElement(r,n({},l,{filter:f,setFilter:O,onChange:t,multiple:!0,renderSelected:e=>{let{selected:{value:t,label:l},onRemove:r}=e,u=a(e,x);return E.createElement(c,n({},u,{height:\"x20\",value:t,onClick:r,mie:4}),E.createElement(k,{size:\"x20\",username:t}),E.createElement(o,{is:\"span\",margin:\"none\",mis:4},l))},renderItem:e=>{let{value:t,label:l}=e,r=a(e,C);return E.createElement(i,n({\"data-qa-type\":\"autocomplete-user-option\",key:t},r),E.createElement(u,null,E.createElement(k,{username:t,size:\"x20\"})),E.createElement(s,null,l,\" \",E.createElement(m,null,\"(\",t,\")\")))},options:q}))}))}","map":"{\"version\":3,\"sources\":[\"client/components/UserAutoCompleteMultiple/UserAutoCompleteMultiple.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { AutoComplete, Box, OptionAvatar, Option, OptionContent, Chip, OptionDescription } from '@rocket.chat/fuselage';\\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\\nimport { UserAvatar } from '@rocket.chat/ui-avatar';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport type { ComponentProps, ReactElement } from 'react';\\nimport React, { memo, useMemo, useState } from 'react';\\n\\nconst query = (\\n\\tterm = '',\\n): {\\n\\tselector: string;\\n} => ({ selector: JSON.stringify({ term }) });\\n\\ntype UserAutoCompleteMultipleProps = Omit<ComponentProps<typeof AutoComplete>, 'filter'>;\\n\\n// TODO: useDisplayUsername\\nconst UserAutoCompleteMultiple = ({ onChange, ...props }: UserAutoCompleteMultipleProps): ReactElement => {\\n\\tconst [filter, setFilter] = useState('');\\n\\tconst debouncedFilter = useDebouncedValue(filter, 1000);\\n\\tconst usersAutoCompleteEndpoint = useEndpoint('GET', '/v1/users.autocomplete');\\n\\tconst { data } = useQuery(['usersAutoComplete', debouncedFilter], async () => usersAutoCompleteEndpoint(query(debouncedFilter)));\\n\\n\\tconst options = useMemo(() => data?.items.map((user) => ({ value: user.username, label: user.name })) || [], [data]);\\n\\n\\treturn (\\n\\t\\t<AutoComplete\\n\\t\\t\\t{...props}\\n\\t\\t\\tfilter={filter}\\n\\t\\t\\tsetFilter={setFilter}\\n\\t\\t\\tonChange={onChange}\\n\\t\\t\\tmultiple\\n\\t\\t\\trenderSelected={({ selected: { value, label }, onRemove, ...props }): ReactElement => (\\n\\t\\t\\t\\t<Chip {...props} height='x20' value={value} onClick={onRemove} mie={4}>\\n\\t\\t\\t\\t\\t<UserAvatar size='x20' username={value} />\\n\\t\\t\\t\\t\\t<Box is='span' margin='none' mis={4}>\\n\\t\\t\\t\\t\\t\\t{label}\\n\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t</Chip>\\n\\t\\t\\t)}\\n\\t\\t\\trenderItem={({ value, label, ...props }): ReactElement => (\\n\\t\\t\\t\\t<Option data-qa-type='autocomplete-user-option' key={value} {...props}>\\n\\t\\t\\t\\t\\t<OptionAvatar>\\n\\t\\t\\t\\t\\t\\t<UserAvatar username={value} size='x20' />\\n\\t\\t\\t\\t\\t</OptionAvatar>\\n\\t\\t\\t\\t\\t<OptionContent>\\n\\t\\t\\t\\t\\t\\t{label} <OptionDescription>({value})</OptionDescription>\\n\\t\\t\\t\\t\\t</OptionContent>\\n\\t\\t\\t\\t</Option>\\n\\t\\t\\t)}\\n\\t\\t\\toptions={options}\\n\\t\\t/>\\n\\t);\\n};\\n\\nexport default memo(UserAutoCompleteMultiple);\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"AutoComplete\",\"Box\",\"OptionAvatar\",\"Option\",\"OptionContent\",\"Chip\",\"OptionDescription\",\"useDebouncedValue\",\"UserAvatar\",\"useEndpoint\",\"useQuery\",\"React\",\"memo\",\"useMemo\",\"useState\",\"module\",\"link\",\"default\",\"v\",\"query\",\"term\",\"arguments\",\"length\",\"undefined\",\"selector\",\"JSON\",\"stringify\",\"exportDefault\",\"_ref\",\"onChange\",\"props\",\"_excluded\",\"filter\",\"setFilter\",\"debouncedFilter\",\"usersAutoCompleteEndpoint\",\"data\",\"options\",\"items\",\"map\",\"user\",\"value\",\"username\",\"label\",\"name\",\"createElement\",\"multiple\",\"renderSelected\",\"_ref2\",\"selected\",\"onRemove\",\"_excluded2\",\"height\",\"onClick\",\"mie\",\"size\",\"is\",\"margin\",\"mis\",\"renderItem\",\"_ref3\",\"_excluded3\",\"key\"],\"mappings\":\"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\"}"}