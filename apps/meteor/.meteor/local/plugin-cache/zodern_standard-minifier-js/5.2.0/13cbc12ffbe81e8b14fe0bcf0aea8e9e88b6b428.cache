{"code":"function module(e,n,t){var r,o,a,i,l,u,c,s,m,d,f;t.link(\"@babel/runtime/regenerator\",{default:function(e){r=e}},0),t.link(\"@babel/runtime/helpers/slicedToArray\",{default:function(e){o=e}},1),t.link(\"@rocket.chat/fuselage\",{Box:function(e){a=e}},0),t.link(\"react\",{default:function(e){i=e},useState:function(e){l=e}},1),t.link(\"react-i18next\",{useTranslation:function(e){u=e}},2),t.link(\"../../components/GenericModal\",{default:function(e){c=e}},3),t.link(\"../../components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated\",{default:function(e){s=e}},4),t.link(\"../../lib/RoomManager\",{useOpenedRoom:function(e){m=e}},5),t.link(\"../../lib/rooms/roomCoordinator\",{roomCoordinator:function(e){d=e}},6),t.link(\"../../lib/utils/callWithErrorHandling\",{callWithErrorHandling:function(e){f=e}},7),t.exportDefault(function(e){var n=e.game,t=e.onClose,p=u().t,k=l([]),g=o(k,2),C=g[0],_=g[1],b=n.name,v=m();return i.createElement(i.Fragment,null,i.createElement(c,{onClose:t,onCancel:t,onConfirm:function(){var e,n;return r.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=b.replace(/\\s/g,\"-\")+\"-\"+Random.id(10),o.prev=1,o.next=4,r.awrap(f(\"createPrivateGroup\",e,C));case 4:n=o.sent,d.openRouteLink(n.t,n),Tracker.autorun(function(e){v===n.rid&&(f(\"sendMessage\",{_id:Random.id(),rid:n.rid,msg:p(\"Apps_Game_Center_Play_Game_Together\",{name:b})}),e.stop())}),t(),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(1),console.warn(o.t0);case 13:case\"end\":return o.stop()}},null,null,[[1,10]],Promise)},title:p(\"Apps_Game_Center_Invite_Friends\")},i.createElement(a,{mbe:16},p(\"Invite_Users\")),i.createElement(a,{mbe:16,display:\"flex\",justifyContent:\"stretch\"},i.createElement(s,{value:C,onChange:_}))))})}","map":"{\"version\":3,\"sources\":[\"client/apps/gameCenter/GameCenterInvitePlayersModal.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IUser } from '@rocket.chat/core-typings';\\nimport { Box } from '@rocket.chat/fuselage';\\nimport type { ReactElement } from 'react';\\nimport React, { useState } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport GenericModal from '../../components/GenericModal';\\nimport UserAutoCompleteMultipleFederated from '../../components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated';\\nimport { useOpenedRoom } from '../../lib/RoomManager';\\nimport { roomCoordinator } from '../../lib/rooms/roomCoordinator';\\nimport { callWithErrorHandling } from '../../lib/utils/callWithErrorHandling';\\nimport type { IGame } from './GameCenter';\\n\\ntype Username = Exclude<IUser['username'], undefined>;\\n\\ninterface IGameCenterInvitePlayersModalProps {\\n\\tgame: IGame;\\n\\tonClose: () => void;\\n}\\n\\nconst GameCenterInvitePlayersModal = ({ game, onClose }: IGameCenterInvitePlayersModalProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\tconst [users, setUsers] = useState<Array<Username>>([]);\\n\\tconst { name } = game;\\n\\n\\tconst openedRoom = useOpenedRoom();\\n\\n\\tconst sendInvite = async () => {\\n\\t\\tconst privateGroupName = `${name.replace(/\\\\s/g, '-')}-${Random.id(10)}`;\\n\\n\\t\\ttry {\\n\\t\\t\\tconst result = await callWithErrorHandling('createPrivateGroup' as any, privateGroupName, users);\\n\\n\\t\\t\\troomCoordinator.openRouteLink(result.t, result);\\n\\n\\t\\t\\tTracker.autorun((c) => {\\n\\t\\t\\t\\tif (openedRoom !== result.rid) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcallWithErrorHandling('sendMessage', {\\n\\t\\t\\t\\t\\t_id: Random.id(),\\n\\t\\t\\t\\t\\trid: result.rid,\\n\\t\\t\\t\\t\\tmsg: t('Apps_Game_Center_Play_Game_Together', { name }),\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tc.stop();\\n\\t\\t\\t});\\n\\t\\t\\tonClose();\\n\\t\\t} catch (err) {\\n\\t\\t\\tconsole.warn(err);\\n\\t\\t}\\n\\t};\\n\\n\\treturn (\\n\\t\\t<>\\n\\t\\t\\t<GenericModal onClose={onClose} onCancel={onClose} onConfirm={sendInvite} title={t('Apps_Game_Center_Invite_Friends')}>\\n\\t\\t\\t\\t<Box mbe={16}>{t('Invite_Users')}</Box>\\n\\t\\t\\t\\t<Box mbe={16} display='flex' justifyContent='stretch'>\\n\\t\\t\\t\\t\\t<UserAutoCompleteMultipleFederated value={users} onChange={setUsers} />\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</GenericModal>\\n\\t\\t</>\\n\\t);\\n};\\n\\nexport default GameCenterInvitePlayersModal;\\n\",null],\"names\":[\"_regeneratorRuntime\",\"_slicedToArray\",\"Box\",\"React\",\"useState\",\"useTranslation\",\"GenericModal\",\"UserAutoCompleteMultipleFederated\",\"useOpenedRoom\",\"roomCoordinator\",\"callWithErrorHandling\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"_ref\",\"game\",\"onClose\",\"t\",\"_useTranslation\",\"_useState\",\"_useState2\",\"users\",\"setUsers\",\"name\",\"openedRoom\",\"createElement\",\"Fragment\",\"onCancel\",\"onConfirm\",\"privateGroupName\",\"result\",\"async\",\"_context\",\"prev\",\"next\",\"replace\",\"Random\",\"id\",\"awrap\",\"sent\",\"openRouteLink\",\"Tracker\",\"autorun\",\"c\",\"rid\",\"_id\",\"msg\",\"stop\",\"t0\",\"console\",\"warn\",\"Promise\",\"title\",\"mbe\",\"display\",\"justifyContent\",\"value\",\"onChange\"],\"mappings\":\"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\"}"}