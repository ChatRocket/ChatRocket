{"code":"function module(t,e,n){let l,o,a,i,r,s,c,u,m,d,f,k,v;n.link(\"@rocket.chat/fuselage\",{Avatar(t){l=t},Box(t){o=t}},0),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint(t){a=t}},1),n.link(\"@tanstack/react-query\",{useQuery(t){i=t}},2),n.link(\"react\",{default(t){r=t}},3),n.link(\"react-i18next\",{useTranslation(t){s=t}},4),n.link(\"../../../../components/UserStatus\",{UserStatus(t){c=t}},5),n.link(\"../../../../lib/rooms/roomCoordinator\",{roomCoordinator(t){u=t}},6),n.link(\"../../components/AgentInfoDetails\",{default(t){m=t}},7),n.link(\"../../components/Field\",{default(t){d=t}},8),n.link(\"../../components/Info\",{default(t){f=t}},9),n.link(\"../../components/Label\",{default(t){k=t}},10),n.link(\"./FormSkeleton\",{FormSkeleton(t){v=t}},11),n.exportDefault(t=>{let{contact:e,room:n}=t,{t:E}=s(),{status:p}=e,{fname:h,t:x}=n,g=u.getRoomDirectives(x).getAvatarPath(n)||\"\",y=a(\"GET\",\"/v1/livechat/visitors.info\"),{data:C,isLoading:I,isError:S}=i([\"/v1/livechat/visitors.info\",e._id],()=>y({visitorId:e._id}));if(I)return r.createElement(v,null);if(S||!(null!=C&&C.visitor))return r.createElement(o,{mbs:16},E(\"Contact_not_found\"));let{visitor:{username:_,name:b}}=C;return r.createElement(d,null,r.createElement(k,null,E(\"Contact\")),r.createElement(f,{style:{display:\"flex\"}},r.createElement(l,{size:\"x40\",title:h,url:g}),r.createElement(m,{\"data-qa-id\":\"contactInfo-name\",mis:10,name:b||_,shortName:_,status:r.createElement(c,{status:p})})))})}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/components/ContactField.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IOmnichannelGenericRoom, IVisitor } from '@rocket.chat/core-typings';\\nimport { Avatar, Box } from '@rocket.chat/fuselage';\\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\\nimport { useQuery } from '@tanstack/react-query';\\nimport React from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { UserStatus } from '../../../../components/UserStatus';\\nimport { roomCoordinator } from '../../../../lib/rooms/roomCoordinator';\\nimport AgentInfoDetails from '../../components/AgentInfoDetails';\\nimport Field from '../../components/Field';\\nimport Info from '../../components/Info';\\nimport Label from '../../components/Label';\\nimport { FormSkeleton } from './FormSkeleton';\\n\\ntype ContactFieldProps = {\\n\\tcontact: IVisitor;\\n\\troom: IOmnichannelGenericRoom;\\n};\\n\\nconst ContactField = ({ contact, room }: ContactFieldProps) => {\\n\\tconst { t } = useTranslation();\\n\\tconst { status } = contact;\\n\\tconst { fname, t: type } = room;\\n\\tconst avatarUrl = roomCoordinator.getRoomDirectives(type).getAvatarPath(room) || '';\\n\\n\\tconst getVisitorInfo = useEndpoint('GET', '/v1/livechat/visitors.info');\\n\\tconst { data, isLoading, isError } = useQuery(['/v1/livechat/visitors.info', contact._id], () =>\\n\\t\\tgetVisitorInfo({ visitorId: contact._id }),\\n\\t);\\n\\n\\tif (isLoading) {\\n\\t\\treturn <FormSkeleton />;\\n\\t}\\n\\n\\tif (isError || !data?.visitor) {\\n\\t\\treturn <Box mbs={16}>{t('Contact_not_found')}</Box>;\\n\\t}\\n\\n\\tconst {\\n\\t\\tvisitor: { username, name },\\n\\t} = data;\\n\\n\\tconst displayName = name || username;\\n\\n\\treturn (\\n\\t\\t<Field>\\n\\t\\t\\t<Label>{t('Contact')}</Label>\\n\\t\\t\\t<Info style={{ display: 'flex' }}>\\n\\t\\t\\t\\t<Avatar size='x40' title={fname} url={avatarUrl} />\\n\\t\\t\\t\\t<AgentInfoDetails\\n\\t\\t\\t\\t\\tdata-qa-id='contactInfo-name'\\n\\t\\t\\t\\t\\tmis={10}\\n\\t\\t\\t\\t\\tname={displayName}\\n\\t\\t\\t\\t\\tshortName={username}\\n\\t\\t\\t\\t\\tstatus={<UserStatus status={status} />}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</Info>\\n\\t\\t</Field>\\n\\t);\\n};\\n\\nexport default ContactField;\\n\",null],\"names\":[\"Avatar\",\"Box\",\"useEndpoint\",\"useQuery\",\"React\",\"useTranslation\",\"UserStatus\",\"roomCoordinator\",\"AgentInfoDetails\",\"Field\",\"Info\",\"Label\",\"FormSkeleton\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"contact\",\"room\",\"t\",\"status\",\"fname\",\"type\",\"avatarUrl\",\"getRoomDirectives\",\"getAvatarPath\",\"getVisitorInfo\",\"data\",\"isLoading\",\"isError\",\"_id\",\"visitorId\",\"createElement\",\"visitor\",\"mbs\",\"username\",\"name\",\"style\",\"display\",\"size\",\"title\",\"url\",\"mis\",\"shortName\"],\"mappings\":\"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\"}"}