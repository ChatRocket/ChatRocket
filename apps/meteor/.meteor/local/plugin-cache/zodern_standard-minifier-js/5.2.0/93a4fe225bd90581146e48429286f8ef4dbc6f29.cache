{"code":"function module(e,t,n){let l,i,c,r;n.export({useMessageLinkClicks:()=>s}),n.link(\"@rocket.chat/ui-contexts\",{useAbsoluteUrl(e){l=e},useLayout(e){i=e}},0),n.link(\"react\",{useEffect(e){c=e}},1),n.link(\"../../../lib/utils/fireGlobalEvent\",{fireGlobalEvent(e){r=e}},2);let s=()=>{let e=l(),{isEmbedded:t}=i();c(()=>{if(!t)return;let n=t=>{let n=t.currentTarget;n&&n instanceof HTMLElement&&n instanceof HTMLAnchorElement&&n.origin===e(\"\").replace(/\\/+$/,\"\")&&/msg=([a-zA-Z0-9]+)/.test(n.search)&&r(\"click-message-link\",{link:n.pathname+n.search})};return document.body.addEventListener(\"click\",n),()=>{document.body.removeEventListener(\"click\",n)}},[e,t])}}","map":"{\"version\":3,\"sources\":[\"client/views/root/hooks/useMessageLinkClicks.ts\",\"<anon>\"],\"sourcesContent\":[\"import { useAbsoluteUrl, useLayout } from '@rocket.chat/ui-contexts';\\nimport { useEffect } from 'react';\\n\\nimport { fireGlobalEvent } from '../../../lib/utils/fireGlobalEvent';\\n\\nexport const useMessageLinkClicks = () => {\\n\\tconst absoluteUrl = useAbsoluteUrl();\\n\\tconst { isEmbedded: embeddedLayout } = useLayout();\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!embeddedLayout) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst handleMessageLinkClick = (event: Event) => {\\n\\t\\t\\tconst element = event.currentTarget as Element | null;\\n\\n\\t\\t\\tif (!element || !(element instanceof HTMLElement)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!(element instanceof HTMLAnchorElement)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (element.origin !== absoluteUrl('').replace(/\\\\/+$/, '') || !/msg=([a-zA-Z0-9]+)/.test(element.search)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfireGlobalEvent('click-message-link', { link: element.pathname + element.search });\\n\\t\\t};\\n\\n\\t\\tdocument.body.addEventListener('click', handleMessageLinkClick);\\n\\n\\t\\treturn () => {\\n\\t\\t\\tdocument.body.removeEventListener('click', handleMessageLinkClick);\\n\\t\\t};\\n\\t}, [absoluteUrl, embeddedLayout]);\\n};\\n\",null],\"names\":[\"useAbsoluteUrl\",\"useLayout\",\"useEffect\",\"fireGlobalEvent\",\"module\",\"export\",\"useMessageLinkClicks\",\"link\",\"v\",\"absoluteUrl\",\"isEmbedded\",\"embeddedLayout\",\"handleMessageLinkClick\",\"event\",\"element\",\"currentTarget\",\"HTMLElement\",\"HTMLAnchorElement\",\"origin\",\"replace\",\"test\",\"search\",\"pathname\",\"document\",\"body\",\"addEventListener\",\"removeEventListener\"],\"mappings\":\"2BAA0CA,EAA2BC,EAAAC,EAAAC,EAArEC,EAAOC,MAAE,CAAA,CAAAC,qBAA2BA,IAAAA,CAAM,GAA2BF,EAAAG,IAAA,CAAA,2BAAA,CAAAP,eAAAQ,CAAA,EAAAR,EAAAQ,CAAA,EAAAP,UAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAL,UAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,qCAAA,CAAAJ,gBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAK9D,IAAMF,EAAuBA,KACnC,IAAMG,EAAcT,IACd,CAAEU,WAAYC,CAAAA,CAAgB,CAAGV,IAEvCC,EAAU,KACT,GAAI,CAACS,EACJ,OAGD,IAAMC,EAA0BC,IAC/B,IAAMC,EAAUD,EAAME,aAA+B,CAEhDD,GAAaA,aAAmBE,aAI/BF,aAAmBG,mBAIrBH,EAAQI,MAAM,GAAKT,EAAY,IAAIU,OAAO,CAAC,OAAQ,KAAQ,qBAAqBC,IAAI,CAACN,EAAQO,MAAM,GAIvGlB,EAAgB,qBAAsB,CAAEI,KAAMO,EAAQQ,QAAQ,CAAGR,EAAQO,MAAAA,AAAM,EAChF,EAIA,OAFAE,SAASC,IAAI,CAACC,gBAAgB,CAAC,QAASb,GAEjC,KACNW,SAASC,IAAI,CAACE,mBAAmB,CAAC,QAASd,EAC5C,CACD,EAAG,CAACH,EAAaE,EAAe,CACjC\"}"}