{"code":"function module(e,l,t){let n,a,r,o,i,u,c,m,s,p,d,k,f,g,E,x,F,h,I,b;t.link(\"@babel/runtime/helpers/extends\",{default(e){n=e}},0),t.link(\"@rocket.chat/fuselage\",{Button(e){a=e},ButtonGroup(e){r=e},Field(e){o=e},FieldGroup(e){i=e},FieldLabel(e){u=e},FieldRow(e){c=e},TextInput(e){m=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useUniqueId(e){s=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useTranslation(e){p=e},useRouter(e){d=e}},2),t.link(\"react\",{default(e){k=e},useCallback(e){f=e}},3),t.link(\"react-hook-form\",{useForm(e){g=e},Controller(e){E=e}},4),t.link(\"../../components/Page\",{Page(e){x=e},PageHeader(e){F=e},PageScrollableContent(e){h=e}},5),t.link(\"../../hooks/useSingleFileInput\",{useSingleFileInput(e){I=e}},6),t.link(\"./hooks/useInstallApp\",{useInstallApp(e){b=e}},7),t.exportDefault(()=>{let e=p(),l=d(),{control:t,setValue:v,watch:C}=g(),{file:_}=C(),{install:A,isInstalling:P}=b(_),[S]=I(e=>v(\"file\",e),\"app\"),w=f(()=>{l.navigate({name:\"marketplace\",params:{context:\"private\",page:\"list\"}})},[l]),y=s();return k.createElement(x,{flexDirection:\"column\"},k.createElement(F,{title:e(\"App_Installation\")}),k.createElement(h,null,k.createElement(i,{display:\"flex\",flexDirection:\"column\",alignSelf:\"center\",maxWidth:\"x600\",w:\"full\"},k.createElement(o,null,k.createElement(u,{htmlFor:y},e(\"App_Url_to_Install_From_File\")),k.createElement(c,null,k.createElement(E,{name:\"file\",control:t,render:l=>{var t;let{field:r}=l;return k.createElement(m,n({id:y,readOnly:!0},r,{value:(null===(t=r.value)||void 0===t?void 0:t.name)||\"\",addon:k.createElement(a,{icon:\"upload\",small:!0,primary:!0,onClick:S,mb:\"neg-x4\",mie:\"neg-x8\"},e(\"Browse_Files\"))}))}}))),k.createElement(o,null,k.createElement(r,null,k.createElement(a,{disabled:!(null!=_&&_.name),loading:P,onClick:A},e(\"Install\")),k.createElement(a,{onClick:w},e(\"Cancel\")))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/marketplace/AppInstallPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Button, ButtonGroup, Field, FieldGroup, FieldLabel, FieldRow, TextInput } from '@rocket.chat/fuselage';\\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport { useTranslation, useRouter } from '@rocket.chat/ui-contexts';\\nimport React, { useCallback } from 'react';\\nimport { useForm, Controller } from 'react-hook-form';\\n\\nimport { Page, PageHeader, PageScrollableContent } from '../../components/Page';\\nimport { useSingleFileInput } from '../../hooks/useSingleFileInput';\\nimport { useInstallApp } from './hooks/useInstallApp';\\n\\nconst AppInstallPage = () => {\\n\\tconst t = useTranslation();\\n\\tconst router = useRouter();\\n\\n\\tconst { control, setValue, watch } = useForm<{ file: File }>();\\n\\tconst { file } = watch();\\n\\tconst { install, isInstalling } = useInstallApp(file);\\n\\n\\tconst [handleUploadButtonClick] = useSingleFileInput((value) => setValue('file', value), 'app');\\n\\n\\tconst handleCancel = useCallback(() => {\\n\\t\\trouter.navigate({\\n\\t\\t\\tname: 'marketplace',\\n\\t\\t\\tparams: {\\n\\t\\t\\t\\tcontext: 'private',\\n\\t\\t\\t\\tpage: 'list',\\n\\t\\t\\t},\\n\\t\\t});\\n\\t}, [router]);\\n\\n\\tconst fileField = useUniqueId();\\n\\n\\treturn (\\n\\t\\t<Page flexDirection='column'>\\n\\t\\t\\t<PageHeader title={t('App_Installation')} />\\n\\t\\t\\t<PageScrollableContent>\\n\\t\\t\\t\\t<FieldGroup display='flex' flexDirection='column' alignSelf='center' maxWidth='x600' w='full'>\\n\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t<FieldLabel htmlFor={fileField}>{t('App_Url_to_Install_From_File')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\tname='file'\\n\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => (\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<TextInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid={fileField}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\treadOnly\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{...field}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={field.value?.name || ''}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taddon={\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<Button icon='upload' small primary onClick={handleUploadButtonClick} mb='neg-x4' mie='neg-x8'>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{t('Browse_Files')}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t<ButtonGroup>\\n\\t\\t\\t\\t\\t\\t\\t<Button disabled={!file?.name} loading={isInstalling} onClick={install}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Install')}\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t\\t<Button onClick={handleCancel}>{t('Cancel')}</Button>\\n\\t\\t\\t\\t\\t\\t</ButtonGroup>\\n\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t</FieldGroup>\\n\\t\\t\\t</PageScrollableContent>\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default AppInstallPage;\\n\",null],\"names\":[\"_extends\",\"Button\",\"ButtonGroup\",\"Field\",\"FieldGroup\",\"FieldLabel\",\"FieldRow\",\"TextInput\",\"useUniqueId\",\"useTranslation\",\"useRouter\",\"React\",\"useCallback\",\"useForm\",\"Controller\",\"Page\",\"PageHeader\",\"PageScrollableContent\",\"useSingleFileInput\",\"useInstallApp\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"AppInstallPage\",\"t\",\"router\",\"control\",\"setValue\",\"watch\",\"file\",\"install\",\"isInstalling\",\"handleUploadButtonClick\",\"value\",\"handleCancel\",\"navigate\",\"name\",\"params\",\"context\",\"page\",\"fileField\",\"createElement\",\"flexDirection\",\"title\",\"display\",\"alignSelf\",\"maxWidth\",\"w\",\"htmlFor\",\"render\",\"_ref\",\"_field$value\",\"field\",\"id\",\"readOnly\",\"addon\",\"icon\",\"small\",\"primary\",\"onClick\",\"mb\",\"mie\",\"disabled\",\"loading\"],\"mappings\":\"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\"}"}