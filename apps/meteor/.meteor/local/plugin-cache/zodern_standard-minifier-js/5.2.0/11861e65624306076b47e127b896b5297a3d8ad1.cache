{"code":"function module(i,e,n){let t;n.export({buildImageURL:()=>l}),n.link(\"../../../../views/room/MessageList/lib/isValidLink\",{isValidLink(i){t=i}},0);let l=(i,e)=>{if(t(e))return JSON.stringify(e);let{origin:n}=new URL(i),l=\"\".concat(n,\"/\").concat(e),r=l.replace(/([^:]\\/)\\/+/gm,\"$1\");return JSON.stringify(r)}}","map":"{\"version\":3,\"sources\":[\"client/components/message/content/urlPreviews/buildImageURL.ts\",\"<anon>\"],\"sourcesContent\":[\"import { isValidLink } from '../../../../views/room/MessageList/lib/isValidLink';\\n\\nexport const buildImageURL = (url: string, imageUrl: string): string => {\\n\\tif (isValidLink(imageUrl)) {\\n\\t\\treturn JSON.stringify(imageUrl);\\n\\t}\\n\\n\\tconst { origin } = new URL(url);\\n\\tconst imgURL = `${origin}/${imageUrl}`;\\n\\tconst normalizedUrl = imgURL.replace(/([^:]\\\\/)\\\\/+/gm, '$1');\\n\\n\\treturn JSON.stringify(normalizedUrl);\\n};\\n\",null],\"names\":[\"isValidLink\",\"module\",\"export\",\"buildImageURL\",\"link\",\"v\",\"url\",\"imageUrl\",\"JSON\",\"stringify\",\"origin\",\"URL\",\"imgURL\",\"concat\",\"normalizedUrl\",\"replace\"],\"mappings\":\"2BAA4BA,EAA5BC,EAAOC,MAAE,CAAA,CAAAC,cAAmBA,IAAAA,CAAA,GAAAF,EAAAG,IAAA,CAAA,qDAAqD,CAAAJ,YAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAE1E,IAAMF,EAAgBA,CAACG,EAAaC,KAC1C,GAAIP,EAAYO,GACf,OAAOC,KAAKC,SAAS,CAACF,GAGvB,GAAM,CAAEG,OAAAA,CAAAA,CAAQ,CAAG,IAAIC,IAAIL,GACrBM,EAAM,GAAAC,MAAA,CAAMH,EAAM,KAAAG,MAAA,CAAIN,GACtBO,EAAgBF,EAAOG,OAAO,CAAC,gBAAiB,MAEtD,OAAOP,KAAKC,SAAS,CAACK,EACvB\"}"}