{"code":"function module(e,t,n){n.link(\"@babel/runtime/helpers/extends\",{default:function(e){o=e}},0),n.link(\"@rocket.chat/fuselage\",{Modal:function(e){i=e},AnimatedVisibility:function(e){a=e},Button:function(e){l=e},Box:function(e){r=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useUniqueId:function(e){c=e}},1),n.link(\"@rocket.chat/fuselage-ui-kit\",{UiKitComponent:function(e){u=e},UiKitModal:function(e){d=e},modalParser:function(e){f=e}},2),n.link(\"@rocket.chat/ui-kit\",{\"*\":function(e){s=e}},3),n.link(\"react\",{default:function(e){m=e},useCallback:function(e){b=e},useEffect:function(e){v=e},useMemo:function(e){E=e},useRef:function(e){k=e}},4),n.link(\"react-aria\",{FocusScope:function(e){p=e}},5),n.link(\"../../../../app/utils/client/getURL\",{getURL:function(e){x=e}},6),n.link(\"./getButtonStyle\",{getButtonStyle:function(e){g=e}},7);var o,i,a,l,r,c,u,d,f,s,m,b,v,E,k,p,x,g,y='\\n\ta[href]:not([tabindex=\"-1\"]),\\n\tarea[href]:not([tabindex=\"-1\"]),\\n\tinput:not([disabled]):not([tabindex=\"-1\"]),\\n\tselect:not([disabled]):not([tabindex=\"-1\"]),\\n\ttextarea:not([disabled]):not([tabindex=\"-1\"]),\\n\tbutton:not([disabled]):not([tabindex=\"-1\"]),\\n\tiframe,\\n\tobject,\\n\tembed,\\n\t[tabindex]:not([tabindex=\"-1\"]),\\n\t[contenteditable]',h=new Map([[\"ENTER\",13],[\"ESC\",27],[\"TAB\",9]]);n.exportDefault(function(e){var t=e.view,n=e.errors,C=e.onSubmit,S=e.onClose,N=e.onCancel,B=\"modal_id_\"+c(),T=k(null);v(function(){if(T.current){if(n&&Object.keys(n).length){var e=T.current.querySelector('\\n\ta[href]:not([tabindex=\"-1\"]):invalid,\\n\tarea[href]:not([tabindex=\"-1\"]):invalid,\\n\tinput:not([disabled]):not([tabindex=\"-1\"]):invalid,\\n\tselect:not([disabled]):not([tabindex=\"-1\"]):invalid,\\n\ttextarea:not([disabled]):not([tabindex=\"-1\"]):invalid,\\n\tbutton:not([disabled]):not([tabindex=\"-1\"]):invalid,\\n\tiframe:invalid,\\n\tobject:invalid,\\n\tembed:invalid,\\n\t[tabindex]:not([tabindex=\"-1\"]):invalid,\\n\t[contenteditable]:invalid');null==e||e.focus()}else{var t=T.current.querySelector(y);null==t||t.focus()}}},[n]);var A=E(function(){return document.activeElement},[]);v(function(){return function(){var e;if(A&&null!==(e=A)&&\"focus\"in e&&\"function\"==typeof e.focus)return A.focus()}},[A]);var q=b(function(e){var t;switch(e.keyCode){case h.get(\"ENTER\"):if((null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.nodeName)!==\"TEXTAREA\")return C(e);return;case h.get(\"ESC\"):e.stopPropagation(),e.preventDefault(),S();return;case h.get(\"TAB\"):if(!T.current)return;var n=Array.from(T.current.querySelectorAll(y)),o=n[0],i=n.pop();if(!T.current.contains(document.activeElement))return o.focus();if(e.shiftKey){o&&o!==document.activeElement||(null==i||i.focus(),e.stopPropagation(),e.preventDefault());return}i&&i!==document.activeElement||(o.focus(),e.stopPropagation(),e.preventDefault())}},[S,C]);return v(function(){var e=document.querySelector(\"#modal-root\"),t=e.querySelector(\".rcx-modal__content\"),n=function(t){if(t.target===e)return t.preventDefault(),t.stopPropagation(),S(),!1},o=function(n){if(n.target===e&&t.contains(n.target))return q(n)};return document.addEventListener(\"keydown\",o),e.addEventListener(\"click\",n),function(){document.removeEventListener(\"keydown\",o),e.removeEventListener(\"click\",n)}},[q,S]),m.createElement(a,{visibility:a.UNHIDING},m.createElement(p,{contain:!0,restoreFocus:!0,autoFocus:!0},m.createElement(i,{open:!0,id:B,ref:T},m.createElement(i.Header,null,t.showIcon?m.createElement(i.Thumb,{url:x(\"/api/apps/\"+t.appId+\"/icon\")}):null,m.createElement(i.Title,null,f.text(t.title,s.BlockContext.NONE,0)),m.createElement(i.Close,{tabIndex:-1,onClick:S})),m.createElement(i.Content,null,m.createElement(r,{is:\"form\",method:\"post\",action:\"#\",onSubmit:C},m.createElement(u,{render:d,blocks:t.blocks}))),m.createElement(i.Footer,null,m.createElement(i.FooterControllers,null,t.close&&m.createElement(l,{danger:\"danger\"===t.close.style,onClick:N},f.text(t.close.text,s.BlockContext.NONE,0)),t.submit&&m.createElement(l,o({},g(t.submit),{onClick:C}),f.text(t.submit.text,s.BlockContext.NONE,1)))))))})}","map":"{\"version\":3,\"sources\":[\"client/views/modal/uikit/ModalBlock.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Modal, AnimatedVisibility, Button, Box } from '@rocket.chat/fuselage';\\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport { UiKitComponent, UiKitModal, modalParser } from '@rocket.chat/fuselage-ui-kit';\\nimport * as UiKit from '@rocket.chat/ui-kit';\\nimport type { FormEventHandler, ReactElement } from 'react';\\nimport React, { useCallback, useEffect, useMemo, useRef } from 'react';\\nimport { FocusScope } from 'react-aria';\\n\\nimport { getURL } from '../../../../app/utils/client/getURL';\\nimport { getButtonStyle } from './getButtonStyle';\\n\\nconst focusableElementsString = `\\n\\ta[href]:not([tabindex=\\\"-1\\\"]),\\n\\tarea[href]:not([tabindex=\\\"-1\\\"]),\\n\\tinput:not([disabled]):not([tabindex=\\\"-1\\\"]),\\n\\tselect:not([disabled]):not([tabindex=\\\"-1\\\"]),\\n\\ttextarea:not([disabled]):not([tabindex=\\\"-1\\\"]),\\n\\tbutton:not([disabled]):not([tabindex=\\\"-1\\\"]),\\n\\tiframe,\\n\\tobject,\\n\\tembed,\\n\\t[tabindex]:not([tabindex=\\\"-1\\\"]),\\n\\t[contenteditable]`;\\n\\nconst focusableElementsStringInvalid = `\\n\\ta[href]:not([tabindex=\\\"-1\\\"]):invalid,\\n\\tarea[href]:not([tabindex=\\\"-1\\\"]):invalid,\\n\\tinput:not([disabled]):not([tabindex=\\\"-1\\\"]):invalid,\\n\\tselect:not([disabled]):not([tabindex=\\\"-1\\\"]):invalid,\\n\\ttextarea:not([disabled]):not([tabindex=\\\"-1\\\"]):invalid,\\n\\tbutton:not([disabled]):not([tabindex=\\\"-1\\\"]):invalid,\\n\\tiframe:invalid,\\n\\tobject:invalid,\\n\\tembed:invalid,\\n\\t[tabindex]:not([tabindex=\\\"-1\\\"]):invalid,\\n\\t[contenteditable]:invalid`;\\n\\ntype ModalBlockParams = {\\n\\tview: UiKit.ModalView;\\n\\terrors: any;\\n\\tappId: string;\\n\\tonSubmit: FormEventHandler<HTMLElement>;\\n\\tonClose: () => void;\\n\\tonCancel: FormEventHandler<HTMLElement>;\\n};\\n\\nconst isFocusable = (element: Element | null): element is HTMLElement =>\\n\\telement !== null && 'focus' in element && typeof element.focus === 'function';\\n\\nconst KeyboardCode = new Map<string, number>([\\n\\t['ENTER', 13],\\n\\t['ESC', 27],\\n\\t['TAB', 9],\\n]);\\n\\nconst ModalBlock = ({ view, errors, onSubmit, onClose, onCancel }: ModalBlockParams): ReactElement => {\\n\\tconst id = `modal_id_${useUniqueId()}`;\\n\\tconst ref = useRef<HTMLElement>(null);\\n\\n\\tuseEffect(() => {\\n\\t\\tif (!ref.current) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tif (errors && Object.keys(errors).length) {\\n\\t\\t\\tconst element = ref.current.querySelector<HTMLElement>(focusableElementsStringInvalid);\\n\\t\\t\\telement?.focus();\\n\\t\\t} else {\\n\\t\\t\\tconst element = ref.current.querySelector<HTMLElement>(focusableElementsString);\\n\\t\\t\\telement?.focus();\\n\\t\\t}\\n\\t}, [errors]);\\n\\n\\tconst previousFocus = useMemo(() => document.activeElement, []);\\n\\n\\tuseEffect(\\n\\t\\t() => () => {\\n\\t\\t\\tif (previousFocus && isFocusable(previousFocus)) {\\n\\t\\t\\t\\treturn previousFocus.focus();\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[previousFocus],\\n\\t);\\n\\n\\tconst handleKeyDown = useCallback(\\n\\t\\t(event) => {\\n\\t\\t\\tswitch (event.keyCode) {\\n\\t\\t\\t\\tcase KeyboardCode.get('ENTER'):\\n\\t\\t\\t\\t\\tif (event?.target?.nodeName !== 'TEXTAREA') {\\n\\t\\t\\t\\t\\t\\treturn onSubmit(event);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\tcase KeyboardCode.get('ESC'):\\n\\t\\t\\t\\t\\tevent.stopPropagation();\\n\\t\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\t\\tonClose();\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\tcase KeyboardCode.get('TAB'):\\n\\t\\t\\t\\t\\tif (!ref.current) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tconst elements = Array.from(ref.current.querySelectorAll(focusableElementsString)) as HTMLElement[];\\n\\t\\t\\t\\t\\tconst [first] = elements;\\n\\t\\t\\t\\t\\tconst last = elements.pop();\\n\\n\\t\\t\\t\\t\\tif (!ref.current.contains(document.activeElement)) {\\n\\t\\t\\t\\t\\t\\treturn first.focus();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (event.shiftKey) {\\n\\t\\t\\t\\t\\t\\tif (!first || first === document.activeElement) {\\n\\t\\t\\t\\t\\t\\t\\tlast?.focus();\\n\\t\\t\\t\\t\\t\\t\\tevent.stopPropagation();\\n\\t\\t\\t\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!last || last === document.activeElement) {\\n\\t\\t\\t\\t\\t\\tfirst.focus();\\n\\t\\t\\t\\t\\t\\tevent.stopPropagation();\\n\\t\\t\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t[onClose, onSubmit],\\n\\t);\\n\\n\\tuseEffect(() => {\\n\\t\\tconst element = document.querySelector('#modal-root') as HTMLElement;\\n\\t\\tconst container = element.querySelector('.rcx-modal__content') as HTMLElement;\\n\\t\\tconst close = (e: Event) => {\\n\\t\\t\\tif (e.target !== element) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\te.preventDefault();\\n\\t\\t\\te.stopPropagation();\\n\\t\\t\\tonClose();\\n\\t\\t\\treturn false;\\n\\t\\t};\\n\\n\\t\\tconst ignoreIfNotContains = (e: Event) => {\\n\\t\\t\\tif (e.target !== element) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!container.contains(e.target as HTMLElement)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\treturn handleKeyDown(e);\\n\\t\\t};\\n\\n\\t\\tdocument.addEventListener('keydown', ignoreIfNotContains);\\n\\t\\telement.addEventListener('click', close);\\n\\t\\treturn () => {\\n\\t\\t\\tdocument.removeEventListener('keydown', ignoreIfNotContains);\\n\\t\\t\\telement.removeEventListener('click', close);\\n\\t\\t};\\n\\t}, [handleKeyDown, onClose]);\\n\\n\\treturn (\\n\\t\\t<AnimatedVisibility visibility={AnimatedVisibility.UNHIDING}>\\n\\t\\t\\t<FocusScope contain restoreFocus autoFocus>\\n\\t\\t\\t\\t<Modal open id={id} ref={ref}>\\n\\t\\t\\t\\t\\t<Modal.Header>\\n\\t\\t\\t\\t\\t\\t{view.showIcon ? <Modal.Thumb url={getURL(`/api/apps/${view.appId}/icon`)} /> : null}\\n\\t\\t\\t\\t\\t\\t<Modal.Title>{modalParser.text(view.title, UiKit.BlockContext.NONE, 0)}</Modal.Title>\\n\\t\\t\\t\\t\\t\\t<Modal.Close tabIndex={-1} onClick={onClose} />\\n\\t\\t\\t\\t\\t</Modal.Header>\\n\\t\\t\\t\\t\\t<Modal.Content>\\n\\t\\t\\t\\t\\t\\t<Box is='form' method='post' action='#' onSubmit={onSubmit}>\\n\\t\\t\\t\\t\\t\\t\\t<UiKitComponent render={UiKitModal} blocks={view.blocks} />\\n\\t\\t\\t\\t\\t\\t</Box>\\n\\t\\t\\t\\t\\t</Modal.Content>\\n\\t\\t\\t\\t\\t<Modal.Footer>\\n\\t\\t\\t\\t\\t\\t<Modal.FooterControllers>\\n\\t\\t\\t\\t\\t\\t\\t{view.close && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<Button danger={view.close.style === 'danger'} onClick={onCancel}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{modalParser.text(view.close.text, UiKit.BlockContext.NONE, 0)}\\n\\t\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t{view.submit && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<Button {...getButtonStyle(view.submit)} onClick={onSubmit}>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{modalParser.text(view.submit.text, UiKit.BlockContext.NONE, 1)}\\n\\t\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</Modal.FooterControllers>\\n\\t\\t\\t\\t\\t</Modal.Footer>\\n\\t\\t\\t\\t</Modal>\\n\\t\\t\\t</FocusScope>\\n\\t\\t</AnimatedVisibility>\\n\\t);\\n};\\n\\nexport default ModalBlock;\\n\",null],\"names\":[\"module\",\"link\",\"default\",\"v\",\"_extends\",\"Modal\",\"AnimatedVisibility\",\"Button\",\"Box\",\"useUniqueId\",\"UiKitComponent\",\"UiKitModal\",\"modalParser\",\"UiKit\",\"React\",\"useCallback\",\"useEffect\",\"useMemo\",\"useRef\",\"FocusScope\",\"getURL\",\"getButtonStyle\",\"focusableElementsString\",\"KeyboardCode\",\"Map\",\"exportDefault\",\"_ref\",\"view\",\"errors\",\"onSubmit\",\"onClose\",\"onCancel\",\"id\",\"ref\",\"current\",\"Object\",\"keys\",\"length\",\"element\",\"querySelector\",\"focus\",\"previousFocus\",\"document\",\"activeElement\",\"handleKeyDown\",\"event\",\"_event$target\",\"keyCode\",\"get\",\"target\",\"nodeName\",\"stopPropagation\",\"preventDefault\",\"elements\",\"Array\",\"from\",\"querySelectorAll\",\"first\",\"last\",\"pop\",\"contains\",\"shiftKey\",\"container\",\"close\",\"e\",\"ignoreIfNotContains\",\"addEventListener\",\"removeEventListener\",\"createElement\",\"visibility\",\"UNHIDING\",\"contain\",\"restoreFocus\",\"autoFocus\",\"open\",\"Header\",\"showIcon\",\"Thumb\",\"url\",\"appId\",\"Title\",\"text\",\"title\",\"BlockContext\",\"NONE\",\"Close\",\"tabIndex\",\"onClick\",\"Content\",\"is\",\"method\",\"action\",\"render\",\"blocks\",\"Footer\",\"FooterControllers\",\"danger\",\"style\",\"submit\"],\"mappings\":\"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\"}"}