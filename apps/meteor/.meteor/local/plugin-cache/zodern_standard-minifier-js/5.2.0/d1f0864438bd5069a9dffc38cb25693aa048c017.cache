{"code":"function module(e,t,n){let a,c,l,o,r,i,s,u,m,d,T,k;n.link(\"@rocket.chat/fuselage\",{IconButton(e){a=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(e){c=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useSetModal(e){l=e},useToastMessageDispatch(e){o=e},useRoute(e){r=e},useTranslation(e){i=e},useEndpoint(e){s=e}},2),n.link(\"react\",{default(e){u=e},memo(e){m=e}},3),n.link(\"../../../components/GenericModal\",{default(e){d=e}},4),n.link(\"../../../components/GenericTable\",{GenericTableCell(e){T=e},GenericTableRow(e){k=e}},5),n.exportDefault(m(e=>{let{_id:t,name:n,description:m,enabled:h,reload:g}=e,E=i(),p=l(),x=r(\"omnichannel-triggers\"),f=s(\"DELETE\",\"/v1/livechat/triggers/:_id\",{_id:t}),v=o(),w=c(()=>{x.push({context:\"edit\",id:t})}),b=c(e=>{[\"Enter\",\"Space\"].includes(e.nativeEvent.code)&&w()}),y=c(e=>{e.stopPropagation();let t=async()=>{try{await f(),v({type:\"success\",message:E(\"Trigger_removed\")}),g()}catch(e){v({type:\"error\",message:e})}p()};p(u.createElement(d,{variant:\"danger\",onConfirm:t,onCancel:()=>p(),confirmText:E(\"Delete\")}))});return u.createElement(k,{key:t,role:\"link\",action:!0,tabIndex:0,onClick:w,onKeyDown:b},u.createElement(T,{withTruncatedText:!0},n),u.createElement(T,{withTruncatedText:!0},m),u.createElement(T,{withTruncatedText:!0},h?E(\"Yes\"):E(\"No\")),u.createElement(T,{withTruncatedText:!0},u.createElement(a,{icon:\"trash\",small:!0,title:E(\"Remove\"),onClick:y})))}))}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/triggers/TriggersRow.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatTrigger } from '@rocket.chat/core-typings';\\nimport { IconButton } from '@rocket.chat/fuselage';\\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport { useSetModal, useToastMessageDispatch, useRoute, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\\nimport React, { memo } from 'react';\\n\\nimport GenericModal from '../../../components/GenericModal';\\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\\n\\ntype TriggersRowProps = Pick<ILivechatTrigger, '_id' | 'name' | 'description' | 'enabled'> & { reload: () => void };\\n\\nconst TriggersRow = ({ _id, name, description, enabled, reload }: TriggersRowProps) => {\\n\\tconst t = useTranslation();\\n\\tconst setModal = useSetModal();\\n\\tconst triggersRoute = useRoute('omnichannel-triggers');\\n\\tconst deleteTrigger = useEndpoint('DELETE', '/v1/livechat/triggers/:_id', { _id });\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\n\\tconst handleClick = useMutableCallback(() => {\\n\\t\\ttriggersRoute.push({\\n\\t\\t\\tcontext: 'edit',\\n\\t\\t\\tid: _id,\\n\\t\\t});\\n\\t});\\n\\n\\tconst handleKeyDown = useMutableCallback((e) => {\\n\\t\\tif (!['Enter', 'Space'].includes(e.nativeEvent.code)) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\thandleClick();\\n\\t});\\n\\n\\tconst handleDelete = useMutableCallback((e) => {\\n\\t\\te.stopPropagation();\\n\\t\\tconst onDeleteTrigger = async () => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait deleteTrigger();\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Trigger_removed') });\\n\\t\\t\\t\\treload();\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t\\t}\\n\\t\\t\\tsetModal();\\n\\t\\t};\\n\\n\\t\\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteTrigger} onCancel={() => setModal()} confirmText={t('Delete')} />);\\n\\t});\\n\\n\\treturn (\\n\\t\\t<GenericTableRow key={_id} role='link' action tabIndex={0} onClick={handleClick} onKeyDown={handleKeyDown}>\\n\\t\\t\\t<GenericTableCell withTruncatedText>{name}</GenericTableCell>\\n\\t\\t\\t<GenericTableCell withTruncatedText>{description}</GenericTableCell>\\n\\t\\t\\t<GenericTableCell withTruncatedText>{enabled ? t('Yes') : t('No')}</GenericTableCell>\\n\\t\\t\\t<GenericTableCell withTruncatedText>\\n\\t\\t\\t\\t<IconButton icon='trash' small title={t('Remove')} onClick={handleDelete} />\\n\\t\\t\\t</GenericTableCell>\\n\\t\\t</GenericTableRow>\\n\\t);\\n};\\n\\nexport default memo(TriggersRow);\\n\",null],\"names\":[\"IconButton\",\"useMutableCallback\",\"useSetModal\",\"useToastMessageDispatch\",\"useRoute\",\"useTranslation\",\"useEndpoint\",\"React\",\"memo\",\"GenericModal\",\"GenericTableCell\",\"GenericTableRow\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"_id\",\"name\",\"description\",\"enabled\",\"reload\",\"t\",\"setModal\",\"triggersRoute\",\"deleteTrigger\",\"dispatchToastMessage\",\"handleClick\",\"push\",\"context\",\"id\",\"handleKeyDown\",\"e\",\"includes\",\"nativeEvent\",\"code\",\"handleDelete\",\"stopPropagation\",\"onDeleteTrigger\",\"type\",\"message\",\"error\",\"createElement\",\"variant\",\"onConfirm\",\"onCancel\",\"confirmText\",\"key\",\"role\",\"action\",\"tabIndex\",\"onClick\",\"onKeyDown\",\"withTruncatedText\",\"icon\",\"small\",\"title\"],\"mappings\":\"2BACAA,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA1CC,EAAYC,IAAA,CAAM,wBAAwB,CAAAb,WAAAc,CAAA,EAAAd,EAAAc,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAZ,mBAAAa,CAAA,EAAAb,EAAAa,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAX,YAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,wBAAAW,CAAA,EAAAX,EAAAW,CAAA,EAAAV,SAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,eAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,YAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,EAAAN,KAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAAH,iBAAAI,CAAA,EAAAJ,EAAAI,CAAA,EAAAH,gBAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAAnDF,EAAOI,aAAY,CA4DJR,EAlDKS,IAAkE,GAAjE,CAAEC,IAAAA,CAAG,CAAEC,KAAAA,CAAI,CAAEC,YAAAA,CAAW,CAAEC,QAAAA,CAAO,CAAEC,OAAAA,CAAAA,CAA0B,CAAAL,EAC3EM,EAAIlB,IACJmB,EAAWtB,IACXuB,EAAgBrB,EAAS,wBACzBsB,EAAgBpB,EAAY,SAAU,6BAA8B,CAAEY,IAAAA,CAAG,GACzES,EAAuBxB,IAEvByB,EAAc3B,EAAmB,KACtCwB,EAAcI,IAAI,CAAC,CAClBC,QAAS,OACTC,GAAIb,GAEN,GAEMc,EAAgB/B,EAAoBgC,IACpC,CAAC,QAAS,QAAQ,CAACC,QAAQ,CAACD,EAAEE,WAAW,CAACC,IAAI,GAInDR,GACD,GAEMS,EAAepC,EAAoBgC,IACxCA,EAAEK,eAAe,GACjB,IAAMC,EAAkB,UACvB,GAAI,CACH,MAAMb,IACNC,EAAqB,CAAEa,KAAM,UAAWC,QAASlB,EAAE,kBAAkB,GACrED,GACD,CAAE,MAAOoB,EAAO,CACff,EAAqB,CAAEa,KAAM,QAASC,QAASC,CAAK,EACrD,CACAlB,GACD,EAEAA,EAASjB,EAAAoC,aAAA,CAAClC,EAAY,CAACmC,QAAQ,SAASC,UAAWN,EAAiBO,SAAUA,IAAMtB,IAAYuB,YAAaxB,EAAE,SAAU,GAC1H,GAEA,OACChB,EAAAoC,aAAA,CAAChC,EAAe,CAACqC,IAAK9B,EAAK+B,KAAK,OAAOC,OAAM,CAAA,EAACC,SAAU,EAAGC,QAASxB,EAAayB,UAAWrB,CAAc,EACzGzB,EAAAoC,aAAA,CAACjC,EAAgB,CAAC4C,kBAAiB,CAAA,CAAA,EAAEnC,GACrCZ,EAAAoC,aAAA,CAACjC,EAAgB,CAAC4C,kBAAiB,CAAA,CAAA,EAAElC,GACrCb,EAAAoC,aAAA,CAACjC,EAAgB,CAAC4C,kBAAiB,CAAA,CAAA,EAAEjC,EAAUE,EAAE,OAASA,EAAE,OAC5DhB,EAAAoC,aAAA,CAACjC,EAAgB,CAAC4C,kBAAiB,CAAA,CAAA,EAClC/C,EAAAoC,aAAA,CAAC3C,EAAU,CAACuD,KAAK,QAAQC,MAAK,CAAA,EAACC,MAAOlC,EAAE,UAAW6B,QAASf,CAAa,IAI7E\"}"}