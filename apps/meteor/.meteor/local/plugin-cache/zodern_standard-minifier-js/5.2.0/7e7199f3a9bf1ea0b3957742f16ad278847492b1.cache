{"code":"function module(e,t,r){let g;r.export({getRegexHighlight:()=>h,getRegexHighlightUrl:()=>i,highlightWords:()=>p}),r.link(\"@rocket.chat/string-helpers\",{escapeRegExp(e){g=e}},0);let a=(e,t)=>e.match(t),l=(e,t,r)=>{let g=RegExp(t,\"gmi\");return r.reduce((e,r)=>{let a=r.replace(g,'<mark class=\"highlight-text\">'.concat(t,\"</mark>\")),l=RegExp(a,\"i\");return e.replace(l,r)},e)},c='$1<mark class=\"highlight-text\">$2</mark>$3',h=e=>RegExp(\"(^|\\\\b|[\\\\s\\\\n\\\\r\\\\t.,،'\\\\\\\"\\\\+!?:-])(\".concat(g(e),\")($|\\\\b|[\\\\s\\\\n\\\\r\\\\t.,،'\\\\\\\"\\\\+!?:-])(?![^<]*>|[^<>]*<\\\\/)\"),\"gmi\"),i=e=>RegExp(\"https?://(www\\\\.)?[-a-zA-Z0-9@:%._\\\\+~#=]{2,256}\\\\.[a-z]{2,6}\\\\b([-a-zA-Z0-9@:%_\\\\+.~#?&//=]*)(\".concat(g(e),\")\\\\b([-a-zA-Z0-9@:%_\\\\+.~#?&//=]*)\"),\"gmi\"),p=(e,t)=>t.reduce((e,t)=>{let{highlight:r,regex:g,urlRegex:h}=t,i=a(e,h);return i?l(e.replace(g,c),r,i):e.replace(g,c)},e)}","map":"{\"version\":3,\"sources\":[\"app/highlight-words/client/helper.ts\",\"<anon>\"],\"sourcesContent\":[\"import { escapeRegExp } from '@rocket.chat/string-helpers';\\n\\nconst checkHighlightedWordsInUrls = (msg: string, urlRegex: RegExp) => msg.match(urlRegex);\\n\\nconst removeHighlightedUrls = (msg: string, highlight: string, urlMatches: string[]) => {\\n\\tconst highlightRegex = new RegExp(highlight, 'gmi');\\n\\n\\treturn urlMatches.reduce((msg, match) => {\\n\\t\\tconst withTemplate = match.replace(highlightRegex, `<mark class=\\\"highlight-text\\\">${highlight}</mark>`);\\n\\t\\tconst regexWithTemplate = new RegExp(withTemplate, 'i');\\n\\t\\treturn msg.replace(regexWithTemplate, match);\\n\\t}, msg);\\n};\\n\\nconst highlightTemplate = '$1<mark class=\\\"highlight-text\\\">$2</mark>$3';\\n\\nexport const getRegexHighlight = (highlight: string) =>\\n\\tnew RegExp(\\n\\t\\t`(^|\\\\\\\\b|[\\\\\\\\s\\\\\\\\n\\\\\\\\r\\\\\\\\t.,،'\\\\\\\\\\\\\\\"\\\\\\\\+!?:-])(${escapeRegExp(highlight)})($|\\\\\\\\b|[\\\\\\\\s\\\\\\\\n\\\\\\\\r\\\\\\\\t.,،'\\\\\\\\\\\\\\\"\\\\\\\\+!?:-])(?![^<]*>|[^<>]*<\\\\\\\\/)`,\\n\\t\\t'gmi',\\n\\t);\\n\\nexport const getRegexHighlightUrl = (highlight: string) =>\\n\\tnew RegExp(\\n\\t\\t`https?:\\\\/\\\\/(www\\\\\\\\.)?[-a-zA-Z0-9@:%._\\\\\\\\+~#=]{2,256}\\\\\\\\.[a-z]{2,6}\\\\\\\\b([-a-zA-Z0-9@:%_\\\\\\\\+.~#?&//=]*)(${escapeRegExp(\\n\\t\\t\\thighlight,\\n\\t\\t)})\\\\\\\\b([-a-zA-Z0-9@:%_\\\\\\\\+.~#?&//=]*)`,\\n\\t\\t'gmi',\\n\\t);\\n\\nexport const highlightWords = (msg: string, highlights: { highlight: string; regex: RegExp; urlRegex: RegExp }[]) =>\\n\\thighlights.reduce((msg: string, { highlight, regex, urlRegex }: { highlight: string; regex: RegExp; urlRegex: RegExp }) => {\\n\\t\\tconst urlMatches = checkHighlightedWordsInUrls(msg, urlRegex);\\n\\t\\tif (!urlMatches) {\\n\\t\\t\\treturn msg.replace(regex, highlightTemplate);\\n\\t\\t}\\n\\t\\treturn removeHighlightedUrls(msg.replace(regex, highlightTemplate), highlight, urlMatches);\\n\\t}, msg);\\n\",null],\"names\":[\"escapeRegExp\",\"module\",\"export\",\"getRegexHighlight\",\"getRegexHighlightUrl\",\"highlightWords\",\"link\",\"v\",\"checkHighlightedWordsInUrls\",\"msg\",\"urlRegex\",\"match\",\"removeHighlightedUrls\",\"highlight\",\"urlMatches\",\"highlightRegex\",\"RegExp\",\"reduce\",\"withTemplate\",\"replace\",\"concat\",\"regexWithTemplate\",\"highlightTemplate\",\"highlights\",\"_ref\",\"regex\"],\"mappings\":\"2BAA2DA,EAA3DC,EAAOC,MAAE,CAAA,CAAAC,kBAAoBA,IAAAA,EAAAC,qBAA8BA,IAAAA,EAAAC,eAAAA,IAAAA,CAAA,GAAAJ,EAAAK,IAAA,CAAA,8BAAA,CAAAN,aAAAO,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAE3D,IAAMC,EAA8BA,CAACC,EAAaC,IAAqBD,EAAIE,KAAK,CAACD,GAE3EE,EAAwBA,CAACH,EAAaI,EAAmBC,KAC9D,IAAMC,EAAiB,AAAIC,OAAOH,EAAW,OAE7C,OAAOC,EAAWG,MAAM,CAAC,CAACR,EAAKE,KAC9B,IAAMO,EAAeP,EAAMQ,OAAO,CAACJ,EAAc,gCAAAK,MAAA,CAAkCP,EAAS,YACtFQ,EAAoB,AAAIL,OAAOE,EAAc,KACnD,OAAOT,EAAIU,OAAO,CAACE,EAAmBV,EACvC,EAAGF,EACJ,EAEMa,EAAoB,6CAEbnB,EAAqBU,GACjC,AAAIG,OAAM,yCAAAI,MAAA,CACgCpB,EAAaa,GAAU,+DAChE,OAGWT,EAAwBS,GACpC,AAAIG,OAAM,kGAAAI,MAAA,CAC2FpB,EACnGa,GACA,sCACD,OAGWR,EAAiBA,CAACI,EAAac,IAC3CA,EAAWN,MAAM,CAAC,CAACR,EAAWe,KAA4F,GAA1F,CAAEX,UAAAA,CAAS,CAAEY,MAAAA,CAAK,CAAEf,SAAAA,CAAAA,CAAkE,CAAAc,EAC/GV,EAAaN,EAA4BC,EAAKC,UACpD,AAAKI,EAGEF,EAAsBH,EAAIU,OAAO,CAACM,EAAOH,GAAoBT,EAAWC,GAFvEL,EAAIU,OAAO,CAACM,EAAOH,EAG5B,EAAGb\"}"}