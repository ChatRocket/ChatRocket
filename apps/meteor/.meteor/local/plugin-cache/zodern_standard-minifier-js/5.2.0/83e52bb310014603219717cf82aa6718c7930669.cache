{"code":"function module(e,t,n){let l,a,o,r,i,c,m,u,s,E;n.link(\"@rocket.chat/fuselage\",{Box(e){l=e},IconButton(e){a=e}},0),n.link(\"@rocket.chat/fuselage-hooks\",{useMediaQuery(e){o=e}},1),n.link(\"@rocket.chat/ui-contexts\",{useEndpoint(e){r=e},useTranslation(e){i=e}},2),n.link(\"react\",{default(e){c=e}},3),n.link(\"../../../components/GenericTable\",{GenericTableCell(e){m=e},GenericTableRow(e){u=e}},4),n.link(\"../../../hooks/useFormatDateAndTime\",{useFormatDateAndTime(e){s=e}},5),n.link(\"../../../hooks/useTimeFromNow\",{useTimeFromNow(e){E=e}},6);let k=e=>!!(e&&e.getTime()<new Date().getTime());n.exportDefault(e=>{var t,n,d;let{_id:T,createdAt:h,expires:p,uses:g,maxUses:w,onRemove:D}=e,f=i(),v=s(),x=r(\"DELETE\",\"/v1/removeInvite/:_id\",{_id:T}),F=E(!1),b=async e=>{e.stopPropagation(),D(()=>x())},G=o(\"(min-width: 768px)\");return c.createElement(u,null,c.createElement(m,null,c.createElement(l,{color:\"hint\",fontScale:\"p2\"},T)),G&&c.createElement(c.Fragment,null,c.createElement(m,null,v(new Date(h))),c.createElement(m,null,(t=p?new Date(p):null)?k(t)?f(\"Expired\"):F(t):f(\"Never\")),c.createElement(m,null,g),c.createElement(m,null,w>0?g>=w?0:w-g:f(\"Unlimited\"))),c.createElement(m,null,c.createElement(a,{icon:\"cross\",danger:!0,small:!0,onClick:b})))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/invites/InviteRow.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IInvite } from '@rocket.chat/core-typings';\\nimport { Box, IconButton } from '@rocket.chat/fuselage';\\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement, MouseEvent } from 'react';\\nimport React from 'react';\\n\\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\\nimport { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\\nimport { useTimeFromNow } from '../../../hooks/useTimeFromNow';\\n\\nconst isExpired = (expires: IInvite['expires']): boolean => {\\n\\tif (expires && expires.getTime() < new Date().getTime()) {\\n\\t\\treturn true;\\n\\t}\\n\\n\\treturn false;\\n};\\n\\ntype InviteRowProps = Omit<IInvite, 'createdAt' | 'expires' | '_updatedAt'> & {\\n\\tonRemove: (removeInvite: () => Promise<boolean>) => void;\\n\\t_updatedAt: string;\\n\\tcreatedAt: string;\\n\\texpires: string | null;\\n};\\n\\nconst InviteRow = ({ _id, createdAt, expires, uses, maxUses, onRemove }: InviteRowProps): ReactElement => {\\n\\tconst t = useTranslation();\\n\\tconst formatDateAndTime = useFormatDateAndTime();\\n\\tconst removeInvite = useEndpoint('DELETE', '/v1/removeInvite/:_id', { _id });\\n\\n\\tconst getTimeFromNow = useTimeFromNow(false);\\n\\n\\tconst daysToExpire = (expires: IInvite['expires']): string => {\\n\\t\\tif (expires) {\\n\\t\\t\\tif (isExpired(expires)) {\\n\\t\\t\\t\\treturn t('Expired');\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn getTimeFromNow(expires);\\n\\t\\t}\\n\\n\\t\\treturn t('Never');\\n\\t};\\n\\n\\tconst maxUsesLeft = (maxUses: IInvite['maxUses'], uses: IInvite['uses']): number | string => {\\n\\t\\tif (maxUses > 0) {\\n\\t\\t\\tif (uses >= maxUses) {\\n\\t\\t\\t\\treturn 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn maxUses - uses;\\n\\t\\t}\\n\\n\\t\\treturn t('Unlimited');\\n\\t};\\n\\n\\tconst handleRemoveButtonClick = async (event: MouseEvent<HTMLElement>): Promise<void> => {\\n\\t\\tevent.stopPropagation();\\n\\t\\tonRemove(() => removeInvite());\\n\\t};\\n\\n\\tconst notSmall = useMediaQuery('(min-width: 768px)');\\n\\n\\treturn (\\n\\t\\t<GenericTableRow>\\n\\t\\t\\t<GenericTableCell>\\n\\t\\t\\t\\t<Box color='hint' fontScale='p2'>\\n\\t\\t\\t\\t\\t{_id}\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</GenericTableCell>\\n\\t\\t\\t{notSmall && (\\n\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t<GenericTableCell>{formatDateAndTime(new Date(createdAt))}</GenericTableCell>\\n\\t\\t\\t\\t\\t<GenericTableCell>{daysToExpire(expires ? new Date(expires) : null)}</GenericTableCell>\\n\\t\\t\\t\\t\\t<GenericTableCell>{uses}</GenericTableCell>\\n\\t\\t\\t\\t\\t<GenericTableCell>{maxUsesLeft(maxUses, uses)}</GenericTableCell>\\n\\t\\t\\t\\t</>\\n\\t\\t\\t)}\\n\\t\\t\\t<GenericTableCell>\\n\\t\\t\\t\\t<IconButton icon='cross' danger small onClick={handleRemoveButtonClick} />\\n\\t\\t\\t</GenericTableCell>\\n\\t\\t</GenericTableRow>\\n\\t);\\n};\\n\\nexport default InviteRow;\\n\",null],\"names\":[\"Box\",\"IconButton\",\"useMediaQuery\",\"useEndpoint\",\"useTranslation\",\"React\",\"GenericTableCell\",\"GenericTableRow\",\"useFormatDateAndTime\",\"useTimeFromNow\",\"module\",\"link\",\"v\",\"default\",\"isExpired\",\"expires\",\"getTime\",\"Date\",\"exportDefault\",\"_ref\",\"maxUses\",\"uses\",\"_id\",\"createdAt\",\"onRemove\",\"t\",\"formatDateAndTime\",\"removeInvite\",\"getTimeFromNow\",\"handleRemoveButtonClick\",\"event\",\"stopPropagation\",\"notSmall\",\"createElement\",\"color\",\"fontScale\",\"Fragment\",\"icon\",\"danger\",\"small\",\"onClick\"],\"mappings\":\"2BACAA,EAAOC,EAAiDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA1CC,EAAYC,IAAA,CAAA,wBAA6B,CAACX,IAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,WAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,8BAAA,CAAAT,cAAAU,CAAA,EAAAV,EAAAU,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAR,YAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,eAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAAL,iBAAAM,CAAA,EAAAN,EAAAM,CAAA,EAAAL,gBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,sCAAA,CAAAH,qBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gCAAA,CAAAF,eAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAUxD,IAAME,EAAaC,KACdA,CAAAA,GAAWA,EAAQC,OAAO,GAAK,IAAIC,OAAOD,OAAO,EAAA,EAXtDN,EAAOQ,aAAO,CAyBIC,QAOKJ,EAYDK,EAA6BC,EAnBsD,GAAtF,CAAEC,IAAAA,CAAG,CAAEC,UAAAA,CAAS,CAAER,QAAAA,CAAO,CAAEM,KAAAA,CAAI,CAAED,QAAAA,CAAO,CAAEI,SAAAA,CAAAA,CAA0B,CAAAL,EAChFM,EAAIrB,IACJsB,EAAoBlB,IACpBmB,EAAexB,EAAY,SAAU,wBAAyB,CAAEmB,IAAAA,CAAG,GAEnEM,EAAiBnB,EAAe,CAAA,GA0BhCoB,EAA0B,MAAOC,IACtCA,EAAMC,eAAe,GACrBP,EAAS,IAAMG,IAChB,EAEMK,EAAW9B,EAAc,sBAE/B,OACCG,EAAA4B,aAAA,CAAC1B,EAAe,KACfF,EAAA4B,aAAA,CAAC3B,EAAgB,KAChBD,EAAA4B,aAAA,CAACjC,EAAG,CAACkC,MAAM,OAAOC,UAAU,IAAI,EAC9Bb,IAGFU,GACA3B,EAAA4B,aAAA,CAAA5B,EAAA+B,QAAA,CAAA,KACC/B,EAAA4B,aAAA,CAAC3B,EAAgB,KAAEoB,EAAkB,IAAIT,KAAKM,KAC9ClB,EAAA4B,aAAA,CAAC3B,EAAgB,KAxCpB,CADqBS,EAyCcA,EAAU,IAAIE,KAAKF,GAAW,MAvChE,AAAID,EAAUC,GACNU,EAAE,WAGHG,EAAeb,GAGhBU,EAAE,UAiCNpB,EAAA4B,aAAA,CAAC3B,EAAgB,KAAEe,GACnBhB,EAAA4B,aAAA,CAAC3B,EAAgB,KA9BpB,AAAIc,AA8B8BA,EA9BpB,EACb,AAAIC,AA6BsCA,GAATD,EA5BzB,EAGDA,AAyB0BA,EAASC,EAtBpCI,EAAE,eAyBRpB,EAAA4B,aAAA,CAAC3B,EAAgB,KAChBD,EAAA4B,aAAA,CAAChC,EAAU,CAACoC,KAAK,QAAQC,OAAM,CAAA,EAACC,MAAK,CAAA,EAACC,QAASX,CAAwB,IAI3E\"}"}