{"code":"function module(e,t,n){let l,i,r,a,o,d,u,c,s;n.link(\"@rocket.chat/ui-contexts\",{useRouter(e){l=e}},0),n.link(\"react\",{default(e){i=e},Suspense(e){r=e},useEffect(e){a=e}},1),n.link(\"../../components/PageSkeleton\",{default(e){o=e}},2),n.link(\"../../lib/createSidebarItems\",{isGoRocketChatLink(e){d=e}},3),n.link(\"../../providers/SettingsProvider\",{default(e){u=e}},4),n.link(\"./AdministrationLayout\",{default(e){c=e}},5),n.link(\"./sidebarItems\",{getAdminSidebarItems(e){s=e}},6);let m=e=>!0===e.divider,k=e=>{var t;return!m(e)&&!!(null===(t=e.permissionGranted)||void 0===t?void 0:t.call(e))};n.exportDefault(e=>{let{children:t}=e,n=l();return a(()=>n.subscribeToRouteChange(()=>{var e,t;if(\"admin-index\"!==n.getRouteName())return;let l=null!==(e=null===(t=s().find(k))||void 0===t?void 0:t.href)&&void 0!==e?e:\"/admin/workspace\";if(d(l)){window.open(l,\"_blank\");return}n.navigate(l,{replace:!0})}),[n]),i.createElement(c,null,i.createElement(u,{privileged:!0},t?i.createElement(r,{fallback:i.createElement(o,null)},t):i.createElement(o,null)))})}","map":"{\"version\":3,\"sources\":[\"client/views/admin/AdministrationRouter.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useRouter } from '@rocket.chat/ui-contexts';\\nimport type { ReactElement, ReactNode } from 'react';\\nimport React, { Suspense, useEffect } from 'react';\\n\\nimport PageSkeleton from '../../components/PageSkeleton';\\nimport type { Item, SidebarDivider, SidebarItem } from '../../lib/createSidebarItems';\\nimport { isGoRocketChatLink } from '../../lib/createSidebarItems';\\nimport SettingsProvider from '../../providers/SettingsProvider';\\nimport AdministrationLayout from './AdministrationLayout';\\nimport { getAdminSidebarItems } from './sidebarItems';\\n\\nconst isSidebarDivider = (sidebarItem: SidebarItem): sidebarItem is SidebarDivider => {\\n\\treturn (sidebarItem as SidebarDivider).divider === true;\\n};\\n\\nconst firstSidebarPage = (sidebarItem: SidebarItem): sidebarItem is Item => {\\n\\tif (isSidebarDivider(sidebarItem)) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\treturn Boolean(sidebarItem.permissionGranted?.());\\n};\\n\\ntype AdministrationRouterProps = {\\n\\tchildren?: ReactNode;\\n};\\n\\nconst AdministrationRouter = ({ children }: AdministrationRouterProps): ReactElement => {\\n\\tconst router = useRouter();\\n\\n\\tuseEffect(\\n\\t\\t() =>\\n\\t\\t\\trouter.subscribeToRouteChange(() => {\\n\\t\\t\\t\\tif (router.getRouteName() !== 'admin-index') {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tconst defaultRoutePath = getAdminSidebarItems().find(firstSidebarPage)?.href ?? '/admin/workspace';\\n\\n\\t\\t\\t\\tif (isGoRocketChatLink(defaultRoutePath)) {\\n\\t\\t\\t\\t\\twindow.open(defaultRoutePath, '_blank');\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\trouter.navigate(defaultRoutePath, { replace: true });\\n\\t\\t\\t}),\\n\\t\\t[router],\\n\\t);\\n\\n\\treturn (\\n\\t\\t<AdministrationLayout>\\n\\t\\t\\t<SettingsProvider privileged>\\n\\t\\t\\t\\t{children ? <Suspense fallback={<PageSkeleton />}>{children}</Suspense> : <PageSkeleton />}\\n\\t\\t\\t</SettingsProvider>\\n\\t\\t</AdministrationLayout>\\n\\t);\\n};\\n\\nexport default AdministrationRouter;\\n\",null],\"names\":[\"useRouter\",\"React\",\"Suspense\",\"useEffect\",\"PageSkeleton\",\"isGoRocketChatLink\",\"SettingsProvider\",\"AdministrationLayout\",\"getAdminSidebarItems\",\"module\",\"link\",\"v\",\"default\",\"isSidebarDivider\",\"sidebarItem\",\"divider\",\"firstSidebarPage\",\"_sidebarItem$permissi\",\"Boolean\",\"permissionGranted\",\"call\",\"exportDefault\",\"_ref\",\"children\",\"router\",\"subscribeToRouteChange\",\"_getAdminSidebarItems\",\"_getAdminSidebarItems2\",\"getRouteName\",\"defaultRoutePath\",\"find\",\"href\",\"window\",\"open\",\"navigate\",\"replace\",\"createElement\",\"privileged\",\"fallback\"],\"mappings\":\"2BAAAA,EAAqDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA5CC,EAAWC,IAAA,CAAM,2BAA2B,CAAAV,UAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAV,EAAAU,CAAA,EAAAT,SAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,UAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,gCAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,+BAAA,CAAAL,mBAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,mCAAA,CAAAE,QAAAD,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,yBAAA,CAAAE,QAAAD,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,iBAAA,CAAAF,qBAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAWrD,IAAME,EAAoBC,GACjBA,AAA2C,CAAA,IAA3CA,EAA+BC,OAAO,CAGzCC,EAAoBF,IAAiD,IAAAG,QAC1E,CAAIJ,EAAiBC,IAIdI,CAAAA,CAAO,CAAA,AAA8B,OAA9BD,CAAAA,EAACH,EAAYK,iBAAiB,AAAjBA,GAAiBF,AAAA,KAAA,IAAAA,EAAA,KAAA,EAA7BA,EAAAG,IAAA,CAAAN,EAA+B,CAC/C,EArBAL,EAAOY,aAAa,CA2BSC,IAA0D,GAAzD,CAAEC,SAAAA,CAAAA,CAAqC,CAAAD,EAC9DE,EAASxB,IAqBf,OAnBAG,EACC,IACCqB,EAAOC,sBAAsB,CAAC,KAAK,IAAAC,EAAAC,EAClC,GAAIH,AAA0B,gBAA1BA,EAAOI,YAAY,GACtB,OAGD,IAAMC,EAAgB,AAAsD,OAAtDH,CAAAA,EAAA,AAAgD,OAAhDC,CAAAA,EAAGnB,IAAuBsB,IAAI,CAACd,EAAgB,GAACW,AAAA,KAAA,IAAAA,EAAA,KAAA,EAA7CA,EAA+CI,IAAI,AAAJA,GAAIL,AAAA,KAAA,IAAAA,EAAAA,EAAI,mBAEhF,GAAIrB,EAAmBwB,GAAmB,CACzCG,OAAOC,IAAI,CAACJ,EAAkB,UAC9B,MACD,CAEAL,EAAOU,QAAQ,CAACL,EAAkB,CAAEM,QAAS,CAAA,CAAI,EAClD,GACD,CAACX,EAAO,EAIRvB,EAAAmC,aAAA,CAAC7B,EAAoB,KACpBN,EAAAmC,aAAA,CAAC9B,EAAgB,CAAC+B,WAAU,CAAA,CAAA,EAC1Bd,EAAWtB,EAAAmC,aAAA,CAAClC,EAAQ,CAACoC,SAAUrC,EAAAmC,aAAA,CAAChC,EAAY,KAAI,EAAEmB,GAAuBtB,EAAAmC,aAAA,CAAChC,EAAY,OAI3F\"}"}