{"code":"function module(e,o,n){let t,l,r,i,u,a,c;n.link(\"@rocket.chat/fuselage-hooks\",{useEffectEvent(e){t=e}},0),n.link(\"@rocket.chat/ui-contexts\",{ModalContext(e){l=e}},1),n.link(\"react\",{default(e){r=e},useMemo(e){i=e},memo(e){u=e}},2),n.link(\"use-sync-external-store/shim\",{useSyncExternalStore(e){a=e}},3),n.link(\"./ModalStore\",{modalStore(e){c=e}},4),n.exportDefault(u(e=>{let{children:o,region:n}=e,u=a(c.subscribe,c.getSnapshot),d=t(e=>{if(\"function\"==typeof e){c.open(e(),n);return}c.open(e,n)}),s=i(()=>({modal:{setModal:d},currentModal:{component:null==u?void 0:u.node,region:null==u?void 0:u.region},region:n}),[null==u?void 0:u.node,null==u?void 0:u.region,n,d]);return r.createElement(l.Provider,{value:s,children:o})}))}","map":"{\"version\":3,\"sources\":[\"client/providers/ModalProvider/ModalProvider.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useEffectEvent } from '@rocket.chat/fuselage-hooks';\\nimport { ModalContext } from '@rocket.chat/ui-contexts';\\nimport type { ReactNode } from 'react';\\nimport React, { useMemo, memo } from 'react';\\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\\n\\nimport { modalStore } from './ModalStore';\\n\\ntype ModalProviderProps = {\\n\\tchildren?: ReactNode;\\n\\tregion?: symbol;\\n};\\n\\nconst ModalProvider = ({ children, region }: ModalProviderProps) => {\\n\\tconst currentModal = useSyncExternalStore(modalStore.subscribe, modalStore.getSnapshot);\\n\\n\\tconst setModal = useEffectEvent((modal: ReactNode | (() => ReactNode)) => {\\n\\t\\tif (typeof modal === 'function') {\\n\\t\\t\\tmodalStore.open(modal(), region);\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tmodalStore.open(modal, region);\\n\\t});\\n\\n\\tconst contextValue = useMemo(\\n\\t\\t() => ({\\n\\t\\t\\tmodal: {\\n\\t\\t\\t\\tsetModal,\\n\\t\\t\\t},\\n\\t\\t\\tcurrentModal: {\\n\\t\\t\\t\\tcomponent: currentModal?.node,\\n\\t\\t\\t\\tregion: currentModal?.region,\\n\\t\\t\\t},\\n\\t\\t\\tregion,\\n\\t\\t}),\\n\\t\\t[currentModal?.node, currentModal?.region, region, setModal],\\n\\t);\\n\\n\\treturn <ModalContext.Provider value={contextValue} children={children} />;\\n};\\n\\nexport default memo<typeof ModalProvider>(ModalProvider);\\n\",null],\"names\":[\"useEffectEvent\",\"ModalContext\",\"React\",\"useMemo\",\"memo\",\"useSyncExternalStore\",\"modalStore\",\"module\",\"link\",\"v\",\"default\",\"exportDefault\",\"_ref\",\"children\",\"region\",\"currentModal\",\"subscribe\",\"getSnapshot\",\"setModal\",\"modal\",\"open\",\"contextValue\",\"component\",\"node\",\"createElement\",\"Provider\",\"value\"],\"mappings\":\"2BAAAA,EAA6DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAApDC,EAAgBC,IAAA,CAAM,8BAA8B,CAAAR,eAAAS,CAAA,EAAAT,EAAAS,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,2BAAA,CAAAP,aAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,EAAAN,QAAAM,CAAA,EAAAN,EAAAM,CAAA,EAAAL,KAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,+BAAA,CAAAH,qBAAAI,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,eAAA,CAAAF,WAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAA7DF,EAAOI,aAAE,CAyCMP,EA5BOQ,IAA6C,GAA5C,CAAEC,SAAAA,CAAQ,CAAEC,OAAAA,CAAAA,CAA4B,CAAAF,EACxDG,EAAeV,EAAqBC,EAAWU,SAAS,CAAEV,EAAWW,WAAW,EAEhFC,EAAWlB,EAAgBmB,IAChC,GAAI,AAAiB,YAAjB,OAAOA,EAAsB,CAChCb,EAAWc,IAAI,CAACD,IAASL,GACzB,MACD,CACAR,EAAWc,IAAI,CAACD,EAAOL,EACxB,GAEMO,EAAelB,EACpB,IAAO,CAAA,CACNgB,MAAO,CACND,SAAAA,GAEDH,aAAc,CACbO,UAAWP,MAAAA,EAAY,KAAA,EAAZA,EAAcQ,IAAI,CAC7BT,OAAQC,MAAAA,EAAY,KAAA,EAAZA,EAAcD,MAAAA,EAEvBA,OAAAA,IAED,CAACC,MAAAA,EAAY,KAAA,EAAZA,EAAcQ,IAAI,CAAER,MAAAA,EAAY,KAAA,EAAZA,EAAcD,MAAM,CAAEA,EAAQI,EAAS,EAG7D,OAAOhB,EAAAsB,aAAA,CAACvB,EAAawB,QAAQ,CAAA,CAACC,MAAOL,EAAcR,SAAUA,CAAS,EACvE\"}"}