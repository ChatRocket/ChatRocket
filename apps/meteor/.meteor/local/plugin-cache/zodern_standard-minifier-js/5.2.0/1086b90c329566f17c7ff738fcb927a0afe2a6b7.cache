{"code":"function module(e,a,s){let t,n,r,l,i,m,o,u,d,c,g,k,h,p,M,b,E,y,_,f,D,U;s.link(\"@babel/runtime/helpers/extends\",{default(e){t=e}},0),s.link(\"@babel/runtime/helpers/objectSpread2\",{default(e){n=e}},1),s.link(\"@rocket.chat/fuselage\",{MessageHeader(e){r=e},MessageName(e){l=e},MessageTimestamp(e){i=e},MessageUsername(e){m=e},MessageStatusPrivateIndicator(e){o=e},MessageNameContainer(e){u=e}},0),s.link(\"react\",{default(e){d=e},memo(e){c=e}},1),s.link(\"react-i18next\",{useTranslation(e){g=e}},2),s.link(\"../../../lib/getUserDisplayName\",{getUserDisplayName(e){k=e}},3),s.link(\"../../hooks/useFormatDateAndTime\",{useFormatDateAndTime(e){h=e}},4),s.link(\"../../hooks/useFormatTime\",{useFormatTime(e){p=e}},5),s.link(\"../../hooks/useUserData\",{useUserData(e){M=e}},6),s.link(\"../../views/room/contexts/UserCardContext\",{useUserCard(e){b=e}},7),s.link(\"./StatusIndicators\",{default(e){E=e}},8),s.link(\"./header/MessageRoles\",{default(e){y=e}},9),s.link(\"./header/hooks/useMessageRoles\",{useMessageRoles(e){_=e}},10),s.link(\"./list/MessageListContext\",{useMessageListShowUsername(e){f=e},useMessageListShowRealName(e){D=e},useMessageListShowRoles(e){U=e}},11),s.exportDefault(c(e=>{let{message:a}=e,{t:s}=g(),c=p(),x=h(),{triggerProps:S,openUserCard:C}=b(),N=D(),T=n(n({},a.u),{},{roles:[]},M(a.u._id)),w=!T.name||T.username===T.name,F=f()&&N&&!w,R=U(),v=_(a.u._id,a.rid,R),L=v.length>0;return d.createElement(r,null,d.createElement(u,t({tabIndex:0,role:\"button\",id:\"\".concat(a._id,\"-displayName\"),\"aria-label\":k(T.name,T.username,N),onClick:e=>C(e,a.u.username),onKeyDown:e=>{(\"Enter\"===e.code||\"Space\"===e.code)&&C(e,a.u.username)},style:{cursor:\"pointer\"}},S),d.createElement(l,t({},!F&&{\"data-qa-type\":\"username\"},{title:F||w?void 0:\"@\".concat(T.username),\"data-username\":T.username}),a.alias||k(T.name,T.username,N)),F&&d.createElement(d.Fragment,null,\" \",d.createElement(m,{\"data-username\":T.username,\"data-qa-type\":\"username\"},\"@\",T.username))),L&&d.createElement(y,{roles:v,isBot:a.bot}),d.createElement(i,{id:\"\".concat(a._id,\"-time\"),title:x(a.ts)},c(a.ts)),a.private&&d.createElement(o,null,s(\"Only_you_can_see_this_message\")),d.createElement(E,{message:a}))}))}","map":"{\"version\":3,\"sources\":[\"client/components/message/MessageHeader.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport {\\n\\tMessageHeader as FuselageMessageHeader,\\n\\tMessageName,\\n\\tMessageTimestamp,\\n\\tMessageUsername,\\n\\tMessageStatusPrivateIndicator,\\n\\tMessageNameContainer,\\n} from '@rocket.chat/fuselage';\\nimport type { KeyboardEvent, ReactElement } from 'react';\\nimport React, { memo } from 'react';\\nimport { useTranslation } from 'react-i18next';\\n\\nimport { getUserDisplayName } from '../../../lib/getUserDisplayName';\\nimport { useFormatDateAndTime } from '../../hooks/useFormatDateAndTime';\\nimport { useFormatTime } from '../../hooks/useFormatTime';\\nimport { useUserData } from '../../hooks/useUserData';\\nimport type { UserPresence } from '../../lib/presence';\\nimport { useUserCard } from '../../views/room/contexts/UserCardContext';\\nimport StatusIndicators from './StatusIndicators';\\nimport MessageRoles from './header/MessageRoles';\\nimport { useMessageRoles } from './header/hooks/useMessageRoles';\\nimport { useMessageListShowUsername, useMessageListShowRealName, useMessageListShowRoles } from './list/MessageListContext';\\n\\ntype MessageHeaderProps = {\\n\\tmessage: IMessage;\\n};\\n\\nconst MessageHeader = ({ message }: MessageHeaderProps): ReactElement => {\\n\\tconst { t } = useTranslation();\\n\\n\\tconst formatTime = useFormatTime();\\n\\tconst formatDateAndTime = useFormatDateAndTime();\\n\\tconst { triggerProps, openUserCard } = useUserCard();\\n\\n\\tconst showRealName = useMessageListShowRealName();\\n\\tconst user: UserPresence = { ...message.u, roles: [], ...useUserData(message.u._id) };\\n\\tconst usernameAndRealNameAreSame = !user.name || user.username === user.name;\\n\\tconst showUsername = useMessageListShowUsername() && showRealName && !usernameAndRealNameAreSame;\\n\\n\\tconst showRoles = useMessageListShowRoles();\\n\\tconst roles = useMessageRoles(message.u._id, message.rid, showRoles);\\n\\tconst shouldShowRolesList = roles.length > 0;\\n\\n\\treturn (\\n\\t\\t<FuselageMessageHeader>\\n\\t\\t\\t<MessageNameContainer\\n\\t\\t\\t\\ttabIndex={0}\\n\\t\\t\\t\\trole='button'\\n\\t\\t\\t\\tid={`${message._id}-displayName`}\\n\\t\\t\\t\\taria-label={getUserDisplayName(user.name, user.username, showRealName)}\\n\\t\\t\\t\\tonClick={(e) => openUserCard(e, message.u.username)}\\n\\t\\t\\t\\tonKeyDown={(e: KeyboardEvent<HTMLSpanElement>) => {\\n\\t\\t\\t\\t\\t(e.code === 'Enter' || e.code === 'Space') && openUserCard(e, message.u.username);\\n\\t\\t\\t\\t}}\\n\\t\\t\\t\\tstyle={{ cursor: 'pointer' }}\\n\\t\\t\\t\\t{...triggerProps}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<MessageName\\n\\t\\t\\t\\t\\t{...(!showUsername && { 'data-qa-type': 'username' })}\\n\\t\\t\\t\\t\\ttitle={!showUsername && !usernameAndRealNameAreSame ? `@${user.username}` : undefined}\\n\\t\\t\\t\\t\\tdata-username={user.username}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t{message.alias || getUserDisplayName(user.name, user.username, showRealName)}\\n\\t\\t\\t\\t</MessageName>\\n\\t\\t\\t\\t{showUsername && (\\n\\t\\t\\t\\t\\t<>\\n\\t\\t\\t\\t\\t\\t{' '}\\n\\t\\t\\t\\t\\t\\t<MessageUsername data-username={user.username} data-qa-type='username'>\\n\\t\\t\\t\\t\\t\\t\\t@{user.username}\\n\\t\\t\\t\\t\\t\\t</MessageUsername>\\n\\t\\t\\t\\t\\t</>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</MessageNameContainer>\\n\\t\\t\\t{shouldShowRolesList && <MessageRoles roles={roles} isBot={message.bot} />}\\n\\t\\t\\t<MessageTimestamp id={`${message._id}-time`} title={formatDateAndTime(message.ts)}>\\n\\t\\t\\t\\t{formatTime(message.ts)}\\n\\t\\t\\t</MessageTimestamp>\\n\\t\\t\\t{message.private && <MessageStatusPrivateIndicator>{t('Only_you_can_see_this_message')}</MessageStatusPrivateIndicator>}\\n\\t\\t\\t<StatusIndicators message={message} />\\n\\t\\t</FuselageMessageHeader>\\n\\t);\\n};\\n\\nexport default memo(MessageHeader);\\n\",null],\"names\":[\"_extends\",\"_objectSpread\",\"FuselageMessageHeader\",\"MessageName\",\"MessageTimestamp\",\"MessageUsername\",\"MessageStatusPrivateIndicator\",\"MessageNameContainer\",\"React\",\"memo\",\"useTranslation\",\"getUserDisplayName\",\"useFormatDateAndTime\",\"useFormatTime\",\"useUserData\",\"useUserCard\",\"StatusIndicators\",\"MessageRoles\",\"useMessageRoles\",\"useMessageListShowUsername\",\"useMessageListShowRealName\",\"useMessageListShowRoles\",\"module\",\"link\",\"default\",\"v\",\"MessageHeader\",\"exportDefault\",\"_ref\",\"message\",\"t\",\"formatTime\",\"formatDateAndTime\",\"triggerProps\",\"openUserCard\",\"showRealName\",\"user\",\"u\",\"roles\",\"_id\",\"usernameAndRealNameAreSame\",\"name\",\"username\",\"showUsername\",\"showRoles\",\"rid\",\"shouldShowRolesList\",\"length\",\"createElement\",\"tabIndex\",\"role\",\"id\",\"concat\",\"onClick\",\"e\",\"onKeyDown\",\"code\",\"style\",\"cursor\",\"title\",\"undefined\",\"alias\",\"Fragment\",\"isBot\",\"bot\",\"ts\",\"private\"],\"mappings\":\"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\"}"}