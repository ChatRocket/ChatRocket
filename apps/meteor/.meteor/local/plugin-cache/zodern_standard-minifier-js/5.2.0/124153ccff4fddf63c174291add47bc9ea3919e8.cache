{"code":"function module(e,n,t){var o,c,u,i,r,l,a,s,f,d,m,v,b,g,k,h,S,E,p,A,W,_,D,x=[\"_id\"];t.link(\"@babel/runtime/helpers/extends\",{default:function(e){o=e}},0),t.link(\"@babel/runtime/helpers/objectWithoutProperties\",{default:function(e){c=e}},1),t.link(\"@rocket.chat/fuselage\",{SelectLegacy:function(e){u=e},Box:function(e){i=e},Button:function(e){r=e},Field:function(e){l=e},FieldLabel:function(e){a=e},FieldRow:function(e){s=e},FieldError:function(e){f=e}},0),t.link(\"@rocket.chat/fuselage-hooks\",{useEffectEvent:function(e){d=e},useUniqueId:function(e){m=e}},1),t.link(\"@rocket.chat/ui-contexts\",{useToastMessageDispatch:function(e){v=e},useTranslation:function(e){b=e}},2),t.link(\"react\",{default:function(e){g=e},useMemo:function(e){k=e}},3),t.link(\"react-hook-form\",{useForm:function(e){h=e},Controller:function(e){S=e}},4),t.link(\"../../../components/Page\",{Page:function(e){E=e},PageHeader:function(e){p=e},PageScrollableContentWithShadow:function(e){A=e}},5),t.link(\"../../../hooks/webdav/useWebDAVAccountIntegrationsQuery\",{useWebDAVAccountIntegrationsQuery:function(e){W=e}},6),t.link(\"../../../lib/getWebdavServerName\",{getWebdavServerName:function(e){_=e}},7),t.link(\"./hooks/useRemoveWebDAVAccountIntegrationMutation\",{useRemoveWebDAVAccountIntegrationMutation:function(e){D=e}},8),t.exportDefault(function(){var e=W().data,n=h(),t=n.handleSubmit,y=n.control,I=n.formState.errors,V=k(function(){var n;return null!==(n=null==e?void 0:e.map(function(e){var n=e._id,t=c(e,x);return[n,_(t)]}))&&void 0!==n?n:[]},[e]),F=v(),P=b(),R=D({onSuccess:function(){F({type:\"success\",message:P(\"Webdav_account_removed\")})},onError:function(e){F({type:\"error\",message:e})}}),w=d(function(e){var n=e.accountSelected;R.mutate({accountSelected:n})}),M=m();return g.createElement(E,null,g.createElement(p,{title:P(\"Integrations\")}),g.createElement(A,null,g.createElement(i,{is:\"form\",maxWidth:\"x600\",w:\"full\",alignSelf:\"center\",onSubmit:t(w)},g.createElement(l,null,g.createElement(a,null,P(\"WebDAV_Accounts\")),g.createElement(s,null,g.createElement(S,{control:y,name:\"accountSelected\",rules:{required:P(\"Required_field\",{field:P(\"WebDAV_Accounts\")})},render:function(e){var n=e.field;return g.createElement(u,o({},n,{options:V,placeholder:P(\"Select_an_option\")}))}}),g.createElement(r,{type:\"submit\",danger:!0},P(\"Remove\"))),(null==I?void 0:I.accountSelected)&&g.createElement(f,{\"aria-live\":\"assertive\",id:M+\"-error\"},I.accountSelected.message)))))})}","map":"{\"version\":3,\"sources\":[\"client/views/account/integrations/AccountIntegrationsPage.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { SelectOption } from '@rocket.chat/fuselage';\\nimport { SelectLegacy, Box, Button, Field, FieldLabel, FieldRow, FieldError } from '@rocket.chat/fuselage';\\nimport { useEffectEvent, useUniqueId } from '@rocket.chat/fuselage-hooks';\\nimport { useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\\nimport React, { useMemo } from 'react';\\nimport { useForm, Controller } from 'react-hook-form';\\n\\nimport { Page, PageHeader, PageScrollableContentWithShadow } from '../../../components/Page';\\nimport { useWebDAVAccountIntegrationsQuery } from '../../../hooks/webdav/useWebDAVAccountIntegrationsQuery';\\nimport { getWebdavServerName } from '../../../lib/getWebdavServerName';\\nimport { useRemoveWebDAVAccountIntegrationMutation } from './hooks/useRemoveWebDAVAccountIntegrationMutation';\\n\\nconst AccountIntegrationsPage = () => {\\n\\tconst { data: webdavAccountIntegrations } = useWebDAVAccountIntegrationsQuery();\\n\\n\\tconst {\\n\\t\\thandleSubmit,\\n\\t\\tcontrol,\\n\\t\\tformState: { errors },\\n\\t} = useForm<{ accountSelected: string }>();\\n\\n\\tconst options: SelectOption[] = useMemo(\\n\\t\\t() => webdavAccountIntegrations?.map(({ _id, ...current }) => [_id, getWebdavServerName(current)]) ?? [],\\n\\t\\t[webdavAccountIntegrations],\\n\\t);\\n\\n\\tconst dispatchToastMessage = useToastMessageDispatch();\\n\\tconst t = useTranslation();\\n\\n\\tconst removeMutation = useRemoveWebDAVAccountIntegrationMutation({\\n\\t\\tonSuccess: () => {\\n\\t\\t\\tdispatchToastMessage({ type: 'success', message: t('Webdav_account_removed') });\\n\\t\\t},\\n\\t\\tonError: (error) => {\\n\\t\\t\\tdispatchToastMessage({ type: 'error', message: error });\\n\\t\\t},\\n\\t});\\n\\n\\tconst handleSubmitForm = useEffectEvent(({ accountSelected }) => {\\n\\t\\tremoveMutation.mutate({ accountSelected });\\n\\t});\\n\\n\\tconst accountSelectedId = useUniqueId();\\n\\n\\treturn (\\n\\t\\t<Page>\\n\\t\\t\\t<PageHeader title={t('Integrations')} />\\n\\t\\t\\t<PageScrollableContentWithShadow>\\n\\t\\t\\t\\t<Box is='form' maxWidth='x600' w='full' alignSelf='center' onSubmit={handleSubmit(handleSubmitForm)}>\\n\\t\\t\\t\\t\\t<Field>\\n\\t\\t\\t\\t\\t\\t<FieldLabel>{t('WebDAV_Accounts')}</FieldLabel>\\n\\t\\t\\t\\t\\t\\t<FieldRow>\\n\\t\\t\\t\\t\\t\\t\\t<Controller\\n\\t\\t\\t\\t\\t\\t\\t\\tcontrol={control}\\n\\t\\t\\t\\t\\t\\t\\t\\tname='accountSelected'\\n\\t\\t\\t\\t\\t\\t\\t\\trules={{ required: t('Required_field', { field: t('WebDAV_Accounts') }) }}\\n\\t\\t\\t\\t\\t\\t\\t\\trender={({ field }) => <SelectLegacy {...field} options={options} placeholder={t('Select_an_option')} />}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t<Button type='submit' danger>\\n\\t\\t\\t\\t\\t\\t\\t\\t{t('Remove')}\\n\\t\\t\\t\\t\\t\\t\\t</Button>\\n\\t\\t\\t\\t\\t\\t</FieldRow>\\n\\t\\t\\t\\t\\t\\t{errors?.accountSelected && (\\n\\t\\t\\t\\t\\t\\t\\t<FieldError aria-live='assertive' id={`${accountSelectedId}-error`}>\\n\\t\\t\\t\\t\\t\\t\\t\\t{errors.accountSelected.message}\\n\\t\\t\\t\\t\\t\\t\\t</FieldError>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</Field>\\n\\t\\t\\t\\t</Box>\\n\\t\\t\\t</PageScrollableContentWithShadow>\\n\\t\\t</Page>\\n\\t);\\n};\\n\\nexport default AccountIntegrationsPage;\\n\",null],\"names\":[\"_extends\",\"_objectWithoutProperties\",\"SelectLegacy\",\"Box\",\"Button\",\"Field\",\"FieldLabel\",\"FieldRow\",\"FieldError\",\"useEffectEvent\",\"useUniqueId\",\"useToastMessageDispatch\",\"useTranslation\",\"React\",\"useMemo\",\"useForm\",\"Controller\",\"Page\",\"PageHeader\",\"PageScrollableContentWithShadow\",\"useWebDAVAccountIntegrationsQuery\",\"getWebdavServerName\",\"useRemoveWebDAVAccountIntegrationMutation\",\"module\",\"link\",\"default\",\"v\",\"exportDefault\",\"webdavAccountIntegrations\",\"_useWebDAVAccountInte\",\"data\",\"_useForm\",\"handleSubmit\",\"control\",\"errors\",\"formState\",\"options\",\"_webdavAccountIntegra\",\"map\",\"_ref\",\"_id\",\"current\",\"_excluded\",\"dispatchToastMessage\",\"t\",\"removeMutation\",\"onSuccess\",\"type\",\"message\",\"onError\",\"error\",\"handleSubmitForm\",\"_ref2\",\"accountSelected\",\"mutate\",\"accountSelectedId\",\"createElement\",\"title\",\"is\",\"maxWidth\",\"w\",\"alignSelf\",\"onSubmit\",\"name\",\"rules\",\"required\",\"field\",\"render\",\"_ref3\",\"placeholder\",\"danger\",\"id\"],\"mappings\":\"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\"}"}