{"code":"function module(e,t,a){let n,s,l,i,c,o,r,u;a.export({useMarketPlaceMenu:()=>p}),a.link(\"@rocket.chat/fuselage\",{Badge(e){n=e},Skeleton(e){s=e}},0),a.link(\"@rocket.chat/ui-contexts\",{useTranslation(e){l=e},usePermission(e){i=e},useRouter(e){c=e}},1),a.link(\"react\",{default(e){o=e}},2),a.link(\"../../../hooks/useAppActionButtons\",{useUserDropdownAppsActionButtons(e){r=e}},3),a.link(\"../../../views/marketplace/hooks/useAppRequestStats\",{useAppRequestStats(e){u=e}},4);let p=()=>{let e=l(),t=r(),a=i(\"manage-apps\"),p=i(\"access-marketplace\"),d=c(),k=u(),m=[{id:\"explore\",icon:\"compass\",content:e(\"Explore\"),onClick:()=>d.navigate(\"/marketplace/explore/list\")},{id:\"installed\",icon:\"circle-arrow-down\",content:e(\"Installed\"),onClick:()=>d.navigate(\"/marketplace/installed/list\")}],g={id:\"requested-apps\",icon:\"cube\",content:e(\"Requested\"),onClick:()=>{d.navigate(\"/marketplace/requested/list\")},addon:o.createElement(o.Fragment,null,k.isLoading&&o.createElement(s,{variant:\"circle\",height:16,width:16}),k.isSuccess&&k.data.totalUnseen>0&&o.createElement(n,{variant:\"primary\"},k.data.totalUnseen))};return[{title:e(\"Marketplace\"),items:[...p||a?m:[],...a?[g]:[],...t.isSuccess?t.data:[]]}]}}","map":"{\"version\":3,\"sources\":[\"client/NavBarV2/NavBarPagesToolbar/hooks/useMarketPlaceMenu.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { Badge, Skeleton } from '@rocket.chat/fuselage';\\nimport type { GenericMenuItemProps } from '@rocket.chat/ui-client';\\nimport { useTranslation, usePermission, useRouter } from '@rocket.chat/ui-contexts';\\nimport React from 'react';\\n\\nimport { useUserDropdownAppsActionButtons } from '../../../hooks/useAppActionButtons';\\nimport { useAppRequestStats } from '../../../views/marketplace/hooks/useAppRequestStats';\\n\\nexport const useMarketPlaceMenu = () => {\\n\\tconst t = useTranslation();\\n\\n\\tconst appBoxItems = useUserDropdownAppsActionButtons();\\n\\n\\tconst hasManageAppsPermission = usePermission('manage-apps');\\n\\tconst hasAccessMarketplacePermission = usePermission('access-marketplace');\\n\\n\\tconst showMarketplace = hasAccessMarketplacePermission || hasManageAppsPermission;\\n\\n\\tconst router = useRouter();\\n\\n\\tconst appRequestStats = useAppRequestStats();\\n\\n\\tconst marketPlaceItems: GenericMenuItemProps[] = [\\n\\t\\t{\\n\\t\\t\\tid: 'explore',\\n\\t\\t\\ticon: 'compass',\\n\\t\\t\\tcontent: t('Explore'),\\n\\t\\t\\tonClick: () => router.navigate('/marketplace/explore/list'),\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\tid: 'installed',\\n\\t\\t\\ticon: 'circle-arrow-down',\\n\\t\\t\\tcontent: t('Installed'),\\n\\t\\t\\tonClick: () => router.navigate('/marketplace/installed/list'),\\n\\t\\t},\\n\\t];\\n\\n\\tconst appsManagementItem: GenericMenuItemProps = {\\n\\t\\tid: 'requested-apps',\\n\\t\\ticon: 'cube',\\n\\t\\tcontent: t('Requested'),\\n\\t\\tonClick: () => {\\n\\t\\t\\trouter.navigate('/marketplace/requested/list');\\n\\t\\t},\\n\\t\\taddon: (\\n\\t\\t\\t<>\\n\\t\\t\\t\\t{appRequestStats.isLoading && <Skeleton variant='circle' height={16} width={16} />}\\n\\t\\t\\t\\t{appRequestStats.isSuccess && appRequestStats.data.totalUnseen > 0 && (\\n\\t\\t\\t\\t\\t<Badge variant='primary'>{appRequestStats.data.totalUnseen}</Badge>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</>\\n\\t\\t),\\n\\t};\\n\\n\\treturn [\\n\\t\\t{\\n\\t\\t\\ttitle: t('Marketplace'),\\n\\t\\t\\titems: [\\n\\t\\t\\t\\t...(showMarketplace ? marketPlaceItems : []),\\n\\t\\t\\t\\t...(hasManageAppsPermission ? [appsManagementItem] : []),\\n\\t\\t\\t\\t...(appBoxItems.isSuccess ? appBoxItems.data : []),\\n\\t\\t\\t],\\n\\t\\t},\\n\\t];\\n};\\n\",null],\"names\":[\"Badge\",\"Skeleton\",\"useTranslation\",\"usePermission\",\"useRouter\",\"React\",\"useUserDropdownAppsActionButtons\",\"useAppRequestStats\",\"module\",\"export\",\"useMarketPlaceMenu\",\"link\",\"v\",\"default\",\"t\",\"appBoxItems\",\"hasManageAppsPermission\",\"hasAccessMarketplacePermission\",\"router\",\"appRequestStats\",\"marketPlaceItems\",\"id\",\"icon\",\"content\",\"onClick\",\"navigate\",\"appsManagementItem\",\"addon\",\"createElement\",\"Fragment\",\"isLoading\",\"variant\",\"height\",\"width\",\"isSuccess\",\"data\",\"totalUnseen\",\"title\",\"items\",\"showMarketplace\"],\"mappings\":\"2BAAwDA,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxDC,EAAOC,MAAE,CAAK,CAAAC,mBAAkBA,IAAAA,CAAwB,GAAAF,EAAAG,IAAA,CAAA,wBAAA,CAAAX,MAAAY,CAAA,EAAAZ,EAAAY,CAAA,EAAAX,SAAAW,CAAA,EAAAX,EAAAW,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,2BAAA,CAAAT,eAAAU,CAAA,EAAAV,EAAAU,CAAA,EAAAT,cAAAS,CAAA,EAAAT,EAAAS,CAAA,EAAAR,UAAAQ,CAAA,EAAAR,EAAAQ,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,QAAA,CAAAE,QAAAD,CAAA,EAAAP,EAAAO,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,qCAAA,CAAAL,iCAAAM,CAAA,EAAAN,EAAAM,CAAA,CAAA,EAAA,GAAAJ,EAAAG,IAAA,CAAA,sDAAA,CAAAJ,mBAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAQjD,IAAMF,EAAqBA,KACjC,IAAMI,EAAIZ,IAEJa,EAAcT,IAEdU,EAA0Bb,EAAc,eACxCc,EAAiCd,EAAc,sBAI/Ce,EAASd,IAETe,EAAkBZ,IAElBa,EAA2C,CAChD,CACCC,GAAI,UACJC,KAAM,UACNC,QAAST,EAAE,WACXU,QAASA,IAAMN,EAAOO,QAAQ,CAAC,8BAEhC,CACCJ,GAAI,YACJC,KAAM,oBACNC,QAAST,EAAE,aACXU,QAASA,IAAMN,EAAOO,QAAQ,CAAC,gCAEhC,CAEKC,EAA2C,CAChDL,GAAI,iBACJC,KAAM,OACNC,QAAST,EAAE,aACXU,QAASA,KACRN,EAAOO,QAAQ,CAAC,8BACjB,EACAE,MACCtB,EAAAuB,aAAA,CAAAvB,EAAAwB,QAAA,CAAA,KACEV,EAAgBW,SAAS,EAAIzB,EAAAuB,aAAA,CAAC3B,EAAQ,CAAC8B,QAAQ,SAASC,OAAQ,GAAIC,MAAO,EAAG,GAC9Ed,EAAgBe,SAAS,EAAIf,EAAgBgB,IAAI,CAACC,WAAW,CAAG,GAChE/B,EAAAuB,aAAA,CAAC5B,EAAK,CAAC+B,QAAQ,SAAS,EAAEZ,EAAgBgB,IAAI,CAACC,WAAmB,IAMtE,MAAO,CACN,CACCC,MAAOvB,EAAE,eACTwB,MAAO,IACFC,AA1CiBtB,GAAkCD,EA0CjCI,EAAmB,EAAE,IACvCJ,EAA0B,CAACU,EAAmB,CAAG,EAAE,IACnDX,EAAYmB,SAAS,CAAGnB,EAAYoB,IAAI,CAAG,EAAE,CAAC,EAGpD,AACF\"}"}